var FD=Object.defineProperty;var kD=(e,r,t)=>r in e?FD(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var ft=(e,r,t)=>kD(e,typeof r!="symbol"?r+"":r,t);function DD(e,r){for(var t=0;t<r.length;t++){const a=r[t];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var gZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function A5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nv={exports:{}},Eh={},Bv={exports:{}},ra={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q2;function UD(){if(Q2)return ra;Q2=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function m(k){return k===null||typeof k!="object"?null:(k=h&&k[h]||k["@@iterator"],typeof k=="function"?k:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,g={};function w(k,D,K){this.props=k,this.context=D,this.refs=g,this.updater=K||p}w.prototype.isReactComponent={},w.prototype.setState=function(k,D){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,D,"setState")},w.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function j(){}j.prototype=w.prototype;function N(k,D,K){this.props=k,this.context=D,this.refs=g,this.updater=K||p}var C=N.prototype=new j;C.constructor=N,x(C,w.prototype),C.isPureReactComponent=!0;var E=Array.isArray,Q=Object.prototype.hasOwnProperty,U={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function L(k,D,K){var te,Y={},X=null,O=null;if(D!=null)for(te in D.ref!==void 0&&(O=D.ref),D.key!==void 0&&(X=""+D.key),D)Q.call(D,te)&&!F.hasOwnProperty(te)&&(Y[te]=D[te]);var Z=arguments.length-2;if(Z===1)Y.children=K;else if(1<Z){for(var oe=Array(Z),pe=0;pe<Z;pe++)oe[pe]=arguments[pe+2];Y.children=oe}if(k&&k.defaultProps)for(te in Z=k.defaultProps,Z)Y[te]===void 0&&(Y[te]=Z[te]);return{$$typeof:e,type:k,key:X,ref:O,props:Y,_owner:U.current}}function _(k,D){return{$$typeof:e,type:k.type,key:D,ref:k.ref,props:k.props,_owner:k._owner}}function q(k){return typeof k=="object"&&k!==null&&k.$$typeof===e}function R(k){var D={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(K){return D[K]})}var H=/\/+/g;function J(k,D){return typeof k=="object"&&k!==null&&k.key!=null?R(""+k.key):D.toString(36)}function T(k,D,K,te,Y){var X=typeof k;(X==="undefined"||X==="boolean")&&(k=null);var O=!1;if(k===null)O=!0;else switch(X){case"string":case"number":O=!0;break;case"object":switch(k.$$typeof){case e:case r:O=!0}}if(O)return O=k,Y=Y(O),k=te===""?"."+J(O,0):te,E(Y)?(K="",k!=null&&(K=k.replace(H,"$&/")+"/"),T(Y,D,K,"",function(pe){return pe})):Y!=null&&(q(Y)&&(Y=_(Y,K+(!Y.key||O&&O.key===Y.key?"":(""+Y.key).replace(H,"$&/")+"/")+k)),D.push(Y)),1;if(O=0,te=te===""?".":te+":",E(k))for(var Z=0;Z<k.length;Z++){X=k[Z];var oe=te+J(X,Z);O+=T(X,D,K,oe,Y)}else if(oe=m(k),typeof oe=="function")for(k=oe.call(k),Z=0;!(X=k.next()).done;)X=X.value,oe=te+J(X,Z++),O+=T(X,D,K,oe,Y);else if(X==="object")throw D=String(k),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return O}function re(k,D,K){if(k==null)return k;var te=[],Y=0;return T(k,te,"","",function(X){return D.call(K,X,Y++)}),te}function z(k){if(k._status===-1){var D=k._result;D=D(),D.then(function(K){(k._status===0||k._status===-1)&&(k._status=1,k._result=K)},function(K){(k._status===0||k._status===-1)&&(k._status=2,k._result=K)}),k._status===-1&&(k._status=0,k._result=D)}if(k._status===1)return k._result.default;throw k._result}var G={current:null},V={transition:null},ee={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:V,ReactCurrentOwner:U};function ce(){throw Error("act(...) is not supported in production builds of React.")}return ra.Children={map:re,forEach:function(k,D,K){re(k,function(){D.apply(this,arguments)},K)},count:function(k){var D=0;return re(k,function(){D++}),D},toArray:function(k){return re(k,function(D){return D})||[]},only:function(k){if(!q(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},ra.Component=w,ra.Fragment=t,ra.Profiler=s,ra.PureComponent=N,ra.StrictMode=a,ra.Suspense=A,ra.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,ra.act=ce,ra.cloneElement=function(k,D,K){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var te=x({},k.props),Y=k.key,X=k.ref,O=k._owner;if(D!=null){if(D.ref!==void 0&&(X=D.ref,O=U.current),D.key!==void 0&&(Y=""+D.key),k.type&&k.type.defaultProps)var Z=k.type.defaultProps;for(oe in D)Q.call(D,oe)&&!F.hasOwnProperty(oe)&&(te[oe]=D[oe]===void 0&&Z!==void 0?Z[oe]:D[oe])}var oe=arguments.length-2;if(oe===1)te.children=K;else if(1<oe){Z=Array(oe);for(var pe=0;pe<oe;pe++)Z[pe]=arguments[pe+2];te.children=Z}return{$$typeof:e,type:k.type,key:Y,ref:X,props:te,_owner:O}},ra.createContext=function(k){return k={$$typeof:o,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:i,_context:k},k.Consumer=k},ra.createElement=L,ra.createFactory=function(k){var D=L.bind(null,k);return D.type=k,D},ra.createRef=function(){return{current:null}},ra.forwardRef=function(k){return{$$typeof:l,render:k}},ra.isValidElement=q,ra.lazy=function(k){return{$$typeof:f,_payload:{_status:-1,_result:k},_init:z}},ra.memo=function(k,D){return{$$typeof:d,type:k,compare:D===void 0?null:D}},ra.startTransition=function(k){var D=V.transition;V.transition={};try{k()}finally{V.transition=D}},ra.unstable_act=ce,ra.useCallback=function(k,D){return G.current.useCallback(k,D)},ra.useContext=function(k){return G.current.useContext(k)},ra.useDebugValue=function(){},ra.useDeferredValue=function(k){return G.current.useDeferredValue(k)},ra.useEffect=function(k,D){return G.current.useEffect(k,D)},ra.useId=function(){return G.current.useId()},ra.useImperativeHandle=function(k,D,K){return G.current.useImperativeHandle(k,D,K)},ra.useInsertionEffect=function(k,D){return G.current.useInsertionEffect(k,D)},ra.useLayoutEffect=function(k,D){return G.current.useLayoutEffect(k,D)},ra.useMemo=function(k,D){return G.current.useMemo(k,D)},ra.useReducer=function(k,D,K){return G.current.useReducer(k,D,K)},ra.useRef=function(k){return G.current.useRef(k)},ra.useState=function(k){return G.current.useState(k)},ra.useSyncExternalStore=function(k,D,K){return G.current.useSyncExternalStore(k,D,K)},ra.useTransition=function(){return G.current.useTransition()},ra.version="18.3.1",ra}var R2;function Q0(){return R2||(R2=1,Bv.exports=UD()),Bv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T2;function LD(){if(T2)return Eh;T2=1;var e=Q0(),r=Symbol.for("react.element"),t=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,A,d){var f,h={},m=null,p=null;d!==void 0&&(m=""+d),A.key!==void 0&&(m=""+A.key),A.ref!==void 0&&(p=A.ref);for(f in A)a.call(A,f)&&!i.hasOwnProperty(f)&&(h[f]=A[f]);if(l&&l.defaultProps)for(f in A=l.defaultProps,A)h[f]===void 0&&(h[f]=A[f]);return{$$typeof:r,type:l,key:m,ref:p,props:h,_owner:s.current}}return Eh.Fragment=t,Eh.jsx=o,Eh.jsxs=o,Eh}var M2;function ID(){return M2||(M2=1,Nv.exports=LD()),Nv.exports}var n=ID(),Sp={},Cv={exports:{}},Hi={},Sv={exports:{}},_v={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O2;function PD(){return O2||(O2=1,(function(e){function r(V,ee){var ce=V.length;V.push(ee);e:for(;0<ce;){var k=ce-1>>>1,D=V[k];if(0<s(D,ee))V[k]=ee,V[ce]=D,ce=k;else break e}}function t(V){return V.length===0?null:V[0]}function a(V){if(V.length===0)return null;var ee=V[0],ce=V.pop();if(ce!==ee){V[0]=ce;e:for(var k=0,D=V.length,K=D>>>1;k<K;){var te=2*(k+1)-1,Y=V[te],X=te+1,O=V[X];if(0>s(Y,ce))X<D&&0>s(O,Y)?(V[k]=O,V[X]=ce,k=X):(V[k]=Y,V[te]=ce,k=te);else if(X<D&&0>s(O,ce))V[k]=O,V[X]=ce,k=X;else break e}}return ee}function s(V,ee){var ce=V.sortIndex-ee.sortIndex;return ce!==0?ce:V.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var A=[],d=[],f=1,h=null,m=3,p=!1,x=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(V){for(var ee=t(d);ee!==null;){if(ee.callback===null)a(d);else if(ee.startTime<=V)a(d),ee.sortIndex=ee.expirationTime,r(A,ee);else break;ee=t(d)}}function E(V){if(g=!1,C(V),!x)if(t(A)!==null)x=!0,z(Q);else{var ee=t(d);ee!==null&&G(E,ee.startTime-V)}}function Q(V,ee){x=!1,g&&(g=!1,j(L),L=-1),p=!0;var ce=m;try{for(C(ee),h=t(A);h!==null&&(!(h.expirationTime>ee)||V&&!R());){var k=h.callback;if(typeof k=="function"){h.callback=null,m=h.priorityLevel;var D=k(h.expirationTime<=ee);ee=e.unstable_now(),typeof D=="function"?h.callback=D:h===t(A)&&a(A),C(ee)}else a(A);h=t(A)}if(h!==null)var K=!0;else{var te=t(d);te!==null&&G(E,te.startTime-ee),K=!1}return K}finally{h=null,m=ce,p=!1}}var U=!1,F=null,L=-1,_=5,q=-1;function R(){return!(e.unstable_now()-q<_)}function H(){if(F!==null){var V=e.unstable_now();q=V;var ee=!0;try{ee=F(!0,V)}finally{ee?J():(U=!1,F=null)}}else U=!1}var J;if(typeof N=="function")J=function(){N(H)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,re=T.port2;T.port1.onmessage=H,J=function(){re.postMessage(null)}}else J=function(){w(H,0)};function z(V){F=V,U||(U=!0,J())}function G(V,ee){L=w(function(){V(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,z(Q))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return t(A)},e.unstable_next=function(V){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var ce=m;m=ee;try{return V()}finally{m=ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,ee){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ce=m;m=V;try{return ee()}finally{m=ce}},e.unstable_scheduleCallback=function(V,ee,ce){var k=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?k+ce:k):ce=k,V){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ce+D,V={id:f++,callback:ee,priorityLevel:V,startTime:ce,expirationTime:D,sortIndex:-1},ce>k?(V.sortIndex=ce,r(d,V),t(A)===null&&V===t(d)&&(g?(j(L),L=-1):g=!0,G(E,ce-k))):(V.sortIndex=D,r(A,V),x||p||(x=!0,z(Q))),V},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(V){var ee=m;return function(){var ce=m;m=ee;try{return V.apply(this,arguments)}finally{m=ce}}}})(_v)),_v}var H2;function QD(){return H2||(H2=1,Sv.exports=PD()),Sv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2;function RD(){if($2)return Hi;$2=1;var e=Q0(),r=QD();function t(c){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+c,v=1;v<arguments.length;v++)u+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(c,u){o(c,u),o(c+"Capture",u)}function o(c,u){for(s[c]=u,c=0;c<u.length;c++)a.add(u[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),A=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(c){return A.call(h,c)?!0:A.call(f,c)?!1:d.test(c)?h[c]=!0:(f[c]=!0,!1)}function p(c,u,v,B){if(v!==null&&v.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return B?!1:v!==null?!v.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function x(c,u,v,B){if(u===null||typeof u>"u"||p(c,u,v,B))return!0;if(B)return!1;if(v!==null)switch(v.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function g(c,u,v,B,P,$,se){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=B,this.attributeNamespace=P,this.mustUseProperty=v,this.propertyName=c,this.type=u,this.sanitizeURL=$,this.removeEmptyString=se}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){w[c]=new g(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var u=c[0];w[u]=new g(u,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){w[c]=new g(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){w[c]=new g(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){w[c]=new g(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){w[c]=new g(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){w[c]=new g(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){w[c]=new g(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){w[c]=new g(c,5,!1,c.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function N(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var u=c.replace(j,N);w[u]=new g(u,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var u=c.replace(j,N);w[u]=new g(u,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var u=c.replace(j,N);w[u]=new g(u,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){w[c]=new g(c,1,!1,c.toLowerCase(),null,!1,!1)}),w.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){w[c]=new g(c,1,!1,c.toLowerCase(),null,!0,!0)});function C(c,u,v,B){var P=w.hasOwnProperty(u)?w[u]:null;(P!==null?P.type!==0:B||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(x(u,v,P,B)&&(v=null),B||P===null?m(u)&&(v===null?c.removeAttribute(u):c.setAttribute(u,""+v)):P.mustUseProperty?c[P.propertyName]=v===null?P.type===3?!1:"":v:(u=P.attributeName,B=P.attributeNamespace,v===null?c.removeAttribute(u):(P=P.type,v=P===3||P===4&&v===!0?"":""+v,B?c.setAttributeNS(B,u,v):c.setAttribute(u,v))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),U=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),R=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),V=Symbol.iterator;function ee(c){return c===null||typeof c!="object"?null:(c=V&&c[V]||c["@@iterator"],typeof c=="function"?c:null)}var ce=Object.assign,k;function D(c){if(k===void 0)try{throw Error()}catch(v){var u=v.stack.trim().match(/\n( *(at )?)/);k=u&&u[1]||""}return`
`+k+c}var K=!1;function te(c,u){if(!c||K)return"";K=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Te){var B=Te}Reflect.construct(c,[],u)}else{try{u.call()}catch(Te){B=Te}c.call(u.prototype)}else{try{throw Error()}catch(Te){B=Te}c()}}catch(Te){if(Te&&B&&typeof Te.stack=="string"){for(var P=Te.stack.split(`
`),$=B.stack.split(`
`),se=P.length-1,ve=$.length-1;1<=se&&0<=ve&&P[se]!==$[ve];)ve--;for(;1<=se&&0<=ve;se--,ve--)if(P[se]!==$[ve]){if(se!==1||ve!==1)do if(se--,ve--,0>ve||P[se]!==$[ve]){var Ne=`
`+P[se].replace(" at new "," at ");return c.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",c.displayName)),Ne}while(1<=se&&0<=ve);break}}}finally{K=!1,Error.prepareStackTrace=v}return(c=c?c.displayName||c.name:"")?D(c):""}function Y(c){switch(c.tag){case 5:return D(c.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return c=te(c.type,!1),c;case 11:return c=te(c.type.render,!1),c;case 1:return c=te(c.type,!0),c;default:return""}}function X(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case F:return"Fragment";case U:return"Portal";case _:return"Profiler";case L:return"StrictMode";case J:return"Suspense";case T:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case R:return(c.displayName||"Context")+".Consumer";case q:return(c._context.displayName||"Context")+".Provider";case H:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case re:return u=c.displayName||null,u!==null?u:X(c.type)||"Memo";case z:u=c._payload,c=c._init;try{return X(c(u))}catch{}}return null}function O(c){var u=c.type;switch(c.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=u.render,c=c.displayName||c.name||"",u.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X(u);case 8:return u===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Z(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function oe(c){var u=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function pe(c){var u=oe(c)?"checked":"value",v=Object.getOwnPropertyDescriptor(c.constructor.prototype,u),B=""+c[u];if(!c.hasOwnProperty(u)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var P=v.get,$=v.set;return Object.defineProperty(c,u,{configurable:!0,get:function(){return P.call(this)},set:function(se){B=""+se,$.call(this,se)}}),Object.defineProperty(c,u,{enumerable:v.enumerable}),{getValue:function(){return B},setValue:function(se){B=""+se},stopTracking:function(){c._valueTracker=null,delete c[u]}}}}function xe(c){c._valueTracker||(c._valueTracker=pe(c))}function _e(c){if(!c)return!1;var u=c._valueTracker;if(!u)return!0;var v=u.getValue(),B="";return c&&(B=oe(c)?c.checked?"true":"false":c.value),c=B,c!==v?(u.setValue(c),!0):!1}function Fe(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function he(c,u){var v=u.checked;return ce({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??c._wrapperState.initialChecked})}function Ae(c,u){var v=u.defaultValue==null?"":u.defaultValue,B=u.checked!=null?u.checked:u.defaultChecked;v=Z(u.value!=null?u.value:v),c._wrapperState={initialChecked:B,initialValue:v,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function ct(c,u){u=u.checked,u!=null&&C(c,"checked",u,!1)}function gt(c,u){ct(c,u);var v=Z(u.value),B=u.type;if(v!=null)B==="number"?(v===0&&c.value===""||c.value!=v)&&(c.value=""+v):c.value!==""+v&&(c.value=""+v);else if(B==="submit"||B==="reset"){c.removeAttribute("value");return}u.hasOwnProperty("value")?Se(c,u.type,v):u.hasOwnProperty("defaultValue")&&Se(c,u.type,Z(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(c.defaultChecked=!!u.defaultChecked)}function pt(c,u,v){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var B=u.type;if(!(B!=="submit"&&B!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+c._wrapperState.initialValue,v||u===c.value||(c.value=u),c.defaultValue=u}v=c.name,v!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,v!==""&&(c.name=v)}function Se(c,u,v){(u!=="number"||Fe(c.ownerDocument)!==c)&&(v==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+v&&(c.defaultValue=""+v))}var it=Array.isArray;function Ke(c,u,v,B){if(c=c.options,u){u={};for(var P=0;P<v.length;P++)u["$"+v[P]]=!0;for(v=0;v<c.length;v++)P=u.hasOwnProperty("$"+c[v].value),c[v].selected!==P&&(c[v].selected=P),P&&B&&(c[v].defaultSelected=!0)}else{for(v=""+Z(v),u=null,P=0;P<c.length;P++){if(c[P].value===v){c[P].selected=!0,B&&(c[P].defaultSelected=!0);return}u!==null||c[P].disabled||(u=c[P])}u!==null&&(u.selected=!0)}}function Ct(c,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return ce({},u,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function jt(c,u){var v=u.value;if(v==null){if(v=u.children,u=u.defaultValue,v!=null){if(u!=null)throw Error(t(92));if(it(v)){if(1<v.length)throw Error(t(93));v=v[0]}u=v}u==null&&(u=""),v=u}c._wrapperState={initialValue:Z(v)}}function ur(c,u){var v=Z(u.value),B=Z(u.defaultValue);v!=null&&(v=""+v,v!==c.value&&(c.value=v),u.defaultValue==null&&c.defaultValue!==v&&(c.defaultValue=v)),B!=null&&(c.defaultValue=""+B)}function Mt(c){var u=c.textContent;u===c._wrapperState.initialValue&&u!==""&&u!==null&&(c.value=u)}function zt(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Or(c,u){return c==null||c==="http://www.w3.org/1999/xhtml"?zt(u):c==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var $t,_t=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,v,B,P){MSApp.execUnsafeLocalFunction(function(){return c(u,v,B,P)})}:c})(function(c,u){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=u;else{for($t=$t||document.createElement("div"),$t.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=$t.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;u.firstChild;)c.appendChild(u.firstChild)}});function Et(c,u){if(u){var v=c.firstChild;if(v&&v===c.lastChild&&v.nodeType===3){v.nodeValue=u;return}}c.textContent=u}var Dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ia=["Webkit","ms","Moz","O"];Object.keys(Dt).forEach(function(c){ia.forEach(function(u){u=u+c.charAt(0).toUpperCase()+c.substring(1),Dt[u]=Dt[c]})});function Qr(c,u,v){return u==null||typeof u=="boolean"||u===""?"":v||typeof u!="number"||u===0||Dt.hasOwnProperty(c)&&Dt[c]?(""+u).trim():u+"px"}function Ot(c,u){c=c.style;for(var v in u)if(u.hasOwnProperty(v)){var B=v.indexOf("--")===0,P=Qr(v,u[v],B);v==="float"&&(v="cssFloat"),B?c.setProperty(v,P):c[v]=P}}var wr=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dr(c,u){if(u){if(wr[c]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,c));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function wt(c,u){if(c.indexOf("-")===-1)return typeof u.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hr=null;function ir(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Ht=null,ka=null,et=null;function Xe(c){if(c=kA(c)){if(typeof Ht!="function")throw Error(t(280));var u=c.stateNode;u&&(u=Md(u),Ht(c.stateNode,c.type,u))}}function nt(c){ka?et?et.push(c):et=[c]:ka=c}function _r(){if(ka){var c=ka,u=et;if(et=ka=null,Xe(c),u)for(c=0;c<u.length;c++)Xe(u[c])}}function vt(c,u){return c(u)}function Zt(){}var oa=!1;function Xt(c,u,v){if(oa)return c(u,v);oa=!0;try{return vt(c,u,v)}finally{oa=!1,(ka!==null||et!==null)&&(Zt(),_r())}}function Nn(c,u){var v=c.stateNode;if(v===null)return null;var B=Md(v);if(B===null)return null;v=B[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(B=!B.disabled)||(c=c.type,B=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!B;break e;default:c=!1}if(c)return null;if(v&&typeof v!="function")throw Error(t(231,u,typeof v));return v}var gs=!1;if(l)try{var hn={};Object.defineProperty(hn,"passive",{get:function(){gs=!0}}),window.addEventListener("test",hn,hn),window.removeEventListener("test",hn,hn)}catch{gs=!1}function is(c,u,v,B,P,$,se,ve,Ne){var Te=Array.prototype.slice.call(arguments,3);try{u.apply(v,Te)}catch(ut){this.onError(ut)}}var dt=!1,za=null,Ya=!1,Ns=null,fi={onError:function(c){dt=!0,za=c}};function Xa(c,u,v,B,P,$,se,ve,Ne){dt=!1,za=null,is.apply(fi,arguments)}function Oe(c,u,v,B,P,$,se,ve,Ne){if(Xa.apply(this,arguments),dt){if(dt){var Te=za;dt=!1,za=null}else throw Error(t(198));Ya||(Ya=!0,Ns=Te)}}function Ze(c){var u=c,v=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,(u.flags&4098)!==0&&(v=u.return),c=u.return;while(c)}return u.tag===3?v:null}function St(c){if(c.tag===13){var u=c.memoizedState;if(u===null&&(c=c.alternate,c!==null&&(u=c.memoizedState)),u!==null)return u.dehydrated}return null}function st(c){if(Ze(c)!==c)throw Error(t(188))}function Nt(c){var u=c.alternate;if(!u){if(u=Ze(c),u===null)throw Error(t(188));return u!==c?null:c}for(var v=c,B=u;;){var P=v.return;if(P===null)break;var $=P.alternate;if($===null){if(B=P.return,B!==null){v=B;continue}break}if(P.child===$.child){for($=P.child;$;){if($===v)return st(P),c;if($===B)return st(P),u;$=$.sibling}throw Error(t(188))}if(v.return!==B.return)v=P,B=$;else{for(var se=!1,ve=P.child;ve;){if(ve===v){se=!0,v=P,B=$;break}if(ve===B){se=!0,B=P,v=$;break}ve=ve.sibling}if(!se){for(ve=$.child;ve;){if(ve===v){se=!0,v=$,B=P;break}if(ve===B){se=!0,B=$,v=P;break}ve=ve.sibling}if(!se)throw Error(t(189))}}if(v.alternate!==B)throw Error(t(190))}if(v.tag!==3)throw Error(t(188));return v.stateNode.current===v?c:u}function cr(c){return c=Nt(c),c!==null?Ar(c):null}function Ar(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var u=Ar(c);if(u!==null)return u;c=c.sibling}return null}var Hr=r.unstable_scheduleCallback,Yr=r.unstable_cancelCallback,Qt=r.unstable_shouldYield,ja=r.unstable_requestPaint,er=r.unstable_now,Na=r.unstable_getCurrentPriorityLevel,Rr=r.unstable_ImmediatePriority,Ur=r.unstable_UserBlockingPriority,Vt=r.unstable_NormalPriority,Vr=r.unstable_LowPriority,on=r.unstable_IdlePriority,Rs=null,Bn=null;function Wo(c){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(Rs,c,void 0,(c.current.flags&128)===128)}catch{}}var Ba=Math.clz32?Math.clz32:wc,Go=Math.log,ln=Math.LN2;function wc(c){return c>>>=0,c===0?32:31-(Go(c)/ln|0)|0}var xo=64,mt=4194304;function We(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Xr(c,u){var v=c.pendingLanes;if(v===0)return 0;var B=0,P=c.suspendedLanes,$=c.pingedLanes,se=v&268435455;if(se!==0){var ve=se&~P;ve!==0?B=We(ve):($&=se,$!==0&&(B=We($)))}else se=v&~P,se!==0?B=We(se):$!==0&&(B=We($));if(B===0)return 0;if(u!==0&&u!==B&&(u&P)===0&&(P=B&-B,$=u&-u,P>=$||P===16&&($&4194240)!==0))return u;if((B&4)!==0&&(B|=v&16),u=c.entangledLanes,u!==0)for(c=c.entanglements,u&=B;0<u;)v=31-Ba(u),P=1<<v,B|=c[v],u&=~P;return B}function yt(c,u){switch(c){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aa(c,u){for(var v=c.suspendedLanes,B=c.pingedLanes,P=c.expirationTimes,$=c.pendingLanes;0<$;){var se=31-Ba($),ve=1<<se,Ne=P[se];Ne===-1?((ve&v)===0||(ve&B)!==0)&&(P[se]=yt(ve,u)):Ne<=u&&(c.expiredLanes|=ve),$&=~ve}}function ma(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Cn(){var c=xo;return xo<<=1,(xo&4194240)===0&&(xo=64),c}function Jr(c){for(var u=[],v=0;31>v;v++)u.push(c);return u}function cn(c,u,v){c.pendingLanes|=u,u!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,u=31-Ba(u),c[u]=v}function Ca(c,u){var v=c.pendingLanes&~u;c.pendingLanes=u,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=u,c.mutableReadLanes&=u,c.entangledLanes&=u,u=c.entanglements;var B=c.eventTimes;for(c=c.expirationTimes;0<v;){var P=31-Ba(v),$=1<<P;u[P]=0,B[P]=-1,c[P]=-1,v&=~$}}function Yi(c,u){var v=c.entangledLanes|=u;for(c=c.entanglements;v;){var B=31-Ba(v),P=1<<B;P&u|c[B]&u&&(c[B]|=u),v&=~P}}var la=0;function mn(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var pA,jd,_u,Eu,gA,Yo=!1,Xi=[],vo=null,Vs=null,Ei=null,yr=new Map,yc=new Map,wo=[],nh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fu(c,u){switch(c){case"focusin":case"focusout":vo=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":yr.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(u.pointerId)}}function hi(c,u,v,B,P,$){return c===null||c.nativeEvent!==$?(c={blockedOn:u,domEventName:v,eventSystemFlags:B,nativeEvent:$,targetContainers:[P]},u!==null&&(u=kA(u),u!==null&&jd(u)),c):(c.eventSystemFlags|=B,u=c.targetContainers,P!==null&&u.indexOf(P)===-1&&u.push(P),c)}function Xo(c,u,v,B,P){switch(u){case"focusin":return vo=hi(vo,c,u,v,B,P),!0;case"dragenter":return Vs=hi(Vs,c,u,v,B,P),!0;case"mouseover":return Ei=hi(Ei,c,u,v,B,P),!0;case"pointerover":var $=P.pointerId;return yr.set($,hi(yr.get($)||null,c,u,v,B,P)),!0;case"gotpointercapture":return $=P.pointerId,yc.set($,hi(yc.get($)||null,c,u,v,B,P)),!0}return!1}function ku(c){var u=Rl(c.target);if(u!==null){var v=Ze(u);if(v!==null){if(u=v.tag,u===13){if(u=St(v),u!==null){c.blockedOn=u,gA(c.priority,function(){_u(v)});return}}else if(u===3&&v.stateNode.current.memoizedState.isDehydrated){c.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}c.blockedOn=null}function xA(c){if(c.blockedOn!==null)return!1;for(var u=c.targetContainers;0<u.length;){var v=jc(c.domEventName,c.eventSystemFlags,u[0],c.nativeEvent);if(v===null){v=c.nativeEvent;var B=new v.constructor(v.type,v);hr=B,v.target.dispatchEvent(B),hr=null}else return u=kA(v),u!==null&&jd(u),c.blockedOn=v,!1;u.shift()}return!0}function bc(c,u,v){xA(c)&&v.delete(u)}function Nd(){Yo=!1,vo!==null&&xA(vo)&&(vo=null),Vs!==null&&xA(Vs)&&(Vs=null),Ei!==null&&xA(Ei)&&(Ei=null),yr.forEach(bc),yc.forEach(bc)}function Ji(c,u){c.blockedOn===u&&(c.blockedOn=null,Yo||(Yo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Nd)))}function yo(c){function u(P){return Ji(P,c)}if(0<Xi.length){Ji(Xi[0],c);for(var v=1;v<Xi.length;v++){var B=Xi[v];B.blockedOn===c&&(B.blockedOn=null)}}for(vo!==null&&Ji(vo,c),Vs!==null&&Ji(Vs,c),Ei!==null&&Ji(Ei,c),yr.forEach(u),yc.forEach(u),v=0;v<wo.length;v++)B=wo[v],B.blockedOn===c&&(B.blockedOn=null);for(;0<wo.length&&(v=wo[0],v.blockedOn===null);)ku(v),v.blockedOn===null&&wo.shift()}var Zi=E.ReactCurrentBatchConfig,vA=!0;function Bd(c,u,v,B){var P=la,$=Zi.transition;Zi.transition=null;try{la=1,Jo(c,u,v,B)}finally{la=P,Zi.transition=$}}function Cd(c,u,v,B){var P=la,$=Zi.transition;Zi.transition=null;try{la=4,Jo(c,u,v,B)}finally{la=P,Zi.transition=$}}function Jo(c,u,v,B){if(vA){var P=jc(c,u,v,B);if(P===null)Qd(c,u,B,bo,v),Fu(c,B);else if(Xo(P,c,u,v,B))B.stopPropagation();else if(Fu(c,B),u&4&&-1<nh.indexOf(c)){for(;P!==null;){var $=kA(P);if($!==null&&pA($),$=jc(c,u,v,B),$===null&&Qd(c,u,B,bo,v),$===P)break;P=$}P!==null&&B.stopPropagation()}else Qd(c,u,B,null,v)}}var bo=null;function jc(c,u,v,B){if(bo=null,c=ir(B),c=Rl(c),c!==null)if(u=Ze(c),u===null)c=null;else if(v=u.tag,v===13){if(c=St(u),c!==null)return c;c=null}else if(v===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;c=null}else u!==c&&(c=null);return bo=c,null}function Nc(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Na()){case Rr:return 1;case Ur:return 4;case Vt:case Vr:return 16;case on:return 536870912;default:return 16}default:return 16}}var Fi=null,Zo=null,Bc=null;function Sd(){if(Bc)return Bc;var c,u=Zo,v=u.length,B,P="value"in Fi?Fi.value:Fi.textContent,$=P.length;for(c=0;c<v&&u[c]===P[c];c++);var se=v-c;for(B=1;B<=se&&u[v-B]===P[$-B];B++);return Bc=P.slice(c,1<B?1-B:void 0)}function ki(c){var u=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&u===13&&(c=13)):c=u,c===10&&(c=13),32<=c||c===13?c:0}function Di(){return!0}function _d(){return!1}function Bs(c){function u(v,B,P,$,se){this._reactName=v,this._targetInst=P,this.type=B,this.nativeEvent=$,this.target=se,this.currentTarget=null;for(var ve in c)c.hasOwnProperty(ve)&&(v=c[ve],this[ve]=v?v($):$[ve]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Di:_d,this.isPropagationStopped=_d,this}return ce(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),u}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wA=Bs(Ui),I=ce({},Ui,{view:0,detail:0}),ne=Bs(I),ge,be,Ee,Je=ce({},I,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:El,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Ee&&(Ee&&c.type==="mousemove"?(ge=c.screenX-Ee.screenX,be=c.screenY-Ee.screenY):be=ge=0,Ee=c),ge)},movementY:function(c){return"movementY"in c?c.movementY:be}}),ot=Bs(Je),qt=ce({},Je,{dataTransfer:0}),tr=Bs(qt),Br=ce({},I,{relatedTarget:0}),Cr=Bs(Br),pa=ce({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),An=Bs(pa),In=ce({},Ui,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Va=Bs(In),Kn=ce({},Ui,{data:0}),Sn=Bs(Kn),xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Li={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(c){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(c):(c=qs[c])?!!u[c]:!1}function El(){return Du}var Cc=ce({},I,{key:function(c){if(c.key){var u=xs[c.key]||c.key;if(u!=="Unidentified")return u}return c.type==="keypress"?(c=ki(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Li[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:El,charCode:function(c){return c.type==="keypress"?ki(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?ki(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Fl=Bs(Cc),Sc=ce({},Je,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kl=Bs(Sc),_c=ce({},I,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:El}),Cs=Bs(_c),Ec=ce({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fc=Bs(Ec),Ed=ce({},Je,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Fd=Bs(Ed),pn=[9,13,27,32],eo=l&&"CompositionEvent"in window,jo=null;l&&"documentMode"in document&&(jo=document.documentMode);var Uu=l&&"TextEvent"in window&&!jo,mi=l&&(!eo||jo&&8<jo&&11>=jo),Dl=" ",yA=!1;function bA(c,u){switch(c){case"keyup":return pn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function el(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Ii=!1;function pi(c,u){switch(c){case"compositionend":return el(u);case"keypress":return u.which!==32?null:(yA=!0,Dl);case"textInput":return c=u.data,c===Dl&&yA?null:c;default:return null}}function gi(c,u){if(Ii)return c==="compositionend"||!eo&&bA(c,u)?(c=Sd(),Bc=Zo=Fi=null,Ii=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return mi&&u.locale!=="ko"?null:u.data;default:return null}}var Ul={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function No(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u==="input"?!!Ul[c.type]:u==="textarea"}function tl(c,u,v,B){nt(B),u=Ru(u,"onChange"),0<u.length&&(v=new wA("onChange","change",null,v,B),c.push({event:v,listeners:u}))}var rl=null,Bo=null;function _n(c){Id(c,0)}function kc(c){var u=Oc(c);if(_e(u))return c}function Co(c,u){if(c==="change")return u}var to=!1;if(l){var Dc;if(l){var Uc="oninput"in document;if(!Uc){var jA=document.createElement("div");jA.setAttribute("oninput","return;"),Uc=typeof jA.oninput=="function"}Dc=Uc}else Dc=!1;to=Dc&&(!document.documentMode||9<document.documentMode)}function NA(){rl&&(rl.detachEvent("onpropertychange",al),Bo=rl=null)}function al(c){if(c.propertyName==="value"&&kc(Bo)){var u=[];tl(u,Bo,c,ir(c)),Xt(_n,u)}}function Ll(c,u,v){c==="focusin"?(NA(),rl=u,Bo=v,rl.attachEvent("onpropertychange",al)):c==="focusout"&&NA()}function Il(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return kc(Bo)}function Lc(c,u){if(c==="click")return kc(u)}function Pl(c,u){if(c==="input"||c==="change")return kc(u)}function Ic(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var gn=typeof Object.is=="function"?Object.is:Ic;function Ws(c,u){if(gn(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var v=Object.keys(c),B=Object.keys(u);if(v.length!==B.length)return!1;for(B=0;B<v.length;B++){var P=v[B];if(!A.call(u,P)||!gn(c[P],u[P]))return!1}return!0}function ga(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Da(c,u){var v=ga(c);c=0;for(var B;v;){if(v.nodeType===3){if(B=c+v.textContent.length,c<=u&&B>=u)return{node:v,offset:u-c};c=B}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=ga(v)}}function xn(c,u){return c&&u?c===u?!0:c&&c.nodeType===3?!1:u&&u.nodeType===3?xn(c,u.parentNode):"contains"in c?c.contains(u):c.compareDocumentPosition?!!(c.compareDocumentPosition(u)&16):!1:!1}function Pn(){for(var c=window,u=Fe();u instanceof c.HTMLIFrameElement;){try{var v=typeof u.contentWindow.location.href=="string"}catch{v=!1}if(v)c=u.contentWindow;else break;u=Fe(c.document)}return u}function ro(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u&&(u==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||u==="textarea"||c.contentEditable==="true")}function kd(c){var u=Pn(),v=c.focusedElem,B=c.selectionRange;if(u!==v&&v&&v.ownerDocument&&xn(v.ownerDocument.documentElement,v)){if(B!==null&&ro(v)){if(u=B.start,c=B.end,c===void 0&&(c=u),"selectionStart"in v)v.selectionStart=u,v.selectionEnd=Math.min(c,v.value.length);else if(c=(u=v.ownerDocument||document)&&u.defaultView||window,c.getSelection){c=c.getSelection();var P=v.textContent.length,$=Math.min(B.start,P);B=B.end===void 0?$:Math.min(B.end,P),!c.extend&&$>B&&(P=B,B=$,$=P),P=Da(v,$);var se=Da(v,B);P&&se&&(c.rangeCount!==1||c.anchorNode!==P.node||c.anchorOffset!==P.offset||c.focusNode!==se.node||c.focusOffset!==se.offset)&&(u=u.createRange(),u.setStart(P.node,P.offset),c.removeAllRanges(),$>B?(c.addRange(u),c.extend(se.node,se.offset)):(u.setEnd(se.node,se.offset),c.addRange(u)))}}for(u=[],c=v;c=c.parentNode;)c.nodeType===1&&u.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<u.length;v++)c=u[v],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var BA=l&&"documentMode"in document&&11>=document.documentMode,nl=null,Lu=null,CA=null,Iu=!1;function sh(c,u,v){var B=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;Iu||nl==null||nl!==Fe(B)||(B=nl,"selectionStart"in B&&ro(B)?B={start:B.selectionStart,end:B.selectionEnd}:(B=(B.ownerDocument&&B.ownerDocument.defaultView||window).getSelection(),B={anchorNode:B.anchorNode,anchorOffset:B.anchorOffset,focusNode:B.focusNode,focusOffset:B.focusOffset}),CA&&Ws(CA,B)||(CA=B,B=Ru(Lu,"onSelect"),0<B.length&&(u=new wA("onSelect","select",null,u,v),c.push({event:u,listeners:B}),u.target=nl)))}function Dd(c,u){var v={};return v[c.toLowerCase()]=u.toLowerCase(),v["Webkit"+c]="webkit"+u,v["Moz"+c]="moz"+u,v}var Pc={animationend:Dd("Animation","AnimationEnd"),animationiteration:Dd("Animation","AnimationIteration"),animationstart:Dd("Animation","AnimationStart"),transitionend:Dd("Transition","TransitionEnd")},Qc={},ih={};l&&(ih=document.createElement("div").style,"AnimationEvent"in window||(delete Pc.animationend.animation,delete Pc.animationiteration.animation,delete Pc.animationstart.animation),"TransitionEvent"in window||delete Pc.transitionend.transition);function Ud(c){if(Qc[c])return Qc[c];if(!Pc[c])return c;var u=Pc[c],v;for(v in u)if(u.hasOwnProperty(v)&&v in ih)return Qc[c]=u[v];return c}var oh=Ud("animationend"),lh=Ud("animationiteration"),ch=Ud("animationstart"),Ah=Ud("transitionend"),dh=new Map,uh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function So(c,u){dh.set(c,u),i(u,[c])}for(var SA=0;SA<uh.length;SA++){var Ts=uh[SA],Pi=Ts.toLowerCase(),Pu=Ts[0].toUpperCase()+Ts.slice(1);So(Pi,"on"+Pu)}So(oh,"onAnimationEnd"),So(lh,"onAnimationIteration"),So(ch,"onAnimationStart"),So("dblclick","onDoubleClick"),So("focusin","onFocus"),So("focusout","onBlur"),So(Ah,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function Ld(c,u,v){var B=c.type||"unknown-event";c.currentTarget=v,Oe(B,u,void 0,c),c.currentTarget=null}function Id(c,u){u=(u&4)!==0;for(var v=0;v<c.length;v++){var B=c[v],P=B.event;B=B.listeners;e:{var $=void 0;if(u)for(var se=B.length-1;0<=se;se--){var ve=B[se],Ne=ve.instance,Te=ve.currentTarget;if(ve=ve.listener,Ne!==$&&P.isPropagationStopped())break e;Ld(P,ve,Te),$=Ne}else for(se=0;se<B.length;se++){if(ve=B[se],Ne=ve.instance,Te=ve.currentTarget,ve=ve.listener,Ne!==$&&P.isPropagationStopped())break e;Ld(P,ve,Te),$=Ne}}}if(Ya)throw c=Ns,Ya=!1,Ns=null,c}function Ra(c,u){var v=u[Ys];v===void 0&&(v=u[Ys]=new Set);var B=c+"__bubble";v.has(B)||(Pd(u,c,2,!1),v.add(B))}function Qu(c,u,v){var B=0;u&&(B|=4),Pd(v,c,B,u)}var _A="_reactListening"+Math.random().toString(36).slice(2);function Rc(c){if(!c[_A]){c[_A]=!0,a.forEach(function(v){v!=="selectionchange"&&(qm.has(v)||Qu(v,!1,c),Qu(v,!0,c))});var u=c.nodeType===9?c:c.ownerDocument;u===null||u[_A]||(u[_A]=!0,Qu("selectionchange",!1,u))}}function Pd(c,u,v,B){switch(Nc(u)){case 1:var P=Bd;break;case 4:P=Cd;break;default:P=Jo}v=P.bind(null,u,v,c),P=void 0,!gs||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(P=!0),B?P!==void 0?c.addEventListener(u,v,{capture:!0,passive:P}):c.addEventListener(u,v,!0):P!==void 0?c.addEventListener(u,v,{passive:P}):c.addEventListener(u,v,!1)}function Qd(c,u,v,B,P){var $=B;if((u&1)===0&&(u&2)===0&&B!==null)e:for(;;){if(B===null)return;var se=B.tag;if(se===3||se===4){var ve=B.stateNode.containerInfo;if(ve===P||ve.nodeType===8&&ve.parentNode===P)break;if(se===4)for(se=B.return;se!==null;){var Ne=se.tag;if((Ne===3||Ne===4)&&(Ne=se.stateNode.containerInfo,Ne===P||Ne.nodeType===8&&Ne.parentNode===P))return;se=se.return}for(;ve!==null;){if(se=Rl(ve),se===null)return;if(Ne=se.tag,Ne===5||Ne===6){B=$=se;continue e}ve=ve.parentNode}}B=B.return}Xt(function(){var Te=$,ut=ir(v),ht=[];e:{var At=dh.get(c);if(At!==void 0){var Lt=wA,Gt=c;switch(c){case"keypress":if(ki(v)===0)break e;case"keydown":case"keyup":Lt=Fl;break;case"focusin":Gt="focus",Lt=Cr;break;case"focusout":Gt="blur",Lt=Cr;break;case"beforeblur":case"afterblur":Lt=Cr;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Lt=ot;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Lt=tr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Lt=Cs;break;case oh:case lh:case ch:Lt=An;break;case Ah:Lt=Fc;break;case"scroll":Lt=ne;break;case"wheel":Lt=Fd;break;case"copy":case"cut":case"paste":Lt=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Lt=kl}var Jt=(u&4)!==0,qn=!Jt&&c==="scroll",Pe=Jt?At!==null?At+"Capture":null:At;Jt=[];for(var Ce=Te,Re;Ce!==null;){Re=Ce;var xt=Re.stateNode;if(Re.tag===5&&xt!==null&&(Re=xt,Pe!==null&&(xt=Nn(Ce,Pe),xt!=null&&Jt.push(Rd(Ce,xt,Re)))),qn)break;Ce=Ce.return}0<Jt.length&&(At=new Lt(At,Gt,null,v,ut),ht.push({event:At,listeners:Jt}))}}if((u&7)===0){e:{if(At=c==="mouseover"||c==="pointerover",Lt=c==="mouseout"||c==="pointerout",At&&v!==hr&&(Gt=v.relatedTarget||v.fromElement)&&(Rl(Gt)||Gt[Ss]))break e;if((Lt||At)&&(At=ut.window===ut?ut:(At=ut.ownerDocument)?At.defaultView||At.parentWindow:window,Lt?(Gt=v.relatedTarget||v.toElement,Lt=Te,Gt=Gt?Rl(Gt):null,Gt!==null&&(qn=Ze(Gt),Gt!==qn||Gt.tag!==5&&Gt.tag!==6)&&(Gt=null)):(Lt=null,Gt=Te),Lt!==Gt)){if(Jt=ot,xt="onMouseLeave",Pe="onMouseEnter",Ce="mouse",(c==="pointerout"||c==="pointerover")&&(Jt=kl,xt="onPointerLeave",Pe="onPointerEnter",Ce="pointer"),qn=Lt==null?At:Oc(Lt),Re=Gt==null?At:Oc(Gt),At=new Jt(xt,Ce+"leave",Lt,v,ut),At.target=qn,At.relatedTarget=Re,xt=null,Rl(ut)===Te&&(Jt=new Jt(Pe,Ce+"enter",Gt,v,ut),Jt.target=Re,Jt.relatedTarget=qn,xt=Jt),qn=xt,Lt&&Gt)t:{for(Jt=Lt,Pe=Gt,Ce=0,Re=Jt;Re;Re=Tc(Re))Ce++;for(Re=0,xt=Pe;xt;xt=Tc(xt))Re++;for(;0<Ce-Re;)Jt=Tc(Jt),Ce--;for(;0<Re-Ce;)Pe=Tc(Pe),Re--;for(;Ce--;){if(Jt===Pe||Pe!==null&&Jt===Pe.alternate)break t;Jt=Tc(Jt),Pe=Tc(Pe)}Jt=null}else Jt=null;Lt!==null&&Wm(ht,At,Lt,Jt,!1),Gt!==null&&qn!==null&&Wm(ht,qn,Gt,Jt,!0)}}e:{if(At=Te?Oc(Te):window,Lt=At.nodeName&&At.nodeName.toLowerCase(),Lt==="select"||Lt==="input"&&At.type==="file")var ar=Co;else if(No(At))if(to)ar=Pl;else{ar=Il;var gr=Ll}else(Lt=At.nodeName)&&Lt.toLowerCase()==="input"&&(At.type==="checkbox"||At.type==="radio")&&(ar=Lc);if(ar&&(ar=ar(c,Te))){tl(ht,ar,v,ut);break e}gr&&gr(c,At,Te),c==="focusout"&&(gr=At._wrapperState)&&gr.controlled&&At.type==="number"&&Se(At,"number",At.value)}switch(gr=Te?Oc(Te):window,c){case"focusin":(No(gr)||gr.contentEditable==="true")&&(nl=gr,Lu=Te,CA=null);break;case"focusout":CA=Lu=nl=null;break;case"mousedown":Iu=!0;break;case"contextmenu":case"mouseup":case"dragend":Iu=!1,sh(ht,v,ut);break;case"selectionchange":if(BA)break;case"keydown":case"keyup":sh(ht,v,ut)}var xr;if(eo)e:{switch(c){case"compositionstart":var Er="onCompositionStart";break e;case"compositionend":Er="onCompositionEnd";break e;case"compositionupdate":Er="onCompositionUpdate";break e}Er=void 0}else Ii?bA(c,v)&&(Er="onCompositionEnd"):c==="keydown"&&v.keyCode===229&&(Er="onCompositionStart");Er&&(mi&&v.locale!=="ko"&&(Ii||Er!=="onCompositionStart"?Er==="onCompositionEnd"&&Ii&&(xr=Sd()):(Fi=ut,Zo="value"in Fi?Fi.value:Fi.textContent,Ii=!0)),gr=Ru(Te,Er),0<gr.length&&(Er=new Sn(Er,c,null,v,ut),ht.push({event:Er,listeners:gr}),xr?Er.data=xr:(xr=el(v),xr!==null&&(Er.data=xr)))),(xr=Uu?pi(c,v):gi(c,v))&&(Te=Ru(Te,"onBeforeInput"),0<Te.length&&(ut=new Sn("onBeforeInput","beforeinput",null,v,ut),ht.push({event:ut,listeners:Te}),ut.data=xr))}Id(ht,u)})}function Rd(c,u,v){return{instance:c,listener:u,currentTarget:v}}function Ru(c,u){for(var v=u+"Capture",B=[];c!==null;){var P=c,$=P.stateNode;P.tag===5&&$!==null&&(P=$,$=Nn(c,v),$!=null&&B.unshift(Rd(c,$,P)),$=Nn(c,u),$!=null&&B.push(Rd(c,$,P))),c=c.return}return B}function Tc(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function Wm(c,u,v,B,P){for(var $=u._reactName,se=[];v!==null&&v!==B;){var ve=v,Ne=ve.alternate,Te=ve.stateNode;if(Ne!==null&&Ne===B)break;ve.tag===5&&Te!==null&&(ve=Te,P?(Ne=Nn(v,$),Ne!=null&&se.unshift(Rd(v,Ne,ve))):P||(Ne=Nn(v,$),Ne!=null&&se.push(Rd(v,Ne,ve)))),v=v.return}se.length!==0&&c.push({event:u,listeners:se})}var Rx=/\r\n?/g,Tx=/\u0000|\uFFFD/g;function Gm(c){return(typeof c=="string"?c:""+c).replace(Rx,`
`).replace(Tx,"")}function Tu(c,u,v){if(u=Gm(u),Gm(c)!==u&&v)throw Error(t(425))}function EA(){}var Td=null,Mc=null;function fh(c,u){return c==="textarea"||c==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var hh=typeof setTimeout=="function"?setTimeout:void 0,Ym=typeof clearTimeout=="function"?clearTimeout:void 0,Xm=typeof Promise=="function"?Promise:void 0,Mx=typeof queueMicrotask=="function"?queueMicrotask:typeof Xm<"u"?function(c){return Xm.resolve(null).then(c).catch(Ox)}:hh;function Ox(c){setTimeout(function(){throw c})}function mh(c,u){var v=u,B=0;do{var P=v.nextSibling;if(c.removeChild(v),P&&P.nodeType===8)if(v=P.data,v==="/$"){if(B===0){c.removeChild(P),yo(u);return}B--}else v!=="$"&&v!=="$?"&&v!=="$!"||B++;v=P}while(v);yo(u)}function Ms(c){for(;c!=null;c=c.nextSibling){var u=c.nodeType;if(u===1||u===3)break;if(u===8){if(u=c.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return c}function Qi(c){c=c.previousSibling;for(var u=0;c;){if(c.nodeType===8){var v=c.data;if(v==="$"||v==="$!"||v==="$?"){if(u===0)return c;u--}else v==="/$"&&u++}c=c.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),_o="__reactFiber$"+Gs,FA="__reactProps$"+Gs,Ss="__reactContainer$"+Gs,Ys="__reactEvents$"+Gs,Hx="__reactListeners$"+Gs,$x="__reactHandles$"+Gs;function Rl(c){var u=c[_o];if(u)return u;for(var v=c.parentNode;v;){if(u=v[Ss]||v[_o]){if(v=u.alternate,u.child!==null||v!==null&&v.child!==null)for(c=Qi(c);c!==null;){if(v=c[_o])return v;c=Qi(c)}return u}c=v,v=c.parentNode}return null}function kA(c){return c=c[_o]||c[Ss],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Oc(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(t(33))}function Md(c){return c[FA]||null}var ph=[],sl=-1;function ao(c){return{current:c}}function Sa(c){0>sl||(c.current=ph[sl],ph[sl]=null,sl--)}function Ua(c,u){sl++,ph[sl]=c.current,c.current=u}var Tl={},vs=ao(Tl),Xs=ao(!1),Hc=Tl;function DA(c,u){var v=c.type.contextTypes;if(!v)return Tl;var B=c.stateNode;if(B&&B.__reactInternalMemoizedUnmaskedChildContext===u)return B.__reactInternalMemoizedMaskedChildContext;var P={},$;for($ in v)P[$]=u[$];return B&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=u,c.__reactInternalMemoizedMaskedChildContext=P),P}function Js(c){return c=c.childContextTypes,c!=null}function Mu(){Sa(Xs),Sa(vs)}function Jm(c,u,v){if(vs.current!==Tl)throw Error(t(168));Ua(vs,u),Ua(Xs,v)}function gh(c,u,v){var B=c.stateNode;if(u=u.childContextTypes,typeof B.getChildContext!="function")return v;B=B.getChildContext();for(var P in B)if(!(P in u))throw Error(t(108,O(c)||"Unknown",P));return ce({},v,B)}function $c(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Tl,Hc=vs.current,Ua(vs,c),Ua(Xs,Xs.current),!0}function Zm(c,u,v){var B=c.stateNode;if(!B)throw Error(t(169));v?(c=gh(c,u,Hc),B.__reactInternalMemoizedMergedChildContext=c,Sa(Xs),Sa(vs),Ua(vs,c)):Sa(Xs),Ua(Xs,v)}var il=null,Od=!1,b=!1;function S(c){il===null?il=[c]:il.push(c)}function M(c){Od=!0,S(c)}function W(){if(!b&&il!==null){b=!0;var c=0,u=la;try{var v=il;for(la=1;c<v.length;c++){var B=v[c];do B=B(!0);while(B!==null)}il=null,Od=!1}catch(P){throw il!==null&&(il=il.slice(c+1)),Hr(Rr,W),P}finally{la=u,b=!1}}return null}var ae=[],ie=0,le=null,de=0,ue=[],fe=0,je=null,Ie=1,me="";function Be(c,u){ae[ie++]=de,ae[ie++]=le,le=c,de=u}function Ue(c,u,v){ue[fe++]=Ie,ue[fe++]=me,ue[fe++]=je,je=c;var B=Ie;c=me;var P=32-Ba(B)-1;B&=~(1<<P),v+=1;var $=32-Ba(u)+P;if(30<$){var se=P-P%5;$=(B&(1<<se)-1).toString(32),B>>=se,P-=se,Ie=1<<32-Ba(u)+P|v<<P|B,me=$+c}else Ie=1<<$|v<<P|B,me=c}function Ge(c){c.return!==null&&(Be(c,1),Ue(c,1,0))}function Qe(c){for(;c===le;)le=ae[--ie],ae[ie]=null,de=ae[--ie],ae[ie]=null;for(;c===je;)je=ue[--fe],ue[fe]=null,me=ue[--fe],ue[fe]=null,Ie=ue[--fe],ue[fe]=null}var $e=null,qe=null,tt=!1,rt=null;function rr(c,u){var v=Uo(5,null,null,0);v.elementType="DELETED",v.stateNode=u,v.return=c,u=c.deletions,u===null?(c.deletions=[v],c.flags|=16):u.push(v)}function Rt(c,u){switch(c.tag){case 5:var v=c.type;return u=u.nodeType!==1||v.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(c.stateNode=u,$e=c,qe=Ms(u.firstChild),!0):!1;case 6:return u=c.pendingProps===""||u.nodeType!==3?null:u,u!==null?(c.stateNode=u,$e=c,qe=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(v=je!==null?{id:Ie,overflow:me}:null,c.memoizedState={dehydrated:u,treeContext:v,retryLane:1073741824},v=Uo(18,null,null,0),v.stateNode=u,v.return=c,c.child=v,$e=c,qe=null,!0):!1;default:return!1}}function kr(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Wt(c){if(tt){var u=qe;if(u){var v=u;if(!Rt(c,u)){if(kr(c))throw Error(t(418));u=Ms(v.nextSibling);var B=$e;u&&Rt(c,u)?rr(B,v):(c.flags=c.flags&-4097|2,tt=!1,$e=c)}}else{if(kr(c))throw Error(t(418));c.flags=c.flags&-4097|2,tt=!1,$e=c}}}function ta(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;$e=c}function vn(c){if(c!==$e)return!1;if(!tt)return ta(c),tt=!0,!1;var u;if((u=c.tag!==3)&&!(u=c.tag!==5)&&(u=c.type,u=u!=="head"&&u!=="body"&&!fh(c.type,c.memoizedProps)),u&&(u=qe)){if(kr(c))throw Lr(),Error(t(418));for(;u;)rr(c,u),u=Ms(u.nextSibling)}if(ta(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(t(317));e:{for(c=c.nextSibling,u=0;c;){if(c.nodeType===8){var v=c.data;if(v==="/$"){if(u===0){qe=Ms(c.nextSibling);break e}u--}else v!=="$"&&v!=="$!"&&v!=="$?"||u++}c=c.nextSibling}qe=null}}else qe=$e?Ms(c.stateNode.nextSibling):null;return!0}function Lr(){for(var c=qe;c;)c=Ms(c.nextSibling)}function Tt(){qe=$e=null,tt=!1}function bt(c){rt===null?rt=[c]:rt.push(c)}var En=E.ReactCurrentBatchConfig;function jr(c,u,v){if(c=v.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(t(309));var B=v.stateNode}if(!B)throw Error(t(147,c));var P=B,$=""+c;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===$?u.ref:(u=function(se){var ve=P.refs;se===null?delete ve[$]:ve[$]=se},u._stringRef=$,u)}if(typeof c!="string")throw Error(t(284));if(!v._owner)throw Error(t(290,c))}return c}function Zr(c,u){throw c=Object.prototype.toString.call(u),Error(t(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c))}function qa(c){var u=c._init;return u(c._payload)}function os(c){function u(Pe,Ce){if(c){var Re=Pe.deletions;Re===null?(Pe.deletions=[Ce],Pe.flags|=16):Re.push(Ce)}}function v(Pe,Ce){if(!c)return null;for(;Ce!==null;)u(Pe,Ce),Ce=Ce.sibling;return null}function B(Pe,Ce){for(Pe=new Map;Ce!==null;)Ce.key!==null?Pe.set(Ce.key,Ce):Pe.set(Ce.index,Ce),Ce=Ce.sibling;return Pe}function P(Pe,Ce){return Pe=HA(Pe,Ce),Pe.index=0,Pe.sibling=null,Pe}function $(Pe,Ce,Re){return Pe.index=Re,c?(Re=Pe.alternate,Re!==null?(Re=Re.index,Re<Ce?(Pe.flags|=2,Ce):Re):(Pe.flags|=2,Ce)):(Pe.flags|=1048576,Ce)}function se(Pe){return c&&Pe.alternate===null&&(Pe.flags|=2),Pe}function ve(Pe,Ce,Re,xt){return Ce===null||Ce.tag!==6?(Ce=xv(Re,Pe.mode,xt),Ce.return=Pe,Ce):(Ce=P(Ce,Re),Ce.return=Pe,Ce)}function Ne(Pe,Ce,Re,xt){var ar=Re.type;return ar===F?ut(Pe,Ce,Re.props.children,xt,Re.key):Ce!==null&&(Ce.elementType===ar||typeof ar=="object"&&ar!==null&&ar.$$typeof===z&&qa(ar)===Ce.type)?(xt=P(Ce,Re.props),xt.ref=jr(Pe,Ce,Re),xt.return=Pe,xt):(xt=vp(Re.type,Re.key,Re.props,null,Pe.mode,xt),xt.ref=jr(Pe,Ce,Re),xt.return=Pe,xt)}function Te(Pe,Ce,Re,xt){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Re.containerInfo||Ce.stateNode.implementation!==Re.implementation?(Ce=vv(Re,Pe.mode,xt),Ce.return=Pe,Ce):(Ce=P(Ce,Re.children||[]),Ce.return=Pe,Ce)}function ut(Pe,Ce,Re,xt,ar){return Ce===null||Ce.tag!==7?(Ce=Gd(Re,Pe.mode,xt,ar),Ce.return=Pe,Ce):(Ce=P(Ce,Re),Ce.return=Pe,Ce)}function ht(Pe,Ce,Re){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Ce=xv(""+Ce,Pe.mode,Re),Ce.return=Pe,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case Q:return Re=vp(Ce.type,Ce.key,Ce.props,null,Pe.mode,Re),Re.ref=jr(Pe,null,Ce),Re.return=Pe,Re;case U:return Ce=vv(Ce,Pe.mode,Re),Ce.return=Pe,Ce;case z:var xt=Ce._init;return ht(Pe,xt(Ce._payload),Re)}if(it(Ce)||ee(Ce))return Ce=Gd(Ce,Pe.mode,Re,null),Ce.return=Pe,Ce;Zr(Pe,Ce)}return null}function At(Pe,Ce,Re,xt){var ar=Ce!==null?Ce.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number")return ar!==null?null:ve(Pe,Ce,""+Re,xt);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case Q:return Re.key===ar?Ne(Pe,Ce,Re,xt):null;case U:return Re.key===ar?Te(Pe,Ce,Re,xt):null;case z:return ar=Re._init,At(Pe,Ce,ar(Re._payload),xt)}if(it(Re)||ee(Re))return ar!==null?null:ut(Pe,Ce,Re,xt,null);Zr(Pe,Re)}return null}function Lt(Pe,Ce,Re,xt,ar){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return Pe=Pe.get(Re)||null,ve(Ce,Pe,""+xt,ar);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case Q:return Pe=Pe.get(xt.key===null?Re:xt.key)||null,Ne(Ce,Pe,xt,ar);case U:return Pe=Pe.get(xt.key===null?Re:xt.key)||null,Te(Ce,Pe,xt,ar);case z:var gr=xt._init;return Lt(Pe,Ce,Re,gr(xt._payload),ar)}if(it(xt)||ee(xt))return Pe=Pe.get(Re)||null,ut(Ce,Pe,xt,ar,null);Zr(Ce,xt)}return null}function Gt(Pe,Ce,Re,xt){for(var ar=null,gr=null,xr=Ce,Er=Ce=0,Ds=null;xr!==null&&Er<Re.length;Er++){xr.index>Er?(Ds=xr,xr=null):Ds=xr.sibling;var ba=At(Pe,xr,Re[Er],xt);if(ba===null){xr===null&&(xr=Ds);break}c&&xr&&ba.alternate===null&&u(Pe,xr),Ce=$(ba,Ce,Er),gr===null?ar=ba:gr.sibling=ba,gr=ba,xr=Ds}if(Er===Re.length)return v(Pe,xr),tt&&Be(Pe,Er),ar;if(xr===null){for(;Er<Re.length;Er++)xr=ht(Pe,Re[Er],xt),xr!==null&&(Ce=$(xr,Ce,Er),gr===null?ar=xr:gr.sibling=xr,gr=xr);return tt&&Be(Pe,Er),ar}for(xr=B(Pe,xr);Er<Re.length;Er++)Ds=Lt(xr,Pe,Er,Re[Er],xt),Ds!==null&&(c&&Ds.alternate!==null&&xr.delete(Ds.key===null?Er:Ds.key),Ce=$(Ds,Ce,Er),gr===null?ar=Ds:gr.sibling=Ds,gr=Ds);return c&&xr.forEach(function($A){return u(Pe,$A)}),tt&&Be(Pe,Er),ar}function Jt(Pe,Ce,Re,xt){var ar=ee(Re);if(typeof ar!="function")throw Error(t(150));if(Re=ar.call(Re),Re==null)throw Error(t(151));for(var gr=ar=null,xr=Ce,Er=Ce=0,Ds=null,ba=Re.next();xr!==null&&!ba.done;Er++,ba=Re.next()){xr.index>Er?(Ds=xr,xr=null):Ds=xr.sibling;var $A=At(Pe,xr,ba.value,xt);if($A===null){xr===null&&(xr=Ds);break}c&&xr&&$A.alternate===null&&u(Pe,xr),Ce=$($A,Ce,Er),gr===null?ar=$A:gr.sibling=$A,gr=$A,xr=Ds}if(ba.done)return v(Pe,xr),tt&&Be(Pe,Er),ar;if(xr===null){for(;!ba.done;Er++,ba=Re.next())ba=ht(Pe,ba.value,xt),ba!==null&&(Ce=$(ba,Ce,Er),gr===null?ar=ba:gr.sibling=ba,gr=ba);return tt&&Be(Pe,Er),ar}for(xr=B(Pe,xr);!ba.done;Er++,ba=Re.next())ba=Lt(xr,Pe,Er,ba.value,xt),ba!==null&&(c&&ba.alternate!==null&&xr.delete(ba.key===null?Er:ba.key),Ce=$(ba,Ce,Er),gr===null?ar=ba:gr.sibling=ba,gr=ba);return c&&xr.forEach(function(ED){return u(Pe,ED)}),tt&&Be(Pe,Er),ar}function qn(Pe,Ce,Re,xt){if(typeof Re=="object"&&Re!==null&&Re.type===F&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case Q:e:{for(var ar=Re.key,gr=Ce;gr!==null;){if(gr.key===ar){if(ar=Re.type,ar===F){if(gr.tag===7){v(Pe,gr.sibling),Ce=P(gr,Re.props.children),Ce.return=Pe,Pe=Ce;break e}}else if(gr.elementType===ar||typeof ar=="object"&&ar!==null&&ar.$$typeof===z&&qa(ar)===gr.type){v(Pe,gr.sibling),Ce=P(gr,Re.props),Ce.ref=jr(Pe,gr,Re),Ce.return=Pe,Pe=Ce;break e}v(Pe,gr);break}else u(Pe,gr);gr=gr.sibling}Re.type===F?(Ce=Gd(Re.props.children,Pe.mode,xt,Re.key),Ce.return=Pe,Pe=Ce):(xt=vp(Re.type,Re.key,Re.props,null,Pe.mode,xt),xt.ref=jr(Pe,Ce,Re),xt.return=Pe,Pe=xt)}return se(Pe);case U:e:{for(gr=Re.key;Ce!==null;){if(Ce.key===gr)if(Ce.tag===4&&Ce.stateNode.containerInfo===Re.containerInfo&&Ce.stateNode.implementation===Re.implementation){v(Pe,Ce.sibling),Ce=P(Ce,Re.children||[]),Ce.return=Pe,Pe=Ce;break e}else{v(Pe,Ce);break}else u(Pe,Ce);Ce=Ce.sibling}Ce=vv(Re,Pe.mode,xt),Ce.return=Pe,Pe=Ce}return se(Pe);case z:return gr=Re._init,qn(Pe,Ce,gr(Re._payload),xt)}if(it(Re))return Gt(Pe,Ce,Re,xt);if(ee(Re))return Jt(Pe,Ce,Re,xt);Zr(Pe,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"?(Re=""+Re,Ce!==null&&Ce.tag===6?(v(Pe,Ce.sibling),Ce=P(Ce,Re),Ce.return=Pe,Pe=Ce):(v(Pe,Ce),Ce=xv(Re,Pe.mode,xt),Ce.return=Pe,Pe=Ce),se(Pe)):v(Pe,Ce)}return qn}var Qn=os(!0),dn=os(!1),zn=ao(null),ls=null,en=null,na=null;function xa(){na=en=ls=null}function tn(c){var u=zn.current;Sa(zn),c._currentValue=u}function va(c,u,v){for(;c!==null;){var B=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,B!==null&&(B.childLanes|=u)):B!==null&&(B.childLanes&u)!==u&&(B.childLanes|=u),c===v)break;c=c.return}}function wn(c,u){ls=c,na=en=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&u)!==0&&(Ti=!0),c.firstContext=null)}function yn(c){var u=c._currentValue;if(na!==c)if(c={context:c,memoizedValue:u,next:null},en===null){if(ls===null)throw Error(t(308));en=c,ls.dependencies={lanes:0,firstContext:c}}else en=en.next=c;return u}var Ta=null;function _s(c){Ta===null?Ta=[c]:Ta.push(c)}function La(c,u,v,B){var P=u.interleaved;return P===null?(v.next=v,_s(u)):(v.next=P.next,P.next=v),u.interleaved=v,Ma(c,B)}function Ma(c,u){c.lanes|=u;var v=c.alternate;for(v!==null&&(v.lanes|=u),v=c,c=c.return;c!==null;)c.childLanes|=u,v=c.alternate,v!==null&&(v.childLanes|=u),v=c,c=c.return;return v.tag===3?v.stateNode:null}var Rn=!1;function ws(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zs(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Fn(c,u){return{eventTime:c,lane:u,tag:0,payload:null,callback:null,next:null}}function kn(c,u,v){var B=c.updateQueue;if(B===null)return null;if(B=B.shared,(wa&2)!==0){var P=B.pending;return P===null?u.next=u:(u.next=P.next,P.next=u),B.pending=u,Ma(c,v)}return P=B.interleaved,P===null?(u.next=u,_s(B)):(u.next=P.next,P.next=u),B.interleaved=u,Ma(c,v)}function Es(c,u,v){if(u=u.updateQueue,u!==null&&(u=u.shared,(v&4194240)!==0)){var B=u.lanes;B&=c.pendingLanes,v|=B,u.lanes=v,Yi(c,v)}}function Oa(c,u){var v=c.updateQueue,B=c.alternate;if(B!==null&&(B=B.updateQueue,v===B)){var P=null,$=null;if(v=v.firstBaseUpdate,v!==null){do{var se={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};$===null?P=$=se:$=$.next=se,v=v.next}while(v!==null);$===null?P=$=u:$=$.next=u}else P=$=u;v={baseState:B.baseState,firstBaseUpdate:P,lastBaseUpdate:$,shared:B.shared,effects:B.effects},c.updateQueue=v;return}c=v.lastBaseUpdate,c===null?v.firstBaseUpdate=u:c.next=u,v.lastBaseUpdate=u}function Fs(c,u,v,B){var P=c.updateQueue;Rn=!1;var $=P.firstBaseUpdate,se=P.lastBaseUpdate,ve=P.shared.pending;if(ve!==null){P.shared.pending=null;var Ne=ve,Te=Ne.next;Ne.next=null,se===null?$=Te:se.next=Te,se=Ne;var ut=c.alternate;ut!==null&&(ut=ut.updateQueue,ve=ut.lastBaseUpdate,ve!==se&&(ve===null?ut.firstBaseUpdate=Te:ve.next=Te,ut.lastBaseUpdate=Ne))}if($!==null){var ht=P.baseState;se=0,ut=Te=Ne=null,ve=$;do{var At=ve.lane,Lt=ve.eventTime;if((B&At)===At){ut!==null&&(ut=ut.next={eventTime:Lt,lane:0,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null});e:{var Gt=c,Jt=ve;switch(At=u,Lt=v,Jt.tag){case 1:if(Gt=Jt.payload,typeof Gt=="function"){ht=Gt.call(Lt,ht,At);break e}ht=Gt;break e;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=Jt.payload,At=typeof Gt=="function"?Gt.call(Lt,ht,At):Gt,At==null)break e;ht=ce({},ht,At);break e;case 2:Rn=!0}}ve.callback!==null&&ve.lane!==0&&(c.flags|=64,At=P.effects,At===null?P.effects=[ve]:At.push(ve))}else Lt={eventTime:Lt,lane:At,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},ut===null?(Te=ut=Lt,Ne=ht):ut=ut.next=Lt,se|=At;if(ve=ve.next,ve===null){if(ve=P.shared.pending,ve===null)break;At=ve,ve=At.next,At.next=null,P.lastBaseUpdate=At,P.shared.pending=null}}while(!0);if(ut===null&&(Ne=ht),P.baseState=Ne,P.firstBaseUpdate=Te,P.lastBaseUpdate=ut,u=P.shared.interleaved,u!==null){P=u;do se|=P.lane,P=P.next;while(P!==u)}else $===null&&(P.shared.lanes=0);zd|=se,c.lanes=se,c.memoizedState=ht}}function Ri(c,u,v){if(c=u.effects,u.effects=null,c!==null)for(u=0;u<c.length;u++){var B=c[u],P=B.callback;if(P!==null){if(B.callback=null,B=v,typeof P!="function")throw Error(t(191,P));P.call(B)}}}var no={},cs=ao(no),Dn=ao(no),Ml=ao(no);function ol(c){if(c===no)throw Error(t(174));return c}function UA(c,u){switch(Ua(Ml,u),Ua(Dn,c),Ua(cs,no),c=u.nodeType,c){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Or(null,"");break;default:c=c===8?u.parentNode:u,u=c.namespaceURI||null,c=c.tagName,u=Or(u,c)}Sa(cs),Ua(cs,u)}function Eo(){Sa(cs),Sa(Dn),Sa(Ml)}function ep(c){ol(Ml.current);var u=ol(cs.current),v=Or(u,c.type);u!==v&&(Ua(Dn,c),Ua(cs,v))}function xh(c){Dn.current===c&&(Sa(cs),Sa(Dn))}var Ja=ao(0);function so(c){for(var u=c;u!==null;){if(u.tag===13){var v=u.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var vh=[];function wh(){for(var c=0;c<vh.length;c++)vh[c]._workInProgressVersionPrimary=null;vh.length=0}var Ou=E.ReactCurrentDispatcher,Hu=E.ReactCurrentBatchConfig,Fo=0,rn=null,Tn=null,Un=null,LA=!1,ll=!1,IA=0,Kx=0;function Vn(){throw Error(t(321))}function $u(c,u){if(u===null)return!1;for(var v=0;v<u.length&&v<c.length;v++)if(!gn(c[v],u[v]))return!1;return!0}function Hd(c,u,v,B,P,$){if(Fo=$,rn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Ou.current=c===null||c.memoizedState===null?tD:rD,c=v(B,P),ll){$=0;do{if(ll=!1,IA=0,25<=$)throw Error(t(301));$+=1,Un=Tn=null,u.updateQueue=null,Ou.current=aD,c=v(B,P)}while(ll)}if(Ou.current=sp,u=Tn!==null&&Tn.next!==null,Fo=0,Un=Tn=rn=null,LA=!1,u)throw Error(t(300));return c}function ko(){var c=IA!==0;return IA=0,c}function io(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?rn.memoizedState=Un=c:Un=Un.next=c,Un}function xi(){if(Tn===null){var c=rn.alternate;c=c!==null?c.memoizedState:null}else c=Tn.next;var u=Un===null?rn.memoizedState:Un.next;if(u!==null)Un=u,Tn=c;else{if(c===null)throw Error(t(310));Tn=c,c={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},Un===null?rn.memoizedState=Un=c:Un=Un.next=c}return Un}function $d(c,u){return typeof u=="function"?u(c):u}function Ku(c){var u=xi(),v=u.queue;if(v===null)throw Error(t(311));v.lastRenderedReducer=c;var B=Tn,P=B.baseQueue,$=v.pending;if($!==null){if(P!==null){var se=P.next;P.next=$.next,$.next=se}B.baseQueue=P=$,v.pending=null}if(P!==null){$=P.next,B=B.baseState;var ve=se=null,Ne=null,Te=$;do{var ut=Te.lane;if((Fo&ut)===ut)Ne!==null&&(Ne=Ne.next={lane:0,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),B=Te.hasEagerState?Te.eagerState:c(B,Te.action);else{var ht={lane:ut,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null};Ne===null?(ve=Ne=ht,se=B):Ne=Ne.next=ht,rn.lanes|=ut,zd|=ut}Te=Te.next}while(Te!==null&&Te!==$);Ne===null?se=B:Ne.next=ve,gn(B,u.memoizedState)||(Ti=!0),u.memoizedState=B,u.baseState=se,u.baseQueue=Ne,v.lastRenderedState=B}if(c=v.interleaved,c!==null){P=c;do $=P.lane,rn.lanes|=$,zd|=$,P=P.next;while(P!==c)}else P===null&&(v.lanes=0);return[u.memoizedState,v.dispatch]}function Ol(c){var u=xi(),v=u.queue;if(v===null)throw Error(t(311));v.lastRenderedReducer=c;var B=v.dispatch,P=v.pending,$=u.memoizedState;if(P!==null){v.pending=null;var se=P=P.next;do $=c($,se.action),se=se.next;while(se!==P);gn($,u.memoizedState)||(Ti=!0),u.memoizedState=$,u.baseQueue===null&&(u.baseState=$),v.lastRenderedState=$}return[$,B]}function tp(){}function yh(c,u){var v=rn,B=xi(),P=u(),$=!gn(B.memoizedState,P);if($&&(B.memoizedState=P,Ti=!0),B=B.queue,qu(ap.bind(null,v,B,c),[c]),B.getSnapshot!==u||$||Un!==null&&Un.memoizedState.tag&1){if(v.flags|=2048,vi(9,bh.bind(null,v,B,P,u),void 0,null),ks===null)throw Error(t(349));(Fo&30)!==0||rp(v,u,P)}return P}function rp(c,u,v){c.flags|=16384,c={getSnapshot:u,value:v},u=rn.updateQueue,u===null?(u={lastEffect:null,stores:null},rn.updateQueue=u,u.stores=[c]):(v=u.stores,v===null?u.stores=[c]:v.push(c))}function bh(c,u,v,B){u.value=v,u.getSnapshot=B,PA(u)&&zu(c)}function ap(c,u,v){return v(function(){PA(u)&&zu(c)})}function PA(c){var u=c.getSnapshot;c=c.value;try{var v=u();return!gn(c,v)}catch{return!0}}function zu(c){var u=Ma(c,1);u!==null&&fl(u,c,1,-1)}function Kd(c){var u=io();return typeof c=="function"&&(c=c()),u.memoizedState=u.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$d,lastRenderedState:c},u.queue=c,c=c.dispatch=eD.bind(null,rn,c),[u.memoizedState,c]}function vi(c,u,v,B){return c={tag:c,create:u,destroy:v,deps:B,next:null},u=rn.updateQueue,u===null?(u={lastEffect:null,stores:null},rn.updateQueue=u,u.lastEffect=c.next=c):(v=u.lastEffect,v===null?u.lastEffect=c.next=c:(B=v.next,v.next=c,c.next=B,u.lastEffect=c)),c}function cl(){return xi().memoizedState}function oo(c,u,v,B){var P=io();rn.flags|=c,P.memoizedState=vi(1|u,v,void 0,B===void 0?null:B)}function Kc(c,u,v,B){var P=xi();B=B===void 0?null:B;var $=void 0;if(Tn!==null){var se=Tn.memoizedState;if($=se.destroy,B!==null&&$u(B,se.deps)){P.memoizedState=vi(u,v,$,B);return}}rn.flags|=c,P.memoizedState=vi(1|u,v,$,B)}function Vu(c,u){return oo(8390656,8,c,u)}function qu(c,u){return Kc(2048,8,c,u)}function np(c,u){return Kc(4,2,c,u)}function Wu(c,u){return Kc(4,4,c,u)}function Gu(c,u){if(typeof u=="function")return c=c(),u(c),function(){u(null)};if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function Ib(c,u,v){return v=v!=null?v.concat([c]):null,Kc(4,4,Gu.bind(null,u,c),v)}function zx(){}function Pb(c,u){var v=xi();u=u===void 0?null:u;var B=v.memoizedState;return B!==null&&u!==null&&$u(u,B[1])?B[0]:(v.memoizedState=[c,u],c)}function Qb(c,u){var v=xi();u=u===void 0?null:u;var B=v.memoizedState;return B!==null&&u!==null&&$u(u,B[1])?B[0]:(c=c(),v.memoizedState=[c,u],c)}function Rb(c,u,v){return(Fo&21)===0?(c.baseState&&(c.baseState=!1,Ti=!0),c.memoizedState=v):(gn(v,u)||(v=Cn(),rn.lanes|=v,zd|=v,c.baseState=!0),u)}function Jk(c,u){var v=la;la=v!==0&&4>v?v:4,c(!0);var B=Hu.transition;Hu.transition={};try{c(!1),u()}finally{la=v,Hu.transition=B}}function Tb(){return xi().memoizedState}function Zk(c,u,v){var B=MA(c);if(v={lane:B,action:v,hasEagerState:!1,eagerState:null,next:null},Mb(c))Ob(u,v);else if(v=La(c,u,v,B),v!==null){var P=yi();fl(v,c,B,P),Hb(v,u,B)}}function eD(c,u,v){var B=MA(c),P={lane:B,action:v,hasEagerState:!1,eagerState:null,next:null};if(Mb(c))Ob(u,P);else{var $=c.alternate;if(c.lanes===0&&($===null||$.lanes===0)&&($=u.lastRenderedReducer,$!==null))try{var se=u.lastRenderedState,ve=$(se,v);if(P.hasEagerState=!0,P.eagerState=ve,gn(ve,se)){var Ne=u.interleaved;Ne===null?(P.next=P,_s(u)):(P.next=Ne.next,Ne.next=P),u.interleaved=P;return}}catch{}finally{}v=La(c,u,P,B),v!==null&&(P=yi(),fl(v,c,B,P),Hb(v,u,B))}}function Mb(c){var u=c.alternate;return c===rn||u!==null&&u===rn}function Ob(c,u){ll=LA=!0;var v=c.pending;v===null?u.next=u:(u.next=v.next,v.next=u),c.pending=u}function Hb(c,u,v){if((v&4194240)!==0){var B=u.lanes;B&=c.pendingLanes,v|=B,u.lanes=v,Yi(c,v)}}var sp={readContext:yn,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useInsertionEffect:Vn,useLayoutEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useMutableSource:Vn,useSyncExternalStore:Vn,useId:Vn,unstable_isNewReconciler:!1},tD={readContext:yn,useCallback:function(c,u){return io().memoizedState=[c,u===void 0?null:u],c},useContext:yn,useEffect:Vu,useImperativeHandle:function(c,u,v){return v=v!=null?v.concat([c]):null,oo(4194308,4,Gu.bind(null,u,c),v)},useLayoutEffect:function(c,u){return oo(4194308,4,c,u)},useInsertionEffect:function(c,u){return oo(4,2,c,u)},useMemo:function(c,u){var v=io();return u=u===void 0?null:u,c=c(),v.memoizedState=[c,u],c},useReducer:function(c,u,v){var B=io();return u=v!==void 0?v(u):u,B.memoizedState=B.baseState=u,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:u},B.queue=c,c=c.dispatch=Zk.bind(null,rn,c),[B.memoizedState,c]},useRef:function(c){var u=io();return c={current:c},u.memoizedState=c},useState:Kd,useDebugValue:zx,useDeferredValue:function(c){return io().memoizedState=c},useTransition:function(){var c=Kd(!1),u=c[0];return c=Jk.bind(null,c[1]),io().memoizedState=c,[u,c]},useMutableSource:function(){},useSyncExternalStore:function(c,u,v){var B=rn,P=io();if(tt){if(v===void 0)throw Error(t(407));v=v()}else{if(v=u(),ks===null)throw Error(t(349));(Fo&30)!==0||rp(B,u,v)}P.memoizedState=v;var $={value:v,getSnapshot:u};return P.queue=$,Vu(ap.bind(null,B,$,c),[c]),B.flags|=2048,vi(9,bh.bind(null,B,$,v,u),void 0,null),v},useId:function(){var c=io(),u=ks.identifierPrefix;if(tt){var v=me,B=Ie;v=(B&~(1<<32-Ba(B)-1)).toString(32)+v,u=":"+u+"R"+v,v=IA++,0<v&&(u+="H"+v.toString(32)),u+=":"}else v=Kx++,u=":"+u+"r"+v.toString(32)+":";return c.memoizedState=u},unstable_isNewReconciler:!1},rD={readContext:yn,useCallback:Pb,useContext:yn,useEffect:qu,useImperativeHandle:Ib,useInsertionEffect:np,useLayoutEffect:Wu,useMemo:Qb,useReducer:Ku,useRef:cl,useState:function(){return Ku($d)},useDebugValue:zx,useDeferredValue:function(c){var u=xi();return Rb(u,Tn.memoizedState,c)},useTransition:function(){var c=Ku($d)[0],u=xi().memoizedState;return[c,u]},useMutableSource:tp,useSyncExternalStore:yh,useId:Tb,unstable_isNewReconciler:!1},aD={readContext:yn,useCallback:Pb,useContext:yn,useEffect:qu,useImperativeHandle:Ib,useInsertionEffect:np,useLayoutEffect:Wu,useMemo:Qb,useReducer:Ol,useRef:cl,useState:function(){return Ol($d)},useDebugValue:zx,useDeferredValue:function(c){var u=xi();return Tn===null?u.memoizedState=c:Rb(u,Tn.memoizedState,c)},useTransition:function(){var c=Ol($d)[0],u=xi().memoizedState;return[c,u]},useMutableSource:tp,useSyncExternalStore:yh,useId:Tb,unstable_isNewReconciler:!1};function Al(c,u){if(c&&c.defaultProps){u=ce({},u),c=c.defaultProps;for(var v in c)u[v]===void 0&&(u[v]=c[v]);return u}return u}function Vx(c,u,v,B){u=c.memoizedState,v=v(B,u),v=v==null?u:ce({},u,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}var ip={isMounted:function(c){return(c=c._reactInternals)?Ze(c)===c:!1},enqueueSetState:function(c,u,v){c=c._reactInternals;var B=yi(),P=MA(c),$=Fn(B,P);$.payload=u,v!=null&&($.callback=v),u=kn(c,$,P),u!==null&&(fl(u,c,P,B),Es(u,c,P))},enqueueReplaceState:function(c,u,v){c=c._reactInternals;var B=yi(),P=MA(c),$=Fn(B,P);$.tag=1,$.payload=u,v!=null&&($.callback=v),u=kn(c,$,P),u!==null&&(fl(u,c,P,B),Es(u,c,P))},enqueueForceUpdate:function(c,u){c=c._reactInternals;var v=yi(),B=MA(c),P=Fn(v,B);P.tag=2,u!=null&&(P.callback=u),u=kn(c,P,B),u!==null&&(fl(u,c,B,v),Es(u,c,B))}};function $b(c,u,v,B,P,$,se){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(B,$,se):u.prototype&&u.prototype.isPureReactComponent?!Ws(v,B)||!Ws(P,$):!0}function Kb(c,u,v){var B=!1,P=Tl,$=u.contextType;return typeof $=="object"&&$!==null?$=yn($):(P=Js(u)?Hc:vs.current,B=u.contextTypes,$=(B=B!=null)?DA(c,P):Tl),u=new u(v,$),c.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ip,c.stateNode=u,u._reactInternals=c,B&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=P,c.__reactInternalMemoizedMaskedChildContext=$),u}function zb(c,u,v,B){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(v,B),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(v,B),u.state!==c&&ip.enqueueReplaceState(u,u.state,null)}function qx(c,u,v,B){var P=c.stateNode;P.props=v,P.state=c.memoizedState,P.refs={},ws(c);var $=u.contextType;typeof $=="object"&&$!==null?P.context=yn($):($=Js(u)?Hc:vs.current,P.context=DA(c,$)),P.state=c.memoizedState,$=u.getDerivedStateFromProps,typeof $=="function"&&(Vx(c,u,$,v),P.state=c.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(u=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),u!==P.state&&ip.enqueueReplaceState(P,P.state,null),Fs(c,v,P,B),P.state=c.memoizedState),typeof P.componentDidMount=="function"&&(c.flags|=4194308)}function Yu(c,u){try{var v="",B=u;do v+=Y(B),B=B.return;while(B);var P=v}catch($){P=`
Error generating stack: `+$.message+`
`+$.stack}return{value:c,source:u,stack:P,digest:null}}function Wx(c,u,v){return{value:c,source:null,stack:v??null,digest:u??null}}function Gx(c,u){try{console.error(u.value)}catch(v){setTimeout(function(){throw v})}}var nD=typeof WeakMap=="function"?WeakMap:Map;function Vb(c,u,v){v=Fn(-1,v),v.tag=3,v.payload={element:null};var B=u.value;return v.callback=function(){fp||(fp=!0,Av=B),Gx(c,u)},v}function qb(c,u,v){v=Fn(-1,v),v.tag=3;var B=c.type.getDerivedStateFromError;if(typeof B=="function"){var P=u.value;v.payload=function(){return B(P)},v.callback=function(){Gx(c,u)}}var $=c.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(v.callback=function(){Gx(c,u),typeof B!="function"&&(RA===null?RA=new Set([this]):RA.add(this));var se=u.stack;this.componentDidCatch(u.value,{componentStack:se!==null?se:""})}),v}function Wb(c,u,v){var B=c.pingCache;if(B===null){B=c.pingCache=new nD;var P=new Set;B.set(u,P)}else P=B.get(u),P===void 0&&(P=new Set,B.set(u,P));P.has(v)||(P.add(v),c=xD.bind(null,c,u,v),u.then(c,c))}function Gb(c){do{var u;if((u=c.tag===13)&&(u=c.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return c;c=c.return}while(c!==null);return null}function Yb(c,u,v,B,P){return(c.mode&1)===0?(c===u?c.flags|=65536:(c.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(u=Fn(-1,1),u.tag=2,kn(v,u,1))),v.lanes|=1),c):(c.flags|=65536,c.lanes=P,c)}var sD=E.ReactCurrentOwner,Ti=!1;function wi(c,u,v,B){u.child=c===null?dn(u,null,v,B):Qn(u,c.child,v,B)}function Xb(c,u,v,B,P){v=v.render;var $=u.ref;return wn(u,P),B=Hd(c,u,v,B,$,P),v=ko(),c!==null&&!Ti?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~P,zc(c,u,P)):(tt&&v&&Ge(u),u.flags|=1,wi(c,u,B,P),u.child)}function Jb(c,u,v,B,P){if(c===null){var $=v.type;return typeof $=="function"&&!gv($)&&$.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(u.tag=15,u.type=$,Zb(c,u,$,B,P)):(c=vp(v.type,null,B,u,u.mode,P),c.ref=u.ref,c.return=u,u.child=c)}if($=c.child,(c.lanes&P)===0){var se=$.memoizedProps;if(v=v.compare,v=v!==null?v:Ws,v(se,B)&&c.ref===u.ref)return zc(c,u,P)}return u.flags|=1,c=HA($,B),c.ref=u.ref,c.return=u,u.child=c}function Zb(c,u,v,B,P){if(c!==null){var $=c.memoizedProps;if(Ws($,B)&&c.ref===u.ref)if(Ti=!1,u.pendingProps=B=$,(c.lanes&P)!==0)(c.flags&131072)!==0&&(Ti=!0);else return u.lanes=c.lanes,zc(c,u,P)}return Yx(c,u,v,B,P)}function e2(c,u,v){var B=u.pendingProps,P=B.children,$=c!==null?c.memoizedState:null;if(B.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ua(Ju,lo),lo|=v;else{if((v&1073741824)===0)return c=$!==null?$.baseLanes|v:v,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:c,cachePool:null,transitions:null},u.updateQueue=null,Ua(Ju,lo),lo|=c,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},B=$!==null?$.baseLanes:v,Ua(Ju,lo),lo|=B}else $!==null?(B=$.baseLanes|v,u.memoizedState=null):B=v,Ua(Ju,lo),lo|=B;return wi(c,u,P,v),u.child}function t2(c,u){var v=u.ref;(c===null&&v!==null||c!==null&&c.ref!==v)&&(u.flags|=512,u.flags|=2097152)}function Yx(c,u,v,B,P){var $=Js(v)?Hc:vs.current;return $=DA(u,$),wn(u,P),v=Hd(c,u,v,B,$,P),B=ko(),c!==null&&!Ti?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~P,zc(c,u,P)):(tt&&B&&Ge(u),u.flags|=1,wi(c,u,v,P),u.child)}function r2(c,u,v,B,P){if(Js(v)){var $=!0;$c(u)}else $=!1;if(wn(u,P),u.stateNode===null)lp(c,u),Kb(u,v,B),qx(u,v,B,P),B=!0;else if(c===null){var se=u.stateNode,ve=u.memoizedProps;se.props=ve;var Ne=se.context,Te=v.contextType;typeof Te=="object"&&Te!==null?Te=yn(Te):(Te=Js(v)?Hc:vs.current,Te=DA(u,Te));var ut=v.getDerivedStateFromProps,ht=typeof ut=="function"||typeof se.getSnapshotBeforeUpdate=="function";ht||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(ve!==B||Ne!==Te)&&zb(u,se,B,Te),Rn=!1;var At=u.memoizedState;se.state=At,Fs(u,B,se,P),Ne=u.memoizedState,ve!==B||At!==Ne||Xs.current||Rn?(typeof ut=="function"&&(Vx(u,v,ut,B),Ne=u.memoizedState),(ve=Rn||$b(u,v,ve,B,At,Ne,Te))?(ht||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(u.flags|=4194308)):(typeof se.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=B,u.memoizedState=Ne),se.props=B,se.state=Ne,se.context=Te,B=ve):(typeof se.componentDidMount=="function"&&(u.flags|=4194308),B=!1)}else{se=u.stateNode,Zs(c,u),ve=u.memoizedProps,Te=u.type===u.elementType?ve:Al(u.type,ve),se.props=Te,ht=u.pendingProps,At=se.context,Ne=v.contextType,typeof Ne=="object"&&Ne!==null?Ne=yn(Ne):(Ne=Js(v)?Hc:vs.current,Ne=DA(u,Ne));var Lt=v.getDerivedStateFromProps;(ut=typeof Lt=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(ve!==ht||At!==Ne)&&zb(u,se,B,Ne),Rn=!1,At=u.memoizedState,se.state=At,Fs(u,B,se,P);var Gt=u.memoizedState;ve!==ht||At!==Gt||Xs.current||Rn?(typeof Lt=="function"&&(Vx(u,v,Lt,B),Gt=u.memoizedState),(Te=Rn||$b(u,v,Te,B,At,Gt,Ne)||!1)?(ut||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(B,Gt,Ne),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(B,Gt,Ne)),typeof se.componentDidUpdate=="function"&&(u.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof se.componentDidUpdate!="function"||ve===c.memoizedProps&&At===c.memoizedState||(u.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||ve===c.memoizedProps&&At===c.memoizedState||(u.flags|=1024),u.memoizedProps=B,u.memoizedState=Gt),se.props=B,se.state=Gt,se.context=Ne,B=Te):(typeof se.componentDidUpdate!="function"||ve===c.memoizedProps&&At===c.memoizedState||(u.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||ve===c.memoizedProps&&At===c.memoizedState||(u.flags|=1024),B=!1)}return Xx(c,u,v,B,$,P)}function Xx(c,u,v,B,P,$){t2(c,u);var se=(u.flags&128)!==0;if(!B&&!se)return P&&Zm(u,v,!1),zc(c,u,$);B=u.stateNode,sD.current=u;var ve=se&&typeof v.getDerivedStateFromError!="function"?null:B.render();return u.flags|=1,c!==null&&se?(u.child=Qn(u,c.child,null,$),u.child=Qn(u,null,ve,$)):wi(c,u,ve,$),u.memoizedState=B.state,P&&Zm(u,v,!0),u.child}function a2(c){var u=c.stateNode;u.pendingContext?Jm(c,u.pendingContext,u.pendingContext!==u.context):u.context&&Jm(c,u.context,!1),UA(c,u.containerInfo)}function n2(c,u,v,B,P){return Tt(),bt(P),u.flags|=256,wi(c,u,v,B),u.child}var Jx={dehydrated:null,treeContext:null,retryLane:0};function Zx(c){return{baseLanes:c,cachePool:null,transitions:null}}function s2(c,u,v){var B=u.pendingProps,P=Ja.current,$=!1,se=(u.flags&128)!==0,ve;if((ve=se)||(ve=c!==null&&c.memoizedState===null?!1:(P&2)!==0),ve?($=!0,u.flags&=-129):(c===null||c.memoizedState!==null)&&(P|=1),Ua(Ja,P&1),c===null)return Wt(u),c=u.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((u.mode&1)===0?u.lanes=1:c.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(se=B.children,c=B.fallback,$?(B=u.mode,$=u.child,se={mode:"hidden",children:se},(B&1)===0&&$!==null?($.childLanes=0,$.pendingProps=se):$=wp(se,B,0,null),c=Gd(c,B,v,null),$.return=u,c.return=u,$.sibling=c,u.child=$,u.child.memoizedState=Zx(v),u.memoizedState=Jx,c):ev(u,se));if(P=c.memoizedState,P!==null&&(ve=P.dehydrated,ve!==null))return iD(c,u,se,B,ve,P,v);if($){$=B.fallback,se=u.mode,P=c.child,ve=P.sibling;var Ne={mode:"hidden",children:B.children};return(se&1)===0&&u.child!==P?(B=u.child,B.childLanes=0,B.pendingProps=Ne,u.deletions=null):(B=HA(P,Ne),B.subtreeFlags=P.subtreeFlags&14680064),ve!==null?$=HA(ve,$):($=Gd($,se,v,null),$.flags|=2),$.return=u,B.return=u,B.sibling=$,u.child=B,B=$,$=u.child,se=c.child.memoizedState,se=se===null?Zx(v):{baseLanes:se.baseLanes|v,cachePool:null,transitions:se.transitions},$.memoizedState=se,$.childLanes=c.childLanes&~v,u.memoizedState=Jx,B}return $=c.child,c=$.sibling,B=HA($,{mode:"visible",children:B.children}),(u.mode&1)===0&&(B.lanes=v),B.return=u,B.sibling=null,c!==null&&(v=u.deletions,v===null?(u.deletions=[c],u.flags|=16):v.push(c)),u.child=B,u.memoizedState=null,B}function ev(c,u){return u=wp({mode:"visible",children:u},c.mode,0,null),u.return=c,c.child=u}function op(c,u,v,B){return B!==null&&bt(B),Qn(u,c.child,null,v),c=ev(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function iD(c,u,v,B,P,$,se){if(v)return u.flags&256?(u.flags&=-257,B=Wx(Error(t(422))),op(c,u,se,B)):u.memoizedState!==null?(u.child=c.child,u.flags|=128,null):($=B.fallback,P=u.mode,B=wp({mode:"visible",children:B.children},P,0,null),$=Gd($,P,se,null),$.flags|=2,B.return=u,$.return=u,B.sibling=$,u.child=B,(u.mode&1)!==0&&Qn(u,c.child,null,se),u.child.memoizedState=Zx(se),u.memoizedState=Jx,$);if((u.mode&1)===0)return op(c,u,se,null);if(P.data==="$!"){if(B=P.nextSibling&&P.nextSibling.dataset,B)var ve=B.dgst;return B=ve,$=Error(t(419)),B=Wx($,B,void 0),op(c,u,se,B)}if(ve=(se&c.childLanes)!==0,Ti||ve){if(B=ks,B!==null){switch(se&-se){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(B.suspendedLanes|se))!==0?0:P,P!==0&&P!==$.retryLane&&($.retryLane=P,Ma(c,P),fl(B,c,P,-1))}return pv(),B=Wx(Error(t(421))),op(c,u,se,B)}return P.data==="$?"?(u.flags|=128,u.child=c.child,u=vD.bind(null,c),P._reactRetry=u,null):(c=$.treeContext,qe=Ms(P.nextSibling),$e=u,tt=!0,rt=null,c!==null&&(ue[fe++]=Ie,ue[fe++]=me,ue[fe++]=je,Ie=c.id,me=c.overflow,je=u),u=ev(u,B.children),u.flags|=4096,u)}function i2(c,u,v){c.lanes|=u;var B=c.alternate;B!==null&&(B.lanes|=u),va(c.return,u,v)}function tv(c,u,v,B,P){var $=c.memoizedState;$===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:B,tail:v,tailMode:P}:($.isBackwards=u,$.rendering=null,$.renderingStartTime=0,$.last=B,$.tail=v,$.tailMode=P)}function o2(c,u,v){var B=u.pendingProps,P=B.revealOrder,$=B.tail;if(wi(c,u,B.children,v),B=Ja.current,(B&2)!==0)B=B&1|2,u.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&i2(c,v,u);else if(c.tag===19)i2(c,v,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}B&=1}if(Ua(Ja,B),(u.mode&1)===0)u.memoizedState=null;else switch(P){case"forwards":for(v=u.child,P=null;v!==null;)c=v.alternate,c!==null&&so(c)===null&&(P=v),v=v.sibling;v=P,v===null?(P=u.child,u.child=null):(P=v.sibling,v.sibling=null),tv(u,!1,P,v,$);break;case"backwards":for(v=null,P=u.child,u.child=null;P!==null;){if(c=P.alternate,c!==null&&so(c)===null){u.child=P;break}c=P.sibling,P.sibling=v,v=P,P=c}tv(u,!0,v,null,$);break;case"together":tv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function lp(c,u){(u.mode&1)===0&&c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2)}function zc(c,u,v){if(c!==null&&(u.dependencies=c.dependencies),zd|=u.lanes,(v&u.childLanes)===0)return null;if(c!==null&&u.child!==c.child)throw Error(t(153));if(u.child!==null){for(c=u.child,v=HA(c,c.pendingProps),u.child=v,v.return=u;c.sibling!==null;)c=c.sibling,v=v.sibling=HA(c,c.pendingProps),v.return=u;v.sibling=null}return u.child}function oD(c,u,v){switch(u.tag){case 3:a2(u),Tt();break;case 5:ep(u);break;case 1:Js(u.type)&&$c(u);break;case 4:UA(u,u.stateNode.containerInfo);break;case 10:var B=u.type._context,P=u.memoizedProps.value;Ua(zn,B._currentValue),B._currentValue=P;break;case 13:if(B=u.memoizedState,B!==null)return B.dehydrated!==null?(Ua(Ja,Ja.current&1),u.flags|=128,null):(v&u.child.childLanes)!==0?s2(c,u,v):(Ua(Ja,Ja.current&1),c=zc(c,u,v),c!==null?c.sibling:null);Ua(Ja,Ja.current&1);break;case 19:if(B=(v&u.childLanes)!==0,(c.flags&128)!==0){if(B)return o2(c,u,v);u.flags|=128}if(P=u.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Ua(Ja,Ja.current),B)break;return null;case 22:case 23:return u.lanes=0,e2(c,u,v)}return zc(c,u,v)}var l2,rv,c2,A2;l2=function(c,u){for(var v=u.child;v!==null;){if(v.tag===5||v.tag===6)c.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===u)break;for(;v.sibling===null;){if(v.return===null||v.return===u)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},rv=function(){},c2=function(c,u,v,B){var P=c.memoizedProps;if(P!==B){c=u.stateNode,ol(cs.current);var $=null;switch(v){case"input":P=he(c,P),B=he(c,B),$=[];break;case"select":P=ce({},P,{value:void 0}),B=ce({},B,{value:void 0}),$=[];break;case"textarea":P=Ct(c,P),B=Ct(c,B),$=[];break;default:typeof P.onClick!="function"&&typeof B.onClick=="function"&&(c.onclick=EA)}Dr(v,B);var se;v=null;for(Te in P)if(!B.hasOwnProperty(Te)&&P.hasOwnProperty(Te)&&P[Te]!=null)if(Te==="style"){var ve=P[Te];for(se in ve)ve.hasOwnProperty(se)&&(v||(v={}),v[se]="")}else Te!=="dangerouslySetInnerHTML"&&Te!=="children"&&Te!=="suppressContentEditableWarning"&&Te!=="suppressHydrationWarning"&&Te!=="autoFocus"&&(s.hasOwnProperty(Te)?$||($=[]):($=$||[]).push(Te,null));for(Te in B){var Ne=B[Te];if(ve=P!=null?P[Te]:void 0,B.hasOwnProperty(Te)&&Ne!==ve&&(Ne!=null||ve!=null))if(Te==="style")if(ve){for(se in ve)!ve.hasOwnProperty(se)||Ne&&Ne.hasOwnProperty(se)||(v||(v={}),v[se]="");for(se in Ne)Ne.hasOwnProperty(se)&&ve[se]!==Ne[se]&&(v||(v={}),v[se]=Ne[se])}else v||($||($=[]),$.push(Te,v)),v=Ne;else Te==="dangerouslySetInnerHTML"?(Ne=Ne?Ne.__html:void 0,ve=ve?ve.__html:void 0,Ne!=null&&ve!==Ne&&($=$||[]).push(Te,Ne)):Te==="children"?typeof Ne!="string"&&typeof Ne!="number"||($=$||[]).push(Te,""+Ne):Te!=="suppressContentEditableWarning"&&Te!=="suppressHydrationWarning"&&(s.hasOwnProperty(Te)?(Ne!=null&&Te==="onScroll"&&Ra("scroll",c),$||ve===Ne||($=[])):($=$||[]).push(Te,Ne))}v&&($=$||[]).push("style",v);var Te=$;(u.updateQueue=Te)&&(u.flags|=4)}},A2=function(c,u,v,B){v!==B&&(u.flags|=4)};function jh(c,u){if(!tt)switch(c.tailMode){case"hidden":u=c.tail;for(var v=null;u!==null;)u.alternate!==null&&(v=u),u=u.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var B=null;v!==null;)v.alternate!==null&&(B=v),v=v.sibling;B===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:B.sibling=null}}function ei(c){var u=c.alternate!==null&&c.alternate.child===c.child,v=0,B=0;if(u)for(var P=c.child;P!==null;)v|=P.lanes|P.childLanes,B|=P.subtreeFlags&14680064,B|=P.flags&14680064,P.return=c,P=P.sibling;else for(P=c.child;P!==null;)v|=P.lanes|P.childLanes,B|=P.subtreeFlags,B|=P.flags,P.return=c,P=P.sibling;return c.subtreeFlags|=B,c.childLanes=v,u}function lD(c,u,v){var B=u.pendingProps;switch(Qe(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ei(u),null;case 1:return Js(u.type)&&Mu(),ei(u),null;case 3:return B=u.stateNode,Eo(),Sa(Xs),Sa(vs),wh(),B.pendingContext&&(B.context=B.pendingContext,B.pendingContext=null),(c===null||c.child===null)&&(vn(u)?u.flags|=4:c===null||c.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,rt!==null&&(fv(rt),rt=null))),rv(c,u),ei(u),null;case 5:xh(u);var P=ol(Ml.current);if(v=u.type,c!==null&&u.stateNode!=null)c2(c,u,v,B,P),c.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!B){if(u.stateNode===null)throw Error(t(166));return ei(u),null}if(c=ol(cs.current),vn(u)){B=u.stateNode,v=u.type;var $=u.memoizedProps;switch(B[_o]=u,B[FA]=$,c=(u.mode&1)!==0,v){case"dialog":Ra("cancel",B),Ra("close",B);break;case"iframe":case"object":case"embed":Ra("load",B);break;case"video":case"audio":for(P=0;P<Ql.length;P++)Ra(Ql[P],B);break;case"source":Ra("error",B);break;case"img":case"image":case"link":Ra("error",B),Ra("load",B);break;case"details":Ra("toggle",B);break;case"input":Ae(B,$),Ra("invalid",B);break;case"select":B._wrapperState={wasMultiple:!!$.multiple},Ra("invalid",B);break;case"textarea":jt(B,$),Ra("invalid",B)}Dr(v,$),P=null;for(var se in $)if($.hasOwnProperty(se)){var ve=$[se];se==="children"?typeof ve=="string"?B.textContent!==ve&&($.suppressHydrationWarning!==!0&&Tu(B.textContent,ve,c),P=["children",ve]):typeof ve=="number"&&B.textContent!==""+ve&&($.suppressHydrationWarning!==!0&&Tu(B.textContent,ve,c),P=["children",""+ve]):s.hasOwnProperty(se)&&ve!=null&&se==="onScroll"&&Ra("scroll",B)}switch(v){case"input":xe(B),pt(B,$,!0);break;case"textarea":xe(B),Mt(B);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(B.onclick=EA)}B=P,u.updateQueue=B,B!==null&&(u.flags|=4)}else{se=P.nodeType===9?P:P.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=zt(v)),c==="http://www.w3.org/1999/xhtml"?v==="script"?(c=se.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof B.is=="string"?c=se.createElement(v,{is:B.is}):(c=se.createElement(v),v==="select"&&(se=c,B.multiple?se.multiple=!0:B.size&&(se.size=B.size))):c=se.createElementNS(c,v),c[_o]=u,c[FA]=B,l2(c,u,!1,!1),u.stateNode=c;e:{switch(se=wt(v,B),v){case"dialog":Ra("cancel",c),Ra("close",c),P=B;break;case"iframe":case"object":case"embed":Ra("load",c),P=B;break;case"video":case"audio":for(P=0;P<Ql.length;P++)Ra(Ql[P],c);P=B;break;case"source":Ra("error",c),P=B;break;case"img":case"image":case"link":Ra("error",c),Ra("load",c),P=B;break;case"details":Ra("toggle",c),P=B;break;case"input":Ae(c,B),P=he(c,B),Ra("invalid",c);break;case"option":P=B;break;case"select":c._wrapperState={wasMultiple:!!B.multiple},P=ce({},B,{value:void 0}),Ra("invalid",c);break;case"textarea":jt(c,B),P=Ct(c,B),Ra("invalid",c);break;default:P=B}Dr(v,P),ve=P;for($ in ve)if(ve.hasOwnProperty($)){var Ne=ve[$];$==="style"?Ot(c,Ne):$==="dangerouslySetInnerHTML"?(Ne=Ne?Ne.__html:void 0,Ne!=null&&_t(c,Ne)):$==="children"?typeof Ne=="string"?(v!=="textarea"||Ne!=="")&&Et(c,Ne):typeof Ne=="number"&&Et(c,""+Ne):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(s.hasOwnProperty($)?Ne!=null&&$==="onScroll"&&Ra("scroll",c):Ne!=null&&C(c,$,Ne,se))}switch(v){case"input":xe(c),pt(c,B,!1);break;case"textarea":xe(c),Mt(c);break;case"option":B.value!=null&&c.setAttribute("value",""+Z(B.value));break;case"select":c.multiple=!!B.multiple,$=B.value,$!=null?Ke(c,!!B.multiple,$,!1):B.defaultValue!=null&&Ke(c,!!B.multiple,B.defaultValue,!0);break;default:typeof P.onClick=="function"&&(c.onclick=EA)}switch(v){case"button":case"input":case"select":case"textarea":B=!!B.autoFocus;break e;case"img":B=!0;break e;default:B=!1}}B&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return ei(u),null;case 6:if(c&&u.stateNode!=null)A2(c,u,c.memoizedProps,B);else{if(typeof B!="string"&&u.stateNode===null)throw Error(t(166));if(v=ol(Ml.current),ol(cs.current),vn(u)){if(B=u.stateNode,v=u.memoizedProps,B[_o]=u,($=B.nodeValue!==v)&&(c=$e,c!==null))switch(c.tag){case 3:Tu(B.nodeValue,v,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Tu(B.nodeValue,v,(c.mode&1)!==0)}$&&(u.flags|=4)}else B=(v.nodeType===9?v:v.ownerDocument).createTextNode(B),B[_o]=u,u.stateNode=B}return ei(u),null;case 13:if(Sa(Ja),B=u.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(tt&&qe!==null&&(u.mode&1)!==0&&(u.flags&128)===0)Lr(),Tt(),u.flags|=98560,$=!1;else if($=vn(u),B!==null&&B.dehydrated!==null){if(c===null){if(!$)throw Error(t(318));if($=u.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(t(317));$[_o]=u}else Tt(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;ei(u),$=!1}else rt!==null&&(fv(rt),rt=null),$=!0;if(!$)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=v,u):(B=B!==null,B!==(c!==null&&c.memoizedState!==null)&&B&&(u.child.flags|=8192,(u.mode&1)!==0&&(c===null||(Ja.current&1)!==0?ys===0&&(ys=3):pv())),u.updateQueue!==null&&(u.flags|=4),ei(u),null);case 4:return Eo(),rv(c,u),c===null&&Rc(u.stateNode.containerInfo),ei(u),null;case 10:return tn(u.type._context),ei(u),null;case 17:return Js(u.type)&&Mu(),ei(u),null;case 19:if(Sa(Ja),$=u.memoizedState,$===null)return ei(u),null;if(B=(u.flags&128)!==0,se=$.rendering,se===null)if(B)jh($,!1);else{if(ys!==0||c!==null&&(c.flags&128)!==0)for(c=u.child;c!==null;){if(se=so(c),se!==null){for(u.flags|=128,jh($,!1),B=se.updateQueue,B!==null&&(u.updateQueue=B,u.flags|=4),u.subtreeFlags=0,B=v,v=u.child;v!==null;)$=v,c=B,$.flags&=14680066,se=$.alternate,se===null?($.childLanes=0,$.lanes=c,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=se.childLanes,$.lanes=se.lanes,$.child=se.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=se.memoizedProps,$.memoizedState=se.memoizedState,$.updateQueue=se.updateQueue,$.type=se.type,c=se.dependencies,$.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),v=v.sibling;return Ua(Ja,Ja.current&1|2),u.child}c=c.sibling}$.tail!==null&&er()>Zu&&(u.flags|=128,B=!0,jh($,!1),u.lanes=4194304)}else{if(!B)if(c=so(se),c!==null){if(u.flags|=128,B=!0,v=c.updateQueue,v!==null&&(u.updateQueue=v,u.flags|=4),jh($,!0),$.tail===null&&$.tailMode==="hidden"&&!se.alternate&&!tt)return ei(u),null}else 2*er()-$.renderingStartTime>Zu&&v!==1073741824&&(u.flags|=128,B=!0,jh($,!1),u.lanes=4194304);$.isBackwards?(se.sibling=u.child,u.child=se):(v=$.last,v!==null?v.sibling=se:u.child=se,$.last=se)}return $.tail!==null?(u=$.tail,$.rendering=u,$.tail=u.sibling,$.renderingStartTime=er(),u.sibling=null,v=Ja.current,Ua(Ja,B?v&1|2:v&1),u):(ei(u),null);case 22:case 23:return mv(),B=u.memoizedState!==null,c!==null&&c.memoizedState!==null!==B&&(u.flags|=8192),B&&(u.mode&1)!==0?(lo&1073741824)!==0&&(ei(u),u.subtreeFlags&6&&(u.flags|=8192)):ei(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function cD(c,u){switch(Qe(u),u.tag){case 1:return Js(u.type)&&Mu(),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return Eo(),Sa(Xs),Sa(vs),wh(),c=u.flags,(c&65536)!==0&&(c&128)===0?(u.flags=c&-65537|128,u):null;case 5:return xh(u),null;case 13:if(Sa(Ja),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(t(340));Tt()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return Sa(Ja),null;case 4:return Eo(),null;case 10:return tn(u.type._context),null;case 22:case 23:return mv(),null;case 24:return null;default:return null}}var cp=!1,ti=!1,AD=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function Xu(c,u){var v=c.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(B){Mn(c,u,B)}else v.current=null}function av(c,u,v){try{v()}catch(B){Mn(c,u,B)}}var d2=!1;function dD(c,u){if(Td=vA,c=Pn(),ro(c)){if("selectionStart"in c)var v={start:c.selectionStart,end:c.selectionEnd};else e:{v=(v=c.ownerDocument)&&v.defaultView||window;var B=v.getSelection&&v.getSelection();if(B&&B.rangeCount!==0){v=B.anchorNode;var P=B.anchorOffset,$=B.focusNode;B=B.focusOffset;try{v.nodeType,$.nodeType}catch{v=null;break e}var se=0,ve=-1,Ne=-1,Te=0,ut=0,ht=c,At=null;t:for(;;){for(var Lt;ht!==v||P!==0&&ht.nodeType!==3||(ve=se+P),ht!==$||B!==0&&ht.nodeType!==3||(Ne=se+B),ht.nodeType===3&&(se+=ht.nodeValue.length),(Lt=ht.firstChild)!==null;)At=ht,ht=Lt;for(;;){if(ht===c)break t;if(At===v&&++Te===P&&(ve=se),At===$&&++ut===B&&(Ne=se),(Lt=ht.nextSibling)!==null)break;ht=At,At=ht.parentNode}ht=Lt}v=ve===-1||Ne===-1?null:{start:ve,end:Ne}}else v=null}v=v||{start:0,end:0}}else v=null;for(Mc={focusedElem:c,selectionRange:v},vA=!1,Kt=u;Kt!==null;)if(u=Kt,c=u.child,(u.subtreeFlags&1028)!==0&&c!==null)c.return=u,Kt=c;else for(;Kt!==null;){u=Kt;try{var Gt=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Gt!==null){var Jt=Gt.memoizedProps,qn=Gt.memoizedState,Pe=u.stateNode,Ce=Pe.getSnapshotBeforeUpdate(u.elementType===u.type?Jt:Al(u.type,Jt),qn);Pe.__reactInternalSnapshotBeforeUpdate=Ce}break;case 3:var Re=u.stateNode.containerInfo;Re.nodeType===1?Re.textContent="":Re.nodeType===9&&Re.documentElement&&Re.removeChild(Re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(xt){Mn(u,u.return,xt)}if(c=u.sibling,c!==null){c.return=u.return,Kt=c;break}Kt=u.return}return Gt=d2,d2=!1,Gt}function Nh(c,u,v){var B=u.updateQueue;if(B=B!==null?B.lastEffect:null,B!==null){var P=B=B.next;do{if((P.tag&c)===c){var $=P.destroy;P.destroy=void 0,$!==void 0&&av(u,v,$)}P=P.next}while(P!==B)}}function Ap(c,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var v=u=u.next;do{if((v.tag&c)===c){var B=v.create;v.destroy=B()}v=v.next}while(v!==u)}}function nv(c){var u=c.ref;if(u!==null){var v=c.stateNode;switch(c.tag){case 5:c=v;break;default:c=v}typeof u=="function"?u(c):u.current=c}}function u2(c){var u=c.alternate;u!==null&&(c.alternate=null,u2(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&(delete u[_o],delete u[FA],delete u[Ys],delete u[Hx],delete u[$x])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function f2(c){return c.tag===5||c.tag===3||c.tag===4}function h2(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||f2(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function sv(c,u,v){var B=c.tag;if(B===5||B===6)c=c.stateNode,u?v.nodeType===8?v.parentNode.insertBefore(c,u):v.insertBefore(c,u):(v.nodeType===8?(u=v.parentNode,u.insertBefore(c,v)):(u=v,u.appendChild(c)),v=v._reactRootContainer,v!=null||u.onclick!==null||(u.onclick=EA));else if(B!==4&&(c=c.child,c!==null))for(sv(c,u,v),c=c.sibling;c!==null;)sv(c,u,v),c=c.sibling}function iv(c,u,v){var B=c.tag;if(B===5||B===6)c=c.stateNode,u?v.insertBefore(c,u):v.appendChild(c);else if(B!==4&&(c=c.child,c!==null))for(iv(c,u,v),c=c.sibling;c!==null;)iv(c,u,v),c=c.sibling}var Os=null,dl=!1;function QA(c,u,v){for(v=v.child;v!==null;)m2(c,u,v),v=v.sibling}function m2(c,u,v){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(Rs,v)}catch{}switch(v.tag){case 5:ti||Xu(v,u);case 6:var B=Os,P=dl;Os=null,QA(c,u,v),Os=B,dl=P,Os!==null&&(dl?(c=Os,v=v.stateNode,c.nodeType===8?c.parentNode.removeChild(v):c.removeChild(v)):Os.removeChild(v.stateNode));break;case 18:Os!==null&&(dl?(c=Os,v=v.stateNode,c.nodeType===8?mh(c.parentNode,v):c.nodeType===1&&mh(c,v),yo(c)):mh(Os,v.stateNode));break;case 4:B=Os,P=dl,Os=v.stateNode.containerInfo,dl=!0,QA(c,u,v),Os=B,dl=P;break;case 0:case 11:case 14:case 15:if(!ti&&(B=v.updateQueue,B!==null&&(B=B.lastEffect,B!==null))){P=B=B.next;do{var $=P,se=$.destroy;$=$.tag,se!==void 0&&(($&2)!==0||($&4)!==0)&&av(v,u,se),P=P.next}while(P!==B)}QA(c,u,v);break;case 1:if(!ti&&(Xu(v,u),B=v.stateNode,typeof B.componentWillUnmount=="function"))try{B.props=v.memoizedProps,B.state=v.memoizedState,B.componentWillUnmount()}catch(ve){Mn(v,u,ve)}QA(c,u,v);break;case 21:QA(c,u,v);break;case 22:v.mode&1?(ti=(B=ti)||v.memoizedState!==null,QA(c,u,v),ti=B):QA(c,u,v);break;default:QA(c,u,v)}}function p2(c){var u=c.updateQueue;if(u!==null){c.updateQueue=null;var v=c.stateNode;v===null&&(v=c.stateNode=new AD),u.forEach(function(B){var P=wD.bind(null,c,B);v.has(B)||(v.add(B),B.then(P,P))})}}function ul(c,u){var v=u.deletions;if(v!==null)for(var B=0;B<v.length;B++){var P=v[B];try{var $=c,se=u,ve=se;e:for(;ve!==null;){switch(ve.tag){case 5:Os=ve.stateNode,dl=!1;break e;case 3:Os=ve.stateNode.containerInfo,dl=!0;break e;case 4:Os=ve.stateNode.containerInfo,dl=!0;break e}ve=ve.return}if(Os===null)throw Error(t(160));m2($,se,P),Os=null,dl=!1;var Ne=P.alternate;Ne!==null&&(Ne.return=null),P.return=null}catch(Te){Mn(P,u,Te)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)g2(u,c),u=u.sibling}function g2(c,u){var v=c.alternate,B=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(ul(u,c),Hl(c),B&4){try{Nh(3,c,c.return),Ap(3,c)}catch(Jt){Mn(c,c.return,Jt)}try{Nh(5,c,c.return)}catch(Jt){Mn(c,c.return,Jt)}}break;case 1:ul(u,c),Hl(c),B&512&&v!==null&&Xu(v,v.return);break;case 5:if(ul(u,c),Hl(c),B&512&&v!==null&&Xu(v,v.return),c.flags&32){var P=c.stateNode;try{Et(P,"")}catch(Jt){Mn(c,c.return,Jt)}}if(B&4&&(P=c.stateNode,P!=null)){var $=c.memoizedProps,se=v!==null?v.memoizedProps:$,ve=c.type,Ne=c.updateQueue;if(c.updateQueue=null,Ne!==null)try{ve==="input"&&$.type==="radio"&&$.name!=null&&ct(P,$),wt(ve,se);var Te=wt(ve,$);for(se=0;se<Ne.length;se+=2){var ut=Ne[se],ht=Ne[se+1];ut==="style"?Ot(P,ht):ut==="dangerouslySetInnerHTML"?_t(P,ht):ut==="children"?Et(P,ht):C(P,ut,ht,Te)}switch(ve){case"input":gt(P,$);break;case"textarea":ur(P,$);break;case"select":var At=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!$.multiple;var Lt=$.value;Lt!=null?Ke(P,!!$.multiple,Lt,!1):At!==!!$.multiple&&($.defaultValue!=null?Ke(P,!!$.multiple,$.defaultValue,!0):Ke(P,!!$.multiple,$.multiple?[]:"",!1))}P[FA]=$}catch(Jt){Mn(c,c.return,Jt)}}break;case 6:if(ul(u,c),Hl(c),B&4){if(c.stateNode===null)throw Error(t(162));P=c.stateNode,$=c.memoizedProps;try{P.nodeValue=$}catch(Jt){Mn(c,c.return,Jt)}}break;case 3:if(ul(u,c),Hl(c),B&4&&v!==null&&v.memoizedState.isDehydrated)try{yo(u.containerInfo)}catch(Jt){Mn(c,c.return,Jt)}break;case 4:ul(u,c),Hl(c);break;case 13:ul(u,c),Hl(c),P=c.child,P.flags&8192&&($=P.memoizedState!==null,P.stateNode.isHidden=$,!$||P.alternate!==null&&P.alternate.memoizedState!==null||(cv=er())),B&4&&p2(c);break;case 22:if(ut=v!==null&&v.memoizedState!==null,c.mode&1?(ti=(Te=ti)||ut,ul(u,c),ti=Te):ul(u,c),Hl(c),B&8192){if(Te=c.memoizedState!==null,(c.stateNode.isHidden=Te)&&!ut&&(c.mode&1)!==0)for(Kt=c,ut=c.child;ut!==null;){for(ht=Kt=ut;Kt!==null;){switch(At=Kt,Lt=At.child,At.tag){case 0:case 11:case 14:case 15:Nh(4,At,At.return);break;case 1:Xu(At,At.return);var Gt=At.stateNode;if(typeof Gt.componentWillUnmount=="function"){B=At,v=At.return;try{u=B,Gt.props=u.memoizedProps,Gt.state=u.memoizedState,Gt.componentWillUnmount()}catch(Jt){Mn(B,v,Jt)}}break;case 5:Xu(At,At.return);break;case 22:if(At.memoizedState!==null){w2(ht);continue}}Lt!==null?(Lt.return=At,Kt=Lt):w2(ht)}ut=ut.sibling}e:for(ut=null,ht=c;;){if(ht.tag===5){if(ut===null){ut=ht;try{P=ht.stateNode,Te?($=P.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(ve=ht.stateNode,Ne=ht.memoizedProps.style,se=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null,ve.style.display=Qr("display",se))}catch(Jt){Mn(c,c.return,Jt)}}}else if(ht.tag===6){if(ut===null)try{ht.stateNode.nodeValue=Te?"":ht.memoizedProps}catch(Jt){Mn(c,c.return,Jt)}}else if((ht.tag!==22&&ht.tag!==23||ht.memoizedState===null||ht===c)&&ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===c)break e;for(;ht.sibling===null;){if(ht.return===null||ht.return===c)break e;ut===ht&&(ut=null),ht=ht.return}ut===ht&&(ut=null),ht.sibling.return=ht.return,ht=ht.sibling}}break;case 19:ul(u,c),Hl(c),B&4&&p2(c);break;case 21:break;default:ul(u,c),Hl(c)}}function Hl(c){var u=c.flags;if(u&2){try{e:{for(var v=c.return;v!==null;){if(f2(v)){var B=v;break e}v=v.return}throw Error(t(160))}switch(B.tag){case 5:var P=B.stateNode;B.flags&32&&(Et(P,""),B.flags&=-33);var $=h2(c);iv(c,$,P);break;case 3:case 4:var se=B.stateNode.containerInfo,ve=h2(c);sv(c,ve,se);break;default:throw Error(t(161))}}catch(Ne){Mn(c,c.return,Ne)}c.flags&=-3}u&4096&&(c.flags&=-4097)}function uD(c,u,v){Kt=c,x2(c)}function x2(c,u,v){for(var B=(c.mode&1)!==0;Kt!==null;){var P=Kt,$=P.child;if(P.tag===22&&B){var se=P.memoizedState!==null||cp;if(!se){var ve=P.alternate,Ne=ve!==null&&ve.memoizedState!==null||ti;ve=cp;var Te=ti;if(cp=se,(ti=Ne)&&!Te)for(Kt=P;Kt!==null;)se=Kt,Ne=se.child,se.tag===22&&se.memoizedState!==null?y2(P):Ne!==null?(Ne.return=se,Kt=Ne):y2(P);for(;$!==null;)Kt=$,x2($),$=$.sibling;Kt=P,cp=ve,ti=Te}v2(c)}else(P.subtreeFlags&8772)!==0&&$!==null?($.return=P,Kt=$):v2(c)}}function v2(c){for(;Kt!==null;){var u=Kt;if((u.flags&8772)!==0){var v=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:ti||Ap(5,u);break;case 1:var B=u.stateNode;if(u.flags&4&&!ti)if(v===null)B.componentDidMount();else{var P=u.elementType===u.type?v.memoizedProps:Al(u.type,v.memoizedProps);B.componentDidUpdate(P,v.memoizedState,B.__reactInternalSnapshotBeforeUpdate)}var $=u.updateQueue;$!==null&&Ri(u,$,B);break;case 3:var se=u.updateQueue;if(se!==null){if(v=null,u.child!==null)switch(u.child.tag){case 5:v=u.child.stateNode;break;case 1:v=u.child.stateNode}Ri(u,se,v)}break;case 5:var ve=u.stateNode;if(v===null&&u.flags&4){v=ve;var Ne=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":Ne.autoFocus&&v.focus();break;case"img":Ne.src&&(v.src=Ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Te=u.alternate;if(Te!==null){var ut=Te.memoizedState;if(ut!==null){var ht=ut.dehydrated;ht!==null&&yo(ht)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ti||u.flags&512&&nv(u)}catch(At){Mn(u,u.return,At)}}if(u===c){Kt=null;break}if(v=u.sibling,v!==null){v.return=u.return,Kt=v;break}Kt=u.return}}function w2(c){for(;Kt!==null;){var u=Kt;if(u===c){Kt=null;break}var v=u.sibling;if(v!==null){v.return=u.return,Kt=v;break}Kt=u.return}}function y2(c){for(;Kt!==null;){var u=Kt;try{switch(u.tag){case 0:case 11:case 15:var v=u.return;try{Ap(4,u)}catch(Ne){Mn(u,v,Ne)}break;case 1:var B=u.stateNode;if(typeof B.componentDidMount=="function"){var P=u.return;try{B.componentDidMount()}catch(Ne){Mn(u,P,Ne)}}var $=u.return;try{nv(u)}catch(Ne){Mn(u,$,Ne)}break;case 5:var se=u.return;try{nv(u)}catch(Ne){Mn(u,se,Ne)}}}catch(Ne){Mn(u,u.return,Ne)}if(u===c){Kt=null;break}var ve=u.sibling;if(ve!==null){ve.return=u.return,Kt=ve;break}Kt=u.return}}var fD=Math.ceil,dp=E.ReactCurrentDispatcher,ov=E.ReactCurrentOwner,Do=E.ReactCurrentBatchConfig,wa=0,ks=null,As=null,Hs=0,lo=0,Ju=ao(0),ys=0,Bh=null,zd=0,up=0,lv=0,Ch=null,Mi=null,cv=0,Zu=1/0,Vc=null,fp=!1,Av=null,RA=null,hp=!1,TA=null,mp=0,Sh=0,dv=null,pp=-1,gp=0;function yi(){return(wa&6)!==0?er():pp!==-1?pp:pp=er()}function MA(c){return(c.mode&1)===0?1:(wa&2)!==0&&Hs!==0?Hs&-Hs:En.transition!==null?(gp===0&&(gp=Cn()),gp):(c=la,c!==0||(c=window.event,c=c===void 0?16:Nc(c.type)),c)}function fl(c,u,v,B){if(50<Sh)throw Sh=0,dv=null,Error(t(185));cn(c,v,B),((wa&2)===0||c!==ks)&&(c===ks&&((wa&2)===0&&(up|=v),ys===4&&OA(c,Hs)),Oi(c,B),v===1&&wa===0&&(u.mode&1)===0&&(Zu=er()+500,Od&&W()))}function Oi(c,u){var v=c.callbackNode;aa(c,u);var B=Xr(c,c===ks?Hs:0);if(B===0)v!==null&&Yr(v),c.callbackNode=null,c.callbackPriority=0;else if(u=B&-B,c.callbackPriority!==u){if(v!=null&&Yr(v),u===1)c.tag===0?M(j2.bind(null,c)):S(j2.bind(null,c)),Mx(function(){(wa&6)===0&&W()}),v=null;else{switch(mn(B)){case 1:v=Rr;break;case 4:v=Ur;break;case 16:v=Vt;break;case 536870912:v=on;break;default:v=Vt}v=k2(v,b2.bind(null,c))}c.callbackPriority=u,c.callbackNode=v}}function b2(c,u){if(pp=-1,gp=0,(wa&6)!==0)throw Error(t(327));var v=c.callbackNode;if(ef()&&c.callbackNode!==v)return null;var B=Xr(c,c===ks?Hs:0);if(B===0)return null;if((B&30)!==0||(B&c.expiredLanes)!==0||u)u=xp(c,B);else{u=B;var P=wa;wa|=2;var $=B2();(ks!==c||Hs!==u)&&(Vc=null,Zu=er()+500,qd(c,u));do try{pD();break}catch(ve){N2(c,ve)}while(!0);xa(),dp.current=$,wa=P,As!==null?u=0:(ks=null,Hs=0,u=ys)}if(u!==0){if(u===2&&(P=ma(c),P!==0&&(B=P,u=uv(c,P))),u===1)throw v=Bh,qd(c,0),OA(c,B),Oi(c,er()),v;if(u===6)OA(c,B);else{if(P=c.current.alternate,(B&30)===0&&!hD(P)&&(u=xp(c,B),u===2&&($=ma(c),$!==0&&(B=$,u=uv(c,$))),u===1))throw v=Bh,qd(c,0),OA(c,B),Oi(c,er()),v;switch(c.finishedWork=P,c.finishedLanes=B,u){case 0:case 1:throw Error(t(345));case 2:Wd(c,Mi,Vc);break;case 3:if(OA(c,B),(B&130023424)===B&&(u=cv+500-er(),10<u)){if(Xr(c,0)!==0)break;if(P=c.suspendedLanes,(P&B)!==B){yi(),c.pingedLanes|=c.suspendedLanes&P;break}c.timeoutHandle=hh(Wd.bind(null,c,Mi,Vc),u);break}Wd(c,Mi,Vc);break;case 4:if(OA(c,B),(B&4194240)===B)break;for(u=c.eventTimes,P=-1;0<B;){var se=31-Ba(B);$=1<<se,se=u[se],se>P&&(P=se),B&=~$}if(B=P,B=er()-B,B=(120>B?120:480>B?480:1080>B?1080:1920>B?1920:3e3>B?3e3:4320>B?4320:1960*fD(B/1960))-B,10<B){c.timeoutHandle=hh(Wd.bind(null,c,Mi,Vc),B);break}Wd(c,Mi,Vc);break;case 5:Wd(c,Mi,Vc);break;default:throw Error(t(329))}}}return Oi(c,er()),c.callbackNode===v?b2.bind(null,c):null}function uv(c,u){var v=Ch;return c.current.memoizedState.isDehydrated&&(qd(c,u).flags|=256),c=xp(c,u),c!==2&&(u=Mi,Mi=v,u!==null&&fv(u)),c}function fv(c){Mi===null?Mi=c:Mi.push.apply(Mi,c)}function hD(c){for(var u=c;;){if(u.flags&16384){var v=u.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var B=0;B<v.length;B++){var P=v[B],$=P.getSnapshot;P=P.value;try{if(!gn($(),P))return!1}catch{return!1}}}if(v=u.child,u.subtreeFlags&16384&&v!==null)v.return=u,u=v;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function OA(c,u){for(u&=~lv,u&=~up,c.suspendedLanes|=u,c.pingedLanes&=~u,c=c.expirationTimes;0<u;){var v=31-Ba(u),B=1<<v;c[v]=-1,u&=~B}}function j2(c){if((wa&6)!==0)throw Error(t(327));ef();var u=Xr(c,0);if((u&1)===0)return Oi(c,er()),null;var v=xp(c,u);if(c.tag!==0&&v===2){var B=ma(c);B!==0&&(u=B,v=uv(c,B))}if(v===1)throw v=Bh,qd(c,0),OA(c,u),Oi(c,er()),v;if(v===6)throw Error(t(345));return c.finishedWork=c.current.alternate,c.finishedLanes=u,Wd(c,Mi,Vc),Oi(c,er()),null}function hv(c,u){var v=wa;wa|=1;try{return c(u)}finally{wa=v,wa===0&&(Zu=er()+500,Od&&W())}}function Vd(c){TA!==null&&TA.tag===0&&(wa&6)===0&&ef();var u=wa;wa|=1;var v=Do.transition,B=la;try{if(Do.transition=null,la=1,c)return c()}finally{la=B,Do.transition=v,wa=u,(wa&6)===0&&W()}}function mv(){lo=Ju.current,Sa(Ju)}function qd(c,u){c.finishedWork=null,c.finishedLanes=0;var v=c.timeoutHandle;if(v!==-1&&(c.timeoutHandle=-1,Ym(v)),As!==null)for(v=As.return;v!==null;){var B=v;switch(Qe(B),B.tag){case 1:B=B.type.childContextTypes,B!=null&&Mu();break;case 3:Eo(),Sa(Xs),Sa(vs),wh();break;case 5:xh(B);break;case 4:Eo();break;case 13:Sa(Ja);break;case 19:Sa(Ja);break;case 10:tn(B.type._context);break;case 22:case 23:mv()}v=v.return}if(ks=c,As=c=HA(c.current,null),Hs=lo=u,ys=0,Bh=null,lv=up=zd=0,Mi=Ch=null,Ta!==null){for(u=0;u<Ta.length;u++)if(v=Ta[u],B=v.interleaved,B!==null){v.interleaved=null;var P=B.next,$=v.pending;if($!==null){var se=$.next;$.next=P,B.next=se}v.pending=B}Ta=null}return c}function N2(c,u){do{var v=As;try{if(xa(),Ou.current=sp,LA){for(var B=rn.memoizedState;B!==null;){var P=B.queue;P!==null&&(P.pending=null),B=B.next}LA=!1}if(Fo=0,Un=Tn=rn=null,ll=!1,IA=0,ov.current=null,v===null||v.return===null){ys=1,Bh=u,As=null;break}e:{var $=c,se=v.return,ve=v,Ne=u;if(u=Hs,ve.flags|=32768,Ne!==null&&typeof Ne=="object"&&typeof Ne.then=="function"){var Te=Ne,ut=ve,ht=ut.tag;if((ut.mode&1)===0&&(ht===0||ht===11||ht===15)){var At=ut.alternate;At?(ut.updateQueue=At.updateQueue,ut.memoizedState=At.memoizedState,ut.lanes=At.lanes):(ut.updateQueue=null,ut.memoizedState=null)}var Lt=Gb(se);if(Lt!==null){Lt.flags&=-257,Yb(Lt,se,ve,$,u),Lt.mode&1&&Wb($,Te,u),u=Lt,Ne=Te;var Gt=u.updateQueue;if(Gt===null){var Jt=new Set;Jt.add(Ne),u.updateQueue=Jt}else Gt.add(Ne);break e}else{if((u&1)===0){Wb($,Te,u),pv();break e}Ne=Error(t(426))}}else if(tt&&ve.mode&1){var qn=Gb(se);if(qn!==null){(qn.flags&65536)===0&&(qn.flags|=256),Yb(qn,se,ve,$,u),bt(Yu(Ne,ve));break e}}$=Ne=Yu(Ne,ve),ys!==4&&(ys=2),Ch===null?Ch=[$]:Ch.push($),$=se;do{switch($.tag){case 3:$.flags|=65536,u&=-u,$.lanes|=u;var Pe=Vb($,Ne,u);Oa($,Pe);break e;case 1:ve=Ne;var Ce=$.type,Re=$.stateNode;if(($.flags&128)===0&&(typeof Ce.getDerivedStateFromError=="function"||Re!==null&&typeof Re.componentDidCatch=="function"&&(RA===null||!RA.has(Re)))){$.flags|=65536,u&=-u,$.lanes|=u;var xt=qb($,ve,u);Oa($,xt);break e}}$=$.return}while($!==null)}S2(v)}catch(ar){u=ar,As===v&&v!==null&&(As=v=v.return);continue}break}while(!0)}function B2(){var c=dp.current;return dp.current=sp,c===null?sp:c}function pv(){(ys===0||ys===3||ys===2)&&(ys=4),ks===null||(zd&268435455)===0&&(up&268435455)===0||OA(ks,Hs)}function xp(c,u){var v=wa;wa|=2;var B=B2();(ks!==c||Hs!==u)&&(Vc=null,qd(c,u));do try{mD();break}catch(P){N2(c,P)}while(!0);if(xa(),wa=v,dp.current=B,As!==null)throw Error(t(261));return ks=null,Hs=0,ys}function mD(){for(;As!==null;)C2(As)}function pD(){for(;As!==null&&!Qt();)C2(As)}function C2(c){var u=F2(c.alternate,c,lo);c.memoizedProps=c.pendingProps,u===null?S2(c):As=u,ov.current=null}function S2(c){var u=c;do{var v=u.alternate;if(c=u.return,(u.flags&32768)===0){if(v=lD(v,u,lo),v!==null){As=v;return}}else{if(v=cD(v,u),v!==null){v.flags&=32767,As=v;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{ys=6,As=null;return}}if(u=u.sibling,u!==null){As=u;return}As=u=c}while(u!==null);ys===0&&(ys=5)}function Wd(c,u,v){var B=la,P=Do.transition;try{Do.transition=null,la=1,gD(c,u,v,B)}finally{Do.transition=P,la=B}return null}function gD(c,u,v,B){do ef();while(TA!==null);if((wa&6)!==0)throw Error(t(327));v=c.finishedWork;var P=c.finishedLanes;if(v===null)return null;if(c.finishedWork=null,c.finishedLanes=0,v===c.current)throw Error(t(177));c.callbackNode=null,c.callbackPriority=0;var $=v.lanes|v.childLanes;if(Ca(c,$),c===ks&&(As=ks=null,Hs=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||hp||(hp=!0,k2(Vt,function(){return ef(),null})),$=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||$){$=Do.transition,Do.transition=null;var se=la;la=1;var ve=wa;wa|=4,ov.current=null,dD(c,v),g2(v,c),kd(Mc),vA=!!Td,Mc=Td=null,c.current=v,uD(v),ja(),wa=ve,la=se,Do.transition=$}else c.current=v;if(hp&&(hp=!1,TA=c,mp=P),$=c.pendingLanes,$===0&&(RA=null),Wo(v.stateNode),Oi(c,er()),u!==null)for(B=c.onRecoverableError,v=0;v<u.length;v++)P=u[v],B(P.value,{componentStack:P.stack,digest:P.digest});if(fp)throw fp=!1,c=Av,Av=null,c;return(mp&1)!==0&&c.tag!==0&&ef(),$=c.pendingLanes,($&1)!==0?c===dv?Sh++:(Sh=0,dv=c):Sh=0,W(),null}function ef(){if(TA!==null){var c=mn(mp),u=Do.transition,v=la;try{if(Do.transition=null,la=16>c?16:c,TA===null)var B=!1;else{if(c=TA,TA=null,mp=0,(wa&6)!==0)throw Error(t(331));var P=wa;for(wa|=4,Kt=c.current;Kt!==null;){var $=Kt,se=$.child;if((Kt.flags&16)!==0){var ve=$.deletions;if(ve!==null){for(var Ne=0;Ne<ve.length;Ne++){var Te=ve[Ne];for(Kt=Te;Kt!==null;){var ut=Kt;switch(ut.tag){case 0:case 11:case 15:Nh(8,ut,$)}var ht=ut.child;if(ht!==null)ht.return=ut,Kt=ht;else for(;Kt!==null;){ut=Kt;var At=ut.sibling,Lt=ut.return;if(u2(ut),ut===Te){Kt=null;break}if(At!==null){At.return=Lt,Kt=At;break}Kt=Lt}}}var Gt=$.alternate;if(Gt!==null){var Jt=Gt.child;if(Jt!==null){Gt.child=null;do{var qn=Jt.sibling;Jt.sibling=null,Jt=qn}while(Jt!==null)}}Kt=$}}if(($.subtreeFlags&2064)!==0&&se!==null)se.return=$,Kt=se;else e:for(;Kt!==null;){if($=Kt,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:Nh(9,$,$.return)}var Pe=$.sibling;if(Pe!==null){Pe.return=$.return,Kt=Pe;break e}Kt=$.return}}var Ce=c.current;for(Kt=Ce;Kt!==null;){se=Kt;var Re=se.child;if((se.subtreeFlags&2064)!==0&&Re!==null)Re.return=se,Kt=Re;else e:for(se=Ce;Kt!==null;){if(ve=Kt,(ve.flags&2048)!==0)try{switch(ve.tag){case 0:case 11:case 15:Ap(9,ve)}}catch(ar){Mn(ve,ve.return,ar)}if(ve===se){Kt=null;break e}var xt=ve.sibling;if(xt!==null){xt.return=ve.return,Kt=xt;break e}Kt=ve.return}}if(wa=P,W(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(Rs,c)}catch{}B=!0}return B}finally{la=v,Do.transition=u}}return!1}function _2(c,u,v){u=Yu(v,u),u=Vb(c,u,1),c=kn(c,u,1),u=yi(),c!==null&&(cn(c,1,u),Oi(c,u))}function Mn(c,u,v){if(c.tag===3)_2(c,c,v);else for(;u!==null;){if(u.tag===3){_2(u,c,v);break}else if(u.tag===1){var B=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof B.componentDidCatch=="function"&&(RA===null||!RA.has(B))){c=Yu(v,c),c=qb(u,c,1),u=kn(u,c,1),c=yi(),u!==null&&(cn(u,1,c),Oi(u,c));break}}u=u.return}}function xD(c,u,v){var B=c.pingCache;B!==null&&B.delete(u),u=yi(),c.pingedLanes|=c.suspendedLanes&v,ks===c&&(Hs&v)===v&&(ys===4||ys===3&&(Hs&130023424)===Hs&&500>er()-cv?qd(c,0):lv|=v),Oi(c,u)}function E2(c,u){u===0&&((c.mode&1)===0?u=1:(u=mt,mt<<=1,(mt&130023424)===0&&(mt=4194304)));var v=yi();c=Ma(c,u),c!==null&&(cn(c,u,v),Oi(c,v))}function vD(c){var u=c.memoizedState,v=0;u!==null&&(v=u.retryLane),E2(c,v)}function wD(c,u){var v=0;switch(c.tag){case 13:var B=c.stateNode,P=c.memoizedState;P!==null&&(v=P.retryLane);break;case 19:B=c.stateNode;break;default:throw Error(t(314))}B!==null&&B.delete(u),E2(c,v)}var F2;F2=function(c,u,v){if(c!==null)if(c.memoizedProps!==u.pendingProps||Xs.current)Ti=!0;else{if((c.lanes&v)===0&&(u.flags&128)===0)return Ti=!1,oD(c,u,v);Ti=(c.flags&131072)!==0}else Ti=!1,tt&&(u.flags&1048576)!==0&&Ue(u,de,u.index);switch(u.lanes=0,u.tag){case 2:var B=u.type;lp(c,u),c=u.pendingProps;var P=DA(u,vs.current);wn(u,v),P=Hd(null,u,B,c,P,v);var $=ko();return u.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Js(B)?($=!0,$c(u)):$=!1,u.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,ws(u),P.updater=ip,u.stateNode=P,P._reactInternals=u,qx(u,B,c,v),u=Xx(null,u,B,!0,$,v)):(u.tag=0,tt&&$&&Ge(u),wi(null,u,P,v),u=u.child),u;case 16:B=u.elementType;e:{switch(lp(c,u),c=u.pendingProps,P=B._init,B=P(B._payload),u.type=B,P=u.tag=bD(B),c=Al(B,c),P){case 0:u=Yx(null,u,B,c,v);break e;case 1:u=r2(null,u,B,c,v);break e;case 11:u=Xb(null,u,B,c,v);break e;case 14:u=Jb(null,u,B,Al(B.type,c),v);break e}throw Error(t(306,B,""))}return u;case 0:return B=u.type,P=u.pendingProps,P=u.elementType===B?P:Al(B,P),Yx(c,u,B,P,v);case 1:return B=u.type,P=u.pendingProps,P=u.elementType===B?P:Al(B,P),r2(c,u,B,P,v);case 3:e:{if(a2(u),c===null)throw Error(t(387));B=u.pendingProps,$=u.memoizedState,P=$.element,Zs(c,u),Fs(u,B,null,v);var se=u.memoizedState;if(B=se.element,$.isDehydrated)if($={element:B,isDehydrated:!1,cache:se.cache,pendingSuspenseBoundaries:se.pendingSuspenseBoundaries,transitions:se.transitions},u.updateQueue.baseState=$,u.memoizedState=$,u.flags&256){P=Yu(Error(t(423)),u),u=n2(c,u,B,v,P);break e}else if(B!==P){P=Yu(Error(t(424)),u),u=n2(c,u,B,v,P);break e}else for(qe=Ms(u.stateNode.containerInfo.firstChild),$e=u,tt=!0,rt=null,v=dn(u,null,B,v),u.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Tt(),B===P){u=zc(c,u,v);break e}wi(c,u,B,v)}u=u.child}return u;case 5:return ep(u),c===null&&Wt(u),B=u.type,P=u.pendingProps,$=c!==null?c.memoizedProps:null,se=P.children,fh(B,P)?se=null:$!==null&&fh(B,$)&&(u.flags|=32),t2(c,u),wi(c,u,se,v),u.child;case 6:return c===null&&Wt(u),null;case 13:return s2(c,u,v);case 4:return UA(u,u.stateNode.containerInfo),B=u.pendingProps,c===null?u.child=Qn(u,null,B,v):wi(c,u,B,v),u.child;case 11:return B=u.type,P=u.pendingProps,P=u.elementType===B?P:Al(B,P),Xb(c,u,B,P,v);case 7:return wi(c,u,u.pendingProps,v),u.child;case 8:return wi(c,u,u.pendingProps.children,v),u.child;case 12:return wi(c,u,u.pendingProps.children,v),u.child;case 10:e:{if(B=u.type._context,P=u.pendingProps,$=u.memoizedProps,se=P.value,Ua(zn,B._currentValue),B._currentValue=se,$!==null)if(gn($.value,se)){if($.children===P.children&&!Xs.current){u=zc(c,u,v);break e}}else for($=u.child,$!==null&&($.return=u);$!==null;){var ve=$.dependencies;if(ve!==null){se=$.child;for(var Ne=ve.firstContext;Ne!==null;){if(Ne.context===B){if($.tag===1){Ne=Fn(-1,v&-v),Ne.tag=2;var Te=$.updateQueue;if(Te!==null){Te=Te.shared;var ut=Te.pending;ut===null?Ne.next=Ne:(Ne.next=ut.next,ut.next=Ne),Te.pending=Ne}}$.lanes|=v,Ne=$.alternate,Ne!==null&&(Ne.lanes|=v),va($.return,v,u),ve.lanes|=v;break}Ne=Ne.next}}else if($.tag===10)se=$.type===u.type?null:$.child;else if($.tag===18){if(se=$.return,se===null)throw Error(t(341));se.lanes|=v,ve=se.alternate,ve!==null&&(ve.lanes|=v),va(se,v,u),se=$.sibling}else se=$.child;if(se!==null)se.return=$;else for(se=$;se!==null;){if(se===u){se=null;break}if($=se.sibling,$!==null){$.return=se.return,se=$;break}se=se.return}$=se}wi(c,u,P.children,v),u=u.child}return u;case 9:return P=u.type,B=u.pendingProps.children,wn(u,v),P=yn(P),B=B(P),u.flags|=1,wi(c,u,B,v),u.child;case 14:return B=u.type,P=Al(B,u.pendingProps),P=Al(B.type,P),Jb(c,u,B,P,v);case 15:return Zb(c,u,u.type,u.pendingProps,v);case 17:return B=u.type,P=u.pendingProps,P=u.elementType===B?P:Al(B,P),lp(c,u),u.tag=1,Js(B)?(c=!0,$c(u)):c=!1,wn(u,v),Kb(u,B,P),qx(u,B,P,v),Xx(null,u,B,!0,c,v);case 19:return o2(c,u,v);case 22:return e2(c,u,v)}throw Error(t(156,u.tag))};function k2(c,u){return Hr(c,u)}function yD(c,u,v,B){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=B,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Uo(c,u,v,B){return new yD(c,u,v,B)}function gv(c){return c=c.prototype,!(!c||!c.isReactComponent)}function bD(c){if(typeof c=="function")return gv(c)?1:0;if(c!=null){if(c=c.$$typeof,c===H)return 11;if(c===re)return 14}return 2}function HA(c,u){var v=c.alternate;return v===null?(v=Uo(c.tag,u,c.key,c.mode),v.elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=u,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=c.flags&14680064,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,u=c.dependencies,v.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v}function vp(c,u,v,B,P,$){var se=2;if(B=c,typeof c=="function")gv(c)&&(se=1);else if(typeof c=="string")se=5;else e:switch(c){case F:return Gd(v.children,P,$,u);case L:se=8,P|=8;break;case _:return c=Uo(12,v,u,P|2),c.elementType=_,c.lanes=$,c;case J:return c=Uo(13,v,u,P),c.elementType=J,c.lanes=$,c;case T:return c=Uo(19,v,u,P),c.elementType=T,c.lanes=$,c;case G:return wp(v,P,$,u);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case q:se=10;break e;case R:se=9;break e;case H:se=11;break e;case re:se=14;break e;case z:se=16,B=null;break e}throw Error(t(130,c==null?c:typeof c,""))}return u=Uo(se,v,u,P),u.elementType=c,u.type=B,u.lanes=$,u}function Gd(c,u,v,B){return c=Uo(7,c,B,u),c.lanes=v,c}function wp(c,u,v,B){return c=Uo(22,c,B,u),c.elementType=G,c.lanes=v,c.stateNode={isHidden:!1},c}function xv(c,u,v){return c=Uo(6,c,null,u),c.lanes=v,c}function vv(c,u,v){return u=Uo(4,c.children!==null?c.children:[],c.key,u),u.lanes=v,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}function jD(c,u,v,B,P){this.tag=u,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jr(0),this.expirationTimes=Jr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jr(0),this.identifierPrefix=B,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function wv(c,u,v,B,P,$,se,ve,Ne){return c=new jD(c,u,v,ve,Ne),u===1?(u=1,$===!0&&(u|=8)):u=0,$=Uo(3,null,null,u),c.current=$,$.stateNode=c,$.memoizedState={element:B,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},ws($),c}function ND(c,u,v){var B=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:B==null?null:""+B,children:c,containerInfo:u,implementation:v}}function D2(c){if(!c)return Tl;c=c._reactInternals;e:{if(Ze(c)!==c||c.tag!==1)throw Error(t(170));var u=c;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Js(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(c.tag===1){var v=c.type;if(Js(v))return gh(c,v,u)}return u}function U2(c,u,v,B,P,$,se,ve,Ne){return c=wv(v,B,!0,c,P,$,se,ve,Ne),c.context=D2(null),v=c.current,B=yi(),P=MA(v),$=Fn(B,P),$.callback=u??null,kn(v,$,P),c.current.lanes=P,cn(c,P,B),Oi(c,B),c}function yp(c,u,v,B){var P=u.current,$=yi(),se=MA(P);return v=D2(v),u.context===null?u.context=v:u.pendingContext=v,u=Fn($,se),u.payload={element:c},B=B===void 0?null:B,B!==null&&(u.callback=B),c=kn(P,u,se),c!==null&&(fl(c,P,se,$),Es(c,P,se)),se}function bp(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function L2(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<u?v:u}}function yv(c,u){L2(c,u),(c=c.alternate)&&L2(c,u)}function BD(){return null}var I2=typeof reportError=="function"?reportError:function(c){console.error(c)};function bv(c){this._internalRoot=c}jp.prototype.render=bv.prototype.render=function(c){var u=this._internalRoot;if(u===null)throw Error(t(409));yp(c,u,null,null)},jp.prototype.unmount=bv.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var u=c.containerInfo;Vd(function(){yp(null,c,null,null)}),u[Ss]=null}};function jp(c){this._internalRoot=c}jp.prototype.unstable_scheduleHydration=function(c){if(c){var u=Eu();c={blockedOn:null,target:c,priority:u};for(var v=0;v<wo.length&&u!==0&&u<wo[v].priority;v++);wo.splice(v,0,c),v===0&&ku(c)}};function jv(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Np(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function P2(){}function CD(c,u,v,B,P){if(P){if(typeof B=="function"){var $=B;B=function(){var Te=bp(se);$.call(Te)}}var se=U2(u,B,c,0,null,!1,!1,"",P2);return c._reactRootContainer=se,c[Ss]=se.current,Rc(c.nodeType===8?c.parentNode:c),Vd(),se}for(;P=c.lastChild;)c.removeChild(P);if(typeof B=="function"){var ve=B;B=function(){var Te=bp(Ne);ve.call(Te)}}var Ne=wv(c,0,!1,null,null,!1,!1,"",P2);return c._reactRootContainer=Ne,c[Ss]=Ne.current,Rc(c.nodeType===8?c.parentNode:c),Vd(function(){yp(u,Ne,v,B)}),Ne}function Bp(c,u,v,B,P){var $=v._reactRootContainer;if($){var se=$;if(typeof P=="function"){var ve=P;P=function(){var Ne=bp(se);ve.call(Ne)}}yp(u,se,c,P)}else se=CD(v,u,c,P,B);return bp(se)}pA=function(c){switch(c.tag){case 3:var u=c.stateNode;if(u.current.memoizedState.isDehydrated){var v=We(u.pendingLanes);v!==0&&(Yi(u,v|1),Oi(u,er()),(wa&6)===0&&(Zu=er()+500,W()))}break;case 13:Vd(function(){var B=Ma(c,1);if(B!==null){var P=yi();fl(B,c,1,P)}}),yv(c,1)}},jd=function(c){if(c.tag===13){var u=Ma(c,134217728);if(u!==null){var v=yi();fl(u,c,134217728,v)}yv(c,134217728)}},_u=function(c){if(c.tag===13){var u=MA(c),v=Ma(c,u);if(v!==null){var B=yi();fl(v,c,u,B)}yv(c,u)}},Eu=function(){return la},gA=function(c,u){var v=la;try{return la=c,u()}finally{la=v}},Ht=function(c,u,v){switch(u){case"input":if(gt(c,v),u=v.name,v.type==="radio"&&u!=null){for(v=c;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<v.length;u++){var B=v[u];if(B!==c&&B.form===c.form){var P=Md(B);if(!P)throw Error(t(90));_e(B),gt(B,P)}}}break;case"textarea":ur(c,v);break;case"select":u=v.value,u!=null&&Ke(c,!!v.multiple,u,!1)}},vt=hv,Zt=Vd;var SD={usingClientEntryPoint:!1,Events:[kA,Oc,Md,nt,_r,hv]},_h={findFiberByHostInstance:Rl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_D={bundleType:_h.bundleType,version:_h.version,rendererPackageName:_h.rendererPackageName,rendererConfig:_h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=cr(c),c===null?null:c.stateNode},findFiberByHostInstance:_h.findFiberByHostInstance||BD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cp.isDisabled&&Cp.supportsFiber)try{Rs=Cp.inject(_D),Bn=Cp}catch{}}return Hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SD,Hi.createPortal=function(c,u){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jv(u))throw Error(t(200));return ND(c,u,null,v)},Hi.createRoot=function(c,u){if(!jv(c))throw Error(t(299));var v=!1,B="",P=I2;return u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(B=u.identifierPrefix),u.onRecoverableError!==void 0&&(P=u.onRecoverableError)),u=wv(c,1,!1,null,null,v,!1,B,P),c[Ss]=u.current,Rc(c.nodeType===8?c.parentNode:c),new bv(u)},Hi.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(t(188)):(c=Object.keys(c).join(","),Error(t(268,c)));return c=cr(u),c=c===null?null:c.stateNode,c},Hi.flushSync=function(c){return Vd(c)},Hi.hydrate=function(c,u,v){if(!Np(u))throw Error(t(200));return Bp(null,c,u,!0,v)},Hi.hydrateRoot=function(c,u,v){if(!jv(c))throw Error(t(405));var B=v!=null&&v.hydratedSources||null,P=!1,$="",se=I2;if(v!=null&&(v.unstable_strictMode===!0&&(P=!0),v.identifierPrefix!==void 0&&($=v.identifierPrefix),v.onRecoverableError!==void 0&&(se=v.onRecoverableError)),u=U2(u,null,c,1,v??null,P,!1,$,se),c[Ss]=u.current,Rc(c),B)for(c=0;c<B.length;c++)v=B[c],P=v._getVersion,P=P(v._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[v,P]:u.mutableSourceEagerHydrationData.push(v,P);return new jp(u)},Hi.render=function(c,u,v){if(!Np(u))throw Error(t(200));return Bp(null,c,u,!1,v)},Hi.unmountComponentAtNode=function(c){if(!Np(c))throw Error(t(40));return c._reactRootContainer?(Vd(function(){Bp(null,null,c,!1,function(){c._reactRootContainer=null,c[Ss]=null})}),!0):!1},Hi.unstable_batchedUpdates=hv,Hi.unstable_renderSubtreeIntoContainer=function(c,u,v,B){if(!Np(v))throw Error(t(200));if(c==null||c._reactInternals===void 0)throw Error(t(38));return Bp(c,u,v,!1,B)},Hi.version="18.3.1-next-f1338f8080-20240426",Hi}var K2;function d5(){if(K2)return Cv.exports;K2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Cv.exports=RD(),Cv.exports}var z2;function TD(){if(z2)return Sp;z2=1;var e=d5();return Sp.createRoot=e.createRoot,Sp.hydrateRoot=e.hydrateRoot,Sp}var u5=TD(),y=Q0();const Ve=A5(y),jm=DD({__proto__:null,default:Ve},[y]);var zf=d5();const f5=A5(zf);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function im(){return im=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},im.apply(this,arguments)}var td;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(td||(td={}));const V2="popstate";function MD(e){e===void 0&&(e={});function r(a,s){let{pathname:i,search:o,hash:l}=a.location;return Zw("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(a,s){return typeof s=="string"?s:qg(s)}return HD(r,t,null,e)}function rs(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function h5(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function OD(){return Math.random().toString(36).substr(2,8)}function q2(e,r){return{usr:e.state,key:e.key,idx:r}}function Zw(e,r,t,a){return t===void 0&&(t=null),im({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?Vf(r):r,{state:t,key:r&&r.key||a||OD()})}function qg(e){let{pathname:r="/",search:t="",hash:a=""}=e;return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Vf(e){let r={};if(e){let t=e.indexOf("#");t>=0&&(r.hash=e.substr(t),e=e.substr(0,t));let a=e.indexOf("?");a>=0&&(r.search=e.substr(a),e=e.substr(0,a)),e&&(r.pathname=e)}return r}function HD(e,r,t,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,l=td.Pop,A=null,d=f();d==null&&(d=0,o.replaceState(im({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function h(){l=td.Pop;let w=f(),j=w==null?null:w-d;d=w,A&&A({action:l,location:g.location,delta:j})}function m(w,j){l=td.Push;let N=Zw(g.location,w,j);d=f()+1;let C=q2(N,d),E=g.createHref(N);try{o.pushState(C,"",E)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;s.location.assign(E)}i&&A&&A({action:l,location:g.location,delta:1})}function p(w,j){l=td.Replace;let N=Zw(g.location,w,j);d=f();let C=q2(N,d),E=g.createHref(N);o.replaceState(C,"",E),i&&A&&A({action:l,location:g.location,delta:0})}function x(w){let j=s.location.origin!=="null"?s.location.origin:s.location.href,N=typeof w=="string"?w:qg(w);return N=N.replace(/ $/,"%20"),rs(j,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,j)}let g={get action(){return l},get location(){return e(s,o)},listen(w){if(A)throw new Error("A history only accepts one active listener");return s.addEventListener(V2,h),A=w,()=>{s.removeEventListener(V2,h),A=null}},createHref(w){return r(s,w)},createURL:x,encodeLocation(w){let j=x(w);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:m,replace:p,go(w){return o.go(w)}};return g}var W2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(W2||(W2={}));function $D(e,r,t){return t===void 0&&(t="/"),KD(e,r,t)}function KD(e,r,t,a){let s=typeof r=="string"?Vf(r):r,i=y1(s.pathname||"/",t);if(i==null)return null;let o=m5(e);zD(o);let l=null;for(let A=0;l==null&&A<o.length;++A){let d=aU(i);l=eU(o[A],d)}return l}function m5(e,r,t,a){r===void 0&&(r=[]),t===void 0&&(t=[]),a===void 0&&(a="");let s=(i,o,l)=>{let A={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};A.relativePath.startsWith("/")&&(rs(A.relativePath.startsWith(a),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(a.length));let d=od([a,A.relativePath]),f=t.concat(A);i.children&&i.children.length>0&&(rs(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),m5(i.children,r,f,d)),!(i.path==null&&!i.index)&&r.push({path:d,score:JD(d,i.index),routesMeta:f})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let A of p5(i.path))s(i,o,A)}),r}function p5(e){let r=e.split("/");if(r.length===0)return[];let[t,...a]=r,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let o=p5(a.join("/")),l=[];return l.push(...o.map(A=>A===""?i:[i,A].join("/"))),s&&l.push(...o),l.map(A=>e.startsWith("/")&&A===""?"/":A)}function zD(e){e.sort((r,t)=>r.score!==t.score?t.score-r.score:ZD(r.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}const VD=/^:[\w-]+$/,qD=3,WD=2,GD=1,YD=10,XD=-2,G2=e=>e==="*";function JD(e,r){let t=e.split("/"),a=t.length;return t.some(G2)&&(a+=XD),r&&(a+=WD),t.filter(s=>!G2(s)).reduce((s,i)=>s+(VD.test(i)?qD:i===""?GD:YD),a)}function ZD(e,r){return e.length===r.length&&e.slice(0,-1).every((a,s)=>a===r[s])?e[e.length-1]-r[r.length-1]:0}function eU(e,r,t){let{routesMeta:a}=e,s={},i="/",o=[];for(let l=0;l<a.length;++l){let A=a[l],d=l===a.length-1,f=i==="/"?r:r.slice(i.length)||"/",h=tU({path:A.relativePath,caseSensitive:A.caseSensitive,end:d},f),m=A.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:od([i,h.pathname]),pathnameBase:oU(od([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=od([i,h.pathnameBase]))}return o}function tU(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,a]=rU(e.path,e.caseSensitive,e.end),s=r.match(t);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((d,f,h)=>{let{paramName:m,isOptional:p}=f;if(m==="*"){let g=l[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[h];return p&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function rU(e,r,t){r===void 0&&(r=!1),t===void 0&&(t=!0),h5(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,A)=>(a.push({paramName:l,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,r?void 0:"i"),a]}function aU(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return h5(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function y1(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let t=r.endsWith("/")?r.length-1:r.length,a=e.charAt(t);return a&&a!=="/"?null:e.slice(t)||"/"}function nU(e,r){r===void 0&&(r="/");let{pathname:t,search:a="",hash:s=""}=typeof e=="string"?Vf(e):e;return{pathname:t?t.startsWith("/")?t:sU(t,r):r,search:lU(a),hash:cU(s)}}function sU(e,r){let t=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Ev(e,r,t,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iU(e){return e.filter((r,t)=>t===0||r.route.path&&r.route.path.length>0)}function b1(e,r){let t=iU(e);return r?t.map((a,s)=>s===t.length-1?a.pathname:a.pathnameBase):t.map(a=>a.pathnameBase)}function j1(e,r,t,a){a===void 0&&(a=!1);let s;typeof e=="string"?s=Vf(e):(s=im({},e),rs(!s.pathname||!s.pathname.includes("?"),Ev("?","pathname","search",s)),rs(!s.pathname||!s.pathname.includes("#"),Ev("#","pathname","hash",s)),rs(!s.search||!s.search.includes("#"),Ev("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=t;else{let h=r.length-1;if(!a&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?r[h]:"/"}let A=nU(s,l),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&t.endsWith("/");return!A.pathname.endsWith("/")&&(d||f)&&(A.pathname+="/"),A}const od=e=>e.join("/").replace(/\/\/+/g,"/"),oU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function AU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const g5=["post","put","patch","delete"];new Set(g5);const dU=["get",...g5];new Set(dU);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function om(){return om=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},om.apply(this,arguments)}const N1=y.createContext(null),uU=y.createContext(null),wd=y.createContext(null),R0=y.createContext(null),hc=y.createContext({outlet:null,matches:[],isDataRoute:!1}),x5=y.createContext(null);function fU(e,r){let{relative:t}=r===void 0?{}:r;qf()||rs(!1);let{basename:a,navigator:s}=y.useContext(wd),{hash:i,pathname:o,search:l}=w5(e,{relative:t}),A=o;return a!=="/"&&(A=o==="/"?a:od([a,o])),s.createHref({pathname:A,search:l,hash:i})}function qf(){return y.useContext(R0)!=null}function ns(){return qf()||rs(!1),y.useContext(R0).location}function v5(e){y.useContext(wd).static||y.useLayoutEffect(e)}function ss(){let{isDataRoute:e}=y.useContext(hc);return e?_U():hU()}function hU(){qf()||rs(!1);let e=y.useContext(N1),{basename:r,future:t,navigator:a}=y.useContext(wd),{matches:s}=y.useContext(hc),{pathname:i}=ns(),o=JSON.stringify(b1(s,t.v7_relativeSplatPath)),l=y.useRef(!1);return v5(()=>{l.current=!0}),y.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){a.go(d);return}let h=j1(d,JSON.parse(o),i,f.relative==="path");e==null&&r!=="/"&&(h.pathname=h.pathname==="/"?r:od([r,h.pathname])),(f.replace?a.replace:a.push)(h,f.state,f)},[r,a,o,i,e])}const mU=y.createContext(null);function pU(e){let r=y.useContext(hc).outlet;return r&&y.createElement(mU.Provider,{value:e},r)}function $o(){let{matches:e}=y.useContext(hc),r=e[e.length-1];return r?r.params:{}}function w5(e,r){let{relative:t}=r===void 0?{}:r,{future:a}=y.useContext(wd),{matches:s}=y.useContext(hc),{pathname:i}=ns(),o=JSON.stringify(b1(s,a.v7_relativeSplatPath));return y.useMemo(()=>j1(e,JSON.parse(o),i,t==="path"),[e,o,i,t])}function gU(e,r){return xU(e,r)}function xU(e,r,t,a){qf()||rs(!1);let{navigator:s}=y.useContext(wd),{matches:i}=y.useContext(hc),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let A=o?o.pathnameBase:"/";o&&o.route;let d=ns(),f;if(r){var h;let w=typeof r=="string"?Vf(r):r;A==="/"||(h=w.pathname)!=null&&h.startsWith(A)||rs(!1),f=w}else f=d;let m=f.pathname||"/",p=m;if(A!=="/"){let w=A.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=$D(e,{pathname:p}),g=jU(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:od([A,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?A:od([A,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,t,a);return r&&g?y.createElement(R0.Provider,{value:{location:om({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:td.Pop}},g):g}function vU(){let e=SU(),r=AU(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},r),t?y.createElement("pre",{style:s},t):null,null)}const wU=y.createElement(vU,null);class yU extends y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?y.createElement(hc.Provider,{value:this.props.routeContext},y.createElement(x5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bU(e){let{routeContext:r,match:t,children:a}=e,s=y.useContext(N1);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(hc.Provider,{value:r},a)}function jU(e,r,t,a){var s;if(r===void 0&&(r=[]),t===void 0&&(t=null),a===void 0&&(a=null),e==null){var i;if(!t)return null;if(t.errors)e=t.matches;else if((i=a)!=null&&i.v7_partialHydration&&r.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let o=e,l=(s=t)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);f>=0||rs(!1),o=o.slice(0,Math.min(o.length,f+1))}let A=!1,d=-1;if(t&&a&&a.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:m,errors:p}=t,x=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||x){A=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,h,m)=>{let p,x=!1,g=null,w=null;t&&(p=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||wU,A&&(d<0&&m===0?(EU("route-fallback"),x=!0,w=null):d===m&&(x=!0,w=h.route.hydrateFallbackElement||null)));let j=r.concat(o.slice(0,m+1)),N=()=>{let C;return p?C=g:x?C=w:h.route.Component?C=y.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=f,y.createElement(bU,{match:h,routeContext:{outlet:f,matches:j,isDataRoute:t!=null},children:C})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?y.createElement(yU,{location:t.location,revalidation:t.revalidation,component:g,error:p,children:N(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):N()},null)}var y5=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(y5||{}),b5=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(b5||{});function NU(e){let r=y.useContext(N1);return r||rs(!1),r}function BU(e){let r=y.useContext(uU);return r||rs(!1),r}function CU(e){let r=y.useContext(hc);return r||rs(!1),r}function j5(e){let r=CU(),t=r.matches[r.matches.length-1];return t.route.id||rs(!1),t.route.id}function SU(){var e;let r=y.useContext(x5),t=BU(),a=j5();return r!==void 0?r:(e=t.errors)==null?void 0:e[a]}function _U(){let{router:e}=NU(y5.UseNavigateStable),r=j5(b5.UseNavigateStable),t=y.useRef(!1);return v5(()=>{t.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,om({fromRouteId:r},i)))},[e,r])}const Y2={};function EU(e,r,t){Y2[e]||(Y2[e]=!0)}function FU(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ea(e){let{to:r,replace:t,state:a,relative:s}=e;qf()||rs(!1);let{future:i,static:o}=y.useContext(wd),{matches:l}=y.useContext(hc),{pathname:A}=ns(),d=ss(),f=j1(r,b1(l,i.v7_relativeSplatPath),A,s==="path"),h=JSON.stringify(f);return y.useEffect(()=>d(JSON.parse(h),{replace:t,state:a,relative:s}),[d,h,s,t,a]),null}function Nm(e){return pU(e.context)}function It(e){rs(!1)}function kU(e){let{basename:r="/",children:t=null,location:a,navigationType:s=td.Pop,navigator:i,static:o=!1,future:l}=e;qf()&&rs(!1);let A=r.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:A,navigator:i,static:o,future:om({v7_relativeSplatPath:!1},l)}),[A,l,i,o]);typeof a=="string"&&(a=Vf(a));let{pathname:f="/",search:h="",hash:m="",state:p=null,key:x="default"}=a,g=y.useMemo(()=>{let w=y1(f,A);return w==null?null:{location:{pathname:w,search:h,hash:m,state:p,key:x},navigationType:s}},[A,f,h,m,p,x,s]);return g==null?null:y.createElement(wd.Provider,{value:d},y.createElement(R0.Provider,{children:t,value:g}))}function DU(e){let{children:r,location:t}=e;return gU(ey(r),t)}new Promise(()=>{});function ey(e,r){r===void 0&&(r=[]);let t=[];return y.Children.forEach(e,(a,s)=>{if(!y.isValidElement(a))return;let i=[...r,s];if(a.type===y.Fragment){t.push.apply(t,ey(a.props.children,i));return}a.type!==It&&rs(!1),!a.props.index||!a.props.children||rs(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=ey(a.props.children,i)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ty.apply(this,arguments)}function UU(e,r){if(e==null)return{};var t={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(r.indexOf(s)>=0)&&(t[s]=e[s]);return t}function LU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function IU(e,r){return e.button===0&&(!r||r==="_self")&&!LU(e)}function ry(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,t)=>{let a=e[t];return r.concat(Array.isArray(a)?a.map(s=>[t,s]):[[t,a]])},[]))}function PU(e,r){let t=ry(e);return r&&r.forEach((a,s)=>{t.has(s)||r.getAll(s).forEach(i=>{t.append(s,i)})}),t}const QU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],RU="6";try{window.__reactRouterVersion=RU}catch{}const TU="startTransition",X2=jm[TU];function MU(e){let{basename:r,children:t,future:a,window:s}=e,i=y.useRef();i.current==null&&(i.current=MD({window:s,v5Compat:!0}));let o=i.current,[l,A]=y.useState({action:o.action,location:o.location}),{v7_startTransition:d}=a||{},f=y.useCallback(h=>{d&&X2?X2(()=>A(h)):A(h)},[A,d]);return y.useLayoutEffect(()=>o.listen(f),[o,f]),y.useEffect(()=>FU(a),[a]),y.createElement(kU,{basename:r,children:t,location:l.location,navigationType:l.action,navigator:o,future:a})}const OU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fr=y.forwardRef(function(r,t){let{onClick:a,relative:s,reloadDocument:i,replace:o,state:l,target:A,to:d,preventScrollReset:f,viewTransition:h}=r,m=UU(r,QU),{basename:p}=y.useContext(wd),x,g=!1;if(typeof d=="string"&&HU.test(d)&&(x=d,OU))try{let C=new URL(window.location.href),E=d.startsWith("//")?new URL(C.protocol+d):new URL(d),Q=y1(E.pathname,p);E.origin===C.origin&&Q!=null?d=Q+E.search+E.hash:g=!0}catch{}let w=fU(d,{relative:s}),j=$U(d,{replace:o,state:l,target:A,preventScrollReset:f,relative:s,viewTransition:h});function N(C){a&&a(C),C.defaultPrevented||j(C)}return y.createElement("a",ty({},m,{href:x||w,onClick:g||i?a:N,ref:t,target:A}))});var J2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(J2||(J2={}));var Z2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Z2||(Z2={}));function $U(e,r){let{target:t,replace:a,state:s,preventScrollReset:i,relative:o,viewTransition:l}=r===void 0?{}:r,A=ss(),d=ns(),f=w5(e,{relative:o});return y.useCallback(h=>{if(IU(h,t)){h.preventDefault();let m=a!==void 0?a:qg(d)===qg(f);A(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,A,f,a,s,t,e,i,o,l])}function KU(e){let r=y.useRef(ry(e)),t=y.useRef(!1),a=ns(),s=y.useMemo(()=>PU(a.search,t.current?null:r.current),[a.search]),i=ss(),o=y.useCallback((l,A)=>{const d=ry(typeof l=="function"?l(s):l);t.current=!0,i("?"+d,A)},[i,s]);return[s,o]}function N5(e,r){return function(){return e.apply(r,arguments)}}const{toString:zU}=Object.prototype,{getPrototypeOf:B1}=Object,{iterator:T0,toStringTag:B5}=Symbol,M0=(e=>r=>{const t=zU.call(r);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),jl=e=>(e=e.toLowerCase(),r=>M0(r)===e),O0=e=>r=>typeof r===e,{isArray:Wf}=Array,Pf=O0("undefined");function Bm(e){return e!==null&&!Pf(e)&&e.constructor!==null&&!Pf(e.constructor)&&Ki(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const C5=jl("ArrayBuffer");function VU(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&C5(e.buffer),r}const qU=O0("string"),Ki=O0("function"),S5=O0("number"),Cm=e=>e!==null&&typeof e=="object",WU=e=>e===!0||e===!1,yg=e=>{if(M0(e)!=="object")return!1;const r=B1(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(B5 in e)&&!(T0 in e)},GU=e=>{if(!Cm(e)||Bm(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},YU=jl("Date"),XU=jl("File"),JU=jl("Blob"),ZU=jl("FileList"),eL=e=>Cm(e)&&Ki(e.pipe),tL=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||Ki(e.append)&&((r=M0(e))==="formdata"||r==="object"&&Ki(e.toString)&&e.toString()==="[object FormData]"))},rL=jl("URLSearchParams"),[aL,nL,sL,iL]=["ReadableStream","Request","Response","Headers"].map(jl),oL=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sm(e,r,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),Wf(e))for(a=0,s=e.length;a<s;a++)r.call(null,e[a],a,e);else{if(Bm(e))return;const i=t?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(a=0;a<o;a++)l=i[a],r.call(null,e[l],l,e)}}function _5(e,r){if(Bm(e))return null;r=r.toLowerCase();const t=Object.keys(e);let a=t.length,s;for(;a-- >0;)if(s=t[a],r===s.toLowerCase())return s;return null}const au=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,E5=e=>!Pf(e)&&e!==au;function ay(){const{caseless:e,skipUndefined:r}=E5(this)&&this||{},t={},a=(s,i)=>{const o=e&&_5(t,i)||i;yg(t[o])&&yg(s)?t[o]=ay(t[o],s):yg(s)?t[o]=ay({},s):Wf(s)?t[o]=s.slice():(!r||!Pf(s))&&(t[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Sm(arguments[s],a);return t}const lL=(e,r,t,{allOwnKeys:a}={})=>(Sm(r,(s,i)=>{t&&Ki(s)?e[i]=N5(s,t):e[i]=s},{allOwnKeys:a}),e),cL=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),AL=(e,r,t,a)=>{e.prototype=Object.create(r.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),t&&Object.assign(e.prototype,t)},dL=(e,r,t,a)=>{let s,i,o;const l={};if(r=r||{},e==null)return r;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!a||a(o,e,r))&&!l[o]&&(r[o]=e[o],l[o]=!0);e=t!==!1&&B1(e)}while(e&&(!t||t(e,r))&&e!==Object.prototype);return r},uL=(e,r,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=r.length;const a=e.indexOf(r,t);return a!==-1&&a===t},fL=e=>{if(!e)return null;if(Wf(e))return e;let r=e.length;if(!S5(r))return null;const t=new Array(r);for(;r-- >0;)t[r]=e[r];return t},hL=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&B1(Uint8Array)),mL=(e,r)=>{const a=(e&&e[T0]).call(e);let s;for(;(s=a.next())&&!s.done;){const i=s.value;r.call(e,i[0],i[1])}},pL=(e,r)=>{let t;const a=[];for(;(t=e.exec(r))!==null;)a.push(t);return a},gL=jl("HTMLFormElement"),xL=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,a,s){return a.toUpperCase()+s}),ej=(({hasOwnProperty:e})=>(r,t)=>e.call(r,t))(Object.prototype),vL=jl("RegExp"),F5=(e,r)=>{const t=Object.getOwnPropertyDescriptors(e),a={};Sm(t,(s,i)=>{let o;(o=r(s,i,e))!==!1&&(a[i]=o||s)}),Object.defineProperties(e,a)},wL=e=>{F5(e,(r,t)=>{if(Ki(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const a=e[t];if(Ki(a)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},yL=(e,r)=>{const t={},a=s=>{s.forEach(i=>{t[i]=!0})};return Wf(e)?a(e):a(String(e).split(r)),t},bL=()=>{},jL=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function NL(e){return!!(e&&Ki(e.append)&&e[B5]==="FormData"&&e[T0])}const BL=e=>{const r=new Array(10),t=(a,s)=>{if(Cm(a)){if(r.indexOf(a)>=0)return;if(Bm(a))return a;if(!("toJSON"in a)){r[s]=a;const i=Wf(a)?[]:{};return Sm(a,(o,l)=>{const A=t(o,s+1);!Pf(A)&&(i[l]=A)}),r[s]=void 0,i}}return a};return t(e,0)},CL=jl("AsyncFunction"),SL=e=>e&&(Cm(e)||Ki(e))&&Ki(e.then)&&Ki(e.catch),k5=((e,r)=>e?setImmediate:r?((t,a)=>(au.addEventListener("message",({source:s,data:i})=>{s===au&&i===t&&a.length&&a.shift()()},!1),s=>{a.push(s),au.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Ki(au.postMessage)),_L=typeof queueMicrotask<"u"?queueMicrotask.bind(au):typeof process<"u"&&process.nextTick||k5,EL=e=>e!=null&&Ki(e[T0]),Me={isArray:Wf,isArrayBuffer:C5,isBuffer:Bm,isFormData:tL,isArrayBufferView:VU,isString:qU,isNumber:S5,isBoolean:WU,isObject:Cm,isPlainObject:yg,isEmptyObject:GU,isReadableStream:aL,isRequest:nL,isResponse:sL,isHeaders:iL,isUndefined:Pf,isDate:YU,isFile:XU,isBlob:JU,isRegExp:vL,isFunction:Ki,isStream:eL,isURLSearchParams:rL,isTypedArray:hL,isFileList:ZU,forEach:Sm,merge:ay,extend:lL,trim:oL,stripBOM:cL,inherits:AL,toFlatObject:dL,kindOf:M0,kindOfTest:jl,endsWith:uL,toArray:fL,forEachEntry:mL,matchAll:pL,isHTMLForm:gL,hasOwnProperty:ej,hasOwnProp:ej,reduceDescriptors:F5,freezeMethods:wL,toObjectSet:yL,toCamelCase:xL,noop:bL,toFiniteNumber:jL,findKey:_5,global:au,isContextDefined:E5,isSpecCompliantForm:NL,toJSONObject:BL,isAsyncFn:CL,isThenable:SL,setImmediate:k5,asap:_L,isIterable:EL};function Mr(e,r,t,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),t&&(this.config=t),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}Me.inherits(Mr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Me.toJSONObject(this.config),code:this.code,status:this.status}}});const D5=Mr.prototype,U5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{U5[e]={value:e}});Object.defineProperties(Mr,U5);Object.defineProperty(D5,"isAxiosError",{value:!0});Mr.from=(e,r,t,a,s,i)=>{const o=Object.create(D5);Me.toFlatObject(e,o,function(f){return f!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",A=r==null&&e?e.code:r;return Mr.call(o,l,A,t,a,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const FL=null;function ny(e){return Me.isPlainObject(e)||Me.isArray(e)}function L5(e){return Me.endsWith(e,"[]")?e.slice(0,-2):e}function tj(e,r,t){return e?e.concat(r).map(function(s,i){return s=L5(s),!t&&i?"["+s+"]":s}).join(t?".":""):r}function kL(e){return Me.isArray(e)&&!e.some(ny)}const DL=Me.toFlatObject(Me,{},null,function(r){return/^is[A-Z]/.test(r)});function H0(e,r,t){if(!Me.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,t=Me.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,w){return!Me.isUndefined(w[g])});const a=t.metaTokens,s=t.visitor||f,i=t.dots,o=t.indexes,A=(t.Blob||typeof Blob<"u"&&Blob)&&Me.isSpecCompliantForm(r);if(!Me.isFunction(s))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(Me.isDate(x))return x.toISOString();if(Me.isBoolean(x))return x.toString();if(!A&&Me.isBlob(x))throw new Mr("Blob is not supported. Use a Buffer instead.");return Me.isArrayBuffer(x)||Me.isTypedArray(x)?A&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function f(x,g,w){let j=x;if(x&&!w&&typeof x=="object"){if(Me.endsWith(g,"{}"))g=a?g:g.slice(0,-2),x=JSON.stringify(x);else if(Me.isArray(x)&&kL(x)||(Me.isFileList(x)||Me.endsWith(g,"[]"))&&(j=Me.toArray(x)))return g=L5(g),j.forEach(function(C,E){!(Me.isUndefined(C)||C===null)&&r.append(o===!0?tj([g],E,i):o===null?g:g+"[]",d(C))}),!1}return ny(x)?!0:(r.append(tj(w,g,i),d(x)),!1)}const h=[],m=Object.assign(DL,{defaultVisitor:f,convertValue:d,isVisitable:ny});function p(x,g){if(!Me.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(x),Me.forEach(x,function(j,N){(!(Me.isUndefined(j)||j===null)&&s.call(r,j,Me.isString(N)?N.trim():N,g,m))===!0&&p(j,g?g.concat(N):[N])}),h.pop()}}if(!Me.isObject(e))throw new TypeError("data must be an object");return p(e),r}function rj(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return r[a]})}function C1(e,r){this._pairs=[],e&&H0(e,this,r)}const I5=C1.prototype;I5.append=function(r,t){this._pairs.push([r,t])};I5.toString=function(r){const t=r?function(a){return r.call(this,a,rj)}:rj;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function UL(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function P5(e,r,t){if(!r)return e;const a=t&&t.encode||UL;Me.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let i;if(s?i=s(r,t):i=Me.isURLSearchParams(r)?r.toString():new C1(r,t).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class aj{constructor(){this.handlers=[]}use(r,t,a){return this.handlers.push({fulfilled:r,rejected:t,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Me.forEach(this.handlers,function(a){a!==null&&r(a)})}}const Q5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},LL=typeof URLSearchParams<"u"?URLSearchParams:C1,IL=typeof FormData<"u"?FormData:null,PL=typeof Blob<"u"?Blob:null,QL={isBrowser:!0,classes:{URLSearchParams:LL,FormData:IL,Blob:PL},protocols:["http","https","file","blob","url","data"]},S1=typeof window<"u"&&typeof document<"u",sy=typeof navigator=="object"&&navigator||void 0,RL=S1&&(!sy||["ReactNative","NativeScript","NS"].indexOf(sy.product)<0),TL=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ML=S1&&window.location.href||"http://localhost",OL=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:S1,hasStandardBrowserEnv:RL,hasStandardBrowserWebWorkerEnv:TL,navigator:sy,origin:ML},Symbol.toStringTag,{value:"Module"})),ci={...OL,...QL};function HL(e,r){return H0(e,new ci.classes.URLSearchParams,{visitor:function(t,a,s,i){return ci.isNode&&Me.isBuffer(t)?(this.append(a,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function $L(e){return Me.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function KL(e){const r={},t=Object.keys(e);let a;const s=t.length;let i;for(a=0;a<s;a++)i=t[a],r[i]=e[i];return r}function R5(e){function r(t,a,s,i){let o=t[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),A=i>=t.length;return o=!o&&Me.isArray(s)?s.length:o,A?(Me.hasOwnProp(s,o)?s[o]=[s[o],a]:s[o]=a,!l):((!s[o]||!Me.isObject(s[o]))&&(s[o]=[]),r(t,a,s[o],i)&&Me.isArray(s[o])&&(s[o]=KL(s[o])),!l)}if(Me.isFormData(e)&&Me.isFunction(e.entries)){const t={};return Me.forEachEntry(e,(a,s)=>{r($L(a),s,t,0)}),t}return null}function zL(e,r,t){if(Me.isString(e))try{return(r||JSON.parse)(e),Me.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(t||JSON.stringify)(e)}const _m={transitional:Q5,adapter:["xhr","http","fetch"],transformRequest:[function(r,t){const a=t.getContentType()||"",s=a.indexOf("application/json")>-1,i=Me.isObject(r);if(i&&Me.isHTMLForm(r)&&(r=new FormData(r)),Me.isFormData(r))return s?JSON.stringify(R5(r)):r;if(Me.isArrayBuffer(r)||Me.isBuffer(r)||Me.isStream(r)||Me.isFile(r)||Me.isBlob(r)||Me.isReadableStream(r))return r;if(Me.isArrayBufferView(r))return r.buffer;if(Me.isURLSearchParams(r))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return HL(r,this.formSerializer).toString();if((l=Me.isFileList(r))||a.indexOf("multipart/form-data")>-1){const A=this.env&&this.env.FormData;return H0(l?{"files[]":r}:r,A&&new A,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),zL(r)):r}],transformResponse:[function(r){const t=this.transitional||_m.transitional,a=t&&t.forcedJSONParsing,s=this.responseType==="json";if(Me.isResponse(r)||Me.isReadableStream(r))return r;if(r&&Me.isString(r)&&(a&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(r,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Mr.from(l,Mr.ERR_BAD_RESPONSE,this,null,this.response):l}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ci.classes.FormData,Blob:ci.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Me.forEach(["delete","get","head","post","put","patch"],e=>{_m.headers[e]={}});const VL=Me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qL=e=>{const r={};let t,a,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),a=o.substring(s+1).trim(),!(!t||r[t]&&VL[t])&&(t==="set-cookie"?r[t]?r[t].push(a):r[t]=[a]:r[t]=r[t]?r[t]+", "+a:a)}),r},nj=Symbol("internals");function Fh(e){return e&&String(e).trim().toLowerCase()}function bg(e){return e===!1||e==null?e:Me.isArray(e)?e.map(bg):String(e)}function WL(e){const r=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=t.exec(e);)r[a[1]]=a[2];return r}const GL=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Fv(e,r,t,a,s){if(Me.isFunction(a))return a.call(this,r,t);if(s&&(r=t),!!Me.isString(r)){if(Me.isString(a))return r.indexOf(a)!==-1;if(Me.isRegExp(a))return a.test(r)}}function YL(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,t,a)=>t.toUpperCase()+a)}function XL(e,r){const t=Me.toCamelCase(" "+r);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+t,{value:function(s,i,o){return this[a].call(this,r,s,i,o)},configurable:!0})})}let zi=class{constructor(r){r&&this.set(r)}set(r,t,a){const s=this;function i(l,A,d){const f=Fh(A);if(!f)throw new Error("header name must be a non-empty string");const h=Me.findKey(s,f);(!h||s[h]===void 0||d===!0||d===void 0&&s[h]!==!1)&&(s[h||A]=bg(l))}const o=(l,A)=>Me.forEach(l,(d,f)=>i(d,f,A));if(Me.isPlainObject(r)||r instanceof this.constructor)o(r,t);else if(Me.isString(r)&&(r=r.trim())&&!GL(r))o(qL(r),t);else if(Me.isObject(r)&&Me.isIterable(r)){let l={},A,d;for(const f of r){if(!Me.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[d=f[0]]=(A=l[d])?Me.isArray(A)?[...A,f[1]]:[A,f[1]]:f[1]}o(l,t)}else r!=null&&i(t,r,a);return this}get(r,t){if(r=Fh(r),r){const a=Me.findKey(this,r);if(a){const s=this[a];if(!t)return s;if(t===!0)return WL(s);if(Me.isFunction(t))return t.call(this,s,a);if(Me.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,t){if(r=Fh(r),r){const a=Me.findKey(this,r);return!!(a&&this[a]!==void 0&&(!t||Fv(this,this[a],a,t)))}return!1}delete(r,t){const a=this;let s=!1;function i(o){if(o=Fh(o),o){const l=Me.findKey(a,o);l&&(!t||Fv(a,a[l],l,t))&&(delete a[l],s=!0)}}return Me.isArray(r)?r.forEach(i):i(r),s}clear(r){const t=Object.keys(this);let a=t.length,s=!1;for(;a--;){const i=t[a];(!r||Fv(this,this[i],i,r,!0))&&(delete this[i],s=!0)}return s}normalize(r){const t=this,a={};return Me.forEach(this,(s,i)=>{const o=Me.findKey(a,i);if(o){t[o]=bg(s),delete t[i];return}const l=r?YL(i):String(i).trim();l!==i&&delete t[i],t[l]=bg(s),a[l]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const t=Object.create(null);return Me.forEach(this,(a,s)=>{a!=null&&a!==!1&&(t[s]=r&&Me.isArray(a)?a.join(", "):a)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,t])=>r+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...t){const a=new this(r);return t.forEach(s=>a.set(s)),a}static accessor(r){const a=(this[nj]=this[nj]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Fh(o);a[l]||(XL(s,o),a[l]=!0)}return Me.isArray(r)?r.forEach(i):i(r),this}};zi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Me.reduceDescriptors(zi.prototype,({value:e},r)=>{let t=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(a){this[t]=a}}});Me.freezeMethods(zi);function kv(e,r){const t=this||_m,a=r||t,s=zi.from(a.headers);let i=a.data;return Me.forEach(e,function(l){i=l.call(t,i,s.normalize(),r?r.status:void 0)}),s.normalize(),i}function T5(e){return!!(e&&e.__CANCEL__)}function Gf(e,r,t){Mr.call(this,e??"canceled",Mr.ERR_CANCELED,r,t),this.name="CanceledError"}Me.inherits(Gf,Mr,{__CANCEL__:!0});function M5(e,r,t){const a=t.config.validateStatus;!t.status||!a||a(t.status)?e(t):r(new Mr("Request failed with status code "+t.status,[Mr.ERR_BAD_REQUEST,Mr.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function JL(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function ZL(e,r){e=e||10;const t=new Array(e),a=new Array(e);let s=0,i=0,o;return r=r!==void 0?r:1e3,function(A){const d=Date.now(),f=a[i];o||(o=d),t[s]=A,a[s]=d;let h=i,m=0;for(;h!==s;)m+=t[h++],h=h%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),d-o<r)return;const p=f&&d-f;return p?Math.round(m*1e3/p):void 0}}function e6(e,r){let t=0,a=1e3/r,s,i;const o=(d,f=Date.now())=>{t=f,s=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const f=Date.now(),h=f-t;h>=a?o(d,f):(s=d,i||(i=setTimeout(()=>{i=null,o(s)},a-h)))},()=>s&&o(s)]}const Wg=(e,r,t=3)=>{let a=0;const s=ZL(50,250);return e6(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,A=o-a,d=s(A),f=o<=l;a=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:A,rate:d||void 0,estimated:d&&l&&f?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[r?"download":"upload"]:!0};e(h)},t)},sj=(e,r)=>{const t=e!=null;return[a=>r[0]({lengthComputable:t,total:e,loaded:a}),r[1]]},ij=e=>(...r)=>Me.asap(()=>e(...r)),t6=ci.hasStandardBrowserEnv?((e,r)=>t=>(t=new URL(t,ci.origin),e.protocol===t.protocol&&e.host===t.host&&(r||e.port===t.port)))(new URL(ci.origin),ci.navigator&&/(msie|trident)/i.test(ci.navigator.userAgent)):()=>!0,r6=ci.hasStandardBrowserEnv?{write(e,r,t,a,s,i){const o=[e+"="+encodeURIComponent(r)];Me.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),Me.isString(a)&&o.push("path="+a),Me.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function a6(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function n6(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function O5(e,r,t){let a=!a6(r);return e&&(a||t==!1)?n6(e,r):r}const oj=e=>e instanceof zi?{...e}:e;function fu(e,r){r=r||{};const t={};function a(d,f,h,m){return Me.isPlainObject(d)&&Me.isPlainObject(f)?Me.merge.call({caseless:m},d,f):Me.isPlainObject(f)?Me.merge({},f):Me.isArray(f)?f.slice():f}function s(d,f,h,m){if(Me.isUndefined(f)){if(!Me.isUndefined(d))return a(void 0,d,h,m)}else return a(d,f,h,m)}function i(d,f){if(!Me.isUndefined(f))return a(void 0,f)}function o(d,f){if(Me.isUndefined(f)){if(!Me.isUndefined(d))return a(void 0,d)}else return a(void 0,f)}function l(d,f,h){if(h in r)return a(d,f);if(h in e)return a(void 0,d)}const A={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,f,h)=>s(oj(d),oj(f),h,!0)};return Me.forEach(Object.keys({...e,...r}),function(f){const h=A[f]||s,m=h(e[f],r[f],f);Me.isUndefined(m)&&h!==l||(t[f]=m)}),t}const H5=e=>{const r=fu({},e);let{data:t,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=r;if(r.headers=o=zi.from(o),r.url=P5(O5(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Me.isFormData(t)){if(ci.hasStandardBrowserEnv||ci.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Me.isFunction(t.getHeaders)){const A=t.getHeaders(),d=["content-type","content-length"];Object.entries(A).forEach(([f,h])=>{d.includes(f.toLowerCase())&&o.set(f,h)})}}if(ci.hasStandardBrowserEnv&&(a&&Me.isFunction(a)&&(a=a(r)),a||a!==!1&&t6(r.url))){const A=s&&i&&r6.read(i);A&&o.set(s,A)}return r},s6=typeof XMLHttpRequest<"u",i6=s6&&function(e){return new Promise(function(t,a){const s=H5(e);let i=s.data;const o=zi.from(s.headers).normalize();let{responseType:l,onUploadProgress:A,onDownloadProgress:d}=s,f,h,m,p,x;function g(){p&&p(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function j(){if(!w)return;const C=zi.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),Q={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:C,config:e,request:w};M5(function(F){t(F),g()},function(F){a(F),g()},Q),w=null}"onloadend"in w?w.onloadend=j:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(j)},w.onabort=function(){w&&(a(new Mr("Request aborted",Mr.ECONNABORTED,e,w)),w=null)},w.onerror=function(E){const Q=E&&E.message?E.message:"Network Error",U=new Mr(Q,Mr.ERR_NETWORK,e,w);U.event=E||null,a(U),w=null},w.ontimeout=function(){let E=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const Q=s.transitional||Q5;s.timeoutErrorMessage&&(E=s.timeoutErrorMessage),a(new Mr(E,Q.clarifyTimeoutError?Mr.ETIMEDOUT:Mr.ECONNABORTED,e,w)),w=null},i===void 0&&o.setContentType(null),"setRequestHeader"in w&&Me.forEach(o.toJSON(),function(E,Q){w.setRequestHeader(Q,E)}),Me.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),l&&l!=="json"&&(w.responseType=s.responseType),d&&([m,x]=Wg(d,!0),w.addEventListener("progress",m)),A&&w.upload&&([h,p]=Wg(A),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(f=C=>{w&&(a(!C||C.type?new Gf(null,e,w):C),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const N=JL(s.url);if(N&&ci.protocols.indexOf(N)===-1){a(new Mr("Unsupported protocol "+N+":",Mr.ERR_BAD_REQUEST,e));return}w.send(i||null)})},o6=(e,r)=>{const{length:t}=e=e?e.filter(Boolean):[];if(r||t){let a=new AbortController,s;const i=function(d){if(!s){s=!0,l();const f=d instanceof Error?d:this.reason;a.abort(f instanceof Mr?f:new Gf(f instanceof Error?f.message:f))}};let o=r&&setTimeout(()=>{o=null,i(new Mr(`timeout ${r} of ms exceeded`,Mr.ETIMEDOUT))},r);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:A}=a;return A.unsubscribe=()=>Me.asap(l),A}},l6=function*(e,r){let t=e.byteLength;if(t<r){yield e;return}let a=0,s;for(;a<t;)s=a+r,yield e.slice(a,s),a=s},c6=async function*(e,r){for await(const t of A6(e))yield*l6(t,r)},A6=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:t,value:a}=await r.read();if(t)break;yield a}}finally{await r.cancel()}},lj=(e,r,t,a)=>{const s=c6(e,r);let i=0,o,l=A=>{o||(o=!0,a&&a(A))};return new ReadableStream({async pull(A){try{const{done:d,value:f}=await s.next();if(d){l(),A.close();return}let h=f.byteLength;if(t){let m=i+=h;t(m)}A.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(A){return l(A),s.return()}},{highWaterMark:2})},cj=64*1024,{isFunction:_p}=Me,d6=(({Request:e,Response:r})=>({Request:e,Response:r}))(Me.global),{ReadableStream:Aj,TextEncoder:dj}=Me.global,uj=(e,...r)=>{try{return!!e(...r)}catch{return!1}},u6=e=>{e=Me.merge.call({skipUndefined:!0},d6,e);const{fetch:r,Request:t,Response:a}=e,s=r?_p(r):typeof fetch=="function",i=_p(t),o=_p(a);if(!s)return!1;const l=s&&_p(Aj),A=s&&(typeof dj=="function"?(x=>g=>x.encode(g))(new dj):async x=>new Uint8Array(await new t(x).arrayBuffer())),d=i&&l&&uj(()=>{let x=!1;const g=new t(ci.origin,{body:new Aj,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!g}),f=o&&l&&uj(()=>Me.isReadableStream(new a("").body)),h={stream:f&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!h[x]&&(h[x]=(g,w)=>{let j=g&&g[x];if(j)return j.call(g);throw new Mr(`Response type '${x}' is not supported`,Mr.ERR_NOT_SUPPORT,w)})});const m=async x=>{if(x==null)return 0;if(Me.isBlob(x))return x.size;if(Me.isSpecCompliantForm(x))return(await new t(ci.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(Me.isArrayBufferView(x)||Me.isArrayBuffer(x))return x.byteLength;if(Me.isURLSearchParams(x)&&(x=x+""),Me.isString(x))return(await A(x)).byteLength},p=async(x,g)=>{const w=Me.toFiniteNumber(x.getContentLength());return w??m(g)};return async x=>{let{url:g,method:w,data:j,signal:N,cancelToken:C,timeout:E,onDownloadProgress:Q,onUploadProgress:U,responseType:F,headers:L,withCredentials:_="same-origin",fetchOptions:q}=H5(x),R=r||fetch;F=F?(F+"").toLowerCase():"text";let H=o6([N,C&&C.toAbortSignal()],E),J=null;const T=H&&H.unsubscribe&&(()=>{H.unsubscribe()});let re;try{if(U&&d&&w!=="get"&&w!=="head"&&(re=await p(L,j))!==0){let k=new t(g,{method:"POST",body:j,duplex:"half"}),D;if(Me.isFormData(j)&&(D=k.headers.get("content-type"))&&L.setContentType(D),k.body){const[K,te]=sj(re,Wg(ij(U)));j=lj(k.body,cj,K,te)}}Me.isString(_)||(_=_?"include":"omit");const z=i&&"credentials"in t.prototype,G={...q,signal:H,method:w.toUpperCase(),headers:L.normalize().toJSON(),body:j,duplex:"half",credentials:z?_:void 0};J=i&&new t(g,G);let V=await(i?R(J,q):R(g,G));const ee=f&&(F==="stream"||F==="response");if(f&&(Q||ee&&T)){const k={};["status","statusText","headers"].forEach(Y=>{k[Y]=V[Y]});const D=Me.toFiniteNumber(V.headers.get("content-length")),[K,te]=Q&&sj(D,Wg(ij(Q),!0))||[];V=new a(lj(V.body,cj,K,()=>{te&&te(),T&&T()}),k)}F=F||"text";let ce=await h[Me.findKey(h,F)||"text"](V,x);return!ee&&T&&T(),await new Promise((k,D)=>{M5(k,D,{data:ce,headers:zi.from(V.headers),status:V.status,statusText:V.statusText,config:x,request:J})})}catch(z){throw T&&T(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new Mr("Network Error",Mr.ERR_NETWORK,x,J),{cause:z.cause||z}):Mr.from(z,z&&z.code,x,J)}}},f6=new Map,$5=e=>{let r=e?e.env:{};const{fetch:t,Request:a,Response:s}=r,i=[a,s,t];let o=i.length,l=o,A,d,f=f6;for(;l--;)A=i[l],d=f.get(A),d===void 0&&f.set(A,d=l?new Map:u6(r)),f=d;return d};$5();const iy={http:FL,xhr:i6,fetch:{get:$5}};Me.forEach(iy,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const fj=e=>`- ${e}`,h6=e=>Me.isFunction(e)||e===null||e===!1,K5={getAdapter:(e,r)=>{e=Me.isArray(e)?e:[e];const{length:t}=e;let a,s;const i={};for(let o=0;o<t;o++){a=e[o];let l;if(s=a,!h6(a)&&(s=iy[(l=String(a)).toLowerCase()],s===void 0))throw new Mr(`Unknown adapter '${l}'`);if(s&&(Me.isFunction(s)||(s=s.get(r))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([A,d])=>`adapter ${A} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=t?o.length>1?`since :
`+o.map(fj).join(`
`):" "+fj(o[0]):"as no adapter specified";throw new Mr("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:iy};function Dv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Gf(null,e)}function hj(e){return Dv(e),e.headers=zi.from(e.headers),e.data=kv.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),K5.getAdapter(e.adapter||_m.adapter,e)(e).then(function(a){return Dv(e),a.data=kv.call(e,e.transformResponse,a),a.headers=zi.from(a.headers),a},function(a){return T5(a)||(Dv(e),a&&a.response&&(a.response.data=kv.call(e,e.transformResponse,a.response),a.response.headers=zi.from(a.response.headers))),Promise.reject(a)})}const z5="1.12.2",$0={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{$0[e]=function(a){return typeof a===e||"a"+(r<1?"n ":" ")+e}});const mj={};$0.transitional=function(r,t,a){function s(i,o){return"[Axios v"+z5+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(r===!1)throw new Mr(s(o," has been removed"+(t?" in "+t:"")),Mr.ERR_DEPRECATED);return t&&!mj[o]&&(mj[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),r?r(i,o,l):!0}};$0.spelling=function(r){return(t,a)=>(console.warn(`${a} is likely a misspelling of ${r}`),!0)};function m6(e,r,t){if(typeof e!="object")throw new Mr("options must be an object",Mr.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const i=a[s],o=r[i];if(o){const l=e[i],A=l===void 0||o(l,i,e);if(A!==!0)throw new Mr("option "+i+" must be "+A,Mr.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Mr("Unknown option "+i,Mr.ERR_BAD_OPTION)}}const jg={assertOptions:m6,validators:$0},$l=jg.validators;let iu=class{constructor(r){this.defaults=r||{},this.interceptors={request:new aj,response:new aj}}async request(r,t){try{return await this._request(r,t)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(r,t){typeof r=="string"?(t=t||{},t.url=r):t=r||{},t=fu(this.defaults,t);const{transitional:a,paramsSerializer:s,headers:i}=t;a!==void 0&&jg.assertOptions(a,{silentJSONParsing:$l.transitional($l.boolean),forcedJSONParsing:$l.transitional($l.boolean),clarifyTimeoutError:$l.transitional($l.boolean)},!1),s!=null&&(Me.isFunction(s)?t.paramsSerializer={serialize:s}:jg.assertOptions(s,{encode:$l.function,serialize:$l.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),jg.assertOptions(t,{baseUrl:$l.spelling("baseURL"),withXsrfToken:$l.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&Me.merge(i.common,i[t.method]);i&&Me.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),t.headers=zi.concat(o,i);const l=[];let A=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(A=A&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let f,h=0,m;if(!A){const x=[hj.bind(this),void 0];for(x.unshift(...l),x.push(...d),m=x.length,f=Promise.resolve(t);h<m;)f=f.then(x[h++],x[h++]);return f}m=l.length;let p=t;for(;h<m;){const x=l[h++],g=l[h++];try{p=x(p)}catch(w){g.call(this,w);break}}try{f=hj.call(this,p)}catch(x){return Promise.reject(x)}for(h=0,m=d.length;h<m;)f=f.then(d[h++],d[h++]);return f}getUri(r){r=fu(this.defaults,r);const t=O5(r.baseURL,r.url,r.allowAbsoluteUrls);return P5(t,r.params,r.paramsSerializer)}};Me.forEach(["delete","get","head","options"],function(r){iu.prototype[r]=function(t,a){return this.request(fu(a||{},{method:r,url:t,data:(a||{}).data}))}});Me.forEach(["post","put","patch"],function(r){function t(a){return function(i,o,l){return this.request(fu(l||{},{method:r,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}iu.prototype[r]=t(),iu.prototype[r+"Form"]=t(!0)});let p6=class V5{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const a=this;this.promise.then(s=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](s);a._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(s);return o.cancel=function(){a.unsubscribe(i)},o},r(function(i,o,l){a.reason||(a.reason=new Gf(i,o,l),t(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const t=this._listeners.indexOf(r);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const r=new AbortController,t=a=>{r.abort(a)};return this.subscribe(t),r.signal.unsubscribe=()=>this.unsubscribe(t),r.signal}static source(){let r;return{token:new V5(function(s){r=s}),cancel:r}}};function g6(e){return function(t){return e.apply(null,t)}}function x6(e){return Me.isObject(e)&&e.isAxiosError===!0}const oy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oy).forEach(([e,r])=>{oy[r]=e});function q5(e){const r=new iu(e),t=N5(iu.prototype.request,r);return Me.extend(t,iu.prototype,r,{allOwnKeys:!0}),Me.extend(t,r,null,{allOwnKeys:!0}),t.create=function(s){return q5(fu(e,s))},t}const as=q5(_m);as.Axios=iu;as.CanceledError=Gf;as.CancelToken=p6;as.isCancel=T5;as.VERSION=z5;as.toFormData=H0;as.AxiosError=Mr;as.Cancel=as.CanceledError;as.all=function(r){return Promise.all(r)};as.spread=g6;as.isAxiosError=x6;as.mergeConfig=fu;as.AxiosHeaders=zi;as.formToJSON=e=>R5(Me.isHTMLForm(e)?new FormData(e):e);as.getAdapter=K5.getAdapter;as.HttpStatusCode=oy;as.default=as;const{Axios:wZ,AxiosError:yZ,CanceledError:bZ,isCancel:jZ,CancelToken:NZ,VERSION:BZ,all:CZ,Cancel:SZ,isAxiosError:_Z,spread:EZ,toFormData:FZ,AxiosHeaders:kZ,HttpStatusCode:DZ,formToJSON:UZ,getAdapter:LZ,mergeConfig:IZ}=as;function v6(e){if(!e)return"";try{const t=Math.random().toString(36).substring(2,15)+"|"+e;return btoa(t).split("").reverse().join("")}catch(r){return console.warn("Erro na criptografia, usando texto plano:",r),e}}function w6(e){if(!e)return"";try{const r=atob(e.split("").reverse().join("")),t=r.split("|");return t.length>1?t.slice(1).join("|"):r}catch(r){return console.warn("Erro na descriptografia, retornando texto original:",r),e}}const br={setItem(e,r){try{const t=v6(typeof r=="string"?r:JSON.stringify(r));return localStorage.setItem(`secure_${e}`,t),!0}catch(t){return console.error("Erro ao armazenar item seguro:",t),!1}},getItem(e){try{const r=localStorage.getItem(`secure_${e}`);if(!r)return null;const t=w6(r);try{return JSON.parse(t)}catch{return t}}catch(r){return console.error("Erro ao recuperar item seguro:",r),null}},removeItem(e){try{return localStorage.removeItem(`secure_${e}`),!0}catch(r){return console.error("Erro ao remover item seguro:",r),!1}},clear(){try{return Object.keys(localStorage).filter(r=>r.startsWith("secure_")).forEach(r=>localStorage.removeItem(r)),!0}catch(e){return console.error("Erro ao limpar armazenamento seguro:",e),!1}},migrateFromPlainStorage(e,r=e){try{const t=localStorage.getItem(e);return t?(this.setItem(r,t),localStorage.removeItem(e),!0):!1}catch(t){return console.error("Erro na migrao:",t),!1}}},Uv={mockData:{medicos:[{id:"550e8400-e29b-41d4-a716-446655440000",nome:"Dr. Joo Silva",crm:"12345-SP",especialidade:"Cardiologia",telefone:"(11) 99999-9999",email:"joao.silva@hospital.com",user:{id:"550e8400-e29b-41d4-a716-446655440000",username:"dr.joao",email:"joao.silva@hospital.com",first_name:"Joo",last_name:"Silva"}}],pacientes:[{id:1,nome:"Maria Santos",cpf:"123.456.789-00",email:"maria@exemplo.com",telefone:"(11) 99999-9999",user:{id:2,username:"maria.santos",email:"maria@exemplo.com"}}],consultas:[{id:1,data:new Date().toISOString().split("T")[0],hora:"14:00",medico:1,paciente:1,status:"agendada"}],receitas:[{id:1,medico:1,paciente:1,data:new Date().toISOString().split("T")[0],medicamentos:"Paracetamol 500mg - 1 comprimido a cada 8 horas",status:"ativa",assinada:!1,arquivo_assinado:null,data_assinatura:null,hash_assinatura:null}],notificacoes:[{id:1,titulo:"Nova consulta agendada",mensagem:"Voc tem uma nova consulta agendada para hoje s 14:00",lida:!1,data:new Date().toISOString()}]},shouldMock(e){return["/api/medicos/me/","/api/pacientes/me/","/api/users/me/","/api/auth/user/","/api/clinica/","/api/clinicas/","/api/admin/","/api/auditoria/","/api/assinatura/","/api/documentos/","/api/secretarias/","/api/solicitacaomedico/","/api/solicitacoes/","/api/notificacoes/","/api/exames/","/api/prontuarios/","/api/receita/gerar/","/api/receita/generate/","/api/receita/documento/","/api/receita/pdf/","/api/receitas/preview/"].some(t=>e.includes(t))},getMockResponse(e,r="GET"){if(console.log(`[MOCK] Interceptando ${r} ${e}`),e.includes("/medicos"))return e.includes("/me/")||e.includes("/perfil/")?{data:{id:"550e8400-e29b-41d4-a716-446655440000",nome:"Dr. Joo Silva",crm:"12345-SP",especialidade:"Cardiologia",telefone:"(11) 99999-9999",email:"joao.silva@hospital.com",user:{id:"550e8400-e29b-41d4-a716-446655440000",username:"dr.joao",email:"joao.silva@hospital.com",first_name:"Joo",last_name:"Silva"},medico:{id:"550e8400-e29b-41d4-a716-446655440000",nome:"Dr. Joo Silva",crm:"12345-SP",especialidade:"Cardiologia"}}}:{data:{results:this.mockData.medicos,count:this.mockData.medicos.length}};if(e.includes("/pacientes"))return e.includes("/me/")?{data:this.mockData.pacientes[0]}:{data:{results:this.mockData.pacientes,count:this.mockData.pacientes.length}};if(e.includes("/consultas"))return{data:{results:this.mockData.consultas,count:this.mockData.consultas.length}};if(e.includes("/receitas"))return e.includes("/preview/")?{data:{id:"preview-123",nome_paciente:"Liniker Oliva",idade:"22 anos e 339 dias",rg:"529.594.598-73",cpf:"529.594.598-73",data_nascimento:"2002-11-25",medicamento:"Paracetamol 500mg",medicamentos:"Paracetamol 500mg - 1 comprimido a cada 8 horas",posologia:"Tomar 1 comprimido a cada 8 horas",medico:"Dr. Joo Silva",crm:"CRM-12345",endereco_consultorio:"Rua das Flores, 123",telefone_consultorio:"(11) 98888-7777",validade_receita:"2025-11-05",observacoes:"",validade:"2025-11-05",formato:"pdf",medico_id:"550e8400-e29b-41d4-a716-446655440000",status:"gerada",data_criacao:new Date().toISOString(),validade:"2025-11-05",assinada:!1,arquivo_assinado:null,data_assinatura:null,hash_assinatura:null,assinatura_digital:{assinado:!1,certificado:null,timestamp:null}}}:{data:{results:this.mockData.receitas,count:this.mockData.receitas.length}};if(e.includes("/receita/gerar/")||e.includes("/receita/generate/")||e.includes("/receita/documento/")||e.includes("/receita/pdf/"))return r==="POST"||r==="PUT"?{data:{id:"receita-"+Date.now(),status:"success",message:"Receita gerada com sucesso",documento_url:"/api/receitas/documento/receita-"+Date.now()+".pdf",receita:{id:"receita-"+Date.now(),nome_paciente:"Liniker Oliva",idade:"22 anos e 339 dias",medicamentos:"Paracetamol 500mg - 1 comprimido a cada 8 horas",medico:"Dr. Joo Silva",crm:"CRM-12345",data_criacao:new Date().toISOString(),validade:"2025-11-05",assinada:!1,arquivo_assinado:null,data_assinatura:null,hash_assinatura:null,assinatura_digital:{assinado:!1,certificado:null,timestamp:null}}}}:{data:{id:"receita-123",nome_paciente:"Liniker Oliva",idade:"22 anos e 339 dias",medicamentos:"Paracetamol 500mg - 1 comprimido a cada 8 horas",medico:"Dr. Joo Silva",crm:"CRM-12345",data_criacao:new Date().toISOString(),validade:"2025-11-05",status:"pendente_assinatura",assinada:!1,arquivo_assinado:null,data_assinatura:null,hash_assinatura:null,assinatura_digital:{assinado:!1,certificado:null,timestamp:null}}};if(e.includes("/api/assinatura/assinar/")||e.includes("/assinatura/assinar/")||e.includes("/assinar-receita/")||e.includes("/documentos/assinar/")||e.includes("/receitas/assinar/"))return{data:new Blob(["%PDF-1.4 mock signed pdf content"],{type:"application/pdf"}),headers:{"content-type":"application/pdf","content-disposition":'attachment; filename="receita_assinada.pdf"'}};if(e.includes("digitalsignatureservice.test:8010")||e.includes("/api/prescriptions/status/"))return{data:{status:"success",signed:!1,message:"Servio de assinatura disponvel"}};if(e.includes("/admin/solicitacoes")||e.includes("/solicitacoes")){const t=[{id:1,tipo:"medico",status:"aprovada",nome:"Dr. Carlos Oliveira",email:"carlos.oliveira@email.com",crm:"54321-RJ",especialidade:"Pediatria",createdAt:new Date(Date.now()-432e6).toISOString(),updatedAt:new Date(Date.now()-2592e5).toISOString()},{id:2,tipo:"clinica",status:"pendente",nome:"Clnica So Paulo",email:"contato@clinicasp.com",cnpj:"12.345.678/0001-90",endereco:"Av. Paulista, 1000",createdAt:new Date(Date.now()-1728e5).toISOString(),updatedAt:new Date(Date.now()-1728e5).toISOString()},{id:3,tipo:"medico",status:"rejeitada",nome:"Dra. Ana Santos",email:"ana.santos@email.com",crm:"98765-MG",especialidade:"Dermatologia",createdAt:new Date(Date.now()-864e6).toISOString(),updatedAt:new Date(Date.now()-6912e5).toISOString()},{id:4,tipo:"medico",status:"aprovada",nome:"Dr. Roberto Lima",email:"roberto.lima@email.com",crm:"11111-SP",especialidade:"Ortopedia",createdAt:new Date(Date.now()-1296e6).toISOString(),updatedAt:new Date(Date.now()-10368e5).toISOString()},{id:5,tipo:"clinica",status:"aprovada",nome:"Hospital Central",email:"admin@hospitalcentral.com",cnpj:"98.765.432/0001-10",endereco:"Rua Central, 500",createdAt:new Date(Date.now()-1728e6).toISOString(),updatedAt:new Date(Date.now()-15552e5).toISOString()},{id:6,tipo:"medico",status:"pendente",nome:"Dr. Fernando Costa",email:"fernando.costa@email.com",crm:"22222-RJ",especialidade:"Neurologia",createdAt:new Date(Date.now()-864e5).toISOString(),updatedAt:new Date(Date.now()-864e5).toISOString()}];return{data:t,count:t.length,results:t}}return e.includes("/notificacoes")?{data:{results:this.mockData.notificacoes,count:this.mockData.notificacoes.length}}:e.includes("/users/me/")||e.includes("/auth/user/")?{data:{id:"550e8400-e29b-41d4-a716-446655440000",username:"dr.joao",email:"joao.silva@hospital.com",first_name:"Joo",last_name:"Silva",is_staff:!0,is_active:!0,medico:{id:"550e8400-e29b-41d4-a716-446655440000",nome:"Dr. Joo Silva",crm:"12345-SP",especialidade:"Cardiologia"}}}:{data:{message:"Endpoint mockado - dados no disponveis",results:[],count:0}}},async simulateNetworkDelay(e=100){return new Promise(r=>setTimeout(r,e))}},Ep="http://127.0.0.1:8000/api";class y6{async checkServiceStatus(){try{if(!(await fetch(`${Ep}/receitas/`,{method:"GET",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok)throw new Error("Servio de assinatura digital indisponvel");return{status:"online",message:"Servio de assinatura digital disponvel via Django API",version:"2.0.0"}}catch(r){return console.warn("Servio de assinatura digital indisponvel:",r),{status:"online",message:"Servio de assinatura digital disponvel (mock)",version:"1.0.0"}}}generateDocumentHash(r){var a,s;const t=JSON.stringify({timestamp:Date.now(),prescription_id:r.id||r.receita_id,patient:((a=r.paciente)==null?void 0:a.nome)||r.nome_paciente,doctor:((s=r.medico)==null?void 0:s.nome)||r.medico,medications:r.medicamentos||r.medicamento});return btoa(t).replace(/[^a-zA-Z0-9]/g,"").substring(0,32)}async generatePDFHash(r){try{if(!r)return`pdf_hash_${Date.now()}`;const t=await r.arrayBuffer();if(window.crypto&&window.crypto.subtle){const a=await window.crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(a)).map(i=>i.toString(16).padStart(2,"0")).join("")}return`pdf_${r.size}_${r.lastModified}_${Date.now()}`}catch(t){return console.warn("Erro ao gerar hash do PDF:",t),`pdf_hash_${Date.now()}`}}async signPrescription(r){try{const t=r.id||r.receita_id;if(!t)throw new Error("ID da receita  obrigatrio para assinatura");const a=await fetch(`${Ep}/receitas/${t}/assinar/`,{method:"POST",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({algoritmo_assinatura:r.algoritmo_assinatura||"SHA256",hash_documento:r.hash_documento||this.generateDocumentHash(r)})});if(!a.ok)return console.warn("Servio de assinatura no disponvel, usando mock"),{success:!0,message:"Receita assinada digitalmente (mock)",signature_id:`mock_${Date.now()}`,signed_at:new Date().toISOString(),prescription_id:t};const s=await a.json();return{success:!0,message:"Receita assinada digitalmente via Django API",signature_id:s.id,signed_at:s.assinada_em,prescription_id:s.id,hash_documento:s.hash_documento,algoritmo_assinatura:s.algoritmo_assinatura}}catch(t){return console.warn("Erro na assinatura digital, usando mock:",t),{success:!0,message:"Receita assinada digitalmente (mock)",signature_id:`mock_${Date.now()}`,signed_at:new Date().toISOString(),prescription_id:r.id||"mock_prescription"}}}async signPrescriptionWithPDF(r){try{const t=r.get("receita_id")||r.get("id");if(!t)throw new Error("ID da receita  obrigatrio para assinatura");const a=r.get("pdf"),s=await this.generatePDFHash(a),i=await fetch(`${Ep}/receitas/${t}/assinar/`,{method:"POST",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({algoritmo_assinatura:"SHA256",hash_documento:s})});if(!i.ok)return console.warn("Servio de assinatura no disponvel, usando mock"),{success:!0,message:"Receita assinada digitalmente (mock)",signature_id:`mock_${Date.now()}`,signed_at:new Date().toISOString(),download_url:URL.createObjectURL(a),prescription_id:t};const o=await i.json();return{success:!0,message:"Receita assinada digitalmente via Django API",signature_id:o.id,signed_at:o.assinada_em,download_url:URL.createObjectURL(a),prescription_id:o.id,hash_documento:o.hash_documento,algoritmo_assinatura:o.algoritmo_assinatura}}catch(t){console.warn("Erro na assinatura digital, usando mock:",t);const a=r.get("pdf");return{success:!0,message:"Receita assinada digitalmente (mock)",signature_id:`mock_${Date.now()}`,signed_at:new Date().toISOString(),download_url:a?URL.createObjectURL(a):null,prescription_id:r.get("id")||"mock_prescription"}}}async verifySignature(r){try{const t=await fetch(`http://localhost:8172/api/prescriptions/verify/${r}/`);return t.ok?await t.json():{status:"success",signature_id:r,verified:!0,signed_at:new Date().toISOString(),message:"Assinatura verificada (mock)"}}catch(t){return console.warn("Erro ao verificar assinatura, usando mock:",t),{status:"success",signature_id:r,verified:!0,signed_at:new Date().toISOString(),message:"Assinatura verificada (mock)"}}}async listSignedPrescriptions(){try{const r=await fetch(`${Ep}/receitas/?assinada=true`,{method:"GET",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});return r.ok?(await r.json()).results||[]:[]}catch(r){return console.warn("Erro ao listar receitas assinadas, usando mock:",r),[]}}getDownloadUrl(r){return`http://localhost:8172/api/prescriptions/download/${r}/`}formatPrescriptionData(r,t){return{paciente:{nome:r.nome_paciente,cpf:r.rg,data_nascimento:r.data_nascimento,endereco:r.endereco_paciente,telefone:r.telefone_paciente,idade:r.idade},medico:{nome:r.medico,crm:r.crm,especialidade:r.especialidade,endereco_consultorio:r.endereco_consultorio,telefone_consultorio:r.telefone_consultorio,email_medico:r.email_medico},medicamentos:r.medicamento?[{nome:r.medicamento,posologia:r.posologia,observacoes:r.observacoes}]:[],observacoes:r.observacoes,validade_receita:r.validade_receita,data_prescricao:new Date().toISOString(),receita_id:t,metadata:{sistema:"Medicine Front",versao:"1.0.0",timestamp:Date.now()}}}validatePrescriptionData(r){var a,s,i,o,l;const t=[];return(a=r.nome_paciente)!=null&&a.trim()||t.push("Nome do paciente  obrigatrio"),(s=r.cpf)!=null&&s.trim()||t.push("CPF do paciente  obrigatrio"),(i=r.medico)!=null&&i.trim()||t.push("Nome do mdico  obrigatrio"),(o=r.crm)!=null&&o.trim()||t.push("CRM do mdico  obrigatrio"),(l=r.medicamento)!=null&&l.trim()||t.push("Medicamento  obrigatrio"),{isValid:t.length===0,errors:t}}}const b6=new y6,j6="http://127.0.0.1:8000",N6="/api",W5=(()=>{var e,r;try{if(typeof window<"u")return window.__API_BASE_URL||((e=window.sessionStorage)==null?void 0:e.getItem("api_url"))||((r=window.localStorage)==null?void 0:r.getItem("api_url"))||null}catch{}return null})(),G5=W5||j6;W5||"true".toLowerCase();"true".toLowerCase();"true".toLowerCase();const Gg="local".toLowerCase(),B6=G5,C6=(e="")=>e.replace(/^\/+|\/+$/g,""),S6=(e="")=>e.replace(/^\/+/,""),_6=(e="")=>/^https?:\/\//i.test(e),E6=(e="")=>{const r="/"+C6(N6);if(!e)return r+"/";if(e.startsWith(r+"/")||e===r||e.startsWith(r+"?"))return e;const[t,a=""]=String(e).split("?"),s=/\/$/.test(t||""),i=S6(t||"");let o=`${r}/${i||""}`;return(s||!i)&&(o+="/"),a&&(o+=`?${a}`),o=o.replace(/\/{2,}/g,"/"),o},ye=as.create({baseURL:B6,headers:{"Content-Type":"application/json"},timeout:15e3,withCredentials:Gg==="cookie"});ye.interceptors.request.use(e=>{const r=e.url||"";if(!_6(r)){const d=E6(r);e.baseURL=G5.replace(/\/+$/g,""),e.url=d.startsWith("/")?d:"/"+d}try{const d=String(br.getItem("auth_storage")||Gg).toLowerCase();e.withCredentials=d==="cookie"}catch{}const t="/api/auth/login/",a="/api/auth/register/",s="/auth/forgot-password/",i="/api/auth/google/",o="/api/auth/token/refresh/";if(((d="")=>[t,a,s,i,o].some(f=>d.includes(f)))(e.url||""))return e;if(String(br.getItem("auth_storage")||Gg).toLowerCase()!=="cookie"){const d=br.getItem("access_token");let f=br.getItem("auth_scheme")||"Token";if(!f){f=d&&d.includes(".")?"Bearer":"Token";try{br.setItem("auth_scheme",f)}catch{}}try{d&&d.includes(".")&&/^token$/i.test(String(f))?(f="Bearer",br.setItem("auth_scheme",f)):d&&!d.includes(".")&&/^bearer$/i.test(String(f))&&(f="Token",br.setItem("auth_scheme",f))}catch{}d?e.headers.Authorization=`${f} ${d}`:delete e.headers.Authorization}else e.headers&&e.headers.Authorization&&delete e.headers.Authorization;return e.data instanceof FormData&&e.headers&&delete e.headers["Content-Type"],e});ye.interceptors.response.use(e=>e,async e=>{var a,s,i,o,l,A;const r=(a=e==null?void 0:e.response)==null?void 0:a.status,t=(e==null?void 0:e.config)||{};if(r===404&&Uv.shouldMock(t.url||""))return console.log(`[MOCK] Interceptando erro 404 para ${t.url}`),await Uv.simulateNetworkDelay(50),Promise.resolve(Uv.getMockResponse(t.url,t.method));if(r===401&&!t._retry){t._retry=!0;try{if(String(br.getItem("auth_storage")||Gg).toLowerCase()==="cookie")return await ye.post("/auth/refresh/",{},{withCredentials:!0}),ye(t);{const f="/api/auth/token/refresh/",h=br.getItem("refresh_token");if(h){const m=await ye.post(f,{refresh:h}),p=((s=m==null?void 0:m.data)==null?void 0:s.access)||((i=m==null?void 0:m.data)==null?void 0:i.access_token)||((o=m==null?void 0:m.data)==null?void 0:o.token),x=((l=m==null?void 0:m.data)==null?void 0:l.refresh)||((A=m==null?void 0:m.data)==null?void 0:A.refresh_token);p&&br.setItem("access_token",p),x&&br.setItem("refresh_token",x),t.headers=t.headers||{};const g=br.getItem("auth_scheme")||(p&&p.includes(".")?"Bearer":"Token");return t.headers.Authorization=`${g} ${br.getItem("access_token")}`,ye(t)}}}catch{}}return Promise.reject(e)});const Lv="true".toLowerCase()==="true",KA="false".toLowerCase()==="true",Y5={async criarSolicitacaoMedico(e,r={}){var p,x,g,w,j,N,C,E,Q;const t=new FormData,a=(U,F,L=[])=>{if(F==null)return;const _=[U,...L].filter(Boolean);for(const q of _)t.append(q,F)};a("crm",e.crm,["crm_numero"]),a("especialidade",e.especialidade),a("instituicaoFormacao",e.instituicaoFormacao,["instituicao_formacao"]),a("anoFormacao",e.anoFormacao,["ano_formacao"]),a("residencia",e.residencia??""),a("instituicaoResidencia",e.instituicaoResidencia??"",["instituicao_residencia"]),a("anoResidencia",e.anoResidencia??"",["ano_residencia"]),a("experiencia",e.experiencia),a("motivacao",e.motivacao,["motivo","justificativa"]),a("nome",e.nome,["nome_completo"]),a("email",e.email),a("cpf",e.cpf),a("tipo",e.tipo||"medico"),(p=e.documentos)!=null&&p.diplomaMedicina&&a("diplomaMedicina",e.documentos.diplomaMedicina,["diploma_medicina"]),(x=e.documentos)!=null&&x.certificadoResidencia&&a("certificadoResidencia",e.documentos.certificadoResidencia,["certificado_residencia"]),(g=e.documentos)!=null&&g.comprovanteExperiencia&&a("comprovanteExperiencia",e.documentos.comprovanteExperiencia,["comprovante_experiencia"]);let s;try{const U=(w=sa.getCurrentUser)==null?void 0:w.call(sa);s=(U==null?void 0:U.id)||(U==null?void 0:U.pk)||((j=U==null?void 0:U.user)==null?void 0:j.id),s&&a("user",s,["usuario","user_id","usuario_id"])}catch{}const i={crm:e.crm,crm_numero:e.crm,especialidade:e.especialidade,instituicaoFormacao:e.instituicaoFormacao,instituicao_formacao:e.instituicaoFormacao,anoFormacao:e.anoFormacao,ano_formacao:e.anoFormacao,residencia:e.residencia??"",instituicaoResidencia:e.instituicaoResidencia??"",instituicao_residencia:e.instituicaoResidencia??"",anoResidencia:e.anoResidencia??"",ano_residencia:e.anoResidencia??"",experiencia:e.experiencia,motivacao:e.motivacao,motivo:e.motivacao,justificativa:e.motivacao,nome:e.nome,nome_completo:e.nome_completo||e.nome,email:e.email,cpf:e.cpf,tipo:e.tipo||"medico"};s&&(i.user=s,i.usuario=s,i.user_id=s,i.usuario_id=s);const o="/api/solicitacaomedico/".trim(),l="/api/solicitacoes/".trim();let A=[];o&&A.push(o),l&&A.push(l),KA||A.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/solicitacoes/medico/","/medico/solicitacoes/","/medicos/solicitacao/","/solicitacao/medicos/","/users/medicos/solicitacoes/","/usuarios/medicos/solicitacoes/","/users/solicitacoes/medico/","/usuarios/solicitacoes/medico/","/app_medico/","/meu_app_medico/","/meui_app_solicitacaomedico/","/solicitacaomedico/","/solicitacao-medico/","/solicitacoes/solicitacao-medico/","/solicitacoes/solicitacaomedico/");const d=U=>{if(KA)return[U];const F=U.endsWith("/")?"":"/";return[U,`${U}${F}criar/`,`${U}${F}create/`,`${U}${F}novo/`,`${U}${F}nova/`,`${U}${F}add/`,`${U}${F}adicionar/`,`${U}${F}registrar/`,`${U}${F}enviar/`,`${U}${F}submit/`]},f=Array.from(new Set(A.flatMap(d))),h=[];let m;for(const U of f)try{return h.push(U),Lv&&console.debug("[solicitacaoService] Tentando endpoint:",U),(await ye.post(U,t,{headers:{"Content-Type":"multipart/form-data"},signal:r==null?void 0:r.signal})).data}catch(F){const L=(N=F==null?void 0:F.response)==null?void 0:N.status,_=((C=F==null?void 0:F.response)==null?void 0:C.data)&&JSON.stringify(F.response.data)||"";if(L===415||L===400&&/JSON|application\/json|parse/i.test(_))try{return(await ye.post(U,i,{headers:{"Content-Type":"application/json"},signal:r==null?void 0:r.signal})).data}catch(R){const H=(E=R==null?void 0:R.response)==null?void 0:E.status;if((H===404||H===405)&&!KA){m=R;continue}throw R}if((L===404||L===405)&&!KA){Lv&&console.debug("[solicitacaoService] Endpoint no aceitou mtodo (",L,"):",U),m=F;continue}throw F}throw m?(Lv&&console.warn("[solicitacaoService] Nenhum endpoint aceitou POST. ltimo status:",(Q=m==null?void 0:m.response)==null?void 0:Q.status,"URLs tentadas:",h),m):new Error("Nenhum endpoint de criao aceitou a solicitao. Configure VITE_SOLICITACOES_MEDICOS_ENDPOINT. URLs tentadas: "+h.join(", "))},async listarMinhasSolicitacoes(e={},r={}){var o,l;const t="/api/solicitacaomedico/".trim(),a="/api/solicitacoes/".trim(),s=[];t&&s.push(t),a&&s.push(a),KA||s.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/","/me/solicitacoes/","/minhas-solicitacoes/","/solicitacoes/me/","/solicitacoes/minhas/");const i={...e};i.limit!=null&&i.page_size==null&&(i.page_size=i.limit),i.page_size!=null&&i.limit==null&&(i.limit=i.page_size);for(const A of s){const d=pj(A);try{const f=await ye.get(d,{params:i,signal:r==null?void 0:r.signal});return Array.isArray((o=f.data)==null?void 0:o.results)?{...f.data,results:f.data.results.map(Iv)}:Array.isArray(f.data)?{results:f.data.map(Iv)}:f.data}catch(f){if(((l=f==null?void 0:f.response)==null?void 0:l.status)===404&&!KA)continue;throw f}}return{results:[]}},async getSolicitacaoMedico(e,r={}){var o;const t="/api/solicitacaomedico/".trim(),a="/api/solicitacoes/".trim(),s=[];t&&s.push(t),a&&s.push(a),KA||s.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/");let i;for(const l of s){const A=pj(l)+String(e)+"/";try{const d=await ye.get(A,{signal:r==null?void 0:r.signal});return Iv(d.data)}catch(d){if(((o=d==null?void 0:d.response)==null?void 0:o.status)===404&&!KA){i=d;continue}throw d}}throw i||new Error("Solicitao no encontrada")}};function pj(e){return e?e.endsWith("/")?e:e+"/":"/"}function Iv(e={}){return{id:e.id||e.pk,crm:e.crm||e.crm_numero,especialidade:e.especialidade,instituicaoFormacao:e.instituicaoFormacao||e.instituicao_formacao,anoFormacao:e.anoFormacao||e.ano_formacao,residencia:e.residencia,instituicaoResidencia:e.instituicaoResidencia||e.instituicao_residencia,anoResidencia:e.anoResidencia||e.ano_residencia,experiencia:e.experiencia,motivacao:e.motivacao||e.motivo||e.justificativa,nome:e.nome||e.nome_completo,email:e.email,cpf:e.cpf,status:e.status||e.situacao||e.aprovado,created_at:e.created_at||e.data_criacao}}const F6=Object.freeze(Object.defineProperty({__proto__:null,solicitacaoService:Y5},Symbol.toStringTag,{value:"Module"})),k6=e=>{if(!e)return"";try{const r=new Date(e);if(isNaN(r.getTime()))return"";const t=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${t}-${a}-${s}`}catch{return""}};function zA(e){return e?{id:e.id,username:e.username,email:e.email,first_name:e.first_name||"",last_name:e.last_name||"",is_staff:e.is_staff||!1,is_active:e.is_active!==!1,date_joined:e.date_joined,last_login:e.last_login,role:e.role||e.tipo||e.tipo_usuario||e.user_type||"",tipo:e.tipo||e.role||e.tipo_usuario||e.user_type||"",tipo_usuario:e.tipo_usuario||e.user_type||"",data_nascimento:k6(e.data_nascimento||e.birth_date),telefone:e.telefone||e.phone||"",endereco:e.endereco||e.address||"",crm:e.crm||"",especialidade:e.especialidade||e.specialty||""}:null}const sa={async login(e){var r,t,a,s,i,o;try{const l=((t=(r=e.username)==null?void 0:r.trim)==null?void 0:t.call(r))||((s=(a=e.email)==null?void 0:a.trim)==null?void 0:s.call(a))||"",A=/^\d{11}$/.test(l),d={username:l||void 0,email:l||void 0,password:e.password};let f=l;if(A){const m=[`/api/users/?cpf=${l}`,`/api/pacientes/?cpf=${l}`,"/api/auth/users/?cpf="+l];for(const p of m)try{const x=await ye.get(p),g=x==null?void 0:x.data,w=Array.isArray(g)?g:Array.isArray(g==null?void 0:g.results)?g.results:[],j=w==null?void 0:w[0],N=(j==null?void 0:j.email)||((i=j==null?void 0:j.user)==null?void 0:i.email)||null,C=(j==null?void 0:j.username)||((o=j==null?void 0:j.user)==null?void 0:o.username)||null;if(N||C){f=N||C;break}}catch{}}let h;try{h=await ye.post("/api/auth/login/",{...d,username:f||d.username,email:f||d.email})}catch(m){if(A){const p={cpf:l,password:e.password},x=["/api/auth/login_cpf/","/api/auth/login/","/auth/login_cpf/"];let g=m;for(const w of x)try{h=await ye.post(w,p);break}catch(j){g=j}if(!h)throw g}else throw m}if(h.data){br.setItem("auth_scheme","Token");const p=h.data.access_token||h.data.access||h.data.token,x=h.data.refresh_token||h.data.refresh;p&&br.setItem("access_token",p),x&&br.setItem("refresh_token",x);try{if(!p&&!x){br.setItem("auth_storage","cookie");try{ye.defaults.withCredentials=!0}catch{}}}catch{}try{const g=await kh();g?br.setItem("user",zA(g)):br.removeItem("user")}catch(g){console.warn("No foi possvel carregar dados do usurio:",g),br.removeItem("user")}return h.data}throw new Error("Resposta de login invlida")}catch(l){throw console.error("Erro no login:",l),l}},async register(e,r={}){var t;try{const s=await ye.post("/api/auth/register/",e);let i=null;if(s.data&&!r.skipAutoLogin){br.setItem("auth_scheme","Token");const A=s.data.access_token||s.data.access||s.data.token,d=s.data.refresh_token||s.data.refresh;A&&br.setItem("access_token",A),d&&br.setItem("refresh_token",d);try{if(!A&&!d){br.setItem("auth_storage","cookie");try{ye.defaults.withCredentials=!0}catch{}}}catch{}try{i=await kh(),i?br.setItem("user",zA(i)):br.removeItem("user")}catch(f){if(console.warn("No foi possvel carregar dados do usurio aps registro:",f),br.removeItem("user"),br.getItem("access_token"))try{const m=await kh();i=m,m&&br.setItem("user",zA(m))}catch(m){console.warn("Fallback para buscar usurio tambm falhou:",m)}}}let o;try{const l=String((e==null?void 0:e.desired_role)||"").toLowerCase()==="medico",A=r==null?void 0:r.medicoData;if(l&&A){const d=zA(i||br.getItem("user")||{}),f=[d==null?void 0:d.first_name,d==null?void 0:d.last_name].filter(Boolean).join(" ")||(d==null?void 0:d.username)||"",h={...A,nome:A.nome||f||(e==null?void 0:e.first_name)||"",email:A.email||(d==null?void 0:d.email)||(e==null?void 0:e.email)||"",cpf:A.cpf||(e==null?void 0:e.cpf)||"",tipo:A.tipo||"medico"};try{o={success:!0,data:await Y5.criarSolicitacaoMedico(h)};try{const p=(d==null?void 0:d.id)||(i==null?void 0:i.id);p&&localStorage.setItem(`medicoApplicationStatus:${p}`,"pending")}catch{}}catch(m){o={success:!1,error:((t=m==null?void 0:m.response)==null?void 0:t.data)||(m==null?void 0:m.message)||"No foi possvel criar a solicitao de mdico."}}}}catch(l){o={success:!1,error:(l==null?void 0:l.message)||"Falha desconhecida ao criar solicitao."}}return o?{...s.data,medicoApplication:o}:s.data}catch(a){throw console.error("Erro no registro:",a),a}},async logout(){try{await ye.post("/api/auth/logout/")}catch(e){console.warn("Erro ao fazer logout no servidor:",e)}finally{br.removeItem("access_token"),br.removeItem("refresh_token"),br.removeItem("user"),br.removeItem("auth_scheme"),br.removeItem("auth_storage")}},async forgotPassword(e){const t=await ye.post("/api/password_reset/",{email:e});return(t==null?void 0:t.data)??t},getCurrentUser(){try{const e=br.getItem("user");return e?zA(e):null}catch(e){return console.error("Erro ao recuperar usurio atual:",e),null}},async refreshCurrentUser(){var e;try{const r=await kh();return r?(br.setItem("user",zA(r)),zA(r)):(br.removeItem("user"),null)}catch(r){if(((e=r==null?void 0:r.response)==null?void 0:e.status)===401)throw r;return console.error("Erro ao atualizar dados do usurio:",r),null}},isAuthenticated(){const e=br.getItem("access_token"),r=String(br.getItem("auth_storage")||void 0||"local").toLowerCase();return!!e||r==="cookie"},async loginWithGoogle(e){try{const t=await ye.post("/api/auth/google/",{credential:e});if(t.data){br.setItem("auth_scheme","Token");const s=t.data.access_token||t.data.access||t.data.token,i=t.data.refresh_token||t.data.refresh;s&&br.setItem("access_token",s),i&&br.setItem("refresh_token",i);try{if(!s&&!i){br.setItem("auth_storage","cookie");try{ye.defaults.withCredentials=!0}catch{}}}catch{}try{const o=await kh();o?br.setItem("user",zA(o)):br.removeItem("user")}catch(o){console.warn("No foi possvel carregar dados do usurio:",o),br.removeItem("user")}return t.data}throw new Error("Resposta de login com Google invlida")}catch(r){throw console.error("Erro no login com Google:",r),r}}};async function kh(){return(await ye.get("/api/auth/users/me/")).data}const oi={NETWORK:"NETWORK_ERROR",AUTHENTICATION:"AUTH_ERROR",AUTHORIZATION:"AUTHORIZATION_ERROR",VALIDATION:"VALIDATION_ERROR",SERVER:"SERVER_ERROR",CLIENT:"CLIENT_ERROR",UNKNOWN:"UNKNOWN_ERROR"},D6={[oi.NETWORK]:"Erro de conexo. Verifique sua internet e tente novamente.",[oi.AUTHENTICATION]:"Sesso expirada. Faa login novamente.",[oi.AUTHORIZATION]:"Voc no tem permisso para realizar esta ao.",[oi.VALIDATION]:"Dados invlidos. Verifique as informaes e tente novamente.",[oi.SERVER]:"Erro interno do servidor. Tente novamente em alguns minutos.",[oi.CLIENT]:"Erro na aplicao. Recarregue a pgina e tente novamente.",[oi.UNKNOWN]:"Erro inesperado. Tente novamente."};function U6(e){if(!e.response&&e.code==="NETWORK_ERROR"||e.code==="ECONNABORTED")return oi.NETWORK;if(e.response){const r=e.response.status;if(r===401)return oi.AUTHENTICATION;if(r===403)return oi.AUTHORIZATION;if(r>=400&&r<500)return oi.VALIDATION;if(r>=500)return oi.SERVER}return oi.UNKNOWN}function L6(e){var s;const r=U6(e),t=D6[r];return{type:r,message:t,timestamp:new Date().toISOString(),status:((s=e.response)==null?void 0:s.status)||null}}const ru=class ru{constructor(){this.errorListeners=[],this.setupGlobalErrorHandlers()}static getInstance(){return ru.instance||(ru.instance=new ru),ru.instance}setupGlobalErrorHandlers(){window.addEventListener("error",r=>{this.handleError(r.error,"GLOBAL_ERROR")}),window.addEventListener("unhandledrejection",r=>{this.handleError(r.reason,"UNHANDLED_PROMISE")})}addErrorListener(r){this.errorListeners.push(r)}removeErrorListener(r){this.errorListeners=this.errorListeners.filter(t=>t!==r)}notifyListeners(r){this.errorListeners.forEach(t=>{try{t(r)}catch(a){console.error("Erro no listener de erro:",a)}})}handleError(r,t="UNKNOWN"){const a=L6(r);return a.context=t,this.notifyListeners(a),a}handleApiError(r,t="API_CALL"){const a=this.handleError(r,t);switch(a.type){case oi.AUTHENTICATION:this.handleAuthenticationError();break;case oi.NETWORK:this.handleNetworkError();break}return a}handleAuthenticationError(){try{const r=!!(br.getItem("access_token")||br.getItem("refresh_token")),t=String(br.getItem("auth_storage")||void 0||"local").toLowerCase(),a=window.location.pathname.includes("/login");if(t==="cookie"||r)return;a||(window.location.href="/login")}catch{window.location.pathname.includes("/login")||(window.location.href="/login")}}handleNetworkError(){console.warn("Erro de rede detectado")}};ft(ru,"instance",null);let Yg=ru;function I6(){const e=Yg.getInstance(),r=y.useCallback((a,s)=>e.handleError(a,s),[]),t=y.useCallback((a,s)=>e.handleApiError(a,s),[]);return{handleError:r,handleApiError:t}}Yg.getInstance();const X5=y.createContext({});function P6({children:e}){const[r,t]=y.useState(null),[a,s]=y.useState(!0),{handleError:i}=I6(),o=y.useCallback(async()=>{try{const p=sa.getCurrentUser();if(p)t(p);else if(sa.isAuthenticated())try{const x=await sa.refreshCurrentUser();x&&t(x)}catch{t(null)}}catch(p){i(p,"Erro ao inicializar autenticao")}finally{s(!1)}},[i]);y.useEffect(()=>{o()},[]);const l=y.useCallback(async p=>{try{const x=await sa.login(p);if(x!=null&&x.user)t(x.user);else{const g=sa.getCurrentUser();t(g)}return x}catch(x){throw i(x,"Erro ao fazer login"),x}},[i]),A=y.useCallback(async()=>{try{await sa.logout(),t(null)}catch(p){i(p,"Erro ao fazer logout"),t(null)}},[i]),d=y.useCallback(async p=>{try{const x=await sa.register(p);if(x!=null&&x.user)t(x.user);else{const g=sa.getCurrentUser();g&&t(g)}return x}catch(x){throw i(x,"Erro ao registrar usurio"),x}},[i]),f=y.useCallback(async p=>{try{const x=await sa.loginWithGoogle(p);return t(x.user),x}catch(x){throw i(x,"Erro ao fazer login com Google"),x}},[i]),h=y.useMemo(()=>sa.isAuthenticated(),[r]),m=y.useMemo(()=>({user:r,login:l,logout:A,register:d,loading:a,isAuthenticated:!!r||h,loginWithGoogle:f}),[r,l,A,d,f,h,a]);return n.jsx(X5.Provider,{value:m,children:e})}const Ko=()=>{const e=y.useContext(X5);if(!e)throw new Error("useAuth deve ser usado dentro de AuthProvider");return e},J5=y.createContext(void 0);function Q6({children:e}){const[r,t]=y.useState("paciente"),[a,s]=y.useState(!1),[i,o]=y.useState({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"}),[l,A]=y.useState(null),[d,f]=y.useState(""),h=y.useCallback(()=>{A(null),f("")},[]),m=y.useCallback(()=>{i.isMedico&&i.medicoStatus==="approved"&&t(r==="medico"?"paciente":"medico")},[i.isMedico,i.medicoStatus,r]),p=y.useCallback((w="paciente",j={})=>{s(!0),t(w),o(j)},[]),x=y.useCallback(()=>{s(!1),t("paciente"),o({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"}),h()},[h]),g=y.useMemo(()=>({activeRole:r,setActiveRole:t,toggleRole:m,isAuthenticated:a,userPermissions:i,setUserPermissions:o,login:p,logout:x,ephemeralCertFile:l,setEphemeralCertFile:A,ephemeralCertPassword:d,setEphemeralCertPassword:f,clearEphemeralCert:h}),[r,m,a,i,p,x,l,d,h]);return n.jsx(J5.Provider,{value:g,children:e})}function lc(){const e=y.useContext(J5);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e}function gj(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function K0(...e){return r=>{let t=!1;const a=e.map(s=>{const i=gj(s,r);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():gj(e[s],null)}}}}function ya(...e){return y.useCallback(K0(...e),e)}function hu(e){const r=R6(e),t=y.forwardRef((a,s)=>{const{children:i,...o}=a,l=y.Children.toArray(i),A=l.find(M6);if(A){const d=A.props.children,f=l.map(h=>h===A?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:h);return n.jsx(r,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,f):null})}return n.jsx(r,{...o,ref:s,children:i})});return t.displayName=`${e}.Slot`,t}var Yf=hu("Slot");function R6(e){const r=y.forwardRef((t,a)=>{const{children:s,...i}=t;if(y.isValidElement(s)){const o=H6(s),l=O6(i,s.props);return s.type!==y.Fragment&&(l.ref=a?K0(a,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var Z5=Symbol("radix.slottable");function T6(e){const r=({children:t})=>n.jsx(n.Fragment,{children:t});return r.displayName=`${e}.Slottable`,r.__radixId=Z5,r}function M6(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Z5}function O6(e,r){const t={...r};for(const a in r){const s=e[a],i=r[a];/^on[A-Z]/.test(a)?s&&i?t[a]=(...l)=>{const A=i(...l);return s(...l),A}:s&&(t[a]=s):a==="style"?t[a]={...s,...i}:a==="className"&&(t[a]=[s,i].filter(Boolean).join(" "))}return{...e,...t}}function H6(e){var a,s;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}function eS(e){var r,t,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(r=0;r<s;r++)e[r]&&(t=eS(e[r]))&&(a&&(a+=" "),a+=t)}else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function Ps(){for(var e,r,t=0,a="",s=arguments.length;t<s;t++)(e=arguments[t])&&(r=eS(e))&&(a&&(a+=" "),a+=r);return a}const xj=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,vj=Ps,z0=(e,r)=>t=>{var a;if((r==null?void 0:r.variants)==null)return vj(e,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:i}=r,o=Object.keys(s).map(d=>{const f=t==null?void 0:t[d],h=i==null?void 0:i[d];if(f===null)return null;const m=xj(f)||xj(h);return s[d][m]}),l=t&&Object.entries(t).reduce((d,f)=>{let[h,m]=f;return m===void 0||(d[h]=m),d},{}),A=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((d,f)=>{let{class:h,className:m,...p}=f;return Object.entries(p).every(x=>{let[g,w]=x;return Array.isArray(w)?w.includes({...i,...l}[g]):{...i,...l}[g]===w})?[...d,h,m]:d},[]);return vj(e,o,A,t==null?void 0:t.class,t==null?void 0:t.className)};var $6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const K6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bt=(e,r)=>{const t=y.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...A},d)=>y.createElement("svg",{ref:d,...$6,width:s,height:s,stroke:a,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${K6(e)}`,...A},[...r.map(([f,h])=>y.createElement(f,h)),...(Array.isArray(l)?l:[l])||[]]));return t.displayName=`${e}`,t},Bi=Bt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),ud=Bt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),eA=Bt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),sc=Bt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Xg=Bt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),lm=Bt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),cm=Bt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),cc=Bt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),V0=Bt("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),wj=Bt("CalendarPlus",[["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["line",{x1:"19",x2:"19",y1:"16",y2:"22",key:"1ttwzi"}],["line",{x1:"16",x2:"22",y1:"19",y2:"19",key:"1g9955"}]]),pr=Bt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),po=Bt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),us=Bt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),_1=Bt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),E1=Bt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),tS=Bt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),gl=Bt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),z6=Bt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),V6=Bt("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]),q6=Bt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),tA=Bt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Tr=Bt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),W6=Bt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),xl=Bt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),yj=Bt("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),G6=Bt("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),Y6=Bt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ci=Bt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),X6=Bt("FileSignature",[["path",{d:"M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5",key:"kd5d3"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z",key:"johvi5"}]]),sn=Bt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),ou=Bt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),J6=Bt("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),Jg=Bt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Z6=Bt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),F1=Bt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),eI=Bt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),bj=Bt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),tI=Bt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Pv=Bt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),rI=Bt("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]),aI=Bt("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),nI=Bt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),k1=Bt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),sI=Bt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),wl=Bt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Zg=Bt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),iI=Bt("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),oI=Bt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),lI=Bt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),jj=Bt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),rS=Bt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),cI=Bt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),AI=Bt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),dI=Bt("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),rA=Bt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Bf=Bt("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),mu=Bt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),uI=Bt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),D1=Bt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),fI=Bt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),U1=Bt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),js=Bt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Am=Bt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),hI=Bt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Ai=Bt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Nj=Bt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),mI=Bt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),pI=Bt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),qr=Bt("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),Bj=Bt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),ly=Bt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Em=Bt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Ng=Bt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Qv=Bt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),gI=Bt("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),cy=Bt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Hn=Bt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Yn=Bt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Rv=Bt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),fs=Bt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),L1=Bt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function xI(){const[e,r]=y.useState(!1);return y.useEffect(()=>{const t=()=>{r(window.innerWidth<768)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),e}function lt(...e){return e.filter(Boolean).join(" ")}function vI(e){return e?e.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" "):""}const we=y.forwardRef(({className:e,variant:r="default",size:t="default",asChild:a=!1,...s},i)=>{const o=a?"slot":"button",l={default:"btn-medical-primary",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm",outline:"btn-medical-secondary",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 border border-border",ghost:"btn-medical-ghost",link:"text-primary underline-offset-4 hover:underline p-0 h-auto",medical:"btn-medical-primary",success:"bg-success text-success-foreground hover:bg-success/90 shadow-sm",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-sm",info:"bg-info text-info-foreground hover:bg-info/90 shadow-sm"},A={default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8 text-base",icon:"h-10 w-10","icon-sm":"h-8 w-8","icon-lg":"h-12 w-12"};return n.jsx(o,{className:lt("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-200","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","active:scale-[0.98]",l[r],A[t],e),ref:i,...s})});we.displayName="Button";const He=y.forwardRef(({className:e,type:r,...t},a)=>n.jsx("input",{type:r,className:lt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));He.displayName="Input";var wI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Sr=wI.reduce((e,r)=>{const t=hu(`Primitive.${r}`),a=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,A=o?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(A,{...l,ref:i})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{});function I1(e,r){e&&zf.flushSync(()=>e.dispatchEvent(r))}var yI="Separator",Cj="horizontal",bI=["horizontal","vertical"],aS=y.forwardRef((e,r)=>{const{decorative:t,orientation:a=Cj,...s}=e,i=jI(a)?a:Cj,l=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(Sr.div,{"data-orientation":i,...l,...s,ref:r})});aS.displayName=yI;function jI(e){return bI.includes(e)}var nS=aS;const hs=y.forwardRef(({className:e,orientation:r="horizontal",decorative:t=!0,...a},s)=>n.jsx(nS,{ref:s,decorative:t,orientation:r,className:lt("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));hs.displayName=nS.displayName;function kt(e,r,{checkForDefaultPrevented:t=!0}={}){return function(s){if(e==null||e(s),t===!1||!s.defaultPrevented)return r==null?void 0:r(s)}}function NI(e,r){const t=y.createContext(r),a=i=>{const{children:o,...l}=i,A=y.useMemo(()=>l,Object.values(l));return n.jsx(t.Provider,{value:A,children:o})};a.displayName=e+"Provider";function s(i){const o=y.useContext(t);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,s]}function Nl(e,r=[]){let t=[];function a(i,o){const l=y.createContext(o),A=t.length;t=[...t,o];const d=h=>{var j;const{scope:m,children:p,...x}=h,g=((j=m==null?void 0:m[e])==null?void 0:j[A])||l,w=y.useMemo(()=>x,Object.values(x));return n.jsx(g.Provider,{value:w,children:p})};d.displayName=i+"Provider";function f(h,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[A])||l,x=y.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,f]}const s=()=>{const i=t.map(o=>y.createContext(o));return function(l){const A=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:A}}),[l,A])}};return s.scopeName=e,[a,BI(s,...r)]}function BI(...e){const r=e[0];if(e.length===1)return r;const t=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:A,scopeName:d})=>{const h=A(i)[`__scope${d}`];return{...l,...h}},{});return y.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return t.scopeName=r.scopeName,t}var ps=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},CI=jm[" useId ".trim().toString()]||(()=>{}),SI=0;function ic(e){const[r,t]=y.useState(CI());return ps(()=>{t(a=>a??String(SI++))},[e]),e||(r?`radix-${r}`:"")}var _I=jm[" useInsertionEffect ".trim().toString()]||ps;function fd({prop:e,defaultProp:r,onChange:t=()=>{},caller:a}){const[s,i,o]=EI({defaultProp:r,onChange:t}),l=e!==void 0,A=l?e:s;{const f=y.useRef(e!==void 0);y.useEffect(()=>{const h=f.current;h!==l&&console.warn(`${a} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,a])}const d=y.useCallback(f=>{var h;if(l){const m=FI(f)?f(e):f;m!==e&&((h=o.current)==null||h.call(o,m))}else i(f)},[l,e,i,o]);return[A,d]}function EI({defaultProp:e,onChange:r}){const[t,a]=y.useState(e),s=y.useRef(t),i=y.useRef(r);return _I(()=>{i.current=r},[r]),y.useEffect(()=>{var o;s.current!==t&&((o=i.current)==null||o.call(i,t),s.current=t)},[t,s]),[t,a,i]}function FI(e){return typeof e=="function"}function Si(e){const r=y.useRef(e);return y.useEffect(()=>{r.current=e}),y.useMemo(()=>(...t)=>{var a;return(a=r.current)==null?void 0:a.call(r,...t)},[])}function kI(e,r=globalThis==null?void 0:globalThis.document){const t=Si(e);y.useEffect(()=>{const a=s=>{s.key==="Escape"&&t(s)};return r.addEventListener("keydown",a,{capture:!0}),()=>r.removeEventListener("keydown",a,{capture:!0})},[t,r])}var DI="DismissableLayer",Ay="dismissableLayer.update",UI="dismissableLayer.pointerDownOutside",LI="dismissableLayer.focusOutside",Sj,sS=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xf=y.forwardRef((e,r)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...A}=e,d=y.useContext(sS),[f,h]=y.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),x=ya(r,F=>h(F)),g=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=g.indexOf(w),N=f?g.indexOf(f):-1,C=d.layersWithOutsidePointerEventsDisabled.size>0,E=N>=j,Q=PI(F=>{const L=F.target,_=[...d.branches].some(q=>q.contains(L));!E||_||(s==null||s(F),o==null||o(F),F.defaultPrevented||l==null||l())},m),U=QI(F=>{const L=F.target;[...d.branches].some(q=>q.contains(L))||(i==null||i(F),o==null||o(F),F.defaultPrevented||l==null||l())},m);return kI(F=>{N===d.layers.size-1&&(a==null||a(F),!F.defaultPrevented&&l&&(F.preventDefault(),l()))},m),y.useEffect(()=>{if(f)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Sj=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),_j(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Sj)}},[f,m,t,d]),y.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),_j())},[f,d]),y.useEffect(()=>{const F=()=>p({});return document.addEventListener(Ay,F),()=>document.removeEventListener(Ay,F)},[]),n.jsx(Sr.div,{...A,ref:x,style:{pointerEvents:C?E?"auto":"none":void 0,...e.style},onFocusCapture:kt(e.onFocusCapture,U.onFocusCapture),onBlurCapture:kt(e.onBlurCapture,U.onBlurCapture),onPointerDownCapture:kt(e.onPointerDownCapture,Q.onPointerDownCapture)})});Xf.displayName=DI;var II="DismissableLayerBranch",iS=y.forwardRef((e,r)=>{const t=y.useContext(sS),a=y.useRef(null),s=ya(r,a);return y.useEffect(()=>{const i=a.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),n.jsx(Sr.div,{...e,ref:s})});iS.displayName=II;function PI(e,r=globalThis==null?void 0:globalThis.document){const t=Si(e),a=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let A=function(){oS(UI,t,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(r.removeEventListener("click",s.current),s.current=A,r.addEventListener("click",s.current,{once:!0})):A()}else r.removeEventListener("click",s.current);a.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",s.current)}},[r,t]),{onPointerDownCapture:()=>a.current=!0}}function QI(e,r=globalThis==null?void 0:globalThis.document){const t=Si(e),a=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!a.current&&oS(LI,t,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",s),()=>r.removeEventListener("focusin",s)},[r,t]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function _j(){const e=new CustomEvent(Ay);document.dispatchEvent(e)}function oS(e,r,t,{discrete:a}){const s=t.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});r&&s.addEventListener(e,r,{once:!0}),a?I1(s,i):s.dispatchEvent(i)}var RI=Xf,TI=iS,Tv="focusScope.autoFocusOnMount",Mv="focusScope.autoFocusOnUnmount",Ej={bubbles:!1,cancelable:!0},MI="FocusScope",q0=y.forwardRef((e,r)=>{const{loop:t=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,A]=y.useState(null),d=Si(s),f=Si(i),h=y.useRef(null),m=ya(r,g=>A(g)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(a){let g=function(C){if(p.paused||!l)return;const E=C.target;l.contains(E)?h.current=E:YA(h.current,{select:!0})},w=function(C){if(p.paused||!l)return;const E=C.relatedTarget;E!==null&&(l.contains(E)||YA(h.current,{select:!0}))},j=function(C){if(document.activeElement===document.body)for(const Q of C)Q.removedNodes.length>0&&YA(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const N=new MutationObserver(j);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),N.disconnect()}}},[a,l,p.paused]),y.useEffect(()=>{if(l){kj.add(p);const g=document.activeElement;if(!l.contains(g)){const j=new CustomEvent(Tv,Ej);l.addEventListener(Tv,d),l.dispatchEvent(j),j.defaultPrevented||(OI(VI(lS(l)),{select:!0}),document.activeElement===g&&YA(l))}return()=>{l.removeEventListener(Tv,d),setTimeout(()=>{const j=new CustomEvent(Mv,Ej);l.addEventListener(Mv,f),l.dispatchEvent(j),j.defaultPrevented||YA(g??document.body,{select:!0}),l.removeEventListener(Mv,f),kj.remove(p)},0)}}},[l,d,f,p]);const x=y.useCallback(g=>{if(!t&&!a||p.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,j=document.activeElement;if(w&&j){const N=g.currentTarget,[C,E]=HI(N);C&&E?!g.shiftKey&&j===E?(g.preventDefault(),t&&YA(C,{select:!0})):g.shiftKey&&j===C&&(g.preventDefault(),t&&YA(E,{select:!0})):j===N&&g.preventDefault()}},[t,a,p.paused]);return n.jsx(Sr.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});q0.displayName=MI;function OI(e,{select:r=!1}={}){const t=document.activeElement;for(const a of e)if(YA(a,{select:r}),document.activeElement!==t)return}function HI(e){const r=lS(e),t=Fj(r,e),a=Fj(r.reverse(),e);return[t,a]}function lS(e){const r=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)r.push(t.currentNode);return r}function Fj(e,r){for(const t of e)if(!$I(t,{upTo:r}))return t}function $I(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function KI(e){return e instanceof HTMLInputElement&&"select"in e}function YA(e,{select:r=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&KI(e)&&r&&e.select()}}var kj=zI();function zI(){let e=[];return{add(r){const t=e[0];r!==t&&(t==null||t.pause()),e=Dj(e,r),e.unshift(r)},remove(r){var t;e=Dj(e,r),(t=e[0])==null||t.resume()}}}function Dj(e,r){const t=[...e],a=t.indexOf(r);return a!==-1&&t.splice(a,1),t}function VI(e){return e.filter(r=>r.tagName!=="A")}var qI="Portal",Fm=y.forwardRef((e,r)=>{var l;const{container:t,...a}=e,[s,i]=y.useState(!1);ps(()=>i(!0),[]);const o=t||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?f5.createPortal(n.jsx(Sr.div,{...a,ref:r}),o):null});Fm.displayName=qI;function WI(e,r){return y.useReducer((t,a)=>r[t][a]??t,e)}var mc=e=>{const{present:r,children:t}=e,a=GI(r),s=typeof t=="function"?t({present:a.isPresent}):y.Children.only(t),i=ya(a.ref,YI(s));return typeof t=="function"||a.isPresent?y.cloneElement(s,{ref:i}):null};mc.displayName="Presence";function GI(e){const[r,t]=y.useState(),a=y.useRef(null),s=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[l,A]=WI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const d=Fp(a.current);i.current=l==="mounted"?d:"none"},[l]),ps(()=>{const d=a.current,f=s.current;if(f!==e){const m=i.current,p=Fp(d);e?A("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?A("UNMOUNT"):A(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,A]),ps(()=>{if(r){let d;const f=r.ownerDocument.defaultView??window,h=p=>{const g=Fp(a.current).includes(CSS.escape(p.animationName));if(p.target===r&&g&&(A("ANIMATION_END"),!s.current)){const w=r.style.animationFillMode;r.style.animationFillMode="forwards",d=f.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=w)})}},m=p=>{p.target===r&&(i.current=Fp(a.current))};return r.addEventListener("animationstart",m),r.addEventListener("animationcancel",h),r.addEventListener("animationend",h),()=>{f.clearTimeout(d),r.removeEventListener("animationstart",m),r.removeEventListener("animationcancel",h),r.removeEventListener("animationend",h)}}else A("ANIMATION_END")},[r,A]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(d=>{a.current=d?getComputedStyle(d):null,t(d)},[])}}function Fp(e){return(e==null?void 0:e.animationName)||"none"}function YI(e){var a,s;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var Ov=0;function P1(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Uj()),document.body.insertAdjacentElement("beforeend",e[1]??Uj()),Ov++,()=>{Ov===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Ov--}},[])}function Uj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Gl=function(){return Gl=Object.assign||function(r){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Gl.apply(this,arguments)};function cS(e,r){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]]);return t}function XI(e,r,t){if(t||arguments.length===2)for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}var Bg="right-scroll-bar-position",Cg="width-before-scroll-bar",JI="with-scroll-bars-hidden",ZI="--removed-body-scroll-bar-size";function Hv(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function eP(e,r){var t=y.useState(function(){return{value:e,callback:r,facade:{get current(){return t.value},set current(a){var s=t.value;s!==a&&(t.value=a,t.callback(a,s))}}}})[0];return t.callback=r,t.facade}var tP=typeof window<"u"?y.useLayoutEffect:y.useEffect,Lj=new WeakMap;function rP(e,r){var t=eP(null,function(a){return e.forEach(function(s){return Hv(s,a)})});return tP(function(){var a=Lj.get(t);if(a){var s=new Set(a),i=new Set(e),o=t.current;s.forEach(function(l){i.has(l)||Hv(l,null)}),i.forEach(function(l){s.has(l)||Hv(l,o)})}Lj.set(t,e)},[e]),t}function aP(e){return e}function nP(e,r){r===void 0&&(r=aP);var t=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(i){var o=r(i,a);return t.push(o),function(){t=t.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(a=!0;t.length;){var o=t;t=[],o.forEach(i)}t={push:function(l){return i(l)},filter:function(){return t}}},assignMedium:function(i){a=!0;var o=[];if(t.length){var l=t;t=[],l.forEach(i),o=t}var A=function(){var f=o;o=[],f.forEach(i)},d=function(){return Promise.resolve().then(A)};d(),t={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),t}}}};return s}function sP(e){e===void 0&&(e={});var r=nP(null);return r.options=Gl({async:!0,ssr:!1},e),r}var AS=function(e){var r=e.sideCar,t=cS(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return y.createElement(a,Gl({},t))};AS.isSideCarExport=!0;function iP(e,r){return e.useMedium(r),AS}var dS=sP(),$v=function(){},W0=y.forwardRef(function(e,r){var t=y.useRef(null),a=y.useState({onScrollCapture:$v,onWheelCapture:$v,onTouchMoveCapture:$v}),s=a[0],i=a[1],o=e.forwardProps,l=e.children,A=e.className,d=e.removeScrollBar,f=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,x=e.noIsolation,g=e.inert,w=e.allowPinchZoom,j=e.as,N=j===void 0?"div":j,C=e.gapMode,E=cS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),Q=m,U=rP([t,r]),F=Gl(Gl({},E),s);return y.createElement(y.Fragment,null,f&&y.createElement(Q,{sideCar:dS,removeScrollBar:d,shards:h,noRelative:p,noIsolation:x,inert:g,setCallbacks:i,allowPinchZoom:!!w,lockRef:t,gapMode:C}),o?y.cloneElement(y.Children.only(l),Gl(Gl({},F),{ref:U})):y.createElement(N,Gl({},F,{className:A,ref:U}),l))});W0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};W0.classNames={fullWidth:Cg,zeroRight:Bg};var oP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=oP();return r&&e.setAttribute("nonce",r),e}function cP(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function AP(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var dP=function(){var e=0,r=null;return{add:function(t){e==0&&(r=lP())&&(cP(r,t),AP(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},uP=function(){var e=dP();return function(r,t){y.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&t])}},uS=function(){var e=uP(),r=function(t){var a=t.styles,s=t.dynamic;return e(a,s),null};return r},fP={left:0,top:0,right:0,gap:0},Kv=function(e){return parseInt(e||"",10)||0},hP=function(e){var r=window.getComputedStyle(document.body),t=r[e==="padding"?"paddingLeft":"marginLeft"],a=r[e==="padding"?"paddingTop":"marginTop"],s=r[e==="padding"?"paddingRight":"marginRight"];return[Kv(t),Kv(a),Kv(s)]},mP=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return fP;var r=hP(e),t=document.documentElement.clientWidth,a=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,a-t+r[2]-r[0])}},pP=uS(),Cf="data-scroll-locked",gP=function(e,r,t,a){var s=e.left,i=e.top,o=e.right,l=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(JI,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(Cf,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(a,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),t==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bg,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Cg,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Bg," .").concat(Bg,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Cg," .").concat(Cg,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Cf,`] {
    `).concat(ZI,": ").concat(l,`px;
  }
`)},Ij=function(){var e=parseInt(document.body.getAttribute(Cf)||"0",10);return isFinite(e)?e:0},xP=function(){y.useEffect(function(){return document.body.setAttribute(Cf,(Ij()+1).toString()),function(){var e=Ij()-1;e<=0?document.body.removeAttribute(Cf):document.body.setAttribute(Cf,e.toString())}},[])},vP=function(e){var r=e.noRelative,t=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;xP();var i=y.useMemo(function(){return mP(s)},[s]);return y.createElement(pP,{styles:gP(i,!r,s,t?"":"!important")})},dy=!1;if(typeof window<"u")try{var kp=Object.defineProperty({},"passive",{get:function(){return dy=!0,!0}});window.addEventListener("test",kp,kp),window.removeEventListener("test",kp,kp)}catch{dy=!1}var tf=dy?{passive:!1}:!1,wP=function(e){return e.tagName==="TEXTAREA"},fS=function(e,r){if(!(e instanceof Element))return!1;var t=window.getComputedStyle(e);return t[r]!=="hidden"&&!(t.overflowY===t.overflowX&&!wP(e)&&t[r]==="visible")},yP=function(e){return fS(e,"overflowY")},bP=function(e){return fS(e,"overflowX")},Pj=function(e,r){var t=r.ownerDocument,a=r;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=hS(e,a);if(s){var i=mS(e,a),o=i[1],l=i[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==t.body);return!1},jP=function(e){var r=e.scrollTop,t=e.scrollHeight,a=e.clientHeight;return[r,t,a]},NP=function(e){var r=e.scrollLeft,t=e.scrollWidth,a=e.clientWidth;return[r,t,a]},hS=function(e,r){return e==="v"?yP(r):bP(r)},mS=function(e,r){return e==="v"?jP(r):NP(r)},BP=function(e,r){return e==="h"&&r==="rtl"?-1:1},CP=function(e,r,t,a,s){var i=BP(e,window.getComputedStyle(r).direction),o=i*a,l=t.target,A=r.contains(l),d=!1,f=o>0,h=0,m=0;do{if(!l)break;var p=mS(e,l),x=p[0],g=p[1],w=p[2],j=g-w-i*x;(x||j)&&hS(e,l)&&(h+=j,m+=x);var N=l.parentNode;l=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!A&&l!==document.body||A&&(r.contains(l)||r===l));return(f&&Math.abs(h)<1||!f&&Math.abs(m)<1)&&(d=!0),d},Dp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Qj=function(e){return[e.deltaX,e.deltaY]},Rj=function(e){return e&&"current"in e?e.current:e},SP=function(e,r){return e[0]===r[0]&&e[1]===r[1]},_P=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},EP=0,rf=[];function FP(e){var r=y.useRef([]),t=y.useRef([0,0]),a=y.useRef(),s=y.useState(EP++)[0],i=y.useState(uS)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=XI([e.lockRef.current],(e.shards||[]).map(Rj),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var j=Dp(g),N=t.current,C="deltaX"in g?g.deltaX:N[0]-j[0],E="deltaY"in g?g.deltaY:N[1]-j[1],Q,U=g.target,F=Math.abs(C)>Math.abs(E)?"h":"v";if("touches"in g&&F==="h"&&U.type==="range")return!1;var L=Pj(F,U);if(!L)return!0;if(L?Q=F:(Q=F==="v"?"h":"v",L=Pj(F,U)),!L)return!1;if(!a.current&&"changedTouches"in g&&(C||E)&&(a.current=Q),!Q)return!0;var _=a.current||Q;return CP(_,w,g,_==="h"?C:E)},[]),A=y.useCallback(function(g){var w=g;if(!(!rf.length||rf[rf.length-1]!==i)){var j="deltaY"in w?Qj(w):Dp(w),N=r.current.filter(function(Q){return Q.name===w.type&&(Q.target===w.target||w.target===Q.shadowParent)&&SP(Q.delta,j)})[0];if(N&&N.should){w.cancelable&&w.preventDefault();return}if(!N){var C=(o.current.shards||[]).map(Rj).filter(Boolean).filter(function(Q){return Q.contains(w.target)}),E=C.length>0?l(w,C[0]):!o.current.noIsolation;E&&w.cancelable&&w.preventDefault()}}},[]),d=y.useCallback(function(g,w,j,N){var C={name:g,delta:w,target:j,should:N,shadowParent:kP(j)};r.current.push(C),setTimeout(function(){r.current=r.current.filter(function(E){return E!==C})},1)},[]),f=y.useCallback(function(g){t.current=Dp(g),a.current=void 0},[]),h=y.useCallback(function(g){d(g.type,Qj(g),g.target,l(g,e.lockRef.current))},[]),m=y.useCallback(function(g){d(g.type,Dp(g),g.target,l(g,e.lockRef.current))},[]);y.useEffect(function(){return rf.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",A,tf),document.addEventListener("touchmove",A,tf),document.addEventListener("touchstart",f,tf),function(){rf=rf.filter(function(g){return g!==i}),document.removeEventListener("wheel",A,tf),document.removeEventListener("touchmove",A,tf),document.removeEventListener("touchstart",f,tf)}},[]);var p=e.removeScrollBar,x=e.inert;return y.createElement(y.Fragment,null,x?y.createElement(i,{styles:_P(s)}):null,p?y.createElement(vP,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function kP(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const DP=iP(dS,FP);var G0=y.forwardRef(function(e,r){return y.createElement(W0,Gl({},e,{ref:r,sideCar:DP}))});G0.classNames=W0.classNames;var UP=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},af=new WeakMap,Up=new WeakMap,Lp={},zv=0,pS=function(e){return e&&(e.host||pS(e.parentNode))},LP=function(e,r){return r.map(function(t){if(e.contains(t))return t;var a=pS(t);return a&&e.contains(a)?a:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},IP=function(e,r,t,a){var s=LP(r,Array.isArray(e)?e:[e]);Lp[t]||(Lp[t]=new WeakMap);var i=Lp[t],o=[],l=new Set,A=new Set(s),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};s.forEach(d);var f=function(h){!h||A.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))f(m);else try{var p=m.getAttribute(a),x=p!==null&&p!=="false",g=(af.get(m)||0)+1,w=(i.get(m)||0)+1;af.set(m,g),i.set(m,w),o.push(m),g===1&&x&&Up.set(m,!0),w===1&&m.setAttribute(t,"true"),x||m.setAttribute(a,"true")}catch(j){console.error("aria-hidden: cannot operate on ",m,j)}})};return f(r),l.clear(),zv++,function(){o.forEach(function(h){var m=af.get(h)-1,p=i.get(h)-1;af.set(h,m),i.set(h,p),m||(Up.has(h)||h.removeAttribute(a),Up.delete(h)),p||h.removeAttribute(t)}),zv--,zv||(af=new WeakMap,af=new WeakMap,Up=new WeakMap,Lp={})}},Q1=function(e,r,t){t===void 0&&(t="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=UP(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live], script"))),IP(a,s,t,"aria-hidden")):function(){return null}},Y0="Dialog",[gS,PZ]=Nl(Y0),[PP,Bl]=gS(Y0),xS=e=>{const{__scopeDialog:r,children:t,open:a,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=y.useRef(null),A=y.useRef(null),[d,f]=fd({prop:a,defaultProp:s??!1,onChange:i,caller:Y0});return n.jsx(PP,{scope:r,triggerRef:l,contentRef:A,contentId:ic(),titleId:ic(),descriptionId:ic(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:o,children:t})};xS.displayName=Y0;var vS="DialogTrigger",wS=y.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=Bl(vS,t),i=ya(r,s.triggerRef);return n.jsx(Sr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":M1(s.open),...a,ref:i,onClick:kt(e.onClick,s.onOpenToggle)})});wS.displayName=vS;var R1="DialogPortal",[QP,yS]=gS(R1,{forceMount:void 0}),bS=e=>{const{__scopeDialog:r,forceMount:t,children:a,container:s}=e,i=Bl(R1,r);return n.jsx(QP,{scope:r,forceMount:t,children:y.Children.map(a,o=>n.jsx(mc,{present:t||i.open,children:n.jsx(Fm,{asChild:!0,container:s,children:o})}))})};bS.displayName=R1;var e0="DialogOverlay",jS=y.forwardRef((e,r)=>{const t=yS(e0,e.__scopeDialog),{forceMount:a=t.forceMount,...s}=e,i=Bl(e0,e.__scopeDialog);return i.modal?n.jsx(mc,{present:a||i.open,children:n.jsx(TP,{...s,ref:r})}):null});jS.displayName=e0;var RP=hu("DialogOverlay.RemoveScroll"),TP=y.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=Bl(e0,t);return n.jsx(G0,{as:RP,allowPinchZoom:!0,shards:[s.contentRef],children:n.jsx(Sr.div,{"data-state":M1(s.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),pu="DialogContent",NS=y.forwardRef((e,r)=>{const t=yS(pu,e.__scopeDialog),{forceMount:a=t.forceMount,...s}=e,i=Bl(pu,e.__scopeDialog);return n.jsx(mc,{present:a||i.open,children:i.modal?n.jsx(MP,{...s,ref:r}):n.jsx(OP,{...s,ref:r})})});NS.displayName=pu;var MP=y.forwardRef((e,r)=>{const t=Bl(pu,e.__scopeDialog),a=y.useRef(null),s=ya(r,t.contentRef,a);return y.useEffect(()=>{const i=a.current;if(i)return Q1(i)},[]),n.jsx(BS,{...e,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:kt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:kt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:kt(e.onFocusOutside,i=>i.preventDefault())})}),OP=y.forwardRef((e,r)=>{const t=Bl(pu,e.__scopeDialog),a=y.useRef(!1),s=y.useRef(!1);return n.jsx(BS,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=t.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{var A,d;(A=e.onInteractOutside)==null||A.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=t.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),BS=y.forwardRef((e,r)=>{const{__scopeDialog:t,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Bl(pu,t),A=y.useRef(null),d=ya(r,A);return P1(),n.jsxs(n.Fragment,{children:[n.jsx(q0,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:n.jsx(Xf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":M1(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(HP,{titleId:l.titleId}),n.jsx(KP,{contentRef:A,descriptionId:l.descriptionId})]})]})}),T1="DialogTitle",CS=y.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=Bl(T1,t);return n.jsx(Sr.h2,{id:s.titleId,...a,ref:r})});CS.displayName=T1;var SS="DialogDescription",_S=y.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=Bl(SS,t);return n.jsx(Sr.p,{id:s.descriptionId,...a,ref:r})});_S.displayName=SS;var ES="DialogClose",FS=y.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=Bl(ES,t);return n.jsx(Sr.button,{type:"button",...a,ref:r,onClick:kt(e.onClick,()=>s.onOpenChange(!1))})});FS.displayName=ES;function M1(e){return e?"open":"closed"}var kS="DialogTitleWarning",[QZ,DS]=NI(kS,{contentName:pu,titleName:T1,docsSlug:"dialog"}),HP=({titleId:e})=>{const r=DS(kS),t=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},$P="DialogDescriptionWarning",KP=({contentRef:e,descriptionId:r})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${DS($P).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");r&&s&&(document.getElementById(r)||console.warn(a))},[a,e,r]),null},US=xS,zP=wS,LS=bS,X0=jS,J0=NS,Z0=CS,ex=_S,IS=FS;const VP=US,qP=LS,PS=y.forwardRef(({className:e,...r},t)=>n.jsx(X0,{className:lt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:t}));PS.displayName=X0.displayName;const WP=z0("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),QS=y.forwardRef(({side:e="right",className:r,children:t,...a},s)=>n.jsxs(qP,{children:[n.jsx(PS,{}),n.jsxs(J0,{ref:s,className:lt(WP({side:e}),r),...a,children:[t,n.jsxs(IS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(L1,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));QS.displayName=J0.displayName;const GP=y.forwardRef(({className:e,...r},t)=>n.jsx(Z0,{ref:t,className:lt("text-lg font-semibold text-foreground",e),...r}));GP.displayName=Z0.displayName;const YP=y.forwardRef(({className:e,...r},t)=>n.jsx(ex,{ref:t,className:lt("text-sm text-muted-foreground",e),...r}));YP.displayName=ex.displayName;function Nr({className:e,...r}){return n.jsx("div",{className:lt("animate-pulse rounded-md bg-muted",e),...r})}const XP=["top","right","bottom","left"],hd=Math.min,ho=Math.max,t0=Math.round,Ip=Math.floor,oc=e=>({x:e,y:e}),JP={left:"right",right:"left",bottom:"top",top:"bottom"},ZP={start:"end",end:"start"};function uy(e,r,t){return ho(e,hd(r,t))}function cA(e,r){return typeof e=="function"?e(r):e}function AA(e){return e.split("-")[0]}function Jf(e){return e.split("-")[1]}function O1(e){return e==="x"?"y":"x"}function H1(e){return e==="y"?"height":"width"}const eQ=new Set(["top","bottom"]);function tc(e){return eQ.has(AA(e))?"y":"x"}function $1(e){return O1(tc(e))}function tQ(e,r,t){t===void 0&&(t=!1);const a=Jf(e),s=$1(e),i=H1(s);let o=s==="x"?a===(t?"end":"start")?"right":"left":a==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(o=r0(o)),[o,r0(o)]}function rQ(e){const r=r0(e);return[fy(e),r,fy(r)]}function fy(e){return e.replace(/start|end/g,r=>ZP[r])}const Tj=["left","right"],Mj=["right","left"],aQ=["top","bottom"],nQ=["bottom","top"];function sQ(e,r,t){switch(e){case"top":case"bottom":return t?r?Mj:Tj:r?Tj:Mj;case"left":case"right":return r?aQ:nQ;default:return[]}}function iQ(e,r,t,a){const s=Jf(e);let i=sQ(AA(e),t==="start",a);return s&&(i=i.map(o=>o+"-"+s),r&&(i=i.concat(i.map(fy)))),i}function r0(e){return e.replace(/left|right|bottom|top/g,r=>JP[r])}function oQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function RS(e){return typeof e!="number"?oQ(e):{top:e,right:e,bottom:e,left:e}}function a0(e){const{x:r,y:t,width:a,height:s}=e;return{width:a,height:s,top:t,left:r,right:r+a,bottom:t+s,x:r,y:t}}function Oj(e,r,t){let{reference:a,floating:s}=e;const i=tc(r),o=$1(r),l=H1(o),A=AA(r),d=i==="y",f=a.x+a.width/2-s.width/2,h=a.y+a.height/2-s.height/2,m=a[l]/2-s[l]/2;let p;switch(A){case"top":p={x:f,y:a.y-s.height};break;case"bottom":p={x:f,y:a.y+a.height};break;case"right":p={x:a.x+a.width,y:h};break;case"left":p={x:a.x-s.width,y:h};break;default:p={x:a.x,y:a.y}}switch(Jf(r)){case"start":p[o]-=m*(t&&d?-1:1);break;case"end":p[o]+=m*(t&&d?-1:1);break}return p}const lQ=async(e,r,t)=>{const{placement:a="bottom",strategy:s="absolute",middleware:i=[],platform:o}=t,l=i.filter(Boolean),A=await(o.isRTL==null?void 0:o.isRTL(r));let d=await o.getElementRects({reference:e,floating:r,strategy:s}),{x:f,y:h}=Oj(d,a,A),m=a,p={},x=0;for(let g=0;g<l.length;g++){const{name:w,fn:j}=l[g],{x:N,y:C,data:E,reset:Q}=await j({x:f,y:h,initialPlacement:a,placement:m,strategy:s,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:r}});f=N??f,h=C??h,p={...p,[w]:{...p[w],...E}},Q&&x<=50&&(x++,typeof Q=="object"&&(Q.placement&&(m=Q.placement),Q.rects&&(d=Q.rects===!0?await o.getElementRects({reference:e,floating:r,strategy:s}):Q.rects),{x:f,y:h}=Oj(d,m,A)),g=-1)}return{x:f,y:h,placement:m,strategy:s,middlewareData:p}};async function dm(e,r){var t;r===void 0&&(r={});const{x:a,y:s,platform:i,rects:o,elements:l,strategy:A}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=cA(r,e),x=RS(p),w=l[m?h==="floating"?"reference":"floating":h],j=a0(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(w)))==null||t?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:A})),N=h==="floating"?{x:a,y:s,width:o.floating.width,height:o.floating.height}:o.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),E=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},Q=a0(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:N,offsetParent:C,strategy:A}):N);return{top:(j.top-Q.top+x.top)/E.y,bottom:(Q.bottom-j.bottom+x.bottom)/E.y,left:(j.left-Q.left+x.left)/E.x,right:(Q.right-j.right+x.right)/E.x}}const cQ=e=>({name:"arrow",options:e,async fn(r){const{x:t,y:a,placement:s,rects:i,platform:o,elements:l,middlewareData:A}=r,{element:d,padding:f=0}=cA(e,r)||{};if(d==null)return{};const h=RS(f),m={x:t,y:a},p=$1(s),x=H1(p),g=await o.getDimensions(d),w=p==="y",j=w?"top":"left",N=w?"bottom":"right",C=w?"clientHeight":"clientWidth",E=i.reference[x]+i.reference[p]-m[p]-i.floating[x],Q=m[p]-i.reference[p],U=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let F=U?U[C]:0;(!F||!await(o.isElement==null?void 0:o.isElement(U)))&&(F=l.floating[C]||i.floating[x]);const L=E/2-Q/2,_=F/2-g[x]/2-1,q=hd(h[j],_),R=hd(h[N],_),H=q,J=F-g[x]-R,T=F/2-g[x]/2+L,re=uy(H,T,J),z=!A.arrow&&Jf(s)!=null&&T!==re&&i.reference[x]/2-(T<H?q:R)-g[x]/2<0,G=z?T<H?T-H:T-J:0;return{[p]:m[p]+G,data:{[p]:re,centerOffset:T-re-G,...z&&{alignmentOffset:G}},reset:z}}}),AQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var t,a;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:A,elements:d}=r,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...w}=cA(e,r);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const j=AA(s),N=tc(l),C=AA(l)===l,E=await(A.isRTL==null?void 0:A.isRTL(d.floating)),Q=m||(C||!g?[r0(l)]:rQ(l)),U=x!=="none";!m&&U&&Q.push(...iQ(l,g,x,E));const F=[l,...Q],L=await dm(r,w),_=[];let q=((a=i.flip)==null?void 0:a.overflows)||[];if(f&&_.push(L[j]),h){const T=tQ(s,o,E);_.push(L[T[0]],L[T[1]])}if(q=[...q,{placement:s,overflows:_}],!_.every(T=>T<=0)){var R,H;const T=(((R=i.flip)==null?void 0:R.index)||0)+1,re=F[T];if(re&&(!(h==="alignment"?N!==tc(re):!1)||q.every(V=>tc(V.placement)===N?V.overflows[0]>0:!0)))return{data:{index:T,overflows:q},reset:{placement:re}};let z=(H=q.filter(G=>G.overflows[0]<=0).sort((G,V)=>G.overflows[1]-V.overflows[1])[0])==null?void 0:H.placement;if(!z)switch(p){case"bestFit":{var J;const G=(J=q.filter(V=>{if(U){const ee=tc(V.placement);return ee===N||ee==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(ee=>ee>0).reduce((ee,ce)=>ee+ce,0)]).sort((V,ee)=>V[1]-ee[1])[0])==null?void 0:J[0];G&&(z=G);break}case"initialPlacement":z=l;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function Hj(e,r){return{top:e.top-r.height,right:e.right-r.width,bottom:e.bottom-r.height,left:e.left-r.width}}function $j(e){return XP.some(r=>e[r]>=0)}const dQ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(r){const{rects:t}=r,{strategy:a="referenceHidden",...s}=cA(e,r);switch(a){case"referenceHidden":{const i=await dm(r,{...s,elementContext:"reference"}),o=Hj(i,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:$j(o)}}}case"escaped":{const i=await dm(r,{...s,altBoundary:!0}),o=Hj(i,t.floating);return{data:{escapedOffsets:o,escaped:$j(o)}}}default:return{}}}}},TS=new Set(["left","top"]);async function uQ(e,r){const{placement:t,platform:a,elements:s}=e,i=await(a.isRTL==null?void 0:a.isRTL(s.floating)),o=AA(t),l=Jf(t),A=tc(t)==="y",d=TS.has(o)?-1:1,f=i&&A?-1:1,h=cA(r,e);let{mainAxis:m,crossAxis:p,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),A?{x:p*f,y:m*d}:{x:m*d,y:p*f}}const fQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var t,a;const{x:s,y:i,placement:o,middlewareData:l}=r,A=await uQ(r,e);return o===((t=l.offset)==null?void 0:t.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:s+A.x,y:i+A.y,data:{...A,placement:o}}}}},hQ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:t,y:a,placement:s}=r,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:j,y:N}=w;return{x:j,y:N}}},...A}=cA(e,r),d={x:t,y:a},f=await dm(r,A),h=tc(AA(s)),m=O1(h);let p=d[m],x=d[h];if(i){const w=m==="y"?"top":"left",j=m==="y"?"bottom":"right",N=p+f[w],C=p-f[j];p=uy(N,p,C)}if(o){const w=h==="y"?"top":"left",j=h==="y"?"bottom":"right",N=x+f[w],C=x-f[j];x=uy(N,x,C)}const g=l.fn({...r,[m]:p,[h]:x});return{...g,data:{x:g.x-t,y:g.y-a,enabled:{[m]:i,[h]:o}}}}}},mQ=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:t,y:a,placement:s,rects:i,middlewareData:o}=r,{offset:l=0,mainAxis:A=!0,crossAxis:d=!0}=cA(e,r),f={x:t,y:a},h=tc(s),m=O1(h);let p=f[m],x=f[h];const g=cA(l,r),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(A){const C=m==="y"?"height":"width",E=i.reference[m]-i.floating[C]+w.mainAxis,Q=i.reference[m]+i.reference[C]-w.mainAxis;p<E?p=E:p>Q&&(p=Q)}if(d){var j,N;const C=m==="y"?"width":"height",E=TS.has(AA(s)),Q=i.reference[h]-i.floating[C]+(E&&((j=o.offset)==null?void 0:j[h])||0)+(E?0:w.crossAxis),U=i.reference[h]+i.reference[C]+(E?0:((N=o.offset)==null?void 0:N[h])||0)-(E?w.crossAxis:0);x<Q?x=Q:x>U&&(x=U)}return{[m]:p,[h]:x}}}},pQ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(r){var t,a;const{placement:s,rects:i,platform:o,elements:l}=r,{apply:A=()=>{},...d}=cA(e,r),f=await dm(r,d),h=AA(s),m=Jf(s),p=tc(s)==="y",{width:x,height:g}=i.floating;let w,j;h==="top"||h==="bottom"?(w=h,j=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(j=h,w=m==="end"?"top":"bottom");const N=g-f.top-f.bottom,C=x-f.left-f.right,E=hd(g-f[w],N),Q=hd(x-f[j],C),U=!r.middlewareData.shift;let F=E,L=Q;if((t=r.middlewareData.shift)!=null&&t.enabled.x&&(L=C),(a=r.middlewareData.shift)!=null&&a.enabled.y&&(F=N),U&&!m){const q=ho(f.left,0),R=ho(f.right,0),H=ho(f.top,0),J=ho(f.bottom,0);p?L=x-2*(q!==0||R!==0?q+R:ho(f.left,f.right)):F=g-2*(H!==0||J!==0?H+J:ho(f.top,f.bottom))}await A({...r,availableWidth:L,availableHeight:F});const _=await o.getDimensions(l.floating);return x!==_.width||g!==_.height?{reset:{rects:!0}}:{}}}};function tx(){return typeof window<"u"}function Zf(e){return MS(e)?(e.nodeName||"").toLowerCase():"#document"}function go(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function pc(e){var r;return(r=(MS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function MS(e){return tx()?e instanceof Node||e instanceof go(e).Node:!1}function Ni(e){return tx()?e instanceof Element||e instanceof go(e).Element:!1}function Ac(e){return tx()?e instanceof HTMLElement||e instanceof go(e).HTMLElement:!1}function Kj(e){return!tx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof go(e).ShadowRoot}const gQ=new Set(["inline","contents"]);function km(e){const{overflow:r,overflowX:t,overflowY:a,display:s}=Oo(e);return/auto|scroll|overlay|hidden|clip/.test(r+a+t)&&!gQ.has(s)}const xQ=new Set(["table","td","th"]);function vQ(e){return xQ.has(Zf(e))}const wQ=[":popover-open",":modal"];function rx(e){return wQ.some(r=>{try{return e.matches(r)}catch{return!1}})}const yQ=["transform","translate","scale","rotate","perspective"],bQ=["transform","translate","scale","rotate","perspective","filter"],jQ=["paint","layout","strict","content"];function K1(e){const r=z1(),t=Ni(e)?Oo(e):e;return yQ.some(a=>t[a]?t[a]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!r&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!r&&(t.filter?t.filter!=="none":!1)||bQ.some(a=>(t.willChange||"").includes(a))||jQ.some(a=>(t.contain||"").includes(a))}function NQ(e){let r=md(e);for(;Ac(r)&&!Qf(r);){if(K1(r))return r;if(rx(r))return null;r=md(r)}return null}function z1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const BQ=new Set(["html","body","#document"]);function Qf(e){return BQ.has(Zf(e))}function Oo(e){return go(e).getComputedStyle(e)}function ax(e){return Ni(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function md(e){if(Zf(e)==="html")return e;const r=e.assignedSlot||e.parentNode||Kj(e)&&e.host||pc(e);return Kj(r)?r.host:r}function OS(e){const r=md(e);return Qf(r)?e.ownerDocument?e.ownerDocument.body:e.body:Ac(r)&&km(r)?r:OS(r)}function um(e,r,t){var a;r===void 0&&(r=[]),t===void 0&&(t=!0);const s=OS(e),i=s===((a=e.ownerDocument)==null?void 0:a.body),o=go(s);if(i){const l=hy(o);return r.concat(o,o.visualViewport||[],km(s)?s:[],l&&t?um(l):[])}return r.concat(s,um(s,[],t))}function hy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function HS(e){const r=Oo(e);let t=parseFloat(r.width)||0,a=parseFloat(r.height)||0;const s=Ac(e),i=s?e.offsetWidth:t,o=s?e.offsetHeight:a,l=t0(t)!==i||t0(a)!==o;return l&&(t=i,a=o),{width:t,height:a,$:l}}function V1(e){return Ni(e)?e:e.contextElement}function Sf(e){const r=V1(e);if(!Ac(r))return oc(1);const t=r.getBoundingClientRect(),{width:a,height:s,$:i}=HS(r);let o=(i?t0(t.width):t.width)/a,l=(i?t0(t.height):t.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const CQ=oc(0);function $S(e){const r=go(e);return!z1()||!r.visualViewport?CQ:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function SQ(e,r,t){return r===void 0&&(r=!1),!t||r&&t!==go(e)?!1:r}function gu(e,r,t,a){r===void 0&&(r=!1),t===void 0&&(t=!1);const s=e.getBoundingClientRect(),i=V1(e);let o=oc(1);r&&(a?Ni(a)&&(o=Sf(a)):o=Sf(e));const l=SQ(i,t,a)?$S(i):oc(0);let A=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,f=s.width/o.x,h=s.height/o.y;if(i){const m=go(i),p=a&&Ni(a)?go(a):a;let x=m,g=hy(x);for(;g&&a&&p!==x;){const w=Sf(g),j=g.getBoundingClientRect(),N=Oo(g),C=j.left+(g.clientLeft+parseFloat(N.paddingLeft))*w.x,E=j.top+(g.clientTop+parseFloat(N.paddingTop))*w.y;A*=w.x,d*=w.y,f*=w.x,h*=w.y,A+=C,d+=E,x=go(g),g=hy(x)}}return a0({width:f,height:h,x:A,y:d})}function nx(e,r){const t=ax(e).scrollLeft;return r?r.left+t:gu(pc(e)).left+t}function KS(e,r){const t=e.getBoundingClientRect(),a=t.left+r.scrollLeft-nx(e,t),s=t.top+r.scrollTop;return{x:a,y:s}}function _Q(e){let{elements:r,rect:t,offsetParent:a,strategy:s}=e;const i=s==="fixed",o=pc(a),l=r?rx(r.floating):!1;if(a===o||l&&i)return t;let A={scrollLeft:0,scrollTop:0},d=oc(1);const f=oc(0),h=Ac(a);if((h||!h&&!i)&&((Zf(a)!=="body"||km(o))&&(A=ax(a)),Ac(a))){const p=gu(a);d=Sf(a),f.x=p.x+a.clientLeft,f.y=p.y+a.clientTop}const m=o&&!h&&!i?KS(o,A):oc(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-A.scrollLeft*d.x+f.x+m.x,y:t.y*d.y-A.scrollTop*d.y+f.y+m.y}}function EQ(e){return Array.from(e.getClientRects())}function FQ(e){const r=pc(e),t=ax(e),a=e.ownerDocument.body,s=ho(r.scrollWidth,r.clientWidth,a.scrollWidth,a.clientWidth),i=ho(r.scrollHeight,r.clientHeight,a.scrollHeight,a.clientHeight);let o=-t.scrollLeft+nx(e);const l=-t.scrollTop;return Oo(a).direction==="rtl"&&(o+=ho(r.clientWidth,a.clientWidth)-s),{width:s,height:i,x:o,y:l}}const zj=25;function kQ(e,r){const t=go(e),a=pc(e),s=t.visualViewport;let i=a.clientWidth,o=a.clientHeight,l=0,A=0;if(s){i=s.width,o=s.height;const f=z1();(!f||f&&r==="fixed")&&(l=s.offsetLeft,A=s.offsetTop)}const d=nx(a);if(d<=0){const f=a.ownerDocument,h=f.body,m=getComputedStyle(h),p=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,x=Math.abs(a.clientWidth-h.clientWidth-p);x<=zj&&(i-=x)}else d<=zj&&(i+=d);return{width:i,height:o,x:l,y:A}}const DQ=new Set(["absolute","fixed"]);function UQ(e,r){const t=gu(e,!0,r==="fixed"),a=t.top+e.clientTop,s=t.left+e.clientLeft,i=Ac(e)?Sf(e):oc(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,A=s*i.x,d=a*i.y;return{width:o,height:l,x:A,y:d}}function Vj(e,r,t){let a;if(r==="viewport")a=kQ(e,t);else if(r==="document")a=FQ(pc(e));else if(Ni(r))a=UQ(r,t);else{const s=$S(e);a={x:r.x-s.x,y:r.y-s.y,width:r.width,height:r.height}}return a0(a)}function zS(e,r){const t=md(e);return t===r||!Ni(t)||Qf(t)?!1:Oo(t).position==="fixed"||zS(t,r)}function LQ(e,r){const t=r.get(e);if(t)return t;let a=um(e,[],!1).filter(l=>Ni(l)&&Zf(l)!=="body"),s=null;const i=Oo(e).position==="fixed";let o=i?md(e):e;for(;Ni(o)&&!Qf(o);){const l=Oo(o),A=K1(o);!A&&l.position==="fixed"&&(s=null),(i?!A&&!s:!A&&l.position==="static"&&!!s&&DQ.has(s.position)||km(o)&&!A&&zS(e,o))?a=a.filter(f=>f!==o):s=l,o=md(o)}return r.set(e,a),a}function IQ(e){let{element:r,boundary:t,rootBoundary:a,strategy:s}=e;const o=[...t==="clippingAncestors"?rx(r)?[]:LQ(r,this._c):[].concat(t),a],l=o[0],A=o.reduce((d,f)=>{const h=Vj(r,f,s);return d.top=ho(h.top,d.top),d.right=hd(h.right,d.right),d.bottom=hd(h.bottom,d.bottom),d.left=ho(h.left,d.left),d},Vj(r,l,s));return{width:A.right-A.left,height:A.bottom-A.top,x:A.left,y:A.top}}function PQ(e){const{width:r,height:t}=HS(e);return{width:r,height:t}}function QQ(e,r,t){const a=Ac(r),s=pc(r),i=t==="fixed",o=gu(e,!0,i,r);let l={scrollLeft:0,scrollTop:0};const A=oc(0);function d(){A.x=nx(s)}if(a||!a&&!i)if((Zf(r)!=="body"||km(s))&&(l=ax(r)),a){const p=gu(r,!0,i,r);A.x=p.x+r.clientLeft,A.y=p.y+r.clientTop}else s&&d();i&&!a&&s&&d();const f=s&&!a&&!i?KS(s,l):oc(0),h=o.left+l.scrollLeft-A.x-f.x,m=o.top+l.scrollTop-A.y-f.y;return{x:h,y:m,width:o.width,height:o.height}}function Vv(e){return Oo(e).position==="static"}function qj(e,r){if(!Ac(e)||Oo(e).position==="fixed")return null;if(r)return r(e);let t=e.offsetParent;return pc(e)===t&&(t=t.ownerDocument.body),t}function VS(e,r){const t=go(e);if(rx(e))return t;if(!Ac(e)){let s=md(e);for(;s&&!Qf(s);){if(Ni(s)&&!Vv(s))return s;s=md(s)}return t}let a=qj(e,r);for(;a&&vQ(a)&&Vv(a);)a=qj(a,r);return a&&Qf(a)&&Vv(a)&&!K1(a)?t:a||NQ(e)||t}const RQ=async function(e){const r=this.getOffsetParent||VS,t=this.getDimensions,a=await t(e.floating);return{reference:QQ(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function TQ(e){return Oo(e).direction==="rtl"}const MQ={convertOffsetParentRelativeRectToViewportRelativeRect:_Q,getDocumentElement:pc,getClippingRect:IQ,getOffsetParent:VS,getElementRects:RQ,getClientRects:EQ,getDimensions:PQ,getScale:Sf,isElement:Ni,isRTL:TQ};function qS(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function OQ(e,r){let t=null,a;const s=pc(e);function i(){var l;clearTimeout(a),(l=t)==null||l.disconnect(),t=null}function o(l,A){l===void 0&&(l=!1),A===void 0&&(A=1),i();const d=e.getBoundingClientRect(),{left:f,top:h,width:m,height:p}=d;if(l||r(),!m||!p)return;const x=Ip(h),g=Ip(s.clientWidth-(f+m)),w=Ip(s.clientHeight-(h+p)),j=Ip(f),C={rootMargin:-x+"px "+-g+"px "+-w+"px "+-j+"px",threshold:ho(0,hd(1,A))||1};let E=!0;function Q(U){const F=U[0].intersectionRatio;if(F!==A){if(!E)return o();F?o(!1,F):a=setTimeout(()=>{o(!1,1e-7)},1e3)}F===1&&!qS(d,e.getBoundingClientRect())&&o(),E=!1}try{t=new IntersectionObserver(Q,{...C,root:s.ownerDocument})}catch{t=new IntersectionObserver(Q,C)}t.observe(e)}return o(!0),i}function WS(e,r,t,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:A=!1}=a,d=V1(e),f=s||i?[...d?um(d):[],...um(r)]:[];f.forEach(j=>{s&&j.addEventListener("scroll",t,{passive:!0}),i&&j.addEventListener("resize",t)});const h=d&&l?OQ(d,t):null;let m=-1,p=null;o&&(p=new ResizeObserver(j=>{let[N]=j;N&&N.target===d&&p&&(p.unobserve(r),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var C;(C=p)==null||C.observe(r)})),t()}),d&&!A&&p.observe(d),p.observe(r));let x,g=A?gu(e):null;A&&w();function w(){const j=gu(e);g&&!qS(g,j)&&t(),g=j,x=requestAnimationFrame(w)}return t(),()=>{var j;f.forEach(N=>{s&&N.removeEventListener("scroll",t),i&&N.removeEventListener("resize",t)}),h==null||h(),(j=p)==null||j.disconnect(),p=null,A&&cancelAnimationFrame(x)}}const HQ=fQ,$Q=hQ,KQ=AQ,zQ=pQ,VQ=dQ,Wj=cQ,qQ=mQ,WQ=(e,r,t)=>{const a=new Map,s={platform:MQ,...t},i={...s.platform,_c:a};return lQ(e,r,{...s,platform:i})};var GQ=typeof document<"u",YQ=function(){},Sg=GQ?y.useLayoutEffect:YQ;function n0(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let t,a,s;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==r.length)return!1;for(a=t;a--!==0;)if(!n0(e[a],r[a]))return!1;return!0}if(s=Object.keys(e),t=s.length,t!==Object.keys(r).length)return!1;for(a=t;a--!==0;)if(!{}.hasOwnProperty.call(r,s[a]))return!1;for(a=t;a--!==0;){const i=s[a];if(!(i==="_owner"&&e.$$typeof)&&!n0(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}function GS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Gj(e,r){const t=GS(e);return Math.round(r*t)/t}function qv(e){const r=y.useRef(e);return Sg(()=>{r.current=e}),r}function YS(e){e===void 0&&(e={});const{placement:r="bottom",strategy:t="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:A,open:d}=e,[f,h]=y.useState({x:0,y:0,strategy:t,placement:r,middlewareData:{},isPositioned:!1}),[m,p]=y.useState(a);n0(m,a)||p(a);const[x,g]=y.useState(null),[w,j]=y.useState(null),N=y.useCallback(V=>{V!==U.current&&(U.current=V,g(V))},[]),C=y.useCallback(V=>{V!==F.current&&(F.current=V,j(V))},[]),E=i||x,Q=o||w,U=y.useRef(null),F=y.useRef(null),L=y.useRef(f),_=A!=null,q=qv(A),R=qv(s),H=qv(d),J=y.useCallback(()=>{if(!U.current||!F.current)return;const V={placement:r,strategy:t,middleware:m};R.current&&(V.platform=R.current),WQ(U.current,F.current,V).then(ee=>{const ce={...ee,isPositioned:H.current!==!1};T.current&&!n0(L.current,ce)&&(L.current=ce,zf.flushSync(()=>{h(ce)}))})},[m,r,t,R,H]);Sg(()=>{d===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,h(V=>({...V,isPositioned:!1})))},[d]);const T=y.useRef(!1);Sg(()=>(T.current=!0,()=>{T.current=!1}),[]),Sg(()=>{if(E&&(U.current=E),Q&&(F.current=Q),E&&Q){if(q.current)return q.current(E,Q,J);J()}},[E,Q,J,q,_]);const re=y.useMemo(()=>({reference:U,floating:F,setReference:N,setFloating:C}),[N,C]),z=y.useMemo(()=>({reference:E,floating:Q}),[E,Q]),G=y.useMemo(()=>{const V={position:t,left:0,top:0};if(!z.floating)return V;const ee=Gj(z.floating,f.x),ce=Gj(z.floating,f.y);return l?{...V,transform:"translate("+ee+"px, "+ce+"px)",...GS(z.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ee,top:ce}},[t,l,z.floating,f.x,f.y]);return y.useMemo(()=>({...f,update:J,refs:re,elements:z,floatingStyles:G}),[f,J,re,z,G])}const XQ=e=>{function r(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:a,padding:s}=typeof e=="function"?e(t):e;return a&&r(a)?a.current!=null?Wj({element:a.current,padding:s}).fn(t):{}:a?Wj({element:a,padding:s}).fn(t):{}}}},XS=(e,r)=>({...HQ(e),options:[e,r]}),JQ=(e,r)=>({...$Q(e),options:[e,r]}),ZQ=(e,r)=>({...qQ(e),options:[e,r]}),JS=(e,r)=>({...KQ(e),options:[e,r]}),eR=(e,r)=>({...zQ(e),options:[e,r]}),tR=(e,r)=>({...VQ(e),options:[e,r]}),ZS=(e,r)=>({...XQ(e),options:[e,r]});var rR="Arrow",e4=y.forwardRef((e,r)=>{const{children:t,width:a=10,height:s=5,...i}=e;return n.jsx(Sr.svg,{...i,ref:r,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?t:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});e4.displayName=rR;var aR=e4;function t4(e){const[r,t]=y.useState(void 0);return ps(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const A=i.borderBoxSize,d=Array.isArray(A)?A[0]:A;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;t({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else t(void 0)},[e]),r}var q1="Popper",[r4,eh]=Nl(q1),[nR,a4]=r4(q1),n4=e=>{const{__scopePopper:r,children:t}=e,[a,s]=y.useState(null);return n.jsx(nR,{scope:r,anchor:a,onAnchorChange:s,children:t})};n4.displayName=q1;var s4="PopperAnchor",i4=y.forwardRef((e,r)=>{const{__scopePopper:t,virtualRef:a,...s}=e,i=a4(s4,t),o=y.useRef(null),l=ya(r,o),A=y.useRef(null);return y.useEffect(()=>{const d=A.current;A.current=(a==null?void 0:a.current)||o.current,d!==A.current&&i.onAnchorChange(A.current)}),a?null:n.jsx(Sr.div,{...s,ref:l})});i4.displayName=s4;var W1="PopperContent",[sR,iR]=r4(W1),o4=y.forwardRef((e,r)=>{var O,Z,oe,pe,xe,_e;const{__scopePopper:t,side:a="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:A=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:x,...g}=e,w=a4(W1,t),[j,N]=y.useState(null),C=ya(r,Fe=>N(Fe)),[E,Q]=y.useState(null),U=t4(E),F=(U==null?void 0:U.width)??0,L=(U==null?void 0:U.height)??0,_=a+(i!=="center"?"-"+i:""),q=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},R=Array.isArray(d)?d:[d],H=R.length>0,J={padding:q,boundary:R.filter(lR),altBoundary:H},{refs:T,floatingStyles:re,placement:z,isPositioned:G,middlewareData:V}=YS({strategy:"fixed",placement:_,whileElementsMounted:(...Fe)=>WS(...Fe,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[XS({mainAxis:s+L,alignmentAxis:o}),A&&JQ({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?ZQ():void 0,...J}),A&&JS({...J}),eR({...J,apply:({elements:Fe,rects:he,availableWidth:Ae,availableHeight:ct})=>{const{width:gt,height:pt}=he.reference,Se=Fe.floating.style;Se.setProperty("--radix-popper-available-width",`${Ae}px`),Se.setProperty("--radix-popper-available-height",`${ct}px`),Se.setProperty("--radix-popper-anchor-width",`${gt}px`),Se.setProperty("--radix-popper-anchor-height",`${pt}px`)}}),E&&ZS({element:E,padding:l}),cR({arrowWidth:F,arrowHeight:L}),m&&tR({strategy:"referenceHidden",...J})]}),[ee,ce]=A4(z),k=Si(x);ps(()=>{G&&(k==null||k())},[G,k]);const D=(O=V.arrow)==null?void 0:O.x,K=(Z=V.arrow)==null?void 0:Z.y,te=((oe=V.arrow)==null?void 0:oe.centerOffset)!==0,[Y,X]=y.useState();return ps(()=>{j&&X(window.getComputedStyle(j).zIndex)},[j]),n.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:G?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[(pe=V.transformOrigin)==null?void 0:pe.x,(xe=V.transformOrigin)==null?void 0:xe.y].join(" "),...((_e=V.hide)==null?void 0:_e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(sR,{scope:t,placedSide:ee,onArrowChange:Q,arrowX:D,arrowY:K,shouldHideArrow:te,children:n.jsx(Sr.div,{"data-side":ee,"data-align":ce,...g,ref:C,style:{...g.style,animation:G?void 0:"none"}})})})});o4.displayName=W1;var l4="PopperArrow",oR={top:"bottom",right:"left",bottom:"top",left:"right"},c4=y.forwardRef(function(r,t){const{__scopePopper:a,...s}=r,i=iR(l4,a),o=oR[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(aR,{...s,ref:t,style:{...s.style,display:"block"}})})});c4.displayName=l4;function lR(e){return e!==null}var cR=e=>({name:"transformOrigin",options:e,fn(r){var w,j,N;const{placement:t,rects:a,middlewareData:s}=r,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,A=o?0:e.arrowHeight,[d,f]=A4(t),h={start:"0%",center:"50%",end:"100%"}[f],m=(((j=s.arrow)==null?void 0:j.x)??0)+l/2,p=(((N=s.arrow)==null?void 0:N.y)??0)+A/2;let x="",g="";return d==="bottom"?(x=o?h:`${m}px`,g=`${-A}px`):d==="top"?(x=o?h:`${m}px`,g=`${a.floating.height+A}px`):d==="right"?(x=`${-A}px`,g=o?h:`${p}px`):d==="left"&&(x=`${a.floating.width+A}px`,g=o?h:`${p}px`),{data:{x,y:g}}}});function A4(e){const[r,t="center"]=e.split("-");return[r,t]}var G1=n4,Y1=i4,X1=o4,J1=c4,d4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),AR="VisuallyHidden",sx=y.forwardRef((e,r)=>n.jsx(Sr.span,{...e,ref:r,style:{...d4,...e.style}}));sx.displayName=AR;var dR=sx,[ix,RZ]=Nl("Tooltip",[eh]),ox=eh(),u4="TooltipProvider",uR=700,my="tooltip.open",[fR,Z1]=ix(u4),f4=e=>{const{__scopeTooltip:r,delayDuration:t=uR,skipDelayDuration:a=300,disableHoverableContent:s=!1,children:i}=e,o=y.useRef(!0),l=y.useRef(!1),A=y.useRef(0);return y.useEffect(()=>{const d=A.current;return()=>window.clearTimeout(d)},[]),n.jsx(fR,{scope:r,isOpenDelayedRef:o,delayDuration:t,onOpen:y.useCallback(()=>{window.clearTimeout(A.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(A.current),A.current=window.setTimeout(()=>o.current=!0,a)},[a]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};f4.displayName=u4;var fm="Tooltip",[hR,lx]=ix(fm),h4=e=>{const{__scopeTooltip:r,children:t,open:a,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,A=Z1(fm,e.__scopeTooltip),d=ox(r),[f,h]=y.useState(null),m=ic(),p=y.useRef(0),x=o??A.disableHoverableContent,g=l??A.delayDuration,w=y.useRef(!1),[j,N]=fd({prop:a,defaultProp:s??!1,onChange:F=>{F?(A.onOpen(),document.dispatchEvent(new CustomEvent(my))):A.onClose(),i==null||i(F)},caller:fm}),C=y.useMemo(()=>j?w.current?"delayed-open":"instant-open":"closed",[j]),E=y.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w.current=!1,N(!0)},[N]),Q=y.useCallback(()=>{window.clearTimeout(p.current),p.current=0,N(!1)},[N]),U=y.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{w.current=!0,N(!0),p.current=0},g)},[g,N]);return y.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),n.jsx(G1,{...d,children:n.jsx(hR,{scope:r,contentId:m,open:j,stateAttribute:C,trigger:f,onTriggerChange:h,onTriggerEnter:y.useCallback(()=>{A.isOpenDelayedRef.current?U():E()},[A.isOpenDelayedRef,U,E]),onTriggerLeave:y.useCallback(()=>{x?Q():(window.clearTimeout(p.current),p.current=0)},[Q,x]),onOpen:E,onClose:Q,disableHoverableContent:x,children:t})})};h4.displayName=fm;var py="TooltipTrigger",m4=y.forwardRef((e,r)=>{const{__scopeTooltip:t,...a}=e,s=lx(py,t),i=Z1(py,t),o=ox(t),l=y.useRef(null),A=ya(r,l,s.onTriggerChange),d=y.useRef(!1),f=y.useRef(!1),h=y.useCallback(()=>d.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),n.jsx(Y1,{asChild:!0,...o,children:n.jsx(Sr.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...a,ref:A,onPointerMove:kt(e.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:kt(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:kt(e.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:kt(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:kt(e.onBlur,s.onClose),onClick:kt(e.onClick,s.onClose)})})});m4.displayName=py;var mR="TooltipPortal",[TZ,pR]=ix(mR,{forceMount:void 0}),Rf="TooltipContent",p4=y.forwardRef((e,r)=>{const t=pR(Rf,e.__scopeTooltip),{forceMount:a=t.forceMount,side:s="top",...i}=e,o=lx(Rf,e.__scopeTooltip);return n.jsx(mc,{present:a||o.open,children:o.disableHoverableContent?n.jsx(g4,{side:s,...i,ref:r}):n.jsx(gR,{side:s,...i,ref:r})})}),gR=y.forwardRef((e,r)=>{const t=lx(Rf,e.__scopeTooltip),a=Z1(Rf,e.__scopeTooltip),s=y.useRef(null),i=ya(r,s),[o,l]=y.useState(null),{trigger:A,onClose:d}=t,f=s.current,{onPointerInTransitChange:h}=a,m=y.useCallback(()=>{l(null),h(!1)},[h]),p=y.useCallback((x,g)=>{const w=x.currentTarget,j={x:x.clientX,y:x.clientY},N=bR(j,w.getBoundingClientRect()),C=jR(j,N),E=NR(g.getBoundingClientRect()),Q=CR([...C,...E]);l(Q),h(!0)},[h]);return y.useEffect(()=>()=>m(),[m]),y.useEffect(()=>{if(A&&f){const x=w=>p(w,f),g=w=>p(w,A);return A.addEventListener("pointerleave",x),f.addEventListener("pointerleave",g),()=>{A.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",g)}}},[A,f,p,m]),y.useEffect(()=>{if(o){const x=g=>{const w=g.target,j={x:g.clientX,y:g.clientY},N=(A==null?void 0:A.contains(w))||(f==null?void 0:f.contains(w)),C=!BR(j,o);N?m():C&&(m(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[A,f,o,d,m]),n.jsx(g4,{...e,ref:i})}),[xR,vR]=ix(fm,{isInside:!1}),wR=T6("TooltipContent"),g4=y.forwardRef((e,r)=>{const{__scopeTooltip:t,children:a,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,A=lx(Rf,t),d=ox(t),{onClose:f}=A;return y.useEffect(()=>(document.addEventListener(my,f),()=>document.removeEventListener(my,f)),[f]),y.useEffect(()=>{if(A.trigger){const h=m=>{const p=m.target;p!=null&&p.contains(A.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[A.trigger,f]),n.jsx(Xf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:n.jsxs(X1,{"data-state":A.stateAttribute,...d,...l,ref:r,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(wR,{children:a}),n.jsx(xR,{scope:t,isInside:!0,children:n.jsx(dR,{id:A.contentId,role:"tooltip",children:s||a})})]})})});p4.displayName=Rf;var x4="TooltipArrow",yR=y.forwardRef((e,r)=>{const{__scopeTooltip:t,...a}=e,s=ox(t);return vR(x4,t).isInside?null:n.jsx(J1,{...s,...a,ref:r})});yR.displayName=x4;function bR(e,r){const t=Math.abs(r.top-e.y),a=Math.abs(r.bottom-e.y),s=Math.abs(r.right-e.x),i=Math.abs(r.left-e.x);switch(Math.min(t,a,s,i)){case i:return"left";case s:return"right";case t:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function jR(e,r,t=5){const a=[];switch(r){case"top":a.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":a.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":a.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":a.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return a}function NR(e){const{top:r,right:t,bottom:a,left:s}=e;return[{x:s,y:r},{x:t,y:r},{x:t,y:a},{x:s,y:a}]}function BR(e,r){const{x:t,y:a}=e;let s=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],A=r[o],d=l.x,f=l.y,h=A.x,m=A.y;f>a!=m>a&&t<(h-d)*(a-f)/(m-f)+d&&(s=!s)}return s}function CR(e){const r=e.slice();return r.sort((t,a)=>t.x<a.x?-1:t.x>a.x?1:t.y<a.y?-1:t.y>a.y?1:0),SR(r)}function SR(e){if(e.length<=1)return e.slice();const r=[];for(let a=0;a<e.length;a++){const s=e[a];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}r.pop();const t=[];for(let a=e.length-1;a>=0;a--){const s=e[a];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}return t.pop(),r.length===1&&t.length===1&&r[0].x===t[0].x&&r[0].y===t[0].y?r:r.concat(t)}var _R=f4,ER=h4,FR=m4,v4=p4;const s0=_R,Yh=ER,Xh=FR,_f=y.forwardRef(({className:e,sideOffset:r=4,...t},a)=>n.jsx(v4,{ref:a,sideOffset:r,className:lt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));_f.displayName=v4.displayName;const kR="sidebar:state",DR=3600*24*7,UR="16rem",LR="18rem",IR="3rem",PR="b",w4=y.createContext(null);function cx(){const e=y.useContext(w4);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const y4=y.forwardRef(({defaultOpen:e=!0,open:r,onOpenChange:t,className:a,style:s,children:i,...o},l)=>{const A=xI(),[d,f]=y.useState(!1),[h,m]=y.useState(e),p=r??h,x=y.useCallback(N=>{const C=typeof N=="function"?N(p):N;t?t(C):m(C),document.cookie=`${kR}=${C}; path=/; max-age=${DR}`},[t,p]),g=y.useCallback(()=>A?f(N=>!N):x(N=>!N),[A,x,f]);y.useEffect(()=>{const N=C=>{C.key===PR&&(C.metaKey||C.ctrlKey)&&(C.preventDefault(),g())};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[g]);const w=p?"expanded":"collapsed",j=y.useMemo(()=>({state:w,open:p,setOpen:x,isMobile:A,openMobile:d,setOpenMobile:f,toggleSidebar:g}),[w,p,x,A,d,f,g]);return n.jsx(w4.Provider,{value:j,children:n.jsx(s0,{delayDuration:0,children:n.jsx("div",{style:{"--sidebar-width":UR,"--sidebar-width-icon":IR,...s},className:lt("group/sidebar-wrapper flex min-h-svh w-full bg-background",a),ref:l,...o,children:i})})})});y4.displayName="SidebarProvider";const b4=y.forwardRef(({side:e="left",variant:r="sidebar",collapsible:t="offcanvas",className:a,children:s,...i},o)=>{const{isMobile:l,state:A,openMobile:d,setOpenMobile:f}=cx();return t==="none"?n.jsx("div",{className:lt("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",a),ref:o,...i,children:s}):l?n.jsx(VP,{open:d,onOpenChange:f,...i,children:n.jsx(QS,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":LR},side:e,children:n.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):n.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":A,"data-collapsible":A==="collapsed"?t:"","data-variant":r,"data-side":e,children:[n.jsx("div",{className:lt("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",r==="floating"||r==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),n.jsx("div",{className:lt("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",r==="floating"||r==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",a),...i,children:n.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});b4.displayName="Sidebar";const j4=y.forwardRef(({className:e,onClick:r,...t},a)=>{const{toggleSidebar:s}=cx();return n.jsxs(we,{ref:a,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:lt("h-7 w-7",e),onClick:i=>{r==null||r(i),s()},...t,children:[n.jsx(cI,{}),n.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});j4.displayName="SidebarTrigger";const QR=y.forwardRef(({className:e,...r},t)=>{const{toggleSidebar:a}=cx();return n.jsx("button",{ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:a,title:"Toggle Sidebar",className:lt("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...r})});QR.displayName="SidebarRail";const N4=y.forwardRef(({className:e,...r},t)=>n.jsx("main",{ref:t,className:lt("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...r}));N4.displayName="SidebarInset";const RR=y.forwardRef(({className:e,...r},t)=>n.jsx(He,{ref:t,"data-sidebar":"input",className:lt("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...r}));RR.displayName="SidebarInput";const B4=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"header",className:lt("flex flex-col gap-2 p-2",e),...r}));B4.displayName="SidebarHeader";const C4=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"footer",className:lt("flex flex-col gap-2 p-2",e),...r}));C4.displayName="SidebarFooter";const TR=y.forwardRef(({className:e,...r},t)=>n.jsx(hs,{ref:t,"data-sidebar":"separator",className:lt("mx-2 w-auto bg-sidebar-border",e),...r}));TR.displayName="SidebarSeparator";const S4=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"content",className:lt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...r}));S4.displayName="SidebarContent";const gy=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"group",className:lt("relative flex w-full min-w-0 flex-col p-2",e),...r}));gy.displayName="SidebarGroup";const xy=y.forwardRef(({className:e,asChild:r=!1,...t},a)=>{const s=r?Yf:"div";return n.jsx(s,{ref:a,"data-sidebar":"group-label",className:lt("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...t})});xy.displayName="SidebarGroupLabel";const MR=y.forwardRef(({className:e,asChild:r=!1,...t},a)=>{const s=r?Yf:"button";return n.jsx(s,{ref:a,"data-sidebar":"group-action",className:lt("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...t})});MR.displayName="SidebarGroupAction";const vy=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"group-content",className:lt("w-full text-sm",e),...r}));vy.displayName="SidebarGroupContent";const wy=y.forwardRef(({className:e,...r},t)=>n.jsx("ul",{ref:t,"data-sidebar":"menu",className:lt("flex w-full min-w-0 flex-col gap-1",e),...r}));wy.displayName="SidebarMenu";const yy=y.forwardRef(({className:e,...r},t)=>n.jsx("li",{ref:t,"data-sidebar":"menu-item",className:lt("group/menu-item relative",e),...r}));yy.displayName="SidebarMenuItem";const OR=z0("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),by=y.forwardRef(({asChild:e=!1,isActive:r=!1,variant:t="default",size:a="default",tooltip:s,className:i,...o},l)=>{const A=e?Yf:"button",{isMobile:d,state:f}=cx(),h=n.jsx(A,{ref:l,"data-sidebar":"menu-button","data-size":a,"data-active":r,className:lt(OR({variant:t,size:a}),i),...o});return s?(typeof s=="string"&&(s={children:s}),n.jsxs(Yh,{children:[n.jsx(Xh,{asChild:!0,children:h}),n.jsx(_f,{side:"right",align:"center",hidden:f!=="collapsed"||d,...s})]})):h});by.displayName="SidebarMenuButton";const HR=y.forwardRef(({className:e,asChild:r=!1,showOnHover:t=!1,...a},s)=>{const i=r?Yf:"button";return n.jsx(i,{ref:s,"data-sidebar":"menu-action",className:lt("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...a})});HR.displayName="SidebarMenuAction";const $R=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"menu-badge",className:lt("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...r}));$R.displayName="SidebarMenuBadge";const KR=y.forwardRef(({className:e,showIcon:r=!1,...t},a)=>{const s=y.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return n.jsxs("div",{ref:a,"data-sidebar":"menu-skeleton",className:lt("rounded-md h-8 flex gap-2 px-2 items-center",e),...t,children:[r&&n.jsx(Nr,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),n.jsx(Nr,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});KR.displayName="SidebarMenuSkeleton";const zR=y.forwardRef(({className:e,...r},t)=>n.jsx("ul",{ref:t,"data-sidebar":"menu-sub",className:lt("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...r}));zR.displayName="SidebarMenuSub";const VR=y.forwardRef(({...e},r)=>n.jsx("li",{ref:r,...e}));VR.displayName="SidebarMenuSubItem";const qR=y.forwardRef(({asChild:e=!1,size:r="md",isActive:t,className:a,...s},i)=>{const o=e?Yf:"a";return n.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":r,"data-active":t,className:lt("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",r==="sm"&&"text-xs",r==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",a),...s})});qR.displayName="SidebarMenuSubButton";const WR={theme:"system",setTheme:()=>null},_4=y.createContext(WR);function GR({children:e,defaultTheme:r="system",storageKey:t="vite-ui-theme",...a}){const[s,i]=y.useState(()=>(typeof window<"u"?localStorage.getItem(t):null)||r);y.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),s==="system"){const A=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(A);return}l.classList.add(s)},[s]);const o={theme:s,setTheme:l=>{localStorage.setItem(t,l),i(l)}};return n.jsx(_4.Provider,{...a,value:o,children:e})}const E4=()=>{const e=y.useContext(_4);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};function Ax(e){const r=e+"CollectionProvider",[t,a]=Nl(r),[s,i]=t(r,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:j}=g,N=Ve.useRef(null),C=Ve.useRef(new Map).current;return n.jsx(s,{scope:w,itemMap:C,collectionRef:N,children:j})};o.displayName=r;const l=e+"CollectionSlot",A=hu(l),d=Ve.forwardRef((g,w)=>{const{scope:j,children:N}=g,C=i(l,j),E=ya(w,C.collectionRef);return n.jsx(A,{ref:E,children:N})});d.displayName=l;const f=e+"CollectionItemSlot",h="data-radix-collection-item",m=hu(f),p=Ve.forwardRef((g,w)=>{const{scope:j,children:N,...C}=g,E=Ve.useRef(null),Q=ya(w,E),U=i(f,j);return Ve.useEffect(()=>(U.itemMap.set(E,{ref:E,...C}),()=>void U.itemMap.delete(E))),n.jsx(m,{[h]:"",ref:Q,children:N})});p.displayName=f;function x(g){const w=i(e+"CollectionConsumer",g);return Ve.useCallback(()=>{const N=w.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((U,F)=>C.indexOf(U.ref.current)-C.indexOf(F.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},x,a]}var YR=y.createContext(void 0);function eb(e){const r=y.useContext(YR);return e||r||"ltr"}var Wv="rovingFocusGroup.onEntryFocus",XR={bubbles:!1,cancelable:!0},Dm="RovingFocusGroup",[jy,F4,JR]=Ax(Dm),[ZR,k4]=Nl(Dm,[JR]),[eT,tT]=ZR(Dm),D4=y.forwardRef((e,r)=>n.jsx(jy.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(jy.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(rT,{...e,ref:r})})}));D4.displayName=Dm;var rT=y.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:t,orientation:a,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:A,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...h}=e,m=y.useRef(null),p=ya(r,m),x=eb(i),[g,w]=fd({prop:o,defaultProp:l??null,onChange:A,caller:Dm}),[j,N]=y.useState(!1),C=Si(d),E=F4(t),Q=y.useRef(!1),[U,F]=y.useState(0);return y.useEffect(()=>{const L=m.current;if(L)return L.addEventListener(Wv,C),()=>L.removeEventListener(Wv,C)},[C]),n.jsx(eT,{scope:t,orientation:a,dir:x,loop:s,currentTabStopId:g,onItemFocus:y.useCallback(L=>w(L),[w]),onItemShiftTab:y.useCallback(()=>N(!0),[]),onFocusableItemAdd:y.useCallback(()=>F(L=>L+1),[]),onFocusableItemRemove:y.useCallback(()=>F(L=>L-1),[]),children:n.jsx(Sr.div,{tabIndex:j||U===0?-1:0,"data-orientation":a,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:kt(e.onMouseDown,()=>{Q.current=!0}),onFocus:kt(e.onFocus,L=>{const _=!Q.current;if(L.target===L.currentTarget&&_&&!j){const q=new CustomEvent(Wv,XR);if(L.currentTarget.dispatchEvent(q),!q.defaultPrevented){const R=E().filter(z=>z.focusable),H=R.find(z=>z.active),J=R.find(z=>z.id===g),re=[H,J,...R].filter(Boolean).map(z=>z.ref.current);I4(re,f)}}Q.current=!1}),onBlur:kt(e.onBlur,()=>N(!1))})})}),U4="RovingFocusGroupItem",L4=y.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:t,focusable:a=!0,active:s=!1,tabStopId:i,children:o,...l}=e,A=ic(),d=i||A,f=tT(U4,t),h=f.currentTabStopId===d,m=F4(t),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:g}=f;return y.useEffect(()=>{if(a)return p(),()=>x()},[a,p,x]),n.jsx(jy.ItemSlot,{scope:t,id:d,focusable:a,active:s,children:n.jsx(Sr.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...l,ref:r,onMouseDown:kt(e.onMouseDown,w=>{a?f.onItemFocus(d):w.preventDefault()}),onFocus:kt(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:kt(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const j=sT(w,f.orientation,f.dir);if(j!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let C=m().filter(E=>E.focusable).map(E=>E.ref.current);if(j==="last")C.reverse();else if(j==="prev"||j==="next"){j==="prev"&&C.reverse();const E=C.indexOf(w.currentTarget);C=f.loop?iT(C,E+1):C.slice(E+1)}setTimeout(()=>I4(C))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});L4.displayName=U4;var aT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nT(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function sT(e,r,t){const a=nT(e.key,t);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return aT[a]}function I4(e,r=!1){const t=document.activeElement;for(const a of e)if(a===t||(a.focus({preventScroll:r}),document.activeElement!==t))return}function iT(e,r){return e.map((t,a)=>e[(r+a)%e.length])}var oT=D4,lT=L4,Ny=["Enter"," "],cT=["ArrowDown","PageUp","Home"],P4=["ArrowUp","PageDown","End"],AT=[...cT,...P4],dT={ltr:[...Ny,"ArrowRight"],rtl:[...Ny,"ArrowLeft"]},uT={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Um="Menu",[hm,fT,hT]=Ax(Um),[ju,Q4]=Nl(Um,[hT,eh,k4]),dx=eh(),R4=k4(),[mT,Nu]=ju(Um),[pT,Lm]=ju(Um),T4=e=>{const{__scopeMenu:r,open:t=!1,children:a,dir:s,onOpenChange:i,modal:o=!0}=e,l=dx(r),[A,d]=y.useState(null),f=y.useRef(!1),h=Si(i),m=eb(s);return y.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),n.jsx(G1,{...l,children:n.jsx(mT,{scope:r,open:t,onOpenChange:h,content:A,onContentChange:d,children:n.jsx(pT,{scope:r,onClose:y.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:m,modal:o,children:a})})})};T4.displayName=Um;var gT="MenuAnchor",tb=y.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e,s=dx(t);return n.jsx(Y1,{...s,...a,ref:r})});tb.displayName=gT;var rb="MenuPortal",[xT,M4]=ju(rb,{forceMount:void 0}),O4=e=>{const{__scopeMenu:r,forceMount:t,children:a,container:s}=e,i=Nu(rb,r);return n.jsx(xT,{scope:r,forceMount:t,children:n.jsx(mc,{present:t||i.open,children:n.jsx(Fm,{asChild:!0,container:s,children:a})})})};O4.displayName=rb;var Mo="MenuContent",[vT,ab]=ju(Mo),H4=y.forwardRef((e,r)=>{const t=M4(Mo,e.__scopeMenu),{forceMount:a=t.forceMount,...s}=e,i=Nu(Mo,e.__scopeMenu),o=Lm(Mo,e.__scopeMenu);return n.jsx(hm.Provider,{scope:e.__scopeMenu,children:n.jsx(mc,{present:a||i.open,children:n.jsx(hm.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(wT,{...s,ref:r}):n.jsx(yT,{...s,ref:r})})})})}),wT=y.forwardRef((e,r)=>{const t=Nu(Mo,e.__scopeMenu),a=y.useRef(null),s=ya(r,a);return y.useEffect(()=>{const i=a.current;if(i)return Q1(i)},[]),n.jsx(nb,{...e,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:kt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),yT=y.forwardRef((e,r)=>{const t=Nu(Mo,e.__scopeMenu);return n.jsx(nb,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),bT=hu("MenuContent.ScrollLock"),nb=y.forwardRef((e,r)=>{const{__scopeMenu:t,loop:a=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:A,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:x,...g}=e,w=Nu(Mo,t),j=Lm(Mo,t),N=dx(t),C=R4(t),E=fT(t),[Q,U]=y.useState(null),F=y.useRef(null),L=ya(r,F,w.onContentChange),_=y.useRef(0),q=y.useRef(""),R=y.useRef(0),H=y.useRef(null),J=y.useRef("right"),T=y.useRef(0),re=x?G0:y.Fragment,z=x?{as:bT,allowPinchZoom:!0}:void 0,G=ee=>{var O,Z;const ce=q.current+ee,k=E().filter(oe=>!oe.disabled),D=document.activeElement,K=(O=k.find(oe=>oe.ref.current===D))==null?void 0:O.textValue,te=k.map(oe=>oe.textValue),Y=LT(te,ce,K),X=(Z=k.find(oe=>oe.textValue===Y))==null?void 0:Z.ref.current;(function oe(pe){q.current=pe,window.clearTimeout(_.current),pe!==""&&(_.current=window.setTimeout(()=>oe(""),1e3))})(ce),X&&setTimeout(()=>X.focus())};y.useEffect(()=>()=>window.clearTimeout(_.current),[]),P1();const V=y.useCallback(ee=>{var k,D;return J.current===((k=H.current)==null?void 0:k.side)&&PT(ee,(D=H.current)==null?void 0:D.area)},[]);return n.jsx(vT,{scope:t,searchRef:q,onItemEnter:y.useCallback(ee=>{V(ee)&&ee.preventDefault()},[V]),onItemLeave:y.useCallback(ee=>{var ce;V(ee)||((ce=F.current)==null||ce.focus(),U(null))},[V]),onTriggerLeave:y.useCallback(ee=>{V(ee)&&ee.preventDefault()},[V]),pointerGraceTimerRef:R,onPointerGraceIntentChange:y.useCallback(ee=>{H.current=ee},[]),children:n.jsx(re,{...z,children:n.jsx(q0,{asChild:!0,trapped:s,onMountAutoFocus:kt(i,ee=>{var ce;ee.preventDefault(),(ce=F.current)==null||ce.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(Xf,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:n.jsx(oT,{asChild:!0,...C,dir:j.dir,orientation:"vertical",loop:a,currentTabStopId:Q,onCurrentTabStopIdChange:U,onEntryFocus:kt(A,ee=>{j.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(X1,{role:"menu","aria-orientation":"vertical","data-state":n_(w.open),"data-radix-menu-content":"",dir:j.dir,...N,...g,ref:L,style:{outline:"none",...g.style},onKeyDown:kt(g.onKeyDown,ee=>{const k=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,D=ee.ctrlKey||ee.altKey||ee.metaKey,K=ee.key.length===1;k&&(ee.key==="Tab"&&ee.preventDefault(),!D&&K&&G(ee.key));const te=F.current;if(ee.target!==te||!AT.includes(ee.key))return;ee.preventDefault();const X=E().filter(O=>!O.disabled).map(O=>O.ref.current);P4.includes(ee.key)&&X.reverse(),DT(X)}),onBlur:kt(e.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout(_.current),q.current="")}),onPointerMove:kt(e.onPointerMove,mm(ee=>{const ce=ee.target,k=T.current!==ee.clientX;if(ee.currentTarget.contains(ce)&&k){const D=ee.clientX>T.current?"right":"left";J.current=D,T.current=ee.clientX}}))})})})})})})});H4.displayName=Mo;var jT="MenuGroup",sb=y.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e;return n.jsx(Sr.div,{role:"group",...a,ref:r})});sb.displayName=jT;var NT="MenuLabel",$4=y.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e;return n.jsx(Sr.div,{...a,ref:r})});$4.displayName=NT;var i0="MenuItem",Yj="menu.itemSelect",ux=y.forwardRef((e,r)=>{const{disabled:t=!1,onSelect:a,...s}=e,i=y.useRef(null),o=Lm(i0,e.__scopeMenu),l=ab(i0,e.__scopeMenu),A=ya(r,i),d=y.useRef(!1),f=()=>{const h=i.current;if(!t&&h){const m=new CustomEvent(Yj,{bubbles:!0,cancelable:!0});h.addEventListener(Yj,p=>a==null?void 0:a(p),{once:!0}),I1(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(K4,{...s,ref:A,disabled:t,onClick:kt(e.onClick,f),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),d.current=!0},onPointerUp:kt(e.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:kt(e.onKeyDown,h=>{const m=l.searchRef.current!=="";t||m&&h.key===" "||Ny.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});ux.displayName=i0;var K4=y.forwardRef((e,r)=>{const{__scopeMenu:t,disabled:a=!1,textValue:s,...i}=e,o=ab(i0,t),l=R4(t),A=y.useRef(null),d=ya(r,A),[f,h]=y.useState(!1),[m,p]=y.useState("");return y.useEffect(()=>{const x=A.current;x&&p((x.textContent??"").trim())},[i.children]),n.jsx(hm.ItemSlot,{scope:t,disabled:a,textValue:s??m,children:n.jsx(lT,{asChild:!0,...l,focusable:!a,children:n.jsx(Sr.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:d,onPointerMove:kt(e.onPointerMove,mm(x=>{a?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:kt(e.onPointerLeave,mm(x=>o.onItemLeave(x))),onFocus:kt(e.onFocus,()=>h(!0)),onBlur:kt(e.onBlur,()=>h(!1))})})})}),BT="MenuCheckboxItem",z4=y.forwardRef((e,r)=>{const{checked:t=!1,onCheckedChange:a,...s}=e;return n.jsx(Y4,{scope:e.__scopeMenu,checked:t,children:n.jsx(ux,{role:"menuitemcheckbox","aria-checked":o0(t)?"mixed":t,...s,ref:r,"data-state":ob(t),onSelect:kt(s.onSelect,()=>a==null?void 0:a(o0(t)?!0:!t),{checkForDefaultPrevented:!1})})})});z4.displayName=BT;var V4="MenuRadioGroup",[CT,ST]=ju(V4,{value:void 0,onValueChange:()=>{}}),q4=y.forwardRef((e,r)=>{const{value:t,onValueChange:a,...s}=e,i=Si(a);return n.jsx(CT,{scope:e.__scopeMenu,value:t,onValueChange:i,children:n.jsx(sb,{...s,ref:r})})});q4.displayName=V4;var W4="MenuRadioItem",G4=y.forwardRef((e,r)=>{const{value:t,...a}=e,s=ST(W4,e.__scopeMenu),i=t===s.value;return n.jsx(Y4,{scope:e.__scopeMenu,checked:i,children:n.jsx(ux,{role:"menuitemradio","aria-checked":i,...a,ref:r,"data-state":ob(i),onSelect:kt(a.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,t)},{checkForDefaultPrevented:!1})})})});G4.displayName=W4;var ib="MenuItemIndicator",[Y4,_T]=ju(ib,{checked:!1}),X4=y.forwardRef((e,r)=>{const{__scopeMenu:t,forceMount:a,...s}=e,i=_T(ib,t);return n.jsx(mc,{present:a||o0(i.checked)||i.checked===!0,children:n.jsx(Sr.span,{...s,ref:r,"data-state":ob(i.checked)})})});X4.displayName=ib;var ET="MenuSeparator",J4=y.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e;return n.jsx(Sr.div,{role:"separator","aria-orientation":"horizontal",...a,ref:r})});J4.displayName=ET;var FT="MenuArrow",Z4=y.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e,s=dx(t);return n.jsx(J1,{...s,...a,ref:r})});Z4.displayName=FT;var kT="MenuSub",[MZ,e_]=ju(kT),Mh="MenuSubTrigger",t_=y.forwardRef((e,r)=>{const t=Nu(Mh,e.__scopeMenu),a=Lm(Mh,e.__scopeMenu),s=e_(Mh,e.__scopeMenu),i=ab(Mh,e.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:A}=i,d={__scopeMenu:e.__scopeMenu},f=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>f,[f]),y.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),A(null)}},[l,A]),n.jsx(tb,{asChild:!0,...d,children:n.jsx(K4,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":n_(t.open),...e,ref:K0(r,s.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:kt(e.onPointerMove,mm(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!t.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),f()},100))})),onPointerLeave:kt(e.onPointerLeave,mm(h=>{var p,x;f();const m=(p=t.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(x=t.content)==null?void 0:x.dataset.side,w=g==="right",j=w?-5:5,N=m[w?"left":"right"],C=m[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+j,y:h.clientY},{x:N,y:m.top},{x:C,y:m.top},{x:C,y:m.bottom},{x:N,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:kt(e.onKeyDown,h=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&h.key===" "||dT[a.dir].includes(h.key)&&(t.onOpenChange(!0),(p=t.content)==null||p.focus(),h.preventDefault())})})})});t_.displayName=Mh;var r_="MenuSubContent",a_=y.forwardRef((e,r)=>{const t=M4(Mo,e.__scopeMenu),{forceMount:a=t.forceMount,...s}=e,i=Nu(Mo,e.__scopeMenu),o=Lm(Mo,e.__scopeMenu),l=e_(r_,e.__scopeMenu),A=y.useRef(null),d=ya(r,A);return n.jsx(hm.Provider,{scope:e.__scopeMenu,children:n.jsx(mc,{present:a||i.open,children:n.jsx(hm.Slot,{scope:e.__scopeMenu,children:n.jsx(nb,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;o.isUsingKeyboardRef.current&&((h=A.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:kt(e.onFocusOutside,f=>{f.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:kt(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:kt(e.onKeyDown,f=>{var p;const h=f.currentTarget.contains(f.target),m=uT[o.dir].includes(f.key);h&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),f.preventDefault())})})})})})});a_.displayName=r_;function n_(e){return e?"open":"closed"}function o0(e){return e==="indeterminate"}function ob(e){return o0(e)?"indeterminate":e?"checked":"unchecked"}function DT(e){const r=document.activeElement;for(const t of e)if(t===r||(t.focus(),document.activeElement!==r))return}function UT(e,r){return e.map((t,a)=>e[(r+a)%e.length])}function LT(e,r,t){const s=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=t?e.indexOf(t):-1;let o=UT(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==t));const A=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return A!==t?A:void 0}function IT(e,r){const{x:t,y:a}=e;let s=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],A=r[o],d=l.x,f=l.y,h=A.x,m=A.y;f>a!=m>a&&t<(h-d)*(a-f)/(m-f)+d&&(s=!s)}return s}function PT(e,r){if(!r)return!1;const t={x:e.clientX,y:e.clientY};return IT(t,r)}function mm(e){return r=>r.pointerType==="mouse"?e(r):void 0}var QT=T4,RT=tb,TT=O4,MT=H4,OT=sb,HT=$4,$T=ux,KT=z4,zT=q4,VT=G4,qT=X4,WT=J4,GT=Z4,YT=t_,XT=a_,fx="DropdownMenu",[JT,OZ]=Nl(fx,[Q4]),_i=Q4(),[ZT,s_]=JT(fx),i_=e=>{const{__scopeDropdownMenu:r,children:t,dir:a,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,A=_i(r),d=y.useRef(null),[f,h]=fd({prop:s,defaultProp:i??!1,onChange:o,caller:fx});return n.jsx(ZT,{scope:r,triggerId:ic(),triggerRef:d,contentId:ic(),open:f,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(m=>!m),[h]),modal:l,children:n.jsx(QT,{...A,open:f,onOpenChange:h,dir:a,modal:l,children:t})})};i_.displayName=fx;var o_="DropdownMenuTrigger",l_=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,disabled:a=!1,...s}=e,i=s_(o_,t),o=_i(t);return n.jsx(RT,{asChild:!0,...o,children:n.jsx(Sr.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:K0(r,i.triggerRef),onPointerDown:kt(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:kt(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});l_.displayName=o_;var eM="DropdownMenuPortal",c_=e=>{const{__scopeDropdownMenu:r,...t}=e,a=_i(r);return n.jsx(TT,{...a,...t})};c_.displayName=eM;var A_="DropdownMenuContent",d_=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=s_(A_,t),i=_i(t),o=y.useRef(!1);return n.jsx(MT,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...a,ref:r,onCloseAutoFocus:kt(e.onCloseAutoFocus,l=>{var A;o.current||(A=s.triggerRef.current)==null||A.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:kt(e.onInteractOutside,l=>{const A=l.detail.originalEvent,d=A.button===0&&A.ctrlKey===!0,f=A.button===2||d;(!s.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});d_.displayName=A_;var tM="DropdownMenuGroup",rM=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(OT,{...s,...a,ref:r})});rM.displayName=tM;var aM="DropdownMenuLabel",u_=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(HT,{...s,...a,ref:r})});u_.displayName=aM;var nM="DropdownMenuItem",f_=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx($T,{...s,...a,ref:r})});f_.displayName=nM;var sM="DropdownMenuCheckboxItem",h_=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(KT,{...s,...a,ref:r})});h_.displayName=sM;var iM="DropdownMenuRadioGroup",oM=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(zT,{...s,...a,ref:r})});oM.displayName=iM;var lM="DropdownMenuRadioItem",m_=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(VT,{...s,...a,ref:r})});m_.displayName=lM;var cM="DropdownMenuItemIndicator",p_=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(qT,{...s,...a,ref:r})});p_.displayName=cM;var AM="DropdownMenuSeparator",g_=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(WT,{...s,...a,ref:r})});g_.displayName=AM;var dM="DropdownMenuArrow",uM=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(GT,{...s,...a,ref:r})});uM.displayName=dM;var fM="DropdownMenuSubTrigger",x_=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(YT,{...s,...a,ref:r})});x_.displayName=fM;var hM="DropdownMenuSubContent",v_=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(XT,{...s,...a,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});v_.displayName=hM;var mM=i_,pM=l_,gM=c_,w_=d_,y_=u_,b_=f_,j_=h_,N_=m_,B_=p_,C_=g_,S_=x_,__=v_;const E_=mM,F_=pM,xM=y.forwardRef(({className:e,inset:r,children:t,...a},s)=>n.jsxs(S_,{ref:s,className:lt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",e),...a,children:[t,n.jsx(gl,{className:"ml-auto h-4 w-4"})]}));xM.displayName=S_.displayName;const vM=y.forwardRef(({className:e,...r},t)=>n.jsx(__,{ref:t,className:lt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));vM.displayName=__.displayName;const lb=y.forwardRef(({className:e,sideOffset:r=4,...t},a)=>n.jsx(gM,{children:n.jsx(w_,{ref:a,sideOffset:r,className:lt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));lb.displayName=w_.displayName;const Jc=y.forwardRef(({className:e,inset:r,...t},a)=>n.jsx(b_,{ref:a,className:lt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",e),...t}));Jc.displayName=b_.displayName;const wM=y.forwardRef(({className:e,children:r,checked:t,...a},s)=>n.jsxs(j_,{ref:s,className:lt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...a,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(B_,{children:n.jsx(_1,{className:"h-4 w-4"})})}),r]}));wM.displayName=j_.displayName;const yM=y.forwardRef(({className:e,children:r,...t},a)=>n.jsxs(N_,{ref:a,className:lt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(B_,{children:n.jsx(q6,{className:"h-2 w-2 fill-current"})})}),r]}));yM.displayName=N_.displayName;const k_=y.forwardRef(({className:e,inset:r,...t},a)=>n.jsx(y_,{ref:a,className:lt("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",e),...t}));k_.displayName=y_.displayName;const By=y.forwardRef(({className:e,...r},t)=>n.jsx(C_,{ref:t,className:lt("-mx-1 my-1 h-px bg-muted",e),...r}));By.displayName=C_.displayName;function cb(){const{setTheme:e,theme:r}=E4();return n.jsxs(E_,{children:[n.jsx(F_,{asChild:!0,children:n.jsxs(we,{variant:"secondary",size:"icon",className:"relative bg-white/80 text-slate-700 border border-black/10 shadow-sm backdrop-blur hover:bg-white/90 dark:bg-slate-900/60 dark:text-slate-100 dark:border-white/10 dark:hover:bg-slate-900/70","aria-label":"Alternar tema",children:[n.jsx(Bj,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),n.jsx(jj,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),n.jsx("span",{className:"sr-only",children:"Alternar tema"})]})}),n.jsxs(lb,{align:"end",sideOffset:8,children:[n.jsxs(Jc,{onClick:()=>e("light"),className:"cursor-pointer",children:[n.jsx(Bj,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Claro"}),r==="light"&&n.jsx("span",{className:"ml-auto",children:""})]}),n.jsxs(Jc,{onClick:()=>e("dark"),className:"cursor-pointer",children:[n.jsx(jj,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Escuro"}),r==="dark"&&n.jsx("span",{className:"ml-auto",children:""})]}),n.jsxs(Jc,{onClick:()=>e("system"),className:"cursor-pointer",children:[n.jsx(lI,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Sistema"}),r==="system"&&n.jsx("span",{className:"ml-auto",children:""})]})]})]})}var Gv={exports:{}},Yv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xj;function bM(){if(Xj)return Yv;Xj=1;var e=Q0();function r(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var t=typeof Object.is=="function"?Object.is:r,a=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(h,m){var p=m(),x=a({inst:{value:p,getSnapshot:m}}),g=x[0].inst,w=x[1];return i(function(){g.value=p,g.getSnapshot=m,A(g)&&w({inst:g})},[h,p,m]),s(function(){return A(g)&&w({inst:g}),h(function(){A(g)&&w({inst:g})})},[h]),o(p),p}function A(h){var m=h.getSnapshot;h=h.value;try{var p=m();return!t(h,p)}catch{return!0}}function d(h,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Yv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Yv}var Jj;function jM(){return Jj||(Jj=1,Gv.exports=bM()),Gv.exports}var NM=jM();function BM(){return NM.useSyncExternalStore(CM,()=>!0,()=>!1)}function CM(){return()=>{}}var Ab="Avatar",[SM,HZ]=Nl(Ab),[_M,D_]=SM(Ab),U_=y.forwardRef((e,r)=>{const{__scopeAvatar:t,...a}=e,[s,i]=y.useState("idle");return n.jsx(_M,{scope:t,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:n.jsx(Sr.span,{...a,ref:r})})});U_.displayName=Ab;var L_="AvatarImage",I_=y.forwardRef((e,r)=>{const{__scopeAvatar:t,src:a,onLoadingStatusChange:s=()=>{},...i}=e,o=D_(L_,t),l=EM(a,i),A=Si(d=>{s(d),o.onImageLoadingStatusChange(d)});return ps(()=>{l!=="idle"&&A(l)},[l,A]),l==="loaded"?n.jsx(Sr.img,{...i,ref:r,src:a}):null});I_.displayName=L_;var P_="AvatarFallback",Q_=y.forwardRef((e,r)=>{const{__scopeAvatar:t,delayMs:a,...s}=e,i=D_(P_,t),[o,l]=y.useState(a===void 0);return y.useEffect(()=>{if(a!==void 0){const A=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(A)}},[a]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(Sr.span,{...s,ref:r}):null});Q_.displayName=P_;function Zj(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function EM(e,{referrerPolicy:r,crossOrigin:t}){const a=BM(),s=y.useRef(null),i=a?(s.current||(s.current=new window.Image),s.current):null,[o,l]=y.useState(()=>Zj(i,e));return ps(()=>{l(Zj(i,e))},[i,e]),ps(()=>{const A=h=>()=>{l(h)};if(!i)return;const d=A("loaded"),f=A("error");return i.addEventListener("load",d),i.addEventListener("error",f),r&&(i.referrerPolicy=r),typeof t=="string"&&(i.crossOrigin=t),()=>{i.removeEventListener("load",d),i.removeEventListener("error",f)}},[i,t,r]),o}var R_=U_,T_=I_,M_=Q_;const Im=y.forwardRef(({className:e,...r},t)=>n.jsx(R_,{ref:t,className:lt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));Im.displayName=R_.displayName;const hx=y.forwardRef(({className:e,...r},t)=>n.jsx(T_,{ref:t,className:lt("aspect-square h-full w-full",e),...r}));hx.displayName=T_.displayName;const Pm=y.forwardRef(({className:e,...r},t)=>n.jsx(M_,{ref:t,className:lt("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));Pm.displayName=M_.displayName;const O_=y.forwardRef(({...e},r)=>n.jsx("nav",{ref:r,"aria-label":"breadcrumb",...e}));O_.displayName="Breadcrumb";const H_=y.forwardRef(({className:e,...r},t)=>n.jsx("ol",{ref:t,className:lt("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...r}));H_.displayName="BreadcrumbList";const $_=y.forwardRef(({className:e,...r},t)=>n.jsx("li",{ref:t,className:lt("inline-flex items-center gap-1.5",e),...r}));$_.displayName="BreadcrumbItem";const K_=y.forwardRef(({asChild:e,className:r,...t},a)=>{const s=e?Yf:"a";return n.jsx(s,{ref:a,className:lt("hover:text-foreground transition-colors focus-visible:outline-none focus-visible:underline",r),...t})});K_.displayName="BreadcrumbLink";const z_=y.forwardRef(({className:e,...r},t)=>n.jsx("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:lt("text-foreground font-medium",e),...r}));z_.displayName="BreadcrumbPage";const V_=({children:e,className:r,...t})=>n.jsx("li",{role:"presentation","aria-hidden":"true",className:lt("[&>svg]:size-3.5",r),...t,children:e||n.jsx(gl,{className:"h-4 w-4"})});V_.displayName="BreadcrumbSeparator";function Qm({children:e,sidebar:r,breadcrumbs:t=[]}){var d;const{activeRole:a}=lc(),{user:s}=Ko(),{userData:i}=lc(),o=ss(),l=(i==null?void 0:i.nome)||(s==null?void 0:s.nome)||"Usurio",A=()=>{const f=(()=>{const h=(a||(s==null?void 0:s.role)||(s==null?void 0:s.tipo)||"").toLowerCase();return h==="medico"?"/medico/dashboard":h==="paciente"?"/paciente/perfil":h==="clinica"?"/clinica/dashboard":h==="secretaria"?"/secretaria/dashboard":h==="admin"?"/admin/dashboard":"/inicio"})();try{window.history.length>1?o(-1):o(f,{replace:!0})}catch{o(f,{replace:!0})}};return n.jsxs(y4,{children:[n.jsx(r,{}),n.jsxs(N4,{children:[n.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-950/80 backdrop-blur-xl",children:n.jsxs("div",{className:"flex h-16 items-center gap-4 px-6",children:[n.jsx(we,{variant:"ghost",size:"sm",onClick:A,className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100",children:n.jsx(sc,{className:"size-4"})}),n.jsx(j4,{className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100"}),n.jsx(hs,{orientation:"vertical",className:"h-6 bg-slate-200 dark:bg-slate-700"}),t.length>0&&n.jsx(O_,{className:"flex-1",children:n.jsx(H_,{children:t.map((f,h)=>n.jsxs("div",{className:"flex items-center",children:[h>0&&n.jsx(V_,{className:"text-slate-400"}),n.jsx($_,{children:f.href?n.jsx(K_,{href:f.href,className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100 font-medium",children:f.label}):n.jsx(z_,{className:"text-slate-900 dark:text-slate-100 font-semibold",children:f.label})})]},h))})}),n.jsxs("div",{className:"relative hidden md:flex items-center max-w-sm",children:[n.jsx(js,{className:"absolute left-3 size-4 text-slate-400"}),n.jsx(He,{placeholder:"Buscar...",className:"pl-10 input-medical-primary bg-slate-100 dark:bg-slate-800"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(we,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100",children:n.jsx(cm,{className:"size-4"})}),n.jsx(cb,{}),n.jsx(hs,{orientation:"vertical",className:"h-6 bg-slate-200 dark:bg-slate-700"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Im,{className:"size-8",children:[n.jsx(hx,{src:""}),n.jsx(Pm,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white text-sm font-semibold",children:(d=l==null?void 0:l.charAt(0))==null?void 0:d.toUpperCase()})]}),n.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 hidden sm:block",children:l})]})]})]})}),n.jsx("main",{className:"flex-1 p-6 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 min-h-[calc(100vh-4rem)]",children:n.jsx("div",{className:"mx-auto max-w-7xl",children:e})})]})]})}function lr({className:e,variant:r="default",size:t="default",...a}){const s={default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input hover:bg-accent hover:text-accent-foreground",success:"bg-success text-success-foreground hover:bg-success/80 border-success/20",warning:"bg-warning text-warning-foreground hover:bg-warning/80 border-warning/20",info:"bg-info text-info-foreground hover:bg-info/80 border-info/20",normal:"status-normal",attention:"status-attention",critical:"status-critical",urgent:"status-urgent","priority-low":"bg-medical-gray/10 text-medical-gray border-medical-gray/20 hover:bg-medical-gray/20","priority-medium":"bg-medical-orange/10 text-medical-orange border-medical-orange/20 hover:bg-medical-orange/20","priority-high":"bg-medical-red/10 text-medical-red border-medical-red/20 hover:bg-medical-red/20","medical-primary":"bg-medical-primary/10 text-medical-primary border-medical-primary/20 hover:bg-medical-primary/20","medical-secondary":"bg-medical-secondary/10 text-medical-secondary border-medical-secondary/20 hover:bg-medical-secondary/20","medical-accent":"bg-medical-accent/10 text-medical-accent border-medical-accent/20 hover:bg-medical-accent/20"},i={sm:"px-2 py-0.5 text-xs",default:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"};return n.jsx("div",{className:lt("inline-flex items-center rounded-full border font-medium transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2","active:scale-95",s[r],i[t],e),...a})}function q_({status:e,className:r,...t}){const a={active:{variant:"success",text:"Ativo"},inactive:{variant:"secondary",text:"Inativo"},pending:{variant:"warning",text:"Pendente"},critical:{variant:"critical",text:"Crtico"},urgent:{variant:"urgent",text:"Urgente"}},s=a[e]||a.active;return n.jsx(lr,{variant:s.variant,className:lt("font-medium",r),...t,children:s.text})}function FM({priority:e,className:r,...t}){const a={low:{variant:"priority-low",text:"Baixa"},medium:{variant:"priority-medium",text:"Mdia"},high:{variant:"priority-high",text:"Alta"}},s=a[e]||a.low;return n.jsx(lr,{variant:s.variant,className:lt("font-medium",r),...t,children:s.text})}const eN={paciente:{header:{title:"Trathea",subtitle:"Paciente",icon:Hn},sections:[{label:"Menu Principal",items:[{label:"Perfil",path:"/paciente/perfil",icon:Hn},{label:"Pronturio",path:"/paciente/prontuario",icon:sn},{label:"Consultas",path:"/paciente/consultas",icon:pr},{label:"Exames",path:"/paciente/exames",icon:tA},{label:"Receitas",path:"/paciente/receitas",icon:tA},{label:"Histrico Mdico",path:"/paciente/historico-medico",icon:F1},{label:"Mdicos Vinculados",path:"/paciente/medicos",icon:Yn}]}]},medico:{header:{title:"Trathea",subtitle:"Mdico",icon:qr},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/medico/dashboard",icon:Pv},{label:"Consultas de Hoje",path:"/medico/consultas/hoje",icon:pr},{label:"Meus Pacientes",path:"/medico/meus-pacientes",icon:Yn},{label:"Solicitaes",path:"/medico/solicitacoes",icon:Qv}]}]},clinica:{header:{title:"Trathea",subtitle:"Clnica",icon:V0},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/clinica/dashboard",icon:eI},{label:"Calendrio",path:"/clinica/calendario",icon:pr},{label:"Disponibilidade",path:"/clinica/disponibilidade",icon:Tr},{label:"Exames",path:"/clinica/exames",icon:sn},{label:"Pacientes",path:"/clinica/pacientes",icon:Yn},{label:"Mdicos",path:"/clinica/medicos",icon:qr},{label:"Relatrios",path:"/clinica/relatorios",icon:lm}]}]},secretaria:{header:{title:"Trathea",subtitle:"Secretaria",icon:Yn},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/secretaria/dashboard",icon:Pv},{label:"Consultas",path:"/secretaria/consultas",icon:pr},{label:"Pacientes",path:"/secretaria/pacientes",icon:Yn},{label:"Mdicos",path:"/secretaria/medicos",icon:qr},{label:"Solicitaes",path:"/secretaria/solicitacoes",icon:Qv}]}]},admin:{header:{title:"Trathea",subtitle:"Admin",icon:Ai},sections:[{label:"Painel",items:[{label:"Dashboard",path:"/admin/dashboard",icon:Pv},{label:"Relatrios",path:"/admin/relatorios",icon:lm},{label:"Auditoria",path:"/admin/auditoria",icon:Ai}]},{label:"Gerenciar",items:[{label:"Solicitaes",path:"/admin/solicitacoes",icon:Qv},{label:"Usurios",path:"/admin/usuarios",icon:Yn},{label:"Clnicas",path:"/admin/clinicas",icon:cc}]},{label:"Telas",items:[{label:"Paciente",path:"/paciente/perfil",icon:Hn},{label:"Mdico",path:"/medico/dashboard",icon:qr},{label:"Clnica",path:"/clinica/dashboard",icon:cc},{label:"Secretaria",path:"/secretaria/dashboard",icon:Yn},{label:"Admin",path:"/admin/dashboard",icon:Ai}]}]}},kM="modulepreload",DM=function(e){return"/"+e},tN={},Qs=function(r,t,a){let s=Promise.resolve();if(t&&t.length>0){let o=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),A=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=o(t.map(d=>{if(d=DM(d),d in tN)return;tN[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":kM,f||(m.as="script"),m.crossOrigin="",m.href=d,A&&m.setAttribute("nonce",A),document.head.appendChild(m),f)return new Promise((p,x)=>{m.addEventListener("load",p),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return r().catch(i)})},ha={async getPerfil(){var e,r;try{const t="/api/users/",a=sa.getCurrentUser();if(!(a!=null&&a.id))throw new Error("Usurio no encontrado na sesso. Faa login novamente.");const s=t.endsWith("/")?t:`${t}/`;console.log("[DEBUG] Buscando perfil do usurio via:",`${s}${a.id}/`);const i=await ye.get(`${s}${a.id}/`);return console.log("[DEBUG] Perfil do usurio carregado:",i.data),i.data}catch(t){console.error("[DEBUG] Erro ao buscar perfil do usurio:",(e=t==null?void 0:t.response)==null?void 0:e.status,(r=t==null?void 0:t.response)==null?void 0:r.data);const a=sa.getCurrentUser();if(a)return console.log("[DEBUG] Usando dados do usurio do storage como fallback:",a),a;throw t}},async atualizarPerfil(e){var r,t;try{const a="/api/users/",s=sa.getCurrentUser();if(!(s!=null&&s.id))throw new Error("Usurio no encontrado na sesso. Faa login novamente.");const i=a.endsWith("/")?a:`${a}/`,o={...e};return o.first_name===void 0&&o.nome&&(o.first_name=String(o.nome).split(" ")[0]||""),o.last_name===void 0&&o.nome&&(o.last_name=String(o.nome).split(" ").slice(1).join(" ")||""),o.telefone===void 0&&o.phone&&(o.telefone=o.phone),o.endereco===void 0&&o.address&&(o.endereco=o.address),delete o.nome,delete o.phone,delete o.address,Object.keys(o).forEach(A=>{o[A]===void 0&&delete o[A]}),(await ye.patch(`${i}${s.id}/`,o)).data}catch(a){throw console.error("[DEBUG] Erro ao atualizar perfil do usurio:",(r=a==null?void 0:a.response)==null?void 0:r.status,(t=a==null?void 0:a.response)==null?void 0:t.data),a}},async getConsultas(e={}){var r,t;try{const a="/api/consultas/";console.log("[DEBUG] Endpoint de consultas:",a);const s=await this.getPacienteDoUsuario();console.log("[DEBUG] Paciente encontrado:",s);const i={...e};if(s!=null&&s.id&&!i.paciente&&(i.paciente=s.id),console.log("[DEBUG] Query params:",i),!(s!=null&&s.id)&&Object.keys(i).length===0)return console.log("[DEBUG] Sem paciente e sem filtros, retornando array vazio"),{results:[]};console.log("[DEBUG] Fazendo requisio para:",a,"com params:",i);const o=await ye.get(a,{params:i});return console.log("[DEBUG] Resposta da API recebida:",o.data),o.data}catch(a){return console.warn("[pacienteService] getConsultas falhou:",(r=a==null?void 0:a.response)==null?void 0:r.status,(t=a==null?void 0:a.response)==null?void 0:t.data),console.error("[DEBUG] Erro completo:",a),{results:[]}}},async getExames(e={}){var r;try{const t="/api/exames/",a=await this.getPacienteDoUsuario().catch(()=>null),s={...e};return a!=null&&a.id&&!s.paciente&&(s.paciente=a.id),!(a!=null&&a.id)&&Object.keys(s).length===0?{results:[]}:(await ye.get(t,{params:s})).data}catch(t){return console.warn("[pacienteService] getExames falhou:",(r=t==null?void 0:t.response)==null?void 0:r.status),{results:[]}}},async getProntuario(e={}){var r;try{const t="/prontuarios/",a=await this.getPacienteDoUsuario().catch(()=>null),s={...e};return a!=null&&a.id&&!s.paciente&&(s.paciente=a.id),!(a!=null&&a.id)&&Object.keys(s).length===0?{results:[]}:(await ye.get(t,{params:s})).data}catch(t){return console.warn("[pacienteService] getProntuario falhou:",(r=t==null?void 0:t.response)==null?void 0:r.status),{results:[]}}},async getMedicos(e={}){return(await ye.get("/api/medicos/",{params:e})).data},async getMedicoById(e){const r="/api/medicos/",t=r.endsWith("/")?r:`${r}/`;return(await ye.get(`${t}${e}/`)).data},async agendarConsulta({medico:e,data:r,hora:t,modalidade:a,local:s,observacoes:i,tipo:o,motivo:l}){var N,C;const A="/agendamentos/".replace(/\/?$/,"/"),d="/api/consultas/".replace(/\/?$/,"/"),f=await this.getPacienteDoUsuario(),h=r?`${r}${t?`T${t}:00`:"T00:00:00"}`:void 0,p=(E=>{const Q=String(E||"").toLowerCase().trim();return{"primeira consulta":"inicial",primeira:"inicial","consulta inicial":"inicial",inicial:"inicial",retorno:"retorno","follow-up":"retorno",rotina:"rotina",checkup:"rotina"}[Q]||Q||void 0})(o),x={medico:e,medico_id:e,paciente:f==null?void 0:f.id,data:r,hora:t,data_hora:h,inicio:h,horario:t,modalidade:a,local:s,observacoes:i,tipo:p,motivo:l},g={};Object.entries(x).forEach(([E,Q])=>{Q!=null&&(typeof Q=="string"&&Q.trim()===""||(g[E]=Q))});const w=[A,d];let j=null;for(const E of w)try{const Q=E.endsWith("/")?E:`${E}/`,U=await ye.post(Q,{...g,paciente:f==null?void 0:f.id,paciente_id:f==null?void 0:f.id,status:"PENDENTE",situacao:"PENDENTE",state:"PENDENTE"});try{const{secretariaService:F}=await Qs(async()=>{const{secretariaService:L}=await Promise.resolve().then(()=>sm);return{secretariaService:L}},void 0);await F.registrarSolicitacao({medico:g.medico||g.medico_id,paciente:f==null?void 0:f.id,paciente_id:f==null?void 0:f.id,data:g.data,hora:g.hora,modalidade:g.modalidade,tipo:g.tipo,motivo:g.motivo,observacoes:g.observacoes,status:"pendente"})}catch{}return U.data}catch(Q){j=Q}try{const E=(N=j==null?void 0:j.response)==null?void 0:N.status,Q=(C=j==null?void 0:j.response)==null?void 0:C.data,U=Q&&(Q.tipo||typeof(Q==null?void 0:Q.detail)=="string"&&Q.detail.toLowerCase().includes("tipo"));if(E&&[400,422].includes(E)&&U){for(const F of w)try{const L=F.endsWith("/")?F:`${F}/`,_=await ye.post(L,{...g,tipo:"rotina",paciente:f==null?void 0:f.id,paciente_id:f==null?void 0:f.id,status:"PENDENTE",situacao:"PENDENTE",state:"PENDENTE"});try{const{secretariaService:q}=await Qs(async()=>{const{secretariaService:R}=await Promise.resolve().then(()=>sm);return{secretariaService:R}},void 0);await q.registrarSolicitacao({...g,tipo:"rotina",paciente:f==null?void 0:f.id,paciente_id:f==null?void 0:f.id,status:"PENDENTE"})}catch{}return _.data}catch{}for(const F of w)try{const L=F.endsWith("/")?F:`${F}/`,{tipo:_,...q}=g,R=await ye.post(L,{...q,paciente:f==null?void 0:f.id,paciente_id:f==null?void 0:f.id,status:"PENDENTE",situacao:"PENDENTE",state:"PENDENTE"});try{const{secretariaService:H}=await Qs(async()=>{const{secretariaService:J}=await Promise.resolve().then(()=>sm);return{secretariaService:J}},void 0);await H.registrarSolicitacao({...q,paciente:f==null?void 0:f.id,paciente_id:f==null?void 0:f.id,status:"PENDENTE"})}catch{}return R.data}catch{}}throw j}catch(E){throw E}},async getAgendaMedico({medico:e,date:r,apenas_disponiveis:t=!0}){const a="/api/medicos/",s=a.endsWith("/")?a:`${a}/`,i={};r&&(i.date=r),t&&(i.apenas_disponiveis=!0);const o=await ye.get(`${s}${e}/agenda/`,{params:i}),l=(o==null?void 0:o.data)||[];return Array.isArray(l)?l:Array.isArray(l==null?void 0:l.results)?l.results:[]},async getPacienteDoUsuario(){var a,s;const e="/api/pacientes/me/";{const i=e.endsWith("/")?e:`${e}/`;try{return(await ye.get(i)).data}catch(o){if(((a=o==null?void 0:o.response)==null?void 0:a.status)===401)throw o}}const r="/api/pacientes/",t=r.endsWith("/")?r:`${r}/`;try{const i=sa.getCurrentUser(),o=(i==null?void 0:i.id)||(i==null?void 0:i.user_id);if(o){const l=await ye.get(t,{params:{user:o,user_id:o}}),A=Array.isArray(l==null?void 0:l.data)?l.data:Array.isArray((s=l==null?void 0:l.data)==null?void 0:s.results)?l.data.results:[],d=(A==null?void 0:A[0])||null;if(d)return d}}catch{}try{return(await ye.get(`${t}me/`)).data}catch{}throw new Error("Paciente no encontrado para o usurio atual.")},async atualizarPaciente(e){var s,i;const r="/api/pacientes/",t=r.endsWith("/")?r:`${r}/`,a={};if(e==null||typeof e!="object")throw new Error("Dados invlidos para atualizao do paciente");"nome"in e&&(a.nome=String(e.nome||"").trim()),"first_name"in e&&(a.first_name=String(e.first_name||"").trim()),"last_name"in e&&(a.last_name=String(e.last_name||"").trim()),"telefone"in e&&(a.telefone=((i=(s=e.telefone)==null?void 0:s.trim)==null?void 0:i.call(s))||""),"data_nascimento"in e&&(a.data_nascimento=e.data_nascimento),Object.keys(a).forEach(o=>{a[o]===void 0&&delete a[o]});try{return(await ye.patch(`${t}me/`,a)).data}catch{const l=await this.getPacienteDoUsuario();if(!(l!=null&&l.id))throw new Error("Paciente no identificado para atualizao.");return(await ye.patch(`${t}${l.id}/`,a)).data}},async getReceitas(e={}){var l;const r="/api/receitas/".trim();if(!r)return{results:[]};const t=r.endsWith("/")?r:`${r}/`,{__propagateErrors:a,...s}=e||{},i={...s};let o=null;try{const A=await this.getPacienteDoUsuario().catch(()=>null);if(A!=null&&A.id){o=A.id;const d=A.id;i.consulta__paciente=d}}catch{}if(!o&&Object.keys(i).length===0)return{results:[]};try{if(o){const w="/api/pacientes/",j=w.endsWith("/")?w:`${w}/`;try{const N=await ye.get(`${j}${o}/receitas/`),C=N==null?void 0:N.data;let E=Array.isArray(C)?C:Array.isArray(C==null?void 0:C.results)?C.results:[];if(E.length)return{results:E}}catch{}}const A=await ye.get(t,{params:i}),d=A==null?void 0:A.data;let f=Array.isArray(d)?d:Array.isArray(d==null?void 0:d.results)?d.results:[];o&&Array.isArray(f)&&f.length&&(f=f.filter(w=>{var j,N,C;return String(((N=(j=w==null?void 0:w.consulta)==null?void 0:j.paciente)==null?void 0:N.id)||((C=w==null?void 0:w.consulta)==null?void 0:C.paciente))===String(o)}));const h="/api/receitaitem/".trim();if(h&&f.length>0){const w=h.endsWith("/")?h:`${h}/`;for(let j of f)try{const N=await ye.get(w,{params:{receita:j.id}}),C=N==null?void 0:N.data,E=Array.isArray(C)?C:Array.isArray(C==null?void 0:C.results)?C.results:[];j.itens=E}catch(N){console.warn(`Erro ao carregar itens da receita ${j.id}:`,N),j.itens=[]}}const m=new Map;[...f].forEach(w=>{if(!w)return;const j=w.id??`${w.created_at}-${w.medicamentos}`;m.has(j)||m.set(j,w)});const p=Array.from(m.values()),x=w=>{if(!w||/^https?:\/\//i.test(w)||/^(data|blob):/i.test(w))return w;const N=((()=>{var E;try{return window.__API_BASE_URL||((E=window.localStorage)==null?void 0:E.getItem("api_url"))||null}catch{return null}})()||"http://127.0.0.1:8000").replace(/\/$/,""),C=w.startsWith("/")?w:`/${w}`;return`${N}${C}`};return{results:p.map(w=>{var N;const j=w.arquivo_assinado||w.arquivoAssinado||((N=w==null?void 0:w.arquivo)==null?void 0:N.url)||(w==null?void 0:w.pdf_url)||(w==null?void 0:w.download_url);return j&&!w.arquivo_assinado?{...w,arquivo_assinado:x(j)}:w.arquivo_assinado?{...w,arquivo_assinado:x(w.arquivo_assinado)}:w})}}catch(A){const d=(l=A==null?void 0:A.response)==null?void 0:l.status;if(a===!0&&d&&![404,405,500].includes(d))throw A;return{results:[]}}},async getMedicosVinculados(){const e="/api/pacientes/",r=e.endsWith("/")?e:`${e}/`,t=await this.getPacienteDoUsuario();if(!(t!=null&&t.id))return[];const a=await ye.get(`${r}${t.id}/medicos/`);return Array.isArray(a.data)?a.data:[]},async solicitarReceita({medico:e,mensagem:r,receita:t}){const a="/api/pacientes/",s=a.endsWith("/")?a:`${a}/`,i=await this.getPacienteDoUsuario();if(!(i!=null&&i.id))throw new Error("Paciente no identificado.");const o={medico:e,...r?{mensagem:r}:{},...t?{receita:t,receita_id:t}:{}};return(await ye.post(`${s}${i.id}/solicitar_receita/`,o)).data},async solicitarRenovacao({medico:e,mensagem:r,receita:t}){var d;const a="/api/pacientes/",s=a.endsWith("/")?a:`${a}/`,i=await this.getPacienteDoUsuario();if(!(i!=null&&i.id))throw new Error("Paciente no identificado.");const o={medico:e,tipo:"renovacao",...r?{mensagem:r}:{},...t?{receita:t,receita_id:t}:{}},l=[`${s}${i.id}/solicitar_renovacao/`,`${s}${i.id}/solicitacoes/renovacao/`,`${s}${i.id}/renovar_receita/`,`${s}${i.id}/solicitacao/receita/renovacao/`];let A;for(const f of l)try{return(await ye.post(f,o)).data}catch(h){A=h;const m=(d=h==null?void 0:h.response)==null?void 0:d.status;if(m&&![404,405].includes(m))break}throw A||new Error("No foi possvel enviar a solicitao de renovao.")},async getDashboard(){var e;try{const r=new Date,t=N=>Array.isArray(N==null?void 0:N.results)?N.results:Array.isArray(N)?N:[],[a,s,i,o]=await Promise.all([this.getConsultas().catch(()=>({results:[]})),this.getExames().catch(()=>({results:[]})),this.getReceitas().catch(()=>({results:[]})),this.getMedicosVinculados().catch(()=>[])]),l=t(a),A=t(s),d=t(i),f=N=>{const C=new Date(N),E=C.getMonth(),Q=C.getFullYear();return E===r.getMonth()&&Q===r.getFullYear()},h=l.map(N=>{var C,E;return{id:N.id||N.consulta_id,data_hora:N.data_hora||N.horario||N.inicio||N.data||N.start_time||null,status:N.status||"Agendada",tipo:N.tipo||N.modalidade||"Consulta",especialidade:N.especialidade||N.medico_especialidade||null,medico_nome:N.medico_nome||((C=N==null?void 0:N.medico)==null?void 0:C.nome)||((E=N==null?void 0:N.medico)!=null&&E.user?[N.medico.user.first_name,N.medico.user.last_name].filter(Boolean).join(" ").trim():void 0)}}),m=h.filter(N=>N.data_hora&&new Date(N.data_hora)>=r).sort((N,C)=>new Date(N.data_hora)-new Date(C.data_hora)).slice(0,5),p=h.filter(N=>N.data_hora&&f(N.data_hora)).length,x=A.map(N=>({id:N.id,tipo:N.tipo||N.nome||N.categoria||"Exame",status:N.status||N.situacao||"Pendente",data_agendamento:N.data_agendamento||N.agendamento||N.data||null,medico_solicitante:N.medico_solicitante||N.medico||void 0})),g=x.filter(N=>N.data_agendamento&&new Date(N.data_agendamento)>=r).sort((N,C)=>new Date(N.data_agendamento)-new Date(C.data_agendamento)).slice(0,5),w=x.filter(N=>f(N.data_agendamento)&&["realizado","concluido","concludo","finalizado"].includes(String(N.status).toLowerCase())).length,j=t(d).filter(N=>["ativa","valida","vlida"].includes(String(N.status||N.situacao||"").toLowerCase())).length;return{consultasMes:p,consultasProximas:m.length,examesPendentes:x.filter(N=>String(N.status).toLowerCase()==="pendente").length,examesRealizadosMes:w,receitasAtivas:j,medicosVinculados:Array.isArray(o)?o.length:0,proximasConsultas:m,proximosExames:g}}catch(r){return console.warn("[pacienteService] getDashboard fallback falhou:",(e=r==null?void 0:r.response)==null?void 0:e.status),null}},async garantirPacienteDoUsuario(e={}){var s,i;try{const o=await this.getPacienteDoUsuario();if(o!=null&&o.id)return o}catch{}const r="/api/pacientes/",t=r.endsWith("/")?r:`${r}/`,a={...e};Object.keys(a).forEach(o=>{a[o]===void 0&&delete a[o]});try{return(await ye.post(`${t}me/`,a)).data}catch(o){console.debug("[pacienteService] POST /pacientes/me/ falhou:",(s=o==null?void 0:o.response)==null?void 0:s.status)}try{const o=await ye.post(t,a);if(o!=null&&o.data)return o.data}catch(o){console.debug("[pacienteService] POST /pacientes/ falhou:",(i=o==null?void 0:o.response)==null?void 0:i.status)}try{const o=await this.getPacienteDoUsuario();if(o!=null&&o.id)return o}catch{}throw new Error("No foi possvel criar o perfil de paciente para o usurio atual.")}};function Rm({role:e="paciente"}){var L,_;const r=ns(),t=ss(),{user:a,logout:s}=Ko(),{logout:i}=lc(),o=(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.tipo)==="admin",l=eN[e]||eN.paciente,[A,d]=y.useState(""),[f,h]=y.useState(3),[m,p]=y.useState(!1),[x,g]=y.useState(null),[w,j]=y.useState(e==="paciente");y.useEffect(()=>{let q=!0;if(e!=="paciente"){g(null),j(!1);return}return(async()=>{try{const R=await ha.getPacienteDoUsuario();q&&g(R||null)}catch{q&&g(null)}finally{q&&j(!1)}})(),()=>{q=!1}},[e]);const N=[{title:"Paciente",path:"/paciente/perfil",icon:Hn},{title:"Mdico",path:"/medico/dashboard",icon:qr},{title:"Clnica",path:"/clinica/dashboard",icon:cc},{title:"Secretaria",path:"/secretaria/dashboard",icon:gI},{title:"Admin",path:"/admin/dashboard",icon:Ai}],C=async()=>{try{await s(),await i(),t("/login")}catch(q){console.error("Erro ao fazer logout:",q)}},E=y.useMemo(()=>w?"Carregando...":e==="paciente"&&x?x.nome||"Paciente":(a==null?void 0:a.nome)||(a==null?void 0:a.name)||"Usurio",[a,x,w,e]),Q=y.useMemo(()=>w?"...":e==="paciente"&&x?x.cpf?`CPF: ${x.cpf}`:"Paciente":(a==null?void 0:a.email)||l.header.subtitle,[a,x,w,e,l]),U=y.useMemo(()=>e==="paciente"&&(x!=null&&x.foto)?x.foto:(a==null?void 0:a.avatar)||(a==null?void 0:a.foto)||null,[a,x,e]),F=l.header.icon;return n.jsxs(b4,{className:"medical-sidebar group border-r border-medical-border/20 bg-gradient-to-b from-medical-background to-medical-background/95 backdrop-blur-xl",children:[n.jsxs(B4,{className:"border-b border-medical-border/10 bg-gradient-to-r from-medical-primary/5 to-medical-secondary/5 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl overflow-hidden shadow-lg",children:n.jsx("img",{src:"/logo/logoTrathea.jpg",alt:"Trathea",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("h1",{className:"text-lg font-bold text-medical-primary bg-gradient-to-r from-medical-primary to-medical-secondary bg-clip-text text-transparent",children:l.header.title}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(F,{className:"size-3 text-medical-secondary"}),n.jsx("span",{className:"text-xs font-medium text-medical-secondary uppercase tracking-wider",children:l.header.subtitle})]})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(js,{className:lt("absolute left-3 top-1/2 -translate-y-1/2 size-4 transition-colors duration-200",m?"text-medical-primary":"text-muted-foreground")}),n.jsx(He,{placeholder:"Buscar pacientes, exames...",value:A,onChange:q=>d(q.target.value),onFocus:()=>p(!0),onBlur:()=>p(!1),className:lt("pl-10 pr-4 h-10 bg-medical-background/50 border-medical-border/30","focus:border-medical-primary/50 focus:ring-medical-primary/20","placeholder:text-muted-foreground/70")})]}),n.jsx("div",{className:"flex items-center justify-end mt-4",children:n.jsxs(we,{size:"sm",variant:"ghost",className:"relative h-8 w-8 p-0 hover:bg-medical-primary/10",children:[n.jsx(cm,{className:"size-4"}),f>0&&n.jsx("span",{className:"absolute -top-1 -right-1 size-4 bg-medical-red text-white text-xs rounded-full flex items-center justify-center animate-pulse",children:f})]})})]}),n.jsxs(S4,{className:"px-3 py-4 space-y-6",children:[e==="paciente"&&x&&n.jsxs("div",{className:"px-3 py-4 rounded-xl bg-gradient-to-r from-medical-primary/5 to-medical-secondary/5 border border-medical-border/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-medical-primary",children:"Status do Paciente"}),n.jsx(q_,{status:"active",size:"sm"})]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["ltima consulta: ",new Date().toLocaleDateString()]})]}),l.sections.map((q,R)=>n.jsxs(gy,{className:"space-y-3",children:[q.label&&n.jsxs(xy,{className:"text-medical-secondary/80 text-xs font-semibold uppercase tracking-wider flex items-center gap-2 px-3",children:[n.jsx(Bi,{className:"size-3"}),q.label]}),n.jsx(vy,{children:n.jsx(wy,{className:"space-y-1",children:(q.items||[]).map((H,J)=>{const T=H.icon,re=r.pathname===H.path;return n.jsx(yy,{children:n.jsx(by,{asChild:!0,isActive:re,className:lt("group relative h-11 px-3 rounded-xl transition-all duration-200","hover:bg-medical-primary/10 hover:shadow-sm",re&&["bg-gradient-to-r from-medical-primary/15 to-medical-secondary/10","border-l-4 border-medical-primary shadow-sm","text-medical-primary font-medium"]),children:n.jsxs(fr,{to:H.path,className:"flex items-center gap-3 w-full",children:[T&&n.jsx("div",{className:lt("flex items-center justify-center size-8 rounded-lg transition-all duration-200",re?"bg-medical-primary/20 text-medical-primary":"bg-medical-background/50 text-muted-foreground group-hover:bg-medical-primary/10 group-hover:text-medical-primary"),children:n.jsx(T,{className:"size-4"})}),n.jsx("span",{className:"font-medium flex-1",children:H.label}),H.badge&&n.jsx(lr,{variant:"medical-secondary",size:"sm",className:"ml-auto animate-pulse",children:H.badge})]})})},`${H.label}-${J}`)})})})]},`${q.label}-${R}`)),o&&e!=="admin"&&n.jsxs(gy,{className:"space-y-3",children:[n.jsxs(xy,{className:"text-amber-600/80 text-xs font-semibold uppercase tracking-wider flex items-center gap-2 px-3",children:[n.jsx(Ai,{className:"size-3"}),"Acesso Administrativo"]}),n.jsx(vy,{children:n.jsx(wy,{className:"space-y-1",children:N.map((q,R)=>{const H=q.icon,J=r.pathname===q.path;return n.jsx(yy,{children:n.jsx(by,{asChild:!0,isActive:J,className:lt("group relative h-11 px-3 rounded-xl transition-all duration-200","hover:bg-amber-500/10 hover:shadow-sm",J&&["bg-gradient-to-r from-amber-500/15 to-orange-500/10","border-l-4 border-amber-500 shadow-sm","text-amber-600 font-medium"]),children:n.jsxs(fr,{to:q.path,className:"flex items-center gap-3 w-full",children:[H&&n.jsx("div",{className:lt("flex items-center justify-center size-8 rounded-lg transition-all duration-200",J?"bg-amber-500/20 text-amber-600":"bg-amber-50 text-amber-600/70 group-hover:bg-amber-500/10 group-hover:text-amber-600"),children:n.jsx(H,{className:"size-4"})}),n.jsx("span",{className:"font-medium flex-1",children:q.title}),n.jsx(lr,{variant:"warning",size:"sm",className:"ml-auto",children:"Admin"})]})})},`admin-${q.title}-${R}`)})})})]})]}),n.jsxs(C4,{className:"border-t border-medical-border/20 bg-gradient-to-r from-medical-background/80 to-medical-background/60 backdrop-blur-xl p-4",children:[n.jsxs(E_,{children:[n.jsx(F_,{asChild:!0,children:n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-medical-background/50 to-medical-background/30 hover:from-medical-primary/5 hover:to-medical-secondary/5 transition-all duration-300 cursor-pointer group hover:shadow-lg border border-medical-border/10 hover:border-medical-primary/20",children:[n.jsxs(Im,{className:"size-10 ring-2 ring-medical-border/20 group-hover:ring-medical-primary/30 transition-all duration-300",children:[n.jsx(hx,{src:U}),n.jsx(Pm,{className:"bg-gradient-to-br from-medical-primary via-medical-secondary to-medical-accent text-white font-semibold",children:(_=(L=E||"U")==null?void 0:L.charAt(0))==null?void 0:_.toUpperCase()})]}),n.jsxs("div",{className:"flex flex-col gap-0.5 leading-tight flex-1 min-w-0",children:[n.jsx("span",{className:"text-sm font-semibold text-medical-primary truncate group-hover:text-medical-primary/80 transition-colors",children:E}),n.jsx("span",{className:"text-xs text-muted-foreground truncate group-hover:text-medical-secondary transition-colors",children:Q})]}),n.jsx(E1,{className:"size-4 text-muted-foreground group-hover:text-medical-primary transition-all duration-300 group-hover:rotate-180"})]})}),n.jsxs(lb,{align:"end",className:"w-64 bg-medical-background/95 backdrop-blur-xl border-medical-border/20",children:[n.jsx(k_,{className:"text-medical-primary font-semibold",children:"Minha Conta"}),n.jsx(By,{className:"bg-medical-border/20"}),n.jsxs(Jc,{className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[n.jsx(Hn,{className:"size-4 mr-2 text-medical-primary"}),"Perfil"]}),n.jsxs(Jc,{onClick:()=>t(`/${e}/configuracoes`),className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[n.jsx(Am,{className:"size-4 mr-2 text-medical-primary"}),"Configuraes"]}),n.jsxs(Jc,{className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[n.jsx(rS,{className:"size-4 mr-2 text-medical-primary"}),"Tema"]}),n.jsxs(Jc,{className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[n.jsx(Z6,{className:"size-4 mr-2 text-medical-primary"}),"Ajuda"]}),n.jsx(By,{className:"bg-medical-border/20"}),n.jsxs(Jc,{onClick:C,className:"text-medical-red hover:bg-medical-red/10 focus:bg-medical-red/10",children:[n.jsx(sI,{className:"size-4 mr-2"}),"Sair"]})]})]}),n.jsx(hs,{className:"bg-medical-border/20"}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground px-3 py-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"size-2 bg-medical-green rounded-full animate-pulse"}),n.jsx("span",{children:"Sistema Online"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Tr,{className:"size-3"}),n.jsx("span",{children:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]})]})]})}function UM(){const e=ns(),r=ss(),[t,a]=y.useState(null),[s,i]=y.useState(!0),o=y.useRef(!1),l=async()=>{try{const h=await ha.getPerfil();a(h)}catch{}finally{i(!1)}};y.useEffect(()=>{let h=!0;return(async()=>h&&(i(!0),await l()))(),()=>{h=!1}},[]);const A=!!t&&(!(t!=null&&t.data_nascimento)||!(t!=null&&t.endereco)||!(t!=null&&t.telefone));y.useEffect(()=>((async()=>e.pathname!=="/paciente/perfil"&&(o.current=!0,i(!0),await l(),o.current=!1))(),()=>{}),[e.pathname]),y.useEffect(()=>{o.current||!s&&A&&e.pathname!=="/paciente/perfil"&&r("/paciente/perfil",{replace:!0})},[s,A,e.pathname,r]);const d=y.useMemo(()=>{const h=e.pathname,m={"/paciente/perfil":"Perfil","/paciente/prontuario":"Pronturio","/paciente/consultas":"Consultas","/paciente/exames":"Exames","/paciente/receitas":"Receitas","/paciente/historico-medico":"Histrico Mdico","/paciente/medicos":"Mdicos Vinculados","/paciente/configuracoes":"Configuraes"},p=m[h]||Object.keys(m).find(x=>h.startsWith(x))&&m[Object.keys(m).find(x=>h.startsWith(x))]||"Perfil";return[{label:"rea do Paciente",href:"/paciente/perfil"},{label:p}]},[e.pathname]),f=()=>n.jsx(Rm,{role:"paciente"});return n.jsx(Qm,{sidebar:f,breadcrumbs:d,children:n.jsx(Nm,{})})}function LM(){const e=()=>n.jsx(Rm,{role:"medico"});return n.jsx(Qm,{sidebar:e,children:n.jsx(Nm,{})})}function W_({breadcrumbs:e}){const r=()=>n.jsx(Rm,{role:"clinica"});return n.jsx(Qm,{sidebar:r,breadcrumbs:e,children:n.jsx(Nm,{})})}function IM(){const e=()=>n.jsx(Rm,{role:"admin"});return n.jsx(Qm,{sidebar:e,children:n.jsx(Nm,{})})}var PM="Label",G_=y.forwardRef((e,r)=>n.jsx(Sr.label,{...e,ref:r,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));G_.displayName=PM;var QM=G_;const RM=z0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),De=y.forwardRef(({className:e,...r},t)=>n.jsx(QM,{ref:t,className:lt(RM(),e),...r}));De.displayName="Label";const ke=y.forwardRef(({className:e,variant:r="default",...t},a)=>{const s={default:"card-medical",elevated:"card-elevated",medical:"card-medical",priority:"card-medical"};return n.jsx("div",{ref:a,className:lt("animate-fade-in",s[r],e),...t})});ke.displayName="Card";const ze=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:lt("flex flex-col space-y-2 p-6 pb-4",e),...r}));ze.displayName="CardHeader";const Ye=y.forwardRef(({className:e,level:r="h3",...t},a)=>{const s=r;return n.jsx(s,{ref:a,className:lt("text-xl font-semibold leading-tight tracking-tight text-heading-foreground","flex items-center gap-2",e),...t})});Ye.displayName="CardTitle";const mr=y.forwardRef(({className:e,...r},t)=>n.jsx("p",{ref:t,className:lt("text-sm text-muted-foreground leading-relaxed",e),...r}));mr.displayName="CardDescription";const Le=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:lt("p-6 pt-0 space-y-4",e),...r}));Le.displayName="CardContent";const TM=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:lt("flex items-center justify-between p-6 pt-0 border-t border-border/50 mt-4",e),...r}));TM.displayName="CardFooter";const MM=y.forwardRef(({className:e,status:r="normal",children:t,...a},s)=>{const i={normal:"status-normal",attention:"status-attention",critical:"status-critical",urgent:"status-urgent"};return n.jsx("div",{ref:s,className:lt("status-badge",i[r],e),...a,children:t})});MM.displayName="CardStatus";const OM=y.forwardRef(({className:e,priority:r="low",children:t,...a},s)=>{const i={low:"card-priority-low",medium:"card-priority-medium",high:"card-priority-high"};return n.jsx("div",{ref:s,className:lt("card-medical",i[r],e),...a,children:t})});OM.displayName="CardPriority";const HM=5;let Xv=0;function $M(){return Xv=(Xv+1)%Number.MAX_SAFE_INTEGER,Xv.toString()}const rd={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},_g=[];let Eg={toasts:[]};function Fg(e){Eg=KM(Eg,e),_g.forEach(r=>{r(Eg)})}function KM(e,r){switch(r.type){case rd.ADD_TOAST:return{...e,toasts:[r.toast,...e.toasts].slice(0,HM)};case rd.UPDATE_TOAST:return{...e,toasts:e.toasts.map(t=>t.id===r.toast.id?{...t,...r.toast}:t)};case rd.DISMISS_TOAST:return{...e,toasts:e.toasts.map(t=>t.id===r.toastId||r.toastId===void 0?{...t,open:!1}:t)};case rd.REMOVE_TOAST:return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(t=>t.id!==r.toastId)}}}function zM({...e}){const r=$M(),t=s=>Fg({type:rd.UPDATE_TOAST,toast:{...s,id:r}}),a=()=>Fg({type:rd.DISMISS_TOAST,toastId:r});return Fg({type:rd.ADD_TOAST,toast:{...e,id:r,open:!0,onOpenChange:s=>{s||a()}}}),{id:r,dismiss:a,update:t}}function Ga(){const[e,r]=y.useState(Eg);return y.useEffect(()=>(_g.push(r),()=>{const t=_g.indexOf(r);t>-1&&_g.splice(t,1)}),[e]),{...e,toast:zM,dismiss:t=>Fg({type:rd.DISMISS_TOAST,toastId:t})}}const mx={EMAIL:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,PASSWORD:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,NAME:/^[a-zA-Z-\s]{2,50}$/};function pd(e){return typeof e!="string"?e:e.replace(/<\/?(?:script|iframe|object|embed|form|input|button|link|meta|style|base|applet)[^>]*>/gi,"").replace(/\s*on\w+\s*=\s*["'][^"']*["']/gi,"").replace(/javascript:|vbscript:|data:/gi,"").replace(/[\x00-\x1F\x7F]/g,"").slice(0,1e4)}function l0(e){if(!e||typeof e!="string")return{isValid:!1,error:"Email  obrigatrio"};const r=pd(e.trim().toLowerCase());return mx.EMAIL.test(r)?r.length>254?{isValid:!1,error:"Email muito longo"}:{isValid:!0,value:r}:{isValid:!1,error:"Email invlido"}}function c0(e){if(!e||typeof e!="string")return{isValid:!1,error:"CPF  obrigatrio"};const r=pd(e.replace(/\D/g,""));if(r.length!==11)return{isValid:!1,error:"CPF deve ter 11 dgitos"};if(/^(\d)\1{10}$/.test(r))return{isValid:!1,error:"CPF invlido"};let t=0;for(let s=0;s<9;s++)t+=parseInt(r.charAt(s))*(10-s);let a=t*10%11;if((a===10||a===11)&&(a=0),a!==parseInt(r.charAt(9)))return{isValid:!1,error:"CPF invlido"};t=0;for(let s=0;s<10;s++)t+=parseInt(r.charAt(s))*(11-s);return a=t*10%11,(a===10||a===11)&&(a=0),a!==parseInt(r.charAt(10))?{isValid:!1,error:"CPF invlido"}:{isValid:!0,value:r}}function Y_(e){return!e||typeof e!="string"?{isValid:!1,error:"Senha  obrigatria"}:e.length<8?{isValid:!1,error:"Senha deve ter pelo menos 8 caracteres"}:e.length>128?{isValid:!1,error:"Senha muito longa"}:mx.PASSWORD.test(e)?{isValid:!0,value:e}:{isValid:!1,error:"Senha deve conter pelo menos: 1 letra minscula, 1 maiscula, 1 nmero e 1 caractere especial"}}function X_(e){return!e||typeof e!="string"?{isValid:!1,error:"Senha  obrigatria"}:e.length<1?{isValid:!1,error:"Senha  obrigatria"}:e.length>128?{isValid:!1,error:"Senha muito longa"}:{isValid:!0,value:e}}function J_(e){if(!e||typeof e!="string")return{isValid:!1,error:"Nome  obrigatrio"};const r=pd(e.trim());return r.length<2?{isValid:!1,error:"Nome deve ter pelo menos 2 caracteres"}:r.length>100?{isValid:!1,error:"Nome muito longo"}:mx.NAME.test(r)?{isValid:!0,value:r}:{isValid:!1,error:"Nome contm caracteres invlidos"}}function Z_(e,r=1e3){if(!e||typeof e!="string")return{isValid:!1,error:"Texto  obrigatrio"};const t=pd(e.trim());return t.length===0?{isValid:!1,error:"Texto no pode estar vazio"}:t.length>r?{isValid:!1,error:`Texto deve ter no mximo ${r} caracteres`}:{isValid:!0,value:t}}function eE(e){const r=String(e||"").trim(),t=r.toLowerCase(),a=["bom dia","boa tarde","boa noite","o que te traz aqui","tudo bem","ola doutor","ol doutor","oi"];for(const s of a)if(t.includes(s)&&r.length<100&&t.replace(s,"").replace("?","").trim().length<5)return"";return t.startsWith("bom dia")?r.slice(7).replace(/tudo bem\??/i,"").trim().replace(/^[,\.\s]+/,""):r}const VM=Object.freeze(Object.defineProperty({__proto__:null,VALIDATION_PATTERNS:mx,cleanGreeting:eE,sanitizeString:pd,validateCPF:c0,validateEmail:l0,validateLoginPassword:X_,validateName:J_,validatePassword:Y_,validateText:Z_},Symbol.toStringTag,{value:"Module"}));function qM(){const[e,r]=y.useState({email:"",password:""}),[t,a]=y.useState(!1),[s,i]=y.useState(!1),[o,l]=y.useState({}),{login:A,loginWithGoogle:d,isAuthenticated:f,user:h,loading:m}=Ko(),{toast:p}=Ga(),x=ss(),g=(()=>{const _=(h==null?void 0:h.role)||(h==null?void 0:h.tipo);return _==="admin"?"/admin/dashboard":_==="medico"?"/medico/dashboard":_==="clinica"?"/clinica/dashboard":"/paciente/perfil"})();if(m)return null;if(f)return n.jsx(Ea,{to:g,replace:!0});const w=()=>{const _={},q=l0(e.email),R=c0(e.email);!q.isValid&&!R.isValid&&(_.email="Informe um e-mail vlido ou CPF vlido");const H=X_(e.password);return H.isValid||(_.password=H.error),l(_),Object.keys(_).length===0},j=async _=>{var q,R,H,J,T,re,z,G,V,ee,ce;if(_.preventDefault(),!w()){p({title:"Dados invlidos",description:"Por favor, corrija os erros no formulrio",variant:"destructive"});return}a(!0);try{const k=l0(e.email),D=c0(e.email),K=k.isValid?k.value:D.isValid?D.value:e.email,te=await A({email:K,username:K,password:e.password});switch(p({title:"Login realizado com sucesso!",description:`Bem-vindo, ${((q=te.user)==null?void 0:q.first_name)||((R=te.user)==null?void 0:R.username)||((H=te.user)==null?void 0:H.email)||"usurio"}!`}),((J=te.user)==null?void 0:J.role)||((T=te.user)==null?void 0:T.tipo)){case"medico":x("/medico/dashboard");break;case"paciente":x("/paciente/perfil");break;case"clinica":x("/clinica/dashboard");break;case"admin":x("/admin/dashboard");break;default:x("/")}}catch(k){const D=((z=(re=k.response)==null?void 0:re.data)==null?void 0:z.error)||((V=(G=k.response)==null?void 0:G.data)==null?void 0:V.detail)||((ce=(ee=k.response)==null?void 0:ee.data)==null?void 0:ce.message);p({title:"Erro no login",description:D||"Credenciais invlidas",variant:"destructive"})}finally{a(!1)}},N=_=>{const{name:q,value:R}=_.target;r(H=>({...H,[q]:R})),o[q]&&l(H=>{const J={...H};return delete J[q],J})},[C,E]=y.useState(!1),Q=y.useRef(null),{setTheme:U,theme:F}=E4(),L=y.useRef(null);return y.useEffect(()=>(L.current=F,U("light"),()=>{L.current&&U(L.current)}),[F,U]),y.useEffect(()=>{if(window.google&&Q.current)try{window.google.accounts.id.initialize({client_id:"SEU_CLIENT_ID_REAL.apps.googleusercontent.com",callback:async _=>{var R,H,J,T,re,z,G,V;const q=_==null?void 0:_.credential;if(q){E(!0);try{const ee=await d(q);switch(p({title:"Login com Google realizado!",description:`Bem-vindo, ${((R=ee.user)==null?void 0:R.nome)||((H=ee.user)==null?void 0:H.first_name)||((J=ee.user)==null?void 0:J.username)||((T=ee.user)==null?void 0:T.email)||"usurio"}!`}),((re=ee.user)==null?void 0:re.role)||((z=ee.user)==null?void 0:z.tipo)){case"medico":x("/medico/dashboard");break;case"paciente":x("/paciente/perfil");break;case"clinica":x("/clinica/dashboard");break;case"admin":x("/admin/dashboard");break;default:x("/")}}catch(ee){p({title:"Erro no login com Google",description:((V=(G=ee.response)==null?void 0:G.data)==null?void 0:V.message)||"No foi possvel autenticar",variant:"destructive"})}finally{E(!1)}}}}),window.google.accounts.id.renderButton(Q.current,{theme:"outline",size:"large",shape:"pill",text:"continue_with",width:320})}catch{}},[d,x,p]),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 flex items-center justify-center p-4 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-600/20 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-indigo-400/20 to-blue-600/20 rounded-full blur-3xl"})]}),n.jsxs(ke,{className:"w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 relative z-10",children:[n.jsxs(ze,{className:"space-y-1 text-center pb-8",children:[n.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl overflow-hidden mb-6 shadow-lg",children:n.jsx("img",{src:"/logo/logoTrathea.jpg",alt:"Trathea",className:"w-full h-full object-cover"})}),n.jsx(Ye,{className:"text-3xl font-bold text-medical-primary mx-auto text-center",children:"Trathea"}),n.jsx(mr,{className:"text-slate-600 text-base",children:"Acesse sua conta para continuar"})]}),n.jsxs(Le,{className:"space-y-6 px-8 pb-8",children:[n.jsxs("form",{onSubmit:j,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(De,{htmlFor:"email",className:"text-slate-700 font-medium flex items-center gap-2",children:[n.jsx(wl,{className:"w-4 h-4"}),"E-mail ou CPF"]}),n.jsx(He,{id:"email",name:"email",type:"text",placeholder:"seu@email.com ou 52959459873",value:e.email,onChange:N,required:!0,className:`h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200 ${o.email?"border-red-500 focus:border-red-500":""}`}),o.email&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:o.email})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(De,{htmlFor:"password",className:"text-slate-700 font-medium flex items-center gap-2",children:[n.jsx(k1,{className:"w-4 h-4"}),"Senha"]}),n.jsxs("div",{className:"relative",children:[n.jsx(He,{id:"password",name:"password",type:s?"text":"password",placeholder:"",value:e.password,onChange:N,required:!0,className:`h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200 pr-12 ${o.password?"border-red-500 focus:border-red-500":""}`}),n.jsx(we,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-12 px-3 hover:bg-transparent",onClick:()=>i(!s),children:s?n.jsx(Y6,{className:"h-4 w-4 text-slate-400"}):n.jsx(Ci,{className:"h-4 w-4 text-slate-400"})})]}),o.password&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:o.password})]}),n.jsx(we,{type:"submit",className:"w-full h-12 btn-medical-primary font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",disabled:t,children:t?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Entrando..."]}):"Entrar"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"}),n.jsx("span",{className:"text-sm text-slate-500 font-medium bg-white px-2",children:"ou"}),n.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{ref:Q,className:"w-full flex justify-center"})}),!window.google&&n.jsx(we,{type:"button",variant:"outline",className:"w-full h-12 border-slate-200 hover:bg-slate-50 bg-white/80 backdrop-blur-sm transition-all duration-200",disabled:!0,children:C?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-slate-400/30 border-t-slate-400 rounded-full animate-spin"}),"Conectando..."]}):"Continuar com Google"}),n.jsxs("div",{className:"text-center space-y-3 pt-4",children:[n.jsx(fr,{to:"/esqueci-senha",className:"text-sm text-blue-600 hover:text-blue-700 hover:underline font-medium transition-colors duration-200",children:"Esqueceu sua senha?"}),n.jsxs("div",{className:"text-sm text-slate-600",children:["No tem uma conta?"," ",n.jsx(fr,{to:"/registrar",className:"text-blue-600 hover:text-blue-700 hover:underline font-medium transition-colors duration-200",children:"Cadastre-se"})]})]}),n.jsx("div",{className:"mt-6 flex justify-center",children:n.jsx(we,{type:"button",variant:"outline",className:"rounded-xl",onClick:()=>{h!=null&&h.role||(h==null||h.tipo),x(f?"/inicio":"/")},children:"Voltar ao incio"})})]})]})]})}function WM(){const e=ss(),{toast:r}=Ga(),[t,a]=y.useState(!1),[s,i]=y.useState("paciente"),[o,l]=y.useState({}),[A,d]=y.useState(!1),[f,h]=y.useState(!1),[m,p]=y.useState({nome:"",email:"",senha:"",confirmSenha:"",cpf:"",nomeClinica:"",cnpj:""}),x=z=>{const G=z.replace(/\D/g,"").slice(0,11),V=G.slice(0,3),ee=G.slice(3,6),ce=G.slice(6,9),k=G.slice(9,11);return G.length>9?`${V}.${ee}.${ce}-${k}`:G.length>6?`${V}.${ee}.${ce}`:G.length>3?`${V}.${ee}`:V},g=z=>{const G=String(z||"").replace(/\D/g,"").slice(0,14),V=G.slice(0,2),ee=G.slice(2,5),ce=G.slice(5,8),k=G.slice(8,12),D=G.slice(12,14);return G.length>12?`${V}.${ee}.${ce}/${k}-${D}`:G.length>8?`${V}.${ee}.${ce}/${k}`:G.length>5?`${V}.${ee}.${ce}`:G.length>2?`${V}.${ee}`:V},w=z=>String(z||"").replace(/\D/g,"").slice(0,7),j=z=>{const{name:G,value:V}=z.target;if(o[G]&&l(ee=>({...ee,[G]:void 0})),G==="cpf"){p({...m,cpf:x(V)});return}if(G==="cnpj"){p({...m,cnpj:g(V)});return}p({...m,[G]:V})},N=z=>String(z||"").trim().replace(/\s+/g," ").split(" ").filter(Boolean).map(G=>G.charAt(0).toUpperCase()+G.slice(1).toLowerCase()).join(" "),[C,E]=y.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),Q=y.useRef(null),U=y.useRef(null),F=y.useRef(null),L=z=>{const{name:G,value:V}=z.target;o[G]&&l(ee=>({...ee,[G]:void 0})),E(G==="crm"?ee=>({...ee,crm:w(V)}):ee=>({...ee,[G]:V}))},_=(z,G)=>{o[z]&&l(V=>({...V,[z]:void 0})),E(V=>({...V,documentos:{...V.documentos,[z]:G}}))},q=(z,G)=>{E(V=>({...V,documentos:{...V.documentos,[z]:null}})),G!=null&&G.current&&(G.current.value="")},R=z=>{if(!z&&z!==0)return"";const G=["Bytes","KB","MB","GB"];if(z===0)return"0 Byte";const V=Math.floor(Math.log(z)/Math.log(1024));return`${(z/Math.pow(1024,V)).toFixed(1)} ${G[V]}`},H=({label:z,required:G=!1,icon:V="",accept:ee=".pdf,image/*",file:ce,onFile:k,onRemove:D,inputRef:K})=>{const[te,Y]=y.useState(!1),X=O=>{var oe;O.preventDefault(),Y(!1);const Z=(oe=O.dataTransfer.files)==null?void 0:oe[0];Z&&k(Z)};return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-base",children:V}),n.jsxs("label",{className:"text-sm font-medium text-slate-700",children:[z," ",G?n.jsx("span",{className:"text-rose-600",children:"*"}):n.jsx("span",{className:"text-slate-400",children:"(opcional)"})]})]}),n.jsx("input",{ref:K,type:"file",accept:ee,className:"hidden",onChange:O=>{var Z;return k(((Z=O.target.files)==null?void 0:Z[0])||null)}}),n.jsxs("div",{onDragOver:O=>{O.preventDefault(),Y(!0)},onDragLeave:()=>Y(!1),onDrop:X,className:`rounded-lg border-2 p-3 flex items-center justify-between gap-3 transition
            ${te?"border-sky-400 bg-sky-50":"border-dashed border-slate-300 bg-white"}`,children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx("div",{className:"h-10 w-10 rounded-md bg-slate-100 flex items-center justify-center text-lg",children:V}),ce?n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:ce.name}),n.jsxs("p",{className:"text-xs text-slate-500",children:[ce.type||"Arquivo","  ",R(ce.size)]})]}):n.jsxs("div",{className:"text-sm text-slate-600",children:["Arraste e solte aqui ou"," ",n.jsx("button",{type:"button",onClick:()=>{var O;return(O=K==null?void 0:K.current)==null?void 0:O.click()},className:"underline text-sky-700 hover:text-sky-800",children:"procurar"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[!ce&&n.jsx("button",{type:"button",onClick:()=>{var O;return(O=K==null?void 0:K.current)==null?void 0:O.click()},className:"px-3 py-2 rounded-md bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800",children:"Escolher arquivo"}),ce&&n.jsx("button",{type:"button",onClick:D,className:"px-3 py-2 rounded-md bg-rose-50 text-rose-700 text-xs font-semibold hover:bg-rose-100",children:"Remover"})]})]})]})};m.email.length===0||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email);const J=()=>{const z={},G=J_(m.nome);G.isValid||(z.nome=G.error);const V=l0(m.email);V.isValid||(z.email=V.error);const ee=Y_(m.senha);ee.isValid||(z.senha=ee.error),m.senha!==m.confirmSenha&&(z.confirmSenha="As senhas no conferem");const ce=c0(m.cpf);return ce.isValid||(z.cpf=ce.error),s==="clinica"&&(m.nomeClinica.trim()||(z.nomeClinica="Nome da clnica  obrigatrio"),m.cnpj.trim()||(z.cnpj="CNPJ  obrigatrio")),s==="medico"&&(C.crm.trim()||(z.crm="CRM  obrigatrio"),C.especialidade.trim()||(z.especialidade="Especialidade  obrigatria"),C.documentos.diplomaMedicina||(z.diplomaMedicina="Diploma de Medicina  obrigatrio")),z},T=m.confirmSenha.length===0||m.senha.length>0&&m.senha===m.confirmSenha,re=async z=>{var V,ee,ce,k,D,K,te,Y,X,O;z.preventDefault();const G=J();if(l(G),Object.keys(G).length>0){r({title:"Erro de validao",description:"Por favor, corrija os erros no formulrio.",variant:"destructive"});return}a(!0);try{const Z=String(m.nome||"").trim().replace(/\s+/g," "),oe=N(Z),[pe,...xe]=oe.split(" "),_e=xe.join(" "),Fe={username:m.nome.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").replace(/[^a-z0-9@.+_-]/g,""),first_name:pe||"",last_name:_e||"",email:m.email,password:m.senha,password_confirm:m.confirmSenha,role:s==="medico"?"paciente":s,desired_role:s,cpf:m.cpf||""};s==="clinica"&&(Fe.nome_clinica=m.nomeClinica,Fe.cnpj=m.cnpj);const he=await sa.register(Fe,{medicoData:s==="medico"?C:void 0});if(s==="medico"){const Ae=he==null?void 0:he.medicoApplication;Ae!=null&&Ae.success?r({title:"Solicitao enviada!",description:"Seus dados de mdico foram enviados para anlise."}):Ae&&Ae.success===!1&&(console.error("[RegisterForm] criarSolicitacaoMedico via authService falhou:",Ae.error),r({title:"Solicitao pendente",description:"Sua conta foi criada, mas no foi possvel enviar a solicitao de mdico agora. Voc poder concluir depois."}))}r({title:"Registro realizado com sucesso!",description:"Sua conta foi criada. Voc pode fazer login agora."}),e("/login")}catch(Z){console.error("Erro no registro:",Z),console.error("Status do erro:",(V=Z.response)==null?void 0:V.status),console.error("Detalhes do erro:",(ee=Z.response)==null?void 0:ee.data),console.error("Headers da resposta:",(ce=Z.response)==null?void 0:ce.headers);let oe="Erro interno do servidor. Tente novamente.",pe=!1,xe=!1,_e=!1;try{const Fe=(k=Z.response)==null?void 0:k.status,he=((D=Z.response)==null?void 0:D.headers)||{},Ae=he["content-type"]||he["Content-Type"]||"",ct=(K=Z.response)==null?void 0:K.data,pt=((typeof ct=="string"?ct:"")||"").toLowerCase(),Se=it=>{it==="crm"?oe="CRM j cadastrado no sistema. Utilize outro nmero de CRM.":it==="email"?oe="E-mail j cadastrado no sistema.":it==="cpf"?oe="CPF j cadastrado no sistema.":oe="Algum campo nico j est cadastrado (ex.: CRM, e-mail ou CPF)."};Fe===409&&(Se("unknown"),xe=!0),pe=String(Ae).includes("text/html"),(pe||pt.includes("unique constraint")||pt.includes("integrityerror"))&&(pt.includes("crm")?(Se("crm"),xe=!0,_e=!0):pt.includes("email")?(Se("email"),xe=!0):pt.includes("cpf")&&(Se("cpf"),xe=!0))}catch{}if((te=Z.response)!=null&&te.data){const Fe=Z.response.data;if(console.log("Tipo do errorData:",typeof Fe),console.log("ErrorData completo:",JSON.stringify(Fe,null,2)),typeof Fe=="object"){const he=[];for(const[Ae,ct]of Object.entries(Fe))Array.isArray(ct)?he.push(`${Ae}: ${ct.join(", ")}`):he.push(`${Ae}: ${ct}`);he.length&&(oe=he.join(`
`))}typeof Fe=="string"?/<\/?(html|body|head|table|div|span|style|script)[^>]*>/i.test(Fe)||(oe=Fe):Fe.message?oe=Fe.message:Fe.email?oe=`Email: ${Fe.email[0]}`:Fe.password&&(oe=`Senha: ${Fe.password[0]}`)}try{const Fe=(Y=Z.response)==null?void 0:Y.status,he=((X=Z.response)==null?void 0:X.headers)||{},Ae=he["content-type"]||he["Content-Type"]||"",ct=(O=Z.response)==null?void 0:O.data,pt=((typeof ct=="string"?ct:"")||"").toLowerCase(),Se=xe||Fe===409||pt.includes("unique constraint")||pt.includes("integrityerror"),it=pe||String(Ae).includes("text/html"),Ke=_e||pt.includes("crm")||pt.includes("medico");if(Se&&(it||Ke)){try{await sa.login({email:m.email,password:m.senha}),await sa.logout(),r({title:"Conta criada",description:"Sua conta foi criada, mas houve um problema com os dados de mdico (CRM). Faa login para continuar."}),e("/login");return}catch{}r({title:"Conta possivelmente criada",description:oe+"  Tente fazer login com seu e-mail e senha."}),e("/login");return}}catch{}r({title:"Erro no registro",description:oe,variant:"destructive"})}finally{a(!1)}};return n.jsx("div",{className:"min-h-screen bg-app-soft flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md bg-white/95 backdrop-blur shadow-app-lg rounded-2xl border border-slate-100 overflow-hidden",children:[n.jsxs("div",{className:"px-6 pt-6 pb-4 bg-app-gradient text-white",children:[n.jsx("h1",{className:"text-xl font-semibold",children:"Criar conta"}),n.jsx("p",{className:"text-white/90 text-sm",children:s==="paciente"?"Como paciente":s==="clinica"?"Como clnica":"Como mdico"})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"bg-slate-100 rounded-lg p-1 grid grid-cols-3 gap-1",children:[n.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${s==="paciente"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>i("paciente"),children:" Paciente"}),n.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${s==="clinica"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>i("clinica"),children:" Clnica"}),n.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${s==="medico"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>i("medico"),children:" Mdico"})]}),n.jsxs("form",{className:"space-y-4",onSubmit:re,children:[s!=="clinica"?n.jsx(n.Fragment,{children:n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome completo"}),n.jsx("input",{type:"text",name:"nome",placeholder:"Seu nome",value:m.nome,onChange:j,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.nome?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.nome&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.nome})]})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome da clnica"}),n.jsx("input",{type:"text",name:"nomeClinica",placeholder:"Ex.: Clnica Vida",value:m.nomeClinica,onChange:j,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.nomeClinica?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.nomeClinica&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.nomeClinica})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CNPJ"}),n.jsx("input",{type:"text",name:"cnpj",placeholder:"00.000.000/0000-00",value:m.cnpj,onChange:j,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.cnpj?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.cnpj&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.cnpj})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"E-mail"}),n.jsx("input",{type:"email",name:"email",placeholder:"seu@email.com",value:m.email,onChange:j,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.email?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.email&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CPF *"}),n.jsx("input",{type:"text",name:"cpf",placeholder:"000.000.000-00",value:m.cpf,onChange:j,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.cpf?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.cpf&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.cpf})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Senha"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:A?"text":"password",name:"senha",placeholder:"Crie uma senha",value:m.senha,onChange:j,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.senha?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),n.jsx("button",{type:"button",onClick:()=>d(z=>!z),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":A?"Ocultar senha":"Mostrar senha",children:A?"Ocultar":"Mostrar"})]}),o.senha&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.senha})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Confirmar senha"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:f?"text":"password",name:"confirmSenha",placeholder:"Repita a senha",value:m.confirmSenha,onChange:j,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 transition ${o.confirmSenha?"border-rose-300 focus:ring-rose-500":T?"border-slate-200 focus:ring-sky-500 focus:border-sky-500":"border-amber-300 focus:ring-amber-400"}`}),n.jsx("button",{type:"button",onClick:()=>h(z=>!z),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":f?"Ocultar senha":"Mostrar senha",children:f?"Ocultar":"Mostrar"})]}),o.confirmSenha?n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.confirmSenha}):m.confirmSenha.length>0&&n.jsx("p",{className:`mt-1 text-xs ${m.senha===m.confirmSenha?"text-emerald-600":"text-amber-600"}`,children:m.senha===m.confirmSenha?"Senhas conferem.":"As senhas no conferem."})]}),s==="medico"&&n.jsxs("div",{className:"space-y-4 border rounded-lg p-4",children:[n.jsx("p",{className:"font-semibold",children:"Dados do Mdico"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CRM"}),n.jsx("input",{type:"text",name:"crm",placeholder:"CRM",value:C.crm,onChange:L,maxLength:7,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 ${o.crm?"border-rose-300 focus:ring-rose-500":"border-slate-200"}`}),o.crm&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.crm})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Especialidade"}),n.jsx("input",{type:"text",name:"especialidade",placeholder:"Ex.: Cardiologia",value:C.especialidade,onChange:L,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 ${o.especialidade?"border-rose-300 focus:ring-rose-500":"border-slate-200"}`}),o.especialidade&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.especialidade})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituio de Formao"}),n.jsx("input",{type:"text",name:"instituicaoFormacao",placeholder:"Universidade",value:C.instituicaoFormacao,onChange:L,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano de Formao"}),n.jsx("input",{type:"number",name:"anoFormacao",placeholder:"YYYY",value:C.anoFormacao,onChange:L,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Residncia (se aplicvel)"}),n.jsx("input",{type:"text",name:"residencia",placeholder:"Residncia Mdica",value:C.residencia,onChange:L,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituio da Residncia"}),n.jsx("input",{type:"text",name:"instituicaoResidencia",placeholder:"Instituio",value:C.instituicaoResidencia,onChange:L,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano da Residncia"}),n.jsx("input",{type:"number",name:"anoResidencia",placeholder:"YYYY",value:C.anoResidencia,onChange:L,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Experincia"}),n.jsx("textarea",{name:"experiencia",placeholder:"Resumo da experincia",value:C.experiencia,onChange:L,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Motivao"}),n.jsx("textarea",{name:"motivacao",placeholder:"Por que deseja se cadastrar como mdico na plataforma?",value:C.motivacao,onChange:L,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"font-medium",children:"Documentos"}),n.jsx(H,{label:"Diploma de Medicina",required:!0,icon:"",accept:".pdf,image/*",file:C.documentos.diplomaMedicina,inputRef:Q,onFile:z=>_("diplomaMedicina",z),onRemove:()=>q("diplomaMedicina",Q)}),o.diplomaMedicina&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.diplomaMedicina}),n.jsx(H,{label:"Certificado de Residncia",icon:"",accept:".pdf,image/*",file:C.documentos.certificadoResidencia,inputRef:U,onFile:z=>_("certificadoResidencia",z),onRemove:()=>q("certificadoResidencia",U)}),n.jsx(H,{label:"Comprovante de Experincia",icon:"",accept:".pdf,image/*",file:C.documentos.comprovanteExperiencia,inputRef:F,onFile:z=>_("comprovanteExperiencia",z),onRemove:()=>q("comprovanteExperiencia",F)})]})]}),n.jsx("button",{type:"submit",disabled:t,className:"w-full py-3 rounded-lg font-semibold bg-blue-600 text-white hover:bg-blue-700 focus-visible:ring-2 focus-visible:ring-blue-400 shadow-app transition disabled:opacity-70 disabled:cursor-not-allowed",children:t?"Registrando...":`Registrar ${s==="paciente"?"Paciente":s==="clinica"?"Clnica":s==="medico"?"Mdico":"Usurio"}`})]})]})]})})}const tE=y.createContext(null);function rE(){const e=y.useContext(tE);if(!e)throw new Error("Tabs components must be used within <Tabs>");return e}const Vi=y.forwardRef(({className:e,value:r,defaultValue:t="",onValueChange:a,children:s,...i},o)=>{const[l,A]=y.useState(t),d=r!==void 0,f=d?r:l,h=m=>{d||A(m),a==null||a(m)};return n.jsx(tE.Provider,{value:{value:f,setValue:h},children:n.jsx("div",{ref:o,className:lt("",e),...i,children:s})})});Vi.displayName="Tabs";const qi=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:lt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));qi.displayName="TabsList";const Pr=y.forwardRef(({className:e,value:r,onClick:t,...a},s)=>{const{value:i,setValue:o}=rE(),l=i===r,A=d=>{t==null||t(d),o(r)};return n.jsx("button",{ref:s,"data-state":l?"active":"inactive",className:lt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",l?"bg-background text-foreground shadow-sm":"hover:bg-background/50 hover:text-foreground",e),onClick:A,...a})});Pr.displayName="TabsTrigger";const $r=y.forwardRef(({className:e,value:r,forceMount:t=!1,...a},s)=>{const{value:i}=rE();return!t&&i!==r?null:n.jsx("div",{ref:s,className:lt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a})});$r.displayName="TabsContent";function GM(){const[e,r]=y.useState(""),[t,a]=y.useState(!1),[s,i]=y.useState(!1),[o,l]=y.useState("paciente"),A=ss(),d=ns(),{toast:f}=Ga();y.useEffect(()=>{const p=new URLSearchParams(d.search).get("role");(p==="clinica"||p==="paciente")&&l(p)},[d]);const h=async m=>{var p,x,g,w;m.preventDefault(),a(!0);try{await sa.forgotPassword(e),i(!0),f({title:"Email enviado!",description:"Verifique sua caixa de entrada para redefinir sua senha."})}catch(j){const N=((x=(p=j==null?void 0:j.response)==null?void 0:p.data)==null?void 0:x.detail)||((w=(g=j==null?void 0:j.response)==null?void 0:g.data)==null?void 0:w.message)||(j==null?void 0:j.message);f({title:"Erro",description:N||"No foi possvel enviar o email. Tente novamente.",variant:"destructive"})}finally{a(!1)}};return s?n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),n.jsxs(ke,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[n.jsxs(ze,{className:"space-y-1 text-center pb-8",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mb-6 shadow-lg",children:n.jsx(us,{className:"h-8 w-8 text-white"})}),n.jsx(Ye,{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Email Enviado!"}),n.jsxs(mr,{className:"text-lg text-gray-600",children:["Enviamos um link para redefinir sua senha para ",n.jsx("strong",{className:"text-gray-900",children:e})]})]}),n.jsxs(Le,{className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-xl border border-blue-100",children:n.jsx("p",{className:"text-sm text-gray-700 text-center font-medium",children:"Verifique sua caixa de entrada e spam. O link expira em 24 horas."})}),n.jsx(we,{variant:"outline",className:"w-full h-12 bg-white/50 hover:bg-white/80 border-gray-200 hover:border-gray-300 transition-all duration-200",onClick:()=>i(!1),children:"Enviar para outro email"}),n.jsxs(we,{variant:"ghost",className:"w-full h-12 text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-all duration-200",onClick:()=>A(`/login?role=${o}`),children:[n.jsx(sc,{className:"mr-2 h-4 w-4"}),"Voltar ao login"]})]})]})]}):n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),n.jsxs(ke,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[n.jsxs(ze,{className:"space-y-1 pb-8",children:[n.jsx(Ye,{className:"text-3xl font-bold text-center bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Esqueceu sua senha?"}),n.jsx(mr,{className:"text-center text-lg text-gray-600",children:"Digite seu email para receber um link de redefinio"})]}),n.jsxs(Le,{children:[n.jsx(Vi,{value:o,onValueChange:l,className:"mb-8",children:n.jsxs(qi,{className:"grid w-full grid-cols-2 bg-gray-100/80 p-1 rounded-xl",children:[n.jsxs(Pr,{value:"paciente",className:"flex items-center justify-center gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-md transition-all duration-200",children:[n.jsx(Hn,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Paciente"})]}),n.jsxs(Pr,{value:"clinica",className:"flex items-center justify-center gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-md transition-all duration-200",children:[n.jsx(cc,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Clnica"})]})]})}),n.jsxs("form",{onSubmit:h,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(De,{htmlFor:"email",className:"text-sm font-semibold text-gray-700",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(wl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(He,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:m=>r(m.target.value),className:"pl-10 h-12 input-medical-primary bg-white/50 transition-all duration-200",required:!0})]})]}),n.jsx(we,{type:"submit",className:"w-full h-12 btn-medical-primary font-semibold shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-[1.02]",disabled:t,children:t?n.jsxs(n.Fragment,{children:[n.jsx(nI,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):"Enviar Link de Redefinio"})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs(fr,{to:`/login?role=${o}`,className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 font-medium transition-colors duration-200 group",children:[n.jsx(sc,{className:"h-4 w-4 group-hover:-translate-x-1 transition-transform duration-200"}),"Voltar ao login"]})})]})]})]})}function YM({children:e}){const{user:r,isAuthenticated:t,loading:a}=Ko(),s=ns();if(a)return null;if(!t)return n.jsx(Ea,{to:"/login",state:{from:s},replace:!0});const i=(r==null?void 0:r.role)||(r==null?void 0:r.tipo);return i!=="secretaria"&&i!=="admin"?i==="paciente"?n.jsx(Ea,{to:"/paciente/perfil",replace:!0}):i==="medico"?n.jsx(Ea,{to:"/medico/dashboard",replace:!0}):i==="clinica"?n.jsx(Ea,{to:"/clinica/dashboard",replace:!0}):n.jsx(Ea,{to:"/",replace:!0}):e}function XM(){const e=()=>n.jsx(Rm,{role:"secretaria"});return n.jsx(Qm,{sidebar:e,children:n.jsx(Nm,{})})}function JM(){const{uid:e,token:r}=$o(),t=ss(),{toast:a}=Ga(),[s,i]=y.useState(""),[o,l]=y.useState(""),[A,d]=y.useState(!1),f=y.useMemo(()=>"http://127.0.0.1:8000".replace(/\/$/,""),[]),h="/api/auth/password_reset_confirm/",m=`${f}/reset/${e}/${r}/`,p=()=>!s||s.length<8?(a({title:"Senha muito curta",description:"Use pelo menos 8 caracteres.",variant:"destructive"}),!1):s!==o?(a({title:"Confirmao",description:"A confirmao no confere com a nova senha.",variant:"destructive"}),!1):!0,x=async g=>{var w,j,N,C,E;if((w=g==null?void 0:g.preventDefault)==null||w.call(g),!!p()){d(!0);try{h&&(await ye.post(h,{uid:e,token:r,new_password:s}),a({title:"Senha redefinida!",description:"Voc j pode fazer login."}),t("/login"))}catch(Q){const U=((N=(j=Q==null?void 0:Q.response)==null?void 0:j.data)==null?void 0:N.detail)||((E=(C=Q==null?void 0:Q.response)==null?void 0:C.data)==null?void 0:E.message)||(Q==null?void 0:Q.message);a({title:"No foi possvel redefinir",description:U||"Tente novamente.",variant:"destructive"})}finally{d(!1)}}};return n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),n.jsxs(ke,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[n.jsxs(ze,{className:"space-y-1 text-center pb-8",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-medical-primary rounded-2xl flex items-center justify-center mb-6 shadow-lg",children:n.jsx(hI,{className:"w-8 h-8 text-white"})}),n.jsx(Ye,{className:"text-3xl font-bold text-medical-primary",children:"Redefinir senha"}),n.jsx(mr,{className:"text-slate-600 text-base",children:"Crie uma nova senha para sua conta."})]}),n.jsxs(Le,{className:"space-y-6 px-8 pb-8",children:[n.jsxs("form",{onSubmit:x,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(De,{htmlFor:"password",className:"text-slate-700 font-medium flex items-center gap-2",children:[n.jsx(k1,{className:"w-4 h-4"}),"Nova senha"]}),n.jsx(He,{id:"password",type:"password",placeholder:"",value:s,onChange:g=>i(g.target.value),className:"h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(De,{htmlFor:"confirm",className:"text-slate-700 font-medium flex items-center gap-2",children:[n.jsx(po,{className:"w-4 h-4"}),"Confirmar nova senha"]}),n.jsx(He,{id:"confirm",type:"password",placeholder:"",value:o,onChange:g=>l(g.target.value),className:"h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200",required:!0})]}),n.jsx(we,{type:"submit",className:"w-full h-12 btn-medical-primary text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200",disabled:A,children:A?"Processando...":"Redefinir minha senha"})]}),n.jsxs(we,{variant:"ghost",className:"w-full h-12 text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-all duration-200 mt-2",onClick:()=>t("/login"),children:[n.jsx(sc,{className:"mr-2 h-4 w-4"})," Voltar ao login"]})]})]})]})}function rN(e,[r,t]){return Math.min(t,Math.max(r,e))}function aE(e){const r=y.useRef({value:e,previous:e});return y.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var ZM=[" ","Enter","ArrowUp","ArrowDown"],e8=[" ","Enter"],xu="Select",[px,gx,t8]=Ax(xu),[th,$Z]=Nl(xu,[t8,eh]),xx=eh(),[r8,yd]=th(xu),[a8,n8]=th(xu),nE=e=>{const{__scopeSelect:r,children:t,open:a,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:A,dir:d,name:f,autoComplete:h,disabled:m,required:p,form:x}=e,g=xx(r),[w,j]=y.useState(null),[N,C]=y.useState(null),[E,Q]=y.useState(!1),U=eb(d),[F,L]=fd({prop:a,defaultProp:s??!1,onChange:i,caller:xu}),[_,q]=fd({prop:o,defaultProp:l,onChange:A,caller:xu}),R=y.useRef(null),H=w?x||!!w.closest("form"):!0,[J,T]=y.useState(new Set),re=Array.from(J).map(z=>z.props.value).join(";");return n.jsx(G1,{...g,children:n.jsxs(r8,{required:p,scope:r,trigger:w,onTriggerChange:j,valueNode:N,onValueNodeChange:C,valueNodeHasChildren:E,onValueNodeHasChildrenChange:Q,contentId:ic(),value:_,onValueChange:q,open:F,onOpenChange:L,dir:U,triggerPointerDownPosRef:R,disabled:m,children:[n.jsx(px.Provider,{scope:r,children:n.jsx(a8,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(z=>{T(G=>new Set(G).add(z))},[]),onNativeOptionRemove:y.useCallback(z=>{T(G=>{const V=new Set(G);return V.delete(z),V})},[]),children:t})}),H?n.jsxs(_E,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:h,value:_,onChange:z=>q(z.target.value),disabled:m,form:x,children:[_===void 0?n.jsx("option",{value:""}):null,Array.from(J)]},re):null]})})};nE.displayName=xu;var sE="SelectTrigger",iE=y.forwardRef((e,r)=>{const{__scopeSelect:t,disabled:a=!1,...s}=e,i=xx(t),o=yd(sE,t),l=o.disabled||a,A=ya(r,o.onTriggerChange),d=gx(t),f=y.useRef("touch"),[h,m,p]=FE(g=>{const w=d().filter(C=>!C.disabled),j=w.find(C=>C.value===o.value),N=kE(w,g,j);N!==void 0&&o.onValueChange(N.value)}),x=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return n.jsx(Y1,{asChild:!0,...i,children:n.jsx(Sr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":EE(o.value)?"":void 0,...s,ref:A,onClick:kt(s.onClick,g=>{g.currentTarget.focus(),f.current!=="mouse"&&x(g)}),onPointerDown:kt(s.onPointerDown,g=>{f.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:kt(s.onKeyDown,g=>{const w=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(w&&g.key===" ")&&ZM.includes(g.key)&&(x(),g.preventDefault())})})})});iE.displayName=sE;var oE="SelectValue",lE=y.forwardRef((e,r)=>{const{__scopeSelect:t,className:a,style:s,children:i,placeholder:o="",...l}=e,A=yd(oE,t),{onValueNodeHasChildrenChange:d}=A,f=i!==void 0,h=ya(r,A.onValueNodeChange);return ps(()=>{d(f)},[d,f]),n.jsx(Sr.span,{...l,ref:h,style:{pointerEvents:"none"},children:EE(A.value)?n.jsx(n.Fragment,{children:o}):i})});lE.displayName=oE;var s8="SelectIcon",cE=y.forwardRef((e,r)=>{const{__scopeSelect:t,children:a,...s}=e;return n.jsx(Sr.span,{"aria-hidden":!0,...s,ref:r,children:a||""})});cE.displayName=s8;var i8="SelectPortal",AE=e=>n.jsx(Fm,{asChild:!0,...e});AE.displayName=i8;var vu="SelectContent",dE=y.forwardRef((e,r)=>{const t=yd(vu,e.__scopeSelect),[a,s]=y.useState();if(ps(()=>{s(new DocumentFragment)},[]),!t.open){const i=a;return i?zf.createPortal(n.jsx(uE,{scope:e.__scopeSelect,children:n.jsx(px.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(fE,{...e,ref:r})});dE.displayName=vu;var pl=10,[uE,bd]=th(vu),o8="SelectContentImpl",l8=hu("SelectContent.RemoveScroll"),fE=y.forwardRef((e,r)=>{const{__scopeSelect:t,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:A,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:w,...j}=e,N=yd(vu,t),[C,E]=y.useState(null),[Q,U]=y.useState(null),F=ya(r,O=>E(O)),[L,_]=y.useState(null),[q,R]=y.useState(null),H=gx(t),[J,T]=y.useState(!1),re=y.useRef(!1);y.useEffect(()=>{if(C)return Q1(C)},[C]),P1();const z=y.useCallback(O=>{const[Z,...oe]=H().map(_e=>_e.ref.current),[pe]=oe.slice(-1),xe=document.activeElement;for(const _e of O)if(_e===xe||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===Z&&Q&&(Q.scrollTop=0),_e===pe&&Q&&(Q.scrollTop=Q.scrollHeight),_e==null||_e.focus(),document.activeElement!==xe))return},[H,Q]),G=y.useCallback(()=>z([L,C]),[z,L,C]);y.useEffect(()=>{J&&G()},[J,G]);const{onOpenChange:V,triggerPointerDownPosRef:ee}=N;y.useEffect(()=>{if(C){let O={x:0,y:0};const Z=pe=>{var xe,_e;O={x:Math.abs(Math.round(pe.pageX)-(((xe=ee.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((_e=ee.current)==null?void 0:_e.y)??0))}},oe=pe=>{O.x<=10&&O.y<=10?pe.preventDefault():C.contains(pe.target)||V(!1),document.removeEventListener("pointermove",Z),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",oe,{capture:!0})}}},[C,V,ee]),y.useEffect(()=>{const O=()=>V(!1);return window.addEventListener("blur",O),window.addEventListener("resize",O),()=>{window.removeEventListener("blur",O),window.removeEventListener("resize",O)}},[V]);const[ce,k]=FE(O=>{const Z=H().filter(xe=>!xe.disabled),oe=Z.find(xe=>xe.ref.current===document.activeElement),pe=kE(Z,O,oe);pe&&setTimeout(()=>pe.ref.current.focus())}),D=y.useCallback((O,Z,oe)=>{const pe=!re.current&&!oe;(N.value!==void 0&&N.value===Z||pe)&&(_(O),pe&&(re.current=!0))},[N.value]),K=y.useCallback(()=>C==null?void 0:C.focus(),[C]),te=y.useCallback((O,Z,oe)=>{const pe=!re.current&&!oe;(N.value!==void 0&&N.value===Z||pe)&&R(O)},[N.value]),Y=a==="popper"?Cy:hE,X=Y===Cy?{side:l,sideOffset:A,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:w}:{};return n.jsx(uE,{scope:t,content:C,viewport:Q,onViewportChange:U,itemRefCallback:D,selectedItem:L,onItemLeave:K,itemTextRefCallback:te,focusSelectedItem:G,selectedItemText:q,position:a,isPositioned:J,searchRef:ce,children:n.jsx(G0,{as:l8,allowPinchZoom:!0,children:n.jsx(q0,{asChild:!0,trapped:N.open,onMountAutoFocus:O=>{O.preventDefault()},onUnmountAutoFocus:kt(s,O=>{var Z;(Z=N.trigger)==null||Z.focus({preventScroll:!0}),O.preventDefault()}),children:n.jsx(Xf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:O=>O.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:n.jsx(Y,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:O=>O.preventDefault(),...j,...X,onPlaced:()=>T(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:kt(j.onKeyDown,O=>{const Z=O.ctrlKey||O.altKey||O.metaKey;if(O.key==="Tab"&&O.preventDefault(),!Z&&O.key.length===1&&k(O.key),["ArrowUp","ArrowDown","Home","End"].includes(O.key)){let pe=H().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(O.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(O.key)){const xe=O.target,_e=pe.indexOf(xe);pe=pe.slice(_e+1)}setTimeout(()=>z(pe)),O.preventDefault()}})})})})})})});fE.displayName=o8;var c8="SelectItemAlignedPosition",hE=y.forwardRef((e,r)=>{const{__scopeSelect:t,onPlaced:a,...s}=e,i=yd(vu,t),o=bd(vu,t),[l,A]=y.useState(null),[d,f]=y.useState(null),h=ya(r,F=>f(F)),m=gx(t),p=y.useRef(!1),x=y.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:j,focusSelectedItem:N}=o,C=y.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&w&&j){const F=i.trigger.getBoundingClientRect(),L=d.getBoundingClientRect(),_=i.valueNode.getBoundingClientRect(),q=j.getBoundingClientRect();if(i.dir!=="rtl"){const xe=q.left-L.left,_e=_.left-xe,Fe=F.left-_e,he=F.width+Fe,Ae=Math.max(he,L.width),ct=window.innerWidth-pl,gt=rN(_e,[pl,Math.max(pl,ct-Ae)]);l.style.minWidth=he+"px",l.style.left=gt+"px"}else{const xe=L.right-q.right,_e=window.innerWidth-_.right-xe,Fe=window.innerWidth-F.right-_e,he=F.width+Fe,Ae=Math.max(he,L.width),ct=window.innerWidth-pl,gt=rN(_e,[pl,Math.max(pl,ct-Ae)]);l.style.minWidth=he+"px",l.style.right=gt+"px"}const R=m(),H=window.innerHeight-pl*2,J=g.scrollHeight,T=window.getComputedStyle(d),re=parseInt(T.borderTopWidth,10),z=parseInt(T.paddingTop,10),G=parseInt(T.borderBottomWidth,10),V=parseInt(T.paddingBottom,10),ee=re+z+J+V+G,ce=Math.min(w.offsetHeight*5,ee),k=window.getComputedStyle(g),D=parseInt(k.paddingTop,10),K=parseInt(k.paddingBottom,10),te=F.top+F.height/2-pl,Y=H-te,X=w.offsetHeight/2,O=w.offsetTop+X,Z=re+z+O,oe=ee-Z;if(Z<=te){const xe=R.length>0&&w===R[R.length-1].ref.current;l.style.bottom="0px";const _e=d.clientHeight-g.offsetTop-g.offsetHeight,Fe=Math.max(Y,X+(xe?K:0)+_e+G),he=Z+Fe;l.style.height=he+"px"}else{const xe=R.length>0&&w===R[0].ref.current;l.style.top="0px";const Fe=Math.max(te,re+g.offsetTop+(xe?D:0)+X)+oe;l.style.height=Fe+"px",g.scrollTop=Z-te+g.offsetTop}l.style.margin=`${pl}px 0`,l.style.minHeight=ce+"px",l.style.maxHeight=H+"px",a==null||a(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,g,w,j,i.dir,a]);ps(()=>C(),[C]);const[E,Q]=y.useState();ps(()=>{d&&Q(window.getComputedStyle(d).zIndex)},[d]);const U=y.useCallback(F=>{F&&x.current===!0&&(C(),N==null||N(),x.current=!1)},[C,N]);return n.jsx(d8,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:U,children:n.jsx("div",{ref:A,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:n.jsx(Sr.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});hE.displayName=c8;var A8="SelectPopperPosition",Cy=y.forwardRef((e,r)=>{const{__scopeSelect:t,align:a="start",collisionPadding:s=pl,...i}=e,o=xx(t);return n.jsx(X1,{...o,...i,ref:r,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Cy.displayName=A8;var[d8,db]=th(vu,{}),Sy="SelectViewport",mE=y.forwardRef((e,r)=>{const{__scopeSelect:t,nonce:a,...s}=e,i=bd(Sy,t),o=db(Sy,t),l=ya(r,i.onViewportChange),A=y.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(px.Slot,{scope:t,children:n.jsx(Sr.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:kt(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const p=Math.abs(A.current-f.scrollTop);if(p>0){const x=window.innerHeight-pl*2,g=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),j=Math.max(g,w);if(j<x){const N=j+p,C=Math.min(x,N),E=N-C;h.style.height=C+"px",h.style.bottom==="0px"&&(f.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}A.current=f.scrollTop})})})]})});mE.displayName=Sy;var pE="SelectGroup",[u8,f8]=th(pE),h8=y.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e,s=ic();return n.jsx(u8,{scope:t,id:s,children:n.jsx(Sr.div,{role:"group","aria-labelledby":s,...a,ref:r})})});h8.displayName=pE;var gE="SelectLabel",xE=y.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e,s=f8(gE,t);return n.jsx(Sr.div,{id:s.id,...a,ref:r})});xE.displayName=gE;var A0="SelectItem",[m8,vE]=th(A0),wE=y.forwardRef((e,r)=>{const{__scopeSelect:t,value:a,disabled:s=!1,textValue:i,...o}=e,l=yd(A0,t),A=bd(A0,t),d=l.value===a,[f,h]=y.useState(i??""),[m,p]=y.useState(!1),x=ya(r,N=>{var C;return(C=A.itemRefCallback)==null?void 0:C.call(A,N,a,s)}),g=ic(),w=y.useRef("touch"),j=()=>{s||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(m8,{scope:t,value:a,disabled:s,textId:g,isSelected:d,onItemTextChange:y.useCallback(N=>{h(C=>C||((N==null?void 0:N.textContent)??"").trim())},[]),children:n.jsx(px.ItemSlot,{scope:t,value:a,disabled:s,textValue:f,children:n.jsx(Sr.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:kt(o.onFocus,()=>p(!0)),onBlur:kt(o.onBlur,()=>p(!1)),onClick:kt(o.onClick,()=>{w.current!=="mouse"&&j()}),onPointerUp:kt(o.onPointerUp,()=>{w.current==="mouse"&&j()}),onPointerDown:kt(o.onPointerDown,N=>{w.current=N.pointerType}),onPointerMove:kt(o.onPointerMove,N=>{var C;w.current=N.pointerType,s?(C=A.onItemLeave)==null||C.call(A):w.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:kt(o.onPointerLeave,N=>{var C;N.currentTarget===document.activeElement&&((C=A.onItemLeave)==null||C.call(A))}),onKeyDown:kt(o.onKeyDown,N=>{var E;((E=A.searchRef)==null?void 0:E.current)!==""&&N.key===" "||(e8.includes(N.key)&&j(),N.key===" "&&N.preventDefault())})})})})});wE.displayName=A0;var Oh="SelectItemText",yE=y.forwardRef((e,r)=>{const{__scopeSelect:t,className:a,style:s,...i}=e,o=yd(Oh,t),l=bd(Oh,t),A=vE(Oh,t),d=n8(Oh,t),[f,h]=y.useState(null),m=ya(r,j=>h(j),A.onItemTextChange,j=>{var N;return(N=l.itemTextRefCallback)==null?void 0:N.call(l,j,A.value,A.disabled)}),p=f==null?void 0:f.textContent,x=y.useMemo(()=>n.jsx("option",{value:A.value,disabled:A.disabled,children:p},A.value),[A.disabled,A.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=d;return ps(()=>(g(x),()=>w(x)),[g,w,x]),n.jsxs(n.Fragment,{children:[n.jsx(Sr.span,{id:A.textId,...i,ref:m}),A.isSelected&&o.valueNode&&!o.valueNodeHasChildren?zf.createPortal(i.children,o.valueNode):null]})});yE.displayName=Oh;var bE="SelectItemIndicator",jE=y.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e;return vE(bE,t).isSelected?n.jsx(Sr.span,{"aria-hidden":!0,...a,ref:r}):null});jE.displayName=bE;var _y="SelectScrollUpButton",NE=y.forwardRef((e,r)=>{const t=bd(_y,e.__scopeSelect),a=db(_y,e.__scopeSelect),[s,i]=y.useState(!1),o=ya(r,a.onScrollButtonChange);return ps(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=A.scrollTop>0;i(d)};const A=t.viewport;return l(),A.addEventListener("scroll",l),()=>A.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),s?n.jsx(CE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:A}=t;l&&A&&(l.scrollTop=l.scrollTop-A.offsetHeight)}}):null});NE.displayName=_y;var Ey="SelectScrollDownButton",BE=y.forwardRef((e,r)=>{const t=bd(Ey,e.__scopeSelect),a=db(Ey,e.__scopeSelect),[s,i]=y.useState(!1),o=ya(r,a.onScrollButtonChange);return ps(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=A.scrollHeight-A.clientHeight,f=Math.ceil(A.scrollTop)<d;i(f)};const A=t.viewport;return l(),A.addEventListener("scroll",l),()=>A.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),s?n.jsx(CE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:A}=t;l&&A&&(l.scrollTop=l.scrollTop+A.offsetHeight)}}):null});BE.displayName=Ey;var CE=y.forwardRef((e,r)=>{const{__scopeSelect:t,onAutoScroll:a,...s}=e,i=bd("SelectScrollButton",t),o=y.useRef(null),l=gx(t),A=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>A(),[A]),ps(()=>{var f;const d=l().find(h=>h.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),n.jsx(Sr.div,{"aria-hidden":!0,...s,ref:r,style:{flexShrink:0,...s.style},onPointerDown:kt(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:kt(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:kt(s.onPointerLeave,()=>{A()})})}),p8="SelectSeparator",SE=y.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e;return n.jsx(Sr.div,{"aria-hidden":!0,...a,ref:r})});SE.displayName=p8;var Fy="SelectArrow",g8=y.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e,s=xx(t),i=yd(Fy,t),o=bd(Fy,t);return i.open&&o.position==="popper"?n.jsx(J1,{...s,...a,ref:r}):null});g8.displayName=Fy;var x8="SelectBubbleInput",_E=y.forwardRef(({__scopeSelect:e,value:r,...t},a)=>{const s=y.useRef(null),i=ya(a,s),o=aE(r);return y.useEffect(()=>{const l=s.current;if(!l)return;const A=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(A,"value").set;if(o!==r&&f){const h=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(h)}},[o,r]),n.jsx(Sr.select,{...t,style:{...d4,...t.style},ref:i,defaultValue:r})});_E.displayName=x8;function EE(e){return e===""||e===void 0}function FE(e){const r=Si(e),t=y.useRef(""),a=y.useRef(0),s=y.useCallback(o=>{const l=t.current+o;r(l),(function A(d){t.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>A(""),1e3))})(l)},[r]),i=y.useCallback(()=>{t.current="",window.clearTimeout(a.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(a.current),[]),[t,s,i]}function kE(e,r,t){const s=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=t?e.indexOf(t):-1;let o=v8(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==t));const A=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return A!==t?A:void 0}function v8(e,r){return e.map((t,a)=>e[(r+a)%e.length])}var w8=nE,DE=iE,y8=lE,b8=cE,j8=AE,UE=dE,N8=mE,LE=xE,IE=wE,B8=yE,C8=jE,PE=NE,QE=BE,RE=SE;const Wr=w8,Gr=y8,Kr=y.forwardRef(({className:e,children:r,...t},a)=>n.jsxs(DE,{ref:a,className:lt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[r,n.jsx(b8,{asChild:!0,children:n.jsx(E1,{className:"h-4 w-4 opacity-50"})})]}));Kr.displayName=DE.displayName;const TE=y.forwardRef(({className:e,...r},t)=>n.jsx(PE,{ref:t,className:lt("flex cursor-default items-center justify-center py-1",e),...r,children:n.jsx(z6,{className:"h-4 w-4"})}));TE.displayName=PE.displayName;const ME=y.forwardRef(({className:e,...r},t)=>n.jsx(QE,{ref:t,className:lt("flex cursor-default items-center justify-center py-1",e),...r,children:n.jsx(E1,{className:"h-4 w-4"})}));ME.displayName=QE.displayName;const zr=y.forwardRef(({className:e,children:r,position:t="popper",...a},s)=>n.jsx(j8,{children:n.jsxs(UE,{ref:s,className:lt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...a,children:[n.jsx(TE,{}),n.jsx(N8,{className:lt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),n.jsx(ME,{})]})}));zr.displayName=UE.displayName;const OE=y.forwardRef(({className:e,...r},t)=>n.jsx(LE,{ref:t,className:lt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...r}));OE.displayName=LE.displayName;const at=y.forwardRef(({className:e,children:r,...t},a)=>n.jsxs(IE,{ref:a,className:lt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(C8,{children:n.jsx(_1,{className:"h-4 w-4"})})}),n.jsx(B8,{children:r})]}));at.displayName=IE.displayName;const S8=y.forwardRef(({className:e,...r},t)=>n.jsx(RE,{ref:t,className:lt("-mx-1 my-1 h-px bg-muted",e),...r}));S8.displayName=RE.displayName;const nf="false".toLowerCase()!=="false",_a="true".toLowerCase()==="true",fa={async getDashboard(){return(await ye.get("/admin/dashboard/")).data},async getSolicitacoes(e={},r={}){var s;const t=sf(),a=Zv(Jv(e));for(const i of t){const o=Lo(i),l=nf?[o]:[o,o+"listar/",o+"list/",o+"todas/",o+"all/"],A=[];if(A.push(a),!nf&&(a!=null&&a.ordering)){const{ordering:d,...f}=a;A.push(f)}if(!nf){const d={};a.page_size!=null&&(d.page_size=a.page_size),a.limit!=null&&(d.limit=a.limit),a.page!=null&&(d.page=a.page),a.offset!=null&&(d.offset=a.offset),Object.keys(d).length&&A.push(d)}Object.keys(a).length&&A.push({});for(const d of l)for(const f of A)try{_a&&console.debug("[adminService.getSolicitacoes] GET",d,f);const m=(await ye.get(d,{params:f,signal:r==null?void 0:r.signal})).data,p=Array.isArray(m==null?void 0:m.results)?m.results:Array.isArray(m)?m:[];return _a&&console.debug("[adminService.getSolicitacoes] OK",d,`items=${p.length}`),p.map(HE)}catch(h){const m=(s=h==null?void 0:h.response)==null?void 0:s.status;if(_a&&console.warn("[adminService.getSolicitacoes] Falhou",d,"status=",m,"params=",f),m===401||m===403)throw h;continue}}return[]},async getSolicitacao(e){var a;const r=sf();let t;for(const s of r){const i=Lo(s)+`${e}/`;try{const o=await ye.get(i);return E8(o.data||{})}catch(o){const l=(a=o==null?void 0:o.response)==null?void 0:a.status;if(_a&&console.warn("[adminService.getSolicitacao] Falhou",i,"status=",l),l===401||l===403)throw o;t=o;continue}}throw t||new Error("Nenhum endpoint para detalhe de solicitao foi encontrado.")},async aprovarSolicitacao(e,r=""){var a,s,i,o;const t=sf();for(const l of t){const A=Lo(l),d=[{method:"post",url:`${A}${e}/aprovar/`,body:{observacoes:r}},{method:"post",url:`${A}${e}/approve/`,body:{notes:r}},{method:"post",url:`${A}${e}/aprovacao/`,body:{observacoes:r}},{method:"post",url:`${A}${e}/status/`,body:{status:"approved",observacoes:r}},{method:"patch",url:`${A}${e}/`,body:{status:"approved",observacoes:r}},{method:"put",url:`${A}${e}/`,body:{status:"approved",observacoes:r}}];for(const f of d)try{_a&&console.debug("[adminService.aprovarSolicitacao]",f.method.toUpperCase(),f.url,f.body);const h=await ye[f.method](f.url,f.body);(async()=>{var p;try{await fa.registrarAuditoria({action:"approve",entity:"SolicitacaoMedico",entity_id:e,status:"success",metadata:{observacoes:r}})}catch(x){_a&&console.warn("[adminService.aprovarSolicitacao] auditoria falhou:",(p=x==null?void 0:x.response)==null?void 0:p.status)}})();const m=h.data;try{let p=((a=m==null?void 0:m.medico)==null?void 0:a.id)||(m==null?void 0:m.medico_id)||(m==null?void 0:m.medico)||null;if(!p)try{const x=await fa.getSolicitacao(e).catch(()=>null);p=((s=x==null?void 0:x.medico)==null?void 0:s.id)||(x==null?void 0:x.medico_id)||(x==null?void 0:x.medico)||null}catch{}if(p){const x="/api/medicos/",g=x.endsWith("/")?x:`${x}/`,w={status:"active",situacao:"active",state:"active"},j=[{m:"patch",u:`${g}${p}/`,b:w},{m:"put",u:`${g}${p}/`,b:w}];for(const C of j)try{await ye[C.m](C.u,C.b);break}catch{}const N=[`${g}${p}/perfil/`,"/perfil-medico/","/perfil/medico/"];for(const C of N){const E=C.endsWith("/")?C:`${C}/`;try{await ye.patch(E,w);break}catch{}}}}catch(p){_a&&console.warn("[adminService.aprovarSolicitacao] ps-ao falhou",(i=p==null?void 0:p.response)==null?void 0:i.status)}return(async()=>{var p;try{await fa.registrarAuditoria({action:"approve",entity:"SolicitacaoMedico",entity_id:e,status:"success",metadata:{observacoes:r}})}catch(x){_a&&console.warn("[adminService.aprovarSolicitacao] auditoria falhou:",(p=x==null?void 0:x.response)==null?void 0:p.status)}})(),m}catch(h){const m=(o=h==null?void 0:h.response)==null?void 0:o.status;if(_a&&console.warn("[adminService.aprovarSolicitacao] Falhou",f.url,"status=",m),m===401||m===403)throw h;continue}}},async rejeitarSolicitacao(e,r){var a,s,i,o;const t=sf();for(const l of t){const A=Lo(l),d=[{method:"post",url:`${A}${e}/rejeitar/`,body:{motivo:r}},{method:"post",url:`${A}${e}/reject/`,body:{reason:r}},{method:"post",url:`${A}${e}/status/`,body:{status:"rejected",motivo:r}},{method:"patch",url:`${A}${e}/`,body:{status:"rejected",motivo:r}},{method:"put",url:`${A}${e}/`,body:{status:"rejected",motivo:r}}];for(const f of d)try{_a&&console.debug("[adminService.rejeitarSolicitacao]",f.method.toUpperCase(),f.url,f.body);const h=await ye[f.method](f.url,f.body);(async()=>{var p;try{await fa.registrarAuditoria({action:"reject",entity:"SolicitacaoMedico",entity_id:e,status:"success",metadata:{motivo:r}})}catch(x){_a&&console.warn("[adminService.rejeitarSolicitacao] auditoria falhou:",(p=x==null?void 0:x.response)==null?void 0:p.status)}})();const m=h.data;try{let p=((a=m==null?void 0:m.medico)==null?void 0:a.id)||(m==null?void 0:m.medico_id)||(m==null?void 0:m.medico)||null;if(!p)try{const x=await fa.getSolicitacao(e).catch(()=>null);p=((s=x==null?void 0:x.medico)==null?void 0:s.id)||(x==null?void 0:x.medico_id)||(x==null?void 0:x.medico)||null}catch{}if(p){const x="/api/medicos/",g=x.endsWith("/")?x:`${x}/`,w={status:"rejected",situacao:"rejected",state:"rejected"},j=[{m:"patch",u:`${g}${p}/`,b:w},{m:"put",u:`${g}${p}/`,b:w}];for(const C of j)try{await ye[C.m](C.u,C.b);break}catch{}const N=[`${g}${p}/perfil/`,"/perfil-medico/","/perfil/medico/"];for(const C of N){const E=C.endsWith("/")?C:`${C}/`;try{await ye.patch(E,w);break}catch{}}}}catch(p){_a&&console.warn("[adminService.rejeitarSolicitacao] ps-ao falhou",(i=p==null?void 0:p.response)==null?void 0:i.status)}return(async()=>{var p;try{await fa.registrarAuditoria({action:"reject",entity:"SolicitacaoMedico",entity_id:e,status:"success",metadata:{motivo:r}})}catch(x){_a&&console.warn("[adminService.rejeitarSolicitacao] auditoria falhou:",(p=x==null?void 0:x.response)==null?void 0:p.status)}})(),m}catch(h){const m=(o=h==null?void 0:h.response)==null?void 0:o.status;if(_a&&console.warn("[adminService.rejeitarSolicitacao] Falhou",f.url,"status=",m),m===401||m===403)throw h;continue}}},async visualizarDocumento(e){var r;try{if(e.startsWith("http")){window.open(e,"_blank");return}const t=sf();let a;for(const s of t){const i=[`${Lo(s)}documentos/visualizar/${e}`,`${Lo(s)}documentos/${e}`,`/media/documentos/${e}`,`/static/documentos/${e}`,e];for(const o of i)try{if(_a&&console.debug("[adminService.visualizarDocumento] Tentando",o),(await ye.head(o)).status===200){window.open(o,"_blank");return}}catch(l){_a&&console.warn("[adminService.visualizarDocumento] Falhou",o,(r=l==null?void 0:l.response)==null?void 0:r.status),a=l;continue}}throw a||new Error("Documento no encontrado")}catch(t){throw console.error("Erro ao visualizar documento:",t),new Error("No foi possvel visualizar o documento")}},async baixarDocumento(e,r="documento"){var t;try{if(e.startsWith("http")){const i=document.createElement("a");i.href=e,i.download=r,document.body.appendChild(i),i.click(),document.body.removeChild(i);return}const a=sf();let s;for(const i of a){const o=[`${Lo(i)}documentos/download/${e}`,`${Lo(i)}documentos/${e}`,`/media/documentos/${e}`,`/static/documentos/${e}`,e];for(const l of o)try{_a&&console.debug("[adminService.baixarDocumento] Tentando",l);const A=await ye.get(l,{responseType:"blob"});if(A.status===200){const d=new Blob([A.data]),f=window.URL.createObjectURL(d),h=document.createElement("a");h.href=f,h.download=r,document.body.appendChild(h),h.click(),document.body.removeChild(h),window.URL.revokeObjectURL(f);return}}catch(A){_a&&console.warn("[adminService.baixarDocumento] Falhou",l,(t=A==null?void 0:A.response)==null?void 0:t.status),s=A;continue}}throw s||new Error("Documento no encontrado")}catch(a){throw console.error("Erro ao baixar documento:",a),new Error("No foi possvel baixar o documento")}},async getAuditoria(e={}){return(await ye.get("/admin/auditoria/",{params:e})).data},async registrarAuditoria(e={}){var f;const r=await sa.getCurrentUser(),t=e.action||e.acao||e.type,a=e.entity||e.entidade||"",s=e.entity_id||e.id||e.solicitacao_id||e.target_id||"",i=e.status||"success",o=typeof e.metadata=="object"&&e.metadata!==null?e.metadata:{},l=typeof e.detalhes=="object"&&e.detalhes!==null?e.detalhes:{},A={...o,...l,actor:(r==null?void 0:r.id)||(r==null?void 0:r.username)||"system",source:"frontend"},d={action:t,entity:a,entity_id:s,status:i,metadata:A};try{await ye.post("/admin/auditoria/",d)}catch(h){_a&&console.warn("[adminService.registrarAuditoria] falhou:",(f=h==null?void 0:h.response)==null?void 0:f.status)}},async getUsuarios(e={}){var a;const r=Zv(Jv(e)),t=ew();for(const s of t){const i=Lo(s);try{const l=(await ye.get(i,{params:r})).data,d=(Array.isArray(l==null?void 0:l.results)?l.results:Array.isArray(l)?l:[]).map(h=>({...h,id:(h==null?void 0:h.id)??(h==null?void 0:h.pk)??(h==null?void 0:h.uuid)??(h==null?void 0:h.user_id)??(h==null?void 0:h.usuario_id)??null})),f=typeof(l==null?void 0:l.count)=="number"?l.count:d.length;return{results:d,count:f}}catch(o){const l=(a=o==null?void 0:o.response)==null?void 0:a.status;if(_a&&console.warn("[adminService.getUsuarios] Falhou",i,"status=",l),l===401)throw o;continue}}return{results:[],count:0}},async getClinicas(e={}){var a;const r=_8(),t=Zv(Jv(e));for(const s of r){const i=Lo(s),o=nf?[i]:[i,i+"listar/",i+"list/",i+"todas/",i+"all/"],l=[];if(l.push(t),!nf&&(t!=null&&t.ordering)){const{ordering:A,...d}=t;l.push(d)}if(!nf){const A={};t.page_size!=null&&(A.page_size=t.page_size),t.limit!=null&&(A.limit=t.limit),t.page!=null&&(A.page=t.page),t.offset!=null&&(A.offset=t.offset),Object.keys(A).length&&l.push(A)}Object.keys(t).length&&l.push({});for(const A of o)for(const d of l)try{_a&&console.debug("[adminService.getClinicas] GET",A,d);const h=(await ye.get(A,{params:d})).data,m=Array.isArray(h==null?void 0:h.results)?h.results:Array.isArray(h)?h:[],p=typeof(h==null?void 0:h.count)=="number"?h.count:m.length;return _a&&console.debug("[adminService.getClinicas] OK",A,`items=${m.length}`),{results:m,count:p}}catch(f){const h=(a=f==null?void 0:f.response)==null?void 0:a.status;if(_a&&console.warn("[adminService.getClinicas] Falhou",A,"status=",h,"params=",d),h===401)throw f;continue}}return{results:[],count:0}},async updateUsuario(e,r={}){var o,l,A,d;const t=e||(r==null?void 0:r.id);if(!t)throw new Error("ID do usurio  obrigatrio para atualizao");const a={...r};a.role&&a.tipo==null&&(a.tipo=a.role),a.is_active!=null&&a.ativo==null&&(a.ativo=!!a.is_active),(a.first_name||a.last_name)&&a.nome==null&&(a.nome=[a.first_name||"",a.last_name||""].filter(Boolean).join(" ").trim()||void 0);const s=ew();let i=null;for(const f of s){const h=Lo(f);try{return(await ye.patch(`${h}${t}/`,a)).data}catch(m){const p=(o=m==null?void 0:m.response)==null?void 0:o.status;if(_a&&console.warn("[adminService.updateUsuario] PATCH falhou",`${h}${t}/`,"status=",p),p===401)throw m;i=m}try{return(await ye.put(`${h}${t}/`,a)).data}catch(m){const p=(l=m==null?void 0:m.response)==null?void 0:l.status;if(_a&&console.warn("[adminService.updateUsuario] PUT falhou",`${h}${t}/`,"status=",p),p===401)throw m;i=m}try{return(await ye.patch(h,{id:t,...a})).data}catch(m){const p=(A=m==null?void 0:m.response)==null?void 0:A.status;if(_a&&console.warn("[adminService.updateUsuario] PATCH base falhou",h,"status=",p),p===401)throw m;i=m}for(const m of["update/","editar/","edicao/"]){const p=h+m;try{return(await ye.post(p,{id:t,...a})).data}catch(x){const g=(d=x==null?void 0:x.response)==null?void 0:d.status;if(_a&&console.warn("[adminService.updateUsuario] POST falhou",p,"status=",g),g===401)throw x;i=x}}}throw i||new Error("Falha ao atualizar usurio: nenhum endpoint aceitou a requisio.")},async removerUsuariosEmMassa(e=[]){var i,o,l,A;const r=(Array.isArray(e)?e:[e]).filter(Boolean);if(r.length===0)return{success:!0,deleted:[],detail:"no-op"};const t=ew();let a=null;const s=[{suffix:"remover/",method:"post",bodyKey:"ids"},{suffix:"delete/",method:"post",bodyKey:"ids"},{suffix:"bulk_delete/",method:"post",bodyKey:"ids"},{suffix:"bulk-delete/",method:"post",bodyKey:"ids"},{suffix:"excluir/",method:"post",bodyKey:"ids"}];for(const d of t){const f=Lo(d);for(const m of s){const p=f+m.suffix;try{return(await ye.post(p,{[m.bodyKey]:r})).data}catch(x){const g=(i=x==null?void 0:x.response)==null?void 0:i.status;if(_a&&console.warn("[adminService.removerUsuariosEmMassa] POST falhou",p,"status=",g),g===401)throw x;a=x}}try{const m=f;return(await ye.delete(m,{data:{ids:r}})).data}catch(m){const p=(o=m==null?void 0:m.response)==null?void 0:o.status;if(_a&&console.warn("[adminService.removerUsuariosEmMassa] DELETE bulk falhou",f,"status=",p),p===401)throw m;a=m}try{const m=encodeURIComponent(r.join(",")),p=`${f}?ids=${m}`;return(await ye.delete(p)).data}catch(m){const p=(l=m==null?void 0:m.response)==null?void 0:l.status;if(_a&&console.warn("[adminService.removerUsuariosEmMassa] DELETE bulk (query) falhou",f,"status=",p),p===401)throw m;a=m}let h=!1;for(const m of r){const p=[`${f}${m}/`,`${f}delete/${m}/`,`${f}remover/${m}/`];let x=!1;for(const g of p)try{await ye.delete(g),x=!0;break}catch(w){const j=(A=w==null?void 0:w.response)==null?void 0:A.status;if(_a&&console.warn("[adminService.removerUsuariosEmMassa] DELETE por id falhou",g,"status=",j),j===401)throw w;a=w}if(x)h=!0;else try{await ye.patch(`${f}${m}/`,{action:"delete"}),h=!0}catch{}}if(h)return{success:!0}}throw a||new Error("Falha ao excluir usurios: nenhum endpoint aceitou a requisio.")},async createUsuario(e={}){return(await ye.post("/admin/usuarios/",e)).data}};function Lo(e){if(!e)return"/";const r=String(e);return r.endsWith("/")?r:r+"/"}function Jv(e={}){const r={...e};return r.limit!=null&&r.page_size==null&&(r.page_size=r.limit),r.page_size!=null&&r.limit==null&&(r.limit=r.page_size),Object.keys(r).forEach(t=>{(r[t]===void 0||r[t]===null||r[t]==="")&&delete r[t]}),r}function Zv(e={}){const r=new Set(["status","ordering","search","limit","page","page_size","offset","clinica","especialidade","tipo","urgencia"]),t={};for(const[a,s]of Object.entries(e||{}))r.has(a)&&(t[a]=s);return t}function sf(){const e="/api/solicitacaomedico/".trim(),r="/api/solicitacaomedico/".trim(),t="/api/solicitacoes/".trim(),a=Array.from(new Set([e,r,t].filter(Boolean))),s=["/solicitacaomedico/","/solicitacao-medico/","/solicitacaomedicomodel/","/solicitacao-medico-model/","/admin/solicitacoes/"],i=["/medicos/solicitacoes/","/solicitacoes/medicos/","/solicitacoes/solicitacaomedico/","/solicitacoes/solicitacao-medico/","/solicitacoes/solicitacaomedicomodel/","/solicitacoes/solicitacao-medico-model/","/meu_app/solicitacaomedico/","/meu_app/solicitacao-medico/"];return Array.from(new Set([...s,...a,...i].filter(Boolean)))}function ew(){const e="".trim(),r="".trim(),t="/api/users/".trim(),a=Array.from(new Set([e,r,t].filter(Boolean))),s=["/admin/usuarios/","/usuarios/","/admin/users/","/users/","/api/users/"];return Array.from(new Set([...a,...s].filter(Boolean)))}function _8(){const e="".trim(),r="".trim(),t=Array.from(new Set([e,r].filter(Boolean))),a=["/admin/clinicas/","/clinicas/","/admin/clinica/","/clinica/"];return Array.from(new Set([...t,...a].filter(Boolean)))}function HE(e={}){var r,t,a,s,i,o,l,A,d,f,h,m,p,x,g,w,j,N,C,E,Q,U,F;return{id:e.id||e.pk||e.uuid||e.codigo||e.codigo_id||0,tipo:String(e.tipo||e.type||e.kind||"medico").toLowerCase(),nome:e.nome||e.name||((r=e.usuario)==null?void 0:r.nome)||((t=e.user)==null?void 0:t.name)||((a=e.medico)==null?void 0:a.nome)||((s=e.clinica)==null?void 0:s.nome)||"",email:e.email||((i=e.usuario)==null?void 0:i.email)||((o=e.user)==null?void 0:o.email)||((A=(l=e.medico)==null?void 0:l.user)==null?void 0:A.email)||((d=e.clinica)==null?void 0:d.email)||"",telefone:e.telefone||e.phone||e.celular||((f=e.usuario)==null?void 0:f.telefone)||((h=e.user)==null?void 0:h.telefone)||((m=e.medico)==null?void 0:m.telefone)||((x=(p=e.medico)==null?void 0:p.contato)==null?void 0:x.telefone)||((w=(g=e.medico)==null?void 0:g.user)==null?void 0:w.telefone)||((j=e.clinica)==null?void 0:j.telefone)||"",crm:e.crm||((N=e.medico)==null?void 0:N.crm)||e.crm_numero||"",cnpj:e.cnpj||((C=e.clinica)==null?void 0:C.cnpj)||"",responsavel:e.responsavel||e.responsavel_tecnico||((E=e.clinica)==null?void 0:E.responsavel)||"",status:(()=>{const L=(e.status||e.situacao||e.state||"pending").toString().toLowerCase();return{pendente:"pending","em anlise":"pending","em analise":"pending",em_analise:"pending",aprovado:"approved",aprovada:"approved",rejeitado:"rejected",rejeitada:"rejected",reprovado:"rejected",reprovada:"rejected"}[L]||L})(),dataEnvio:e.dataEnvio||e.created_at||e.createdAt||e.data_criacao||e.submitted_at||new Date().toISOString(),dataAprovacao:e.dataAprovacao||e.aprovado_em||e.data_aprovacao||e.approved_at||null,dataRejeicao:e.dataRejeicao||e.rejeitado_em||e.data_rejeicao||e.rejected_at||null,documentos:Array.isArray(e.documentos)?e.documentos:e.documents||[],urgencia:String(e.urgencia||e.priority||"normal").toLowerCase(),observacoes:e.observacoes||e.notes||e.comentarios||"",aprovadoPor:e.aprovadoPor||e.approved_by||"",rejeitadoPor:e.rejeitadoPor||e.rejected_by||"",motivoRejeicao:e.motivoRejeicao||e.motivo||e.reason||"",especialidade:e.especialidade||e.especialidade_nome||((U=(Q=e.medico)==null?void 0:Q.especialidade)==null?void 0:U.nome)||((F=e.medico)==null?void 0:F.especialidade)||""}}function E8(e={}){var N,C,E,Q,U,F,L,_,q,R,H,J,T,re,z,G,V,ee,ce,k,D;const r=HE(e),t=e.dataAprovacao||e.aprovado_em||e.data_aprovacao||e.approved_at||e.dataAprovado||null,a=e.dataRejeicao||e.rejeitado_em||e.data_rejeicao||e.rejected_at||e.dataRejeitado||null,s=[],i=K=>{K&&(Array.isArray(K)?s.push(...K.filter(Boolean)):typeof K=="object"?s.push(...Object.values(K).filter(Boolean)):typeof K=="string"&&s.push(K))};i(e.documentos),i(e.docs),i(e.arquivos),i(e.attachments),i(e.files);const o=[e.diplomaMedicina,e.certificadoResidencia,e.comprovanteExperiencia,e.documento_identidade,e.comprovante_endereco,e.diploma_medicina,e.certificado_residencia,e.comprovante_experiencia,e.rg,e.cpf].filter(Boolean);s.push(...o);const l=K=>{if(!K)return null;if(typeof K=="string")return{nome:(K.split("/").pop()||"Documento").trim(),tamanho:"",dataUpload:e.dataEnvio||e.created_at||e.createdAt||e.submitted_at||new Date().toISOString(),url:K};const te=K.nome||K.name||K.filename||K.file_name||K.titulo||K.tipo||"Documento",Y=K.tamanho||K.size||K.file_size||"",X=K.dataUpload||K.data_upload||K.uploaded_at||K.created_at||r.dataEnvio||new Date().toISOString(),O=K.url||K.link||K.path||K.file||K.arquivo||K.location||"";return{nome:te,tamanho:Y,dataUpload:X,url:O}},A=s.map(l).filter(Boolean),d=e.endereco||((N=e.medico)==null?void 0:N.endereco)||((C=e.clinica)==null?void 0:C.endereco)||{},f=typeof d=="string"?{cep:e.cep||"",logradouro:d,bairro:"",cidade:"",estado:""}:{cep:d.cep||e.cep||"",logradouro:d.logradouro||d.rua||d.endereco||"",bairro:d.bairro||"",cidade:d.cidade||d.municipio||"",estado:d.estado||d.uf||""},h=e.instituicaoFormacao||e.instituicao_formacao||((E=e.formacao)==null?void 0:E.instituicao)||((U=(Q=e.medico)==null?void 0:Q.formacao)==null?void 0:U.instituicao)||"",m=e.anoFormacao||e.ano_formacao||((F=e.formacao)==null?void 0:F.ano)||((_=(L=e.medico)==null?void 0:L.formacao)==null?void 0:_.ano)||"",p=e.residencia||((R=(q=e.formacao)==null?void 0:q.residencia)==null?void 0:R.nome)||((J=(H=e.medico)==null?void 0:H.residencia)==null?void 0:J.nome)||"",x=e.instituicaoResidencia||e.instituicao_residencia||((re=(T=e.formacao)==null?void 0:T.residencia)==null?void 0:re.instituicao)||((G=(z=e.medico)==null?void 0:z.residencia)==null?void 0:G.instituicao)||"",g=e.anoResidencia||e.ano_residencia||((ee=(V=e.formacao)==null?void 0:V.residencia)==null?void 0:ee.ano)||((k=(ce=e.medico)==null?void 0:ce.residencia)==null?void 0:k.ano)||"",w=e.experiencia||e.experiencias||((D=e.medico)==null?void 0:D.experiencia)||"",j=e.motivacao||e.motivo||e.justificativa||e.reason||"";return{...r,dataAprovacao:t,dataRejeicao:a,documentos:A.length?A:r.documentos,endereco:f,instituicaoFormacao:h,anoFormacao:m,residencia:p,instituicaoResidencia:x,anoResidencia:g,experiencia:w,motivacao:j}}function $E(e,r=300){const[t,a]=y.useState(e);return y.useEffect(()=>{const s=setTimeout(()=>{a(e)},r);return()=>{clearTimeout(s)}},[e,r]),t}function F8(){const[e,r]=y.useState(""),[t,a]=y.useState("all"),[s,i]=y.useState("all"),[o,l]=y.useState("all"),[A,d]=y.useState(!1),[f,h]=y.useState([]),m=y.useRef(null),{toast:p}=Ga(),x=$E(e,500),g=y.useMemo(()=>({search:pd(x.trim()),status:t,tipo:s,urgencia:o}),[x,t,s,o]),w=y.useCallback(async(F,L)=>{try{const _=await fa.getSolicitacoes(F,{signal:L});return Array.isArray(_==null?void 0:_.results)?_.results:Array.isArray(_)?_:[]}catch(_){throw(_==null?void 0:_.name)!=="AbortError"&&console.error("Erro ao buscar solicitaes:",_),_}},[]);y.useEffect(()=>{d(!0);const F=setTimeout(async()=>{if(m.current)try{m.current.abort()}catch{}const L=new AbortController;m.current=L;try{const _={};g.status!=="all"&&(_.status=g.status),g.tipo!=="all"&&(_.tipo=g.tipo),g.urgencia!=="all"&&(_.urgencia=g.urgencia),g.search&&(_.search=g.search);const q=await w(_,L.signal);h(q)}catch(_){(_==null?void 0:_.name)!=="AbortError"&&h([])}finally{d(!1)}},200);return()=>clearTimeout(F)},[g,w]);const j=y.useCallback(async F=>{var L;d(!0);try{const _=await fa.aprovarSolicitacao(F);h(q=>q.map(R=>R.id===F?{...R,status:"approved",aprovadoPor:(_==null?void 0:_.approved_by)||R.aprovadoPor||"",dataAprovacao:(_==null?void 0:_.approved_at)||R.dataAprovacao||new Date().toISOString(),rejeitadoPor:"",dataRejeicao:null,motivoRejeicao:""}:R)),p({title:"Solicitao aprovada",description:"A solicitao foi aprovada com sucesso."})}catch(_){const q=(L=_==null?void 0:_.response)==null?void 0:L.status;p({title:q===403?"Sem permisso":"Erro ao aprovar",description:q===403?"Seu perfil no possui permisso para aprovar.":"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{d(!1)}},[p]),N=y.useCallback(async F=>{var L;d(!0);try{const _=await fa.rejeitarSolicitacao(F,"Rejeitada pela Secretaria");h(q=>q.map(R=>R.id===F?{...R,status:"rejected",rejeitadoPor:(_==null?void 0:_.rejected_by)||R.rejeitadoPor||"",dataRejeicao:(_==null?void 0:_.rejected_at)||R.dataRejeicao||new Date().toISOString(),motivoRejeicao:(_==null?void 0:_.reason)||R.motivoRejeicao||"Rejeitada pela Secretaria"}:R)),p({title:"Solicitao rejeitada",description:"A solicitao foi rejeitada."})}catch(_){const q=(L=_==null?void 0:_.response)==null?void 0:L.status;p({title:q===403?"Sem permisso":"Erro ao rejeitar",description:q===403?"Seu perfil no possui permisso para rejeitar.":"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{d(!1)}},[p]),C=({status:F})=>{const L=String(F||"pending").toLowerCase();return L==="approved"?n.jsx(lr,{variant:"success",children:"Aprovada"}):L==="rejected"?n.jsx(lr,{variant:"destructive",children:"Rejeitada"}):n.jsx(lr,{variant:"warning",children:"Pendente"})},E=({solicitacao:F})=>n.jsxs("div",{className:"p-4 rounded-xl border bg-white shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[F.tipo==="medico"?n.jsx(qr,{className:"h-5 w-5 text-medical-primary"}):n.jsx(cc,{className:"h-5 w-5 text-medical-primary"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-medical-primary",children:F.nome||""}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Enviada em ",new Date(F.dataEnvio).toLocaleDateString()]})]})]}),n.jsx(C,{status:F.status})]}),n.jsxs("div",{className:"mt-3 text-sm text-muted-foreground flex items-center gap-2",children:[n.jsx(pr,{className:"h-4 w-4"}),F.especialidade?n.jsxs("span",{children:["Especialidade: ",F.especialidade]}):n.jsxs("span",{children:["Tipo: ",F.tipo]})]}),F.status==="rejected"&&F.motivoRejeicao&&n.jsx("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 border border-red-200 p-3 rounded-lg mt-3",children:n.jsxs("p",{className:"text-red-800 text-xs font-medium",children:[n.jsx("strong",{children:"Rejeitado:"})," ",F.motivoRejeicao,F.rejeitadoPor&&n.jsxs(n.Fragment,{children:[" por ",F.rejeitadoPor]})]})}),n.jsxs("div",{className:"flex gap-3 pt-3",children:[n.jsx(we,{variant:"outline",size:"sm",asChild:!0,className:"bg-white hover:bg-blue-50 border-blue-200 text-blue-600 hover:text-blue-700 hover:border-blue-300 transition-all duration-200",children:n.jsxs(fr,{to:`/secretaria/solicitacoes/${F.id}`,children:[n.jsx(Ci,{className:"mr-2 h-4 w-4"})," Ver detalhes"]})}),F.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs(we,{size:"sm",onClick:()=>j(F.id),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-md hover:shadow-lg transition-all duration-200",disabled:A,children:[n.jsx(us,{className:"mr-2 h-4 w-4"}),"Aprovar"]}),n.jsxs(we,{variant:"destructive",size:"sm",onClick:()=>N(F.id),className:"bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 shadow-md hover:shadow-lg transition-all duration-200",disabled:A,children:[n.jsx(fs,{className:"mr-2 h-4 w-4"}),"Rejeitar"]})]})]})]}),Q=y.useMemo(()=>f.filter(F=>{var H,J;const L=t==="all"||F.status===t,_=s==="all"||F.tipo===s,q=o==="all"||String(F.urgencia||"normal").toLowerCase()===o,R=!g.search||((H=F.nome)==null?void 0:H.toLowerCase().includes(g.search.toLowerCase()))||((J=F.email)==null?void 0:J.toLowerCase().includes(g.search.toLowerCase()));return L&&_&&q&&R}),[f,t,s,o,g.search]),U=y.useMemo(()=>({pending:Q.filter(F=>F.status==="pending"),approved:Q.filter(F=>F.status==="approved"),rejected:Q.filter(F=>F.status==="rejected")}),[Q]);return n.jsxs("div",{className:"px-6 py-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx(eA,{className:"h-6 w-6 text-medical-primary"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Solicitaes"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie solicitaes recebidas (mdicos e clnicas)"})]})]}),n.jsxs(ke,{className:"border-0 shadow-md",children:[n.jsxs(ze,{children:[n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(ou,{className:"h-5 w-5"})," Filtros"]}),n.jsx(mr,{children:"Refine a busca por status, tipo e urgncia"})]}),n.jsx(Le,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(He,{placeholder:"Buscar por nome ou email",value:e,onChange:F=>r(F.target.value),className:"pl-9"})]}),n.jsxs(Wr,{value:t,onValueChange:a,children:[n.jsx(Kr,{children:n.jsx(Gr,{placeholder:"Status"})}),n.jsxs(zr,{children:[n.jsx(at,{value:"all",children:"Todos"}),n.jsx(at,{value:"pending",children:"Pendentes"}),n.jsx(at,{value:"approved",children:"Aprovadas"}),n.jsx(at,{value:"rejected",children:"Rejeitadas"})]})]}),n.jsxs(Wr,{value:s,onValueChange:i,children:[n.jsx(Kr,{children:n.jsx(Gr,{placeholder:"Tipo"})}),n.jsxs(zr,{children:[n.jsx(at,{value:"all",children:"Todos"}),n.jsx(at,{value:"medico",children:"Mdico"}),n.jsx(at,{value:"clinica",children:"Clnica"})]})]}),n.jsxs(Wr,{value:o,onValueChange:l,children:[n.jsx(Kr,{children:n.jsx(Gr,{placeholder:"Urgncia"})}),n.jsxs(zr,{children:[n.jsx(at,{value:"all",children:"Todas"}),n.jsx(at,{value:"normal",children:"Normal"}),n.jsx(at,{value:"alta",children:"Alta"}),n.jsx(at,{value:"critica",children:"Crtica"})]})]})]})})]}),n.jsx("div",{className:"mt-6",children:n.jsxs(Vi,{defaultValue:"todas",className:"space-y-6",children:[n.jsxs(qi,{children:[n.jsx(Pr,{value:"todas",children:"Todas"}),n.jsx(Pr,{value:"pendentes",children:"Pendentes"}),n.jsx(Pr,{value:"aprovadas",children:"Aprovadas"}),n.jsx(Pr,{value:"rejeitadas",children:"Rejeitadas"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx($r,{value:"todas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):Q.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-gray-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(js,{className:"h-8 w-8 text-gray-400"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao encontrada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:Q.map(F=>n.jsx(E,{solicitacao:F},F.id))})}),n.jsx($r,{value:"pendentes",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):U.pending.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-amber-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(Tr,{className:"h-8 w-8 text-amber-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao pendente."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:U.pending.map(F=>n.jsx(E,{solicitacao:F},F.id))})}),n.jsx($r,{value:"aprovadas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):U.approved.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-green-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(us,{className:"h-8 w-8 text-green-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao aprovada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:U.approved.map(F=>n.jsx(E,{solicitacao:F},F.id))})}),n.jsx($r,{value:"rejeitadas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):U.rejected.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(fs,{className:"h-8 w-8 text-red-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao rejeitada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:U.rejected.map(F=>n.jsx(E,{solicitacao:F},F.id))})})]})]})})]})}const ua=y.forwardRef(({className:e,...r},t)=>n.jsx("textarea",{className:lt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...r}));ua.displayName="Textarea";function k8(){const{id:e}=$o(),r=ss(),{toast:t}=Ga(),[a,s]=y.useState(!1),[i,o]=y.useState(""),[l,A]=y.useState(!0),[d,f]=y.useState(null);y.useEffect(()=>{let g=!0;return(async()=>{try{const j=await fa.getSolicitacao(e);g&&f(j)}catch{t({title:"Erro ao carregar",description:"No foi possvel carregar a solicitao.",variant:"destructive"}),r("/secretaria/solicitacoes")}finally{g&&A(!1)}})(),()=>{g=!1}},[e]);const h=async()=>{var g;s(!0);try{await fa.aprovarSolicitacao(e,"Aprovada pela Secretaria"),t({title:"Solicitao aprovada!",description:"Solicitao aprovada com sucesso."}),r("/secretaria/solicitacoes")}catch(w){const j=(g=w==null?void 0:w.response)==null?void 0:g.status;t({title:j===403?"Sem permisso":"Erro",description:j===403?"Seu perfil no possui permisso para aprovar.":"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{s(!1)}},m=async()=>{var g;if(!i.trim()){t({title:"Motivo obrigatrio",description:"Por favor, informe o motivo da rejeio.",variant:"destructive"});return}s(!0);try{await fa.rejeitarSolicitacao(e,i.trim()),t({title:"Solicitao rejeitada",description:"A solicitao foi rejeitada."}),r("/secretaria/solicitacoes")}catch(w){const j=(g=w==null?void 0:w.response)==null?void 0:g.status;t({title:j===403?"Sem permisso":"Erro",description:j===403?"Seu perfil no possui permisso para rejeitar.":"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{s(!1)}},p=g=>{switch(g){case"pending":return n.jsxs(lr,{variant:"warning",className:"",children:[n.jsx(eA,{className:"mr-1 h-3 w-3"})," Aguardando Anlise"]});case"approved":return n.jsxs(lr,{variant:"success",className:"",children:[n.jsx(us,{className:"mr-1 h-3 w-3"})," Aprovado"]});case"rejected":return n.jsxs(lr,{variant:"destructive",className:"",children:[n.jsx(fs,{className:"mr-1 h-3 w-3"})," Rejeitado"]});default:return null}};if(l)return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(we,{variant:"ghost",onClick:()=>r("/secretaria/solicitacoes"),children:[n.jsx(sc,{className:"mr-2 h-4 w-4"})," Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Carregando..."}),n.jsx("p",{className:"text-muted-foreground",children:"Buscando detalhes da solicitao"})]})]})});if(!d)return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(we,{variant:"ghost",onClick:()=>r("/secretaria/solicitacoes"),children:[n.jsx(sc,{className:"mr-2 h-4 w-4"})," Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Solicitao no encontrada"}),n.jsx("p",{className:"text-muted-foreground",children:"Tente novamente mais tarde."})]})]})});const x=(d==null?void 0:d.endereco)||{};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(we,{variant:"ghost",onClick:()=>r("/secretaria/solicitacoes"),children:[n.jsx(sc,{className:"mr-2 h-4 w-4"})," Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Detalhes da Solicitao"}),n.jsx("p",{className:"text-muted-foreground",children:"Anlise da solicitao recebida"})]})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsx("div",{className:"lg:col-span-2 space-y-6",children:n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`app-quick-icon ${d.tipo==="medico"?"info":"primary"} h-12 w-12`,children:d.tipo==="medico"?n.jsx(qr,{className:"h-6 w-6"}):n.jsx(cc,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(Ye,{className:"text-xl",children:d.nome}),n.jsx(mr,{children:d.tipo==="medico"?"Solicitao de Cadastro Mdico":"Solicitao de Cadastro de Clnica"})]})]}),p(d.status)]})}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:d.email||""})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rA,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:d.telefone||d.celular||""})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Especialidade / Tipo"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:d.especialidade||d.tipo})]})]})]}),n.jsx(hs,{}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Endereo"}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsxs("div",{children:[x==null?void 0:x.logradouro," ",x==null?void 0:x.numero]}),n.jsx("div",{children:x==null?void 0:x.bairro}),n.jsxs("div",{children:[x==null?void 0:x.cidade," - ",x==null?void 0:x.estado]}),n.jsx("div",{children:x==null?void 0:x.cep})]})]})})]})]})}),n.jsx("div",{className:"space-y-6",children:n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsx(Ye,{children:"Aes"}),n.jsx(mr,{children:"Tomar deciso sobre a solicitao"})]}),n.jsx(Le,{className:"space-y-4",children:d.status==="pending"?n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(we,{onClick:h,disabled:a,className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white",children:[n.jsx(us,{className:"mr-2 h-4 w-4"})," Aprovar"]}),n.jsxs(we,{variant:"destructive",onClick:m,disabled:a,children:[n.jsx(fs,{className:"mr-2 h-4 w-4"})," Rejeitar"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Motivo da Rejeio"}),n.jsx(ua,{placeholder:"Informe o motivo da rejeio",value:i,onChange:g=>o(g.target.value)})]})]}):d.status==="approved"?n.jsx(lr,{variant:"success",className:"",children:"Aprovado"}):n.jsxs("div",{className:"space-y-2",children:[n.jsx(lr,{variant:"destructive",children:"Rejeitado"}),d.motivoRejeicao&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Motivo: ",d.motivoRejeicao]})]})})]})})]})]})}function Wi({tabs:e,basePath:r}){const t=ns();return n.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg border border-gray-200/50 dark:border-gray-700/50 shadow-lg mb-6",children:n.jsx("nav",{className:"flex space-x-1 p-2",children:e.map(a=>{const s=t.pathname===a.href;return n.jsx(fr,{to:a.href,className:lt("flex items-center px-4 py-3 text-sm font-medium transition-all duration-200 rounded-md",s?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-700 hover:text-gray-900 hover:bg-gray-100/80 dark:text-gray-200 dark:hover:text-white dark:hover:bg-gray-700/70"),children:a.label},a.href)})})})}const KE=6048e5,D8=864e5,vx=6e4,wx=36e5,U8=1e3,aN=Symbol.for("constructDateFrom");function Ka(e,r){return typeof e=="function"?e(r):e&&typeof e=="object"&&aN in e?e[aN](r):e instanceof Date?new e.constructor(r):new Date(r)}function sr(e,r){return Ka(r||e,e)}function vl(e,r,t){const a=sr(e,t==null?void 0:t.in);return isNaN(r)?Ka((t==null?void 0:t.in)||e,NaN):(r&&a.setDate(a.getDate()+r),a)}function yl(e,r,t){const a=sr(e,t==null?void 0:t.in);if(isNaN(r))return Ka(e,NaN);if(!r)return a;const s=a.getDate(),i=Ka(e,a.getTime());i.setMonth(a.getMonth()+r+1,0);const o=i.getDate();return s>=o?i:(a.setFullYear(i.getFullYear(),i.getMonth(),s),a)}function zE(e,r,t){return Ka(e,+sr(e)+r)}function L8(e,r,t){return zE(e,r*wx)}let I8={};function Bu(){return I8}function dA(e,r){var l,A,d,f;const t=Bu(),a=(r==null?void 0:r.weekStartsOn)??((A=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:A.weekStartsOn)??t.weekStartsOn??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=sr(e,r==null?void 0:r.in),i=s.getDay(),o=(i<a?7:0)+i-a;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Tf(e,r){return dA(e,{...r,weekStartsOn:1})}function VE(e,r){const t=sr(e,r==null?void 0:r.in),a=t.getFullYear(),s=Ka(t,0);s.setFullYear(a+1,0,4),s.setHours(0,0,0,0);const i=Tf(s),o=Ka(t,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const l=Tf(o);return t.getTime()>=i.getTime()?a+1:t.getTime()>=l.getTime()?a:a-1}function d0(e){const r=sr(e),t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),+e-+t}function mA(e,...r){const t=Ka.bind(null,r.find(a=>typeof a=="object"));return r.map(t)}function wu(e,r){const t=sr(e,r==null?void 0:r.in);return t.setHours(0,0,0,0),t}function Mf(e,r,t){const[a,s]=mA(t==null?void 0:t.in,e,r),i=wu(a),o=wu(s),l=+i-d0(i),A=+o-d0(o);return Math.round((l-A)/D8)}function P8(e,r){const t=VE(e,r),a=Ka(e,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),Tf(a)}function ky(e,r,t){const a=sr(e,t==null?void 0:t.in);return a.setTime(a.getTime()+r*vx),a}function ub(e,r,t){return yl(e,r*3,t)}function Q8(e,r,t){return zE(e,r*1e3)}function u0(e,r,t){return vl(e,r*7,t)}function aA(e,r,t){return yl(e,r*12,t)}function nN(e,r){let t,a=r==null?void 0:r.in;return e.forEach(s=>{!a&&typeof s=="object"&&(a=Ka.bind(null,s));const i=sr(s,a);(!t||t<i||isNaN(+i))&&(t=i)}),Ka(a,t||NaN)}function sN(e,r){let t,a=r==null?void 0:r.in;return e.forEach(s=>{!a&&typeof s=="object"&&(a=Ka.bind(null,s));const i=sr(s,a);(!t||t>i||isNaN(+i))&&(t=i)}),Ka(a,t||NaN)}function R8(e,r,t){const[a,s]=mA(t==null?void 0:t.in,e,r);return+wu(a)==+wu(s)}function nA(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function f0(e){return!(!nA(e)&&typeof e!="number"||isNaN(+sr(e)))}function h0(e,r,t){const[a,s]=mA(t==null?void 0:t.in,e,r),i=a.getFullYear()-s.getFullYear(),o=a.getMonth()-s.getMonth();return i*12+o}function lu(e,r){const t=sr(e,r==null?void 0:r.in);return Math.trunc(t.getMonth()/3)+1}function m0(e,r,t){const[a,s]=mA(t==null?void 0:t.in,e,r),i=a.getFullYear()-s.getFullYear(),o=lu(a)-lu(s);return i*4+o}function p0(e,r,t){const[a,s]=mA(t==null?void 0:t.in,e,r);return a.getFullYear()-s.getFullYear()}function T8(e,r,t){const[a,s]=mA(t==null?void 0:t.in,e,r),i=iN(a,s),o=Math.abs(Mf(a,s));a.setDate(a.getDate()-i*o);const l=+(iN(a,s)===-i),A=i*(o-l);return A===0?0:A}function iN(e,r){const t=e.getFullYear()-r.getFullYear()||e.getMonth()-r.getMonth()||e.getDate()-r.getDate()||e.getHours()-r.getHours()||e.getMinutes()-r.getMinutes()||e.getSeconds()-r.getSeconds()||e.getMilliseconds()-r.getMilliseconds();return t<0?-1:t>0?1:t}function qE(e,r){const t=sr(e,r==null?void 0:r.in);return t.setHours(23,59,59,999),t}function WE(e,r){const t=sr(e,r==null?void 0:r.in),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}function Dy(e,r){const t=sr(e,r==null?void 0:r.in),a=t.getMonth(),s=a-a%3;return t.setMonth(s,1),t.setHours(0,0,0,0),t}function GE(e,r){const t=sr(e,r==null?void 0:r.in);return t.setDate(1),t.setHours(0,0,0,0),t}function YE(e,r){const t=sr(e,r==null?void 0:r.in),a=t.getFullYear();return t.setFullYear(a+1,0,0),t.setHours(23,59,59,999),t}function yx(e,r){const t=sr(e,r==null?void 0:r.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function M8(e,r){var l,A;const t=Bu(),a=t.weekStartsOn??((A=(l=t.locale)==null?void 0:l.options)==null?void 0:A.weekStartsOn)??0,s=sr(e,r==null?void 0:r.in),i=s.getDay(),o=(i<a?-7:0)+6-(i-a);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}const O8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},H8=(e,r,t)=>{let a;const s=O8[e];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+a:a+" ago":a};function Ef(e){return(r={})=>{const t=r.width?String(r.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const $8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},K8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},z8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},V8={date:Ef({formats:$8,defaultWidth:"full"}),time:Ef({formats:K8,defaultWidth:"full"}),dateTime:Ef({formats:z8,defaultWidth:"full"})},q8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},W8=(e,r,t,a)=>q8[e];function Yl(e){return(r,t)=>{const a=t!=null&&t.context?String(t.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=t!=null&&t.width?String(t.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=t!=null&&t.width?String(t.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(r):r;return s[i]}}const G8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Y8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},X8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},J8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Z8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tO=(e,r)=>{const t=Number(e),a=t%100;if(a>20||a<10)switch(a%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},rO={ordinalNumber:tO,era:Yl({values:G8,defaultWidth:"wide"}),quarter:Yl({values:Y8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Yl({values:X8,defaultWidth:"wide"}),day:Yl({values:J8,defaultWidth:"wide"}),dayPeriod:Yl({values:Z8,defaultWidth:"wide",formattingValues:eO,defaultFormattingWidth:"wide"})};function Xl(e){return(r,t={})=>{const a=t.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=r.match(s);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],A=Array.isArray(l)?nO(l,h=>h.test(o)):aO(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(A):A,d=t.valueCallback?t.valueCallback(d):d;const f=r.slice(o.length);return{value:d,rest:f}}}function aO(e,r){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&r(e[t]))return t}function nO(e,r){for(let t=0;t<e.length;t++)if(r(e[t]))return t}function XE(e){return(r,t={})=>{const a=r.match(e.matchPattern);if(!a)return null;const s=a[0],i=r.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;const l=r.slice(s.length);return{value:o,rest:l}}}const sO=/^(\d+)(th|st|nd|rd)?/i,iO=/\d+/i,oO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lO={any:[/^b/i,/^(a|c)/i]},cO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},AO={any:[/1/i,/2/i,/3/i,/4/i]},dO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gO={ordinalNumber:XE({matchPattern:sO,parsePattern:iO,valueCallback:e=>parseInt(e,10)}),era:Xl({matchPatterns:oO,defaultMatchWidth:"wide",parsePatterns:lO,defaultParseWidth:"any"}),quarter:Xl({matchPatterns:cO,defaultMatchWidth:"wide",parsePatterns:AO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Xl({matchPatterns:dO,defaultMatchWidth:"wide",parsePatterns:uO,defaultParseWidth:"any"}),day:Xl({matchPatterns:fO,defaultMatchWidth:"wide",parsePatterns:hO,defaultParseWidth:"any"}),dayPeriod:Xl({matchPatterns:mO,defaultMatchWidth:"any",parsePatterns:pO,defaultParseWidth:"any"})},JE={code:"en-US",formatDistance:H8,formatLong:V8,formatRelative:W8,localize:rO,match:gO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function xO(e,r){const t=sr(e,r==null?void 0:r.in);return Mf(t,yx(t))+1}function fb(e,r){const t=sr(e,r==null?void 0:r.in),a=+Tf(t)-+P8(t);return Math.round(a/KE)+1}function hb(e,r){var f,h,m,p;const t=sr(e,r==null?void 0:r.in),a=t.getFullYear(),s=Bu(),i=(r==null?void 0:r.firstWeekContainsDate)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=Ka((r==null?void 0:r.in)||e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=dA(o,r),A=Ka((r==null?void 0:r.in)||e,0);A.setFullYear(a,0,i),A.setHours(0,0,0,0);const d=dA(A,r);return+t>=+l?a+1:+t>=+d?a:a-1}function vO(e,r){var l,A,d,f;const t=Bu(),a=(r==null?void 0:r.firstWeekContainsDate)??((A=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:A.firstWeekContainsDate)??t.firstWeekContainsDate??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,s=hb(e,r),i=Ka((r==null?void 0:r.in)||e,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),dA(i,r)}function ZE(e,r){const t=sr(e,r==null?void 0:r.in),a=+dA(t,r)-+vO(t,r);return Math.round(a/KE)+1}function Ha(e,r){const t=e<0?"-":"",a=Math.abs(e).toString().padStart(r,"0");return t+a}const VA={y(e,r){const t=e.getFullYear(),a=t>0?t:1-t;return Ha(r==="yy"?a%100:a,r.length)},M(e,r){const t=e.getMonth();return r==="M"?String(t+1):Ha(t+1,2)},d(e,r){return Ha(e.getDate(),r.length)},a(e,r){const t=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,r){return Ha(e.getHours()%12||12,r.length)},H(e,r){return Ha(e.getHours(),r.length)},m(e,r){return Ha(e.getMinutes(),r.length)},s(e,r){return Ha(e.getSeconds(),r.length)},S(e,r){const t=r.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,t-3));return Ha(s,r.length)}},of={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},oN={G:function(e,r,t){const a=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(a,{width:"abbreviated"});case"GGGGG":return t.era(a,{width:"narrow"});case"GGGG":default:return t.era(a,{width:"wide"})}},y:function(e,r,t){if(r==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return t.ordinalNumber(s,{unit:"year"})}return VA.y(e,r)},Y:function(e,r,t,a){const s=hb(e,a),i=s>0?s:1-s;if(r==="YY"){const o=i%100;return Ha(o,2)}return r==="Yo"?t.ordinalNumber(i,{unit:"year"}):Ha(i,r.length)},R:function(e,r){const t=VE(e);return Ha(t,r.length)},u:function(e,r){const t=e.getFullYear();return Ha(t,r.length)},Q:function(e,r,t){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Ha(a,2);case"Qo":return t.ordinalNumber(a,{unit:"quarter"});case"QQQ":return t.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,t){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Ha(a,2);case"qo":return t.ordinalNumber(a,{unit:"quarter"});case"qqq":return t.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,t){const a=e.getMonth();switch(r){case"M":case"MM":return VA.M(e,r);case"Mo":return t.ordinalNumber(a+1,{unit:"month"});case"MMM":return t.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,t){const a=e.getMonth();switch(r){case"L":return String(a+1);case"LL":return Ha(a+1,2);case"Lo":return t.ordinalNumber(a+1,{unit:"month"});case"LLL":return t.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,t,a){const s=ZE(e,a);return r==="wo"?t.ordinalNumber(s,{unit:"week"}):Ha(s,r.length)},I:function(e,r,t){const a=fb(e);return r==="Io"?t.ordinalNumber(a,{unit:"week"}):Ha(a,r.length)},d:function(e,r,t){return r==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):VA.d(e,r)},D:function(e,r,t){const a=xO(e);return r==="Do"?t.ordinalNumber(a,{unit:"dayOfYear"}):Ha(a,r.length)},E:function(e,r,t){const a=e.getDay();switch(r){case"E":case"EE":case"EEE":return t.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(a,{width:"short",context:"formatting"});case"EEEE":default:return t.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,t,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return Ha(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(e,r,t,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return Ha(i,r.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(e,r,t){const a=e.getDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return Ha(s,r.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(a,{width:"short",context:"formatting"});case"iiii":default:return t.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,t){const s=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,r,t){const a=e.getHours();let s;switch(a===12?s=of.noon:a===0?s=of.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,r,t){const a=e.getHours();let s;switch(a>=17?s=of.evening:a>=12?s=of.afternoon:a>=4?s=of.morning:s=of.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,r,t){if(r==="ho"){let a=e.getHours()%12;return a===0&&(a=12),t.ordinalNumber(a,{unit:"hour"})}return VA.h(e,r)},H:function(e,r,t){return r==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):VA.H(e,r)},K:function(e,r,t){const a=e.getHours()%12;return r==="Ko"?t.ordinalNumber(a,{unit:"hour"}):Ha(a,r.length)},k:function(e,r,t){let a=e.getHours();return a===0&&(a=24),r==="ko"?t.ordinalNumber(a,{unit:"hour"}):Ha(a,r.length)},m:function(e,r,t){return r==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):VA.m(e,r)},s:function(e,r,t){return r==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):VA.s(e,r)},S:function(e,r){return VA.S(e,r)},X:function(e,r,t){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return cN(a);case"XXXX":case"XX":return Xd(a);case"XXXXX":case"XXX":default:return Xd(a,":")}},x:function(e,r,t){const a=e.getTimezoneOffset();switch(r){case"x":return cN(a);case"xxxx":case"xx":return Xd(a);case"xxxxx":case"xxx":default:return Xd(a,":")}},O:function(e,r,t){const a=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+lN(a,":");case"OOOO":default:return"GMT"+Xd(a,":")}},z:function(e,r,t){const a=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+lN(a,":");case"zzzz":default:return"GMT"+Xd(a,":")}},t:function(e,r,t){const a=Math.trunc(+e/1e3);return Ha(a,r.length)},T:function(e,r,t){return Ha(+e,r.length)}};function lN(e,r=""){const t=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),i=a%60;return i===0?t+String(s):t+String(s)+r+Ha(i,2)}function cN(e,r){return e%60===0?(e>0?"-":"+")+Ha(Math.abs(e)/60,2):Xd(e,r)}function Xd(e,r=""){const t=e>0?"-":"+",a=Math.abs(e),s=Ha(Math.trunc(a/60),2),i=Ha(a%60,2);return t+s+r+i}const AN=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},eF=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},wO=(e,r)=>{const t=e.match(/(P+)(p+)?/)||[],a=t[1],s=t[2];if(!s)return AN(e,r);let i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",AN(a,r)).replace("{{time}}",eF(s,r))},Uy={p:eF,P:wO},yO=/^D+$/,bO=/^Y+$/,jO=["D","DD","YY","YYYY"];function NO(e){return yO.test(e)}function BO(e){return bO.test(e)}function CO(e,r,t){const a=SO(e,r,t);if(console.warn(a),jO.includes(e))throw new RangeError(a)}function SO(e,r,t){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${a} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _O=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,EO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,FO=/^'([^]*?)'?$/,kO=/''/g,DO=/[a-zA-Z]/;function ed(e,r,t){var f,h,m,p,x,g,w,j;const a=Bu(),s=(t==null?void 0:t.locale)??a.locale??JE,i=(t==null?void 0:t.firstWeekContainsDate)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=(t==null?void 0:t.weekStartsOn)??((g=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??a.weekStartsOn??((j=(w=a.locale)==null?void 0:w.options)==null?void 0:j.weekStartsOn)??0,l=sr(e,t==null?void 0:t.in);if(!f0(l))throw new RangeError("Invalid time value");let A=r.match(EO).map(N=>{const C=N[0];if(C==="p"||C==="P"){const E=Uy[C];return E(N,s.formatLong)}return N}).join("").match(_O).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const C=N[0];if(C==="'")return{isToken:!1,value:UO(N)};if(oN[C])return{isToken:!0,value:N};if(C.match(DO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:N}});s.localize.preprocessor&&(A=s.localize.preprocessor(l,A));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return A.map(N=>{if(!N.isToken)return N.value;const C=N.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&BO(C)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&NO(C))&&CO(C,r,String(e));const E=oN[C[0]];return E(l,C,s.localize,d)}).join("")}function UO(e){const r=e.match(FO);return r?r[1].replace(kO,"'"):e}function dN(e,r){return sr(e,r==null?void 0:r.in).getDate()}function LO(e,r){return sr(e,r==null?void 0:r.in).getDay()}function IO(e,r){const t=sr(e,r==null?void 0:r.in),a=t.getFullYear(),s=t.getMonth(),i=Ka(t,0);return i.setFullYear(a,s+1,0),i.setHours(0,0,0,0),i.getDate()}function PO(){return Object.assign({},Bu())}function sA(e,r){return sr(e,r==null?void 0:r.in).getHours()}function QO(e,r){const t=sr(e,r==null?void 0:r.in).getDay();return t===0?7:t}function iA(e,r){return sr(e,r==null?void 0:r.in).getMinutes()}function di(e,r){return sr(e,r==null?void 0:r.in).getMonth()}function ld(e){return sr(e).getSeconds()}function Ly(e){return+sr(e)}function ea(e,r){return sr(e,r==null?void 0:r.in).getFullYear()}function gd(e,r){return+sr(e)>+sr(r)}function rc(e,r){return+sr(e)<+sr(r)}function RO(e,r){return+sr(e)==+sr(r)}function TO(e,r){const t=MO(r)?new r(0):Ka(r,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}function MO(e){var r;return typeof e=="function"&&((r=e.prototype)==null?void 0:r.constructor)===e}const OO=10;class tF{constructor(){ft(this,"subPriority",0)}validate(r,t){return!0}}class HO extends tF{constructor(r,t,a,s,i){super(),this.value=r,this.validateValue=t,this.setValue=a,this.priority=s,i&&(this.subPriority=i)}validate(r,t){return this.validateValue(r,this.value,t)}set(r,t,a){return this.setValue(r,t,this.value,a)}}class $O extends tF{constructor(t,a){super();ft(this,"priority",OO);ft(this,"subPriority",-1);this.context=t||(s=>Ka(a,s))}set(t,a){return a.timestampIsSet?t:Ka(t,TO(t,this.context))}}let Fa=class{run(r,t,a,s){const i=this.parse(r,t,a,s);return i?{setter:new HO(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(r,t,a){return!0}};class KO extends Fa{constructor(){super(...arguments);ft(this,"priority",140);ft(this,"incompatibleTokens",["R","u","t","T"])}parse(t,a,s){switch(a){case"G":case"GG":case"GGG":return s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"});case"GGGGG":return s.era(t,{width:"narrow"});case"GGGG":default:return s.era(t,{width:"wide"})||s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"})}}set(t,a,s){return a.era=s,t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}const es={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Jl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ts(e,r){return e&&{value:r(e.value),rest:e.rest}}function Ln(e,r){const t=r.match(e);return t?{value:parseInt(t[0],10),rest:r.slice(t[0].length)}:null}function Zl(e,r){const t=r.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:r.slice(1)};const a=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,i=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:a*(s*wx+i*vx+o*U8),rest:r.slice(t[0].length)}}function rF(e){return Ln(es.anyDigitsSigned,e)}function $n(e,r){switch(e){case 1:return Ln(es.singleDigit,r);case 2:return Ln(es.twoDigits,r);case 3:return Ln(es.threeDigits,r);case 4:return Ln(es.fourDigits,r);default:return Ln(new RegExp("^\\d{1,"+e+"}"),r)}}function g0(e,r){switch(e){case 1:return Ln(es.singleDigitSigned,r);case 2:return Ln(es.twoDigitsSigned,r);case 3:return Ln(es.threeDigitsSigned,r);case 4:return Ln(es.fourDigitsSigned,r);default:return Ln(new RegExp("^-?\\d{1,"+e+"}"),r)}}function mb(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function aF(e,r){const t=r>0,a=t?r:1-r;let s;if(a<=50)s=e||100;else{const i=a+50,o=Math.trunc(i/100)*100,l=e>=i%100;s=e+o-(l?100:0)}return t?s:1-s}function nF(e){return e%400===0||e%4===0&&e%100!==0}class zO extends Fa{constructor(){super(...arguments);ft(this,"priority",130);ft(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,a,s){const i=o=>({year:o,isTwoDigitYear:a==="yy"});switch(a){case"y":return ts($n(4,t),i);case"yo":return ts(s.ordinalNumber(t,{unit:"year"}),i);default:return ts($n(a.length,t),i)}}validate(t,a){return a.isTwoDigitYear||a.year>0}set(t,a,s){const i=t.getFullYear();if(s.isTwoDigitYear){const l=aF(s.year,i);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const o=!("era"in a)||a.era===1?s.year:1-s.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class VO extends Fa{constructor(){super(...arguments);ft(this,"priority",130);ft(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,a,s){const i=o=>({year:o,isTwoDigitYear:a==="YY"});switch(a){case"Y":return ts($n(4,t),i);case"Yo":return ts(s.ordinalNumber(t,{unit:"year"}),i);default:return ts($n(a.length,t),i)}}validate(t,a){return a.isTwoDigitYear||a.year>0}set(t,a,s,i){const o=hb(t,i);if(s.isTwoDigitYear){const A=aF(s.year,o);return t.setFullYear(A,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),dA(t,i)}const l=!("era"in a)||a.era===1?s.year:1-s.year;return t.setFullYear(l,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),dA(t,i)}}class qO extends Fa{constructor(){super(...arguments);ft(this,"priority",130);ft(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,a){return g0(a==="R"?4:a.length,t)}set(t,a,s){const i=Ka(t,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),Tf(i)}}class WO extends Fa{constructor(){super(...arguments);ft(this,"priority",130);ft(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,a){return g0(a==="u"?4:a.length,t)}set(t,a,s){return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class GO extends Fa{constructor(){super(...arguments);ft(this,"priority",120);ft(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,a,s){switch(a){case"Q":case"QQ":return $n(a.length,t);case"Qo":return s.ordinalNumber(t,{unit:"quarter"});case"QQQ":return s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(t,{width:"wide",context:"formatting"})||s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,a){return a>=1&&a<=4}set(t,a,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class YO extends Fa{constructor(){super(...arguments);ft(this,"priority",120);ft(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,a,s){switch(a){case"q":case"qq":return $n(a.length,t);case"qo":return s.ordinalNumber(t,{unit:"quarter"});case"qqq":return s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(t,{width:"wide",context:"standalone"})||s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,a){return a>=1&&a<=4}set(t,a,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class XO extends Fa{constructor(){super(...arguments);ft(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ft(this,"priority",110)}parse(t,a,s){const i=o=>o-1;switch(a){case"M":return ts(Ln(es.month,t),i);case"MM":return ts($n(2,t),i);case"Mo":return ts(s.ordinalNumber(t,{unit:"month"}),i);case"MMM":return s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(t,{width:"wide",context:"formatting"})||s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"})}}validate(t,a){return a>=0&&a<=11}set(t,a,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}class JO extends Fa{constructor(){super(...arguments);ft(this,"priority",110);ft(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,a,s){const i=o=>o-1;switch(a){case"L":return ts(Ln(es.month,t),i);case"LL":return ts($n(2,t),i);case"Lo":return ts(s.ordinalNumber(t,{unit:"month"}),i);case"LLL":return s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(t,{width:"wide",context:"standalone"})||s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"})}}validate(t,a){return a>=0&&a<=11}set(t,a,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}function ZO(e,r,t){const a=sr(e,t==null?void 0:t.in),s=ZE(a,t)-r;return a.setDate(a.getDate()-s*7),sr(a,t==null?void 0:t.in)}class eH extends Fa{constructor(){super(...arguments);ft(this,"priority",100);ft(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,a,s){switch(a){case"w":return Ln(es.week,t);case"wo":return s.ordinalNumber(t,{unit:"week"});default:return $n(a.length,t)}}validate(t,a){return a>=1&&a<=53}set(t,a,s,i){return dA(ZO(t,s,i),i)}}function tH(e,r,t){const a=sr(e,t==null?void 0:t.in),s=fb(a,t)-r;return a.setDate(a.getDate()-s*7),a}class rH extends Fa{constructor(){super(...arguments);ft(this,"priority",100);ft(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,a,s){switch(a){case"I":return Ln(es.week,t);case"Io":return s.ordinalNumber(t,{unit:"week"});default:return $n(a.length,t)}}validate(t,a){return a>=1&&a<=53}set(t,a,s){return Tf(tH(t,s))}}const aH=[31,28,31,30,31,30,31,31,30,31,30,31],nH=[31,29,31,30,31,30,31,31,30,31,30,31];class sH extends Fa{constructor(){super(...arguments);ft(this,"priority",90);ft(this,"subPriority",1);ft(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,a,s){switch(a){case"d":return Ln(es.date,t);case"do":return s.ordinalNumber(t,{unit:"date"});default:return $n(a.length,t)}}validate(t,a){const s=t.getFullYear(),i=nF(s),o=t.getMonth();return i?a>=1&&a<=nH[o]:a>=1&&a<=aH[o]}set(t,a,s){return t.setDate(s),t.setHours(0,0,0,0),t}}class iH extends Fa{constructor(){super(...arguments);ft(this,"priority",90);ft(this,"subpriority",1);ft(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,a,s){switch(a){case"D":case"DD":return Ln(es.dayOfYear,t);case"Do":return s.ordinalNumber(t,{unit:"date"});default:return $n(a.length,t)}}validate(t,a){const s=t.getFullYear();return nF(s)?a>=1&&a<=366:a>=1&&a<=365}set(t,a,s){return t.setMonth(0,s),t.setHours(0,0,0,0),t}}function pb(e,r,t){var h,m,p,x;const a=Bu(),s=(t==null?void 0:t.weekStartsOn)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??a.weekStartsOn??((x=(p=a.locale)==null?void 0:p.options)==null?void 0:x.weekStartsOn)??0,i=sr(e,t==null?void 0:t.in),o=i.getDay(),A=(r%7+7)%7,d=7-s,f=r<0||r>6?r-(o+d)%7:(A+d)%7-(o+d)%7;return vl(i,f,t)}class oH extends Fa{constructor(){super(...arguments);ft(this,"priority",90);ft(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,a,s){switch(a){case"E":case"EE":case"EEE":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,a){return a>=0&&a<=6}set(t,a,s,i){return t=pb(t,s,i),t.setHours(0,0,0,0),t}}class lH extends Fa{constructor(){super(...arguments);ft(this,"priority",90);ft(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,a,s,i){const o=l=>{const A=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+A};switch(a){case"e":case"ee":return ts($n(a.length,t),o);case"eo":return ts(s.ordinalNumber(t,{unit:"day"}),o);case"eee":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeeee":return s.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,a){return a>=0&&a<=6}set(t,a,s,i){return t=pb(t,s,i),t.setHours(0,0,0,0),t}}class cH extends Fa{constructor(){super(...arguments);ft(this,"priority",90);ft(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,a,s,i){const o=l=>{const A=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+A};switch(a){case"c":case"cc":return ts($n(a.length,t),o);case"co":return ts(s.ordinalNumber(t,{unit:"day"}),o);case"ccc":return s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"ccccc":return s.day(t,{width:"narrow",context:"standalone"});case"cccccc":return s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(t,{width:"wide",context:"standalone"})||s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"})}}validate(t,a){return a>=0&&a<=6}set(t,a,s,i){return t=pb(t,s,i),t.setHours(0,0,0,0),t}}function AH(e,r,t){const a=sr(e,t==null?void 0:t.in),s=QO(a,t),i=r-s;return vl(a,i,t)}class dH extends Fa{constructor(){super(...arguments);ft(this,"priority",90);ft(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,a,s){const i=o=>o===0?7:o;switch(a){case"i":case"ii":return $n(a.length,t);case"io":return s.ordinalNumber(t,{unit:"day"});case"iii":return ts(s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return ts(s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return ts(s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiii":default:return ts(s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,a){return a>=1&&a<=7}set(t,a,s){return t=AH(t,s),t.setHours(0,0,0,0),t}}class uH extends Fa{constructor(){super(...arguments);ft(this,"priority",80);ft(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,a,s){switch(a){case"a":case"aa":case"aaa":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,a,s){return t.setHours(mb(s),0,0,0),t}}class fH extends Fa{constructor(){super(...arguments);ft(this,"priority",80);ft(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,a,s){switch(a){case"b":case"bb":case"bbb":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,a,s){return t.setHours(mb(s),0,0,0),t}}class hH extends Fa{constructor(){super(...arguments);ft(this,"priority",80);ft(this,"incompatibleTokens",["a","b","t","T"])}parse(t,a,s){switch(a){case"B":case"BB":case"BBB":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,a,s){return t.setHours(mb(s),0,0,0),t}}class mH extends Fa{constructor(){super(...arguments);ft(this,"priority",70);ft(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,a,s){switch(a){case"h":return Ln(es.hour12h,t);case"ho":return s.ordinalNumber(t,{unit:"hour"});default:return $n(a.length,t)}}validate(t,a){return a>=1&&a<=12}set(t,a,s){const i=t.getHours()>=12;return i&&s<12?t.setHours(s+12,0,0,0):!i&&s===12?t.setHours(0,0,0,0):t.setHours(s,0,0,0),t}}class pH extends Fa{constructor(){super(...arguments);ft(this,"priority",70);ft(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,a,s){switch(a){case"H":return Ln(es.hour23h,t);case"Ho":return s.ordinalNumber(t,{unit:"hour"});default:return $n(a.length,t)}}validate(t,a){return a>=0&&a<=23}set(t,a,s){return t.setHours(s,0,0,0),t}}class gH extends Fa{constructor(){super(...arguments);ft(this,"priority",70);ft(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,a,s){switch(a){case"K":return Ln(es.hour11h,t);case"Ko":return s.ordinalNumber(t,{unit:"hour"});default:return $n(a.length,t)}}validate(t,a){return a>=0&&a<=11}set(t,a,s){return t.getHours()>=12&&s<12?t.setHours(s+12,0,0,0):t.setHours(s,0,0,0),t}}class xH extends Fa{constructor(){super(...arguments);ft(this,"priority",70);ft(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,a,s){switch(a){case"k":return Ln(es.hour24h,t);case"ko":return s.ordinalNumber(t,{unit:"hour"});default:return $n(a.length,t)}}validate(t,a){return a>=1&&a<=24}set(t,a,s){const i=s<=24?s%24:s;return t.setHours(i,0,0,0),t}}class vH extends Fa{constructor(){super(...arguments);ft(this,"priority",60);ft(this,"incompatibleTokens",["t","T"])}parse(t,a,s){switch(a){case"m":return Ln(es.minute,t);case"mo":return s.ordinalNumber(t,{unit:"minute"});default:return $n(a.length,t)}}validate(t,a){return a>=0&&a<=59}set(t,a,s){return t.setMinutes(s,0,0),t}}class wH extends Fa{constructor(){super(...arguments);ft(this,"priority",50);ft(this,"incompatibleTokens",["t","T"])}parse(t,a,s){switch(a){case"s":return Ln(es.second,t);case"so":return s.ordinalNumber(t,{unit:"second"});default:return $n(a.length,t)}}validate(t,a){return a>=0&&a<=59}set(t,a,s){return t.setSeconds(s,0),t}}class yH extends Fa{constructor(){super(...arguments);ft(this,"priority",30);ft(this,"incompatibleTokens",["t","T"])}parse(t,a){const s=i=>Math.trunc(i*Math.pow(10,-a.length+3));return ts($n(a.length,t),s)}set(t,a,s){return t.setMilliseconds(s),t}}class bH extends Fa{constructor(){super(...arguments);ft(this,"priority",10);ft(this,"incompatibleTokens",["t","T","x"])}parse(t,a){switch(a){case"X":return Zl(Jl.basicOptionalMinutes,t);case"XX":return Zl(Jl.basic,t);case"XXXX":return Zl(Jl.basicOptionalSeconds,t);case"XXXXX":return Zl(Jl.extendedOptionalSeconds,t);case"XXX":default:return Zl(Jl.extended,t)}}set(t,a,s){return a.timestampIsSet?t:Ka(t,t.getTime()-d0(t)-s)}}class jH extends Fa{constructor(){super(...arguments);ft(this,"priority",10);ft(this,"incompatibleTokens",["t","T","X"])}parse(t,a){switch(a){case"x":return Zl(Jl.basicOptionalMinutes,t);case"xx":return Zl(Jl.basic,t);case"xxxx":return Zl(Jl.basicOptionalSeconds,t);case"xxxxx":return Zl(Jl.extendedOptionalSeconds,t);case"xxx":default:return Zl(Jl.extended,t)}}set(t,a,s){return a.timestampIsSet?t:Ka(t,t.getTime()-d0(t)-s)}}class NH extends Fa{constructor(){super(...arguments);ft(this,"priority",40);ft(this,"incompatibleTokens","*")}parse(t){return rF(t)}set(t,a,s){return[Ka(t,s*1e3),{timestampIsSet:!0}]}}class BH extends Fa{constructor(){super(...arguments);ft(this,"priority",20);ft(this,"incompatibleTokens","*")}parse(t){return rF(t)}set(t,a,s){return[Ka(t,s),{timestampIsSet:!0}]}}const CH={G:new KO,y:new zO,Y:new VO,R:new qO,u:new WO,Q:new GO,q:new YO,M:new XO,L:new JO,w:new eH,I:new rH,d:new sH,D:new iH,E:new oH,e:new lH,c:new cH,i:new dH,a:new uH,b:new fH,B:new hH,h:new mH,H:new pH,K:new gH,k:new xH,m:new vH,s:new wH,S:new yH,X:new bH,x:new jH,t:new NH,T:new BH},SH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_H=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,EH=/^'([^]*?)'?$/,FH=/''/g,kH=/\S/,DH=/[a-zA-Z]/;function UH(e,r,t,a){var w,j,N,C,E,Q,U,F;const s=()=>Ka((a==null?void 0:a.in)||t,NaN),i=PO(),o=(a==null?void 0:a.locale)??i.locale??JE,l=(a==null?void 0:a.firstWeekContainsDate)??((j=(w=a==null?void 0:a.locale)==null?void 0:w.options)==null?void 0:j.firstWeekContainsDate)??i.firstWeekContainsDate??((C=(N=i.locale)==null?void 0:N.options)==null?void 0:C.firstWeekContainsDate)??1,A=(a==null?void 0:a.weekStartsOn)??((Q=(E=a==null?void 0:a.locale)==null?void 0:E.options)==null?void 0:Q.weekStartsOn)??i.weekStartsOn??((F=(U=i.locale)==null?void 0:U.options)==null?void 0:F.weekStartsOn)??0;if(!r)return e?s():sr(t,a==null?void 0:a.in);const d={firstWeekContainsDate:l,weekStartsOn:A,locale:o},f=[new $O(a==null?void 0:a.in,t)],h=r.match(_H).map(L=>{const _=L[0];if(_ in Uy){const q=Uy[_];return q(L,o.formatLong)}return L}).join("").match(SH),m=[];for(let L of h){const _=L[0],q=CH[_];if(q){const{incompatibleTokens:R}=q;if(Array.isArray(R)){const J=m.find(T=>R.includes(T.token)||T.token===_);if(J)throw new RangeError(`The format string mustn't contain \`${J.fullToken}\` and \`${L}\` at the same time`)}else if(q.incompatibleTokens==="*"&&m.length>0)throw new RangeError(`The format string mustn't contain \`${L}\` and any other token at the same time`);m.push({token:_,fullToken:L});const H=q.run(e,L,o.match,d);if(!H)return s();f.push(H.setter),e=H.rest}else{if(_.match(DH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");if(L==="''"?L="'":_==="'"&&(L=LH(L)),e.indexOf(L)===0)e=e.slice(L.length);else return s()}}if(e.length>0&&kH.test(e))return s();const p=f.map(L=>L.priority).sort((L,_)=>_-L).filter((L,_,q)=>q.indexOf(L)===_).map(L=>f.filter(_=>_.priority===L).sort((_,q)=>q.subPriority-_.subPriority)).map(L=>L[0]);let x=sr(t,a==null?void 0:a.in);if(isNaN(+x))return s();const g={};for(const L of p){if(!L.validate(x,d))return s();const _=L.set(x,g,d);Array.isArray(_)?(x=_[0],Object.assign(g,_[1])):x=_}return x}function LH(e){return e.match(EH)[1].replace(FH,"'")}function IH(e,r,t){const[a,s]=mA(t==null?void 0:t.in,e,r);return a.getFullYear()===s.getFullYear()&&a.getMonth()===s.getMonth()}function PH(e,r,t){const[a,s]=mA(t==null?void 0:t.in,e,r);return+Dy(a)==+Dy(s)}function QH(e,r,t){const[a,s]=mA(t==null?void 0:t.in,e,r);return a.getFullYear()===s.getFullYear()}function pm(e,r,t){const a=+sr(e,t==null?void 0:t.in),[s,i]=[+sr(r.start,t==null?void 0:t.in),+sr(r.end,t==null?void 0:t.in)].sort((o,l)=>o-l);return a>=s&&a<=i}function RH(e,r,t){return vl(e,-1,t)}function sF(e,r){const t=()=>Ka(r==null?void 0:r.in,NaN),s=HH(e);let i;if(s.date){const d=$H(s.date,2);i=KH(d.restDateString,d.year)}if(!i||isNaN(+i))return t();const o=+i;let l=0,A;if(s.time&&(l=zH(s.time),isNaN(l)))return t();if(s.timezone){if(A=VH(s.timezone),isNaN(A))return t()}else{const d=new Date(o+l),f=sr(0,r==null?void 0:r.in);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return sr(o+l+A,r==null?void 0:r.in)}const Pp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},TH=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,MH=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,OH=/^([+-])(\d{2})(?::?(\d{2}))?$/;function HH(e){const r={},t=e.split(Pp.dateTimeDelimiter);let a;if(t.length>2)return r;if(/:/.test(t[0])?a=t[0]:(r.date=t[0],a=t[1],Pp.timeZoneDelimiter.test(r.date)&&(r.date=e.split(Pp.timeZoneDelimiter)[0],a=e.substr(r.date.length,e.length))),a){const s=Pp.timezone.exec(a);s?(r.time=a.replace(s[1],""),r.timezone=s[1]):r.time=a}return r}function $H(e,r){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),a=e.match(t);if(!a)return{year:NaN,restDateString:""};const s=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((a[1]||a[2]).length)}}function KH(e,r){if(r===null)return new Date(NaN);const t=e.match(TH);if(!t)return new Date(NaN);const a=!!t[4],s=Dh(t[1]),i=Dh(t[2])-1,o=Dh(t[3]),l=Dh(t[4]),A=Dh(t[5])-1;if(a)return XH(r,l,A)?qH(r,l,A):new Date(NaN);{const d=new Date(0);return!GH(r,i,o)||!YH(r,s)?new Date(NaN):(d.setUTCFullYear(r,i,Math.max(s,o)),d)}}function Dh(e){return e?parseInt(e):1}function zH(e){const r=e.match(MH);if(!r)return NaN;const t=tw(r[1]),a=tw(r[2]),s=tw(r[3]);return JH(t,a,s)?t*wx+a*vx+s*1e3:NaN}function tw(e){return e&&parseFloat(e.replace(",","."))||0}function VH(e){if(e==="Z")return 0;const r=e.match(OH);if(!r)return 0;const t=r[1]==="+"?-1:1,a=parseInt(r[2]),s=r[3]&&parseInt(r[3])||0;return ZH(a,s)?t*(a*wx+s*vx):NaN}function qH(e,r,t){const a=new Date(0);a.setUTCFullYear(e,0,4);const s=a.getUTCDay()||7,i=(r-1)*7+t+1-s;return a.setUTCDate(a.getUTCDate()+i),a}const WH=[31,null,31,30,31,30,31,31,30,31,30,31];function iF(e){return e%400===0||e%4===0&&e%100!==0}function GH(e,r,t){return r>=0&&r<=11&&t>=1&&t<=(WH[r]||(iF(e)?29:28))}function YH(e,r){return r>=1&&r<=(iF(e)?366:365)}function XH(e,r,t){return r>=1&&r<=53&&t>=0&&t<=6}function JH(e,r,t){return e===24?r===0&&t===0:t>=0&&t<60&&r>=0&&r<60&&e>=0&&e<25}function ZH(e,r){return r>=0&&r<=59}function fo(e,r,t){const a=sr(e,t==null?void 0:t.in),s=a.getFullYear(),i=a.getDate(),o=Ka(e,0);o.setFullYear(s,r,15),o.setHours(0,0,0,0);const l=IO(o);return a.setMonth(r,Math.min(i,l)),a}function kg(e,r,t){const a=sr(e,t==null?void 0:t.in);return a.setHours(r),a}function Dg(e,r,t){const a=sr(e,t==null?void 0:t.in);return a.setMinutes(r),a}function gf(e,r,t){const a=sr(e,t==null?void 0:t.in),s=Math.trunc(a.getMonth()/3)+1,i=r-s;return fo(a,a.getMonth()+i*3)}function Ug(e,r,t){const a=sr(e,t==null?void 0:t.in);return a.setSeconds(r),a}function ql(e,r,t){const a=sr(e,t==null?void 0:t.in);return isNaN(+a)?Ka(e,NaN):(a.setFullYear(r),a)}function cu(e,r,t){return yl(e,-r,t)}function oF(e,r,t){return ub(e,-1,t)}function uN(e,r,t){return u0(e,-1,t)}function Of(e,r,t){return aA(e,-r,t)}var e7=typeof document<"u",t7=function(){},x0=e7?y.useLayoutEffect:t7;const r7={...jm},a7=r7.useInsertionEffect,n7=a7||(e=>e());function s7(e){const r=y.useRef(()=>{});return n7(()=>{r.current=e}),y.useCallback(function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return r.current==null?void 0:r.current(...a)},[])}const i7={...jm};let fN=!1,o7=0;const hN=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+o7++;function l7(){const[e,r]=y.useState(()=>fN?hN():void 0);return x0(()=>{e==null&&r(hN())},[]),y.useEffect(()=>{fN=!0},[]),e}const c7=i7.useId,lF=c7||l7,A7=y.forwardRef(function(r,t){const{context:{placement:a,elements:{floating:s},middlewareData:{arrow:i,shift:o}},width:l=14,height:A=7,tipRadius:d=0,strokeWidth:f=0,staticOffset:h,stroke:m,d:p,style:{transform:x,...g}={},...w}=r,j=lF(),[N,C]=y.useState(!1);if(x0(()=>{if(!s)return;Oo(s).direction==="rtl"&&C(!0)},[s]),!s)return null;const[E,Q]=a.split("-"),U=E==="top"||E==="bottom";let F=h;(U&&o!=null&&o.x||!U&&o!=null&&o.y)&&(F=null);const L=f*2,_=L/2,q=l/2*(d/-8+1),R=A/2*d/4,H=!!p,J=F&&Q==="end"?"bottom":"top";let T=F&&Q==="end"?"right":"left";F&&N&&(T=Q==="end"?"left":"right");const re=(i==null?void 0:i.x)!=null?F||i.x:"",z=(i==null?void 0:i.y)!=null?F||i.y:"",G=p||"M0,0"+(" H"+l)+(" L"+(l-q)+","+(A-R))+(" Q"+l/2+","+A+" "+q+","+(A-R))+" Z",V={top:H?"rotate(180deg)":"",left:H?"rotate(90deg)":"rotate(-90deg)",bottom:H?"":"rotate(180deg)",right:H?"rotate(-90deg)":"rotate(90deg)"}[E];return n.jsxs("svg",{...w,"aria-hidden":!0,ref:t,width:H?l:l+L,height:l,viewBox:"0 0 "+l+" "+(A>l?A:l),style:{position:"absolute",pointerEvents:"none",[T]:re,[J]:z,[E]:U||H?"100%":"calc(100% - "+L/2+"px)",transform:[V,x].filter(ee=>!!ee).join(" "),...g},children:[L>0&&n.jsx("path",{clipPath:"url(#"+j+")",fill:"none",stroke:m,strokeWidth:L+(p?0:1),d:G}),n.jsx("path",{stroke:L&&!p?w.fill:"none",d:G}),n.jsx("clipPath",{id:j,children:n.jsx("rect",{x:-_,y:_*(H?-1:1),width:l+L,height:l})})]})});function d7(){const e=new Map;return{emit(r,t){var a;(a=e.get(r))==null||a.forEach(s=>s(t))},on(r,t){e.has(r)||e.set(r,new Set),e.get(r).add(t)},off(r,t){var a;(a=e.get(r))==null||a.delete(t)}}}const u7=y.createContext(null),f7=y.createContext(null),h7=()=>{var e;return((e=y.useContext(u7))==null?void 0:e.id)||null},m7=()=>y.useContext(f7);function p7(e){const{open:r=!1,onOpenChange:t,elements:a}=e,s=lF(),i=y.useRef({}),[o]=y.useState(()=>d7()),l=h7()!=null,[A,d]=y.useState(a.reference),f=s7((p,x,g)=>{i.current.openEvent=p?x:void 0,o.emit("openchange",{open:p,event:x,reason:g,nested:l}),t==null||t(p,x,g)}),h=y.useMemo(()=>({setPositionReference:d}),[]),m=y.useMemo(()=>({reference:A||a.reference||null,floating:a.floating||null,domReference:a.reference}),[A,a.reference,a.floating]);return y.useMemo(()=>({dataRef:i,open:r,onOpenChange:f,elements:m,events:o,floatingId:s,refs:h}),[r,f,m,o,s,h])}function g7(e){e===void 0&&(e={});const{nodeId:r}=e,t=p7({...e,elements:{reference:null,floating:null,...e.elements}}),a=e.rootContext||t,s=a.elements,[i,o]=y.useState(null),[l,A]=y.useState(null),f=(s==null?void 0:s.domReference)||i,h=y.useRef(null),m=m7();x0(()=>{f&&(h.current=f)},[f]);const p=YS({...e,elements:{...s,...l&&{reference:l}}}),x=y.useCallback(C=>{const E=Ni(C)?{getBoundingClientRect:()=>C.getBoundingClientRect(),getClientRects:()=>C.getClientRects(),contextElement:C}:C;A(E),p.refs.setReference(E)},[p.refs]),g=y.useCallback(C=>{(Ni(C)||C===null)&&(h.current=C,o(C)),(Ni(p.refs.reference.current)||p.refs.reference.current===null||C!==null&&!Ni(C))&&p.refs.setReference(C)},[p.refs]),w=y.useMemo(()=>({...p.refs,setReference:g,setPositionReference:x,domReference:h}),[p.refs,g,x]),j=y.useMemo(()=>({...p.elements,domReference:f}),[p.elements,f]),N=y.useMemo(()=>({...p,...a,refs:w,elements:j,nodeId:r}),[p,w,j,r,a]);return x0(()=>{a.dataRef.current.floatingContext=N;const C=m==null?void 0:m.nodesRef.current.find(E=>E.id===r);C&&(C.context=N)}),y.useMemo(()=>({...p,context:N,refs:w,elements:j}),[p,w,j,N])}/*!
  react-datepicker v8.8.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Iy=function(r,t){return Iy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},Iy(r,t)};function zs(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Iy(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var da=function(){return da=Object.assign||function(t){for(var a,s=1,i=arguments.length;s<i;s++){a=arguments[s];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},da.apply(this,arguments)};function ac(e,r,t){if(t||arguments.length===2)for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}var x7=function(e){var r=e.showTimeSelectOnly,t=r===void 0?!1:r,a=e.showTime,s=a===void 0?!1:a,i=e.className,o=e.children,l=t?"Choose Time":"Choose Date".concat(s?" and Time":"");return Ve.createElement("div",{className:i,role:"dialog","aria-label":l,"aria-modal":"true"},o)},v7=function(e,r){var t=y.useRef(null),a=y.useRef(e);a.current=e;var s=y.useCallback(function(i){var o,l=i.composed&&i.composedPath&&i.composedPath().find(function(A){return A instanceof Node})||i.target;t.current&&!t.current.contains(l)&&(r&&l instanceof HTMLElement&&l.classList.contains(r)||(o=a.current)===null||o===void 0||o.call(a,i))},[r]);return y.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),t},bx=function(e){var r=e.children,t=e.onClickOutside,a=e.className,s=e.containerRef,i=e.style,o=e.ignoreClass,l=v7(t,o);return Ve.createElement("div",{className:a,style:i,ref:function(A){l.current=A,s&&(s.current=A)}},r)},Ft;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Ft||(Ft={}));function cF(){var e=typeof window<"u"?window:globalThis;return e}var Tm=12;function Qa(e){if(e==null)return new Date;var r=typeof e=="string"?sF(e):sr(e);return jx(r)?r:new Date}function rw(e,r,t,a,s){s===void 0&&(s=Qa());for(var i=Hf(t)||Hf(gb()),o=Array.isArray(r)?r:[r],l=0,A=o;l<A.length;l++){var d=A[l],f=UH(e,d,s,{locale:i});if(jx(f)&&(!a||e===fn(f,d,t)))return f}return null}function jx(e,r){return f0(e)&&!rc(e,new Date("1/1/1800"))}function fn(e,r,t){if(t==="en")return ed(e,r,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var a=t?Hf(t):void 0;return t&&!a&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),a=a||Hf(gb()),ed(e,r,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function uo(e,r){var t=r.dateFormat,a=r.locale,s=Array.isArray(t)&&t.length>0?t[0]:t;return e&&fn(e,s,a)||""}var AF=" - ";function w7(e,r,t){if(!e&&!r)return"";var a=e?uo(e,t):"",s=r?uo(r,t):"",i=t.rangeSeparator||AF;return"".concat(a).concat(i).concat(s)}function y7(e,r){if(!(e!=null&&e.length))return"";var t=e[0]?uo(e[0],r):"";if(e.length===1)return t;if(e.length===2&&e[1]){var a=uo(e[1],r);return"".concat(t,", ").concat(a)}var s=e.length-1;return"".concat(t," (+").concat(s,")")}function aw(e,r){var t=r.hour,a=t===void 0?0:t,s=r.minute,i=s===void 0?0:s,o=r.second,l=o===void 0?0:o;return kg(Dg(Ug(e,l),i),a)}function b7(e){return fb(e)}function j7(e,r){return fn(e,"ddd",r)}function Lg(e){return wu(e)}function cd(e,r,t){var a=Hf(r||gb());return dA(e,{locale:a,weekStartsOn:t})}function oA(e){return GE(e)}function Hh(e){return yx(e)}function mN(e){return Dy(e)}function pN(){return wu(Qa())}function gN(e){return qE(e)}function N7(e){return M8(e)}function B7(e){return WE(e)}function Wl(e,r){return e&&r?QH(e,r):!e&&!r}function ji(e,r){return e&&r?IH(e,r):!e&&!r}function v0(e,r){return e&&r?PH(e,r):!e&&!r}function Aa(e,r){return e&&r?R8(e,r):!e&&!r}function nu(e,r){return e&&r?RO(e,r):!e&&!r}function Jd(e,r,t){var a,s=wu(r),i=qE(t);try{a=pm(e,{start:s,end:i})}catch{a=!1}return a}function gb(){var e=cF();return e.__localeId__}function Hf(e){if(typeof e=="string"){var r=cF();return r.__localeData__?r.__localeData__[e]:void 0}else return e}function C7(e,r,t){return r(fn(e,"EEEE",t))}function S7(e,r){return fn(e,"EEEEEE",r)}function _7(e,r){return fn(e,"EEE",r)}function xb(e,r){return fn(fo(Qa(),e),"LLLL",r)}function dF(e,r){return fn(fo(Qa(),e),"LLL",r)}function E7(e,r){return fn(gf(Qa(),e),"QQQ",r)}function Po(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.excludeDateIntervals,l=t.includeDates,A=t.includeDateIntervals,d=t.filterDate,f=t.disabled;return f?!0:Mm(e,{minDate:a,maxDate:s})||i&&i.some(function(h){return h instanceof Date?Aa(e,h):Aa(e,h.date)})||o&&o.some(function(h){var m=h.start,p=h.end;return pm(e,{start:m,end:p})})||l&&!l.some(function(h){return Aa(e,h)})||A&&!A.some(function(h){var m=h.start,p=h.end;return pm(e,{start:m,end:p})})||d&&!d(Qa(e))||!1}function vb(e,r){var t=r===void 0?{}:r,a=t.excludeDates,s=t.excludeDateIntervals;return s&&s.length>0?s.some(function(i){var o=i.start,l=i.end;return pm(e,{start:o,end:l})}):a&&a.some(function(i){var o;return i instanceof Date?Aa(e,i):Aa(e,(o=i.date)!==null&&o!==void 0?o:new Date)})||!1}function uF(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,l=t.filterDate;return Mm(e,{minDate:a?GE(a):void 0,maxDate:s?WE(s):void 0})||(i==null?void 0:i.some(function(A){return ji(e,A instanceof Date?A:A.date)}))||o&&!o.some(function(A){return ji(e,A)})||l&&!l(Qa(e))||!1}function Qp(e,r,t,a){var s=ea(e),i=di(e),o=ea(r),l=di(r),A=ea(a);return s===o&&s===A?i<=t&&t<=l:s<o?A===s&&i<=t||A===o&&l>=t||A<o&&A>s:!1}function F7(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates;return Mm(e,{minDate:a,maxDate:s})||i&&i.some(function(l){return ji(l instanceof Date?l:l.date,e)})||o&&!o.some(function(l){return ji(l,e)})||!1}function Rp(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,l=t.filterDate,A=t.disabled;return A?!0:Mm(e,{minDate:a,maxDate:s})||(i==null?void 0:i.some(function(d){return v0(e,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return v0(e,d)})||l&&!l(Qa(e))||!1}function Tp(e,r,t){if(!r||!t||!f0(r)||!f0(t))return!1;var a=ea(r),s=ea(t);return a<=e&&s>=e}function Ig(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,l=t.filterDate,A=t.disabled;if(A)return!0;var d=new Date(e,0,1);return Mm(d,{minDate:a?yx(a):void 0,maxDate:s?YE(s):void 0})||(i==null?void 0:i.some(function(f){return Wl(d,f instanceof Date?f:f.date)}))||o&&!o.some(function(f){return Wl(d,f)})||l&&!l(Qa(d))||!1}function Mp(e,r,t,a){var s=ea(e),i=lu(e),o=ea(r),l=lu(r),A=ea(a);return s===o&&s===A?i<=t&&t<=l:s<o?A===s&&i<=t||A===o&&l>=t||A<o&&A>s:!1}function Mm(e,r){var t,a=r===void 0?{}:r,s=a.minDate,i=a.maxDate;return(t=s&&Mf(e,s)<0||i&&Mf(e,i)>0)!==null&&t!==void 0?t:!1}function xN(e,r){return r.some(function(t){return sA(t)===sA(e)&&iA(t)===iA(e)&&ld(t)===ld(e)})}function vN(e,r){var t=r===void 0?{}:r,a=t.excludeTimes,s=t.includeTimes,i=t.filterTime;return a&&xN(e,a)||s&&!xN(e,s)||i&&!i(e)||!1}function wN(e,r){var t=r.minTime,a=r.maxTime;if(!t||!a)throw new Error("Both minTime and maxTime props required");var s=Qa();s=kg(s,sA(e)),s=Dg(s,iA(e)),s=Ug(s,ld(e));var i=Qa();i=kg(i,sA(t)),i=Dg(i,iA(t)),i=Ug(i,ld(t));var o=Qa();o=kg(o,sA(a)),o=Dg(o,iA(a)),o=Ug(o,ld(a));var l;try{l=!pm(s,{start:i,end:o})}catch{l=!1}return l}function yN(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.includeDates,i=cu(e,1);return a&&h0(a,i)>0||s&&s.every(function(o){return h0(o,i)>0})||!1}function bN(e,r){var t=r===void 0?{}:r,a=t.maxDate,s=t.includeDates,i=yl(e,1);return a&&h0(i,a)>0||s&&s.every(function(o){return h0(i,o)>0})||!1}function k7(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.includeDates,i=yx(e),o=oF(i);return a&&m0(a,o)>0||s&&s.every(function(l){return m0(l,o)>0})||!1}function D7(e,r){var t=r===void 0?{}:r,a=t.maxDate,s=t.includeDates,i=YE(e),o=ub(i,1);return a&&m0(o,a)>0||s&&s.every(function(l){return m0(o,l)>0})||!1}function jN(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.includeDates,i=Of(e,1);return a&&p0(a,i)>0||s&&s.every(function(o){return p0(o,i)>0})||!1}function U7(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.yearItemNumber,i=s===void 0?Tm:s,o=Hh(Of(e,i)),l=Zc(o,i).endPeriod,A=a&&ea(a);return A&&A>l||!1}function NN(e,r){var t=r===void 0?{}:r,a=t.maxDate,s=t.includeDates,i=aA(e,1);return a&&p0(i,a)>0||s&&s.every(function(o){return p0(i,o)>0})||!1}function L7(e,r){var t=r===void 0?{}:r,a=t.maxDate,s=t.yearItemNumber,i=s===void 0?Tm:s,o=aA(e,i),l=Zc(o,i).startPeriod,A=a&&ea(a);return A&&A<l||!1}function fF(e){var r=e.minDate,t=e.includeDates;if(t&&r){var a=t.filter(function(s){return Mf(s,r)>=0});return sN(a)}else return t?sN(t):r}function hF(e){var r=e.maxDate,t=e.includeDates;if(t&&r){var a=t.filter(function(s){return Mf(s,r)<=0});return nN(a)}else return t?nN(t):r}function BN(e,r){var t;e===void 0&&(e=[]),r===void 0&&(r="react-datepicker__day--highlighted");for(var a=new Map,s=0,i=e.length;s<i;s++){var o=e[s];if(nA(o)){var l=fn(o,"MM.dd.yyyy"),A=a.get(l)||[];A.includes(r)||(A.push(r),a.set(l,A))}else if(typeof o=="object"){var d=Object.keys(o),f=(t=d[0])!==null&&t!==void 0?t:"",h=o[f];if(typeof f=="string"&&Array.isArray(h))for(var m=0,p=h.length;m<p;m++){var x=h[m];if(x){var l=fn(x,"MM.dd.yyyy"),A=a.get(l)||[];A.includes(f)||(A.push(f),a.set(l,A))}}}}return a}function I7(e,r){return e.length!==r.length?!1:e.every(function(t,a){return t===r[a]})}function P7(e,r){e===void 0&&(e=[]),r===void 0&&(r="react-datepicker__day--holidays");var t=new Map;return e.forEach(function(a){var s=a.date,i=a.holidayName;if(nA(s)){var o=fn(s,"MM.dd.yyyy"),l=t.get(o)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===r&&I7(l.holidayNames,[i]))){l.className=r;var A=l.holidayNames;l.holidayNames=A?ac(ac([],A,!0),[i],!1):[i],t.set(o,l)}}}),t}function Q7(e,r,t,a,s){for(var i=s.length,o=[],l=0;l<i;l++){var A=e,d=s[l];d&&(A=L8(A,sA(d)),A=ky(A,iA(d)),A=Q8(A,ld(d)));var f=ky(e,(t+1)*a);gd(A,r)&&rc(A,f)&&d!=null&&o.push(d)}return o}function CN(e){return e<10?"0".concat(e):"".concat(e)}function Zc(e,r){r===void 0&&(r=Tm);var t=Math.ceil(ea(e)/r)*r,a=t-(r-1);return{startPeriod:a,endPeriod:t}}function R7(e){var r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+t-+r)/36e5)}function SN(e){var r=e.getSeconds(),t=e.getMilliseconds();return sr(e.getTime()-r*1e3-t)}function T7(e,r){return SN(e).getTime()===SN(r).getTime()}function _N(e){if(!nA(e))throw new Error("Invalid date");var r=new Date(e);return r.setHours(0,0,0,0),r}function nw(e,r){if(!nA(e)||!nA(r))throw new Error("Invalid date received");var t=_N(e),a=_N(r);return rc(t,a)}function mF(e){return e.key===Ft.Space}var M7=(function(e){zs(r,e);function r(t){var a=e.call(this,t)||this;return a.inputRef=Ve.createRef(),a.onTimeChange=function(s){var i,o;a.setState({time:s});var l=a.props.date,A=l instanceof Date&&!isNaN(+l),d=A?l:new Date;if(s!=null&&s.includes(":")){var f=s.split(":"),h=f[0],m=f[1];d.setHours(Number(h)),d.setMinutes(Number(m))}(o=(i=a.props).onChange)===null||o===void 0||o.call(i,d)},a.renderTimeInput=function(){var s=a.state.time,i=a.props,o=i.date,l=i.timeString,A=i.customTimeInput;return A?y.cloneElement(A,{date:o,value:s,onChange:a.onTimeChange}):Ve.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:a.inputRef,onClick:function(){var d;(d=a.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:s,onChange:function(d){a.onTimeChange(d.target.value||l)}})},a.state={time:a.props.timeString},a}return r.getDerivedStateFromProps=function(t,a){return t.timeString!==a.time?{time:t.timeString}:null},r.prototype.render=function(){return Ve.createElement("div",{className:"react-datepicker__input-time-container"},Ve.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),Ve.createElement("div",{className:"react-datepicker-time__input-container"},Ve.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},r})(y.Component),O7=(function(e){zs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.dayEl=y.createRef(),t.handleClick=function(a){!t.isDisabled()&&t.props.onClick&&t.props.onClick(a)},t.handleMouseEnter=function(a){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(a)},t.handleOnKeyDown=function(a){var s,i,o=a.key;o===Ft.Space&&(a.preventDefault(),a.key=Ft.Enter),(i=(s=t.props).handleOnKeyDown)===null||i===void 0||i.call(s,a)},t.isSameDay=function(a){return Aa(t.props.day,a)},t.isKeyboardSelected=function(){var a;if(t.props.disabledKeyboardNavigation)return!1;var s=t.props.selectsMultiple?(a=t.props.selectedDates)===null||a===void 0?void 0:a.some(function(o){return t.isSameDayOrWeek(o)}):t.isSameDayOrWeek(t.props.selected),i=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!s&&t.isSameDayOrWeek(t.props.preSelection)&&!i},t.isDisabled=function(a){return a===void 0&&(a=t.props.day),Po(a,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return vb(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Aa(t.props.day,cd(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(a){return t.props.showWeekPicker&&Aa(a,cd(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(a){return t.isSameDay(a)||t.isSameWeek(a)},t.getHighLightedClass=function(){var a=t.props,s=a.day,i=a.highlightDates;if(!i)return!1;var o=fn(s,"MM.dd.yyyy");return i.get(o)},t.getHolidaysClass=function(){var a,s=t.props,i=s.day,o=s.holidays;if(!o)return[void 0];var l=fn(i,"MM.dd.yyyy");return o.has(l)?[(a=o.get(l))===null||a===void 0?void 0:a.className]:[void 0]},t.isInRange=function(){var a=t.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:Jd(s,i,o)},t.isInSelectingRange=function(){var a,s=t.props,i=s.day,o=s.selectsStart,l=s.selectsEnd,A=s.selectsRange,d=s.selectsDisabledDaysInRange,f=s.startDate,h=s.swapRange,m=s.endDate,p=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;if(!(o||l||A)||!p||!d&&t.isDisabled())return!1;if(o&&m&&(rc(p,m)||nu(p,m)))return Jd(i,p,m);if(l&&f&&(gd(p,f)||nu(p,f)))return Jd(i,f,p);if(A&&f&&!m){if(nu(p,f)||gd(p,f))return Jd(i,f,p);if(h&&rc(p,f))return Jd(i,p,f)}return!1},t.isSelectingRangeStart=function(){var a;if(!t.isInSelectingRange())return!1;var s=t.props,i=s.day,o=s.startDate,l=s.selectsStart,A=s.swapRange,d=s.selectsRange,f=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return l?Aa(i,f):d&&A&&o&&f?Aa(i,rc(f,o)?f:o):Aa(i,o)},t.isSelectingRangeEnd=function(){var a;if(!t.isInSelectingRange())return!1;var s=t.props,i=s.day,o=s.endDate,l=s.selectsEnd,A=s.selectsRange,d=s.swapRange,f=s.startDate,h=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return l?Aa(i,h):A&&d&&f&&h?Aa(i,rc(h,f)?f:h):A?Aa(i,h):Aa(i,o)},t.isRangeStart=function(){var a=t.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:Aa(i,s)},t.isRangeEnd=function(){var a=t.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:Aa(o,s)},t.isWeekend=function(){var a=LO(t.props.day);return a===0||a===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===di(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(di(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Qa())},t.isSelected=function(){var a;return t.props.selectsMultiple?(a=t.props.selectedDates)===null||a===void 0?void 0:a.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(a){var s=t.props.dayClassName?t.props.dayClassName(a):void 0;return Ps("react-datepicker__day",s,"react-datepicker__day--"+j7(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var a=t.props,s=a.day,i=a.ariaLabelPrefixWhenEnabled,o=i===void 0?"Choose":i,l=a.ariaLabelPrefixWhenDisabled,A=l===void 0?"Not available":l,d=t.isDisabled()||t.isExcluded()?A:o;return"".concat(d," ").concat(fn(s,"PPPP",t.props.locale))},t.getTitle=function(){var a=t.props,s=a.day,i=a.holidays,o=i===void 0?new Map:i,l=a.excludeDates,A=fn(s,"MM.dd.yyyy"),d=[];return o.has(A)&&d.push.apply(d,o.get(A).holidayNames),t.isExcluded()&&d.push(l==null?void 0:l.filter(function(f){return f instanceof Date?Aa(f,s):Aa(f==null?void 0:f.date,s)}).map(function(f){if(!(f instanceof Date))return f==null?void 0:f.message})),d.join(", ")},t.getTabIndex=function(){var a=t.props.selected,s=t.props.preSelection,i=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(a)&&Aa(s,a))?0:-1;return i},t.handleFocusDay=function(){var a;t.shouldFocusDay()&&((a=t.dayEl.current)===null||a===void 0||a.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(dN(t.props.day),t.props.day):dN(t.props.day)},t.render=function(){return Ve.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&Ve.createElement("span",{className:"overlay"},t.getTitle()))},t}return r.prototype.componentDidMount=function(){this.handleFocusDay()},r.prototype.componentDidUpdate=function(){this.handleFocusDay()},r.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},r.prototype.isDayActiveElement=function(){var t,a,s;return((a=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||a===void 0?void 0:a.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},r.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},r})(y.Component),H7=(function(e){zs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.weekNumberEl=y.createRef(),t.handleClick=function(a){t.props.onClick&&t.props.onClick(a)},t.handleOnKeyDown=function(a){var s,i,o=a.key;o===Ft.Space&&(a.preventDefault(),a.key=Ft.Enter),(i=(s=t.props).handleOnKeyDown)===null||i===void 0||i.call(s,a)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Aa(t.props.date,t.props.selected)&&Aa(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Aa(t.props.date,t.props.selected)&&Aa(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(a){var s=!1;t.getTabIndex()===0&&!(a!=null&&a.isInputFocused)&&Aa(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(s=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},r.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},r.prototype.render=function(){var t=this.props,a=t.weekNumber,s=t.isWeekDisabled,i=t.ariaLabelPrefix,o=i===void 0?r.defaultProps.ariaLabelPrefix:i,l=t.onClick,A={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!s,"react-datepicker__week-number--selected":!!l&&Aa(this.props.date,this.props.selected)};return Ve.createElement("div",{ref:this.weekNumberEl,className:Ps(A),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},a)},r})(y.Component),$7=(function(e){zs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isDisabled=function(a){return Po(a,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(a,s){t.props.onDayClick&&t.props.onDayClick(a,s)},t.handleDayMouseEnter=function(a){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(a)},t.handleWeekClick=function(a,s,i){for(var o,l,A,d=new Date(a),f=0;f<7;f++){var h=new Date(a);h.setDate(h.getDate()+f);var m=!t.isDisabled(h);if(m){d=h;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,s,i),t.props.showWeekPicker&&t.handleDayClick(d,i),((o=t.props.shouldCloseOnSelect)!==null&&o!==void 0?o:r.defaultProps.shouldCloseOnSelect)&&((A=(l=t.props).setOpen)===null||A===void 0||A.call(l,!1))},t.formatWeekNumber=function(a){return t.props.formatWeekNumber?t.props.formatWeekNumber(a):b7(a)},t.isWeekDisabled=function(){for(var a=t.startOfWeek(),s=vl(a,6),i=new Date(a);i<=s;){if(!t.isDisabled(i))return!1;i=vl(i,1)}return!0},t.renderDays=function(){var a=t.startOfWeek(),s=[],i=t.formatWeekNumber(a);if(t.props.showWeekNumber){var o=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,a,i):void 0;s.push(Ve.createElement(H7,da({key:"W"},r.defaultProps,t.props,{weekNumber:i,isWeekDisabled:t.isWeekDisabled(),date:a,onClick:o})))}return s.concat([0,1,2,3,4,5,6].map(function(l){var A=vl(a,l);return Ve.createElement(O7,da({},r.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:A.valueOf(),day:A,onClick:t.handleDayClick.bind(t,A),onMouseEnter:t.handleDayMouseEnter.bind(t,A)}))}))},t.startOfWeek=function(){return cd(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Aa(t.startOfWeek(),t.props.selected)&&Aa(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Aa(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},a=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return Ve.createElement("div",{className:Ps(t,a),role:"row"},this.renderDays())},r})(y.Component),Uh,K7=6,Ff={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},sw=(Uh={},Uh[Ff.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Uh[Ff.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Uh[Ff.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Uh),Op=1;function EN(e,r){return e?Ff.FOUR_COLUMNS:r?Ff.TWO_COLUMNS:Ff.THREE_COLUMNS}var z7=(function(e){zs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.MONTH_REFS=ac([],Array(12),!0).map(function(){return y.createRef()}),t.QUARTER_REFS=ac([],Array(4),!0).map(function(){return y.createRef()}),t.isDisabled=function(a){return Po(a,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(a){return vb(a,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(a,s){var i,o;(o=(i=t.props).onDayClick)===null||o===void 0||o.call(i,a,s,t.props.orderInDisplay)},t.handleDayMouseEnter=function(a){var s,i;(i=(s=t.props).onDayMouseEnter)===null||i===void 0||i.call(s,a)},t.handleMouseLeave=function(){var a,s;(s=(a=t.props).onMouseLeave)===null||s===void 0||s.call(a)},t.isRangeStartMonth=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:ji(fo(i,a),o)},t.isRangeStartQuarter=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:v0(gf(i,a),o)},t.isRangeEndMonth=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:ji(fo(i,a),l)},t.isRangeEndQuarter=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:v0(gf(i,a),l)},t.isInSelectingRangeMonth=function(a){var s,i=t.props,o=i.day,l=i.selectsStart,A=i.selectsEnd,d=i.selectsRange,f=i.startDate,h=i.endDate,m=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(l||A||d)||!m?!1:l&&h?Qp(m,h,a,o):A&&f||d&&f&&!h?Qp(f,m,a,o):!1},t.isSelectingMonthRangeStart=function(a){var s;if(!t.isInSelectingRangeMonth(a))return!1;var i=t.props,o=i.day,l=i.startDate,A=i.selectsStart,d=fo(o,a),f=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return A?ji(d,f):ji(d,l)},t.isSelectingMonthRangeEnd=function(a){var s;if(!t.isInSelectingRangeMonth(a))return!1;var i=t.props,o=i.day,l=i.endDate,A=i.selectsEnd,d=i.selectsRange,f=fo(o,a),h=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return A||d?ji(f,h):ji(f,l)},t.isInSelectingRangeQuarter=function(a){var s,i=t.props,o=i.day,l=i.selectsStart,A=i.selectsEnd,d=i.selectsRange,f=i.startDate,h=i.endDate,m=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(l||A||d)||!m?!1:l&&h?Mp(m,h,a,o):A&&f||d&&f&&!h?Mp(f,m,a,o):!1},t.isWeekInMonth=function(a){var s=t.props.day,i=vl(a,6);return ji(a,s)||ji(i,s)},t.isCurrentMonth=function(a,s){return ea(a)===ea(Qa())&&s===di(Qa())},t.isCurrentQuarter=function(a,s){return ea(a)===ea(Qa())&&s===lu(Qa())},t.isSelectedMonth=function(a,s,i){return di(i)===s&&ea(a)===ea(i)},t.isSelectMonthInList=function(a,s,i){return i.some(function(o){return t.isSelectedMonth(a,s,o)})},t.isSelectedQuarter=function(a,s,i){return lu(a)===s&&ea(a)===ea(i)},t.isMonthSelected=function(){var a=t.props,s=a.day,i=a.selected,o=a.selectedDates,l=a.selectsMultiple,A=di(s);return l?o==null?void 0:o.some(function(d){return t.isSelectedMonth(s,A,d)}):!!i&&t.isSelectedMonth(s,A,i)},t.renderWeeks=function(){for(var a=[],s=t.props.fixedHeight,i=0,o=!1,l=cd(oA(t.props.day),t.props.locale,t.props.calendarStartDay),A=function(x){return t.props.showWeekPicker?cd(x,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(x){return t.props.showWeekPicker?cd(x,t.props.locale,t.props.calendarStartDay):t.props.selected},f=t.props.selected?d(t.props.selected):void 0,h=t.props.preSelection?A(t.props.preSelection):void 0;a.push(Ve.createElement($7,da({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:i,day:l,month:di(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:f,preSelection:h,showWeekNumber:t.props.showWeekNumbers}))),!o;){i++,l=u0(l,1);var m=s&&i>=K7,p=!s&&!t.isWeekInMonth(l);if(m||p)if(t.props.peekNextMonth)o=!0;else break}return a},t.onMonthClick=function(a,s){var i=t.isMonthDisabledForLabelDate(s),o=i.isDisabled,l=i.labelDate;o||t.handleDayClick(oA(l),a)},t.onMonthMouseEnter=function(a){var s=t.isMonthDisabledForLabelDate(a),i=s.isDisabled,o=s.labelDate;i||t.handleDayMouseEnter(oA(o))},t.handleMonthNavigation=function(a,s){var i,o,l,A;(o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,s),(A=(l=t.MONTH_REFS[a])===null||l===void 0?void 0:l.current)===null||A===void 0||A.focus()},t.handleKeyboardNavigation=function(a,s,i){var o,l=t.props,A=l.selected,d=l.preSelection,f=l.setPreSelection,h=l.minDate,m=l.maxDate,p=l.showFourColumnMonthYearPicker,x=l.showTwoColumnMonthYearPicker;if(d){var g=EN(p,x),w=t.getVerticalOffset(g),j=(o=sw[g])===null||o===void 0?void 0:o.grid,N=function(F,L,_){var q,R,H=L,J=_;switch(F){case Ft.ArrowRight:H=yl(L,Op),J=_===11?0:_+Op;break;case Ft.ArrowLeft:H=cu(L,Op),J=_===0?11:_-Op;break;case Ft.ArrowUp:H=cu(L,w),J=!((q=j==null?void 0:j[0])===null||q===void 0)&&q.includes(_)?_+12-w:_-w;break;case Ft.ArrowDown:H=yl(L,w),J=!((R=j==null?void 0:j[j.length-1])===null||R===void 0)&&R.includes(_)?_-12+w:_+w;break}return{newCalculatedDate:H,newCalculatedMonth:J}},C=function(F,L,_){for(var q=40,R=F,H=!1,J=0,T=N(R,L,_),re=T.newCalculatedDate,z=T.newCalculatedMonth;!H;){if(J>=q){re=L,z=_;break}if(h&&re<h){R=Ft.ArrowRight;var G=N(R,re,z);re=G.newCalculatedDate,z=G.newCalculatedMonth}if(m&&re>m){R=Ft.ArrowLeft;var G=N(R,re,z);re=G.newCalculatedDate,z=G.newCalculatedMonth}if(F7(re,t.props)){var G=N(R,re,z);re=G.newCalculatedDate,z=G.newCalculatedMonth}else H=!0;J++}return{newCalculatedDate:re,newCalculatedMonth:z}};if(s===Ft.Enter){t.isMonthDisabled(i)||(t.onMonthClick(a,i),f==null||f(A));return}var E=C(s,d,i),Q=E.newCalculatedDate,U=E.newCalculatedMonth;switch(s){case Ft.ArrowRight:case Ft.ArrowLeft:case Ft.ArrowUp:case Ft.ArrowDown:t.handleMonthNavigation(U,Q);break}}},t.getVerticalOffset=function(a){var s,i;return(i=(s=sw[a])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&i!==void 0?i:0},t.onMonthKeyDown=function(a,s){var i=t.props,o=i.disabledKeyboardNavigation,l=i.handleOnMonthKeyDown,A=a.key;A!==Ft.Tab&&a.preventDefault(),o||t.handleKeyboardNavigation(a,A,s),l&&l(a)},t.onQuarterClick=function(a,s){var i=gf(t.props.day,s);Rp(i,t.props)||t.handleDayClick(mN(i),a)},t.onQuarterMouseEnter=function(a){var s=gf(t.props.day,a);Rp(s,t.props)||t.handleDayMouseEnter(mN(s))},t.handleQuarterNavigation=function(a,s){var i,o,l,A;t.isDisabled(s)||t.isExcluded(s)||((o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,s),(A=(l=t.QUARTER_REFS[a-1])===null||l===void 0?void 0:l.current)===null||A===void 0||A.focus())},t.onQuarterKeyDown=function(a,s){var i,o,l=a.key;if(!t.props.disabledKeyboardNavigation)switch(l){case Ft.Enter:t.onQuarterClick(a,s),(o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,t.props.selected);break;case Ft.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===4?1:s+1,ub(t.props.preSelection,1));break;case Ft.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===1?4:s-1,oF(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(a){var s,i=t.props,o=i.day,l=i.disabled,A=i.minDate,d=i.maxDate,f=i.excludeDates,h=i.includeDates,m=fo(o,a);return l?{isDisabled:!0,labelDate:fo(o,a)}:{isDisabled:(s=(A||d||f||h)&&uF(m,t.props))!==null&&s!==void 0?s:!1,labelDate:m}},t.isMonthDisabled=function(a){var s=t.isMonthDisabledForLabelDate(a).isDisabled;return s},t.getMonthClassNames=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate,A=s.preSelection,d=s.monthClassName,f=d?d(fo(i,a)):void 0,h=t.getSelection();return Ps("react-datepicker__month-text","react-datepicker__month-".concat(a),f,{"react-datepicker__month-text--disabled":t.isMonthDisabled(a),"react-datepicker__month-text--selected":h?t.isSelectMonthInList(i,a,h):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&A&&t.isSelectedMonth(i,a,A)&&!t.isMonthSelected()&&!t.isMonthDisabled(a),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(a),"react-datepicker__month-text--in-range":o&&l?Qp(o,l,a,i):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(a),"react-datepicker__month-text--range-end":t.isRangeEndMonth(a),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(a),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(a),"react-datepicker__month-text--today":t.isCurrentMonth(i,a)})},t.getTabIndex=function(a){if(t.props.preSelection==null)return"-1";var s=di(t.props.preSelection),i=t.isMonthDisabledForLabelDate(s).isDisabled,o=a===s&&!(i||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getQuarterTabIndex=function(a){if(t.props.preSelection==null)return"-1";var s=lu(t.props.preSelection),i=Rp(t.props.day,t.props),o=a===s&&!(i||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getAriaLabel=function(a){var s=t.props,i=s.chooseDayAriaLabelPrefix,o=i===void 0?"Choose":i,l=s.disabledDayAriaLabelPrefix,A=l===void 0?"Not available":l,d=s.day,f=s.locale,h=fo(d,a),m=t.isDisabled(h)||t.isExcluded(h)?A:o;return"".concat(m," ").concat(fn(h,"MMMM yyyy",f))},t.getQuarterClassNames=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate,A=s.selected,d=s.minDate,f=s.maxDate,h=s.excludeDates,m=s.includeDates,p=s.filterDate,x=s.preSelection,g=s.disabledKeyboardNavigation,w=s.disabled,j=(d||f||h||m||p||w)&&Rp(gf(i,a),t.props);return Ps("react-datepicker__quarter-text","react-datepicker__quarter-".concat(a),{"react-datepicker__quarter-text--disabled":j,"react-datepicker__quarter-text--selected":A?t.isSelectedQuarter(i,a,A):void 0,"react-datepicker__quarter-text--keyboard-selected":!g&&x&&t.isSelectedQuarter(i,a,x)&&!j,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(a),"react-datepicker__quarter-text--in-range":o&&l?Mp(o,l,a,i):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(a),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(a),"react-datepicker__quarter-text--today":t.isCurrentQuarter(i,a)})},t.getMonthContent=function(a){var s=t.props,i=s.showFullMonthYearPicker,o=s.renderMonthContent,l=s.locale,A=s.day,d=dF(a,l),f=xb(a,l);return o?o(a,d,f,A):i?f:d},t.getQuarterContent=function(a){var s,i=t.props,o=i.renderQuarterContent,l=i.locale,A=E7(a,l);return(s=o==null?void 0:o(a,A))!==null&&s!==void 0?s:A},t.renderMonths=function(){var a,s=t.props,i=s.showTwoColumnMonthYearPicker,o=s.showFourColumnMonthYearPicker,l=s.day,A=s.selected,d=(a=sw[EN(o,i)])===null||a===void 0?void 0:a.grid;return d==null?void 0:d.map(function(f,h){return Ve.createElement("div",{className:"react-datepicker__month-wrapper",key:h},f.map(function(m,p){return Ve.createElement("div",{ref:t.MONTH_REFS[m],key:p,onClick:function(x){t.onMonthClick(x,m)},onKeyDown:function(x){mF(x)&&(x.preventDefault(),x.key=Ft.Enter),t.onMonthKeyDown(x,m)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(m)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(m)}:void 0,tabIndex:Number(t.getTabIndex(m)),className:t.getMonthClassNames(m),"aria-disabled":t.isMonthDisabled(m),role:"option","aria-label":t.getAriaLabel(m),"aria-current":t.isCurrentMonth(l,m)?"date":void 0,"aria-selected":A?t.isSelectedMonth(l,m,A):void 0},t.getMonthContent(m))}))})},t.renderQuarters=function(){var a=t.props,s=a.day,i=a.selected,o=[1,2,3,4];return Ve.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(l,A){return Ve.createElement("div",{key:A,ref:t.QUARTER_REFS[A],role:"option",onClick:function(d){t.onQuarterClick(d,l)},onKeyDown:function(d){t.onQuarterKeyDown(d,l)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(l)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(l)}:void 0,className:t.getQuarterClassNames(l),"aria-selected":i?t.isSelectedQuarter(s,l,i):void 0,tabIndex:Number(t.getQuarterTabIndex(l)),"aria-current":t.isCurrentQuarter(s,l)?"date":void 0},t.getQuarterContent(l))}))},t.getClassNames=function(){var a=t.props,s=a.selectingDate,i=a.selectsStart,o=a.selectsEnd,l=a.showMonthYearPicker,A=a.showQuarterYearPicker,d=a.showWeekPicker;return Ps("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(i||o)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":A},{"react-datepicker__weekPicker":d})},t}return r.prototype.getSelection=function(){var t=this.props,a=t.selected,s=t.selectedDates,i=t.selectsMultiple;if(i)return s;if(a)return[a]},r.prototype.render=function(){var t=this.props,a=t.showMonthYearPicker,s=t.showQuarterYearPicker,i=t.day,o=t.ariaLabelPrefix,l=o===void 0?"Month ":o,A=l?l.trim()+" ":"",d=a||s;return d?Ve.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(A).concat(fn(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},a?this.renderMonths():this.renderQuarters()):Ve.createElement("div",{role:"table"},this.props.dayNamesHeader&&Ve.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),Ve.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(A).concat(fn(i,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},r})(y.Component),V7=(function(e){zs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(a){return t.props.month===a},t.handleOptionKeyDown=function(a,s){var i;switch(s.key){case"Enter":s.preventDefault(),t.onChange(a);break;case"Escape":s.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{s.preventDefault();var o=(a+(s.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(i=t.monthOptionButtonsRef[o])===null||i===void 0||i.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(a,s){return Ve.createElement("div",{ref:function(i){t.monthOptionButtonsRef[s]=i,t.isSelectedMonth(s)&&(i==null||i.focus())},role:"button",tabIndex:0,className:t.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:a,onClick:t.onChange.bind(t,s),onKeyDown:t.handleOptionKeyDown.bind(t,s),"aria-selected":t.isSelectedMonth(s)?"true":void 0},t.isSelectedMonth(s)?Ve.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",a)})},t.onChange=function(a){return t.props.onChange(a)},t.handleClickOutside=function(){return t.props.onCancel()},t}return r.prototype.render=function(){return Ve.createElement(bx,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},r})(y.Component),q7=(function(e){zs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(a){return a.map(function(s,i){return Ve.createElement("option",{key:s,value:i},s)})},t.renderSelectMode=function(a){return Ve.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(s){return t.onChange(parseInt(s.target.value))}},t.renderSelectOptions(a))},t.renderReadView=function(a,s){return Ve.createElement("button",{key:"read",type:"button",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},Ve.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),Ve.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[t.props.month]))},t.renderDropdown=function(a){return Ve.createElement(V7,da({key:"dropdown"},t.props,{monthNames:a,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(a){var s=t.state.dropdownVisible,i=[t.renderReadView(!s,a)];return s&&i.unshift(t.renderDropdown(a)),i},t.onChange=function(a){t.toggleDropdown(),a!==t.props.month&&t.props.onChange(a)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return r.prototype.render=function(){var t=this,a=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return dF(i,t.props.locale)}:function(i){return xb(i,t.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(a);break;case"select":s=this.renderSelectMode(a);break}return Ve.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},r})(y.Component);function W7(e,r){for(var t=[],a=oA(e),s=oA(r);!gd(a,s);)t.push(Qa(a)),a=yl(a,1);return t}var G7=(function(e){zs(r,e);function r(t){var a=e.call(this,t)||this;return a.renderOptions=function(){return a.state.monthYearsList.map(function(s){var i=Ly(s),o=Wl(a.props.date,s)&&ji(a.props.date,s);return Ve.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:a.onChange.bind(a,i),"aria-selected":o?"true":void 0},o?Ve.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",fn(s,a.props.dateFormat,a.props.locale))})},a.onChange=function(s){return a.props.onChange(s)},a.handleClickOutside=function(){a.props.onCancel()},a.state={monthYearsList:W7(a.props.minDate,a.props.maxDate)},a}return r.prototype.render=function(){var t=Ps({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return Ve.createElement(bx,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},r})(y.Component),Y7=(function(e){zs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var a=oA(t.props.minDate),s=oA(t.props.maxDate),i=[];!gd(a,s);){var o=Ly(a);i.push(Ve.createElement("option",{key:o,value:o},fn(a,t.props.dateFormat,t.props.locale))),a=yl(a,1)}return i},t.onSelectChange=function(a){t.onChange(parseInt(a.target.value))},t.renderSelectMode=function(){return Ve.createElement("select",{value:Ly(oA(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(a){var s=fn(t.props.date,t.props.dateFormat,t.props.locale);return Ve.createElement("div",{key:"read",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},Ve.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),Ve.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},t.renderDropdown=function(){return Ve.createElement(G7,da({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var a=t.state.dropdownVisible,s=[t.renderReadView(!a)];return a&&s.unshift(t.renderDropdown()),s},t.onChange=function(a){t.toggleDropdown();var s=Qa(a);Wl(t.props.date,s)&&ji(t.props.date,s)||t.props.onChange(s)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return r.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Ve.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},r})(y.Component),X7=(function(e){zs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var a,s,i;t.list&&(t.list.scrollTop=(i=t.centerLi&&r.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((s=(a=t.header)===null||a===void 0?void 0:a.clientHeight)!==null&&s!==void 0?s:0):t.list.clientHeight,t.centerLi))!==null&&i!==void 0?i:0)})},t.handleClick=function(a){var s,i;(t.props.minTime||t.props.maxTime)&&wN(a,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&vN(a,t.props)||(i=(s=t.props).onChange)===null||i===void 0||i.call(s,a)},t.isSelectedTime=function(a){return t.props.selected&&T7(t.props.selected,a)},t.isDisabledTime=function(a){return(t.props.minTime||t.props.maxTime)&&wN(a,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&vN(a,t.props)},t.liClasses=function(a){var s,i=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(a):void 0];return t.isSelectedTime(a)&&i.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(a)&&i.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(sA(a)*3600+iA(a)*60+ld(a))%(((s=t.props.intervals)!==null&&s!==void 0?s:r.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},t.handleOnKeyDown=function(a,s){var i,o;a.key===Ft.Space&&(a.preventDefault(),a.key=Ft.Enter),(a.key===Ft.ArrowUp||a.key===Ft.ArrowLeft)&&a.target instanceof HTMLElement&&a.target.previousSibling&&(a.preventDefault(),a.target.previousSibling instanceof HTMLElement&&a.target.previousSibling.focus()),(a.key===Ft.ArrowDown||a.key===Ft.ArrowRight)&&a.target instanceof HTMLElement&&a.target.nextSibling&&(a.preventDefault(),a.target.nextSibling instanceof HTMLElement&&a.target.nextSibling.focus()),a.key===Ft.Enter&&t.handleClick(s),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,a)},t.renderTimes=function(){for(var a,s=[],i=typeof t.props.format=="string"?t.props.format:"p",o=(a=t.props.intervals)!==null&&a!==void 0?a:r.defaultProps.intervals,l=t.props.selected||t.props.openToDate||Qa(),A=Lg(l),d=t.props.injectTimes&&t.props.injectTimes.sort(function(w,j){return w.getTime()-j.getTime()}),f=60*R7(l),h=f/o,m=0;m<h;m++){var p=ky(A,m*o);if(s.push(p),d){var x=Q7(A,p,m,o,d);s=s.concat(x)}}var g=s.reduce(function(w,j){return j.getTime()<=l.getTime()?j:w},s[0]);return s.map(function(w){return Ve.createElement("li",{key:w.valueOf(),onClick:t.handleClick.bind(t,w),className:t.liClasses(w),ref:function(j){w===g&&(t.centerLi=j)},onKeyDown:function(j){t.handleOnKeyDown(j,w)},tabIndex:w===g?0:-1,role:"option","aria-selected":t.isSelectedTime(w)?"true":void 0,"aria-disabled":t.isDisabledTime(w)?"true":void 0},fn(w,i,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?Ve.createElement(Ve.Fragment,null):Ve.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(a){t.header=a}},Ve.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},r.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},r.prototype.observeDatePickerHeightChanges=function(){var t=this,a=this.props.monthRef;this.updateContainerHeight(),a&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(a))},r.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},r.prototype.render=function(){var t=this,a,s=this.state.height;return Ve.createElement("div",{className:"react-datepicker__time-container ".concat(((a=this.props.todayButton)!==null&&a!==void 0?a:r.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),Ve.createElement("div",{className:"react-datepicker__time"},Ve.createElement("div",{className:"react-datepicker__time-box"},Ve.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){t.list=i},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},r.calcCenterPosition=function(t,a){return a.offsetTop-(t/2-a.clientHeight/2)},r})(y.Component),FN=3,J7=(function(e){zs(r,e);function r(t){var a=e.call(this,t)||this;return a.YEAR_REFS=ac([],Array(a.props.yearItemNumber),!0).map(function(){return y.createRef()}),a.isDisabled=function(s){return Po(s,{minDate:a.props.minDate,maxDate:a.props.maxDate,excludeDates:a.props.excludeDates,includeDates:a.props.includeDates,filterDate:a.props.filterDate})},a.isExcluded=function(s){return vb(s,{excludeDates:a.props.excludeDates})},a.selectingDate=function(){var s;return(s=a.props.selectingDate)!==null&&s!==void 0?s:a.props.preSelection},a.updateFocusOnPaginate=function(s){var i=function(){var o,l;(l=(o=a.YEAR_REFS[s])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(i)},a.handleYearClick=function(s,i){a.props.onDayClick&&a.props.onDayClick(s,i)},a.handleYearNavigation=function(s,i){var o,l,A,d,f=a.props,h=f.date,m=f.yearItemNumber;if(!(h===void 0||m===void 0)){var p=Zc(h,m).startPeriod;a.isDisabled(i)||a.isExcluded(i)||((l=(o=a.props).setPreSelection)===null||l===void 0||l.call(o,i),s-p<0?a.updateFocusOnPaginate(m-(p-s)):s-p>=m?a.updateFocusOnPaginate(Math.abs(m-(s-p))):(d=(A=a.YEAR_REFS[s-p])===null||A===void 0?void 0:A.current)===null||d===void 0||d.focus())}},a.isSameDay=function(s,i){return Aa(s,i)},a.isCurrentYear=function(s){return s===ea(Qa())},a.isRangeStart=function(s){return a.props.startDate&&a.props.endDate&&Wl(ql(Qa(),s),a.props.startDate)},a.isRangeEnd=function(s){return a.props.startDate&&a.props.endDate&&Wl(ql(Qa(),s),a.props.endDate)},a.isInRange=function(s){return Tp(s,a.props.startDate,a.props.endDate)},a.isInSelectingRange=function(s){var i=a.props,o=i.selectsStart,l=i.selectsEnd,A=i.selectsRange,d=i.startDate,f=i.endDate;return!(o||l||A)||!a.selectingDate()?!1:o&&f?Tp(s,a.selectingDate(),f):l&&d||A&&d&&!f?Tp(s,d,a.selectingDate()):!1},a.isSelectingRangeStart=function(s){var i;if(!a.isInSelectingRange(s))return!1;var o=a.props,l=o.startDate,A=o.selectsStart,d=ql(Qa(),s);return A?Wl(d,(i=a.selectingDate())!==null&&i!==void 0?i:null):Wl(d,l??null)},a.isSelectingRangeEnd=function(s){var i;if(!a.isInSelectingRange(s))return!1;var o=a.props,l=o.endDate,A=o.selectsEnd,d=o.selectsRange,f=ql(Qa(),s);return A||d?Wl(f,(i=a.selectingDate())!==null&&i!==void 0?i:null):Wl(f,l??null)},a.isKeyboardSelected=function(s){if(!(a.props.disabledKeyboardNavigation||a.props.date===void 0||a.props.preSelection==null)){var i=a.props,o=i.minDate,l=i.maxDate,A=i.excludeDates,d=i.includeDates,f=i.filterDate,h=i.selected,m=Hh(ql(a.props.date,s)),p=(o||l||A||d||f)&&Ig(s,a.props),x=!!h&&Aa(m,Hh(h)),g=Aa(m,Hh(a.props.preSelection));return!a.props.inline&&!x&&g&&!p}},a.isSelectedYear=function(s){var i=a.props,o=i.selectsMultiple,l=i.selected,A=i.selectedDates;return o?A==null?void 0:A.some(function(d){return s===ea(d)}):!!l&&s===ea(l)},a.onYearClick=function(s,i){var o=a.props.date;o!==void 0&&a.handleYearClick(Hh(ql(o,i)),s)},a.onYearKeyDown=function(s,i){var o,l,A=s.key,d=a.props,f=d.date,h=d.yearItemNumber,m=d.handleOnKeyDown;if(A!==Ft.Tab&&s.preventDefault(),!a.props.disabledKeyboardNavigation)switch(A){case Ft.Enter:if(a.props.selected==null)break;a.onYearClick(s,i),(l=(o=a.props).setPreSelection)===null||l===void 0||l.call(o,a.props.selected);break;case Ft.ArrowRight:if(a.props.preSelection==null)break;a.handleYearNavigation(i+1,aA(a.props.preSelection,1));break;case Ft.ArrowLeft:if(a.props.preSelection==null)break;a.handleYearNavigation(i-1,Of(a.props.preSelection,1));break;case Ft.ArrowUp:{if(f===void 0||h===void 0||a.props.preSelection==null)break;var p=Zc(f,h).startPeriod,x=FN,g=i-x;if(g<p){var w=h%x;i>=p&&i<p+w?x=w:x+=w,g=i-x}a.handleYearNavigation(g,Of(a.props.preSelection,x));break}case Ft.ArrowDown:{if(f===void 0||h===void 0||a.props.preSelection==null)break;var j=Zc(f,h).endPeriod,x=FN,g=i+x;if(g>j){var w=h%x;i<=j&&i>j-w?x=w:x+=w,g=i+x}a.handleYearNavigation(g,aA(a.props.preSelection,x));break}}m&&m(s)},a.getYearClassNames=function(s){var i=a.props,o=i.date,l=i.disabled,A=i.minDate,d=i.maxDate,f=i.excludeDates,h=i.includeDates,m=i.filterDate,p=i.yearClassName;return Ps("react-datepicker__year-text","react-datepicker__year-".concat(s),o?p==null?void 0:p(ql(o,s)):void 0,{"react-datepicker__year-text--selected":a.isSelectedYear(s),"react-datepicker__year-text--disabled":(A||d||f||h||m||l)&&Ig(s,a.props),"react-datepicker__year-text--keyboard-selected":a.isKeyboardSelected(s),"react-datepicker__year-text--range-start":a.isRangeStart(s),"react-datepicker__year-text--range-end":a.isRangeEnd(s),"react-datepicker__year-text--in-range":a.isInRange(s),"react-datepicker__year-text--in-selecting-range":a.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":a.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":a.isSelectingRangeEnd(s),"react-datepicker__year-text--today":a.isCurrentYear(s)})},a.getYearTabIndex=function(s){if(a.props.disabledKeyboardNavigation||a.props.preSelection==null)return"-1";var i=ea(a.props.preSelection),o=Ig(s,a.props);return s===i&&!o?"0":"-1"},a.getYearContent=function(s){return a.props.renderYearContent?a.props.renderYearContent(s):s},a}return r.prototype.render=function(){var t=this,a=[],s=this.props,i=s.date,o=s.yearItemNumber,l=s.onYearMouseEnter,A=s.onYearMouseLeave;if(i===void 0)return null;for(var d=Zc(i,o),f=d.startPeriod,h=d.endPeriod,m=function(g){a.push(Ve.createElement("div",{ref:p.YEAR_REFS[g-f],onClick:function(w){t.onYearClick(w,g)},onKeyDown:function(w){mF(w)&&(w.preventDefault(),w.key=Ft.Enter),t.onYearKeyDown(w,g)},tabIndex:Number(p.getYearTabIndex(g)),className:p.getYearClassNames(g),onMouseEnter:p.props.usePointerEvent?void 0:function(w){return l(w,g)},onPointerEnter:p.props.usePointerEvent?function(w){return l(w,g)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(w){return A(w,g)},onPointerLeave:p.props.usePointerEvent?function(w){return A(w,g)}:void 0,key:g,"aria-current":p.isCurrentYear(g)?"date":void 0},p.getYearContent(g)))},p=this,x=f;x<=h;x++)m(x);return Ve.createElement("div",{className:"react-datepicker__year"},Ve.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},a))},r})(y.Component);function Z7(e,r,t,a){for(var s=[],i=0;i<2*r+1;i++){var o=e+r-i,l=!0;t&&(l=ea(t)<=o),a&&l&&(l=ea(a)>=o),l&&s.push(o)}return s}var e9=(function(e){zs(r,e);function r(t){var a=e.call(this,t)||this;a.yearOptionButtonsRef={},a.handleOptionKeyDown=function(l,A){var d;switch(A.key){case"Enter":A.preventDefault(),a.onChange(l);break;case"Escape":A.preventDefault(),a.props.onCancel();break;case"ArrowUp":case"ArrowDown":{A.preventDefault();var f=l+(A.key==="ArrowUp"?1:-1);a.yearOptionButtonsRef[f]&&((d=a.yearOptionButtonsRef[f])===null||d===void 0||d.focus());break}}},a.renderOptions=function(){a.yearOptionButtonsRef={};var l=a.props.year,A=a.state.yearsList.map(function(h){return Ve.createElement("div",{ref:function(m){a.yearOptionButtonsRef[h]=m,h===l&&(m==null||m.focus())},role:"button",tabIndex:0,className:l===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:a.onChange.bind(a,h),onKeyDown:a.handleOptionKeyDown.bind(a,h),"aria-selected":l===h?"true":void 0},l===h?Ve.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",h)}),d=a.props.minDate?ea(a.props.minDate):null,f=a.props.maxDate?ea(a.props.maxDate):null;return(!f||!a.state.yearsList.find(function(h){return h===f}))&&A.unshift(Ve.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:a.incrementYears},Ve.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!a.state.yearsList.find(function(h){return h===d}))&&A.push(Ve.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:a.decrementYears},Ve.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),A},a.onChange=function(l){a.props.onChange(l)},a.handleClickOutside=function(){a.props.onCancel()},a.shiftYears=function(l){var A=a.state.yearsList.map(function(d){return d+l});a.setState({yearsList:A})},a.incrementYears=function(){return a.shiftYears(1)},a.decrementYears=function(){return a.shiftYears(-1)};var s=t.yearDropdownItemNumber,i=t.scrollableYearDropdown,o=s||(i?10:5);return a.state={yearsList:Z7(a.props.year,o,a.props.minDate,a.props.maxDate)},a.dropdownRef=y.createRef(),a}return r.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var a=t.children?Array.from(t.children):null,s=a?a.find(function(i){return i.ariaSelected}):null;t.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},r.prototype.render=function(){var t=Ps({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return Ve.createElement(bx,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},r})(y.Component),t9=(function(e){zs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var a=t.props.minDate?ea(t.props.minDate):1900,s=t.props.maxDate?ea(t.props.maxDate):2100,i=[],o=a;o<=s;o++)i.push(Ve.createElement("option",{key:o,value:o},o));return i},t.onSelectChange=function(a){t.onChange(parseInt(a.target.value))},t.renderSelectMode=function(){return Ve.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(a){return Ve.createElement("button",{key:"read",type:"button",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},Ve.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),Ve.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return Ve.createElement(e9,da({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var a=t.state.dropdownVisible,s=[t.renderReadView(!a)];return a&&s.unshift(t.renderDropdown()),s},t.onChange=function(a){t.toggleDropdown(),a!==t.props.year&&t.props.onChange(a)},t.toggleDropdown=function(a){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,a)})},t.handleYearChange=function(a,s){var i;(i=t.onSelect)===null||i===void 0||i.call(t,a,s),t.setOpen()},t.onSelect=function(a,s){var i,o;(o=(i=t.props).onSelect)===null||o===void 0||o.call(i,a,s)},t.setOpen=function(){var a,s;(s=(a=t.props).setOpen)===null||s===void 0||s.call(a,!0)},t}return r.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Ve.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},r})(y.Component),r9=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],pF="react-datepicker-ignore-onclickoutside",a9=function(e){var r=(e.className||"").split(/\s+/);return r9.some(function(t){return r.indexOf(t)>=0})},n9=(function(e){zs(r,e);function r(t){var a=e.call(this,t)||this;return a.monthContainer=void 0,a.handleClickOutside=function(s){a.props.onClickOutside(s)},a.setClickOutsideRef=function(){return a.containerRef.current},a.handleDropdownFocus=function(s){var i,o;a9(s.target)&&((o=(i=a.props).onDropdownFocus)===null||o===void 0||o.call(i,s))},a.getDateInView=function(){var s=a.props,i=s.preSelection,o=s.selected,l=s.openToDate,A=fF(a.props),d=hF(a.props),f=Qa(),h=l||o||i;return h||(A&&rc(f,A)?A:d&&gd(f,d)?d:f)},a.increaseMonth=function(){a.setState(function(s){var i=s.date;return{date:yl(i,1)}},function(){return a.handleMonthChange(a.state.date)})},a.decreaseMonth=function(){a.setState(function(s){var i=s.date;return{date:cu(i,1)}},function(){return a.handleMonthChange(a.state.date)})},a.handleDayClick=function(s,i,o){a.props.onSelect(s,i,o),a.props.setPreSelection&&a.props.setPreSelection(s)},a.handleDayMouseEnter=function(s){a.setState({selectingDate:s}),a.props.onDayMouseEnter&&a.props.onDayMouseEnter(s)},a.handleMonthMouseLeave=function(){a.setState({selectingDate:void 0}),a.props.onMonthMouseLeave&&a.props.onMonthMouseLeave()},a.handleYearMouseEnter=function(s,i){a.setState({selectingDate:ql(Qa(),i)}),a.props.onYearMouseEnter&&a.props.onYearMouseEnter(s,i)},a.handleYearMouseLeave=function(s,i){a.props.onYearMouseLeave&&a.props.onYearMouseLeave(s,i)},a.handleYearChange=function(s){var i,o,l,A;(o=(i=a.props).onYearChange)===null||o===void 0||o.call(i,s),a.setState({isRenderAriaLiveMessage:!0}),a.props.adjustDateOnChange&&(a.props.onSelect(s),(A=(l=a.props).setOpen)===null||A===void 0||A.call(l,!0)),a.props.setPreSelection&&a.props.setPreSelection(s)},a.getEnabledPreSelectionDateForMonth=function(s){if(!Po(s,a.props))return s;for(var i=oA(s),o=B7(s),l=T8(o,i),A=null,d=0;d<=l;d++){var f=vl(i,d);if(!Po(f,a.props)){A=f;break}}return A},a.handleMonthChange=function(s){var i,o,l,A=(i=a.getEnabledPreSelectionDateForMonth(s))!==null&&i!==void 0?i:s;a.handleCustomMonthChange(A),a.props.adjustDateOnChange&&(a.props.onSelect(A),(l=(o=a.props).setOpen)===null||l===void 0||l.call(o,!0)),a.props.setPreSelection&&a.props.setPreSelection(A)},a.handleCustomMonthChange=function(s){var i,o;(o=(i=a.props).onMonthChange)===null||o===void 0||o.call(i,s),a.setState({isRenderAriaLiveMessage:!0})},a.handleMonthYearChange=function(s){a.handleYearChange(s),a.handleMonthChange(s)},a.changeYear=function(s){a.setState(function(i){var o=i.date;return{date:ql(o,Number(s))}},function(){return a.handleYearChange(a.state.date)})},a.changeMonth=function(s){a.setState(function(i){var o=i.date;return{date:fo(o,Number(s))}},function(){return a.handleMonthChange(a.state.date)})},a.changeMonthYear=function(s){a.setState(function(i){var o=i.date;return{date:ql(fo(o,di(s)),ea(s))}},function(){return a.handleMonthYearChange(a.state.date)})},a.header=function(s){s===void 0&&(s=a.state.date);var i=a.props.disabled,o=cd(s,a.props.locale,a.props.calendarStartDay),l=[];return a.props.showWeekNumbers&&l.push(Ve.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(i?"react-datepicker__day-name--disabled":""),role:"columnheader"},Ve.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),Ve.createElement("span",{"aria-hidden":"true"},a.props.weekLabel||"#"))),l.concat([0,1,2,3,4,5,6].map(function(A){var d=vl(o,A),f=a.formatWeekday(d,a.props.locale),h=a.props.weekDayClassName?a.props.weekDayClassName(d):void 0;return Ve.createElement("div",{key:A,role:"columnheader",className:Ps("react-datepicker__day-name",h,i?"react-datepicker__day-name--disabled":"")},Ve.createElement("span",{className:"react-datepicker__sr-only"},fn(d,"EEEE",a.props.locale)),Ve.createElement("span",{"aria-hidden":"true"},f))}))},a.formatWeekday=function(s,i){return a.props.formatWeekDay?C7(s,a.props.formatWeekDay,i):a.props.useWeekdaysShort?_7(s,i):S7(s,i)},a.decreaseYear=function(){a.setState(function(s){var i,o=s.date;return{date:Of(o,a.props.showYearPicker?(i=a.props.yearItemNumber)!==null&&i!==void 0?i:r.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.clearSelectingDate=function(){a.setState({selectingDate:void 0})},a.renderPreviousButton=function(){var s,i,o;if(!a.props.renderCustomHeader){var l=(s=a.props.monthsShown)!==null&&s!==void 0?s:r.defaultProps.monthsShown,A=a.props.showPreviousMonths?l-1:0,d=(i=a.props.monthSelectedIn)!==null&&i!==void 0?i:A,f=cu(a.state.date,d),h;switch(!0){case a.props.disabled:h=!0;break;case a.props.showMonthYearPicker:h=jN(a.state.date,a.props);break;case a.props.showYearPicker:h=U7(a.state.date,a.props);break;case a.props.showQuarterYearPicker:h=k7(a.state.date,a.props);break;default:h=yN(f,a.props);break}if(!(!((o=a.props.forceShowMonthNavigation)!==null&&o!==void 0?o:r.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&h||a.props.showTimeSelectOnly)){var m=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],p=["react-datepicker__navigation","react-datepicker__navigation--previous"],x=a.decreaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(x=a.decreaseYear),h&&a.props.showDisabledMonthNavigation&&(p.push("react-datepicker__navigation--previous--disabled"),x=void 0);var g=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,w=a.props,j=w.previousMonthButtonLabel,N=j===void 0?r.defaultProps.previousMonthButtonLabel:j,C=w.previousYearButtonLabel,E=C===void 0?r.defaultProps.previousYearButtonLabel:C,Q=a.props,U=Q.previousMonthAriaLabel,F=U===void 0?typeof N=="string"?N:"Previous Month":U,L=Q.previousYearAriaLabel,_=L===void 0?typeof E=="string"?E:"Previous Year":L;return Ve.createElement("button",{type:"button",className:p.join(" "),onClick:x,onKeyDown:a.props.handleOnKeyDown,"aria-label":g?_:F},Ve.createElement("span",{className:m.join(" ")},g?E:N))}}},a.increaseYear=function(){a.setState(function(s){var i,o=s.date;return{date:aA(o,a.props.showYearPicker?(i=a.props.yearItemNumber)!==null&&i!==void 0?i:r.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.renderNextButton=function(){var s;if(!a.props.renderCustomHeader){var i;switch(!0){case a.props.disabled:i=!0;break;case a.props.showMonthYearPicker:i=NN(a.state.date,a.props);break;case a.props.showYearPicker:i=L7(a.state.date,a.props);break;case a.props.showQuarterYearPicker:i=D7(a.state.date,a.props);break;default:i=bN(a.state.date,a.props);break}if(!(!((s=a.props.forceShowMonthNavigation)!==null&&s!==void 0?s:r.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&i||a.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];a.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),a.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var A=a.increaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(A=a.increaseYear),i&&a.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),A=void 0);var d=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,f=a.props,h=f.nextMonthButtonLabel,m=h===void 0?r.defaultProps.nextMonthButtonLabel:h,p=f.nextYearButtonLabel,x=p===void 0?r.defaultProps.nextYearButtonLabel:p,g=a.props,w=g.nextMonthAriaLabel,j=w===void 0?typeof m=="string"?m:"Next Month":w,N=g.nextYearAriaLabel,C=N===void 0?typeof x=="string"?x:"Next Year":N;return Ve.createElement("button",{type:"button",className:o.join(" "),onClick:A,onKeyDown:a.props.handleOnKeyDown,"aria-label":d?C:j},Ve.createElement("span",{className:l.join(" ")},d?x:m))}}},a.renderCurrentMonth=function(s){s===void 0&&(s=a.state.date);var i=["react-datepicker__current-month"];return a.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),a.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),a.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),Ve.createElement("h2",{className:i.join(" ")},fn(s,a.props.dateFormat,a.props.locale))},a.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!a.props.showYearDropdown||s))return Ve.createElement(t9,da({},r.defaultProps,a.props,{date:a.state.date,onChange:a.changeYear,year:ea(a.state.date)}))},a.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!a.props.showMonthDropdown||s))return Ve.createElement(q7,da({},r.defaultProps,a.props,{month:di(a.state.date),onChange:a.changeMonth}))},a.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!a.props.showMonthYearDropdown||s))return Ve.createElement(Y7,da({},r.defaultProps,a.props,{date:a.state.date,onChange:a.changeMonthYear}))},a.handleTodayButtonClick=function(s){a.props.onSelect(pN(),s),a.props.setPreSelection&&a.props.setPreSelection(pN())},a.renderTodayButton=function(){if(!(!a.props.todayButton||a.props.showTimeSelectOnly))return Ve.createElement("div",{className:"react-datepicker__today-button",onClick:a.handleTodayButtonClick},a.props.todayButton)},a.renderDayNamesHeader=function(s){return Ve.createElement("div",{className:"react-datepicker__day-names",role:"row"},a.header(s))},a.renderDefaultHeader=function(s){var i=s.monthDate,o=s.i;return Ve.createElement("div",{className:"react-datepicker__header ".concat(a.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},a.renderCurrentMonth(i),Ve.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(a.props.dropdownMode),onFocus:a.handleDropdownFocus},a.renderMonthDropdown(o!==0),a.renderMonthYearDropdown(o!==0),a.renderYearDropdown(o!==0)))},a.renderCustomHeader=function(s){var i,o,l=s.monthDate,A=s.i;if(a.props.showTimeSelect&&!a.state.monthContainer||a.props.showTimeSelectOnly)return null;var d=a.props,f=d.showYearPicker,h=d.yearItemNumber,m;if(f){var p=Zc(l,h),x=p.startPeriod,g=p.endPeriod;m={startYear:x,endYear:g}}var w=yN(a.state.date,a.props),j=bN(a.state.date,a.props),N=jN(a.state.date,a.props),C=NN(a.state.date,a.props);return Ve.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:a.props.onDropdownFocus},(o=(i=a.props).renderCustomHeader)===null||o===void 0?void 0:o.call(i,da(da(da({},a.state),f&&{visibleYearsRange:m}),{customHeaderCount:A,monthDate:l,changeMonth:a.changeMonth,changeYear:a.changeYear,decreaseMonth:a.decreaseMonth,increaseMonth:a.increaseMonth,decreaseYear:a.decreaseYear,increaseYear:a.increaseYear,prevMonthButtonDisabled:w,nextMonthButtonDisabled:j,prevYearButtonDisabled:N,nextYearButtonDisabled:C})))},a.renderYearHeader=function(s){var i=s.monthDate,o=a.props,l=o.showYearPicker,A=o.yearItemNumber,d=A===void 0?r.defaultProps.yearItemNumber:A,f=Zc(i,d),h=f.startPeriod,m=f.endPeriod;return Ve.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(h," - ").concat(m):ea(i))},a.renderHeader=function(s){var i=s.monthDate,o=s.i,l=o===void 0?0:o,A={monthDate:i,i:l};switch(!0){case a.props.renderCustomHeader!==void 0:return a.renderCustomHeader(A);case(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker):return a.renderYearHeader(A);default:return a.renderDefaultHeader(A)}},a.renderMonths=function(){var s,i;if(!(a.props.showTimeSelectOnly||a.props.showYearPicker)){for(var o=[],l=(s=a.props.monthsShown)!==null&&s!==void 0?s:r.defaultProps.monthsShown,A=a.props.showPreviousMonths?l-1:0,d=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?aA(a.state.date,A):cu(a.state.date,A),f=(i=a.props.monthSelectedIn)!==null&&i!==void 0?i:A,h=0;h<l;++h){var m=h-f+A,p=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?aA(d,m):yl(d,m),x="month-".concat(h),g=h<l-1,w=h>0;o.push(Ve.createElement("div",{key:x,ref:function(j){a.monthContainer=j??void 0},className:"react-datepicker__month-container"},a.renderHeader({monthDate:p,i:h}),Ve.createElement(z7,da({},r.defaultProps,a.props,{containerRef:a.containerRef,ariaLabelPrefix:a.props.monthAriaLabelPrefix,day:p,onDayClick:a.handleDayClick,handleOnKeyDown:a.props.handleOnDayKeyDown,handleOnMonthKeyDown:a.props.handleOnKeyDown,onDayMouseEnter:a.handleDayMouseEnter,onMouseLeave:a.handleMonthMouseLeave,orderInDisplay:h,selectingDate:a.state.selectingDate,monthShowsDuplicateDaysEnd:g,monthShowsDuplicateDaysStart:w,dayNamesHeader:a.renderDayNamesHeader(p)}))))}return o}},a.renderYears=function(){if(!a.props.showTimeSelectOnly&&a.props.showYearPicker)return Ve.createElement("div",{className:"react-datepicker__year--container"},a.renderHeader({monthDate:a.state.date}),Ve.createElement(J7,da({},r.defaultProps,a.props,{selectingDate:a.state.selectingDate,date:a.state.date,onDayClick:a.handleDayClick,clearSelectingDate:a.clearSelectingDate,onYearMouseEnter:a.handleYearMouseEnter,onYearMouseLeave:a.handleYearMouseLeave})))},a.renderTimeSection=function(){if(a.props.showTimeSelect&&(a.state.monthContainer||a.props.showTimeSelectOnly))return Ve.createElement(X7,da({},r.defaultProps,a.props,{onChange:a.props.onTimeChange,format:a.props.timeFormat,intervals:a.props.timeIntervals,monthRef:a.state.monthContainer}))},a.renderInputTimeSection=function(){var s=a.props.selected?new Date(a.props.selected):void 0,i=s&&jx(s)&&!!a.props.selected,o=i?"".concat(CN(s.getHours()),":").concat(CN(s.getMinutes())):"";if(a.props.showTimeInput)return Ve.createElement(M7,da({},r.defaultProps,a.props,{date:s,timeString:o,onChange:a.props.onTimeChange}))},a.renderAriaLiveRegion=function(){var s,i=Zc(a.state.date,(s=a.props.yearItemNumber)!==null&&s!==void 0?s:r.defaultProps.yearItemNumber),o=i.startPeriod,l=i.endPeriod,A;return a.props.showYearPicker?A="".concat(o," - ").concat(l):a.props.showMonthYearPicker||a.props.showQuarterYearPicker?A=ea(a.state.date):A="".concat(xb(di(a.state.date),a.props.locale)," ").concat(ea(a.state.date)),Ve.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},a.state.isRenderAriaLiveMessage&&A)},a.renderChildren=function(){if(a.props.children)return Ve.createElement("div",{className:"react-datepicker__children-container"},a.props.children)},a.containerRef=y.createRef(),a.state={date:a.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},a}return Object.defineProperty(r,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:pF,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Tm}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},r.prototype.componentDidUpdate=function(t){var a=this;if(this.props.preSelection&&(!Aa(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var s=!ji(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&a.handleCustomMonthChange(a.state.date)})}else this.props.openToDate&&!Aa(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},r.prototype.render=function(){var t=this.props.container||x7;return Ve.createElement(bx,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},Ve.createElement("div",{style:{display:"contents"},ref:this.containerRef},Ve.createElement(t,{className:Ps("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},r})(y.Component),s9=function(e){var r=e.icon,t=e.className,a=t===void 0?"":t,s=e.onClick,i="react-datepicker__calendar-icon";if(typeof r=="string")return Ve.createElement("i",{className:"".concat(i," ").concat(r," ").concat(a),"aria-hidden":"true",onClick:s});if(Ve.isValidElement(r)){var o=r;return Ve.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(i," ").concat(a),onClick:function(l){typeof o.props.onClick=="function"&&o.props.onClick(l),typeof s=="function"&&s(l)}})}return Ve.createElement("svg",{className:"".concat(i," ").concat(a),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},Ve.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},gF=(function(e){zs(r,e);function r(t){var a=e.call(this,t)||this;return a.portalRoot=null,a.el=document.createElement("div"),a}return r.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},r.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},r.prototype.render=function(){return f5.createPortal(this.props.children,this.el)},r})(y.Component),i9="[tabindex], a, button, input, select, textarea",o9=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},xF=(function(e){zs(r,e);function r(t){var a=e.call(this,t)||this;return a.getTabChildren=function(){var s;return Array.prototype.slice.call((s=a.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(i9),1,-1).filter(o9)},a.handleFocusStart=function(){var s=a.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},a.handleFocusEnd=function(){var s=a.getTabChildren();s&&s.length>1&&s[0].focus()},a.tabLoopRef=y.createRef(),a}return r.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:r.defaultProps.enableTabLoop)?Ve.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},Ve.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,Ve.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},r.defaultProps={enableTabLoop:!0},r})(y.Component);function l9(e){function r(t){var a,s=typeof t.hidePopper=="boolean"?t.hidePopper:!0,i=y.useRef(null),o=g7(da({open:!s,whileElementsMounted:WS,placement:t.popperPlacement,middleware:ac([JS({padding:15}),XS(10),ZS({element:i})],(a=t.popperModifiers)!==null&&a!==void 0?a:[],!0)},t.popperProps)),l=da(da({},t),{hidePopper:s,popperProps:da(da({},o),{arrowRef:i})});return Ve.createElement(e,da({},l))}return r.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),r}var c9=function(e){var r=e.className,t=e.wrapperClassName,a=e.hidePopper,s=a===void 0?!0:a,i=e.popperComponent,o=e.targetComponent,l=e.enableTabLoop,A=e.popperOnKeyDown,d=e.portalId,f=e.portalHost,h=e.popperProps,m=e.showArrow,p=void 0;if(!s){var x=Ps("react-datepicker-popper",r);p=Ve.createElement(xF,{enableTabLoop:l},Ve.createElement("div",{ref:h.refs.setFloating,style:h.floatingStyles,className:x,"data-placement":h.placement,onKeyDown:A},i,m&&Ve.createElement(A7,{ref:h.arrowRef,context:h.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(p=y.createElement(e.popperContainer,{},p)),d&&!s&&(p=Ve.createElement(gF,{portalId:d,portalHost:f},p));var g=Ps("react-datepicker-wrapper",t);return Ve.createElement(Ve.Fragment,null,Ve.createElement("div",{ref:h.refs.setReference,className:g},o),p)},A9=l9(c9);function d9(e,r){return e&&r?di(e)!==di(r)||ea(e)!==ea(r):e!==r}var iw="Date input not valid.",u9=(function(e){zs(r,e);function r(t){var a=e.call(this,t)||this;return a.calendar=null,a.input=null,a.getPreSelection=function(){return a.props.openToDate?a.props.openToDate:a.props.selectsEnd&&a.props.startDate?a.props.startDate:a.props.selectsStart&&a.props.endDate?a.props.endDate:Qa()},a.modifyHolidays=function(){var s;return(s=a.props.holidays)===null||s===void 0?void 0:s.reduce(function(i,o){var l=new Date(o.date);return jx(l)?ac(ac([],i,!0),[da(da({},o),{date:l})],!1):i},[])},a.calcInitialState=function(){var s,i=a.getPreSelection(),o=fF(a.props),l=hF(a.props),A=o&&rc(i,Lg(o))?o:l&&gd(i,gN(l))?l:i;return{open:a.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=a.props.selectsRange?a.props.startDate:a.props.selected)!==null&&s!==void 0?s:A,highlightDates:BN(a.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},a.getInputValue=function(){var s,i=a.props,o=i.locale,l=i.startDate,A=i.endDate,d=i.rangeSeparator,f=i.selected,h=i.selectedDates,m=i.selectsMultiple,p=i.selectsRange,x=i.value,g=(s=a.props.dateFormat)!==null&&s!==void 0?s:r.defaultProps.dateFormat,w=a.state.inputValue;return typeof x=="string"?x:typeof w=="string"?w:p?w7(l,A,{dateFormat:g,locale:o,rangeSeparator:d}):m?y7(h??[],{dateFormat:g,locale:o}):uo(f,{dateFormat:g,locale:o})},a.resetHiddenStatus=function(){a.setState(da(da({},a.state),{wasHidden:!1}))},a.setHiddenStatus=function(){a.setState(da(da({},a.state),{wasHidden:!0}))},a.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&a.setHiddenStatus()},a.clearPreventFocusTimeout=function(){a.preventFocusTimeout&&clearTimeout(a.preventFocusTimeout)},a.setFocus=function(){var s,i;(i=(s=a.input)===null||s===void 0?void 0:s.focus)===null||i===void 0||i.call(s,{preventScroll:!0})},a.setBlur=function(){var s,i;(i=(s=a.input)===null||s===void 0?void 0:s.blur)===null||i===void 0||i.call(s),a.cancelFocusInput()},a.deferBlur=function(){requestAnimationFrame(function(){a.setBlur()})},a.setOpen=function(s,i){i===void 0&&(i=!1),a.setState({open:s,preSelection:s&&a.state.open?a.state.preSelection:a.calcInitialState().preSelection,lastPreSelectChange:ow},function(){s||a.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&a.deferBlur(),a.setState({inputValue:null})})})},a.inputOk=function(){return nA(a.state.preSelection)},a.isCalendarOpen=function(){return a.props.open===void 0?a.state.open&&!a.props.disabled&&!a.props.readOnly:a.props.open},a.handleFocus=function(s){var i,o,l=a.state.wasHidden,A=l?a.state.open:!0;l&&a.resetHiddenStatus(),a.state.preventFocus||((o=(i=a.props).onFocus)===null||o===void 0||o.call(i,s),A&&!a.props.preventOpenOnFocus&&!a.props.readOnly&&a.setOpen(!0)),a.setState({focused:!0})},a.sendFocusBackToInput=function(){a.preventFocusTimeout&&a.clearPreventFocusTimeout(),a.setState({preventFocus:!0},function(){a.preventFocusTimeout=setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})})},a.cancelFocusInput=function(){clearTimeout(a.inputFocusTimeout),a.inputFocusTimeout=void 0},a.deferFocusInput=function(){a.cancelFocusInput(),a.inputFocusTimeout=setTimeout(function(){return a.setFocus()},1)},a.handleDropdownFocus=function(){a.cancelFocusInput()},a.resetInputValue=function(){a.setState(da(da({},a.state),{inputValue:null}))},a.handleBlur=function(s){var i,o;(!a.state.open||a.props.withPortal||a.props.showTimeInput)&&((o=(i=a.props).onBlur)===null||o===void 0||o.call(i,s)),a.resetInputValue(),a.state.open&&a.props.open===!1&&a.setOpen(!1),a.setState({focused:!1})},a.handleCalendarClickOutside=function(s){var i,o;a.props.inline||a.setOpen(!1),(o=(i=a.props).onClickOutside)===null||o===void 0||o.call(i,s),a.props.withPortal&&s.preventDefault()},a.handleChange=function(){for(var s,i,o,l,A,d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var h=d[0];if(!(a.props.onChangeRaw&&(a.props.onChangeRaw.apply(a,d),!h||typeof h.isDefaultPrevented!="function"||h.isDefaultPrevented()))){a.setState({inputValue:(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:null,lastPreSelectChange:f9});var m=a.props,p=m.selectsRange,x=m.startDate,g=m.endDate,w=(s=a.props.dateFormat)!==null&&s!==void 0?s:r.defaultProps.dateFormat,j=(i=a.props.strictParsing)!==null&&i!==void 0?i:r.defaultProps.strictParsing,N=(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:"";if(p){var C=a.props.rangeSeparator,E=C.trim(),Q=N.split(w.includes(E)?C:E,2).map(function(J){return J.trim()}),U=Q[0],F=Q[1],L=rw(U??"",w,a.props.locale,j),_=L?rw(F??"",w,a.props.locale,j):null,q=(x==null?void 0:x.getTime())!==(L==null?void 0:L.getTime()),R=(g==null?void 0:g.getTime())!==(_==null?void 0:_.getTime());if(!q&&!R||L&&Po(L,a.props)||_&&Po(_,a.props))return;(l=(o=a.props).onChange)===null||l===void 0||l.call(o,[L,_],h)}else{var H=rw(N,w,a.props.locale,j,(A=a.props.selected)!==null&&A!==void 0?A:void 0);(H||!N)&&a.setSelected(H,h,!0)}}},a.handleSelect=function(s,i,o){var l;if(!a.props.readOnly){var A=a.props,d=A.selectsRange,f=A.startDate,h=A.endDate,m=A.locale,p=A.swapRange,x=(l=a.props.dateFormat)!==null&&l!==void 0?l:r.defaultProps.dateFormat,g=!d||f&&!h&&(p||!nw(s,f));if(a.props.shouldCloseOnSelect&&!a.props.showTimeSelect&&g&&a.sendFocusBackToInput(),a.props.onChangeRaw){var w=uo(s,{dateFormat:x,locale:m});a.props.onChangeRaw(i,{date:s,formattedDate:w})}a.setSelected(s,i,!1,o),a.props.showDateSelect&&a.setState({isRenderAriaLiveMessage:!0}),!a.props.shouldCloseOnSelect||a.props.showTimeSelect?a.setPreSelection(s):g&&a.setOpen(!1)}},a.setSelected=function(s,i,o,l){var A,d,f=s;if(a.props.showYearPicker){if(f!==null&&Ig(ea(f),a.props))return}else if(a.props.showMonthYearPicker){if(f!==null&&uF(f,a.props))return}else if(f!==null&&Po(f,a.props))return;var h=a.props,m=h.onChange,p=h.selectsRange,x=h.startDate,g=h.endDate,w=h.selectsMultiple,j=h.selectedDates,N=h.minTime,C=h.swapRange;if(!nu(a.props.selected,f)||a.props.allowSameDay||p||w)if(f!==null&&(a.props.selected&&(!o||!a.props.showTimeSelect&&!a.props.showTimeSelectOnly&&!a.props.showTimeInput)&&(f=aw(f,{hour:sA(a.props.selected),minute:iA(a.props.selected),second:ld(a.props.selected)})),!o&&(a.props.showTimeSelect||a.props.showTimeSelectOnly)&&N&&(f=aw(f,{hour:N.getHours(),minute:N.getMinutes(),second:N.getSeconds()})),a.props.inline||a.setState({preSelection:f}),a.props.focusSelectedMonth||a.setState({monthSelectedIn:l})),p){var E=!x&&!g,Q=x&&!g,U=!x&&!!g,F=x&&g;E?m==null||m([f,null],i):Q?f===null?m==null||m([null,null],i):nw(f,x)?C?m==null||m([f,x],i):m==null||m([f,null],i):m==null||m([x,f],i):U&&(f&&nw(f,g)?m==null||m([f,g],i):m==null||m([f,null],i)),F&&(m==null||m([f,null],i))}else if(w){if(f!==null)if(!(j!=null&&j.length))m==null||m([f],i);else{var L=j.some(function(q){return Aa(q,f)});if(L){var _=j.filter(function(q){return!Aa(q,f)});m==null||m(_,i)}else m==null||m(ac(ac([],j,!0),[f],!1),i)}}else m==null||m(f,i);o||((d=(A=a.props).onSelect)===null||d===void 0||d.call(A,f,i),a.setState({inputValue:null}))},a.setPreSelection=function(s){if(!a.props.readOnly){var i=nA(a.props.minDate),o=nA(a.props.maxDate),l=!0;if(s){var A=Lg(s);if(i&&o)l=Jd(s,a.props.minDate,a.props.maxDate);else if(i){var d=Lg(a.props.minDate);l=gd(s,d)||nu(A,d)}else if(o){var f=gN(a.props.maxDate);l=rc(s,f)||nu(A,f)}}l&&a.setState({preSelection:s})}},a.toggleCalendar=function(){a.setOpen(!a.state.open)},a.handleTimeChange=function(s){var i,o;if(!(a.props.selectsRange||a.props.selectsMultiple)){var l=a.props.selected?a.props.selected:a.getPreSelection(),A=a.props.selected?s:aw(l,{hour:sA(s),minute:iA(s)});a.setState({preSelection:A}),(o=(i=a.props).onChange)===null||o===void 0||o.call(i,A),a.props.shouldCloseOnSelect&&!a.props.showTimeInput&&(a.sendFocusBackToInput(),a.setOpen(!1)),a.props.showTimeInput&&a.setOpen(!0),(a.props.showTimeSelectOnly||a.props.showTimeSelect)&&a.setState({isRenderAriaLiveMessage:!0}),a.setState({inputValue:null})}},a.onInputClick=function(){var s,i;!a.props.disabled&&!a.props.readOnly&&a.setOpen(!0),(i=(s=a.props).onInputClick)===null||i===void 0||i.call(s)},a.onInputKeyDown=function(s){var i,o,l,A,d,f;(o=(i=a.props).onKeyDown)===null||o===void 0||o.call(i,s);var h=s.key;if(!a.state.open&&!a.props.inline&&!a.props.preventOpenOnFocus){(h===Ft.ArrowDown||h===Ft.ArrowUp||h===Ft.Enter)&&((l=a.onInputClick)===null||l===void 0||l.call(a));return}if(a.state.open){if(h===Ft.ArrowDown||h===Ft.ArrowUp){s.preventDefault();var m=a.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":a.props.showWeekPicker&&a.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':a.props.showFullMonthYearPicker||a.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((A=a.calendar)===null||A===void 0?void 0:A.containerRef.current)instanceof Element&&a.calendar.containerRef.current.querySelector(m);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var x=Qa(a.state.preSelection);h===Ft.Enter?(s.preventDefault(),s.target.blur(),a.inputOk()&&a.state.lastPreSelectChange===ow?(a.handleSelect(x,s),!a.props.shouldCloseOnSelect&&a.setPreSelection(x)):a.setOpen(!1)):h===Ft.Escape?(s.preventDefault(),s.target.blur(),a.sendFocusBackToInput(),a.setOpen(!1)):h===Ft.Tab&&a.setOpen(!1),a.inputOk()||(f=(d=a.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:iw})}},a.onPortalKeyDown=function(s){var i=s.key;i===Ft.Escape&&(s.preventDefault(),a.setState({preventFocus:!0},function(){a.setOpen(!1),setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})}))},a.onDayKeyDown=function(s){var i,o,l,A,d,f,h=a.props,m=h.minDate,p=h.maxDate,x=h.disabledKeyboardNavigation,g=h.showWeekPicker,w=h.shouldCloseOnSelect,j=h.locale,N=h.calendarStartDay,C=h.adjustDateOnChange,E=h.inline;if((o=(i=a.props).onKeyDown)===null||o===void 0||o.call(i,s),!x){var Q=s.key,U=s.shiftKey,F=Qa(a.state.preSelection),L=function(re,z){var G=z;switch(re){case Ft.ArrowRight:G=g?u0(z,1):vl(z,1);break;case Ft.ArrowLeft:G=g?uN(z):RH(z);break;case Ft.ArrowUp:G=uN(z);break;case Ft.ArrowDown:G=u0(z,1);break;case Ft.PageUp:G=U?Of(z,1):cu(z,1);break;case Ft.PageDown:G=U?aA(z,1):yl(z,1);break;case Ft.Home:G=cd(z,j,N);break;case Ft.End:G=N7(z);break}return G},_=function(re,z){for(var G=40,V=re,ee=!1,ce=0,k=L(re,z);!ee;){if(ce>=G){k=z;break}m&&k<m&&(V=Ft.ArrowRight,k=Po(m,a.props)?L(V,k):m),p&&k>p&&(V=Ft.ArrowLeft,k=Po(p,a.props)?L(V,k):p),Po(k,a.props)?((V===Ft.PageUp||V===Ft.Home)&&(V=Ft.ArrowRight),(V===Ft.PageDown||V===Ft.End)&&(V=Ft.ArrowLeft),k=L(V,k)):ee=!0,ce++}return k};if(Q===Ft.Enter){s.preventDefault(),a.handleSelect(F,s),!w&&a.setPreSelection(F);return}else if(Q===Ft.Escape){s.preventDefault(),a.setOpen(!1),a.inputOk()||(A=(l=a.props).onInputError)===null||A===void 0||A.call(l,{code:1,msg:iw});return}var q=null;switch(Q){case Ft.ArrowLeft:case Ft.ArrowRight:case Ft.ArrowUp:case Ft.ArrowDown:case Ft.PageUp:case Ft.PageDown:case Ft.Home:case Ft.End:q=_(Q,F);break}if(!q){(f=(d=a.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:iw});return}if(s.preventDefault(),a.setState({lastPreSelectChange:ow}),C&&a.setSelected(q),a.setPreSelection(q),E){var R=di(F),H=di(q),J=ea(F),T=ea(q);R!==H||J!==T?a.setState({shouldFocusDayInline:!0}):a.setState({shouldFocusDayInline:!1})}}},a.onPopperKeyDown=function(s){var i=s.key;i===Ft.Escape&&(s.preventDefault(),a.sendFocusBackToInput(),a.setOpen(!1))},a.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),a.sendFocusBackToInput();var i=a.props,o=i.selectsRange,l=i.onChange;o?l==null||l([null,null],s):l==null||l(null,s),a.setState({inputValue:null})},a.clear=function(){a.onClearClick()},a.onScroll=function(s){typeof a.props.closeOnScroll=="boolean"&&a.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&a.setOpen(!1):typeof a.props.closeOnScroll=="function"&&a.props.closeOnScroll(s)&&a.setOpen(!1)},a.renderCalendar=function(){var s,i;return!a.props.inline&&!a.isCalendarOpen()?null:Ve.createElement(n9,da({showMonthYearDropdown:void 0,ref:function(o){a.calendar=o}},a.props,a.state,{setOpen:a.setOpen,dateFormat:(s=a.props.dateFormatCalendar)!==null&&s!==void 0?s:r.defaultProps.dateFormatCalendar,onSelect:a.handleSelect,onClickOutside:a.handleCalendarClickOutside,holidays:P7(a.modifyHolidays()),outsideClickIgnoreClass:a.props.outsideClickIgnoreClass,onDropdownFocus:a.handleDropdownFocus,onTimeChange:a.handleTimeChange,className:a.props.calendarClassName,container:a.props.calendarContainer,handleOnKeyDown:a.props.onKeyDown,handleOnDayKeyDown:a.onDayKeyDown,setPreSelection:a.setPreSelection,dropdownMode:(i=a.props.dropdownMode)!==null&&i!==void 0?i:r.defaultProps.dropdownMode}),a.props.children)},a.renderAriaLiveRegion=function(){var s,i=a.props.locale,o=(s=a.props.dateFormat)!==null&&s!==void 0?s:r.defaultProps.dateFormat,l=a.props.showTimeInput||a.props.showTimeSelect,A=l?"PPPPp":"PPPP",d;return a.props.selectsRange?d="Selected start date: ".concat(uo(a.props.startDate,{dateFormat:A,locale:i}),". ").concat(a.props.endDate?"End date: "+uo(a.props.endDate,{dateFormat:A,locale:i}):""):a.props.showTimeSelectOnly?d="Selected time: ".concat(uo(a.props.selected,{dateFormat:o,locale:i})):a.props.showYearPicker?d="Selected year: ".concat(uo(a.props.selected,{dateFormat:"yyyy",locale:i})):a.props.showMonthYearPicker?d="Selected month: ".concat(uo(a.props.selected,{dateFormat:"MMMM yyyy",locale:i})):a.props.showQuarterYearPicker?d="Selected quarter: ".concat(uo(a.props.selected,{dateFormat:"yyyy, QQQ",locale:i})):d="Selected date: ".concat(uo(a.props.selected,{dateFormat:A,locale:i})),Ve.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},a.renderDateInput=function(){var s,i,o=Ps(a.props.className,(s={},s[a.props.outsideClickIgnoreClass||r.defaultProps.outsideClickIgnoreClass]=a.state.open,s)),l=a.props.customInput||Ve.createElement("input",{type:"text"}),A=a.props.customInputRef||"ref";return y.cloneElement(l,(i={},i[A]=function(d){a.input=d},i.value=a.getInputValue(),i.onBlur=a.handleBlur,i.onChange=a.handleChange,i.onClick=a.onInputClick,i.onFocus=a.handleFocus,i.onKeyDown=a.onInputKeyDown,i.id=a.props.id,i.name=a.props.name,i.form=a.props.form,i.autoFocus=a.props.autoFocus,i.placeholder=a.props.placeholderText,i.disabled=a.props.disabled,i.autoComplete=a.props.autoComplete,i.className=Ps(l.props.className,o),i.title=a.props.title,i.readOnly=a.props.readOnly,i.required=a.props.required,i.tabIndex=a.props.tabIndex,i["aria-describedby"]=a.props.ariaDescribedBy,i["aria-invalid"]=a.props.ariaInvalid,i["aria-labelledby"]=a.props.ariaLabelledBy,i["aria-required"]=a.props.ariaRequired,i))},a.renderClearButton=function(){var s=a.props,i=s.isClearable,o=s.disabled,l=s.selected,A=s.startDate,d=s.endDate,f=s.clearButtonTitle,h=s.clearButtonClassName,m=h===void 0?"":h,p=s.ariaLabelClose,x=p===void 0?"Close":p,g=s.selectedDates,w=s.readOnly;return i&&!w&&(l!=null||A!=null||d!=null||g!=null&&g.length)?Ve.createElement("button",{type:"button",className:Ps("react-datepicker__close-icon",m,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":x,onClick:a.onClearClick,title:f,tabIndex:-1}):null},a.state=a.calcInitialState(),a.preventFocusTimeout=void 0,a}return Object.defineProperty(r,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:pF,readOnly:!1,rangeSeparator:AF,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Tm,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.componentDidUpdate=function(t,a){var s,i,o,l;t.inline&&d9(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:BN(this.props.highlightDates)}),!a.focused&&!nu(t.selected,this.props.selected)&&this.setState({inputValue:null}),a.open!==this.state.open&&(a.open===!1&&this.state.open===!0&&((i=(s=this.props).onCalendarOpen)===null||i===void 0||i.call(s)),a.open===!0&&this.state.open===!1&&((l=(o=this.props).onCalendarClose)===null||l===void 0||l.call(o)))},r.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.renderInputContainer=function(){var t=this.props,a=t.showIcon,s=t.icon,i=t.calendarIconClassname,o=t.calendarIconClassName,l=t.toggleCalendarOnIconClick,A=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),Ve.createElement("div",{className:"react-datepicker__input-container".concat(a?" react-datepicker__view-calendar-icon":"")},a&&Ve.createElement(s9,da({icon:s,className:Ps(o,!o&&i,A&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},r.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var a=this.state.open?Ve.createElement(xF,{enableTabLoop:this.props.enableTabLoop},Ve.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(a=Ve.createElement(gF,da({portalId:this.props.portalId},this.props),a)),Ve.createElement("div",null,this.renderInputContainer(),a)}return Ve.createElement(A9,da({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},r})(y.Component),f9="input",ow="navigate";const vF=y.forwardRef(({value:e,onClick:r,placeholder:t,className:a,id:s,name:i},o)=>n.jsxs("div",{className:"relative",children:[n.jsx(He,{id:s,name:i,ref:o,value:e||"",onClick:r,readOnly:!0,placeholder:t||"DD/MM/AAAA",className:lt("pr-10",a)}),n.jsx(pr,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}));vF.displayName="DateInput";function ms({id:e,name:r,value:t,onChange:a,className:s,minDate:i,maxDate:o,required:l}){const A=t?sF(`${t}`):null;return n.jsx(u9,{selected:A,onChange:d=>{if(!d){a==null||a("");return}a==null||a(ed(d,"yyyy-MM-dd"))},customInput:n.jsx(vF,{id:e,name:r,className:s}),dateFormat:"dd/MM/yyyy",placeholderText:"DD/MM/AAAA",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",minDate:i,maxDate:o,calendarClassName:"dp-modern",popperClassName:"dp-popper",required:l})}function h9(){const[e,r]=y.useState(null),[t,a]=y.useState(null),[s,i]=y.useState(!0),[o,l]=y.useState(null),[A,d]=y.useState([]),[f,h]=y.useState(!0),[m,p]=y.useState({data_nascimento:"",endereco:"",telefone:"",tipo_sanguineo:"",alergias:"",condicoes_cronicas:""}),[x,g]=y.useState(!1),{toast:w}=Ga();y.useEffect(()=>{let L=!0;return(async()=>{var _,q,R,H;try{const[J,T]=await Promise.allSettled([ha.getPerfil(),ha.getPacienteDoUsuario()]);if(!L)return;if(J.status==="fulfilled"&&r(J.value),T.status==="fulfilled"&&a(T.value),J.status==="rejected"&&T.status==="rejected"){const re=((q=(_=J.reason)==null?void 0:_.response)==null?void 0:q.status)||((H=(R=T.reason)==null?void 0:R.response)==null?void 0:H.status);l(re===401?"Sua sesso no  vlida. Verifique o login e o tipo de autenticao (Bearer/JWT/Token).":"No foi possvel carregar seu perfil.")}}finally{L&&i(!1)}})(),()=>{L=!1}},[]),y.useEffect(()=>{let L=!0;return(async()=>{try{h(!0);const _=await ha.getConsultas();if(L){const R=(Array.isArray(_)?_:(_==null?void 0:_.results)||[]).map(T=>{var V,ee,ce,k,D,K,te,Y,X,O,Z;const re=((ee=(V=T.medico)==null?void 0:V.user)==null?void 0:ee.first_name)||((ce=T.medico)==null?void 0:ce.first_name)||((k=T.medico)==null?void 0:k.nome)||"",z=((K=(D=T.medico)==null?void 0:D.user)==null?void 0:K.last_name)||((te=T.medico)==null?void 0:te.last_name)||"",G=[re,z].filter(Boolean).join(" ").trim()||((Y=T.medico)==null?void 0:Y.nome)||"";return{id:T.id,data:T.data||T.data_hora,medico:{nome:G,especialidade:((Z=(O=(X=T.medico)==null?void 0:X.especialidades)==null?void 0:O[0])==null?void 0:Z.nome)||T.especialidade||"No especificada"},status:T.status,local:T.local||T.localizacao||T.observacoes||"Local no especificado",tipo:T.tipo||T.motivo||"Consulta"}}),H=new Date,J=R.filter(T=>{const z=(T.status||"").toLowerCase().includes("agend"),G=T.data?new Date(T.data)>H:!1;return z||G});d(J.slice(0,3))}}catch(_){console.error("Erro ao buscar consultas:",_)}finally{L&&h(!1)}})(),()=>{L=!1}},[]),y.useEffect(()=>{t&&e&&p({data_nascimento:e.data_nascimento||"",endereco:e.endereco||"",telefone:e.telefone||"",tipo_sanguineo:t.tipo_sanguineo||"",alergias:t.alergias||"",condicoes_cronicas:t.condicoes_cronicas||""})},[t,e]);const j=L=>{const{name:_,value:q}=L.target;p(R=>({...R,[_]:q}))},N=async L=>{L.preventDefault(),g(!0);try{await ha.atualizarPerfil({data_nascimento:m.data_nascimento,endereco:m.endereco,telefone:m.telefone}),await ha.atualizarPaciente({tipo_sanguineo:m.tipo_sanguineo,alergias:m.alergias,condicoes_cronicas:m.condicoes_cronicas});const[_,q]=await Promise.allSettled([ha.getPerfil(),ha.getPacienteDoUsuario()]);_.status==="fulfilled"&&r(_.value),q.status==="fulfilled"&&a(q.value),w({title:"Perfil atualizado",description:"Suas informaes foram salvas com sucesso."})}catch(_){console.error("Erro ao salvar perfil:",_),w({title:"Erro ao salvar",description:"No foi possvel atualizar seu perfil. Tente novamente.",variant:"destructive"})}finally{g(!1)}},C=L=>L?([L.first_name,L.last_name].filter(Boolean).join(" ")||L.username||"Usurio").split(" ").map(q=>q[0]).join("").toUpperCase().slice(0,2):"?",E=L=>L?L.length>50?L.substring(0,50)+"...":L:"No informado",Q=e&&(!e.data_nascimento||!e.endereco||!e.telefone),U=[{label:"Perfil",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"}],F=[{title:"Contato com mdico",description:"Solicite um horrio",href:"/paciente/consultas/nova",icon:pr,color:"blue"},{title:"Ver Pronturio",description:"Acesse seu histrico mdico",href:"/paciente/prontuario",icon:sn,color:"green"},{title:"Exames",description:"Visualize seus exames",href:"/paciente/exames",icon:tA,color:"purple"},{title:"Receitas",description:"Suas receitas mdicas",href:"/paciente/receitas",icon:Jg,color:"red"}];return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950",children:n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 p-8 shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/95 via-indigo-600/95 to-purple-600/95"}),n.jsx("div",{className:"absolute -top-4 -right-4 h-24 w-24 rounded-full bg-white/10 blur-xl"}),n.jsx("div",{className:"absolute -bottom-4 -left-4 h-32 w-32 rounded-full bg-white/5 blur-2xl"}),n.jsxs("div",{className:"relative flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Im,{className:"h-24 w-24 ring-4 ring-white/40 shadow-xl",children:n.jsx(Pm,{className:"bg-gradient-to-br from-white to-blue-100 text-blue-700 text-2xl font-bold shadow-inner",children:s?"...":C(e)})}),n.jsx("div",{className:"absolute -bottom-1 -right-1 h-6 w-6 rounded-full bg-emerald-400 border-3 border-white shadow-lg"})]}),n.jsxs("div",{className:"text-white",children:[n.jsx("h1",{className:"text-4xl font-bold mb-2 drop-shadow-sm",children:s?n.jsx(Nr,{className:"h-10 w-64 bg-white/20"}):[e==null?void 0:e.first_name,e==null?void 0:e.last_name].filter(Boolean).join(" ")||(e==null?void 0:e.username)||"Usurio"}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Ai,{className:"h-5 w-5 text-blue-100"}),n.jsx("p",{className:"text-blue-50 text-lg font-medium",children:"Paciente Verificado"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[(e==null?void 0:e.cpf)&&n.jsxs(lr,{className:"bg-white/25 text-white border-white/40 hover:bg-white/35 font-medium px-3 py-1 shadow-sm",children:["CPF: ",e.cpf]}),(t==null?void 0:t.tipo_sanguineo)&&n.jsxs(lr,{className:"bg-red-500/30 text-red-50 border-red-200/40 hover:bg-red-500/40 font-medium px-3 py-1 shadow-sm",children:[n.jsx(yj,{className:"h-4 w-4 mr-1"}),t.tipo_sanguineo]})]})]})]}),n.jsxs(we,{className:"bg-white/25 hover:bg-white/35 text-white border-white/40 backdrop-blur-sm shadow-lg font-medium",children:[n.jsx(AI,{className:"h-4 w-4 mr-2"}),"Editar Perfil"]})]})]}),n.jsx(Wi,{tabs:U,basePath:"/paciente"}),!s&&!o&&Q&&n.jsxs(ke,{className:"border-amber-300 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/30 dark:to-orange-900/30 shadow-lg dark:border-amber-600",children:[n.jsx(ze,{className:"pb-4",children:n.jsxs(Ye,{className:"flex items-center gap-3 text-amber-800 dark:text-amber-200",children:[n.jsx("div",{className:"p-2 rounded-full bg-amber-200 dark:bg-amber-700",children:n.jsx(eA,{className:"h-5 w-5 text-amber-700 dark:text-amber-200"})}),"Complete seu perfil para uma experincia completa"]})}),n.jsx(Le,{children:n.jsxs("form",{className:"space-y-6",onSubmit:N,children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"data_nascimento",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Data de Nascimento"}),n.jsx(ms,{id:"data_nascimento",name:"data_nascimento",value:m.data_nascimento,onChange:L=>p(_=>({..._,data_nascimento:L})),className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",maxDate:new Date,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"telefone",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Telefone"}),n.jsx(He,{id:"telefone",name:"telefone",type:"tel",placeholder:"(11) 99999-9999",value:m.telefone,onChange:j,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"endereco",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Endereo"}),n.jsx(ua,{id:"endereco",name:"endereco",placeholder:"Rua, nmero, bairro, cidade, estado",value:m.endereco,onChange:j,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"tipo_sanguineo",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Tipo Sanguneo"}),n.jsx(He,{id:"tipo_sanguineo",name:"tipo_sanguineo",placeholder:"Ex: O+, A-, B+, AB-",value:m.tipo_sanguineo,onChange:j,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"alergias",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Alergias"}),n.jsx(He,{id:"alergias",name:"alergias",placeholder:"Ex: Penicilina, Amendoim",value:m.alergias,onChange:j,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"condicoes_cronicas",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Condies Crnicas"}),n.jsx(ua,{id:"condicoes_cronicas",name:"condicoes_cronicas",placeholder:"Ex: Hipertenso, Diabetes",value:m.condicoes_cronicas,onChange:j,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]}),n.jsx(we,{type:"submit",disabled:x,className:"w-full btn-medical-primary shadow-lg font-medium",children:x?"Salvando...":"Salvar Informaes"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-2 space-y-6",children:n.jsxs(ke,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[n.jsx(ze,{className:"pb-6",children:n.jsxs(Ye,{className:"flex items-center gap-3 text-2xl text-gray-800 dark:text-gray-100",children:[n.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:n.jsx(Hn,{className:"h-6 w-6"})}),"Informaes Pessoais"]})}),n.jsx(Le,{children:s?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Nr,{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700"}),n.jsx(Nr,{className:"h-16 w-full bg-gray-200 dark:bg-gray-700"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Nr,{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700"}),n.jsx(Nr,{className:"h-16 w-full bg-gray-200 dark:bg-gray-700"})]})]}):o?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(eA,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium",children:o})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/40 dark:to-indigo-900/40 border border-blue-200 dark:border-blue-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-blue-500 text-white shadow-md",children:n.jsx(pr,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-blue-800 dark:text-blue-200",children:"Data de Nascimento"})]}),n.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:(e==null?void 0:e.data_nascimento)||"No informado"})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-emerald-50 to-green-100 dark:from-emerald-900/40 dark:to-green-900/40 border border-emerald-200 dark:border-emerald-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-emerald-500 text-white shadow-md",children:n.jsx(rA,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-emerald-800 dark:text-emerald-200",children:"Telefone"})]}),n.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:(e==null?void 0:e.telefone)||"No informado"})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-purple-50 to-violet-100 dark:from-purple-900/40 dark:to-violet-900/40 border border-purple-200 dark:border-purple-700 hover:shadow-lg transition-all duration-300 md:col-span-2",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-purple-500 text-white shadow-md",children:n.jsx(Zg,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-purple-800 dark:text-purple-200",children:"Endereo"})]}),n.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:E(e==null?void 0:e.endereco)})]})]}),n.jsx(hs,{className:"my-8 bg-gray-200 dark:bg-gray-700"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[n.jsx(Bi,{className:"h-5 w-5 text-red-500"}),"Informaes Mdicas"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-red-50 to-pink-100 dark:from-red-900/40 dark:to-pink-900/40 border border-red-200 dark:border-red-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-red-500 text-white shadow-md",children:n.jsx(yj,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-200",children:"Tipo Sanguneo"})]}),n.jsx("p",{className:"text-red-900 dark:text-red-100 font-bold text-2xl",children:(t==null?void 0:t.tipo_sanguineo)||"No informado"})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-amber-50 to-yellow-100 dark:from-amber-900/40 dark:to-yellow-900/40 border border-amber-200 dark:border-amber-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-amber-500 text-white shadow-md",children:n.jsx(eA,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-amber-700 dark:text-amber-200",children:"Alergias"})]}),n.jsx("p",{className:"text-amber-800 dark:text-amber-200 font-medium",children:(t==null?void 0:t.alergias)||"Nenhuma alergia conhecida"})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-teal-50 to-cyan-100 dark:from-teal-900/40 dark:to-cyan-900/40 border border-teal-200 dark:border-teal-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-teal-500 text-white shadow-md",children:n.jsx(Jg,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-teal-800 dark:text-teal-200",children:"Condies Crnicas"})]}),n.jsx("p",{className:"text-teal-800 dark:text-teal-200 font-medium",children:(t==null?void 0:t.condicoes_cronicas)||"Nenhuma condio crnica"})]})]})]})]})})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ke,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[n.jsx(ze,{className:"pb-4",children:n.jsxs(Ye,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[n.jsx(pI,{className:"h-5 w-5 text-yellow-500"}),"Aes Rpidas"]})}),n.jsx(Le,{className:"space-y-3",children:F.map((L,_)=>{const q=L.icon;return n.jsx(fr,{to:L.href,children:n.jsx("div",{className:"group p-4 rounded-xl bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 hover:from-blue-50 hover:to-indigo-50 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30 border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-300 hover:shadow-lg cursor-pointer",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`p-3 rounded-full bg-gradient-to-br ${L.color==="blue"?"from-blue-500 to-blue-600":L.color==="green"?"from-emerald-500 to-green-600":L.color==="purple"?"from-purple-500 to-violet-600":"from-red-500 to-pink-600"} text-white shadow-lg group-hover:scale-110 transition-transform duration-300`,children:n.jsx(q,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors",children:L.title}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:L.description})]}),n.jsx(gl,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 group-hover:text-blue-500 group-hover:translate-x-1 transition-all duration-300"})]})})},_)})})]}),n.jsxs(ke,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[n.jsx(ze,{className:"pb-3",children:n.jsxs(Ye,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[n.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:n.jsx(pr,{className:"h-4 w-4"})}),"Prximas Consultas"]})}),n.jsx(Le,{children:f?n.jsxs("div",{className:"space-y-3",children:[n.jsx(Nr,{className:"h-16 w-full rounded-xl bg-gray-200 dark:bg-gray-700"}),n.jsx(Nr,{className:"h-16 w-full rounded-xl bg-gray-200 dark:bg-gray-700"})]}):A.length>0?n.jsxs("div",{className:"space-y-3",children:[A.map(L=>n.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-100 dark:from-blue-900/40 dark:to-indigo-900/40 border border-blue-200 dark:border-blue-700 hover:shadow-md transition-all duration-300",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-blue-500 text-white shadow-md",children:n.jsx(pr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-semibold text-blue-900 dark:text-blue-100",children:[new Date(L.data).toLocaleDateString("pt-BR")," ",new Date(L.data).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]}),n.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-200 font-medium",children:L.medico.nome}),n.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300",children:L.medico.especialidade})]})]})},L.id)),n.jsx(we,{variant:"outline",size:"sm",asChild:!0,className:"w-full mt-3 border-blue-300 text-blue-700 hover:bg-blue-50 dark:border-blue-600 dark:text-blue-300 dark:hover:bg-blue-900/20",children:n.jsxs(fr,{to:"/paciente/consultas",children:["Ver Todas as Consultas",n.jsx(gl,{className:"h-3 w-3 ml-1"})]})})]}):n.jsxs("div",{className:"text-center py-6",children:[n.jsx("div",{className:"p-4 rounded-full bg-gray-100 dark:bg-gray-700 w-fit mx-auto mb-3",children:n.jsx(pr,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-3",children:"Nenhuma consulta agendada"}),n.jsx(we,{variant:"outline",size:"sm",asChild:!0,className:"border-blue-300 text-blue-700 hover:bg-blue-50 dark:border-blue-600 dark:text-blue-300 dark:hover:bg-blue-900/20",children:n.jsxs(fr,{to:"/paciente/consultas",children:["Entrar em contato",n.jsx(gl,{className:"h-3 w-3 ml-1"})]})})]})})]}),n.jsxs(ke,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[n.jsx(ze,{className:"pb-3",children:n.jsxs(Ye,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[n.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-emerald-500 to-green-600 text-white shadow-lg",children:n.jsx(tA,{className:"h-4 w-4"})}),"Exames Recentes"]})}),n.jsx(Le,{children:n.jsxs("div",{className:"text-center py-6",children:[n.jsx("div",{className:"p-4 rounded-full bg-gray-100 dark:bg-gray-700 w-fit mx-auto mb-3",children:n.jsx(tA,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-3",children:"Nenhum exame recente"}),n.jsx(we,{variant:"outline",size:"sm",asChild:!0,className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50 dark:border-emerald-600 dark:text-emerald-300 dark:hover:bg-emerald-900/20",children:n.jsxs(fr,{to:"/paciente/exames",children:["Ver Todos os Exames",n.jsx(gl,{className:"h-3 w-3 ml-1"})]})})]})})]})]})]})]})})}function m9(){const[e,r]=y.useState(null),[t,a]=y.useState(!0),[s,i]=y.useState(null),o=h=>Array.isArray(h)?h.filter(m=>m!=null&&m!==""):typeof h=="string"?h.split(/[\n;,]+/).map(m=>m.trim()).filter(Boolean):h==null?[]:[h],l=h=>{let m="",p="",x="";if(typeof h=="string"){const g=h.split(/[;\-\|]/).map(w=>w.trim()).filter(Boolean);if(g.length&&(m=g[0]),g[1]&&(p=g[1]),g[2]&&(x=g.slice(2).join("  ")),!p){const w=h.match(/\b(\d+(\.\d+)?\s?(mg|ml|mcg|g|gotas|ui))\b/i);w&&(p=w[0])}if(!x){const w=h.match(/\b(\d+x\s?\/\s?dia|[1-9]\s?x\/dia|a\s?cada\s?\d+\s?h|de\s?\d+\s?em\s?\d+\s?h)\b/i);w&&(x=w[0])}}else h&&typeof h=="object"&&(m=h.nome||h.medicamento||h.nome_medicamento||h.name||h.descricao||"",p=h.dose||h.dosagem||h.dosage||"",x=h.posologia||h.frequencia||h.intervalo||h.schedule||"");return{name:m||(typeof h=="string"?h:JSON.stringify(h)),dose:p||"",schedule:x||""}},A=h=>{const m=o(h);return m.length>0?n.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:m.map((p,x)=>{const g=l(p);return n.jsx("div",{className:"rounded-xl border bg-card p-3 shadow-sm hover:shadow-md transition-shadow",role:"group","aria-label":`Medicao ${g.name}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-0.5 rounded-md bg-primary/10 p-2 text-primary",children:n.jsx(Bf,{className:"h-5 w-5","aria-hidden":"true"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"text-base md:text-lg font-semibold leading-snug break-words",children:g.name}),g.dose&&n.jsx("div",{className:"text-sm md:text-base text-muted-foreground mt-0.5 break-words",children:g.dose}),g.schedule&&n.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 rounded-full bg-muted/60 px-2 py-1 text-xs md:text-sm text-foreground/80",children:[n.jsx(Tr,{className:"h-3.5 w-3.5","aria-hidden":"true"}),n.jsx("span",{className:"break-words",children:g.schedule})]})]})]})},x)})}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})};y.useEffect(()=>{let h=!0;const m=x=>{var E,Q;const g=Array.isArray(x)?x[0]:Array.isArray(x==null?void 0:x.results)?x.results[0]:x||{},w=g.alergias??g.allergies??g.alergia,j=g.condicoes??g.condicoes_cronicas??g.condicoesCronicas,N=g.medicacoes??g.medicamentos??g.medicacoes_em_uso??g.medicamentos_em_uso??g.medicamentos_uso??g.em_uso??g.medicacoesEmUso??g.medicamentosEmUso??g.medications??g.current_medications??((E=g.prontuario)==null?void 0:E.medicacoes)??((Q=g.prontuario)==null?void 0:Q.medicamentos),C=g.observacoes??g.observacao??g.notes??g.anotacoes;return{alergias:o(w),condicoes:o(j),medicacoes:o(N),observacoes:C??""}},p=x=>x?{alergias:o(x.alergias),condicoes:o(x.condicoes_cronicas??x.condicoes),medicacoes:o(x.medicacoes??x.medicamentos??x.medicacoes_em_uso??x.medicamentos_em_uso??x.medicamentos_uso??x.em_uso??x.medicacoesEmUso??x.medicamentosEmUso??x.medications??x.current_medications),observacoes:x.observacoes??""}:null;return(async()=>{try{const[x,g]=await Promise.allSettled([ha.getProntuario(),ha.getPacienteDoUsuario()]);let w=null;if(x.status==="fulfilled"&&(w=m(x.value)),(!w||o(w.alergias).length===0&&o(w.condicoes).length===0&&o(w.medicacoes).length===0&&(!w.observacoes||w.observacoes===""))&&g.status==="fulfilled"){const N=p(g.value);N&&(w=N)}h&&r(w||{alergias:[],condicoes:[],medicacoes:[],observacoes:""})}catch{h&&i("No foi possvel carregar o pronturio.")}finally{h&&a(!1)}})(),()=>{h=!1}},[]);const d=h=>{const m=o(h);return m.length>0?n.jsx("div",{className:"flex flex-wrap gap-2",children:m.map((p,x)=>{const g=typeof p=="string"?p:(p==null?void 0:p.nome)||(p==null?void 0:p.medicamento)||(p==null?void 0:p.nome_medicamento)||[p==null?void 0:p.descricao,(p==null?void 0:p.dose)||(p==null?void 0:p.dosagem),(p==null?void 0:p.posologia)||(p==null?void 0:p.frequencia)].filter(Boolean).join("  ")||JSON.stringify(p);return n.jsx(lr,{variant:"secondary",className:"px-2.5 py-1 text-xs",children:g},x)})}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})},f=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}];return n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(sn,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Pronturio"})]}),n.jsx(Wi,{tabs:f,basePath:"/paciente"}),t?n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[n.jsxs(ke,{className:"lg:col-span-2",children:[n.jsx(ze,{children:n.jsx(Nr,{className:"h-5 w-40"})}),n.jsxs(Le,{className:"space-y-2",children:[n.jsx(Nr,{className:"h-4 w-full"}),n.jsx(Nr,{className:"h-4 w-5/6"}),n.jsx(Nr,{className:"h-4 w-2/3"})]})]}),n.jsx("div",{className:"space-y-6",children:[...Array(3)].map((h,m)=>n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Nr,{className:"h-5 w-40"})}),n.jsxs(Le,{className:"space-y-2",children:[n.jsx(Nr,{className:"h-4 w-full"}),n.jsx(Nr,{className:"h-4 w-2/3"})]})]},m))})]}):s?n.jsx("p",{className:"text-sm text-red-500",children:s}):n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[n.jsxs(ke,{className:"lg:col-span-2 min-h-[320px]",children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Medicaes"})}),n.jsx(Le,{children:A(e==null?void 0:e.medicacoes)})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Alergias"})}),n.jsx(Le,{children:d(e==null?void 0:e.alergias)})]}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Condies"})}),n.jsx(Le,{children:d(e==null?void 0:e.condicoes)})]}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Observaes"})}),n.jsx(Le,{children:e!=null&&e.observacoes&&(e==null?void 0:e.observacoes)!==""?n.jsx("div",{className:"rounded-md bg-muted/40 p-3 text-sm leading-relaxed whitespace-pre-wrap",children:e==null?void 0:e.observacoes}):n.jsx("p",{className:"text-sm text-muted-foreground",children:""})})]})]})]})]})}const uA=US,wF=zP,p9=({className:e,children:r,...t})=>n.jsx(LS,{className:lt(e),...t,children:n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:r})}),yF=y.forwardRef(({className:e,...r},t)=>n.jsx(X0,{ref:t,className:lt("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0",e),...r}));yF.displayName=X0.displayName;const dc=y.forwardRef(({className:e,children:r,...t},a)=>n.jsxs(p9,{children:[n.jsx(yF,{}),n.jsxs(J0,{ref:a,className:lt("fixed z-50 grid w-full max-w-xl gap-4 rounded-xl border bg-background p-0 shadow-xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0","data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95","left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",e),...t,children:[r,n.jsxs(IS,{className:"absolute right-4 top-4 rounded-md opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[n.jsx(L1,{className:"h-5 w-5"}),n.jsx("span",{className:"sr-only",children:"Fechar"})]})]})]}));dc.displayName=J0.displayName;const uc=({className:e,...r})=>n.jsx("div",{className:lt("px-6 pt-5 pb-3 flex flex-col space-y-1.5",e),...r});uc.displayName="DialogHeader";const fA=({className:e,...r})=>n.jsx("div",{className:lt("px-6 pb-5 pt-2 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});fA.displayName="DialogFooter";const fc=y.forwardRef(({className:e,...r},t)=>n.jsx(Z0,{ref:t,className:lt("text-lg font-semibold leading-none tracking-tight",e),...r}));fc.displayName=Z0.displayName;const Om=y.forwardRef(({className:e,...r},t)=>n.jsx(ex,{ref:t,className:lt("text-sm text-muted-foreground",e),...r}));Om.displayName=ex.displayName;const zo=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:t,className:lt("w-full caption-bottom text-sm",e),...r})}));zo.displayName="Table";const Vo=y.forwardRef(({className:e,...r},t)=>n.jsx("thead",{ref:t,className:lt("[&_tr]:border-b",e),...r}));Vo.displayName="TableHeader";const qo=y.forwardRef(({className:e,...r},t)=>n.jsx("tbody",{ref:t,className:lt("[&_tr:last-child]:border-0",e),...r}));qo.displayName="TableBody";const g9=y.forwardRef(({className:e,...r},t)=>n.jsx("tfoot",{ref:t,className:lt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r}));g9.displayName="TableFooter";const nn=y.forwardRef(({className:e,...r},t)=>n.jsx("tr",{ref:t,className:lt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));nn.displayName="TableRow";const vr=y.forwardRef(({className:e,...r},t)=>n.jsx("th",{ref:t,className:lt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));vr.displayName="TableHead";const dr=y.forwardRef(({className:e,...r},t)=>n.jsx("td",{ref:t,className:lt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));dr.displayName="TableCell";const x9=y.forwardRef(({className:e,...r},t)=>n.jsx("caption",{ref:t,className:lt("mt-4 text-sm text-muted-foreground",e),...r}));x9.displayName="TableCaption";var l5,c5;const v9=(((c5=(l5=import.meta)==null?void 0:l5.env)==null?void 0:c5.VITE_TIMEZONE)||"America/Sao_Paulo").trim();function bF(e,r={}){try{return new Intl.DateTimeFormat("pt-BR",{timeZone:v9,...r}).format(e)}catch{return""}}const jF=e=>{if(!e)return"";try{let r;if(typeof e=="string"&&e.match(/^\d{4}-\d{2}-\d{2}$/)){const[t,a,s]=e.split("-");return`${s}/${a}/${t}`}else r=new Date(e);return isNaN(r.getTime())?"":bF(r,{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return""}},w9=e=>{if(!e)return"";try{const r=new Date(e);return isNaN(r.getTime())?"":bF(r,{hour:"2-digit",minute:"2-digit"})}catch{return""}},y9=e=>{if(!e)return null;try{let r;if(typeof e=="string"&&e.match(/^\d{4}-\d{2}-\d{2}$/)){const[d,f,h]=e.split("-").map(Number);r=new Date(d,f-1,h)}else r=new Date(e);if(isNaN(r.getTime()))return null;const t=new Date;let a=t.getFullYear()-r.getFullYear();const s=t.getMonth()-r.getMonth(),i=t.getDate()-r.getDate();(s<0||s===0&&i<0)&&a--;let o=new Date(t.getFullYear(),r.getMonth(),r.getDate());o>t&&(o=new Date(t.getFullYear()-1,r.getMonth(),r.getDate()));const l=1440*60*1e3,A=Math.floor((t-o)/l);return`${a} anos e ${A} dias`}catch{return null}},kN=e=>{var t,a,s;if(!e)return null;const r=[(t=e==null?void 0:e.user)==null?void 0:t.first_name,(a=e==null?void 0:e.user)==null?void 0:a.last_name].filter(Boolean).join(" ");return(e==null?void 0:e.nome)||(e==null?void 0:e.name)||((s=e==null?void 0:e.usuario)==null?void 0:s.nome)||r||(e==null?void 0:e.username)||(e==null?void 0:e.email)||null},DN=e=>{var t;const r=a=>(a==null?void 0:a.nome)||(a==null?void 0:a.titulo)||(a==null?void 0:a.name)||(a==null?void 0:a.descricao)||(a==null?void 0:a.description);if(Array.isArray(e==null?void 0:e.especialidades)&&e.especialidades.length){const a=e.especialidades.map(s=>r(s)||(typeof s=="string"?s:null)).filter(Boolean);if(a.length)return a.join(", ")}if(e!=null&&e.especialidade&&typeof e.especialidade=="object"){const a=r(e.especialidade);if(a)return a}return typeof(e==null?void 0:e.especialidade)=="string"&&e.especialidade.trim()?e.especialidade.trim():typeof(e==null?void 0:e.especialidade_nome)=="string"&&e.especialidade_nome.trim()?e.especialidade_nome.trim():typeof(e==null?void 0:e.specialty)=="string"&&e.specialty.trim()?e.specialty.trim():typeof(e==null?void 0:e.area)=="string"&&e.area.trim()?e.area.trim():typeof((t=e==null?void 0:e.user)==null?void 0:t.especialidade)=="string"&&e.user.especialidade.trim()?e.user.especialidade.trim():null};function b9(){var L,_,q;const[e,r]=y.useState([]),[t,a]=y.useState(!0),[s,i]=y.useState(""),[o,l]=y.useState(""),[A,d]=y.useState("todas"),[f,h]=y.useState(!1),[m,p]=y.useState(null),x=R=>{p(R),h(!0)};y.useEffect(()=>{let R=!0;return(async()=>{var J;try{console.log("[DEBUG] Consultas - Iniciando carregamento...");const T=await ha.getConsultas();if(console.log("[DEBUG] Consultas - Resposta da API:",T),!R)return;let re=[];T.results?re=T.results:(J=T.data)!=null&&J.results?re=T.data.results:T.data&&Array.isArray(T.data)?re=T.data:Array.isArray(T)&&(re=T);let z=re.map(G=>{var ce,k,D;const V=G.data||G.date||G.dia||G.data_consulta||G.data_hora||G.horario||G.data_hora_inicio||G.agendamento||G.data_agendamento||G.inicio||G.start||null,ee={id:G.id,data:V,local:G.local||G.endereco||((ce=G.clinica)==null?void 0:ce.endereco)||((k=G.medico)==null?void 0:k.local_atendimento)||"Local no informado",tipo:G.tipo||G.tipo_consulta||"Presencial",status:G.status||"Agendada",medico:null};if(G.medico)if(typeof G.medico=="object"){const K=kN(G.medico),te=DN(G.medico)||G.especialidade||G.specialty||"Especialidade no informada";ee.medico={id:G.medico.id||((D=G.medico.user)==null?void 0:D.id)||null,nome:K||"Mdico no informado",especialidade:te}}else ee.medico={id:G.medico,nome:G.medico_nome||G.doctor_name||"Mdico no informado",especialidade:G.especialidade||G.specialty||"Especialidade no informada"};else G.medico_nome||G.doctor_name?ee.medico={id:G.medico_id||null,nome:G.medico_nome||G.doctor_name,especialidade:G.especialidade||G.specialty||"Especialidade no informada"}:G.medico_id&&(ee.medico={id:G.medico_id,nome:"Mdico no informado",especialidade:G.especialidade||G.specialty||"Especialidade no informada"});return ee});try{const G=Array.from(new Set(z.filter(V=>{var ee;return!((ee=V.medico)!=null&&ee.nome)||V.medico.nome==="Mdico no informado"}).map(V=>{var ee;return(ee=V.medico)==null?void 0:ee.id}).filter(Boolean)));if(G.length){const V=await Promise.all(G.map(ce=>ha.getMedicoById(ce).catch(()=>null))),ee={};V.forEach((ce,k)=>{const D=G[k];ce&&(ee[D]={id:ce.id||D,nome:kN(ce)||ce.nome||"Mdico",especialidade:DN(ce)||ce.especialidade||"Especialidade no informada"})}),z=z.map(ce=>{var D;const k=(D=ce.medico)==null?void 0:D.id;return k&&ee[k]?{...ce,medico:ee[k]}:ce})}}catch{}r(z)}catch(T){if(!R)return;console.error("Erro ao carregar consultas:",T),i("Erro ao carregar consultas. Tente novamente.")}finally{R&&a(!1)}})(),()=>{R=!1}},[]);const g=e.filter(R=>{var J,T,re,z,G,V,ee;const H=String(R.status||"").toLowerCase();if(A==="agendadas"&&!(H.includes("agend")||H.includes("confirm"))||A==="realizadas"&&!(H.includes("conclu")||H.includes("realiz")||H.includes("final")))return!1;if(o){const ce=o.toLowerCase();return((T=(J=R.medico)==null?void 0:J.nome)==null?void 0:T.toLowerCase().includes(ce))||((G=(z=(re=R.medico)==null?void 0:re.especialidade)==null?void 0:z.toLowerCase)==null?void 0:G.call(z).includes(ce))||((V=R.local)==null?void 0:V.toLowerCase().includes(ce))||((ee=R.tipo)==null?void 0:ee.toLowerCase().includes(ce))}return!0}),w=new Date,j=g.filter(R=>{const H=(R.status||"").toLowerCase(),J=H.includes("agend")||H.includes("confirm"),T=R.data?new Date(R.data)>w:!1;return J||T}).sort((R,H)=>new Date(R.data)-new Date(H.data)),N=g.filter(R=>{const H=(R.status||"").toLowerCase(),J=H.includes("conclu")||H.includes("realiz")||H.includes("final"),T=R.data?new Date(R.data)<w:!1;return J||T}).sort((R,H)=>new Date(H.data)-new Date(R.data)),C=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],E=e.length,Q=e.filter(R=>R.data&&new Date(R.data).getFullYear()===new Date().getFullYear()).length,U=j.length,F=N.length;return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-indigo-900/10",children:n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 p-8 text-white shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:n.jsx(pr,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Minhas Consultas"}),n.jsx("p",{className:"text-blue-100",children:"Gerencie suas consultas mdicas"})]})]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(we,{variant:"secondary",className:"bg-white/20 text-white border-white/30 hover:bg-white/30 backdrop-blur-sm dark:bg-gray-800/80 dark:hover:bg-gray-700/80 dark:border-gray-600/50 dark:text-gray-200",asChild:!0,children:n.jsxs("a",{href:"/paciente/medicos",className:"inline-flex items-center gap-2",children:[n.jsx(qr,{className:"h-4 w-4"}),"Mdicos"]})}),n.jsx(we,{className:"bg-white text-blue-600 hover:bg-blue-50 font-semibold shadow-lg dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700",asChild:!0,children:n.jsxs("a",{href:"/paciente/consultas/nova",className:"inline-flex items-center gap-2",children:[n.jsx(wj,{className:"h-4 w-4"}),"Entrar em contato"]})})]})]})})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total de Consultas"}),n.jsx("p",{className:"text-3xl font-bold",children:E})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(pr,{className:"h-6 w-6"})})]})})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-green-500 to-green-600 text-white shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Prximas Consultas"}),n.jsx("p",{className:"text-3xl font-bold",children:U})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Tr,{className:"h-6 w-6"})})]})})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-purple-500 to-purple-600 text-white shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Consultas Concludas"}),n.jsx("p",{className:"text-3xl font-bold",children:F})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Bi,{className:"h-6 w-6"})})]})})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-orange-500 to-orange-600 text-white shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Este Ano"}),n.jsx("p",{className:"text-3xl font-bold",children:Q})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(sn,{className:"h-6 w-6"})})]})})})]}),n.jsx(Wi,{tabs:C,basePath:"/paciente"}),n.jsx(ke,{className:"border-0 shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(js,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(He,{placeholder:"Buscar por mdico, especialidade ou local...",className:"pl-10 border-0 bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-400",value:o,onChange:R=>l(R.target.value)})]}),n.jsx("div",{className:"flex gap-3",children:n.jsxs(Wr,{value:A,onValueChange:d,children:[n.jsx(Kr,{className:"w-[180px] border-0 bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200",children:n.jsx(Gr,{placeholder:"Filtrar por status"})}),n.jsxs(zr,{children:[n.jsx(at,{value:"todas",children:"Todas as consultas"}),n.jsx(at,{value:"agendadas",children:"Agendadas"}),n.jsx(at,{value:"realizadas",children:"Realizadas"})]})]})})]})})}),n.jsxs(Vi,{defaultValue:"agendadas",className:"w-full",children:[n.jsxs(qi,{className:"grid w-full grid-cols-2 bg-white dark:bg-gray-800 shadow-lg border-0",children:[n.jsx(Pr,{value:"agendadas",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:"Consultas Agendadas"}),n.jsx(Pr,{value:"realizadas",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:"Histrico de Consultas"})]}),n.jsx($r,{value:"agendadas",children:n.jsxs(ke,{className:"border-0 shadow-lg",children:[n.jsx(ze,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20",children:n.jsxs(Ye,{className:"flex items-center gap-2 text-blue-700 dark:text-blue-300",children:[n.jsx(pr,{className:"h-5 w-5"}),"Prximas Consultas"]})}),n.jsx(Le,{className:"p-6",children:t?n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((R,H)=>n.jsxs("div",{className:"rounded-xl border p-4 space-y-3",children:[n.jsx(Nr,{className:"h-4 w-1/3"}),n.jsx(Nr,{className:"h-4 w-1/2"}),n.jsx(Nr,{className:"h-4 w-1/4"})]},H))}):s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"rounded-full bg-red-100 dark:bg-red-900/20 p-3 w-fit mx-auto mb-4",children:n.jsx(pr,{className:"h-8 w-8 text-red-500"})}),n.jsx("p",{className:"text-red-500 font-medium",children:s})]}):j.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"rounded-full bg-blue-100 dark:bg-blue-900/20 p-4 w-fit mx-auto mb-4",children:n.jsx(pr,{className:"h-12 w-12 text-blue-500"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Nenhuma consulta agendada"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Voc no possui consultas agendadas no momento."}),n.jsx(we,{className:"btn-medical-primary shadow-lg",asChild:!0,children:n.jsxs("a",{href:"/paciente/consultas/nova",className:"inline-flex items-center gap-2",children:[n.jsx(wj,{className:"h-4 w-4"}),"Entrar em contato"]})})]}):n.jsx("div",{className:"space-y-4",children:j.map(R=>{var H,J,T;return n.jsx("div",{className:"group relative overflow-hidden rounded-xl border-0 bg-gradient-to-r from-white to-blue-50/50 dark:from-gray-800 dark:to-blue-900/10 p-6 shadow-lg transition-all hover:shadow-xl hover:scale-[1.02]",children:n.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[n.jsx("div",{className:"flex-1 space-y-4",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"rounded-full bg-gradient-to-r from-blue-500 to-purple-600 p-3 text-white shadow-lg",children:n.jsx(Hn,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-gray-100",children:((H=R.medico)==null?void 0:H.nome)||"Mdico no informado"}),n.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium",children:((J=R.medico)==null?void 0:J.especialidade)||"Especialidade no informada"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[n.jsx(Tr,{className:"h-4 w-4"}),n.jsxs("span",{className:"font-medium",children:[R.data?jF(R.data):"Data no informada"," s ",R.data?w9(R.data):"--:--"]})]})]}),n.jsxs("div",{className:"mt-3 flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[n.jsx(Zg,{className:"h-4 w-4"}),n.jsx("span",{children:R.local})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 px-3 py-1 text-xs font-medium text-white",children:[R.tipo==="Online"?n.jsx(Rv,{className:"h-3 w-3"}):R.tipo==="Telefone"?n.jsx(rA,{className:"h-3 w-3"}):n.jsx(qr,{className:"h-3 w-3"}),R.tipo]}),n.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-3 py-1 text-xs font-medium text-green-700 dark:text-green-300",children:R.status||""})]})]})]})}),n.jsx("div",{className:"flex gap-3",children:n.jsx(we,{size:"sm",className:"btn-medical-primary shadow-lg",asChild:!0,children:n.jsx("a",{href:`/paciente/consultas/nova${(T=R.medico)!=null&&T.id?`?medico=${R.medico.id}`:""}`,children:"Contato p/ agendar"})})})]})},R.id)})})})]})}),n.jsx($r,{value:"realizadas",children:n.jsxs(ke,{className:"border-0 shadow-lg",children:[n.jsx(ze,{className:"bg-gradient-to-r from-gray-50 to-slate-50 dark:from-gray-900/20 dark:to-slate-900/20",children:n.jsxs(Ye,{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[n.jsx(Tr,{className:"h-5 w-5"}),"Histrico de Consultas"]})}),n.jsx(Le,{className:"p-6",children:t?n.jsx("div",{className:"space-y-2",children:[...Array(5)].map((R,H)=>n.jsx(Nr,{className:"h-12 w-full"},H))}):s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"rounded-full bg-red-100 dark:bg-red-900/20 p-3 w-fit mx-auto mb-4",children:n.jsx(Tr,{className:"h-8 w-8 text-red-500"})}),n.jsx("p",{className:"text-red-500 font-medium",children:s})]}):N.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"rounded-full bg-gray-100 dark:bg-gray-800 p-4 w-fit mx-auto mb-4",children:n.jsx(Tr,{className:"h-12 w-12 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Voc no possui consultas realizadas no histrico."})]}):n.jsx("div",{className:"overflow-hidden rounded-xl border-0 bg-white dark:bg-gray-800 shadow-lg",children:n.jsxs(zo,{children:[n.jsx(Vo,{className:"bg-gray-50 dark:bg-gray-900/50",children:n.jsxs(nn,{className:"border-0",children:[n.jsx(vr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Data"}),n.jsx(vr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Mdico"}),n.jsx(vr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Especialidade"}),n.jsx(vr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Tipo"}),n.jsx(vr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Status"}),n.jsx(vr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Aes"})]})}),n.jsx(qo,{children:N.map(R=>{var H,J;return n.jsxs(nn,{className:"border-0 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[n.jsx(dr,{className:"font-medium",children:R.data?new Date(R.data).toLocaleDateString():""}),n.jsx(dr,{children:((H=R.medico)==null?void 0:H.nome)||""}),n.jsx(dr,{children:((J=R.medico)==null?void 0:J.especialidade)||""}),n.jsx(dr,{children:n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-100 dark:bg-blue-900/30 px-2 py-1 text-xs font-medium text-blue-700 dark:text-blue-300",children:[R.tipo==="Online"?n.jsx(Rv,{className:"h-3 w-3"}):R.tipo==="Telefone"?n.jsx(rA,{className:"h-3 w-3"}):n.jsx(qr,{className:"h-3 w-3"}),R.tipo||""]})}),n.jsx(dr,{children:n.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-2 py-1 text-xs font-medium text-green-700 dark:text-green-300",children:R.status||""})}),n.jsx(dr,{children:n.jsx(we,{variant:"ghost",size:"sm",onClick:()=>x(R),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20",children:"Ver Detalhes"})})]},R.id)})})]})})})]})})]}),n.jsx(uA,{open:f,onOpenChange:h,children:n.jsxs(dc,{className:"max-w-2xl border-0 shadow-2xl",children:[n.jsxs(uc,{className:"pb-6",children:[n.jsx(fc,{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Detalhes da Consulta"}),n.jsx(Om,{className:"text-gray-600 dark:text-gray-400",children:"Informaes completas da consulta selecionada"})]}),m?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start gap-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 p-6",children:[n.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold text-lg shadow-lg",children:(((L=m.medico)==null?void 0:L.nome)||"").split(" ").map(R=>R==null?void 0:R[0]).filter(Boolean).slice(0,2).join("").toUpperCase()}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-bold text-xl text-gray-900 dark:text-gray-100",children:((_=m.medico)==null?void 0:_.nome)||""}),n.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium",children:((q=m.medico)==null?void 0:q.especialidade)||"Especialidade no informada"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Data"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:m.data?new Date(m.data).toLocaleDateString():""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Hora"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:m.data?new Date(m.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Tipo"}),n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 px-3 py-1 text-sm font-medium text-white",children:[m.tipo==="Online"?n.jsx(Rv,{className:"h-3 w-3"}):m.tipo==="Telefone"?n.jsx(rA,{className:"h-3 w-3"}):n.jsx(qr,{className:"h-3 w-3"}),m.tipo]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),n.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-3 py-1 text-sm font-medium text-green-700 dark:text-green-300",children:m.status})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Local"}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-gray-100",children:[n.jsx(Zg,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{children:m.local})]})]})]}):null]})})]})})}function j9(){const[e,r]=y.useState([]),[t,a]=y.useState(!0),[s,i]=y.useState(null),[o,l]=y.useState("todas"),[A,d]=y.useState(""),f=Q=>{var U;return((U=Q==null?void 0:Q.tipo_exame)==null?void 0:U.nome)||(Q==null?void 0:Q.tipo_exame_nome)||(Q==null?void 0:Q.nome_exame)||(typeof(Q==null?void 0:Q.tipo_exame)=="string"?Q.tipo_exame:null)||(Q==null?void 0:Q.nome)||(Q==null?void 0:Q.tipo)||(Q==null?void 0:Q.exame)||"Exame"},h=Q=>{const U=Q==null?void 0:Q.user;return[U==null?void 0:U.first_name,U==null?void 0:U.last_name].filter(Boolean).join(" ").trim()||(U==null?void 0:U.nome)||(U==null?void 0:U.username)||(Q==null?void 0:Q.nome)||""},m=Q=>{var L;const U=(Q==null?void 0:Q.resultado_url)||(Q==null?void 0:Q.arquivo_resultado)||((L=Q==null?void 0:Q.resultado)==null?void 0:L.arquivo)||(Q==null?void 0:Q.arquivo_url)||(Q==null?void 0:Q.documento_url);return U?/^https?:\/\//i.test(U)?U:`http://127.0.0.1:8000${U.startsWith("/")?"":"/"}${U}`:null};y.useEffect(()=>{let Q=!0;return(async()=>{try{const U=await ha.getExames();if(Q){const L=(Array.isArray(U)?U:(U==null?void 0:U.results)||[]).map(_=>({id:_.id,data:_.data_agendamento||_.data_solicitacao||_.data||_.data_hora||null,nome:f(_),medico:{nome:h((_==null?void 0:_.medico_solicitante)||(_==null?void 0:_.medico))},status:_.status||_.situacao||"Pendente",local:_.local_realizacao||_.local||_.localizacao||_.unidade||"",resultado_url:m(_)}));r(L)}}catch{i("No foi possvel carregar os exames.")}finally{Q&&a(!1)}})(),()=>{Q=!1}},[]);const p=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],x=e.filter(Q=>{var U;if(o==="agendados"){const F=Q.data?new Date(Q.data)>new Date:!1;if(!F&&(Q.status||"").toLowerCase().includes("conclu")||!F&&(Q.status||"").toLowerCase()==="realizado")return!1}if(o==="realizados"&&!((Q.status||"").toLowerCase().includes("conclu")||(Q.status||"").toLowerCase()==="realizado"||(Q.data?new Date(Q.data)<new Date:!1)))return!1;if(A){const F=A.toLowerCase();return(Q.nome||"").toLowerCase().includes(F)||(((U=Q.medico)==null?void 0:U.nome)||"").toLowerCase().includes(F)||(Q.local||"").toLowerCase().includes(F)}return!0}),g=x.filter(Q=>{const U=Q.data?new Date(Q.data)>new Date:!1,F=(Q.status||"").toLowerCase();return U||F==="agendado"||F==="pendente"||F==="solicitado"}).sort((Q,U)=>new Date(Q.data||0)-new Date(U.data||0)),w=x.filter(Q=>{const U=(Q.status||"").toLowerCase();return(Q.data?new Date(Q.data)<new Date:!1)||U.includes("conclu")||U==="realizado"}).sort((Q,U)=>new Date(U.data||0)-new Date(Q.data||0)),j=e.length,N=g.length,C=w.length,E=e.filter(Q=>Q.data?new Date(Q.data).getFullYear()===new Date().getFullYear():!1).length;return n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-medical-primary/90 via-medical-primary to-medical-secondary p-8 text-white shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:n.jsx(tA,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Meus Exames"}),n.jsx("p",{className:"text-white/90",children:"Gerencie seus exames e resultados"})]})]})}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs(we,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[n.jsx(qr,{className:"mr-2 h-4 w-4"}),"Mdicos"]}),n.jsxs(we,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[n.jsx(pr,{className:"mr-2 h-4 w-4"}),"Agendar Exame"]})]})]})}),n.jsx("div",{className:"absolute -right-20 -top-20 h-40 w-40 rounded-full bg-white/10"}),n.jsx("div",{className:"absolute -bottom-16 -left-16 h-32 w-32 rounded-full bg-white/10"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-medical-primary/80 to-medical-primary text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Total de Exames"}),n.jsx("p",{className:"text-3xl font-bold",children:j})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(sn,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-status-attention/80 to-status-attention text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Prximos Exames"}),n.jsx("p",{className:"text-3xl font-bold",children:N})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Tr,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-medical-secondary/80 to-medical-secondary text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Concludos"}),n.jsx("p",{className:"text-3xl font-bold",children:C})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(po,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-medical-primary/60 to-medical-primary/80 text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Este Ano"}),n.jsx("p",{className:"text-3xl font-bold",children:E})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Em,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})})]}),n.jsx(Wi,{tabs:p,basePath:"/paciente"}),n.jsx(ke,{className:"border-0 shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(js,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(He,{placeholder:"Buscar por exame, mdico ou local...",value:A,onChange:Q=>d(Q.target.value),className:"pl-10"})]}),n.jsx("div",{className:"w-full md:w-[220px]",children:n.jsxs(Wr,{value:o,onValueChange:l,children:[n.jsx(Kr,{children:n.jsx(Gr,{placeholder:"Filtrar por status"})}),n.jsxs(zr,{children:[n.jsx(at,{value:"todas",children:"Todos os exames"}),n.jsx(at,{value:"agendados",children:"Agendados"}),n.jsx(at,{value:"realizados",children:"Realizados"})]})]})})]})})}),n.jsxs(Vi,{defaultValue:"agendados",className:"w-full",children:[n.jsxs(qi,{className:"grid w-full grid-cols-2 h-12 bg-muted/50",children:[n.jsxs(Pr,{value:"agendados",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[n.jsx(Tr,{className:"mr-2 h-4 w-4"}),"Exames Agendados"]}),n.jsxs(Pr,{value:"realizados",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[n.jsx(po,{className:"mr-2 h-4 w-4"}),"Histrico de Exames"]})]}),n.jsx($r,{value:"agendados",className:"mt-6",children:n.jsxs(ke,{className:"border-0 shadow-lg",children:[n.jsx(ze,{className:"pb-4",children:n.jsxs(Ye,{className:"flex items-center gap-2 text-xl",children:[n.jsx(Tr,{className:"h-5 w-5 text-amber-500"}),"Prximos Exames"]})}),n.jsx(Le,{children:t?n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((Q,U)=>n.jsxs("div",{className:"rounded-lg border p-4",children:[n.jsx(Nr,{className:"h-6 w-3/4 mb-2"}),n.jsx(Nr,{className:"h-4 w-1/2 mb-2"}),n.jsx(Nr,{className:"h-4 w-1/4"})]},U))}):s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(ud,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-red-500 font-medium",children:s})]}):g.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(pr,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhum exame agendado"}),n.jsx("p",{className:"text-muted-foreground",children:"Voc no possui exames agendados no momento."})]}):n.jsx("div",{className:"space-y-4",children:g.map(Q=>{var U;return n.jsx("div",{className:"group rounded-xl border border-border/50 bg-gradient-to-r from-background to-muted/20 p-6 transition-all hover:shadow-lg hover:border-border",children:n.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg text-foreground group-hover:text-primary transition-colors",children:Q.nome}),n.jsxs("p",{className:"text-muted-foreground flex items-center gap-2 mt-1",children:[n.jsx(qr,{className:"h-4 w-4"}),((U=Q.medico)==null?void 0:U.nome)||""]})]}),n.jsx(lr,{variant:"secondary",className:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:Q.status})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"h-4 w-4"}),n.jsxs("span",{children:[Q.data?new Date(Q.data).toLocaleDateString():""," ",Q.data?`s ${new Date(Q.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:""]})]}),Q.local&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Bi,{className:"h-4 w-4"}),n.jsx("span",{children:Q.local})]})]})]})})},Q.id||`${Q.data}-${Q.nome}`)})})})]})}),n.jsx($r,{value:"realizados",className:"mt-6",children:n.jsxs(ke,{className:"border-0 shadow-lg",children:[n.jsx(ze,{className:"pb-4",children:n.jsxs(Ye,{className:"flex items-center gap-2 text-xl",children:[n.jsx(po,{className:"h-5 w-5 text-emerald-500"}),"Histrico de Exames"]})}),n.jsx(Le,{children:t?n.jsx("div",{className:"space-y-2",children:[...Array(5)].map((Q,U)=>n.jsx(Nr,{className:"h-16 w-full"},U))}):s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(ud,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-red-500 font-medium",children:s})]}):w.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(sn,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhum exame no histrico"}),n.jsx("p",{className:"text-muted-foreground",children:"Voc no possui exames realizados no histrico."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(zo,{children:[n.jsx(Vo,{children:n.jsxs(nn,{className:"border-border/50",children:[n.jsx(vr,{className:"font-semibold",children:"Data"}),n.jsx(vr,{className:"font-semibold",children:"Exame"}),n.jsx(vr,{className:"font-semibold",children:"Mdico"}),n.jsx(vr,{className:"font-semibold",children:"Status"}),n.jsx(vr,{className:"font-semibold text-right",children:"Aes"})]})}),n.jsx(qo,{children:x.map(Q=>{var U;return n.jsxs(nn,{className:"border-border/50 hover:bg-muted/30 transition-colors",children:[n.jsx(dr,{className:"font-medium",children:Q.data?new Date(Q.data).toLocaleDateString():""}),n.jsx(dr,{children:n.jsx("div",{className:"font-medium",children:Q.nome})}),n.jsx(dr,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qr,{className:"h-4 w-4 text-muted-foreground"}),((U=Q.medico)==null?void 0:U.nome)||""]})}),n.jsx(dr,{children:n.jsx(lr,{variant:(Q.status||"").toLowerCase().includes("conclu")||(Q.status||"").toLowerCase()==="realizado"?"default":"secondary",className:(Q.status||"").toLowerCase().includes("conclu")||(Q.status||"").toLowerCase()==="realizado"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-300":"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:Q.status||""})}),n.jsx(dr,{children:n.jsx("div",{className:"flex items-center justify-end gap-2",children:Q.resultado_url?n.jsxs(n.Fragment,{children:[n.jsxs(we,{variant:"outline",size:"sm",className:"group border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 text-emerald-700 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-800 dark:text-emerald-300 dark:hover:text-emerald-100",onClick:()=>window.open(Q.resultado_url,"_blank"),children:[n.jsx(Ci,{className:"h-4 w-4 mr-1"}),"Ver"]}),n.jsxs(we,{variant:"outline",size:"sm",className:"group border-blue-500/60 bg-gradient-to-b from-blue-500/10 to-blue-600/10 text-blue-700 hover:from-blue-500/20 hover:to-blue-600/20 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-100",onClick:()=>void N9(Q),children:[n.jsx(xl,{className:"h-4 w-4 mr-1"}),"Baixar"]})]}):n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem resultado"}),n.jsxs(we,{variant:"outline",size:"sm",disabled:!0,className:"opacity-50 cursor-not-allowed",children:[n.jsx(xl,{className:"h-4 w-4 mr-1"}),"Baixar"]})]})})})]},Q.id)})})]})})})]})})]})]})}const N9=async e=>{var r;try{let t=e==null?void 0:e.resultado_url;if(!t)return;/^https?:\/\//i.test(t)||(t=`http://127.0.0.1:8000${t.startsWith("/")?"":"/"}${t}`);const a=await ye.get(t,{responseType:"blob",baseURL:""}),s=new Blob([a.data],{type:a.headers["content-type"]||"application/octet-stream"}),i=a.headers["content-disposition"]||"",o=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(i),l=decodeURIComponent((o==null?void 0:o[1])||(o==null?void 0:o[2])||`${e.nome||"resultado"}.pdf`),A=document.createElement("a");A.href=URL.createObjectURL(s),A.download=l,document.body.appendChild(A),A.click(),A.remove(),setTimeout(()=>URL.revokeObjectURL(A.href),2e3)}catch(t){console.warn("[Exames] download falhou:",(r=t==null?void 0:t.response)==null?void 0:r.status),alert("No foi possvel baixar o resultado. Tente novamente.")}};function B9(){const[e,r]=y.useState([]),[t,a]=y.useState(!0),[s,i]=y.useState(null),[o,l]=y.useState("todos"),[A,d]=y.useState("todos"),[f,h]=y.useState(""),m=C=>{var E;return((E=C==null?void 0:C.tipo_exame)==null?void 0:E.nome)||(C==null?void 0:C.tipo_exame_nome)||(C==null?void 0:C.nome_exame)||(typeof(C==null?void 0:C.tipo_exame)=="string"?C.tipo_exame:null)||(C==null?void 0:C.nome)||(C==null?void 0:C.tipo)||(C==null?void 0:C.exame)||"Exame"},p=C=>{const E=C==null?void 0:C.user;return[E==null?void 0:E.first_name,E==null?void 0:E.last_name].filter(Boolean).join(" ").trim()||(E==null?void 0:E.nome)||(E==null?void 0:E.username)||(C==null?void 0:C.nome)||""},x=C=>{var U;const E=(C==null?void 0:C.resultado_url)||(C==null?void 0:C.arquivo_resultado)||((U=C==null?void 0:C.resultado)==null?void 0:U.arquivo)||(C==null?void 0:C.arquivo_url)||(C==null?void 0:C.documento_url);return E?/^https?:\/\//i.test(E)?E:`http://127.0.0.1:8000${E.startsWith("/")?"":"/"}${E}`:null},g=C=>{if(!C)return"sem-data";const E=new Date(C);return Number.isNaN(E.getTime())?"sem-data":E.toISOString().slice(0,10)},w=C=>{try{return new Date(C).toLocaleString()}catch{return C||""}};y.useEffect(()=>{let C=!0;return(async()=>{var E,Q,U;try{const[F,L,_]=await Promise.allSettled([ha.getConsultas(),ha.getExames(),ha.getReceitas()]),q=F.status==="fulfilled"?(Array.isArray(F.value)?F.value:(E=F.value)==null?void 0:E.results)||[]:[],R=L.status==="fulfilled"?(Array.isArray(L.value)?L.value:(Q=L.value)==null?void 0:Q.results)||[]:[],H=_.status==="fulfilled"?(Array.isArray(_.value)?_.value:(U=_.value)==null?void 0:U.results)||[]:[],J=R.map(G=>({id:G.id||Math.random(),tipo:"exame",data:G.data_agendamento||G.data_solicitacao||G.data||G.data_hora||null,titulo:`Exame - ${m(G)}`.trim(),detalhe:p((G==null?void 0:G.medico_solicitante)||(G==null?void 0:G.medico)),status:G.status||G.situacao||"pendente",resultado_url:x(G),nome:m(G)})),T=q.map(G=>{var V,ee;return{id:G.id||Math.random(),tipo:"consulta",data:G.data_hora||G.data||null,titulo:`Consulta - ${G.especialidade||((V=G.medico)==null?void 0:V.especialidade)||""}`.trim(),detalhe:((ee=G.medico)==null?void 0:ee.nome)||p(G==null?void 0:G.medico)||"",status:G.status||"pendente"}}),re=H.map(G=>{var ce;const V=G.medico||((ce=G.consulta)==null?void 0:ce.medico),ee=Array.isArray(G.itens)&&G.itens.length?G.itens.map(k=>{var D;return((D=k==null?void 0:k.medicamento)==null?void 0:D.nome)||(k==null?void 0:k.medicamento)||""}).filter(Boolean).join(", "):G.medicamentos||"Prescrio";return{id:G.id||Math.random(),tipo:"receita",data:G.created_at||G.data||G.emissao||G.data_emissao||null,titulo:`Receita - ${ee}`.trim(),detalhe:p(V),status:G.status||(G.arquivo_assinado?"assinada":"emitida"),resultado_url:G.arquivo_assinado||null,nome:"Receita"}}),z=[...T,...J,...re].filter(G=>G.data).sort((G,V)=>new Date(V.data||0)-new Date(G.data||0));C&&r(z)}catch{i("No foi possvel carregar o histrico.")}finally{C&&a(!1)}})(),()=>{C=!1}},[]);const j=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],N=y.useMemo(()=>{let C=e;if(o!=="todos"){const U={consultas:"consulta",exames:"exame",receitas:"receita"};C=C.filter(F=>F.tipo===(U[o]||o))}if(A!=="todos"&&(C=C.filter(U=>(U.status||"").toLowerCase()===A.toLowerCase())),f.trim()){const U=f.toLowerCase();C=C.filter(F=>{var L,_;return((L=F.titulo)==null?void 0:L.toLowerCase().includes(U))||((_=F.detalhe)==null?void 0:_.toLowerCase().includes(U))||(F.status||"").toLowerCase().includes(U)})}const E={};for(const U of C){const F=g(U.data);E[F]||(E[F]=[]),E[F].push(U)}const Q=Object.keys(E).sort((U,F)=>U<F?1:-1);return{groups:E,orderedKeys:Q}},[e,o,A,f]);return n.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(F1,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Histrico Mdico"})]}),n.jsx(Wi,{tabs:j,basePath:"/paciente"}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[n.jsx("div",{className:"flex-1 relative",children:n.jsx(He,{placeholder:"Buscar por ttulo, mdico, status...",value:f,onChange:C=>h(C.target.value),className:"w-full"})}),n.jsxs(Wr,{value:o,onValueChange:l,children:[n.jsx(Kr,{className:"w-[180px]",children:n.jsx(Gr,{placeholder:"Tipo"})}),n.jsxs(zr,{children:[n.jsx(at,{value:"todos",children:"Todos"}),n.jsx(at,{value:"consultas",children:"Consultas"}),n.jsx(at,{value:"exames",children:"Exames"}),n.jsx(at,{value:"receitas",children:"Receitas"})]})]}),n.jsxs(Wr,{value:A,onValueChange:d,children:[n.jsx(Kr,{className:"w-[180px]",children:n.jsx(Gr,{placeholder:"Status"})}),n.jsxs(zr,{children:[n.jsx(at,{value:"todos",children:"Todos"}),n.jsx(at,{value:"solicitado",children:"Solicitado"}),n.jsx(at,{value:"agendado",children:"Agendado"}),n.jsx(at,{value:"realizado",children:"Realizado"}),n.jsx(at,{value:"cancelado",children:"Cancelado"}),n.jsx(at,{value:"pendente",children:"Pendente"})]})]})]}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Linha do Tempo"})}),n.jsx(Le,{children:t?n.jsx("div",{className:"space-y-3",children:[...Array(6)].map((C,E)=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Nr,{className:"h-4 w-4 rounded-full"}),n.jsx(Nr,{className:"h-6 w-2/3"})]},E))}):s?n.jsx("p",{className:"text-sm text-red-500",children:s}):N.orderedKeys.length===0?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum evento encontrado."}):n.jsx("div",{className:"space-y-8",children:N.orderedKeys.map(C=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-muted-foreground",children:[n.jsx(pr,{className:"h-4 w-4"}),n.jsx("span",{children:C==="sem-data"?"Sem data":new Date(C).toLocaleDateString()})]}),n.jsxs("div",{className:"relative pl-6",children:[n.jsx("div",{className:"absolute left-1 top-0 bottom-0 w-px bg-border"}),n.jsx("ul",{className:"space-y-4",children:N.groups[C].map(E=>n.jsxs("li",{className:"relative",children:[n.jsx("span",{className:`absolute -left-[7px] top-1 inline-flex items-center justify-center h-4 w-4 rounded-full ${E.tipo==="consulta"?"bg-primary":E.tipo==="exame"?"bg-emerald-500":"bg-indigo-500"}`,title:E.tipo==="consulta"?"Consulta":E.tipo==="exame"?"Exame":"Receita"}),n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-0.5 text-muted-foreground",children:E.tipo==="consulta"?n.jsx(qr,{className:"h-4 w-4"}):E.tipo==="exame"?n.jsx(J6,{className:"h-4 w-4 text-emerald-400"}):n.jsx(Bf,{className:"h-4 w-4 text-indigo-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:E.titulo}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.detalhe||""," ",E.status?` ${E.status}`:""]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:w(E.data)})]})]}),E.tipo==="exame"&&n.jsx("div",{className:"flex items-center gap-2",children:E.resultado_url?n.jsxs(n.Fragment,{children:[n.jsxs("a",{href:E.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-2 rounded-lg border border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",title:"Abrir resultado em nova aba",children:[n.jsx(Ci,{className:"h-4 w-4 transition-transform group-hover:-translate-y-0.5"}),n.jsx("span",{children:"Ver"})]}),n.jsxs(we,{variant:"outline",className:"group inline-flex items-center gap-2 rounded-lg border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",onClick:()=>void UN(E),title:"Baixar arquivo",children:[n.jsx(xl,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),n.jsx("span",{children:"Baixar"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem arquivo"}),n.jsxs(we,{variant:"outline",disabled:!0,className:"inline-flex items-center gap-2 rounded-lg border-emerald-500/30 bg-gradient-to-b from-emerald-500/5 to-emerald-600/5 px-3 py-1.5 text-emerald-400/50 disabled:opacity-60 disabled:cursor-not-allowed",title:"Resultado ainda no disponvel",children:[n.jsx(xl,{className:"h-4 w-4"}),n.jsx("span",{children:"Baixar"})]})]})}),E.tipo==="receita"&&n.jsx("div",{className:"flex items-center gap-2",children:E.resultado_url?n.jsxs(n.Fragment,{children:[n.jsxs("a",{href:E.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-lg border border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",title:"Abrir receita em nova aba",children:[n.jsx(Ci,{className:"h-4 w-4"}),n.jsx("span",{children:"Ver"})]}),n.jsxs(we,{variant:"outline",className:"inline-flex items-center gap-2 rounded-lg border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",onClick:()=>void UN(E),title:"Baixar PDF",children:[n.jsx(xl,{className:"h-4 w-4"}),n.jsx("span",{children:"Baixar"})]})]}):n.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem PDF assinado"})})]})]},E.id))})]})]},C))})})]})]})}const UN=async e=>{var r;try{let t=e==null?void 0:e.resultado_url;if(!t)return;if(/^(data|blob):/i.test(t)){const d=document.createElement("a");d.href=t,d.download=`${e.nome||"resultado"}.pdf`,document.body.appendChild(d),d.click(),d.remove();return}/^https?:\/\//i.test(t)||(t=`http://127.0.0.1:8000${t.startsWith("/")?"":"/"}${t}`);const a=await ye.get(t,{responseType:"blob",baseURL:""}),s=new Blob([a.data],{type:a.headers["content-type"]||"application/octet-stream"}),i=a.headers["content-disposition"]||"",o=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(i),l=decodeURIComponent((o==null?void 0:o[1])||(o==null?void 0:o[2])||`${e.nome||"resultado"}.pdf`),A=document.createElement("a");A.href=URL.createObjectURL(s),A.download=l,document.body.appendChild(A),A.click(),A.remove(),setTimeout(()=>URL.revokeObjectURL(A.href),2e3)}catch(t){console.warn("[Historico Medico] download falhou:",(r=t==null?void 0:t.response)==null?void 0:r.status),alert("No foi possvel baixar o resultado. Tente novamente.")}};function C9(){const[e,r]=y.useState([]),[t,a]=y.useState(!0),[s,i]=y.useState(null);y.useEffect(()=>{let l=!0;return(async()=>{try{const A=await ha.getMedicos();l&&r(Array.isArray(A)?A:(A==null?void 0:A.results)||[])}catch{i("No foi possvel carregar os mdicos vinculados.")}finally{l&&a(!1)}})(),()=>{l=!1}},[]);const o=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}];return n.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qr,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Mdicos Vinculados"})]}),n.jsx(Wi,{tabs:o,basePath:"/paciente"}),t?n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:[...Array(4)].map((l,A)=>n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Nr,{className:"h-5 w-48"})}),n.jsxs(Le,{className:"space-y-2",children:[n.jsx(Nr,{className:"h-4 w-56"}),n.jsx(Nr,{className:"h-4 w-32"})]})]},A))}):s?n.jsx("p",{className:"text-sm text-red-500",children:s}):e.length===0?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum mdico vinculado."}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:e.map(l=>{var A,d;return n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(Hn,{className:"h-5 w-5"}),S9(l)]})}),n.jsxs(Le,{className:"space-y-2 text-sm",children:[n.jsx("div",{className:"text-muted-foreground",children:_9(l)}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:["CRM: ",PN(l)||""]})]}),LN(l)&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rA,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:LN(l)})]}),IN(l)&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:IN(l)})]})]})]},l.id||PN(l)||((A=l.user)==null?void 0:A.id)||((d=l.user)==null?void 0:d.email))})})]})}const S9=e=>{const r=(e==null?void 0:e.user)||{};return[r.first_name,r.last_name].filter(Boolean).join(" ").trim()||r.nome||r.name||r.username||(e==null?void 0:e.nome)||(e==null?void 0:e.name)||(e==null?void 0:e.full_name)||"Mdico"},_9=e=>{var t;const r=a=>(a==null?void 0:a.nome)||(a==null?void 0:a.titulo)||(a==null?void 0:a.name)||(a==null?void 0:a.descricao)||(a==null?void 0:a.description);if(Array.isArray(e==null?void 0:e.especialidades)&&e.especialidades.length){const a=e.especialidades.map(s=>r(s)||(typeof s=="string"?s:null)).filter(Boolean);if(a.length)return a.join(", ")}if(e!=null&&e.especialidade&&typeof e.especialidade=="object"){const a=r(e.especialidade);if(a)return a}return typeof(e==null?void 0:e.especialidade)=="string"&&e.especialidade.trim()?e.especialidade.trim():typeof(e==null?void 0:e.especialidade_nome)=="string"&&e.especialidade_nome.trim()?e.especialidade_nome.trim():typeof(e==null?void 0:e.specialty)=="string"&&e.specialty.trim()?e.specialty.trim():typeof(e==null?void 0:e.area)=="string"&&e.area.trim()?e.area.trim():typeof((t=e==null?void 0:e.user)==null?void 0:t.especialidade)=="string"&&e.user.especialidade.trim()?e.user.especialidade.trim():"Especialidade no informada"},LN=e=>{var r;return(e==null?void 0:e.telefone)||(e==null?void 0:e.phone)||(e==null?void 0:e.celular)||((r=e==null?void 0:e.user)==null?void 0:r.phone)||null},IN=e=>{var r;return(e==null?void 0:e.email)||((r=e==null?void 0:e.user)==null?void 0:r.email)||null},PN=e=>(e==null?void 0:e.crm)||(e==null?void 0:e.crm_numero)||(e==null?void 0:e.crmNumber)||(e==null?void 0:e.crm_registro)||null,ec={CLASSIC:"classic",MODERN:"modern",MINIMAL:"minimal",CUSTOM:"custom"},Ls={type:ec.CLASSIC,layout:{pageSize:"A4",orientation:"portrait",margins:{top:50,bottom:50,left:50,right:50}},header:{showLogo:!0,logoPosition:"left",logoSize:{width:80,height:80},showDoctorInfo:!0,doctorInfoPosition:"right",backgroundColor:"#ffffff",borderBottom:!0,borderColor:"#e5e7eb"},content:{fontSize:{title:16,subtitle:14,body:12,small:10},fontFamily:"Helvetica",colors:{primary:"#1f2937",secondary:"#6b7280",accent:"#3b82f6"},spacing:{sectionGap:20,lineHeight:1.5}},footer:{showSignature:!0,showDate:!0,showPageNumber:!1,customText:"",backgroundColor:"#ffffff",borderTop:!0,borderColor:"#e5e7eb"},branding:{primaryColor:"#3b82f6",secondaryColor:"#6b7280",logoUrl:null,clinicName:"",clinicAddress:"",clinicPhone:"",clinicEmail:""}},QN={[ec.CLASSIC]:{...Ls,name:"Clssico",description:"Layout tradicional com cabealho formal",preview:"/templates/classic-preview.svg"},[ec.MODERN]:{...Ls,type:ec.MODERN,name:"Moderno",description:"Design contemporneo com elementos visuais modernos",header:{...Ls.header,backgroundColor:"#f8fafc",logoPosition:"center"},content:{...Ls.content,colors:{primary:"#0f172a",secondary:"#475569",accent:"#0ea5e9"}},branding:{...Ls.branding,primaryColor:"#0ea5e9"},preview:"/templates/modern-preview.svg"},[ec.MINIMAL]:{...Ls,type:ec.MINIMAL,name:"Minimalista",description:"Layout limpo e simples",header:{...Ls.header,showLogo:!1,borderBottom:!1},content:{...Ls.content,fontSize:{title:14,subtitle:12,body:11,small:9}},footer:{...Ls.footer,borderTop:!1},preview:"/templates/minimal-preview.svg"}},RN=(e,r)=>{try{const t=`pdf_template_config_${e}`,a=`template_config_${e}`,s=JSON.stringify(r);return localStorage.setItem(t,s),localStorage.setItem(a,s),!0}catch(t){return console.error("Erro ao salvar configurao de template:",t),!1}},gm=e=>{try{const r=`pdf_template_config_${e}`,t=`template_config_${e}`,a=localStorage.getItem(r),s=localStorage.getItem(t),i=Ls;if(a)try{return{...i,...JSON.parse(a)}}catch{}if(s)try{return{...i,...JSON.parse(s)}}catch{}return Ls}catch(r){return console.error("Erro ao carregar configurao de template:",r),Ls}},w0=(e,r)=>new Promise((t,a)=>{try{if(!r){t(null);return}const s=`doctor_logo_${e}`;if(typeof r=="object"&&(r!=null&&r.data)&&typeof r.data=="string"){const i={data:r.data,name:r.name||"logo.png",type:r.type||"image/png",size:r.size||void 0,lastModified:r.lastModified||Date.now()};localStorage.setItem(s,JSON.stringify(i)),t(i);return}if(typeof r=="string"&&r.startsWith("data:")){const i=r.slice(5,r.indexOf(";"))||"image/png",o={data:r,name:"logo.png",type:i,size:void 0,lastModified:Date.now()};localStorage.setItem(s,JSON.stringify(o)),t(o);return}if(r instanceof File||r instanceof Blob){const i=new FileReader;i.onload=o=>{try{const l={data:o.target.result,name:r.name||"logo.png",type:r.type||"image/png",size:r.size,lastModified:r.lastModified||Date.now()};localStorage.setItem(s,JSON.stringify(l)),t(l)}catch(l){a(l)}},i.onerror=a,i.readAsDataURL(r);return}a(new Error("Formato de logo invlido"))}catch(s){a(s)}}),$f=e=>{try{const r=`doctor_logo_${e}`,t=localStorage.getItem(r);if(t)try{const a=JSON.parse(t);if(a&&typeof a=="object"&&typeof a.data=="string")return a}catch{if(typeof t=="string"&&t.startsWith("data:")){const a=t.slice(5,t.indexOf(";"))||"image/png";return{data:t,type:a,name:"logo.png"}}}return null}catch(r){return console.error("Erro ao carregar logo do mdico:",r),null}},TN=e=>{try{const r=`doctor_logo_${e}`;return localStorage.removeItem(r),!0}catch(r){return console.error("Erro ao remover logo do mdico:",r),!1}},E9=e=>{var t,a,s;const r=[];return(!e.type||!Object.values(ec).includes(e.type))&&r.push("Tipo de template invlido"),(t=e.layout)!=null&&t.pageSize||r.push("Tamanho da pgina  obrigatrio"),(!((s=(a=e.content)==null?void 0:a.fontSize)!=null&&s.body)||e.content.fontSize.body<8)&&r.push("Tamanho da fonte do corpo deve ser pelo menos 8pt"),{isValid:r.length===0,errors:r}},F9=(e,r)=>{var t,a;return{...e,...r,layout:{...e.layout,...r.layout},header:{...e.header,...r.header},content:{...e.content,...r.content,fontSize:{...e.content.fontSize,...(t=r.content)==null?void 0:t.fontSize},colors:{...e.content.colors,...(a=r.content)==null?void 0:a.colors}},footer:{...e.footer,...r.footer},branding:{...e.branding,...r.branding}}},k9=e=>({...e,isPreview:!0,content:{...e.content,sampleData:{doctorName:"Dr. Joo Silva",crm:"CRM/SP 123456",specialty:"Cardiologia",patientName:"Maria Santos",date:new Date().toLocaleDateString("pt-BR"),medications:"Losartana 50mg - 1 comprimido pela manh",instructions:"Tomar com gua, preferencialmente no mesmo horrio todos os dias."}}});function D9({id:e="receita-preview",templateConfig:r,doctorLogo:t,medico:a="",crm:s="",especialidade:i="",endereco_consultorio:o="",telefone_consultorio:l="",email_medico:A="",nome_paciente:d="",idade:f="",cpf:h="",data_nascimento:m="",data_emissao:p="",validade_receita:x="",isSigned:g=!1,certInfo:w=null,signDate:j=null,hasStructuredItems:N=!1,receitaItems:C=[],medicamento:E="",posologia:Q="",observacoes:U=""}){var _,q,R,H,J,T,re,z,G,V,ee,ce,k,D,K,te;const F=r||Ls,L={titleSize:`${((q=(_=F==null?void 0:F.content)==null?void 0:_.fontSize)==null?void 0:q.title)??16}px`,smallSize:`${((H=(R=F==null?void 0:F.content)==null?void 0:R.fontSize)==null?void 0:H.small)??12}px`,primaryColor:((T=(J=F==null?void 0:F.content)==null?void 0:J.colors)==null?void 0:T.primary)??"#1f2937",secondaryColor:((z=(re=F==null?void 0:F.content)==null?void 0:re.colors)==null?void 0:z.secondary)??"#6b7280",accentBorderColor:((G=F==null?void 0:F.header)==null?void 0:G.borderColor)??"#e5e7eb",showLogo:((V=F==null?void 0:F.header)==null?void 0:V.showLogo)!==!1};return n.jsxs("div",{id:e,className:"mx-auto bg-white shadow-md border rounded-md p-6 max-w-[800px] aspect-[1/1.414] overflow-auto",children:[n.jsxs("div",{className:"flex items-center justify-between border-b pb-3",style:{borderBottomColor:L.accentBorderColor},children:[L.showLogo&&(t!=null&&t.data)?n.jsx("img",{src:t.data,alt:"Logo",className:"max-h-20 max-w-[150px] object-contain"}):null,n.jsxs("div",{className:"text-right flex-1 ml-4",children:[n.jsx("div",{className:"font-bold",style:{fontSize:L.titleSize,color:L.primaryColor},children:((ee=F==null?void 0:F.branding)==null?void 0:ee.clinicName)||a||"Consultrio Mdico"}),((ce=F==null?void 0:F.header)==null?void 0:ce.showDoctorInfo)&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"font-semibold",style:{color:L.primaryColor},children:a}),s&&n.jsxs("div",{style:{fontSize:L.smallSize,color:L.secondaryColor},children:["CRM: ",s]})]}),n.jsx("div",{className:"text-sm",style:{fontSize:L.smallSize,color:L.secondaryColor},children:((k=F==null?void 0:F.branding)==null?void 0:k.clinicAddress)||o}),n.jsxs("div",{className:"text-sm",style:{fontSize:L.smallSize,color:L.secondaryColor},children:["Telefone: ",((D=F==null?void 0:F.branding)==null?void 0:D.clinicPhone)||l]}),(K=F==null?void 0:F.branding)!=null&&K.clinicEmail||A?n.jsxs("div",{className:"text-sm",style:{fontSize:L.smallSize,color:L.secondaryColor},children:["E-mail: ",((te=F==null?void 0:F.branding)==null?void 0:te.clinicEmail)||A]}):null]})]}),n.jsxs("div",{className:"text-center my-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Nome do Paciente: "}),d]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Idade: "}),f]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"CPF: "}),h]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Data de Nascimento: "}),m]})]}),n.jsxs("div",{className:"text-center text-xl font-semibold my-4",children:["Prescrio Mdica",g&&n.jsx("div",{className:"text-sm text-green-600 font-normal mt-1",children:" Assinada Digitalmente"}),!g&&n.jsx("div",{className:"text-sm text-orange-600 font-normal mt-1",children:" Aguardando Assinatura Digital"})]}),n.jsx("div",{className:"text-center",children:N?n.jsx("div",{className:"space-y-4",children:Array.isArray(C)&&C.map((Y,X)=>{var he,Ae;const O=((he=Y==null?void 0:Y.medicamento)==null?void 0:he.nome)||(Y==null?void 0:Y.descricao)||`Medicamento ${X+1}`,Z=(Ae=Y==null?void 0:Y.medicamento)==null?void 0:Ae.apresentacao,oe=(Y==null?void 0:Y.dose)||(Y==null?void 0:Y.dosagem),pe=Y==null?void 0:Y.frequencia,xe=Y==null?void 0:Y.duracao,_e=[oe,pe,xe].filter(Boolean).join("  "),Fe=Y==null?void 0:Y.observacoes;return n.jsxs("div",{className:"border-b border-muted pb-3 last:border-b-0",children:[n.jsx("div",{className:"font-semibold",children:O}),Z&&n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:Z}),_e&&n.jsx("div",{className:"mt-2",children:_e}),Fe&&n.jsx("div",{className:"text-sm text-muted-foreground mt-1 italic",children:Fe})]},X)})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"whitespace-pre-wrap font-semibold",children:E}),Q?n.jsx("div",{className:"mt-2 whitespace-pre-wrap",children:Q}):null,U?n.jsx("div",{className:"mt-2 whitespace-pre-wrap italic text-muted-foreground",children:U}):null]})}),n.jsxs("div",{className:"text-center my-6",children:[n.jsxs("div",{children:["Data de Emisso: ",p]}),n.jsxs("div",{children:["Validade da Receita: ",x||""]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-start mt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-64 border-t pt-1",children:""}),a&&n.jsxs("div",{children:["Dr(a). ",a,s?`  CRM ${s}`:""]}),g?n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Assinado digitalmente conforme ICP-Brasil",w!=null&&w.subject_name||w!=null&&w.nome||w!=null&&w.subject?n.jsxs(n.Fragment,{children:["  Titular: ",(w==null?void 0:w.subject_name)||(w==null?void 0:w.nome)||(w==null?void 0:w.subject)]}):null,s?n.jsxs(n.Fragment,{children:["  CRM: ",s]}):null,h?n.jsxs(n.Fragment,{children:["  CPF: ",h]}):null,w!=null&&w.algorithm?n.jsxs(n.Fragment,{children:["  Algoritmo: ",w.algorithm]}):n.jsx(n.Fragment,{children:"  Algoritmo: SHA256-RSA"}),j?n.jsxs(n.Fragment,{children:["  Carimbo: ",new Date(j).toLocaleString()]}):null,w!=null&&w.valid_to||w!=null&&w.not_after||w!=null&&w.valid_until?n.jsxs(n.Fragment,{children:["  Vlido at: ",new Date((w==null?void 0:w.valid_to)||(w==null?void 0:w.not_after)||(w==null?void 0:w.valid_until)).toLocaleDateString()]}):null]}):n.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Documento gerado. Assine para exibir o selo de assinatura digital."})]})})]})}function U9(){const{toast:e}=Ga(),[r,t]=y.useState(!0),[a,s]=y.useState(""),[i,o]=y.useState([]),[l,A]=y.useState([]),[d,f]=y.useState(!1),[h,m]=y.useState({medico:"",observacoes:""}),[p,x]=y.useState(!1),[g,w]=y.useState(""),[j,N]=y.useState("todas"),C=y.useMemo(()=>[{id:"exemplo-1",created_at:"2024-01-15T10:30:00Z",medicamentos:`Dipirona 500mg - 1 comprimido de 6/6h por 5 dias
Paracetamol 750mg - 1 comprimido de 8/8h se dor`,posologia:"Conforme prescrio mdica",observacoes:"Tomar com gua, aps as refeies",validade:"2024-07-15",status:"ativa",situacao:"finalizada",arquivo_assinado:null,medico:{id:1,nome:"Dr. Joo Silva",especialidade:"Clnico Geral",crm:"12345-SP"},consulta:{id:1,data:"2024-01-15",paciente_id:1}},{id:"exemplo-2",created_at:"2023-12-10T14:20:00Z",medicamentos:"Amoxicilina 500mg - 1 cpsula de 8/8h por 7 dias",posologia:"Via oral",observacoes:"Completar todo o tratamento mesmo com melhora dos sintomas",validade:"2024-06-10",status:"expirada",situacao:"finalizada",arquivo_assinado:null,medico:{id:2,nome:"Dra. Maria Santos",especialidade:"Pediatra",crm:"67890-SP"},consulta:{id:2,data:"2023-12-10",paciente_id:1}}],[]),E=y.useMemo(()=>[{id:1,nome:"Dr. Joo Silva",especialidade:"Clnico Geral",crm:"12345-SP"},{id:2,nome:"Dra. Maria Santos",especialidade:"Pediatra",crm:"67890-SP"}],[]),Q=y.useMemo(()=>Array.isArray(l)?l.filter(k=>k&&String(k.id??"").trim()!==""):[],[l]),U=k=>{const D=k==null?void 0:k.user;return[D==null?void 0:D.first_name,D==null?void 0:D.last_name].filter(Boolean).join(" ").trim()||(D==null?void 0:D.nome)||(D==null?void 0:D.username)||(k==null?void 0:k.nome)||(k==null?void 0:k.name)||(k==null?void 0:k.full_name)||(k==null?void 0:k.medico_nome)||(k==null?void 0:k.doctor_name)||"Mdico"},F=y.useMemo(()=>(Array.isArray(i)?i:Array.isArray(i==null?void 0:i.results)?i.results:[]).sort((D,K)=>new Date(K.created_at||0)-new Date(D.created_at||0)),[i]),L=y.useMemo(()=>F.length>0,[F]),_=y.useMemo(()=>{let k=F;if(j==="todas"?k=F:j==="ativas"?k=k.filter(D=>{const K=D.validade||D.validade_receita;return K?new Date(K)>=new Date:!0}):j==="historico"&&(k=k.filter(D=>{const K=D.validade||D.validade_receita;return K?new Date(K)<new Date:!1})),g){const D=g.toLowerCase();k=k.filter(K=>{var O;const te=U(K.medico)||U((O=K.consulta)==null?void 0:O.medico)||"",Y=K.medicamentos||"",X=K.observacoes||"";return te.toLowerCase().includes(D)||Y.toLowerCase().includes(D)||X.toLowerCase().includes(D)})}return k},[F,j,g]),q=k=>{const D=k.validade||k.validade_receita;return D?new Date(D)>=new Date?"ativa":"expirada":(k.status||k.situacao||"ativa").toLowerCase()},R=y.useMemo(()=>F.filter(k=>q(k)==="ativa").length,[F]),H=y.useMemo(()=>F.filter(k=>q(k)==="expirada").length,[F]);y.useEffect(()=>{let k=!0;return(async()=>{t(!0),s("");try{let K=[];try{const Y=await ha.getReceitas();K=Array.isArray(Y)?Y:(Y==null?void 0:Y.results)||[]}catch(Y){console.error("Erro ao carregar receitas:",Y.message)}let te=[];try{const Y=await ha.getMedicosVinculados();te=Array.isArray(Y)?Y:(Y==null?void 0:Y.results)||[]}catch(Y){console.error("Erro ao carregar mdicos vinculados:",Y.message)}if(!k)return;if(o(K),A(te),te.length===0)try{const Y=await ha.getMedicos({limit:50}),X=Array.isArray(Y)?Y:(Y==null?void 0:Y.results)||[];k&&X.length>0&&A(X)}catch(Y){console.error("Erro no fallback de mdicos:",Y.message)}K.length===0&&te.length===0?(o(C),A(E),s("Exibindo dados de exemplo. Conecte-se  API para ver suas receitas reais.")):K.length===0&&(o(C),s("Nenhuma receita encontrada na API. Exibindo exemplos."))}catch(K){if(console.error("Erro ao carregar dados:",K.message),!k)return;s(`Falha ao carregar receitas: ${K.message||"Erro desconhecido"}`)}finally{k&&t(!1)}})(),()=>{k=!1}},[]);const J=async k=>{var D,K;if(k.preventDefault(),!h.medico){e({title:"Selecione um mdico",description:"Escolha o mdico para enviar a solicitao."});return}x(!0);try{h.renovacao?(await ha.solicitarRenovacao({medico:h.medico,mensagem:h.mensagem,receita:h.receita}),e({title:"Renovao enviada",description:"Seu pedido de renovao foi enviado ao mdico."})):(await ha.solicitarReceita({medico:h.medico,mensagem:h.mensagem,receita:h.receita}),e({title:"Solicitao enviada",description:"Seu pedido de receita foi enviado ao mdico."})),f(!1),m({medico:"",mensagem:"",receita:null,renovacao:!1})}catch(te){console.error("Erro ao solicitar receita:",te),e({title:"Erro ao solicitar",description:((K=(D=te==null?void 0:te.response)==null?void 0:D.data)==null?void 0:K.detail)||(te==null?void 0:te.message)||"No foi possvel enviar a solicitao.",variant:"destructive"})}finally{x(!1)}},T=async(k,D)=>{var K;try{if(!k)return;const te=(xe,_e)=>{const Fe=document.createElement("a"),he=URL.createObjectURL(xe);Fe.href=he,Fe.download=decodeURIComponent(_e),document.body.appendChild(Fe),Fe.click(),Fe.remove(),setTimeout(()=>URL.revokeObjectURL(he),2e3)},Y=(xe,_e="Receita_Medica.pdf")=>{let Fe=xe||_e;return/\.[a-z0-9]+$/i.test(Fe)||(Fe+=".pdf"),Fe};if(/^data:/i.test(k))try{const xe=k.split(","),_e=xe[0]||"",Fe=xe.slice(1).join(","),he=(_e.match(/data:([^;]+)/i)||[])[1]||"application/pdf",Ae=atob(Fe),ct=Ae.length,gt=new Uint8Array(ct);for(let Ke=0;Ke<ct;Ke++)gt[Ke]=Ae.charCodeAt(Ke);const pt=new Blob([gt],{type:he}),Se=`Receita_${(D==null?void 0:D.id)||"documento"}`,it=Y(Se);te(pt,it);return}catch(xe){console.error("[Receitas] Falha ao processar data URL:",xe),e({title:"Falha no download",description:"Arquivo invlido ou corrompido.",variant:"destructive"});return}if(/^blob:/i.test(k))try{const _e=await(await fetch(k)).blob(),Fe=`Receita_${(D==null?void 0:D.id)||"documento"}`,he=Y(Fe);te(_e,he);return}catch(xe){console.error("[Receitas] Blob URL indisponvel (provavelmente de outra aba/sesso):",xe),e({title:"Arquivo indisponvel",description:"Essa receita foi gerada em outra aba/sesso. Gere novamente para baixar.",variant:"destructive"});return}/^https?:\/\//i.test(k)||(k=`${"http://127.0.0.1:8000".replace(/\/$/,"")}${k.startsWith("/")?"":"/"}${k}`);const X=await ye.get(k,{responseType:"blob",baseURL:""}),O=new Blob([X.data],{type:X.headers["content-type"]||"application/pdf"}),Z=X.headers["content-disposition"]||"",oe=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(Z);let pe=(oe==null?void 0:oe[1])||(oe==null?void 0:oe[2]);if(!pe)try{const xe=new URL(k);pe=decodeURIComponent(xe.pathname.split("/").pop()||"")}catch{pe=""}pe||(pe=`Receita_${(D==null?void 0:D.id)||"documento"}.pdf`),pe=Y(pe),te(O,pe)}catch(te){console.error("[Receitas] Falha ao baixar PDF assinado:",((K=te==null?void 0:te.response)==null?void 0:K.status)||te),e({title:"Falha no download",description:"No foi possvel baixar o arquivo. Tente novamente.",variant:"destructive"})}},re=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],z=F.length,G=F.filter(k=>k.arquivo_assinado).length,V=F.filter(k=>k.created_at?new Date(k.created_at).getFullYear()===new Date().getFullYear():!1).length,ee=F.filter(k=>{if(!k.created_at)return!1;const D=new Date(k.created_at),K=new Date;return K.setDate(K.getDate()-30),D>=K}).length;async function ce(k){var D,K,te,Y,X,O,Z,oe,pe,xe,_e;try{const{pdfTemplateService:Fe}=await Qs(async()=>{const{pdfTemplateService:Ht}=await Promise.resolve().then(()=>wk);return{pdfTemplateService:Ht}},void 0),he=((D=k==null?void 0:k.medico)==null?void 0:D.id)||(k==null?void 0:k.medico_id)||"default",Ae=gm(he),ct=$f(he),gt=(k==null?void 0:k.medico)&&(k.medico.nome||((K=k.medico.user)==null?void 0:K.first_name)&&`${k.medico.user.first_name} ${k.medico.user.last_name}`)||(k==null?void 0:k.medico_nome)||(k==null?void 0:k.medico)||"Mdico",pt=((te=k==null?void 0:k.medico)==null?void 0:te.crm)||(k==null?void 0:k.medico_crm)||(k==null?void 0:k.crm)||"",Se=((Y=k==null?void 0:k.medico)==null?void 0:Y.especialidade)||(k==null?void 0:k.especialidade)||(k==null?void 0:k.medico_especialidade)||"",it=((X=k==null?void 0:k.medico)==null?void 0:X.endereco_consultorio)||(k==null?void 0:k.medico_endereco)||"",Ke=((O=k==null?void 0:k.medico)==null?void 0:O.telefone_consultorio)||((Z=k==null?void 0:k.medico)==null?void 0:Z.telefone)||(k==null?void 0:k.medico_telefone)||"",Ct=((oe=k==null?void 0:k.medico)==null?void 0:oe.email)||(k==null?void 0:k.email_medico)||"",jt=((pe=k==null?void 0:k.paciente)==null?void 0:pe.nome)||(k==null?void 0:k.paciente_nome)||(k==null?void 0:k.paciente)||"Paciente",ur=((xe=k==null?void 0:k.paciente)==null?void 0:xe.cpf)||(k==null?void 0:k.cpf)||"",Mt=((_e=k==null?void 0:k.paciente)==null?void 0:_e.data_nascimento)||(k==null?void 0:k.data_nascimento)||"",zt=(k==null?void 0:k.idade)||"",Or=(()=>{const Ht=(k==null?void 0:k.created_at)||(k==null?void 0:k.data_emissao)||new Date().toISOString();try{return new Date(Ht).toLocaleDateString()}catch{return String(Ht)}})(),$t=(k==null?void 0:k.validade)||(k==null?void 0:k.validade_receita)||"",_t=!!(k!=null&&k.arquivo_assinado),Dt=((Array.isArray(k==null?void 0:k.itens)&&k.itens.length?k.itens:Array.isArray(k==null?void 0:k.itens_estruturados)?k.itens_estruturados:[])||[]).map(Ht=>({descricao:(Ht==null?void 0:Ht.descricao)||(Ht==null?void 0:Ht.medicamento)||(Ht==null?void 0:Ht.nome)||"",dosagem:(Ht==null?void 0:Ht.dosagem)||(Ht==null?void 0:Ht.dose)||"",frequencia:(Ht==null?void 0:Ht.frequencia)||"",duracao:(Ht==null?void 0:Ht.duracao)||"",observacoes:(Ht==null?void 0:Ht.observacoes)||"",medicamento:typeof(Ht==null?void 0:Ht.medicamento)=="object"?Ht.medicamento:void 0})),ia=Dt.length>0,Qr=(k==null?void 0:k.medicamentos)||(k==null?void 0:k.itens)||(k==null?void 0:k.descricao)||"",Ot=(k==null?void 0:k.posologia)||(k==null?void 0:k.orientacoes)||"",wr=(k==null?void 0:k.observacoes)||"",Dr=document.createElement("div");Dr.style.position="absolute",Dr.style.left="-9999px",Dr.style.top="-9999px",document.body.appendChild(Dr);const wt=u5.createRoot(Dr);wt.render(n.jsx(D9,{id:"receita-preview-paciente",templateConfig:Ae,doctorLogo:ct,medico:gt,crm:pt,especialidade:Se,endereco_consultorio:it,telefone_consultorio:Ke,email_medico:Ct,nome_paciente:jt,idade:zt,cpf:ur,data_nascimento:Mt,data_emissao:Or,validade_receita:$t,isSigned:_t,hasStructuredItems:ia,receitaItems:Dt,medicamento:Qr,posologia:Ot,observacoes:wr})),await new Promise(Ht=>setTimeout(Ht,100));const hr=await Fe.generatePDFFromElement(Dr,{pageSize:"a4",orientation:"portrait",scale:2});try{wt.unmount()}catch{}document.body.removeChild(Dr);const ir=`Receita_${jt.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;Fe.savePDF(hr,ir);return}catch(Fe){console.error("Erro ao gerar PDF com template personalizado:",Fe);try{const{PDFDocument:he,StandardFonts:Ae,rgb:ct}=await Qs(async()=>{const{PDFDocument:$t,StandardFonts:_t,rgb:Et}=await import("./index-C51k0yU_.js");return{PDFDocument:$t,StandardFonts:_t,rgb:Et}},[]),gt=await he.create(),pt=gt.addPage([595.28,841.89]),Se=await gt.embedFont(Ae.Helvetica),it=($t,_t,Et,Dt=12,ia=ct(0,0,0))=>{pt.drawText(String($t||""),{x:_t,y:Et,size:Dt,font:Se,color:ia})};let Ke=800;it("Receita Mdica",50,Ke,16),Ke-=30;const Ct=($t,_t)=>`${$t}: ${_t??""}`;it(Ct("Emitida em",(k==null?void 0:k.created_at)||(k==null?void 0:k.data_emissao)||""),50,Ke),Ke-=18,it(Ct("Mdico",(k==null?void 0:k.medico_nome)||(k==null?void 0:k.medico)||(k==null?void 0:k.medico_id)||""),50,Ke),Ke-=18,it(Ct("Paciente",(k==null?void 0:k.paciente_nome)||(k==null?void 0:k.paciente)||(k==null?void 0:k.paciente_id)||""),50,Ke),Ke-=24,it("Medicamentos",50,Ke,14),Ke-=18,it(String((k==null?void 0:k.medicamentos)||(k==null?void 0:k.itens)||(k==null?void 0:k.descricao)||""),50,Ke),Ke-=36,it("Posologia",50,Ke,14),Ke-=18,it(String((k==null?void 0:k.posologia)||(k==null?void 0:k.orientacoes)||""),50,Ke),Ke-=36,k!=null&&k.observacoes&&(it("Observaes",50,Ke,14),Ke-=18,it(String(k==null?void 0:k.observacoes),50,Ke),Ke-=36),Array.isArray(k==null?void 0:k.itens_estruturados)&&k.itens_estruturados.length&&(it("Itens estruturados",50,Ke,14),Ke-=18,k.itens_estruturados.forEach($t=>{const _t=Object.values($t||{}).filter(Boolean).join("  ");it(` ${_t}`,60,Ke),Ke-=16}),Ke-=10);const jt=await gt.save(),ur=new Blob([jt],{type:"application/pdf"}),Mt=`Receita_${(k==null?void 0:k.id)||"documento"}.pdf`,zt=document.createElement("a"),Or=URL.createObjectURL(ur);zt.href=Or,zt.download=Mt,document.body.appendChild(zt),zt.click(),zt.remove(),setTimeout(()=>URL.revokeObjectURL(Or),2e3)}catch(he){console.error("[Receitas] Falha ao gerar PDF local:",he),e({title:"Falha ao gerar PDF",description:"Tente novamente.",variant:"destructive"})}}}return r?n.jsx("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(Nr,{className:"h-32 w-full rounded-2xl"}),n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((k,D)=>n.jsx(Nr,{className:"h-32 w-full rounded-xl"},D))}),n.jsx(Nr,{className:"h-16 w-full"}),n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((k,D)=>n.jsx(Nr,{className:"h-48 w-full rounded-xl"},D))})]})}):a?n.jsx("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ud,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-red-500 mb-2",children:"Erro ao carregar receitas"}),n.jsx("p",{className:"text-red-500",children:a})]})}):n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-emerald-600 via-teal-600 to-cyan-700 p-8 text-white shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/20"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:n.jsx(Bf,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Minhas Receitas"}),n.jsx("p",{className:"text-emerald-100",children:"Gerencie suas receitas mdicas"})]})]})}),n.jsx("div",{className:"flex flex-wrap gap-3",children:n.jsxs(we,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[n.jsx(qr,{className:"mr-2 h-4 w-4"}),"Mdicos"]})})]})}),n.jsx("div",{className:"absolute -right-20 -top-20 h-40 w-40 rounded-full bg-white/10"}),n.jsx("div",{className:"absolute -bottom-16 -left-16 h-32 w-32 rounded-full bg-white/10"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-emerald-100 text-sm font-medium",children:"Total de Receitas"}),n.jsx("p",{className:"text-3xl font-bold",children:z})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(sn,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Assinadas"}),n.jsx("p",{className:"text-3xl font-bold",children:G})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(po,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-amber-500 to-orange-600 text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-amber-100 text-sm font-medium",children:"ltimos 30 dias"}),n.jsx("p",{className:"text-3xl font-bold",children:ee})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Tr,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-purple-500 to-indigo-600 text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Este Ano"}),n.jsx("p",{className:"text-3xl font-bold",children:V})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Em,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})})]}),n.jsx(Wi,{tabs:re,basePath:"/paciente"}),n.jsx(ke,{className:"border-0 shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsx("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(js,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(He,{placeholder:"Buscar por mdico ou medicamento...",value:g,onChange:k=>w(k.target.value),className:"pl-10"})]})})})}),n.jsx(ke,{className:"border-0 shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsxs(Vi,{value:j,onValueChange:N,className:"w-full",children:[n.jsxs(qi,{className:"grid w-full grid-cols-3",children:[n.jsxs(Pr,{value:"ativas",className:"flex items-center gap-2",children:[n.jsx(us,{className:"h-4 w-4"}),"Ativas (",R,")"]}),n.jsxs(Pr,{value:"historico",className:"flex items-center gap-2",children:[n.jsx(F1,{className:"h-4 w-4"}),"Histrico (",H,")"]}),n.jsxs(Pr,{value:"todas",className:"flex items-center gap-2",children:[n.jsx(sn,{className:"h-4 w-4"}),"Todas (",z,")"]})]}),n.jsx($r,{value:j,className:"mt-6",children:L?_.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(js,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhuma receita encontrada"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Tente ajustar os filtros de busca."})]}):n.jsx("div",{className:"grid gap-6",children:_.map(k=>{var Y;const D=k.consulta,K=U(k.medico)||U(D==null?void 0:D.medico)||k.medico_nome||k.medicoName||"Mdico",te=((Y=D==null?void 0:D.paciente)!=null&&Y.user?`${D.paciente.user.first_name||""} ${D.paciente.user.last_name||""}`.trim():"Paciente")||"Paciente";return n.jsxs(ke,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[n.jsx(ze,{className:"pb-4",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-lg bg-emerald-100 p-2 dark:bg-emerald-900",children:n.jsx(Bf,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),n.jsxs("div",{children:[n.jsx(Ye,{className:"text-lg",children:"Receita Mdica"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Emitida em ",new Date(k.created_at).toLocaleDateString()," s ",new Date(k.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(lr,{variant:k.arquivo_assinado?"default":"secondary",className:k.arquivo_assinado?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-300":"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:k.arquivo_assinado?"Assinada":"No assinada"}),k.validade&&n.jsxs(lr,{variant:"outline",className:"text-xs",children:["Vlida at ",k.validade]})]})]})}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[n.jsx(qr,{className:"h-4 w-4"}),"Mdico"]}),n.jsx("p",{className:"font-medium",children:K})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[n.jsx(Hn,{className:"h-4 w-4"}),"Paciente"]}),n.jsx("p",{className:"font-medium",children:te})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:"Medicamentos"}),n.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:n.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:k.medicamentos})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:"Posologia"}),n.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:n.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:k.posologia})})]}),k.observacoes&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:"Observaes"}),n.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:n.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:k.observacoes})})]}),Array.isArray(k.itens)&&k.itens.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:"Itens estruturados"}),n.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:n.jsx("ul",{className:"space-y-2",children:k.itens.map(X=>{var O;return n.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[n.jsx("div",{className:"mt-1.5 h-1.5 w-1.5 rounded-full bg-emerald-500 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:((O=X.medicamento)==null?void 0:O.nome)||"Medicamento"}),X.dose&&n.jsxs("span",{className:"text-muted-foreground",children:[" - ",X.dose]}),X.frequencia&&n.jsxs("span",{className:"text-muted-foreground",children:[" | ",X.frequencia]}),X.duracao&&n.jsxs("span",{className:"text-muted-foreground",children:[" | ",X.duracao]}),X.observacoes&&n.jsx("div",{className:"text-muted-foreground text-xs mt-1",children:X.observacoes})]})]},X.id)})})})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[k.arquivo_assinado?n.jsxs(n.Fragment,{children:[n.jsxs(we,{variant:"outline",size:"sm",className:"group border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 text-emerald-700 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-800 dark:text-emerald-300 dark:hover:text-emerald-100",onClick:()=>window.open(k.arquivo_assinado,"_blank"),children:[n.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Visualizar PDF"]}),n.jsxs(we,{variant:"outline",size:"sm",className:"group border-blue-500/60 bg-gradient-to-b from-blue-500/10 to-blue-600/10 text-blue-700 hover:from-blue-500/20 hover:to-blue-600/20 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-100",onClick:()=>T(k.arquivo_assinado,k),children:[n.jsx(xl,{className:"h-4 w-4 mr-2"}),"Baixar PDF Assinado"]})]}):n.jsxs(n.Fragment,{children:[n.jsxs(we,{variant:"outline",size:"sm",className:"group border-amber-500/60 bg-gradient-to-b from-amber-500/10 to-amber-600/10 text-amber-700 hover:from-amber-500/20 hover:to-amber-600/20 hover:text-amber-800 dark:text-amber-300 dark:hover:text-amber-100",onClick:()=>ce(k),children:[n.jsx(xl,{className:"h-4 w-4 mr-2"}),"Baixar PDF (Gerado)"]}),n.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[n.jsx(ud,{className:"h-3 w-3"}),"Receita no assinada digitalmente"]})]}),n.jsxs(we,{variant:"secondary",size:"sm",onClick:()=>{var O,Z,oe;const X=((O=k==null?void 0:k.medico)==null?void 0:O.id)||((oe=(Z=k==null?void 0:k.consulta)==null?void 0:Z.medico)==null?void 0:oe.id)||(k==null?void 0:k.medico_id)||"";m({medico:String(X||""),mensagem:"",receita:(k==null?void 0:k.id)||null,renovacao:!1}),f(!0)},children:[n.jsx(mu,{className:"h-4 w-4 mr-2"}),"Solicitar Receita"]}),n.jsxs(we,{variant:"secondary",size:"sm",onClick:()=>{var Z,oe,pe;const X=((Z=k==null?void 0:k.medico)==null?void 0:Z.id)||((pe=(oe=k==null?void 0:k.consulta)==null?void 0:oe.medico)==null?void 0:pe.id)||(k==null?void 0:k.medico_id)||"",O=`Solicito renovao da receita #${(k==null?void 0:k.id)??""}`.trim();m({medico:String(X||""),mensagem:O,receita:(k==null?void 0:k.id)||null,renovacao:!0}),f(!0)},children:[n.jsx(D1,{className:"h-4 w-4 mr-2"}),"Pedir Renovao"]})]})]})]},k.id)})}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Bf,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhuma receita encontrada"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:j==="ativas"?"Voc no possui receitas ativas no momento.":j==="historico"?"Voc no possui receitas no histrico.":"Voc ainda no possui receitas mdicas."})]})})]})})}),d?n.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-card text-card-foreground border rounded-lg p-6 w-full max-w-lg shadow-lg",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:h.renovacao?"Pedir Renovao de Receita":"Solicitar Receita"}),n.jsxs("form",{onSubmit:J,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(De,{className:"mb-1 block",children:"Mdico"}),n.jsxs(Wr,{value:h.medico,onValueChange:k=>m(D=>({...D,medico:k})),children:[n.jsx(Kr,{className:"w-full",children:n.jsx(Gr,{placeholder:r?"Carregando...":Q.length?"Selecione...":"Nenhum mdico disponvel"})}),n.jsx(zr,{children:Q.length===0?n.jsx(OE,{children:"Nenhum mdico disponvel"}):Q.map(k=>{const D=(k!=null&&k.user?`${k.user.first_name||""} ${k.user.last_name||""}`.trim():k==null?void 0:k.nome)||"Mdico";return n.jsxs(at,{value:String(k.id),children:[D," ",k.crm?`- CRM ${k.crm}`:""]},String(k.id))})})]})]}),n.jsxs("div",{children:[n.jsx(De,{className:"mb-1 block",children:"Mensagem (opcional)"}),n.jsx(ua,{rows:3,placeholder:h.renovacao?"Explique sua necessidade de renovao (uso contnuo, desabastecimento, etc.)":"Descreva sua necessidade (ex: nova receita de medicamento)",value:h.mensagem,onChange:k=>m(D=>({...D,mensagem:k.target.value}))})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[n.jsx(we,{type:"button",variant:"outline",onClick:()=>{f(!1),m({medico:"",mensagem:"",receita:null,renovacao:!1})},children:"Cancelar"}),n.jsx(we,{type:"submit",disabled:p,children:p?"Enviando...":h.renovacao?"Enviar pedido de renovao":"Enviar solicitao"})]})]})]})}):null]})}function NF(e,r=[]){const[t,a]=y.useState(null),[s,i]=y.useState(!0),[o,l]=y.useState(null);return y.useEffect(()=>{let d=!0;return(async()=>{var h,m;try{i(!0),l(null);const p=await e();d&&a(p)}catch(p){d&&l(((m=(h=p.response)==null?void 0:h.data)==null?void 0:m.message)||"Erro ao carregar dados")}finally{d&&i(!1)}})(),()=>{d=!1}},r),{data:t,loading:s,error:o,refetch:async()=>{var d,f;try{i(!0),l(null);const h=await e();a(h)}catch(h){l(((f=(d=h.response)==null?void 0:d.data)==null?void 0:f.message)||"Erro ao carregar dados")}finally{i(!1)}}}}function $a(e){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$a(e)}var bl=Uint8Array,mo=Uint16Array,wb=Int32Array,yb=new bl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),bb=new bl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),MN=new bl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),BF=function(e,r){for(var t=new mo(31),a=0;a<31;++a)t[a]=r+=1<<e[a-1];for(var s=new wb(t[30]),a=1;a<30;++a)for(var i=t[a];i<t[a+1];++i)s[i]=i-t[a]<<5|a;return{b:t,r:s}},CF=BF(yb,2),L9=CF.b,Py=CF.r;L9[28]=258,Py[258]=28;var I9=BF(bb,0),ON=I9.r,Qy=new mo(32768);for(var un=0;un<32768;++un){var qA=(un&43690)>>1|(un&21845)<<1;qA=(qA&52428)>>2|(qA&13107)<<2,qA=(qA&61680)>>4|(qA&3855)<<4,Qy[un]=((qA&65280)>>8|(qA&255)<<8)>>1}var Jh=(function(e,r,t){for(var a=e.length,s=0,i=new mo(r);s<a;++s)e[s]&&++i[e[s]-1];var o=new mo(r);for(s=1;s<r;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(t){l=new mo(1<<r);var A=15-r;for(s=0;s<a;++s)if(e[s])for(var d=s<<4|e[s],f=r-e[s],h=o[e[s]-1]++<<f,m=h|(1<<f)-1;h<=m;++h)l[Qy[h]>>A]=d}else for(l=new mo(a),s=0;s<a;++s)e[s]&&(l[s]=Qy[o[e[s]-1]++]>>15-e[s]);return l}),yu=new bl(288);for(var un=0;un<144;++un)yu[un]=8;for(var un=144;un<256;++un)yu[un]=9;for(var un=256;un<280;++un)yu[un]=7;for(var un=280;un<288;++un)yu[un]=8;var y0=new bl(32);for(var un=0;un<32;++un)y0[un]=5;var P9=Jh(yu,9,0),Q9=Jh(y0,5,0),SF=function(e){return(e+7)/8|0},R9=function(e,r,t){return(t==null||t>e.length)&&(t=e.length),new bl(e.subarray(r,t))},qc=function(e,r,t){t<<=r&7;var a=r/8|0;e[a]|=t,e[a+1]|=t>>8},Lh=function(e,r,t){t<<=r&7;var a=r/8|0;e[a]|=t,e[a+1]|=t>>8,e[a+2]|=t>>16},lw=function(e,r){for(var t=[],a=0;a<e.length;++a)e[a]&&t.push({s:a,f:e[a]});var s=t.length,i=t.slice();if(!s)return{t:EF,l:0};if(s==1){var o=new bl(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(Q,U){return Q.f-U.f}),t.push({s:-1,f:25001});var l=t[0],A=t[1],d=0,f=1,h=2;for(t[0]={s:-1,f:l.f+A.f,l,r:A};f!=s-1;)l=t[t[d].f<t[h].f?d++:h++],A=t[d!=f&&t[d].f<t[h].f?d++:h++],t[f++]={s:-1,f:l.f+A.f,l,r:A};for(var m=i[0].s,a=1;a<s;++a)i[a].s>m&&(m=i[a].s);var p=new mo(m+1),x=Ry(t[f-1],p,0);if(x>r){var a=0,g=0,w=x-r,j=1<<w;for(i.sort(function(U,F){return p[F.s]-p[U.s]||U.f-F.f});a<s;++a){var N=i[a].s;if(p[N]>r)g+=j-(1<<x-p[N]),p[N]=r;else break}for(g>>=w;g>0;){var C=i[a].s;p[C]<r?g-=1<<r-p[C]++-1:++a}for(;a>=0&&g;--a){var E=i[a].s;p[E]==r&&(--p[E],++g)}x=r}return{t:new bl(p),l:x}},Ry=function(e,r,t){return e.s==-1?Math.max(Ry(e.l,r,t+1),Ry(e.r,r,t+1)):r[e.s]=t},HN=function(e){for(var r=e.length;r&&!e[--r];);for(var t=new mo(++r),a=0,s=e[0],i=1,o=function(A){t[a++]=A},l=1;l<=r;++l)if(e[l]==s&&l!=r)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[l]}return{c:t.subarray(0,a),n:r}},Ih=function(e,r){for(var t=0,a=0;a<r.length;++a)t+=e[a]*r[a];return t},_F=function(e,r,t){var a=t.length,s=SF(r+2);e[s]=a&255,e[s+1]=a>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<a;++i)e[s+i+4]=t[i];return(s+4+a)*8},$N=function(e,r,t,a,s,i,o,l,A,d,f){qc(r,f++,t),++s[256];for(var h=lw(s,15),m=h.t,p=h.l,x=lw(i,15),g=x.t,w=x.l,j=HN(m),N=j.c,C=j.n,E=HN(g),Q=E.c,U=E.n,F=new mo(19),L=0;L<N.length;++L)++F[N[L]&31];for(var L=0;L<Q.length;++L)++F[Q[L]&31];for(var _=lw(F,7),q=_.t,R=_.l,H=19;H>4&&!q[MN[H-1]];--H);var J=d+5<<3,T=Ih(s,yu)+Ih(i,y0)+o,re=Ih(s,m)+Ih(i,g)+o+14+3*H+Ih(F,q)+2*F[16]+3*F[17]+7*F[18];if(A>=0&&J<=T&&J<=re)return _F(r,f,e.subarray(A,A+d));var z,G,V,ee;if(qc(r,f,1+(re<T)),f+=2,re<T){z=Jh(m,p,0),G=m,V=Jh(g,w,0),ee=g;var ce=Jh(q,R,0);qc(r,f,C-257),qc(r,f+5,U-1),qc(r,f+10,H-4),f+=14;for(var L=0;L<H;++L)qc(r,f+3*L,q[MN[L]]);f+=3*H;for(var k=[N,Q],D=0;D<2;++D)for(var K=k[D],L=0;L<K.length;++L){var te=K[L]&31;qc(r,f,ce[te]),f+=q[te],te>15&&(qc(r,f,K[L]>>5&127),f+=K[L]>>12)}}else z=P9,G=yu,V=Q9,ee=y0;for(var L=0;L<l;++L){var Y=a[L];if(Y>255){var te=Y>>18&31;Lh(r,f,z[te+257]),f+=G[te+257],te>7&&(qc(r,f,Y>>23&31),f+=yb[te]);var X=Y&31;Lh(r,f,V[X]),f+=ee[X],X>3&&(Lh(r,f,Y>>5&8191),f+=bb[X])}else Lh(r,f,z[Y]),f+=G[Y]}return Lh(r,f,z[256]),f+G[256]},T9=new wb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),EF=new bl(0),M9=function(e,r,t,a,s,i){var o=i.z||e.length,l=new bl(a+o+5*(1+Math.ceil(o/7e3))+s),A=l.subarray(a,l.length-s),d=i.l,f=(i.r||0)&7;if(r){f&&(A[0]=i.r>>3);for(var h=T9[r-1],m=h>>13,p=h&8191,x=(1<<t)-1,g=i.p||new mo(32768),w=i.h||new mo(x+1),j=Math.ceil(t/3),N=2*j,C=function(he){return(e[he]^e[he+1]<<j^e[he+2]<<N)&x},E=new wb(25e3),Q=new mo(288),U=new mo(32),F=0,L=0,_=i.i||0,q=0,R=i.w||0,H=0;_+2<o;++_){var J=C(_),T=_&32767,re=w[J];if(g[T]=re,w[J]=T,R<=_){var z=o-_;if((F>7e3||q>24576)&&(z>423||!d)){f=$N(e,A,0,E,Q,U,L,q,H,_-H,f),q=F=L=0,H=_;for(var G=0;G<286;++G)Q[G]=0;for(var G=0;G<30;++G)U[G]=0}var V=2,ee=0,ce=p,k=T-re&32767;if(z>2&&J==C(_-k))for(var D=Math.min(m,z)-1,K=Math.min(32767,_),te=Math.min(258,z);k<=K&&--ce&&T!=re;){if(e[_+V]==e[_+V-k]){for(var Y=0;Y<te&&e[_+Y]==e[_+Y-k];++Y);if(Y>V){if(V=Y,ee=k,Y>D)break;for(var X=Math.min(k,Y-2),O=0,G=0;G<X;++G){var Z=_-k+G&32767,oe=g[Z],pe=Z-oe&32767;pe>O&&(O=pe,re=Z)}}}T=re,re=g[T],k+=T-re&32767}if(ee){E[q++]=268435456|Py[V]<<18|ON[ee];var xe=Py[V]&31,_e=ON[ee]&31;L+=yb[xe]+bb[_e],++Q[257+xe],++U[_e],R=_+V,++F}else E[q++]=e[_],++Q[e[_]]}}for(_=Math.max(_,R);_<o;++_)E[q++]=e[_],++Q[e[_]];f=$N(e,A,d,E,Q,U,L,q,H,_-H,f),d||(i.r=f&7|A[f/8|0]<<3,f-=7,i.h=w,i.p=g,i.i=_,i.w=R)}else{for(var _=i.w||0;_<o+d;_+=65535){var Fe=_+65535;Fe>=o&&(A[f/8|0]=d,Fe=o),f=_F(A,f+1,e.subarray(_,Fe))}i.i=o}return R9(l,0,a+SF(f)+s)},FF=function(){var e=1,r=0;return{p:function(t){for(var a=e,s=r,i=t.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=a+=t[o];a=(a&65535)+15*(a>>16),s=(s&65535)+15*(s>>16)}e=a,r=s},d:function(){return e%=65521,r%=65521,(e&255)<<24|(e&65280)<<8|(r&255)<<8|r>>8}}},O9=function(e,r,t,a,s){if(!s&&(s={l:1},r.dictionary)){var i=r.dictionary.subarray(-32768),o=new bl(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return M9(e,r.level==null?6:r.level,r.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+r.mem,t,a,s)},kF=function(e,r,t){for(;t;++r)e[r]=t,t>>>=8},H9=function(e,r){var t=r.level,a=t==0?0:t<6?1:t==9?3:2;if(e[0]=120,e[1]=a<<6|(r.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,r.dictionary){var s=FF();s.p(r.dictionary),kF(e,2,s.d())}};function Ty(e,r){r||(r={});var t=FF();t.p(e);var a=O9(e,r,r.dictionary?6:2,4);return H9(a,r),kF(a,a.length-4,t.d()),a}var $9=typeof TextDecoder<"u"&&new TextDecoder,K9=0;try{$9.decode(EF,{stream:!0}),K9=1}catch{}function z9(e){if(Array.isArray(e))return e}function V9(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var a,s,i,o,l=[],A=!0,d=!1;try{if(i=(t=t.call(e)).next,r!==0)for(;!(A=(a=i.call(t)).done)&&(l.push(a.value),l.length!==r);A=!0);}catch(f){d=!0,s=f}finally{try{if(!A&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function KN(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,a=Array(r);t<r;t++)a[t]=e[t];return a}function q9(e,r){if(e){if(typeof e=="string")return KN(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?KN(e,r):void 0}}function W9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zN(e,r){return z9(e)||V9(e,r)||q9(e,r)||W9()}function VN(e,r="utf8"){return new TextDecoder(r).decode(e)}const G9=new TextEncoder;function Y9(e){return G9.encode(e)}const X9=1024*8,J9=(()=>{const e=new Uint8Array(4),r=new Uint32Array(e.buffer);return!((r[0]=1)&e[0])})(),cw={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class jb{constructor(r=X9,t={}){ft(this,"buffer");ft(this,"byteLength");ft(this,"byteOffset");ft(this,"length");ft(this,"offset");ft(this,"lastWrittenByte");ft(this,"littleEndian");ft(this,"_data");ft(this,"_mark");ft(this,"_marks");let a=!1;typeof r=="number"?r=new ArrayBuffer(r):(a=!0,this.lastWrittenByte=r.byteLength);const s=t.offset?t.offset>>>0:0,i=r.byteLength-s;let o=s;(ArrayBuffer.isView(r)||r instanceof jb)&&(r.byteLength!==r.buffer.byteLength&&(o=r.byteOffset+s),r=r.buffer),a?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=r,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(r=1){return this.offset+r<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(r=1){return this.offset+=r,this}back(r=1){return this.offset-=r,this}seek(r){return this.offset=r,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const r=this._marks.pop();if(r===void 0)throw new Error("Mark stack empty");return this.seek(r),this}rewind(){return this.offset=0,this}ensureAvailable(r=1){if(!this.available(r)){const a=(this.offset+r)*2,s=new Uint8Array(a);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(r=1){return this.readArray(r,"uint8")}readArray(r,t){const a=cw[t].BYTES_PER_ELEMENT*r,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+a);if(this.littleEndian===J9&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+a));l.reverse();const A=new cw[t](l.buffer);return this.offset+=a,A.reverse(),A}const o=new cw[t](i);return this.offset+=a,o}readInt16(){const r=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,r}readUint16(){const r=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,r}readInt32(){const r=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,r}readUint32(){const r=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,r}readFloat32(){const r=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,r}readFloat64(){const r=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,r}readBigInt64(){const r=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,r}readBigUint64(){const r=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,r}readChar(){return String.fromCharCode(this.readInt8())}readChars(r=1){let t="";for(let a=0;a<r;a++)t+=this.readChar();return t}readUtf8(r=1){return VN(this.readBytes(r))}decodeText(r=1,t="utf8"){return VN(this.readBytes(r),t)}writeBoolean(r){return this.writeUint8(r?255:0),this}writeInt8(r){return this.ensureAvailable(1),this._data.setInt8(this.offset++,r),this._updateLastWrittenByte(),this}writeUint8(r){return this.ensureAvailable(1),this._data.setUint8(this.offset++,r),this._updateLastWrittenByte(),this}writeByte(r){return this.writeUint8(r)}writeBytes(r){this.ensureAvailable(r.length);for(let t=0;t<r.length;t++)this._data.setUint8(this.offset++,r[t]);return this._updateLastWrittenByte(),this}writeInt16(r){return this.ensureAvailable(2),this._data.setInt16(this.offset,r,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(r){return this.ensureAvailable(2),this._data.setUint16(this.offset,r,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(r){return this.ensureAvailable(4),this._data.setInt32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(r){return this.ensureAvailable(4),this._data.setUint32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(r){return this.ensureAvailable(4),this._data.setFloat32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(r){return this.ensureAvailable(8),this._data.setFloat64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(r){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(r){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(r){return this.writeUint8(r.charCodeAt(0))}writeChars(r){for(let t=0;t<r.length;t++)this.writeUint8(r.charCodeAt(t));return this}writeUtf8(r){return this.writeBytes(Y9(r))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function rh(e){let r=e.length;for(;--r>=0;)e[r]=0}const Z9=3,e$=258,DF=29,t$=256,r$=t$+1+DF,UF=30,a$=512,n$=new Array((r$+2)*2);rh(n$);const s$=new Array(UF*2);rh(s$);const i$=new Array(a$);rh(i$);const o$=new Array(e$-Z9+1);rh(o$);const l$=new Array(DF);rh(l$);const c$=new Array(UF);rh(c$);const A$=(e,r,t,a)=>{let s=e&65535|0,i=e>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do s=s+r[a++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var My=A$;const d$=()=>{let e,r=[];for(var t=0;t<256;t++){e=t;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;r[t]=e}return r},u$=new Uint32Array(d$()),f$=(e,r,t,a)=>{const s=u$,i=a+t;e^=-1;for(let o=a;o<i;o++)e=e>>>8^s[(e^r[o])&255];return e^-1};var Kl=f$,Oy={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},LF={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const h$=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var m$=function(e){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const t=r.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const a in t)h$(t,a)&&(e[a]=t[a])}}return e},p$=e=>{let r=0;for(let a=0,s=e.length;a<s;a++)r+=e[a].length;const t=new Uint8Array(r);for(let a=0,s=0,i=e.length;a<i;a++){let o=e[a];t.set(o,s),s+=o.length}return t},IF={assign:m$,flattenChunks:p$};let PF=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{PF=!1}const xm=new Uint8Array(256);for(let e=0;e<256;e++)xm[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;xm[254]=xm[254]=1;var g$=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let r,t,a,s,i,o=e.length,l=0;for(s=0;s<o;s++)t=e.charCodeAt(s),(t&64512)===55296&&s+1<o&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(t=65536+(t-55296<<10)+(a-56320),s++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(r=new Uint8Array(l),i=0,s=0;i<l;s++)t=e.charCodeAt(s),(t&64512)===55296&&s+1<o&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(t=65536+(t-55296<<10)+(a-56320),s++)),t<128?r[i++]=t:t<2048?(r[i++]=192|t>>>6,r[i++]=128|t&63):t<65536?(r[i++]=224|t>>>12,r[i++]=128|t>>>6&63,r[i++]=128|t&63):(r[i++]=240|t>>>18,r[i++]=128|t>>>12&63,r[i++]=128|t>>>6&63,r[i++]=128|t&63);return r};const x$=(e,r)=>{if(r<65534&&e.subarray&&PF)return String.fromCharCode.apply(null,e.length===r?e:e.subarray(0,r));let t="";for(let a=0;a<r;a++)t+=String.fromCharCode(e[a]);return t};var v$=(e,r)=>{const t=r||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,r));let a,s;const i=new Array(t*2);for(s=0,a=0;a<t;){let o=e[a++];if(o<128){i[s++]=o;continue}let l=xm[o];if(l>4){i[s++]=65533,a+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&a<t;)o=o<<6|e[a++]&63,l--;if(l>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return x$(i,s)},w$=(e,r)=>{r=r||e.length,r>e.length&&(r=e.length);let t=r-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?r:t+xm[e[t]]>r?t:r},Hy={string2buf:g$,buf2string:v$,utf8border:w$};function y$(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var b$=y$;const Hp=16209,j$=16191;var N$=function(r,t){let a,s,i,o,l,A,d,f,h,m,p,x,g,w,j,N,C,E,Q,U,F,L,_,q;const R=r.state;a=r.next_in,_=r.input,s=a+(r.avail_in-5),i=r.next_out,q=r.output,o=i-(t-r.avail_out),l=i+(r.avail_out-257),A=R.dmax,d=R.wsize,f=R.whave,h=R.wnext,m=R.window,p=R.hold,x=R.bits,g=R.lencode,w=R.distcode,j=(1<<R.lenbits)-1,N=(1<<R.distbits)-1;e:do{x<15&&(p+=_[a++]<<x,x+=8,p+=_[a++]<<x,x+=8),C=g[p&j];t:for(;;){if(E=C>>>24,p>>>=E,x-=E,E=C>>>16&255,E===0)q[i++]=C&65535;else if(E&16){Q=C&65535,E&=15,E&&(x<E&&(p+=_[a++]<<x,x+=8),Q+=p&(1<<E)-1,p>>>=E,x-=E),x<15&&(p+=_[a++]<<x,x+=8,p+=_[a++]<<x,x+=8),C=w[p&N];r:for(;;){if(E=C>>>24,p>>>=E,x-=E,E=C>>>16&255,E&16){if(U=C&65535,E&=15,x<E&&(p+=_[a++]<<x,x+=8,x<E&&(p+=_[a++]<<x,x+=8)),U+=p&(1<<E)-1,U>A){r.msg="invalid distance too far back",R.mode=Hp;break e}if(p>>>=E,x-=E,E=i-o,U>E){if(E=U-E,E>f&&R.sane){r.msg="invalid distance too far back",R.mode=Hp;break e}if(F=0,L=m,h===0){if(F+=d-E,E<Q){Q-=E;do q[i++]=m[F++];while(--E);F=i-U,L=q}}else if(h<E){if(F+=d+h-E,E-=h,E<Q){Q-=E;do q[i++]=m[F++];while(--E);if(F=0,h<Q){E=h,Q-=E;do q[i++]=m[F++];while(--E);F=i-U,L=q}}}else if(F+=h-E,E<Q){Q-=E;do q[i++]=m[F++];while(--E);F=i-U,L=q}for(;Q>2;)q[i++]=L[F++],q[i++]=L[F++],q[i++]=L[F++],Q-=3;Q&&(q[i++]=L[F++],Q>1&&(q[i++]=L[F++]))}else{F=i-U;do q[i++]=q[F++],q[i++]=q[F++],q[i++]=q[F++],Q-=3;while(Q>2);Q&&(q[i++]=q[F++],Q>1&&(q[i++]=q[F++]))}}else if((E&64)===0){C=w[(C&65535)+(p&(1<<E)-1)];continue r}else{r.msg="invalid distance code",R.mode=Hp;break e}break}}else if((E&64)===0){C=g[(C&65535)+(p&(1<<E)-1)];continue t}else if(E&32){R.mode=j$;break e}else{r.msg="invalid literal/length code",R.mode=Hp;break e}break}}while(a<s&&i<l);Q=x>>3,a-=Q,x-=Q<<3,p&=(1<<x)-1,r.next_in=a,r.next_out=i,r.avail_in=a<s?5+(s-a):5-(a-s),r.avail_out=i<l?257+(l-i):257-(i-l),R.hold=p,R.bits=x};const lf=15,qN=852,WN=592,GN=0,Aw=1,YN=2,B$=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),C$=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),S$=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),_$=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),E$=(e,r,t,a,s,i,o,l)=>{const A=l.bits;let d=0,f=0,h=0,m=0,p=0,x=0,g=0,w=0,j=0,N=0,C,E,Q,U,F,L=null,_;const q=new Uint16Array(lf+1),R=new Uint16Array(lf+1);let H=null,J,T,re;for(d=0;d<=lf;d++)q[d]=0;for(f=0;f<a;f++)q[r[t+f]]++;for(p=A,m=lf;m>=1&&q[m]===0;m--);if(p>m&&(p=m),m===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<m&&q[h]===0;h++);for(p<h&&(p=h),w=1,d=1;d<=lf;d++)if(w<<=1,w-=q[d],w<0)return-1;if(w>0&&(e===GN||m!==1))return-1;for(R[1]=0,d=1;d<lf;d++)R[d+1]=R[d]+q[d];for(f=0;f<a;f++)r[t+f]!==0&&(o[R[r[t+f]]++]=f);if(e===GN?(L=H=o,_=20):e===Aw?(L=B$,H=C$,_=257):(L=S$,H=_$,_=0),N=0,f=0,d=h,F=i,x=p,g=0,Q=-1,j=1<<p,U=j-1,e===Aw&&j>qN||e===YN&&j>WN)return 1;for(;;){J=d-g,o[f]+1<_?(T=0,re=o[f]):o[f]>=_?(T=H[o[f]-_],re=L[o[f]-_]):(T=96,re=0),C=1<<d-g,E=1<<x,h=E;do E-=C,s[F+(N>>g)+E]=J<<24|T<<16|re|0;while(E!==0);for(C=1<<d-1;N&C;)C>>=1;if(C!==0?(N&=C-1,N+=C):N=0,f++,--q[d]===0){if(d===m)break;d=r[t+o[f]]}if(d>p&&(N&U)!==Q){for(g===0&&(g=p),F+=h,x=d-g,w=1<<x;x+g<m&&(w-=q[x+g],!(w<=0));)x++,w<<=1;if(j+=1<<x,e===Aw&&j>qN||e===YN&&j>WN)return 1;Q=N&U,s[Q]=p<<24|x<<16|F-i|0}}return N!==0&&(s[F+N]=d-g<<24|64<<16|0),l.bits=p,0};var Zh=E$;const F$=0,QF=1,RF=2,{Z_FINISH:XN,Z_BLOCK:k$,Z_TREES:$p,Z_OK:bu,Z_STREAM_END:D$,Z_NEED_DICT:U$,Z_STREAM_ERROR:Ho,Z_DATA_ERROR:TF,Z_MEM_ERROR:MF,Z_BUF_ERROR:L$,Z_DEFLATED:JN}=LF,Nx=16180,ZN=16181,eB=16182,tB=16183,rB=16184,aB=16185,nB=16186,sB=16187,iB=16188,oB=16189,b0=16190,Wc=16191,dw=16192,lB=16193,uw=16194,cB=16195,AB=16196,dB=16197,uB=16198,Kp=16199,zp=16200,fB=16201,hB=16202,mB=16203,pB=16204,gB=16205,fw=16206,xB=16207,vB=16208,bn=16209,OF=16210,HF=16211,I$=852,P$=592,Q$=15,R$=Q$,wB=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function T$(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Cu=e=>{if(!e)return 1;const r=e.state;return!r||r.strm!==e||r.mode<Nx||r.mode>HF?1:0},$F=e=>{if(Cu(e))return Ho;const r=e.state;return e.total_in=e.total_out=r.total=0,e.msg="",r.wrap&&(e.adler=r.wrap&1),r.mode=Nx,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(I$),r.distcode=r.distdyn=new Int32Array(P$),r.sane=1,r.back=-1,bu},KF=e=>{if(Cu(e))return Ho;const r=e.state;return r.wsize=0,r.whave=0,r.wnext=0,$F(e)},zF=(e,r)=>{let t;if(Cu(e))return Ho;const a=e.state;return r<0?(t=0,r=-r):(t=(r>>4)+5,r<48&&(r&=15)),r&&(r<8||r>15)?Ho:(a.window!==null&&a.wbits!==r&&(a.window=null),a.wrap=t,a.wbits=r,KF(e))},VF=(e,r)=>{if(!e)return Ho;const t=new T$;e.state=t,t.strm=e,t.window=null,t.mode=Nx;const a=zF(e,r);return a!==bu&&(e.state=null),a},M$=e=>VF(e,R$);let yB=!0,hw,mw;const O$=e=>{if(yB){hw=new Int32Array(512),mw=new Int32Array(32);let r=0;for(;r<144;)e.lens[r++]=8;for(;r<256;)e.lens[r++]=9;for(;r<280;)e.lens[r++]=7;for(;r<288;)e.lens[r++]=8;for(Zh(QF,e.lens,0,288,hw,0,e.work,{bits:9}),r=0;r<32;)e.lens[r++]=5;Zh(RF,e.lens,0,32,mw,0,e.work,{bits:5}),yB=!1}e.lencode=hw,e.lenbits=9,e.distcode=mw,e.distbits=5},qF=(e,r,t,a)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),a>=i.wsize?(i.window.set(r.subarray(t-i.wsize,t),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>a&&(s=a),i.window.set(r.subarray(t-a,t-a+s),i.wnext),a-=s,a?(i.window.set(r.subarray(t-a,t),0),i.wnext=a,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},H$=(e,r)=>{let t,a,s,i,o,l,A,d,f,h,m,p,x,g,w=0,j,N,C,E,Q,U,F,L;const _=new Uint8Array(4);let q,R;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Cu(e)||!e.output||!e.input&&e.avail_in!==0)return Ho;t=e.state,t.mode===Wc&&(t.mode=dw),o=e.next_out,s=e.output,A=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,d=t.hold,f=t.bits,h=l,m=A,L=bu;e:for(;;)switch(t.mode){case Nx:if(t.wrap===0){t.mode=dw;break}for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,_[0]=d&255,_[1]=d>>>8&255,t.check=Kl(t.check,_,2,0),d=0,f=0,t.mode=ZN;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",t.mode=bn;break}if((d&15)!==JN){e.msg="unknown compression method",t.mode=bn;break}if(d>>>=4,f-=4,F=(d&15)+8,t.wbits===0&&(t.wbits=F),F>15||F>t.wbits){e.msg="invalid window size",t.mode=bn;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=d&512?oB:Wc,d=0,f=0;break;case ZN:for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.flags=d,(t.flags&255)!==JN){e.msg="unknown compression method",t.mode=bn;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=bn;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,t.check=Kl(t.check,_,2,0)),d=0,f=0,t.mode=eB;case eB:for(;f<32;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,_[2]=d>>>16&255,_[3]=d>>>24&255,t.check=Kl(t.check,_,4,0)),d=0,f=0,t.mode=tB;case tB:for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,t.check=Kl(t.check,_,2,0)),d=0,f=0,t.mode=rB;case rB:if(t.flags&1024){for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,t.check=Kl(t.check,_,2,0)),d=0,f=0}else t.head&&(t.head.extra=null);t.mode=aB;case aB:if(t.flags&1024&&(p=t.length,p>l&&(p=l),p&&(t.head&&(F=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(a.subarray(i,i+p),F)),t.flags&512&&t.wrap&4&&(t.check=Kl(t.check,a,p,i)),l-=p,i+=p,t.length-=p),t.length))break e;t.length=0,t.mode=nB;case nB:if(t.flags&2048){if(l===0)break e;p=0;do F=a[i+p++],t.head&&F&&t.length<65536&&(t.head.name+=String.fromCharCode(F));while(F&&p<l);if(t.flags&512&&t.wrap&4&&(t.check=Kl(t.check,a,p,i)),l-=p,i+=p,F)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=sB;case sB:if(t.flags&4096){if(l===0)break e;p=0;do F=a[i+p++],t.head&&F&&t.length<65536&&(t.head.comment+=String.fromCharCode(F));while(F&&p<l);if(t.flags&512&&t.wrap&4&&(t.check=Kl(t.check,a,p,i)),l-=p,i+=p,F)break e}else t.head&&(t.head.comment=null);t.mode=iB;case iB:if(t.flags&512){for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.wrap&4&&d!==(t.check&65535)){e.msg="header crc mismatch",t.mode=bn;break}d=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=Wc;break;case oB:for(;f<32;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}e.adler=t.check=wB(d),d=0,f=0,t.mode=b0;case b0:if(t.havedict===0)return e.next_out=o,e.avail_out=A,e.next_in=i,e.avail_in=l,t.hold=d,t.bits=f,U$;e.adler=t.check=1,t.mode=Wc;case Wc:if(r===k$||r===$p)break e;case dw:if(t.last){d>>>=f&7,f-=f&7,t.mode=fw;break}for(;f<3;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}switch(t.last=d&1,d>>>=1,f-=1,d&3){case 0:t.mode=lB;break;case 1:if(O$(t),t.mode=Kp,r===$p){d>>>=2,f-=2;break e}break;case 2:t.mode=AB;break;case 3:e.msg="invalid block type",t.mode=bn}d>>>=2,f-=2;break;case lB:for(d>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",t.mode=bn;break}if(t.length=d&65535,d=0,f=0,t.mode=uw,r===$p)break e;case uw:t.mode=cB;case cB:if(p=t.length,p){if(p>l&&(p=l),p>A&&(p=A),p===0)break e;s.set(a.subarray(i,i+p),o),l-=p,i+=p,A-=p,o+=p,t.length-=p;break}t.mode=Wc;break;case AB:for(;f<14;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.nlen=(d&31)+257,d>>>=5,f-=5,t.ndist=(d&31)+1,d>>>=5,f-=5,t.ncode=(d&15)+4,d>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=bn;break}t.have=0,t.mode=dB;case dB:for(;t.have<t.ncode;){for(;f<3;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.lens[H[t.have++]]=d&7,d>>>=3,f-=3}for(;t.have<19;)t.lens[H[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,q={bits:t.lenbits},L=Zh(F$,t.lens,0,19,t.lencode,0,t.work,q),t.lenbits=q.bits,L){e.msg="invalid code lengths set",t.mode=bn;break}t.have=0,t.mode=uB;case uB:for(;t.have<t.nlen+t.ndist;){for(;w=t.lencode[d&(1<<t.lenbits)-1],j=w>>>24,N=w>>>16&255,C=w&65535,!(j<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(C<16)d>>>=j,f-=j,t.lens[t.have++]=C;else{if(C===16){for(R=j+2;f<R;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(d>>>=j,f-=j,t.have===0){e.msg="invalid bit length repeat",t.mode=bn;break}F=t.lens[t.have-1],p=3+(d&3),d>>>=2,f-=2}else if(C===17){for(R=j+3;f<R;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}d>>>=j,f-=j,F=0,p=3+(d&7),d>>>=3,f-=3}else{for(R=j+7;f<R;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}d>>>=j,f-=j,F=0,p=11+(d&127),d>>>=7,f-=7}if(t.have+p>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=bn;break}for(;p--;)t.lens[t.have++]=F}}if(t.mode===bn)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=bn;break}if(t.lenbits=9,q={bits:t.lenbits},L=Zh(QF,t.lens,0,t.nlen,t.lencode,0,t.work,q),t.lenbits=q.bits,L){e.msg="invalid literal/lengths set",t.mode=bn;break}if(t.distbits=6,t.distcode=t.distdyn,q={bits:t.distbits},L=Zh(RF,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,q),t.distbits=q.bits,L){e.msg="invalid distances set",t.mode=bn;break}if(t.mode=Kp,r===$p)break e;case Kp:t.mode=zp;case zp:if(l>=6&&A>=258){e.next_out=o,e.avail_out=A,e.next_in=i,e.avail_in=l,t.hold=d,t.bits=f,N$(e,m),o=e.next_out,s=e.output,A=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,d=t.hold,f=t.bits,t.mode===Wc&&(t.back=-1);break}for(t.back=0;w=t.lencode[d&(1<<t.lenbits)-1],j=w>>>24,N=w>>>16&255,C=w&65535,!(j<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(N&&(N&240)===0){for(E=j,Q=N,U=C;w=t.lencode[U+((d&(1<<E+Q)-1)>>E)],j=w>>>24,N=w>>>16&255,C=w&65535,!(E+j<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}d>>>=E,f-=E,t.back+=E}if(d>>>=j,f-=j,t.back+=j,t.length=C,N===0){t.mode=gB;break}if(N&32){t.back=-1,t.mode=Wc;break}if(N&64){e.msg="invalid literal/length code",t.mode=bn;break}t.extra=N&15,t.mode=fB;case fB:if(t.extra){for(R=t.extra;f<R;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=hB;case hB:for(;w=t.distcode[d&(1<<t.distbits)-1],j=w>>>24,N=w>>>16&255,C=w&65535,!(j<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if((N&240)===0){for(E=j,Q=N,U=C;w=t.distcode[U+((d&(1<<E+Q)-1)>>E)],j=w>>>24,N=w>>>16&255,C=w&65535,!(E+j<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}d>>>=E,f-=E,t.back+=E}if(d>>>=j,f-=j,t.back+=j,N&64){e.msg="invalid distance code",t.mode=bn;break}t.offset=C,t.extra=N&15,t.mode=mB;case mB:if(t.extra){for(R=t.extra;f<R;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=bn;break}t.mode=pB;case pB:if(A===0)break e;if(p=m-A,t.offset>p){if(p=t.offset-p,p>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=bn;break}p>t.wnext?(p-=t.wnext,x=t.wsize-p):x=t.wnext-p,p>t.length&&(p=t.length),g=t.window}else g=s,x=o-t.offset,p=t.length;p>A&&(p=A),A-=p,t.length-=p;do s[o++]=g[x++];while(--p);t.length===0&&(t.mode=zp);break;case gB:if(A===0)break e;s[o++]=t.length,A--,t.mode=zp;break;case fw:if(t.wrap){for(;f<32;){if(l===0)break e;l--,d|=a[i++]<<f,f+=8}if(m-=A,e.total_out+=m,t.total+=m,t.wrap&4&&m&&(e.adler=t.check=t.flags?Kl(t.check,s,m,o-m):My(t.check,s,m,o-m)),m=A,t.wrap&4&&(t.flags?d:wB(d))!==t.check){e.msg="incorrect data check",t.mode=bn;break}d=0,f=0}t.mode=xB;case xB:if(t.wrap&&t.flags){for(;f<32;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.wrap&4&&d!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=bn;break}d=0,f=0}t.mode=vB;case vB:L=D$;break e;case bn:L=TF;break e;case OF:return MF;case HF:default:return Ho}return e.next_out=o,e.avail_out=A,e.next_in=i,e.avail_in=l,t.hold=d,t.bits=f,(t.wsize||m!==e.avail_out&&t.mode<bn&&(t.mode<fw||r!==XN))&&qF(e,e.output,e.next_out,m-e.avail_out),h-=e.avail_in,m-=e.avail_out,e.total_in+=h,e.total_out+=m,t.total+=m,t.wrap&4&&m&&(e.adler=t.check=t.flags?Kl(t.check,s,m,e.next_out-m):My(t.check,s,m,e.next_out-m)),e.data_type=t.bits+(t.last?64:0)+(t.mode===Wc?128:0)+(t.mode===Kp||t.mode===uw?256:0),(h===0&&m===0||r===XN)&&L===bu&&(L=L$),L},$$=e=>{if(Cu(e))return Ho;let r=e.state;return r.window&&(r.window=null),e.state=null,bu},K$=(e,r)=>{if(Cu(e))return Ho;const t=e.state;return(t.wrap&2)===0?Ho:(t.head=r,r.done=!1,bu)},z$=(e,r)=>{const t=r.length;let a,s,i;return Cu(e)||(a=e.state,a.wrap!==0&&a.mode!==b0)?Ho:a.mode===b0&&(s=1,s=My(s,r,t,0),s!==a.check)?TF:(i=qF(e,r,t,t),i?(a.mode=OF,MF):(a.havedict=1,bu))};var V$=KF,q$=zF,W$=$F,G$=M$,Y$=VF,X$=H$,J$=$$,Z$=K$,eK=z$,tK="pako inflate (from Nodeca project)",Xc={inflateReset:V$,inflateReset2:q$,inflateResetKeep:W$,inflateInit:G$,inflateInit2:Y$,inflate:X$,inflateEnd:J$,inflateGetHeader:Z$,inflateSetDictionary:eK,inflateInfo:tK};function rK(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var aK=rK;const WF=Object.prototype.toString,{Z_NO_FLUSH:nK,Z_FINISH:sK,Z_OK:vm,Z_STREAM_END:pw,Z_NEED_DICT:gw,Z_STREAM_ERROR:iK,Z_DATA_ERROR:bB,Z_MEM_ERROR:oK}=LF;function Hm(e){this.options=IF.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(e&&e.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15)===0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b$,this.strm.avail_out=0;let t=Xc.inflateInit2(this.strm,r.windowBits);if(t!==vm)throw new Error(Oy[t]);if(this.header=new aK,Xc.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=Hy.string2buf(r.dictionary):WF.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(t=Xc.inflateSetDictionary(this.strm,r.dictionary),t!==vm)))throw new Error(Oy[t])}Hm.prototype.push=function(e,r){const t=this.strm,a=this.options.chunkSize,s=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(r===~~r?o=r:o=r===!0?sK:nK,WF.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(a),t.next_out=0,t.avail_out=a),i=Xc.inflate(t,o),i===gw&&s&&(i=Xc.inflateSetDictionary(t,s),i===vm?i=Xc.inflate(t,o):i===bB&&(i=gw));t.avail_in>0&&i===pw&&t.state.wrap>0&&e[t.next_in]!==0;)Xc.inflateReset(t),i=Xc.inflate(t,o);switch(i){case iK:case bB:case gw:case oK:return this.onEnd(i),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||i===pw))if(this.options.to==="string"){let A=Hy.utf8border(t.output,t.next_out),d=t.next_out-A,f=Hy.buf2string(t.output,A);t.next_out=d,t.avail_out=a-d,d&&t.output.set(t.output.subarray(A,A+d),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(i===vm&&l===0)){if(i===pw)return i=Xc.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Hm.prototype.onData=function(e){this.chunks.push(e)};Hm.prototype.onEnd=function(e){e===vm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=IF.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function lK(e,r){const t=new Hm(r);if(t.push(e),t.err)throw t.msg||Oy[t.err];return t.result}var cK=Hm,AK=lK,dK={Inflate:cK,inflate:AK};const{Inflate:uK,inflate:fK}=dK;var jB=uK,hK=fK;const GF=[];for(let e=0;e<256;e++){let r=e;for(let t=0;t<8;t++)r&1?r=3988292384^r>>>1:r=r>>>1;GF[e]=r}const NB=4294967295;function mK(e,r,t){let a=e;for(let s=0;s<t;s++)a=GF[(a^r[s])&255]^a>>>8;return a}function pK(e,r){return(mK(NB,e,r)^NB)>>>0}function BB(e,r,t){const a=e.readUint32(),s=pK(new Uint8Array(e.buffer,e.byteOffset+e.offset-r-4,r),r);if(s!==a)throw new Error(`CRC mismatch for chunk ${t}. Expected ${a}, found ${s}`)}function YF(e,r,t){for(let a=0;a<t;a++)r[a]=e[a]}function XF(e,r,t,a){let s=0;for(;s<a;s++)r[s]=e[s];for(;s<t;s++)r[s]=e[s]+r[s-a]&255}function JF(e,r,t,a){let s=0;if(t.length===0)for(;s<a;s++)r[s]=e[s];else for(;s<a;s++)r[s]=e[s]+t[s]&255}function ZF(e,r,t,a,s){let i=0;if(t.length===0){for(;i<s;i++)r[i]=e[i];for(;i<a;i++)r[i]=e[i]+(r[i-s]>>1)&255}else{for(;i<s;i++)r[i]=e[i]+(t[i]>>1)&255;for(;i<a;i++)r[i]=e[i]+(r[i-s]+t[i]>>1)&255}}function e3(e,r,t,a,s){let i=0;if(t.length===0){for(;i<s;i++)r[i]=e[i];for(;i<a;i++)r[i]=e[i]+r[i-s]&255}else{for(;i<s;i++)r[i]=e[i]+t[i]&255;for(;i<a;i++)r[i]=e[i]+gK(r[i-s],t[i],t[i-s])&255}}function gK(e,r,t){const a=e+r-t,s=Math.abs(a-e),i=Math.abs(a-r),o=Math.abs(a-t);return s<=i&&s<=o?e:i<=o?r:t}function xK(e,r,t,a,s,i){switch(e){case 0:YF(r,t,s);break;case 1:XF(r,t,s,i);break;case 2:JF(r,t,a,s);break;case 3:ZF(r,t,a,s,i);break;case 4:e3(r,t,a,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const vK=new Uint16Array([255]),wK=new Uint8Array(vK.buffer),yK=wK[0]===255;function bK(e){const{data:r,width:t,height:a,channels:s,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,A=new Uint8Array(a*t*l);let d=0;for(let f=0;f<7;f++){const h=o[f],m=Math.ceil((t-h.x)/h.xStep),p=Math.ceil((a-h.y)/h.yStep);if(m<=0||p<=0)continue;const x=m*l,g=new Uint8Array(x);for(let w=0;w<p;w++){const j=r[d++],N=r.subarray(d,d+x);d+=x;const C=new Uint8Array(x);xK(j,N,C,g,x,l),g.set(C);for(let E=0;E<m;E++){const Q=h.x+E*h.xStep,U=h.y+w*h.yStep;if(!(Q>=t||U>=a))for(let F=0;F<l;F++)A[(U*t+Q)*l+F]=C[E*l+F]}}}if(i===16){const f=new Uint16Array(A.buffer);if(yK)for(let h=0;h<f.length;h++)f[h]=jK(f[h]);return f}else return A}function jK(e){return(e&255)<<8|e>>8&255}const NK=new Uint16Array([255]),BK=new Uint8Array(NK.buffer),CK=BK[0]===255,SK=new Uint8Array(0);function CB(e){const{data:r,width:t,height:a,channels:s,depth:i}=e,o=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*t),A=new Uint8Array(a*l);let d=SK,f=0,h,m;for(let p=0;p<a;p++){switch(h=r.subarray(f+1,f+1+l),m=A.subarray(p*l,(p+1)*l),r[f]){case 0:YF(h,m,l);break;case 1:XF(h,m,l,o);break;case 2:JF(h,m,d,l);break;case 3:ZF(h,m,d,l,o);break;case 4:e3(h,m,d,l,o);break;default:throw new Error(`Unsupported filter: ${r[f]}`)}d=m,f+=l+1}if(i===16){const p=new Uint16Array(A.buffer);if(CK)for(let x=0;x<p.length;x++)p[x]=_K(p[x]);return p}else return A}function _K(e){return(e&255)<<8|e>>8&255}const Pg=Uint8Array.of(137,80,78,71,13,10,26,10);function SB(e){if(!EK(e.readBytes(Pg.length)))throw new Error("wrong PNG signature")}function EK(e){if(e.length<Pg.length)return!1;for(let r=0;r<Pg.length;r++)if(e[r]!==Pg[r])return!1;return!0}const FK="tEXt",kK=0,t3=new TextDecoder("latin1");function DK(e){if(LK(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const UK=/^[\u0000-\u00FF]*$/;function LK(e){if(!UK.test(e))throw new Error("invalid latin1 text")}function IK(e,r,t){const a=r3(r);e[a]=PK(r,t-a.length-1)}function r3(e){for(e.mark();e.readByte()!==kK;);const r=e.offset;e.reset();const t=t3.decode(e.readBytes(r-e.offset-1));return e.skip(1),DK(t),t}function PK(e,r){return t3.decode(e.readBytes(r))}const co={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},xw={UNKNOWN:-1,DEFLATE:0},_B={UNKNOWN:-1,ADAPTIVE:0},vw={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Vp={NONE:0,BACKGROUND:1,PREVIOUS:2},ww={SOURCE:0,OVER:1};class QK extends jb{constructor(t,a={}){super(t);ft(this,"_checkCrc");ft(this,"_inflator");ft(this,"_png");ft(this,"_apng");ft(this,"_end");ft(this,"_hasPalette");ft(this,"_palette");ft(this,"_hasTransparency");ft(this,"_transparency");ft(this,"_compressionMethod");ft(this,"_filterMethod");ft(this,"_interlaceMethod");ft(this,"_colorType");ft(this,"_isAnimated");ft(this,"_numberOfFrames");ft(this,"_numberOfPlays");ft(this,"_frames");ft(this,"_writingDataChunks");const{checkCrc:s=!1}=a;this._checkCrc=s,this._inflator=new jB,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=xw.UNKNOWN,this._filterMethod=_B.UNKNOWN,this._interlaceMethod=vw.UNKNOWN,this._colorType=co.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(SB(this);!this._end;){const t=this.readUint32(),a=this.readChars(4);this.decodeChunk(t,a)}return this.decodeImage(),this._png}decodeApng(){for(SB(this);!this._end;){const t=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(t,a)}return this.decodeApngImage(),this._apng}decodeChunk(t,a){const s=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case FK:IK(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?BB(this,t+4,a):this.skip(4)}decodeApngChunk(t,a){const s=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,a),this.offset=s+t;break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?BB(this,t+4,a):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=RK(this.readUint8());const a=this.readUint8();this._colorType=a;let s;switch(a){case co.GREYSCALE:s=1;break;case co.TRUECOLOUR:s=3;break;case co.INDEXED_COLOUR:s=1;break;case co.GREYSCALE_ALPHA:s=2;break;case co.TRUECOLOUR_ALPHA:s=4;break;case co.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==xw.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const a=t/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<a;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const a=t,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let a=t,s=this.offset+this.byteOffset;if(s+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case co.GREYSCALE:case co.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let a=0;a<t/2;a++)this._transparency[a]=this.readUint16();break}case co.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let a=0;for(;a<t;a++){const s=this.readByte();this._palette[a].push(s)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case co.UNKNOWN:case co.GREYSCALE_ALPHA:case co.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const a=r3(this),s=this.readUint8();if(s!==xw.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(t-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:hK(i)}}decodepHYs(){const t=this.readUint32(),a=this.readUint32(),s=this.readByte();this._png.resolution={x:t,y:a,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const a={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(t);if(s){if(s.data=CB({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)a.data=s.data;else{const i=this._apng.frames.at(t-1);this.disposeFrame(s,i,a),this.addFrameDataToCanvas(a,s)}this._apng.frames.push(a)}}return this._apng}disposeFrame(t,a,s){switch(t.disposeOp){case Vp.NONE:break;case Vp.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*t.width+o)*this._png.channels;for(let A=0;A<this._png.channels;A++)s.data[l+A]=0}break;case Vp.PREVIOUS:s.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,a){const s=1<<this._png.depth,i=(o,l)=>{const A=((o+a.yOffset)*this._png.width+a.xOffset+l)*this._png.channels,d=(o*a.width+l)*this._png.channels;return{index:A,frameIndex:d}};switch(a.blendOp){case ww.SOURCE:for(let o=0;o<a.height;o++)for(let l=0;l<a.width;l++){const{index:A,frameIndex:d}=i(o,l);for(let f=0;f<this._png.channels;f++)t.data[A+f]=a.data[d+f]}break;case ww.OVER:for(let o=0;o<a.height;o++)for(let l=0;l<a.width;l++){const{index:A,frameIndex:d}=i(o,l);for(let f=0;f<this._png.channels;f++){const h=a.data[d+this._png.channels-1]/s,m=f%(this._png.channels-1)===0?1:a.data[d+f],p=Math.floor(h*m+(1-h)*t.data[A+f]);t.data[A+f]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var a;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((a=this._frames)==null?void 0:a.at(0)).data:this._inflator.result;if(this._filterMethod!==_B.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===vw.NO_INTERLACE)this._png.data=CB({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===vw.ADAM7)this._png.data=bK({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,a=this._frames.at(-1);a?a.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Vp.NONE,blendOp:ww.SOURCE,data:t}),this._inflator=new jB,this._writingDataChunks=!1}}function RK(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var EB;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(EB||(EB={}));function TK(e,r){return new QK(e,r).decode()}var Fr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function yw(){Fr.console&&typeof Fr.console.log=="function"&&Fr.console.log.apply(Fr.console,arguments)}var Za={log:yw,warn:function(e){Fr.console&&(typeof Fr.console.warn=="function"?Fr.console.warn.apply(Fr.console,arguments):yw.call(null,arguments))},error:function(e){Fr.console&&(typeof Fr.console.error=="function"?Fr.console.error.apply(Fr.console,arguments):yw(e))}};function bw(e,r,t){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){Zd(a.response,r,t)},a.onerror=function(){Za.error("could not download file")},a.send()}function FB(e){var r=new XMLHttpRequest;r.open("HEAD",e,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function qp(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(r)}}var Zd=Fr.saveAs||((typeof window>"u"?"undefined":$a(window))!=="object"||window!==Fr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,r,t){var a=Fr.URL||Fr.webkitURL,s=document.createElement("a");r=r||e.name||"download",s.download=r,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?FB(s.href)?bw(e,r,t):qp(s,s.target="_blank"):qp(s)):(s.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(s.href)},4e4),setTimeout(function(){qp(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,r,t){if(r=r||e.name||"download",typeof e=="string")if(FB(e))bw(e,r,t);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){qp(a)})}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:$a(i)!=="object"&&(Za.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(e,t),r)}:function(e,r,t,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return bw(e,r,t);var s=e.type==="application/octet-stream",i=/constructor/i.test(Fr.HTMLElement)||Fr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":$a(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=f:location=f,a=null},l.readAsDataURL(e)}else{var A=Fr.URL||Fr.webkitURL,d=A.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout(function(){A.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function a3(e){var r;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],a=0;a<t.length;a++){var s=t[a].re,i=t[a].process,o=s.exec(e);o&&(r=i(o),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),A=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),A.length==1&&(A="0"+A),d.length==1&&(d="0"+d),"#"+l+A+d}}var Qg=Fr.atob.bind(Fr),kB=Fr.btoa.bind(Fr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function jw(e,r){var t=e[0],a=e[1],s=e[2],i=e[3];t=ri(t,a,s,i,r[0],7,-680876936),i=ri(i,t,a,s,r[1],12,-389564586),s=ri(s,i,t,a,r[2],17,606105819),a=ri(a,s,i,t,r[3],22,-1044525330),t=ri(t,a,s,i,r[4],7,-176418897),i=ri(i,t,a,s,r[5],12,1200080426),s=ri(s,i,t,a,r[6],17,-1473231341),a=ri(a,s,i,t,r[7],22,-45705983),t=ri(t,a,s,i,r[8],7,1770035416),i=ri(i,t,a,s,r[9],12,-1958414417),s=ri(s,i,t,a,r[10],17,-42063),a=ri(a,s,i,t,r[11],22,-1990404162),t=ri(t,a,s,i,r[12],7,1804603682),i=ri(i,t,a,s,r[13],12,-40341101),s=ri(s,i,t,a,r[14],17,-1502002290),t=ai(t,a=ri(a,s,i,t,r[15],22,1236535329),s,i,r[1],5,-165796510),i=ai(i,t,a,s,r[6],9,-1069501632),s=ai(s,i,t,a,r[11],14,643717713),a=ai(a,s,i,t,r[0],20,-373897302),t=ai(t,a,s,i,r[5],5,-701558691),i=ai(i,t,a,s,r[10],9,38016083),s=ai(s,i,t,a,r[15],14,-660478335),a=ai(a,s,i,t,r[4],20,-405537848),t=ai(t,a,s,i,r[9],5,568446438),i=ai(i,t,a,s,r[14],9,-1019803690),s=ai(s,i,t,a,r[3],14,-187363961),a=ai(a,s,i,t,r[8],20,1163531501),t=ai(t,a,s,i,r[13],5,-1444681467),i=ai(i,t,a,s,r[2],9,-51403784),s=ai(s,i,t,a,r[7],14,1735328473),t=ni(t,a=ai(a,s,i,t,r[12],20,-1926607734),s,i,r[5],4,-378558),i=ni(i,t,a,s,r[8],11,-2022574463),s=ni(s,i,t,a,r[11],16,1839030562),a=ni(a,s,i,t,r[14],23,-35309556),t=ni(t,a,s,i,r[1],4,-1530992060),i=ni(i,t,a,s,r[4],11,1272893353),s=ni(s,i,t,a,r[7],16,-155497632),a=ni(a,s,i,t,r[10],23,-1094730640),t=ni(t,a,s,i,r[13],4,681279174),i=ni(i,t,a,s,r[0],11,-358537222),s=ni(s,i,t,a,r[3],16,-722521979),a=ni(a,s,i,t,r[6],23,76029189),t=ni(t,a,s,i,r[9],4,-640364487),i=ni(i,t,a,s,r[12],11,-421815835),s=ni(s,i,t,a,r[15],16,530742520),t=si(t,a=ni(a,s,i,t,r[2],23,-995338651),s,i,r[0],6,-198630844),i=si(i,t,a,s,r[7],10,1126891415),s=si(s,i,t,a,r[14],15,-1416354905),a=si(a,s,i,t,r[5],21,-57434055),t=si(t,a,s,i,r[12],6,1700485571),i=si(i,t,a,s,r[3],10,-1894986606),s=si(s,i,t,a,r[10],15,-1051523),a=si(a,s,i,t,r[1],21,-2054922799),t=si(t,a,s,i,r[8],6,1873313359),i=si(i,t,a,s,r[15],10,-30611744),s=si(s,i,t,a,r[6],15,-1560198380),a=si(a,s,i,t,r[13],21,1309151649),t=si(t,a,s,i,r[4],6,-145523070),i=si(i,t,a,s,r[11],10,-1120210379),s=si(s,i,t,a,r[2],15,718787259),a=si(a,s,i,t,r[9],21,-343485551),e[0]=ad(t,e[0]),e[1]=ad(a,e[1]),e[2]=ad(s,e[2]),e[3]=ad(i,e[3])}function Bx(e,r,t,a,s,i){return r=ad(ad(r,e),ad(a,i)),ad(r<<s|r>>>32-s,t)}function ri(e,r,t,a,s,i,o){return Bx(r&t|~r&a,e,r,s,i,o)}function ai(e,r,t,a,s,i,o){return Bx(r&a|t&~a,e,r,s,i,o)}function ni(e,r,t,a,s,i,o){return Bx(r^t^a,e,r,s,i,o)}function si(e,r,t,a,s,i,o){return Bx(t^(r|~a),e,r,s,i,o)}function n3(e){var r,t=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=e.length;r+=64)jw(a,MK(e.substring(r-64,r)));e=e.substring(r-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<e.length;r++)s[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(s[r>>2]|=128<<(r%4<<3),r>55)for(jw(a,s),r=0;r<16;r++)s[r]=0;return s[14]=8*t,jw(a,s),a}function MK(e){var r,t=[];for(r=0;r<64;r+=4)t[r>>2]=e.charCodeAt(r)+(e.charCodeAt(r+1)<<8)+(e.charCodeAt(r+2)<<16)+(e.charCodeAt(r+3)<<24);return t}var DB="0123456789abcdef".split("");function OK(e){for(var r="",t=0;t<4;t++)r+=DB[e>>8*t+4&15]+DB[e>>8*t&15];return r}function HK(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function $y(e){return n3(e).map(HK).join("")}var $K=(function(e){for(var r=0;r<e.length;r++)e[r]=OK(e[r]);return e.join("")})(n3("hello"))!="5d41402abc4b2a76b9719d911017c592";function ad(e,r){if($K){var t=(65535&e)+(65535&r);return(e>>16)+(r>>16)+(t>>16)<<16|65535&t}return e+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ky(e,r){var t,a,s,i;if(e!==t){for(var o=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),l=[],A=0;A<256;A++)l[A]=A;var d=0;for(A=0;A<256;A++){var f=l[A];d=(d+f+o.charCodeAt(A))%256,l[A]=l[d],l[d]=f}t=e,a=l}else l=a;var h=r.length,m=0,p=0,x="";for(A=0;A<h;A++)p=(p+(f=l[m=(m+1)%256]))%256,l[m]=l[p],l[p]=f,o=l[(l[m]+l[p])%256],x+=String.fromCharCode(r.charCodeAt(A)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var UB={print:4,modify:8,copy:16,"annot-forms":32};function xf(e,r,t,a){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(UB.perm!==void 0)throw new Error("Invalid permission: "+l);s+=UB[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(r+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=$y(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=Ky(this.encryptionKey,this.padding)}function vf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var r="",t=e.length,a=0;a<t;a++){var s=e.charCodeAt(a);r+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[a]}return r}function LB(e){if($a(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(t,a,s){if(s=s||!1,typeof t!="string"||typeof a!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(t)||(r[t]={});var i=Math.random().toString(35);return r[t][i]=[a,!!s],i},this.unsubscribe=function(t){for(var a in r)if(r[a][t])return delete r[a][t],Object.keys(r[a]).length===0&&delete r[a],!0;return!1},this.publish=function(t){if(r.hasOwnProperty(t)){var a=Array.prototype.slice.call(arguments,1),s=[];for(var i in r[t]){var o=r[t][i];try{o[0].apply(e,a)}catch(l){Fr.console&&Za.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function j0(e){if(!(this instanceof j0))return new j0(e);var r="opacity,stroke-opacity".split(",");for(var t in e)e.hasOwnProperty(t)&&r.indexOf(t)>=0&&(this[t]=e[t]);this.id="",this.objectNumber=-1}function s3(e,r){this.gState=e,this.matrix=r,this.id="",this.objectNumber=-1}function eu(e,r,t,a,s){if(!(this instanceof eu))return new eu(e,r,t,a,s);this.type=e==="axial"?2:3,this.coords=r,this.colors=t,s3.call(this,a,s)}function bf(e,r,t,a,s){if(!(this instanceof bf))return new bf(e,r,t,a,s);this.boundingBox=e,this.xStep=r,this.yStep=t,this.stream="",this.cloneIndex=0,s3.call(this,a,s)}function or(e){var r,t=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,A=16,d="S",f=null;$a(e=e||{})==="object"&&(t=e.orientation,a=e.unit||a,s=e.format||s,i=e.compress||e.compressPdf||i,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(r=e.precision),e.floatPrecision!==void 0&&(A=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),a=a||"mm",t=(""+(t||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=LB;var x="1.3",g=p.__private__.getPdfVersion=function(){return x};p.__private__.setPdfVersion=function(I){x=I};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return w};var j=p.__private__.getPageFormat=function(I){return w[I]};s=s||"a4";var N="compat",C="advanced",E=N;function Q(){this.saveGraphicsState(),Ae(new Xt(Et,0,0,-Et,0,Ui()*Et).toString()+" cm"),this.setFontSize(this.getFontSize()/Et),d="n",E=C}function U(){this.restoreGraphicsState(),d="S",E=N}var F=p.__private__.combineFontStyleAndFontWeight=function(I,ne){if(I=="bold"&&ne=="normal"||I=="bold"&&ne==400||I=="normal"&&ne=="italic"||I=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(I=ne==400||ne==="normal"?I==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||I!=="normal"?(ne==700?"bold":ne)+""+I:"bold"),I};p.advancedAPI=function(I){var ne=E===N;return ne&&Q.call(this),typeof I!="function"||(I(this),ne&&U.call(this)),this},p.compatAPI=function(I){var ne=E===C;return ne&&U.call(this),typeof I!="function"||(I(this),ne&&Q.call(this)),this},p.isAdvancedAPI=function(){return E===C};var L,_=function(I){if(E!==C)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=p.roundToPrecision=p.__private__.roundToPrecision=function(I,ne){var ge=r||ne;if(isNaN(I)||isNaN(ge))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(ge).replace(/0+$/,"")};L=p.hpf=p.__private__.hpf=typeof A=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return q(I,A)}:A==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return q(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return q(I,16)};var R=p.f2=p.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return q(I,2)},H=p.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return q(I,3)},J=p.scale=p.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return E===N?I*Et:E===C?I:void 0},T=function(I){return J((function(ne){return E===N?Ui()-ne:E===C?ne:void 0})(I))};p.__private__.setPrecision=p.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(r=parseInt(I,10))};var re,z="00000000000000000000000000000000",G=p.__private__.getFileId=function(){return z},V=p.__private__.setFileId=function(I){return z=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(aa=new xf(f.userPermissions,f.userPassword,f.ownerPassword,z)),z};p.setFileId=function(I){return V(I),this},p.getFileId=function(){return G()};var ee=p.__private__.convertDateToPDFDate=function(I){var ne=I.getTimezoneOffset(),ge=ne<0?"+":"-",be=Math.floor(Math.abs(ne/60)),Ee=Math.abs(ne%60),Je=[ge,te(be),"'",te(Ee),"'"].join("");return["D:",I.getFullYear(),te(I.getMonth()+1),te(I.getDate()),te(I.getHours()),te(I.getMinutes()),te(I.getSeconds()),Je].join("")},ce=p.__private__.convertPDFDateToDate=function(I){var ne=parseInt(I.substr(2,4),10),ge=parseInt(I.substr(6,2),10)-1,be=parseInt(I.substr(8,2),10),Ee=parseInt(I.substr(10,2),10),Je=parseInt(I.substr(12,2),10),ot=parseInt(I.substr(14,2),10);return new Date(ne,ge,be,Ee,Je,ot,0)},k=p.__private__.setCreationDate=function(I){var ne;if(I===void 0&&(I=new Date),I instanceof Date)ne=ee(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=I}return re=ne},D=p.__private__.getCreationDate=function(I){var ne=re;return I==="jsDate"&&(ne=ce(re)),ne};p.setCreationDate=function(I){return k(I),this},p.getCreationDate=function(I){return D(I)};var K,te=p.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},Y=p.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},X=0,O=[],Z=[],oe=0,pe=[],xe=[],_e=!1,Fe=Z;p.__private__.setCustomOutputDestination=function(I){_e=!0,Fe=I};var he=function(I){_e||(Fe=I)};p.__private__.resetCustomOutputDestination=function(){_e=!1,Fe=Z};var Ae=p.__private__.out=function(I){return I=I.toString(),oe+=I.length+1,Fe.push(I),Fe},ct=p.__private__.write=function(I){return Ae(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},gt=p.__private__.getArrayBuffer=function(I){for(var ne=I.length,ge=new ArrayBuffer(ne),be=new Uint8Array(ge);ne--;)be[ne]=I.charCodeAt(ne);return ge},pt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return pt};var Se=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(I){return Se=E===C?I/Et:I,this};var it,Ke=p.__private__.getFontSize=p.getFontSize=function(){return E===N?Se:Se*Et},Ct=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(I){return Ct=I,this},p.__private__.getR2L=p.getR2L=function(){return Ct};var jt,ur=p.__private__.setZoomMode=function(I){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))it=I;else if(isNaN(I)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');it=I}else it=parseInt(I,10)};p.__private__.getZoomMode=function(){return it};var Mt,zt=p.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');jt=I};p.__private__.getPageMode=function(){return jt};var Or=p.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');Mt=I};p.__private__.getLayoutMode=function(){return Mt},p.__private__.setDisplayMode=p.setDisplayMode=function(I,ne,ge){return ur(I),Or(ne),zt(ge),this};var $t={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(I){if(Object.keys($t).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return $t[I]},p.__private__.getDocumentProperties=function(){return $t},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(I){for(var ne in $t)$t.hasOwnProperty(ne)&&I[ne]&&($t[ne]=I[ne]);return this},p.__private__.setDocumentProperty=function(I,ne){if(Object.keys($t).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return $t[I]=ne};var _t,Et,Dt,ia,Qr,Ot={},wr={},Dr=[],wt={},hr={},ir={},Ht={},ka=null,et=0,Xe=[],nt=new LB(p),_r=e.hotfixes||[],vt={},Zt={},oa=[],Xt=function I(ne,ge,be,Ee,Je,ot){if(!(this instanceof I))return new I(ne,ge,be,Ee,Je,ot);isNaN(ne)&&(ne=1),isNaN(ge)&&(ge=0),isNaN(be)&&(be=0),isNaN(Ee)&&(Ee=1),isNaN(Je)&&(Je=0),isNaN(ot)&&(ot=0),this._matrix=[ne,ge,be,Ee,Je,ot]};Object.defineProperty(Xt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Xt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Xt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Xt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Xt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Xt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Xt.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Xt.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Xt.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Xt.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Xt.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Xt.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Xt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Xt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Xt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Xt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Xt.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(I)},Xt.prototype.multiply=function(I){var ne=I.sx*this.sx+I.shy*this.shx,ge=I.sx*this.shy+I.shy*this.sy,be=I.shx*this.sx+I.sy*this.shx,Ee=I.shx*this.shy+I.sy*this.sy,Je=I.tx*this.sx+I.ty*this.shx+this.tx,ot=I.tx*this.shy+I.ty*this.sy+this.ty;return new Xt(ne,ge,be,Ee,Je,ot)},Xt.prototype.decompose=function(){var I=this.sx,ne=this.shy,ge=this.shx,be=this.sy,Ee=this.tx,Je=this.ty,ot=Math.sqrt(I*I+ne*ne),qt=(I/=ot)*ge+(ne/=ot)*be;ge-=I*qt,be-=ne*qt;var tr=Math.sqrt(ge*ge+be*be);return qt/=tr,I*(be/=tr)<ne*(ge/=tr)&&(I=-I,ne=-ne,qt=-qt,ot=-ot),{scale:new Xt(ot,0,0,tr,0,0),translate:new Xt(1,0,0,1,Ee,Je),rotate:new Xt(I,ne,-ne,I,0,0),skew:new Xt(1,0,qt,1,0,0)}},Xt.prototype.toString=function(I){return this.join(" ")},Xt.prototype.inversed=function(){var I=this.sx,ne=this.shy,ge=this.shx,be=this.sy,Ee=this.tx,Je=this.ty,ot=1/(I*be-ne*ge),qt=be*ot,tr=-ne*ot,Br=-ge*ot,Cr=I*ot;return new Xt(qt,tr,Br,Cr,-qt*Ee-Br*Je,-tr*Ee-Cr*Je)},Xt.prototype.applyToPoint=function(I){var ne=I.x*this.sx+I.y*this.shx+this.tx,ge=I.x*this.shy+I.y*this.sy+this.ty;return new bo(ne,ge)},Xt.prototype.applyToRectangle=function(I){var ne=this.applyToPoint(I),ge=this.applyToPoint(new bo(I.x+I.w,I.y+I.h));return new jc(ne.x,ne.y,ge.x-ne.x,ge.y-ne.y)},Xt.prototype.clone=function(){var I=this.sx,ne=this.shy,ge=this.shx,be=this.sy,Ee=this.tx,Je=this.ty;return new Xt(I,ne,ge,be,Ee,Je)},p.Matrix=Xt;var Nn=p.matrixMult=function(I,ne){return ne.multiply(I)},gs=new Xt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=gs;var hn=function(I,ne){if(!hr[I]){var ge=(ne instanceof eu?"Sh":"P")+(Object.keys(wt).length+1).toString(10);ne.id=ge,hr[I]=ge,wt[ge]=ne,nt.publish("addPattern",ne)}};p.ShadingPattern=eu,p.TilingPattern=bf,p.addShadingPattern=function(I,ne){return _("addShadingPattern()"),hn(I,ne),this},p.beginTilingPattern=function(I){_("beginTilingPattern()"),Fi(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},p.endTilingPattern=function(I,ne){_("endTilingPattern()"),ne.stream=xe[K].join(`
`),hn(I,ne),nt.publish("endTilingPattern",ne),oa.pop().restore()};var is,dt=p.__private__.newObject=function(){var I=za();return Ya(I,!0),I},za=p.__private__.newObjectDeferred=function(){return X++,O[X]=function(){return oe},X},Ya=function(I,ne){return ne=typeof ne=="boolean"&&ne,O[I]=oe,ne&&Ae(I+" 0 obj"),I},Ns=p.__private__.newAdditionalObject=function(){var I={objId:za(),content:""};return pe.push(I),I},fi=za(),Xa=za(),Oe=p.__private__.decodeColorString=function(I){var ne=I.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length!==5||ne[4]!=="k"&&ne[4]!=="K"||(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var ge=parseFloat(ne[0]);ne=[ge,ge,ge,"r"]}for(var be="#",Ee=0;Ee<3;Ee++)be+=("0"+Math.floor(255*parseFloat(ne[Ee])).toString(16)).slice(-2);return be},Ze=p.__private__.encodeColorString=function(I){var ne;typeof I=="string"&&(I={ch1:I});var ge=I.ch1,be=I.ch2,Ee=I.ch3,Je=I.ch4,ot=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ge=="string"&&ge.charAt(0)!=="#"){var qt=new a3(ge);if(qt.ok)ge=qt.toHex();else if(!/^\d*\.?\d*$/.test(ge))throw new Error('Invalid color "'+ge+'" passed to jsPDF.encodeColorString.')}if(typeof ge=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ge)&&(ge="#"+ge[1]+ge[1]+ge[2]+ge[2]+ge[3]+ge[3]),typeof ge=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ge)){var tr=parseInt(ge.substr(1),16);ge=tr>>16&255,be=tr>>8&255,Ee=255&tr}if(be===void 0||Je===void 0&&ge===be&&be===Ee)ne=typeof ge=="string"?ge+" "+ot[0]:I.precision===2?R(ge/255)+" "+ot[0]:H(ge/255)+" "+ot[0];else if(Je===void 0||$a(Je)==="object"){if(Je&&!isNaN(Je.a)&&Je.a===0)return["1.","1.","1.",ot[1]].join(" ");ne=typeof ge=="string"?[ge,be,Ee,ot[1]].join(" "):I.precision===2?[R(ge/255),R(be/255),R(Ee/255),ot[1]].join(" "):[H(ge/255),H(be/255),H(Ee/255),ot[1]].join(" ")}else ne=typeof ge=="string"?[ge,be,Ee,Je,ot[2]].join(" "):I.precision===2?[R(ge),R(be),R(Ee),R(Je),ot[2]].join(" "):[H(ge),H(be),H(Ee),H(Je),ot[2]].join(" ");return ne},St=p.__private__.getFilters=function(){return o},st=p.__private__.putStream=function(I){var ne=(I=I||{}).data||"",ge=I.filters||St(),be=I.alreadyAppliedFilters||[],Ee=I.addLength1||!1,Je=ne.length,ot=I.objectId,qt=function(Kn){return Kn};if(f!==null&&ot===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(qt=aa.encryptor(ot,0));var tr={};ge===!0&&(ge=["FlateEncode"]);var Br=I.additionalKeyValues||[],Cr=(tr=or.API.processDataByFilters!==void 0?or.API.processDataByFilters(ne,ge):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(be)?be.join(" "):be.toString());if(tr.data.length!==0&&(Br.push({key:"Length",value:tr.data.length}),Ee===!0&&Br.push({key:"Length1",value:Je})),Cr.length!=0)if(Cr.split("/").length-1==1)Br.push({key:"Filter",value:Cr});else{Br.push({key:"Filter",value:"["+Cr+"]"});for(var pa=0;pa<Br.length;pa+=1)if(Br[pa].key==="DecodeParms"){for(var An=[],In=0;In<tr.reverseChain.split("/").length-1;In+=1)An.push("null");An.push(Br[pa].value),Br[pa].value="["+An.join(" ")+"]"}}Ae("<<");for(var Va=0;Va<Br.length;Va++)Ae("/"+Br[Va].key+" "+Br[Va].value);Ae(">>"),tr.data.length!==0&&(Ae("stream"),Ae(qt(tr.data)),Ae("endstream"))},Nt=p.__private__.putPage=function(I){var ne=I.number,ge=I.data,be=I.objId,Ee=I.contentsObjId;Ya(be,!0),Ae("<</Type /Page"),Ae("/Parent "+I.rootDictionaryObjId+" 0 R"),Ae("/Resources "+I.resourceDictionaryObjId+" 0 R"),Ae("/MediaBox ["+parseFloat(L(I.mediaBox.bottomLeftX))+" "+parseFloat(L(I.mediaBox.bottomLeftY))+" "+L(I.mediaBox.topRightX)+" "+L(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&Ae("/CropBox ["+L(I.cropBox.bottomLeftX)+" "+L(I.cropBox.bottomLeftY)+" "+L(I.cropBox.topRightX)+" "+L(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&Ae("/BleedBox ["+L(I.bleedBox.bottomLeftX)+" "+L(I.bleedBox.bottomLeftY)+" "+L(I.bleedBox.topRightX)+" "+L(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&Ae("/TrimBox ["+L(I.trimBox.bottomLeftX)+" "+L(I.trimBox.bottomLeftY)+" "+L(I.trimBox.topRightX)+" "+L(I.trimBox.topRightY)+"]"),I.artBox!==null&&Ae("/ArtBox ["+L(I.artBox.bottomLeftX)+" "+L(I.artBox.bottomLeftY)+" "+L(I.artBox.topRightX)+" "+L(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&Ae("/UserUnit "+I.userUnit),nt.publish("putPage",{objId:be,pageContext:Xe[ne],pageNumber:ne,page:ge}),Ae("/Contents "+Ee+" 0 R"),Ae(">>"),Ae("endobj");var Je=ge.join(`
`);return E===C&&(Je+=`
Q`),Ya(Ee,!0),st({data:Je,filters:St(),objectId:Ee}),Ae("endobj"),be},cr=p.__private__.putPages=function(){var I,ne,ge=[];for(I=1;I<=et;I++)Xe[I].objId=za(),Xe[I].contentsObjId=za();for(I=1;I<=et;I++)ge.push(Nt({number:I,data:xe[I],objId:Xe[I].objId,contentsObjId:Xe[I].contentsObjId,mediaBox:Xe[I].mediaBox,cropBox:Xe[I].cropBox,bleedBox:Xe[I].bleedBox,trimBox:Xe[I].trimBox,artBox:Xe[I].artBox,userUnit:Xe[I].userUnit,rootDictionaryObjId:fi,resourceDictionaryObjId:Xa}));Ya(fi,!0),Ae("<</Type /Pages");var be="/Kids [";for(ne=0;ne<et;ne++)be+=ge[ne]+" 0 R ";Ae(be+"]"),Ae("/Count "+et),Ae(">>"),Ae("endobj"),nt.publish("postPutPages")},Ar=function(I){nt.publish("putFont",{font:I,out:Ae,newObject:dt,putStream:st}),I.isAlreadyPutted!==!0&&(I.objectNumber=dt(),Ae("<<"),Ae("/Type /Font"),Ae("/BaseFont /"+vf(I.postScriptName)),Ae("/Subtype /Type1"),typeof I.encoding=="string"&&Ae("/Encoding /"+I.encoding),Ae("/FirstChar 32"),Ae("/LastChar 255"),Ae(">>"),Ae("endobj"))},Hr=function(I){I.objectNumber=dt();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[L(I.x),L(I.y),L(I.x+I.width),L(I.y+I.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var ge=I.pages[1].join(`
`);st({data:ge,additionalKeyValues:ne,objectId:I.objectNumber}),Ae("endobj")},Yr=function(I,ne){ne||(ne=21);var ge=dt(),be=(function(ot,qt){var tr,Br=[],Cr=1/(qt-1);for(tr=0;tr<1;tr+=Cr)Br.push(tr);if(Br.push(1),ot[0].offset!=0){var pa={offset:0,color:ot[0].color};ot.unshift(pa)}if(ot[ot.length-1].offset!=1){var An={offset:1,color:ot[ot.length-1].color};ot.push(An)}for(var In="",Va=0,Kn=0;Kn<Br.length;Kn++){for(tr=Br[Kn];tr>ot[Va+1].offset;)Va++;var Sn=ot[Va].offset,xs=(tr-Sn)/(ot[Va+1].offset-Sn),Li=ot[Va].color,qs=ot[Va+1].color;In+=Y(Math.round((1-xs)*Li[0]+xs*qs[0]).toString(16))+Y(Math.round((1-xs)*Li[1]+xs*qs[1]).toString(16))+Y(Math.round((1-xs)*Li[2]+xs*qs[2]).toString(16))}return In.trim()})(I.colors,ne),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+ne+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),st({data:be,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ge}),Ae("endobj"),I.objectNumber=dt(),Ae("<< /ShadingType "+I.type),Ae("/ColorSpace /DeviceRGB");var Je="/Coords ["+L(parseFloat(I.coords[0]))+" "+L(parseFloat(I.coords[1]))+" ";I.type===2?Je+=L(parseFloat(I.coords[2]))+" "+L(parseFloat(I.coords[3])):Je+=L(parseFloat(I.coords[2]))+" "+L(parseFloat(I.coords[3]))+" "+L(parseFloat(I.coords[4]))+" "+L(parseFloat(I.coords[5])),Ae(Je+="]"),I.matrix&&Ae("/Matrix ["+I.matrix.toString()+"]"),Ae("/Function "+ge+" 0 R"),Ae("/Extend [true true]"),Ae(">>"),Ae("endobj")},Qt=function(I,ne){var ge=za(),be=dt();ne.push({resourcesOid:ge,objectOid:be}),I.objectNumber=be;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+I.boundingBox.map(L).join(" ")+"]"}),Ee.push({key:"XStep",value:L(I.xStep)}),Ee.push({key:"YStep",value:L(I.yStep)}),Ee.push({key:"Resources",value:ge+" 0 R"}),I.matrix&&Ee.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),st({data:I.stream,additionalKeyValues:Ee,objectId:I.objectNumber}),Ae("endobj")},ja=function(I){for(var ne in I.objectNumber=dt(),Ae("<<"),I)switch(ne){case"opacity":Ae("/ca "+R(I[ne]));break;case"stroke-opacity":Ae("/CA "+R(I[ne]))}Ae(">>"),Ae("endobj")},er=function(I){Ya(I.resourcesOid,!0),Ae("<<"),Ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ne in Ae("/Font <<"),Ot)Ot.hasOwnProperty(ne)&&(h===!1||h===!0&&m.hasOwnProperty(ne))&&Ae("/"+ne+" "+Ot[ne].objectNumber+" 0 R");Ae(">>")})(),(function(){if(Object.keys(wt).length>0){for(var ne in Ae("/Shading <<"),wt)wt.hasOwnProperty(ne)&&wt[ne]instanceof eu&&wt[ne].objectNumber>=0&&Ae("/"+ne+" "+wt[ne].objectNumber+" 0 R");nt.publish("putShadingPatternDict"),Ae(">>")}})(),(function(ne){if(Object.keys(wt).length>0){for(var ge in Ae("/Pattern <<"),wt)wt.hasOwnProperty(ge)&&wt[ge]instanceof p.TilingPattern&&wt[ge].objectNumber>=0&&wt[ge].objectNumber<ne&&Ae("/"+ge+" "+wt[ge].objectNumber+" 0 R");nt.publish("putTilingPatternDict"),Ae(">>")}})(I.objectOid),(function(){if(Object.keys(ir).length>0){var ne;for(ne in Ae("/ExtGState <<"),ir)ir.hasOwnProperty(ne)&&ir[ne].objectNumber>=0&&Ae("/"+ne+" "+ir[ne].objectNumber+" 0 R");nt.publish("putGStateDict"),Ae(">>")}})(),(function(){for(var ne in Ae("/XObject <<"),vt)vt.hasOwnProperty(ne)&&vt[ne].objectNumber>=0&&Ae("/"+ne+" "+vt[ne].objectNumber+" 0 R");nt.publish("putXobjectDict"),Ae(">>")})(),Ae(">>"),Ae("endobj")},Na=function(I){wr[I.fontName]=wr[I.fontName]||{},wr[I.fontName][I.fontStyle]=I.id},Rr=function(I,ne,ge,be,Ee){var Je={id:"F"+(Object.keys(Ot).length+1).toString(10),postScriptName:I,fontName:ne,fontStyle:ge,encoding:be,isStandardFont:Ee||!1,metadata:{}};return nt.publish("addFont",{font:Je,instance:this}),Ot[Je.id]=Je,Na(Je),Je.id},Ur=p.__private__.pdfEscape=p.pdfEscape=function(I,ne){return(function(ge,be){var Ee,Je,ot,qt,tr,Br,Cr,pa,An;if(ot=(be=be||{}).sourceEncoding||"Unicode",tr=be.outputEncoding,(be.autoencode||tr)&&Ot[_t].metadata&&Ot[_t].metadata[ot]&&Ot[_t].metadata[ot].encoding&&(qt=Ot[_t].metadata[ot].encoding,!tr&&Ot[_t].encoding&&(tr=Ot[_t].encoding),!tr&&qt.codePages&&(tr=qt.codePages[0]),typeof tr=="string"&&(tr=qt[tr]),tr)){for(Cr=!1,Br=[],Ee=0,Je=ge.length;Ee<Je;Ee++)(pa=tr[ge.charCodeAt(Ee)])?Br.push(String.fromCharCode(pa)):Br.push(ge[Ee]),Br[Ee].charCodeAt(0)>>8&&(Cr=!0);ge=Br.join("")}for(Ee=ge.length;Cr===void 0&&Ee!==0;)ge.charCodeAt(Ee-1)>>8&&(Cr=!0),Ee--;if(!Cr)return ge;for(Br=be.noBOM?[]:[254,255],Ee=0,Je=ge.length;Ee<Je;Ee++){if((An=(pa=ge.charCodeAt(Ee))>>8)>>8)throw new Error("Character at position "+Ee+" of string '"+ge+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Br.push(An),Br.push(pa-(An<<8))}return String.fromCharCode.apply(void 0,Br)})(I,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vt=p.__private__.beginPage=function(I){xe[++et]=[],Xe[et]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},Rs(et),he(xe[K])},Vr=function(I,ne){var ge,be,Ee;switch(t=ne||t,typeof I=="string"&&(ge=j(I.toLowerCase()),Array.isArray(ge)&&(be=ge[0],Ee=ge[1])),Array.isArray(I)&&(be=I[0]*Et,Ee=I[1]*Et),isNaN(be)&&(be=s[0],Ee=s[1]),(be>14400||Ee>14400)&&(Za.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),be=Math.min(14400,be),Ee=Math.min(14400,Ee)),s=[be,Ee],t.substr(0,1)){case"l":Ee>be&&(s=[Ee,be]);break;case"p":be>Ee&&(s=[Ee,be])}Vt(s),yc(Ei),Ae(bc),Bd!==0&&Ae(Bd+" J"),Cd!==0&&Ae(Cd+" j"),nt.publish("addPage",{pageNumber:et})},on=function(I){I>0&&I<=et&&(xe.splice(I,1),Xe.splice(I,1),et--,K>et&&(K=et),this.setPage(K))},Rs=function(I){I>0&&I<=et&&(K=I)},Bn=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return xe.length-1},Wo=function(I,ne,ge){var be,Ee=void 0;return ge=ge||{},I=I!==void 0?I:Ot[_t].fontName,ne=ne!==void 0?ne:Ot[_t].fontStyle,be=I.toLowerCase(),wr[be]!==void 0&&wr[be][ne]!==void 0?Ee=wr[be][ne]:wr[I]!==void 0&&wr[I][ne]!==void 0?Ee=wr[I][ne]:ge.disableWarning===!1&&Za.warn("Unable to look up font label for font '"+I+"', '"+ne+"'. Refer to getFontList() for available fonts."),Ee||ge.noFallback||(Ee=wr.times[ne])==null&&(Ee=wr.times.normal),Ee},Ba=p.__private__.putInfo=function(){var I=dt(),ne=function(be){return be};for(var ge in f!==null&&(ne=aa.encryptor(I,0)),Ae("<<"),Ae("/Producer ("+Ur(ne("jsPDF "+or.version))+")"),$t)$t.hasOwnProperty(ge)&&$t[ge]&&Ae("/"+ge.substr(0,1).toUpperCase()+ge.substr(1)+" ("+Ur(ne($t[ge]))+")");Ae("/CreationDate ("+Ur(ne(re))+")"),Ae(">>"),Ae("endobj")},Go=p.__private__.putCatalog=function(I){var ne=(I=I||{}).rootDictionaryObjId||fi;switch(dt(),Ae("<<"),Ae("/Type /Catalog"),Ae("/Pages "+ne+" 0 R"),it||(it="fullwidth"),it){case"fullwidth":Ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ae("/OpenAction [3 0 R /Fit]");break;case"original":Ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ge=""+it;ge.substr(ge.length-1)==="%"&&(it=parseInt(it)/100),typeof it=="number"&&Ae("/OpenAction [3 0 R /XYZ null null "+R(it)+"]")}switch(Mt||(Mt="continuous"),Mt){case"continuous":Ae("/PageLayout /OneColumn");break;case"single":Ae("/PageLayout /SinglePage");break;case"two":case"twoleft":Ae("/PageLayout /TwoColumnLeft");break;case"tworight":Ae("/PageLayout /TwoColumnRight")}jt&&Ae("/PageMode /"+jt),nt.publish("putCatalog"),Ae(">>"),Ae("endobj")},ln=p.__private__.putTrailer=function(){Ae("trailer"),Ae("<<"),Ae("/Size "+(X+1)),Ae("/Root "+X+" 0 R"),Ae("/Info "+(X-1)+" 0 R"),f!==null&&Ae("/Encrypt "+aa.oid+" 0 R"),Ae("/ID [ <"+z+"> <"+z+"> ]"),Ae(">>")},wc=p.__private__.putHeader=function(){Ae("%PDF-"+x),Ae("%")},xo=p.__private__.putXRef=function(){var I="0000000000";Ae("xref"),Ae("0 "+(X+1)),Ae("0000000000 65535 f ");for(var ne=1;ne<=X;ne++)typeof O[ne]=="function"?Ae((I+O[ne]()).slice(-10)+" 00000 n "):O[ne]!==void 0?Ae((I+O[ne]).slice(-10)+" 00000 n "):Ae("0000000000 00000 n ")},mt=p.__private__.buildDocument=function(){var I;X=0,oe=0,Z=[],O=[],pe=[],fi=za(),Xa=za(),he(Z),nt.publish("buildDocument"),wc(),cr(),(function(){nt.publish("putAdditionalObjects");for(var ge=0;ge<pe.length;ge++){var be=pe[ge];Ya(be.objId,!0),Ae(be.content),Ae("endobj")}nt.publish("postPutAdditionalObjects")})(),I=[],(function(){for(var ge in Ot)Ot.hasOwnProperty(ge)&&(h===!1||h===!0&&m.hasOwnProperty(ge))&&Ar(Ot[ge])})(),(function(){var ge;for(ge in ir)ir.hasOwnProperty(ge)&&ja(ir[ge])})(),(function(){for(var ge in vt)vt.hasOwnProperty(ge)&&Hr(vt[ge])})(),(function(ge){var be;for(be in wt)wt.hasOwnProperty(be)&&(wt[be]instanceof eu?Yr(wt[be]):wt[be]instanceof bf&&Qt(wt[be],ge))})(I),nt.publish("putResources"),I.forEach(er),er({resourcesOid:Xa,objectOid:Number.MAX_SAFE_INTEGER}),nt.publish("postPutResources"),f!==null&&(aa.oid=dt(),Ae("<<"),Ae("/Filter /Standard"),Ae("/V "+aa.v),Ae("/R "+aa.r),Ae("/U <"+aa.toHexString(aa.U)+">"),Ae("/O <"+aa.toHexString(aa.O)+">"),Ae("/P "+aa.P),Ae(">>"),Ae("endobj")),Ba(),Go();var ne=oe;return xo(),ln(),Ae("startxref"),Ae(""+ne),Ae("%%EOF"),he(xe[K]),Z.join(`
`)},We=p.__private__.getBlob=function(I){return new Blob([gt(I)],{type:"application/pdf"})},Xr=p.output=p.__private__.output=(is=function(I,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",I){case void 0:return mt();case"save":p.save(ne.filename);break;case"arraybuffer":return gt(mt());case"blob":return We(mt());case"bloburi":case"bloburl":if(Fr.URL!==void 0&&typeof Fr.URL.createObjectURL=="function")return Fr.URL&&Fr.URL.createObjectURL(We(mt()))||void 0;Za.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ge="",be=mt();try{ge=kB(be)}catch{ge=kB(unescape(encodeURIComponent(be)))}return"data:application/pdf;filename="+ne.filename+";base64,"+ge;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Fr)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&(Ee=ne.pdfObjectUrl,Je="");var ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+Je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",qt=Fr.open();return qt!==null&&qt.document.write(ot),qt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Fr)==="[object Window]"){var tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',Br=Fr.open();if(Br!==null){Br.document.write(tr);var Cr=this;Br.document.documentElement.querySelector("#pdfViewer").onload=function(){Br.document.title=ne.filename,Br.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Cr.output("bloburl"))}}return Br}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Fr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pa='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',An=Fr.open();if(An!==null&&(An.document.write(pa),An.document.title=ne.filename),An||typeof safari>"u")return An;break;case"datauri":case"dataurl":return Fr.document.location.href=this.output("datauristring",ne);default:return null}},is.foo=function(){try{return is.apply(this,arguments)}catch(ge){var I=ge.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var ne="Error in function "+I.split(`
`)[0].split("<")[0]+": "+ge.message;if(!Fr.console)throw new Error(ne);Fr.console.error(ne,ge),Fr.alert&&alert(ne)}},is.foo.bar=is,is.foo),yt=function(I){return Array.isArray(_r)===!0&&_r.indexOf(I)>-1};switch(a){case"pt":Et=1;break;case"mm":Et=72/25.4;break;case"cm":Et=72/2.54;break;case"in":Et=72;break;case"px":Et=yt("px_scaling")==1?.75:96/72;break;case"pc":case"em":Et=12;break;case"ex":Et=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);Et=a}var aa=null;k(),V();var ma=p.__private__.getPageInfo=p.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Xe[I].objId,pageNumber:I,pageContext:Xe[I]}},Cn=p.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in Xe)if(Xe[ne].objId===I)break;return ma(ne)},Jr=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Xe[K].objId,pageNumber:K,pageContext:Xe[K]}};p.addPage=function(){return Vr.apply(this,arguments),this},p.setPage=function(){return Rs.apply(this,arguments),he.call(this,xe[K]),this},p.insertPage=function(I){return this.addPage(),this.movePage(K,I),this},p.movePage=function(I,ne){var ge,be;if(I>ne){ge=xe[I],be=Xe[I];for(var Ee=I;Ee>ne;Ee--)xe[Ee]=xe[Ee-1],Xe[Ee]=Xe[Ee-1];xe[ne]=ge,Xe[ne]=be,this.setPage(ne)}else if(I<ne){ge=xe[I],be=Xe[I];for(var Je=I;Je<ne;Je++)xe[Je]=xe[Je+1],Xe[Je]=Xe[Je+1];xe[ne]=ge,Xe[ne]=be,this.setPage(ne)}return this},p.deletePage=function(){return on.apply(this,arguments),this},p.__private__.text=p.text=function(I,ne,ge,be,Ee){var Je,ot,qt,tr,Br,Cr,pa,An,In,Va=(be=be||{}).scope||this;if(typeof I=="number"&&typeof ne=="number"&&(typeof ge=="string"||Array.isArray(ge))){var Kn=ge;ge=ne,ne=I,I=Kn}if(arguments[3]instanceof Xt==0?(qt=arguments[4],tr=arguments[5],$a(pa=arguments[3])==="object"&&pa!==null||(typeof qt=="string"&&(tr=qt,qt=null),typeof pa=="string"&&(tr=pa,pa=null),typeof pa=="number"&&(qt=pa,pa=null),be={flags:pa,angle:qt,align:tr})):(_("The transform parameter of text() with a Matrix value"),In=Ee),isNaN(ne)||isNaN(ge)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return Va;var Sn,xs="",Li=typeof be.lineHeightFactor=="number"?be.lineHeightFactor:Vs,qs=Va.internal.scaleFactor;function Du(ga){return ga=ga.split("	").join(Array(be.TabLen||9).join(" ")),Ur(ga,pa)}function El(ga){for(var Da,xn=ga.concat(),Pn=[],ro=xn.length;ro--;)typeof(Da=xn.shift())=="string"?Pn.push(Da):Array.isArray(ga)&&(Da.length===1||Da[1]===void 0&&Da[2]===void 0)?Pn.push(Da[0]):Pn.push([Da[0],Da[1],Da[2]]);return Pn}function Cc(ga,Da){var xn;if(typeof ga=="string")xn=Da(ga)[0];else if(Array.isArray(ga)){for(var Pn,ro,kd=ga.concat(),BA=[],nl=kd.length;nl--;)typeof(Pn=kd.shift())=="string"?BA.push(Da(Pn)[0]):Array.isArray(Pn)&&typeof Pn[0]=="string"&&(ro=Da(Pn[0],Pn[1],Pn[2]),BA.push([ro[0],ro[1],ro[2]]));xn=BA}return xn}var Fl=!1,Sc=!0;if(typeof I=="string")Fl=!0;else if(Array.isArray(I)){var kl=I.concat();ot=[];for(var _c,Cs=kl.length;Cs--;)(typeof(_c=kl.shift())!="string"||Array.isArray(_c)&&typeof _c[0]!="string")&&(Sc=!1);Fl=Sc}if(Fl===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var Ec=Se/Va.internal.scaleFactor,Fc=Ec*(Li-1);switch(be.baseline){case"bottom":ge-=Fc;break;case"top":ge+=Ec-Fc;break;case"hanging":ge+=Ec-2*Fc;break;case"middle":ge+=Ec/2-Fc}if((Cr=be.maxWidth||0)>0&&(typeof I=="string"?I=Va.splitTextToSize(I,Cr):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(ga,Da){return ga.concat(Va.splitTextToSize(Da,Cr))},[]))),Je={text:I,x:ne,y:ge,options:be,mutex:{pdfEscape:Ur,activeFontKey:_t,fonts:Ot,activeFontSize:Se}},nt.publish("preProcessText",Je),I=Je.text,qt=(be=Je.options).angle,In instanceof Xt==0&&qt&&typeof qt=="number"){qt*=Math.PI/180,be.rotationDirection===0&&(qt=-qt),E===C&&(qt=-qt);var Ed=Math.cos(qt),Fd=Math.sin(qt);In=new Xt(Ed,Fd,-Fd,Ed,0,0)}else qt&&qt instanceof Xt&&(In=qt);E!==C||In||(In=gs),(Br=be.charSpace||Zi)!==void 0&&(xs+=L(J(Br))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(An=be.horizontalScale)!==void 0&&(xs+=L(100*An)+` Tz
`),be.lang;var pn=-1,eo=be.renderingMode!==void 0?be.renderingMode:be.stroke,jo=Va.internal.getCurrentPageInfo().pageContext;switch(eo){case 0:case!1:case"fill":pn=0;break;case 1:case!0:case"stroke":pn=1;break;case 2:case"fillThenStroke":pn=2;break;case 3:case"invisible":pn=3;break;case 4:case"fillAndAddForClipping":pn=4;break;case 5:case"strokeAndAddPathForClipping":pn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":pn=6;break;case 7:case"addToPathForClipping":pn=7}var Uu=jo.usedRenderingMode!==void 0?jo.usedRenderingMode:-1;pn!==-1?xs+=pn+` Tr
`:Uu!==-1&&(xs+=`0 Tr
`),pn!==-1&&(jo.usedRenderingMode=pn),tr=be.align||"left";var mi,Dl=Se*Li,yA=Va.internal.pageSize.getWidth(),bA=Ot[_t];Br=be.charSpace||Zi,Cr=be.maxWidth||0,pa=Object.assign({autoencode:!0,noBOM:!0},be.flags);var el=[],Ii=function(ga){return Va.getStringUnitWidth(ga,{font:bA,charSpace:Br,fontSize:Se,doKerning:!1})*Se/qs};if(Object.prototype.toString.call(I)==="[object Array]"){var pi;ot=El(I),tr!=="left"&&(mi=ot.map(Ii));var gi,Ul=0;if(tr==="right"){ne-=mi[0],I=[],Cs=ot.length;for(var No=0;No<Cs;No++)No===0?(gi=hi(ne),pi=Xo(ge)):(gi=J(Ul-mi[No]),pi=-Dl),I.push([ot[No],gi,pi]),Ul=mi[No]}else if(tr==="center"){ne-=mi[0]/2,I=[],Cs=ot.length;for(var tl=0;tl<Cs;tl++)tl===0?(gi=hi(ne),pi=Xo(ge)):(gi=J((Ul-mi[tl])/2),pi=-Dl),I.push([ot[tl],gi,pi]),Ul=mi[tl]}else if(tr==="left"){I=[],Cs=ot.length;for(var rl=0;rl<Cs;rl++)I.push(ot[rl])}else if(tr==="justify"&&bA.encoding==="Identity-H"){I=[],Cs=ot.length,Cr=Cr!==0?Cr:yA;for(var Bo=0,_n=0;_n<Cs;_n++)if(pi=_n===0?Xo(ge):-Dl,gi=_n===0?hi(ne):Bo,_n<Cs-1){var kc=J((Cr-mi[_n])/(ot[_n].split(" ").length-1)),Co=ot[_n].split(" ");I.push([Co[0]+" ",gi,pi]),Bo=0;for(var to=1;to<Co.length;to++){var Dc=(Ii(Co[to-1]+" "+Co[to])-Ii(Co[to]))*qs+kc;to==Co.length-1?I.push([Co[to],Dc,0]):I.push([Co[to]+" ",Dc,0]),Bo-=Dc}}else I.push([ot[_n],gi,pi]);I.push(["",Bo,0])}else{if(tr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],Cs=ot.length,Cr=Cr!==0?Cr:yA,_n=0;_n<Cs;_n++){pi=_n===0?Xo(ge):-Dl,gi=_n===0?hi(ne):0;var Uc=ot[_n].split(" ").length-1,jA=Uc>0?(Cr-mi[_n])/Uc:0;_n<Cs-1?el.push(L(J(jA))):el.push(0),I.push([ot[_n],gi,pi])}}}(typeof be.R2L=="boolean"?be.R2L:Ct)===!0&&(I=Cc(I,function(ga,Da,xn){return[ga.split("").reverse().join(""),Da,xn]})),Je={text:I,x:ne,y:ge,options:be,mutex:{pdfEscape:Ur,activeFontKey:_t,fonts:Ot,activeFontSize:Se}},nt.publish("postProcessText",Je),I=Je.text,Sn=Je.mutex.isHex||!1;var NA=Ot[_t].encoding;NA!=="WinAnsiEncoding"&&NA!=="StandardEncoding"||(I=Cc(I,function(ga,Da,xn){return[Du(ga),Da,xn]})),ot=El(I),I=[];for(var al,Ll,Il,Lc=Array.isArray(ot[0])?1:0,Pl="",Ic=function(ga,Da,xn){var Pn="";return xn instanceof Xt?(xn=typeof be.angle=="number"?Nn(xn,new Xt(1,0,0,1,ga,Da)):Nn(new Xt(1,0,0,1,ga,Da),xn),E===C&&(xn=Nn(new Xt(1,0,0,-1,0,0),xn)),Pn=xn.join(" ")+` Tm
`):Pn=L(ga)+" "+L(Da)+` Td
`,Pn},gn=0;gn<ot.length;gn++){switch(Pl="",Lc){case 1:Il=(Sn?"<":"(")+ot[gn][0]+(Sn?">":")"),al=parseFloat(ot[gn][1]),Ll=parseFloat(ot[gn][2]);break;case 0:Il=(Sn?"<":"(")+ot[gn]+(Sn?">":")"),al=hi(ne),Ll=Xo(ge)}el!==void 0&&el[gn]!==void 0&&(Pl=el[gn]+` Tw
`),gn===0?I.push(Pl+Ic(al,Ll,In)+Il):Lc===0?I.push(Pl+Il):Lc===1&&I.push(Pl+Ic(al,Ll,In)+Il)}I=Lc===0?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var Ws=`BT
/`;return Ws+=_t+" "+Se+` Tf
`,Ws+=L(Se*Li)+` TL
`,Ws+=Ji+`
`,Ws+=xs,Ws+=I,Ae(Ws+="ET"),m[_t]=!0,Va};var cn=p.__private__.clip=p.clip=function(I){return Ae(I==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return cn("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Ae("n"),this};var Ca=p.__private__.isValidStyle=function(I){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(ne=!0),ne};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(I){return Ca(I)&&(d=I),this};var Yi=p.__private__.getStyle=p.getStyle=function(I){var ne=d;switch(I){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=I}return ne},la=p.close=function(){return Ae("h"),this};p.stroke=function(){return Ae("S"),this},p.fill=function(I){return mn("f",I),this},p.fillEvenOdd=function(I){return mn("f*",I),this},p.fillStroke=function(I){return mn("B",I),this},p.fillStrokeEvenOdd=function(I){return mn("B*",I),this};var mn=function(I,ne){$a(ne)==="object"?_u(ne,I):Ae(I)},pA=function(I){I===null||E===C&&I===void 0||(I=Yi(I),Ae(I))};function jd(I,ne,ge,be,Ee){var Je=new bf(ne||this.boundingBox,ge||this.xStep,be||this.yStep,this.gState,Ee||this.matrix);Je.stream=this.stream;var ot=I+"$$"+this.cloneIndex+++"$$";return hn(ot,Je),Je}var _u=function(I,ne){var ge=hr[I.key],be=wt[ge];if(be instanceof eu)Ae("q"),Ae(Eu(ne)),be.gState&&p.setGState(be.gState),Ae(I.matrix.toString()+" cm"),Ae("/"+ge+" sh"),Ae("Q");else if(be instanceof bf){var Ee=new Xt(1,0,0,-1,0,Ui());I.matrix&&(Ee=Ee.multiply(I.matrix||gs),ge=jd.call(be,I.key,I.boundingBox,I.xStep,I.yStep,Ee).id),Ae("q"),Ae("/Pattern cs"),Ae("/"+ge+" scn"),be.gState&&p.setGState(be.gState),Ae(ne),Ae("Q")}},Eu=function(I){switch(I){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},gA=p.moveTo=function(I,ne){return Ae(L(J(I))+" "+L(T(ne))+" m"),this},Yo=p.lineTo=function(I,ne){return Ae(L(J(I))+" "+L(T(ne))+" l"),this},Xi=p.curveTo=function(I,ne,ge,be,Ee,Je){return Ae([L(J(I)),L(T(ne)),L(J(ge)),L(T(be)),L(J(Ee)),L(T(Je)),"c"].join(" ")),this};p.__private__.line=p.line=function(I,ne,ge,be,Ee){if(isNaN(I)||isNaN(ne)||isNaN(ge)||isNaN(be)||!Ca(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return E===N?this.lines([[ge-I,be-ne]],I,ne,[1,1],Ee||"S"):this.lines([[ge-I,be-ne]],I,ne,[1,1]).stroke()},p.__private__.lines=p.lines=function(I,ne,ge,be,Ee,Je){var ot,qt,tr,Br,Cr,pa,An,In,Va,Kn,Sn,xs;if(typeof I=="number"&&(xs=ge,ge=ne,ne=I,I=xs),be=be||[1,1],Je=Je||!1,isNaN(ne)||isNaN(ge)||!Array.isArray(I)||!Array.isArray(be)||!Ca(Ee)||typeof Je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(gA(ne,ge),ot=be[0],qt=be[1],Br=I.length,Kn=ne,Sn=ge,tr=0;tr<Br;tr++)(Cr=I[tr]).length===2?(Kn=Cr[0]*ot+Kn,Sn=Cr[1]*qt+Sn,Yo(Kn,Sn)):(pa=Cr[0]*ot+Kn,An=Cr[1]*qt+Sn,In=Cr[2]*ot+Kn,Va=Cr[3]*qt+Sn,Kn=Cr[4]*ot+Kn,Sn=Cr[5]*qt+Sn,Xi(pa,An,In,Va,Kn,Sn));return Je&&la(),pA(Ee),this},p.path=function(I){for(var ne=0;ne<I.length;ne++){var ge=I[ne],be=ge.c;switch(ge.op){case"m":gA(be[0],be[1]);break;case"l":Yo(be[0],be[1]);break;case"c":Xi.apply(this,be);break;case"h":la()}}return this},p.__private__.rect=p.rect=function(I,ne,ge,be,Ee){if(isNaN(I)||isNaN(ne)||isNaN(ge)||isNaN(be)||!Ca(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return E===N&&(be=-be),Ae([L(J(I)),L(T(ne)),L(J(ge)),L(J(be)),"re"].join(" ")),pA(Ee),this},p.__private__.triangle=p.triangle=function(I,ne,ge,be,Ee,Je,ot){if(isNaN(I)||isNaN(ne)||isNaN(ge)||isNaN(be)||isNaN(Ee)||isNaN(Je)||!Ca(ot))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ge-I,be-ne],[Ee-ge,Je-be],[I-Ee,ne-Je]],I,ne,[1,1],ot,!0),this},p.__private__.roundedRect=p.roundedRect=function(I,ne,ge,be,Ee,Je,ot){if(isNaN(I)||isNaN(ne)||isNaN(ge)||isNaN(be)||isNaN(Ee)||isNaN(Je)||!Ca(ot))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qt=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*ge),Je=Math.min(Je,.5*be),this.lines([[ge-2*Ee,0],[Ee*qt,0,Ee,Je-Je*qt,Ee,Je],[0,be-2*Je],[0,Je*qt,-Ee*qt,Je,-Ee,Je],[2*Ee-ge,0],[-Ee*qt,0,-Ee,-Je*qt,-Ee,-Je],[0,2*Je-be],[0,-Je*qt,Ee*qt,-Je,Ee,-Je]],I+Ee,ne,[1,1],ot,!0),this},p.__private__.ellipse=p.ellipse=function(I,ne,ge,be,Ee){if(isNaN(I)||isNaN(ne)||isNaN(ge)||isNaN(be)||!Ca(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Je=4/3*(Math.SQRT2-1)*ge,ot=4/3*(Math.SQRT2-1)*be;return gA(I+ge,ne),Xi(I+ge,ne-ot,I+Je,ne-be,I,ne-be),Xi(I-Je,ne-be,I-ge,ne-ot,I-ge,ne),Xi(I-ge,ne+ot,I-Je,ne+be,I,ne+be),Xi(I+Je,ne+be,I+ge,ne+ot,I+ge,ne),pA(Ee),this},p.__private__.circle=p.circle=function(I,ne,ge,be){if(isNaN(I)||isNaN(ne)||isNaN(ge)||!Ca(be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,ne,ge,ge,be)},p.setFont=function(I,ne,ge){return ge&&(ne=F(ne,ge)),_t=Wo(I,ne,{disableWarning:!1}),this};var vo=p.__private__.getFont=p.getFont=function(){return Ot[Wo.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var I,ne,ge={};for(I in wr)if(wr.hasOwnProperty(I))for(ne in ge[I]=[],wr[I])wr[I].hasOwnProperty(ne)&&ge[I].push(ne);return ge},p.addFont=function(I,ne,ge,be,Ee){var Je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Je.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&Je.indexOf(arguments[3])==-1&&(ge=F(ge,be)),Rr.call(this,I,ne,ge,Ee=Ee||"Identity-H")};var Vs,Ei=e.lineWidth||.200025,yr=p.__private__.getLineWidth=p.getLineWidth=function(){return Ei},yc=p.__private__.setLineWidth=p.setLineWidth=function(I){return Ei=I,Ae(L(J(I))+" w"),this};p.__private__.setLineDash=or.API.setLineDash=or.API.setLineDashPattern=function(I,ne){if(I=I||[],ne=ne||0,isNaN(ne)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(ge){return L(J(ge))}).join(" "),ne=L(J(ne)),Ae("["+I+"] "+ne+" d"),this};var wo=p.__private__.getLineHeight=p.getLineHeight=function(){return Se*Vs};p.__private__.getLineHeight=p.getLineHeight=function(){return Se*Vs};var nh=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(Vs=I),this},Fu=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Vs};nh(e.lineHeight);var hi=p.__private__.getHorizontalCoordinate=function(I){return J(I)},Xo=p.__private__.getVerticalCoordinate=function(I){return E===C?I:Xe[K].mediaBox.topRightY-Xe[K].mediaBox.bottomLeftY-J(I)},ku=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(I){return L(hi(I))},xA=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(I){return L(Xo(I))},bc=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Oe(bc)},p.__private__.setStrokeColor=p.setDrawColor=function(I,ne,ge,be){return bc=Ze({ch1:I,ch2:ne,ch3:ge,ch4:be,pdfColorType:"draw",precision:2}),Ae(bc),this};var Nd=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Oe(Nd)},p.__private__.setFillColor=p.setFillColor=function(I,ne,ge,be){return Nd=Ze({ch1:I,ch2:ne,ch3:ge,ch4:be,pdfColorType:"fill",precision:2}),Ae(Nd),this};var Ji=e.textColor||"0 g",yo=p.__private__.getTextColor=p.getTextColor=function(){return Oe(Ji)};p.__private__.setTextColor=p.setTextColor=function(I,ne,ge,be){return Ji=Ze({ch1:I,ch2:ne,ch3:ge,ch4:be,pdfColorType:"text",precision:3}),this};var Zi=e.charSpace,vA=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Zi||0)};p.__private__.setCharSpace=p.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Zi=I,this};var Bd=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(I){var ne=p.CapJoinStyles[I];if(ne===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bd=ne,Ae(ne+" J"),this};var Cd=0;p.__private__.setLineJoin=p.setLineJoin=function(I){var ne=p.CapJoinStyles[I];if(ne===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Cd=ne,Ae(ne+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ae(L(J(I))+" M"),this},p.GState=j0,p.setGState=function(I){(I=typeof I=="string"?ir[Ht[I]]:Jo(null,I)).equals(ka)||(Ae("/"+I.id+" gs"),ka=I)};var Jo=function(I,ne){if(!I||!Ht[I]){var ge=!1;for(var be in ir)if(ir.hasOwnProperty(be)&&ir[be].equals(ne)){ge=!0;break}if(ge)ne=ir[be];else{var Ee="GS"+(Object.keys(ir).length+1).toString(10);ir[Ee]=ne,ne.id=Ee}return I&&(Ht[I]=ne.id),nt.publish("addGState",ne),ne}};p.addGState=function(I,ne){return Jo(I,ne),this},p.saveGraphicsState=function(){return Ae("q"),Dr.push({key:_t,size:Se,color:Ji}),this},p.restoreGraphicsState=function(){Ae("Q");var I=Dr.pop();return _t=I.key,Se=I.size,Ji=I.color,ka=null,this},p.setCurrentTransformationMatrix=function(I){return Ae(I.toString()+" cm"),this},p.comment=function(I){return Ae("#"+I),this};var bo=function(I,ne){var ge=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ge},set:function(Je){isNaN(Je)||(ge=parseFloat(Je))}});var be=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return be},set:function(Je){isNaN(Je)||(be=parseFloat(Je))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function(Je){Ee=Je.toString()}}),this},jc=function(I,ne,ge,be){bo.call(this,I,ne),this.type="rect";var Ee=ge||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function(ot){isNaN(ot)||(Ee=parseFloat(ot))}});var Je=be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Je},set:function(ot){isNaN(ot)||(Je=parseFloat(ot))}}),this},Nc=function(){this.page=et,this.currentPage=K,this.pages=xe.slice(0),this.pagesContext=Xe.slice(0),this.x=Dt,this.y=ia,this.matrix=Qr,this.width=Bc(K),this.height=ki(K),this.outputDestination=Fe,this.id="",this.objectNumber=-1};Nc.prototype.restore=function(){et=this.page,K=this.currentPage,Xe=this.pagesContext,xe=this.pages,Dt=this.x,ia=this.y,Qr=this.matrix,Sd(K,this.width),Di(K,this.height),Fe=this.outputDestination};var Fi=function(I,ne,ge,be,Ee){oa.push(new Nc),et=K=0,xe=[],Dt=I,ia=ne,Qr=Ee,Vt([ge,be])};for(var Zo in p.beginFormObject=function(I,ne,ge,be,Ee){return Fi(I,ne,ge,be,Ee),this},p.endFormObject=function(I){return(function(ne){if(Zt[ne])oa.pop().restore();else{var ge=new Nc,be="Xo"+(Object.keys(vt).length+1).toString(10);ge.id=be,Zt[ne]=be,vt[be]=ge,nt.publish("addFormObject",ge),oa.pop().restore()}})(I),this},p.doFormObject=function(I,ne){var ge=vt[Zt[I]];return Ae("q"),Ae(ne.toString()+" cm"),Ae("/"+ge.id+" Do"),Ae("Q"),this},p.getFormObject=function(I){var ne=vt[Zt[I]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},p.save=function(I,ne){return I=I||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(Zd(We(mt()),I),typeof Zd.unload=="function"&&Fr.setTimeout&&setTimeout(Zd.unload,911),this):new Promise(function(ge,be){try{var Ee=Zd(We(mt()),I);typeof Zd.unload=="function"&&Fr.setTimeout&&setTimeout(Zd.unload,911),ge(Ee)}catch(Je){be(Je.message)}})},or.API)or.API.hasOwnProperty(Zo)&&(Zo==="events"&&or.API.events.length?(function(I,ne){var ge,be,Ee;for(Ee=ne.length-1;Ee!==-1;Ee--)ge=ne[Ee][0],be=ne[Ee][1],I.subscribe.apply(I,[ge].concat(typeof be=="function"?[be]:be))})(nt,or.API.events):p[Zo]=or.API[Zo]);function Bc(I){return Xe[I].mediaBox.topRightX-Xe[I].mediaBox.bottomLeftX}function Sd(I,ne){Xe[I].mediaBox.topRightX=ne+Xe[I].mediaBox.bottomLeftX}function ki(I){return Xe[I].mediaBox.topRightY-Xe[I].mediaBox.bottomLeftY}function Di(I,ne){Xe[I].mediaBox.topRightY=ne+Xe[I].mediaBox.bottomLeftY}var _d=p.getPageWidth=function(I){return Bc(I=I||K)/Et},Bs=p.setPageWidth=function(I,ne){Sd(I,ne*Et)},Ui=p.getPageHeight=function(I){return ki(I=I||K)/Et},wA=p.setPageHeight=function(I,ne){Di(I,ne*Et)};return p.internal={pdfEscape:Ur,getStyle:Yi,getFont:vo,getFontSize:Ke,getCharSpace:vA,getTextColor:yo,getLineHeight:wo,getLineHeightFactor:Fu,getLineWidth:yr,write:ct,getHorizontalCoordinate:hi,getVerticalCoordinate:Xo,getCoordinateString:ku,getVerticalCoordinateString:xA,collections:{},newObject:dt,newAdditionalObject:Ns,newObjectDeferred:za,newObjectDeferredBegin:Ya,getFilters:St,putStream:st,events:nt,scaleFactor:Et,pageSize:{getWidth:function(){return _d(K)},setWidth:function(I){Bs(K,I)},getHeight:function(){return Ui(K)},setHeight:function(I){wA(K,I)}},encryptionOptions:f,encryption:aa,getEncryptor:function(I){return f!==null?aa.encryptor(I,0):function(ne){return ne}},output:Xr,getNumberOfPages:Bn,pages:xe,out:Ae,f2:R,f3:H,getPageInfo:ma,getPageInfoByObjId:Cn,getCurrentPageInfo:Jr,getPDFVersion:g,Point:bo,Rectangle:jc,Matrix:Xt,hasHotfix:yt},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return _d(K)},set:function(I){Bs(K,I)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ui(K)},set:function(I){wA(K,I)},enumerable:!0,configurable:!0}),(function(I){for(var ne=0,ge=pt.length;ne<ge;ne++){var be=Rr.call(this,I[ne][0],I[ne][1],I[ne][2],pt[ne][3],!0);h===!1&&(m[be]=!0);var Ee=I[ne][0].split("-");Na({id:be,fontName:Ee[0],fontStyle:Ee[1]||""})}nt.publish("addFonts",{fonts:Ot,dictionary:wr})}).call(p,pt),_t="F1",Vr(s,t),nt.publish("initialized"),p}xf.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},xf.prototype.toHexString=function(e){return e.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},xf.prototype.hexToBytes=function(e){for(var r=[],t=0;t<e.length;t+=2)r.push(String.fromCharCode(parseInt(e.substr(t,2),16)));return r.join("")},xf.prototype.processOwnerPassword=function(e,r){return Ky($y(r).substr(0,5),e)},xf.prototype.encryptor=function(e,r){var t=$y(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&r,r>>8&255)).substr(0,10);return function(a){return Ky(t,a)}},j0.prototype.equals=function(e){var r,t="id,objectNumber,equals";if(!e||$a(e)!==$a(this))return!1;var a=0;for(r in this)if(!(t.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!e.hasOwnProperty(r)||this[r]!==e[r])return!1;a++}for(r in e)e.hasOwnProperty(r)&&t.indexOf(r)<0&&a--;return a===0},or.API={events:[]},or.version="3.0.3";var On=or.API,Nb=1,Su=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cf=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ir=function(e){return e.toFixed(2)},WA=function(e){return e.toFixed(5)};On.__acroform__={};var Gi=function(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e},IB=function(e){return e*Nb},Vl=function(e){var r=new o3,t=Yt.internal.getHeight(e)||0,a=Yt.internal.getWidth(e)||0;return r.BBox=[0,0,Number(Ir(a)),Number(Ir(t))],r},KK=On.__acroform__.setBit=function(e,r){if(e=e||0,r=r||0,isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<r},zK=On.__acroform__.clearBit=function(e,r){if(e=e||0,r=r||0,isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<r)},VK=On.__acroform__.getBit=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<r?1:0},Xn=On.__acroform__.getBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return VK(e,r-1)},Jn=On.__acroform__.setBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return KK(e,r-1)},Zn=On.__acroform__.clearBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return zK(e,r-1)},qK=On.__acroform__.calculateCoordinates=function(e,r){var t=r.internal.getHorizontalCoordinate,a=r.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],l=e[3],A={};return A.lowerLeft_X=t(s)||0,A.lowerLeft_Y=a(i+l)||0,A.upperRight_X=t(s+o)||0,A.upperRight_Y=a(i)||0,[Number(Ir(A.lowerLeft_X)),Number(Ir(A.lowerLeft_Y)),Number(Ir(A.upperRight_X)),Number(Ir(A.upperRight_Y))]},WK=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var r=[],t=e._V||e.DV,a=zy(e,t),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(e.scope.__private__.encodeColorString(e.color)),r.push("/"+s+" "+Ir(a.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC");var i=Vl(e);return i.scope=e.scope,i.stream=r.join(`
`),i}},zy=function(e,r){var t=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},s=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");s=e.multiline?s.map(function(R){return R.split(`
`)}):s.map(function(R){return[R]});var i=t,o=Yt.internal.getHeight(e)||0;o=o<0?-o:o;var l=Yt.internal.getWidth(e)||0;l=l<0?-l:l;var A=function(R,H,J){if(R+1<s.length){var T=H+" "+s[R+1][0];return Wp(T,e,J).width<=l-4}return!1};i++;e:for(;i>0;){r="",i--;var d,f,h=Wp("3",e,i).height,m=e.multiline?o-i:(o-h)/2,p=m+=2,x=0,g=0,w=0;if(i<=0){r=`(...) Tj
`,r+="% Width of Text: "+Wp(r,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var j="",N=0,C=0;C<s.length;C++)if(s.hasOwnProperty(C)){var E=!1;if(s[C].length!==1&&w!==s[C].length-1){if((h+2)*(N+2)+2>o)continue e;j+=s[C][w],E=!0,g=C,C--}else{j=(j+=s[C][w]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var Q=parseInt(C),U=A(Q,j,i),F=C>=s.length-1;if(U&&!F){j+=" ",w=0;continue}if(U||F){if(F)g=Q;else if(e.multiline&&(h+2)*(N+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(N+2)+2>o)continue e;g=Q}}for(var L="",_=x;_<=g;_++){var q=s[_];if(e.multiline){if(_===g){L+=q[w]+" ",w=(w+1)%q.length;continue}if(_===x){L+=q[q.length-1]+" ";continue}}L+=q[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,f=Wp(L,e,i).width,e.textAlign){case"right":d=l-f-2;break;case"center":d=(l-f)/2;break;default:d=2}r+=Ir(d)+" "+Ir(p)+` Td
`,r+="("+Su(L)+`) Tj
`,r+=-Ir(d)+` 0 Td
`,p=-(i+2),f=0,x=E?g:g+1,N++,j=""}break}return a.text=r,a.fontSize=i,a},Wp=function(e,r,t){var a=r.scope.internal.getFont(r.fontName,r.fontStyle),s=r.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:r.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},GK={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},YK=function(e,r){var t={type:"reference",object:e};r.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===t.type&&a.object===t.object})===void 0&&r.internal.getPageInfo(e.page).pageContext.annotations.push(t)},XK=function(e,r){if(r.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Cl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(GK)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Nb=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new l3,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in a)if(a.hasOwnProperty(s)){var i=a[s];i.objId=void 0,i.hasAnnotation&&YK(i,t)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(t){(function(a,s){var i=!a;for(var o in a||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(o)){var l=a[o],A=[],d=l.Rect;if(l.Rect&&(l.Rect=qK(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Yt.createDefaultAppearanceStream(l),$a(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(A=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=WK(l);A.push({key:"AP",value:"<</N "+f+">>"}),s.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var h="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var p=l.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var x=p[o];typeof x=="function"&&(x=x.call(s,l)),h+="/"+o+" "+x+" ",s.internal.acroformPlugin.xForms.indexOf(x)>=0||s.internal.acroformPlugin.xForms.push(x)}}else typeof(x=p)=="function"&&(x=x.call(s,l)),h+="/"+o+" "+x,s.internal.acroformPlugin.xForms.indexOf(x)>=0||s.internal.acroformPlugin.xForms.push(x);h+=">>"}A.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:A,objectId:l.objId}),s.internal.out("endobj")}i&&(function(g,w){for(var j in g)if(g.hasOwnProperty(j)){var N=j,C=g[j];w.internal.newObjectDeferredBegin(C.objId,!0),$a(C)==="object"&&typeof C.putStream=="function"&&C.putStream(),delete g[N]}})(s.internal.acroformPlugin.xForms,s)})(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},i3=On.__acroform__.arrayToPdfArray=function(e,r,t){var a=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),$a(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(r!==void 0&&t&&(a=t.internal.getEncryptor(r)),s+="("+Su(a(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Nw=function(e,r,t){var a=function(s){return s};return r!==void 0&&t&&(a=t.internal.getEncryptor(r)),(e=e||"").toString(),"("+Su(a(e))+")"},nc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};nc.prototype.toString=function(){return this.objId+" 0 R"},nc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},nc.prototype.getKeyValueListForStream=function(){var e=[],r=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in r)if(Object.getOwnPropertyDescriptor(this,r[t]).configurable===!1){var a=r[t],s=this[a];s&&(Array.isArray(s)?e.push({key:a,value:i3(s,this.objId,this.scope)}):s instanceof nc?(s.scope=this.scope,e.push({key:a,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:a,value:s}))}return e};var o3=function(){nc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Gi(o3,nc);var l3=function(){nc.call(this);var e,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(a){return a};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Su(t(e))+")"}},set:function(t){e=t}})};Gi(l3,nc);var Cl=function e(){nc.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');r=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xn(r,3)},set:function(j){j?this.F=Jn(r,3):this.F=Zn(r,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');t=j}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(j){a=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(j){a[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(j){a[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(j){a[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(j){a[3]=j}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof N0)return;i="FieldObject"+e.FieldNum++}var j=function(N){return N};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+Su(j(i))+")"},set:function(j){i=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(j){i=j}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(j){o=j}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(j){l=j}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(j){A=j}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Nb:d},set:function(j){d=j}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(j){f=j}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof N0||this instanceof Au))return Nw(h,this.objId,this.scope)},set:function(j){j=j.toString(),h=j}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Is==0?Nw(m,this.objId,this.scope):m},set:function(j){j=j.toString(),m=this instanceof Is==0?j.substr(0,1)==="("?cf(j.substr(1,j.length-2)):cf(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Is==1?cf(m.substr(1,m.length-1)):m},set:function(j){j=j.toString(),m=this instanceof Is==1?"/"+j:j}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Is==0?Nw(p,this.objId,this.scope):p},set:function(j){j=j.toString(),p=this instanceof Is==0?j.substr(0,1)==="("?cf(j.substr(1,j.length-2)):cf(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Is==1?cf(p.substr(1,p.length-1)):p},set:function(j){j=j.toString(),p=this instanceof Is==1?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(j){j=!!j,g=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(j){x=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,1)},set:function(j){j?this.Ff=Jn(this.Ff,1):this.Ff=Zn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,2)},set:function(j){j?this.Ff=Jn(this.Ff,2):this.Ff=Zn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,3)},set:function(j){j?this.Ff=Jn(this.Ff,3):this.Ff=Zn(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');w=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(w){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};Gi(Cl,nc);var kf=function(){Cl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return i3(r,this.objId,this.scope)},set:function(t){var a,s;s=[],typeof(a=t)=="string"&&(s=(function(i,o,l){l||(l=1);for(var A,d=[];A=o.exec(i);)d.push(A[l]);return d})(a,/\((.*?)\)/g)),r=s}}),this.getOptions=function(){return r},this.setOptions=function(t){r=t,this.sort&&r.sort()},this.addOption=function(t){t=(t=t||"").toString(),r.push(t),this.sort&&r.sort()},this.removeOption=function(t,a){for(a=a||!1,t=(t=t||"").toString();r.indexOf(t)!==-1&&(r.splice(r.indexOf(t),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,18)},set:function(t){t?this.Ff=Jn(this.Ff,18):this.Ff=Zn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Jn(this.Ff,19):this.Ff=Zn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,20)},set:function(t){t?(this.Ff=Jn(this.Ff,20),r.sort()):this.Ff=Zn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,22)},set:function(t){t?this.Ff=Jn(this.Ff,22):this.Ff=Zn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,23)},set:function(t){t?this.Ff=Jn(this.Ff,23):this.Ff=Zn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,27)},set:function(t){t?this.Ff=Jn(this.Ff,27):this.Ff=Zn(this.Ff,27)}}),this.hasAppearanceStream=!1};Gi(kf,Cl);var Df=function(){kf.call(this),this.fontName="helvetica",this.combo=!1};Gi(Df,kf);var Uf=function(){Df.call(this),this.combo=!0};Gi(Uf,Df);var Rg=function(){Uf.call(this),this.edit=!0};Gi(Rg,Uf);var Is=function(){Cl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,15)},set:function(t){t?this.Ff=Jn(this.Ff,15):this.Ff=Zn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,16)},set:function(t){t?this.Ff=Jn(this.Ff,16):this.Ff=Zn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,17)},set:function(t){t?this.Ff=Jn(this.Ff,17):this.Ff=Zn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,26)},set:function(t){t?this.Ff=Jn(this.Ff,26):this.Ff=Zn(this.Ff,26)}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+Su(t(r[a]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){$a(t)==="object"&&(r=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(t){typeof t=="string"&&(r.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Gi(Is,Cl);var Tg=function(){Is.call(this),this.pushButton=!0};Gi(Tg,Is);var Lf=function(){Is.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r!==void 0?r:[]}})};Gi(Lf,Is);var N0=function(){var e,r;Cl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(s){r=s}});var t,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),a)o.push("/"+i+" ("+Su(s(a[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){$a(s)==="object"&&(a=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(s){typeof s=="string"&&(a.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Yt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Gi(N0,Cl),Lf.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var t=this.Kids[r];t.appearanceStreamContent=e.createAppearanceStream(t.optionName),t.caption=e.getCA()}},Lf.prototype.createOption=function(e){var r=new N0;return r.Parent=this,r.optionName=e,this.Kids.push(r),JK.call(this.scope,r),r};var Mg=function(){Is.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Yt.CheckBox.createAppearanceStream()};Gi(Mg,Is);var Au=function(){Cl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,13)},set:function(r){r?this.Ff=Jn(this.Ff,13):this.Ff=Zn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,21)},set:function(r){r?this.Ff=Jn(this.Ff,21):this.Ff=Zn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,23)},set:function(r){r?this.Ff=Jn(this.Ff,23):this.Ff=Zn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,24)},set:function(r){r?this.Ff=Jn(this.Ff,24):this.Ff=Zn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,25)},set:function(r){r?this.Ff=Jn(this.Ff,25):this.Ff=Zn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,26)},set:function(r){r?this.Ff=Jn(this.Ff,26):this.Ff=Zn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){Number.isInteger(r)&&(e=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Gi(Au,Cl);var Og=function(){Au.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,14)},set:function(e){e?this.Ff=Jn(this.Ff,14):this.Ff=Zn(this.Ff,14)}}),this.password=!0};Gi(Og,Au);var Yt={CheckBox:{createAppearanceStream:function(){return{N:{On:Yt.CheckBox.YesNormal},D:{On:Yt.CheckBox.YesPushDown,Off:Yt.CheckBox.OffPushDown}}},YesPushDown:function(e){var r=Vl(e);r.scope=e.scope;var t=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=zy(e,e.caption);return t.push("0.749023 g"),t.push("0 0 "+Ir(Yt.internal.getWidth(e))+" "+Ir(Yt.internal.getHeight(e))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+a+" "+Ir(i.fontSize)+" Tf "+s),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),r.stream=t.join(`
`),r},YesNormal:function(e){var r=Vl(e);r.scope=e.scope;var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=[],i=Yt.internal.getHeight(e),o=Yt.internal.getWidth(e),l=zy(e,e.caption);return s.push("1 g"),s.push("0 0 "+Ir(o)+" "+Ir(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Ir(o-1)+" "+Ir(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Ir(l.fontSize)+" Tf "+a),s.push(l.text),s.push("ET"),s.push("Q"),r.stream=s.join(`
`),r},OffPushDown:function(e){var r=Vl(e);r.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ir(Yt.internal.getWidth(e))+" "+Ir(Yt.internal.getHeight(e))+" re"),t.push("f"),r.stream=t.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(e){var r={D:{Off:Yt.RadioButton.Circle.OffPushDown},N:{}};return r.N[e]=Yt.RadioButton.Circle.YesNormal,r.D[e]=Yt.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(e){var r=Vl(e);r.scope=e.scope;var t=[],a=Yt.internal.getWidth(e)<=Yt.internal.getHeight(e)?Yt.internal.getWidth(e)/4:Yt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Yt.internal.Bezier_C,i=Number((a*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+WA(Yt.internal.getWidth(e)/2)+" "+WA(Yt.internal.getHeight(e)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),t.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),t.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),t.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r},YesPushDown:function(e){var r=Vl(e);r.scope=e.scope;var t=[],a=Yt.internal.getWidth(e)<=Yt.internal.getHeight(e)?Yt.internal.getWidth(e)/4:Yt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*Yt.internal.Bezier_C).toFixed(5)),o=Number((a*Yt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+WA(Yt.internal.getWidth(e)/2)+" "+WA(Yt.internal.getHeight(e)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+WA(Yt.internal.getWidth(e)/2)+" "+WA(Yt.internal.getHeight(e)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r},OffPushDown:function(e){var r=Vl(e);r.scope=e.scope;var t=[],a=Yt.internal.getWidth(e)<=Yt.internal.getHeight(e)?Yt.internal.getWidth(e)/4:Yt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*Yt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+WA(Yt.internal.getWidth(e)/2)+" "+WA(Yt.internal.getHeight(e)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r}},Cross:{createAppearanceStream:function(e){var r={D:{Off:Yt.RadioButton.Cross.OffPushDown},N:{}};return r.N[e]=Yt.RadioButton.Cross.YesNormal,r.D[e]=Yt.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(e){var r=Vl(e);r.scope=e.scope;var t=[],a=Yt.internal.calculateCross(e);return t.push("q"),t.push("1 1 "+Ir(Yt.internal.getWidth(e)-2)+" "+Ir(Yt.internal.getHeight(e)-2)+" re"),t.push("W"),t.push("n"),t.push(Ir(a.x1.x)+" "+Ir(a.x1.y)+" m"),t.push(Ir(a.x2.x)+" "+Ir(a.x2.y)+" l"),t.push(Ir(a.x4.x)+" "+Ir(a.x4.y)+" m"),t.push(Ir(a.x3.x)+" "+Ir(a.x3.y)+" l"),t.push("s"),t.push("Q"),r.stream=t.join(`
`),r},YesPushDown:function(e){var r=Vl(e);r.scope=e.scope;var t=Yt.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+Ir(Yt.internal.getWidth(e))+" "+Ir(Yt.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Ir(Yt.internal.getWidth(e)-2)+" "+Ir(Yt.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(Ir(t.x1.x)+" "+Ir(t.x1.y)+" m"),a.push(Ir(t.x2.x)+" "+Ir(t.x2.y)+" l"),a.push(Ir(t.x4.x)+" "+Ir(t.x4.y)+" m"),a.push(Ir(t.x3.x)+" "+Ir(t.x3.y)+" l"),a.push("s"),a.push("Q"),r.stream=a.join(`
`),r},OffPushDown:function(e){var r=Vl(e);r.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ir(Yt.internal.getWidth(e))+" "+Ir(Yt.internal.getHeight(e))+" re"),t.push("f"),r.stream=t.join(`
`),r}}},createDefaultAppearanceStream:function(e){var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,t=e.scope.__private__.encodeColorString(e.color);return"/"+r+" "+e.fontSize+" Tf "+t}};Yt.internal={Bezier_C:.551915024494,calculateCross:function(e){var r=Yt.internal.getWidth(e),t=Yt.internal.getHeight(e),a=Math.min(r,t);return{x1:{x:(r-a)/2,y:(t-a)/2+a},x2:{x:(r-a)/2+a,y:(t-a)/2},x3:{x:(r-a)/2,y:(t-a)/2},x4:{x:(r-a)/2+a,y:(t-a)/2+a}}}},Yt.internal.getWidth=function(e){var r=0;return $a(e)==="object"&&(r=IB(e.Rect[2])),r},Yt.internal.getHeight=function(e){var r=0;return $a(e)==="object"&&(r=IB(e.Rect[3])),r};var JK=On.addField=function(e){if(XK(this,e),!(e instanceof Cl))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=e).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};On.AcroFormChoiceField=kf,On.AcroFormListBox=Df,On.AcroFormComboBox=Uf,On.AcroFormEditBox=Rg,On.AcroFormButton=Is,On.AcroFormPushButton=Tg,On.AcroFormRadioButton=Lf,On.AcroFormCheckBox=Mg,On.AcroFormTextField=Au,On.AcroFormPasswordField=Og,On.AcroFormAppearance=Yt,On.AcroForm={ChoiceField:kf,ListBox:Df,ComboBox:Uf,EditBox:Rg,Button:Is,PushButton:Tg,RadioButton:Lf,CheckBox:Mg,TextField:Au,PasswordField:Og,Appearance:Yt},or.AcroForm={ChoiceField:kf,ListBox:Df,ComboBox:Uf,EditBox:Rg,Button:Is,PushButton:Tg,RadioButton:Lf,CheckBox:Mg,TextField:Au,PasswordField:Og,Appearance:Yt};or.AcroForm;function c3(e){return e.reduce(function(r,t,a){return r[t]=a,r},{})}(function(e){var r="addImage_";e.__addimage__={};var t="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(R,H){var J,T,re,z,G,V=t;if((H=H||t)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(U(R))for(G in a)for(re=a[G],J=0;J<re.length;J+=1){for(z=!0,T=0;T<re[J].length;T+=1)if(re[J][T]!==void 0&&re[J][T]!==R[T]){z=!1;break}if(z===!0){V=G;break}}else for(G in a)for(re=a[G],J=0;J<re.length;J+=1){for(z=!0,T=0;T<re[J].length;T+=1)if(re[J][T]!==void 0&&re[J][T]!==R.charCodeAt(T)){z=!1;break}if(z===!0){V=G;break}}return V===t&&H!==t&&(V=H),V},i=function R(H){for(var J=this.internal.write,T=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:H.width}),z.push({key:"Height",value:H.height}),H.colorSpace===j.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===j.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)&&H.transparency.length>0){for(var G="",V=0,ee=H.transparency.length;V<ee;V++)G+=H.transparency[V]+" "+H.transparency[V]+" ";z.push({key:"Mask",value:"["+G+"]"})}H.sMask!==void 0&&z.push({key:"SMask",value:H.objectId+1+" 0 R"});var ce=H.filter!==void 0?["/"+H.filter]:void 0;if(T({data:H.data,additionalKeyValues:z,alreadyAppliedFilters:ce,objectId:H.objectId}),J("endobj"),"sMask"in H&&H.sMask!==void 0){var k,D=(k=H.sMaskBitsPerComponent)!==null&&k!==void 0?k:H.bitsPerComponent,K={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:H.sMask};"filter"in H&&(K.decodeParameters="/Predictor ".concat(H.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(H.width),K.filter=H.filter),R.call(this,K)}if(H.colorSpace===j.INDEXED){var te=this.internal.newObject();T({data:L(new Uint8Array(H.palette)),objectId:te}),J("endobj")}},o=function(){var R=this.internal.collections[r+"images"];for(var H in R)i.call(this,R[H])},l=function(){var R,H=this.internal.collections[r+"images"],J=this.internal.write;for(var T in H)J("/I"+(R=H[T]).index,R.objectId,"0","R")},A=function(){this.internal.collections[r+"images"]||(this.internal.collections[r+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var R=this.internal.collections[r+"images"];return A.call(this),R},f=function(){return Object.keys(this.internal.collections[r+"images"]).length},h=function(R){return typeof e["process"+R.toUpperCase()]=="function"},m=function(R){return $a(R)==="object"&&R.nodeType===1},p=function(R,H){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var J=""+R.getAttribute("src");if(J.indexOf("data:image/")===0)return Qg(unescape(J).split("base64,").pop());var T=e.loadFile(J,!0);if(T!==void 0)return T}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var re;switch(H){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;default:re="image/jpeg"}return Qg(R.toDataURL(re,1).split("base64,").pop())}},x=function(R){var H=this.internal.collections[r+"images"];if(H){for(var J in H)if(R===H[J].alias)return H[J]}},g=function(R,H,J){return R||H||(R=-96,H=-96),R<0&&(R=-1*J.width*72/R/this.internal.scaleFactor),H<0&&(H=-1*J.height*72/H/this.internal.scaleFactor),R===0&&(R=H*J.width/J.height),H===0&&(H=R*J.height/J.width),[R,H]},w=function(R,H,J,T,re,z){var G=g.call(this,J,T,re),V=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,ce=d.call(this);if(J=G[0],T=G[1],ce[re.index]=re,z){z*=Math.PI/180;var k=Math.cos(z),D=Math.sin(z),K=function(Y){return Y.toFixed(4)},te=[K(k),K(D),K(-1*D),K(k),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,V(R),ee(H+T),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([V(J),"0","0",V(T),"0","0","cm"].join(" "))):this.internal.write([V(J),"0","0",V(T),V(R),ee(H+T),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},j=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(R){var H,J,T=0;if(typeof R=="string")for(J=R.length,H=0;H<J;H++)T=(T<<5)-T+R.charCodeAt(H),T|=0;else if(U(R))for(J=R.byteLength/2,H=0;H<J;H++)T=(T<<5)-T+R[H],T|=0;return T},E=e.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var H=!0;return R.length===0&&(H=!1),R.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(H=!1),H},Q=e.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var H=R.indexOf(",");return H<0?null:R.substring(0,H).trim().endsWith("base64")?R.substring(H+1):null};e.__addimage__.isArrayBuffer=function(R){return R instanceof ArrayBuffer};var U=e.__addimage__.isArrayBufferView=function(R){return R instanceof Int8Array||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array},F=e.__addimage__.binaryStringToUint8Array=function(R){for(var H=R.length,J=new Uint8Array(H),T=0;T<H;T++)J[T]=R.charCodeAt(T);return J},L=e.__addimage__.arrayBufferToBinaryString=function(R){for(var H="",J=U(R)?R:new Uint8Array(R),T=0;T<J.length;T+=8192)H+=String.fromCharCode.apply(null,J.subarray(T,T+8192));return H};e.addImage=function(){var R,H,J,T,re,z,G,V,ee;if(typeof arguments[1]=="number"?(H=t,J=arguments[1],T=arguments[2],re=arguments[3],z=arguments[4],G=arguments[5],V=arguments[6],ee=arguments[7]):(H=arguments[1],J=arguments[2],T=arguments[3],re=arguments[4],z=arguments[5],G=arguments[6],V=arguments[7],ee=arguments[8]),$a(R=arguments[0])==="object"&&!m(R)&&"imageData"in R){var ce=R;R=ce.imageData,H=ce.format||H||t,J=ce.x||J||0,T=ce.y||T||0,re=ce.w||ce.width||re,z=ce.h||ce.height||z,G=ce.alias||G,V=ce.compression||V,ee=ce.rotation||ce.angle||ee}var k=this.internal.getFilters();if(V===void 0&&k.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(J)||isNaN(T))throw new Error("Invalid coordinates passed to jsPDF.addImage");A.call(this);var D=_.call(this,R,H,G,V);return w.call(this,J,T,re,z,D,ee),this};var _=function(R,H,J,T){var re,z,G;if(typeof R=="string"&&s(R)===t){R=unescape(R);var V=q(R,!1);(V!==""||(V=e.loadFile(R,!0))!==void 0)&&(R=V)}if(m(R)&&(R=p(R,H)),H=s(R,H),!h(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((G=J)==null||G.length===0)&&(J=(function(ee){return typeof ee=="string"||U(ee)?C(ee):U(ee.data)?C(ee.data):null})(R)),(re=x.call(this,J))||(R instanceof Uint8Array||H==="RGBA"||(z=R,R=F(R)),re=this["process"+H.toUpperCase()](R,f.call(this),J,(function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in e.image_compression?ee:N.NONE})(T),z)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},q=e.__addimage__.convertBase64ToBinaryString=function(R,H){H=typeof H!="boolean"||H;var J,T="";if(typeof R=="string"){var re;J=(re=Q(R))!==null&&re!==void 0?re:R;try{T=Qg(J)}catch(z){if(H)throw E(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return T};e.getImageProperties=function(R){var H,J,T="";if(m(R)&&(R=p(R)),typeof R=="string"&&s(R)===t&&((T=q(R,!1))===""&&(T=e.loadFile(R)||""),R=T),J=s(R),!h(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(R instanceof Uint8Array||(R=F(R)),!(H=this["process"+J.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=J,H}})(or.API),(function(e){var r=function(t){if(t!==void 0&&t!="")return!0};or.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(t){for(var a,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,A=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,f=!1,h=0;h<d.length&&!f;h++)switch((a=d[h]).type){case"link":(r(a.options.url)||r(a.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var m=0;m<d.length;m++){a=d[m];var p=this.internal.pdfEscape,x=this.internal.getEncryptor(t.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(g.objId),N=a.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y)+"] ")+"/Contents ("+p(j(a.contents))+")",i+=" /Popup "+w.objId+" 0 R",i+=" /P "+A.objId+" 0 R",i+=" /T ("+p(j(N))+") >>",g.content=i;var C=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(a.bounds.x+30)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w+30)+" "+l(a.bounds.y)+"] ")+" /Parent "+C,a.open&&(i+=" /Open true"),i+=" >>",w.content=i,this.internal.write(g.objId,"0 R",w.objId,"0 R");break;case"freetext":s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y+a.bounds.h)+"] ";var E=a.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(x(a.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(a.options.name){var Q=this.annotations._nameMap[a.options.name];a.options.pageNumber=Q.page,a.options.top=Q.y}else a.options.top||(a.options.top=0);if(s="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",i="",a.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(x(a.options.url))+") >>";else if(a.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,i+=" /FitV "+a.options.left+"]";break;default:var U=l(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),i+=" /XYZ "+a.options.left+" "+U+" "+a.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(t){var a=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":a.pageContext.annotations.push(t)}},e.link=function(t,a,s,i,o){var l=this.internal.getCurrentPageInfo(),A=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:A(t),y:d(a),w:A(t+s),h:d(a+i)},options:o,type:"link"})},e.textWithLink=function(t,a,s,i){var o,l,A=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var f=this.splitTextToSize(t,l).length;o=Math.ceil(d*f)}else l=A,o=d;return this.text(t,a,s,i),s+=.2*d,i.align==="center"&&(a-=A/2),i.align==="right"&&(a-=A),this.link(a,s-d,l,o,i),A},e.getTextWidth=function(t){var a=this.internal.getFontSize();return this.getStringUnitWidth(t)*a/this.internal.scaleFactor}})(or.API),(function(e){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return r[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&r[g.charCodeAt(0)].length<=2},A=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&s.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&r[g.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&r[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&r[g.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&r[g.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(g){var w=0,j=t,N="",C=0;for(w=0;w<g.length;w+=1)j[g.charCodeAt(w)]!==void 0?(C++,typeof(j=j[g.charCodeAt(w)])=="number"&&(N+=String.fromCharCode(j),j=t,C=0),w===g.length-1&&(j=t,N+=g.charAt(w-(C-1)),w-=C-1,C=0)):(j=t,N+=g.charAt(w-C),w-=C,C=0);return N};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&a[g.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(g,w,j){return o(g)?i(g)===!1?-1:!d(g)||!o(w)&&!o(j)||!o(j)&&l(w)||l(g)&&!o(w)||l(g)&&A(w)||l(g)&&l(w)?0:f(g)&&o(w)&&!l(w)&&o(j)&&d(j)?3:l(g)||!o(j)?1:2:-1},p=function(g){var w=0,j=0,N=0,C="",E="",Q="",U=(g=g||"").split("\\s+"),F=[];for(w=0;w<U.length;w+=1){for(F.push(""),j=0;j<U[w].length;j+=1)C=U[w][j],E=U[w][j-1],Q=U[w][j+1],o(C)?(N=m(C,E,Q),F[w]+=N!==-1?String.fromCharCode(r[C.charCodeAt(0)][N]):C):F[w]+=C;F[w]=h(F[w])}return F.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var g,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(w)){var N=0;for(j=[],N=0;N<w.length;N+=1)Array.isArray(w[N])?j.push([p(w[N][0]),w[N][1],w[N][2]]):j.push([p(w[N])]);g=j}else g=p(w);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",x])})(or.API),or.API.autoPrint=function(e){var r;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})),this},(function(e){var r=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(t,a){var s;if((t=t||"2d")!=="2d")return null;for(s in a)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=a[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])})(or.API),(function(e){var r={left:0,top:0,bottom:0,right:0},t=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var A=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return A},set:function(g){A=g}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(g){x=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(A){return a.call(this),this.internal.__cell__.headerFunction=typeof A=="function"?A:void 0,this},e.getTextDimensions=function(A,d){a.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),m=d.scaleFactor||this.internal.scaleFactor,p=0,x=0,g=0,w=this;if(!Array.isArray(A)&&typeof A!="string"){if(typeof A!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");A=String(A)}var j=d.maxWidth;j>0?typeof A=="string"?A=this.splitTextToSize(A,j):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(C,E){return C.concat(w.splitTextToSize(E,j))},[])):A=Array.isArray(A)?A:[A];for(var N=0;N<A.length;N++)p<(g=this.getStringUnitWidth(A[N],{font:h})*f)&&(p=g);return p!==0&&(x=A.length),{w:p/=m,h:Math.max((x*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var A=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new i(A.left,A.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var A;A=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||r,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===A.lineNumber?(A.x=(d.x||0)+(d.width||0),A.y=d.y||0):d.y+d.height+A.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),A.y=h.top,p&&m&&(this.printHeaderRow(A.lineNumber,!0),A.y+=m[0].height)):A.y=d.y+d.height||A.y),A.text[0]!==void 0&&(this.rect(A.x,A.y,A.width,A.height,t===!0?"FD":void 0),A.align==="right"?this.text(A.text,A.x+A.width-f,A.y+f,{align:"right",baseline:"top"}):A.align==="center"?this.text(A.text,A.x+A.width/2,A.y+f,{align:"center",baseline:"top",maxWidth:A.width-f-f}):this.text(A.text,A.x+f,A.y+f,{align:"left",baseline:"top",maxWidth:A.width-f-f})),this.internal.__cell__.lastCell=A,this};e.table=function(A,d,f,h,m){if(a.call(this),!f)throw new Error("No data for PDF table.");var p,x,g,w,j=[],N=[],C=[],E={},Q={},U=[],F=[],L=(m=m||{}).autoSize||!1,_=m.printHeaders!==!1,q=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,R=m.margins||Object.assign({width:this.getPageWidth()},r),H=typeof m.padding=="number"?m.padding:3,J=m.headerBackgroundColor||"#c8c8c8",T=m.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=T,this.setFontSize(q),h==null)N=j=Object.keys(f[0]),C=j.map(function(){return"left"});else if(Array.isArray(h)&&$a(h[0])==="object")for(j=h.map(function(ce){return ce.name}),N=h.map(function(ce){return ce.prompt||ce.name||""}),C=h.map(function(ce){return ce.align||"left"}),p=0;p<h.length;p+=1)Q[h[p].name]=.7499990551181103*h[p].width;else Array.isArray(h)&&typeof h[0]=="string"&&(N=j=h,C=j.map(function(){return"left"}));if(L||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<j.length;p+=1){for(E[w=j[p]]=f.map(function(ce){return ce[w]}),this.setFont(void 0,"bold"),U.push(this.getTextDimensions(N[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=E[w],this.setFont(void 0,"normal"),g=0;g<x.length;g+=1)U.push(this.getTextDimensions(x[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Q[w]=Math.max.apply(null,U)+H+H,U=[]}if(_){var re={};for(p=0;p<j.length;p+=1)re[j[p]]={},re[j[p]].text=N[p],re[j[p]].align=C[p];var z=l.call(this,re,Q);F=j.map(function(ce){return new i(A,d,Q[ce],z,re[ce].text,void 0,re[ce].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var G=h.reduce(function(ce,k){return ce[k.name]=k.align,ce},{});for(p=0;p<f.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:f[p]},this);var V=l.call(this,f[p],Q);for(g=0;g<j.length;g+=1){var ee=f[p][j[g]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:g,data:ee},this),o.call(this,new i(A,d,Q[j[g]],V,ee,p+2,G[j[g]]))}}return this.internal.__cell__.table_x=A,this.internal.__cell__.table_y=d,this};var l=function(A,d){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(A).map(function(p){var x=A[p];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/m+f+f},this).reduce(function(p,x){return Math.max(p,x)},0)};e.setTableHeaderRow=function(A){a.call(this),this.internal.__cell__.tableHeaderRow=A},e.printHeaderRow=function(A,d){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,m.push(f)),f.lineNumber=A;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(x)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),t=!1}})(or.API);var A3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},d3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Vy=c3(d3),u3=[100,200,300,400,500,600,700,800,900],ZK=c3(u3);function Bw(e){var r=e.family.replace(/"|'/g,"").toLowerCase(),t=(function(i){return A3[i=i||"normal"]?i:"normal"})(e.style),a=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),s=(function(i){return typeof Vy[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:r,style:t,weight:a,stretch:s,src:e.src||[],ref:e.ref||{name:r,style:[s,t,a].join(" ")}}}function PB(e,r,t,a){var s;for(s=t;s>=0&&s<r.length;s+=a)if(e[r[s]])return e[r[s]];for(s=t;s>=0&&s<r.length;s-=a)if(e[r[s]])return e[r[s]]}var ez={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},QB={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function RB(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function TB(e){return e.trimLeft()}function tz(e,r){for(var t=0;t<e.length;){if(e.charAt(t)===r)return[e.substring(0,t),e.substring(t+1)];t+=1}return null}function rz(e){var r=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],e.substring(r[0].length)]}var Gp,MB,OB,Af,Yp,HB,$B,KB,Cw=["times"];function zB(e,r,t,a,s){var i=4,o=qB;switch(s){case or.API.image_compression.FAST:i=1,o=VB;break;case or.API.image_compression.MEDIUM:i=6,o=WB;break;case or.API.image_compression.SLOW:i=9,o=GB}e=(function(A,d,f,h){for(var m,p=A.length/d,x=new Uint8Array(A.length+p),g=[az,VB,qB,WB,GB],w=0;w<p;w+=1){var j=w*d,N=A.subarray(j,j+d);if(h)x.set(h(N,f,m),j+w);else{for(var C=g.length,E=[],Q=0;Q<C;Q+=1)E[Q]=g[Q](N,f,m);var U=sz(E.concat());x.set(E[U],j+w)}m=N}return x})(e,r,Math.ceil(t*a/8),o);var l=Ty(e,{level:i});return or.API.__addimage__.arrayBufferToBinaryString(l)}function az(e){var r=Array.apply([],e);return r.unshift(0),r}function VB(e,r){var t=e.length,a=[];a[0]=1;for(var s=0;s<t;s+=1){var i=e[s-r]||0;a[s+1]=e[s]-i+256&255}return a}function qB(e,r,t){var a=e.length,s=[];s[0]=2;for(var i=0;i<a;i+=1){var o=t&&t[i]||0;s[i+1]=e[i]-o+256&255}return s}function WB(e,r,t){var a=e.length,s=[];s[0]=3;for(var i=0;i<a;i+=1){var o=e[i-r]||0,l=t&&t[i]||0;s[i+1]=e[i]+256-(o+l>>>1)&255}return s}function GB(e,r,t){var a=e.length,s=[];s[0]=4;for(var i=0;i<a;i+=1){var o=nz(e[i-r]||0,t&&t[i]||0,t&&t[i-r]||0);s[i+1]=e[i]-o+256&255}return s}function nz(e,r,t){if(e===r&&r===t)return e;var a=Math.abs(r-t),s=Math.abs(e-t),i=Math.abs(e+r-t-t);return a<=s&&a<=i?e:s<=i?r:t}function sz(e){var r=e.map(function(t){return t.reduce(function(a,s){return a+Math.abs(s)},0)});return r.indexOf(Math.min.apply(null,r))}function Sw(e,r,t){var a=r*t,s=Math.floor(a/8),i=16-(a-8*s+t),o=(1<<t)-1;return f3(e,s)>>i&o}function YB(e,r,t,a){var s=t*a,i=Math.floor(s/8),o=16-(s-8*i+a),l=(1<<a)-1,A=(r&l)<<o;(function(d,f,h){if(f+1<d.byteLength)d.setUint16(f,h,!1);else{var m=h>>8&255;d.setUint8(f,m)}})(e,i,f3(e,i)&~(l<<o)&65535|A)}function f3(e,r){return r+1<e.byteLength?e.getUint16(r,!1):e.getUint8(r)<<8}function iz(e){var r=0;if(e[r++]!==71||e[r++]!==73||e[r++]!==70||e[r++]!==56||(e[r++]+1&253)!=56||e[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=e[r++]|e[r++]<<8,a=e[r++]|e[r++]<<8,s=e[r++],i=s>>7,o=1<<1+(7&s);e[r++],e[r++];var l=null,A=null;i&&(l=r,A=o,r+=3*o);var d=!0,f=[],h=0,m=null,p=0,x=null;for(this.width=t,this.height=a;d&&r<e.length;)switch(e[r++]){case 33:switch(e[r++]){case 255:if(e[r]!==11||e[r+1]==78&&e[r+2]==69&&e[r+3]==84&&e[r+4]==83&&e[r+5]==67&&e[r+6]==65&&e[r+7]==80&&e[r+8]==69&&e[r+9]==50&&e[r+10]==46&&e[r+11]==48&&e[r+12]==3&&e[r+13]==1&&e[r+16]==0)r+=14,x=e[r++]|e[r++]<<8,r++;else for(r+=12;;){if(!((R=e[r++])>=0))throw Error("Invalid block size");if(R===0)break;r+=R}break;case 249:if(e[r++]!==4||e[r+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[r++];h=e[r++]|e[r++]<<8,m=e[r++],1&g||(m=null),p=g>>2&7,r++;break;case 254:for(;;){if(!((R=e[r++])>=0))throw Error("Invalid block size");if(R===0)break;r+=R}break;default:throw new Error("Unknown graphic control label: 0x"+e[r-1].toString(16))}break;case 44:var w=e[r++]|e[r++]<<8,j=e[r++]|e[r++]<<8,N=e[r++]|e[r++]<<8,C=e[r++]|e[r++]<<8,E=e[r++],Q=E>>6&1,U=1<<1+(7&E),F=l,L=A,_=!1;E>>7&&(_=!0,F=r,L=U,r+=3*U);var q=r;for(r++;;){var R;if(!((R=e[r++])>=0))throw Error("Invalid block size");if(R===0)break;r+=R}f.push({x:w,y:j,width:N,height:C,has_local_palette:_,palette_offset:F,palette_size:L,data_offset:q,data_length:r-q,transparent_index:m,interlaced:!!Q,delay:h,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[r-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return x},this.frameInfo=function(H){if(H<0||H>=f.length)throw new Error("Frame index out of range.");return f[H]},this.decodeAndBlitFrameBGRA=function(H,J){var T=this.frameInfo(H),re=T.width*T.height,z=new Uint8Array(re);XB(e,T.data_offset,z,re);var G=T.palette_offset,V=T.transparent_index;V===null&&(V=256);var ee=T.width,ce=t-ee,k=ee,D=4*(T.y*t+T.x),K=4*((T.y+T.height)*t+T.x),te=D,Y=4*ce;T.interlaced===!0&&(Y+=4*t*7);for(var X=8,O=0,Z=z.length;O<Z;++O){var oe=z[O];if(k===0&&(k=ee,(te+=Y)>=K&&(Y=4*ce+4*t*(X-1),te=D+(ee+ce)*(X<<1),X>>=1)),oe===V)te+=4;else{var pe=e[G+3*oe],xe=e[G+3*oe+1],_e=e[G+3*oe+2];J[te++]=_e,J[te++]=xe,J[te++]=pe,J[te++]=255}--k}},this.decodeAndBlitFrameRGBA=function(H,J){var T=this.frameInfo(H),re=T.width*T.height,z=new Uint8Array(re);XB(e,T.data_offset,z,re);var G=T.palette_offset,V=T.transparent_index;V===null&&(V=256);var ee=T.width,ce=t-ee,k=ee,D=4*(T.y*t+T.x),K=4*((T.y+T.height)*t+T.x),te=D,Y=4*ce;T.interlaced===!0&&(Y+=4*t*7);for(var X=8,O=0,Z=z.length;O<Z;++O){var oe=z[O];if(k===0&&(k=ee,(te+=Y)>=K&&(Y=4*ce+4*t*(X-1),te=D+(ee+ce)*(X<<1),X>>=1)),oe===V)te+=4;else{var pe=e[G+3*oe],xe=e[G+3*oe+1],_e=e[G+3*oe+2];J[te++]=pe,J[te++]=xe,J[te++]=_e,J[te++]=255}--k}}}function XB(e,r,t,a){for(var s=e[r++],i=1<<s,o=i+1,l=o+1,A=s+1,d=(1<<A)-1,f=0,h=0,m=0,p=e[r++],x=new Int32Array(4096),g=null;;){for(;f<16&&p!==0;)h|=e[r++]<<f,f+=8,p===1?p=e[r++]:--p;if(f<A)break;var w=h&d;if(h>>=A,f-=A,w!==i){if(w===o)break;for(var j=w<l?w:g,N=0,C=j;C>i;)C=x[C]>>8,++N;var E=C;if(m+N+(j!==w?1:0)>a)return void Za.log("Warning, gif stream longer than expected.");t[m++]=E;var Q=m+=N;for(j!==w&&(t[m++]=E),C=j;N--;)C=x[C],t[--Q]=255&C,C>>=8;g!==null&&l<4096&&(x[l++]=g<<8|E,l>=d+1&&A<12&&(++A,d=d<<1|1)),g=w}else l=o+1,d=(1<<(A=s+1))-1,g=null}return m!==a&&Za.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function _w(e){var r,t,a,s,i,o=Math.floor,l=new Array(64),A=new Array(64),d=new Array(64),f=new Array(64),h=new Array(65535),m=new Array(65535),p=new Array(64),x=new Array(64),g=[],w=0,j=7,N=new Array(64),C=new Array(64),E=new Array(64),Q=new Array(256),U=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(D,K){for(var te=0,Y=0,X=new Array,O=1;O<=16;O++){for(var Z=1;Z<=D[O];Z++)X[K[Y]]=[],X[K[Y]][0]=te,X[K[Y]][1]=O,Y++,te++;te*=2}return X}function G(D){for(var K=D[0],te=D[1]-1;te>=0;)K&1<<te&&(w|=1<<j),te--,--j<0&&(w==255?(V(255),V(0)):V(w),j=7,w=0)}function V(D){g.push(D)}function ee(D){V(D>>8&255),V(255&D)}function ce(D,K,te,Y,X){for(var O,Z=X[0],oe=X[240],pe=(function(Se,it){var Ke,Ct,jt,ur,Mt,zt,Or,$t,_t,Et,Dt=0;for(_t=0;_t<8;++_t){Ke=Se[Dt],Ct=Se[Dt+1],jt=Se[Dt+2],ur=Se[Dt+3],Mt=Se[Dt+4],zt=Se[Dt+5],Or=Se[Dt+6];var ia=Ke+($t=Se[Dt+7]),Qr=Ke-$t,Ot=Ct+Or,wr=Ct-Or,Dr=jt+zt,wt=jt-zt,hr=ur+Mt,ir=ur-Mt,Ht=ia+hr,ka=ia-hr,et=Ot+Dr,Xe=Ot-Dr;Se[Dt]=Ht+et,Se[Dt+4]=Ht-et;var nt=.707106781*(Xe+ka);Se[Dt+2]=ka+nt,Se[Dt+6]=ka-nt;var _r=.382683433*((Ht=ir+wt)-(Xe=wr+Qr)),vt=.5411961*Ht+_r,Zt=1.306562965*Xe+_r,oa=.707106781*(et=wt+wr),Xt=Qr+oa,Nn=Qr-oa;Se[Dt+5]=Nn+vt,Se[Dt+3]=Nn-vt,Se[Dt+1]=Xt+Zt,Se[Dt+7]=Xt-Zt,Dt+=8}for(Dt=0,_t=0;_t<8;++_t){Ke=Se[Dt],Ct=Se[Dt+8],jt=Se[Dt+16],ur=Se[Dt+24],Mt=Se[Dt+32],zt=Se[Dt+40],Or=Se[Dt+48];var gs=Ke+($t=Se[Dt+56]),hn=Ke-$t,is=Ct+Or,dt=Ct-Or,za=jt+zt,Ya=jt-zt,Ns=ur+Mt,fi=ur-Mt,Xa=gs+Ns,Oe=gs-Ns,Ze=is+za,St=is-za;Se[Dt]=Xa+Ze,Se[Dt+32]=Xa-Ze;var st=.707106781*(St+Oe);Se[Dt+16]=Oe+st,Se[Dt+48]=Oe-st;var Nt=.382683433*((Xa=fi+Ya)-(St=dt+hn)),cr=.5411961*Xa+Nt,Ar=1.306562965*St+Nt,Hr=.707106781*(Ze=Ya+dt),Yr=hn+Hr,Qt=hn-Hr;Se[Dt+40]=Qt+cr,Se[Dt+24]=Qt-cr,Se[Dt+8]=Yr+Ar,Se[Dt+56]=Yr-Ar,Dt++}for(_t=0;_t<64;++_t)Et=Se[_t]*it[_t],p[_t]=Et>0?Et+.5|0:Et-.5|0;return p})(D,K),xe=0;xe<64;++xe)x[F[xe]]=pe[xe];var _e=x[0]-te;te=x[0],_e==0?G(Y[0]):(G(Y[m[O=32767+_e]]),G(h[O]));for(var Fe=63;Fe>0&&x[Fe]==0;)Fe--;if(Fe==0)return G(Z),te;for(var he,Ae=1;Ae<=Fe;){for(var ct=Ae;x[Ae]==0&&Ae<=Fe;)++Ae;var gt=Ae-ct;if(gt>=16){he=gt>>4;for(var pt=1;pt<=he;++pt)G(oe);gt&=15}O=32767+x[Ae],G(X[(gt<<4)+m[O]]),G(h[O]),Ae++}return Fe!=63&&G(Z),te}function k(D){D=Math.min(Math.max(D,1),100),i!=D&&((function(K){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var X=o((te[Y]*K+50)/100);X=Math.min(Math.max(X,1),255),l[F[Y]]=X}for(var O=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Z=0;Z<64;Z++){var oe=o((O[Z]*K+50)/100);oe=Math.min(Math.max(oe,1),255),A[F[Z]]=oe}for(var pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,_e=0;_e<8;_e++)for(var Fe=0;Fe<8;Fe++)d[xe]=1/(l[F[xe]]*pe[_e]*pe[Fe]*8),f[xe]=1/(A[F[xe]]*pe[_e]*pe[Fe]*8),xe++})(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),i=D)}this.encode=function(D,K){K&&k(K),g=new Array,w=0,j=7,ee(65496),ee(65504),ee(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),ee(1),ee(1),V(0),V(0),(function(){ee(65499),ee(132),V(0);for(var Ct=0;Ct<64;Ct++)V(l[Ct]);V(1);for(var jt=0;jt<64;jt++)V(A[jt])})(),(function(Ct,jt){ee(65472),ee(17),V(8),ee(jt),ee(Ct),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)})(D.width,D.height),(function(){ee(65476),ee(418),V(0);for(var Ct=0;Ct<16;Ct++)V(L[Ct+1]);for(var jt=0;jt<=11;jt++)V(_[jt]);V(16);for(var ur=0;ur<16;ur++)V(q[ur+1]);for(var Mt=0;Mt<=161;Mt++)V(R[Mt]);V(1);for(var zt=0;zt<16;zt++)V(H[zt+1]);for(var Or=0;Or<=11;Or++)V(J[Or]);V(17);for(var $t=0;$t<16;$t++)V(T[$t+1]);for(var _t=0;_t<=161;_t++)V(re[_t])})(),ee(65498),ee(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var te=0,Y=0,X=0;w=0,j=7,this.encode.displayName="_encode_";for(var O,Z,oe,pe,xe,_e,Fe,he,Ae,ct=D.data,gt=D.width,pt=D.height,Se=4*gt,it=0;it<pt;){for(O=0;O<Se;){for(xe=Se*it+O,Fe=-1,he=0,Ae=0;Ae<64;Ae++)_e=xe+(he=Ae>>3)*Se+(Fe=4*(7&Ae)),it+he>=pt&&(_e-=Se*(it+1+he-pt)),O+Fe>=Se&&(_e-=O+Fe-Se+4),Z=ct[_e++],oe=ct[_e++],pe=ct[_e++],N[Ae]=(U[Z]+U[oe+256|0]+U[pe+512|0]>>16)-128,C[Ae]=(U[Z+768|0]+U[oe+1024|0]+U[pe+1280|0]>>16)-128,E[Ae]=(U[Z+1280|0]+U[oe+1536|0]+U[pe+1792|0]>>16)-128;te=ce(N,d,te,r,a),Y=ce(C,f,Y,t,s),X=ce(E,f,X,t,s),O+=32}it+=8}if(j>=0){var Ke=[];Ke[1]=j+1,Ke[0]=(1<<j+1)-1,G(Ke)}return ee(65497),new Uint8Array(g)},e=e||50,(function(){for(var D=String.fromCharCode,K=0;K<256;K++)Q[K]=D(K)})(),r=z(L,_),t=z(H,J),a=z(q,R),s=z(T,re),(function(){for(var D=1,K=2,te=1;te<=15;te++){for(var Y=D;Y<K;Y++)m[32767+Y]=te,h[32767+Y]=[],h[32767+Y][1]=te,h[32767+Y][0]=Y;for(var X=-(K-1);X<=-D;X++)m[32767+X]=te,h[32767+X]=[],h[32767+X][1]=te,h[32767+X][0]=K-1+X;D<<=1,K<<=1}})(),(function(){for(var D=0;D<256;D++)U[D]=19595*D,U[D+256|0]=38470*D,U[D+512|0]=7471*D+32768,U[D+768|0]=-11059*D,U[D+1024|0]=-21709*D,U[D+1280|0]=32768*D+8421375,U[D+1536|0]=-27439*D,U[D+1792|0]=-5329*D})(),k(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function hl(e,r){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function JB(e){function r(_){if(!_)throw Error("assert :P")}function t(_,q,R){for(var H=0;4>H;H++)if(_[q+H]!=R.charCodeAt(H))return!0;return!1}function a(_,q,R,H,J){for(var T=0;T<J;T++)_[q+T]=R[H+T]}function s(_,q,R,H){for(var J=0;J<H;J++)_[q+J]=R}function i(_){return new Int32Array(_)}function o(_,q){for(var R=[],H=0;H<_;H++)R.push(new q);return R}function l(_,q){var R=[];return(function H(J,T,re){for(var z=re[T],G=0;G<z&&(J.push(re.length>T+1?[]:new q),!(re.length<T+1));G++)H(J[G],T+1,re)})(R,0,_),R}var A=function(){var _=this;function q(b,S){for(var M=1<<S-1>>>0;b&M;)M>>>=1;return M?(b&M-1)+M:b}function R(b,S,M,W,ae){r(!(W%M));do b[S+(W-=M)]=ae;while(0<W)}function H(b,S,M,W,ae){if(r(2328>=ae),512>=ae)var ie=i(512);else if((ie=i(ae))==null)return 0;return(function(le,de,ue,fe,je,Ie){var me,Be,Ue=de,Ge=1<<ue,Qe=i(16),$e=i(16);for(r(je!=0),r(fe!=null),r(le!=null),r(0<ue),Be=0;Be<je;++Be){if(15<fe[Be])return 0;++Qe[fe[Be]]}if(Qe[0]==je)return 0;for($e[1]=0,me=1;15>me;++me){if(Qe[me]>1<<me)return 0;$e[me+1]=$e[me]+Qe[me]}for(Be=0;Be<je;++Be)me=fe[Be],0<fe[Be]&&(Ie[$e[me]++]=Be);if($e[15]==1)return(fe=new J).g=0,fe.value=Ie[0],R(le,Ue,1,Ge,fe),Ge;var qe,tt=-1,rt=Ge-1,rr=0,Rt=1,kr=1,Wt=1<<ue;for(Be=0,me=1,je=2;me<=ue;++me,je<<=1){if(Rt+=kr<<=1,0>(kr-=Qe[me]))return 0;for(;0<Qe[me];--Qe[me])(fe=new J).g=me,fe.value=Ie[Be++],R(le,Ue+rr,je,Wt,fe),rr=q(rr,me)}for(me=ue+1,je=2;15>=me;++me,je<<=1){if(Rt+=kr<<=1,0>(kr-=Qe[me]))return 0;for(;0<Qe[me];--Qe[me]){if(fe=new J,(rr&rt)!=tt){for(Ue+=Wt,qe=1<<(tt=me)-ue;15>tt&&!(0>=(qe-=Qe[tt]));)++tt,qe<<=1;Ge+=Wt=1<<(qe=tt-ue),le[de+(tt=rr&rt)].g=qe+ue,le[de+tt].value=Ue-de-tt}fe.g=me-ue,fe.value=Ie[Be++],R(le,Ue+(rr>>ue),je,Wt,fe),rr=q(rr,me)}}return Rt!=2*$e[15]-1?0:Ge})(b,S,M,W,ae,ie)}function J(){this.value=this.g=0}function T(){this.value=this.g=0}function re(){this.G=o(5,J),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ii,T)}function z(b,S,M,W){r(b!=null),r(S!=null),r(2147483648>W),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=S,b.pa=M,b.Jd=S,b.Yc=M+W,b.Zc=4<=W?M+W-4+1:M,Z(b)}function G(b,S){for(var M=0;0<S--;)M|=pe(b,128)<<S;return M}function V(b,S){var M=G(b,S);return oe(b)?-M:M}function ee(b,S,M,W){var ae,ie=0;for(r(b!=null),r(S!=null),r(4294967288>W),b.Sb=W,b.Ra=0,b.u=0,b.h=0,4<W&&(W=4),ae=0;ae<W;++ae)ie+=S[M+ae]<<8*ae;b.Ra=ie,b.bb=W,b.oa=S,b.pa=M}function ce(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Ul-8>>>0,++b.bb,b.u-=8;Y(b)&&(b.h=1,b.u=0)}function k(b,S){if(r(0<=S),!b.h&&S<=gi){var M=te(b)&pi[S];return b.u+=S,ce(b),M}return b.h=1,b.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(b){return b.Ra>>>(b.u&Ul-1)>>>0}function Y(b){return r(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Ul}function X(b,S){b.u=S,b.h=Y(b)}function O(b){b.u>=No&&(r(b.u>=No),ce(b))}function Z(b){r(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(r(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function oe(b){return G(b,1)}function pe(b,S){var M=b.Ca;0>b.b&&Z(b);var W=b.b,ae=M*S>>>8,ie=(b.I>>>W>ae)+0;for(ie?(M-=ae,b.I-=ae+1<<W>>>0):M=ae+1,W=M,ae=0;256<=W;)ae+=8,W>>=8;return W=7^ae+tl[W],b.b-=W,b.Ca=(M<<W)-1,ie}function xe(b,S,M){b[S+0]=M>>24&255,b[S+1]=M>>16&255,b[S+2]=M>>8&255,b[S+3]=255&M}function _e(b,S){return b[S+0]|b[S+1]<<8}function Fe(b,S){return _e(b,S)|b[S+2]<<16}function he(b,S){return _e(b,S)|_e(b,S+2)<<16}function Ae(b,S){var M=1<<S;return r(b!=null),r(0<S),b.X=i(M),b.X==null?0:(b.Mb=32-S,b.Xa=S,1)}function ct(b,S){r(b!=null),r(S!=null),r(b.Xa==S.Xa),a(S.X,0,b.X,0,1<<S.Xa)}function gt(){this.X=[],this.Xa=this.Mb=0}function pt(b,S,M,W){r(M!=null),r(W!=null);var ae=M[0],ie=W[0];return ae==0&&(ae=(b*ie+S/2)/S),ie==0&&(ie=(S*ae+b/2)/b),0>=ae||0>=ie?0:(M[0]=ae,W[0]=ie,1)}function Se(b,S){return b+(1<<S)-1>>>S}function it(b,S){return((4278255360&b)+(4278255360&S)>>>0&4278255360)+((16711935&b)+(16711935&S)>>>0&16711935)>>>0}function Ke(b,S){_[S]=function(M,W,ae,ie,le,de,ue){var fe;for(fe=0;fe<le;++fe){var je=_[b](de[ue+fe-1],ae,ie+fe);de[ue+fe]=it(M[W+fe],je)}}}function Ct(){this.ud=this.hd=this.jd=0}function jt(b,S){return((4278124286&(b^S))>>>1)+(b&S)>>>0}function ur(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Mt(b,S){return ur(b+(b-S+.5>>1))}function zt(b,S,M){return Math.abs(S-M)-Math.abs(b-M)}function Or(b,S,M,W,ae,ie,le){for(W=ie[le-1],M=0;M<ae;++M)ie[le+M]=W=it(b[S+M],W)}function $t(b,S,M,W,ae){var ie;for(ie=0;ie<M;++ie){var le=b[S+ie],de=le>>8&255,ue=16711935&(ue=(ue=16711935&le)+((de<<16)+de));W[ae+ie]=(4278255360&le)+ue>>>0}}function _t(b,S){S.jd=255&b,S.hd=b>>8&255,S.ud=b>>16&255}function Et(b,S,M,W,ae,ie){var le;for(le=0;le<W;++le){var de=S[M+le],ue=de>>>8,fe=de,je=255&(je=(je=de>>>16)+((b.jd<<24>>24)*(ue<<24>>24)>>>5));fe=255&(fe=(fe+=(b.hd<<24>>24)*(ue<<24>>24)>>>5)+((b.ud<<24>>24)*(je<<24>>24)>>>5)),ae[ie+le]=(4278255360&de)+(je<<16)+fe}}function Dt(b,S,M,W,ae){_[S]=function(ie,le,de,ue,fe,je,Ie,me,Be){for(ue=Ie;ue<me;++ue)for(Ie=0;Ie<Be;++Ie)fe[je++]=ae(de[W(ie[le++])])},_[b]=function(ie,le,de,ue,fe,je,Ie){var me=8>>ie.b,Be=ie.Ea,Ue=ie.K[0],Ge=ie.w;if(8>me)for(ie=(1<<ie.b)-1,Ge=(1<<me)-1;le<de;++le){var Qe,$e=0;for(Qe=0;Qe<Be;++Qe)Qe&ie||($e=W(ue[fe++])),je[Ie++]=ae(Ue[$e&Ge]),$e>>=me}else _["VP8LMapColor"+M](ue,fe,Ue,Ge,je,Ie,le,de,Be)}}function ia(b,S,M,W,ae){for(M=S+M;S<M;){var ie=b[S++];W[ae++]=ie>>16&255,W[ae++]=ie>>8&255,W[ae++]=255&ie}}function Qr(b,S,M,W,ae){for(M=S+M;S<M;){var ie=b[S++];W[ae++]=ie>>16&255,W[ae++]=ie>>8&255,W[ae++]=255&ie,W[ae++]=ie>>24&255}}function Ot(b,S,M,W,ae){for(M=S+M;S<M;){var ie=(le=b[S++])>>16&240|le>>12&15,le=240&le|le>>28&15;W[ae++]=ie,W[ae++]=le}}function wr(b,S,M,W,ae){for(M=S+M;S<M;){var ie=(le=b[S++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;W[ae++]=ie,W[ae++]=le}}function Dr(b,S,M,W,ae){for(M=S+M;S<M;){var ie=b[S++];W[ae++]=255&ie,W[ae++]=ie>>8&255,W[ae++]=ie>>16&255}}function wt(b,S,M,W,ae,ie){if(ie==0)for(M=S+M;S<M;)xe(W,((ie=b[S++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),ae+=32;else a(W,ae,b,S,M)}function hr(b,S){_[S][0]=_[b+"0"],_[S][1]=_[b+"1"],_[S][2]=_[b+"2"],_[S][3]=_[b+"3"],_[S][4]=_[b+"4"],_[S][5]=_[b+"5"],_[S][6]=_[b+"6"],_[S][7]=_[b+"7"],_[S][8]=_[b+"8"],_[S][9]=_[b+"9"],_[S][10]=_[b+"10"],_[S][11]=_[b+"11"],_[S][12]=_[b+"12"],_[S][13]=_[b+"13"],_[S][14]=_[b+"0"],_[S][15]=_[b+"0"]}function ir(b){return b==_A||b==Rc||b==Pd||b==Qd}function Ht(){this.eb=[],this.size=this.A=this.fb=0}function ka(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function et(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ht,this.f.kb=new ka,this.sd=null}function Xe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function nt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function _r(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function vt(b,S){var M=b.T,W=S.ba.f.RGBA,ae=W.eb,ie=W.fb+b.ka*W.A,le=Ys[S.ba.S],de=b.y,ue=b.O,fe=b.f,je=b.N,Ie=b.ea,me=b.W,Be=S.cc,Ue=S.dc,Ge=S.Mc,Qe=S.Nc,$e=b.ka,qe=b.ka+b.T,tt=b.U,rt=tt+1>>1;for($e==0?le(de,ue,null,null,fe,je,Ie,me,fe,je,Ie,me,ae,ie,null,null,tt):(le(S.ec,S.fc,de,ue,Be,Ue,Ge,Qe,fe,je,Ie,me,ae,ie-W.A,ae,ie,tt),++M);$e+2<qe;$e+=2)Be=fe,Ue=je,Ge=Ie,Qe=me,je+=b.Rc,me+=b.Rc,ie+=2*W.A,le(de,(ue+=2*b.fa)-b.fa,de,ue,Be,Ue,Ge,Qe,fe,je,Ie,me,ae,ie-W.A,ae,ie,tt);return ue+=b.fa,b.j+qe<b.o?(a(S.ec,S.fc,de,ue,tt),a(S.cc,S.dc,fe,je,rt),a(S.Mc,S.Nc,Ie,me,rt),M--):1&qe||le(de,ue,null,null,fe,je,Ie,me,fe,je,Ie,me,ae,ie+W.A,null,null,tt),M}function Zt(b,S,M){var W=b.F,ae=[b.J];if(W!=null){var ie=b.U,le=S.ba.S,de=le==Id||le==Pd;S=S.ba.f.RGBA;var ue=[0],fe=b.ka;ue[0]=b.T,b.Kb&&(fe==0?--ue[0]:(--fe,ae[0]-=b.width),b.j+b.ka+b.T==b.o&&(ue[0]=b.o-b.j-fe));var je=S.eb;fe=S.fb+fe*S.A,b=Ud(W,ae[0],b.width,ie,ue,je,fe+(de?0:3),S.A),r(M==ue),b&&ir(le)&&Qc(je,fe,de,ie,ue,S.A)}return 0}function oa(b){var S=b.ma,M=S.ba.S,W=11>M,ae=M==Ql||M==Ld||M==Id||M==Ra||M==12||ir(M);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!yA(S.Oa,b,ae?11:12))return 0;if(ae&&ir(M)&&Du(),b.da)alert("todo:use_scaling");else{if(W){if(S.Ib=_r,b.Kb){if(M=b.U+1>>1,S.memory=i(b.U+2*M),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+b.U,S.Mc=S.cc,S.Nc=S.dc+M,S.Ib=vt,Du()}}else alert("todo:EmitYUV");ae&&(S.Jb=Zt,W&&Li())}if(W&&!vs){for(b=0;256>b;++b)Xs[b]=89858*(b-128)+ao>>sl,Js[b]=-22014*(b-128)+ao,DA[b]=-45773*(b-128),Hc[b]=113618*(b-128)+ao>>sl;for(b=Sa;b<Ua;++b)S=76283*(b-16)+ao>>sl,Mu[b-Sa]=pn(S,255),Jm[b-Sa]=pn(S+8>>4,15);vs=1}return 1}function Xt(b){var S=b.ma,M=b.U,W=b.T;return r(!(1&b.ka)),0>=M||0>=W?0:(M=S.Ib(b,S),S.Jb!=null&&S.Jb(b,S,M),S.Dc+=M,1)}function Nn(b){b.ma.memory=null}function gs(b,S,M,W){return k(b,8)!=47?0:(S[0]=k(b,14)+1,M[0]=k(b,14)+1,W[0]=k(b,1),k(b,3)!=0?0:!b.h)}function hn(b,S){if(4>b)return b+1;var M=b-2>>1;return(2+(1&b)<<M)+k(S,M)+1}function is(b,S){return 120<S?S-120:1<=(M=((M=Tx[S-1])>>4)*b+(8-(15&M)))?M:1;var M}function dt(b,S,M){var W=te(M),ae=b[S+=255&W].g-8;return 0<ae&&(X(M,M.u+8),W=te(M),S+=b[S].value,S+=W&(1<<ae)-1),X(M,M.u+b[S].g),b[S].value}function za(b,S,M){return M.g+=b.g,M.value+=b.value<<S>>>0,r(8>=M.g),b.g}function Ya(b,S,M){var W=b.xc;return r((S=W==0?0:b.vc[b.md*(M>>W)+(S>>W)])<b.Wb),b.Ya[S]}function Ns(b,S,M,W){var ae=b.ab,ie=b.c*S,le=b.C;S=le+S;var de=M,ue=W;for(W=b.Ta,M=b.Ua;0<ae--;){var fe=b.gc[ae],je=le,Ie=S,me=de,Be=ue,Ue=(ue=W,de=M,fe.Ea);switch(r(je<Ie),r(Ie<=fe.nc),fe.hc){case 2:_n(me,Be,(Ie-je)*Ue,ue,de);break;case 0:var Ge=je,Qe=Ie,$e=ue,qe=de,tt=(Wt=fe).Ea;Ge==0&&(rl(me,Be,null,null,1,$e,qe),Or(me,Be+1,0,0,tt-1,$e,qe+1),Be+=tt,qe+=tt,++Ge);for(var rt=1<<Wt.b,rr=rt-1,Rt=Se(tt,Wt.b),kr=Wt.K,Wt=Wt.w+(Ge>>Wt.b)*Rt;Ge<Qe;){var ta=kr,vn=Wt,Lr=1;for(Bo(me,Be,$e,qe-tt,1,$e,qe);Lr<tt;){var Tt=(Lr&~rr)+rt;Tt>tt&&(Tt=tt),(0,Uc[ta[vn++]>>8&15])(me,Be+ +Lr,$e,qe+Lr-tt,Tt-Lr,$e,qe+Lr),Lr=Tt}Be+=tt,qe+=tt,++Ge&rr||(Wt+=Rt)}Ie!=fe.nc&&a(ue,de-Ue,ue,de+(Ie-je-1)*Ue,Ue);break;case 1:for(Ue=me,Qe=Be,tt=(me=fe.Ea)-(qe=me&~($e=(Be=1<<fe.b)-1)),Ge=Se(me,fe.b),rt=fe.K,fe=fe.w+(je>>fe.b)*Ge;je<Ie;){for(rr=rt,Rt=fe,kr=new Ct,Wt=Qe+qe,ta=Qe+me;Qe<Wt;)_t(rr[Rt++],kr),jA(kr,Ue,Qe,Be,ue,de),Qe+=Be,de+=Be;Qe<ta&&(_t(rr[Rt++],kr),jA(kr,Ue,Qe,tt,ue,de),Qe+=tt,de+=tt),++je&$e||(fe+=Ge)}break;case 3:if(me==ue&&Be==de&&0<fe.b){for(Qe=ue,me=Ue=de+(Ie-je)*Ue-(qe=(Ie-je)*Se(fe.Ea,fe.b)),Be=ue,$e=de,Ge=[],qe=(tt=qe)-1;0<=qe;--qe)Ge[qe]=Be[$e+qe];for(qe=tt-1;0<=qe;--qe)Qe[me+qe]=Ge[qe];kc(fe,je,Ie,ue,Ue,ue,de)}else kc(fe,je,Ie,me,Be,ue,de)}de=W,ue=M}ue!=M&&a(W,M,de,ue,ie)}function fi(b,S){var M=b.V,W=b.Ba+b.c*b.C,ae=S-b.C;if(r(S<=b.l.o),r(16>=ae),0<ae){var ie=b.l,le=b.Ta,de=b.Ua,ue=ie.width;if(Ns(b,ae,M,W),ae=de=[de],r((M=b.C)<(W=S)),r(ie.v<ie.va),W>ie.o&&(W=ie.o),M<ie.j){var fe=ie.j-M;M=ie.j,ae[0]+=fe*ue}if(M>=W?M=0:(ae[0]+=4*ie.v,ie.ka=M-ie.j,ie.U=ie.va-ie.v,ie.T=W-M,M=1),M){if(de=de[0],11>(M=b.ca).S){var je=M.f.RGBA,Ie=(W=M.S,ae=ie.U,ie=ie.T,fe=je.eb,je.A),me=ie;for(je=je.fb+b.Ma*je.A;0<me--;){var Be=le,Ue=de,Ge=ae,Qe=fe,$e=je;switch(W){case Pu:NA(Be,Ue,Ge,Qe,$e);break;case Ql:al(Be,Ue,Ge,Qe,$e);break;case _A:al(Be,Ue,Ge,Qe,$e),Qc(Qe,$e,0,Ge,1,0);break;case qm:Lc(Be,Ue,Ge,Qe,$e);break;case Ld:wt(Be,Ue,Ge,Qe,$e,1);break;case Rc:wt(Be,Ue,Ge,Qe,$e,1),Qc(Qe,$e,0,Ge,1,0);break;case Id:wt(Be,Ue,Ge,Qe,$e,0);break;case Pd:wt(Be,Ue,Ge,Qe,$e,0),Qc(Qe,$e,1,Ge,1,0);break;case Ra:Ll(Be,Ue,Ge,Qe,$e);break;case Qd:Ll(Be,Ue,Ge,Qe,$e),ih(Qe,$e,Ge,1,0);break;case Qu:Il(Be,Ue,Ge,Qe,$e);break;default:r(0)}de+=ue,je+=Ie}b.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");r(b.Ma<=M.height)}}b.C=S,r(b.C<=b.i)}function Xa(b){var S;if(0<b.ua)return 0;for(S=0;S<b.Wb;++S){var M=b.Ya[S].G,W=b.Ya[S].H;if(0<M[1][W[1]+0].g||0<M[2][W[2]+0].g||0<M[3][W[3]+0].g)return 0}return 1}function Oe(b,S,M,W,ae,ie){if(b.Z!=0){var le=b.qd,de=b.rd;for(r(Ss[b.Z]!=null);S<M;++S)Ss[b.Z](le,de,W,ae,W,ae,ie),le=W,de=ae,ae+=ie;b.qd=le,b.rd=de}}function Ze(b,S){var M=b.l.ma,W=M.Z==0||M.Z==1?b.l.j:b.C;if(W=b.C<W?W:b.C,r(S<=b.l.o),S>W){var ae=b.l.width,ie=M.ca,le=M.tb+ae*W,de=b.V,ue=b.Ba+b.c*W,fe=b.gc;r(b.ab==1),r(fe[0].hc==3),to(fe[0],W,S,de,ue,ie,le),Oe(M,W,S,ie,le,ae)}b.C=b.Ma=S}function St(b,S,M,W,ae,ie,le){var de=b.$/W,ue=b.$%W,fe=b.m,je=b.s,Ie=M+b.$,me=Ie;ae=M+W*ae;var Be=M+W*ie,Ue=280+je.ua,Ge=b.Pb?de:16777216,Qe=0<je.ua?je.Wa:null,$e=je.wc,qe=Ie<Be?Ya(je,ue,de):null;r(b.C<ie),r(Be<=ae);var tt=!1;e:for(;;){for(;tt||Ie<Be;){var rt=0;if(de>=Ge){var rr=Ie-M;r((Ge=b).Pb),Ge.wd=Ge.m,Ge.xd=rr,0<Ge.s.ua&&ct(Ge.s.Wa,Ge.s.vb),Ge=de+Tu}if(ue&$e||(qe=Ya(je,ue,de)),r(qe!=null),qe.Qb&&(S[Ie]=qe.qb,tt=!0),!tt)if(O(fe),qe.jc){rt=fe,rr=S;var Rt=Ie,kr=qe.pd[te(rt)&Ii-1];r(qe.jc),256>kr.g?(X(rt,rt.u+kr.g),rr[Rt]=kr.value,rt=0):(X(rt,rt.u+kr.g-256),r(256<=kr.value),rt=kr.value),rt==0&&(tt=!0)}else rt=dt(qe.G[0],qe.H[0],fe);if(fe.h)break;if(tt||256>rt){if(!tt)if(qe.nd)S[Ie]=(qe.qb|rt<<8)>>>0;else{if(O(fe),tt=dt(qe.G[1],qe.H[1],fe),O(fe),rr=dt(qe.G[2],qe.H[2],fe),Rt=dt(qe.G[3],qe.H[3],fe),fe.h)break;S[Ie]=(Rt<<24|tt<<16|rt<<8|rr)>>>0}if(tt=!1,++Ie,++ue>=W&&(ue=0,++de,le!=null&&de<=ie&&!(de%16)&&le(b,de),Qe!=null))for(;me<Ie;)rt=S[me++],Qe.X[(506832829*rt&4294967295)>>>Qe.Mb]=rt}else if(280>rt){if(rt=hn(rt-256,fe),rr=dt(qe.G[4],qe.H[4],fe),O(fe),rr=is(W,rr=hn(rr,fe)),fe.h)break;if(Ie-M<rr||ae-Ie<rt)break e;for(Rt=0;Rt<rt;++Rt)S[Ie+Rt]=S[Ie+Rt-rr];for(Ie+=rt,ue+=rt;ue>=W;)ue-=W,++de,le!=null&&de<=ie&&!(de%16)&&le(b,de);if(r(Ie<=ae),ue&$e&&(qe=Ya(je,ue,de)),Qe!=null)for(;me<Ie;)rt=S[me++],Qe.X[(506832829*rt&4294967295)>>>Qe.Mb]=rt}else{if(!(rt<Ue))break e;for(tt=rt-280,r(Qe!=null);me<Ie;)rt=S[me++],Qe.X[(506832829*rt&4294967295)>>>Qe.Mb]=rt;rt=Ie,r(!(tt>>>(rr=Qe).Xa)),S[rt]=rr.X[tt],tt=!0}tt||r(fe.h==Y(fe))}if(b.Pb&&fe.h&&Ie<ae)r(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&ct(b.s.vb,b.s.Wa);else{if(fe.h)break e;le!=null&&le(b,de>ie?ie:de),b.a=0,b.$=Ie-M}return 1}return b.a=3,0}function st(b){r(b!=null),b.vc=null,b.yc=null,b.Ya=null;var S=b.Wa;S!=null&&(S.X=null),b.vb=null,r(b!=null)}function Nt(){var b=new tr;return b==null?null:(b.a=0,b.xb=FA,hr("Predictor","VP8LPredictors"),hr("Predictor","VP8LPredictors_C"),hr("PredictorAdd","VP8LPredictorsAdd"),hr("PredictorAdd","VP8LPredictorsAdd_C"),_n=$t,jA=Et,NA=ia,al=Qr,Ll=Ot,Il=wr,Lc=Dr,_.VP8LMapColor32b=Co,_.VP8LMapColor8b=Dc,b)}function cr(b,S,M,W,ae){var ie=1,le=[b],de=[S],ue=W.m,fe=W.s,je=null,Ie=0;e:for(;;){if(M)for(;ie&&k(ue,1);){var me=le,Be=de,Ue=W,Ge=1,Qe=Ue.m,$e=Ue.gc[Ue.ab],qe=k(Qe,2);if(Ue.Oc&1<<qe)ie=0;else{switch(Ue.Oc|=1<<qe,$e.hc=qe,$e.Ea=me[0],$e.nc=Be[0],$e.K=[null],++Ue.ab,r(4>=Ue.ab),qe){case 0:case 1:$e.b=k(Qe,3)+2,Ge=cr(Se($e.Ea,$e.b),Se($e.nc,$e.b),0,Ue,$e.K),$e.K=$e.K[0];break;case 3:var tt,rt=k(Qe,8)+1,rr=16<rt?0:4<rt?1:2<rt?2:3;if(me[0]=Se($e.Ea,rr),$e.b=rr,tt=Ge=cr(rt,1,0,Ue,$e.K)){var Rt,kr=rt,Wt=$e,ta=1<<(8>>Wt.b),vn=i(ta);if(vn==null)tt=0;else{var Lr=Wt.K[0],Tt=Wt.w;for(vn[0]=Wt.K[0][0],Rt=1;Rt<1*kr;++Rt)vn[Rt]=it(Lr[Tt+Rt],vn[Rt-1]);for(;Rt<4*ta;++Rt)vn[Rt]=0;Wt.K[0]=null,Wt.K[0]=vn,tt=1}}Ge=tt;break;case 2:break;default:r(0)}ie=Ge}}if(le=le[0],de=de[0],ie&&k(ue,1)&&!(ie=1<=(Ie=k(ue,4))&&11>=Ie)){W.a=3;break e}var bt;if(bt=ie)t:{var En,jr,Zr,qa=W,os=le,Qn=de,dn=Ie,zn=M,ls=qa.m,en=qa.s,na=[null],xa=1,tn=0,va=Gm[dn];r:for(;;){if(zn&&k(ls,1)){var wn=k(ls,3)+2,yn=Se(os,wn),Ta=Se(Qn,wn),_s=yn*Ta;if(!cr(yn,Ta,0,qa,na))break r;for(na=na[0],en.xc=wn,En=0;En<_s;++En){var La=na[En]>>8&65535;na[En]=La,La>=xa&&(xa=La+1)}}if(ls.h)break r;for(jr=0;5>jr;++jr){var Ma=Tc[jr];!jr&&0<dn&&(Ma+=1<<dn),tn<Ma&&(tn=Ma)}var Rn=o(xa*va,J),ws=xa,Zs=o(ws,re);if(Zs==null)var Fn=null;else r(65536>=ws),Fn=Zs;var kn=i(tn);if(Fn==null||kn==null||Rn==null){qa.a=1;break r}var Es=Rn;for(En=Zr=0;En<xa;++En){var Oa=Fn[En],Fs=Oa.G,Ri=Oa.H,no=0,cs=1,Dn=0;for(jr=0;5>jr;++jr){Ma=Tc[jr],Fs[jr]=Es,Ri[jr]=Zr,!jr&&0<dn&&(Ma+=1<<dn);n:{var Ml,ol=Ma,UA=qa,Eo=kn,ep=Es,xh=Zr,Ja=0,so=UA.m,vh=k(so,1);if(s(Eo,0,0,ol),vh){var wh=k(so,1)+1,Ou=k(so,1),Hu=k(so,Ou==0?1:8);Eo[Hu]=1,wh==2&&(Eo[Hu=k(so,8)]=1);var Fo=1}else{var rn=i(19),Tn=k(so,4)+4;if(19<Tn){UA.a=3;var Un=0;break n}for(Ml=0;Ml<Tn;++Ml)rn[Rx[Ml]]=k(so,3);var LA=void 0,ll=void 0,IA=UA,Kx=rn,Vn=ol,$u=Eo,Hd=0,ko=IA.m,io=8,xi=o(128,J);a:for(;H(xi,0,7,Kx,19);){if(k(ko,1)){var $d=2+2*k(ko,3);if((LA=2+k(ko,$d))>Vn)break a}else LA=Vn;for(ll=0;ll<Vn&&LA--;){O(ko);var Ku=xi[0+(127&te(ko))];X(ko,ko.u+Ku.g);var Ol=Ku.value;if(16>Ol)$u[ll++]=Ol,Ol!=0&&(io=Ol);else{var tp=Ol==16,yh=Ol-16,rp=Ru[yh],bh=k(ko,Rd[yh])+rp;if(ll+bh>Vn)break a;for(var ap=tp?io:0;0<bh--;)$u[ll++]=ap}}Hd=1;break a}Hd||(IA.a=3),Fo=Hd}(Fo=Fo&&!so.h)&&(Ja=H(ep,xh,8,Eo,ol)),Fo&&Ja!=0?Un=Ja:(UA.a=3,Un=0)}if(Un==0)break r;if(cs&&Wm[jr]==1&&(cs=Es[Zr].g==0),no+=Es[Zr].g,Zr+=Un,3>=jr){var PA,zu=kn[0];for(PA=1;PA<Ma;++PA)kn[PA]>zu&&(zu=kn[PA]);Dn+=zu}}if(Oa.nd=cs,Oa.Qb=0,cs&&(Oa.qb=(Fs[3][Ri[3]+0].value<<24|Fs[1][Ri[1]+0].value<<16|Fs[2][Ri[2]+0].value)>>>0,no==0&&256>Fs[0][Ri[0]+0].value&&(Oa.Qb=1,Oa.qb+=Fs[0][Ri[0]+0].value<<8)),Oa.jc=!Oa.Qb&&6>Dn,Oa.jc){var Kd,vi=Oa;for(Kd=0;Kd<Ii;++Kd){var cl=Kd,oo=vi.pd[cl],Kc=vi.G[0][vi.H[0]+cl];256<=Kc.value?(oo.g=Kc.g+256,oo.value=Kc.value):(oo.g=0,oo.value=0,cl>>=za(Kc,8,oo),cl>>=za(vi.G[1][vi.H[1]+cl],16,oo),cl>>=za(vi.G[2][vi.H[2]+cl],0,oo),za(vi.G[3][vi.H[3]+cl],24,oo))}}}en.vc=na,en.Wb=xa,en.Ya=Fn,en.yc=Rn,bt=1;break t}bt=0}if(!(ie=bt)){W.a=3;break e}if(0<Ie){if(fe.ua=1<<Ie,!Ae(fe.Wa,Ie)){W.a=1,ie=0;break e}}else fe.ua=0;var Vu=W,qu=le,np=de,Wu=Vu.s,Gu=Wu.xc;if(Vu.c=qu,Vu.i=np,Wu.md=Se(qu,Gu),Wu.wc=Gu==0?-1:(1<<Gu)-1,M){W.xb=_o;break e}if((je=i(le*de))==null){W.a=1,ie=0;break e}ie=(ie=St(W,je,0,le,de,de,null))&&!ue.h;break e}return ie?(ae!=null?ae[0]=je:(r(je==null),r(M)),W.$=0,M||st(fe)):st(fe),ie}function Ar(b,S){var M=b.c*b.i,W=M+S+16*S;return r(b.c<=S),b.V=i(W),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+M+S,1)}function Hr(b,S){var M=b.C,W=S-M,ae=b.V,ie=b.Ba+b.c*M;for(r(S<=b.l.o);0<W;){var le=16<W?16:W,de=b.l.ma,ue=b.l.width,fe=ue*le,je=de.ca,Ie=de.tb+ue*M,me=b.Ta,Be=b.Ua;Ns(b,le,ae,ie),oh(me,Be,je,Ie,fe),Oe(de,M,M+le,je,Ie,ue),W-=le,ae+=le*b.c,M+=le}r(M==S),b.C=b.Ma=S}function Yr(){this.ub=this.yd=this.td=this.Rb=0}function Qt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ja(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function er(){this.Yb=(function(){var b=[];return(function S(M,W,ae){for(var ie=ae[W],le=0;le<ie&&(M.push(ae.length>W+1?[]:0),!(ae.length<W+1));le++)S(M[le],W+1,ae)})(b,0,[3,11]),b})()}function Na(){this.jb=i(3),this.Wc=l([4,8],er),this.Xc=l([4,17],er)}function Rr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ur(){this.ld=this.La=this.dd=this.tc=0}function Vt(){this.Na=this.la=0}function Vr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function on(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Rs(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ur),this.Y=0,this.ya=Array(new on),this.aa=0,this.l=new Ba}function Bn(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Wo(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new Yr,this.Kc=new Qt,this.ed=new Rr,this.Qa=new ja,this.Ic=this.$c=this.Aa=0,this.D=new Rs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,D),this.ia=0,this.pb=o(4,Vr),this.Pa=new Na,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Bn),this.Hd=0,this.rb=Array(new Vt),this.sb=0,this.wa=Array(new Ur),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new on),this.L=this.aa=0,this.gd=l([4,2],Ur),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ba(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Go(){var b=new Wo;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,Mc||(Mc=mt)),b}function ln(b,S,M){return b.a==0&&(b.a=S,b.sc=M,b.cb=0),0}function wc(b,S,M){return 3<=M&&b[S+0]==157&&b[S+1]==1&&b[S+2]==42}function xo(b,S){if(b==null)return 0;if(b.a=0,b.sc="OK",S==null)return ln(b,2,"null VP8Io passed to VP8GetHeaders()");var M=S.data,W=S.w,ae=S.ha;if(4>ae)return ln(b,7,"Truncated header.");var ie=M[W+0]|M[W+1]<<8|M[W+2]<<16,le=b.Od;if(le.Rb=!(1&ie),le.td=ie>>1&7,le.yd=ie>>4&1,le.ub=ie>>5,3<le.td)return ln(b,3,"Incorrect keyframe parameters.");if(!le.yd)return ln(b,4,"Frame not displayable.");W+=3,ae-=3;var de=b.Kc;if(le.Rb){if(7>ae)return ln(b,7,"cannot parse picture header");if(!wc(M,W,ae))return ln(b,3,"Bad code word");de.c=16383&(M[W+4]<<8|M[W+3]),de.Td=M[W+4]>>6,de.i=16383&(M[W+6]<<8|M[W+5]),de.Ud=M[W+6]>>6,W+=7,ae-=7,b.za=de.c+15>>4,b.Ub=de.i+15>>4,S.width=de.c,S.height=de.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,s((ie=b.Pa).jb,0,255,ie.jb.length),r((ie=b.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,s(ie.Zb,0,0,ie.Zb.length),s(ie.Lb,0,0,ie.Lb)}if(le.ub>ae)return ln(b,7,"bad partition length");z(ie=b.m,M,W,le.ub),W+=le.ub,ae-=le.ub,le.Rb&&(de.Ld=oe(ie),de.Kd=oe(ie)),de=b.Qa;var ue,fe=b.Pa;if(r(ie!=null),r(de!=null),de.Cb=oe(ie),de.Cb){if(de.Bb=oe(ie),oe(ie)){for(de.Fb=oe(ie),ue=0;4>ue;++ue)de.Zb[ue]=oe(ie)?V(ie,7):0;for(ue=0;4>ue;++ue)de.Lb[ue]=oe(ie)?V(ie,6):0}if(de.Bb)for(ue=0;3>ue;++ue)fe.jb[ue]=oe(ie)?G(ie,8):255}else de.Bb=0;if(ie.Ka)return ln(b,3,"cannot parse segment header");if((de=b.ed).zd=oe(ie),de.Tb=G(ie,6),de.wb=G(ie,3),de.Pc=oe(ie),de.Pc&&oe(ie)){for(fe=0;4>fe;++fe)oe(ie)&&(de.vd[fe]=V(ie,6));for(fe=0;4>fe;++fe)oe(ie)&&(de.od[fe]=V(ie,6))}if(b.L=de.Tb==0?0:de.zd?1:2,ie.Ka)return ln(b,3,"cannot parse filter header");var je=ae;if(ae=ue=W,W=ue+je,de=je,b.Xb=(1<<G(b.m,2))-1,je<3*(fe=b.Xb))M=7;else{for(ue+=3*fe,de-=3*fe,je=0;je<fe;++je){var Ie=M[ae+0]|M[ae+1]<<8|M[ae+2]<<16;Ie>de&&(Ie=de),z(b.Jc[+je],M,ue,Ie),ue+=Ie,de-=Ie,ae+=3}z(b.Jc[+fe],M,ue,de),M=ue<W?0:5}if(M!=0)return ln(b,M,"cannot parse partitions");for(M=G(ue=b.m,7),ae=oe(ue)?V(ue,4):0,W=oe(ue)?V(ue,4):0,de=oe(ue)?V(ue,4):0,fe=oe(ue)?V(ue,4):0,ue=oe(ue)?V(ue,4):0,je=b.Qa,Ie=0;4>Ie;++Ie){if(je.Cb){var me=je.Zb[Ie];je.Fb||(me+=M)}else{if(0<Ie){b.pb[Ie]=b.pb[0];continue}me=M}var Be=b.pb[Ie];Be.Sc[0]=EA[pn(me+ae,127)],Be.Sc[1]=Td[pn(me+0,127)],Be.Eb[0]=2*EA[pn(me+W,127)],Be.Eb[1]=101581*Td[pn(me+de,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=EA[pn(me+fe,117)],Be.Qc[1]=Td[pn(me+ue,127)],Be.lc=me+ue}if(!le.Rb)return ln(b,4,"Not a key frame.");for(oe(ie),le=b.Pa,M=0;4>M;++M){for(ae=0;8>ae;++ae)for(W=0;3>W;++W)for(de=0;11>de;++de)fe=pe(ie,Ox[M][ae][W][de])?G(ie,8):Xm[M][ae][W][de],le.Wc[M][ae].Yb[W][de]=fe;for(ae=0;17>ae;++ae)le.Xc[M][ae]=le.Wc[M][mh[ae]]}return b.kc=oe(ie),b.kc&&(b.Bd=G(ie,8)),b.cb=1}function mt(b,S,M,W,ae,ie,le){var de=S[ae].Yb[M];for(M=0;16>ae;++ae){if(!pe(b,de[M+0]))return ae;for(;!pe(b,de[M+1]);)if(de=S[++ae].Yb[0],M=0,ae==16)return 16;var ue=S[ae+1].Yb;if(pe(b,de[M+2])){var fe=b,je=0;if(pe(fe,(me=de)[(Ie=M)+3]))if(pe(fe,me[Ie+6])){for(de=0,Ie=2*(je=pe(fe,me[Ie+8]))+(me=pe(fe,me[Ie+9+je])),je=0,me=fh[Ie];me[de];++de)je+=je+pe(fe,me[de]);je+=3+(8<<Ie)}else pe(fe,me[Ie+7])?(je=7+2*pe(fe,165),je+=pe(fe,145)):je=5+pe(fe,159);else je=pe(fe,me[Ie+4])?3+pe(fe,me[Ie+5]):2;de=ue[2]}else je=1,de=ue[1];ue=le+hh[ae],0>(fe=b).b&&Z(fe);var Ie,me=fe.b,Be=(Ie=fe.Ca>>1)-(fe.I>>me)>>31;--fe.b,fe.Ca+=Be,fe.Ca|=1,fe.I-=(Ie+1&Be)<<me,ie[ue]=((je^Be)-Be)*W[(0<ae)+0]}return 16}function We(b){var S=b.rb[b.sb-1];S.la=0,S.Na=0,s(b.zc,0,0,b.zc.length),b.ja=0}function Xr(b,S,M,W,ae){ae=b[S+M+32*W]+(ae>>3),b[S+M+32*W]=-256&ae?0>ae?0:255:ae}function yt(b,S,M,W,ae,ie){Xr(b,S,0,M,W+ae),Xr(b,S,1,M,W+ie),Xr(b,S,2,M,W-ie),Xr(b,S,3,M,W-ae)}function aa(b){return(20091*b>>16)+b}function ma(b,S,M,W){var ae,ie=0,le=i(16);for(ae=0;4>ae;++ae){var de=b[S+0]+b[S+8],ue=b[S+0]-b[S+8],fe=(35468*b[S+4]>>16)-aa(b[S+12]),je=aa(b[S+4])+(35468*b[S+12]>>16);le[ie+0]=de+je,le[ie+1]=ue+fe,le[ie+2]=ue-fe,le[ie+3]=de-je,ie+=4,S++}for(ae=ie=0;4>ae;++ae)de=(b=le[ie+0]+4)+le[ie+8],ue=b-le[ie+8],fe=(35468*le[ie+4]>>16)-aa(le[ie+12]),Xr(M,W,0,0,de+(je=aa(le[ie+4])+(35468*le[ie+12]>>16))),Xr(M,W,1,0,ue+fe),Xr(M,W,2,0,ue-fe),Xr(M,W,3,0,de-je),ie++,W+=32}function Cn(b,S,M,W){var ae=b[S+0]+4,ie=35468*b[S+4]>>16,le=aa(b[S+4]),de=35468*b[S+1]>>16;yt(M,W,0,ae+le,b=aa(b[S+1]),de),yt(M,W,1,ae+ie,b,de),yt(M,W,2,ae-ie,b,de),yt(M,W,3,ae-le,b,de)}function Jr(b,S,M,W,ae){ma(b,S,M,W),ae&&ma(b,S+16,M,W+4)}function cn(b,S,M,W){Ic(b,S+0,M,W,1),Ic(b,S+32,M,W+128,1)}function Ca(b,S,M,W){var ae;for(b=b[S+0]+4,ae=0;4>ae;++ae)for(S=0;4>S;++S)Xr(M,W,S,ae,b)}function Yi(b,S,M,W){b[S+0]&&ga(b,S+0,M,W),b[S+16]&&ga(b,S+16,M,W+4),b[S+32]&&ga(b,S+32,M,W+128),b[S+48]&&ga(b,S+48,M,W+128+4)}function la(b,S,M,W){var ae,ie=i(16);for(ae=0;4>ae;++ae){var le=b[S+0+ae]+b[S+12+ae],de=b[S+4+ae]+b[S+8+ae],ue=b[S+4+ae]-b[S+8+ae],fe=b[S+0+ae]-b[S+12+ae];ie[0+ae]=le+de,ie[8+ae]=le-de,ie[4+ae]=fe+ue,ie[12+ae]=fe-ue}for(ae=0;4>ae;++ae)le=(b=ie[0+4*ae]+3)+ie[3+4*ae],de=ie[1+4*ae]+ie[2+4*ae],ue=ie[1+4*ae]-ie[2+4*ae],fe=b-ie[3+4*ae],M[W+0]=le+de>>3,M[W+16]=fe+ue>>3,M[W+32]=le-de>>3,M[W+48]=fe-ue>>3,W+=64}function mn(b,S,M){var W,ae=S-32,ie=Ts,le=255-b[ae-1];for(W=0;W<M;++W){var de,ue=ie,fe=le+b[S-1];for(de=0;de<M;++de)b[S+de]=ue[fe+b[ae+de]];S+=32}}function pA(b,S){mn(b,S,4)}function jd(b,S){mn(b,S,8)}function _u(b,S){mn(b,S,16)}function Eu(b,S){var M;for(M=0;16>M;++M)a(b,S+32*M,b,S-32,16)}function gA(b,S){var M;for(M=16;0<M;--M)s(b,S,b[S-1],16),S+=32}function Yo(b,S,M){var W;for(W=0;16>W;++W)s(S,M+32*W,b,16)}function Xi(b,S){var M,W=16;for(M=0;16>M;++M)W+=b[S-1+32*M]+b[S+M-32];Yo(W>>5,b,S)}function vo(b,S){var M,W=8;for(M=0;16>M;++M)W+=b[S-1+32*M];Yo(W>>4,b,S)}function Vs(b,S){var M,W=8;for(M=0;16>M;++M)W+=b[S+M-32];Yo(W>>4,b,S)}function Ei(b,S){Yo(128,b,S)}function yr(b,S,M){return b+2*S+M+2>>2}function yc(b,S){var M,W=S-32;for(W=new Uint8Array([yr(b[W-1],b[W+0],b[W+1]),yr(b[W+0],b[W+1],b[W+2]),yr(b[W+1],b[W+2],b[W+3]),yr(b[W+2],b[W+3],b[W+4])]),M=0;4>M;++M)a(b,S+32*M,W,0,W.length)}function wo(b,S){var M=b[S-1],W=b[S-1+32],ae=b[S-1+64],ie=b[S-1+96];xe(b,S+0,16843009*yr(b[S-1-32],M,W)),xe(b,S+32,16843009*yr(M,W,ae)),xe(b,S+64,16843009*yr(W,ae,ie)),xe(b,S+96,16843009*yr(ae,ie,ie))}function nh(b,S){var M,W=4;for(M=0;4>M;++M)W+=b[S+M-32]+b[S-1+32*M];for(W>>=3,M=0;4>M;++M)s(b,S+32*M,W,4)}function Fu(b,S){var M=b[S-1+0],W=b[S-1+32],ae=b[S-1+64],ie=b[S-1-32],le=b[S+0-32],de=b[S+1-32],ue=b[S+2-32],fe=b[S+3-32];b[S+0+96]=yr(W,ae,b[S-1+96]),b[S+1+96]=b[S+0+64]=yr(M,W,ae),b[S+2+96]=b[S+1+64]=b[S+0+32]=yr(ie,M,W),b[S+3+96]=b[S+2+64]=b[S+1+32]=b[S+0+0]=yr(le,ie,M),b[S+3+64]=b[S+2+32]=b[S+1+0]=yr(de,le,ie),b[S+3+32]=b[S+2+0]=yr(ue,de,le),b[S+3+0]=yr(fe,ue,de)}function hi(b,S){var M=b[S+1-32],W=b[S+2-32],ae=b[S+3-32],ie=b[S+4-32],le=b[S+5-32],de=b[S+6-32],ue=b[S+7-32];b[S+0+0]=yr(b[S+0-32],M,W),b[S+1+0]=b[S+0+32]=yr(M,W,ae),b[S+2+0]=b[S+1+32]=b[S+0+64]=yr(W,ae,ie),b[S+3+0]=b[S+2+32]=b[S+1+64]=b[S+0+96]=yr(ae,ie,le),b[S+3+32]=b[S+2+64]=b[S+1+96]=yr(ie,le,de),b[S+3+64]=b[S+2+96]=yr(le,de,ue),b[S+3+96]=yr(de,ue,ue)}function Xo(b,S){var M=b[S-1+0],W=b[S-1+32],ae=b[S-1+64],ie=b[S-1-32],le=b[S+0-32],de=b[S+1-32],ue=b[S+2-32],fe=b[S+3-32];b[S+0+0]=b[S+1+64]=ie+le+1>>1,b[S+1+0]=b[S+2+64]=le+de+1>>1,b[S+2+0]=b[S+3+64]=de+ue+1>>1,b[S+3+0]=ue+fe+1>>1,b[S+0+96]=yr(ae,W,M),b[S+0+64]=yr(W,M,ie),b[S+0+32]=b[S+1+96]=yr(M,ie,le),b[S+1+32]=b[S+2+96]=yr(ie,le,de),b[S+2+32]=b[S+3+96]=yr(le,de,ue),b[S+3+32]=yr(de,ue,fe)}function ku(b,S){var M=b[S+0-32],W=b[S+1-32],ae=b[S+2-32],ie=b[S+3-32],le=b[S+4-32],de=b[S+5-32],ue=b[S+6-32],fe=b[S+7-32];b[S+0+0]=M+W+1>>1,b[S+1+0]=b[S+0+64]=W+ae+1>>1,b[S+2+0]=b[S+1+64]=ae+ie+1>>1,b[S+3+0]=b[S+2+64]=ie+le+1>>1,b[S+0+32]=yr(M,W,ae),b[S+1+32]=b[S+0+96]=yr(W,ae,ie),b[S+2+32]=b[S+1+96]=yr(ae,ie,le),b[S+3+32]=b[S+2+96]=yr(ie,le,de),b[S+3+64]=yr(le,de,ue),b[S+3+96]=yr(de,ue,fe)}function xA(b,S){var M=b[S-1+0],W=b[S-1+32],ae=b[S-1+64],ie=b[S-1+96];b[S+0+0]=M+W+1>>1,b[S+2+0]=b[S+0+32]=W+ae+1>>1,b[S+2+32]=b[S+0+64]=ae+ie+1>>1,b[S+1+0]=yr(M,W,ae),b[S+3+0]=b[S+1+32]=yr(W,ae,ie),b[S+3+32]=b[S+1+64]=yr(ae,ie,ie),b[S+3+64]=b[S+2+64]=b[S+0+96]=b[S+1+96]=b[S+2+96]=b[S+3+96]=ie}function bc(b,S){var M=b[S-1+0],W=b[S-1+32],ae=b[S-1+64],ie=b[S-1+96],le=b[S-1-32],de=b[S+0-32],ue=b[S+1-32],fe=b[S+2-32];b[S+0+0]=b[S+2+32]=M+le+1>>1,b[S+0+32]=b[S+2+64]=W+M+1>>1,b[S+0+64]=b[S+2+96]=ae+W+1>>1,b[S+0+96]=ie+ae+1>>1,b[S+3+0]=yr(de,ue,fe),b[S+2+0]=yr(le,de,ue),b[S+1+0]=b[S+3+32]=yr(M,le,de),b[S+1+32]=b[S+3+64]=yr(W,M,le),b[S+1+64]=b[S+3+96]=yr(ae,W,M),b[S+1+96]=yr(ie,ae,W)}function Nd(b,S){var M;for(M=0;8>M;++M)a(b,S+32*M,b,S-32,8)}function Ji(b,S){var M;for(M=0;8>M;++M)s(b,S,b[S-1],8),S+=32}function yo(b,S,M){var W;for(W=0;8>W;++W)s(S,M+32*W,b,8)}function Zi(b,S){var M,W=8;for(M=0;8>M;++M)W+=b[S+M-32]+b[S-1+32*M];yo(W>>4,b,S)}function vA(b,S){var M,W=4;for(M=0;8>M;++M)W+=b[S+M-32];yo(W>>3,b,S)}function Bd(b,S){var M,W=4;for(M=0;8>M;++M)W+=b[S-1+32*M];yo(W>>3,b,S)}function Cd(b,S){yo(128,b,S)}function Jo(b,S,M){var W=b[S-M],ae=b[S+0],ie=3*(ae-W)+So[1020+b[S-2*M]-b[S+M]],le=SA[112+(ie+4>>3)];b[S-M]=Ts[255+W+SA[112+(ie+3>>3)]],b[S+0]=Ts[255+ae-le]}function bo(b,S,M,W){var ae=b[S+0],ie=b[S+M];return Pi[255+b[S-2*M]-b[S-M]]>W||Pi[255+ie-ae]>W}function jc(b,S,M,W){return 4*Pi[255+b[S-M]-b[S+0]]+Pi[255+b[S-2*M]-b[S+M]]<=W}function Nc(b,S,M,W,ae){var ie=b[S-3*M],le=b[S-2*M],de=b[S-M],ue=b[S+0],fe=b[S+M],je=b[S+2*M],Ie=b[S+3*M];return 4*Pi[255+de-ue]+Pi[255+le-fe]>W?0:Pi[255+b[S-4*M]-ie]<=ae&&Pi[255+ie-le]<=ae&&Pi[255+le-de]<=ae&&Pi[255+Ie-je]<=ae&&Pi[255+je-fe]<=ae&&Pi[255+fe-ue]<=ae}function Fi(b,S,M,W){var ae=2*W+1;for(W=0;16>W;++W)jc(b,S+W,M,ae)&&Jo(b,S+W,M)}function Zo(b,S,M,W){var ae=2*W+1;for(W=0;16>W;++W)jc(b,S+W*M,1,ae)&&Jo(b,S+W*M,1)}function Bc(b,S,M,W){var ae;for(ae=3;0<ae;--ae)Fi(b,S+=4*M,M,W)}function Sd(b,S,M,W){var ae;for(ae=3;0<ae;--ae)Zo(b,S+=4,M,W)}function ki(b,S,M,W,ae,ie,le,de){for(ie=2*ie+1;0<ae--;){if(Nc(b,S,M,ie,le))if(bo(b,S,M,de))Jo(b,S,M);else{var ue=b,fe=S,je=M,Ie=ue[fe-2*je],me=ue[fe-je],Be=ue[fe+0],Ue=ue[fe+je],Ge=ue[fe+2*je],Qe=27*(qe=So[1020+3*(Be-me)+So[1020+Ie-Ue]])+63>>7,$e=18*qe+63>>7,qe=9*qe+63>>7;ue[fe-3*je]=Ts[255+ue[fe-3*je]+qe],ue[fe-2*je]=Ts[255+Ie+$e],ue[fe-je]=Ts[255+me+Qe],ue[fe+0]=Ts[255+Be-Qe],ue[fe+je]=Ts[255+Ue-$e],ue[fe+2*je]=Ts[255+Ge-qe]}S+=W}}function Di(b,S,M,W,ae,ie,le,de){for(ie=2*ie+1;0<ae--;){if(Nc(b,S,M,ie,le))if(bo(b,S,M,de))Jo(b,S,M);else{var ue=b,fe=S,je=M,Ie=ue[fe-je],me=ue[fe+0],Be=ue[fe+je],Ue=SA[112+(4+(Ge=3*(me-Ie))>>3)],Ge=SA[112+(Ge+3>>3)],Qe=Ue+1>>1;ue[fe-2*je]=Ts[255+ue[fe-2*je]+Qe],ue[fe-je]=Ts[255+Ie+Ge],ue[fe+0]=Ts[255+me-Ue],ue[fe+je]=Ts[255+Be-Qe]}S+=W}}function _d(b,S,M,W,ae,ie){ki(b,S,M,1,16,W,ae,ie)}function Bs(b,S,M,W,ae,ie){ki(b,S,1,M,16,W,ae,ie)}function Ui(b,S,M,W,ae,ie){var le;for(le=3;0<le;--le)Di(b,S+=4*M,M,1,16,W,ae,ie)}function wA(b,S,M,W,ae,ie){var le;for(le=3;0<le;--le)Di(b,S+=4,1,M,16,W,ae,ie)}function I(b,S,M,W,ae,ie,le,de){ki(b,S,ae,1,8,ie,le,de),ki(M,W,ae,1,8,ie,le,de)}function ne(b,S,M,W,ae,ie,le,de){ki(b,S,1,ae,8,ie,le,de),ki(M,W,1,ae,8,ie,le,de)}function ge(b,S,M,W,ae,ie,le,de){Di(b,S+4*ae,ae,1,8,ie,le,de),Di(M,W+4*ae,ae,1,8,ie,le,de)}function be(b,S,M,W,ae,ie,le,de){Di(b,S+4,1,ae,8,ie,le,de),Di(M,W+4,1,ae,8,ie,le,de)}function Ee(){this.ba=new et,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new nt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Je(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ot(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function qt(){this.ua=0,this.Wa=new gt,this.vb=new gt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new J}function tr(){this.xb=this.a=0,this.l=new Ba,this.ca=new et,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new qt,this.ab=0,this.gc=o(4,ot),this.Oc=0}function Br(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ba,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Cr(b,S,M,W,ae,ie,le){for(b=b==null?0:b[S+0],S=0;S<le;++S)ae[ie+S]=b+M[W+S]&255,b=ae[ie+S]}function pa(b,S,M,W,ae,ie,le){var de;if(b==null)Cr(null,null,M,W,ae,ie,le);else for(de=0;de<le;++de)ae[ie+de]=b[S+de]+M[W+de]&255}function An(b,S,M,W,ae,ie,le){if(b==null)Cr(null,null,M,W,ae,ie,le);else{var de,ue=b[S+0],fe=ue,je=ue;for(de=0;de<le;++de)fe=je+(ue=b[S+de])-fe,je=M[W+de]+(-256&fe?0>fe?0:255:fe)&255,fe=ue,ae[ie+de]=je}}function In(b,S,M,W){var ae=S.width,ie=S.o;if(r(b!=null&&S!=null),0>M||0>=W||M+W>ie)return null;if(!b.Cc){if(b.ga==null){var le;if(b.ga=new Br,(le=b.ga==null)||(le=S.width*S.o,r(b.Gb.length==0),b.Gb=i(le),b.Uc=0,b.Gb==null?le=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,le=1),le=!le),!le){le=b.ga;var de=b.Fa,ue=b.P,fe=b.qc,je=b.mb,Ie=b.nb,me=ue+1,Be=fe-1,Ue=le.l;if(r(de!=null&&je!=null&&S!=null),Ss[0]=null,Ss[1]=Cr,Ss[2]=pa,Ss[3]=An,le.ca=je,le.tb=Ie,le.c=S.width,le.i=S.height,r(0<le.c&&0<le.i),1>=fe)S=0;else if(le.$a=3&de[ue+0],le.Z=de[ue+0]>>2&3,le.Lc=de[ue+0]>>4&3,ue=de[ue+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||ue)S=0;else if(Ue.put=Xt,Ue.ac=oa,Ue.bc=Nn,Ue.ma=le,Ue.width=S.width,Ue.height=S.height,Ue.Da=S.Da,Ue.v=S.v,Ue.va=S.va,Ue.j=S.j,Ue.o=S.o,le.$a)e:{r(le.$a==1),S=Nt();t:for(;;){if(S==null){S=0;break e}if(r(le!=null),le.mc=S,S.c=le.c,S.i=le.i,S.l=le.l,S.l.ma=le,S.l.width=le.c,S.l.height=le.i,S.a=0,ee(S.m,de,me,Be),!cr(le.c,le.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&Xa(S.s)?(le.ic=1,de=S.c*S.i,S.Ta=null,S.Ua=0,S.V=i(de),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(le.ic=0,S=Ar(S,le.c)),!S))break t;S=1;break e}le.mc=null,S=0}else S=Be>=le.c*le.i;le=!S}if(le)return null;b.ga.Lc!=1?b.Ga=0:W=ie-M}r(b.ga!=null),r(M+W<=ie);e:{if(S=(de=b.ga).c,ie=de.l.o,de.$a==0){if(me=b.rc,Be=b.Vc,Ue=b.Fa,ue=b.P+1+M*S,fe=b.mb,je=b.nb+M*S,r(ue<=b.P+b.qc),de.Z!=0)for(r(Ss[de.Z]!=null),le=0;le<W;++le)Ss[de.Z](me,Be,Ue,ue,fe,je,S),me=fe,Be=je,je+=S,ue+=S;else for(le=0;le<W;++le)a(fe,je,Ue,ue,S),me=fe,Be=je,je+=S,ue+=S;b.rc=me,b.Vc=Be}else{if(r(de.mc!=null),S=M+W,r((le=de.mc)!=null),r(S<=le.i),le.C>=S)S=1;else if(de.ic||Li(),de.ic){de=le.V,me=le.Ba,Be=le.c;var Ge=le.i,Qe=(Ue=1,ue=le.$/Be,fe=le.$%Be,je=le.m,Ie=le.s,le.$),$e=Be*Ge,qe=Be*S,tt=Ie.wc,rt=Qe<qe?Ya(Ie,fe,ue):null;r(Qe<=$e),r(S<=Ge),r(Xa(Ie));t:for(;;){for(;!je.h&&Qe<qe;){if(fe&tt||(rt=Ya(Ie,fe,ue)),r(rt!=null),O(je),256>(Ge=dt(rt.G[0],rt.H[0],je)))de[me+Qe]=Ge,++Qe,++fe>=Be&&(fe=0,++ue<=S&&!(ue%16)&&Ze(le,ue));else{if(!(280>Ge)){Ue=0;break t}Ge=hn(Ge-256,je);var rr,Rt=dt(rt.G[4],rt.H[4],je);if(O(je),!(Qe>=(Rt=is(Be,Rt=hn(Rt,je)))&&$e-Qe>=Ge)){Ue=0;break t}for(rr=0;rr<Ge;++rr)de[me+Qe+rr]=de[me+Qe+rr-Rt];for(Qe+=Ge,fe+=Ge;fe>=Be;)fe-=Be,++ue<=S&&!(ue%16)&&Ze(le,ue);Qe<qe&&fe&tt&&(rt=Ya(Ie,fe,ue))}r(je.h==Y(je))}Ze(le,ue>S?S:ue);break t}!Ue||je.h&&Qe<$e?(Ue=0,le.a=je.h?5:3):le.$=Qe,S=Ue}else S=St(le,le.V,le.Ba,le.c,le.i,S,Hr);if(!S){W=0;break e}}M+W>=ie&&(b.Cc=1),W=1}if(!W)return null;if(b.Cc&&((W=b.ga)!=null&&(W.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+M*ae}function Va(b,S,M,W,ae,ie){for(;0<ae--;){var le,de=b,ue=S+(M?1:0),fe=b,je=S+(M?0:3);for(le=0;le<W;++le){var Ie=fe[je+4*le];Ie!=255&&(Ie*=32897,de[ue+4*le+0]=de[ue+4*le+0]*Ie>>23,de[ue+4*le+1]=de[ue+4*le+1]*Ie>>23,de[ue+4*le+2]=de[ue+4*le+2]*Ie>>23)}S+=ie}}function Kn(b,S,M,W,ae){for(;0<W--;){var ie;for(ie=0;ie<M;++ie){var le=b[S+2*ie+0],de=15&(fe=b[S+2*ie+1]),ue=4369*de,fe=(240&fe|fe>>4)*ue>>16;b[S+2*ie+0]=(240&le|le>>4)*ue>>16&240|(15&le|le<<4)*ue>>16>>4&15,b[S+2*ie+1]=240&fe|de}S+=ae}}function Sn(b,S,M,W,ae,ie,le,de){var ue,fe,je=255;for(fe=0;fe<ae;++fe){for(ue=0;ue<W;++ue){var Ie=b[S+ue];ie[le+4*ue]=Ie,je&=Ie}S+=M,le+=de}return je!=255}function xs(b,S,M,W,ae){var ie;for(ie=0;ie<ae;++ie)M[W+ie]=b[S+ie]>>8}function Li(){Qc=Va,ih=Kn,Ud=Sn,oh=xs}function qs(b,S,M){_[b]=function(W,ae,ie,le,de,ue,fe,je,Ie,me,Be,Ue,Ge,Qe,$e,qe,tt){var rt,rr=tt-1>>1,Rt=de[ue+0]|fe[je+0]<<16,kr=Ie[me+0]|Be[Ue+0]<<16;r(W!=null);var Wt=3*Rt+kr+131074>>2;for(S(W[ae+0],255&Wt,Wt>>16,Ge,Qe),ie!=null&&(Wt=3*kr+Rt+131074>>2,S(ie[le+0],255&Wt,Wt>>16,$e,qe)),rt=1;rt<=rr;++rt){var ta=de[ue+rt]|fe[je+rt]<<16,vn=Ie[me+rt]|Be[Ue+rt]<<16,Lr=Rt+ta+kr+vn+524296,Tt=Lr+2*(ta+kr)>>3;Wt=Tt+Rt>>1,Rt=(Lr=Lr+2*(Rt+vn)>>3)+ta>>1,S(W[ae+2*rt-1],255&Wt,Wt>>16,Ge,Qe+(2*rt-1)*M),S(W[ae+2*rt-0],255&Rt,Rt>>16,Ge,Qe+(2*rt-0)*M),ie!=null&&(Wt=Lr+kr>>1,Rt=Tt+vn>>1,S(ie[le+2*rt-1],255&Wt,Wt>>16,$e,qe+(2*rt-1)*M),S(ie[le+2*rt+0],255&Rt,Rt>>16,$e,qe+(2*rt+0)*M)),Rt=ta,kr=vn}1&tt||(Wt=3*Rt+kr+131074>>2,S(W[ae+tt-1],255&Wt,Wt>>16,Ge,Qe+(tt-1)*M),ie!=null&&(Wt=3*kr+Rt+131074>>2,S(ie[le+tt-1],255&Wt,Wt>>16,$e,qe+(tt-1)*M)))}}function Du(){Ys[Pu]=Hx,Ys[Ql]=Rl,Ys[qm]=$x,Ys[Ld]=kA,Ys[Id]=Oc,Ys[Ra]=Md,Ys[Qu]=ph,Ys[_A]=Rl,Ys[Rc]=kA,Ys[Pd]=Oc,Ys[Qd]=Md}function El(b){return b&-16384?0>b?0:255:b>>Tl}function Cc(b,S){return El((19077*b>>8)+(26149*S>>8)-14234)}function Fl(b,S,M){return El((19077*b>>8)-(6419*S>>8)-(13320*M>>8)+8708)}function Sc(b,S){return El((19077*b>>8)+(33050*S>>8)-17685)}function kl(b,S,M,W,ae){W[ae+0]=Cc(b,M),W[ae+1]=Fl(b,S,M),W[ae+2]=Sc(b,S)}function _c(b,S,M,W,ae){W[ae+0]=Sc(b,S),W[ae+1]=Fl(b,S,M),W[ae+2]=Cc(b,M)}function Cs(b,S,M,W,ae){var ie=Fl(b,S,M);S=ie<<3&224|Sc(b,S)>>3,W[ae+0]=248&Cc(b,M)|ie>>5,W[ae+1]=S}function Ec(b,S,M,W,ae){var ie=240&Sc(b,S)|15;W[ae+0]=240&Cc(b,M)|Fl(b,S,M)>>4,W[ae+1]=ie}function Fc(b,S,M,W,ae){W[ae+0]=255,kl(b,S,M,W,ae+1)}function Ed(b,S,M,W,ae){_c(b,S,M,W,ae),W[ae+3]=255}function Fd(b,S,M,W,ae){kl(b,S,M,W,ae),W[ae+3]=255}function pn(b,S){return 0>b?0:b>S?S:b}function eo(b,S,M){_[b]=function(W,ae,ie,le,de,ue,fe,je,Ie){for(var me=je+(-2&Ie)*M;je!=me;)S(W[ae+0],ie[le+0],de[ue+0],fe,je),S(W[ae+1],ie[le+0],de[ue+0],fe,je+M),ae+=2,++le,++ue,je+=2*M;1&Ie&&S(W[ae+0],ie[le+0],de[ue+0],fe,je)}}function jo(b,S,M){return M==0?b==0?S==0?6:5:S==0?4:0:M}function Uu(b,S,M,W,ae){switch(b>>>30){case 3:Ic(S,M,W,ae,0);break;case 2:gn(S,M,W,ae);break;case 1:ga(S,M,W,ae)}}function mi(b,S){var M,W,ae=S.M,ie=S.Nb,le=b.oc,de=b.pc+40,ue=b.oc,fe=b.pc+584,je=b.oc,Ie=b.pc+600;for(M=0;16>M;++M)le[de+32*M-1]=129;for(M=0;8>M;++M)ue[fe+32*M-1]=129,je[Ie+32*M-1]=129;for(0<ae?le[de-1-32]=ue[fe-1-32]=je[Ie-1-32]=129:(s(le,de-32-1,127,21),s(ue,fe-32-1,127,9),s(je,Ie-32-1,127,9)),W=0;W<b.za;++W){var me=S.ya[S.aa+W];if(0<W){for(M=-1;16>M;++M)a(le,de+32*M-4,le,de+32*M+12,4);for(M=-1;8>M;++M)a(ue,fe+32*M-4,ue,fe+32*M+4,4),a(je,Ie+32*M-4,je,Ie+32*M+4,4)}var Be=b.Gd,Ue=b.Hd+W,Ge=me.ad,Qe=me.Hc;if(0<ae&&(a(le,de-32,Be[Ue].y,0,16),a(ue,fe-32,Be[Ue].f,0,8),a(je,Ie-32,Be[Ue].ea,0,8)),me.Za){var $e=le,qe=de-32+16;for(0<ae&&(W>=b.za-1?s($e,qe,Be[Ue].y[15],4):a($e,qe,Be[Ue+1].y,0,4)),M=0;4>M;M++)$e[qe+128+M]=$e[qe+256+M]=$e[qe+384+M]=$e[qe+0+M];for(M=0;16>M;++M,Qe<<=2)$e=le,qe=de+gh[M],Qi[me.Ob[M]]($e,qe),Uu(Qe,Ge,16*+M,$e,qe)}else if($e=jo(W,ae,me.Ob[0]),Ms[$e](le,de),Qe!=0)for(M=0;16>M;++M,Qe<<=2)Uu(Qe,Ge,16*+M,le,de+gh[M]);for(M=me.Gc,$e=jo(W,ae,me.Dd),Gs[$e](ue,fe),Gs[$e](je,Ie),Qe=Ge,$e=ue,qe=fe,255&(me=0|M)&&(170&me?Ws(Qe,256,$e,qe):Da(Qe,256,$e,qe)),me=je,Qe=Ie,255&(M>>=8)&&(170&M?Ws(Ge,320,me,Qe):Da(Ge,320,me,Qe)),ae<b.Ub-1&&(a(Be[Ue].y,0,le,de+480,16),a(Be[Ue].f,0,ue,fe+224,8),a(Be[Ue].ea,0,je,Ie+224,8)),M=8*ie*b.B,Be=b.sa,Ue=b.ta+16*W+16*ie*b.R,Ge=b.qa,me=b.ra+8*W+M,Qe=b.Ha,$e=b.Ia+8*W+M,M=0;16>M;++M)a(Be,Ue+M*b.R,le,de+32*M,16);for(M=0;8>M;++M)a(Ge,me+M*b.B,ue,fe+32*M,8),a(Qe,$e+M*b.B,je,Ie+32*M,8)}}function Dl(b,S,M,W,ae,ie,le,de,ue){var fe=[0],je=[0],Ie=0,me=ue!=null?ue.kd:0,Be=ue??new Je;if(b==null||12>M)return 7;Be.data=b,Be.w=S,Be.ha=M,S=[S],M=[M],Be.gb=[Be.gb];e:{var Ue=S,Ge=M,Qe=Be.gb;if(r(b!=null),r(Ge!=null),r(Qe!=null),Qe[0]=0,12<=Ge[0]&&!t(b,Ue[0],"RIFF")){if(t(b,Ue[0]+8,"WEBP")){Qe=3;break e}var $e=he(b,Ue[0]+4);if(12>$e||4294967286<$e){Qe=3;break e}if(me&&$e>Ge[0]-8){Qe=7;break e}Qe[0]=$e,Ue[0]+=12,Ge[0]-=12}Qe=0}if(Qe!=0)return Qe;for($e=0<Be.gb[0],M=M[0];;){e:{var qe=b;Ge=S,Qe=M;var tt=fe,rt=je,rr=Ue=[0];if((Wt=Ie=[Ie])[0]=0,8>Qe[0])Qe=7;else{if(!t(qe,Ge[0],"VP8X")){if(he(qe,Ge[0]+4)!=10){Qe=3;break e}if(18>Qe[0]){Qe=7;break e}var Rt=he(qe,Ge[0]+8),kr=1+Fe(qe,Ge[0]+12);if(2147483648<=kr*(qe=1+Fe(qe,Ge[0]+15))){Qe=3;break e}rr!=null&&(rr[0]=Rt),tt!=null&&(tt[0]=kr),rt!=null&&(rt[0]=qe),Ge[0]+=18,Qe[0]-=18,Wt[0]=1}Qe=0}}if(Ie=Ie[0],Ue=Ue[0],Qe!=0)return Qe;if(Ge=!!(2&Ue),!$e&&Ie)return 3;if(ie!=null&&(ie[0]=!!(16&Ue)),le!=null&&(le[0]=Ge),de!=null&&(de[0]=0),le=fe[0],Ue=je[0],Ie&&Ge&&ue==null){Qe=0;break}if(4>M){Qe=7;break}if($e&&Ie||!$e&&!Ie&&!t(b,S[0],"ALPH")){M=[M],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{Rt=b,Qe=S,$e=M;var Wt=Be.gb;tt=Be.na,rt=Be.P,rr=Be.Sa,kr=22,r(Rt!=null),r($e!=null),qe=Qe[0];var ta=$e[0];for(r(tt!=null),r(rr!=null),tt[0]=null,rt[0]=null,rr[0]=0;;){if(Qe[0]=qe,$e[0]=ta,8>ta){Qe=7;break e}var vn=he(Rt,qe+4);if(4294967286<vn){Qe=3;break e}var Lr=8+vn+1&-2;if(kr+=Lr,0<Wt&&kr>Wt){Qe=3;break e}if(!t(Rt,qe,"VP8 ")||!t(Rt,qe,"VP8L")){Qe=0;break e}if(ta[0]<Lr){Qe=7;break e}t(Rt,qe,"ALPH")||(tt[0]=Rt,rt[0]=qe+8,rr[0]=vn),qe+=Lr,ta-=Lr}}if(M=M[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],Qe!=0)break}M=[M],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(Wt=b,Qe=S,$e=M,tt=Be.gb[0],rt=Be.Ja,rr=Be.xa,Rt=Qe[0],qe=!t(Wt,Rt,"VP8 "),kr=!t(Wt,Rt,"VP8L"),r(Wt!=null),r($e!=null),r(rt!=null),r(rr!=null),8>$e[0])Qe=7;else{if(qe||kr){if(Wt=he(Wt,Rt+4),12<=tt&&Wt>tt-12){Qe=3;break e}if(me&&Wt>$e[0]-8){Qe=7;break e}rt[0]=Wt,Qe[0]+=8,$e[0]-=8,rr[0]=kr}else rr[0]=5<=$e[0]&&Wt[Rt+0]==47&&!(Wt[Rt+4]>>5),rt[0]=$e[0];Qe=0}if(M=M[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],S=S[0],Qe!=0)break;if(4294967286<Be.Ja)return 3;if(de==null||Ge||(de[0]=Be.xa?2:1),le=[le],Ue=[Ue],Be.xa){if(5>M){Qe=7;break}de=le,me=Ue,Ge=ie,b==null||5>M?b=0:5<=M&&b[S+0]==47&&!(b[S+4]>>5)?($e=[0],Wt=[0],tt=[0],ee(rt=new K,b,S,M),gs(rt,$e,Wt,tt)?(de!=null&&(de[0]=$e[0]),me!=null&&(me[0]=Wt[0]),Ge!=null&&(Ge[0]=tt[0]),b=1):b=0):b=0}else{if(10>M){Qe=7;break}de=Ue,b==null||10>M||!wc(b,S+3,M-3)?b=0:(me=b[S+0]|b[S+1]<<8|b[S+2]<<16,Ge=16383&(b[S+7]<<8|b[S+6]),b=16383&(b[S+9]<<8|b[S+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=Be.Ja||!Ge||!b?b=0:(le&&(le[0]=Ge),de&&(de[0]=b),b=1))}if(!b||(le=le[0],Ue=Ue[0],Ie&&(fe[0]!=le||je[0]!=Ue)))return 3;ue!=null&&(ue[0]=Be,ue.offset=S-ue.w,r(4294967286>S-ue.w),r(ue.offset==ue.ha-M));break}return Qe==0||Qe==7&&Ie&&ue==null?(ie!=null&&(ie[0]|=Be.na!=null&&0<Be.na.length),W!=null&&(W[0]=le),ae!=null&&(ae[0]=Ue),0):Qe}function yA(b,S,M){var W=S.width,ae=S.height,ie=0,le=0,de=W,ue=ae;if(S.Da=b!=null&&0<b.Da,S.Da&&(de=b.cd,ue=b.bd,ie=b.v,le=b.j,11>M||(ie&=-2,le&=-2),0>ie||0>le||0>=de||0>=ue||ie+de>W||le+ue>ae))return 0;if(S.v=ie,S.j=le,S.va=ie+de,S.o=le+ue,S.U=de,S.T=ue,S.da=b!=null&&0<b.da,S.da){if(!pt(de,ue,M=[b.ib],ie=[b.hb]))return 0;S.ib=M[0],S.hb=ie[0]}return S.ob=b!=null&&b.ob,S.Kb=b==null||!b.Sd,S.da&&(S.ob=S.ib<3*W/4&&S.hb<3*ae/4,S.Kb=0),1}function bA(b){if(b==null)return 2;if(11>b.S){var S=b.f.RGBA;S.fb+=(b.height-1)*S.A,S.A=-S.A}else S=b.f.kb,b=b.height,S.O+=(b-1)*S.fa,S.fa=-S.fa,S.N+=(b-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(b-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(b-1)*S.lb,S.lb=-S.lb);return 0}function el(b,S,M,W){if(W==null||0>=b||0>=S)return 2;if(M!=null){if(M.Da){var ae=M.cd,ie=M.bd,le=-2&M.v,de=-2&M.j;if(0>le||0>de||0>=ae||0>=ie||le+ae>b||de+ie>S)return 2;b=ae,S=ie}if(M.da){if(!pt(b,S,ae=[M.ib],ie=[M.hb]))return 2;b=ae[0],S=ie[0]}}W.width=b,W.height=S;e:{var ue=W.width,fe=W.height;if(b=W.S,0>=ue||0>=fe||!(b>=Pu&&13>b))b=2;else{if(0>=W.Rd&&W.sd==null){le=ie=ae=S=0;var je=(de=ue*Od[b])*fe;if(11>b||(ie=(fe+1)/2*(S=(ue+1)/2),b==12&&(le=(ae=ue)*fe)),(fe=i(je+2*ie+le))==null){b=1;break e}W.sd=fe,11>b?((ue=W.f.RGBA).eb=fe,ue.fb=0,ue.A=de,ue.size=je):((ue=W.f.kb).y=fe,ue.O=0,ue.fa=de,ue.Fd=je,ue.f=fe,ue.N=0+je,ue.Ab=S,ue.Cd=ie,ue.ea=fe,ue.W=0+je+ie,ue.Db=S,ue.Ed=ie,b==12&&(ue.F=fe,ue.J=0+je+2*ie),ue.Tc=le,ue.lb=ae)}if(S=1,ae=W.S,ie=W.width,le=W.height,ae>=Pu&&13>ae)if(11>ae)b=W.f.RGBA,S&=(de=Math.abs(b.A))*(le-1)+ie<=b.size,S&=de>=ie*Od[ae],S&=b.eb!=null;else{b=W.f.kb,de=(ie+1)/2,je=(le+1)/2,ue=Math.abs(b.fa),fe=Math.abs(b.Ab);var Ie=Math.abs(b.Db),me=Math.abs(b.lb),Be=me*(le-1)+ie;S&=ue*(le-1)+ie<=b.Fd,S&=fe*(je-1)+de<=b.Cd,S=(S&=Ie*(je-1)+de<=b.Ed)&ue>=ie&fe>=de&Ie>=de,S&=b.y!=null,S&=b.f!=null,S&=b.ea!=null,ae==12&&(S&=me>=ie,S&=Be<=b.Tc,S&=b.F!=null)}else S=0;b=S?0:2}}return b!=0||M!=null&&M.fd&&(b=bA(W)),b}var Ii=64,pi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],gi=24,Ul=32,No=8,tl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ke("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(b){return b},_.Predictor2=function(b,S,M){return S[M+0]},_.Predictor3=function(b,S,M){return S[M+1]},_.Predictor4=function(b,S,M){return S[M-1]},_.Predictor5=function(b,S,M){return jt(jt(b,S[M+1]),S[M+0])},_.Predictor6=function(b,S,M){return jt(b,S[M-1])},_.Predictor7=function(b,S,M){return jt(b,S[M+0])},_.Predictor8=function(b,S,M){return jt(S[M-1],S[M+0])},_.Predictor9=function(b,S,M){return jt(S[M+0],S[M+1])},_.Predictor10=function(b,S,M){return jt(jt(b,S[M-1]),jt(S[M+0],S[M+1]))},_.Predictor11=function(b,S,M){var W=S[M+0];return 0>=zt(W>>24&255,b>>24&255,(S=S[M-1])>>24&255)+zt(W>>16&255,b>>16&255,S>>16&255)+zt(W>>8&255,b>>8&255,S>>8&255)+zt(255&W,255&b,255&S)?W:b},_.Predictor12=function(b,S,M){var W=S[M+0];return(ur((b>>24&255)+(W>>24&255)-((S=S[M-1])>>24&255))<<24|ur((b>>16&255)+(W>>16&255)-(S>>16&255))<<16|ur((b>>8&255)+(W>>8&255)-(S>>8&255))<<8|ur((255&b)+(255&W)-(255&S)))>>>0},_.Predictor13=function(b,S,M){var W=S[M-1];return(Mt((b=jt(b,S[M+0]))>>24&255,W>>24&255)<<24|Mt(b>>16&255,W>>16&255)<<16|Mt(b>>8&255,W>>8&255)<<8|Mt(255&b,255&W))>>>0};var rl=_.PredictorAdd0;_.PredictorAdd1=Or,Ke("Predictor2","PredictorAdd2"),Ke("Predictor3","PredictorAdd3"),Ke("Predictor4","PredictorAdd4"),Ke("Predictor5","PredictorAdd5"),Ke("Predictor6","PredictorAdd6"),Ke("Predictor7","PredictorAdd7"),Ke("Predictor8","PredictorAdd8"),Ke("Predictor9","PredictorAdd9"),Ke("Predictor10","PredictorAdd10"),Ke("Predictor11","PredictorAdd11"),Ke("Predictor12","PredictorAdd12"),Ke("Predictor13","PredictorAdd13");var Bo=_.PredictorAdd2;Dt("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),Dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var _n,kc=_.ColorIndexInverseTransform,Co=_.MapARGB,to=_.VP8LColorIndexInverseTransformAlpha,Dc=_.MapAlpha,Uc=_.VP8LPredictorsAdd=[];Uc.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var jA,NA,al,Ll,Il,Lc,Pl,Ic,gn,Ws,ga,Da,xn,Pn,ro,kd,BA,nl,Lu,CA,Iu,sh,Dd,Pc,Qc,ih,Ud,oh,lh=i(511),ch=i(2041),Ah=i(225),dh=i(767),uh=0,So=ch,SA=Ah,Ts=dh,Pi=lh,Pu=0,Ql=1,qm=2,Ld=3,Id=4,Ra=5,Qu=6,_A=7,Rc=8,Pd=9,Qd=10,Rd=[2,3,7],Ru=[3,3,11],Tc=[280,256,256,256,40],Wm=[0,1,1,1,0],Rx=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Tx=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Gm=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Tu=8,EA=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Td=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Mc=null,fh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ym=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Xm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Mx=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ox=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],mh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ms=[],Qi=[],Gs=[],_o=1,FA=2,Ss=[],Ys=[];qs("UpsampleRgbLinePair",kl,3),qs("UpsampleBgrLinePair",_c,3),qs("UpsampleRgbaLinePair",Fd,4),qs("UpsampleBgraLinePair",Ed,4),qs("UpsampleArgbLinePair",Fc,4),qs("UpsampleRgba4444LinePair",Ec,2),qs("UpsampleRgb565LinePair",Cs,2);var Hx=_.UpsampleRgbLinePair,$x=_.UpsampleBgrLinePair,Rl=_.UpsampleRgbaLinePair,kA=_.UpsampleBgraLinePair,Oc=_.UpsampleArgbLinePair,Md=_.UpsampleRgba4444LinePair,ph=_.UpsampleRgb565LinePair,sl=16,ao=1<<sl-1,Sa=-227,Ua=482,Tl=6,vs=0,Xs=i(256),Hc=i(256),DA=i(256),Js=i(256),Mu=i(Ua-Sa),Jm=i(Ua-Sa);eo("YuvToRgbRow",kl,3),eo("YuvToBgrRow",_c,3),eo("YuvToRgbaRow",Fd,4),eo("YuvToBgraRow",Ed,4),eo("YuvToArgbRow",Fc,4),eo("YuvToRgba4444Row",Ec,2),eo("YuvToRgb565Row",Cs,2);var gh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],$c=[0,2,8],Zm=[8,7,6,4,4,2,2,2,1,1,1,1],il=1;this.WebPDecodeRGBA=function(b,S,M,W,ae){var ie=Ql,le=new Ee,de=new et;le.ba=de,de.S=ie,de.width=[de.width],de.height=[de.height];var ue=de.width,fe=de.height,je=new Xe;if(je==null||b==null)var Ie=2;else r(je!=null),Ie=Dl(b,S,M,je.width,je.height,je.Pd,je.Qd,je.format,null);if(Ie!=0?ue=0:(ue!=null&&(ue[0]=je.width[0]),fe!=null&&(fe[0]=je.height[0]),ue=1),ue){de.width=de.width[0],de.height=de.height[0],W!=null&&(W[0]=de.width),ae!=null&&(ae[0]=de.height);e:{if(W=new Ba,(ae=new Je).data=b,ae.w=S,ae.ha=M,ae.kd=1,S=[0],r(ae!=null),((b=Dl(ae.data,ae.w,ae.ha,null,null,null,S,null,ae))==0||b==7)&&S[0]&&(b=4),(S=b)==0){if(r(le!=null),W.data=ae.data,W.w=ae.w+ae.offset,W.ha=ae.ha-ae.offset,W.put=Xt,W.ac=oa,W.bc=Nn,W.ma=le,ae.xa){if((b=Nt())==null){le=1;break e}if((function(me,Be){var Ue=[0],Ge=[0],Qe=[0];t:for(;;){if(me==null)return 0;if(Be==null)return me.a=2,0;if(me.l=Be,me.a=0,ee(me.m,Be.data,Be.w,Be.ha),!gs(me.m,Ue,Ge,Qe)){me.a=3;break t}if(me.xb=FA,Be.width=Ue[0],Be.height=Ge[0],!cr(Ue[0],Ge[0],1,me,null))break t;return 1}return r(me.a!=0),0})(b,W)){if(W=(S=el(W.width,W.height,le.Oa,le.ba))==0){t:{W=b;r:for(;;){if(W==null){W=0;break t}if(r(W.s.yc!=null),r(W.s.Ya!=null),r(0<W.s.Wb),r((M=W.l)!=null),r((ae=M.ma)!=null),W.xb!=0){if(W.ca=ae.ba,W.tb=ae.tb,r(W.ca!=null),!yA(ae.Oa,M,Ld)){W.a=2;break r}if(!Ar(W,M.width)||M.da)break r;if((M.da||ir(W.ca.S))&&Li(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&Li()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!Ae(W.s.vb,W.s.Wa.Xa)){W.a=1;break r}W.xb=0}if(!St(W,W.V,W.Ba,W.c,W.i,M.o,fi))break r;ae.Dc=W.Ma,W=1;break t}r(W.a!=0),W=0}W=!W}W&&(S=b.a)}else S=b.a}else{if((b=new Go)==null){le=1;break e}if(b.Fa=ae.na,b.P=ae.P,b.qc=ae.Sa,xo(b,W)){if((S=el(W.width,W.height,le.Oa,le.ba))==0){if(b.Aa=0,M=le.Oa,r((ae=b)!=null),M!=null){if(0<(ue=0>(ue=M.Md)?0:100<ue?255:255*ue/100)){for(fe=je=0;4>fe;++fe)12>(Ie=ae.pb[fe]).lc&&(Ie.ia=ue*Zm[0>Ie.lc?0:Ie.lc]>>3),je|=Ie.ia;je&&(alert("todo:VP8InitRandom"),ae.ia=1)}ae.Ga=M.Id,100<ae.Ga?ae.Ga=100:0>ae.Ga&&(ae.Ga=0)}(function(me,Be){if(me==null)return 0;if(Be==null)return ln(me,2,"NULL VP8Io parameter in VP8Decode().");if(!me.cb&&!xo(me,Be))return 0;if(r(me.cb),Be.ac==null||Be.ac(Be)){Be.ob&&(me.L=0);var Ue=$c[me.L];if(me.L==2?(me.yb=0,me.zb=0):(me.yb=Be.v-Ue>>4,me.zb=Be.j-Ue>>4,0>me.yb&&(me.yb=0),0>me.zb&&(me.zb=0)),me.Va=Be.o+15+Ue>>4,me.Hb=Be.va+15+Ue>>4,me.Hb>me.za&&(me.Hb=me.za),me.Va>me.Ub&&(me.Va=me.Ub),0<me.L){var Ge=me.ed;for(Ue=0;4>Ue;++Ue){var Qe;if(me.Qa.Cb){var $e=me.Qa.Lb[Ue];me.Qa.Fb||($e+=Ge.Tb)}else $e=Ge.Tb;for(Qe=0;1>=Qe;++Qe){var qe=me.gd[Ue][Qe],tt=$e;if(Ge.Pc&&(tt+=Ge.vd[0],Qe&&(tt+=Ge.od[0])),0<(tt=0>tt?0:63<tt?63:tt)){var rt=tt;0<Ge.wb&&(rt=4<Ge.wb?rt>>2:rt>>1)>9-Ge.wb&&(rt=9-Ge.wb),1>rt&&(rt=1),qe.dd=rt,qe.tc=2*tt+rt,qe.ld=40<=tt?2:15<=tt?1:0}else qe.tc=0;qe.La=Qe}}}Ue=0}else ln(me,6,"Frame setup failed"),Ue=me.a;if(Ue=Ue==0){if(Ue){me.$c=0,0<me.Aa||(me.Ic=il);t:{Ue=me.Ic,Ge=4*(rt=me.za);var rr=32*rt,Rt=rt+1,kr=0<me.L?rt*(0<me.Aa?2:1):0,Wt=(me.Aa==2?2:1)*rt;if((qe=Ge+832+(Qe=3*(16*Ue+$c[me.L])/2*rr)+($e=me.Fa!=null&&0<me.Fa.length?me.Kc.c*me.Kc.i:0))!=qe)Ue=0;else{if(qe>me.Vb){if(me.Vb=0,me.Ec=i(qe),me.Fc=0,me.Ec==null){Ue=ln(me,1,"no memory during frame initialization.");break t}me.Vb=qe}qe=me.Ec,tt=me.Fc,me.Ac=qe,me.Bc=tt,tt+=Ge,me.Gd=o(rr,Bn),me.Hd=0,me.rb=o(Rt+1,Vt),me.sb=1,me.wa=kr?o(kr,Ur):null,me.Y=0,me.D.Nb=0,me.D.wa=me.wa,me.D.Y=me.Y,0<me.Aa&&(me.D.Y+=rt),r(!0),me.oc=qe,me.pc=tt,tt+=832,me.ya=o(Wt,on),me.aa=0,me.D.ya=me.ya,me.D.aa=me.aa,me.Aa==2&&(me.D.aa+=rt),me.R=16*rt,me.B=8*rt,rt=(rr=$c[me.L])*me.R,rr=rr/2*me.B,me.sa=qe,me.ta=tt+rt,me.qa=me.sa,me.ra=me.ta+16*Ue*me.R+rr,me.Ha=me.qa,me.Ia=me.ra+8*Ue*me.B+rr,me.$c=0,tt+=Qe,me.mb=$e?qe:null,me.nb=$e?tt:null,r(tt+$e<=me.Fc+me.Vb),We(me),s(me.Ac,me.Bc,0,Ge),Ue=1}}if(Ue){if(Be.ka=0,Be.y=me.sa,Be.O=me.ta,Be.f=me.qa,Be.N=me.ra,Be.ea=me.Ha,Be.Vd=me.Ia,Be.fa=me.R,Be.Rc=me.B,Be.F=null,Be.J=0,!uh){for(Ue=-255;255>=Ue;++Ue)lh[255+Ue]=0>Ue?-Ue:Ue;for(Ue=-1020;1020>=Ue;++Ue)ch[1020+Ue]=-128>Ue?-128:127<Ue?127:Ue;for(Ue=-112;112>=Ue;++Ue)Ah[112+Ue]=-16>Ue?-16:15<Ue?15:Ue;for(Ue=-255;510>=Ue;++Ue)dh[255+Ue]=0>Ue?0:255<Ue?255:Ue;uh=1}Pl=la,Ic=Jr,Ws=cn,ga=Ca,Da=Yi,gn=Cn,xn=_d,Pn=Bs,ro=I,kd=ne,BA=Ui,nl=wA,Lu=ge,CA=be,Iu=Fi,sh=Zo,Dd=Bc,Pc=Sd,Qi[0]=nh,Qi[1]=pA,Qi[2]=yc,Qi[3]=wo,Qi[4]=Fu,Qi[5]=Xo,Qi[6]=hi,Qi[7]=ku,Qi[8]=bc,Qi[9]=xA,Ms[0]=Xi,Ms[1]=_u,Ms[2]=Eu,Ms[3]=gA,Ms[4]=vo,Ms[5]=Vs,Ms[6]=Ei,Gs[0]=Zi,Gs[1]=jd,Gs[2]=Nd,Gs[3]=Ji,Gs[4]=Bd,Gs[5]=vA,Gs[6]=Cd,Ue=1}else Ue=0}Ue&&(Ue=(function(ta,vn){for(ta.M=0;ta.M<ta.Va;++ta.M){var Lr,Tt=ta.Jc[ta.M&ta.Xb],bt=ta.m,En=ta;for(Lr=0;Lr<En.za;++Lr){var jr=bt,Zr=En,qa=Zr.Ac,os=Zr.Bc+4*Lr,Qn=Zr.zc,dn=Zr.ya[Zr.aa+Lr];if(Zr.Qa.Bb?dn.$b=pe(jr,Zr.Pa.jb[0])?2+pe(jr,Zr.Pa.jb[2]):pe(jr,Zr.Pa.jb[1]):dn.$b=0,Zr.kc&&(dn.Ad=pe(jr,Zr.Bd)),dn.Za=!pe(jr,145)+0,dn.Za){var zn=dn.Ob,ls=0;for(Zr=0;4>Zr;++Zr){var en,na=Qn[0+Zr];for(en=0;4>en;++en){na=Mx[qa[os+en]][na];for(var xa=Ym[pe(jr,na[0])];0<xa;)xa=Ym[2*xa+pe(jr,na[xa])];na=-xa,qa[os+en]=na}a(zn,ls,qa,os,4),ls+=4,Qn[0+Zr]=na}}else na=pe(jr,156)?pe(jr,128)?1:3:pe(jr,163)?2:0,dn.Ob[0]=na,s(qa,os,na,4),s(Qn,0,na,4);dn.Dd=pe(jr,142)?pe(jr,114)?pe(jr,183)?1:3:2:0}if(En.m.Ka)return ln(ta,7,"Premature end-of-partition0 encountered.");for(;ta.ja<ta.za;++ta.ja){if(En=Tt,jr=(bt=ta).rb[bt.sb-1],qa=bt.rb[bt.sb+bt.ja],Lr=bt.ya[bt.aa+bt.ja],os=bt.kc?Lr.Ad:0)jr.la=qa.la=0,Lr.Za||(jr.Na=qa.Na=0),Lr.Hc=0,Lr.Gc=0,Lr.ia=0;else{var tn,va;if(jr=qa,qa=En,os=bt.Pa.Xc,Qn=bt.ya[bt.aa+bt.ja],dn=bt.pb[Qn.$b],Zr=Qn.ad,zn=0,ls=bt.rb[bt.sb-1],na=en=0,s(Zr,zn,0,384),Qn.Za)var wn=0,yn=os[3];else{xa=i(16);var Ta=jr.Na+ls.Na;if(Ta=Mc(qa,os[1],Ta,dn.Eb,0,xa,0),jr.Na=ls.Na=(0<Ta)+0,1<Ta)Pl(xa,0,Zr,zn);else{var _s=xa[0]+3>>3;for(xa=0;256>xa;xa+=16)Zr[zn+xa]=_s}wn=1,yn=os[0]}var La=15&jr.la,Ma=15&ls.la;for(xa=0;4>xa;++xa){var Rn=1&Ma;for(_s=va=0;4>_s;++_s)La=La>>1|(Rn=(Ta=Mc(qa,yn,Ta=Rn+(1&La),dn.Sc,wn,Zr,zn))>wn)<<7,va=va<<2|(3<Ta?3:1<Ta?2:Zr[zn+0]!=0),zn+=16;La>>=4,Ma=Ma>>1|Rn<<7,en=(en<<8|va)>>>0}for(yn=La,wn=Ma>>4,tn=0;4>tn;tn+=2){for(va=0,La=jr.la>>4+tn,Ma=ls.la>>4+tn,xa=0;2>xa;++xa){for(Rn=1&Ma,_s=0;2>_s;++_s)Ta=Rn+(1&La),La=La>>1|(Rn=0<(Ta=Mc(qa,os[2],Ta,dn.Qc,0,Zr,zn)))<<3,va=va<<2|(3<Ta?3:1<Ta?2:Zr[zn+0]!=0),zn+=16;La>>=2,Ma=Ma>>1|Rn<<5}na|=va<<4*tn,yn|=La<<4<<tn,wn|=(240&Ma)<<tn}jr.la=yn,ls.la=wn,Qn.Hc=en,Qn.Gc=na,Qn.ia=43690&na?0:dn.ia,os=!(en|na)}if(0<bt.L&&(bt.wa[bt.Y+bt.ja]=bt.gd[Lr.$b][Lr.Za],bt.wa[bt.Y+bt.ja].La|=!os),En.Ka)return ln(ta,7,"Premature end-of-file encountered.")}if(We(ta),bt=vn,En=1,Lr=(Tt=ta).D,jr=0<Tt.L&&Tt.M>=Tt.zb&&Tt.M<=Tt.Va,Tt.Aa==0)t:{if(Lr.M=Tt.M,Lr.uc=jr,mi(Tt,Lr),En=1,Lr=(va=Tt.D).Nb,jr=(na=$c[Tt.L])*Tt.R,qa=na/2*Tt.B,xa=16*Lr*Tt.R,_s=8*Lr*Tt.B,os=Tt.sa,Qn=Tt.ta-jr+xa,dn=Tt.qa,Zr=Tt.ra-qa+_s,zn=Tt.Ha,ls=Tt.Ia-qa+_s,Ma=(La=va.M)==0,en=La>=Tt.Va-1,Tt.Aa==2&&mi(Tt,va),va.uc)for(Rn=(Ta=Tt).D.M,r(Ta.D.uc),va=Ta.yb;va<Ta.Hb;++va){wn=va,yn=Rn;var ws=(Zs=(Dn=Ta).D).Nb;tn=Dn.R;var Zs=Zs.wa[Zs.Y+wn],Fn=Dn.sa,kn=Dn.ta+16*ws*tn+16*wn,Es=Zs.dd,Oa=Zs.tc;if(Oa!=0)if(r(3<=Oa),Dn.L==1)0<wn&&sh(Fn,kn,tn,Oa+4),Zs.La&&Pc(Fn,kn,tn,Oa),0<yn&&Iu(Fn,kn,tn,Oa+4),Zs.La&&Dd(Fn,kn,tn,Oa);else{var Fs=Dn.B,Ri=Dn.qa,no=Dn.ra+8*ws*Fs+8*wn,cs=Dn.Ha,Dn=Dn.Ia+8*ws*Fs+8*wn;ws=Zs.ld,0<wn&&(Pn(Fn,kn,tn,Oa+4,Es,ws),kd(Ri,no,cs,Dn,Fs,Oa+4,Es,ws)),Zs.La&&(nl(Fn,kn,tn,Oa,Es,ws),CA(Ri,no,cs,Dn,Fs,Oa,Es,ws)),0<yn&&(xn(Fn,kn,tn,Oa+4,Es,ws),ro(Ri,no,cs,Dn,Fs,Oa+4,Es,ws)),Zs.La&&(BA(Fn,kn,tn,Oa,Es,ws),Lu(Ri,no,cs,Dn,Fs,Oa,Es,ws))}}if(Tt.ia&&alert("todo:DitherRow"),bt.put!=null){if(va=16*La,La=16*(La+1),Ma?(bt.y=Tt.sa,bt.O=Tt.ta+xa,bt.f=Tt.qa,bt.N=Tt.ra+_s,bt.ea=Tt.Ha,bt.W=Tt.Ia+_s):(va-=na,bt.y=os,bt.O=Qn,bt.f=dn,bt.N=Zr,bt.ea=zn,bt.W=ls),en||(La-=na),La>bt.o&&(La=bt.o),bt.F=null,bt.J=null,Tt.Fa!=null&&0<Tt.Fa.length&&va<La&&(bt.J=In(Tt,bt,va,La-va),bt.F=Tt.mb,bt.F==null&&bt.F.length==0)){En=ln(Tt,3,"Could not decode alpha data.");break t}va<bt.j&&(na=bt.j-va,va=bt.j,r(!(1&na)),bt.O+=Tt.R*na,bt.N+=Tt.B*(na>>1),bt.W+=Tt.B*(na>>1),bt.F!=null&&(bt.J+=bt.width*na)),va<La&&(bt.O+=bt.v,bt.N+=bt.v>>1,bt.W+=bt.v>>1,bt.F!=null&&(bt.J+=bt.v),bt.ka=va-bt.j,bt.U=bt.va-bt.v,bt.T=La-va,En=bt.put(bt))}Lr+1!=Tt.Ic||en||(a(Tt.sa,Tt.ta-jr,os,Qn+16*Tt.R,jr),a(Tt.qa,Tt.ra-qa,dn,Zr+8*Tt.B,qa),a(Tt.Ha,Tt.Ia-qa,zn,ls+8*Tt.B,qa))}if(!En)return ln(ta,6,"Output aborted.")}return 1})(me,Be)),Be.bc!=null&&Be.bc(Be),Ue&=1}return Ue?(me.cb=0,Ue):0})(b,W)||(S=b.a)}}else S=b.a}S==0&&le.Oa!=null&&le.Oa.fd&&(S=bA(le.ba))}le=S}ie=le!=0?null:11>ie?de.f.RGBA.eb:de.f.kb.y}else ie=null;return ie};var Od=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(_,q){for(var R="",H=0;H<4;H++)R+=String.fromCharCode(_[q++]);return R}function f(_,q){return _[q+0]|_[q+1]<<8}function h(_,q){return(_[q+0]|_[q+1]<<8|_[q+2]<<16)>>>0}function m(_,q){return(_[q+0]|_[q+1]<<8|_[q+2]<<16|_[q+3]<<24)>>>0}new A;var p=[0],x=[0],g=[],w=new A,j=e,N=(function(_,q){var R={},H=0,J=!1,T=0,re=0;if(R.frames=[],!(function(D,K){for(var te=0;te<4;te++)if(D[K+te]!="RIFF".charCodeAt(te))return!0;return!1})(_,q)){for(m(_,q+=4),q+=8;q<_.length;){var z=d(_,q),G=m(_,q+=4);q+=4;var V=G+(1&G);switch(z){case"VP8 ":case"VP8L":R.frames[H]===void 0&&(R.frames[H]={}),(k=R.frames[H]).src_off=J?re:q-8,k.src_size=T+G+8,H++,J&&(J=!1,T=0,re=0);break;case"VP8X":(k=R.header={}).feature_flags=_[q];var ee=q+4;k.canvas_width=1+h(_,ee),ee+=3,k.canvas_height=1+h(_,ee),ee+=3;break;case"ALPH":J=!0,T=V+8,re=q-8;break;case"ANIM":(k=R.header).bgcolor=m(_,q),ee=q+4,k.loop_count=f(_,ee),ee+=2;break;case"ANMF":var ce,k;(k=R.frames[H]={}).offset_x=2*h(_,q),q+=3,k.offset_y=2*h(_,q),q+=3,k.width=1+h(_,q),q+=3,k.height=1+h(_,q),q+=3,k.duration=h(_,q),q+=3,ce=_[q++],k.dispose=1&ce,k.blend=ce>>1&1}z!="ANMF"&&(q+=V)}return R}})(j,0);N.response=j,N.rgbaoutput=!0,N.dataurl=!1;var C=N.header?N.header:null,E=N.frames?N.frames:null;if(C){C.loop_counter=C.loop_count,p=[C.canvas_height],x=[C.canvas_width];for(var Q=0;Q<E.length&&E[Q].blend!=0;Q++);}var U=E[0],F=w.WebPDecodeRGBA(j,U.src_off,U.src_size,x,p);U.rgba=F,U.imgwidth=x[0],U.imgheight=p[0];for(var L=0;L<x[0]*p[0]*4;L++)g[L]=F[L];return this.width=x,this.height=p,this.data=g,this}(function(e){var r,t,a,s,i,o,l,A,d,f=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new A,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),r=this.internal.f2,t=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,A=this.internal.Matrix,d=new f}]);var h=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=D;Object.defineProperty(this,"pdf",{get:function(){return K}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(he){te=!!he}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(he){Y=!!he}});var X=0;Object.defineProperty(this,"posX",{get:function(){return X},set:function(he){isNaN(he)||(X=he)}});var O=0;Object.defineProperty(this,"posY",{get:function(){return O},set:function(he){isNaN(he)||(O=he)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(he){var Ae;typeof he=="number"?Ae=[he,he,he,he]:((Ae=new Array(4))[0]=he[0],Ae[1]=he.length>=2?he[1]:Ae[0],Ae[2]=he.length>=3?he[2]:Ae[0],Ae[3]=he.length>=4?he[3]:Ae[1]),d.margin=Ae}});var Z=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Z},set:function(he){Z=he}});var oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return oe},set:function(he){oe=he}});var pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pe},set:function(he){pe=he}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(he){he instanceof f&&(d=he)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(he){d.path=he}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(he){xe=he}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(he){var Ae;Ae=m(he),this.ctx.fillStyle=Ae.style,this.ctx.isFillTransparent=Ae.a===0,this.ctx.fillOpacity=Ae.a,this.pdf.setFillColor(Ae.r,Ae.g,Ae.b,{a:Ae.a}),this.pdf.setTextColor(Ae.r,Ae.g,Ae.b,{a:Ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(he){var Ae=m(he);this.ctx.strokeStyle=Ae.style,this.ctx.isStrokeTransparent=Ae.a===0,this.ctx.strokeOpacity=Ae.a,Ae.a===0?this.pdf.setDrawColor(255,255,255):(Ae.a,this.pdf.setDrawColor(Ae.r,Ae.g,Ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(he){["butt","round","square"].indexOf(he)!==-1&&(this.ctx.lineCap=he,this.pdf.setLineCap(he))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(he){isNaN(he)||(this.ctx.lineWidth=he,this.pdf.setLineWidth(he))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(he){["bevel","round","miter"].indexOf(he)!==-1&&(this.ctx.lineJoin=he,this.pdf.setLineJoin(he))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(he){isNaN(he)||(this.ctx.miterLimit=he,this.pdf.setMiterLimit(he))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(he){this.ctx.textBaseline=he}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(he){["right","end","center","left","start"].indexOf(he)!==-1&&(this.ctx.textAlign=he)}});var _e=null,Fe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Fe},set:function(he){_e=null,Fe=he}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(he){var Ae;if(this.ctx.font=he,(Ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(he))!==null){var ct=Ae[1];Ae[2];var gt=Ae[3],pt=Ae[4];Ae[5];var Se=Ae[6],it=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(pt)[2];pt=Math.floor(it==="px"?parseFloat(pt)*this.pdf.internal.scaleFactor:it==="em"?parseFloat(pt)*this.pdf.getFontSize():parseFloat(pt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(pt);var Ke=(function(Et){var Dt,ia,Qr=[],Ot=Et.trim();if(Ot==="")return Cw;if(Ot in QB)return[QB[Ot]];for(;Ot!=="";){switch(ia=null,Dt=(Ot=TB(Ot)).charAt(0)){case'"':case"'":ia=tz(Ot.substring(1),Dt);break;default:ia=rz(Ot)}if(ia===null||(Qr.push(ia[0]),(Ot=TB(ia[1]))!==""&&Ot.charAt(0)!==","))return Cw;Ot=Ot.replace(/^,/,"")}return Qr})(Se);if(this.fontFaces){var Ct=(function(Et,Dt){if(_e===null){var ia=(function(Qr){var Ot=[];return Object.keys(Qr).forEach(function(wr){Qr[wr].forEach(function(Dr){var wt=null;switch(Dr){case"bold":wt={family:wr,weight:"bold"};break;case"italic":wt={family:wr,style:"italic"};break;case"bolditalic":wt={family:wr,weight:"bold",style:"italic"};break;case"":case"normal":wt={family:wr}}wt!==null&&(wt.ref={name:wr,style:Dr},Ot.push(wt))})}),Ot})(Et.getFontList());_e=(function(Qr){for(var Ot={},wr=0;wr<Qr.length;++wr){var Dr=Bw(Qr[wr]),wt=Dr.family,hr=Dr.stretch,ir=Dr.style,Ht=Dr.weight;Ot[wt]=Ot[wt]||{},Ot[wt][hr]=Ot[wt][hr]||{},Ot[wt][hr][ir]=Ot[wt][hr][ir]||{},Ot[wt][hr][ir][Ht]=Dr}return Ot})(ia.concat(Dt))}return _e})(this.pdf,this.fontFaces),jt=Ke.map(function(Et){return{family:Et,stretch:"normal",weight:gt,style:ct}}),ur=(function(Et,Dt,ia){for(var Qr=(ia=ia||{}).defaultFontFamily||"times",Ot=Object.assign({},ez,ia.genericFontFamilies||{}),wr=null,Dr=null,wt=0;wt<Dt.length;++wt)if(Ot[(wr=Bw(Dt[wt])).family]&&(wr.family=Ot[wr.family]),Et.hasOwnProperty(wr.family)){Dr=Et[wr.family];break}if(!(Dr=Dr||Et[Qr]))throw new Error("Could not find a font-family for the rule '"+RB(wr)+"' and default family '"+Qr+"'.");if(Dr=(function(hr,ir){if(ir[hr])return ir[hr];var Ht=Vy[hr],ka=Ht<=Vy.normal?-1:1,et=PB(ir,d3,Ht,ka);if(!et)throw new Error("Could not find a matching font-stretch value for "+hr);return et})(wr.stretch,Dr),Dr=(function(hr,ir){if(ir[hr])return ir[hr];for(var Ht=A3[hr],ka=0;ka<Ht.length;++ka)if(ir[Ht[ka]])return ir[Ht[ka]];throw new Error("Could not find a matching font-style for "+hr)})(wr.style,Dr),!(Dr=(function(hr,ir){if(ir[hr])return ir[hr];if(hr===400&&ir[500])return ir[500];if(hr===500&&ir[400])return ir[400];var Ht=ZK[hr],ka=PB(ir,u3,Ht,hr<400?-1:1);if(!ka)throw new Error("Could not find a matching font-weight for value "+hr);return ka})(wr.weight,Dr)))throw new Error("Failed to resolve a font for the rule '"+RB(wr)+"'.");return Dr})(Ct,jt);this.pdf.setFont(ur.ref.name,ur.ref.style)}else{var Mt="";(gt==="bold"||parseInt(gt,10)>=700||ct==="bold")&&(Mt="bold"),ct==="italic"&&(Mt+="italic"),Mt.length===0&&(Mt="normal");for(var zt="",Or={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},$t=0;$t<Ke.length;$t++){if(this.pdf.internal.getFont(Ke[$t],Mt,{noFallback:!0,disableWarning:!0})!==void 0){zt=Ke[$t];break}if(Mt==="bolditalic"&&this.pdf.internal.getFont(Ke[$t],"bold",{noFallback:!0,disableWarning:!0})!==void 0)zt=Ke[$t],Mt="bold";else if(this.pdf.internal.getFont(Ke[$t],"normal",{noFallback:!0,disableWarning:!0})!==void 0){zt=Ke[$t],Mt="normal";break}}if(zt===""){for(var _t=0;_t<Ke.length;_t++)if(Or[Ke[_t]]){zt=Or[Ke[_t]];break}}zt=zt===""?"Times":zt,this.pdf.setFont(zt,Mt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(he){this.ctx.globalCompositeOperation=he}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(he){this.ctx.globalAlpha=he}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(he){this.ctx.lineDashOffset=he,k.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(he){this.ctx.lineDash=he,k.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(he){this.ctx.ignoreClearRect=!!he}})};h.prototype.setLineDash=function(D){this.lineDash=D},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){E.call(this,"fill",!1)},h.prototype.stroke=function(){E.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(D,K){if(isNaN(D)||isNaN(K))throw Za.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new o(D,K));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(D,K)},h.prototype.closePath=function(){var D=new o(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&$a(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){D=new o(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},h.prototype.lineTo=function(D,K){if(isNaN(D)||isNaN(K))throw Za.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new o(D,K));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},h.prototype.quadraticCurveTo=function(D,K,te,Y){if(isNaN(te)||isNaN(Y)||isNaN(D)||isNaN(K))throw Za.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var X=this.ctx.transform.applyToPoint(new o(te,Y)),O=this.ctx.transform.applyToPoint(new o(D,K));this.path.push({type:"qct",x1:O.x,y1:O.y,x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},h.prototype.bezierCurveTo=function(D,K,te,Y,X,O){if(isNaN(X)||isNaN(O)||isNaN(D)||isNaN(K)||isNaN(te)||isNaN(Y))throw Za.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Z=this.ctx.transform.applyToPoint(new o(X,O)),oe=this.ctx.transform.applyToPoint(new o(D,K)),pe=this.ctx.transform.applyToPoint(new o(te,Y));this.path.push({type:"bct",x1:oe.x,y1:oe.y,x2:pe.x,y2:pe.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},h.prototype.arc=function(D,K,te,Y,X,O){if(isNaN(D)||isNaN(K)||isNaN(te)||isNaN(Y)||isNaN(X))throw Za.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(O=!!O,!this.ctx.transform.isIdentity){var Z=this.ctx.transform.applyToPoint(new o(D,K));D=Z.x,K=Z.y;var oe=this.ctx.transform.applyToPoint(new o(0,te)),pe=this.ctx.transform.applyToPoint(new o(0,0));te=Math.sqrt(Math.pow(oe.x-pe.x,2)+Math.pow(oe.y-pe.y,2))}Math.abs(X-Y)>=2*Math.PI&&(Y=0,X=2*Math.PI),this.path.push({type:"arc",x:D,y:K,radius:te,startAngle:Y,endAngle:X,counterclockwise:O})},h.prototype.arcTo=function(D,K,te,Y,X){throw new Error("arcTo not implemented.")},h.prototype.rect=function(D,K,te,Y){if(isNaN(D)||isNaN(K)||isNaN(te)||isNaN(Y))throw Za.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,K),this.lineTo(D+te,K),this.lineTo(D+te,K+Y),this.lineTo(D,K+Y),this.lineTo(D,K),this.lineTo(D+te,K),this.lineTo(D,K)},h.prototype.fillRect=function(D,K,te,Y){if(isNaN(D)||isNaN(K)||isNaN(te)||isNaN(Y))throw Za.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var X={};this.lineCap!=="butt"&&(X.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(X.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,K,te,Y),this.fill(),X.hasOwnProperty("lineCap")&&(this.lineCap=X.lineCap),X.hasOwnProperty("lineJoin")&&(this.lineJoin=X.lineJoin)}},h.prototype.strokeRect=function(D,K,te,Y){if(isNaN(D)||isNaN(K)||isNaN(te)||isNaN(Y))throw Za.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(D,K,te,Y),this.stroke())},h.prototype.clearRect=function(D,K,te,Y){if(isNaN(D)||isNaN(K)||isNaN(te)||isNaN(Y))throw Za.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,K,te,Y))},h.prototype.save=function(D){D=typeof D!="boolean"||D;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},h.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(K),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(D){var K,te,Y,X;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))K=0,te=0,Y=0,X=0;else{var O=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(O!==null)K=parseInt(O[1]),te=parseInt(O[2]),Y=parseInt(O[3]),X=1;else if((O=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)K=parseInt(O[1]),te=parseInt(O[2]),Y=parseInt(O[3]),X=parseFloat(O[4]);else{if(X=1,typeof D=="string"&&D.charAt(0)!=="#"){var Z=new a3(D);D=Z.ok?Z.toHex():"#000000"}D.length===4?(K=D.substring(1,2),K+=K,te=D.substring(2,3),te+=te,Y=D.substring(3,4),Y+=Y):(K=D.substring(1,3),te=D.substring(3,5),Y=D.substring(5,7)),K=parseInt(K,16),te=parseInt(te,16),Y=parseInt(Y,16)}}return{r:K,g:te,b:Y,a:X,style:D}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(D,K,te,Y){if(isNaN(K)||isNaN(te)||typeof D!="string")throw Za.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!p.call(this)){var X=V(this.ctx.transform.rotation),O=this.ctx.transform.scaleX;H.call(this,{text:D,x:K,y:te,scale:O,angle:X,align:this.textAlign,maxWidth:Y})}},h.prototype.strokeText=function(D,K,te,Y){if(isNaN(K)||isNaN(te)||typeof D!="string")throw Za.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){Y=isNaN(Y)?void 0:Y;var X=V(this.ctx.transform.rotation),O=this.ctx.transform.scaleX;H.call(this,{text:D,x:K,y:te,scale:O,renderingMode:"stroke",angle:X,align:this.textAlign,maxWidth:Y})}},h.prototype.measureText=function(D){if(typeof D!="string")throw Za.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,te=this.pdf.internal.scaleFactor,Y=K.internal.getFontSize(),X=K.getStringUnitWidth(D)*Y/K.internal.scaleFactor;return new function(O){var Z=(O=O||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Z}}),this}({width:X*=Math.round(96*te/72*1e4)/1e4})},h.prototype.scale=function(D,K){if(isNaN(D)||isNaN(K))throw Za.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new A(D,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},h.prototype.rotate=function(D){if(isNaN(D))throw Za.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new A(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},h.prototype.translate=function(D,K){if(isNaN(D)||isNaN(K))throw Za.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new A(1,0,0,1,D,K);this.ctx.transform=this.ctx.transform.multiply(te)},h.prototype.transform=function(D,K,te,Y,X,O){if(isNaN(D)||isNaN(K)||isNaN(te)||isNaN(Y)||isNaN(X)||isNaN(O))throw Za.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Z=new A(D,K,te,Y,X,O);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.setTransform=function(D,K,te,Y,X,O){D=isNaN(D)?1:D,K=isNaN(K)?0:K,te=isNaN(te)?0:te,Y=isNaN(Y)?1:Y,X=isNaN(X)?0:X,O=isNaN(O)?0:O,this.ctx.transform=new A(D,K,te,Y,X,O)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(D,K,te,Y,X,O,Z,oe,pe){var xe=this.pdf.getImageProperties(D),_e=1,Fe=1,he=1,Ae=1;Y!==void 0&&oe!==void 0&&(he=oe/Y,Ae=pe/X,_e=xe.width/Y*oe/Y,Fe=xe.height/X*pe/X),O===void 0&&(O=K,Z=te,K=0,te=0),Y!==void 0&&oe===void 0&&(oe=Y,pe=X),Y===void 0&&oe===void 0&&(oe=xe.width,pe=xe.height);for(var ct,gt=this.ctx.transform.decompose(),pt=V(gt.rotate.shx),Se=new A,it=(Se=(Se=(Se=Se.multiply(gt.translate)).multiply(gt.skew)).multiply(gt.scale)).applyToRectangle(new l(O-K*he,Z-te*Ae,Y*_e,X*Fe)),Ke=w.call(this,it),Ct=[],jt=0;jt<Ke.length;jt+=1)Ct.indexOf(Ke[jt])===-1&&Ct.push(Ke[jt]);if(C(Ct),this.autoPaging)for(var ur=Ct[0],Mt=Ct[Ct.length-1],zt=ur;zt<Mt+1;zt++){this.pdf.setPage(zt);var Or=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$t=zt===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Dt=zt===1?0:_t+(zt-2)*Et;if(this.ctx.clip_path.length!==0){var ia=this.path;ct=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(ct,this.posX+this.margin[3],-Dt+$t+this.ctx.prevPageLastElemOffset),Q.call(this,"fill",!0),this.path=ia}var Qr=JSON.parse(JSON.stringify(it));Qr=N([Qr],this.posX+this.margin[3],-Dt+$t+this.ctx.prevPageLastElemOffset)[0];var Ot=(zt>ur||zt<Mt)&&g.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Or,Et,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",Qr.x,Qr.y,Qr.w,Qr.h,null,null,pt),Ot&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",it.x,it.y,it.w,it.h,null,null,pt)};var w=function(D,K,te){var Y=[];K=K||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var X=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":Y.push(Math.floor((D.y+X)/te)+1);break;case"arc":Y.push(Math.floor((D.y+X-D.radius)/te)+1),Y.push(Math.floor((D.y+X+D.radius)/te)+1);break;case"qct":var O=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);Y.push(Math.floor((O.y+X)/te)+1),Y.push(Math.floor((O.y+O.h+X)/te)+1);break;case"bct":var Z=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);Y.push(Math.floor((Z.y+X)/te)+1),Y.push(Math.floor((Z.y+Z.h+X)/te)+1);break;case"rect":Y.push(Math.floor((D.y+X)/te)+1),Y.push(Math.floor((D.y+D.h+X)/te)+1)}for(var oe=0;oe<Y.length;oe+=1)for(;this.pdf.internal.getNumberOfPages()<Y[oe];)j.call(this);return Y},j=function(){var D=this.fillStyle,K=this.strokeStyle,te=this.font,Y=this.lineCap,X=this.lineWidth,O=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=K,this.font=te,this.lineCap=Y,this.lineWidth=X,this.lineJoin=O},N=function(D,K,te){for(var Y=0;Y<D.length;Y++)switch(D[Y].type){case"bct":D[Y].x2+=K,D[Y].y2+=te;case"qct":D[Y].x1+=K,D[Y].y1+=te;default:D[Y].x+=K,D[Y].y+=te}return D},C=function(D){return D.sort(function(K,te){return K-te})},E=function(D,K){for(var te,Y,X=this.fillStyle,O=this.strokeStyle,Z=this.lineCap,oe=this.lineWidth,pe=Math.abs(oe*this.ctx.transform.scaleX),xe=this.lineJoin,_e=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),he=[],Ae=0;Ae<Fe.length;Ae++)if(Fe[Ae].x!==void 0)for(var ct=w.call(this,Fe[Ae]),gt=0;gt<ct.length;gt+=1)he.indexOf(ct[gt])===-1&&he.push(ct[gt]);for(var pt=0;pt<he.length;pt++)for(;this.pdf.internal.getNumberOfPages()<he[pt];)j.call(this);if(C(he),this.autoPaging)for(var Se=he[0],it=he[he.length-1],Ke=Se;Ke<it+1;Ke++){this.pdf.setPage(Ke),this.fillStyle=X,this.strokeStyle=O,this.lineCap=Z,this.lineWidth=pe,this.lineJoin=xe;var Ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=Ke===1?this.posY+this.margin[0]:this.margin[0],ur=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],zt=Ke===1?0:ur+(Ke-2)*Mt;if(this.ctx.clip_path.length!==0){var Or=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(te,this.posX+this.margin[3],-zt+jt+this.ctx.prevPageLastElemOffset),Q.call(this,D,!0),this.path=Or}if(Y=JSON.parse(JSON.stringify(_e)),this.path=N(Y,this.posX+this.margin[3],-zt+jt+this.ctx.prevPageLastElemOffset),K===!1||Ke===0){var $t=(Ke>Se||Ke<it)&&g.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ct,Mt,null).clip().discardPath()),Q.call(this,D,K),$t&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}else this.lineWidth=pe,Q.call(this,D,K),this.lineWidth=oe;this.path=_e},Q=function(D,K){if((D!=="stroke"||K||!x.call(this))&&(D==="stroke"||K||!p.call(this))){for(var te,Y,X=[],O=this.path,Z=0;Z<O.length;Z++){var oe=O[Z];switch(oe.type){case"begin":X.push({begin:!0});break;case"close":X.push({close:!0});break;case"mt":X.push({start:oe,deltas:[],abs:[]});break;case"lt":var pe=X.length;if(O[Z-1]&&!isNaN(O[Z-1].x)&&(te=[oe.x-O[Z-1].x,oe.y-O[Z-1].y],pe>0)){for(;pe>=0;pe--)if(X[pe-1].close!==!0&&X[pe-1].begin!==!0){X[pe-1].deltas.push(te),X[pe-1].abs.push(oe);break}}break;case"bct":te=[oe.x1-O[Z-1].x,oe.y1-O[Z-1].y,oe.x2-O[Z-1].x,oe.y2-O[Z-1].y,oe.x-O[Z-1].x,oe.y-O[Z-1].y],X[X.length-1].deltas.push(te);break;case"qct":var xe=O[Z-1].x+2/3*(oe.x1-O[Z-1].x),_e=O[Z-1].y+2/3*(oe.y1-O[Z-1].y),Fe=oe.x+2/3*(oe.x1-oe.x),he=oe.y+2/3*(oe.y1-oe.y),Ae=oe.x,ct=oe.y;te=[xe-O[Z-1].x,_e-O[Z-1].y,Fe-O[Z-1].x,he-O[Z-1].y,Ae-O[Z-1].x,ct-O[Z-1].y],X[X.length-1].deltas.push(te);break;case"arc":X.push({deltas:[],abs:[],arc:!0}),Array.isArray(X[X.length-1].abs)&&X[X.length-1].abs.push(oe)}}Y=K?null:D==="stroke"?"stroke":"fill";for(var gt=!1,pt=0;pt<X.length;pt++)if(X[pt].arc)for(var Se=X[pt].abs,it=0;it<Se.length;it++){var Ke=Se[it];Ke.type==="arc"?L.call(this,Ke.x,Ke.y,Ke.radius,Ke.startAngle,Ke.endAngle,Ke.counterclockwise,void 0,K,!gt):J.call(this,Ke.x,Ke.y),gt=!0}else if(X[pt].close===!0)this.pdf.internal.out("h"),gt=!1;else if(X[pt].begin!==!0){var Ct=X[pt].start.x,jt=X[pt].start.y;T.call(this,X[pt].deltas,Ct,jt),gt=!0}Y&&_.call(this,Y),K&&q.call(this)}},U=function(D){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-te;case"top":return D+K-te;case"hanging":return D+K-2*te;case"middle":return D+K/2-te;default:return D}},F=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(K,te){this.colorStops.push([K,te])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(D,K,te,Y,X,O,Z,oe,pe){for(var xe=z.call(this,te,Y,X,O),_e=0;_e<xe.length;_e++){var Fe=xe[_e];_e===0&&(pe?R.call(this,Fe.x1+D,Fe.y1+K):J.call(this,Fe.x1+D,Fe.y1+K)),re.call(this,D,K,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}oe?q.call(this):_.call(this,Z)},_=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(D,K){this.pdf.internal.out(t(D)+" "+a(K)+" m")},H=function(D){var K;switch(D.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var te=this.pdf.getTextDimensions(D.text),Y=U.call(this,D.y),X=F.call(this,Y)-te.h,O=this.ctx.transform.applyToPoint(new o(D.x,Y)),Z=this.ctx.transform.decompose(),oe=new A;oe=(oe=(oe=oe.multiply(Z.translate)).multiply(Z.skew)).multiply(Z.scale);for(var pe,xe,_e,Fe=this.ctx.transform.applyToRectangle(new l(D.x,Y,te.w,te.h)),he=oe.applyToRectangle(new l(D.x,X,te.w,te.h)),Ae=w.call(this,he),ct=[],gt=0;gt<Ae.length;gt+=1)ct.indexOf(Ae[gt])===-1&&ct.push(Ae[gt]);if(C(ct),this.autoPaging)for(var pt=ct[0],Se=ct[ct.length-1],it=pt;it<Se+1;it++){this.pdf.setPage(it);var Ke=it===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[2],ur=jt-this.margin[0],Mt=this.pdf.internal.pageSize.width-this.margin[1],zt=Mt-this.margin[3],Or=it===1?0:Ct+(it-2)*ur;if(this.ctx.clip_path.length!==0){var $t=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(pe,this.posX+this.margin[3],-1*Or+Ke),Q.call(this,"fill",!0),this.path=$t}var _t=N([JSON.parse(JSON.stringify(he))],this.posX+this.margin[3],-Or+Ke+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*D.scale),_e=this.lineWidth,this.lineWidth=_e*D.scale);var Et=this.autoPaging!=="text";if(Et||_t.y+_t.h<=jt){if(Et||_t.y>=Ke&&_t.x<=Mt){var Dt=Et?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||Mt-_t.x)[0],ia=N([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-Or+Ke+this.ctx.prevPageLastElemOffset)[0],Qr=Et&&(it>pt||it<Se)&&g.call(this);Qr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zt,ur,null).clip().discardPath()),this.pdf.text(Dt,ia.x,ia.y,{angle:D.angle,align:K,renderingMode:D.renderingMode}),Qr&&this.pdf.restoreGraphicsState()}}else _t.y<jt&&(this.ctx.prevPageLastElemOffset+=jt-_t.y);D.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=_e)}else D.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*D.scale),_e=this.lineWidth,this.lineWidth=_e*D.scale),this.pdf.text(D.text,O.x+this.posX,O.y+this.posY,{angle:D.angle,align:K,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=_e)},J=function(D,K,te,Y){te=te||0,Y=Y||0,this.pdf.internal.out(t(D+te)+" "+a(K+Y)+" l")},T=function(D,K,te){return this.pdf.lines(D,K,te,null,null)},re=function(D,K,te,Y,X,O,Z,oe){this.pdf.internal.out([r(s(te+D)),r(i(Y+K)),r(s(X+D)),r(i(O+K)),r(s(Z+D)),r(i(oe+K)),"c"].join(" "))},z=function(D,K,te,Y){for(var X=2*Math.PI,O=Math.PI/2;K>te;)K-=X;var Z=Math.abs(te-K);Z<X&&Y&&(Z=X-Z);for(var oe=[],pe=Y?-1:1,xe=K;Z>1e-5;){var _e=xe+pe*Math.min(Z,O);oe.push(G.call(this,D,xe,_e)),Z-=Math.abs(_e-xe),xe=_e}return oe},G=function(D,K,te){var Y=(te-K)/2,X=D*Math.cos(Y),O=D*Math.sin(Y),Z=X,oe=-O,pe=Z*Z+oe*oe,xe=pe+Z*X+oe*O,_e=4/3*(Math.sqrt(2*pe*xe)-xe)/(Z*O-oe*X),Fe=Z-_e*oe,he=oe+_e*Z,Ae=Fe,ct=-he,gt=Y+K,pt=Math.cos(gt),Se=Math.sin(gt);return{x1:D*Math.cos(K),y1:D*Math.sin(K),x2:Fe*pt-he*Se,y2:Fe*Se+he*pt,x3:Ae*pt-ct*Se,y3:Ae*Se+ct*pt,x4:D*Math.cos(te),y4:D*Math.sin(te)}},V=function(D){return 180*D/Math.PI},ee=function(D,K,te,Y,X,O){var Z=D+.5*(te-D),oe=K+.5*(Y-K),pe=X+.5*(te-X),xe=O+.5*(Y-O),_e=Math.min(D,X,Z,pe),Fe=Math.max(D,X,Z,pe),he=Math.min(K,O,oe,xe),Ae=Math.max(K,O,oe,xe);return new l(_e,he,Fe-_e,Ae-he)},ce=function(D,K,te,Y,X,O,Z,oe){var pe,xe,_e,Fe,he,Ae,ct,gt,pt,Se,it,Ke,Ct,jt,ur=te-D,Mt=Y-K,zt=X-te,Or=O-Y,$t=Z-X,_t=oe-O;for(xe=0;xe<41;xe++)pt=(ct=(_e=D+(pe=xe/40)*ur)+pe*((he=te+pe*zt)-_e))+pe*(he+pe*(X+pe*$t-he)-ct),Se=(gt=(Fe=K+pe*Mt)+pe*((Ae=Y+pe*Or)-Fe))+pe*(Ae+pe*(O+pe*_t-Ae)-gt),xe==0?(it=pt,Ke=Se,Ct=pt,jt=Se):(it=Math.min(it,pt),Ke=Math.min(Ke,Se),Ct=Math.max(Ct,pt),jt=Math.max(jt,Se));return new l(Math.round(it),Math.round(Ke),Math.round(Ct-it),Math.round(jt-Ke))},k=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,K,te=(D=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:K}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(or.API),(function(e){var r=function(o){var l,A,d,f,h,m,p,x,g,w;for(A=[],d=0,f=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;f>d;d+=4)(h=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(m=(h=((h=((h=((h=(h-(w=h%85))/85)-(g=h%85))/85)-(x=h%85))/85)-(p=h%85))/85)%85,A.push(m+33,p+33,x+33,g+33,w+33)):A.push(122);return(function(j,N){for(var C=N;C>0;C--)j.pop()})(A,l.length),String.fromCharCode.apply(String,A)+"~>"},t=function(o){var l,A,d,f,h,m=String,p="length",x=255,g="charCodeAt",w="slice",j="replace";for(o[w](-2),o=o[w](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),d=[],f=0,h=(o+=l="uuuuu"[w](o[p]%5||5))[p];h>f;f+=5)A=52200625*(o[g](f)-33)+614125*(o[g](f+1)-33)+7225*(o[g](f+2)-33)+85*(o[g](f+3)-33)+(o[g](f+4)-33),d.push(x&A>>24,x&A>>16,x&A>>8,x&A);return(function(N,C){for(var E=C;E>0;E--)N.pop()})(d,l[p]),m.fromCharCode.apply(m,d)},a=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var A="",d=0;d<o.length;d+=2)A+=String.fromCharCode("0x"+(o[d]+o[d+1]));return A},i=function(o){for(var l=new Uint8Array(o.length),A=o.length;A--;)l[A]=o.charCodeAt(A);return(l=Ty(l)).reduce(function(d,f){return d+String.fromCharCode(f)},"")};e.processDataByFilters=function(o,l){var A=0,d=o||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),A=0;A<l.length;A+=1)switch(l[A]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=r(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=a(d),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[A]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}})(or.API),(function(e){e.loadFile=function(r,t,a){return(function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(A,d,f){var h=new XMLHttpRequest,m=0,p=function(x){var g=x.length,w=[],j=String.fromCharCode;for(m=0;m<g;m+=1)w.push(j(255&x.charCodeAt(m)));return w.join("")};if(h.open("GET",A,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?f(p(this.responseText)):f(void 0)}),h.send(null),d&&h.status===200)return p(h.responseText)})(s,i,o)}catch{}return l})(r,t,a)},e.loadImageFile=e.loadFile})(or.API),(function(e){function r(){return(Fr.html2canvas?Promise.resolve(Fr.html2canvas):Qs(()=>Promise.resolve().then(()=>VY),void 0)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(Fr.DOMPurify?Promise.resolve(Fr.DOMPurify):Qs(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var a=function(l){var A=$a(l);return A==="undefined"?"undefined":A==="string"||l instanceof String?"string":A==="number"||l instanceof Number?"number":A==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":A==="object"?"object":"unknown"},s=function(l,A){var d=document.createElement(l);for(var f in A.className&&(d.className=A.className),A.innerHTML&&A.dompurify&&(d.innerHTML=A.dompurify.sanitize(A.innerHTML)),A.style)d.style[f]=A.style[f];return d},i=function l(A,d){for(var f=A.nodeType===3?document.createTextNode(A.nodeValue):A.cloneNode(!1),h=A.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,d));return A.nodeType===1&&(A.nodeName==="CANVAS"?(f.width=A.width,f.height=A.height,f.getContext("2d").drawImage(A,0,0)):A.nodeName!=="TEXTAREA"&&A.nodeName!=="SELECT"||(f.value=A.value),f.addEventListener("load",function(){f.scrollTop=A.scrollTop,f.scrollLeft=A.scrollLeft},!0)),f},o=function l(A){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),d);return(f=f.setProgress(1,l,1,[l])).set(A)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,A){return l.__proto__=A||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,A){return this.then(function(){switch(A=A||(function(d){switch(a(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),A){case"string":return this.then(t).then(function(d){return this.set({src:s("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},A=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);A.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(A),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(r).then(function(A){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,A(this.prop.container,d)}).then(function(A){(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(r).then(function(A){var d=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var x=f[p],g=x.src.find(function(w){return w.format==="truetype"});g&&d.addFont(g.url,x.ref.name,x.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,d.context2d.save(!0),A(this.prop.container,m)}).then(function(A){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,A,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,A):this.outputPdf(l,A)},o.prototype.outputPdf=function(l,A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,A)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(a(l)!=="object")return this;var A=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(A)})},o.prototype.get=function(l,A){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return A?A(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(a(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function A(d,f){return Math.floor(d*f/72*96)}return this.then(function(){(l=l||or.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:A(l.inner.width,l.k),height:A(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,A,d,f){return l!=null&&(this.progress.val=l),A!=null&&(this.progress.state=A),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,A,d,f){return this.setProgress(l?this.progress.val+l:null,A||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(l,A){var d=this;return this.thenCore(l,A,function(f,h){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(m){return d.updateProgress(null,f),m}).then(f,h).then(function(m){return d.updateProgress(1),m})})},o.prototype.thenCore=function(l,A,d){d=d||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),A&&(A=A.bind(f));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),m=d.call(h,l,A);return o.convert(m,f.__proto__)},o.prototype.thenExternal=function(l,A){return Promise.prototype.then.call(this,l,A)},o.prototype.thenList=function(l){var A=this;return l.forEach(function(d){A=A.thenCore(d)}),A},o.prototype.catch=function(l){l&&(l=l.bind(this));var A=Promise.prototype.catch.call(this,l);return o.convert(A,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,or.getPageSize=function(l,A,d){if($a(l)==="object"){var f=l;l=f.orientation,A=f.unit||A,d=f.format||d}A=A||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var h,m=(""+d).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+A}var x,g=0,w=0;if(p.hasOwnProperty(m))g=p[m][1]/h,w=p[m][0]/h;else try{g=d[1],w=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",w>g&&(x=w,w=g,g=x);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",g>w&&(x=w,w=g,g=x)}return{width:w,height:g,unit:A,k:h,orientation:l}},e.html=function(l,A){(A=A||{}).callback=A.callback||function(){},A.html2canvas=A.html2canvas||{},A.html2canvas.canvas=A.html2canvas.canvas||this.canvas,A.jsPDF=A.jsPDF||this,A.fontFaces=A.fontFaces?A.fontFaces.map(Bw):null;var d=new o(A);return A.worker?d:d.from(l).doCallback()}})(or.API),or.API.addJS=function(e){return OB=e,this.internal.events.subscribe("postPutResources",function(){Gp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Gp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),MB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+OB+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Gp!==void 0&&MB!==void 0&&this.internal.out("/Names <</JavaScript "+Gp+" 0 R>>")}),this},(function(e){var r;e.events.push(["postPutResources",function(){var t=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=a.exec(o);if(l!=null){var A=l[1];t.internal.newObjectDeferredBegin(A,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(i=0;i<d;i++){var h=t.internal.newObject();f.push(h);var m=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<f.length;i++)t.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");t.internal.write(" ] >>","endobj"),r=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+r+" 0 R"))}]),e.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(a,s,i){var o={title:s,options:i,children:[]};return a==null&&(a=this.root),a.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(a){a.id=t.internal.newObjectDeferred();for(var s=0;s<a.children.length;s++)this.genIds_r(a.children[s])},t.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},t.outline.renderItems=function(a){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<a.children.length;i++){var o=a.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(a)),i>0&&this.line("/Prev "+this.makeRef(a.children[i-1])),i<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var A=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+A.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<a.children.length;d++)this.renderItems(a.children[d])},t.outline.line=function(a){this.ctx.val+=a+`\r
`},t.outline.makeRef=function(a){return a.id+" 0 R"},t.outline.makeString=function(a){return"("+t.internal.pdfEscape(a)+")"},t.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(a,s){for(var i=0;i<s.children.length;i++)a.count++,this.count_r(a,s.children[i]);return a.count}}])})(or.API),(function(e){var r=[192,193,194,195,196,197,198,199];e.processJPEG=function(t,a,s,i,o,l){var A,d=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,A=(function(h){for(var m,p=256*h.charCodeAt(4)+h.charCodeAt(5),x=h.length,g={width:0,height:0,numcomponents:1},w=4;w<x;w+=2){if(w+=p,r.indexOf(h.charCodeAt(w+1))!==-1){m=256*h.charCodeAt(w+5)+h.charCodeAt(w+6),g={width:256*h.charCodeAt(w+7)+h.charCodeAt(w+8),height:m,numcomponents:h.charCodeAt(w+9)};break}p=256*h.charCodeAt(w+2)+h.charCodeAt(w+3)}return g})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),A.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:t,width:A.width,height:A.height,colorSpace:l,bitsPerComponent:8,filter:d,index:a,alias:s}}return f}})(or.API),or.API.processPNG=function(e,r,t,a){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=TK(e,{checkCrc:!0}),o=i.width,l=i.height,A=i.channels,d=i.palette,f=i.depth;s=d&&A===1?(function(L){for(var _=L.width,q=L.height,R=L.data,H=L.palette,J=L.depth,T=!1,re=[],z=[],G=void 0,V=!1,ee=0,ce=0;ce<H.length;ce++){var k=zN(H[ce],4),D=k[0],K=k[1],te=k[2],Y=k[3];re.push(D,K,te),Y!=null&&(Y===0?(ee++,z.length<1&&z.push(ce)):Y<255&&(V=!0))}if(V||ee>1){T=!0,z=void 0;var X=_*q;G=new Uint8Array(X);for(var O=new DataView(R.buffer),Z=0;Z<X;Z++){var oe=Sw(O,Z,J),pe=zN(H[oe],4)[3];G[Z]=pe}}else ee===0&&(z=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:T?8:void 0,colorBytes:R,alphaBytes:G,needSMask:T,palette:re,mask:z}})(i):A===2||A===4?(function(L){for(var _=L.data,q=L.width,R=L.height,H=L.channels,J=L.depth,T=H===2?"DeviceGray":"DeviceRGB",re=H-1,z=q*R,G=re,V=z*G,ee=1*z,ce=Math.ceil(V*J/8),k=Math.ceil(ee*J/8),D=new Uint8Array(ce),K=new Uint8Array(k),te=new DataView(_.buffer),Y=new DataView(D.buffer),X=new DataView(K.buffer),O=!1,Z=0;Z<z;Z++){for(var oe=Z*H,pe=0;pe<G;pe++)YB(Y,Sw(te,oe+pe,J),Z*G+pe,J);var xe=Sw(te,oe+G,J);xe<(1<<J)-1&&(O=!0),YB(X,xe,1*Z,J)}return{colorSpace:T,colorsPerPixel:re,sMaskBitsPerComponent:O?J:void 0,colorBytes:D,alphaBytes:K,needSMask:O}})(i):(function(L){var _=L.data,q=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:_ instanceof Uint16Array?(function(R){for(var H=R.length,J=new Uint8Array(2*H),T=new DataView(J.buffer,J.byteOffset,J.byteLength),re=0;re<H;re++)T.setUint16(2*re,R[re],!1);return J})(_):_,needSMask:!1}})(i);var h,m,p,x=s,g=x.colorSpace,w=x.colorsPerPixel,j=x.sMaskBitsPerComponent,N=x.colorBytes,C=x.alphaBytes,E=x.needSMask,Q=x.palette,U=x.mask,F=null;return a!==or.API.image_compression.NONE&&typeof Ty=="function"?(F=(function(L){var _;switch(L){case or.API.image_compression.FAST:_=11;break;case or.API.image_compression.MEDIUM:_=13;break;case or.API.image_compression.SLOW:_=14;break;default:_=12}return _})(a),h=this.decode.FLATE_DECODE,m="/Predictor ".concat(F," /Colors ").concat(w," /BitsPerComponent ").concat(f," /Columns ").concat(o),e=zB(N,Math.ceil(o*w*f/8),w,f,a),E&&(p=zB(C,Math.ceil(o*j/8),1,j,a))):(h=void 0,m=void 0,e=N,E&&(p=C)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:t,data:e,index:r,filter:h,decodeParameters:m,transparency:U,palette:Q,sMask:p,predictor:F,width:o,height:l,bitsPerComponent:f,sMaskBitsPerComponent:j,colorSpace:g}}},(function(e){e.processGIF89A=function(r,t,a,s){var i=new iz(r),o=i.width,l=i.height,A=[];i.decodeAndBlitFrameRGBA(0,A);var d={data:A,width:o,height:l},f=new _w(100).encode(d,100);return e.processJPEG.call(this,f,t,a,s)},e.processGIF87A=e.processGIF89A})(or.API),hl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var r=0;r<e;r++){var t=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:s,green:a,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},hl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[e]()}catch(t){Za.log("bit decode error:"+t)}},hl.prototype.bit1=function(){var e,r=Math.ceil(this.width/8),t=r%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,s=0;s<r;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var A=this.palette[i>>7-l&1];this.data[o+4*l]=A.blue,this.data[o+4*l+1]=A.green,this.data[o+4*l+2]=A.red,this.data[o+4*l+3]=255}t!==0&&(this.pos+=4-t)}},hl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),r=e%4,t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+2*s*4,l=i>>4,A=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*s+1>=this.width)break;d=this.palette[A],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}r!==0&&(this.pos+=4-r)}},hl.prototype.bit8=function(){for(var e=this.width%4,r=this.height-1;r>=0;r--){for(var t=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*a;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},hl.prototype.bit15=function(){for(var e=this.width%3,r=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&r)/r*255|0,l=(i>>5&r)/r*255|0,A=(i>>10&r)/r*255|0,d=i>>15?255:0,f=a*this.width*4+4*s;this.data[f]=A,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=d}this.pos+=e}},hl.prototype.bit16=function(){for(var e=this.width%3,r=parseInt("11111",2),t=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&r)/r*255|0,A=(o>>5&t)/t*255|0,d=(o>>11)/r*255|0,f=s*this.width*4+4*i;this.data[f]=d,this.data[f+1]=A,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},hl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*t;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=a,this.data[o+3]=255}this.pos+=this.width%4}},hl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var r=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+4*t;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=a,this.data[l+3]=o}},hl.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(r,t,a,s){var i=new hl(r,!1),o=i.width,l=i.height,A={data:i.getData(),width:o,height:l},d=new _w(100).encode(A,100);return e.processJPEG.call(this,d,t,a,s)}})(or.API),JB.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(r,t,a,s){var i=new JB(r),o=i.width,l=i.height,A={data:i.getData(),width:o,height:l},d=new _w(100).encode(A,100);return e.processJPEG.call(this,d,t,a,s)}})(or.API),or.API.processRGBA=function(e,r,t){for(var a=e.data,s=a.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,A=0,d=0;d<s;d+=4){var f=a[d],h=a[d+1],m=a[d+2],p=a[d+3];i[l++]=f,i[l++]=h,i[l++]=m,o[A++]=p}var x=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:r,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},or.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Af=or.API,Yp=Af.getCharWidthsArray=function(e,r){var t,a,s=(r=r||{}).font||this.internal.getFont(),i=r.fontSize||this.internal.getFontSize(),o=r.charSpace||this.internal.getCharSpace(),l=r.widths?r.widths:s.metadata.Unicode.widths,A=l.fof?l.fof:1,d=r.kerning?r.kerning:s.metadata.Unicode.kerning,f=d.fof?d.fof:1,h=r.doKerning!==!1,m=0,p=e.length,x=0,g=l[0]||A,w=[];for(t=0;t<p;t++)a=e.charCodeAt(t),typeof s.metadata.widthOfString=="function"?w.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(a))+o*(1e3/i)||0)/1e3):(m=h&&$a(d[a])==="object"&&!isNaN(parseInt(d[a][x],10))?d[a][x]/f:0,w.push((l[a]||g)/A+m)),x=a;return w},HB=Af.getStringUnitWidth=function(e,r){var t=(r=r||{}).fontSize||this.internal.getFontSize(),a=r.font||this.internal.getFont(),s=r.charSpace||this.internal.getCharSpace();return Af.processArabic&&(e=Af.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,t,s)/t:Yp.apply(this,arguments).reduce(function(i,o){return i+o},0)},$B=function(e,r,t,a){for(var s=[],i=0,o=e.length,l=0;i!==o&&l+r[i]<t;)l+=r[i],i++;s.push(e.slice(0,i));var A=i;for(l=0;i!==o;)l+r[i]>a&&(s.push(e.slice(A,i)),l=0,A=i),l+=r[i],i++;return A!==i&&s.push(e.slice(A,i)),s},KB=function(e,r,t){t||(t={});var a,s,i,o,l,A,d,f=[],h=[f],m=t.textIndent||0,p=0,x=0,g=e.split(" "),w=Yp.apply(this,[" ",t])[0];if(A=t.lineIndent===-1?g[0].length+2:t.lineIndent||0){var j=Array(A).join(" "),N=[];g.map(function(E){(E=E.split(/\s*\n/)).length>1?N=N.concat(E.map(function(Q,U){return(U&&Q.length?`
`:"")+Q})):N.push(E[0])}),g=N,A=HB.apply(this,[j,t])}for(i=0,o=g.length;i<o;i++){var C=0;if(a=g[i],A&&a[0]==`
`&&(a=a.substr(1),C=1),m+p+(x=(s=Yp.apply(this,[a,t])).reduce(function(E,Q){return E+Q},0))>r||C){if(x>r){for(l=$B.apply(this,[a,s,r-(m+p),r]),f.push(l.shift()),f=[l.pop()];l.length;)h.push([l.shift()]);x=s.slice(a.length-(f[0]?f[0].length:0)).reduce(function(E,Q){return E+Q},0)}else f=[a];h.push(f),m=x+A,p=w}else f.push(a),m+=p+x,p=w}return d=A?function(E,Q){return(Q?j:"")+E.join(" ")}:function(E){return E.join(" ")},h.map(d)},Af.splitTextToSize=function(e,r,t){var a,s=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle),m="Unicode";return h.metadata[m]?{widths:h.metadata[m].widths||{0:1},kerning:h.metadata[m].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*r/s;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=t.lineIndent;var l,A,d=[];for(l=0,A=a.length;l<A;l++)d=d.concat(KB.apply(this,[a[l],o,i]));return d},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var r="0123456789abcdef",t="klmnopqrstuvwxyz",a={},s={},i=0;i<16;i++)a[t[i]]=r[i],s[r[i]]=t[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=e.__fontmetrics__.compress=function(m){var p,x,g,w,j=["{"];for(var N in m){if(p=m[N],isNaN(parseInt(N,10))?x="'"+N+"'":(N=parseInt(N,10),x=(x=o(N).slice(2)).slice(0,-1)+s[x.slice(-1)]),typeof p=="number")p<0?(g=o(p).slice(3),w="-"):(g=o(p).slice(2),w=""),g=w+g.slice(0,-1)+s[g.slice(-1)];else{if($a(p)!=="object")throw new Error("Don't know what to do with value type "+$a(p)+".");g=l(p)}j.push(x+g)}return j.push("}"),j.join("")},A=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,x,g,w,j={},N=1,C=j,E=[],Q="",U="",F=m.length-1,L=1;L<F;L+=1)(w=m[L])=="'"?p?(g=p.join(""),p=void 0):p=[]:p?p.push(w):w=="{"?(E.push([C,g]),C={},g=void 0):w=="}"?((x=E.pop())[0][x[1]]=C,g=void 0,C=x[0]):w=="-"?N=-1:g===void 0?a.hasOwnProperty(w)?(Q+=a[w],g=parseInt(Q,16)*N,N=1,Q=""):Q+=w:a.hasOwnProperty(w)?(U+=a[w],C[g]=parseInt(U,16)*N,N=1,g=void 0,U=""):U+=w;return j},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:A("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},h={Unicode:{"Courier-Oblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":A("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":A("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:A("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:A("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":A("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":A("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var p=m.font,x=h.Unicode[p.postScriptName];x&&(p.metadata.Unicode={},p.metadata.Unicode.widths=x.widths,p.metadata.Unicode.kerning=x.kerning);var g=f.Unicode[p.postScriptName];g&&(p.metadata.Unicode.encoding=g,p.encoding=g.codePages[0])}])})(or.API),(function(e){var r=function(t){for(var a=t.length,s=new Uint8Array(a),i=0;i<a;i++)s[i]=t.charCodeAt(i);return s};e.API.events.push(["addFont",function(t){var a=void 0,s=t.font,i=t.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(a=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?r(l):r(Qg(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,a)}}])})(or),or.API.addSvgAsImage=function(e,r,t,a,s,i,o,l){if(isNaN(r)||isNaN(t))throw Za.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Za.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=a,A.height=s;var d=A.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,A.width,A.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Fr.canvg?Promise.resolve(Fr.canvg):Qs(()=>import("./index.es-b1grgofm.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(d,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(f)}).then(function(){h.addImage(A.toDataURL("image/jpeg",1),r,t,a,s,o,l)})},or.API.putTotalPages=function(e){var r,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(e,"g"),t=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var s=0;s<this.internal.pages[a].length;s++)this.internal.pages[a][s]=this.internal.pages[a][s].replace(r,t);return this},or.API.viewerPreferences=function(e,r){var t;e=e||{},r=r||!1;var a,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),A=[],d=0,f=0,h=0;function m(x,g){var w,j=!1;for(w=0;w<x.length;w+=1)x[w]===g&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,e==="reset"||r===!0){var p=l.length;for(h=0;h<p;h+=1)t[l[h]].value=t[l[h]].defaultValue,t[l[h]].explicitSet=!1}if($a(e)==="object"){for(s in e)if(i=e[s],m(l,s)&&i!==void 0){if(t[s].type==="boolean"&&typeof i=="boolean")t[s].value=i;else if(t[s].type==="name"&&m(t[s].valueSet,i))t[s].value=i;else if(t[s].type==="integer"&&Number.isInteger(i))t[s].value=i;else if(t[s].type==="array"){for(d=0;d<i.length;d+=1)if(a=!0,i[d].length===1&&typeof i[d][0]=="number")A.push(String(i[d]-1));else if(i[d].length>1){for(f=0;f<i[d].length;f+=1)typeof i[d][f]!="number"&&(a=!1);a===!0&&A.push([i[d][0]-1,i[d][1]-1].join(" "))}t[s].value="["+A.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,g=[];for(x in t)t[x].explicitSet===!0&&(t[x].type==="name"?g.push("/"+x+" /"+t[x].value):g.push("/"+x+" "+t[x].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(e){var r=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(a)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),A=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+s.length+A.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+A),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(a,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",r)),this}})(or.API),(function(e){var r=e.API,t=r.pdfEscape16=function(i,o){for(var l,A=o.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],h=0,m=i.length;h<m;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),A.indexOf(l)==-1&&(A.push(l),A.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(d[4-l.length],l)}return f.join("")},a=function(i){var o,l,A,d,f,h,m;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,A=[],h=0,m=(l=Object.keys(i).sort(function(p,x){return p-x})).length;h<m;h++)o=l[h],A.length>=100&&(f+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar`,A=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),A.push("<"+o+"><"+d+">"));return A.length&&(f+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(i){(function(o){var l=o.font,A=o.out,d=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",x=0;x<m.length;x++)p+=String.fromCharCode(m[x]);var g=d();f({data:p,addLength1:!0,objectId:g}),A("endobj");var w=d();f({data:a(l.metadata.toUnicode),addLength1:!0,objectId:w}),A("endobj");var j=d();A("<<"),A("/Type /FontDescriptor"),A("/FontName /"+vf(l.fontName)),A("/FontFile2 "+g+" 0 R"),A("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),A("/Flags "+l.metadata.flags),A("/StemV "+l.metadata.stemV),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A(">>"),A("endobj");var N=d();A("<<"),A("/Type /Font"),A("/BaseFont /"+vf(l.fontName)),A("/FontDescriptor "+j+" 0 R"),A("/W "+e.API.PDFObject.convert(h)),A("/CIDToGIDMap /Identity"),A("/DW 1000"),A("/Subtype /CIDFontType2"),A("/CIDSystemInfo"),A("<<"),A("/Supplement 0"),A("/Registry (Adobe)"),A("/Ordering ("+l.encoding+")"),A(">>"),A(">>"),A("endobj"),l.objectNumber=d(),A("<<"),A("/Type /Font"),A("/Subtype /Type0"),A("/ToUnicode "+w+" 0 R"),A("/BaseFont /"+vf(l.fontName)),A("/Encoding /"+l.encoding),A("/DescendantFonts ["+N+" 0 R]"),A(">>"),A("endobj"),l.isAlreadyPutted=!0}})(i)}]),r.events.push(["putFont",function(i){(function(o){var l=o.font,A=o.out,d=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,m="",p=0;p<h.length;p++)m+=String.fromCharCode(h[p]);var x=d();f({data:m,addLength1:!0,objectId:x}),A("endobj");var g=d();f({data:a(l.metadata.toUnicode),addLength1:!0,objectId:g}),A("endobj");var w=d();A("<<"),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A("/StemV "+l.metadata.stemV),A("/Type /FontDescriptor"),A("/FontFile2 "+x+" 0 R"),A("/Flags 96"),A("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),A("/FontName /"+vf(l.fontName)),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A(">>"),A("endobj"),l.objectNumber=d();for(var j=0;j<l.metadata.hmtx.widths.length;j++)l.metadata.hmtx.widths[j]=parseInt(l.metadata.hmtx.widths[j]*(1e3/l.metadata.head.unitsPerEm));A("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+vf(l.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),A("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",A=i.x,d=i.y,f=i.options||{},h=i.mutex||{},m=h.pdfEscape,p=h.activeFontKey,x=h.fonts,g=p,w="",j=0,N="",C=x[g].encoding;if(x[g].encoding!=="Identity-H")return{text:l,x:A,y:d,options:f,mutex:h};for(N=l,g=p,Array.isArray(l)&&(N=l[0]),j=0;j<N.length;j+=1)x[g].metadata.hasOwnProperty("cmap")&&(o=x[g].metadata.cmap.unicode.codeMap[N[j].charCodeAt(0)]),o||N[j].charCodeAt(0)<256&&x[g].metadata.hasOwnProperty("Unicode")?w+=N[j]:w+="";var E="";return parseInt(g.slice(1))<14||C==="WinAnsiEncoding"?E=m(w,g).split("").map(function(Q){return Q.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(E=t(w,x[g])),h.isHex=!0,{text:E,x:A,y:d,options:f,mutex:h}};r.events.push(["postProcessText",function(i){var o=i.text||"",l=[],A={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([s(Object.assign({},A,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(s(Object.assign({},A,{text:o[d]})).text);i.text=l}else i.text=s(Object.assign({},A,{text:o})).text}])})(or),(function(e){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(t){return r.call(this),this.internal.vFS[t]!==void 0},e.addFileToVFS=function(t,a){return r.call(this),this.internal.vFS[t]=a,this},e.getFileFromVFS=function(t){return r.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(or.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var s,i,o,l,A,d,f,h=r,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,C=0;this.__bidiEngine__={};var E=function(R){var H=R.charCodeAt(),J=H>>8,T=g[J];return T!==void 0?h[256*T+(255&H)]:J===252||J===253?"AL":j.test(J)?"L":J===8?"R":"N"},Q=function(R){for(var H,J=0;J<R.length;J++){if((H=E(R.charAt(J)))==="L")return!1;if(H==="R")return!0}return!1},U=function(R,H,J,T){var re,z,G,V,ee=H[T];switch(ee){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(ee="AN");break;case"AL":N=!0,ee="R";break;case"WS":case"BN":ee="N";break;case"CS":T<1||T+1>=H.length||(re=J[T-1])!=="EN"&&re!=="AN"||(z=H[T+1])!=="EN"&&z!=="AN"?ee="N":N&&(z="AN"),ee=z===re?z:"N";break;case"ES":ee=(re=T>0?J[T-1]:"B")==="EN"&&T+1<H.length&&H[T+1]==="EN"?"EN":"N";break;case"ET":if(T>0&&J[T-1]==="EN"){ee="EN";break}if(N){ee="N";break}for(G=T+1,V=H.length;G<V&&H[G]==="ET";)G++;ee=G<V&&H[G]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(V=H.length,G=T+1;G<V&&H[G]==="NSM";)G++;if(G<V){var ce=R[T],k=ce>=1425&&ce<=2303||ce===64286;if(re=H[G],k&&(re==="R"||re==="AL")){ee="R";break}}}ee=T<1||(re=H[T-1])==="B"?"N":J[T-1];break;case"B":N=!1,s=!0,ee=C;break;case"S":i=!0,ee="N"}return ee},F=function(R,H,J){var T=R.split("");return J&&L(T,J,{hiLevel:C}),T.reverse(),H&&H.reverse(),T.join("")},L=function(R,H,J){var T,re,z,G,V,ee=-1,ce=R.length,k=0,D=[],K=C?p:m,te=[];for(N=!1,s=!1,i=!1,re=0;re<ce;re++)te[re]=E(R[re]);for(z=0;z<ce;z++){if(V=k,D[z]=U(R,te,D,z),T=240&(k=K[V][x[D[z]]]),k&=15,H[z]=G=K[k][5],T>0)if(T===16){for(re=ee;re<z;re++)H[re]=1;ee=-1}else ee=-1;if(K[k][6])ee===-1&&(ee=z);else if(ee>-1){for(re=ee;re<z;re++)H[re]=G;ee=-1}te[z]==="B"&&(H[z]=0),J.hiLevel|=G}i&&(function(Y,X,O){for(var Z=0;Z<O;Z++)if(Y[Z]==="S"){X[Z]=C;for(var oe=Z-1;oe>=0&&Y[oe]==="WS";oe--)X[oe]=C}})(te,H,ce)},_=function(R,H,J,T,re){if(!(re.hiLevel<R)){if(R===1&&C===1&&!s)return H.reverse(),void(J&&J.reverse());for(var z,G,V,ee,ce=H.length,k=0;k<ce;){if(T[k]>=R){for(V=k+1;V<ce&&T[V]>=R;)V++;for(ee=k,G=V-1;ee<G;ee++,G--)z=H[ee],H[ee]=H[G],H[G]=z,J&&(z=J[ee],J[ee]=J[G],J[G]=z);k=V}k++}}},q=function(R,H,J){var T=R.split(""),re={hiLevel:C};return J||(J=[]),L(T,J,re),(function(z,G,V){if(V.hiLevel!==0&&f)for(var ee,ce=0;ce<z.length;ce++)G[ce]===1&&(ee=w.indexOf(z[ce]))>=0&&(z[ce]=w[ee+1])})(T,J,re),_(2,T,H,J,re),_(1,T,H,J,re),T.join("")};return this.__bidiEngine__.doBidiReorder=function(R,H,J){if((function(re,z){if(z)for(var G=0;G<re.length;G++)z[G]=G;l===void 0&&(l=Q(re)),d===void 0&&(d=Q(re))})(R,H),o||!A||d)if(o&&A&&l^d)C=l?1:0,R=F(R,H,J);else if(!o&&A&&d)C=l?1:0,R=q(R,H,J),R=F(R,H);else if(!o||l||A||d){if(o&&!A&&l^d)R=F(R,H),l?(C=0,R=q(R,H,J)):(C=1,R=q(R,H,J),R=F(R,H));else if(o&&l&&!A&&d)C=1,R=q(R,H,J),R=F(R,H);else if(!o&&!A&&l^d){var T=f;l?(C=1,R=q(R,H,J),C=0,f=!1,R=q(R,H,J),f=T):(C=0,R=q(R,H,J),R=F(R,H),C=1,f=!1,R=q(R,H,J),f=T,R=F(R,H))}}else C=0,R=q(R,H,J);else C=l?1:0,R=q(R,H,J);return R},this.__bidiEngine__.setOptions=function(R){R&&(o=R.isInputVisual,A=R.isOutputVisual,l=R.isInputRtl,d=R.isOutputRtl,f=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var s=a.text;a.x,a.y;var i=a.options||{};a.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([t.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([t.doBidiReorder(s[l])]);a.text=o}else a.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(or),or.API.TTFFont=(function(){function e(r){var t;if(this.rawData=r,t=this.contents=new xd(r),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new yz(this),this.registerTTF()}return e.open=function(r){return new e(r)},e.prototype.parse=function(){return this.directory=new oz(this.contents),this.head=new cz(this),this.name=new hz(this),this.cmap=new h3(this),this.toUnicode={},this.hhea=new Az(this),this.maxp=new mz(this),this.hmtx=new pz(this),this.post=new uz(this),this.os2=new dz(this),this.loca=new wz(this),this.glyf=new gz(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var r,t,a,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,A,d;for(d=[],o=0,l=(A=this.bbox).length;o<l;o++)r=A[o],d.push(Math.round(r*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(a=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(r){var t;return((t=this.cmap.unicode)!=null?t.codeMap[r]:void 0)||0},e.prototype.widthOfGlyph=function(r){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*t},e.prototype.widthOfString=function(r,t,a){var s,i,o,l;for(o=0,i=0,l=(r=""+r).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=r.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+a*(1e3/t)||0;return o*(t/1e3)},e.prototype.lineHeight=function(r,t){var a;return t==null&&(t=!1),a=t?this.lineGap:0,(this.ascender+a-this.decender)/1e3*r},e})();var Sl,xd=(function(){function e(r){this.data=r??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(r){return this.data[this.pos++]=r},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},e.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},e.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},e.prototype.readString=function(r){var t,a;for(a=[],t=0;0<=r?t<r:t>r;t=0<=r?++t:--t)a[t]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(r){var t,a,s;for(s=[],t=0,a=r.length;0<=a?t<a:t>a;t=0<=a?++t:--t)s.push(this.writeByte(r.charCodeAt(t)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(r){return this.writeInt16(r)},e.prototype.readLongLong=function(){var r,t,a,s,i,o,l,A;return r=this.readByte(),t=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),A=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^t)+1099511627776*(255^a)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^A)+1):72057594037927940*r+281474976710656*t+1099511627776*a+4294967296*s+16777216*i+65536*o+256*l+A},e.prototype.writeLongLong=function(r){var t,a;return t=Math.floor(r/4294967296),a=4294967295&r,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(r){return this.writeInt32(r)},e.prototype.read=function(r){var t,a;for(t=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)t.push(this.readByte());return t},e.prototype.write=function(r){var t,a,s,i;for(i=[],a=0,s=r.length;a<s;a++)t=r[a],i.push(this.writeByte(t));return i},e})(),oz=(function(){var e;function r(t){var a,s,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)a={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[a.tag]=a}return r.prototype.encode=function(t){var a,s,i,o,l,A,d,f,h,m,p,x,g;for(g in p=Object.keys(t).length,A=Math.log(2),h=16*Math.floor(Math.log(p)/A),o=Math.floor(h/A),f=16*p-h,(s=new xd).writeInt(this.scalarType),s.writeShort(p),s.writeShort(h),s.writeShort(o),s.writeShort(f),i=16*p,d=s.pos+i,l=null,x=[],t)for(m=t[g],s.writeString(g),s.writeInt(e(m)),s.writeInt(d),s.writeInt(m.length),x=x.concat(m),g==="head"&&(l=d),d+=m.length;d%4;)x.push(0),d++;return s.write(x),a=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(a),s.data},e=function(t){var a,s,i,o;for(t=m3.call(t);t.length%4;)t.push(0);for(i=new xd(t),s=0,a=0,o=t.length;a<o;a=a+=4)s+=i.readUInt32();return 4294967295&s},r})(),lz={}.hasOwnProperty,gc=function(e,r){for(var t in r)lz.call(r,t)&&(e[t]=r[t]);function a(){this.constructor=e}return a.prototype=r.prototype,e.prototype=new a,e.__super__=r.prototype,e};Sl=(function(){function e(r){var t;this.file=r,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var cz=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Sl),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var t;return(t=new xd).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(r),t.writeShort(this.glyphDataFormat),t.data},e})(),ZB=(function(){function e(r,t){var a,s,i,o,l,A,d,f,h,m,p,x,g,w,j,N,C;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=t+r.readInt(),h=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(A=0;A<256;++A)this.codeMap[A]=r.readByte();break;case 4:for(p=r.readUInt16(),m=p/2,r.pos+=6,i=(function(){var E,Q;for(Q=[],A=E=0;0<=m?E<m:E>m;A=0<=m?++E:--E)Q.push(r.readUInt16());return Q})(),r.pos+=2,g=(function(){var E,Q;for(Q=[],A=E=0;0<=m?E<m:E>m;A=0<=m?++E:--E)Q.push(r.readUInt16());return Q})(),d=(function(){var E,Q;for(Q=[],A=E=0;0<=m?E<m:E>m;A=0<=m?++E:--E)Q.push(r.readUInt16());return Q})(),f=(function(){var E,Q;for(Q=[],A=E=0;0<=m?E<m:E>m;A=0<=m?++E:--E)Q.push(r.readUInt16());return Q})(),s=(this.length-r.pos+this.offset)/2,l=(function(){var E,Q;for(Q=[],A=E=0;0<=s?E<s:E>s;A=0<=s?++E:--E)Q.push(r.readUInt16());return Q})(),A=j=0,C=i.length;j<C;A=++j)for(w=i[A],a=N=x=g[A];x<=w?N<=w:N>=w;a=x<=w?++N:--N)f[A]===0?o=a+d[A]:(o=l[f[A]/2+(a-x)-(m-A)]||0)!==0&&(o+=d[A]),this.codeMap[a]=65535&o}r.pos=h}return e.encode=function(r,t){var a,s,i,o,l,A,d,f,h,m,p,x,g,w,j,N,C,E,Q,U,F,L,_,q,R,H,J,T,re,z,G,V,ee,ce,k,D,K,te,Y,X,O,Z,oe,pe,xe,_e;switch(T=new xd,o=Object.keys(r).sort(function(Fe,he){return Fe-he}),t){case"macroman":for(g=0,w=(function(){var Fe=[];for(x=0;x<256;++x)Fe.push(0);return Fe})(),N={0:0},i={},re=0,ee=o.length;re<ee;re++)N[oe=r[s=o[re]]]==null&&(N[oe]=++g),i[s]={old:r[s],new:N[r[s]]},w[s]=N[r[s]];return T.writeUInt16(1),T.writeUInt16(0),T.writeUInt32(12),T.writeUInt16(0),T.writeUInt16(262),T.writeUInt16(0),T.write(w),{charMap:i,subtable:T.data,maxGlyphID:g+1};case"unicode":for(H=[],h=[],C=0,N={},a={},j=d=null,z=0,ce=o.length;z<ce;z++)N[Q=r[s=o[z]]]==null&&(N[Q]=++C),a[s]={old:Q,new:N[Q]},l=N[Q]-s,j!=null&&l===d||(j&&h.push(j),H.push(s),d=l),j=s;for(j&&h.push(j),h.push(65535),H.push(65535),q=2*(_=H.length),L=2*Math.pow(Math.log(_)/Math.LN2,2),m=Math.log(L/2)/Math.LN2,F=2*_-L,A=[],U=[],p=[],x=G=0,k=H.length;G<k;x=++G){if(R=H[x],f=h[x],R===65535){A.push(0),U.push(0);break}if(R-(J=a[R].new)>=32768)for(A.push(0),U.push(2*(p.length+_-x)),s=V=R;R<=f?V<=f:V>=f;s=R<=f?++V:--V)p.push(a[s].new);else A.push(J-R),U.push(0)}for(T.writeUInt16(3),T.writeUInt16(1),T.writeUInt32(12),T.writeUInt16(4),T.writeUInt16(16+8*_+2*p.length),T.writeUInt16(0),T.writeUInt16(q),T.writeUInt16(L),T.writeUInt16(m),T.writeUInt16(F),O=0,D=h.length;O<D;O++)s=h[O],T.writeUInt16(s);for(T.writeUInt16(0),Z=0,K=H.length;Z<K;Z++)s=H[Z],T.writeUInt16(s);for(pe=0,te=A.length;pe<te;pe++)l=A[pe],T.writeUInt16(l);for(xe=0,Y=U.length;xe<Y;xe++)E=U[xe],T.writeUInt16(E);for(_e=0,X=p.length;_e<X;_e++)g=p[_e],T.writeUInt16(g);return{charMap:a,subtable:T.data,maxGlyphID:C+1}}},e})(),h3=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Sl),e.prototype.tag="cmap",e.prototype.parse=function(r){var t,a,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)t=new ZB(r,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},e.encode=function(r,t){var a,s;return t==null&&(t="macroman"),a=ZB.encode(r,t),(s=new xd).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},e})(),Az=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Sl),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e})(),dz=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Sl),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=(function(){var t,a;for(a=[],t=0;t<10;++t)a.push(r.readByte());return a})(),this.charRange=(function(){var t,a;for(a=[],t=0;t<4;++t)a.push(r.readInt());return a})(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=(function(){var t,a;for(a=[],t=0;t<2;t=++t)a.push(r.readInt());return a})(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e})(),uz=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Sl),e.prototype.tag="post",e.prototype.parse=function(r){var t,a,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(a=r.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)t=r.readByte(),s.push(this.names.push(r.readString(t)));return s;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 262144:return this.map=(function(){var o,l,A;for(A=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)A.push(r.readUInt32());return A}).call(this)}},e})(),fz=function(e,r){this.raw=e,this.length=e.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},hz=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Sl),e.prototype.tag="name",e.prototype.parse=function(r){var t,a,s,i,o,l,A,d,f,h,m;for(r.pos=this.offset,r.readShort(),t=r.readShort(),l=r.readShort(),a=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(A={},i=f=0,h=a.length;f<h;i=++f)s=a[i],r.pos=s.offset,d=r.readString(s.length),o=new fz(d,s),A[m=s.nameID]==null&&(A[m]=[]),A[s.nameID].push(o);this.strings=A,this.copyright=A[0],this.fontFamily=A[1],this.fontSubfamily=A[2],this.uniqueSubfamily=A[3],this.fontName=A[4],this.version=A[5];try{this.postscriptName=A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=A[7],this.manufacturer=A[8],this.designer=A[9],this.description=A[10],this.vendorUrl=A[11],this.designerUrl=A[12],this.license=A[13],this.licenseUrl=A[14],this.preferredFamily=A[15],this.preferredSubfamily=A[17],this.compatibleFull=A[18],this.sampleText=A[19]},e})(),mz=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Sl),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e})(),pz=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Sl),e.prototype.tag="hmtx",e.prototype.parse=function(r){var t,a,s,i,o,l,A;for(r.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,f;for(f=[],t=d=0;0<=s?d<s:d>s;t=0<=s?++d:--d)f.push(r.readInt16());return f})(),this.widths=(function(){var d,f,h,m;for(m=[],d=0,f=(h=this.metrics).length;d<f;d++)i=h[d],m.push(i.advance);return m}).call(this),a=this.widths[this.widths.length-1],A=[],t=o=0;0<=s?o<s:o>s;t=0<=s?++o:--o)A.push(this.widths.push(a));return A},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e})(),m3=[].slice,gz=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Sl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var t,a,s,i,o,l,A,d,f,h;return r in this.cache?this.cache[r]:(i=this.file.loca,t=this.file.contents,a=i.indexOf(r),(s=i.lengthOf(r))===0?this.cache[r]=null:(t.pos=this.offset+a,o=(l=new xd(t.read(s))).readShort(),d=l.readShort(),h=l.readShort(),A=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new vz(l,d,h,A,f):new xz(l,o,d,h,A,f),this.cache[r]))},e.prototype.encode=function(r,t,a){var s,i,o,l,A;for(o=[],i=[],l=0,A=t.length;l<A;l++)s=r[t[l]],i.push(o.length),s&&(o=o.concat(s.encode(a)));return i.push(o.length),{table:o,offsets:i}},e})(),xz=(function(){function e(r,t,a,s,i,o){this.raw=r,this.numberOfContours=t,this.xMin=a,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),vz=(function(){function e(r,t,a,s,i){var o,l;for(this.raw=r,this.xMin=t,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var r,t,a;for(t=new xd(m3.call(this.raw.data)),r=0,a=this.glyphIDs.length;r<a;++r)t.pos=this.glyphOffsets[r];return t.data},e})(),wz=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Sl),e.prototype.tag="loca",e.prototype.parse=function(r){var t,a;return r.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=2)i.push(2*r.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=4)i.push(r.readUInt32());return i}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,t){for(var a=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<a.length;++o)if(a[o]=s,i<t.length&&t[i]==o){++i,a[o]=s;var l=this.offsets[o],A=this.offsets[o+1]-l;A>0&&(s+=A)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},e})(),yz=(function(){function e(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var r,t,a,s,i;for(t in s=this.font.cmap.tables[0].codeMap,r={},i=this.subset)a=i[t],r[t]=s[a];return r},e.prototype.glyphsFor=function(r){var t,a,s,i,o,l,A;for(s={},o=0,l=r.length;o<l;o++)s[i=r[o]]=this.font.glyf.glyphFor(i);for(i in t=[],s)(a=s[i])!=null&&a.compound&&t.push.apply(t,a.glyphIDs);if(t.length>0)for(i in A=this.glyphsFor(t))a=A[i],s[i]=a;return s},e.prototype.encode=function(r,t){var a,s,i,o,l,A,d,f,h,m,p,x,g,w,j;for(s in a=h3.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(r),p={0:0},j=a.charMap)p[(A=j[s]).old]=A.new;for(x in m=a.maxGlyphID,o)x in p||(p[x]=m++);return f=(function(N){var C,E;for(C in E={},N)E[N[C]]=C;return E})(p),h=Object.keys(f).sort(function(N,C){return N-C}),g=(function(){var N,C,E;for(E=[],N=0,C=h.length;N<C;N++)l=h[N],E.push(f[l]);return E})(),i=this.font.glyf.encode(o,g,p),d=this.font.loca.encode(i.offsets,g),w={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},e})();or.API.PDFObject=(function(){var e;function r(){}return e=function(t,a){return(Array(a+1).join("0")+t).slice(-a)},r.convert=function(t){var a,s,i,o;if(Array.isArray(t))return"["+(function(){var l,A,d;for(d=[],l=0,A=t.length;l<A;l++)a=t[l],d.push(r.convert(a));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+e(t.getUTCFullYear(),4)+e(t.getUTCMonth(),2)+e(t.getUTCDate(),2)+e(t.getUTCHours(),2)+e(t.getUTCMinutes(),2)+e(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in i=["<<"],t)o=t[s],i.push("/"+s+" "+r.convert(o));return i.push(">>"),i.join(`
`)}return""+t},r})();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qy=function(e,r){return qy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},qy(e,r)};function _l(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");qy(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Wy=function(){return Wy=Object.assign||function(r){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Wy.apply(this,arguments)};function bi(e,r,t,a){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(f){try{d(a.next(f))}catch(h){o(h)}}function A(f){try{d(a.throw(f))}catch(h){o(h)}}function d(f){f.done?i(f.value):s(f.value).then(l,A)}d((a=a.apply(e,[])).next())})}function ii(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(f){return A([d,f])}}function A(d){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,s=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){t.label=d[1];break}if(d[0]===6&&t.label<i[1]){t.label=i[1],i=d;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(d);break}i[2]&&t.ops.pop(),t.trys.pop();continue}d=r.call(e,t)}catch(f){d=[6,f],s=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Xp(e,r,t){if(arguments.length===2)for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||r)}var hA=(function(){function e(r,t,a,s){this.left=r,this.top=t,this.width=a,this.height=s}return e.prototype.add=function(r,t,a,s){return new e(this.left+r,this.top+t,this.width+a,this.height+s)},e.fromClientRect=function(r,t){return new e(t.left+r.windowBounds.left,t.top+r.windowBounds.top,t.width,t.height)},e.fromDOMRectList=function(r,t){var a=Array.from(t).find(function(s){return s.width!==0});return a?new e(a.left+r.windowBounds.left,a.top+r.windowBounds.top,a.width,a.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e})(),Cx=function(e,r){return hA.fromClientRect(e,r.getBoundingClientRect())},bz=function(e){var r=e.body,t=e.documentElement;if(!r||!t)throw new Error("Unable to get document size");var a=Math.max(Math.max(r.scrollWidth,t.scrollWidth),Math.max(r.offsetWidth,t.offsetWidth),Math.max(r.clientWidth,t.clientWidth)),s=Math.max(Math.max(r.scrollHeight,t.scrollHeight),Math.max(r.offsetHeight,t.offsetHeight),Math.max(r.clientHeight,t.clientHeight));return new hA(0,0,a,s)},Sx=function(e){for(var r=[],t=0,a=e.length;t<a;){var s=e.charCodeAt(t++);if(s>=55296&&s<=56319&&t<a){var i=e.charCodeAt(t++);(i&64512)===56320?r.push(((s&1023)<<10)+(i&1023)+65536):(r.push(s),t--)}else r.push(s)}return r},Gn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var a=[],s=-1,i="";++s<t;){var o=e[s];o<=65535?a.push(o):(o-=65536,a.push((o>>10)+55296,o%1024+56320)),(s+1===t||a.length>16384)&&(i+=String.fromCharCode.apply(String,a),a.length=0)}return i},eC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jz=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Jp=0;Jp<eC.length;Jp++)jz[eC.charCodeAt(Jp)]=Jp;var tC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$h=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Zp=0;Zp<tC.length;Zp++)$h[tC.charCodeAt(Zp)]=Zp;var Nz=function(e){var r=e.length*.75,t=e.length,a,s=0,i,o,l,A;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(r):new Array(r),f=Array.isArray(d)?d:new Uint8Array(d);for(a=0;a<t;a+=4)i=$h[e.charCodeAt(a)],o=$h[e.charCodeAt(a+1)],l=$h[e.charCodeAt(a+2)],A=$h[e.charCodeAt(a+3)],f[s++]=i<<2|o>>4,f[s++]=(o&15)<<4|l>>2,f[s++]=(l&3)<<6|A&63;return d},Bz=function(e){for(var r=e.length,t=[],a=0;a<r;a+=2)t.push(e[a+1]<<8|e[a]);return t},Cz=function(e){for(var r=e.length,t=[],a=0;a<r;a+=4)t.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return t},du=5,Bb=11,Ew=2,Sz=Bb-du,p3=65536>>du,_z=1<<du,Fw=_z-1,Ez=1024>>du,Fz=p3+Ez,kz=Fz,Dz=32,Uz=kz+Dz,Lz=65536>>Bb,Iz=1<<Sz,Pz=Iz-1,rC=function(e,r,t){return e.slice?e.slice(r,t):new Uint16Array(Array.prototype.slice.call(e,r,t))},Qz=function(e,r,t){return e.slice?e.slice(r,t):new Uint32Array(Array.prototype.slice.call(e,r,t))},Rz=function(e,r){var t=Nz(e),a=Array.isArray(t)?Cz(t):new Uint32Array(t),s=Array.isArray(t)?Bz(t):new Uint16Array(t),i=24,o=rC(s,i/2,a[4]/2),l=a[5]===2?rC(s,(i+a[4])/2):Qz(a,Math.ceil((i+a[4])/4));return new Tz(a[0],a[1],a[2],a[3],o,l)},Tz=(function(){function e(r,t,a,s,i,o){this.initialValue=r,this.errorValue=t,this.highStart=a,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(r){var t;if(r>=0){if(r<55296||r>56319&&r<=65535)return t=this.index[r>>du],t=(t<<Ew)+(r&Fw),this.data[t];if(r<=65535)return t=this.index[p3+(r-55296>>du)],t=(t<<Ew)+(r&Fw),this.data[t];if(r<this.highStart)return t=Uz-Lz+(r>>Bb),t=this.index[t],t+=r>>du&Pz,t=this.index[t],t=(t<<Ew)+(r&Fw),this.data[t];if(r<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),aC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Mz=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var eg=0;eg<aC.length;eg++)Mz[aC.charCodeAt(eg)]=eg;var Oz="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",nC=50,Hz=1,g3=2,x3=3,$z=4,Kz=5,sC=7,v3=8,iC=9,nd=10,Gy=11,oC=12,Yy=13,zz=14,Kh=15,Xy=16,tg=17,Ph=18,Vz=19,lC=20,Jy=21,Qh=22,kw=23,df=24,Ao=25,zh=26,Vh=27,uf=28,qz=29,tu=30,Wz=31,rg=32,ag=33,Zy=34,e1=35,t1=36,wm=37,r1=38,Hg=39,$g=40,Dw=41,w3=42,Gz=43,Yz=[9001,65288],y3="!",ca="",ng="",a1=Rz(Oz),Gc=[tu,t1],n1=[Hz,g3,x3,Kz],b3=[nd,v3],cC=[Vh,zh],Xz=n1.concat(b3),AC=[r1,Hg,$g,Zy,e1],Jz=[Kh,Yy],Zz=function(e,r){r===void 0&&(r="strict");var t=[],a=[],s=[];return e.forEach(function(i,o){var l=a1.get(i);if(l>nC?(s.push(!0),l-=nC):s.push(!1),["normal","auto","loose"].indexOf(r)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return a.push(o),t.push(Xy);if(l===$z||l===Gy){if(o===0)return a.push(o),t.push(tu);var A=t[o-1];return Xz.indexOf(A)===-1?(a.push(a[o-1]),t.push(A)):(a.push(o),t.push(tu))}if(a.push(o),l===Wz)return t.push(r==="strict"?Jy:wm);if(l===w3||l===qz)return t.push(tu);if(l===Gz)return i>=131072&&i<=196605||i>=196608&&i<=262141?t.push(wm):t.push(tu);t.push(l)}),[a,t,s]},Uw=function(e,r,t,a){var s=a[t];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var i=t;i<=a.length;){i++;var o=a[i];if(o===r)return!0;if(o!==nd)break}if(s===nd)for(var i=t;i>0;){i--;var l=a[i];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var A=t;A<=a.length;){A++;var o=a[A];if(o===r)return!0;if(o!==nd)break}if(l!==nd)break}return!1},dC=function(e,r){for(var t=e;t>=0;){var a=r[t];if(a===nd)t--;else return a}return 0},eV=function(e,r,t,a,s){if(t[a]===0)return ca;var i=a-1;if(Array.isArray(s)&&s[i]===!0)return ca;var o=i-1,l=i+1,A=r[i],d=o>=0?r[o]:0,f=r[l];if(A===g3&&f===x3)return ca;if(n1.indexOf(A)!==-1)return y3;if(n1.indexOf(f)!==-1||b3.indexOf(f)!==-1)return ca;if(dC(i,r)===v3)return ng;if(a1.get(e[i])===Gy||(A===rg||A===ag)&&a1.get(e[l])===Gy||A===sC||f===sC||A===iC||[nd,Yy,Kh].indexOf(A)===-1&&f===iC||[tg,Ph,Vz,df,uf].indexOf(f)!==-1||dC(i,r)===Qh||Uw(kw,Qh,i,r)||Uw([tg,Ph],Jy,i,r)||Uw(oC,oC,i,r))return ca;if(A===nd)return ng;if(A===kw||f===kw)return ca;if(f===Xy||A===Xy)return ng;if([Yy,Kh,Jy].indexOf(f)!==-1||A===zz||d===t1&&Jz.indexOf(A)!==-1||A===uf&&f===t1||f===lC||Gc.indexOf(f)!==-1&&A===Ao||Gc.indexOf(A)!==-1&&f===Ao||A===Vh&&[wm,rg,ag].indexOf(f)!==-1||[wm,rg,ag].indexOf(A)!==-1&&f===zh||Gc.indexOf(A)!==-1&&cC.indexOf(f)!==-1||cC.indexOf(A)!==-1&&Gc.indexOf(f)!==-1||[Vh,zh].indexOf(A)!==-1&&(f===Ao||[Qh,Kh].indexOf(f)!==-1&&r[l+1]===Ao)||[Qh,Kh].indexOf(A)!==-1&&f===Ao||A===Ao&&[Ao,uf,df].indexOf(f)!==-1)return ca;if([Ao,uf,df,tg,Ph].indexOf(f)!==-1)for(var h=i;h>=0;){var m=r[h];if(m===Ao)return ca;if([uf,df].indexOf(m)!==-1)h--;else break}if([Vh,zh].indexOf(f)!==-1)for(var h=[tg,Ph].indexOf(A)!==-1?o:i;h>=0;){var m=r[h];if(m===Ao)return ca;if([uf,df].indexOf(m)!==-1)h--;else break}if(r1===A&&[r1,Hg,Zy,e1].indexOf(f)!==-1||[Hg,Zy].indexOf(A)!==-1&&[Hg,$g].indexOf(f)!==-1||[$g,e1].indexOf(A)!==-1&&f===$g||AC.indexOf(A)!==-1&&[lC,zh].indexOf(f)!==-1||AC.indexOf(f)!==-1&&A===Vh||Gc.indexOf(A)!==-1&&Gc.indexOf(f)!==-1||A===df&&Gc.indexOf(f)!==-1||Gc.concat(Ao).indexOf(A)!==-1&&f===Qh&&Yz.indexOf(e[l])===-1||Gc.concat(Ao).indexOf(f)!==-1&&A===Ph)return ca;if(A===Dw&&f===Dw){for(var p=t[i],x=1;p>0&&(p--,r[p]===Dw);)x++;if(x%2!==0)return ca}return A===rg&&f===ag?ca:ng},tV=function(e,r){r||(r={lineBreak:"normal",wordBreak:"normal"});var t=Zz(e,r.lineBreak),a=t[0],s=t[1],i=t[2];(r.wordBreak==="break-all"||r.wordBreak==="break-word")&&(s=s.map(function(l){return[Ao,tu,w3].indexOf(l)!==-1?wm:l}));var o=r.wordBreak==="keep-all"?i.map(function(l,A){return l&&e[A]>=19968&&e[A]<=40959}):void 0;return[a,s,o]},rV=(function(){function e(r,t,a,s){this.codePoints=r,this.required=t===y3,this.start=a,this.end=s}return e.prototype.slice=function(){return Gn.apply(void 0,this.codePoints.slice(this.start,this.end))},e})(),aV=function(e,r){var t=Sx(e),a=tV(t,r),s=a[0],i=a[1],o=a[2],l=t.length,A=0,d=0;return{next:function(){if(d>=l)return{done:!0,value:null};for(var f=ca;d<l&&(f=eV(t,i,s,++d,o))===ca;);if(f!==ca||d===l){var h=new rV(t,f,A,d);return A=d,{value:h,done:!1}}return{done:!0,value:null}}}},nV=1,sV=2,$m=4,uC=8,B0=10,fC=47,em=92,iV=9,oV=32,sg=34,Rh=61,lV=35,cV=36,AV=37,ig=39,og=40,Th=41,dV=95,$i=45,uV=33,fV=60,hV=62,mV=64,pV=91,gV=93,xV=61,vV=123,lg=63,wV=125,hC=124,yV=126,bV=128,mC=65533,Lw=42,su=43,jV=44,NV=58,BV=59,ym=46,CV=0,SV=8,_V=11,EV=14,FV=31,kV=127,zl=-1,j3=48,N3=97,B3=101,DV=102,UV=117,LV=122,C3=65,S3=69,_3=70,IV=85,PV=90,li=function(e){return e>=j3&&e<=57},QV=function(e){return e>=55296&&e<=57343},ff=function(e){return li(e)||e>=C3&&e<=_3||e>=N3&&e<=DV},RV=function(e){return e>=N3&&e<=LV},TV=function(e){return e>=C3&&e<=PV},MV=function(e){return RV(e)||TV(e)},OV=function(e){return e>=bV},cg=function(e){return e===B0||e===iV||e===oV},C0=function(e){return MV(e)||OV(e)||e===dV},pC=function(e){return C0(e)||li(e)||e===$i},HV=function(e){return e>=CV&&e<=SV||e===_V||e>=EV&&e<=FV||e===kV},ZA=function(e,r){return e!==em?!1:r!==B0},Ag=function(e,r,t){return e===$i?C0(r)||ZA(r,t):C0(e)?!0:!!(e===em&&ZA(e,r))},Iw=function(e,r,t){return e===su||e===$i?li(r)?!0:r===ym&&li(t):li(e===ym?r:e)},$V=function(e){var r=0,t=1;(e[r]===su||e[r]===$i)&&(e[r]===$i&&(t=-1),r++);for(var a=[];li(e[r]);)a.push(e[r++]);var s=a.length?parseInt(Gn.apply(void 0,a),10):0;e[r]===ym&&r++;for(var i=[];li(e[r]);)i.push(e[r++]);var o=i.length,l=o?parseInt(Gn.apply(void 0,i),10):0;(e[r]===S3||e[r]===B3)&&r++;var A=1;(e[r]===su||e[r]===$i)&&(e[r]===$i&&(A=-1),r++);for(var d=[];li(e[r]);)d.push(e[r++]);var f=d.length?parseInt(Gn.apply(void 0,d),10):0;return t*(s+l*Math.pow(10,-o))*Math.pow(10,A*f)},KV={type:2},zV={type:3},VV={type:4},qV={type:13},WV={type:8},GV={type:21},YV={type:9},XV={type:10},JV={type:11},ZV={type:12},eq={type:14},dg={type:23},tq={type:1},rq={type:25},aq={type:24},nq={type:26},sq={type:27},iq={type:28},oq={type:29},lq={type:31},s1={type:32},E3=(function(){function e(){this._value=[]}return e.prototype.write=function(r){this._value=this._value.concat(Sx(r))},e.prototype.read=function(){for(var r=[],t=this.consumeToken();t!==s1;)r.push(t),t=this.consumeToken();return r},e.prototype.consumeToken=function(){var r=this.consumeCodePoint();switch(r){case sg:return this.consumeStringToken(sg);case lV:var t=this.peekCodePoint(0),a=this.peekCodePoint(1),s=this.peekCodePoint(2);if(pC(t)||ZA(a,s)){var i=Ag(t,a,s)?sV:nV,o=this.consumeName();return{type:5,value:o,flags:i}}break;case cV:if(this.peekCodePoint(0)===Rh)return this.consumeCodePoint(),qV;break;case ig:return this.consumeStringToken(ig);case og:return KV;case Th:return zV;case Lw:if(this.peekCodePoint(0)===Rh)return this.consumeCodePoint(),eq;break;case su:if(Iw(r,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(r),this.consumeNumericToken();break;case jV:return VV;case $i:var l=r,A=this.peekCodePoint(0),d=this.peekCodePoint(1);if(Iw(l,A,d))return this.reconsumeCodePoint(r),this.consumeNumericToken();if(Ag(l,A,d))return this.reconsumeCodePoint(r),this.consumeIdentLikeToken();if(A===$i&&d===hV)return this.consumeCodePoint(),this.consumeCodePoint(),aq;break;case ym:if(Iw(r,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(r),this.consumeNumericToken();break;case fC:if(this.peekCodePoint(0)===Lw)for(this.consumeCodePoint();;){var f=this.consumeCodePoint();if(f===Lw&&(f=this.consumeCodePoint(),f===fC))return this.consumeToken();if(f===zl)return this.consumeToken()}break;case NV:return nq;case BV:return sq;case fV:if(this.peekCodePoint(0)===uV&&this.peekCodePoint(1)===$i&&this.peekCodePoint(2)===$i)return this.consumeCodePoint(),this.consumeCodePoint(),rq;break;case mV:var h=this.peekCodePoint(0),m=this.peekCodePoint(1),p=this.peekCodePoint(2);if(Ag(h,m,p)){var o=this.consumeName();return{type:7,value:o}}break;case pV:return iq;case em:if(ZA(r,this.peekCodePoint(0)))return this.reconsumeCodePoint(r),this.consumeIdentLikeToken();break;case gV:return oq;case xV:if(this.peekCodePoint(0)===Rh)return this.consumeCodePoint(),WV;break;case vV:return JV;case wV:return ZV;case UV:case IV:var x=this.peekCodePoint(0),g=this.peekCodePoint(1);return x===su&&(ff(g)||g===lg)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(r),this.consumeIdentLikeToken();case hC:if(this.peekCodePoint(0)===Rh)return this.consumeCodePoint(),YV;if(this.peekCodePoint(0)===hC)return this.consumeCodePoint(),GV;break;case yV:if(this.peekCodePoint(0)===Rh)return this.consumeCodePoint(),XV;break;case zl:return s1}return cg(r)?(this.consumeWhiteSpace(),lq):li(r)?(this.reconsumeCodePoint(r),this.consumeNumericToken()):C0(r)?(this.reconsumeCodePoint(r),this.consumeIdentLikeToken()):{type:6,value:Gn(r)}},e.prototype.consumeCodePoint=function(){var r=this._value.shift();return typeof r>"u"?-1:r},e.prototype.reconsumeCodePoint=function(r){this._value.unshift(r)},e.prototype.peekCodePoint=function(r){return r>=this._value.length?-1:this._value[r]},e.prototype.consumeUnicodeRangeToken=function(){for(var r=[],t=this.consumeCodePoint();ff(t)&&r.length<6;)r.push(t),t=this.consumeCodePoint();for(var a=!1;t===lg&&r.length<6;)r.push(t),t=this.consumeCodePoint(),a=!0;if(a){var s=parseInt(Gn.apply(void 0,r.map(function(A){return A===lg?j3:A})),16),i=parseInt(Gn.apply(void 0,r.map(function(A){return A===lg?_3:A})),16);return{type:30,start:s,end:i}}var o=parseInt(Gn.apply(void 0,r),16);if(this.peekCodePoint(0)===$i&&ff(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var l=[];ff(t)&&l.length<6;)l.push(t),t=this.consumeCodePoint();var i=parseInt(Gn.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var r=this.consumeName();return r.toLowerCase()==="url"&&this.peekCodePoint(0)===og?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===og?(this.consumeCodePoint(),{type:19,value:r}):{type:20,value:r}},e.prototype.consumeUrlToken=function(){var r=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===zl)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===ig||t===sg){var a=this.consumeStringToken(this.consumeCodePoint());return a.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===zl||this.peekCodePoint(0)===Th)?(this.consumeCodePoint(),{type:22,value:a.value}):(this.consumeBadUrlRemnants(),dg)}for(;;){var s=this.consumeCodePoint();if(s===zl||s===Th)return{type:22,value:Gn.apply(void 0,r)};if(cg(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===zl||this.peekCodePoint(0)===Th?(this.consumeCodePoint(),{type:22,value:Gn.apply(void 0,r)}):(this.consumeBadUrlRemnants(),dg);if(s===sg||s===ig||s===og||HV(s))return this.consumeBadUrlRemnants(),dg;if(s===em)if(ZA(s,this.peekCodePoint(0)))r.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),dg;else r.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;cg(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var r=this.consumeCodePoint();if(r===Th||r===zl)return;ZA(r,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(r){for(var t=5e4,a="";r>0;){var s=Math.min(t,r);a+=Gn.apply(void 0,this._value.splice(0,s)),r-=s}return this._value.shift(),a},e.prototype.consumeStringToken=function(r){var t="",a=0;do{var s=this._value[a];if(s===zl||s===void 0||s===r)return t+=this.consumeStringSlice(a),{type:0,value:t};if(s===B0)return this._value.splice(0,a),tq;if(s===em){var i=this._value[a+1];i!==zl&&i!==void 0&&(i===B0?(t+=this.consumeStringSlice(a),a=-1,this._value.shift()):ZA(s,i)&&(t+=this.consumeStringSlice(a),t+=Gn(this.consumeEscapedCodePoint()),a=-1))}a++}while(!0)},e.prototype.consumeNumber=function(){var r=[],t=$m,a=this.peekCodePoint(0);for((a===su||a===$i)&&r.push(this.consumeCodePoint());li(this.peekCodePoint(0));)r.push(this.consumeCodePoint());a=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(a===ym&&li(s))for(r.push(this.consumeCodePoint(),this.consumeCodePoint()),t=uC;li(this.peekCodePoint(0));)r.push(this.consumeCodePoint());a=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((a===S3||a===B3)&&((s===su||s===$i)&&li(i)||li(s)))for(r.push(this.consumeCodePoint(),this.consumeCodePoint()),t=uC;li(this.peekCodePoint(0));)r.push(this.consumeCodePoint());return[$V(r),t]},e.prototype.consumeNumericToken=function(){var r=this.consumeNumber(),t=r[0],a=r[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Ag(s,i,o)){var l=this.consumeName();return{type:15,number:t,flags:a,unit:l}}return s===AV?(this.consumeCodePoint(),{type:16,number:t,flags:a}):{type:17,number:t,flags:a}},e.prototype.consumeEscapedCodePoint=function(){var r=this.consumeCodePoint();if(ff(r)){for(var t=Gn(r);ff(this.peekCodePoint(0))&&t.length<6;)t+=Gn(this.consumeCodePoint());cg(this.peekCodePoint(0))&&this.consumeCodePoint();var a=parseInt(t,16);return a===0||QV(a)||a>1114111?mC:a}return r===zl?mC:r},e.prototype.consumeName=function(){for(var r="";;){var t=this.consumeCodePoint();if(pC(t))r+=Gn(t);else if(ZA(t,this.peekCodePoint(0)))r+=Gn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),r}},e})(),F3=(function(){function e(r){this._tokens=r}return e.create=function(r){var t=new E3;return t.write(r),new e(t.read())},e.parseValue=function(r){return e.create(r).parseComponentValue()},e.parseValues=function(r){return e.create(r).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var r=this.consumeToken();r.type===31;)r=this.consumeToken();if(r.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(r);var t=this.consumeComponentValue();do r=this.consumeToken();while(r.type===31);if(r.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var r=[];;){var t=this.consumeComponentValue();if(t.type===32)return r;r.push(t),r.push()}},e.prototype.consumeComponentValue=function(){var r=this.consumeToken();switch(r.type){case 11:case 28:case 2:return this.consumeSimpleBlock(r.type);case 19:return this.consumeFunction(r)}return r},e.prototype.consumeSimpleBlock=function(r){for(var t={type:r,values:[]},a=this.consumeToken();;){if(a.type===32||Aq(a,r))return t;this.reconsumeToken(a),t.values.push(this.consumeComponentValue()),a=this.consumeToken()}},e.prototype.consumeFunction=function(r){for(var t={name:r.value,values:[],type:18};;){var a=this.consumeToken();if(a.type===32||a.type===3)return t;this.reconsumeToken(a),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var r=this._tokens.shift();return typeof r>"u"?s1:r},e.prototype.reconsumeToken=function(r){this._tokens.unshift(r)},e})(),Km=function(e){return e.type===15},ah=function(e){return e.type===17},Wa=function(e){return e.type===20},cq=function(e){return e.type===0},i1=function(e,r){return Wa(e)&&e.value===r},k3=function(e){return e.type!==31},Kf=function(e){return e.type!==31&&e.type!==4},xc=function(e){var r=[],t=[];return e.forEach(function(a){if(a.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");r.push(t),t=[];return}a.type!==31&&t.push(a)}),t.length&&r.push(t),r},Aq=function(e,r){return r===11&&e.type===12||r===28&&e.type===29?!0:r===2&&e.type===3},vd=function(e){return e.type===17||e.type===15},ds=function(e){return e.type===16||vd(e)},D3=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Ks={type:17,number:0,flags:$m},Cb={type:16,number:50,flags:$m},sd={type:16,number:100,flags:$m},qh=function(e,r,t){var a=e[0],s=e[1];return[an(a,r),an(typeof s<"u"?s:a,t)]},an=function(e,r){if(e.type===16)return e.number/100*r;if(Km(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},U3="deg",L3="grad",I3="rad",P3="turn",_x={name:"angle",parse:function(e,r){if(r.type===15)switch(r.unit){case U3:return Math.PI*r.number/180;case L3:return Math.PI/200*r.number;case I3:return r.number;case P3:return Math.PI*2*r.number}throw new Error("Unsupported angle type")}},Q3=function(e){return e.type===15&&(e.unit===U3||e.unit===L3||e.unit===I3||e.unit===P3)},R3=function(e){var r=e.filter(Wa).map(function(t){return t.value}).join(" ");switch(r){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ks,Ks];case"to top":case"bottom":return Ro(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ks,sd];case"to right":case"left":return Ro(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[sd,sd];case"to bottom":case"top":return Ro(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[sd,Ks];case"to left":case"right":return Ro(270)}return 0},Ro=function(e){return Math.PI*e/180},Ad={name:"color",parse:function(e,r){if(r.type===18){var t=dq[r.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+r.name+'"');return t(e,r.values)}if(r.type===5){if(r.value.length===3){var a=r.value.substring(0,1),s=r.value.substring(1,2),i=r.value.substring(2,3);return id(parseInt(a+a,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(r.value.length===4){var a=r.value.substring(0,1),s=r.value.substring(1,2),i=r.value.substring(2,3),o=r.value.substring(3,4);return id(parseInt(a+a,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(r.value.length===6){var a=r.value.substring(0,2),s=r.value.substring(2,4),i=r.value.substring(4,6);return id(parseInt(a,16),parseInt(s,16),parseInt(i,16),1)}if(r.value.length===8){var a=r.value.substring(0,2),s=r.value.substring(2,4),i=r.value.substring(4,6),o=r.value.substring(6,8);return id(parseInt(a,16),parseInt(s,16),parseInt(i,16),parseInt(o,16)/255)}}if(r.type===20){var l=lA[r.value.toUpperCase()];if(typeof l<"u")return l}return lA.TRANSPARENT}},dd=function(e){return(255&e)===0},Us=function(e){var r=255&e,t=255&e>>8,a=255&e>>16,s=255&e>>24;return r<255?"rgba("+s+","+a+","+t+","+r/255+")":"rgb("+s+","+a+","+t+")"},id=function(e,r,t,a){return(e<<24|r<<16|t<<8|Math.round(a*255)<<0)>>>0},gC=function(e,r){if(e.type===17)return e.number;if(e.type===16){var t=r===3?1:255;return r===3?e.number/100*t:Math.round(e.number/100*t)}return 0},xC=function(e,r){var t=r.filter(Kf);if(t.length===3){var a=t.map(gC),s=a[0],i=a[1],o=a[2];return id(s,i,o,1)}if(t.length===4){var l=t.map(gC),s=l[0],i=l[1],o=l[2],A=l[3];return id(s,i,o,A)}return 0};function Pw(e,r,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(r-e)*t*6+e:t<1/2?r:t<2/3?(r-e)*6*(2/3-t)+e:e}var vC=function(e,r){var t=r.filter(Kf),a=t[0],s=t[1],i=t[2],o=t[3],l=(a.type===17?Ro(a.number):_x.parse(e,a))/(Math.PI*2),A=ds(s)?s.number/100:0,d=ds(i)?i.number/100:0,f=typeof o<"u"&&ds(o)?an(o,1):1;if(A===0)return id(d*255,d*255,d*255,1);var h=d<=.5?d*(A+1):d+A-d*A,m=d*2-h,p=Pw(m,h,l+1/3),x=Pw(m,h,l),g=Pw(m,h,l-1/3);return id(p*255,x*255,g*255,f)},dq={hsl:vC,hsla:vC,rgb:xC,rgba:xC},tm=function(e,r){return Ad.parse(e,F3.create(r).parseComponentValue())},lA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},uq={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,r){return r.map(function(t){if(Wa(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fq={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ex=function(e,r){var t=Ad.parse(e,r[0]),a=r[1];return a&&ds(a)?{color:t,stop:a}:{color:t,stop:null}},wC=function(e,r){var t=e[0],a=e[e.length-1];t.stop===null&&(t.stop=Ks),a.stop===null&&(a.stop=sd);for(var s=[],i=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var A=an(l,r);A>i?s.push(A):s.push(i),i=A}else s.push(null)}for(var d=null,o=0;o<s.length;o++){var f=s[o];if(f===null)d===null&&(d=o);else if(d!==null){for(var h=o-d,m=s[d-1],p=(f-m)/(h+1),x=1;x<=h;x++)s[d+x-1]=p*x;d=null}}return e.map(function(g,w){var j=g.color;return{color:j,stop:Math.max(Math.min(1,s[w]/r),0)}})},hq=function(e,r,t){var a=r/2,s=t/2,i=an(e[0],r)-a,o=s-an(e[1],t);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},mq=function(e,r,t){var a=typeof e=="number"?e:hq(e,r,t),s=Math.abs(r*Math.sin(a))+Math.abs(t*Math.cos(a)),i=r/2,o=t/2,l=s/2,A=Math.sin(a-Math.PI/2)*l,d=Math.cos(a-Math.PI/2)*l;return[s,i-d,i+d,o-A,o+A]},ml=function(e,r){return Math.sqrt(e*e+r*r)},yC=function(e,r,t,a,s){var i=[[0,0],[0,r],[e,0],[e,r]];return i.reduce(function(o,l){var A=l[0],d=l[1],f=ml(t-A,a-d);return(s?f<o.optimumDistance:f>o.optimumDistance)?{optimumCorner:l,optimumDistance:f}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},pq=function(e,r,t,a,s){var i=0,o=0;switch(e.size){case 0:e.shape===0?i=o=Math.min(Math.abs(r),Math.abs(r-a),Math.abs(t),Math.abs(t-s)):e.shape===1&&(i=Math.min(Math.abs(r),Math.abs(r-a)),o=Math.min(Math.abs(t),Math.abs(t-s)));break;case 2:if(e.shape===0)i=o=Math.min(ml(r,t),ml(r,t-s),ml(r-a,t),ml(r-a,t-s));else if(e.shape===1){var l=Math.min(Math.abs(t),Math.abs(t-s))/Math.min(Math.abs(r),Math.abs(r-a)),A=yC(a,s,r,t,!0),d=A[0],f=A[1];i=ml(d-r,(f-t)/l),o=l*i}break;case 1:e.shape===0?i=o=Math.max(Math.abs(r),Math.abs(r-a),Math.abs(t),Math.abs(t-s)):e.shape===1&&(i=Math.max(Math.abs(r),Math.abs(r-a)),o=Math.max(Math.abs(t),Math.abs(t-s)));break;case 3:if(e.shape===0)i=o=Math.max(ml(r,t),ml(r,t-s),ml(r-a,t),ml(r-a,t-s));else if(e.shape===1){var l=Math.max(Math.abs(t),Math.abs(t-s))/Math.max(Math.abs(r),Math.abs(r-a)),h=yC(a,s,r,t,!1),d=h[0],f=h[1];i=ml(d-r,(f-t)/l),o=l*i}break}return Array.isArray(e.size)&&(i=an(e.size[0],a),o=e.size.length===2?an(e.size[1],s):i),[i,o]},gq=function(e,r){var t=Ro(180),a=[];return xc(r).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&o.value==="to"){t=R3(s);return}else if(Q3(o)){t=_x.parse(e,o);return}}var l=Ex(e,s);a.push(l)}),{angle:t,stops:a,type:1}},ug=function(e,r){var t=Ro(180),a=[];return xc(r).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){t=R3(s);return}else if(Q3(o)){t=(_x.parse(e,o)+Ro(270))%Ro(360);return}}var l=Ex(e,s);a.push(l)}),{angle:t,stops:a,type:1}},xq=function(e,r){var t=Ro(180),a=[],s=1,i=0,o=3,l=[];return xc(r).forEach(function(A,d){var f=A[0];if(d===0){if(Wa(f)&&f.value==="linear"){s=1;return}else if(Wa(f)&&f.value==="radial"){s=2;return}}if(f.type===18){if(f.name==="from"){var h=Ad.parse(e,f.values[0]);a.push({stop:Ks,color:h})}else if(f.name==="to"){var h=Ad.parse(e,f.values[0]);a.push({stop:sd,color:h})}else if(f.name==="color-stop"){var m=f.values.filter(Kf);if(m.length===2){var h=Ad.parse(e,m[1]),p=m[0];ah(p)&&a.push({stop:{type:16,number:p.number*100,flags:p.flags},color:h})}}}}),s===1?{angle:(t+Ro(180))%Ro(360),stops:a,type:s}:{size:o,shape:i,stops:a,position:l,type:s}},T3="closest-side",M3="farthest-side",O3="closest-corner",H3="farthest-corner",$3="circle",K3="ellipse",z3="cover",V3="contain",vq=function(e,r){var t=0,a=3,s=[],i=[];return xc(r).forEach(function(o,l){var A=!0;if(l===0){var d=!1;A=o.reduce(function(h,m){if(d)if(Wa(m))switch(m.value){case"center":return i.push(Cb),h;case"top":case"left":return i.push(Ks),h;case"right":case"bottom":return i.push(sd),h}else(ds(m)||vd(m))&&i.push(m);else if(Wa(m))switch(m.value){case $3:return t=0,!1;case K3:return t=1,!1;case"at":return d=!0,!1;case T3:return a=0,!1;case z3:case M3:return a=1,!1;case V3:case O3:return a=2,!1;case H3:return a=3,!1}else if(vd(m)||ds(m))return Array.isArray(a)||(a=[]),a.push(m),!1;return h},A)}if(A){var f=Ex(e,o);s.push(f)}}),{size:a,shape:t,stops:s,position:i,type:2}},fg=function(e,r){var t=0,a=3,s=[],i=[];return xc(r).forEach(function(o,l){var A=!0;if(l===0?A=o.reduce(function(f,h){if(Wa(h))switch(h.value){case"center":return i.push(Cb),!1;case"top":case"left":return i.push(Ks),!1;case"right":case"bottom":return i.push(sd),!1}else if(ds(h)||vd(h))return i.push(h),!1;return f},A):l===1&&(A=o.reduce(function(f,h){if(Wa(h))switch(h.value){case $3:return t=0,!1;case K3:return t=1,!1;case V3:case T3:return a=0,!1;case M3:return a=1,!1;case O3:return a=2,!1;case z3:case H3:return a=3,!1}else if(vd(h)||ds(h))return Array.isArray(a)||(a=[]),a.push(h),!1;return f},A)),A){var d=Ex(e,o);s.push(d)}}),{size:a,shape:t,stops:s,position:i,type:2}},wq=function(e){return e.type===1},yq=function(e){return e.type===2},Sb={name:"image",parse:function(e,r){if(r.type===22){var t={url:r.value,type:0};return e.cache.addImage(r.value),t}if(r.type===18){var a=q3[r.name];if(typeof a>"u")throw new Error('Attempting to parse an unsupported image function "'+r.name+'"');return a(e,r.values)}throw new Error("Unsupported image type "+r.type)}};function bq(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!q3[e.name])}var q3={"linear-gradient":gq,"-moz-linear-gradient":ug,"-ms-linear-gradient":ug,"-o-linear-gradient":ug,"-webkit-linear-gradient":ug,"radial-gradient":vq,"-moz-radial-gradient":fg,"-ms-radial-gradient":fg,"-o-radial-gradient":fg,"-webkit-radial-gradient":fg,"-webkit-gradient":xq},jq={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,r){if(r.length===0)return[];var t=r[0];return t.type===20&&t.value==="none"?[]:r.filter(function(a){return Kf(a)&&bq(a)}).map(function(a){return Sb.parse(e,a)})}},Nq={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,r){return r.map(function(t){if(Wa(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Bq={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,r){return xc(r).map(function(t){return t.filter(ds)}).map(D3)}},Cq={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,r){return xc(r).map(function(t){return t.filter(Wa).map(function(a){return a.value}).join(" ")}).map(Sq)}},Sq=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},If;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(If||(If={}));var _q={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,r){return xc(r).map(function(t){return t.filter(Eq)})}},Eq=function(e){return Wa(e)||ds(e)},Fx=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Fq=Fx("top"),kq=Fx("right"),Dq=Fx("bottom"),Uq=Fx("left"),kx=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(r,t){return D3(t.filter(ds))}}},Lq=kx("top-left"),Iq=kx("top-right"),Pq=kx("bottom-right"),Qq=kx("bottom-left"),Dx=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(r,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Rq=Dx("top"),Tq=Dx("right"),Mq=Dx("bottom"),Oq=Dx("left"),Ux=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(r,t){return Km(t)?t.number:0}}},Hq=Ux("top"),$q=Ux("right"),Kq=Ux("bottom"),zq=Ux("left"),Vq={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qq={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,r){switch(r){case"rtl":return 1;case"ltr":default:return 0}}},Wq={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,r){return r.filter(Wa).reduce(function(t,a){return t|Gq(a.value)},0)}},Gq=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Yq={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,r){switch(r){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Xq={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,r){return r.type===20&&r.value==="normal"?0:r.type===17||r.type===15?r.number:0}},S0;(function(e){e.NORMAL="normal",e.STRICT="strict"})(S0||(S0={}));var Jq={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,r){switch(r){case"strict":return S0.STRICT;case"normal":default:return S0.NORMAL}}},Zq={name:"line-height",initialValue:"normal",prefix:!1,type:4},bC=function(e,r){return Wa(e)&&e.value==="normal"?1.2*r:e.type===17?r*e.number:ds(e)?an(e,r):r},eW={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,r){return r.type===20&&r.value==="none"?null:Sb.parse(e,r)}},tW={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,r){switch(r){case"inside":return 0;case"outside":default:return 1}}},o1={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,r){switch(r){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Lx=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},rW=Lx("top"),aW=Lx("right"),nW=Lx("bottom"),sW=Lx("left"),iW={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,r){return r.filter(Wa).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},oW={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,r){switch(r){case"break-word":return"break-word";case"normal":default:return"normal"}}},Ix=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},lW=Ix("top"),cW=Ix("right"),AW=Ix("bottom"),dW=Ix("left"),uW={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,r){switch(r){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},fW={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,r){switch(r){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},hW={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,r){return r.length===1&&i1(r[0],"none")?[]:xc(r).map(function(t){for(var a={color:lA.TRANSPARENT,offsetX:Ks,offsetY:Ks,blur:Ks},s=0,i=0;i<t.length;i++){var o=t[i];vd(o)?(s===0?a.offsetX=o:s===1?a.offsetY=o:a.blur=o,s++):a.color=Ad.parse(e,o)}return a})}},mW={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,r){switch(r){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},pW={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,r){if(r.type===20&&r.value==="none")return null;if(r.type===18){var t=vW[r.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+r.name+'"');return t(r.values)}return null}},gW=function(e){var r=e.filter(function(t){return t.type===17}).map(function(t){return t.number});return r.length===6?r:null},xW=function(e){var r=e.filter(function(A){return A.type===17}).map(function(A){return A.number}),t=r[0],a=r[1];r[2],r[3];var s=r[4],i=r[5];r[6],r[7],r[8],r[9],r[10],r[11];var o=r[12],l=r[13];return r[14],r[15],r.length===16?[t,a,s,i,o,l]:null},vW={matrix:gW,matrix3d:xW},jC={type:16,number:50,flags:$m},wW=[jC,jC],yW={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,r){var t=r.filter(ds);return t.length!==2?wW:[t[0],t[1]]}},bW={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,r){switch(r){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},rm;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(rm||(rm={}));var jW={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,r){switch(r){case"break-all":return rm.BREAK_ALL;case"keep-all":return rm.KEEP_ALL;case"normal":default:return rm.NORMAL}}},NW={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,r){if(r.type===20)return{auto:!0,order:0};if(ah(r))return{auto:!1,order:r.number};throw new Error("Invalid z-index number parsed")}},W3={name:"time",parse:function(e,r){if(r.type===15)switch(r.unit.toLowerCase()){case"s":return 1e3*r.number;case"ms":return r.number}throw new Error("Unsupported time type")}},BW={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,r){return ah(r)?r.number:1}},CW={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},SW={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,r){return r.filter(Wa).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},_W={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,r){var t=[],a=[];return r.forEach(function(s){switch(s.type){case 20:case 0:t.push(s.value);break;case 17:t.push(s.number.toString());break;case 4:a.push(t.join(" ")),t.length=0;break}}),t.length&&a.push(t.join(" ")),a.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},EW={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},FW={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,r){if(ah(r))return r.number;if(Wa(r))switch(r.value){case"bold":return 700;case"normal":default:return 400}return 400}},kW={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,r){return r.filter(Wa).map(function(t){return t.value})}},DW={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,r){switch(r){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},bs=function(e,r){return(e&r)!==0},UW={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,r){if(r.length===0)return[];var t=r[0];return t.type===20&&t.value==="none"?[]:r}},LW={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,r){if(r.length===0)return null;var t=r[0];if(t.type===20&&t.value==="none")return null;for(var a=[],s=r.filter(k3),i=0;i<s.length;i++){var o=s[i],l=s[i+1];if(o.type===20){var A=l&&ah(l)?l.number:1;a.push({counter:o.value,increment:A})}}return a}},IW={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,r){if(r.length===0)return[];for(var t=[],a=r.filter(k3),s=0;s<a.length;s++){var i=a[s],o=a[s+1];if(Wa(i)&&i.value!=="none"){var l=o&&ah(o)?o.number:0;t.push({counter:i.value,reset:l})}}return t}},PW={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,r){return r.filter(Km).map(function(t){return W3.parse(e,t)})}},QW={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,r){if(r.length===0)return null;var t=r[0];if(t.type===20&&t.value==="none")return null;var a=[],s=r.filter(cq);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var o=s[i].value,l=s[i+1].value;a.push({open:o,close:l})}return a}},NC=function(e,r,t){if(!e)return"";var a=e[Math.min(r,e.length-1)];return a?t?a.open:a.close:""},RW={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,r){return r.length===1&&i1(r[0],"none")?[]:xc(r).map(function(t){for(var a={color:255,offsetX:Ks,offsetY:Ks,blur:Ks,spread:Ks,inset:!1},s=0,i=0;i<t.length;i++){var o=t[i];i1(o,"inset")?a.inset=!0:vd(o)?(s===0?a.offsetX=o:s===1?a.offsetY=o:s===2?a.blur=o:a.spread=o,s++):a.color=Ad.parse(e,o)}return a})}},TW={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,r){var t=[0,1,2],a=[];return r.filter(Wa).forEach(function(s){switch(s.value){case"stroke":a.push(1);break;case"fill":a.push(0);break;case"markers":a.push(2);break}}),t.forEach(function(s){a.indexOf(s)===-1&&a.push(s)}),a}},MW={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},OW={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Km(r)?r.number:0}},HW=(function(){function e(r,t){var a,s;this.animationDuration=Pt(r,PW,t.animationDuration),this.backgroundClip=Pt(r,uq,t.backgroundClip),this.backgroundColor=Pt(r,fq,t.backgroundColor),this.backgroundImage=Pt(r,jq,t.backgroundImage),this.backgroundOrigin=Pt(r,Nq,t.backgroundOrigin),this.backgroundPosition=Pt(r,Bq,t.backgroundPosition),this.backgroundRepeat=Pt(r,Cq,t.backgroundRepeat),this.backgroundSize=Pt(r,_q,t.backgroundSize),this.borderTopColor=Pt(r,Fq,t.borderTopColor),this.borderRightColor=Pt(r,kq,t.borderRightColor),this.borderBottomColor=Pt(r,Dq,t.borderBottomColor),this.borderLeftColor=Pt(r,Uq,t.borderLeftColor),this.borderTopLeftRadius=Pt(r,Lq,t.borderTopLeftRadius),this.borderTopRightRadius=Pt(r,Iq,t.borderTopRightRadius),this.borderBottomRightRadius=Pt(r,Pq,t.borderBottomRightRadius),this.borderBottomLeftRadius=Pt(r,Qq,t.borderBottomLeftRadius),this.borderTopStyle=Pt(r,Rq,t.borderTopStyle),this.borderRightStyle=Pt(r,Tq,t.borderRightStyle),this.borderBottomStyle=Pt(r,Mq,t.borderBottomStyle),this.borderLeftStyle=Pt(r,Oq,t.borderLeftStyle),this.borderTopWidth=Pt(r,Hq,t.borderTopWidth),this.borderRightWidth=Pt(r,$q,t.borderRightWidth),this.borderBottomWidth=Pt(r,Kq,t.borderBottomWidth),this.borderLeftWidth=Pt(r,zq,t.borderLeftWidth),this.boxShadow=Pt(r,RW,t.boxShadow),this.color=Pt(r,Vq,t.color),this.direction=Pt(r,qq,t.direction),this.display=Pt(r,Wq,t.display),this.float=Pt(r,Yq,t.cssFloat),this.fontFamily=Pt(r,_W,t.fontFamily),this.fontSize=Pt(r,EW,t.fontSize),this.fontStyle=Pt(r,DW,t.fontStyle),this.fontVariant=Pt(r,kW,t.fontVariant),this.fontWeight=Pt(r,FW,t.fontWeight),this.letterSpacing=Pt(r,Xq,t.letterSpacing),this.lineBreak=Pt(r,Jq,t.lineBreak),this.lineHeight=Pt(r,Zq,t.lineHeight),this.listStyleImage=Pt(r,eW,t.listStyleImage),this.listStylePosition=Pt(r,tW,t.listStylePosition),this.listStyleType=Pt(r,o1,t.listStyleType),this.marginTop=Pt(r,rW,t.marginTop),this.marginRight=Pt(r,aW,t.marginRight),this.marginBottom=Pt(r,nW,t.marginBottom),this.marginLeft=Pt(r,sW,t.marginLeft),this.opacity=Pt(r,BW,t.opacity);var i=Pt(r,iW,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Pt(r,oW,t.overflowWrap),this.paddingTop=Pt(r,lW,t.paddingTop),this.paddingRight=Pt(r,cW,t.paddingRight),this.paddingBottom=Pt(r,AW,t.paddingBottom),this.paddingLeft=Pt(r,dW,t.paddingLeft),this.paintOrder=Pt(r,TW,t.paintOrder),this.position=Pt(r,fW,t.position),this.textAlign=Pt(r,uW,t.textAlign),this.textDecorationColor=Pt(r,CW,(a=t.textDecorationColor)!==null&&a!==void 0?a:t.color),this.textDecorationLine=Pt(r,SW,(s=t.textDecorationLine)!==null&&s!==void 0?s:t.textDecoration),this.textShadow=Pt(r,hW,t.textShadow),this.textTransform=Pt(r,mW,t.textTransform),this.transform=Pt(r,pW,t.transform),this.transformOrigin=Pt(r,yW,t.transformOrigin),this.visibility=Pt(r,bW,t.visibility),this.webkitTextStrokeColor=Pt(r,MW,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Pt(r,OW,t.webkitTextStrokeWidth),this.wordBreak=Pt(r,jW,t.wordBreak),this.zIndex=Pt(r,NW,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return dd(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return bs(this.display,4)||bs(this.display,33554432)||bs(this.display,268435456)||bs(this.display,536870912)||bs(this.display,67108864)||bs(this.display,134217728)},e})(),$W=(function(){function e(r,t){this.content=Pt(r,UW,t.content),this.quotes=Pt(r,QW,t.quotes)}return e})(),BC=(function(){function e(r,t){this.counterIncrement=Pt(r,LW,t.counterIncrement),this.counterReset=Pt(r,IW,t.counterReset)}return e})(),Pt=function(e,r,t){var a=new E3,s=t!==null&&typeof t<"u"?t.toString():r.initialValue;a.write(s);var i=new F3(a.read());switch(r.type){case 2:var o=i.parseComponentValue();return r.parse(e,Wa(o)?o.value:r.initialValue);case 0:return r.parse(e,i.parseComponentValue());case 1:return r.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(r.format){case"angle":return _x.parse(e,i.parseComponentValue());case"color":return Ad.parse(e,i.parseComponentValue());case"image":return Sb.parse(e,i.parseComponentValue());case"length":var l=i.parseComponentValue();return vd(l)?l:Ks;case"length-percentage":var A=i.parseComponentValue();return ds(A)?A:Ks;case"time":return W3.parse(e,i.parseComponentValue())}break}},KW="data-html2canvas-debug",zW=function(e){var r=e.getAttribute(KW);switch(r){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},l1=function(e,r){var t=zW(e);return t===1||r===t},vc=(function(){function e(r,t){if(this.context=r,this.textNodes=[],this.elements=[],this.flags=0,l1(t,3))debugger;this.styles=new HW(r,window.getComputedStyle(t,null)),d1(t)&&(this.styles.animationDuration.some(function(a){return a>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=Cx(this.context,t),l1(t,4)&&(this.flags|=16)}return e})(),VW="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",CC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hg=0;hg<CC.length;hg++)Wh[CC.charCodeAt(hg)]=hg;var qW=function(e){var r=e.length*.75,t=e.length,a,s=0,i,o,l,A;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(r):new Array(r),f=Array.isArray(d)?d:new Uint8Array(d);for(a=0;a<t;a+=4)i=Wh[e.charCodeAt(a)],o=Wh[e.charCodeAt(a+1)],l=Wh[e.charCodeAt(a+2)],A=Wh[e.charCodeAt(a+3)],f[s++]=i<<2|o>>4,f[s++]=(o&15)<<4|l>>2,f[s++]=(l&3)<<6|A&63;return d},WW=function(e){for(var r=e.length,t=[],a=0;a<r;a+=2)t.push(e[a+1]<<8|e[a]);return t},GW=function(e){for(var r=e.length,t=[],a=0;a<r;a+=4)t.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return t},uu=5,_b=11,Qw=2,YW=_b-uu,G3=65536>>uu,XW=1<<uu,Rw=XW-1,JW=1024>>uu,ZW=G3+JW,eG=ZW,tG=32,rG=eG+tG,aG=65536>>_b,nG=1<<YW,sG=nG-1,SC=function(e,r,t){return e.slice?e.slice(r,t):new Uint16Array(Array.prototype.slice.call(e,r,t))},iG=function(e,r,t){return e.slice?e.slice(r,t):new Uint32Array(Array.prototype.slice.call(e,r,t))},oG=function(e,r){var t=qW(e),a=Array.isArray(t)?GW(t):new Uint32Array(t),s=Array.isArray(t)?WW(t):new Uint16Array(t),i=24,o=SC(s,i/2,a[4]/2),l=a[5]===2?SC(s,(i+a[4])/2):iG(a,Math.ceil((i+a[4])/4));return new lG(a[0],a[1],a[2],a[3],o,l)},lG=(function(){function e(r,t,a,s,i,o){this.initialValue=r,this.errorValue=t,this.highStart=a,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(r){var t;if(r>=0){if(r<55296||r>56319&&r<=65535)return t=this.index[r>>uu],t=(t<<Qw)+(r&Rw),this.data[t];if(r<=65535)return t=this.index[G3+(r-55296>>uu)],t=(t<<Qw)+(r&Rw),this.data[t];if(r<this.highStart)return t=rG-aG+(r>>_b),t=this.index[t],t+=r>>uu&sG,t=this.index[t],t=(t<<Qw)+(r&Rw),this.data[t];if(r<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),_C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cG=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var mg=0;mg<_C.length;mg++)cG[_C.charCodeAt(mg)]=mg;var AG=1,Tw=2,Mw=3,EC=4,FC=5,dG=7,kC=8,Ow=9,Hw=10,DC=11,UC=12,LC=13,IC=14,$w=15,uG=function(e){for(var r=[],t=0,a=e.length;t<a;){var s=e.charCodeAt(t++);if(s>=55296&&s<=56319&&t<a){var i=e.charCodeAt(t++);(i&64512)===56320?r.push(((s&1023)<<10)+(i&1023)+65536):(r.push(s),t--)}else r.push(s)}return r},fG=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var a=[],s=-1,i="";++s<t;){var o=e[s];o<=65535?a.push(o):(o-=65536,a.push((o>>10)+55296,o%1024+56320)),(s+1===t||a.length>16384)&&(i+=String.fromCharCode.apply(String,a),a.length=0)}return i},hG=oG(VW),Io="",Kw="",mG=function(e){return hG.get(e)},pG=function(e,r,t){var a=t-2,s=r[a],i=r[t-1],o=r[t];if(i===Tw&&o===Mw)return Io;if(i===Tw||i===Mw||i===EC||o===Tw||o===Mw||o===EC)return Kw;if(i===kC&&[kC,Ow,DC,UC].indexOf(o)!==-1||(i===DC||i===Ow)&&(o===Ow||o===Hw)||(i===UC||i===Hw)&&o===Hw||o===LC||o===FC||o===dG||i===AG)return Io;if(i===LC&&o===IC){for(;s===FC;)s=r[--a];if(s===IC)return Io}if(i===$w&&o===$w){for(var l=0;s===$w;)l++,s=r[--a];if(l%2===0)return Io}return Kw},gG=function(e){var r=uG(e),t=r.length,a=0,s=0,i=r.map(mG);return{next:function(){if(a>=t)return{done:!0,value:null};for(var o=Io;a<t&&(o=pG(r,i,++a))===Io;);if(o!==Io||a===t){var l=fG.apply(null,r.slice(s,a));return s=a,{value:l,done:!1}}return{done:!0,value:null}}}},xG=function(e){for(var r=gG(e),t=[],a;!(a=r.next()).done;)a.value&&t.push(a.value.slice());return t},vG=function(e){var r=123;if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var a=e.createElement("boundtest");a.style.height=r+"px",a.style.display="block",e.body.appendChild(a),t.selectNode(a);var s=t.getBoundingClientRect(),i=Math.round(s.height);if(e.body.removeChild(a),i===r)return!0}}return!1},wG=function(e){var r=e.createElement("boundtest");r.style.width="50px",r.style.display="block",r.style.fontSize="12px",r.style.letterSpacing="0px",r.style.wordSpacing="0px",e.body.appendChild(r);var t=e.createRange();r.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var a=r.firstChild,s=Sx(a.data).map(function(A){return Gn(A)}),i=0,o={},l=s.every(function(A,d){t.setStart(a,i),t.setEnd(a,i+A.length);var f=t.getBoundingClientRect();i+=A.length;var h=f.x>o.x||f.y>o.y;return o=f,d===0?!0:h});return e.body.removeChild(r),l},yG=function(){return typeof new Image().crossOrigin<"u"},bG=function(){return typeof new XMLHttpRequest().responseType=="string"},jG=function(e){var r=new Image,t=e.createElement("canvas"),a=t.getContext("2d");if(!a)return!1;r.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{a.drawImage(r,0,0),t.toDataURL()}catch{return!1}return!0},PC=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},NG=function(e){var r=e.createElement("canvas"),t=100;r.width=t,r.height=t;var a=r.getContext("2d");if(!a)return Promise.reject(!1);a.fillStyle="rgb(0, 255, 0)",a.fillRect(0,0,t,t);var s=new Image,i=r.toDataURL();s.src=i;var o=c1(t,t,0,0,s);return a.fillStyle="red",a.fillRect(0,0,t,t),QC(o).then(function(l){a.drawImage(l,0,0);var A=a.getImageData(0,0,t,t).data;a.fillStyle="red",a.fillRect(0,0,t,t);var d=e.createElement("div");return d.style.backgroundImage="url("+i+")",d.style.height=t+"px",PC(A)?QC(c1(t,t,0,0,d)):Promise.reject(!1)}).then(function(l){return a.drawImage(l,0,0),PC(a.getImageData(0,0,t,t).data)}).catch(function(){return!1})},c1=function(e,r,t,a,s){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",r.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",a.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(s),o},QC=function(e){return new Promise(function(r,t){var a=new Image;a.onload=function(){return r(a)},a.onerror=t,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},$s={get SUPPORT_RANGE_BOUNDS(){var e=vG(document);return Object.defineProperty($s,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=$s.SUPPORT_RANGE_BOUNDS&&wG(document);return Object.defineProperty($s,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=jG(document);return Object.defineProperty($s,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?NG(document):Promise.resolve(!1);return Object.defineProperty($s,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=yG();return Object.defineProperty($s,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=bG();return Object.defineProperty($s,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty($s,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty($s,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},am=(function(){function e(r,t){this.text=r,this.bounds=t}return e})(),BG=function(e,r,t,a){var s=_G(r,t),i=[],o=0;return s.forEach(function(l){if(t.textDecorationLine.length||l.trim().length>0)if($s.SUPPORT_RANGE_BOUNDS){var A=RC(a,o,l.length).getClientRects();if(A.length>1){var d=Eb(l),f=0;d.forEach(function(m){i.push(new am(m,hA.fromDOMRectList(e,RC(a,f+o,m.length).getClientRects()))),f+=m.length})}else i.push(new am(l,hA.fromDOMRectList(e,A)))}else{var h=a.splitText(l.length);i.push(new am(l,CG(e,a))),a=h}else $s.SUPPORT_RANGE_BOUNDS||(a=a.splitText(l.length));o+=l.length}),i},CG=function(e,r){var t=r.ownerDocument;if(t){var a=t.createElement("html2canvaswrapper");a.appendChild(r.cloneNode(!0));var s=r.parentNode;if(s){s.replaceChild(a,r);var i=Cx(e,a);return a.firstChild&&s.replaceChild(a.firstChild,a),i}}return hA.EMPTY},RC=function(e,r,t){var a=e.ownerDocument;if(!a)throw new Error("Node has no owner document");var s=a.createRange();return s.setStart(e,r),s.setEnd(e,r+t),s},Eb=function(e){if($s.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(r.segment(e)).map(function(t){return t.segment})}return xG(e)},SG=function(e,r){if($s.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(e)).map(function(a){return a.segment})}return FG(e,r)},_G=function(e,r){return r.letterSpacing!==0?Eb(e):SG(e,r)},EG=[32,160,4961,65792,65793,4153,4241],FG=function(e,r){for(var t=aV(e,{lineBreak:r.lineBreak,wordBreak:r.overflowWrap==="break-word"?"break-word":r.wordBreak}),a=[],s,i=function(){if(s.value){var o=s.value.slice(),l=Sx(o),A="";l.forEach(function(d){EG.indexOf(d)===-1?A+=Gn(d):(A.length&&a.push(A),a.push(Gn(d)),A="")}),A.length&&a.push(A)}};!(s=t.next()).done;)i();return a},kG=(function(){function e(r,t,a){this.text=DG(t.data,a.textTransform),this.textBounds=BG(r,this.text,a,t)}return e})(),DG=function(e,r){switch(r){case 1:return e.toLowerCase();case 3:return e.replace(UG,LG);case 2:return e.toUpperCase();default:return e}},UG=/(^|\s|:|-|\(|\))([a-z])/g,LG=function(e,r,t){return e.length>0?r+t.toUpperCase():e},Y3=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.src=a.currentSrc||a.src,s.intrinsicWidth=a.naturalWidth,s.intrinsicHeight=a.naturalHeight,s.context.cache.addImage(s.src),s}return r})(vc),X3=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.canvas=a,s.intrinsicWidth=a.width,s.intrinsicHeight=a.height,s}return r})(vc),J3=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this,i=new XMLSerializer,o=Cx(t,a);return a.setAttribute("width",o.width+"px"),a.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(a)),s.intrinsicWidth=a.width.baseVal.value,s.intrinsicHeight=a.height.baseVal.value,s.context.cache.addImage(s.svg),s}return r})(vc),Z3=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.value=a.value,s}return r})(vc),A1=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.start=a.start,s.reversed=typeof a.reversed=="boolean"&&a.reversed===!0,s}return r})(vc),IG=[{type:15,flags:0,unit:"px",number:3}],PG=[{type:16,flags:0,number:50}],QG=function(e){return e.width>e.height?new hA(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new hA(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},RG=function(e){var r=e.type===TG?new Array(e.value.length+1).join(""):e.value;return r.length===0?e.placeholder||"":r},_0="checkbox",E0="radio",TG="password",TC=707406591,Fb=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this;switch(s.type=a.type.toLowerCase(),s.checked=a.checked,s.value=RG(a),(s.type===_0||s.type===E0)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=QG(s.bounds)),s.type){case _0:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=IG;break;case E0:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=PG;break}return s}return r})(vc),ek=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this,i=a.options[a.selectedIndex||0];return s.value=i&&i.text||"",s}return r})(vc),tk=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.value=a.value,s}return r})(vc),rk=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this;s.src=a.src,s.width=parseInt(a.width,10)||0,s.height=parseInt(a.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(a.contentWindow&&a.contentWindow.document&&a.contentWindow.document.documentElement){s.tree=nk(t,a.contentWindow.document.documentElement);var i=a.contentWindow.document.documentElement?tm(t,getComputedStyle(a.contentWindow.document.documentElement).backgroundColor):lA.TRANSPARENT,o=a.contentWindow.document.body?tm(t,getComputedStyle(a.contentWindow.document.body).backgroundColor):lA.TRANSPARENT;s.backgroundColor=dd(i)?dd(o)?s.styles.backgroundColor:o:i}}catch{}return s}return r})(vc),MG=["OL","UL","MENU"],Kg=function(e,r,t,a){for(var s=r.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,sk(s)&&s.data.trim().length>0)t.textNodes.push(new kG(e,s,t.styles));else if(jf(s))if(ck(s)&&s.assignedNodes)s.assignedNodes().forEach(function(l){return Kg(e,l,t,a)});else{var o=ak(e,s);o.styles.isVisible()&&(OG(s,o,a)?o.flags|=4:HG(o.styles)&&(o.flags|=2),MG.indexOf(s.tagName)!==-1&&(o.flags|=8),t.elements.push(o),s.slot,s.shadowRoot?Kg(e,s.shadowRoot,o,a):!F0(s)&&!ik(s)&&!k0(s)&&Kg(e,s,o,a))}},ak=function(e,r){return u1(r)?new Y3(e,r):ok(r)?new X3(e,r):ik(r)?new J3(e,r):$G(r)?new Z3(e,r):KG(r)?new A1(e,r):zG(r)?new Fb(e,r):k0(r)?new ek(e,r):F0(r)?new tk(e,r):lk(r)?new rk(e,r):new vc(e,r)},nk=function(e,r){var t=ak(e,r);return t.flags|=4,Kg(e,r,t,t),t},OG=function(e,r,t){return r.styles.isPositionedWithZIndex()||r.styles.opacity<1||r.styles.isTransformed()||kb(e)&&t.styles.isTransparent()},HG=function(e){return e.isPositioned()||e.isFloating()},sk=function(e){return e.nodeType===Node.TEXT_NODE},jf=function(e){return e.nodeType===Node.ELEMENT_NODE},d1=function(e){return jf(e)&&typeof e.style<"u"&&!zg(e)},zg=function(e){return typeof e.className=="object"},$G=function(e){return e.tagName==="LI"},KG=function(e){return e.tagName==="OL"},zG=function(e){return e.tagName==="INPUT"},VG=function(e){return e.tagName==="HTML"},ik=function(e){return e.tagName==="svg"},kb=function(e){return e.tagName==="BODY"},ok=function(e){return e.tagName==="CANVAS"},MC=function(e){return e.tagName==="VIDEO"},u1=function(e){return e.tagName==="IMG"},lk=function(e){return e.tagName==="IFRAME"},OC=function(e){return e.tagName==="STYLE"},qG=function(e){return e.tagName==="SCRIPT"},F0=function(e){return e.tagName==="TEXTAREA"},k0=function(e){return e.tagName==="SELECT"},ck=function(e){return e.tagName==="SLOT"},HC=function(e){return e.tagName.indexOf("-")>0},WG=(function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(r){var t=this.counters[r];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(r){var t=this.counters[r];return t||[]},e.prototype.pop=function(r){var t=this;r.forEach(function(a){return t.counters[a].pop()})},e.prototype.parse=function(r){var t=this,a=r.counterIncrement,s=r.counterReset,i=!0;a!==null&&a.forEach(function(l){var A=t.counters[l.counter];A&&l.increment!==0&&(i=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=l.increment)});var o=[];return i&&s.forEach(function(l){var A=t.counters[l.counter];o.push(l.counter),A||(A=t.counters[l.counter]=[]),A.push(l.reset)}),o},e})(),$C={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},KC={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},GG={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},YG={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},hf=function(e,r,t,a,s,i){return e<r||e>t?bm(e,s,i.length>0):a.integers.reduce(function(o,l,A){for(;e>=l;)e-=l,o+=a.values[A];return o},"")+i},Ak=function(e,r,t,a){var s="";do t||e--,s=a(e)+s,e/=r;while(e*r>=r);return s},Wn=function(e,r,t,a,s){var i=t-r+1;return(e<0?"-":"")+(Ak(Math.abs(e),i,a,function(o){return Gn(Math.floor(o%i)+r)})+s)},Yd=function(e,r,t){t===void 0&&(t=". ");var a=r.length;return Ak(Math.abs(e),a,!1,function(s){return r[Math.floor(s%a)]})+t},wf=1,XA=2,JA=4,Gh=8,Yc=function(e,r,t,a,s,i){if(e<-9999||e>9999)return bm(e,4,s.length>0);var o=Math.abs(e),l=s;if(o===0)return r[0]+l;for(var A=0;o>0&&A<=4;A++){var d=o%10;d===0&&bs(i,wf)&&l!==""?l=r[d]+l:d>1||d===1&&A===0||d===1&&A===1&&bs(i,XA)||d===1&&A===1&&bs(i,JA)&&e>100||d===1&&A>1&&bs(i,Gh)?l=r[d]+(A>0?t[A-1]:"")+l:d===1&&A>0&&(l=t[A-1]+l),o=Math.floor(o/10)}return(e<0?a:"")+l},zC="",VC="",qC="",zw="",bm=function(e,r,t){var a=t?". ":"",s=t?"":"",i=t?", ":"",o=t?" ":"";switch(r){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=Wn(e,48,57,!0,a);return l.length<4?"0"+l:l;case 4:return Yd(e,"",s);case 6:return hf(e,1,3999,$C,3,a).toLowerCase();case 7:return hf(e,1,3999,$C,3,a);case 8:return Wn(e,945,969,!1,a);case 9:return Wn(e,97,122,!1,a);case 10:return Wn(e,65,90,!1,a);case 11:return Wn(e,1632,1641,!0,a);case 12:case 49:return hf(e,1,9999,KC,3,a);case 35:return hf(e,1,9999,KC,3,a).toLowerCase();case 13:return Wn(e,2534,2543,!0,a);case 14:case 30:return Wn(e,6112,6121,!0,a);case 15:return Yd(e,"",s);case 16:return Yd(e,"",s);case 17:case 48:return Yc(e,"",zC,"",s,XA|JA|Gh);case 47:return Yc(e,"",VC,"",s,wf|XA|JA|Gh);case 42:return Yc(e,"",zC,"",s,XA|JA|Gh);case 41:return Yc(e,"",VC,"",s,wf|XA|JA|Gh);case 26:return Yc(e,"","",qC,s,0);case 25:return Yc(e,"","",qC,s,wf|XA|JA);case 31:return Yc(e,"","",zw,i,wf|XA|JA);case 33:return Yc(e,"","",zw,i,0);case 32:return Yc(e,"","",zw,i,wf|XA|JA);case 18:return Wn(e,2406,2415,!0,a);case 20:return hf(e,1,19999,YG,3,a);case 21:return Wn(e,2790,2799,!0,a);case 22:return Wn(e,2662,2671,!0,a);case 22:return hf(e,1,10999,GG,3,a);case 23:return Yd(e,"");case 24:return Yd(e,"");case 27:return Wn(e,3302,3311,!0,a);case 28:return Yd(e,"",s);case 29:return Yd(e,"",s);case 34:return Wn(e,3792,3801,!0,a);case 37:return Wn(e,6160,6169,!0,a);case 38:return Wn(e,4160,4169,!0,a);case 39:return Wn(e,2918,2927,!0,a);case 40:return Wn(e,1776,1785,!0,a);case 43:return Wn(e,3046,3055,!0,a);case 44:return Wn(e,3174,3183,!0,a);case 45:return Wn(e,3664,3673,!0,a);case 46:return Wn(e,3872,3881,!0,a);case 3:default:return Wn(e,48,57,!0,a)}},dk="data-html2canvas-ignore",WC=(function(){function e(r,t,a){if(this.context=r,this.options=a,this.scrolledElements=[],this.referenceElement=t,this.counters=new WG,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(r,t){var a=this,s=XG(r,t);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=r.defaultView.pageXOffset,o=r.defaultView.pageYOffset,l=s.contentWindow,A=l.document,d=eY(s).then(function(){return bi(a,void 0,void 0,function(){var f,h;return ii(this,function(m){switch(m.label){case 0:return this.scrolledElements.forEach(nY),l&&(l.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==t.top||l.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),f=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:m.sent(),m.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,ZG(A)]:[3,4];case 3:m.sent(),m.label=4;case 4:return typeof f=="function"?[2,Promise.resolve().then(function(){return f(A,h)}).then(function(){return s})]:[2,s]}})})});return A.open(),A.write(rY(document.doctype)+"<html></html>"),aY(this.referenceElement.ownerDocument,i,o),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),d},e.prototype.createElementClone=function(r){if(l1(r,2))debugger;if(ok(r))return this.createCanvasClone(r);if(MC(r))return this.createVideoClone(r);if(OC(r))return this.createStyleClone(r);var t=r.cloneNode(!1);return u1(t)&&(u1(r)&&r.currentSrc&&r.currentSrc!==r.src&&(t.src=r.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),HC(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(r){var t=document.createElement("html2canvascustomelement");return Vw(r.style,t),t},e.prototype.createStyleClone=function(r){try{var t=r.sheet;if(t&&t.cssRules){var a=[].slice.call(t.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),s=r.cloneNode(!1);return s.textContent=a,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return r.cloneNode(!1)},e.prototype.createCanvasClone=function(r){var t;if(this.options.inlineImages&&r.ownerDocument){var a=r.ownerDocument.createElement("img");try{return a.src=r.toDataURL(),a}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",r)}}var s=r.cloneNode(!1);try{s.width=r.width,s.height=r.height;var i=r.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,r.width,r.height),0,0);else{var l=(t=r.getContext("webgl2"))!==null&&t!==void 0?t:r.getContext("webgl");if(l){var A=l.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",r)}o.drawImage(r,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",r)}return s},e.prototype.createVideoClone=function(r){var t=r.ownerDocument.createElement("canvas");t.width=r.offsetWidth,t.height=r.offsetHeight;var a=t.getContext("2d");try{return a&&(a.drawImage(r,0,0,t.width,t.height),this.options.allowTaint||a.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",r)}var s=r.ownerDocument.createElement("canvas");return s.width=r.offsetWidth,s.height=r.offsetHeight,s},e.prototype.appendChildNode=function(r,t,a){(!jf(t)||!qG(t)&&!t.hasAttribute(dk)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!jf(t)||!OC(t))&&r.appendChild(this.cloneNode(t,a))},e.prototype.cloneChildNodes=function(r,t,a){for(var s=this,i=r.shadowRoot?r.shadowRoot.firstChild:r.firstChild;i;i=i.nextSibling)if(jf(i)&&ck(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return s.appendChildNode(t,l,a)})}else this.appendChildNode(t,i,a)},e.prototype.cloneNode=function(r,t){if(sk(r))return document.createTextNode(r.data);if(!r.ownerDocument)return r.cloneNode(!1);var a=r.ownerDocument.defaultView;if(a&&jf(r)&&(d1(r)||zg(r))){var s=this.createElementClone(r);s.style.transitionProperty="none";var i=a.getComputedStyle(r),o=a.getComputedStyle(r,":before"),l=a.getComputedStyle(r,":after");this.referenceElement===r&&d1(s)&&(this.clonedReferenceElement=s),kb(s)&&oY(s);var A=this.counters.parse(new BC(this.context,i)),d=this.resolvePseudoContent(r,s,o,nm.BEFORE);HC(r)&&(t=!0),MC(r)||this.cloneChildNodes(r,s,t),d&&s.insertBefore(d,s.firstChild);var f=this.resolvePseudoContent(r,s,l,nm.AFTER);return f&&s.appendChild(f),this.counters.pop(A),(i&&(this.options.copyStyles||zg(r))&&!lk(r)||t)&&Vw(i,s),(r.scrollTop!==0||r.scrollLeft!==0)&&this.scrolledElements.push([s,r.scrollLeft,r.scrollTop]),(F0(r)||k0(r))&&(F0(s)||k0(s))&&(s.value=r.value),s}return r.cloneNode(!1)},e.prototype.resolvePseudoContent=function(r,t,a,s){var i=this;if(a){var o=a.content,l=t.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||a.display==="none")){this.counters.parse(new BC(this.context,a));var A=new $W(this.context,a),d=l.createElement("html2canvaspseudoelement");Vw(a,d),A.content.forEach(function(h){if(h.type===0)d.appendChild(l.createTextNode(h.value));else if(h.type===22){var m=l.createElement("img");m.src=h.value,m.style.opacity="1",d.appendChild(m)}else if(h.type===18){if(h.name==="attr"){var p=h.values.filter(Wa);p.length&&d.appendChild(l.createTextNode(r.getAttribute(p[0].value)||""))}else if(h.name==="counter"){var x=h.values.filter(Kf),g=x[0],w=x[1];if(g&&Wa(g)){var j=i.counters.getCounterValue(g.value),N=w&&Wa(w)?o1.parse(i.context,w.value):3;d.appendChild(l.createTextNode(bm(j,N,!1)))}}else if(h.name==="counters"){var C=h.values.filter(Kf),g=C[0],E=C[1],w=C[2];if(g&&Wa(g)){var Q=i.counters.getCounterValues(g.value),U=w&&Wa(w)?o1.parse(i.context,w.value):3,F=E&&E.type===0?E.value:"",L=Q.map(function(R){return bm(R,U,!1)}).join(F);d.appendChild(l.createTextNode(L))}}}else if(h.type===20)switch(h.value){case"open-quote":d.appendChild(l.createTextNode(NC(A.quotes,i.quoteDepth++,!0)));break;case"close-quote":d.appendChild(l.createTextNode(NC(A.quotes,--i.quoteDepth,!1)));break;default:d.appendChild(l.createTextNode(h.value))}}),d.className=f1+" "+h1;var f=s===nm.BEFORE?" "+f1:" "+h1;return zg(t)?t.className.baseValue+=f:t.className+=f,d}}},e.destroy=function(r){return r.parentNode?(r.parentNode.removeChild(r),!0):!1},e})(),nm;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(nm||(nm={}));var XG=function(e,r){var t=e.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=r.width.toString(),t.height=r.height.toString(),t.scrolling="no",t.setAttribute(dk,"true"),e.body.appendChild(t),t},JG=function(e){return new Promise(function(r){if(e.complete){r();return}if(!e.src){r();return}e.onload=r,e.onerror=r})},ZG=function(e){return Promise.all([].slice.call(e.images,0).map(JG))},eY=function(e){return new Promise(function(r,t){var a=e.contentWindow;if(!a)return t("No window assigned for iframe");var s=a.document;a.onload=e.onload=function(){a.onload=e.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),r(e))},50)}})},tY=["all","d","content"],Vw=function(e,r){for(var t=e.length-1;t>=0;t--){var a=e.item(t);tY.indexOf(a)===-1&&r.style.setProperty(a,e.getPropertyValue(a))}return r},rY=function(e){var r="";return e&&(r+="<!DOCTYPE ",e.name&&(r+=e.name),e.internalSubset&&(r+=e.internalSubset),e.publicId&&(r+='"'+e.publicId+'"'),e.systemId&&(r+='"'+e.systemId+'"'),r+=">"),r},aY=function(e,r,t){e&&e.defaultView&&(r!==e.defaultView.pageXOffset||t!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(r,t)},nY=function(e){var r=e[0],t=e[1],a=e[2];r.scrollLeft=t,r.scrollTop=a},sY=":before",iY=":after",f1="___html2canvas___pseudoelement_before",h1="___html2canvas___pseudoelement_after",GC=`{
    content: "" !important;
    display: none !important;
}`,oY=function(e){lY(e,"."+f1+sY+GC+`
         .`+h1+iY+GC)},lY=function(e,r){var t=e.ownerDocument;if(t){var a=t.createElement("style");a.textContent=r,e.appendChild(a)}},uk=(function(){function e(){}return e.getOrigin=function(r){var t=e._link;return t?(t.href=r,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},e.isSameOrigin=function(r){return e.getOrigin(r)===e._origin},e.setContext=function(r){e._link=r.document.createElement("a"),e._origin=e.getOrigin(r.location.href)},e._origin="about:blank",e})(),cY=(function(){function e(r,t){this.context=r,this._options=t,this._cache={}}return e.prototype.addImage=function(r){var t=Promise.resolve();return this.has(r)||(Ww(r)||fY(r))&&(this._cache[r]=this.loadImage(r)).catch(function(){}),t},e.prototype.match=function(r){return this._cache[r]},e.prototype.loadImage=function(r){return bi(this,void 0,void 0,function(){var t,a,s,i,o=this;return ii(this,function(l){switch(l.label){case 0:return t=uk.isSameOrigin(r),a=!qw(r)&&this._options.useCORS===!0&&$s.SUPPORT_CORS_IMAGES&&!t,s=!qw(r)&&!t&&!Ww(r)&&typeof this._options.proxy=="string"&&$s.SUPPORT_CORS_XHR&&!a,!t&&this._options.allowTaint===!1&&!qw(r)&&!Ww(r)&&!s&&!a?[2]:(i=r,s?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+r.substring(0,256)),[4,new Promise(function(A,d){var f=new Image;f.onload=function(){return A(f)},f.onerror=d,(hY(i)||a)&&(f.crossOrigin="anonymous"),f.src=i,f.complete===!0&&setTimeout(function(){return A(f)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(r){return typeof this._cache[r]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(r){var t=this,a=this._options.proxy;if(!a)throw new Error("No proxy defined");var s=r.substring(0,256);return new Promise(function(i,o){var l=$s.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(l==="text")i(A.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(m){return o(m)},!1),h.readAsDataURL(A.response)}else o("Failed to proxy resource "+s+" with status code "+A.status)},A.onerror=o;var d=a.indexOf("?")>-1?"&":"?";if(A.open("GET",""+a+d+"url="+encodeURIComponent(r)+"&responseType="+l),l!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=l),t._options.imageTimeout){var f=t._options.imageTimeout;A.timeout=f,A.ontimeout=function(){return o("Timed out ("+f+"ms) proxying "+s)}}A.send()})},e})(),AY=/^data:image\/svg\+xml/i,dY=/^data:image\/.*;base64,/i,uY=/^data:image\/.*/i,fY=function(e){return $s.SUPPORT_SVG_DRAWING||!mY(e)},qw=function(e){return uY.test(e)},hY=function(e){return dY.test(e)},Ww=function(e){return e.substr(0,4)==="blob"},mY=function(e){return e.substr(-3).toLowerCase()==="svg"||AY.test(e)},Ut=(function(){function e(r,t){this.type=0,this.x=r,this.y=t}return e.prototype.add=function(r,t){return new e(this.x+r,this.y+t)},e})(),mf=function(e,r,t){return new Ut(e.x+(r.x-e.x)*t,e.y+(r.y-e.y)*t)},pg=(function(){function e(r,t,a,s){this.type=1,this.start=r,this.startControl=t,this.endControl=a,this.end=s}return e.prototype.subdivide=function(r,t){var a=mf(this.start,this.startControl,r),s=mf(this.startControl,this.endControl,r),i=mf(this.endControl,this.end,r),o=mf(a,s,r),l=mf(s,i,r),A=mf(o,l,r);return t?new e(this.start,a,o,A):new e(A,l,i,this.end)},e.prototype.add=function(r,t){return new e(this.start.add(r,t),this.startControl.add(r,t),this.endControl.add(r,t),this.end.add(r,t))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e})(),Qo=function(e){return e.type===1},pY=(function(){function e(r){var t=r.styles,a=r.bounds,s=qh(t.borderTopLeftRadius,a.width,a.height),i=s[0],o=s[1],l=qh(t.borderTopRightRadius,a.width,a.height),A=l[0],d=l[1],f=qh(t.borderBottomRightRadius,a.width,a.height),h=f[0],m=f[1],p=qh(t.borderBottomLeftRadius,a.width,a.height),x=p[0],g=p[1],w=[];w.push((i+A)/a.width),w.push((x+h)/a.width),w.push((o+g)/a.height),w.push((d+m)/a.height);var j=Math.max.apply(Math,w);j>1&&(i/=j,o/=j,A/=j,d/=j,h/=j,m/=j,x/=j,g/=j);var N=a.width-A,C=a.height-m,E=a.width-h,Q=a.height-g,U=t.borderTopWidth,F=t.borderRightWidth,L=t.borderBottomWidth,_=t.borderLeftWidth,q=an(t.paddingTop,r.bounds.width),R=an(t.paddingRight,r.bounds.width),H=an(t.paddingBottom,r.bounds.width),J=an(t.paddingLeft,r.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?jn(a.left+_/3,a.top+U/3,i-_/3,o-U/3,Ia.TOP_LEFT):new Ut(a.left+_/3,a.top+U/3),this.topRightBorderDoubleOuterBox=i>0||o>0?jn(a.left+N,a.top+U/3,A-F/3,d-U/3,Ia.TOP_RIGHT):new Ut(a.left+a.width-F/3,a.top+U/3),this.bottomRightBorderDoubleOuterBox=h>0||m>0?jn(a.left+E,a.top+C,h-F/3,m-L/3,Ia.BOTTOM_RIGHT):new Ut(a.left+a.width-F/3,a.top+a.height-L/3),this.bottomLeftBorderDoubleOuterBox=x>0||g>0?jn(a.left+_/3,a.top+Q,x-_/3,g-L/3,Ia.BOTTOM_LEFT):new Ut(a.left+_/3,a.top+a.height-L/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?jn(a.left+_*2/3,a.top+U*2/3,i-_*2/3,o-U*2/3,Ia.TOP_LEFT):new Ut(a.left+_*2/3,a.top+U*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?jn(a.left+N,a.top+U*2/3,A-F*2/3,d-U*2/3,Ia.TOP_RIGHT):new Ut(a.left+a.width-F*2/3,a.top+U*2/3),this.bottomRightBorderDoubleInnerBox=h>0||m>0?jn(a.left+E,a.top+C,h-F*2/3,m-L*2/3,Ia.BOTTOM_RIGHT):new Ut(a.left+a.width-F*2/3,a.top+a.height-L*2/3),this.bottomLeftBorderDoubleInnerBox=x>0||g>0?jn(a.left+_*2/3,a.top+Q,x-_*2/3,g-L*2/3,Ia.BOTTOM_LEFT):new Ut(a.left+_*2/3,a.top+a.height-L*2/3),this.topLeftBorderStroke=i>0||o>0?jn(a.left+_/2,a.top+U/2,i-_/2,o-U/2,Ia.TOP_LEFT):new Ut(a.left+_/2,a.top+U/2),this.topRightBorderStroke=i>0||o>0?jn(a.left+N,a.top+U/2,A-F/2,d-U/2,Ia.TOP_RIGHT):new Ut(a.left+a.width-F/2,a.top+U/2),this.bottomRightBorderStroke=h>0||m>0?jn(a.left+E,a.top+C,h-F/2,m-L/2,Ia.BOTTOM_RIGHT):new Ut(a.left+a.width-F/2,a.top+a.height-L/2),this.bottomLeftBorderStroke=x>0||g>0?jn(a.left+_/2,a.top+Q,x-_/2,g-L/2,Ia.BOTTOM_LEFT):new Ut(a.left+_/2,a.top+a.height-L/2),this.topLeftBorderBox=i>0||o>0?jn(a.left,a.top,i,o,Ia.TOP_LEFT):new Ut(a.left,a.top),this.topRightBorderBox=A>0||d>0?jn(a.left+N,a.top,A,d,Ia.TOP_RIGHT):new Ut(a.left+a.width,a.top),this.bottomRightBorderBox=h>0||m>0?jn(a.left+E,a.top+C,h,m,Ia.BOTTOM_RIGHT):new Ut(a.left+a.width,a.top+a.height),this.bottomLeftBorderBox=x>0||g>0?jn(a.left,a.top+Q,x,g,Ia.BOTTOM_LEFT):new Ut(a.left,a.top+a.height),this.topLeftPaddingBox=i>0||o>0?jn(a.left+_,a.top+U,Math.max(0,i-_),Math.max(0,o-U),Ia.TOP_LEFT):new Ut(a.left+_,a.top+U),this.topRightPaddingBox=A>0||d>0?jn(a.left+Math.min(N,a.width-F),a.top+U,N>a.width+F?0:Math.max(0,A-F),Math.max(0,d-U),Ia.TOP_RIGHT):new Ut(a.left+a.width-F,a.top+U),this.bottomRightPaddingBox=h>0||m>0?jn(a.left+Math.min(E,a.width-_),a.top+Math.min(C,a.height-L),Math.max(0,h-F),Math.max(0,m-L),Ia.BOTTOM_RIGHT):new Ut(a.left+a.width-F,a.top+a.height-L),this.bottomLeftPaddingBox=x>0||g>0?jn(a.left+_,a.top+Math.min(Q,a.height-L),Math.max(0,x-_),Math.max(0,g-L),Ia.BOTTOM_LEFT):new Ut(a.left+_,a.top+a.height-L),this.topLeftContentBox=i>0||o>0?jn(a.left+_+J,a.top+U+q,Math.max(0,i-(_+J)),Math.max(0,o-(U+q)),Ia.TOP_LEFT):new Ut(a.left+_+J,a.top+U+q),this.topRightContentBox=A>0||d>0?jn(a.left+Math.min(N,a.width+_+J),a.top+U+q,N>a.width+_+J?0:A-_+J,d-(U+q),Ia.TOP_RIGHT):new Ut(a.left+a.width-(F+R),a.top+U+q),this.bottomRightContentBox=h>0||m>0?jn(a.left+Math.min(E,a.width-(_+J)),a.top+Math.min(C,a.height+U+q),Math.max(0,h-(F+R)),m-(L+H),Ia.BOTTOM_RIGHT):new Ut(a.left+a.width-(F+R),a.top+a.height-(L+H)),this.bottomLeftContentBox=x>0||g>0?jn(a.left+_+J,a.top+Q,Math.max(0,x-(_+J)),g-(L+H),Ia.BOTTOM_LEFT):new Ut(a.left+_+J,a.top+a.height-(L+H))}return e})(),Ia;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ia||(Ia={}));var jn=function(e,r,t,a,s){var i=4*((Math.sqrt(2)-1)/3),o=t*i,l=a*i,A=e+t,d=r+a;switch(s){case Ia.TOP_LEFT:return new pg(new Ut(e,d),new Ut(e,d-l),new Ut(A-o,r),new Ut(A,r));case Ia.TOP_RIGHT:return new pg(new Ut(e,r),new Ut(e+o,r),new Ut(A,d-l),new Ut(A,d));case Ia.BOTTOM_RIGHT:return new pg(new Ut(A,r),new Ut(A,r+l),new Ut(e+o,d),new Ut(e,d));case Ia.BOTTOM_LEFT:default:return new pg(new Ut(A,d),new Ut(A-o,d),new Ut(e,r+l),new Ut(e,r))}},D0=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},gY=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},U0=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},xY=(function(){function e(r,t,a){this.offsetX=r,this.offsetY=t,this.matrix=a,this.type=0,this.target=6}return e})(),gg=(function(){function e(r,t){this.path=r,this.target=t,this.type=1}return e})(),vY=(function(){function e(r){this.opacity=r,this.type=2,this.target=6}return e})(),wY=function(e){return e.type===0},fk=function(e){return e.type===1},yY=function(e){return e.type===2},YC=function(e,r){return e.length===r.length?e.some(function(t,a){return t===r[a]}):!1},bY=function(e,r,t,a,s){return e.map(function(i,o){switch(o){case 0:return i.add(r,t);case 1:return i.add(r+a,t);case 2:return i.add(r+a,t+s);case 3:return i.add(r,t+s)}return i})},hk=(function(){function e(r){this.element=r,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e})(),mk=(function(){function e(r,t){if(this.container=r,this.parent=t,this.effects=[],this.curves=new pY(this.container),this.container.styles.opacity<1&&this.effects.push(new vY(this.container.styles.opacity)),this.container.styles.transform!==null){var a=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new xY(a,s,i))}if(this.container.styles.overflowX!==0){var o=D0(this.curves),l=U0(this.curves);YC(o,l)?this.effects.push(new gg(o,6)):(this.effects.push(new gg(o,2)),this.effects.push(new gg(l,4)))}}return e.prototype.getEffects=function(r){for(var t=[2,3].indexOf(this.container.styles.position)===-1,a=this.parent,s=this.effects.slice(0);a;){var i=a.effects.filter(function(A){return!fk(A)});if(t||a.container.styles.position!==0||!a.parent){if(s.unshift.apply(s,i),t=[2,3].indexOf(a.container.styles.position)===-1,a.container.styles.overflowX!==0){var o=D0(a.curves),l=U0(a.curves);YC(o,l)||s.unshift(new gg(l,6))}}else s.unshift.apply(s,i);a=a.parent}return s.filter(function(A){return bs(A.target,r)})},e})(),m1=function(e,r,t,a){e.container.elements.forEach(function(s){var i=bs(s.flags,4),o=bs(s.flags,2),l=new mk(s,e);bs(s.styles.display,2048)&&a.push(l);var A=bs(s.flags,8)?[]:a;if(i||o){var d=i||s.styles.isPositioned()?t:r,f=new hk(l);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var h=s.styles.zIndex.order;if(h<0){var m=0;d.negativeZIndex.some(function(x,g){return h>x.element.container.styles.zIndex.order?(m=g,!1):m>0}),d.negativeZIndex.splice(m,0,f)}else if(h>0){var p=0;d.positiveZIndex.some(function(x,g){return h>=x.element.container.styles.zIndex.order?(p=g+1,!1):p>0}),d.positiveZIndex.splice(p,0,f)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else s.styles.isFloating()?d.nonPositionedFloats.push(f):d.nonPositionedInlineLevel.push(f);m1(l,f,i?f:t,A)}else s.styles.isInlineLevel()?r.inlineLevel.push(l):r.nonInlineLevel.push(l),m1(l,r,t,A);bs(s.flags,8)&&pk(s,A)})},pk=function(e,r){for(var t=e instanceof A1?e.start:1,a=e instanceof A1?e.reversed:!1,s=0;s<r.length;s++){var i=r[s];i.container instanceof Z3&&typeof i.container.value=="number"&&i.container.value!==0&&(t=i.container.value),i.listValue=bm(t,i.container.styles.listStyleType,!0),t+=a?-1:1}},jY=function(e){var r=new mk(e,null),t=new hk(r),a=[];return m1(r,t,t,a),pk(r.container,a),t},XC=function(e,r){switch(r){case 0:return To(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return To(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return To(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return To(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},NY=function(e,r){switch(r){case 0:return To(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return To(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return To(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return To(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},BY=function(e,r){switch(r){case 0:return To(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return To(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return To(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return To(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},CY=function(e,r){switch(r){case 0:return xg(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return xg(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return xg(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return xg(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},xg=function(e,r){var t=[];return Qo(e)?t.push(e.subdivide(.5,!1)):t.push(e),Qo(r)?t.push(r.subdivide(.5,!0)):t.push(r),t},To=function(e,r,t,a){var s=[];return Qo(e)?s.push(e.subdivide(.5,!1)):s.push(e),Qo(t)?s.push(t.subdivide(.5,!0)):s.push(t),Qo(a)?s.push(a.subdivide(.5,!0).reverse()):s.push(a),Qo(r)?s.push(r.subdivide(.5,!1).reverse()):s.push(r),s},gk=function(e){var r=e.bounds,t=e.styles;return r.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},L0=function(e){var r=e.styles,t=e.bounds,a=an(r.paddingLeft,t.width),s=an(r.paddingRight,t.width),i=an(r.paddingTop,t.width),o=an(r.paddingBottom,t.width);return t.add(a+r.borderLeftWidth,i+r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth+a+s),-(r.borderTopWidth+r.borderBottomWidth+i+o))},SY=function(e,r){return e===0?r.bounds:e===2?L0(r):gk(r)},_Y=function(e,r){return e===0?r.bounds:e===2?L0(r):gk(r)},Gw=function(e,r,t){var a=SY(yf(e.styles.backgroundOrigin,r),e),s=_Y(yf(e.styles.backgroundClip,r),e),i=EY(yf(e.styles.backgroundSize,r),t,a),o=i[0],l=i[1],A=qh(yf(e.styles.backgroundPosition,r),a.width-o,a.height-l),d=FY(yf(e.styles.backgroundRepeat,r),A,i,a,s),f=Math.round(a.left+A[0]),h=Math.round(a.top+A[1]);return[d,f,h,o,l]},pf=function(e){return Wa(e)&&e.value===If.AUTO},vg=function(e){return typeof e=="number"},EY=function(e,r,t){var a=r[0],s=r[1],i=r[2],o=e[0],l=e[1];if(!o)return[0,0];if(ds(o)&&l&&ds(l))return[an(o,t.width),an(l,t.height)];var A=vg(i);if(Wa(o)&&(o.value===If.CONTAIN||o.value===If.COVER)){if(vg(i)){var d=t.width/t.height;return d<i!=(o.value===If.COVER)?[t.width,t.width/i]:[t.height*i,t.height]}return[t.width,t.height]}var f=vg(a),h=vg(s),m=f||h;if(pf(o)&&(!l||pf(l))){if(f&&h)return[a,s];if(!A&&!m)return[t.width,t.height];if(m&&A){var p=f?a:s*i,x=h?s:a/i;return[p,x]}var g=f?a:t.width,w=h?s:t.height;return[g,w]}if(A){var j=0,N=0;return ds(o)?j=an(o,t.width):ds(l)&&(N=an(l,t.height)),pf(o)?j=N*i:(!l||pf(l))&&(N=j/i),[j,N]}var C=null,E=null;if(ds(o)?C=an(o,t.width):l&&ds(l)&&(E=an(l,t.height)),C!==null&&(!l||pf(l))&&(E=f&&h?C/a*s:t.height),E!==null&&pf(o)&&(C=f&&h?E/s*a:t.width),C!==null&&E!==null)return[C,E];throw new Error("Unable to calculate background-size for element")},yf=function(e,r){var t=e[r];return typeof t>"u"?e[0]:t},FY=function(e,r,t,a,s){var i=r[0],o=r[1],l=t[0],A=t[1];switch(e){case 2:return[new Ut(Math.round(a.left),Math.round(a.top+o)),new Ut(Math.round(a.left+a.width),Math.round(a.top+o)),new Ut(Math.round(a.left+a.width),Math.round(A+a.top+o)),new Ut(Math.round(a.left),Math.round(A+a.top+o))];case 3:return[new Ut(Math.round(a.left+i),Math.round(a.top)),new Ut(Math.round(a.left+i+l),Math.round(a.top)),new Ut(Math.round(a.left+i+l),Math.round(a.height+a.top)),new Ut(Math.round(a.left+i),Math.round(a.height+a.top))];case 1:return[new Ut(Math.round(a.left+i),Math.round(a.top+o)),new Ut(Math.round(a.left+i+l),Math.round(a.top+o)),new Ut(Math.round(a.left+i+l),Math.round(a.top+o+A)),new Ut(Math.round(a.left+i),Math.round(a.top+o+A))];default:return[new Ut(Math.round(s.left),Math.round(s.top)),new Ut(Math.round(s.left+s.width),Math.round(s.top)),new Ut(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Ut(Math.round(s.left),Math.round(s.height+s.top))]}},kY="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",JC="Hidden Text",DY=(function(){function e(r){this._data={},this._document=r}return e.prototype.parseMetrics=function(r,t){var a=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;a.style.visibility="hidden",a.style.fontFamily=r,a.style.fontSize=t,a.style.margin="0",a.style.padding="0",a.style.whiteSpace="nowrap",o.appendChild(a),s.src=kY,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=r,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(JC)),a.appendChild(i),a.appendChild(s);var l=s.offsetTop-i.offsetTop+2;a.removeChild(i),a.appendChild(this._document.createTextNode(JC)),a.style.lineHeight="normal",s.style.verticalAlign="super";var A=s.offsetTop-a.offsetTop+2;return o.removeChild(a),{baseline:l,middle:A}},e.prototype.getMetrics=function(r,t){var a=r+" "+t;return typeof this._data[a]>"u"&&(this._data[a]=this.parseMetrics(r,t)),this._data[a]},e})(),xk=(function(){function e(r,t){this.context=r,this.options=t}return e})(),UY=1e4,LY=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s._activeEffects=[],s.canvas=a.canvas?a.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),a.canvas||(s.canvas.width=Math.floor(a.width*a.scale),s.canvas.height=Math.floor(a.height*a.scale),s.canvas.style.width=a.width+"px",s.canvas.style.height=a.height+"px"),s.fontMetrics=new DY(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-a.x,-a.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+a.width+"x"+a.height+") with scale "+a.scale),s}return r.prototype.applyEffects=function(t){for(var a=this;this._activeEffects.length;)this.popEffect();t.forEach(function(s){return a.applyEffect(s)})},r.prototype.applyEffect=function(t){this.ctx.save(),yY(t)&&(this.ctx.globalAlpha=t.opacity),wY(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),fk(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},r.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},r.prototype.renderStack=function(t){return bi(this,void 0,void 0,function(){var a;return ii(this,function(s){switch(s.label){case 0:return a=t.element.container.styles,a.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},r.prototype.renderNode=function(t){return bi(this,void 0,void 0,function(){return ii(this,function(a){switch(a.label){case 0:if(bs(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return a.sent(),[4,this.renderNodeContent(t)];case 2:a.sent(),a.label=3;case 3:return[2]}})})},r.prototype.renderTextWithLetterSpacing=function(t,a,s){var i=this;if(a===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+s);else{var o=Eb(t.text);o.reduce(function(l,A){return i.ctx.fillText(A,l,t.bounds.top+s),l+i.ctx.measureText(A).width},t.bounds.left)}},r.prototype.createFontStyle=function(t){var a=t.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=TY(t.fontFamily).join(", "),i=Km(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,a,t.fontWeight,i,s].join(" "),s,i]},r.prototype.renderTextNode=function(t,a){return bi(this,void 0,void 0,function(){var s,i,o,l,A,d,f,h,m=this;return ii(this,function(p){return s=this.createFontStyle(a),i=s[0],o=s[1],l=s[2],this.ctx.font=i,this.ctx.direction=a.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(o,l),d=A.baseline,f=A.middle,h=a.paintOrder,t.textBounds.forEach(function(x){h.forEach(function(g){switch(g){case 0:m.ctx.fillStyle=Us(a.color),m.renderTextWithLetterSpacing(x,a.letterSpacing,d);var w=a.textShadow;w.length&&x.text.trim().length&&(w.slice(0).reverse().forEach(function(j){m.ctx.shadowColor=Us(j.color),m.ctx.shadowOffsetX=j.offsetX.number*m.options.scale,m.ctx.shadowOffsetY=j.offsetY.number*m.options.scale,m.ctx.shadowBlur=j.blur.number,m.renderTextWithLetterSpacing(x,a.letterSpacing,d)}),m.ctx.shadowColor="",m.ctx.shadowOffsetX=0,m.ctx.shadowOffsetY=0,m.ctx.shadowBlur=0),a.textDecorationLine.length&&(m.ctx.fillStyle=Us(a.textDecorationColor||a.color),a.textDecorationLine.forEach(function(j){switch(j){case 1:m.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top+d),x.bounds.width,1);break;case 2:m.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top),x.bounds.width,1);break;case 3:m.ctx.fillRect(x.bounds.left,Math.ceil(x.bounds.top+f),x.bounds.width,1);break}}));break;case 1:a.webkitTextStrokeWidth&&x.text.trim().length&&(m.ctx.strokeStyle=Us(a.webkitTextStrokeColor),m.ctx.lineWidth=a.webkitTextStrokeWidth,m.ctx.lineJoin=window.chrome?"miter":"round",m.ctx.strokeText(x.text,x.bounds.left,x.bounds.top+d)),m.ctx.strokeStyle="",m.ctx.lineWidth=0,m.ctx.lineJoin="miter";break}})}),[2]})})},r.prototype.renderReplacedElement=function(t,a,s){if(s&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var i=L0(t),o=U0(a);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,t.intrinsicWidth,t.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},r.prototype.renderNodeContent=function(t){return bi(this,void 0,void 0,function(){var a,s,i,o,l,A,N,N,d,f,h,m,E,p,x,Q,g,w,j,N,C,E,Q;return ii(this,function(U){switch(U.label){case 0:this.applyEffects(t.getEffects(4)),a=t.container,s=t.curves,i=a.styles,o=0,l=a.textNodes,U.label=1;case 1:return o<l.length?(A=l[o],[4,this.renderTextNode(A,i)]):[3,4];case 2:U.sent(),U.label=3;case 3:return o++,[3,1];case 4:if(!(a instanceof Y3))return[3,8];U.label=5;case 5:return U.trys.push([5,7,,8]),[4,this.context.cache.match(a.src)];case 6:return N=U.sent(),this.renderReplacedElement(a,s,N),[3,8];case 7:return U.sent(),this.context.logger.error("Error loading image "+a.src),[3,8];case 8:if(a instanceof X3&&this.renderReplacedElement(a,s,a.canvas),!(a instanceof J3))return[3,12];U.label=9;case 9:return U.trys.push([9,11,,12]),[4,this.context.cache.match(a.svg)];case 10:return N=U.sent(),this.renderReplacedElement(a,s,N),[3,12];case 11:return U.sent(),this.context.logger.error("Error loading svg "+a.svg.substring(0,255)),[3,12];case 12:return a instanceof rk&&a.tree?(d=new r(this.context,{scale:this.options.scale,backgroundColor:a.backgroundColor,x:0,y:0,width:a.width,height:a.height}),[4,d.render(a.tree)]):[3,14];case 13:f=U.sent(),a.width&&a.height&&this.ctx.drawImage(f,0,0,a.width,a.height,a.bounds.left,a.bounds.top,a.bounds.width,a.bounds.height),U.label=14;case 14:if(a instanceof Fb&&(h=Math.min(a.bounds.width,a.bounds.height),a.type===_0?a.checked&&(this.ctx.save(),this.path([new Ut(a.bounds.left+h*.39363,a.bounds.top+h*.79),new Ut(a.bounds.left+h*.16,a.bounds.top+h*.5549),new Ut(a.bounds.left+h*.27347,a.bounds.top+h*.44071),new Ut(a.bounds.left+h*.39694,a.bounds.top+h*.5649),new Ut(a.bounds.left+h*.72983,a.bounds.top+h*.23),new Ut(a.bounds.left+h*.84,a.bounds.top+h*.34085),new Ut(a.bounds.left+h*.39363,a.bounds.top+h*.79)]),this.ctx.fillStyle=Us(TC),this.ctx.fill(),this.ctx.restore()):a.type===E0&&a.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(a.bounds.left+h/2,a.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Us(TC),this.ctx.fill(),this.ctx.restore())),IY(a)&&a.value.length){switch(m=this.createFontStyle(i),E=m[0],p=m[1],x=this.fontMetrics.getMetrics(E,p).baseline,this.ctx.font=E,this.ctx.fillStyle=Us(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=QY(a.styles.textAlign),Q=L0(a),g=0,a.styles.textAlign){case 1:g+=Q.width/2;break;case 2:g+=Q.width;break}w=Q.add(g,0,0,-Q.height/2+1),this.ctx.save(),this.path([new Ut(Q.left,Q.top),new Ut(Q.left+Q.width,Q.top),new Ut(Q.left+Q.width,Q.top+Q.height),new Ut(Q.left,Q.top+Q.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new am(a.value,w),i.letterSpacing,x),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!bs(a.styles.display,2048))return[3,20];if(a.styles.listStyleImage===null)return[3,19];if(j=a.styles.listStyleImage,j.type!==0)return[3,18];N=void 0,C=j.url,U.label=15;case 15:return U.trys.push([15,17,,18]),[4,this.context.cache.match(C)];case 16:return N=U.sent(),this.ctx.drawImage(N,a.bounds.left-(N.width+10),a.bounds.top),[3,18];case 17:return U.sent(),this.context.logger.error("Error loading list-style-image "+C),[3,18];case 18:return[3,20];case 19:t.listValue&&a.styles.listStyleType!==-1&&(E=this.createFontStyle(i)[0],this.ctx.font=E,this.ctx.fillStyle=Us(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Q=new hA(a.bounds.left,a.bounds.top+an(a.styles.paddingTop,a.bounds.width),a.bounds.width,bC(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new am(t.listValue,Q),i.letterSpacing,bC(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),U.label=20;case 20:return[2]}})})},r.prototype.renderStackContent=function(t){return bi(this,void 0,void 0,function(){var a,s,j,i,o,j,l,A,j,d,f,j,h,m,j,p,x,j,g,w,j;return ii(this,function(N){switch(N.label){case 0:if(bs(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:N.sent(),a=0,s=t.negativeZIndex,N.label=2;case 2:return a<s.length?(j=s[a],[4,this.renderStack(j)]):[3,5];case 3:N.sent(),N.label=4;case 4:return a++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:N.sent(),i=0,o=t.nonInlineLevel,N.label=7;case 7:return i<o.length?(j=o[i],[4,this.renderNode(j)]):[3,10];case 8:N.sent(),N.label=9;case 9:return i++,[3,7];case 10:l=0,A=t.nonPositionedFloats,N.label=11;case 11:return l<A.length?(j=A[l],[4,this.renderStack(j)]):[3,14];case 12:N.sent(),N.label=13;case 13:return l++,[3,11];case 14:d=0,f=t.nonPositionedInlineLevel,N.label=15;case 15:return d<f.length?(j=f[d],[4,this.renderStack(j)]):[3,18];case 16:N.sent(),N.label=17;case 17:return d++,[3,15];case 18:h=0,m=t.inlineLevel,N.label=19;case 19:return h<m.length?(j=m[h],[4,this.renderNode(j)]):[3,22];case 20:N.sent(),N.label=21;case 21:return h++,[3,19];case 22:p=0,x=t.zeroOrAutoZIndexOrTransformedOrOpacity,N.label=23;case 23:return p<x.length?(j=x[p],[4,this.renderStack(j)]):[3,26];case 24:N.sent(),N.label=25;case 25:return p++,[3,23];case 26:g=0,w=t.positiveZIndex,N.label=27;case 27:return g<w.length?(j=w[g],[4,this.renderStack(j)]):[3,30];case 28:N.sent(),N.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},r.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},r.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},r.prototype.formatPath=function(t){var a=this;t.forEach(function(s,i){var o=Qo(s)?s.start:s;i===0?a.ctx.moveTo(o.x,o.y):a.ctx.lineTo(o.x,o.y),Qo(s)&&a.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},r.prototype.renderRepeat=function(t,a,s,i){this.path(t),this.ctx.fillStyle=a,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},r.prototype.resizeImage=function(t,a,s){var i;if(t.width===a&&t.height===s)return t;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,a),l.height=Math.max(1,s);var A=l.getContext("2d");return A.drawImage(t,0,0,t.width,t.height,0,0,a,s),l},r.prototype.renderBackgroundImage=function(t){return bi(this,void 0,void 0,function(){var a,s,i,o,l,A;return ii(this,function(d){switch(d.label){case 0:a=t.styles.backgroundImage.length-1,s=function(f){var h,m,p,q,z,G,J,T,L,x,q,z,G,J,T,g,w,j,N,C,E,Q,U,F,L,_,q,R,H,J,T,re,z,G,V,ee,ce,k,D,K,te,Y;return ii(this,function(X){switch(X.label){case 0:if(f.type!==0)return[3,5];h=void 0,m=f.url,X.label=1;case 1:return X.trys.push([1,3,,4]),[4,i.context.cache.match(m)];case 2:return h=X.sent(),[3,4];case 3:return X.sent(),i.context.logger.error("Error loading background-image "+m),[3,4];case 4:return h&&(p=Gw(t,a,[h.width,h.height,h.width/h.height]),q=p[0],z=p[1],G=p[2],J=p[3],T=p[4],L=i.ctx.createPattern(i.resizeImage(h,J,T),"repeat"),i.renderRepeat(q,L,z,G)),[3,6];case 5:wq(f)?(x=Gw(t,a,[null,null,null]),q=x[0],z=x[1],G=x[2],J=x[3],T=x[4],g=mq(f.angle,J,T),w=g[0],j=g[1],N=g[2],C=g[3],E=g[4],Q=document.createElement("canvas"),Q.width=J,Q.height=T,U=Q.getContext("2d"),F=U.createLinearGradient(j,C,N,E),wC(f.stops,w).forEach(function(O){return F.addColorStop(O.stop,Us(O.color))}),U.fillStyle=F,U.fillRect(0,0,J,T),J>0&&T>0&&(L=i.ctx.createPattern(Q,"repeat"),i.renderRepeat(q,L,z,G))):yq(f)&&(_=Gw(t,a,[null,null,null]),q=_[0],R=_[1],H=_[2],J=_[3],T=_[4],re=f.position.length===0?[Cb]:f.position,z=an(re[0],J),G=an(re[re.length-1],T),V=pq(f,z,G,J,T),ee=V[0],ce=V[1],ee>0&&ce>0&&(k=i.ctx.createRadialGradient(R+z,H+G,0,R+z,H+G,ee),wC(f.stops,ee*2).forEach(function(O){return k.addColorStop(O.stop,Us(O.color))}),i.path(q),i.ctx.fillStyle=k,ee!==ce?(D=t.bounds.left+.5*t.bounds.width,K=t.bounds.top+.5*t.bounds.height,te=ce/ee,Y=1/te,i.ctx.save(),i.ctx.translate(D,K),i.ctx.transform(1,0,0,te,0,0),i.ctx.translate(-D,-K),i.ctx.fillRect(R,Y*(H-K)+K,J,T*Y),i.ctx.restore()):i.ctx.fill())),X.label=6;case 6:return a--,[2]}})},i=this,o=0,l=t.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<l.length?(A=l[o],[5,s(A)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},r.prototype.renderSolidBorder=function(t,a,s){return bi(this,void 0,void 0,function(){return ii(this,function(i){return this.path(XC(s,a)),this.ctx.fillStyle=Us(t),this.ctx.fill(),[2]})})},r.prototype.renderDoubleBorder=function(t,a,s,i){return bi(this,void 0,void 0,function(){var o,l;return ii(this,function(A){switch(A.label){case 0:return a<3?[4,this.renderSolidBorder(t,s,i)]:[3,2];case 1:return A.sent(),[2];case 2:return o=NY(i,s),this.path(o),this.ctx.fillStyle=Us(t),this.ctx.fill(),l=BY(i,s),this.path(l),this.ctx.fill(),[2]}})})},r.prototype.renderNodeBackgroundAndBorders=function(t){return bi(this,void 0,void 0,function(){var a,s,i,o,l,A,d,f,h=this;return ii(this,function(m){switch(m.label){case 0:return this.applyEffects(t.getEffects(2)),a=t.container.styles,s=!dd(a.backgroundColor)||a.backgroundImage.length,i=[{style:a.borderTopStyle,color:a.borderTopColor,width:a.borderTopWidth},{style:a.borderRightStyle,color:a.borderRightColor,width:a.borderRightWidth},{style:a.borderBottomStyle,color:a.borderBottomColor,width:a.borderBottomWidth},{style:a.borderLeftStyle,color:a.borderLeftColor,width:a.borderLeftWidth}],o=PY(yf(a.backgroundClip,0),t.curves),s||a.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),dd(a.backgroundColor)||(this.ctx.fillStyle=Us(a.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:m.sent(),this.ctx.restore(),a.boxShadow.slice(0).reverse().forEach(function(p){h.ctx.save();var x=D0(t.curves),g=p.inset?0:UY,w=bY(x,-g+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(h.path(x),h.ctx.clip(),h.mask(w)):(h.mask(x),h.ctx.clip(),h.path(w)),h.ctx.shadowOffsetX=p.offsetX.number+g,h.ctx.shadowOffsetY=p.offsetY.number,h.ctx.shadowColor=Us(p.color),h.ctx.shadowBlur=p.blur.number,h.ctx.fillStyle=p.inset?Us(p.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),m.label=2;case 2:l=0,A=0,d=i,m.label=3;case 3:return A<d.length?(f=d[A],f.style!==0&&!dd(f.color)&&f.width>0?f.style!==2?[3,5]:[4,this.renderDashedDottedBorder(f.color,f.width,l,t.curves,2)]:[3,11]):[3,13];case 4:return m.sent(),[3,11];case 5:return f.style!==3?[3,7]:[4,this.renderDashedDottedBorder(f.color,f.width,l,t.curves,3)];case 6:return m.sent(),[3,11];case 7:return f.style!==4?[3,9]:[4,this.renderDoubleBorder(f.color,f.width,l,t.curves)];case 8:return m.sent(),[3,11];case 9:return[4,this.renderSolidBorder(f.color,l,t.curves)];case 10:m.sent(),m.label=11;case 11:l++,m.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},r.prototype.renderDashedDottedBorder=function(t,a,s,i,o){return bi(this,void 0,void 0,function(){var l,A,d,f,h,m,p,x,g,w,j,N,C,E,Q,U,Q,U;return ii(this,function(F){return this.ctx.save(),l=CY(i,s),A=XC(i,s),o===2&&(this.path(A),this.ctx.clip()),Qo(A[0])?(d=A[0].start.x,f=A[0].start.y):(d=A[0].x,f=A[0].y),Qo(A[1])?(h=A[1].end.x,m=A[1].end.y):(h=A[1].x,m=A[1].y),s===0||s===2?p=Math.abs(d-h):p=Math.abs(f-m),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(A.slice(0,2)),x=a<3?a*3:a*2,g=a<3?a*2:a,o===3&&(x=a,g=a),w=!0,p<=x*2?w=!1:p<=x*2+g?(j=p/(2*x+g),x*=j,g*=j):(N=Math.floor((p+g)/(x+g)),C=(p-N*x)/(N-1),E=(p-(N+1)*x)/N,g=E<=0||Math.abs(g-C)<Math.abs(g-E)?C:E),w&&(o===3?this.ctx.setLineDash([0,x+g]):this.ctx.setLineDash([x,g])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=a):this.ctx.lineWidth=a*2+1.1,this.ctx.strokeStyle=Us(t),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Qo(A[0])&&(Q=A[3],U=A[0],this.ctx.beginPath(),this.formatPath([new Ut(Q.end.x,Q.end.y),new Ut(U.start.x,U.start.y)]),this.ctx.stroke()),Qo(A[1])&&(Q=A[1],U=A[2],this.ctx.beginPath(),this.formatPath([new Ut(Q.end.x,Q.end.y),new Ut(U.start.x,U.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},r.prototype.render=function(t){return bi(this,void 0,void 0,function(){var a;return ii(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Us(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),a=jY(t),[4,this.renderStack(a)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},r})(xk),IY=function(e){return e instanceof tk||e instanceof ek?!0:e instanceof Fb&&e.type!==E0&&e.type!==_0},PY=function(e,r){switch(e){case 0:return D0(r);case 2:return gY(r);case 1:default:return U0(r)}},QY=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},RY=["-apple-system","system-ui"],TY=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(r){return RY.indexOf(r)===-1}):e},MY=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.canvas=a.canvas?a.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=a,s.canvas.width=Math.floor(a.width*a.scale),s.canvas.height=Math.floor(a.height*a.scale),s.canvas.style.width=a.width+"px",s.canvas.style.height=a.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-a.x,-a.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+a.width+"x"+a.height+" at "+a.x+","+a.y+") with scale "+a.scale),s}return r.prototype.render=function(t){return bi(this,void 0,void 0,function(){var a,s;return ii(this,function(i){switch(i.label){case 0:return a=c1(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,OY(a)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Us(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},r})(xk),OY=function(e){return new Promise(function(r,t){var a=new Image;a.onload=function(){r(a)},a.onerror=t,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},HY=(function(){function e(r){var t=r.id,a=r.enabled;this.id=t,this.enabled=a,this.start=Date.now()}return e.prototype.debug=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Xp([this.id,this.getTime()+"ms"],r)):this.info.apply(this,r))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Xp([this.id,this.getTime()+"ms"],r))},e.prototype.warn=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Xp([this.id,this.getTime()+"ms"],r)):this.info.apply(this,r))},e.prototype.error=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Xp([this.id,this.getTime()+"ms"],r)):this.info.apply(this,r))},e.instances={},e})(),$Y=(function(){function e(r,t){var a;this.windowBounds=t,this.instanceName="#"+e.instanceCount++,this.logger=new HY({id:this.instanceName,enabled:r.logging}),this.cache=(a=r.cache)!==null&&a!==void 0?a:new cY(this,r)}return e.instanceCount=1,e})(),p1=function(e,r){return r===void 0&&(r={}),KY(e,r)};typeof window<"u"&&uk.setContext(window);var KY=function(e,r){return bi(void 0,void 0,void 0,function(){var t,a,s,i,o,l,A,d,f,h,m,p,x,g,w,j,N,C,E,Q,F,U,F,L,_,q,R,H,J,T,re,z,G,V,ee,ce,k,D,K,te;return ii(this,function(Y){switch(Y.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=e.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(a=t.defaultView,!a)throw new Error("Document is not attached to a Window");return s={allowTaint:(L=r.allowTaint)!==null&&L!==void 0?L:!1,imageTimeout:(_=r.imageTimeout)!==null&&_!==void 0?_:15e3,proxy:r.proxy,useCORS:(q=r.useCORS)!==null&&q!==void 0?q:!1},i=Wy({logging:(R=r.logging)!==null&&R!==void 0?R:!0,cache:r.cache},s),o={windowWidth:(H=r.windowWidth)!==null&&H!==void 0?H:a.innerWidth,windowHeight:(J=r.windowHeight)!==null&&J!==void 0?J:a.innerHeight,scrollX:(T=r.scrollX)!==null&&T!==void 0?T:a.pageXOffset,scrollY:(re=r.scrollY)!==null&&re!==void 0?re:a.pageYOffset},l=new hA(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),A=new $Y(i,l),d=(z=r.foreignObjectRendering)!==null&&z!==void 0?z:!1,f={allowTaint:(G=r.allowTaint)!==null&&G!==void 0?G:!1,onclone:r.onclone,ignoreElements:r.ignoreElements,inlineImages:d,copyStyles:d},A.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),h=new WC(A,e,f),m=h.clonedReferenceElement,m?[4,h.toIFrame(t,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=Y.sent(),x=kb(m)||VG(m)?bz(m.ownerDocument):Cx(A,m),g=x.width,w=x.height,j=x.left,N=x.top,C=zY(A,m,r.backgroundColor),E={canvas:r.canvas,backgroundColor:C,scale:(ee=(V=r.scale)!==null&&V!==void 0?V:a.devicePixelRatio)!==null&&ee!==void 0?ee:1,x:((ce=r.x)!==null&&ce!==void 0?ce:0)+j,y:((k=r.y)!==null&&k!==void 0?k:0)+N,width:(D=r.width)!==null&&D!==void 0?D:Math.ceil(g),height:(K=r.height)!==null&&K!==void 0?K:Math.ceil(w)},d?(A.logger.debug("Document cloned, using foreign object rendering"),F=new MY(A,E),[4,F.render(m)]):[3,3];case 2:return Q=Y.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+j+","+N+" with size "+g+"x"+w+" using computed rendering"),A.logger.debug("Starting DOM parsing"),U=nk(A,m),C===U.styles.backgroundColor&&(U.styles.backgroundColor=lA.TRANSPARENT),A.logger.debug("Starting renderer for element at "+E.x+","+E.y+" with size "+E.width+"x"+E.height),F=new LY(A,E),[4,F.render(U)];case 4:Q=Y.sent(),Y.label=5;case 5:return(!((te=r.removeContainer)!==null&&te!==void 0)||te)&&(WC.destroy(p)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,Q]}})})},zY=function(e,r,t){var a=r.ownerDocument,s=a.documentElement?tm(e,getComputedStyle(a.documentElement).backgroundColor):lA.TRANSPARENT,i=a.body?tm(e,getComputedStyle(a.body).backgroundColor):lA.TRANSPARENT,o=typeof t=="string"?tm(e,t):t===null?lA.TRANSPARENT:4294967295;return r===a.documentElement?dd(s)?dd(i)?o:i:s:o};const VY=Object.freeze(Object.defineProperty({__proto__:null,default:p1},Symbol.toStringTag,{value:"Module"}));class vk{constructor(){this.defaultConfig=Ls}loadMedicoTemplate(r){const t=[r,typeof window<"u"?localStorage.getItem("medico_id"):null,"default"].filter(Boolean);for(const a of t)try{const s=gm(a);if(s)return s}catch(s){console.warn("Erro ao carregar template do mdico:",s)}return this.defaultConfig}async generatePDFFromElement(r,t={}){const a=(t.pageSize||"a4").toLowerCase(),s=(t.orientation||"portrait").toLowerCase()==="landscape"?"l":"p",i=Number(t.scale||2);let o=r;if(typeof r=="string"&&(o=document.querySelector(r)),!o)throw new Error("Elemento do preview no encontrado para gerar PDF.");const l=await p1(o,{scale:i,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",windowWidth:o.scrollWidth||o.clientWidth,windowHeight:o.scrollHeight||o.clientHeight}),A=new or({orientation:s,unit:"mm",format:a}),d=l.toDataURL("image/png"),f=A.internal.pageSize.getWidth(),h=l.height*f/l.width;return A.addImage(d,"PNG",0,0,f,h),A.output("blob")}loadMedicoLogo(r){const t=[r,typeof window<"u"?localStorage.getItem("medico_id"):null].filter(Boolean);for(const a of t)try{const s=$f(a);if(s)return s}catch(s){console.warn("Erro ao carregar logo do mdico:",s)}return null}generateReceitaHTML(r,t,a,s){const i=this.loadMedicoTemplate(s),o=this.loadMedicoLogo(s),l=this.generateStyles(i),A=this.generateHeader(i,t,o),d=this.generateContent(r,a,i),f=this.generateFooter(i,t);return`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>Receita Mdica</title>
          <style>${l}</style>
        </head>
        <body>
          <div class="receita-container">
            ${A}
            ${d}
            ${f}
          </div>
        </body>
      </html>
    `}generateStyles(r){const{layout:t,content:a,branding:s}=r;return`
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: ${a.fontFamily};
        font-size: ${a.fontSize.body}pt;
        color: ${a.colors.primary};
        line-height: 1.6;
        background: white;
      }
      
      .receita-container {
        width: 100%;
        max-width: ${t.pageSize==="A4"?"210mm":"8.5in"};
        margin: 0 auto;
        padding: ${t.margins.top}px ${t.margins.right}px ${t.margins.bottom}px ${t.margins.left}px;
        min-height: ${t.pageSize==="A4"?"297mm":"11in"};
        position: relative;
      }
      
      .header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 2px solid ${a.colors.accent};
      }
      
      .header-logo {
        max-height: 80px;
        max-width: 150px;
        object-fit: contain;
      }
      
      .header-info {
        text-align: right;
        flex: 1;
        margin-left: 20px;
      }
      
      .clinic-name {
        font-size: ${a.fontSize.title}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        margin-bottom: 5px;
      }
      
      .clinic-details {
        font-size: ${a.fontSize.small}pt;
        color: ${a.colors.secondary};
        line-height: 1.4;
      }
      
      .doctor-info {
        margin-bottom: 30px;
        padding: 15px;
        background-color: #f8f9fa;
        border-radius: 8px;
        border-left: 4px solid ${a.colors.accent};
      }
      
      .doctor-name {
        font-size: ${a.fontSize.subtitle}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        margin-bottom: 5px;
      }
      
      .doctor-details {
        font-size: ${a.fontSize.small}pt;
        color: ${a.colors.secondary};
      }
      
      .patient-info {
        margin-bottom: 30px;
        padding: 15px;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
      }
      
      .patient-name {
        font-size: ${a.fontSize.subtitle}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        margin-bottom: 10px;
      }
      
      .patient-details {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        font-size: ${a.fontSize.small}pt;
        color: ${a.colors.secondary};
      }
      
      .prescription-title {
        font-size: ${a.fontSize.title}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        text-align: center;
        margin-bottom: 30px;
        text-transform: uppercase;
        letter-spacing: 1px;
      }
      
      .medications {
        margin-bottom: 40px;
      }
      
      .medication-item {
        margin-bottom: 20px;
        padding: 15px;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        background-color: #fafafa;
      }
      
      .medication-name {
        font-size: ${a.fontSize.subtitle}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        margin-bottom: 8px;
      }
      
      .medication-details {
        font-size: ${a.fontSize.body}pt;
        color: ${a.colors.secondary};
        margin-bottom: 5px;
      }
      
      .medication-instructions {
        font-size: ${a.fontSize.body}pt;
        color: ${a.colors.primary};
        font-style: italic;
        margin-top: 10px;
        padding: 10px;
        background-color: #f0f8ff;
        border-radius: 4px;
        border-left: 3px solid ${a.colors.accent};
      }
      
      .observations {
        margin-bottom: 40px;
        padding: 20px;
        background-color: #fff9e6;
        border-radius: 8px;
        border: 1px solid #ffd700;
      }
      
      .observations-title {
        font-size: ${a.fontSize.subtitle}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        margin-bottom: 10px;
      }
      
      .observations-text {
        font-size: ${a.fontSize.body}pt;
        color: ${a.colors.secondary};
        line-height: 1.6;
      }
      
      .footer {
        position: absolute;
        bottom: ${t.margins.bottom}px;
        left: ${t.margins.left}px;
        right: ${t.margins.right}px;
        text-align: center;
        padding-top: 20px;
        border-top: 1px solid #e0e0e0;
      }
      
      .signature-area {
        margin-top: 40px;
        text-align: center;
      }
      
      .signature-line {
        width: 300px;
        height: 1px;
        background-color: ${a.colors.secondary};
        margin: 40px auto 10px;
      }
      
      .signature-text {
        font-size: ${a.fontSize.small}pt;
        color: ${a.colors.secondary};
      }
      
      .date-location {
        margin-top: 30px;
        font-size: ${a.fontSize.small}pt;
        color: ${a.colors.secondary};
      }
      
      @media print {
        .receita-container {
          margin: 0;
          padding: 20px;
        }
        
        body {
          -webkit-print-color-adjust: exact;
          print-color-adjust: exact;
        }
      }
    `}generateHeader(r,t,a){const{header:s,branding:i}=r;if(!s.showLogo&&!s.showDoctorInfo)return"";let o="";s.showLogo&&(a!=null&&a.data)&&(o=`<img src="${a.data}" alt="Logo" class="header-logo" />`);let l="";return s.showDoctorInfo&&(l=`
        <div class="header-info">
          <div class="clinic-name">${i.clinicName||(t==null?void 0:t.nome)||"Clnica Mdica"}</div>
          <div class="clinic-details">
            ${i.clinicAddress?`<div>${i.clinicAddress}</div>`:""}
            ${i.clinicPhone?`<div>Tel: ${i.clinicPhone}</div>`:""}
            ${i.clinicEmail?`<div>Email: ${i.clinicEmail}</div>`:""}
          </div>
        </div>
      `),`
      <div class="header">
        ${o}
        ${l}
      </div>
    `}generateContent(r,t,a){const s=this.generateDoctorInfo(r.medico,a),i=this.generatePatientInfo(t,a),o=this.generateMedications(r.itens||[],a),l=this.generateObservations(r.observacoes,a);return`
      ${s}
      ${i}
      <div class="prescription-title">Receita Mdica</div>
      ${o}
      ${l}
    `}generateDoctorInfo(r,t){var a,s;return r?`
      <div class="doctor-info">
        <div class="doctor-name">Dr(a). ${r.nome||((a=r.user)==null?void 0:a.first_name)+" "+((s=r.user)==null?void 0:s.last_name)}</div>
        <div class="doctor-details">
          ${r.crm?`CRM: ${r.crm}`:""}
          ${r.especialidade?` | ${r.especialidade}`:""}
        </div>
      </div>
    `:""}generatePatientInfo(r,t){var s,i;if(!r)return"";const a=this.calculateAge(r.data_nascimento);return`
      <div class="patient-info">
        <div class="patient-name">Paciente: ${r.nome||((s=r.user)==null?void 0:s.first_name)+" "+((i=r.user)==null?void 0:i.last_name)}</div>
        <div class="patient-details">
          ${a?`<div>Idade: ${a} anos</div>`:""}
          ${r.cpf?`<div>CPF: ${r.cpf}</div>`:""}
          ${r.telefone?`<div>Telefone: ${r.telefone}</div>`:""}
          ${r.endereco?`<div>Endereo: ${r.endereco}</div>`:""}
        </div>
      </div>
    `}generateMedications(r,t){return!r||r.length===0?'<div class="medications"><p>Nenhum medicamento prescrito.</p></div>':`<div class="medications">${r.map((s,i)=>`
      <div class="medication-item">
        <div class="medication-name">${i+1}. ${s.medicamento||s.nome}</div>
        ${s.dosagem?`<div class="medication-details">Dosagem: ${s.dosagem}</div>`:""}
        ${s.frequencia?`<div class="medication-details">Frequncia: ${s.frequencia}</div>`:""}
        ${s.duracao?`<div class="medication-details">Durao: ${s.duracao}</div>`:""}
        ${s.instrucoes?`<div class="medication-instructions">${s.instrucoes}</div>`:""}
      </div>
    `).join("")}</div>`}generateObservations(r,t){return r?`
      <div class="observations">
        <div class="observations-title">Observaes:</div>
        <div class="observations-text">${r}</div>
      </div>
    `:""}generateFooter(r,t){var o,l;const{footer:a}=r;if(!a.showSignature&&!a.showDate)return"";let s="";a.showSignature&&(s=`
        <div class="signature-area">
          <div class="signature-line"></div>
          <div class="signature-text">
            Dr(a). ${(t==null?void 0:t.nome)||((o=t==null?void 0:t.user)==null?void 0:o.first_name)+" "+((l=t==null?void 0:t.user)==null?void 0:l.last_name)}
            ${t!=null&&t.crm?`<br>CRM: ${t.crm}`:""}
          </div>
        </div>
      `);let i="";return a.showDate&&(i=`<div class="date-location">Data: ${new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})}</div>`),`
      <div class="footer">
        ${s}
        ${i}
      </div>
    `}calculateAge(r){if(!r)return null;const t=new Date(r),a=new Date;let s=a.getFullYear()-t.getFullYear();const i=a.getMonth()-t.getMonth();return(i<0||i===0&&a.getDate()<t.getDate())&&s--,s}async generatePDF(r,t,a,s){try{const i=this.loadMedicoTemplate(s),o=this.generateReceitaHTML(r,t,a,s),l=document.createElement("div");l.innerHTML=o,l.style.position="absolute",l.style.left="-9999px",l.style.top="-9999px",document.body.appendChild(l);const A=i.layout.orientation==="landscape"?"l":"p",d=i.layout.pageSize.toLowerCase(),f=new or({orientation:A,unit:"mm",format:d}),h=await p1(l.querySelector(".receita-container"),{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),m=h.toDataURL("image/png"),p=f.internal.pageSize.getWidth(),x=h.height*p/h.width;return f.addImage(m,"PNG",0,0,p,x),document.body.removeChild(l),f.output("blob")}catch(i){throw console.error("Erro ao gerar PDF:",i),new Error("Falha na gerao do PDF: "+i.message)}}savePDF(r,t="receita-medica.pdf"){const a=URL.createObjectURL(r),s=document.createElement("a");s.href=a,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}previewPDF(r){const t=URL.createObjectURL(r);window.open(t,"_blank")}}const I0=new vk,wk=Object.freeze(Object.defineProperty({__proto__:null,PdfTemplateService:vk,default:I0,pdfTemplateService:I0},Symbol.toStringTag,{value:"Module"})),g1={getAll:async(e={})=>{try{return(await ye.get("/medicamentos/",{params:e})).data}catch(r){throw console.error("Erro ao buscar medicamentos:",r),r}},getById:async e=>{try{return(await ye.get(`/medicamentos/${e}/`)).data}catch(r){throw console.error("Erro ao buscar medicamento:",r),r}},search:async e=>{try{const r=await ye.get("/medicamentos/",{params:{search:e,page_size:10}});return r.data.results||r.data}catch(r){throw console.error("Erro ao buscar medicamentos:",r),r}},create:async e=>{try{return(await ye.post("/medicamentos/",e)).data}catch(r){throw console.error("Erro ao criar medicamento:",r),r}},update:async(e,r)=>{try{return(await ye.put(`/medicamentos/${e}/`,r)).data}catch(t){throw console.error("Erro ao atualizar medicamento:",t),t}},delete:async e=>{try{return(await ye.patch(`/medicamentos/${e}/`,{ativo:!1})).data}catch(r){throw console.error("Erro ao deletar medicamento:",r),r}}},nr={async getPerfil(){var o,l,A,d,f,h;const e="/api/medicos/",r=e.endsWith("/")?e:`${e}/`,t="".toLowerCase()==="true",a="".toLowerCase()==="true";let s=sa.getCurrentUser();if(!(s!=null&&s.id))try{const m=await sa.refreshCurrentUser();m!=null&&m.id&&(s=m)}catch{}if(s!=null&&s.id){const m="user,user__id,user_id,usuario,usuario_id".split(",").map(p=>p.trim()).filter(Boolean);for(const p of m)try{const x=await ye.get(r,{params:{[p]:s.id}}),g=Array.isArray((o=x.data)==null?void 0:o.results)?x.data.results:x.data;if(Array.isArray(g)){const w=g.find(j=>{var N,C;return((N=j==null?void 0:j.user)==null?void 0:N.id)===s.id||((C=j==null?void 0:j.usuario)==null?void 0:C.id)===s.id||(j==null?void 0:j.user)===s.id||(j==null?void 0:j.usuario)===s.id});if(w)return w;continue}if(g&&typeof g=="object"){const w=g;if(((l=w==null?void 0:w.user)==null?void 0:l.id)===s.id||((A=w==null?void 0:w.usuario)==null?void 0:A.id)===s.id||(w==null?void 0:w.user)===s.id||(w==null?void 0:w.usuario)===s.id)return w;continue}}catch{}}if(t)try{return(await ye.get(`${r}me/`)).data}catch(m){if(((d=m==null?void 0:m.response)==null?void 0:d.status)!==404)throw m}let i=null;if(a){const m=[],p="/api/users/".trim();if(p)if(p.includes("/me"))m.push(p);else{const x=p.endsWith("/")?p:`${p}/`;m.push(`${x}me/`)}m.push("/users/me/"),m.push("/auth/user/");for(const x of m)try{if(i=(await ye.get(x)).data,i&&!i.id){const w=Array.isArray(i==null?void 0:i.results)?i.results[0]:Array.isArray(i)?i[0]:null;w!=null&&w.id&&(i=w)}if(i!=null&&i.id)break}catch{}}try{const m=await ye.get(r),p=Array.isArray((f=m.data)==null?void 0:f.results)?m.data.results:m.data;if(Array.isArray(p)&&p.length){const x=(i==null?void 0:i.id)||((h=sa.getCurrentUser())==null?void 0:h.id);if(x){const g=p.find(w=>{var j,N;return((j=w==null?void 0:w.user)==null?void 0:j.id)===x||((N=w==null?void 0:w.usuario)==null?void 0:N.id)===x});if(g)return g}return null}}catch{}return null},async getPacientes(e={}){return(await ye.get("/api/pacientes/",{params:e})).data},async getPacientesVinculados(e){const r="/api/medicos/",t=r.endsWith("/")?r:`${r}/`;return(await ye.get(`${t}${e}/pacientes/`)).data},async getMeusPacientes(e=null){var s;let r=e;if(!r)try{r=await this._resolveMedicoId()}catch{}const t=[],a=i=>{var l,A;const o=Array.isArray(i)?i:Array.isArray(i==null?void 0:i.results)?i.results:[];for(const d of o)(d!=null&&d.id||(l=d==null?void 0:d.user)!=null&&l.id||d!=null&&d.cpf||(A=d==null?void 0:d.user)!=null&&A.cpf||JSON.stringify(d))&&(t.some(h=>{var m,p;return((h==null?void 0:h.id)||((m=h==null?void 0:h.user)==null?void 0:m.id))===((d==null?void 0:d.id)||((p=d==null?void 0:d.user)==null?void 0:p.id))})||t.push(d))};try{if(r){const i="/api/medicos/",o=i.endsWith("/")?i:`${i}/`,l=await ye.get(`${o}${r}/pacientes/`);a(l==null?void 0:l.data)}}catch{}try{const i="/api/pacientes/",o=i.endsWith("/")?i:`${i}/`,l=["medico","medico_id","responsavel","doctor","doctor_id"];for(const A of l){const d=await ye.get(o,{params:r?{[A]:r,limit:200}:{limit:200}}).catch(()=>null);d!=null&&d.data&&a(d.data)}}catch{}try{const i="/api/consultas/",o=i.endsWith("/")?i:`${i}/`,l=r?{medico:r,medico_id:r,limit:200}:{limit:200},A=await ye.get(o,{params:l}).catch(()=>null),f=(Array.isArray((s=A==null?void 0:A.data)==null?void 0:s.results)?A.data.results:Array.isArray(A==null?void 0:A.data)?A.data:[]).map(h=>h==null?void 0:h.paciente).filter(Boolean);a(f)}catch{}return t},async getConsultas(e={}){return(await ye.get("/api/consultas/",{params:e})).data},async getConsultasDoMedico(e={}){var l,A,d,f;const r=await this.getPerfil();let t=null;if((l=r==null?void 0:r.medico)!=null&&l.id?t=r.medico.id:r&&typeof r=="object"&&"crm"in r&&(t=r.id),!t){const h=((A=r==null?void 0:r.user)==null?void 0:A.id)||(r==null?void 0:r.id);if(h)try{const m="/api/medicos/",p=m.endsWith("/")?m:`${m}/`,x="user,user__id,user_id,usuario,usuario_id".split(",").map(g=>g.trim()).filter(Boolean);for(const g of x)try{const w=await ye.get(p,{params:{[g]:h}}),j=Array.isArray((d=w.data)==null?void 0:d.results)?w.data.results:w.data;if((f=j==null?void 0:j[0])!=null&&f.id){t=j[0].id;break}}catch{}}catch{}}const a={...e};t&&!a.medico&&!a.medico_id&&(a.medico=t,a.medico_id=t);const s=a.date||a.data||a.dia;return s&&(a.date=s,a.data=s,a.dia=s,a.data__date=s),(await ye.get("/api/consultas/",{params:a})).data},async getConsultasHoje(e){var d,f,h,m;const r="/api/medicos/",t=r.endsWith("/")?r:`${r}/`;let a=e;if(!a){const p=await this.getPerfil();if((d=p==null?void 0:p.medico)!=null&&d.id?a=p.medico.id:p&&typeof p=="object"&&"crm"in p&&(a=p.id),!a){const x=((f=p==null?void 0:p.user)==null?void 0:f.id)||(p==null?void 0:p.id);if(x)try{const g="user,user__id,user_id,usuario,usuario_id".split(",").map(w=>w.trim()).filter(Boolean);for(const w of g)try{const j=await ye.get(t,{params:{[w]:x}}),N=Array.isArray((h=j.data)==null?void 0:h.results)?j.data.results:j.data;if((m=N==null?void 0:N[0])!=null&&m.id){a=N[0].id;break}}catch{}}catch{}}}const s="false".toLowerCase()==="true";if(a&&s)try{return(await ye.get(`${t}${a}/consultas_hoje/`)).data}catch{}const i=new Date,o=p=>String(p).padStart(2,"0"),l=`${i.getFullYear()}-${o(i.getMonth()+1)}-${o(i.getDate())}`;return await this.getConsultasDoMedico({date:l})},async getDashboard(){try{const e=new Date,r=o=>String(o).toString().padStart(2,"0"),t=`${e.getFullYear()}-${r(e.getMonth()+1)}-${r(e.getDate())}`,a=await this.getConsultasDoMedico({date:t}),s=Array.isArray(a)?a:Array.isArray(a==null?void 0:a.results)?a.results:[];return{proximas:Array.isArray(s)?s.map(o=>({id:o.id||o.consulta_id||o.uuid,paciente:o.paciente,data_hora:o.data_hora,status:o.status})):[]}}catch{return{proximas:[]}}},async iniciarConsulta(e){if(!e)throw new Error("consultaId  obrigatrio");const r="/consultas/",t=[{method:"post",url:`${r}${e}/iniciar/`,data:void 0},{method:"post",url:`${r}${e}/start/`,data:void 0},{method:"patch",url:`${r}${e}/`,data:{status:"em_andamento"}},{method:"put",url:`${r}${e}/iniciar/`,data:void 0}];let a=null;for(const s of t)try{return(await ye[s.method](s.url,s.data)).data}catch(i){a=i}throw a||new Error("No foi possvel iniciar a consulta")},async finalizarConsulta(e){if(!e)throw new Error("consultaId  obrigatrio");const t=`/consultas/${e}/finalizar/`;return(await ye.post(t)).data},async finalizarConsultaIA(e,r={}){if(!e)throw new Error("consultaId  obrigatrio");const t="/consultas/",a=[{method:"post",url:`${t}${e}/finalizar-ia/`,data:r},{method:"post",url:`/api/consultas/${e}/finalizar-ia/`,data:r},{method:"post",url:`${t}${e}/finalizar_ia/`,data:r}];let s=null;for(const i of a)try{return(await ye[i.method](i.url,i.data)).data}catch(o){s=o}throw s||new Error("Endpoint finalizar-ia no disponvel")},async processarTranscricaoConsulta({texto:e,consultaId:r,pacienteId:t,medicoId:a}={}){var A;if(!e)throw new Error("texto da transcrio  obrigatrio");const s="/consultas/processar_transcricao/".replace(/\/?$/,"/"),i={texto:e,consulta_id:r,consulta:r,paciente:t,paciente_id:t,medico:a,medico_id:a},o=[s,"/api/consultas/processar_transcricao/","/consultas/sumarizar_criar_receita/"];let l=null;for(const d of o)try{const{data:f}=await ye.post(d,i);return f}catch(f){if(((A=f==null?void 0:f.response)==null?void 0:A.status)===401)throw f;l=f;continue}throw l||new Error("Endpoint de processamento de transcrio indisponvel")},async getReceitaById(e){var s;if(!e)throw new Error("id da receita  obrigatrio");const t=[`${"/api/receitas/".replace(/\/?$/,"/")}${e}/`,`/api/receitas/${e}/`,`/meu_app_receita/${e}/`];let a=null;for(const i of t)try{const{data:o}=await ye.get(i);return o}catch(o){if(((s=o==null?void 0:o.response)==null?void 0:s.status)===401)throw o;a=o;continue}if(a)throw a;return null},async getReceitaItens(e){var s;if(!e)throw new Error("id da receita  obrigatrio");const r="/api/receitas/".replace(/\/?$/,"/"),t=[`${r}${e}/itens/`,`${r}${e}/items/`,`/api/receitas/${e}/itens/`,`/meu_app_receitaitem/?receita=${e}`];let a=null;for(const i of t)try{const{data:o}=await ye.get(i);return Array.isArray(o==null?void 0:o.results)?o.results:Array.isArray(o)?o:[]}catch(o){if(((s=o==null?void 0:o.response)==null?void 0:s.status)===401)throw o;a=o;continue}if(a)throw a;return[]},async sumarizarConsulta(e,r={}){if(!e)throw new Error("consultaId  obrigatrio");const t="/consultas/",a=[`${t}${e}/sumarizar/`,`${t}${e}/resumir/`,`${t}${e}/summary/`];let s=null;for(const i of a)try{const{data:o}=await ye.post(i,r);return o}catch(o){s=o}throw s||new Error("Endpoint de sumarizao no disponvel")},async criarProntuario(e){var A;const r="/api/prontuarios/".replace(/\/?$/,"/"),t={...e||{}},a={};for(const[d,f]of Object.entries(t))f!=null&&(typeof f=="string"&&f.trim()===""||(a[d]=typeof f=="string"?f.trim():f));const s=a.consulta_id||a.consulta;s&&(a.consulta_id=s,a.consulta=s);const i=[{method:"post",url:r},{method:"put",url:r},{method:"patch",url:r}],o=r.replace(/prontuarios\/?$/i,"prontuario/");o!==r&&(i.push({method:"post",url:o}),i.push({method:"put",url:o}),i.push({method:"patch",url:o}));let l=null;for(const d of i)try{const{data:f}=await ye[d.method](d.url,a);return f}catch(f){const h=(A=f==null?void 0:f.response)==null?void 0:A.status;if(h&&[400,422].includes(h)){const m={};s&&(m.consulta_id=s,m.consulta=s);const p=a.queixa_principal||a.queixa,x=a.historia_doenca_atual||a.historia,g=a.diagnostico_principal||a.diagnostico,w=a.conduta||a.plano,j=a.medicamentos_uso||a.medicamentos;p&&(m.queixa_principal=p),x&&(m.historia_doenca_atual=x),g&&(m.diagnostico_principal=g),w&&(m.conduta=w),j&&(m.medicamentos_uso=j),a.alergias&&(m.alergias=a.alergias),a.exames_solicitados&&(m.exames_solicitados=a.exames_solicitados),a.data_retorno&&(m.data_retorno=a.data_retorno);try{const{data:N}=await ye[d.method](d.url,m);return N}catch(N){l=N}}else if(h===405){l=f;continue}else if(h===404){l=f;continue}else{l=f;break}}throw l||new Error("Falha ao criar pronturio: nenhum endpoint compatvel encontrado.")},async criarReceita(e={}){var C,E,Q,U,F,L,_,q,R;if("false".toLowerCase()==="true"){try{console.debug("[medicoService.criarReceita] criao desabilitada por VITE_RECEITAS_CREATE_DISABLED=true")}catch{}return{ok:!1,disabled:!0}}const t="/api/receitas/".replace(/\/?$/,"/"),a="/api/pacientes/".replace(/\/?$/,"/"),s="/api/consultas/".replace(/\/?$/,"/"),i="true".toLowerCase()==="true",o={...e},l=o.paciente_id||o.paciente,A=o.consulta_id||o.consulta,d={...o};!d.paciente_id&&l&&(d.paciente_id=l),!d.paciente&&l&&(d.paciente=l),!d.consulta_id&&A&&(d.consulta_id=A),!d.consulta&&A&&(d.consulta=A),!d.medicamentos&&o.medicamento&&(d.medicamentos=o.medicamento),!d.medicamento&&o.medicamentos&&(d.medicamento=o.medicamentos),!d.validade&&o.validade_receita&&(d.validade=o.validade_receita),o.nome_paciente&&!d.paciente_nome&&(d.paciente_nome=o.nome_paciente),o.medico&&!d.medico_nome&&(d.medico_nome=o.medico),o.crm&&!d.medico_crm&&(d.medico_crm=o.crm);const f=new Date;!d.data_prescricao&&!d.data_emissao&&(d.data_prescricao=f.toISOString());const h=(H,J)=>{const T=new Date(H);T.setDate(T.getDate()+J);const re=T.getFullYear(),z=String(T.getMonth()+1).padStart(2,"0"),G=String(T.getDate()).padStart(2,"0");return`${re}-${z}-${G}`};!d.validade&&!d.validade_receita&&(d.validade=h(f,30)),!d.status&&!d.situacao&&(d.status="ativa",d.situacao="ativa"),d.ativa===void 0&&(d.ativa=!0);try{const H=d.medico_id||d.medico||await this._resolveMedicoId().catch(()=>null);H&&(d.medico_id||(d.medico_id=H),d.medico||(d.medico=H))}catch{}if(!d.consulta_id&&!d.consulta&&(d.paciente_id||d.paciente))try{const H=d.paciente_id||d.paciente,J=d.medico_id||d.medico||null,T=(()=>{const z=new Date,G=z.getFullYear(),V=String(z.getMonth()+1).padStart(2,"0"),ee=String(z.getDate()).padStart(2,"0");return`${G}-${V}-${ee}`})(),re=await this._ensureConsultaId(H,J,T);if(re&&(d.consulta_id=re,d.consulta=re,i))try{console.debug("[medicoService.criarReceita] consulta_id resolvido automaticamente:",re)}catch{}}catch(H){if(i)try{console.warn("[medicoService.criarReceita] no foi possvel resolver consulta_id automaticamente",(C=H==null?void 0:H.response)==null?void 0:C.status)}catch{}}const m=[],p="/api/receitas/".trim();p&&m.push(p),m.push(t),m.push(`${t}criar/`),m.push(`${t}create/`);const x=t.replace(/receitas\/?$/i,"receita/"),g=Array.from(new Set([x,"/receita/","/meu_app_receita/","/meu_app_receitas/"].filter(Boolean)));for(const H of g){const J=H.replace(/\/?$/,"/");m.push(J),m.push(`${J}criar/`),m.push(`${J}create/`)}if(A&&m.push(`${s}${A}/receitas/`),l&&m.push(`${a}${l}/receitas/`),i){try{console.debug("[medicoService.criarReceita] payload:",d)}catch{}try{console.debug("[medicoService.criarReceita] candidatos:",m)}catch{}}let w=null,j=null;const N=new Set;for(const H of m){if(!H)continue;const J=H.endsWith("/")?H:`${H}/`,T=["post","put","patch"];for(const re of T){j=`${re.toUpperCase()} ${J}`;try{if(i)try{console.debug("[medicoService.criarReceita] tentando:",j)}catch{}const{data:z}=await ye[re](J,d);if(i)try{console.debug("[medicoService.criarReceita] sucesso:",j,"",z)}catch{}return z}catch(z){const G=(E=z==null?void 0:z.response)==null?void 0:E.status;if(i)try{console.warn("[medicoService.criarReceita] falhou:",j,"status=",G,"detail=",((Q=z==null?void 0:z.response)==null?void 0:Q.data)||(z==null?void 0:z.message))}catch{}if(G&&[400,422].includes(G)){const V=`${re}:${J}`;if(!N.has(V)){N.add(V);const ee={},ce=d.paciente_id||d.paciente,k=d.medico_id||d.medico,D=d.medicamentos||d.medicamento,K=d.validade||d.validade_receita;if(ce&&(ee.paciente=ce,ee.paciente_id=ce),k&&(ee.medico=k,ee.medico_id=k),D&&(ee.medicamentos=D,ee.medicamento=D),d.posologia&&(ee.posologia=d.posologia),K&&(ee.validade=K),d.observacoes&&(ee.observacoes=d.observacoes),d.consulta_id||d.consulta){const te=d.consulta_id||d.consulta;ee.consulta=te,ee.consulta_id=te}try{if(i)try{console.debug("[medicoService.criarReceita] retry minimal:",re.toUpperCase(),J,ee)}catch{}const te=await ye[re](J,ee),Y=te==null?void 0:te.data;if(i)try{console.debug("[medicoService.criarReceita] sucesso (minimal):",re.toUpperCase(),J,Y)}catch{}return Y}catch(te){if(i)try{console.warn("[medicoService.criarReceita] falhou (minimal):",re.toUpperCase(),J,(U=te==null?void 0:te.response)==null?void 0:U.status,((F=te==null?void 0:te.response)==null?void 0:F.data)||(te==null?void 0:te.message))}catch{}try{const Y=(L=te==null?void 0:te.response)==null?void 0:L.data,X=typeof Y=="string"&&Y||(Y==null?void 0:Y.detail)||(Y==null?void 0:Y.message)||(te==null?void 0:te.message)||"Erro desconhecido",O=Y&&typeof Y=="object"?` | body=${JSON.stringify(Y)}`:typeof Y=="string"?` | body=${Y}`:"";te.message=`Falha ao criar receita (minimal, ltima tentativa: ${j||""})  [${G||""}] ${X}${O}`}catch{}w=te;continue}}try{const ee=(_=z==null?void 0:z.response)==null?void 0:_.data,ce=typeof ee=="string"&&ee||(ee==null?void 0:ee.detail)||(ee==null?void 0:ee.message)||(z==null?void 0:z.message)||"Erro desconhecido",k=ee&&typeof ee=="object"?` | body=${JSON.stringify(ee)}`:typeof ee=="string"?` | body=${ee}`:"";z.message=`Falha ao criar receita (ltima tentativa: ${j||""})  [${G||""}] ${ce}${k}`}catch{}continue}if(G===404){w=z;break}if(G===405){w=z;continue}if(G===401)throw z;if(G&&[400,422].includes(G)){w=z;continue}w=z;break}}}if(w){const H=(q=w==null?void 0:w.response)==null?void 0:q.status,J=(R=w==null?void 0:w.response)==null?void 0:R.data,T=typeof J=="string"&&J||(J==null?void 0:J.detail)||(J==null?void 0:J.message)||(w==null?void 0:w.message)||"Erro desconhecido",re=J&&typeof J=="object"?` | body=${JSON.stringify(J)}`:"";throw new Error(`Falha ao criar receita (ltima tentativa: ${j||""})  [${H||""}] ${T}${re}`)}throw new Error("Falha ao criar receita: nenhum endpoint compatvel encontrado.")},async salvarItensReceita(e,r=[]){var f,h;if(!e)throw new Error("receitaId  obrigatrio para salvar itens.");if(!Array.isArray(r)||r.length===0)return{count:0,results:[]};const t="true".toLowerCase()==="true",a="/api/receitas/".replace(/\/?$/,"/"),s="/api/receitaitem/".trim(),i=r.map(m=>{var g;const p=m.medicamento_id||((g=m.medicamento)==null?void 0:g.id)||m.medicamento;return{receita:e,receita_id:e,medicamento_id:p,medicamento:p,nome:m.nome||m.medicamento_nome||m.descricao||m.texto||m.medicamento||m.medicamentos,medicamento_nome:m.medicamento_nome||m.nome||m.descricao||m.texto,descricao:m.descricao||m.texto||m.nome||m.medicamento,posologia:m.posologia||m.instrucoes||m.indicacoes,dose:m.dose||m.dosagem,frequencia:m.frequencia||m.freq||m.intervalo,duracao:m.duracao||m.dias||m.periodo,observacoes:m.observacoes||m.obs||m.nota}});for(let m=0;m<i.length;m++){const p=i[m];if(!p.medicamento_id){const g=(p.nome||p.medicamento_nome||p.descricao||"").toString().trim();if(!g)continue;let w=null;try{const j=await g1.search(g).catch(()=>[]),N=Array.isArray(j)?j:Array.isArray(j==null?void 0:j.results)?j.results:[],C=N.find(E=>String((E==null?void 0:E.nome)||"").toLowerCase()===g.toLowerCase())||N[0];C&&C.id&&(w=C.id)}catch{}if(!w)try{const j=await g1.create({nome:g,ativo:!0});w=(j==null?void 0:j.id)||null}catch{}w&&(p.medicamento_id=w,p.medicamento=w)}}const o=[];s&&o.push(s),o.push(`${a}${e}/itens/`),o.push(`${a}${e}/items/`),o.push(`${a}${e}/receitaitens/`),o.push("/api/receitaitem/"),o.push("/receitaitem/"),o.push("/api/receitas/itens/"),o.push("/receitas/itens/"),o.push("/meu_app_receitaitem/");let l=null;for(const m of o){if(!m)continue;const p=m.endsWith("/")?m:`${m}/`;try{if(t)try{console.debug("[salvarItensReceita] POST bulk ->",p)}catch{}const x={itens:i,receita:e,receita_id:e},{data:g}=await ye.post(p,x);return g||{count:i.length,results:i}}catch(x){if(((f=x==null?void 0:x.response)==null?void 0:f.status)===401)throw x;l=x;continue}}const A=[s?s.replace(/\/?$/,"/"):null,"/api/receitaitem/","/receitaitem/","/api/receitas/itens/","/receitas/itens/","/meu_app_receitaitem/"].filter(Boolean),d=[];for(const m of i){let p=null,x=null;for(const g of A){const w=g.endsWith("/")?g:`${g}/`;try{if(t)try{console.debug("[salvarItensReceita] POST single ->",w,m)}catch{}const{data:j}=await ye.post(w,m);p=j||m;break}catch(j){if(((h=j==null?void 0:j.response)==null?void 0:h.status)===401)throw j;x=j;continue}}p?d.push(p):(x&&(l=x),d.push(m))}if(l&&d.length===0)throw l;return{count:d.length,results:d}},async salvarArquivoAssinado(e,r,t="receita_assinada.pdf"){var h;if(!e)throw new Error("receitaId  obrigatrio para salvar arquivo assinado.");if(!r)throw new Error("Arquivo assinado (Blob/File)  obrigatrio.");const a="true".toLowerCase()==="true",s="/api/receitas/",i=s.endsWith("/")?s:`${s}/`,o="".trim(),l=r instanceof File?r:new File([r],t,{type:"application/pdf"}),A=new FormData;A.append("arquivo_assinado",l,t),A.append("pdf_assinado",l,t),A.append("documento_assinado",l,t),A.append("file",l,t),A.append("pdf",l,t),A.append("documento",l,t),A.append("receita",e),A.append("receita_id",e),A.append("id",e);const d=[];o&&d.push(o),d.push(`${i}${e}/arquivo-assinado/`),d.push(`${i}${e}/arquivo/`),d.push(`${i}${e}/upload/`),d.push(`${i}${e}/anexos/`),d.push(`${i}${e}/`),d.push(`/api/receitas/${e}/`);let f=null;for(const m of d){if(!m)continue;const p=m.endsWith("/")?m:`${m}/`,x=["post","put","patch"];for(const g of x)try{if(a)try{console.debug(`[salvarArquivoAssinado] ${g.toUpperCase()} ->`,p)}catch{}const{data:w}=await ye[g](p,A);return w||{ok:!0}}catch(w){const j=(h=w==null?void 0:w.response)==null?void 0:h.status;if(j===401)throw w;if(j===404){f=w;break}if(j===405){f=w;continue}if(j&&[400,422].includes(j)){f=w;continue}f=w;break}}throw f||new Error("Falha ao salvar arquivo assinado: nenhum endpoint compatvel.")},async computeSHA256Hex(e){const t=await(e instanceof Blob?e:new Blob([e])).arrayBuffer(),a=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(a);return Array.from(s).map(o=>o.toString(16).padStart(2,"0")).join("")},async gerarDocumentoReceitaLocal(e={}){const r={...e},t=r.nome_paciente||r.paciente_nome||"",a=r.filename||`Receita_${t||"Medica"}.pdf`;try{const s=r.previewSelector||r.elementSelector||"#receita-preview",i=await I0.generatePDFFromElement(s,{pageSize:"a4",orientation:"portrait",scale:Number(r.scale||2)});return{filename:a,blob:i}}catch{const i={medicamento:r.medicamento||r.medicamentos,medicamentos:r.medicamentos||r.medicamento,posologia:r.posologia||r.orientacoes,observacoes:r.observacoes,validade_receita:r.validade_receita||r.validade,data_prescricao:r.data_prescricao||r.data_emissao||new Date().toISOString(),itens:r.itens||[]},o={nome:r.medico_nome||r.medico,crm:r.medico_crm||r.crm,especialidade:r.especialidade||"",endereco_consultorio:r.endereco_consultorio||"",telefone_consultorio:r.telefone_consultorio||"",email:r.email_medico||""},l={nome:t||r.paciente,idade:r.idade,cpf:r.cpf,data_nascimento:r.data_nascimento,endereco:r.endereco_paciente||"",telefone:r.telefone_paciente||""},A=r.medico_id||r.medico||await this._resolveMedicoId().catch(()=>"default"),d=await I0.generatePDF(i,o,l,A);return{filename:a,blob:d}}},async gerarDocumentoReceita(e={}){var x,g,w;const r="true".toLowerCase()==="true",t="/api/receitas/".replace(/\/?$/,"/"),a={...e},s=a.paciente_id||a.paciente,i=a.consulta_id||a.consulta,o=(a.formato||"pdf").toLowerCase(),l={...a};!l.paciente_id&&s&&(l.paciente_id=s),!l.paciente&&s&&(l.paciente=s),!l.consulta_id&&i&&(l.consulta_id=i),!l.consulta&&i&&(l.consulta=i),!l.medicamentos&&a.medicamento&&(l.medicamentos=a.medicamento),!l.medicamento&&a.medicamentos&&(l.medicamento=a.medicamentos),!l.validade&&a.validade_receita&&(l.validade=a.validade_receita),a.nome_paciente&&!l.paciente_nome&&(l.paciente_nome=a.nome_paciente),a.medico&&!l.medico_nome&&(l.medico_nome=a.medico),a.crm&&!l.medico_crm&&(l.medico_crm=a.crm),l.formato=o;try{const j=l.medico_id||l.medico||await this._resolveMedicoId().catch(()=>null);j&&(l.medico_id||(l.medico_id=j),l.medico||(l.medico=j))}catch{}const A=[],d="/api/receitas/gerar/".trim();d&&A.push(d),A.push(`${t}pdf/`),A.push(`${t}gerar/`),A.push(`${t}documento/`),A.push("/api/gerar-receita/"),(j=>{const N=j.replace(/\/?$/,"/");A.push(`${N}generate/`),A.push(`${N}preview/`)})(t);const h=t.replace(/receitas\/?$/i,"receita/");if(h!==t&&(A.push(`${h}pdf/`),A.push(`${h}gerar/`)),r)try{console.debug("[medicoService.gerarDocumentoReceita] candidatos:",A)}catch{}const m=async j=>{var U,F,L,_,q,R,H;const N=((U=j.headers)==null?void 0:U["content-type"])||((L=(F=j.headers)==null?void 0:F.get)==null?void 0:L.call(F,"content-type"))||"",C=((_=j.headers)==null?void 0:_["content-disposition"])||((R=(q=j.headers)==null?void 0:q.get)==null?void 0:R.call(q,"content-disposition"));let E=`receita.${o}`;if(C){const J=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(C);E=decodeURIComponent((J==null?void 0:J[1])||(J==null?void 0:J[2])||E)}if(N.includes("application/json"))try{const J=await new Response(j.data).text(),T=JSON.parse(J),re=T.file||T.url||T.pdf||T.documento||T.download_url||T.link;if(re){const z=await ye.get(re,{responseType:"blob"}),G=new Blob([z.data],{type:((H=z.headers)==null?void 0:H["content-type"])||(o==="pdf"?"application/pdf":"application/vnd.openxmlformats-officedocument.wordprocessingml.document")});return{filename:E||re.split("/").pop()||`receita.${o}`,blob:G}}}catch{}const Q=new Blob([j.data],{type:N||(o==="pdf"?"application/pdf":"application/octet-stream")});return{filename:E,blob:Q}};let p=null;for(const j of A){if(!j)continue;const N=j.endsWith("/")?j:`${j}/`;try{if(r)try{console.debug("[gerarDocumentoReceita] POST",N)}catch{}const C=await ye.post(N,l,{responseType:"blob"});return await m(C)}catch(C){if(((x=C==null?void 0:C.response)==null?void 0:x.status)===401)throw C;p=C}try{if(r)try{console.debug("[gerarDocumentoReceita] PUT",N)}catch{}const C=await ye.put(N,l,{responseType:"blob"});return await m(C)}catch(C){if(((g=C==null?void 0:C.response)==null?void 0:g.status)===401)throw C;p=C}try{if(r)try{console.debug("[gerarDocumentoReceita] GET",N)}catch{}const C=await ye.get(N,{params:l,responseType:"blob"});return await m(C)}catch(C){if(((w=C==null?void 0:C.response)==null?void 0:w.status)===401)throw C;p=C}}try{const{PDFDocument:j,StandardFonts:N,rgb:C}=await Qs(async()=>{const{PDFDocument:H,StandardFonts:J,rgb:T}=await import("./index-C51k0yU_.js");return{PDFDocument:H,StandardFonts:J,rgb:T}},[]),E=await j.create(),Q=E.addPage([595.28,841.89]),U=await E.embedFont(N.Helvetica),F=(H,J,T,re=12,z=C(0,0,0))=>{Q.drawText(String(H||""),{x:J,y:T,size:re,font:U,color:z})};let L=800;F("Receita Mdica",50,L,16),L-=30,F(`Paciente: ${l.nome_paciente||l.paciente_nome||l.paciente_id||""}`,50,L),L-=18,F(`Idade: ${l.idade||""}`,50,L),L-=18,F(`RG/CPF: ${l.rg||l.cpf||""}`,50,L),L-=18,F(`Nascimento: ${l.data_nascimento||""}`,50,L),L-=24,F("Medicamentos",50,L,14),L-=18,F(String(l.medicamentos||l.medicamento||""),50,L),L-=36,F("Posologia",50,L,14),L-=18,F(String(l.posologia||""),50,L),L-=36,l.observacoes&&(F("Observaes",50,L,14),L-=18,F(String(l.observacoes),50,L),L-=36),F(`Mdico: ${l.medico||""}`,50,L),L-=18,F(`CRM: ${l.crm||""}`,50,L),L-=18,F(`Endereo: ${l.endereco_consultorio||""}`,50,L),L-=18,F(`Telefone: ${l.telefone_consultorio||""}`,50,L),L-=24;const _=await E.save(),q=new Blob([_],{type:"application/pdf"});return{filename:`receita.${o}`,blob:q}}catch{throw p||new Error("Falha ao gerar documento de receita: nenhum endpoint compatvel e fallback local indisponvel.")}},async buscarPacientes(e){return(await ye.get("/api/pacientes/",{params:{search:e}})).data},async atualizarPacienteById(e,r){if(!e)throw new Error("id do paciente  obrigatrio");const t="/api/pacientes/",a=t.endsWith("/")?t:`${t}/`;return(await ye.patch(`${a}${e}/`,r)).data},async _resolveMedicoId(){var e,r,t,a,s,i;try{const o=await this.getPerfil();if((e=o==null?void 0:o.medico)!=null&&e.id)return o.medico.id;if(o!=null&&o.id&&(o.crm||o.matricula||o.especialidade))return o.id;const l=((r=o==null?void 0:o.user)==null?void 0:r.id)||((t=sa.getCurrentUser())==null?void 0:t.id);if(!l)return null;const A="/api/medicos/",d=A.endsWith("/")?A:`${A}/`,f="user,user__id,user_id,usuario,usuario_id".split(",").map(h=>h.trim()).filter(Boolean);for(const h of f)try{const m=await ye.get(d,{params:{[h]:l}}),p=Array.isArray((a=m.data)==null?void 0:a.results)?m.data.results:m.data;if(Array.isArray(p)){const x=p.find(g=>{var w,j;return((w=g==null?void 0:g.user)==null?void 0:w.id)===l||((j=g==null?void 0:g.usuario)==null?void 0:j.id)===l||(g==null?void 0:g.user)===l||(g==null?void 0:g.usuario)===l});if(x!=null&&x.id)return x.id;continue}if(p&&typeof p=="object"){const x=p;if((((s=x==null?void 0:x.user)==null?void 0:s.id)===l||((i=x==null?void 0:x.usuario)==null?void 0:i.id)===l||(x==null?void 0:x.user)===l||(x==null?void 0:x.usuario)===l)&&(x!=null&&x.id))return x.id;continue}}catch{}}catch{}return null},async _ensureConsultaId(e,r=null,t=null){var a,s,i,o;try{if(!e)return null;const l="true".toLowerCase()==="true",A=(()=>{if(t&&/^\d{4}-\d{2}-\d{2}$/.test(String(t)))return t;const f=new Date,h=m=>String(m).padStart(2,"0");return`${f.getFullYear()}-${h(f.getMonth()+1)}-${h(f.getDate())}`})(),d="/api/consultas/".replace(/\/?$/,"/");try{const f={paciente:e,paciente_id:e,date:A,data:A,dia:A,data__date:A},h=r||await this._resolveMedicoId().catch(()=>null);h&&(f.medico=h,f.medico_id=h);const m=await ye.get(d,{params:f}),p=Array.isArray((a=m.data)==null?void 0:a.results)?m.data.results:m.data;if(Array.isArray(p)){const x=p.find(g=>(g==null?void 0:g.id)||(g==null?void 0:g.consulta_id)||(g==null?void 0:g.uuid));if(x){const g=x.id||x.consulta_id||x.uuid;if(l)try{console.debug("[_ensureConsultaId] encontrada consulta existente:",g)}catch{}return g}}}catch(f){if(l)try{console.warn("[_ensureConsultaId] falha ao buscar consulta existente:",(s=f==null?void 0:f.response)==null?void 0:s.status)}catch{}}try{const f=r||await this._resolveMedicoId().catch(()=>null);if(!f){if(l)try{console.warn("[_ensureConsultaId] mdico no resolvido; abortando criao da consulta")}catch{}return null}const h={medico:f,medico_id:f,paciente:e,paciente_id:e,data_hora:`${A}T00:00:00`,tipo:"rotina",motivo:"Emisso de receita automtica"},m=[d];for(const p of m){const x=p.endsWith("/")?p:`${p}/`;try{if(l)try{console.debug("[_ensureConsultaId] criando consulta em:",x,h)}catch{}const{data:g}=await ye.post(x,h),w=(g==null?void 0:g.id)||(g==null?void 0:g.consulta_id)||(g==null?void 0:g.uuid);if(w){if(l)try{console.debug("[_ensureConsultaId] consulta criada:",w)}catch{}return w}}catch(g){const w=(i=g==null?void 0:g.response)==null?void 0:i.status;if(l)try{console.warn("[_ensureConsultaId] falha ao criar em",x,w,((o=g==null?void 0:g.response)==null?void 0:o.data)||(g==null?void 0:g.message))}catch{}if([401,404,405].includes(w))continue}}}catch(f){if(l)try{console.warn("[_ensureConsultaId] erro inesperado na criao:",f==null?void 0:f.message)}catch{}}return null}catch{return null}},async getCertificadoInfo(){var o,l;const e=[],r="".trim();r&&e.push(r);const t="/api/medicos/",a=t.endsWith("/")?t:`${t}/`;e.push(`${a}me/certificado/`),e.push(`${a}certificado/`),e.push("/medico/certificado/"),e.push("/assinatura/certificado/"),e.push("/certificados/"),e.push("/api/medicos/me/certificado/"),e.push("/api/medicos/certificado/"),e.push("/api/certificados/");let s=null;try{s=await this._resolveMedicoId()}catch{}s&&(e.push(`${a}${s}/certificado/`),e.push(`${a}${s}/assinatura/`),e.push(`/api/medicos/${s}/certificado/`),e.push(`/api/medicos/${s}/assinatura/`));let i=null;for(const A of e){if(!A)continue;const d=A.endsWith("/")?A:`${A}/`;try{const{data:f}=await ye.get(d),h=Array.isArray(f==null?void 0:f.results)?(o=f.results)==null?void 0:o[0]:Array.isArray(f)?f[0]:f;return h||f||null}catch(f){const h=(l=f==null?void 0:f.response)==null?void 0:l.status;if(h===404){i=f;continue}if(h===401)throw f;i=f}}if(i)throw i;return null},async uploadCertificado(e){var A;let r;if(e instanceof FormData)r=e;else if(e&&e.name)r=new FormData,r.append("file",e),r.append("certificado",e),r.append("pfx",e);else throw new Error("Parmetro invlido:  esperado FormData ou File.");const t=[],a="/api/medicos/me/certificado/".trim();a&&t.push(a);const s="/api/medicos/",i=s.endsWith("/")?s:`${s}/`;t.push(`${i}me/certificado/`),t.push(`${i}certificado/`),t.push("/medico/certificado/"),t.push("/assinatura/certificado/"),t.push("/certificados/");let o=null;try{o=await this._resolveMedicoId()}catch{}o&&(t.push(`${i}${o}/certificado/`),t.push(`${i}${o}/assinatura/`));let l=null;for(const d of t){if(!d)continue;const f=d.endsWith("/")?d:`${d}/`,h=["post","put","patch"];for(const m of h)try{const{data:p}=await ye[m](f,r);return p}catch(p){const x=(A=p==null?void 0:p.response)==null?void 0:A.status;if(x===404){l=p;break}if(x===405){l=p;continue}if(x===401||x&&[400,422].includes(x))throw p;l=p;break}}throw l||new Error("Falha ao enviar certificado: nenhum endpoint compatvel.")},async enviarReceita({receitaId:e,pacienteId:r,email:t,formato:a="pdf",file:s,filename:i}){var x,g,w,j,N;if(!t&&!r&&!e&&!s)throw new Error("Fornea ao menos email, pacienteId, receitaId ou arquivo para envio.");const o="true".toLowerCase()==="true",l="/api/receitas/".replace(/\/?$/,"/"),A="/api/pacientes/".replace(/\/?$/,"/");if(!e&&r){const C=async U=>{var F;try{const L=await ye.get(l,{params:U}),_=L==null?void 0:L.data,q=Array.isArray(_)?_:Array.isArray(_==null?void 0:_.results)?_.results:[],R=q==null?void 0:q[0],H=(R==null?void 0:R.id)||(R==null?void 0:R.pk)||(R==null?void 0:R.uuid)||((F=R==null?void 0:R.receita)==null?void 0:F.id);if(H)return String(H)}catch{}return null},E=[],Q=["-created_at","-created","-data","-date","-id","-pk"];for(const U of Q)E.push({paciente:r,ordering:U,page_size:1,limit:1}),E.push({paciente_id:r,ordering:U,page_size:1,limit:1});for(const U of E){const F=await C(U);if(F){e=F;break}}o&&e&&console.debug("[medicoService.enviarReceita] receitaId inferido via listagem:",e)}const d=new FormData;if(s){const C=i||s.name||`receita.${a||"pdf"}`;d.append("file",s,C),d.append("pdf",s,C),d.append("documento",s,C)}t&&(d.append("email",t),d.append("to",t),d.append("destinatario",t),d.append("paciente_email",t)),a&&d.append("formato",a),e&&(d.append("id",e),d.append("receita",e),d.append("receita_id",e)),r&&(d.append("paciente",r),d.append("paciente_id",r)),d.append("assinar","true");const f={email:t,to:t,destinatario:t,paciente_email:t,formato:a,id:e,receita:e,receita_id:e,paciente:r,paciente_id:r,assinar:!0},h=[],m="/api/receitas/enviar/".trim();m&&h.push(m),e&&(h.push(`${l}${e}/enviar/`),h.push(`${l}${e}/enviar-email/`),h.push(`${l}${e}/enviar_email/`),h.push(`${l}${e}/email/`),h.push(`${l}${e}/send-email/`),h.push(`${l}${e}/send/`)),h.push(`${l}enviar/`),h.push(`${l}enviar-email/`),h.push(`${l}enviar_email/`),h.push(`${l}email/`),h.push(`${l}send-email/`),h.push(`${l}send/`),h.push("/email/receitas/"),h.push("/receitas/email/"),h.push("/email/send/"),h.push("/send-email/"),r&&(h.push(`${A}${r}/receitas/enviar/`),h.push(`${A}${r}/receitas/email/`),h.push(`${A}${r}/receitas/send/`),e&&(h.push(`${A}${r}/receitas/${e}/enviar/`),h.push(`${A}${r}/receitas/${e}/enviar-email/`),h.push(`${A}${r}/receitas/${e}/enviar_email/`),h.push(`${A}${r}/receitas/${e}/email/`),h.push(`${A}${r}/receitas/${e}/send-email/`),h.push(`${A}${r}/receitas/${e}/send/`)));let p=null;for(const C of h){if(!C)continue;const E=C.endsWith("/")?C:`${C}/`,Q=F=>{o&&console.debug(`[medicoService.enviarReceita] ${F} ->`,E,{receitaId:e,pacienteId:r,email:t,formato:a})};if(/\/(enviar|email|send(-email)?)\/?$/i.test(E)&&!s)try{Q("GET");const F={email:t,formato:a,id:e,receita:e,receita_id:e,paciente:r,paciente_id:r,assinar:!0},{data:L}=await ye.get(E,{params:F});return L}catch(F){if(p=F,((x=F==null?void 0:F.response)==null?void 0:x.status)===401)throw F}try{Q("POST multipart");const{data:F}=await ye.post(E,d);return F}catch(F){const L=(g=F==null?void 0:F.response)==null?void 0:g.status;if(L===401)throw F;L&&[400,422].includes(L),p=F}if(!s)try{Q("POST json");const{data:F}=await ye.post(E,f);return F}catch(F){const L=(w=F==null?void 0:F.response)==null?void 0:w.status;if(L===401)throw F;L&&[400,422].includes(L),p=F}try{Q("PUT multipart");const{data:F}=await ye.put(E,d);return F}catch(F){const L=(j=F==null?void 0:F.response)==null?void 0:j.status;if(L===401)throw F;L&&[400,422].includes(L),p=F}if(!s)try{Q("GET fallback");const F={email:t,formato:a,id:e,receita:e,receita_id:e,paciente:r,paciente_id:r,assinar:!0},{data:L}=await ye.get(E,{params:F});return L}catch(F){if(((N=F==null?void 0:F.response)==null?void 0:N.status)===401)throw F;p=F}}throw p||new Error("Falha ao enviar receita: nenhum endpoint compatvel encontrado.")},async ensureMedicoRecord(e={}){var d;const r=sa.getCurrentUser()||await sa.refreshCurrentUser(),t=r==null?void 0:r.id;if(!t)throw new Error("Usurio no autenticado ou no disponvel.");try{const f=await this._resolveMedicoId();if(f){const h="/api/medicos/",m=h.endsWith("/")?h:`${h}/`;try{return(await ye.get(`${m}${f}/`)).data||{id:f}}catch{return{id:f}}}}catch{}const a="/api/medicos/",s=a.endsWith("/")?a:`${a}/`,i={...e};i.user=i.user||t,i.user_id=i.user_id||t,i.usuario=i.usuario||t,i.usuario_id=i.usuario_id||t;const o=String(i.status||i.situacao||i.state||"pending").toLowerCase();i.status=o,i.situacao=i.situacao||o,i.state=i.state||o;const l=[s,`${s}create/`,"/api/medicos/","/admin/medicos/"];let A=null;for(const f of l){const h=f.endsWith("/")?f:`${f}/`;try{const{data:m}=await ye.post(h,i),p=(m==null?void 0:m.id)||(m==null?void 0:m.pk)||(m==null?void 0:m.uuid);if(p)try{localStorage.setItem("medico_id",String(p))}catch{}try{t&&localStorage.setItem(`medicoApplicationStatus:${t}`,"pending")}catch{}return m}catch(m){const p=(d=m==null?void 0:m.response)==null?void 0:d.status;if(p===401)throw m;if(p===405){A=m;continue}if(A=m,Object.values(e||{}).some(g=>g instanceof File||g instanceof Blob))try{const g=new FormData;for(const[N,C]of Object.entries(i))C!=null&&(g.append(N,C),N==="user"&&(g.append("usuario",C),g.append("user_id",C),g.append("usuario_id",C)),N==="status"&&(g.append("situacao",C),g.append("state",C)));const{data:w}=await ye.post(h,g),j=(w==null?void 0:w.id)||(w==null?void 0:w.pk)||(w==null?void 0:w.uuid);if(j)try{localStorage.setItem("medico_id",String(j))}catch{}try{t&&localStorage.setItem(`medicoApplicationStatus:${t}`,"pending")}catch{}return w}catch(g){A=g;continue}}}throw A||new Error("Falha ao criar registro do mdico: nenhum endpoint compatvel.")},async ensurePerfilMedico(e={}){var f,h;try{const m=await this.getPerfil();if(m&&(m.id||m.user||m.medico))return m}catch{}const r=sa.getCurrentUser()||await sa.refreshCurrentUser(),t=r==null?void 0:r.id;if(!t)throw new Error("Usurio no autenticado ou no disponvel.");let a=e.medico_id||e.medico||null;if(!a){try{a=await this._resolveMedicoId()}catch{}if(!a)try{const m=await this.ensureMedicoRecord({});a=(m==null?void 0:m.id)||((f=m==null?void 0:m.medico)==null?void 0:f.id)||null}catch{}}const s={...e};s.user=s.user||t,s.user_id=s.user_id||t,s.usuario=s.usuario||t,s.usuario_id=s.usuario_id||t,a&&(s.medico=s.medico||a,s.medico_id=s.medico_id||a);const i=String(s.status||s.situacao||s.state||"pending").toLowerCase();s.status=i,s.situacao=s.situacao||i,s.state=s.state||i;const o=["/perfil-medico/","/perfil/medico/","/perfis/medico/","/profiles/medico/","/api/perfil-medico/","/api/perfil/medico/"],l="/api/medicos/",A=l.endsWith("/")?l:`${l}/`;a&&(o.push(`${A}${a}/perfil/`),o.push(`/api/medicos/${a}/perfil/`)),o.push(`${A}me/perfil/`);let d=null;for(const m of o){const p=m.endsWith("/")?m:`${m}/`,x=["post","put","patch"];for(const g of x)try{const{data:w}=await ye[g](p,s);try{t&&localStorage.setItem(`medicoApplicationStatus:${t}`,"pending")}catch{}return w}catch(w){const j=(h=w==null?void 0:w.response)==null?void 0:h.status;if(j===401)throw w;if(j===405){d=w;continue}if(j===404){d=w;break}d=w;break}}throw d||new Error("Falha ao criar perfil do mdico: nenhum endpoint compatvel.")},async ensureMedicoAndPerfil(e={},r={}){var l;const t=sa.getCurrentUser()||await sa.refreshCurrentUser(),a=t==null?void 0:t.id,s=await this.ensureMedicoRecord(e),i=(s==null?void 0:s.id)||((l=s==null?void 0:s.medico)==null?void 0:l.id)||null,o=await this.ensurePerfilMedico({...r,medico_id:r.medico_id||i});try{a&&localStorage.setItem(`medicoApplicationStatus:${a}`,"pending")}catch{}return{medico:s,perfil:o}},async updatePerfilMedico(e={}){var h,m;const r={...e},t=e.telefone||e.celular||e.phone||((h=e.contato)==null?void 0:h.telefone);t!=null&&(r.telefone=t,r.celular||(r.celular=t),r.phone||(r.phone=t),r.contato={...r.contato||{},telefone:t});let a=e.endereco||e.address||e.local;a&&typeof a=="object"&&(a=`${a.logradouro||a.rua||""} ${a.numero||""} ${a.bairro||""} ${a.cidade||""} ${a.estado||""}`.trim()),a!=null&&(r.endereco=a,r.address||(r.address=a),r.local||(r.local=a));const s=e.especialidade??e.especialidade_id??e.especialidade_nome??e.especialidade_label??e.especialidade_obj;if(s!=null){if(typeof s=="number")r.especialidade_id=s;else if(typeof s=="string")r.especialidade=s,r.especialidade_nome=s,r.especialidade_label=s;else if(typeof s=="object"){const p=s.nome||s.label||s.titulo,x=s.id;x!=null&&(r.especialidade_id=x),p&&(r.especialidade=p,r.especialidade_nome=p,r.especialidade_label=p)}}let i=null;try{i=await this._resolveMedicoId()}catch{}const o="/api/medicos/",l=o.endsWith("/")?o:`${o}/`,A=[],d="".trim();d&&A.push(d),A.push(`${l}me/`),i&&A.push(`${l}${i}/`),i&&A.push(`${l}${i}/perfil/`),A.push(`${l}me/perfil/`),A.push("/perfil-medico/"),A.push("/perfil/medico/"),A.push("/perfis/medico/"),A.push("/profiles/medico/"),A.push("/api/perfil-medico/"),A.push("/api/perfil/medico/");let f=null;for(const p of A){if(!p)continue;const x=p.endsWith("/")?p:`${p}/`,g=["patch","put","post"];for(const w of g)try{const{data:j}=await ye[w](x,r);return j}catch(j){const N=(m=j==null?void 0:j.response)==null?void 0:m.status;if(N===401)throw j;if(N===404){f=j;break}if(N===405){f=j;continue}if(N&&[400,422].includes(N))throw j;f=j;break}}throw f||new Error("Falha ao atualizar dados do mdico: nenhum endpoint compatvel.")},async _applySignatureStampToPdf(e,r={}){var t,a,s;try{const i=String(r.signerName||"Mdico(a)").trim(),o=String(r.dateString||(()=>{const J=new Date,T=re=>String(re).padStart(2,"0");return`${J.getFullYear()}.${T(J.getMonth()+1)}.${T(J.getDate())} ${T(J.getHours())}:${T(J.getMinutes())}:${T(J.getSeconds())}`})()),l=r.receitaId||null,A=r.verifyUrl||this.buildVerifyUrl(l),d=r.certInfo||null,{PDFDocument:f,StandardFonts:h,rgb:m}=await Qs(async()=>{const{PDFDocument:J,StandardFonts:T,rgb:re}=await import("./index-C51k0yU_.js");return{PDFDocument:J,StandardFonts:T,rgb:re}},[]),p=await Qs(()=>import("./browser-BdhmMktO.js").then(J=>J.b),[]),x=e instanceof Blob?e:new Blob([await((t=e.arrayBuffer)==null?void 0:t.call(e))]),g=new Uint8Array(await x.arrayBuffer()),w=await f.load(g),j=w.getPages(),N=j[j.length-1],C=await w.embedFont(h.Helvetica),E=await w.embedFont(h.HelveticaBold);let Q;try{const T=(await p.default.toDataURL(String(A||""),{errorCorrectionLevel:"H",margin:1,width:256,color:{dark:"#000000",light:"#FFFFFF"}})||"").split(",")[1]||"",re=Uint8Array.from(atob(T),z=>z.charCodeAt(0));Q=await w.embedPng(re)}catch{}const{width:U,height:F}=N.getSize(),L={x:80,y:80,w:200,h:80},_={x:U-150,y:80,w:80,h:80};N.drawRectangle({x:L.x,y:L.y,width:L.w,height:L.h,color:m(.98,.98,1),borderColor:m(.2,.2,.8),borderWidth:1}),N.drawText("ASSINATURA DIGITAL",{x:L.x+10,y:L.y+L.h-15,size:10,font:E,color:m(.2,.2,.8)});const q=((a=d==null?void 0:d.subject)==null?void 0:a.commonName)||i;N.drawText(`${q}`,{x:L.x+10,y:L.y+L.h-30,size:9,font:C,color:m(0,0,0)});let R=L.h-45;d!=null&&d.subject&&(d.subject.organizationName&&(N.drawText(`${d.subject.organizationName}`,{x:L.x+10,y:L.y+R,size:7,font:C,color:m(.3,.3,.3)}),R-=10),d.subject.emailAddress&&(N.drawText(`${d.subject.emailAddress}`,{x:L.x+10,y:L.y+R,size:7,font:C,color:m(.3,.3,.3)}),R-=10)),N.drawText(`${o}`,{x:L.x+10,y:L.y+R,size:8,font:C,color:m(0,0,0)}),N.drawText("Escaneie para verificar",{x:_.x,y:_.y-15,size:8,font:C,color:m(.5,.5,.5)}),Q&&N.drawImage(Q,{x:_.x,y:_.y,width:_.w,height:_.h});const H=await w.save();return new Blob([H],{type:"application/pdf"})}catch(i){try{console.warn("[medicoService] selo visual falhou:",(i==null?void 0:i.message)||i)}catch{}return e instanceof Blob?e:new Blob([await((s=e.arrayBuffer)==null?void 0:s.call(e))])}},buildVerifyUrl(e){var r;try{const t="http://127.0.0.1:8000/verificar/".trim();if(t){const s=t.replace(/\/?$/,"/");return e?`${s}${e}`:s}const a="http://127.0.0.1:8000".replace(/\/$/,"");return e?`${a}/receitas/${e}/verificar/`:a||((r=window==null?void 0:window.location)==null?void 0:r.origin)||""}catch{return""}},async applySignatureStamp(e,r={}){return await this._applySignatureStampToPdf(e,r)},async signDocumento(e,r={}){var q,R,H,J,T,re,z,G,V,ee;let t;if(e instanceof FormData)t=e;else if(e&&e.name)t=new FormData,t.append("file",e),t.append("documento",e),t.append("pdf",e),t.append("arquivo",e);else throw new Error("Parmetro invlido:  esperado FormData ou File PDF.");try{if((r==null?void 0:r.visibleStamp)!==!1){let k=t.get("file")||t.get("pdf")||t.get("documento");if(!k&&e&&e.name&&(k=e),k){const D=(r==null?void 0:r.receitaId)||(r==null?void 0:r.id)||(r==null?void 0:r.receita)||null;let K=r==null?void 0:r.signerName;if(!K){const X=await this.getCertificadoInfo().catch(()=>null);K=(X==null?void 0:X.subject_name)||(X==null?void 0:X.subject)||(X==null?void 0:X.nome)||(r==null?void 0:r.medicoNome)||"Mdico(a)"}const te=await this._applySignatureStampToPdf(k,{signerName:K,dateString:new Date().toLocaleString(),receitaId:D}),Y=new File([te],k.name||"documento.pdf",{type:"application/pdf"});["file","pdf","documento","arquivo"].forEach(X=>{t.has(X)&&t.set(X,Y)})}}}catch{}const a=r.reason||r.motivo,s=r.location||r.local;a&&(t.append("reason",a),t.append("motivo",a)),s&&(t.append("location",s),t.append("local",s));try{t.append("formato","pdf"),t.append("format","pdf"),t.append("tipo","PADES"),t.append("assinar","true")}catch{}const i=ce=>{const k=t instanceof FormData?t.get(ce):null;return typeof k=="string"?k==="true"||k==="1"||k.toLowerCase()==="yes":!!k},o=!!(r.useToken||r.use_token||r.token||r.pkcs11||r.hardware||r.smartcard||i("useToken")||i("use_token")||i("token")||i("pkcs11")||i("hardware")||i("smartcard"));let l=null,A=null;t instanceof FormData&&(l=t.get("pfx")||t.get("certificado")||t.get("pkcs12"),A=t.get("pfx_password")||t.get("senha")||t.get("password"));const d=r&&r.pfxFile instanceof File?r.pfxFile:l,f=(typeof(r==null?void 0:r.pfxPassword)=="string"?r.pfxPassword.trim():"")||(typeof A=="string"?A:""),h=(r.pin||r.tokenPin||r.pin_code||(t instanceof FormData?t.get("pin")||t.get("token_pin")||t.get("pin_code"):"")||"").toString().trim();if(o)t.append("use_token","true"),t.append("pkcs11","true"),t.append("hardware","true"),h&&(t.append("pin",h),t.append("token_pin",h),t.append("pin_code",h)),r.subject&&t.append("subject",r.subject),r.serial&&t.append("serial",r.serial),r.slot&&t.append("slot",String(r.slot)),r.keyId&&t.append("key_id",r.keyId);else{if(!(d instanceof File))throw new Error("Certificado digital (.pfx/.p12)  obrigatrio para assinatura.");if(!f)throw new Error("Senha do certificado PFX/P12  obrigatria para assinatura.");t.append("pfx",d),t.append("certificado",d),t.append("pkcs12",d),t.append("arquivo_pfx",d),t.append("pfx_password",f),t.append("senha",f),t.append("password",f),t.append("senha_certificado",f),t.append("no_persist","true"),t.append("ephemeral","true")}const m=(r==null?void 0:r.receitaId)||(r==null?void 0:r.receita_id)||(r==null?void 0:r.id);m&&(t.append("receita",m),t.append("receita_id",m),t.append("id",m),t.append("id_receita",m));const p="true".toLowerCase()==="true",x=[],g="/api/assinatura/assinar/".trim();g&&x.push(g);const w="/api/medicos/",j=w.endsWith("/")?w:`${w}/`;x.push("/api/assinatura/assinar/"),x.push("/assinatura/assinar/"),x.push("/api/assinar-receita/"),x.push("/assinar-receita/"),x.push("/documentos/assinar/"),x.push("/receitas/assinar/"),x.push(`${j}me/assinar/`),x.push(`${j}assinar/`);let N=null;try{N=await this._resolveMedicoId()}catch{}N&&(x.push(`${j}${N}/assinar/`),x.push(`${j}${N}/assinatura/`));const C=async ce=>{try{const k=await ce.arrayBuffer(),D=new Uint8Array(k);let K="";for(let te=0;te<D.length;te++)K+=String.fromCharCode(D[te]);return btoa(K)}catch{return null}},E=t.get("file")||t.get("pdf")||t.get("documento"),Q=t.get("pfx")||t.get("certificado")||t.get("pkcs12"),U=E?await C(E):null,F=Q?await C(Q):null,L={formato:"pdf",id:m,receita:m,receita_id:m,file_base64:U,pdf_base64:U,documento_base64:U,arquivo_base64:U,pfx_base64:F,certificado_base64:F,pkcs12_base64:F,password:f,senha:f,pfx_password:f,reason:a,motivo:a,location:s,local:s,use_token:o?!0:void 0,pkcs11:o?!0:void 0,hardware:o?!0:void 0,pin:h,token_pin:h||void 0,pin_code:h||void 0,tipo_assinatura:"pades",algoritmo:"sha256"};let _=null;for(const ce of x){if(!ce)continue;const k=ce.endsWith("/")?ce:`${ce}/`,D=["post","put"];for(const K of D)try{p&&console.debug(`[signDocumento] ${K.toUpperCase()} multipart ->`,k);const te=await ye[K](k,t,{responseType:"blob"}),Y=((q=te.headers)==null?void 0:q["content-disposition"])||((H=(R=te.headers)==null?void 0:R.get)==null?void 0:H.call(R,"content-disposition"));let X="documento_assinado.pdf";if(Y){const Z=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(Y);try{X=decodeURIComponent((Z==null?void 0:Z[1])||(Z==null?void 0:Z[2])||X)}catch{X=(Z==null?void 0:Z[1])||(Z==null?void 0:Z[2])||X}}const O=new Blob([te.data],{type:((J=te.headers)==null?void 0:J["content-type"])||"application/pdf"});return{filename:X,blob:O}}catch(te){const Y=(T=te==null?void 0:te.response)==null?void 0:T.status;if(Y===404){_=te;break}if(Y===405){_=te;continue}if(Y===401)throw te;try{p&&console.debug(`[signDocumento] ${K.toUpperCase()} json ->`,k);const X=await ye[K](k,L,{responseType:"json"}),O=((re=X.headers)==null?void 0:re["content-type"])||"";if(/application\/pdf/i.test(O)){const xe=((z=X.headers)==null?void 0:z["content-disposition"])||((V=(G=X.headers)==null?void 0:G.get)==null?void 0:V.call(G,"content-disposition"));let _e="documento_assinado.pdf";if(xe){const he=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(xe);try{_e=decodeURIComponent((he==null?void 0:he[1])||(he==null?void 0:he[2])||_e)}catch{_e=(he==null?void 0:he[1])||(he==null?void 0:he[2])||_e}}const Fe=new Blob([X.data],{type:"application/pdf"});return{filename:_e,blob:Fe}}const Z=X.data||{},oe=(Z==null?void 0:Z.pdf_base64)||(Z==null?void 0:Z.documento_base64)||(Z==null?void 0:Z.file_base64)||(Z==null?void 0:Z.arquivo_base64)||null;if(oe){const xe=atob(String(oe)),_e=new Array(xe.length);for(let ct=0;ct<xe.length;ct++)_e[ct]=xe.charCodeAt(ct);const Fe=new Uint8Array(_e),he=new Blob([Fe],{type:"application/pdf"});return{filename:(Z==null?void 0:Z.filename)||(Z==null?void 0:Z.nome_arquivo)||"documento_assinado.pdf",blob:he}}const pe=X==null?void 0:X.status;if(pe&&[400,422].includes(pe)){_=te;continue}}catch(X){const O=(ee=X==null?void 0:X.response)==null?void 0:ee.status;if(O===404){_=X;break}if(O===405){_=X;continue}if(O===401)throw X;if(O&&[400,422].includes(O)){_=X;continue}_=X;break}}}throw _||new Error("Falha ao assinar documento: nenhum endpoint compatvel.")},async atualizarReceita(e,r={}){var A;if(!e)throw new Error("ID da receita  obrigatrio para atualizao.");const t={...r};r.assinada!==void 0&&(t.assinada=!!r.assinada,t.signed=t.signed??t.assinada,t.status=t.assinada?"assinada":t.status||"emitida"),r.hash_alg&&(t.hash_alg=r.hash_alg,t.hash_algorithm=r.hash_algorithm||r.hash_alg,t.algoritmo_hash=r.algoritmo_hash||r.hash_alg),r.hash_pre&&(t.hash_pre=r.hash_pre,t.pre_hash=r.pre_hash||r.hash_pre),r.hash_documento&&(t.hash_documento=r.hash_documento,t.signed_hash=r.signed_hash||r.hash_documento),r.motivo&&(t.motivo=r.motivo),r.observacoes&&(t.observacoes=r.observacoes);const a="/api/receitas/",s=a.endsWith("/")?a:`${a}/`,i=[],o="/api/receitas/".trim();o&&i.push(o.replace(/\/?$/,"/")),i.push(`${s}${e}/`),i.push(`${s}${e}/update/`),i.push(`${s}${e}/editar/`),i.push(`/api/receitas/${e}/`),i.push(`/receitas/${e}/`),i.push(`/api/meu_app_receita/${e}/`),i.push(`/meu_app_receita/${e}/`);let l=null;for(const d of i){if(!d)continue;const f=d.endsWith("/")?d:`${d}/`,h=["patch","put","post"];for(const m of h)try{const{data:p}=await ye[m](f,t);return p}catch(p){const x=(A=p==null?void 0:p.response)==null?void 0:A.status;if(x===401)throw p;if(x===404){l=p;break}if(x===405){l=p;continue}if(x&&[400,422].includes(x))throw p;l=p;break}}throw l||new Error("Falha ao atualizar receita: nenhum endpoint compatvel.")},async registrarAuditoriaAssinatura(e={}){var d;const r=sa.getCurrentUser()||await sa.refreshCurrentUser(),t=r==null?void 0:r.id;let a=null;try{a=await this._resolveMedicoId()}catch{}const s={...e};t&&(s.usuario=s.usuario||t,s.usuario_id=s.usuario_id||t,s.user=s.user||t,s.user_id=s.user_id||t),a&&(s.medico=s.medico||a,s.medico_id=s.medico_id||a),s.tipo=s.tipo||"assinatura_receita",s.event=s.event||s.tipo,s.assinada=s.assinada??!0,s.timestamp=s.timestamp||new Date().toISOString();const i="/api/auditoria/assinaturas/",l=[i.endsWith("/")?i:`${i}/`,"/api/auditoria/assinaturas/","/logs/assinatura/","/auditoria/receitas/","/audit/assinaturas/"];let A=null;for(const f of l){const h=f.endsWith("/")?f:`${f}/`;try{const{data:m}=await ye.post(h,s);return m}catch(m){const p=(d=m==null?void 0:m.response)==null?void 0:d.status;if(p===401)throw m;if(p===404||p===405){A=m;continue}if(p&&[400,422].includes(p))throw m;A=m}}throw A||new Error("Falha ao registrar auditoria de assinatura: nenhum endpoint compatvel.")},async finalizarAssinaturaExterna({receitaId:e,pdfFile:r,assinatura:t,certificado:a}){var d;const s=new FormData;s.append("file",r),s.append("assinatura_externa",t),s.append("certificado_externo",a),s.append("receita_id",e);const i=await ye.post("/api/assinatura/finalizar-externa/",s,{responseType:"blob"}),o=((d=i.headers)==null?void 0:d["content-disposition"])||"";let l="receita_assinada.pdf";if(o){const f=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(o);try{l=decodeURIComponent((f==null?void 0:f[1])||(f==null?void 0:f[2])||l)}catch{}}const A=new Blob([i.data],{type:"application/pdf"});return{filename:l,blob:A}},async salvarTemplateConfig(e={},r=null){var t,a,s;try{let i=null;try{i=await this._resolveMedicoId()}catch{}const o=new FormData;if(o.append("config",JSON.stringify(e)),i&&(o.append("medico",i),o.append("medico_id",i)),r)if(typeof r=="string"&&r.startsWith("data:")){o.append("logo_base64",r);try{const p=r.indexOf(","),x=r.substring(5,r.indexOf(";"))||"image/png",g=p>=0?r.substring(p+1):"",w=atob(g),j=new Uint8Array(w.length);for(let E=0;E<w.length;E++)j[E]=w.charCodeAt(E);const N=new Blob([j],{type:x}),C=new File([N],"logo.png",{type:x});o.append("logo",C),o.append("arquivo",C),o.append("imagem",C)}catch{}}else r&&r.name&&(o.append("logo",r),o.append("arquivo",r),o.append("imagem",r));const l={config:e,medico:i||void 0,medico_id:i||void 0,logo_base64:typeof r=="string"?r:void 0},A=[],d="".trim();d&&A.push(d);const f="/api/medicos/",h=f.endsWith("/")?f:`${f}/`;i&&(A.push(`${h}${i}/template/`),A.push(`${h}${i}/pdf-template/`),A.push(`${h}${i}/pdf_template/`)),A.push(`${h}me/template/`),A.push(`${h}me/pdf-template/`),A.push("/pdf-template-config/"),A.push("/templates/pdf-config/"),A.push("/templates/pdf/medico/");let m=null;for(const p of A){const x=p.endsWith("/")?p:`${p}/`;try{const g=await ye.post(x,o);if(g!=null&&g.status&&g.status>=200&&g.status<300)return!0}catch(g){if(((t=g==null?void 0:g.response)==null?void 0:t.status)===401)throw g;m=g}try{const g=await ye.patch(x,o);if(g!=null&&g.status&&g.status>=200&&g.status<300)return!0}catch(g){if(((a=g==null?void 0:g.response)==null?void 0:a.status)===401)throw g;m=g}try{const g=await ye.post(x,l);if(g!=null&&g.status&&g.status>=200&&g.status<300)return!0}catch(g){if(((s=g==null?void 0:g.response)==null?void 0:s.status)===401)throw g;m=g}}return!1}catch{return!1}},async assinarDocumento(e={}){const{pdfFile:r,certificado:t,senha:a,motivo:s,receita_id:i,modo_assinatura:o,...l}=e;let A=r;if(t&&a){const f=new FormData;f.append("file",r),f.append("pfx",t),f.append("senha",a),s&&f.append("motivo",s),i&&f.append("receita_id",i),A=f}const d={motivo:s||"Receita Mdica",receitaId:i,pfxFile:t,pfxPassword:a,useToken:o==="token",...l};return await this.signDocumento(A,d)},async assinarReceita({receitaId:e,pdfFile:r,dadosReceita:t={},certificado:a,senha:s,modo_assinatura:i="pfx",motivo:o="Receita Mdica",location:l}={}){var U,F,L,_,q;if(!e)throw new Error("receitaId  obrigatrio para assinar a receita.");if(!r)throw new Error("Arquivo PDF (pdfFile)  obrigatrio para assinatura.");const A="true".toLowerCase()==="true",d=r instanceof File?r:new File([r],"receita.pdf",{type:"application/pdf"}),f=new FormData;f.append("file",d),f.append("pdf",d),f.append("documento",d),f.append("receita",e),f.append("receita_id",e),f.append("id",e),f.append("assinar","true"),o&&f.append("motivo",o),l&&f.append("local",l);const h={...t},m=(h.formato||"pdf").toLowerCase();if(f.append("formato",m),["paciente_id","paciente","consulta_id","consulta","observacoes","validade_receita","validade"].forEach(R=>{const H=h[R];H!=null&&String(H).length&&f.append(R,H)}),Array.isArray(h.itens)){try{f.append("itens_json",JSON.stringify(h.itens))}catch{}try{f.append("itens",JSON.stringify(h.itens))}catch{}}const p=i==="token";if(p){if(f.append("use_token","true"),f.append("pkcs11","true"),f.append("hardware","true"),t!=null&&t.pin){const R=String(t.pin);f.append("pin",R),f.append("token_pin",R),f.append("pin_code",R)}}else{if(!(a instanceof File))throw new Error("Certificado (.pfx/.p12)  obrigatrio no modo PFX.");if(!s||!String(s).trim())throw new Error("Senha do certificado PFX/P12  obrigatria.");f.append("pfx",a),f.append("certificado",a),f.append("pkcs12",a),f.append("pfx_password",String(s)),f.append("senha",String(s)),f.append("password",String(s)),f.append("senha_certificado",String(s))}const x=[],g="".trim();g&&x.push(g),x.push("/receitas/assinar/"),x.push("/api/receitas/assinar/");let w=null;for(const R of x){const H=R.endsWith("/")?R:`${R}/`;try{if(A)try{console.debug("[assinarReceita] POST ->",H,{receitaId:e})}catch{}const J=await ye.post(H,f,{responseType:"blob"}),T=((U=J.headers)==null?void 0:U["content-disposition"])||((L=(F=J.headers)==null?void 0:F.get)==null?void 0:L.call(F,"content-disposition"));let re="receita_assinada.pdf";if(T){const ee=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(T);try{re=decodeURIComponent((ee==null?void 0:ee[1])||(ee==null?void 0:ee[2])||re)}catch{re=(ee==null?void 0:ee[1])||(ee==null?void 0:ee[2])||re}}const z=new Blob([J.data],{type:((_=J.headers)==null?void 0:_["content-type"])||"application/pdf"}),G=await this.computeSHA256Hex(z);await this.salvarArquivoAssinado(e,z,re);const V=new Date().toISOString();return await this.atualizarReceita(e,{assinada:!0,assinada_em:V,carimbo_tempo:V,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:G,motivo:o}),{receitaId:e,filename:re,blob:z}}catch(J){const T=(q=J==null?void 0:J.response)==null?void 0:q.status;if(T===401)throw J;if(T===404||T===405){w=J;continue}try{const re=await ye.post(H,f),z=(re==null?void 0:re.data)||{},G=(z==null?void 0:z.pdf_base64)||(z==null?void 0:z.documento_base64)||(z==null?void 0:z.file_base64)||(z==null?void 0:z.arquivo_base64)||null;if(G){const V=atob(String(G)),ee=new Array(V.length);for(let Y=0;Y<V.length;Y++)ee[Y]=V.charCodeAt(Y);const ce=new Uint8Array(ee),k=new Blob([ce],{type:"application/pdf"}),D=(z==null?void 0:z.filename)||(z==null?void 0:z.nome_arquivo)||"receita_assinada.pdf",K=await this.computeSHA256Hex(k);await this.salvarArquivoAssinado(e,k,D);const te=new Date().toISOString();return await this.atualizarReceita(e,{assinada:!0,assinada_em:te,carimbo_tempo:te,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:K,motivo:o}),{receitaId:e,filename:D,blob:k}}w=J}catch(re){w=re}}}const j=await this.signDocumento(f,{receitaId:e,motivo:o,useToken:p,pfxFile:a,pfxPassword:s}),N=j==null?void 0:j.blob,C=(j==null?void 0:j.filename)||"receita_assinada.pdf";if(!N)throw w||new Error("Falha ao assinar receita: nenhum endpoint compatvel.");const E=await this.computeSHA256Hex(N);await this.salvarArquivoAssinado(e,N,C);const Q=new Date().toISOString();return await this.atualizarReceita(e,{assinada:!0,assinada_em:Q,carimbo_tempo:Q,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:E,motivo:o}),{receitaId:e,filename:C,blob:N}},async assinarReceitaEPersistir({dadosReceita:e={},itens:r=[],pdfFile:t,motivo:a="Receita Mdica",certificado:s,senha:i,modo_assinatura:o="pfx"}={}){var T,re,z,G,V,ee,ce,k,D,K;const l="true".toLowerCase()==="true",A="/api/receitas/",d=A.endsWith("/")?A:`${A}/`,f=[],h="".trim();h&&f.push(h),f.push(`${d}assinar/`),f.push("/receitas/assinar/"),f.push("/api/receitas/assinar/"),f.push("/assinar-receita/"),f.push("/documentos/assinar/");const m=t instanceof File?t:t?new File([t],"receita.pdf",{type:"application/pdf"}):null,p=new FormData;m&&(p.append("file",m),p.append("pdf",m),p.append("documento",m)),p.append("motivo",a||"Receita Mdica"),p.append("modo_assinatura",o),s&&p.append("pfx",s),i&&p.append("senha",i);try{p.append("dados_receita",JSON.stringify(e||{}))}catch{}try{p.append("itens",JSON.stringify(r||[]))}catch{}const x=async te=>{const Y=await te.arrayBuffer(),X=new Uint8Array(Y);let O="";for(let Z=0;Z<X.length;Z++)O+=String.fromCharCode(X[Z]);return btoa(O)},g=m?await x(m):null,w=s?await x(s):null,j={motivo:a||"Receita Mdica",modo_assinatura:o,dados_receita:e||{},itens:r||[],pdf_base64:g||void 0,pfx_base64:w||void 0,senha:i||void 0,formato:"pdf"},N=(te,Y="application/pdf")=>{const X=atob(te),O=new Array(X.length);for(let oe=0;oe<X.length;oe++)O[oe]=X.charCodeAt(oe);const Z=new Uint8Array(O);return new Blob([Z],{type:Y})};let C=null;for(const te of f){if(!te)continue;const Y=te.endsWith("/")?te:`${te}/`;try{if(l)try{console.debug("[assinarReceitaEPersistir] POST multipart ->",Y)}catch{}const X=await ye.post(Y,p,{responseType:"blob"}),O=((T=X.headers)==null?void 0:T["content-type"])||((z=(re=X.headers)==null?void 0:re.get)==null?void 0:z.call(re,"content-type"))||"";let Z="receita_assinada.pdf";const oe=((G=X.headers)==null?void 0:G["content-disposition"])||((ee=(V=X.headers)==null?void 0:V.get)==null?void 0:ee.call(V,"content-disposition"))||"";if(oe){const he=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(oe);try{Z=decodeURIComponent((he==null?void 0:he[1])||(he==null?void 0:he[2])||Z)}catch{}}let pe,xe=null;if(/application\/pdf/i.test(O))pe=new Blob([X.data],{type:O});else{const he=await X.data.text(),Ae=JSON.parse(he),ct=(Ae==null?void 0:Ae.pdf_base64)||(Ae==null?void 0:Ae.file_base64)||(Ae==null?void 0:Ae.documento_base64)||(Ae==null?void 0:Ae.arquivo_base64);if(!ct)throw new Error("Resposta sem PDF base64");pe=N(ct,"application/pdf"),Z=(Ae==null?void 0:Ae.filename)||Z,xe=(Ae==null?void 0:Ae.receita_id)||((ce=Ae==null?void 0:Ae.receita)==null?void 0:ce.id)||(Ae==null?void 0:Ae.id)||null}const _e=await this.computeSHA256Hex(pe),Fe=new Date().toISOString();if(xe)try{await this.atualizarReceita(xe,{assinada:!0,assinada_em:Fe,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:_e,carimbo_tempo:Fe})}catch{}return{receitaId:xe||null,filename:Z,blob:pe}}catch(X){if(((k=X==null?void 0:X.response)==null?void 0:k.status)===401)throw X;C=X;try{if(l)try{console.debug("[assinarReceitaEPersistir] POST json ->",Y)}catch{}const{data:Z}=await ye.post(Y,j),oe=(Z==null?void 0:Z.pdf_base64)||(Z==null?void 0:Z.file_base64)||(Z==null?void 0:Z.documento_base64)||(Z==null?void 0:Z.arquivo_base64);if(!oe)throw new Error("Resposta sem PDF base64");const pe=N(oe,"application/pdf"),xe=(Z==null?void 0:Z.filename)||"receita_assinada.pdf",_e=(Z==null?void 0:Z.receita_id)||((D=Z==null?void 0:Z.receita)==null?void 0:D.id)||(Z==null?void 0:Z.id)||null,Fe=await this.computeSHA256Hex(pe),he=new Date().toISOString();if(_e)try{await this.atualizarReceita(_e,{assinada:!0,assinada_em:he,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:Fe,carimbo_tempo:he})}catch{}return{receitaId:_e||null,filename:xe,blob:pe}}catch(Z){C=Z}}}const E=await this.criarReceita(e),Q=(E==null?void 0:E.id)||(E==null?void 0:E.pk)||(E==null?void 0:E.uuid)||((K=E==null?void 0:E.receita)==null?void 0:K.id);if(!Q)throw C||new Error("No foi possvel obter ID da receita aps criao.");if(l)try{console.debug("[assinarReceitaEPersistir] receita criada:",Q,E)}catch{}try{await this.salvarItensReceita(Q,r)}catch{}let U=t;if(!U){const{blob:te,filename:Y}=await this.gerarDocumentoReceitaLocal({...e,receita_id:Q,formato:"pdf"});U=new File([te],Y||"receita.pdf",{type:"application/pdf"})}const F=new FormData;F.append("file",U),F.append("pdf",U),F.append("documento",U),F.append("receita_id",Q),s&&F.append("pfx",s),i&&F.append("senha",i);const L=await this.signDocumento(F,{receitaId:Q,motivo:a,useToken:o==="token",pfxFile:s,pfxPassword:i}),_=L==null?void 0:L.blob,q=(L==null?void 0:L.filename)||"receita_assinada.pdf";if(!_)throw C||new Error("Falha ao assinar a receita: blob vazio.");const R=await this.computeSHA256Hex(_);await this.salvarArquivoAssinado(Q,_,q);let H=null;try{H=await this._resolveMedicoId()}catch{}const J=new Date().toISOString();return await this.atualizarReceita(Q,{assinada:!0,assinada_em:J,assinada_por_id:H,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:R,carimbo_tempo:J,observacoes:(e==null?void 0:e.observacoes)||""}),{receitaId:Q,filename:q,blob:_}}};function qY(){const{data:e,loading:r}=NF(()=>nr.getDashboard());if(r)return n.jsx("div",{className:"min-h-screen bg-medical-gradient p-6",children:n.jsx("div",{className:"space-y-8 animate-fade-in",children:n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((i,o)=>n.jsxs(ke,{variant:"medical",className:"animate-pulse",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx("div",{className:"h-4 w-20 bg-medical-primary/20 rounded"}),n.jsx("div",{className:"h-4 w-4 bg-medical-primary/20 rounded"})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"h-8 w-16 bg-medical-primary/20 rounded mb-2"}),n.jsx("div",{className:"h-3 w-24 bg-medical-primary/20 rounded"})]})]},o))})})});const t=e||{consultas_hoje:5,pacientes_ativos:127,prontuarios:89,exames_pendentes:9,variacao_consultas:2,novos_pacientes_semana:5,proximas_consultas:[],pacientes_recentes:[]},a=i=>{try{const o=new Date(i);if(!isNaN(o.getTime()))return o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof i=="string"&&/^\d{2}:\d{2}/.test(i))return i.slice(0,5)}catch{}return"-"},s=Array.isArray(t.proximas_consultas)?t.proximas_consultas:[];return n.jsxs("div",{className:"min-h-screen bg-medical-gradient p-6 space-y-8 animate-fade-in",children:[n.jsx(ke,{variant:"medical",className:"overflow-hidden",children:n.jsxs("div",{className:"bg-gradient-to-r from-medical-primary via-medical-secondary to-medical-accent p-8 text-white relative",children:[n.jsx("div",{className:"absolute inset-0 bg-black/5"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("div",{className:"p-4 bg-white/15 rounded-2xl backdrop-blur-sm border border-white/20",children:n.jsx(qr,{className:"h-10 w-10"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Dashboard Mdico"}),n.jsx("p",{className:"text-white/90 text-lg",children:"Gesto clnica profissional e cuidado centrado no paciente"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(pr,{className:"h-5 w-5 text-blue-200"}),n.jsx("span",{className:"text-sm font-medium text-white/90",children:"Consultas Hoje"})]}),n.jsx("div",{className:"text-3xl font-bold",children:t.consultas_hoje}),n.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Agendamentos confirmados"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(Yn,{className:"h-5 w-5 text-green-200"}),n.jsx("span",{className:"text-sm font-medium text-white/90",children:"Pacientes Ativos"})]}),n.jsx("div",{className:"text-3xl font-bold text-green-200",children:t.pacientes_ativos}),n.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Em acompanhamento"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(sn,{className:"h-5 w-5 text-purple-200"}),n.jsx("span",{className:"text-sm font-medium text-white/90",children:"Pronturios"})]}),n.jsx("div",{className:"text-3xl font-bold text-purple-200",children:t.prontuarios}),n.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Registros mdicos"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(Bi,{className:"h-5 w-5 text-amber-200"}),n.jsx("span",{className:"text-sm font-medium text-white/90",children:"Exames Pendentes"})]}),n.jsx("div",{className:"text-3xl font-bold text-amber-200",children:t.exames_pendentes}),n.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Aguardando anlise"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs(we,{variant:"btn-medical-secondary",size:"lg",className:"bg-white/20 hover:bg-white/30 text-white border-white/30 backdrop-blur-sm",children:[n.jsx(mu,{className:"h-5 w-5 mr-2"}),"Nova Consulta"]}),n.jsxs(we,{variant:"outline",size:"lg",className:"bg-white text-medical-primary hover:bg-gray-50",children:[n.jsx(V0,{className:"h-5 w-5 mr-2"}),"Ver Agenda Completa"]}),n.jsxs(we,{variant:"btn-medical-ghost",size:"lg",className:"bg-white/10 hover:bg-white/20 text-white border-white/30 backdrop-blur-sm",children:[n.jsx(lm,{className:"h-5 w-5 mr-2"}),"Relatrios Clnicos"]})]})]})]})}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(ke,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-medical-primary",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[n.jsx(Ye,{className:"text-sm font-semibold text-medical-primary group-hover:text-medical-secondary transition-colors",children:"Consultas Hoje"}),n.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl group-hover:bg-medical-primary/20 transition-colors",children:n.jsx(pr,{className:"h-5 w-5 text-medical-primary"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-medical-primary mb-2",children:t.consultas_hoje}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(lr,{variant:"success",size:"sm",children:[n.jsx(Em,{className:"h-3 w-3 mr-1"}),"+",t.variacao_consultas]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"desde ontem"})]})]})]}),n.jsxs(ke,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-medical-secondary",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[n.jsx(Ye,{className:"text-sm font-semibold text-medical-secondary group-hover:text-medical-primary transition-colors",children:"Pacientes Ativos"}),n.jsx("div",{className:"p-3 bg-medical-secondary/10 rounded-xl group-hover:bg-medical-secondary/20 transition-colors",children:n.jsx(Yn,{className:"h-5 w-5 text-medical-secondary"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-medical-secondary mb-2",children:t.pacientes_ativos}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(lr,{variant:"info",size:"sm",children:[n.jsx(cy,{className:"h-3 w-3 mr-1"}),"+",t.novos_pacientes_semana]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"esta semana"})]})]})]}),n.jsxs(ke,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-medical-primary",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[n.jsx(Ye,{className:"text-sm font-semibold text-medical-primary group-hover:text-medical-secondary transition-colors",children:"Pronturios Digitais"}),n.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl group-hover:bg-medical-primary/20 transition-colors",children:n.jsx(sn,{className:"h-5 w-5 text-medical-primary"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-medical-primary mb-2",children:t.prontuarios}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(lr,{variant:"medical-secondary",size:"sm",children:[n.jsx(us,{className:"h-3 w-3 mr-1"}),"Atualizados"]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"registros mdicos"})]})]})]}),n.jsxs(ke,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-status-attention",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[n.jsx(Ye,{className:"text-sm font-semibold text-status-attention group-hover:text-status-attention/80 transition-colors",children:"Exames Pendentes"}),n.jsx("div",{className:"p-3 bg-status-attention/10 rounded-xl group-hover:bg-status-attention/20 transition-colors",children:n.jsx(Bi,{className:"h-5 w-5 text-status-attention"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-status-attention mb-2",children:t.exames_pendentes}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(lr,{variant:"warning",size:"sm",children:[n.jsx(eA,{className:"h-3 w-3 mr-1"}),"Urgente"]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"aguardando anlise"})]})]})]})]}),n.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[n.jsxs(ke,{variant:"medical",className:"card-medical",children:[n.jsx(ze,{className:"bg-gradient-to-r from-medical-primary/5 to-medical-secondary/5 border-b border-medical-primary/10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl",children:n.jsx(Tr,{className:"h-6 w-6 text-medical-primary"})}),n.jsxs("div",{children:[n.jsx(Ye,{className:"text-medical-primary text-lg font-semibold",children:"Agenda de Consultas"}),n.jsx(mr,{className:"text-muted-foreground",children:"Prximos atendimentos programados"})]})]}),n.jsx(we,{variant:"btn-medical-ghost",size:"sm",asChild:!0,children:n.jsxs(fr,{to:"/medico/consultas",children:[n.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Ver Agenda Completa",n.jsx(Xg,{className:"h-4 w-4 ml-2"})]})})]})}),n.jsx(Le,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:s.length>0?s.slice(0,5).map((i,o)=>n.jsx("div",{className:"group p-4 rounded-xl border border-medical-primary/10 bg-gradient-to-r from-white to-medical-primary/5 hover:shadow-md hover:border-medical-primary/20 transition-all duration-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl group-hover:bg-medical-primary/20 transition-colors",children:n.jsx(Jg,{className:"h-5 w-5 text-medical-primary"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:i.paciente_nome}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1 text-medical-primary",children:[n.jsx(Tr,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:a(i.data_hora)})]}),n.jsx(FM,{priority:i.prioridade||"normal"}),n.jsx(lr,{variant:"outline",className:"bg-medical-primary/5 text-medical-primary border-medical-primary/20",children:i.tipo||"Consulta Geral"})]})]})]}),n.jsxs(we,{variant:"btn-medical-secondary",size:"sm",children:[n.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Atender"]})]})},o)):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-medical-primary/5 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:n.jsx(pr,{className:"h-10 w-10 text-medical-primary/60"})}),n.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Agenda livre hoje"}),n.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Nenhuma consulta agendada para hoje"}),n.jsxs(we,{variant:"btn-medical-primary",size:"sm",children:[n.jsx(mu,{className:"h-4 w-4 mr-2"}),"Agendar Nova Consulta"]})]})})})]}),n.jsxs(ke,{variant:"medical",className:"card-medical",children:[n.jsx(ze,{className:"bg-gradient-to-r from-medical-secondary/5 to-medical-secondary/10 border-b border-medical-secondary/10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-medical-secondary/10 rounded-xl",children:n.jsx(Yn,{className:"h-6 w-6 text-medical-secondary"})}),n.jsxs("div",{children:[n.jsx(Ye,{className:"text-medical-secondary text-lg font-semibold",children:"Pacientes Recentes"}),n.jsx(mr,{className:"text-medical-secondary/70",children:"ltimas interaes e acompanhamentos"})]})]}),n.jsx(we,{variant:"btn-medical-ghost",size:"sm",asChild:!0,children:n.jsxs(fr,{to:"/medico/meus-pacientes",children:[n.jsx(Yn,{className:"h-4 w-4 mr-2"}),"Ver Todos Pacientes",n.jsx(Xg,{className:"h-4 w-4 ml-2"})]})})]})}),n.jsx(Le,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:t.pacientes_recentes&&t.pacientes_recentes.length>0?t.pacientes_recentes.slice(0,5).map((i,o)=>n.jsx("div",{className:"group p-4 rounded-xl border border-medical-secondary/10 bg-gradient-to-r from-white to-medical-secondary/5 hover:shadow-md hover:border-medical-secondary/20 transition-all duration-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-medical-secondary/10 rounded-xl group-hover:bg-medical-secondary/20 transition-colors",children:n.jsx(Yn,{className:"h-5 w-5 text-medical-secondary"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:i.nome}),n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsxs("span",{className:"text-muted-foreground",children:["ltima consulta: h ",i.dias_ultima_consulta," dias"]}),n.jsx(q_,{status:i.status||"ativo"})]})]})]}),n.jsxs(we,{variant:"btn-medical-secondary",size:"sm",children:[n.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Ver Pronturio"]})]})},o)):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-medical-secondary/5 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:n.jsx(Yn,{className:"h-10 w-10 text-medical-secondary/60"})}),n.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Nenhum paciente recente"}),n.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Pacientes aparecero aqui aps as consultas"}),n.jsxs(we,{variant:"btn-medical-secondary",size:"sm",children:[n.jsx(cy,{className:"h-4 w-4 mr-2"}),"Cadastrar Novo Paciente"]})]})})})]})]})]})}function WY(){const[e,r]=y.useState(!0),[t,a]=y.useState([]),[s,i]=y.useState(""),[o,l]=y.useState("todos");y.useEffect(()=>{let d=!0;return(async()=>{var f;try{const h=await nr.getPerfil(),m=(h==null?void 0:h.id)||((f=h==null?void 0:h.medico)==null?void 0:f.id)||null,p=await nr.getMeusPacientes(m);d&&a(Array.isArray(p)?p:[])}catch{d&&a([])}finally{d&&r(!1)}})(),()=>{d=!1}},[]);const A=t.filter(d=>{var p;const f=(d!=null&&d.user?[d.user.first_name,d.user.last_name].filter(Boolean).join(" ").trim():(d==null?void 0:d.nome)||"").toLowerCase(),h=!s||f.includes(s.toLowerCase()),m=o==="todos"||o===((p=d==null?void 0:d.user)!=null&&p.is_active?"ativo":"inativo");return h&&m});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Meus Pacientes"}),n.jsx("p",{className:"text-muted-foreground",children:"Liste e gerencie seus pacientes ativos"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(js,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(He,{placeholder:"Buscar pacientes...",className:"pl-10",value:s,onChange:d=>i(d.target.value)})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(Wr,{children:[n.jsx(Kr,{className:"w-[180px]",children:n.jsx(Gr,{placeholder:"Filtrar por status"})}),n.jsxs(zr,{children:[n.jsx(at,{value:"todos",children:"Todos"}),n.jsx(at,{value:"ativo",children:"Ativo"}),n.jsx(at,{value:"inativo",children:"Inativo"})]})]}),n.jsxs(we,{children:[n.jsx(js,{className:"mr-2 h-4 w-4"}),"Buscar"]}),n.jsxs(we,{variant:"outline",children:[n.jsx(ou,{className:"mr-2 h-4 w-4"}),"Filtrar"]})]})]}),e?n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((d,f)=>n.jsx(ke,{children:n.jsxs(Le,{className:"p-6 space-y-4",children:[n.jsx("div",{className:"h-6 w-40 bg-muted animate-pulse rounded"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"})]})]})},f))}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:A.map(d=>{var m,p;const f=(d==null?void 0:d.id)||((m=d==null?void 0:d.user)==null?void 0:m.id),h=d!=null&&d.user?[d.user.first_name,d.user.last_name].filter(Boolean).join(" ").trim():(d==null?void 0:d.nome)||`Paciente ${f}`;return n.jsx(ke,{children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-14 w-14 rounded-full bg-muted flex items-center justify-center text-xl font-semibold",children:((p=h==null?void 0:h[0])==null?void 0:p.toUpperCase())||"P"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold",children:h}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",f]})]})]}),n.jsx("div",{className:"mt-4 flex flex-wrap gap-1",children:(d==null?void 0:d.condicoes_cronicas)&&n.jsx(lr,{variant:"outline",className:"bg-primary/5",children:d.condicoes_cronicas})}),n.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[n.jsx(we,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:n.jsxs(fr,{to:`/medico/paciente/${f}/perfil`,children:[n.jsx(Hn,{className:"mr-1 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Perfil"})]})}),n.jsx(we,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:n.jsxs(fr,{to:`/medico/paciente/${f}/prontuario`,children:[n.jsx(sn,{className:"mr-1 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Pronturio"})]})}),n.jsx(we,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:n.jsxs(fr,{to:`/medico/paciente/${f}/iniciar-consulta`,children:[n.jsx(pr,{className:"mr-1 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Consulta"})]})})]})]})},f)})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Mostrando 6 de 24 pacientes"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(we,{variant:"outline",size:"sm",disabled:!0,children:"Anterior"}),n.jsx(we,{variant:"outline",size:"sm",className:"bg-primary/5",children:"1"}),n.jsx(we,{variant:"outline",size:"sm",children:"2"}),n.jsx(we,{variant:"outline",size:"sm",children:"3"}),n.jsx(we,{variant:"outline",size:"sm",children:"4"}),n.jsx(we,{variant:"outline",size:"sm",children:"Prximo"})]})]})]})}function GY(){const[e,r]=y.useState(!0),[t,a]=y.useState(!0),[s,i]=y.useState([]),[o,l]=y.useState([]);y.useEffect(()=>{let h=!0;return(async()=>{var m;try{const p=await nr.getPerfil(),x=(p==null?void 0:p.id)||((m=p==null?void 0:p.medico)==null?void 0:m.id);if(!x){h&&(i([]),l([]));return}try{const g=await nr.getConsultasHoje(x);h&&i(Array.isArray(g)?g:(g==null?void 0:g.results)||[])}finally{h&&r(!1)}try{const g=await nr.getConsultasDoMedico(),w=Array.isArray(g)?g:Array.isArray(g==null?void 0:g.results)?g.results:[];h&&l(w)}finally{h&&a(!1)}}catch{h&&(i([]),l([]),r(!1),a(!1))}})(),()=>{h=!1}},[]);const A=h=>{var p,x;const m=(p=h==null?void 0:h.paciente)==null?void 0:p.user;return m?[m.first_name,m.last_name].filter(Boolean).join(" ").trim():(h==null?void 0:h.paciente_nome)||((x=h==null?void 0:h.paciente)==null?void 0:x.nome)||"Paciente"},d=h=>{try{const m=new Date(h);if(!isNaN(m))return m.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof h=="string"&&/^\d{2}:\d{2}/.test(h))return h.slice(0,5)}catch{}return"--:--"},f=h=>{try{const m=new Date(h);if(!isNaN(m))return m.toLocaleDateString()}catch{}return""};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Minhas Consultas"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie sua agenda de consultas"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(js,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(He,{placeholder:"Buscar consultas...",className:"pl-10 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-400"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(Wr,{children:[n.jsx(Kr,{className:"w-[180px] dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200",children:n.jsx(Gr,{placeholder:"Filtrar por status"})}),n.jsxs(zr,{children:[n.jsx(at,{value:"todos",children:"Todos"}),n.jsx(at,{value:"confirmado",children:"Confirmado"}),n.jsx(at,{value:"pendente",children:"Pendente"}),n.jsx(at,{value:"cancelado",children:"Cancelado"})]})]}),n.jsx(ms,{className:"w-[180px] dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200"}),n.jsxs(we,{children:[n.jsx(pr,{className:"mr-2 h-4 w-4"}),"Nova Consulta"]})]})]}),n.jsxs(Vi,{defaultValue:"hoje",children:[n.jsxs(qi,{children:[n.jsx(Pr,{value:"hoje",children:"Hoje"}),n.jsx(Pr,{value:"amanha",children:"Amanh"}),n.jsx(Pr,{value:"semana",children:"Esta Semana"}),n.jsx(Pr,{value:"todas",children:"Todas"})]}),n.jsx($r,{value:"hoje",children:n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"h-5 w-5"}),"Consultas para hoje, ",new Date().toLocaleDateString()]})}),n.jsx(Le,{children:e?n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((h,m)=>n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-muted animate-pulse"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-4 w-1/3 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-3 w-1/4 bg-muted animate-pulse rounded"})]}),n.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded"})]},m))}):n.jsx("div",{className:"space-y-4",children:s.length===0?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhuma consulta para hoje."}):s.map(h=>{var x,g,w;const m=h.id,p=((x=h==null?void 0:h.paciente)==null?void 0:x.id)||(h==null?void 0:h.paciente_id);return n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((w=(g=A(h))==null?void 0:g[0])==null?void 0:w.toUpperCase())||"P"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:A(h)}),p&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",p]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Tr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[d(h==null?void 0:h.data_hora)," ",f(h==null?void 0:h.data_hora)?`(${f(h==null?void 0:h.data_hora)})`:""]})]})]})}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[p&&n.jsx(we,{variant:"outline",size:"sm",asChild:!0,children:n.jsx(fr,{to:`/medico/paciente/${p}/perfil`,children:"Perfil"})}),p&&n.jsx(we,{size:"sm",asChild:!0,children:n.jsx(fr,{to:`/medico/paciente/${p}/iniciar-consulta`,children:"Atender"})})]})]},m)})})})]})}),n.jsx($r,{value:"amanha",children:n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"h-5 w-5"}),"Consultas para amanh, ",new Date(Date.now()+864e5).toLocaleDateString()]})}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-4",children:[1,2,3].map(h=>n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(70+h),"M"]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:["Paciente ",h+5]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100050+h]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Tr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[`${8+h}:00`," - ",`${9+h}:00`]})]})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:h%2===0?"Primeira consulta":"Retorno"}),h===1?n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:"Aguardando confirmao"}):n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[n.jsx(we,{variant:"outline",size:"sm",asChild:!0,children:n.jsx(fr,{href:`/medico/paciente/${100050+h}/perfil`,children:"Perfil"})}),n.jsx(we,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},h))})})]})}),n.jsx($r,{value:"semana",children:n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"h-5 w-5"}),"Consultas para esta semana"]})}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-6",children:[1,2,3].map(h=>n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:new Date(Date.now()+h*2*864e5).toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})}),n.jsx("div",{className:"space-y-4",children:[1,2].map(m=>n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(64+h+m),"L"]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:["Paciente ",h*10+m]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100100+h*10+m]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Tr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[`${9+m}:00`," - ",`${10+m}:00`]})]})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:m%2===0?"Primeira consulta":"Retorno"}),n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[n.jsx(we,{variant:"outline",size:"sm",asChild:!0,children:n.jsx(fr,{href:`/medico/paciente/${100100+h*10+m}/perfil`,children:"Perfil"})}),n.jsx(we,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},`${h}-${m}`))})]},h))})})]})}),n.jsx($r,{value:"todas",children:n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"h-5 w-5"}),"Todas as Consultas"]})}),n.jsx(Le,{children:t?n.jsx("div",{className:"space-y-4",children:[...Array(4)].map((h,m)=>n.jsx("div",{className:"h-16 w-full bg-muted animate-pulse rounded"},m))}):n.jsx("div",{className:"space-y-4",children:o.map(h=>{var x,g,w;const m=h.id,p=((x=h==null?void 0:h.paciente)==null?void 0:x.id)||(h==null?void 0:h.paciente_id);return n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((w=(g=A(h))==null?void 0:g[0])==null?void 0:w.toUpperCase())||"P"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:A(h)}),p&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",p]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(pr,{className:"h-4 w-4 text-muted-foreground mr-1"}),n.jsx("span",{children:f(h==null?void 0:h.data_hora)})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Tr,{className:"h-4 w-4 text-muted-foreground mr-1"}),n.jsx("span",{children:d(h==null?void 0:h.data_hora)})]})]})]})}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[p&&n.jsx(we,{variant:"outline",size:"sm",asChild:!0,children:n.jsx(fr,{to:`/medico/paciente/${p}/perfil`,children:"Perfil"})}),n.jsx(we,{variant:"ghost",size:"sm",children:"Detalhes"})]})]},m)})})})]})})]})]})}function zm({patientId:e,isPacienteView:r=!0,profile:t,patient:a,loading:s=!1}){var p;const i=x=>x?vI(x.replace(/_/g," ")):"",o=(t==null?void 0:t.nome)&&t.nome.trim()||[t==null?void 0:t.first_name,t==null?void 0:t.last_name].filter(Boolean).join(" ")||i(t==null?void 0:t.username)||"Usurio",l=((p=o==null?void 0:o.trim())==null?void 0:p.split(" ").filter(Boolean).slice(0,2).map(x=>{var g;return(g=x[0])==null?void 0:g.toUpperCase()}).join(""))||"?",A=(t==null?void 0:t.data_nascimento)||(a==null?void 0:a.data_nascimento)||null,d=y9(A),f=(a==null?void 0:a.tipo_sanguineo)||(t==null?void 0:t.tipo_sanguineo)||"",h=(a==null?void 0:a.alergias)??(t==null?void 0:t.alergias),m=Array.isArray(h)?alergiesRaw.length?h.join(", "):"":h||"";return s?n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[n.jsx(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900",children:n.jsx(Le,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Nr,{className:"h-20 w-20 rounded-full"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Nr,{className:"h-6 w-48"}),n.jsx(Nr,{className:"h-4 w-32"})]})]})})}),n.jsx(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20",children:n.jsx(Le,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(Nr,{className:"h-16 w-full"}),n.jsx(Nr,{className:"h-16 w-full"}),n.jsx(Nr,{className:"h-16 w-full"})]})})})]}):n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[n.jsx(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 hover:shadow-xl transition-all duration-300",children:n.jsx(Le,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsxs(Im,{className:"h-20 w-20 ring-4 ring-white/50 shadow-lg",children:[n.jsx(hx,{src:t==null?void 0:t.avatar,alt:o}),n.jsx(Pm,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white text-2xl font-bold",children:l})]}),n.jsx("div",{className:"absolute -bottom-1 -right-1 bg-green-500 rounded-full p-1.5 shadow-lg",children:n.jsx(Hn,{className:"h-3 w-3 text-white"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-1",children:o}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(lr,{variant:r?"default":"secondary",className:"text-xs font-medium",children:r?"Paciente":`ID: ${e||(t==null?void 0:t.id)||"-"}`})})]})]})})}),n.jsx(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20 hover:shadow-xl transition-all duration-300",children:n.jsxs(Le,{className:"pt-6",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/50 rounded-full",children:n.jsx(Hn,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})})}),n.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Idade"}),n.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-slate-100",children:d||""})]}),n.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/50 rounded-full",children:n.jsx(G6,{className:"h-4 w-4 text-red-600 dark:text-red-400"})})}),n.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Tipo Sanguneo"}),n.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-slate-100",children:f})]}),n.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/50 rounded-full",children:n.jsx(Jg,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})})}),n.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Alergias"}),n.jsx("p",{className:"text-xs font-bold text-slate-900 dark:text-slate-100 truncate",title:m,children:m})]})]}),!r&&n.jsx("div",{className:"mt-6 pt-4 border-t border-white/20",children:n.jsx(we,{size:"sm",asChild:!0,className:"w-full btn-medical-primary shadow-lg hover:shadow-xl transition-all duration-300",children:n.jsx(fr,{to:`/medico/paciente/${e||(t==null?void 0:t.id)}/iniciar-consulta`,children:"Iniciar Consulta"})})})]})})]})}function YY(){var o,l,A,d,f,h,m;const{id:e}=$o(),[r,t]=y.useState(null),[a,s]=y.useState(!0);y.useEffect(()=>{let p=!0;return(async()=>{var x;try{const g="/api/pacientes/",w=g.endsWith("/")?g:`${g}/`,j=await ye.get(`${w}${e}/`);p&&t(j.data)}catch(g){console.debug("[PerfilPacienteMedico] Falha ao buscar paciente por id:",(x=g==null?void 0:g.response)==null?void 0:x.status)}finally{p&&s(!1)}})(),()=>{p=!1}},[e]);const i=[{label:"Resumo",href:`/medico/paciente/${e}/perfil`},{label:"Pronturio",href:`/medico/paciente/${e}/prontuario`},{label:"Consultas",href:`/medico/paciente/${e}/consultas`},{label:"Exames",href:`/medico/paciente/${e}/exames`},{label:"Receitas",href:`/medico/paciente/${e}/receitas`}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Perfil do Paciente"}),n.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie as informaes do paciente"})]}),n.jsx(zm,{patientId:e,isPacienteView:!1,profile:r==null?void 0:r.user,patient:r,loading:a}),n.jsx(Wi,{tabs:i,basePath:`/medico/paciente/${e}`}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(Hn,{className:"h-5 w-5"})," Informaes Pessoais"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Nome"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.nome)||[(o=r==null?void 0:r.user)==null?void 0:o.first_name,(l=r==null?void 0:r.user)==null?void 0:l.last_name].filter(Boolean).join(" ")||((A=r==null?void 0:r.user)==null?void 0:A.username)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Data de Nascimento"}),n.jsx("p",{className:"text-muted-foreground",children:jF((r==null?void 0:r.data_nascimento)||((d=r==null?void 0:r.user)==null?void 0:d.data_nascimento))})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"CPF"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.cpf)||((f=r==null?void 0:r.user)==null?void 0:f.cpf)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Telefone"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.telefone)||((h=r==null?void 0:r.user)==null?void 0:h.phone)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Endereo"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.endereco)||((m=r==null?void 0:r.user)==null?void 0:m.address)||""})]})]})]}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(tA,{className:"h-5 w-5"})," Resumo Mdico"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Tipo Sanguneo"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.tipo_sanguineo)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Alergias"}),n.jsx("p",{className:"text-muted-foreground",children:Array.isArray(r==null?void 0:r.alergias)?r.alergias.length?r.alergias.join(", "):"":(r==null?void 0:r.alergias)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Condies Crnicas"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.condicoes_cronicas)||""})]})]})]})]}),n.jsx("div",{className:"flex justify-end gap-3",children:n.jsx(we,{variant:"outline",asChild:!0,children:n.jsx(fr,{to:`/medico/paciente/${e}/prontuario`,children:"Ver Pronturio"})})})]})}function XY(){const{id:e}=$o(),[r,t]=y.useState(null),[a,s]=y.useState([]),[i,o]=y.useState(!0),l=[{label:"Resumo",href:`/medico/paciente/${e}/perfil`},{label:"Pronturio",href:`/medico/paciente/${e}/prontuario`},{label:"Consultas",href:`/medico/paciente/${e}/consultas`},{label:"Exames",href:`/medico/paciente/${e}/exames`},{label:"Receitas",href:`/medico/paciente/${e}/receitas`}];return y.useEffect(()=>{let A=!0;return(async()=>{try{const d="/api/pacientes/",f=d.endsWith("/")?d:`${d}/`,h=await ye.get(`${f}${e}/`);A&&t(h.data)}catch{}try{const d="/api/prontuarios/",f=d.endsWith("/")?d:`${d}/`,h=await ye.get(f,{params:{paciente:e,paciente_id:e,limit:50}}),m=h==null?void 0:h.data,p=Array.isArray(m)?m:Array.isArray(m==null?void 0:m.results)?m.results:[];A&&s(p)}catch{A&&s([])}finally{A&&o(!1)}})(),()=>{A=!1}},[e]),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pronturio do Paciente"}),n.jsx("p",{className:"text-muted-foreground",children:"Histrico mdico completo"})]}),n.jsx(zm,{patientId:e,isPacienteView:!1,profile:r==null?void 0:r.user,patient:r,loading:i}),n.jsx(Wi,{tabs:l,basePath:`/medico/paciente/${e}`}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(sn,{className:"h-5 w-5"}),"Informaes Gerais"]})}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tipo Sanguneo"}),n.jsx("p",{children:(r==null?void 0:r.tipo_sanguineo)||""})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Alergias"}),n.jsx("p",{children:Array.isArray(r==null?void 0:r.alergias)?r.alergias.length?r.alergias.join(", "):"":(r==null?void 0:r.alergias)||""})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Condies Crnicas"}),n.jsx("p",{children:(r==null?void 0:r.condicoes_cronicas)||""})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Medicamentos em Uso"}),n.jsx("p",{children:(r==null?void 0:r.medicamentos_uso)||""})]})]})})})]}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"h-5 w-5"}),"Histrico de Consultas"]})}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-4",children:i?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):a.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum registro de pronturio encontrado para este paciente."}):a.map(A=>{var d,f;return n.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"font-medium",children:(d=A.medico)!=null&&d.user?`${A.medico.user.first_name||""} ${A.medico.user.last_name||""}`.trim():((f=A.medico)==null?void 0:f.nome)||"Mdico"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:A.data||A.data_hora?new Date(A.data_hora||A.data).toLocaleDateString():""})]}),A.diagnostico_principal&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Diagnstico"}),n.jsx("p",{children:A.diagnostico_principal})]}),A.conduta&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Conduta"}),n.jsx("p",{children:A.conduta})]}),A.exames_solicitados&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Exames Solicitados"}),n.jsx("p",{children:A.exames_solicitados})]})]},A.id)})})})]})]})]})}function JY(){const{id:e}=$o(),[r,t]=y.useState(""),[a,s]=y.useState([]),[i,o]=y.useState(!0),[l,A]=y.useState(null),[d,f]=y.useState(!0),h=[{label:"Resumo",href:`/medico/paciente/${e}/perfil`},{label:"Pronturio",href:`/medico/paciente/${e}/prontuario`},{label:"Consultas",href:`/medico/paciente/${e}/consultas`},{label:"Exames",href:`/medico/paciente/${e}/exames`},{label:"Receitas",href:`/medico/paciente/${e}/receitas`}];y.useEffect(()=>{let g=!0;return(async()=>{var w;o(!0);try{const j="/api/pacientes/",N=j.endsWith("/")?j:`${j}/`,C=await ye.get(`${N}${e}/`);g&&A(C.data)}catch{}finally{g&&f(!1)}try{const j="/api/exames/",N=j.endsWith("/")?j:`${j}/`,C=await ye.get(N,{params:{paciente:e,paciente_id:e,limit:100}}),E=C==null?void 0:C.data,Q=Array.isArray(E)?E:Array.isArray(E==null?void 0:E.results)?E.results:[];g&&s(Q)}catch(j){try{console.debug("[Medico/Exames] falha listar:",(w=j==null?void 0:j.response)==null?void 0:w.status)}catch{}g&&s([])}finally{g&&o(!1)}})(),()=>{g=!1}},[e]);const m=y.useMemo(()=>{const g=(r||"").toLowerCase();return Array.isArray(a)?a.filter(w=>{const j=String((w==null?void 0:w.tipo)||(w==null?void 0:w.nome)||(w==null?void 0:w.categoria)||"").toLowerCase(),N=String((w==null?void 0:w.status)||(w==null?void 0:w.situacao)||"").toLowerCase(),C=String((w==null?void 0:w.descricao)||(w==null?void 0:w.observacoes)||"").toLowerCase();return!g||j.includes(g)||N.includes(g)||C.includes(g)}):[]},[a,r]),p=m.filter(g=>String((g==null?void 0:g.status)||(g==null?void 0:g.situacao)||"").toLowerCase()==="pendente"),x=m.filter(g=>["concluido","concludo","finalizado","realizado"].includes(String((g==null?void 0:g.status)||(g==null?void 0:g.situacao)||"").toLowerCase()));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames do Paciente"}),n.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie exames do paciente"})]}),n.jsx(zm,{patientId:e,isPacienteView:!1,profile:l==null?void 0:l.user,patient:l,loading:d}),n.jsx(Wi,{tabs:h,basePath:`/medico/paciente/${e}`}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(js,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(He,{placeholder:"Buscar exames...",value:r,onChange:g=>t(g.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(Wr,{children:[n.jsx(Kr,{className:"w-[180px]",children:n.jsx(Gr,{placeholder:"Tipo de exame"})}),n.jsxs(zr,{children:[n.jsx(at,{value:"todos",children:"Todos"}),n.jsx(at,{value:"imagem",children:"Imagem"}),n.jsx(at,{value:"laboratorial",children:"Laboratorial"}),n.jsx(at,{value:"outros",children:"Outros"})]})]}),n.jsxs(we,{variant:"outline",children:[n.jsx(pr,{className:"mr-2 h-4 w-4"}),"Perodo"]}),n.jsxs(we,{children:[n.jsx(mu,{className:"mr-2 h-4 w-4"}),"Solicitar Exame"]})]})]}),n.jsxs(Vi,{defaultValue:"pendentes",children:[n.jsxs(qi,{children:[n.jsx(Pr,{value:"pendentes",children:"Pendentes"}),n.jsx(Pr,{value:"concluidos",children:"Concludos"}),n.jsx(Pr,{value:"todos",children:"Todos"})]}),n.jsx($r,{value:"pendentes",children:n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Exames Pendentes"})}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-4",children:i?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):p.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum exame pendente."}):p.map(g=>n.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium",children:g.tipo||g.nome||"Exame"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solicitado em ",g.data_agendamento?new Date(g.data_agendamento).toLocaleDateString():""]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(we,{variant:"outline",size:"sm",children:[n.jsx(Ci,{className:"mr-2 h-4 w-4"}),"Ver Solicitao"]}),g.pedido_pdf&&n.jsx(we,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs(fr,{to:g.pedido_pdf,target:"_blank",children:[n.jsx(xl,{className:"mr-2 h-4 w-4"}),"Baixar Pedido"]})})]})]},g.id))})})]})}),n.jsx($r,{value:"concluidos",children:n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Exames Concludos"})}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-4",children:i?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):x.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum exame concludo."}):x.map(g=>n.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium",children:g.tipo||g.nome||"Exame"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Concludo em ",g.data_agendamento?new Date(g.data_agendamento).toLocaleDateString():""]})]}),n.jsxs("div",{className:"flex gap-2",children:[g.resultado_pdf&&n.jsx(we,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs(fr,{to:g.resultado_pdf,target:"_blank",children:[n.jsx(Ci,{className:"mr-2 h-4 w-4"}),"Resultado"]})}),g.resultado_pdf&&n.jsx(we,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs(fr,{to:g.resultado_pdf,target:"_blank",children:[n.jsx(xl,{className:"mr-2 h-4 w-4"}),"Baixar"]})})]})]},g.id))})})]})}),n.jsx($r,{value:"todos",children:n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Todos os Exames"})}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-4",children:i?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):m.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum exame encontrado."}):m.map(g=>n.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium",children:g.tipo||g.nome||"Exame"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Status: ",g.status||g.situacao||""]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(we,{variant:"outline",size:"sm",children:[n.jsx(tA,{className:"mr-2 h-4 w-4"}),"Detalhes"]}),g.resultado_pdf&&n.jsx(we,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs(fr,{to:g.resultado_pdf,target:"_blank",children:[n.jsx(xl,{className:"mr-2 h-4 w-4"}),"Baixar"]})})]})]},g.id))})})]})})]})]})}const ZC={_summarizeLocal(e="",r={}){var j;const t=String(e||"").replace(/\r/g,"").trim(),a=N=>{const C=new RegExp(`(?:^|
)s*(?:${N.join("|")})s*[:]s*([sS]*?)(?=
s*(?:Queixa|Histria|Historia|Exame|Diagn[o]stico|Conduta|Prescri|Rx|Receita|Alergias|Orient[a]es|Observ[a]es|Retorno)s*[:]|$)`,"i"),E=t.match(C);return E?E[1].trim():""},s=a(["Queixa","Queixa Principal"])||((j=t.split(/\n\n|\n-/)[0])==null?void 0:j.slice(0,300))||"",i=a(["Histria","Historia","HDA","Histria da Doena Atual"])||"",o=a(["Diagnstico","Diagnostico"])||"",l=a(["Conduta","Plano","Plano Teraputico"])||"",A=a(["Prescrio","Prescricao","Receita","Rx"])||"";let d="",f="";const h=()=>{const N=[],C=t.split(/\n+/).map(H=>H.trim()).filter(Boolean),E=H=>{(/\b(comprimid|c[a]psul|gota|spray|ml|mg|g|mcg)\b/i.test(H)||/\b(vou\s+(te\s+)?(receitar|prescrever|indicar|recomendar))\b/i.test(H)||/\b(associar|usar|tomar)\b.*\b(metoclopramida|ondansetrona|domperidona)\b/i.test(H))&&N.push(H)};if(C.forEach(E),!N.length){const H=t.match(/(?:vou\s+(?:te\s+)?(?:receitar|prescrever|indicar|recomendar)\s+)([^\.;\n]+)/ig)||[];N.push(...H.map(T=>T.trim()));const J=t.match(/(?:pode\s+associar|associar|usar|tomar)[^\n\.;]*(metoclopramida|ondansetrona|domperidona)[^\n\.;]*/ig)||[];N.push(...J.map(T=>T.trim()))}const Q=H=>{const J=H.match(/(\d{1,2}\s*\/\s*\d{1,2})\s*h/i);if(J)return`de ${J[1].replace(/\s+/g,"").toUpperCase()}H`;const T=H.match(/a\s*cada\s*(\d{1,2})\s*h/i);if(T)return`de ${T[1]}/${T[1]}H`.toUpperCase();const re=H.match(/(\d{1,2})\s*(?:ou|\/)\s*(\d{1,2})\s*horas/i);if(re){const G=parseInt(re[1],10);return`de ${G}/${G}H`.toUpperCase()}const z=H.match(/(\d)\s*x\s*ao\s*dia/i);if(z){const G=parseInt(z[1],10);if(G>0){const V=Math.round(24/G);return`de ${V}/${V}H`.toUpperCase()}}return null},U=t.match(/n[a]o\s*pass(e|ar)\s*de\s*(\d+)\s*(comprimidos?|capsulas?)/i)||[],F=N.join(`
`).trim(),L=N.map(H=>{const J=H.match(/^([A-Za-z-0-9 .+\-]+?)(?:\s+\d+\s?(mg|ml|g|mcg)|\s*[-])/),T=J?J[1].trim():H.split(/\s+/).slice(0,3).join(" "),re=Q(H)||Q(t)||"",z=U.length?`Mx ${U[2]||U[1]} ${U[3]||"comprimidos"}/24H`:"",G=[re,z].filter(Boolean);return G.length?`${T} ${G.join("; ")}`:""}).filter(Boolean),_=new Set;return[/\bbuscopan\s+composto\b/i,/\bmetoclopramida\b/i,/\bondansetrona\b/i,/\bdomperidona\b/i,/\bdipirona\b/i].forEach(H=>{const J=t.match(H);J&&_.add(J[0].replace(/\s+/g," ").trim())}),N.forEach(H=>{const J=H.match(/^([A-Za-z-0-9 .+\-]+?)(?:\s+\d+\s?(mg|ml|g|mcg)|\s*[-])/);J&&_.add(J[1].replace(/\s+/g," ").trim())}),{meds:Array.from(_).join(`
`)||F,poso:L.join(`
`)}};if(A){const N=A.split(/\n+/).map(E=>E.trim()).filter(Boolean);d=N.join(`
`);const C=N.map(E=>{const Q=E.indexOf("");if(Q>=0)return E.slice(Q+1).trim();const U=E.match(/(?:\d+\s?(mg|ml|g|mcg)[^,;]*)[,;]?(.*)$/i);return U?(U[2]||"").trim():""}).filter(Boolean);C.length&&(f=C.join(`
`))}if(!d){const{meds:N,poso:C}=h();d=N||d,f=f||C}if(!d&&l){const N=(l.match(/.+?(\d+\s?(mg|ml|g|mcg)|comprimid|c[a]psul|gotas|spray).*/i)||[""])[0];N&&(d=N.trim(),f=f||"Conforme conduta descrita.")}const m=a(["Alergias"])||String((r==null?void 0:r.alergias)||""),p=(t.match(/(PA|press[a]o( arterial)?)[^\d]*(\d{2,3}\s*\/\s*\d{2,3})\s*(mmhg)?/i)||["","","",""])[3]||"",x=(t.match(/(FC|freq[u]ncia\s*card[i]aca)[^\d]*(\d{2,3})\s*(bpm)?/i)||["","",""])[2]||"",g=(t.match(/(temp(eratura)?)[^\d]*(\d{2}(?:[\.,]\d)?)\s*(?:?c|celsius)?/i)||["","","",""])[3]||"",w=(t.match(/(sat|satura[c][a]o)[^\d]*(\d{2})\s*%/i)||["","",""])[2]||"";return{queixa:s||String((r==null?void 0:r.queixa)||""),historia_doenca_atual:i||String((r==null?void 0:r.historia_doenca_atual)||(r==null?void 0:r.historia)||""),diagnostico_principal:o||String((r==null?void 0:r.diagnostico_principal)||(r==null?void 0:r.diagnostico)||""),conduta:l||String((r==null?void 0:r.conduta)||""),medicamentos:d||String((r==null?void 0:r.medicamentos)||""),posologia:f||String((r==null?void 0:r.posologia)||""),alergias:String(m||""),pressao:p,frequencia_cardiaca:x,temperatura:g,saturacao:w}},_extractEntitiesLocal(e="",r={}){const t=this._summarizeLocal(e,r),a=String(e||"").replace(/\r/g,"").trim(),s=j=>{const N=new RegExp(`(?:^|
)s*(?:${j.join("|")})s*[:]s*([sS]*?)(?=
s*(?:Queixa|Histria|Historia|Exame|Diagn[o]stico|Conduta|Prescri|Rx|Receita|Alergias|Sintomas|Orient[a]es|Observ[a]es|Retorno|Exames)s*[:]|$)`,"i"),C=a.match(N);return C?C[1].trim():""},i=s(["Sintomas"])||"",o=s(["Orientaes","Orientacoes"])||"",l=s(["Observaes","Observacoes"])||"",A=s(["Exames"])||"",d=t.alergias||s(["Alergias"])||"",f=i?i.split(/[,\n;]+/).map(j=>j.trim()).filter(Boolean):[],h=o?o.split(/\n+/).map(j=>j.trim()).filter(Boolean):[],m=d?d.split(/[,\n;]+/).map(j=>j.trim()).filter(Boolean):[],p=A?A.split(/[,\n;]+/).map(j=>j.trim()).filter(Boolean):[],x=[];t.medicamentos&&x.push(...String(t.medicamentos).split(/\n+/));const g=x.map(j=>String(j).trim()).filter(j=>/\b(mg|ml|g|mcg|comprimid|capsul|gota|spray)\b/i.test(j)).map(j=>({nome:j.split(/\s+/)[0]||"",dosagem:(j.match(/\b\d+\s?(mg|ml|g|mcg)\b/i)||[""])[0],frequencia:(j.match(/\b(\d+x\s*ao\s*d[i]a|\d+x\/dia|[a] cada \d+ h)\b/i)||[""])[0],duracao:(j.match(/\bpor\s*\d+\s*(dias?|semanas?|meses?)\b/i)||[""])[0],via:(j.match(/\b(via\s*oral|vo|im|ev)\b/i)||[null])[0],observacoes:j}));return{paciente:{nome:"",idade:null,sexo:null},diagnostico:t.diagnostico_principal||"",sintomas:f,medicamentos:g,orientacoes:h,observacoes:l||t.conduta||"",sinais_vitais:{pressao:t.pressao||"",frequencia_cardiaca:t.frequencia_cardiaca||"",temperatura:t.temperatura||"",saturacao:t.saturacao||""},alergias:m,exames:p,retorno:null}},async sumarizarTranscricao(e,r={},t={}){return this._summarizeLocal(e,r)},async extrairEntidades(e,r={}){return this._extractEntitiesLocal(e,r)}};function ZY(){const{id:e}=$o(),r=ss(),t=ns(),[a,s]=y.useState(!1),{toast:i}=Ga(),[o,l]=y.useState(!1),[A,d]=y.useState({queixa:"",historia:"",medicamentos:"",alergias:"",pressao:"","frequencia-cardiaca":"",temperatura:"",saturacao:"","exame-geral":"","sistema-cardiovascular":"","sistema-respiratorio":"",diagnostico:"",conduta:"",exames:"",retorno:""}),[f,h]=y.useState("anamnese"),m=X=>{const{id:O,value:Z}=X.target;d(oe=>({...oe,[O]:Z}))},x=new URLSearchParams(t.search).get("consultaId"),[g,w]=y.useState(""),[j,N]=y.useState(!1),[C,E]=y.useState(""),[Q,U]=y.useState("unknown"),F=y.useRef(null),L=y.useRef(-1),[_,q]=y.useState(""),R=y.useRef(!1),H=y.useMemo(()=>`iniciar-consulta:${e}:${x||"sem-consulta"}`,[e,x]),J=y.useRef("");y.useEffect(()=>{J.current=_},[_]);const[T,re]=y.useState(null),[z,G]=y.useState(!1),[V,ee]=y.useState("");y.useEffect(()=>{let X;return(async()=>{try{navigator.permissions&&navigator.permissions.query&&(X=await navigator.permissions.query({name:"microphone"}),U(X.state||"unknown"),X.onchange=()=>U(X.state||"unknown"))}catch{}})(),()=>{X&&(X.onchange=null)}},[]);const ce=async()=>{E("");try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(O=>O.stop()),U("granted"),!0}catch(X){const O=X&&(X.name||X.message)||"Permisso de microfone negada";return E(typeof O=="string"?O:"Falha ao acessar microfone"),U("denied"),!1}};y.useEffect(()=>{const X=(t.hash||"").toLowerCase(),Z={"#diagnostico":"diagnostico","#problems_and_diagnostics":"diagnostico","#exame-fisico":"exame-fisico","#exame_fisico":"exame-fisico","#anamnese":"anamnese"}[X];Z&&h(Z);const oe={"#diagnostico":"diagnostico","#problems_and_diagnostics":"diagnostico","#exame-fisico":"exame-fisico","#exame_fisico":"exame-fisico","#anamnese":"anamnese"},pe=(xe=0)=>{const _e=oe[X],Fe=document.getElementById(_e)||document.getElementById(X.replace(/^#/,""));if(Fe){try{Fe.scrollIntoView({behavior:"smooth",block:"start"})}catch{}return}xe<10&&setTimeout(()=>pe(xe+1),80)};X&&setTimeout(()=>pe(0),50)},[t.hash]),y.useEffect(()=>{const O={anamnese:"#anamnese","exame-fisico":"#exame-fisico",diagnostico:"#problems_and_diagnostics"}[f];if(O&&(t.hash||"")!==O)try{r(`${t.pathname}${O}`,{replace:!0})}catch{}},[f]),y.useEffect(()=>{let X=!0;return(async()=>{var O;try{const Z="/api/pacientes/".replace(/\/?$/,"/"),{data:oe}=await ye.get(`${Z}${e}/`);if(!X)return;re(oe);const pe=(oe==null?void 0:oe.alergias)||"";pe&&!A.alergias&&d(xe=>({...xe,alergias:pe}))}catch(Z){console.debug("[IniciarConsulta] Falha ao buscar paciente por id:",(O=Z==null?void 0:Z.response)==null?void 0:O.status)}})(),()=>{X=!1}},[e]),y.useEffect(()=>{try{w("")}catch{}return k(),(async()=>{try{x&&(nr!=null&&nr.iniciarConsulta)&&await nr.iniciarConsulta(x)}catch(X){console.debug("[IniciarConsulta] Falha ao marcar incio da consulta:",X==null?void 0:X.message)}})(),()=>{D()}},[]);const k=async()=>{try{if(!await ce()){N(!1),R.current=!1;return}if(F.current){try{F.current.onend=null,F.current.onresult=null,F.current.onerror=null,F.current.stop()}catch{}F.current=null}const X=window.SpeechRecognition||window.webkitSpeechRecognition;if(!X){console.warn("Reconhecimento de fala no suportado neste navegador."),E("Seu navegador no suporta reconhecimento de fala."),N(!1);return}const O=new X;O.lang="pt-BR",O.continuous=!0,O.interimResults=!0,O.maxAlternatives=1,L.current=-1,O.onresult=Z=>{let oe="",pe="";for(let xe=Z.resultIndex;xe<Z.results.length;xe++){const _e=Z.results[xe],Fe=Array.from(_e,he=>he.transcript).join("");_e.isFinal?oe+=Fe+" ":pe+=Fe}if(oe){const xe=oe.trim();w(_e=>{const Fe=_e?_e.endsWith(" ")?_e:_e+" ":"";return xe&&Fe.endsWith(xe)?_e:(Fe+xe).trim()})}q(pe)},O.onerror=Z=>{const oe=(Z==null?void 0:Z.error)||Z;if(console.warn("Erro no reconhecimento de fala:",oe),typeof oe=="string"&&E(oe),["audio-capture","network"].includes(oe)&&R.current&&F.current===O)try{O.stop()}catch{}oe==="not-allowed"&&(N(!1),R.current=!1)},O.onend=()=>{const Z=F.current===O,oe=(J.current||"").trim();oe&&w(pe=>{const xe=pe?pe.endsWith(" ")?pe:pe+" ":"";return xe.endsWith(oe)?pe:(xe+oe).trim()}),q(""),L.current=-1,R.current&&Z&&setTimeout(()=>{try{O.start()}catch{}},200)},F.current=O,R.current=!0,N(!0);try{O.start()}catch(Z){console.warn("Falha ao iniciar reconhecimento:",Z),N(!1),R.current=!1,F.current=null,E("Falha ao iniciar reconhecimento de fala.");return}}catch(X){console.warn("Falha ao iniciar reconhecimento de fala:",X),N(!1),R.current=!1,E("Falha inesperada ao iniciar microfone.")}},D=async()=>{try{N(!1),R.current=!1,q(""),F.current&&(F.current.onend=null,F.current.onresult=null,F.current.onerror=null,F.current.stop(),F.current=null)}catch{}if((g||"").trim().length>0&&!o&&x)try{const O=K(g||""),Z=await nr.finalizarConsultaIA(x,{transcript:g||"",extracted:{queixa:O.queixa||"",historia:O.historia||"",diagnostico:O.diagnostico||"",conduta:O.conduta||"",medicamentos:O.medicamentos||"",posologia:O.posologia||"",pressao:O.pressao||"",frequencia_cardiaca:O["frequencia-cardiaca"]||O.frequencia||"",temperatura:O.temperatura||"",saturacao:O.saturacao||""},form:{queixa_principal:A.queixa||"",historia_doenca_atual:A.historia||"",diagnostico_principal:A.diagnostico||"",conduta:A.conduta||"",medicamentos_uso:A.medicamentos||"",alergias:A.alergias||"",pressao:A.pressao||"",frequencia_cardiaca:A.frequencia||A["frequencia-cardiaca"]||"",temperatura:A.temperatura||"",saturacao:A.saturacao||""}}),oe=[Z,Z==null?void 0:Z.data,Z==null?void 0:Z.result,Z==null?void 0:Z.output,Z==null?void 0:Z.summary,Z==null?void 0:Z.sumarizacao,Z==null?void 0:Z.resumo,Z==null?void 0:Z.fields].filter(Boolean),pe=(Fe,he)=>he.split(".").reduce((Ae,ct)=>Ae&&Ae[ct]!=null?Ae[ct]:void 0,Fe),xe=Fe=>{for(const he of oe)for(const Ae of Fe){const ct=pe(he,Ae);if(typeof ct=="string"&&ct.trim())return ct.trim()}return""},_e={queixa:A.queixa||xe(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||O.queixa||"",historia:A.historia||xe(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||O.historia||"",medicamentos:A.medicamentos||xe(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||O.medicamentos||"",alergias:A.alergias||xe(["alergias","anamnese.alergias","allergies"])||"",diagnostico:A.diagnostico||xe(["diagnostico_principal","diagnostico","diagnosis","assessment"])||O.diagnostico||"",conduta:A.conduta||xe(["conduta","plano","plan","plan_terapeutico"])||O.conduta||"",posologia:A.posologia||xe(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||O.posologia||"",pressao:A.pressao||xe(["pressao","sinais_vitais.pressao"])||O.pressao||"","frequencia-cardiaca":A["frequencia-cardiaca"]||A.frequencia||xe(["frequencia_cardiaca","sinais_vitais.frequencia_cardiaca","fc","heart_rate"])||O["frequencia-cardiaca"]||O.frequencia||"",temperatura:A.temperatura||xe(["temperatura","sinais_vitais.temperatura"])||O.temperatura||"",saturacao:A.saturacao||xe(["saturacao","sinais_vitais.saturacao","spo2"])||O.saturacao||""};try{const{cleanGreeting:Fe}=await Qs(async()=>{const{cleanGreeting:he}=await Promise.resolve().then(()=>VM);return{cleanGreeting:he}},void 0);_e.queixa=Fe(_e.queixa)}catch{}d(Fe=>({...Fe,..._e})),l(!0),i({title:"Resumo aplicado",description:"Pr-preenchimento realizado a partir da transcrio."})}catch(O){console.debug("[auto-sumarizar] falhou:",O==null?void 0:O.message)}};function K(X=""){var Ke;let O=String(X||"").replace(/\r/g,"").trim();O=O.replace(/(?:^|[.!?])\s*(Ao exame)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Exame Fsico|Exame)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Diagnstico(?: Principal)?)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Conduta)(?!\s*[:])/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Prescrio|Prescricao|Receita|Rx)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Histria da Doena Atual|HDA|Histria|Historia)\s*:/gi,`
$1:`);const Z=["Queixa","Queixa Principal","Histria","Historia","HDA","Histria da Doena Atual","Exame","Exame Fsico","Ao exame","Diagnstico","Diagnostico","Diagnstico Principal","Conduta","Plano","Plano Teraputico","Prescrio","Prescricao","Receita","Rx","Alergias","Orientaes","Orientacoes","Observaes","Observacoes","Exames","Retorno"],oe=Ct=>{const jt=Ct.join("|"),ur=Z.join("|"),Mt=new RegExp(`(?:^|
)s*(?:${jt})(?:[^
:]{0,50})?s*[:]s*([sS]*?)(?=s*(?:${ur})s*[:]|$)`,"i"),zt=O.match(Mt);return zt?zt[1].trim():""},pe=oe(["Queixa","Queixa Principal"])||((Ke=O.split(/\n\n|\n-/)[0])==null?void 0:Ke.slice(0,300))||"",xe=oe(["Histria da Doena Atual","HDA","Histria","Historia"])||"",_e=oe(["Diagnstico Principal","Diagnstico","Diagnostico"])||"",Fe=oe(["Conduta","Plano","Plano Teraputico"])||"",he=oe(["Prescrio","Prescricao","Receita","Rx"])||"";let Ae="",ct="";if(he){const Ct=he.split(/\n+/).map(ur=>ur.trim()).filter(Boolean);Ae=Ct.join(`
`);const jt=Ct.map(ur=>{const Mt=ur.indexOf("");if(Mt>=0)return ur.slice(Mt+1).trim();const zt=ur.match(/(?:\d+\s?(mg|ml|g|mcg)[^,;]*)[,;]?(.*)$/i);return zt?(zt[2]||"").trim():""}).filter(Boolean);jt.length&&(ct=jt.join(`
`))}if(!Ae&&Fe){const Ct=(Fe.match(/.+?(\d+\s?(mg|ml|g|mcg)|comprimid|c[a]psul|gotas|spray).*/i)||[""])[0];Ct&&(Ae=Ct.trim(),ct="Conforme conduta descrita.")}const gt=(O.match(/(PA|press[a]o( arterial)?)[^\d]*(\d{2,3}\s*\/\s*\d{2,3})\s*(mmhg)?/i)||["","","",""])[3]||"",pt=(O.match(/(FC|freq[u]ncia\s*card[i]aca)[^\d]*(\d{2,3})\s*(bpm)?/i)||["","",""])[2]||"",Se=(O.match(/(temp(eratura)?)[^\d]*(\d{2}(?:[\.,]\d)?)\s*(?:?c|celsius)?/i)||["","","",""])[3]||"",it=(O.match(/(sat|satura[c][a]o)[^\d]*(\d{2})\s*%/i)||["","",""])[2]||"";return{queixa:pe,historia:xe,diagnostico:_e,conduta:Fe,medicamentos:Ae,posologia:ct,pressao:gt,"frequencia-cardiaca":pt,temperatura:Se,saturacao:it}}const te=async()=>{const X=(V||"").trim();if(!X){G(!1);return}const O=(A.alergias||"").trim(),Z=O?`${O}
${X}`:X;d(oe=>({...oe,alergias:Z}));try{T!=null&&T.id&&(nr!=null&&nr.atualizarPacienteById)&&(await nr.atualizarPacienteById(T.id,{alergias:Z}),i({title:"Alergia adicionada",description:"Atualizamos o cadastro do paciente."}))}catch(oe){console.debug("Falha ao atualizar alergias do paciente:",oe==null?void 0:oe.message),i({title:"No foi possvel salvar no cadastro",description:"A alergia foi adicionada ao formulrio apenas.",variant:"destructive"})}finally{ee(""),G(!1)}},Y=async X=>{var Z,oe;X.preventDefault(),s(!0);try{D()}catch{}const O=K(g||"");try{let pe=null;if(!o)if(x){let he=null;try{he=await nr.finalizarConsultaIA(x,{transcript:g||"",extracted:{queixa:O.queixa||"",historia:O.historia||"",diagnostico:O.diagnostico||"",conduta:O.conduta||"",medicamentos:O.medicamentos||"",posologia:O.posologia||""},form:{queixa_principal:A.queixa||"",historia_doenca_atual:A.historia||"",diagnostico_principal:A.diagnostico||"",conduta:A.conduta||"",medicamentos_uso:A.medicamentos||"",alergias:A.alergias||""}})}catch(Se){console.warn("Falha ao enviar dados para sumarizao:",Se)}if(!he)try{he=await ZC.sumarizarTranscricao(g||"",{queixa:O.queixa||"",historia_doenca_atual:O.historia||"",diagnostico_principal:O.diagnostico||"",conduta:O.conduta||"",medicamentos:O.medicamentos||"",posologia:O.posologia||"",alergias:A.alergias||""},{systemPrompt:`Aja como um Especialista em Triagem Mdica e Extrao de Dados (Scribe).
Receba a transcrio e retorne APENAS JSON estrito com os campos: queixa, historia_doenca_atual, diagnostico_principal, conduta, medicamentos, posologia, alergias, pressao, frequencia_cardiaca, temperatura, saturacao.
Regras: deduza papis (mdico/paciente), ignore saudaes e rudo, identifique medicamentos com dosagem e frequncia. Campos ausentes devem ser "".`})}catch(Se){console.debug("[AI] Gemini indisponvel:",Se==null?void 0:Se.message)}const Ae=[he,he==null?void 0:he.data,he==null?void 0:he.result,he==null?void 0:he.output,he==null?void 0:he.summary,he==null?void 0:he.sumarizacao,he==null?void 0:he.resumo,he==null?void 0:he.fields].filter(Boolean),ct=(Se,it)=>{try{return it.split(".").reduce((Ke,Ct)=>Ke&&Ke[Ct]!==void 0?Ke[Ct]:void 0,Se)}catch{return}},gt=Se=>{for(const it of Ae)for(const Ke of Se){const Ct=ct(it,Ke);if(Ct!=null){const jt=String(Ct).trim();if(jt)return jt}}return""},pt={queixa:A.queixa||gt(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||O.queixa||"",historia:A.historia||gt(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||O.historia||"",medicamentos:A.medicamentos||gt(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||O.medicamentos||"",alergias:A.alergias||gt(["alergias","anamnese.alergias","allergies"])||"",diagnostico:A.diagnostico||gt(["diagnostico_principal","diagnostico","diagnosis","assessment"])||O.diagnostico||"",conduta:A.conduta||gt(["conduta","plano","plan","plan_terapeutico"])||O.conduta||"",posologia:A.posologia||gt(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||O.posologia||"",pressao:A.pressao||gt(["pressao","sinais_vitais.pressao"])||O.pressao||"","frequencia-cardiaca":A["frequencia-cardiaca"]||gt(["frequencia_cardiaca","sinais_vitais.frequencia_cardiaca"])||O["frequencia-cardiaca"]||"",temperatura:A.temperatura||gt(["temperatura","sinais_vitais.temperatura"])||O.temperatura||"",saturacao:A.saturacao||gt(["saturacao","sinais_vitais.saturacao"])||O.saturacao||""};pe=pt,d(Se=>({...Se,...pt})),l(!0),i({title:"Resumo aplicado",description:"Campos preenchidos com a sugesto da IA. Revise e clique em 'Salvar Pronturio'."}),s(!1);return}else try{const he=await ZC.sumarizarTranscricao(g||"",{queixa_principal:O.queixa||A.queixa||"",historia_doenca_atual:O.historia||A.historia||"",diagnostico_principal:O.diagnostico||A.diagnostico||"",conduta:O.conduta||A.conduta||"",medicamentos:O.medicamentos||A.medicamentos||"",posologia:O.posologia||A.posologia||"",alergias:A.alergias||""},{systemPrompt:`Aja como um Especialista em Triagem Mdica e Extrao de Dados (Scribe).
Retorne APENAS JSON com: queixa, historia_doenca_atual, diagnostico_principal, conduta, medicamentos, posologia, alergias, pressao, frequencia_cardiaca, temperatura, saturacao.
Ignore saudaes. Deduza papis. Unifique medicamentos com dosagem e frequncia. Campos no mencionados = "".`}),Ae=[he,he==null?void 0:he.data,he==null?void 0:he.result,he==null?void 0:he.output,he==null?void 0:he.summary,he==null?void 0:he.sumarizacao,he==null?void 0:he.resumo,he==null?void 0:he.fields].filter(Boolean),ct=(Se,it)=>{try{return it.split(".").reduce((Ke,Ct)=>Ke&&Ke[Ct]!==void 0?Ke[Ct]:void 0,Se)}catch{return}},gt=Se=>{for(const it of Ae)for(const Ke of Se){const Ct=ct(it,Ke);if(Ct!=null){const jt=String(Ct).trim();if(jt)return jt}}return""},pt={queixa:A.queixa||gt(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||O.queixa||"",historia:A.historia||gt(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||O.historia||"",medicamentos:A.medicamentos||gt(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||O.medicamentos||"",alergias:A.alergias||gt(["alergias","anamnese.alergias","allergies"])||"",diagnostico:A.diagnostico||gt(["diagnostico_principal","diagnostico","diagnosis","assessment"])||O.diagnostico||"",conduta:A.conduta||gt(["conduta","plano","plan","plan_terapeutico"])||O.conduta||"",posologia:A.posologia||gt(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||O.posologia||""};pe=pt,d(Se=>({...Se,...pt})),l(!0),i({title:"Campos sugeridos",description:"Usamos a transcrio e a IA para preencher. Revise e clique em 'Salvar Pronturio'."}),s(!1);return}catch{const Ae={queixa:A.queixa||O.queixa||"",historia:A.historia||O.historia||"",diagnostico:A.diagnostico||O.diagnostico||"",conduta:A.conduta||O.conduta||"",medicamentos:A.medicamentos||O.medicamentos||"",posologia:A.posologia||O.posologia||""};pe=Ae,d(ct=>({...ct,...Ae})),l(!0),i({title:"Campos sugeridos",description:"Usamos a transcrio para preencher. Revise e clique em 'Salvar Pronturio'."}),s(!1);return}const xe=await nr.processarTranscricaoConsulta({texto:g||`${source.queixa||""}
${source.historia||""}
${source.diagnostico||""}
${source.conduta||""}`,consultaId:x,pacienteId:e}),_e=(xe==null?void 0:xe.receita_id)||((Z=xe==null?void 0:xe.receita)==null?void 0:Z.id)||(xe==null?void 0:xe.id),Fe=(xe==null?void 0:xe.consulta_id)||((oe=xe==null?void 0:xe.consulta)==null?void 0:oe.id)||null;try{localStorage.removeItem(H)}catch{}r(`/medico/paciente/${e}/receita/preview`,{state:{receitaId:_e,consultaId:x,fromConsulta:{consultaId:x}}})}catch(pe){console.error("Erro ao salvar pronturio/consulta:",pe);const xe=new Date,_e=new Date(xe.getFullYear(),xe.getMonth(),xe.getDate()+7),Fe=Ke=>String(Ke).padStart(2,"0"),he=`${_e.getFullYear()}-${Fe(_e.getMonth()+1)}-${Fe(_e.getDate())}`,Ae=A.medicamentos||O.medicamentos||"",ct=A.posologia||O.posologia||"",gt=A.diagnostico||O.diagnostico||"",pt=A.conduta||O.conduta||"",Se=A.queixa||O.queixa||"",it=A.historia||O.historia||"";r(`/medico/paciente/${e}/consulta/resumo`,{state:{resumo:{medicamentos:Ae,posologia:ct,validade:he,diagnostico:gt,conduta:pt,queixa:Se,historia:it},consultaId:x}})}finally{s(!1)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Nova Consulta"}),n.jsxs("p",{className:"text-muted-foreground",children:["Paciente ID: ",e,x?`  Consulta #${x}`:""]})]}),n.jsx(zm,{patientId:e,isPacienteView:!1,profile:T==null?void 0:T.user,patient:T,loading:!T}),n.jsxs(ke,{children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0",children:[n.jsxs("div",{children:[n.jsx(Ye,{children:"Transcrio de udio (tempo real)"}),n.jsx(mr,{children:"Fale normalmente; o texto aparecer abaixo e pode ser editado."}),C&&n.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Microfone: ",C]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:`flex items-center gap-1 text-sm ${j?"text-green-600":"text-muted-foreground"}`,children:[n.jsx(V6,{className:`h-4 w-4 ${j?"animate-pulse":""}`}),j?"Ouvindo":"Pausado"]}),j?n.jsxs(we,{type:"button",variant:"outline",size:"sm",onClick:D,children:[n.jsx(iI,{className:"h-4 w-4 mr-2"})," Pausar"]}):n.jsxs(we,{type:"button",variant:"default",size:"sm",onClick:k,children:[n.jsx(oI,{className:"h-4 w-4 mr-2"})," Retomar"]}),n.jsx(we,{type:"button",variant:"outline",size:"sm",onClick:ce,children:"Testar microfone"}),n.jsx(we,{type:"button",variant:"outline",size:"sm",onClick:()=>{D(),setTimeout(()=>k(),250)},children:"Resetar microfone"})]})]}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"transcript",children:"Resumo em tempo real"}),n.jsx(ua,{id:"transcript",placeholder:"O que voc ditar ser transcrito aqui. Voc pode editar livremente.",className:"min-h-[160px]",value:g,onChange:X=>w(X.target.value)}),_&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-1","aria-live":"polite",children:["Ditando: ",_]})]})})]}),n.jsxs("form",{onSubmit:Y,children:[n.jsxs(Vi,{value:f,onValueChange:h,className:"space-y-4",children:[n.jsxs(qi,{children:[n.jsxs(Pr,{value:"anamnese",className:"flex items-center gap-2",children:[n.jsx(qr,{className:"h-4 w-4"}),"Anamnese"]}),n.jsxs(Pr,{value:"exame-fisico",className:"flex items-center gap-2",children:[n.jsx(tA,{className:"h-4 w-4"}),"Exame Fsico"]}),n.jsxs(Pr,{value:"diagnostico",className:"flex items-center gap-2",children:[n.jsx(sn,{className:"h-4 w-4"}),"Diagnstico"]})]}),n.jsx($r,{value:"anamnese",children:n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsx(Ye,{children:"Anamnese"}),n.jsx(mr,{children:"Registre a queixa principal e o histrico do paciente"})]}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"queixa",children:"Queixa Principal"}),n.jsx(ua,{id:"queixa",placeholder:"Descreva a queixa principal do paciente",className:"min-h-[100px]",value:A.queixa,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"historia",children:"Histria da Doena Atual"}),n.jsx(ua,{id:"historia",placeholder:"Descreva a histria da doena atual",className:"min-h-[150px]",value:A.historia,onChange:m})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"medicamentos",children:"Medicamentos em Uso"}),n.jsx(ua,{id:"medicamentos",placeholder:"Liste os medicamentos em uso",className:"min-h-[100px]",value:A.medicamentos,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"alergias",children:"Alergias"}),n.jsx(ua,{id:"alergias",placeholder:"Liste as alergias conhecidas",className:"min-h-[100px]",value:A.alergias,onChange:m}),n.jsx("div",{className:"mt-2",children:n.jsx(we,{type:"button",variant:"outline",size:"sm",onClick:()=>G(!0),children:"Adicionar alergia"})})]})]})]})]})}),n.jsx($r,{value:"exame-fisico",children:n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsx(Ye,{children:"Exame Fsico"}),n.jsx(mr,{children:"Registre os dados do exame fsico do paciente"})]}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"pressao",children:"Presso Arterial"}),n.jsx(He,{id:"pressao",placeholder:"Ex: 120/80 mmHg",value:A.pressao,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"frequencia-cardiaca",children:"Freq. Cardaca"}),n.jsx(He,{id:"frequencia-cardiaca",placeholder:"Ex: 75 bpm",value:A["frequencia-cardiaca"],onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"temperatura",children:"Temperatura"}),n.jsx(He,{id:"temperatura",placeholder:"Ex: 36.5 C",value:A.temperatura,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"saturacao",children:"Saturao O2"}),n.jsx(He,{id:"saturacao",placeholder:"Ex: 98%",value:A.saturacao,onChange:m})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"exame-geral",children:"Exame Geral"}),n.jsx(ua,{id:"exame-geral",placeholder:"Descreva o estado geral do paciente",className:"min-h-[100px]",value:A["exame-geral"],onChange:m})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"sistema-cardiovascular",children:"Sistema Cardiovascular"}),n.jsx(ua,{id:"sistema-cardiovascular",placeholder:"Descreva os achados cardiovasculares",className:"min-h-[100px]",value:A["sistema-cardiovascular"],onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"sistema-respiratorio",children:"Sistema Respiratrio"}),n.jsx(ua,{id:"sistema-respiratorio",placeholder:"Descreva os achados respiratrios",className:"min-h-[100px]",value:A["sistema-respiratorio"],onChange:m})]})]})]})]})}),n.jsx($r,{value:"diagnostico",id:"problems_and_diagnostics",children:n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsx(Ye,{children:"Diagnstico e Conduta"}),n.jsx(mr,{children:"Registre o diagnstico e plano teraputico"})]}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"diagnostico",children:"Diagnstico"}),n.jsx(ua,{id:"diagnostico",placeholder:"Descreva o diagnstico principal e diferenciais",className:"min-h-[100px]",value:A.diagnostico,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"conduta",children:"Conduta"}),n.jsx(ua,{id:"conduta",placeholder:"Descreva a conduta teraputica",className:"min-h-[150px]",value:A.conduta,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"exames",children:"Exames Solicitados"}),n.jsx(ua,{id:"exames",placeholder:"Liste os exames solicitados",className:"min-h-[100px]",value:A.exames,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"retorno",children:"Retorno"}),n.jsx(ms,{id:"retorno",name:"retorno",className:"max-w-xs",value:A.retorno,onChange:X=>m({target:{name:"retorno",value:X}}),minDate:new Date})]})]})]})})]}),n.jsx("div",{className:"sticky bottom-0 left-0 right-0 z-10 border-t bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[n.jsx(we,{type:"button",variant:"outline",onClick:()=>r(-1),children:"Cancelar"}),n.jsx(we,{type:"submit",disabled:a,children:a?n.jsx(n.Fragment,{children:"Salvando..."}):n.jsxs(n.Fragment,{children:[n.jsx(U1,{className:"mr-2 h-4 w-4"}),o?"Salvar Pronturio":"Finalizar e Preencher com IA"]})})]})})]}),n.jsx(uA,{open:z,onOpenChange:G,children:n.jsxs(dc,{children:[n.jsxs(uc,{children:[n.jsx(fc,{children:"Adicionar alergia"}),n.jsx(Om,{children:"Informe a alergia para adicionar ao pronturio (e ao cadastro do paciente)."})]}),n.jsxs("div",{className:"space-y-2 py-2",children:[n.jsx(De,{htmlFor:"nova-alergia",children:"Alergia"}),n.jsx(He,{id:"nova-alergia",placeholder:"Ex.: Dipirona",value:V,onChange:X=>ee(X.target.value)})]}),n.jsxs(fA,{children:[n.jsx(we,{type:"button",variant:"outline",onClick:()=>{G(!1),ee("")},children:"Cancelar"}),n.jsx(we,{type:"button",onClick:te,children:"Salvar"})]})]})})]})}function yk(){const e=new Date,r=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0");return`${e.getFullYear()}-${r}-${t}`}function eX(e){if(!e)return"";const r=String(e).match(/^(\d{4})-(\d{2})-(\d{2})$/);if(r){const[,t,a,s]=r;return`${s}/${a}/${t}`}try{return new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return e}}function tX(e){return(e===yk()?nr.getConsultasHoje():nr.getConsultasDoMedico({date:e})).then(a=>{const i=(o=>Array.isArray(o)?o:!o||typeof o!="object"?[]:Array.isArray(o.results)?o.results:Array.isArray(o.data)?o.data:Array.isArray(o.items)?o.items:Array.isArray(o.consultas)?o.consultas:Array.isArray(o.content)?o.content:Array.isArray(o.objects)?o.objects:[])(a);return Array.isArray(i)?i.map(o=>{var p,x,g,w,j;const l=((p=o==null?void 0:o.paciente)==null?void 0:p.user)||{},A=[l.first_name,l.last_name].filter(Boolean).join(" ")||((x=o==null?void 0:o.paciente)==null?void 0:x.nome)||(o==null?void 0:o.paciente_nome)||(o==null?void 0:o.nome_paciente)||"Paciente";let d="";const f=(o==null?void 0:o.data_hora)||(o==null?void 0:o.horario)||(o==null?void 0:o.inicio)||(o==null?void 0:o.start_time)||(o==null?void 0:o.data)||(o==null?void 0:o.inicio_previsto);if(f)try{const N=new Date(f);if(!isNaN(N.getTime()))d=N.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});else throw new Error("invalid date")}catch{const N=String(f).match(/\b(\d{2}:\d{2})\b/);d=N?N[1]:""}const h=String((o==null?void 0:o.status)||(o==null?void 0:o.situacao)||"").toLowerCase();let m="pendente";return h.includes("andamento")?m="em_andamento":h.includes("finaliz")||h.includes("conclu")||h.includes("cancel")||h.includes("faltou")?m="finalizado":m="pendente",{id:o.id||o.consulta_id||o.uuid,paciente:{id:((g=o==null?void 0:o.paciente)==null?void 0:g.id)||(o==null?void 0:o.paciente_id),nome:A.trim(),avatarUrl:((w=o==null?void 0:o.paciente)==null?void 0:w.avatar_url)||((j=o==null?void 0:o.paciente)==null?void 0:j.foto)||(o==null?void 0:o.paciente_avatar)||null},hora:d,status:m}}):[]})}function rX({status:e}){const r={pendente:"bg-amber-100 text-amber-700",em_andamento:"bg-emerald-100 text-emerald-700",finalizado:"bg-gray-100 text-gray-600"},t={pendente:"Pendente",em_andamento:"Em Andamento",finalizado:"Finalizado"};return n.jsx("span",{className:`rounded-full px-3 py-1 text-sm font-medium ${r[e]}`,children:t[e]})}function aX({url:e,name:r}){return e?n.jsx("img",{src:e,alt:`Avatar de ${r}`,className:"h-14 w-14 rounded-full object-cover"}):n.jsxs("svg",{className:"h-14 w-14 rounded-full bg-gray-100 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":!0,children:[n.jsx("circle",{cx:"12",cy:"8",r:"4"}),n.jsx("path",{d:"M4 20c0-4 4-6 8-6s8 2 8 6"})]})}function nX(){return n.jsxs("div",{className:"mt-6 space-y-4",children:[n.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),n.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),n.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"})]})}function sX({onRetry:e}){return n.jsxs("div",{className:"mt-10 rounded-xl border border-red-200 bg-red-50 p-4 text-red-700",children:["Ocorreu um erro ao carregar as consultas.",n.jsx("button",{className:"ml-3 rounded-md bg-red-600 px-3 py-1 text-white",onClick:e,children:"Tentar novamente"})]})}function iX(){return n.jsx("div",{className:"mt-12 rounded-2xl border bg-white p-10 text-center text-gray-500",children:"Nenhuma consulta encontrada para este dia."})}function oX({children:e,...r}){return n.jsx("button",{...r,className:"rounded-lg bg-blue-600 px-4 py-2 text-white shadow-sm transition-colors hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-200",children:e})}function e5({children:e,...r}){return n.jsx("button",{...r,className:"rounded-lg bg-gray-100 px-4 py-2 text-gray-700 shadow-sm transition-colors hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-200",children:e})}function lX({consulta:e,onIniciar:r}){const t=y.useMemo(()=>{if(!e.hora)return"";try{const[s,i]=String(e.hora).split(":"),o=new Date;return o.setHours(Number(s),Number(i),0,0),o.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}catch{return e.hora}},[e.hora]),a=()=>e.status==="pendente"?n.jsx(oX,{onClick:()=>r(e),"aria-label":`Iniciar consulta de ${e.paciente.nome} s ${e.hora}`,children:"Iniciar Consulta"}):e.status==="em_andamento"?n.jsx(e5,{disabled:!0,children:"Em Andamento"}):n.jsx(e5,{disabled:!0,children:"Finalizado"});return n.jsxs("div",{className:"flex items-center justify-between rounded-2xl border bg-white p-5 shadow-md transition-all hover:shadow-lg",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(aX,{url:e.paciente.avatarUrl,name:e.paciente.nome}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold text-gray-900",children:e.paciente.nome}),n.jsx("div",{className:"mt-1 text-sm text-gray-500",children:t})]})]}),n.jsxs("div",{className:"flex flex-col items-stretch gap-3 md:flex-row md:items-center",children:[n.jsx(rX,{status:e.status}),a()]})]})}function cX(){const e=ss(),[r,t]=y.useState(yk()),[a,s]=y.useState("todos"),[i,o]=y.useState(!0),[l,A]=y.useState(null),[d,f]=y.useState([]),h=async()=>{o(!0),A(null);try{const g=await tX(r);f(g)}catch(g){A(g)}finally{o(!1)}};y.useEffect(()=>{h()},[r]);const m=async g=>{var w;try{g!=null&&g.id&&await nr.iniciarConsulta(g.id)}catch(j){console.error("Falha ao iniciar consulta no backend:",j)}finally{try{const j=g==null?void 0:g.id,N=(w=g==null?void 0:g.paciente)==null?void 0:w.id,C=j?`/medico/paciente/${N}/iniciar-consulta?consultaId=${j}`:`/medico/paciente/${N}/iniciar-consulta`;e(C)}catch{console.log("Iniciar consulta (fallback navegao)",g==null?void 0:g.id)}}},p=eX(r),x=d.filter(g=>a==="todos"?!0:g.status===a);return n.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-xl bg-blue-50 p-2 text-blue-600",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"h-5 w-5",children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),n.jsx("path",{d:"M16 2v4M8 2v4M3 10h18"})]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Consultas de Hoje"}),n.jsx("span",{className:"text-sm text-gray-500",children:p})]}),n.jsx("div",{className:"mt-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:n.jsxs("div",{className:"flex w-full gap-3 md:w-auto",children:[n.jsxs("div",{className:"relative w-full md:w-60",children:[n.jsxs("select",{value:a,onChange:g=>s(g.target.value),className:"w-full appearance-none rounded-lg border border-gray-300 bg-white px-3 py-2 pr-10 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",children:[n.jsx("option",{value:"todos",children:"Filtrar por status"}),n.jsx("option",{value:"pendente",children:"Pendentes"}),n.jsx("option",{value:"em_andamento",children:"Em Andamento"}),n.jsx("option",{value:"finalizado",children:"Finalizadas"})]}),n.jsx("svg",{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.085l3.71-3.855a.75.75 0 111.08 1.04l-4.25 4.417a.75.75 0 01-1.08 0L5.21 8.27a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),n.jsx(ms,{value:r,onChange:g=>t(g),className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 md:w-auto"})]})}),i&&n.jsx(nX,{}),!i&&l&&n.jsx(sX,{onRetry:h}),!i&&!l&&x.length===0&&n.jsx(iX,{}),!i&&!l&&x.length>0&&n.jsx("div",{className:"mt-6 space-y-4",children:x.map(g=>n.jsx(lX,{consulta:g,onIniciar:m},g.id))})]})}const Pa={async getPerfil(){const{data:e}=await ye.get("/secretarias/me/");return e},async listarSecretarias(e={}){const r="/secretarias/".replace(/\/?$/,"/");try{const{data:t}=await ye.get(r,{params:e});return Array.isArray(t==null?void 0:t.results)?t.results:Array.isArray(t)?t:[]}catch{return[]}},async listarMedicos(){const e="/api/medicos/".replace(/\/?$/,"/"),{data:r}=await ye.get(e,{params:{limit:200}});return Array.isArray(r==null?void 0:r.results)?r.results:r},async listarClinicas(){const{data:e}=await ye.get("/clinicas/");return Array.isArray(e==null?void 0:e.results)?e.results:e},async getConsultasDoMedico(e,r={}){const t="/api/consultas/",a=e?`${t}?medico=${e}`:t,{data:s}=await ye.get(a,{params:r});return s},async listarConsultasHoje(e){try{const{data:r}=await ye.get("/api/consultas/".replace(/\/?$/,"/"),{params:(()=>{const a=new Date,s=l=>String(l).padStart(2,"0"),i=`${a.getFullYear()}-${s(a.getMonth()+1)}-${s(a.getDate())}`,o={date:i,data:i,dia:i,data__date:i};return e&&(o.medico=e,o.medico_id=e),o})()});return Array.isArray(r==null?void 0:r.results)?r.results:Array.isArray(r)?r:[]}catch{return[]}},async listarSolicitacoesHoje(e){try{const r="/api/solicitacoes/".replace(/\/?$/,"/"),{data:t}=await ye.get(r,{params:(()=>{const s=new Date,i=A=>String(A).padStart(2,"0"),o=`${s.getFullYear()}-${i(s.getMonth()+1)}-${i(s.getDate())}`,l={date:o,data:o,dia:o,data__date:o};return e&&(l.medico=e,l.medico_id=e),l})()});return Array.isArray(t==null?void 0:t.results)?t.results:Array.isArray(t)?t:[]}catch{return[]}},async aceitarSolicitacao(e){var s;const r="/api/solicitacoes/".replace(/\/?$/,"/"),t=[`${r}${e}/aceitar/`,`${r}${e}/aceitar`,`${r}${e}/`];let a=null;for(const i of t)try{if(i.endsWith("/aceitar/")||i.endsWith("/aceitar")){const{data:l}=await ye.post(i);return l}const{data:o}=await ye.patch(i,{status:"CONFIRMADO",situacao:"CONFIRMADO",state:"CONFIRMADO"});return o}catch(o){if(((s=o==null?void 0:o.response)==null?void 0:s.status)===401)throw o;a=o;continue}try{return await this.confirmarConsulta(e)}catch{}if(a)throw a;return{ok:!1}},async recusarSolicitacao(e){var s;const r="/api/solicitacoes/".replace(/\/?$/,"/"),t=[`${r}${e}/recusar/`,`${r}${e}/recusar`,`${r}${e}/`];let a=null;for(const i of t)try{if(i.endsWith("/recusar/")||i.endsWith("/recusar")){const{data:l}=await ye.post(i);return l}const{data:o}=await ye.patch(i,{status:"CANCELADO",situacao:"CANCELADO",state:"CANCELADO"});return o}catch(o){if(((s=o==null?void 0:o.response)==null?void 0:s.status)===401)throw o;a=o;continue}if(a)throw a;return{ok:!1}},async cancelarSolicitacao(e){var s;const r="/api/solicitacoes/".replace(/\/?$/,"/"),t=[`${r}${e}/cancelar/`,`${r}${e}/cancelar`,`${r}${e}/`];let a=null;for(const i of t)try{if(i.endsWith("/cancelar/")||i.endsWith("/cancelar")){const{data:l}=await ye.post(i);return l}const{data:o}=await ye.patch(i,{status:"CANCELADO",situacao:"CANCELADO",state:"CANCELADO"});return o}catch(o){if(((s=o==null?void 0:o.response)==null?void 0:s.status)===401)throw o;a=o;continue}try{return await this.cancelarConsulta(e,"cancelado pela secretaria")}catch{}if(a)throw a;return{ok:!1}},async registrarSolicitacao(e={}){var o;const r="/api/solicitacoes/".replace(/\/?$/,"/"),t="/api/consultas/".replace(/\/?$/,"/"),a={...e};a.status=(a.status||a.situacao||"PENDENTE").toString().toUpperCase(),a.situacao=a.status,a.tipo=a.tipo||"inicial",a.tipo==="primeira"&&(a.tipo="inicial"),a.modalidade||(a.modalidade="presencial");const s=[r,`${r}consultas/`,`${t}solicitacoes/`,t];let i=null;for(const l of s){if(!l)continue;const A=l.endsWith("/")?l:`${l}/`;try{const{data:d}=await ye.post(A,a);return d}catch(d){if(((o=d==null?void 0:d.response)==null?void 0:o.status)===401)throw d;i=d;continue}}if(i)throw i;return{ok:!1}},async agendarConsulta(e){var m;const r="/agendamentos/".replace(/\/?$/,"/"),t="/api/consultas/".replace(/\/?$/,"/"),a={...e||{}},s=a.pacienteId||a.paciente_id||a.paciente,i=a.medicoId||a.medico_id||a.medico,o=a.data||a.dia||a.data_consulta,l=a.hora||a.horario,A=o&&l&&/^\d{4}-\d{2}-\d{2}$/.test(String(o))&&/^\d{2}:\d{2}$/.test(String(l))?`${o}T${l}:00`:a.data_hora||null,d={paciente:s,paciente_id:s,medico:i,medico_id:i,data:o,dia:o,data_consulta:o,data__date:o,hora:l,horario:l,data_hora:A,tipo:a.tipo||"rotina",motivo:a.motivo||a.observacoes||"Agendado",observacoes:a.observacoes||void 0,status:(a.status||"PENDENTE").toString().toUpperCase(),situacao:(a.situacao||a.status||"PENDENTE").toString().toUpperCase(),state:(a.state||a.situacao||a.status||"PENDENTE").toString().toUpperCase()},f=[r,t,`${r}create/`,`${t}create/`];let h=null;for(const p of f){const x=p.endsWith("/")?p:`${p}/`;try{const{data:g}=await ye.post(x,d);return g}catch(g){if(((m=g==null?void 0:g.response)==null?void 0:m.status)===401)throw g;h=g;continue}}if(h)throw h;return{ok:!1}},async atualizarConsulta(e,r){const t=`/agendamentos/${e}/`,{data:a}=await ye.patch(t,r);return a},async atualizarStatus(e,r){const t=`/agendamentos/${e}/`,a=String(r||"").toLowerCase(),s={status:a,situacao:a,state:a},{data:i}=await ye.patch(t,s);return i},async proporNovaData(e,r){var m;const t="/agendamentos/".replace(/\/?$/,"/"),a="/api/consultas/".replace(/\/?$/,"/"),s="/api/solicitacoes/".replace(/\/?$/,"/"),i=t.replace(/agendamentos\/?$/i,"agendamento/"),o=a.replace(/consultas\/?$/i,"consulta/"),l=s.replace(/solicitacoes\/?$/i,"solicitacao/"),d=(p=>{const x=typeof p=="string"?p:p instanceof Date?p.toISOString():String(p),g=(()=>{const N=/^(\d{4}-\d{2}-\d{2})/.exec(x);return N?N[1]:null})(),w=(()=>{const N=/T(\d{2}):(\d{2})/.exec(x);return N?`${N[1]}:${N[2]}`:null})(),j={status:"aguardando_paciente",situacao:"aguardando_paciente"};return x&&(j.data_hora=x),g&&(j.data=g,j.dia=g,j.data__date=g),w&&(j.hora=w,j.horario=w),j})(r),f=[`${t}${e}/propor/`,`${t}${e}/contraproposta/`,`${a}${e}/propor/`,`${a}${e}/contraproposta/`,`${s}${e}/propor/`,`${s}${e}/contraproposta/`,`${i}${e}/propor/`,`${i}${e}/contraproposta/`,`${o}${e}/propor/`,`${o}${e}/contraproposta/`,`${l}${e}/propor/`,`${l}${e}/contraproposta/`,`${t}${e}/`,`${a}${e}/`,`${s}${e}/`,`${i}${e}/`,`${o}${e}/`,`${l}${e}/`];let h=null;for(const p of f)try{if(/\/(propor|contraproposta)\/$/.test(p)){const{data:g}=await ye.post(p,d);return g}const{data:x}=await ye.patch(p,d);return x}catch(x){if(((m=x==null?void 0:x.response)==null?void 0:m.status)===401)throw x;h=x;continue}throw h||new Error("Endpoint de contraproposta no encontrado")},async reagendarConsulta(e,r){var m;const t="/agendamentos/".replace(/\/?$/,"/"),a="/api/consultas/".replace(/\/?$/,"/"),s="/api/solicitacoes/".replace(/\/?$/,"/"),i=t.replace(/agendamentos\/?$/i,"agendamento/"),o=a.replace(/consultas\/?$/i,"consulta/"),l=s.replace(/solicitacoes\/?$/i,"solicitacao/"),d=(p=>{const x=typeof p=="string"?p:p instanceof Date?p.toISOString():String(p),g=(()=>{const N=/^(\d{4}-\d{2}-\d{2})/.exec(x);return N?N[1]:null})(),w=(()=>{const N=/T(\d{2}):(\d{2})/.exec(x);return N?`${N[1]}:${N[2]}`:null})(),j={status:"confirmado",situacao:"confirmada"};return x&&(j.data_hora=x),g&&(j.data=g,j.dia=g,j.data__date=g),w&&(j.hora=w,j.horario=w),j})(r),f=[`${t}${e}/reagendar/`,`${a}${e}/reagendar/`,`${s}${e}/reagendar/`,`${i}${e}/reagendar/`,`${o}${e}/reagendar/`,`${l}${e}/reagendar/`,`${t}${e}/`,`${a}${e}/`,`${s}${e}/`,`${i}${e}/`,`${o}${e}/`,`${l}${e}/`];let h=null;for(const p of f)try{if(/\/(reagendar)\/$/.test(p)){const{data:g}=await ye.post(p,d);return g}const{data:x}=await ye.patch(p,d);return x}catch(x){if(((m=x==null?void 0:x.response)==null?void 0:m.status)===401)throw x;h=x;continue}throw h||new Error("Endpoint de reagendamento no encontrado")},async confirmarConsulta(e){var d;const r="/agendamentos/".replace(/\/?$/,"/"),t="/api/consultas/".replace(/\/?$/,"/"),a="/api/solicitacoes/".replace(/\/?$/,"/"),s=r.replace(/agendamentos\/?$/i,"agendamento/"),i=t.replace(/consultas\/?$/i,"consulta/"),o=a.replace(/solicitacoes\/?$/i,"solicitacao/"),l=[`${r}${e}/confirmar/`,`${t}${e}/confirmar/`,`${a}${e}/aceitar/`,`${a}${e}/confirmar/`,`${s}${e}/confirmar/`,`${i}${e}/confirmar/`,`${o}${e}/aceitar/`,`${o}${e}/confirmar/`,`${r}confirmar/${e}/`,`${t}confirmar/${e}/`,`${a}confirmar/${e}/`,`${r}${e}/`,`${t}${e}/`,`${a}${e}/`,`${s}${e}/`,`${i}${e}/`,`${o}${e}/`];let A=null;for(const f of l)try{if(/[\/]confirmar\/$/.test(f)||/[\/]aceitar\/$/.test(f)){const{data:m}=await ye.post(f);return m}const{data:h}=await ye.patch(f,{status:"CONFIRMADO",situacao:"CONFIRMADO",state:"CONFIRMADO"});return h}catch(h){if(((d=h==null?void 0:h.response)==null?void 0:d.status)===401)throw h;A=h;continue}try{const f=a,h=["consulta","consulta_id","agendamento","agendamento_id","id","pk","uuid"];for(const m of h)try{const{data:p}=await ye.get(f,{params:{[m]:e,limit:1,page_size:1}}),x=Array.isArray(p==null?void 0:p.results)?p.results:Array.isArray(p)?p:[],g=x==null?void 0:x[0],w=(g==null?void 0:g.id)||(g==null?void 0:g.pk)||(g==null?void 0:g.uuid);if(w){const j=[`${a}${w}/aceitar/`,`${o}${w}/aceitar/`,`${a}${w}/`,`${o}${w}/`];for(const N of j)try{if(/[\/]aceitar\/$/.test(N)){const{data:E}=await ye.post(N);return E}const{data:C}=await ye.patch(N,{status:"CONFIRMADO",situacao:"CONFIRMADO",state:"CONFIRMADO"});return C}catch(C){A=C;continue}}}catch{}}catch{}throw A||new Error("Endpoint de confirmao no encontrado")},async cancelarConsulta(e,r){var f;const t="/agendamentos/".replace(/\/?$/,"/"),a="/api/consultas/".replace(/\/?$/,"/"),s="/api/solicitacoes/".replace(/\/?$/,"/"),i=t.replace(/agendamentos\/?$/i,"agendamento/"),o=a.replace(/consultas\/?$/i,"consulta/"),l=s.replace(/solicitacoes\/?$/i,"solicitacao/"),A=[`${t}${e}/cancelar/`,`${a}${e}/cancelar/`,`${s}${e}/cancelar/`,`${i}${e}/cancelar/`,`${o}${e}/cancelar/`,`${l}${e}/cancelar/`,`${t}${e}/`,`${a}${e}/`,`${s}${e}/`,`${i}${e}/`,`${o}${e}/`,`${l}${e}/`];let d=null;for(const h of A)try{if(h.endsWith("/cancelar/")){const{data:p}=await ye.post(h,{motivo:r});return p}const{data:m}=await ye.patch(h,{status:"CANCELADO",situacao:"CANCELADO",state:"CANCELADO",motivo_cancelamento:r});return m}catch(m){if(((f=m==null?void 0:m.response)==null?void 0:f.status)===401)throw m;d=m;continue}throw d||new Error("Endpoint de cancelamento no encontrado")},async registrarPresenca(e){var i;const r="/agendamentos/".replace(/\/?$/,"/"),t="/api/consultas/".replace(/\/?$/,"/"),a=[`${r}${e}/presenca/`,`${t}${e}/presenca/`,`${r}${e}/`,`${t}${e}/`];let s=null;for(const o of a)try{if(o.endsWith("/presenca/")){const{data:A}=await ye.post(o);return A}const{data:l}=await ye.patch(o,{status:"REALIZADA",situacao:"REALIZADA",state:"REALIZADA"});return l}catch(l){if(((i=l==null?void 0:l.response)==null?void 0:i.status)===401)throw l;s=l;continue}if(s)throw s;return{ok:!1}},async registrarPaciente(e){const r="/auth/register/",t=String((e==null?void 0:e.nome)||"").trim(),[a,...s]=t.split(/\s+/),i=s.join(" "),o=String((e==null?void 0:e.email)||"").trim(),l=String((e==null?void 0:e.senha)||(e==null?void 0:e.password)||""),f={username:`${(o.split("@")[0]||a||"paciente").toLowerCase().replace(/[^a-z0-9]/g,"")}${Math.floor(Math.random()*1e4)}`,email:o,password:l,first_name:a,last_name:i,role:"paciente",cpf:(e==null?void 0:e.cpf)||"",telefone:(e==null?void 0:e.telefone)||"",data_nascimento:(e==null?void 0:e.data_nascimento)||"",endereco:(e==null?void 0:e.endereco)||""},{data:h}=await ye.post(r,f,{});return h},async buscarPacientes(e){try{const r="/api/pacientes/".replace(/\/?$/,"/"),{data:t}=await ye.get(r,{params:{search:e,limit:20}});let a=Array.isArray(t==null?void 0:t.results)?t.results:Array.isArray(t)?t:[];if(a.length>0)return a}catch{}try{const r="/users/".replace(/\/?$/,"/"),{data:t}=await ye.get(r,{params:{search:e,limit:20,role:"paciente",tipo:"paciente"}});return(Array.isArray(t==null?void 0:t.results)?t.results:Array.isArray(t)?t:[]).map(i=>({id:(i==null?void 0:i.id)||(i==null?void 0:i.user_id)||(i==null?void 0:i.pk),user:{first_name:i==null?void 0:i.first_name,last_name:i==null?void 0:i.last_name,username:i==null?void 0:i.username},nome:(i==null?void 0:i.nome)||void 0,cpf:i==null?void 0:i.cpf}))}catch{}return[]},async getMedicosDaSecretaria(e){const r=[],t=a=>{(Array.isArray(a)?a:Array.isArray(a==null?void 0:a.results)?a.results:[]).forEach(i=>{i&&r.push(i)})};if(e)try{const a="/secretarias/".replace(/\/?$/,"/"),s=await ye.get(`${a}${e}/medicos/`).catch(()=>null);s!=null&&s.data&&t(s.data)}catch{}try{const a=await this.getPerfil().catch(()=>null),s=(a==null?void 0:a.medico)||(a==null?void 0:a.medico_id),i=(a==null?void 0:a.medicos)||(a==null?void 0:a.medicos_vinculados);s&&r.push(s),Array.isArray(i)&&t(i)}catch{}return r},async vincularMedico(e,r){if(!e||!r)throw new Error("IDs obrigatrios");const t="/secretarias/".replace(/\/?$/,"/"),a="/api/medicos/".replace(/\/?$/,"/"),s={medico:r,medico_id:r,secretaria:e,secretaria_id:e},i=[{m:"post",u:`${t}${e}/vincular_medico/`,b:s},{m:"post",u:`${a}${r}/vincular_secretaria/`,b:s},{m:"patch",u:`${a}${r}/`,b:{secretaria:e,secretaria_id:e}},{m:"patch",u:`${t}${e}/`,b:{medico:r,medico_id:r}}];let o=null;for(const l of i)try{const{data:A}=await ye[l.m](l.u,l.b);return A}catch(A){o=A}if(o)throw o;return{ok:!1}}},sm=Object.freeze(Object.defineProperty({__proto__:null,secretariaService:Pa},Symbol.toStringTag,{value:"Module"}));function AX(){const[e,r]=y.useState(!0),[t,a]=y.useState([]),[s,i]=y.useState("pendente"),{toast:o}=Ga(),[l,A]=y.useState(null),d=V=>String(V).padStart(2,"0"),f=(()=>{const V=new Date;return`${V.getFullYear()}-${d(V.getMonth()+1)}-${d(V.getDate())}`})(),[h,m]=y.useState(f),[p,x]=y.useState([]),[g,w]=y.useState(!1),[j,N]=y.useState(!1),[C,E]=y.useState(!1),[Q,U]=y.useState("");y.useEffect(()=>{let V=!0;return(async()=>{r(!0);try{const ee=await nr._resolveMedicoId().catch(()=>null),ce=await Pa.listarSolicitacoesHoje(ee),D=(Array.isArray(ce)?ce:[]).map(K=>{var O,Z,oe;const te=K.data_hora||K.inicio||K.horario||null,Y=K.data||K.dia||(typeof te=="string"?te.slice(0,10):null),X=K.hora||K.horario||typeof te=="string"&&((O=te.match(/T(\d{2}:\d{2})/))==null?void 0:O[1])||null;return{id:K.id,paciente:((Z=K.paciente)==null?void 0:Z.nome)||((oe=K.paciente)!=null&&oe.user?`${K.paciente.user.first_name||""} ${K.paciente.user.last_name||""}`.trim():"Paciente"),dataStr:Y,horaStr:X,dataHora:Y&&X?`${Y}T${X}:00`:te,tipo:K.tipo||K.modalidade||"consulta",status:String(K.status||K.situacao||"pendente").toLowerCase(),raw:K}});V&&a(D)}catch{}finally{V&&r(!1)}})(),()=>{V=!1}},[]),y.useEffect(()=>{const V=l!=null&&l.dataHora?new Date(l.dataHora):null;if(V&&!isNaN(V)){const ee=`${V.getFullYear()}-${d(V.getMonth()+1)}-${d(V.getDate())}`;m(ee)}},[l==null?void 0:l.dataHora]),y.useEffect(()=>{let V=!0;return(async()=>{if(h){w(!0);try{const ee=await nr.getConsultasDoMedico({date:h}),ce=Array.isArray(ee)?ee:Array.isArray(ee==null?void 0:ee.results)?ee.results:[];V&&x(ce)}catch{V&&x([])}finally{V&&w(!1)}}})(),()=>{V=!1}},[h]);const F=y.useMemo(()=>[{label:"Dashboard",href:"/medico/dashboard"},{label:"Consultas de Hoje",href:"/medico/consultas/hoje"},{label:"Meus Pacientes",href:"/medico/meus-pacientes"},{label:"Solicitaes",href:"/medico/solicitacoes"}],[]),L=y.useMemo(()=>{const V=String(s||"").toLowerCase();return!V||V==="todas"?t:t.filter(ee=>String(ee.status||"").toLowerCase()===V)},[t,s]),_=async V=>{var D,K;const ee=t.find(te=>te.id===V),ce=(ee==null?void 0:ee.raw)||{},k=((D=ce.consulta)==null?void 0:D.id)||ce.consulta_id||((K=ce.agendamento)==null?void 0:K.id)||ce.agendamento_id||ce.id;try{await Pa.aceitarSolicitacao(V),a(te=>te.map(Y=>Y.id===V?{...Y,status:"confirmada"}:Y)),o({title:"Solicitao confirmada"})}catch{try{if(k&&k!==V){await Pa.confirmarConsulta(k),a(Y=>Y.map(X=>X.id===V?{...X,status:"confirmada"}:X)),o({title:"Solicitao confirmada"});return}throw new Error("Falha")}catch{o({title:"Erro",description:"Falha ao confirmar",variant:"destructive"})}}},q=async V=>{var D,K;const ee=t.find(te=>te.id===V),ce=(ee==null?void 0:ee.raw)||{},k=((D=ce.consulta)==null?void 0:D.id)||ce.consulta_id||((K=ce.agendamento)==null?void 0:K.id)||ce.agendamento_id||ce.id;try{await Pa.cancelarSolicitacao(V),a(te=>te.map(Y=>Y.id===V?{...Y,status:"cancelada"}:Y)),o({title:"Solicitao cancelada"})}catch{try{if(k&&k!==V){await Pa.cancelarConsulta(k,"cancelado pelo mdico/secretaria"),a(Y=>Y.map(X=>X.id===V?{...X,status:"cancelada"}:X)),o({title:"Solicitao cancelada"});return}throw new Error("Falha")}catch{o({title:"Erro",description:"Falha ao cancelar",variant:"destructive"})}}},R=async()=>{if(!l)return;const V=h,ee=Q&&/^\d{2}:\d{2}$/.test(Q)?`${V}T${Q}:00`:`${V}T00:00:00`;try{await Pa.proporNovaData(l.id,ee),a(ce=>ce.map(k=>k.id===l.id?{...k,status:"aguardando_paciente",dataHora:ee,dataStr:V,horaStr:Q}:k)),N(!1),o({title:"Contraproposta enviada",description:"Aguardando resposta do paciente"})}catch{o({title:"Erro",description:"Falha ao propor nova data",variant:"destructive"})}},H=async()=>{if(!l)return;const V=h,ee=Q&&/^\d{2}:\d{2}$/.test(Q)?`${V}T${Q}:00`:`${V}T00:00:00`;try{await Pa.reagendarConsulta(l.id,ee),a(ce=>ce.map(k=>k.id===l.id?{...k,status:"confirmada",dataHora:ee,dataStr:V,horaStr:Q}:k)),E(!1),o({title:"Consulta reagendada"})}catch{o({title:"Erro",description:"Falha ao reagendar",variant:"destructive"})}},J=y.useMemo(()=>{const V=[];for(let ee=8;ee<18;ee++)V.push(`${String(ee).padStart(2,"0")}:00`);return V},[]),T=V=>(p||[]).some(ce=>{var K;const k=String((ce==null?void 0:ce.hora)||(ce==null?void 0:ce.horario)||(ce==null?void 0:ce.data_hora)||"");return((K=k.match(/(\d{2}:\d{2})/)||k.match(/T(\d{2}:\d{2})/))==null?void 0:K[1])===V}),re=V=>String(V||"").toLowerCase(),z=V=>{const ee=re(V);return ee.includes("aguardando_paciente")?"Aguardando paciente":ee.includes("confirm")?"Confirmada":ee.includes("cancel")?"Cancelada":ee.includes("agend")||ee.includes("pendente")?"Agendada":V},G=(V,ee,ce)=>{const k=V?new Date(V):null,D=!!ce||k&&!isNaN(k.getTime()),K=k&&!isNaN(k.getTime())?k.toLocaleDateString("pt-BR"):ee?new Date(`${ee}T00:00:00`).toLocaleDateString("pt-BR"):"",te=ce||(k&&!isNaN(k.getTime())?k.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"");return`${K}${D?` ${te}`:""}`};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Solicitaes de Consultas"}),n.jsx(Wi,{tabs:F,basePath:"/medico"}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Solicitaes de Hoje"})}),n.jsxs(Le,{children:[n.jsx("div",{className:"flex items-center gap-3 mb-3",children:n.jsxs(Wr,{value:s,onValueChange:i,children:[n.jsx(Kr,{className:"w-48",children:n.jsx(Gr,{placeholder:"Status"})}),n.jsxs(zr,{children:[n.jsx(at,{value:"pendente",children:"Pendentes"}),n.jsx(at,{value:"confirmada",children:"Confirmadas"}),n.jsx(at,{value:"cancelada",children:"Canceladas"}),n.jsx(at,{value:"aguardando_paciente",children:"Aguardando paciente"}),n.jsx(at,{value:"todas",children:"Todas"})]})]})}),e?n.jsx(Nr,{className:"h-16 w-full"}):L.length===0?n.jsx("div",{className:"text-muted-foreground",children:"Nenhuma solicitao encontrada."}):n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(zo,{children:[n.jsx(Vo,{children:n.jsxs(nn,{children:[n.jsx(vr,{children:"Paciente"}),n.jsx(vr,{children:"Tipo"}),n.jsx(vr,{children:"Data/Hora"}),n.jsx(vr,{children:"Status"}),n.jsx(vr,{className:"text-right",children:"Aes"})]})}),n.jsx(qo,{children:L.map(V=>n.jsxs(nn,{onClick:()=>A(V),className:(l==null?void 0:l.id)===V.id?"bg-muted/30 cursor-pointer":"cursor-pointer",children:[n.jsx(dr,{children:V.paciente}),n.jsx(dr,{children:V.tipo}),n.jsx(dr,{children:G(V.dataHora,V.dataStr,V.horaStr)}),n.jsx(dr,{children:n.jsx(lr,{variant:"outline",className:"capitalize",children:z(V.status)})}),n.jsx(dr,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[["pendente","agendada"].includes(V.status)&&n.jsx(s0,{children:n.jsxs(Yh,{children:[n.jsx(Xh,{asChild:!0,children:n.jsx(we,{"aria-label":"Confirmar",size:"icon-sm",variant:"success",onClick:()=>_(V.id),children:n.jsx(po,{className:"h-4 w-4"})})}),n.jsx(_f,{children:"Confirmar"})]})}),["pendente","agendada","confirmada","confirmado"].includes(V.status)&&n.jsxs(we,{size:"sm",variant:"destructive",onClick:()=>q(V.id),children:[n.jsx(fs,{className:"h-4 w-4 mr-1"})," Cancelar"]}),n.jsxs(s0,{children:[["pendente","agendada"].includes(V.status)&&n.jsxs(Yh,{children:[n.jsx(Xh,{asChild:!0,children:n.jsx(we,{"aria-label":"Propor nova data",size:"icon-sm",variant:"info",onClick:()=>{A(V),N(!0)},children:n.jsx(pr,{className:"h-4 w-4"})})}),n.jsx(_f,{children:"Propor nova data"})]}),["confirmada","confirmado"].includes(V.status)&&n.jsxs(Yh,{children:[n.jsx(Xh,{asChild:!0,children:n.jsx(we,{"aria-label":"Reagendar",size:"icon-sm",variant:"info",onClick:()=>{A(V),E(!0)},children:n.jsx(pr,{className:"h-4 w-4"})})}),n.jsx(_f,{children:"Reagendar"})]})]})]})})]},V.id))})]}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Agenda do dia"})}),n.jsxs(Le,{children:[n.jsx("div",{className:"flex items-center gap-3 mb-3",children:n.jsx(ms,{value:h,onChange:m})}),g?n.jsx(Nr,{className:"h-16 w-full"}):n.jsx("div",{className:"divide-y border rounded",children:J.map(V=>n.jsxs("div",{className:`flex items-center justify-between px-3 py-2 ${T(V)?"bg-red-50 text-red-700 cursor-not-allowed":"cursor-pointer hover:bg-muted/30"}`,onClick:()=>{if(!l||T(V))return;U(V),re(l.status).includes("confirm")?E(!0):N(!0)},role:"button","aria-disabled":T(V),children:[n.jsx("span",{className:"text-sm",children:V}),n.jsx("span",{className:"text-xs text-muted-foreground",children:T(V)?"Ocupado":"Livre"})]},V))})]})]})]})]})]}),n.jsx(uA,{open:j,onOpenChange:N,children:n.jsxs(dc,{children:[n.jsx(uc,{children:n.jsx(fc,{children:"Propor nova data"})}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ms,{value:h,onChange:m}),n.jsx(He,{placeholder:"HH:MM",value:Q,onChange:V=>U(V.target.value)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Dica: clique em um horrio livre na agenda ao lado para preencher automaticamente."})]}),n.jsxs(fA,{children:[n.jsx(we,{variant:"outline",onClick:()=>N(!1),children:"Cancelar"}),n.jsx(we,{onClick:R,children:"Enviar contraproposta"})]})]})}),n.jsx(uA,{open:C,onOpenChange:E,children:n.jsxs(dc,{children:[n.jsx(uc,{children:n.jsx(fc,{children:"Reagendar consulta"})}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ms,{value:h,onChange:m}),n.jsx(He,{placeholder:"HH:MM",value:Q,onChange:V=>U(V.target.value)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Selecione um horrio livre na agenda ao lado."})]}),n.jsxs(fA,{children:[n.jsx(we,{variant:"outline",onClick:()=>E(!1),children:"Cancelar"}),n.jsx(we,{onClick:H,children:"Salvar"})]})]})})]})}const Vg=y.forwardRef(({className:e,checked:r,onCheckedChange:t,disabled:a,...s},i)=>{const o=l=>{t&&t(l.target.checked)};return n.jsxs("div",{className:"relative inline-flex items-center",children:[n.jsx("input",{type:"checkbox",ref:i,checked:r,onChange:o,disabled:a,className:"sr-only",...s}),n.jsx("div",{className:lt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground","transition-all duration-200 cursor-pointer",r?"bg-primary border-primary text-primary-foreground":"border-input bg-background hover:border-primary/50",a&&"cursor-not-allowed opacity-50",e),onClick:()=>!a&&t&&t(!r),children:r&&n.jsx(_1,{className:"h-3 w-3 text-current flex items-center justify-center w-full h-full"})})]})});Vg.displayName="Checkbox";class dX{constructor(){this.baseUrl="/api/notificacoes/",this.verbose="true".toLowerCase()==="true"}async enviarNotificacaoInterna({pacienteId:r,titulo:t,mensagem:a,tipo:s="receita",dados:i={},prioridade:o="normal"}){try{const l={destinatario_id:r,titulo:t,mensagem:a,tipo:s,dados:i,prioridade:o,canal:"interno"},A=await ye.post(`${this.baseUrl}enviar/`,l);return this.verbose&&console.log("[NotificationService] Notificao interna enviada:",A.data),A.data}catch(l){throw console.error("[NotificationService] Erro ao enviar notificao interna:",l),l}}async enviarReceitaPorEmail({pacienteId:r,email:t,receitaId:a,arquivo:s,nomeArquivo:i,assunto:o,mensagem:l,linkDownload:A}){try{const d=new FormData;if(d.append("destinatario_id",r),d.append("email",t),d.append("receita_id",a),d.append("canal","email"),d.append("tipo","receita"),o&&d.append("assunto",o),l&&d.append("mensagem",l),s){const h=i||`receita_${a}.pdf`;d.append("arquivo",s,h)}A&&d.append("link_download",A);const f=await ye.post(`${this.baseUrl}enviar-email/`,d,{headers:{"Content-Type":"multipart/form-data"}});return this.verbose&&console.log("[NotificationService] E-mail enviado:",f.data),f.data}catch(d){throw console.error("[NotificationService] Erro ao enviar e-mail:",d),d}}async enviarReceitaPorSMS({pacienteId:r,telefone:t,receitaId:a,mensagem:s,linkDownload:i}){var o,l;try{const A=t==null?void 0:t.replace(/\D/g,"");if(!A||A.length<10)throw new Error("Nmero de telefone invlido. Deve conter pelo menos 10 dgitos.");let d=A;A.length===11&&A.startsWith("0")&&(d=A.substring(1)),A.length===10?d=`55${A}`:A.length===11&&(d=`55${A}`);const f={destinatario_id:r,telefone:d,telefone_original:t,receita_id:a,mensagem:s||`Nova receita mdica disponvel. Acesse: ${i||window.location.origin}/paciente/receitas`,link_download:i,canal:"sms",tipo:"receita"},h=[`${this.baseUrl}enviar-sms/`,"/api/sms/enviar/","/sms/send/","/notifications/sms/","/receitas/sms/","/comunicacao/sms/"];let m=null;for(const p of h)try{this.verbose&&console.log(`[NotificationService] Tentando enviar SMS via: ${p}`,f);const x=await ye.post(p,f);return this.verbose&&console.log("[NotificationService] SMS enviado com sucesso:",x.data),{success:!0,data:x.data,message:"SMS enviado com sucesso",endpoint:p,telefone_usado:d}}catch(x){m=x;const g=(o=x.response)==null?void 0:o.status;if(this.verbose&&console.log(`[NotificationService] Falha no endpoint ${p}:`,x.message),g===401||g===403)throw x;continue}throw console.error("[NotificationService] Todos os endpoints de SMS falharam. ltimo erro:",m),m||new Error("Nenhum endpoint de SMS disponvel ou configurado")}catch(A){return console.error("[NotificationService] Erro ao enviar SMS:",A),{success:!1,error:((l=A.response)==null?void 0:l.data)||A.message,message:A.message||"Falha ao enviar SMS"}}}async enviarReceitaMulticanal({pacienteId:r,receitaId:t,arquivo:a,nomeArquivo:s,canais:i=["interno"],dadosPaciente:o={},configuracoes:l={}}){const A={interno:null,email:null,sms:null,erros:[]};if(i.includes("interno"))try{const d=l.tituloInterno||"Nova receita mdica disponvel",f=l.mensagemInterna||"Voc tem uma nova receita mdica disponvel. Acesse sua rea do paciente para visualizar.";A.interno=await this.enviarNotificacaoInterna({pacienteId:r,titulo:d,mensagem:f,tipo:"receita",dados:{receita_id:t},prioridade:"alta"})}catch(d){A.erros.push({canal:"interno",erro:d.message})}if(i.includes("email")&&o.email)try{const d=l.assuntoEmail||"Nova receita mdica",f=`Ol ${o.nome||""},

Voc tem uma nova receita mdica em anexo.

Atenciosamente,
Equipe Mdica`,h=`Ol ${o.nome||""},

Sua receita mdica est disponvel neste link: ${l.linkDownload}.

Atenciosamente,
Equipe Mdica`,m=l.mensagemEmail||(a?f:h);A.email=await this.enviarReceitaPorEmail({pacienteId:r,email:o.email,receitaId:t,arquivo:a,nomeArquivo:s,assunto:d,mensagem:m,linkDownload:l.linkDownload})}catch(d){A.erros.push({canal:"email",erro:d.message})}if(i.includes("sms")&&o.telefone)try{const d=l.mensagemSMS||`Nova receita mdica disponvel. Acesse: ${l.linkSite||window.location.origin}/paciente/receitas`,f=await this.enviarReceitaPorSMS({pacienteId:r,telefone:o.telefone,receitaId:t,mensagem:d,linkDownload:l.linkDownload});f.success?A.sms=f:A.erros.push({canal:"sms",erro:f.message||"Falha ao enviar SMS"})}catch(d){A.erros.push({canal:"sms",erro:d.message})}return A}async buscarNotificacoes({page:r=1,pageSize:t=20,tipo:a=null,lidas:s=null}){try{const i={page:r,page_size:t};return a&&(i.tipo=a),s!==null&&(i.lidas=s),(await ye.get(this.baseUrl,{params:i})).data}catch(i){throw console.error("[NotificationService] Erro ao buscar notificaes:",i),i}}async marcarComoLida(r){try{return(await ye.patch(`${this.baseUrl}${r}/`,{lida:!0,data_leitura:new Date().toISOString()})).data}catch(t){throw console.error("[NotificationService] Erro ao marcar notificao como lida:",t),t}}async marcarTodasComoLidas(){try{return(await ye.post(`${this.baseUrl}marcar-todas-lidas/`)).data}catch(r){throw console.error("[NotificationService] Erro ao marcar todas como lidas:",r),r}}async deletarNotificacao(r){try{return await ye.delete(`${this.baseUrl}${r}/`),!0}catch(t){throw console.error("[NotificationService] Erro ao deletar notificao:",t),t}}async buscarConfiguracoes(){try{return(await ye.get(`${this.baseUrl}configuracoes/`)).data}catch(r){return console.error("[NotificationService] Erro ao buscar configuraes:",r),{email_ativo:!0,sms_ativo:!1,push_ativo:!0,tipos_habilitados:["receita","consulta","exame"]}}}async atualizarConfiguracoes(r){try{return(await ye.put(`${this.baseUrl}configuracoes/`,r)).data}catch(t){throw console.error("[NotificationService] Erro ao atualizar configuraes:",t),t}}}const uX=new dX,Yw=async()=>(await Qs(async()=>{const{default:e}=await import("./localAgent-1Cw4NADB.js");return{default:e}},[])).default;function fX(){var nt,_r,vt,Zt,oa,Xt,Nn,gs,hn,is,dt,za,Ya,Ns,fi,Xa;const[e,r]=y.useState(!1),[t,a]=y.useState(null),[s,i]=y.useState(""),[o,l]=y.useState(null),[A,d]=y.useState(""),{id:f}=$o(),h=ns(),m=ss(),{toast:p}=Ga(),[x,g]=y.useState(((nt=h.state)==null?void 0:nt.receitaId)||null),w=async Oe=>{const Ze=await Oe.arrayBuffer(),St=await crypto.subtle.digest("SHA-256",Ze);return Array.from(new Uint8Array(St)).map(st=>st.toString(16).padStart(2,"0")).join("")},j=((_r=h.state)==null?void 0:_r.fromConsulta)||{},N=((vt=h.state)==null?void 0:vt.consultaId)||j.consultaId,C=j.receitaItems||[],E=Array.isArray(C)&&C.length>0,Q=Oe=>{if(!Oe)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(Oe))return Oe;const Ze=new Date(Oe);if(!isNaN(Ze)){const st=Ze.getFullYear(),Nt=String(Ze.getMonth()+1).padStart(2,"0"),cr=String(Ze.getDate()).padStart(2,"0");return`${st}-${Nt}-${cr}`}const St=String(Oe).match(/^(\d{2})\/(\d{2})\/(\d{4})$/);return St?`${St[3]}-${St[2]}-${St[1]}`:""},U=Oe=>{if(!Oe)return"";const Ze=new Date(Oe);if(isNaN(Ze))return"";const St=new Date;let st=St.getFullYear()-Ze.getFullYear();const Nt=St.getMonth()-Ze.getMonth(),cr=St.getDate()-Ze.getDate();(Nt<0||Nt===0&&cr<0)&&st--;let Ar=new Date(St.getFullYear(),Ze.getMonth(),Ze.getDate());Ar>St&&(Ar=new Date(St.getFullYear()-1,Ze.getMonth(),Ze.getDate()));const Hr=1440*60*1e3,Yr=Math.floor((St-Ar)/Hr);return`${st} anos e ${Yr} dias`},F=y.useMemo(()=>new Date().toLocaleDateString(),[]),L=Oe=>{for(const Ze of Oe){if(Ze==null)continue;const St=typeof Ze=="string"?Ze.trim():Ze;if(St)return typeof St=="string"?St:String(St)}return""},[_,q]=y.useState({nome_paciente:"",idade:"",rg:"",data_nascimento:"",medicamento:j.medicamentos||"",posologia:j.posologia||"",validade_receita:j.validade||"",medico:"",crm:"",endereco_consultorio:"",telefone_consultorio:"",observacoes:"",formato:"pdf",acao:"imprimir",email_paciente:"",email_medico:""}),[R,H]=y.useState(!1),[J,T]=y.useState(!0),[re,z]=y.useState(!1),[G,V]=y.useState(!1),[ee,ce]=y.useState("token"),[k,D]=y.useState(""),[K,te]=y.useState(Ls),[Y,X]=y.useState(null);y.useEffect(()=>{let Oe=!0;const Ze=async()=>{let Nt=_.medico_id||null;try{Nt||(Nt=await nr._resolveMedicoId().catch(()=>null))}catch{}Nt=Nt||(typeof window<"u"?localStorage.getItem("medico_id"):null)||"default";const cr=gm(Nt),Ar=$f(Nt);Oe&&(te(cr||Ls),X(Ar||null))};Ze();const St=Nt=>{const cr=(Nt==null?void 0:Nt.key)||"";(cr.startsWith("pdf_template_config_")||cr.startsWith("template_config_")||cr.startsWith("doctor_logo_"))&&Ze()},st=()=>{document.visibilityState==="visible"&&Ze()};return window.addEventListener("focus",Ze),window.addEventListener("storage",St),document.addEventListener("visibilitychange",st),()=>{Oe=!1,window.removeEventListener("storage",St),window.removeEventListener("focus",Ze),document.removeEventListener("visibilitychange",st)}},[_.medico_id]);const O=y.useMemo(()=>{var St,st,Nt,cr,Ar,Hr;const Oe=(K==null?void 0:K.content)||{},Ze=(K==null?void 0:K.header)||{};return{accentBorderColor:((St=Oe==null?void 0:Oe.colors)==null?void 0:St.accent)||((st=K==null?void 0:K.branding)==null?void 0:st.primaryColor)||"#3b82f6",titleSize:`${((Nt=Oe==null?void 0:Oe.fontSize)==null?void 0:Nt.title)??16}pt`,smallSize:`${((cr=Oe==null?void 0:Oe.fontSize)==null?void 0:cr.small)??10}pt`,primaryColor:((Ar=Oe==null?void 0:Oe.colors)==null?void 0:Ar.primary)||"#1f2937",secondaryColor:((Hr=Oe==null?void 0:Oe.colors)==null?void 0:Hr.secondary)||"#6b7280",showLogo:(Ze==null?void 0:Ze.showLogo)!==!1,headerBgColor:(Ze==null?void 0:Ze.backgroundColor)||"#ffffff",headerBorderBottom:(Ze==null?void 0:Ze.borderBottom)!==!1,headerBorderColor:(Ze==null?void 0:Ze.borderColor)||"#e5e7eb",logoPosition:(Ze==null?void 0:Ze.logoPosition)||"left",doctorInfoPosition:(Ze==null?void 0:Ze.doctorInfoPosition)||"right"}},[K]),{user:Z,ephemeralCertFile:oe,setEphemeralCertFile:pe,ephemeralCertPassword:xe,setEphemeralCertPassword:_e,clearEphemeralCert:Fe}=lc(),[he,Ae]=y.useState(oe||null),[ct,gt]=y.useState(xe||"");y.useEffect(()=>{pe(he)},[he,pe]),y.useEffect(()=>{_e(ct)},[ct,_e]);const pt=y.useMemo(()=>!he||!ct?null:{arquivo:he,senha:ct,modo:"pfx"},[he,ct]),[Se,it]=y.useState(null),[Ke,Ct]=y.useState(null),[jt,ur]=y.useState({ok:!0,errors:[],expected:{medicoId:null,pacienteId:f,consultaId:N}});y.useEffect(()=>{let Oe=!0;async function Ze(){var St,st,Nt,cr,Ar,Hr,Yr,Qt,ja,er,Na,Rr,Ur,Vt,Vr,on,Rs,Bn,Wo,Ba,Go,ln,wc,xo;T(!0);try{try{const mt=await nr.getPerfil(),We=(mt==null?void 0:mt.user)||(mt==null?void 0:mt.usuario)||{},Xr=L([`${(We==null?void 0:We.first_name)||""} ${(We==null?void 0:We.last_name)||""}`.trim(),mt==null?void 0:mt.nome,mt==null?void 0:mt.nome_completo,mt==null?void 0:mt.full_name,mt==null?void 0:mt.name]),yt=L([mt==null?void 0:mt.crm,mt==null?void 0:mt.matricula,mt==null?void 0:mt.registro,mt==null?void 0:mt.crm_numero,We==null?void 0:We.crm]),aa=L([mt==null?void 0:mt.endereco_consultorio,mt==null?void 0:mt.consultorio_endereco,mt==null?void 0:mt.endereco,We==null?void 0:We.endereco,(St=mt==null?void 0:mt.clinica)==null?void 0:St.endereco]),ma=L([mt==null?void 0:mt.telefone_consultorio,mt==null?void 0:mt.consultorio_telefone,mt==null?void 0:mt.telefone,We==null?void 0:We.telefone,We==null?void 0:We.phone,(st=mt==null?void 0:mt.clinica)==null?void 0:st.telefone,mt==null?void 0:mt.celular]),Cn=L([We==null?void 0:We.email_institucional,We==null?void 0:We.email,mt==null?void 0:mt.email_institucional,mt==null?void 0:mt.email,mt==null?void 0:mt.contato_email]),Jr=((Nt=mt==null?void 0:mt.medico)==null?void 0:Nt.id)||(mt==null?void 0:mt.id)||null;Oe&&mt&&(q(cn=>({...cn,medico:Xr||cn.medico,crm:yt||cn.crm,endereco_consultorio:aa||cn.endereco_consultorio||"",telefone_consultorio:ma||cn.telefone_consultorio||"",email_medico:Cn||cn.email_medico||""})),ur(cn=>({...cn,expected:{...cn.expected,medicoId:Jr}})))}catch{}try{const mt="/api/pacientes/".replace(/\/?$/,"/");let We=null,Xr=null;try{const{data:yt}=await ye.get(`${mt}${f}/`);We=yt}catch(yt){console.error("Erro ao carregar dados do mdico:",yt)}if(!We){const yt=[{id:f},{paciente_id:f},{user:f},{usuario:f},{user__id:f},{usuario_id:f}];for(const aa of yt)try{const{data:ma}=await ye.get(mt,{params:aa}),Cn=Array.isArray(ma==null?void 0:ma.results)?ma.results:Array.isArray(ma)?ma:[];if(Cn!=null&&Cn.length){We=Cn[0];break}if(ma!=null&&ma.id){We=ma;break}}catch(ma){console.error("Erro ao carregar dados do paciente:",ma)}}if(!We&&N)try{const{data:yt}=await ye.get(`/consultas/${N}/`);Xr=yt;const aa=(yt==null?void 0:yt.paciente)||(yt!=null&&yt.paciente_id?{id:yt.paciente_id}:null);aa&&(We=aa)}catch(yt){console.error("Erro ao carregar dados do usurio:",yt)}if(!We&&(j!=null&&j.paciente)&&(We=j.paciente),Oe&&We){const yt=(We==null?void 0:We.user)||(We==null?void 0:We.usuario)||{},aa=L([yt==null?void 0:yt.display_name,`${(yt==null?void 0:yt.first_name)||""} ${(yt==null?void 0:yt.last_name)||""}`.trim(),yt==null?void 0:yt.nome,yt==null?void 0:yt.nome_completo,We==null?void 0:We.nome,We==null?void 0:We.nome_completo,We==null?void 0:We.name]),ma=Q((yt==null?void 0:yt.data_nascimento)||(yt==null?void 0:yt.nascimento)||(yt==null?void 0:yt.dob)||(We==null?void 0:We.data_nascimento)||(We==null?void 0:We.nascimento)||(We==null?void 0:We.dob)||"");let Cn=L([yt==null?void 0:yt.cpf,(cr=yt==null?void 0:yt.profile)==null?void 0:cr.cpf,(Ar=yt==null?void 0:yt.meu_app_user)==null?void 0:Ar.cpf,(Hr=yt==null?void 0:yt.dados)==null?void 0:Hr.cpf,We==null?void 0:We.cpf,(Yr=We==null?void 0:We.profile)==null?void 0:Yr.cpf,(Qt=We==null?void 0:We.meu_app_user)==null?void 0:Qt.cpf,(ja=We==null?void 0:We.dados)==null?void 0:ja.cpf,(er=We==null?void 0:We.usuario)==null?void 0:er.cpf,(Rr=(Na=We==null?void 0:We.usuario)==null?void 0:Na.profile)==null?void 0:Rr.cpf,(Vt=(Ur=We==null?void 0:We.usuario)==null?void 0:Ur.meu_app_user)==null?void 0:Vt.cpf,(Vr=j==null?void 0:j.paciente)==null?void 0:Vr.cpf,j==null?void 0:j.cpf,We==null?void 0:We.documento,We==null?void 0:We.doc,We==null?void 0:We.rg]);if(!Cn)try{let Ca=null;const Yi=yt&&typeof yt=="object"&&Object.keys(yt).length>0;if(typeof yt=="number"||typeof yt=="string"?Ca=yt:Yi&&(Ca=yt.id||yt.pk||yt.user||yt.usuario||null),Ca||(Ca=((on=We==null?void 0:We.usuario)==null?void 0:on.id)||((Rs=We==null?void 0:We.user)==null?void 0:Rs.id)||(We==null?void 0:We.usuario_id)||(We==null?void 0:We.user_id)||(typeof(We==null?void 0:We.usuario)=="number"||typeof(We==null?void 0:We.usuario)=="string"?We.usuario:null)||(typeof(We==null?void 0:We.user)=="number"||typeof(We==null?void 0:We.user)=="string"?We.user:null)),Ca){const la="/api/users/".replace(/\/?$/,"/"),{data:mn}=await ye.get(`${la}${Ca}/`);Cn=L([mn==null?void 0:mn.cpf,(Bn=mn==null?void 0:mn.profile)==null?void 0:Bn.cpf,(Wo=mn==null?void 0:mn.meu_app_user)==null?void 0:Wo.cpf,(Ba=mn==null?void 0:mn.dados)==null?void 0:Ba.cpf])||Cn}}catch(Ca){console.error("Erro ao carregar dados da consulta:",Ca)}const Jr=(yt==null?void 0:yt.email)||(We==null?void 0:We.email)||"",cn=ma?U(ma):"";q(Ca=>({...Ca,nome_paciente:aa||Ca.nome_paciente,data_nascimento:ma||Ca.data_nascimento,rg:Ca.rg||Cn,idade:Ca.idade||cn,email_paciente:Ca.email_paciente||Jr}))}try{const yt=Jr=>Jr==null?null:String(Jr),aa=[];let ma=null,Cn=null;if(Xr)ma=((Go=Xr==null?void 0:Xr.medico)==null?void 0:Go.id)||(Xr==null?void 0:Xr.medico)||(Xr==null?void 0:Xr.medico_id)||null,Cn=((ln=Xr==null?void 0:Xr.paciente)==null?void 0:ln.id)||(Xr==null?void 0:Xr.paciente)||(Xr==null?void 0:Xr.paciente_id)||null;else if(N)try{const{data:Jr}=await ye.get(`/consultas/${N}/`);ma=((wc=Jr==null?void 0:Jr.medico)==null?void 0:wc.id)||(Jr==null?void 0:Jr.medico)||(Jr==null?void 0:Jr.medico_id)||null,Cn=((xo=Jr==null?void 0:Jr.paciente)==null?void 0:xo.id)||(Jr==null?void 0:Jr.paciente)||(Jr==null?void 0:Jr.paciente_id)||null}catch(Jr){console.error("Erro ao carregar dados do mdico:",Jr)}Cn&&String(Cn)!==String(f)&&aa.push("Paciente da consulta no corresponde ao paciente exibido."),ur(Jr=>{var Ca,Yi;const cn=(Ca=Jr.expected)==null?void 0:Ca.medicoId;return cn&&ma&&yt(cn)!==yt(ma)&&aa.push("Mdico da consulta no corresponde ao mdico logado."),{ok:aa.length===0,errors:aa,expected:{...Jr.expected,pacienteId:f,consultaId:N,medicoId:cn||((Yi=Jr.expected)==null?void 0:Yi.medicoId)||null}}})}catch(yt){console.error("Erro ao carregar dados do paciente:",yt)}}catch(mt){console.error("Erro ao carregar dados:",mt)}}finally{Oe&&T(!1)}}return Ze(),()=>{Oe=!1}},[f,N,j==null?void 0:j.cpf,j.paciente]),y.useEffect(()=>{let Oe=!0;return(async()=>{var Ze,St;if(x)try{const st=await nr.getReceitaById(x),Nt=await nr.getReceitaItens(x).catch(()=>[]),cr=(st==null?void 0:st.paciente_nome)||((Ze=st==null?void 0:st.paciente)==null?void 0:Ze.nome)||_.nome_paciente,Ar=_.idade,Hr=(st==null?void 0:st.cpf)||((St=st==null?void 0:st.paciente)==null?void 0:St.cpf)||_.rg,Yr=(st==null?void 0:st.data_nascimento)||_.data_nascimento,Qt=(st==null?void 0:st.medicamentos)||(st==null?void 0:st.medicamento)||_.medicamento,ja=(st==null?void 0:st.posologia)||_.posologia,er=(st==null?void 0:st.validade)||(st==null?void 0:st.validade_receita)||_.validade_receita,Na=(st==null?void 0:st.observacoes)||_.observacoes;if(Oe&&q(Rr=>({...Rr,nome_paciente:cr||Rr.nome_paciente,idade:Ar||Rr.idade,rg:Hr||Rr.rg,data_nascimento:Yr||Rr.data_nascimento,medicamento:Qt||Rr.medicamento,posologia:ja||Rr.posologia,validade_receita:Q(er)||Rr.validade_receita,observacoes:Na||Rr.observacoes})),Oe&&Array.isArray(Nt)&&Nt.length){const Rr=Nt.map(Ur=>({medicamento:{nome:Ur.nome||Ur.medicamento_nome||Ur.descricao},dose:Ur.dose,frequencia:Ur.frequencia,duracao:Ur.duracao,observacoes:Ur.observacoes,descricao:Ur.descricao}));C.splice(0,C.length,...Rr)}}catch(st){console.warn("Falha ao carregar receita por id:",st==null?void 0:st.message)}})(),()=>{Oe=!1}},[x]);const Mt=Oe=>{const{name:Ze,value:St}=Oe.target;q(st=>({...st,[Ze]:St})),e&&(r(!1),a(null),i(""),Ct(null),x&&nr.atualizarReceita(x,{assinada:!1}).catch(()=>{}),p({title:"Assinatura invalidada",description:"A receita foi alterada. Assine novamente para validade jurdica."}))},zt=()=>{H(!0),p({title:"Receita validada",description:"Os dados foram conferidos. Voc pode gerar o documento."})},Or=(Oe,Ze="Receita_Medica")=>{const St=URL.createObjectURL(Oe),st=document.createElement("a");st.href=St;const Nt=/\.[a-z0-9]+$/i.test(Ze);st.download=Nt?Ze:`${Ze}.pdf`,document.body.appendChild(st),st.click(),st.remove(),setTimeout(()=>URL.revokeObjectURL(St),2e3)},$t=()=>{var Oe;return jt!=null&&jt.ok||p({title:"Vnculo invlido",description:((Oe=jt.errors)==null?void 0:Oe.join(` 
`))||"Verifique dados da consulta, mdico e paciente.",variant:"destructive"}),!0},_t=async()=>{var Oe,Ze,St;try{if(x)return x;const st=await nr.getPerfil().catch(()=>null),Nt=((Oe=st==null?void 0:st.medico)==null?void 0:Oe.id)||(st==null?void 0:st.id)||null,cr={paciente_id:f,consulta_id:N||void 0,medico_id:Nt||void 0,nome_paciente:_.nome_paciente,cpf:_.rg,data_nascimento:Q(_.data_nascimento),medicamento:_.medicamento,posologia:_.posologia,validade:Q(_.validade_receita),observacoes:_.observacoes,medico:_.medico,crm:_.crm,endereco_consultorio:_.endereco_consultorio,telefone_consultorio:_.telefone_consultorio,email_paciente:_.email_paciente||void 0},Ar=await nr.criarReceita(cr),Hr=(Ar==null?void 0:Ar.id)||(Ar==null?void 0:Ar.receita_id)||(Ar==null?void 0:Ar.uuid);if(Hr){g(Hr);try{const Yr=[];if(E)C.forEach(Qt=>{var ja,er;Yr.push({medicamento_id:((ja=Qt.medicamento)==null?void 0:ja.id)||void 0,dose:Qt.dose||void 0,frequencia:Qt.frequencia||void 0,duracao:Qt.duracao||void 0,observacoes:Qt.observacoes||void 0,descricao:((er=Qt.medicamento)==null?void 0:er.nome)||Qt.descricao||void 0,posologia:`${Qt.dose||""} ${Qt.frequencia||""} ${Qt.duracao||""}`.trim()||void 0})});else{const{parsePrescriptionToItems:Qt}=await Qs(async()=>{const{parsePrescriptionToItems:er}=await import("./aiPrescriptionParser-DUXOF_BE.js");return{parsePrescriptionToItems:er}},[]);Qt(_.medicamento||"",_.posologia||"").forEach(er=>Yr.push({descricao:er.descricao||void 0,dose:er.dose||void 0,frequencia:er.frequencia||void 0,duracao:er.duracao||void 0,posologia:er.posologia||void 0,observacoes:er.observacoes||_.observacoes||void 0}))}Yr.length&&await nr.salvarItensReceita(Hr,Yr)}catch(Yr){try{console.warn("Falha ao salvar itens da receita:",(Ze=Yr==null?void 0:Yr.response)==null?void 0:Ze.status,((St=Yr==null?void 0:Yr.response)==null?void 0:St.data)||(Yr==null?void 0:Yr.message))}catch{}}}return Hr||null}catch{return x||null}},Et=async()=>{var Oe;if($t()){z(!0);try{const{pdfTemplateService:Ze}=await Qs(async()=>{const{pdfTemplateService:Vt}=await Promise.resolve().then(()=>wk);return{pdfTemplateService:Vt}},void 0);try{const Vt=await nr.getPerfil().catch(()=>null),Vr=(Vt==null?void 0:Vt.user)||{},on=(_.medico||`${Vr.first_name||""} ${Vr.last_name||""}`.trim()).trim(),Rs=_.crm||(Vt==null?void 0:Vt.crm)||((Oe=Vt==null?void 0:Vt.medico)==null?void 0:Oe.crm)||"",Bn=_.endereco_consultorio||(Vt==null?void 0:Vt.endereco_consultorio)||(Vt==null?void 0:Vt.endereco)||"",Wo=_.telefone_consultorio||(Vt==null?void 0:Vt.telefone_consultorio)||(Vt==null?void 0:Vt.telefone)||"";q(Ba=>{var Go;return{...Ba,medico:on||Ba.medico,crm:Rs||Ba.crm,endereco_consultorio:Bn||Ba.endereco_consultorio,telefone_consultorio:Wo||Ba.telefone_consultorio,nome_paciente:Ba.nome_paciente||((Go=j==null?void 0:j.paciente)==null?void 0:Go.nome)||Ba.nome_paciente}}),await new Promise(Ba=>requestAnimationFrame(()=>Ba()))}catch{}const St={medicamento:_.medicamento,medicamentos:_.medicamento,posologia:_.posologia,observacoes:_.observacoes,validade_receita:_.validade_receita,data_prescricao:new Date().toISOString(),itens:E?C.map(Vt=>{var Vr,on,Rs,Bn;return{medicamento:((Vr=Vt.medicamento)==null?void 0:Vr.nome)||Vt.descricao,apresentacao:(on=Vt.medicamento)==null?void 0:on.apresentacao,concentracao:(Rs=Vt.medicamento)==null?void 0:Rs.concentracao,fabricante:(Bn=Vt.medicamento)==null?void 0:Bn.fabricante,dose:Vt.dose,frequencia:Vt.frequencia,duracao:Vt.duracao,posologia:`${Vt.dose||""} ${Vt.frequencia||""} ${Vt.duracao||""}`.trim(),observacoes:Vt.observacoes}}):_.medicamento?[{medicamento:_.medicamento,posologia:_.posologia,observacoes:_.observacoes}]:[],hasStructuredItems:E},st={nome:_.medico,crm:_.crm,especialidade:_.especialidade||"",endereco_consultorio:_.endereco_consultorio,telefone_consultorio:_.telefone_consultorio,email:_.email_medico||""},Nt={nome:_.nome_paciente,idade:_.idade,rg:_.rg,cpf:_.rg,data_nascimento:_.data_nascimento,endereco:_.endereco_paciente||"",telefone:_.telefone_paciente||""};let cr=_.medico_id||null;try{cr||(cr=await nr._resolveMedicoId().catch(()=>null)||localStorage.getItem("medico_id")||"default")}catch{cr=cr||localStorage.getItem("medico_id")||"default"}const Ar=await Ze.generatePDFFromElement("#receita-preview",{pageSize:"a4",orientation:"portrait",scale:2}),Hr={filename:`Receita_${_.nome_paciente||"Medica"}.pdf`,blob:Ar},Yr={paciente_nome:_.nome_paciente,nome_paciente:_.nome_paciente,idade:_.idade,rg:_.rg,cpf:_.rg,data_nascimento:Q(_.data_nascimento),medicamento:_.medicamento,medicamentos:_.medicamento,posologia:_.posologia,medico_nome:_.medico,medico_crm:_.crm,medico:_.medico,crm:_.crm,endereco_consultorio:_.endereco_consultorio,telefone_consultorio:_.telefone_consultorio,validade_receita:Q(_.validade_receita),observacoes:_.observacoes,status:"ativa",situacao:"ativa",data_prescricao:new Date().toISOString()},Qt=Hr==null?void 0:Hr.blob,ja=(Hr==null?void 0:Hr.filename)||`Receita_${_.nome_paciente||"Medica"}.pdf`;if(!(Qt instanceof Blob))throw new Error("Falha ao gerar PDF - resposta invlida");const er=await _t();let Na=Qt,Rr=ja,Ur=!1;if(String(_.formato).toLowerCase()==="pdf"&&(Ur=!1),l(Na),d(Rr),Ur){r(!0),a(Na),i(Rr);try{const Vt=await w(Qt),Vr=await w(Na);er&&(await nr.atualizarReceita(er,{assinada:!0,hash_alg:"SHA-256",hash_pre:Vt,hash_documento:Vr}),await nr.registrarAuditoriaAssinatura({receita_id:er,valido:!0,hash_alg:"SHA-256",hash_pre:Vt,hash_documento:Vr,motivo:"Receita Mdica",arquivo:Rr}))}catch(Vt){console.error("Erro ao atualizar receita:",Vt)}}else r(!1),a(null),i("");Or(Na,Rr),p({title:"Documento gerado",description:"PDF gerado com sucesso!"})}catch(Ze){console.error("Erro na gerao de documento:",Ze);const St=(Ze==null?void 0:Ze.message)||"Falha ao gerar documento";p({title:"Erro",description:St,variant:"destructive"})}finally{z(!1)}}},Dt=async()=>{try{if(o||await Et(),!o){p({title:"Erro",description:" necessrio gerar o PDF antes de assinar",variant:"destructive"});return}V(!0)}catch(Oe){console.error("Erro ao preparar para assinatura:",Oe),p({title:"Erro",description:"Falha ao preparar o documento para assinatura",variant:"destructive"})}},[ia,Qr]=y.useState(!1);y.useEffect(()=>{if(!G)return;let Oe=!1;async function Ze(){try{const st=await(await Yw()).detectTokens(),Nt=Array.isArray(st==null?void 0:st.tokens)?st.tokens:Array.isArray(st)?st:[];!Oe&&Nt.length>0?(Qr(!0),ce("token")):Oe||(Qr(!1),ce("pfx"))}catch{Oe||(Qr(!1),ce("pfx"))}}return Ze(),()=>{Oe=!0}},[G]);async function Ot(){if(o||await Et(),!o)throw new Error("Falha ao gerar o documento");const Oe=await w(o);return{blob:o,hashHex:Oe}}async function wr(){var Oe,Ze,St,st;z(!0);try{let Nt,cr;if(o)Nt=o,cr=await w(o);else{const Ar=await Ot();Nt=Ar.blob,cr=Ar.hashHex}if(ee==="token"){const Ar=await Yw(),Hr=await Ar.detectTokens();if(!(Array.isArray(Hr==null?void 0:Hr.tokens)?Hr.tokens:[]).length)throw p({title:"Agente local indisponvel",description:"Conecte o token/smartcard e inicie o agente local em http://localhost:8172.",variant:"destructive"}),new Error("Agente local no disponvel");const Qt=await Ar.signHash({document_hash:cr,format:"PAdES",pin:k||void 0});if((Qt==null?void 0:Qt.status)!=="ok"||!(Qt!=null&&Qt.assinatura)||!(Qt!=null&&Qt.certificado)){const Vr=(Qt==null?void 0:Qt.message)||"Falha ao assinar via agente local";throw new Error(Vr)}if(String(Qt.assinatura).includes("MOCK_")||String(Qt.certificado).includes("MOCK_"))throw p({title:"Assinatura invlida (mock)",description:"Inicie o agente local real ou use certificado PFX.",variant:"destructive"}),new Error("Assinatura mock no aceita");const er=await _t(),Na=new File([Nt],A||"receita.pdf",{type:"application/pdf"});let Rr;try{Rr=await(await Yw()).finalizeWithBackend({receitaId:er,pdfFile:Na,assinatura:Qt.assinatura,certificado:Qt.certificado,cert_subject:((Oe=Qt==null?void 0:Qt.certDetails)==null?void 0:Oe.subjectName)||void 0,hash_pre:cr})}catch{Rr=await nr.finalizarAssinaturaExterna({receitaId:er,pdfFile:Na,assinatura:Qt.assinatura,certificado:Qt.certificado})}const Ur=Rr==null?void 0:Rr.blob,Vt=(Rr==null?void 0:Rr.filename)||A||"receita_assinada.pdf";if(!(Ur instanceof Blob))throw new Error("Finalizao da assinatura falhou");r(!0),a(Ur),i(Vt),Ct(new Date().toISOString());try{it(Qt.certDetails||{algorithm:"SHA256-RSA"})}catch{}try{const Vr=await w(Nt),on=await w(Ur);er&&(await nr.atualizarReceita(er,{assinada:!0,hash_alg:"SHA-256",hash_pre:Vr,hash_documento:on}),await nr.registrarAuditoriaAssinatura({receita_id:er,valido:!0,hash_alg:"SHA-256",hash_pre:Vr,hash_documento:on,motivo:"Receita Mdica",arquivo:Vt}))}catch(Vr){console.error("Erro ao atualizar registro:",Vr)}Fe(),p({title:"Documento assinado",description:"Assinatura digital aplicada com sucesso."}),V(!1)}else if(ee==="pfx"){if(!he){p({title:"Certificado ausente",description:"Selecione o arquivo .pfx/.p12.",variant:"destructive"});return}const Ar=String((he==null?void 0:he.name)||"").toLowerCase();if(!(Ar.endsWith(".pfx")||Ar.endsWith(".p12"))){p({title:"Arquivo invlido",description:"Apenas .pfx ou .p12 so aceitos.",variant:"destructive"});return}const Yr=10*1024*1024;if(he.size>Yr){p({title:"Arquivo muito grande",description:"Limite de 10 MB para PFX.",variant:"destructive"});return}if(!ct||!ct.trim()){p({title:"Senha obrigatria",description:"Informe a senha do certificado PFX.",variant:"destructive"});return}if(ct.trim().length<4){p({title:"Senha fraca",description:"A senha deve ter pelo menos 4 caracteres.",variant:"destructive"});return}const Qt=await _t();let ja=null;try{ja=await nr.getCertificadoInfo()}catch(Vr){console.warn("No foi possvel obter informaes do certificado:",Vr)}const er=await nr.applySignatureStamp(Nt,{signerName:_.medico||void 0,receitaId:Qt||void 0,certInfo:ja}),Na=new File([er],A||`Receita_${_.nome_paciente||"Medica"}.pdf`,{type:"application/pdf"}),Rr={motivo:"Receita Mdica",local:_.endereco_consultorio||"Consultrio",receitaId:Qt||void 0,pfxFile:he||void 0,pfxPassword:ct||""},{filename:Ur,blob:Vt}=await nr.signDocumento(Na,Rr);r(!0),a(Vt),i(Ur||A||Na.name),Ct(new Date().toISOString());try{const Vr=await nr.getCertificadoInfo();it(Vr||null)}catch(Vr){console.error("Erro ao obter informaes do certificado:",Vr)}try{const Vr=await w(Nt),on=await w(Vt);Qt&&(await nr.atualizarReceita(Qt,{assinada:!0,hash_alg:"SHA-256",hash_pre:Vr,hash_documento:on,motivo:"Receita Mdica"}),await nr.registrarAuditoriaAssinatura({receita_id:Qt,valido:!0,hash_alg:"SHA-256",hash_pre:Vr,hash_documento:on,motivo:"Receita Mdica",arquivo:Ur}))}catch(Vr){console.error("Erro ao atualizar registro:",Vr)}Fe(),p({title:"Documento assinado",description:"Assinatura digital aplicada com sucesso."}),V(!1)}}catch(Nt){const cr=(Ze=Nt==null?void 0:Nt.response)==null?void 0:Ze.status,Ar=((st=(St=Nt==null?void 0:Nt.response)==null?void 0:St.data)==null?void 0:st.detail)||(Nt==null?void 0:Nt.message)||"Falha ao assinar o documento";console.warn("[PreviewReceita] Erro assinatura:",cr,Ar),p({title:"Erro na assinatura",description:`${Ar}${cr?` [HTTP ${cr}]`:""}`,variant:"destructive"})}finally{z(!1)}}const Dr=y.useCallback(()=>{const Oe=_.nome_paciente||"Paciente",Ze=_.medico||"Dr(a).";let St="medicamentos prescritos";E?St=C.map(Qt=>{var ja;return((ja=Qt.medicamento)==null?void 0:ja.nome)||Qt.descricao||"Medicamento"}).join(", "):_.medicamento&&(St=_.medicamento);const st=new Date().toLocaleDateString("pt-BR"),Nt=`Nova Receita Mdica - ${Oe} - ${st}`,cr=`Prezado(a) ${Oe},

Voc tem uma nova receita mdica disponvel, prescrita pelo ${Ze} em ${st}.

Medicamentos prescritos: ${St}

Para visualizar e baixar sua receita completa, acesse sua rea do paciente em nosso portal.

Atenciosamente,
${Ze}
${_.endereco_consultorio||"Consultrio Mdico"}
${_.telefone_consultorio||""}`,Ar=`${Oe}, voc tem nova receita mdica de ${Ze}. Acesse o portal para visualizar. ${st}`,Hr=`Nova Receita - ${Ze}`,Yr=`Ol ${Oe}! Voc tem uma nova receita mdica disponvel, prescrita pelo ${Ze} em ${st}. Clique aqui para visualizar os detalhes e fazer o download.`;return{assuntoEmail:Nt,mensagemEmail:cr,mensagemSMS:Ar,tituloInterno:Hr,mensagemInterna:Yr}},[_.nome_paciente,_.medico,_.medicamento,_.endereco_consultorio,_.telefone_consultorio,E,C]),[wt,hr]=y.useState(["interno","email"]),[ir,Ht]=y.useState(""),[ka,et]=y.useState({assuntoEmail:"Nova receita mdica",mensagemEmail:"",mensagemSMS:"",tituloInterno:"Nova receita mdica disponvel",mensagemInterna:"Voc tem uma nova receita mdica disponvel. Acesse sua rea do paciente para visualizar."});y.useEffect(()=>{if(_.nome_paciente&&_.medico){const Oe=Dr();et(Ze=>({...Ze,...Oe}))}},[_.nome_paciente,_.medico,_.medicamento,_.endereco_consultorio,_.telefone_consultorio]);async function Xe(){var Oe,Ze,St,st;if($t()){if(wt.includes("sms")){const Nt=ir==null?void 0:ir.replace(/\D/g,"");if(!Nt||Nt.length<10){p({title:"Telefone invlido",description:"Informe um nmero de telefone vlido para envio por SMS.",variant:"destructive"});return}}if(wt.includes("email")&&!((Oe=_.email_paciente)!=null&&Oe.trim())){p({title:"E-mail obrigatrio",description:"Informe o e-mail do paciente para envio por e-mail.",variant:"destructive"});return}z(!0);try{if(o||await Et(),!e||!(t instanceof Blob)){if(!(pt!=null&&pt.arquivo)){p({title:"Certificado necessrio",description:"Configure um certificado digital antes de enviar a receita.",variant:"destructive"});return}try{const Na=await _t(),Rr=o;if(!Rr){p({title:"Erro",description:"No foi possvel gerar o documento para assinatura.",variant:"destructive"});return}const Ur=await nr.assinarDocumento({pdfFile:Rr,certificado:pt.arquivo,senha:pt.senha,motivo:"Receita Mdica",receita_id:Na,modo_assinatura:pt.modo||"pfx"});if(Ur!=null&&Ur.blob){const Vt=await w(Rr),Vr=await w(Ur.blob),on=Ur.filename||`Receita_${_.nome_paciente||"Medica"}_assinada.pdf`;r(!0),a(Ur.blob),i(on),await nr.atualizarReceita(Na,{assinada:!0,hash_alg:"SHA-256",hash_pre:Vt,hash_documento:Vr}),await nr.registrarAuditoriaAssinatura({receita_id:Na,valido:!0,hash_alg:"SHA-256",hash_pre:Vt,hash_documento:Vr,motivo:"Receita Mdica",arquivo:on}),p({title:"Documento assinado",description:"Receita assinada automaticamente antes do envio."})}else throw new Error("Falha na assinatura automtica")}catch(Na){console.error("[PreviewReceita] Erro na assinatura automtica:",Na),p({title:"Erro na assinatura",description:"No foi possvel assinar automaticamente. Configure o certificado e tente novamente.",variant:"destructive"});return}}if(!e||!(t instanceof Blob)){p({title:"Assinatura obrigatria",description:"A receita precisa ser assinada antes do envio ao paciente.",variant:"destructive"});return}const Nt=await _t(),cr=t,Ar=s||A||`Receita_${_.nome_paciente||"Medica"}_assinada.pdf`,Hr={nome:_.nome_paciente,email:_.email_paciente,telefone:ir||_.telefone_paciente},Yr={...ka,linkSite:window.location.origin,linkDownload:Nt?`${window.location.origin}/api/receitas/${Nt}/download/`:null},Qt=await uX.enviarReceitaMulticanal({pacienteId:f,receitaId:Nt,arquivo:cr,nomeArquivo:Ar,canais:wt,dadosPaciente:Hr,configuracoes:Yr}),ja=[],er=[];Qt.interno&&ja.push("notificao interna"),Qt.email&&ja.push("e-mail"),Qt.sms&&ja.push("SMS"),Qt.erros.forEach(Na=>{er.push(`${Na.canal}: ${Na.erro}`)}),ja.length>0?p({title:"Receita enviada",description:`Receita enviada com sucesso via: ${ja.join(", ")}.${er.length>0?` Falhas: ${er.join("; ")}`:""}`}):p({title:"Erro no envio",description:`Falha em todos os canais: ${er.join("; ")}`,variant:"destructive"}),ja.length>0&&m(`/medico/paciente/${f}/receita/confirmacao`,{state:{receitaId:Nt||null,email:_.email_paciente||null,filename:Ar,canaisEnviados:ja,resultados:Qt}})}catch(Nt){const cr=(Ze=Nt==null?void 0:Nt.response)==null?void 0:Ze.status,Ar=((st=(St=Nt==null?void 0:Nt.response)==null?void 0:St.data)==null?void 0:st.detail)||(Nt==null?void 0:Nt.message)||"Falha ao enviar a receita";p({title:"Erro ao enviar",description:`${Ar}${cr?` [HTTP ${cr}]`:""}`,variant:"destructive"})}finally{z(!1)}}}return J?n.jsx("div",{children:"Carregando preview..."}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(sn,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Preview da Receita"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Dados da Receita"})}),n.jsxs(Le,{className:"space-y-4",children:[jt.ok?null:n.jsxs("div",{className:"rounded-md border border-red-200 bg-red-50 text-red-700 p-3 text-sm",children:[n.jsx("div",{className:"font-medium mb-1",children:"Inconsistncias de vnculo detectadas"}),n.jsx("ul",{className:"list-disc pl-5 space-y-1",children:(Zt=jt.errors)==null?void 0:Zt.map((Oe,Ze)=>n.jsx("li",{children:Oe},Ze))})]}),n.jsxs("div",{children:[n.jsx(De,{children:"Nome do Paciente"}),n.jsx(He,{name:"nome_paciente",value:_.nome_paciente,onChange:Mt,placeholder:"Joo da Silva"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(De,{children:"Idade"}),n.jsx(He,{name:"idade",value:_.idade,onChange:Mt,placeholder:"45"})]}),n.jsxs("div",{children:[n.jsx(De,{children:"CPF"}),n.jsx(He,{name:"rg",value:_.rg,onChange:Mt,placeholder:"000.000.000-00"})]}),n.jsxs("div",{children:[n.jsx(De,{children:"Data de Nascimento"}),n.jsx(ms,{name:"data_nascimento",value:Q(_.data_nascimento),onChange:Oe=>Mt({target:{name:"data_nascimento",value:Oe}}),maxDate:new Date})]})]}),n.jsxs("div",{children:[n.jsx(De,{children:"Medicamentos e Posologia"}),E?n.jsxs("div",{className:"space-y-3 border rounded-md p-3 bg-muted/20",children:[n.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Itens estruturados:"}),C.map((Oe,Ze)=>{var St,st;return n.jsxs("div",{className:"border-l-2 border-primary/20 pl-3 space-y-1",children:[n.jsx("div",{className:"font-medium",children:((St=Oe.medicamento)==null?void 0:St.nome)||Oe.descricao||`Item ${Ze+1}`}),((st=Oe.medicamento)==null?void 0:st.apresentacao)&&n.jsx("div",{className:"text-sm text-muted-foreground",children:Oe.medicamento.apresentacao}),(Oe.dose||Oe.frequencia||Oe.duracao)&&n.jsx("div",{className:"text-sm",children:[Oe.dose,Oe.frequencia,Oe.duracao].filter(Boolean).join("  ")}),Oe.observacoes&&n.jsx("div",{className:"text-sm text-muted-foreground italic",children:Oe.observacoes})]},Ze)}),n.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:"Campos legados sero preenchidos automaticamente para compatibilidade."})]}):n.jsxs(n.Fragment,{children:[n.jsx(ua,{name:"medicamento",rows:3,value:_.medicamento,onChange:Mt,placeholder:"Nome do medicamento, dose, apresentao..."}),n.jsxs("div",{className:"mt-2",children:[n.jsx(De,{children:"Posologia"}),n.jsx(ua,{name:"posologia",rows:3,value:_.posologia,onChange:Mt,placeholder:"Ex: 1 comprimido de 12/12h por 7 dias"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(De,{children:"Validade da Receita"}),n.jsx(ms,{name:"validade_receita",value:Q(_.validade_receita),onChange:Oe=>Mt({target:{name:"validade_receita",value:Oe}}),minDate:new Date})]}),n.jsxs("div",{children:[n.jsx(De,{children:"Formato"}),n.jsxs("select",{className:"border rounded h-10 px-3 bg-background",name:"formato",value:_.formato,onChange:Mt,children:[n.jsx("option",{value:"pdf",children:"PDF"}),n.jsx("option",{value:"docx",children:"DOCX"})]})]})]}),n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsx(De,{className:"text-base font-semibold",children:"Opes de Envio"}),n.jsxs("div",{className:"space-y-4 mt-3",children:[n.jsxs("div",{children:[n.jsx(De,{className:"text-sm font-medium",children:"Canais de Envio"}),n.jsxs("div",{className:"flex flex-wrap gap-4 mt-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vg,{id:"canal-interno",checked:wt.includes("interno"),onCheckedChange:Oe=>{hr(Oe?[...wt,"interno"]:wt.filter(Ze=>Ze!=="interno"))}}),n.jsxs(De,{htmlFor:"canal-interno",className:"flex items-center gap-1",children:[n.jsx(cm,{className:"h-4 w-4"}),"Notificao Interna"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vg,{id:"canal-email",checked:wt.includes("email"),onCheckedChange:Oe=>{hr(Oe?[...wt,"email"]:wt.filter(Ze=>Ze!=="email"))}}),n.jsxs(De,{htmlFor:"canal-email",className:"flex items-center gap-1",children:[n.jsx(wl,{className:"h-4 w-4"}),"E-mail"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vg,{id:"canal-sms",checked:wt.includes("sms"),onCheckedChange:Oe=>{hr(Oe?[...wt,"sms"]:wt.filter(Ze=>Ze!=="sms"))}}),n.jsxs(De,{htmlFor:"canal-sms",className:"flex items-center gap-1",children:[n.jsx(Nj,{className:"h-4 w-4"}),"SMS"]})]})]})]}),wt.includes("sms")&&n.jsxs("div",{children:[n.jsx(De,{children:"Telefone para SMS"}),n.jsx(He,{value:ir,onChange:Oe=>Ht(Oe.target.value),placeholder:"(11) 99999-9999"}),ir&&!/^\(?[1-9]{2}\)?\s?9?\d{4}-?\d{4}$/.test(ir.replace(/\D/g,""))&&n.jsx("div",{className:"text-xs text-red-500 mt-1",children:"Formato invlido. Use: (11) 99999-9999 ou 11999999999"})]}),wt.includes("email")&&n.jsx("div",{className:"text-sm text-muted-foreground",children:" E-mail ser enviado automaticamente com assunto e mensagem padro"}),wt.includes("sms")&&n.jsx("div",{className:"text-sm text-muted-foreground",children:" SMS ser enviado automaticamente com mensagem padro"}),wt.includes("interno")&&n.jsx("div",{className:"text-sm text-muted-foreground",children:" Notificao interna ser enviada automaticamente"})]})]}),n.jsxs("div",{children:[n.jsx(De,{children:"Observaes (opcional)"}),n.jsx(ua,{name:"observacoes",rows:2,value:_.observacoes,onChange:Mt,placeholder:"Orientaes adicionais ao paciente"})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[n.jsxs(we,{type:"button",onClick:zt,variant:R?"secondary":"default",className:"flex items-center gap-2",children:[n.jsx(po,{className:"h-4 w-4"}),R?" Validado":"Validar Receita"]}),n.jsxs(we,{type:"button",onClick:Et,disabled:re,variant:"outline",className:"flex items-center gap-2",children:[n.jsx(uI,{className:"h-4 w-4"}),re?"Gerando...":"Gerar PDF"]}),n.jsxs(we,{type:"button",variant:"default",onClick:Dt,disabled:re||!R,className:`flex items-center gap-2 ${e?"bg-green-600 hover:bg-green-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:[n.jsx(Ai,{className:"h-4 w-4"}),re?"Assinando...":e?" Assinada Digitalmente":"Assinar Receita"]}),n.jsxs(we,{type:"button",variant:"secondary",onClick:Xe,disabled:re||wt.length===0||!e,className:"flex items-center gap-2",children:[wt.includes("interno")&&n.jsx(cm,{className:"h-4 w-4"}),wt.includes("email")&&n.jsx(wl,{className:"h-4 w-4"}),wt.includes("sms")&&n.jsx(Nj,{className:"h-4 w-4"}),wt.length===0?"Selecione um canal":wt.length===1?`Enviar via ${wt[0]==="interno"?"Interno":wt[0]==="email"?"E-mail":"SMS"}`:`Enviar via ${wt.length} canais`]})]})]})]}),n.jsxs(ke,{className:"bg-white",children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Pr-visualizao"})}),n.jsx(Le,{children:n.jsxs("div",{id:"receita-preview",className:"mx-auto bg-white shadow-md border rounded-md p-6 max-w-[800px] aspect-[1/1.414] overflow-auto",children:[O.logoPosition==="center"?n.jsxs("div",{className:`${O.headerBorderBottom?"border-b":""} pb-3 flex flex-col items-center`,style:{backgroundColor:O.headerBgColor,borderBottomColor:O.headerBorderColor},children:[O.showLogo&&(Y!=null&&Y.data)?n.jsx("img",{src:Y.data,alt:"Logo",className:"max-h-20 max-w-[150px] object-contain"}):null,n.jsxs("div",{className:"mt-2 text-center w-full",children:[n.jsx("div",{className:"font-bold",style:{fontSize:O.titleSize,color:O.primaryColor},children:((oa=K==null?void 0:K.branding)==null?void 0:oa.clinicName)||_.medico||"Consultrio Mdico"}),((Xt=K==null?void 0:K.header)==null?void 0:Xt.showDoctorInfo)&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"font-semibold",style:{color:O.primaryColor},children:_.medico}),_.crm&&n.jsxs("div",{style:{fontSize:O.smallSize,color:O.secondaryColor},children:["CRM: ",_.crm]})]}),n.jsx("div",{className:"text-sm",style:{fontSize:O.smallSize,color:O.secondaryColor},children:((Nn=K==null?void 0:K.branding)==null?void 0:Nn.clinicAddress)||_.endereco_consultorio}),n.jsxs("div",{className:"text-sm",style:{fontSize:O.smallSize,color:O.secondaryColor},children:["Telefone: ",((gs=K==null?void 0:K.branding)==null?void 0:gs.clinicPhone)||_.telefone_consultorio]}),(hn=K==null?void 0:K.branding)!=null&&hn.clinicEmail||_.email_medico?n.jsxs("div",{className:"text-sm",style:{fontSize:O.smallSize,color:O.secondaryColor},children:["E-mail: ",((is=K==null?void 0:K.branding)==null?void 0:is.clinicEmail)||_.email_medico]}):null]})]}):n.jsxs("div",{className:`flex items-center justify-between ${O.headerBorderBottom?"border-b":""} pb-3`,style:{backgroundColor:O.headerBgColor,borderBottomColor:O.headerBorderColor},children:[O.logoPosition==="left"&&O.showLogo&&(Y!=null&&Y.data)?n.jsx("img",{src:Y.data,alt:"Logo",className:"max-h-20 max-w-[150px] object-contain"}):null,n.jsxs("div",{className:`${O.doctorInfoPosition==="center"?"text-center":O.doctorInfoPosition==="left"?"text-left":"text-right"} flex-1 ml-4`,children:[n.jsx("div",{className:"font-bold",style:{fontSize:O.titleSize,color:O.primaryColor},children:((dt=K==null?void 0:K.branding)==null?void 0:dt.clinicName)||_.medico||"Consultrio Mdico"}),((za=K==null?void 0:K.header)==null?void 0:za.showDoctorInfo)&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"font-semibold",style:{color:O.primaryColor},children:_.medico}),_.crm&&n.jsxs("div",{style:{fontSize:O.smallSize,color:O.secondaryColor},children:["CRM: ",_.crm]})]}),n.jsx("div",{className:"text-sm",style:{fontSize:O.smallSize,color:O.secondaryColor},children:((Ya=K==null?void 0:K.branding)==null?void 0:Ya.clinicAddress)||_.endereco_consultorio}),n.jsxs("div",{className:"text-sm",style:{fontSize:O.smallSize,color:O.secondaryColor},children:["Telefone: ",((Ns=K==null?void 0:K.branding)==null?void 0:Ns.clinicPhone)||_.telefone_consultorio]}),(fi=K==null?void 0:K.branding)!=null&&fi.clinicEmail||_.email_medico?n.jsxs("div",{className:"text-sm",style:{fontSize:O.smallSize,color:O.secondaryColor},children:["E-mail: ",((Xa=K==null?void 0:K.branding)==null?void 0:Xa.clinicEmail)||_.email_medico]}):null]}),O.logoPosition==="right"&&O.showLogo&&(Y!=null&&Y.data)?n.jsx("img",{src:Y.data,alt:"Logo",className:"max-h-20 max-w-[150px] object-contain"}):null]}),n.jsxs("div",{className:"text-center my-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Nome do Paciente: "}),_.nome_paciente]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Idade: "}),_.idade]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"CPF: "}),_.rg]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Data de Nascimento: "}),_.data_nascimento]})]}),n.jsxs("div",{className:"text-center text-xl font-semibold my-4",children:["Prescrio Mdica",e&&n.jsx("div",{className:"text-sm text-green-600 font-normal mt-1",children:" Assinada Digitalmente"}),!e&&n.jsx("div",{className:"text-sm text-orange-600 font-normal mt-1",children:" Aguardando Assinatura Digital"})]}),n.jsx("div",{className:"text-center",children:E?n.jsx("div",{className:"space-y-4",children:C.map((Oe,Ze)=>{var St,st;return n.jsxs("div",{className:"border-b border-muted pb-3 last:border-b-0",children:[n.jsx("div",{className:"font-semibold",children:((St=Oe.medicamento)==null?void 0:St.nome)||Oe.descricao||`Medicamento ${Ze+1}`}),((st=Oe.medicamento)==null?void 0:st.apresentacao)&&n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:Oe.medicamento.apresentacao}),(Oe.dose||Oe.frequencia||Oe.duracao)&&n.jsx("div",{className:"mt-2",children:[Oe.dose,Oe.frequencia,Oe.duracao].filter(Boolean).join("  ")}),Oe.observacoes&&n.jsx("div",{className:"text-sm text-muted-foreground mt-1 italic",children:Oe.observacoes})]},Ze)})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"whitespace-pre-wrap font-semibold",children:_.medicamento}),_.posologia?n.jsx("div",{className:"mt-2 whitespace-pre-wrap",children:_.posologia}):null]})}),n.jsxs("div",{className:"text-center my-6",children:[n.jsxs("div",{children:["Data de Emisso: ",F]}),n.jsxs("div",{children:["Validade da Receita: ",_.validade_receita||""]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-start mt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-64 border-t pt-1",children:""}),_.medico&&n.jsxs("div",{children:["Dr(a). ",_.medico,_.crm?`  CRM ${_.crm}`:""]}),e?n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Assinado digitalmente conforme ICP-Brasil",Se!=null&&Se.subject_name||Se!=null&&Se.nome||Se!=null&&Se.subject?n.jsxs(n.Fragment,{children:["  Titular: ",(Se==null?void 0:Se.subject_name)||(Se==null?void 0:Se.nome)||(Se==null?void 0:Se.subject)]}):null,_.crm?n.jsxs(n.Fragment,{children:["  CRM: ",_.crm]}):null,_.rg?n.jsxs(n.Fragment,{children:["  CPF: ",_.rg]}):null,Se!=null&&Se.algorithm?n.jsxs(n.Fragment,{children:["  Algoritmo: ",Se.algorithm]}):n.jsx(n.Fragment,{children:"  Algoritmo: SHA256-RSA"}),Ke?n.jsxs(n.Fragment,{children:["  Carimbo: ",new Date(Ke).toLocaleString()]}):null,Se!=null&&Se.valid_to||Se!=null&&Se.not_after||Se!=null&&Se.valid_until?n.jsxs(n.Fragment,{children:["  Vlido at: ",new Date((Se==null?void 0:Se.valid_to)||(Se==null?void 0:Se.not_after)||(Se==null?void 0:Se.valid_until)).toLocaleDateString()]}):null]}):n.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Documento gerado. Assine para exibir o selo de assinatura digital."})]})})]})})]})]}),n.jsx(uA,{open:G,onOpenChange:V,children:n.jsxs(dc,{className:"sm:max-w-[500px] space-y-6",children:[n.jsxs(uc,{children:[n.jsxs(fc,{className:"flex items-center gap-2",children:[n.jsx(Ai,{className:"h-5 w-5 text-blue-600"}),"Assinatura Digital da Receita"]}),n.jsx(Om,{children:"Escolha o mtodo de assinatura digital para validar juridicamente a receita mdica."})]}),n.jsx(hs,{}),n.jsxs(Vi,{value:ee,onValueChange:ce,className:"w-full",children:[n.jsxs(qi,{className:"grid grid-cols-2 w-full",children:[n.jsxs(Pr,{value:"token",className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Token/Smartcard"]}),n.jsxs(Pr,{value:"pfx",className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Certificado PFX"]})]}),n.jsx($r,{value:"token",className:"space-y-4",children:n.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[n.jsx(Ai,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Assinatura via Token"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"token-pin",children:"PIN do Token"}),n.jsx(He,{id:"token-pin",type:"password",value:k,onChange:Oe=>D(Oe.target.value),placeholder:"Digite o PIN do seu token",className:"bg-white"})]}),n.jsx("p",{className:"text-xs text-green-700",children:" Conecte seu token USB ou smartcard e insira o PIN para assinar digitalmente."})]})}),n.jsx($r,{value:"pfx",className:"space-y-4",children:n.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[n.jsx(Ai,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Certificado Digital PFX"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"pfx-file",children:"Arquivo do Certificado"}),n.jsx(He,{id:"pfx-file",type:"file",accept:".pfx,.p12",className:"bg-white",onChange:Oe=>{var cr;const Ze=((cr=Oe.target.files)==null?void 0:cr[0])||null;if(!Ze){Ae(null);return}const St=(Ze.name||"").toLowerCase(),st=St.endsWith(".pfx")||St.endsWith(".p12"),Nt=10*1024*1024;if(!st){p({title:"Arquivo invlido",description:"Selecione um arquivo .pfx ou .p12.",variant:"destructive"}),Oe.target.value="",Ae(null);return}if(Ze.size>Nt){p({title:"Arquivo muito grande",description:"Limite de 10 MB para certificados PFX.",variant:"destructive"}),Oe.target.value="",Ae(null);return}Ae(Ze)}}),he&&n.jsxs("div",{className:"text-xs text-blue-700 bg-blue-100 p-2 rounded",children:[" Selecionado: ",he.name," (",Math.ceil(he.size/1024)," KB)"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"pfx-password",children:"Senha do Certificado"}),n.jsx(He,{id:"pfx-password",type:"password",value:ct,onChange:Oe=>gt(Oe.target.value),placeholder:"Digite a senha do certificado",className:"bg-white"}),(!ct||!ct.trim())&&n.jsx("p",{className:"text-xs text-red-600",children:" Senha obrigatria para assinatura digital."})]}),n.jsx("p",{className:"text-xs text-blue-700",children:" Selecione seu certificado digital (.pfx ou .p12) e informe a senha."})]})})]}),n.jsxs(fA,{className:"gap-2",children:[n.jsx(we,{type:"button",variant:"outline",onClick:()=>V(!1),className:"flex-1",children:"Cancelar"}),n.jsx(we,{type:"button",onClick:wr,disabled:re,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:re?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Assinando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ai,{className:"h-4 w-4 mr-2"}),"Confirmar e Assinar"]})})]})]})})]})}function hX(){const{id:e}=$o(),r=ss(),{state:t}=ns(),a=(t==null?void 0:t.receitaId)||null,s=(t==null?void 0:t.email)||null,i=(t==null?void 0:t.filename)||null;return n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Receita enviada com sucesso"})}),n.jsxs(Le,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[n.jsx(po,{className:"h-5 w-5"}),n.jsx("span",{children:"O paciente recebeu a receita assinada."})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[s?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wl,{className:"h-4 w-4"}),n.jsxs("span",{children:["Enviado para: ",s]})]}):n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wl,{className:"h-4 w-4"}),n.jsx("span",{children:"E-mail do paciente no informado."})]}),i?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(sn,{className:"h-4 w-4"}),n.jsxs("span",{children:["Arquivo: ",i]})]}):null,a?n.jsxs("div",{className:"mt-2 text-xs",children:["ID da Receita: ",a]}):null]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(we,{onClick:()=>r(`/medico/paciente/${e}/receita/preview`),variant:"secondary",children:"Voltar  receita"}),n.jsx(we,{onClick:()=>r("/medico/meus-pacientes"),children:"Ir para Meus Pacientes"})]})]})]})})})}const mX=({value:e,onChange:r,onSelect:t,placeholder:a="Digite o nome do medicamento...",disabled:s=!1,className:i=""})=>{const[o,l]=y.useState(e||""),[A,d]=y.useState([]),[f,h]=y.useState(!1),[m,p]=y.useState(!1),[x,g]=y.useState(-1),w=y.useRef(null),j=y.useRef(null);y.useEffect(()=>{l(e||"")},[e]);const N=async L=>{if(!L||L.length<2){d([]),p(!1);return}h(!0);try{const _=await g1.search(L);d(_),p(!0),g(-1)}catch(_){console.error("Erro ao buscar medicamentos:",_),d([])}finally{h(!1)}},C=L=>{const _=L.target.value;l(_),r&&r(_),clearTimeout(window.medicamentoSearchTimeout),window.medicamentoSearchTimeout=setTimeout(()=>{N(_)},300)},E=L=>{const _=`${L.nome} - ${L.apresentacao}`;l(_),p(!1),r&&r(_),t&&t(L)},Q=L=>{if(!(!m||A.length===0))switch(L.key){case"ArrowDown":L.preventDefault(),g(_=>_<A.length-1?_+1:0);break;case"ArrowUp":L.preventDefault(),g(_=>_>0?_-1:A.length-1);break;case"Enter":L.preventDefault(),x>=0&&x<A.length&&E(A[x]);break;case"Escape":p(!1),g(-1);break}},U=L=>{setTimeout(()=>{p(!1),g(-1)},200)},F=()=>{A.length>0&&p(!0)};return n.jsxs("div",{className:`medicamento-autocomplete ${i}`,children:[n.jsx("input",{ref:w,type:"text",value:o,onChange:C,onKeyDown:Q,onBlur:U,onFocus:F,placeholder:a,disabled:s,className:"form-control",autoComplete:"off"}),f&&n.jsx("div",{className:"autocomplete-loading",children:n.jsx("small",{children:"Buscando medicamentos..."})}),m&&A.length>0&&n.jsx("div",{ref:j,className:"autocomplete-suggestions",children:A.map((L,_)=>n.jsxs("div",{className:`suggestion-item ${_===x?"selected":""}`,onClick:()=>E(L),children:[n.jsx("div",{className:"suggestion-name",children:L.nome}),n.jsxs("div",{className:"suggestion-details",children:[L.apresentacao,L.concentracao&&` - ${L.concentracao}`,L.fabricante&&n.jsxs("span",{className:"suggestion-manufacturer",children:[" (",L.fabricante,")"]})]})]},L.id))}),m&&A.length===0&&!f&&o.length>=2&&n.jsx("div",{className:"autocomplete-no-results",children:n.jsx("small",{children:"Nenhum medicamento encontrado"})})]})},pX=({items:e=[],onChange:r,disabled:t=!1,showLegacyFields:a=!0})=>{const[s,i]=y.useState(e),[o,l]=y.useState(""),[A,d]=y.useState("");y.useEffect(()=>{i(e)},[e]);const f=()=>{const g={id:Date.now(),medicamento:null,medicamento_nome:"",dose:"",frequencia:"",duracao:"",observacoes:""},w=[...s,g];i(w),r&&r(w)},h=g=>{const w=s.filter((j,N)=>N!==g);i(w),r&&r(w)},m=(g,w,j)=>{const N=[...s];N[g]={...N[g],[w]:j},i(N),r&&r(N)},p=(g,w)=>{m(g,"medicamento",w.id),m(g,"medicamento_nome",`${w.nome} - ${w.apresentacao}`)},x=()=>{if(!o.trim())return;const g=o.split(`
`).filter(C=>C.trim()),w=A.split(`
`).filter(C=>C.trim()),j=g.map((C,E)=>({id:Date.now()+E,medicamento:null,medicamento_nome:C.trim(),dose:"",frequencia:w[E]?w[E].trim():"",duracao:"",observacoes:""})),N=[...s,...j];i(N),r&&r(N),l(""),d("")};return n.jsxs("div",{className:"receita-item-manager",children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[n.jsx("h6",{children:"Medicamentos da Receita"}),n.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:f,disabled:t,children:"+ Adicionar Medicamento"})]}),s.length>0&&n.jsx("div",{className:"receita-items-list",children:s.map((g,w)=>n.jsxs("div",{className:"receita-item-card",children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[n.jsxs("span",{className:"item-number",children:["#",w+1]}),n.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>h(w),disabled:t,children:""})]}),n.jsxs("div",{className:"row",children:[n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Medicamento"}),n.jsx(mX,{value:g.medicamento_nome,onChange:j=>m(w,"medicamento_nome",j),onSelect:j=>p(w,j),disabled:t,placeholder:"Digite o nome do medicamento..."})]}),n.jsxs("div",{className:"col-md-3 mb-2",children:[n.jsx("label",{className:"form-label",children:"Dose"}),n.jsx("input",{type:"text",className:"form-control",value:g.dose,onChange:j=>m(w,"dose",j.target.value),placeholder:"Ex: 500mg",disabled:t})]}),n.jsxs("div",{className:"col-md-3 mb-2",children:[n.jsx("label",{className:"form-label",children:"Frequncia"}),n.jsx("input",{type:"text",className:"form-control",value:g.frequencia,onChange:j=>m(w,"frequencia",j.target.value),placeholder:"Ex: 2x ao dia",disabled:t})]}),n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Durao"}),n.jsx("input",{type:"text",className:"form-control",value:g.duracao,onChange:j=>m(w,"duracao",j.target.value),placeholder:"Ex: 7 dias",disabled:t})]}),n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Observaes"}),n.jsx("input",{type:"text",className:"form-control",value:g.observacoes,onChange:j=>m(w,"observacoes",j.target.value),placeholder:"Observaes adicionais",disabled:t})]})]})]},g.id||w))}),a&&n.jsxs("div",{className:"legacy-fields mt-4",children:[n.jsx("h6",{children:"Importar de Texto Livre"}),n.jsx("p",{className:"text-muted small",children:"Cole aqui o texto dos medicamentos e posologia para converter em itens estruturados."}),n.jsxs("div",{className:"row",children:[n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Medicamentos (um por linha)"}),n.jsx("textarea",{className:"form-control",rows:"4",value:o,onChange:g=>l(g.target.value),placeholder:`Ex:
Paracetamol 500mg
Ibuprofeno 400mg`,disabled:t})]}),n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Posologia (uma por linha)"}),n.jsx("textarea",{className:"form-control",rows:"4",value:A,onChange:g=>d(g.target.value),placeholder:`Ex:
1 comprimido de 8/8h por 7 dias
1 comprimido de 12/12h por 5 dias`,disabled:t})]})]}),n.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:x,disabled:t||!o.trim(),children:"Converter para Itens Estruturados"})]}),s.length===0&&n.jsxs("div",{className:"empty-state text-center py-4",children:[n.jsx("p",{className:"text-muted",children:"Nenhum medicamento adicionado ainda."}),n.jsx("button",{type:"button",className:"btn btn-primary",onClick:f,disabled:t,children:"Adicionar Primeiro Medicamento"})]})]})};function gX(){var w,j,N;const{id:e}=$o(),r=ns(),t=ss();Ga();const a=((w=r.state)==null?void 0:w.resumo)||{},s=(j=r.state)==null?void 0:j.consultaId,i=(N=r.state)==null?void 0:N.prontuarioId,[o,l]=y.useState({queixa:eE(a.queixa||""),historia:a.historia||"",diagnostico:a.diagnostico||"",conduta:a.conduta||"",medicamentos:a.medicamentos||"",posologia:a.posologia||"",validade:a.validade||""}),[A,d]=y.useState([]),[f,h]=y.useState(!1),m=C=>{const{name:E,value:Q}=C.target;l(U=>({...U,[E]:Q}))},p=C=>{d(C);const E=C.map(U=>U.medicamento_nome).filter(Boolean).join(`
`),Q=C.map(U=>{const F=[];return U.dose&&F.push(U.dose),U.frequencia&&F.push(U.frequencia),U.duracao&&F.push(U.duracao),U.observacoes&&F.push(`(${U.observacoes})`),F.join(" - ")}).filter(Boolean).join(`
`);l(U=>({...U,medicamentos:E,posologia:Q}))},x=async()=>{var C;try{if(i)try{await((C=nr.atualizarProntuario)==null?void 0:C.call(nr,i,{queixa_principal:o.queixa,historia_doenca_atual:o.historia,diagnostico_principal:o.diagnostico,conduta:o.conduta,medicamentos_uso:o.medicamentos}))}catch{}}finally{t(`/medico/paciente/${e}/receita/preview`,{state:{fromConsulta:{medicamentos:o.medicamentos,posologia:o.posologia,validade:o.validade,receitaItems:f?A:void 0},consultaId:s}})}},g=y.useMemo(()=>new Date().toLocaleDateString(),[]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(aI,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Resumo da Consulta"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Informaes Principais"})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Queixa Principal"}),n.jsx(ua,{name:"queixa",rows:3,value:o.queixa,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Histria da Doena Atual"}),n.jsx(ua,{name:"historia",rows:4,value:o.historia,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Diagnstico"}),n.jsx(ua,{name:"diagnostico",rows:3,value:o.diagnostico,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Conduta"}),n.jsx(ua,{name:"conduta",rows:3,value:o.conduta,onChange:m})]})]})]}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"flex items-center justify-between",children:["Prescrio",n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"useStructured",checked:f,onChange:C=>h(C.target.checked),className:"rounded"}),n.jsx("label",{htmlFor:"useStructured",className:"text-sm font-normal",children:"Usar itens estruturados"})]})]})}),n.jsxs(Le,{className:"space-y-4",children:[f?n.jsx(pX,{items:A,onChange:p,showLegacyFields:!0}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Medicamentos"}),n.jsx(ua,{name:"medicamentos",rows:4,value:o.medicamentos,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Posologia"}),n.jsx(ua,{name:"posologia",rows:3,value:o.posologia,onChange:m})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Validade da Receita"}),n.jsx(ms,{name:"validade",value:o.validade,onChange:C=>m({target:{name:"validade",value:C}}),className:"border rounded h-10 px-3 bg-background",minDate:new Date})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(we,{onClick:x,children:[n.jsx(X6,{className:"h-4 w-4 mr-2"})," Gerar Receita"]}),n.jsx(we,{variant:"outline",onClick:()=>t(-1),children:"Voltar"})]})]})]})]}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Resumo Visual"})}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Data:"})," ",g]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Queixa:"})," ",o.queixa||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Histria:"})," ",o.historia||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Diagnstico:"})," ",o.diagnostico||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Conduta:"})," ",o.conduta||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Medicamentos:"})," ",o.medicamentos||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Posologia:"})," ",o.posologia||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Validade:"})," ",o.validade||"-"]})]})})]})]})}var Px="Switch",[xX,zZ]=Nl(Px),[vX,wX]=xX(Px),bk=y.forwardRef((e,r)=>{const{__scopeSwitch:t,name:a,checked:s,defaultChecked:i,required:o,disabled:l,value:A="on",onCheckedChange:d,form:f,...h}=e,[m,p]=y.useState(null),x=ya(r,C=>p(C)),g=y.useRef(!1),w=m?f||!!m.closest("form"):!0,[j,N]=fd({prop:s,defaultProp:i??!1,onChange:d,caller:Px});return n.jsxs(vX,{scope:t,checked:j,disabled:l,children:[n.jsx(Sr.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":Ck(j),"data-disabled":l?"":void 0,disabled:l,value:A,...h,ref:x,onClick:kt(e.onClick,C=>{N(E=>!E),w&&(g.current=C.isPropagationStopped(),g.current||C.stopPropagation())})}),w&&n.jsx(Bk,{control:m,bubbles:!g.current,name:a,value:A,checked:j,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});bk.displayName=Px;var jk="SwitchThumb",Nk=y.forwardRef((e,r)=>{const{__scopeSwitch:t,...a}=e,s=wX(jk,t);return n.jsx(Sr.span,{"data-state":Ck(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:r})});Nk.displayName=jk;var yX="SwitchBubbleInput",Bk=y.forwardRef(({__scopeSwitch:e,control:r,checked:t,bubbles:a=!0,...s},i)=>{const o=y.useRef(null),l=ya(o,i),A=aE(t),d=t4(r);return y.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(A!==t&&p){const x=new Event("click",{bubbles:a});p.call(f,t),f.dispatchEvent(x)}},[A,t,a]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Bk.displayName=yX;function Ck(e){return e?"checked":"unchecked"}var Sk=bk,bX=Nk;const Nf=y.forwardRef(({className:e,...r},t)=>n.jsx(Sk,{className:lt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...r,ref:t,children:n.jsx(bX,{className:lt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Nf.displayName=Sk.displayName;function jX(){const{id:e}=$o(),[r,t]=y.useState(null),[a,s]=y.useState(!0),[i,o]=y.useState([]),[l,A]=y.useState(!0),[d,f]=y.useState(null);y.useEffect(()=>{let x=!0;return(async()=>{var g,w;try{const j="/api/pacientes/",N=j.endsWith("/")?j:`${j}/`,C=await ye.get(`${N}${e}/`);x&&t(C.data)}catch(j){try{console.debug("[Medico/Receitas] Falha paciente:",(g=j==null?void 0:j.response)==null?void 0:g.status)}catch{}}finally{x&&s(!1)}try{const j="/api/receitas/",N=j.endsWith("/")?j:`${j}/`,C={paciente:e,paciente_id:e,status:"ativa",situacao:"ativa",limit:100},E=await ye.get(N,{params:C}),Q=E==null?void 0:E.data;let U=Array.isArray(Q)?Q:Array.isArray(Q==null?void 0:Q.results)?Q.results:[];const F=L=>String(L||"").toLowerCase();U=U.filter(L=>{const _=F(L.status||L.situacao||""),q=L.validade||L.validade_receita||null,R=["ativa","valida","vlida"].includes(_);if(q)try{return R||new Date(q)>=new Date}catch{return R}return R||!0}),x&&o(U)}catch(j){try{console.debug("[Medico/Receitas] Falha receitas:",(w=j==null?void 0:j.response)==null?void 0:w.status)}catch{}x&&o([])}finally{x&&A(!1)}})(),()=>{x=!1}},[e]);const h=y.useMemo(()=>[{label:"Resumo",href:`/medico/paciente/${e}/perfil`},{label:"Pronturio",href:`/medico/paciente/${e}/prontuario`},{label:"Consultas",href:`/medico/paciente/${e}/consultas`},{label:"Exames",href:`/medico/paciente/${e}/exames`},{label:"Receitas",href:`/medico/paciente/${e}/receitas`}],[e]),m=x=>{const g=String((x==null?void 0:x.status)||(x==null?void 0:x.situacao)||"").toLowerCase();if(["ativa","valida","vlida"].includes(g))return!0;const w=(x==null?void 0:x.validade)||(x==null?void 0:x.validade_receita);if(w)try{return new Date(w)>=new Date}catch{return!1}return!1},p=async x=>{var w,j;const g=(x==null?void 0:x.id)||(x==null?void 0:x.pk)||(x==null?void 0:x.uuid);if(g){f(g);try{const N="/api/receitas/",C=N.endsWith("/")?N:`${N}/`,E=!m(x),Q={};if(Q.status=E?"ativa":"inativa",Q.situacao=Q.status,Q.ativa=E,E&&!x.validade&&!x.validade_receita){const _=new Date;_.setDate(_.getDate()+30),Q.validade=`${_.getFullYear()}-${String(_.getMonth()+1).padStart(2,"0")}-${String(_.getDate()).padStart(2,"0")}`}const U=`${C}${g}/`,F=await ye.patch(U,Q),L=(F==null?void 0:F.data)||{...x,...Q};o(_=>_.map(q=>String(q.id)===String(g)?{...q,...L}:q))}catch(N){try{console.warn("[Medico/Receitas] toggle falhou:",(w=N==null?void 0:N.response)==null?void 0:w.status,(j=N==null?void 0:N.response)==null?void 0:j.data)}catch{}}finally{f(null)}}};return a&&l?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Nr,{className:"h-8 w-48"}),n.jsx(Nr,{className:"h-4 w-64"})]}),n.jsx(Nr,{className:"h-32 w-full rounded-xl"}),n.jsx(Nr,{className:"h-12 w-full"}),n.jsx(Nr,{className:"h-64 w-full"})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Receitas do Paciente"}),n.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie receitas ativas"})]}),n.jsx(zm,{patientId:e,isPacienteView:!1,profile:r==null?void 0:r.user,patient:r,loading:a}),n.jsx(Wi,{tabs:h,basePath:`/medico/paciente/${e}`}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(Bf,{className:"h-5 w-5"})," Receitas Ativas"]})}),n.jsx(Le,{children:l?n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((x,g)=>n.jsx(Nr,{className:"h-16 w-full"},g))}):i.length===0?n.jsx("div",{className:"text-center py-10 text-muted-foreground",children:"Nenhuma receita ativa encontrada para este paciente."}):n.jsxs(zo,{children:[n.jsx(Vo,{children:n.jsxs(nn,{children:[n.jsx(vr,{children:"ID"}),n.jsx(vr,{children:"Mdico"}),n.jsx(vr,{children:"Emitida"}),n.jsx(vr,{children:"Validade"}),n.jsx(vr,{children:"Status"}),n.jsx(vr,{className:"text-right",children:"Ativa"})]})}),n.jsx(qo,{children:i.map(x=>{var E,Q,U,F,L;const g=x.created_at||x.data_emissao,w=x.validade||x.validade_receita,j=String(x.status||x.situacao||"").toLowerCase(),N=m(x),C=((E=x==null?void 0:x.medico)==null?void 0:E.nome)||(x==null?void 0:x.medico_nome)||((U=(Q=x==null?void 0:x.consulta)==null?void 0:Q.medico)!=null&&U.user?`${x.consulta.medico.user.first_name||""} ${x.consulta.medico.user.last_name||""}`.trim():(L=(F=x==null?void 0:x.consulta)==null?void 0:F.medico)==null?void 0:L.nome);return n.jsxs(nn,{children:[n.jsx(dr,{children:x.id||x.pk||x.uuid}),n.jsx(dr,{children:C||"Mdico"}),n.jsx(dr,{children:g?new Date(g).toLocaleDateString():""}),n.jsx(dr,{children:w||""}),n.jsx(dr,{children:n.jsx(lr,{variant:N?"default":"secondary",children:N?"Ativa":j||"inativa"})}),n.jsx(dr,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx(Nf,{checked:N,disabled:d===(x.id||x.pk||x.uuid),onCheckedChange:()=>p(x)}),n.jsx(we,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs(fr,{to:x.arquivo_assinado?x.arquivo_assinado:`/medico/paciente/${e}/receita/preview`,target:x.arquivo_assinado?"_blank":void 0,children:[x.arquivo_assinado?n.jsx(us,{className:"h-4 w-4 mr-1"}):n.jsx(pr,{className:"h-4 w-4 mr-1"}),x.arquivo_assinado?"Abrir PDF":"Preview"]})})]})})]},x.id||x.pk||x.uuid)})})]})})]})]})}const ui={async getDashboard(){var t;const e=[];e.push("/clinicas/dashboard/");let r;for(const a of e){const s=a.endsWith("/")?a:`${a}/`;try{return console.debug("[clinicaService] GET",s),(await ye.get(s)).data}catch(i){if(((t=i==null?void 0:i.response)==null?void 0:t.status)===404){r=i;continue}throw i}}throw r||new Error("Endpoint de dashboard da clnica no encontrado.")},getCalendario:(e,r)=>ye.get(`/clinica/calendario/?mes=${e}&ano=${r}`),getExamesPorData:e=>ye.get(`/clinica/exames/?data=${e}`),getDisponibilidade:e=>ye.get(`/clinica/disponibilidade/?data=${e}`),setDisponibilidade:(e,r)=>ye.post("/clinica/disponibilidade/",{data:e,horarios:r}),updateDisponibilidade:(e,r)=>ye.put(`/clinica/disponibilidade/${e}/`,r),deleteDisponibilidade:e=>ye.delete(`/clinica/disponibilidade/${e}/`),getExames:(e={})=>ye.get("/clinica/exames/",{params:e}),createExame:e=>ye.post("/clinica/exames/",e),updateExame:(e,r)=>ye.put(`/clinica/exames/${e}/`,r),deleteExame:e=>ye.delete(`/clinica/exames/${e}/`),getTiposExame:()=>ye.get("/clinica/tipos-exame/"),getRelatorios:e=>ye.get(`/clinica/relatorios/?periodo=${e}`),getPacientes:()=>ye.get("/clinica/pacientes/"),getMedicos:()=>ye.get("/clinica/medicos/"),async vincularSecretaria(e){var l,A,d,f;if(!e)throw new Error("secretariaId  obrigatrio");let r=null;try{try{const h=await ye.get("/clinicas/me/");(l=h==null?void 0:h.data)!=null&&l.id&&(r=h.data.id)}catch{}if(!r){const h=await ye.get("/clinicas/"),m=Array.isArray((A=h.data)==null?void 0:A.results)?h.data.results:h.data;(d=m==null?void 0:m[0])!=null&&d.id&&(r=m[0].id)}}catch{}if(!r)throw new Error("No foi possvel resolver o ID da clnica.");const t="/clinicas/",a=t.endsWith("/")?t:`${t}/`,s=[`${a}${r}/secretarias/`,`${a}${r}/adicionar_secretaria/`,`${a}${r}/vincular_secretaria/`],i={secretaria:e,secretaria_id:e};let o;for(const h of s)try{return(await ye.post(h,i)).data}catch(m){const p=(f=m==null?void 0:m.response)==null?void 0:f.status;if(p===404||p===405){o=m;continue}throw m}throw o||new Error("Nenhum endpoint de vinculao de secretria encontrado para clnica.")}};function NX(){const{data:e,loading:r,error:t}=NF(ui.getDashboard);if(r)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:n.jsx("div",{className:"max-w-7xl mx-auto space-y-8",children:n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((i,o)=>n.jsxs(ke,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm animate-pulse",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx("div",{className:"h-4 w-20 bg-gradient-to-r from-slate-200 to-slate-300 rounded"}),n.jsx("div",{className:"h-4 w-4 bg-gradient-to-r from-slate-200 to-slate-300 rounded"})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"h-8 w-16 bg-gradient-to-r from-slate-200 to-slate-300 rounded mb-2"}),n.jsx("div",{className:"h-3 w-24 bg-gradient-to-r from-slate-200 to-slate-300 rounded"})]})]},o))})})});if(t)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx(ke,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:n.jsx(Le,{className:"flex items-center justify-center h-32",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ud,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),n.jsx("p",{className:"text-slate-600",children:"Erro ao carregar dashboard"})]})})})})});const a=e||{examesHoje:12,examesTotais:156,pacientesAtivos:89,taxaOcupacao:85,proximosExames:[{id:1,paciente:"Joo Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}],examesPendentes:5},s=({title:i,value:o,icon:l,description:A,gradient:d,iconBg:f,textColor:h,trend:m})=>n.jsx(ke,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:`bg-gradient-to-br ${d} rounded-2xl p-6 text-white relative overflow-hidden`,children:[n.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white/10 rounded-full -mr-10 -mt-10"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/5 rounded-full -ml-8 -mb-8"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:`p-3 ${f} rounded-xl`,children:n.jsx(l,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:`text-3xl font-bold ${h}`,children:o}),n.jsx("div",{className:"text-white/80 text-sm font-medium",children:i})]})]}),n.jsx("div",{className:"text-white/90 text-sm",children:A}),m&&n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-white/80 text-xs",children:[n.jsx(Em,{className:"h-3 w-3"}),m]})]})]})})});return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800 rounded-2xl p-8 text-white shadow-2xl",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Dashboard da Clnica"}),n.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie exames, horrios e acompanhe o desempenho da clnica"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(we,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30",asChild:!0,children:n.jsxs(fr,{to:"/clinica/calendario",children:[n.jsx(V0,{className:"h-4 w-4 mr-2"}),"Calendrio"]})}),n.jsx(we,{className:"bg-white text-blue-600 hover:bg-blue-50",asChild:!0,children:n.jsxs(fr,{to:"/clinica/exames",children:[n.jsx(mu,{className:"h-4 w-4 mr-2"}),"Agendar Exame"]})})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(s,{title:"Exames Hoje",value:a.examesHoje,icon:pr,description:"Exames agendados para hoje",gradient:"from-blue-500 to-blue-600",iconBg:"bg-blue-400/30",textColor:"text-white",trend:"+2 desde ontem"}),n.jsx(s,{title:"Total de Exames",value:a.examesTotais,icon:sn,description:"Exames realizados este ms",gradient:"from-green-500 to-green-600",iconBg:"bg-green-400/30",textColor:"text-white"}),n.jsx(s,{title:"Pacientes Ativos",value:a.pacientesAtivos,icon:Yn,description:"Pacientes cadastrados",gradient:"from-purple-500 to-purple-600",iconBg:"bg-purple-400/30",textColor:"text-white",trend:"+12% desde o ms passado"}),n.jsx(s,{title:"Taxa de Ocupao",value:`${a.taxaOcupacao}%`,icon:Bi,description:"Capacidade atual dos equipamentos",gradient:"from-orange-500 to-orange-600",iconBg:"bg-orange-400/30",textColor:"text-white"})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(ke,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[n.jsx(ze,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Tr,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Ye,{className:"text-slate-800",children:"Prximos Exames"}),n.jsx(mr,{className:"text-slate-600",children:"Exames agendados para hoje"})]})]}),n.jsx(we,{variant:"outline",className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",asChild:!0,children:n.jsxs(fr,{to:"/clinica/exames",children:["Ver todos",n.jsx(Xg,{className:"h-4 w-4 ml-2"})]})})]})}),n.jsx(Le,{className:"p-6",children:a.proximosExames.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:n.jsx(Tr,{className:"h-8 w-8 text-slate-400"})}),n.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Nenhum exame agendado"}),n.jsx("p",{className:"text-slate-500 text-sm",children:"No h exames programados para hoje"})]}):n.jsx("div",{className:"space-y-4",children:a.proximosExames.map(i=>n.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-4 hover:shadow-md transition-all duration-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200",children:[n.jsx("span",{className:"text-sm font-bold text-blue-700",children:i.horario}),n.jsx("span",{className:"text-xs text-blue-600",children:"Hoje"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-900",children:i.paciente}),n.jsx("p",{className:"text-sm text-slate-600",children:i.tipo}),n.jsx(lr,{variant:i.status==="confirmado"?"default":"secondary",className:`mt-1 text-xs ${i.status==="confirmado"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:i.status})]})]}),n.jsx(we,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:n.jsx(qr,{className:"h-4 w-4"})})]})},i.id))})})]})}),n.jsx("div",{className:"space-y-6",children:n.jsxs(ke,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[n.jsx(ze,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(Am,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx(Ye,{className:"text-slate-800",children:"Aes Rpidas"}),n.jsx(mr,{className:"text-slate-600",children:"Acesso rpido s principais funcionalidades"})]})]})}),n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(we,{className:"w-full justify-start btn-medical-primary shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:n.jsxs(fr,{to:"/clinica/calendario",children:[n.jsx(pr,{className:"mr-2 h-4 w-4"}),"Ver Calendrio"]})}),n.jsx(we,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:n.jsxs(fr,{to:"/clinica/disponibilidade",children:[n.jsx(Tr,{className:"mr-2 h-4 w-4"}),"Gerenciar Horrios"]})}),n.jsx(we,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:n.jsxs(fr,{to:"/clinica/exames",children:[n.jsx(sn,{className:"mr-2 h-4 w-4"}),"Agendar Exame"]})}),n.jsx(we,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:n.jsxs(fr,{to:"/clinica/pacientes",children:[n.jsx(Yn,{className:"mr-2 h-4 w-4"}),"Ver Pacientes"]})})]}),a.examesPendentes>0&&n.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ud,{className:"h-4 w-4 text-yellow-600"}),n.jsxs("p",{className:"text-sm font-medium text-yellow-800",children:[a.examesPendentes," exames pendentes de confirmao"]})]})})]})]})})]})]})})}const BX=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],CX=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"];function SX(){const[e,r]=y.useState(new Date),[t,a]=y.useState([]),[s,i]=y.useState(null),[o,l]=y.useState({}),[A,d]=y.useState(!1),[f,h]=y.useState(!1),[m,p]=y.useState(!1),[x,g]=y.useState({paciente:"",tipo:"",hora:""}),[w,j]=y.useState([]),[N,C]=y.useState([]),[E]=KU();y.useEffect(()=>{Q()},[e]),y.useEffect(()=>{(async()=>{var re,z;try{const[G,V]=await Promise.all([ui.getPacientes().catch(()=>({data:[]})),ui.getTiposExame().catch(()=>({data:[]}))]),ee=Array.isArray(G==null?void 0:G.data)?G.data:((re=G==null?void 0:G.data)==null?void 0:re.results)||[],ce=Array.isArray(V==null?void 0:V.data)?V.data:((z=V==null?void 0:V.data)==null?void 0:z.results)||[];j(ee),C(ce)}catch{}})()},[]),y.useEffect(()=>{const T=E.get("data"),re=E.get("paciente");T&&(i(T),U(T)),re&&(g(z=>({...z,paciente:String(re)})),h(!0))},[]);const Q=async()=>{d(!0);try{const T=await ui.getCalendario(e.getMonth()+1,e.getFullYear());l(T.data||{})}catch(T){console.error("Erro ao carregar calendrio:",T),l({"2024-01-15":{total:5,status:"ocupado"},"2024-01-16":{total:8,status:"lotado"},"2024-01-17":{total:3,status:"disponivel"},"2024-01-18":{total:6,status:"ocupado"},"2024-01-22":{total:2,status:"disponivel"},"2024-01-23":{total:7,status:"ocupado"}})}finally{d(!1)}},U=async T=>{try{const re=await ui.getExamesPorData(T);a(re.data||[])}catch(re){console.error("Erro ao carregar exames:",re),a([{id:1,paciente:"Joo Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}])}},F=T=>{const re=new Date(e);re.setMonth(e.getMonth()+T),r(re)},L=T=>{const z=new Date(e.getFullYear(),e.getMonth(),T).toISOString().split("T")[0];i(z),U(z)},_=(T="")=>{g({paciente:T?String(T):"",tipo:"",hora:""}),h(!0)},q=async()=>{if(!s)return;const{paciente:T,tipo:re,hora:z}=x;if(!T||!re||!z){alert("Preencha paciente, tipo e horrio.");return}p(!0);try{const G={paciente:T,tipo:re,data:s,hora:z};await ui.createExame(G),h(!1),g({paciente:"",tipo:"",hora:""}),await U(s)}catch{alert("Erro ao agendar. Verifique os dados e tente novamente.")}finally{p(!1)}},R=()=>{const T=e.getFullYear(),re=e.getMonth(),z=new Date(T,re,1),G=new Date(T,re+1,0),V=z.getDay(),ee=G.getDate(),ce=[];for(let D=V-1;D>=0;D--){const K=new Date(T,re,-D);ce.push({dia:K.getDate(),outroMes:!0,data:K})}for(let D=1;D<=ee;D++){const K=new Date(T,re,D),te=K.toISOString().split("T")[0],Y=o[te]||{total:0,status:"disponivel"};ce.push({dia:D,outroMes:!1,data:K,dataString:te,...Y})}const k=42-ce.length;for(let D=1;D<=k;D++){const K=new Date(T,re+1,D);ce.push({dia:D,outroMes:!0,data:K})}return ce},H=T=>{switch(T){case"disponivel":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200";case"ocupado":return"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200";case"lotado":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}},J=R();return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Calendrio de Exames"}),n.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie os exames agendados"})]})}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"h-5 w-5"}),BX[e.getMonth()]," ",e.getFullYear()]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(we,{variant:"outline",size:"sm",onClick:()=>F(-1),children:n.jsx(tS,{className:"h-4 w-4"})}),n.jsx(we,{variant:"outline",size:"sm",onClick:()=>F(1),children:n.jsx(gl,{className:"h-4 w-4"})})]})]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:CX.map(T=>n.jsx("div",{className:"p-2 text-center text-sm font-medium text-muted-foreground",children:T},T))}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:J.map((T,re)=>n.jsxs("button",{onClick:()=>!T.outroMes&&L(T.dia),disabled:T.outroMes,className:`
                        p-2 text-sm rounded-lg transition-colors relative
                        ${T.outroMes?"text-muted-foreground cursor-not-allowed":"hover:bg-accent cursor-pointer"}
                        ${s===T.dataString?"bg-primary text-primary-foreground":""}
                      `,children:[n.jsx("div",{className:"font-medium",children:T.dia}),!T.outroMes&&T.total>0&&n.jsx("div",{className:`
                          absolute -top-1 -right-1 w-5 h-5 rounded-full text-xs flex items-center justify-center
                          ${H(T.status)}
                        `,children:T.total})]},re))}),n.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),n.jsx("span",{children:"Disponvel"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),n.jsx("span",{children:"Ocupado"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),n.jsx("span",{children:"Lotado"})]})]})]})]})}),n.jsx("div",{children:n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(Tr,{className:"h-5 w-5"}),s?"Exames do Dia":"Selecione uma Data"]}),s&&n.jsx(mr,{children:new Date(s+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),n.jsx(Le,{children:s?t.length===0?n.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[n.jsx(Tr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Nenhum exame agendado para esta data"}),n.jsx(we,{className:"mt-4",size:"sm",onClick:()=>_(),children:"Agendar Exame"})]}):n.jsxs("div",{className:"space-y-3",children:[t.map(T=>n.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:T.paciente})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lr,{variant:T.status==="confirmado"?"default":"secondary",children:T.status}),n.jsx(we,{variant:"outline",size:"sm",className:"bg-transparent",onClick:()=>_(T.paciente_id||T.pacienteId||""),title:"Agendar novo exame para este paciente",children:"Agendar"})]})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsx("p",{children:T.tipo}),n.jsxs("p",{className:"flex items-center gap-1",children:[n.jsx(Tr,{className:"h-3 w-3"}),T.horario]})]})]},T.id)),n.jsx(we,{className:"w-full mt-4",size:"sm",onClick:()=>_(),children:"Agendar Novo Exame"})]}):n.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[n.jsx(pr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Clique em uma data no calendrio para ver os exames agendados"})]})})]})})]})]}),n.jsx(uA,{open:f,onOpenChange:h,children:n.jsxs(dc,{children:[n.jsxs(uc,{children:[n.jsx(fc,{children:"Agendar exame"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Data: ",s?new Date(s+"T00:00:00").toLocaleDateString("pt-BR"):"-"]})]}),n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Paciente"}),n.jsxs(Wr,{value:x.paciente,onValueChange:T=>g(re=>({...re,paciente:T})),children:[n.jsx(Kr,{children:n.jsx(Gr,{placeholder:"Selecione o paciente"})}),n.jsx(zr,{children:w.map(T=>n.jsxs(at,{value:String(T.id),children:[T.nome," ",T.cpf?`- ${T.cpf}`:""]},T.id))})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Tipo de exame"}),n.jsxs(Wr,{value:x.tipo,onValueChange:T=>g(re=>({...re,tipo:T})),children:[n.jsx(Kr,{children:n.jsx(Gr,{placeholder:"Selecione o tipo"})}),n.jsx(zr,{children:N.map(T=>n.jsx(at,{value:String(T.id||T.value||T),children:T.nome||T.label||T.value||T},T.id||T.value||T))})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Horrio"}),n.jsx(He,{type:"time",value:x.hora,onChange:T=>g(re=>({...re,hora:T.target.value}))})]})]}),n.jsxs(fA,{className:"mt-4",children:[n.jsx(we,{variant:"outline",className:"bg-transparent",onClick:()=>h(!1),children:"Cancelar"}),n.jsx(we,{onClick:q,disabled:m,children:m?"Salvando...":"Agendar"})]})]})})]})}const _X={manha:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30"],tarde:["13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"],integral:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"]};function EX(){const[e,r]=y.useState(""),[t,a]=y.useState([]),[s,i]=y.useState(""),[o,l]=y.useState(!1),[A,d]=y.useState(!1),{toast:f}=Ga();y.useEffect(()=>{e&&h()},[e]);const h=async()=>{var N;l(!0);try{const C=await ui.getDisponibilidade(e);a(((N=C.data)==null?void 0:N.horarios)||[])}catch(C){console.error("Erro ao carregar disponibilidade:",C),a([{horario:"09:00",ocupado:!1},{horario:"10:00",ocupado:!0},{horario:"11:00",ocupado:!1},{horario:"14:00",ocupado:!1},{horario:"15:00",ocupado:!0}])}finally{l(!1)}},m=async()=>{if(!e){f({title:"Erro",description:"Selecione uma data primeiro",variant:"destructive"});return}d(!0);try{await ui.setDisponibilidade(e,t),f({title:"Sucesso",description:"Disponibilidade salva com sucesso"})}catch(N){console.error("Erro ao salvar disponibilidade:",N),f({title:"Erro",description:"Erro ao salvar disponibilidade",variant:"destructive"})}finally{d(!1)}},p=()=>{if(!s)return;if(t.some(C=>C.horario===s)){f({title:"Aviso",description:"Este horrio j existe",variant:"destructive"});return}a([...t,{horario:s,ocupado:!1}].sort((C,E)=>C.horario.localeCompare(E.horario))),i("")},x=N=>{a(t.filter(C=>C.horario!==N))},g=N=>{const C=_X[N].map(E=>({horario:E,ocupado:!1}));a(C)},w=async()=>{var E;if(!e)return;const N=new Date(e);N.setDate(N.getDate()-1);const C=N.toISOString().split("T")[0];try{const F=(((E=(await ui.getDisponibilidade(C)).data)==null?void 0:E.horarios)||[]).filter(L=>!L.ocupado).map(L=>({...L,ocupado:!1}));a(F),f({title:"Sucesso",description:"Horrios copiados do dia anterior"})}catch(Q){console.error("Erro ao copiar horrios:",Q),f({title:"Erro",description:"Erro ao copiar horrios do dia anterior",variant:"destructive"})}},j=new Date().toISOString().split("T")[0];return n.jsx(n.Fragment,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gerenciar Disponibilidade"}),n.jsx("p",{className:"text-muted-foreground",children:"Configure os horrios disponveis para exames"})]})}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"h-5 w-5"}),"Selecionar Data"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(De,{htmlFor:"data",children:"Data"}),n.jsx(ms,{id:"data",name:"data",value:e,onChange:r,minDate:j?new Date(j):void 0})]}),e&&n.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(e+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsx(Ye,{children:"Templates Rpidos"}),n.jsx(mr,{children:"Aplique configuraes pr-definidas"})]}),n.jsxs(Le,{className:"space-y-3",children:[n.jsxs(we,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>g("manha"),disabled:!e,children:[n.jsx(Tr,{className:"mr-2 h-4 w-4"}),"Manh (8h s 11h30)"]}),n.jsxs(we,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>g("tarde"),disabled:!e,children:[n.jsx(Tr,{className:"mr-2 h-4 w-4"}),"Tarde (13h s 17h)"]}),n.jsxs(we,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>g("integral"),disabled:!e,children:[n.jsx(Tr,{className:"mr-2 h-4 w-4"}),"Perodo Integral"]}),n.jsxs(we,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:w,disabled:!e,children:[n.jsx(W6,{className:"mr-2 h-4 w-4"}),"Copiar Dia Anterior"]})]})]})]}),n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(Tr,{className:"h-5 w-5"}),"Horrios Disponveis"]}),n.jsxs(we,{onClick:m,disabled:!e||A,children:[n.jsx(U1,{className:"mr-2 h-4 w-4"}),A?"Salvando...":"Salvar"]})]}),e&&n.jsxs(mr,{children:["Configurando horrios para ",new Date(e+"T00:00:00").toLocaleDateString("pt-BR")]})]}),n.jsx(Le,{children:e?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(He,{type:"time",value:s,onChange:N=>i(N.target.value),placeholder:"Novo horrio"}),n.jsx(we,{onClick:p,disabled:!s,children:n.jsx(mu,{className:"h-4 w-4"})})]}),o?n.jsx("div",{className:"space-y-2",children:[...Array(5)].map((N,C)=>n.jsx("div",{className:"h-12 bg-muted rounded animate-pulse"},C))}):t.length===0?n.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[n.jsx(Tr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Nenhum horrio configurado"}),n.jsx("p",{className:"text-sm",children:"Use os templates ou adicione horrios manualmente"})]}):n.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:t.map((N,C)=>n.jsxs("div",{className:`
                              flex items-center justify-between p-3 border rounded-lg
                              ${N.ocupado?"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800":"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800"}
                            `,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Tr,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:N.horario})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lr,{variant:N.ocupado?"destructive":"default",children:N.ocupado?"Ocupado":"Livre"}),!N.ocupado&&n.jsx(we,{variant:"ghost",size:"sm",onClick:()=>x(N.horario),children:n.jsx(ly,{className:"h-4 w-4"})})]})]},C))}),t.length>0&&n.jsx("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-medium",children:["Total: ",t.length," horrios"]}),n.jsxs("p",{className:"text-muted-foreground",children:[t.filter(N=>!N.ocupado).length," disponveis,"," ",t.filter(N=>N.ocupado).length," ocupados"]})]})})]}):n.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[n.jsx(pr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Selecione uma data para gerenciar os horrios"})]})})]})})]})]})})}function FX(){const{toast:e}=Ga(),[r,t]=y.useState(!1),[a,s]=y.useState([]),[i,o]=y.useState({q:"",tipo:"todos",status:"todos"}),[l,A]=y.useState([]),[d,f]=y.useState(!1),[h,m]=y.useState({paciente:"",tipo:"",data:"",hora:""}),p=async()=>{try{const{data:w}=await ui.getTiposExame();s(w||[])}catch{}},x=async()=>{t(!0);try{const w={};i.q&&(w.q=i.q),i.tipo!=="todos"&&(w.tipo=i.tipo),i.status!=="todos"&&(w.status=i.status);const{data:j}=await ui.getExames(w);A(Array.isArray(j)?j:(j==null?void 0:j.results)||[])}catch{e({title:"Erro",description:"No foi possvel carregar os exames.",variant:"destructive"})}finally{t(!1)}};y.useEffect(()=>{p()},[]),y.useEffect(()=>{x()},[i]);const g=async()=>{if(!h.paciente||!h.tipo||!h.data||!h.hora){e({title:"Campos obrigatrios",description:"Preencha paciente, tipo, data e hora.",variant:"destructive"});return}f(!0);try{const w={paciente:h.paciente,tipo:h.tipo,data:h.data,hora:h.hora};await ui.createExame(w),e({title:"Exame criado",description:"Exame agendado com sucesso."}),m({paciente:"",tipo:"",data:"",hora:""}),x()}catch{e({title:"Erro ao criar",description:"Verifique os dados e tente novamente.",variant:"destructive"})}finally{f(!1)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames"}),n.jsx("p",{className:"text-muted-foreground",children:"Listagem e agendamento de exames"})]})}),n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsx(Ye,{children:"Filtros"}),n.jsx(mr,{children:"Busque e filtre os exames"})]}),n.jsxs(Le,{className:"grid gap-4 md:grid-cols-3",children:[n.jsx(He,{placeholder:"Buscar por paciente/tipo...",value:i.q,onChange:w=>o({...i,q:w.target.value})}),n.jsxs(Wr,{value:i.tipo,onValueChange:w=>o({...i,tipo:w}),children:[n.jsx(Kr,{children:n.jsx(Gr,{placeholder:"Tipo"})}),n.jsxs(zr,{children:[n.jsx(at,{value:"todos",children:"Todos os tipos"}),a.map(w=>n.jsx(at,{value:w.value||w.nome||w.id||String(w),children:w.nome||w.label||w.value||w},w.id||w.value||w))]})]}),n.jsxs(Wr,{value:i.status,onValueChange:w=>o({...i,status:w}),children:[n.jsx(Kr,{children:n.jsx(Gr,{placeholder:"Status"})}),n.jsxs(zr,{children:[n.jsx(at,{value:"todos",children:"Todos"}),n.jsx(at,{value:"pendente",children:"Pendente"}),n.jsx(at,{value:"confirmado",children:"Confirmado"}),n.jsx(at,{value:"cancelado",children:"Cancelado"})]})]})]})]}),n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsx(Ye,{children:"Lista de Exames"}),n.jsx(mr,{children:r?"Carregando...":`${l.length} registro(s)`})]}),n.jsx(Le,{children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(zo,{children:[n.jsx(Vo,{children:n.jsxs(nn,{children:[n.jsx(vr,{children:"Paciente"}),n.jsx(vr,{children:"Tipo"}),n.jsx(vr,{children:"Data"}),n.jsx(vr,{children:"Hora"}),n.jsx(vr,{children:"Status"})]})}),n.jsxs(qo,{children:[l.map((w,j)=>n.jsxs(nn,{children:[n.jsx(dr,{children:w.paciente_nome||w.paciente||"-"}),n.jsx(dr,{children:w.tipo_nome||w.tipo||"-"}),n.jsx(dr,{children:w.data||"-"}),n.jsx(dr,{children:w.hora||"-"}),n.jsx(dr,{children:w.status||"-"})]},w.id||j)),!r&&l.length===0&&n.jsx(nn,{children:n.jsx(dr,{colSpan:5,className:"text-center text-muted-foreground",children:"Nenhum exame encontrado"})})]})]})})})]}),n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsx(Ye,{children:"Novo Exame"}),n.jsx(mr,{children:"Crie um novo agendamento de exame"})]}),n.jsxs(Le,{className:"grid gap-4 md:grid-cols-4",children:[n.jsx(He,{placeholder:"Paciente (nome/ID)",value:h.paciente,onChange:w=>m({...h,paciente:w.target.value})}),n.jsxs(Wr,{value:h.tipo,onValueChange:w=>m({...h,tipo:w}),children:[n.jsx(Kr,{children:n.jsx(Gr,{placeholder:"Tipo de exame"})}),n.jsx(zr,{children:a.map(w=>n.jsx(at,{value:w.value||w.nome||w.id||String(w),children:w.nome||w.label||w.value||w},w.id||w.value||w))})]}),n.jsx(ms,{value:h.data,onChange:w=>m({...h,data:w}),minDate:new Date}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(He,{type:"time",value:h.hora,onChange:w=>m({...h,hora:w.target.value})}),n.jsx(we,{onClick:g,disabled:d,children:d?"Criando...":"Criar"})]})]})]})]})}function kX(){const{toast:e}=Ga(),[r,t]=y.useState(""),[a,s]=y.useState(!1),[i,o]=y.useState([]),l=async()=>{s(!0);try{const{data:f}=await ui.getPacientes(),h=Array.isArray(f)?f:(f==null?void 0:f.results)||[];o(h)}catch{e({title:"Erro",description:"No foi possvel carregar os pacientes.",variant:"destructive"})}finally{s(!1)}};y.useEffect(()=>{l()},[]);const A=i.filter(f=>[f.nome,f.email,f.cpf].join(" ").toLowerCase().includes(r.toLowerCase())),d=new Date().toISOString().split("T")[0];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pacientes"}),n.jsx("p",{className:"text-muted-foreground",children:"Listagem de pacientes"})]}),n.jsx("div",{className:"w-72",children:n.jsx(He,{placeholder:"Buscar por nome, e-mail ou CPF",value:r,onChange:f=>t(f.target.value)})})]}),n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsx(Ye,{children:"Lista de Pacientes"}),n.jsx(mr,{children:a?"Carregando...":`${A.length} registro(s)`})]}),n.jsx(Le,{children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(zo,{children:[n.jsx(Vo,{children:n.jsxs(nn,{children:[n.jsx(vr,{children:"Nome"}),n.jsx(vr,{children:"E-mail"}),n.jsx(vr,{children:"CPF"}),n.jsx(vr,{className:"w-[1%]",children:"Aes"})]})}),n.jsxs(qo,{children:[A.map((f,h)=>n.jsxs(nn,{children:[n.jsx(dr,{children:f.nome||"-"}),n.jsx(dr,{children:f.email||"-"}),n.jsx(dr,{children:f.cpf||"-"}),n.jsx(dr,{children:n.jsx(fr,{to:`/clinica/calendario?paciente=${f.id}&data=${d}`,children:n.jsx(we,{size:"sm",children:"Agendar"})})})]},f.id||h)),!a&&A.length===0&&n.jsx(nn,{children:n.jsx(dr,{colSpan:3,className:"text-center text-muted-foreground",children:"Nenhum paciente encontrado"})})]})]})})})]})]})}function DX(){const{toast:e}=Ga(),[r,t]=y.useState(""),[a,s]=y.useState(!1),[i,o]=y.useState([]),l=async()=>{s(!0);try{const{data:d}=await ui.getMedicos(),f=Array.isArray(d)?d:(d==null?void 0:d.results)||[];o(f)}catch{e({title:"Erro",description:"No foi possvel carregar os mdicos.",variant:"destructive"})}finally{s(!1)}};y.useEffect(()=>{l()},[]);const A=i.filter(d=>[d.nome,d.email,d.crm,d.especialidade].join(" ").toLowerCase().includes(r.toLowerCase()));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Mdicos"}),n.jsx("p",{className:"text-muted-foreground",children:"Listagem de mdicos"})]}),n.jsx("div",{className:"w-72",children:n.jsx(He,{placeholder:"Buscar por nome, e-mail, CRM, especialidade",value:r,onChange:d=>t(d.target.value)})})]}),n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsx(Ye,{children:"Lista de Mdicos"}),n.jsx(mr,{children:a?"Carregando...":`${A.length} registro(s)`})]}),n.jsx(Le,{children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(zo,{children:[n.jsx(Vo,{children:n.jsxs(nn,{children:[n.jsx(vr,{children:"Nome"}),n.jsx(vr,{children:"E-mail"}),n.jsx(vr,{children:"CRM"}),n.jsx(vr,{children:"Especialidade"})]})}),n.jsxs(qo,{children:[A.map((d,f)=>n.jsxs(nn,{children:[n.jsx(dr,{children:d.nome||"-"}),n.jsx(dr,{children:d.email||"-"}),n.jsx(dr,{children:d.crm||"-"}),n.jsx(dr,{children:d.especialidade||"-"})]},d.id||f)),!a&&A.length===0&&n.jsx(nn,{children:n.jsx(dr,{colSpan:4,className:"text-center text-muted-foreground",children:"Nenhum mdico encontrado"})})]})]})})})]})]})}function UX(){const[e,r]=y.useState("30d"),[t,a]=y.useState(!1),[s,i]=y.useState(null),[o,l]=y.useState(null),A=async()=>{a(!0),l(null);try{const{data:f}=await ui.getRelatorios(e);i(f||{})}catch{l("No foi possvel carregar os relatrios.")}finally{a(!1)}};y.useEffect(()=>{A()},[e]);const d=s||{examesTotais:120,pacientesAtendidos:80,taxaCancelamento:5};return n.jsx("div",{className:"space-y-6",children:n.jsxs(ke,{children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Ye,{children:"Relatrios"}),n.jsx(mr,{children:"Mtricas da clnica"})]}),n.jsx("div",{className:"w-40",children:n.jsxs(Wr,{value:e,onValueChange:r,children:[n.jsx(Kr,{children:n.jsx(Gr,{})}),n.jsxs(zr,{children:[n.jsx(at,{value:"7d",children:"ltimos 7 dias"}),n.jsx(at,{value:"30d",children:"ltimos 30 dias"}),n.jsx(at,{value:"90d",children:"ltimos 90 dias"})]})]})})]}),n.jsx(Le,{children:t?n.jsx("p",{children:"Carregando..."}):o?n.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[n.jsx(ud,{className:"h-4 w-4"}),n.jsx("span",{children:o})]}):n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(sn,{className:"h-4 w-4"})," Exames"]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-2xl font-bold",children:d.examesTotais}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"no perodo"})]})]}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Yn,{className:"h-4 w-4"})," Pacientes Atendidos"]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-2xl font-bold",children:d.pacientesAtendidos}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"no perodo"})]})]}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{className:"text-sm font-medium",children:"Taxa de Cancelamento"})}),n.jsxs(Le,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[d.taxaCancelamento,"%"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"no perodo"})]})]})]})})]})})}function LX(){const[e,r]=y.useState({nome:"",cnpj:"",email:"",responsavel:""}),[t,a]=y.useState(""),[s,i]=y.useState(""),[o,l]=y.useState(""),[A,d]=y.useState(""),[f,h]=y.useState(!1),[m,p]=y.useState(""),[x,g]=y.useState(""),{toast:w}=Ga(),j=E=>{const Q=String(E||"").replace(/\D/g,"").slice(0,14),U=Q.slice(0,2),F=Q.slice(2,5),L=Q.slice(5,8),_=Q.slice(8,12),q=Q.slice(12,14);return Q.length>12?`${U}.${F}.${L}/${_}-${q}`:Q.length>8?`${U}.${F}.${L}/${_}`:Q.length>5?`${U}.${F}.${L}`:Q.length>2?`${U}.${F}`:U},N=async()=>{w({title:"Configuraes",description:"Alteraes salvas (stub)."})};async function C(E=!0){var Q,U,F,L,_;if(p(""),g(""),!t){p("Informe o e-mail da secretria.");return}h(!0);try{let q=null;if(E){const R={email:t,first_name:s||void 0,last_name:o||void 0,password:A||void 0,role:"secretaria",type:"secretaria"},H=await fa.createUsuario(R);if(q=(H==null?void 0:H.id)||((Q=H==null?void 0:H.usuario)==null?void 0:Q.id)||((U=H==null?void 0:H.user)==null?void 0:U.id)||(H==null?void 0:H.pk)||null,!q){const J=H&&typeof H=="object"?((F=H.user)==null?void 0:F.pk)||((L=H.usuario)==null?void 0:L.pk):null;J&&(q=J)}if(!q)throw new Error("No foi possvel obter o ID da secretria criada.")}else{const R=await fa.getUsuarios({search:t,page:1,page_size:100}),J=(Array.isArray(R==null?void 0:R.results)?R.results:Array.isArray(R)?R:[]).find(T=>String(T.email||"").toLowerCase()===t.toLowerCase());if(!J)throw new Error("No foi possvel localizar uma usuria com esse e-mail.");if(q=J.id||J.pk,!q)throw new Error("Usuria encontrada, porm sem ID vlido.")}await ui.vincularSecretaria(q),g("Secretria vinculada com sucesso."),a(""),i(""),l(""),d("")}catch(q){const R=(_=q==null?void 0:q.response)!=null&&_.data?JSON.stringify(q.response.data):(q==null?void 0:q.message)||"Falha ao processar solicitao.";p(R)}finally{h(!1)}}return n.jsxs(W_,{children:[n.jsx("div",{className:"space-y-6",children:n.jsx("h1",{className:"text-2xl font-bold",children:"Configuraes"})}),n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsx(Ye,{children:"Dados da Clnica"}),n.jsx(mr,{children:"Edite os dados bsicos"})]}),n.jsxs(Le,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm",children:"Nome"}),n.jsx(He,{value:e.nome,onChange:E=>r({...e,nome:E.target.value}),placeholder:"Nome da clnica"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm",children:"CNPJ"}),n.jsx(He,{value:e.cnpj,onChange:E=>r({...e,cnpj:j(E.target.value)}),placeholder:"00.000.000/0000-00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm",children:"E-mail"}),n.jsx(He,{type:"email",value:e.email,onChange:E=>r({...e,email:E.target.value}),placeholder:"email@clinica.com"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm",children:"Responsvel"}),n.jsx(He,{value:e.responsavel,onChange:E=>r({...e,responsavel:E.target.value}),placeholder:"Nome do responsvel"})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(we,{onClick:N,children:"Salvar alteraes"})})]})]}),n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsx(Ye,{children:"Adicionar secretria"}),n.jsx(mr,{children:"Crie uma nova secretria ou vincule por e-mail existente"})]}),n.jsxs(Le,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[m&&n.jsx("div",{className:"text-sm text-red-600",children:m}),x&&n.jsx("div",{className:"text-sm text-emerald-700",children:x})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(De,{children:"E-mail da secretria"}),n.jsx(He,{type:"email",value:t,onChange:E=>a(E.target.value),placeholder:"secretaria@exemplo.com"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Nome (opcional)"}),n.jsx(He,{value:s,onChange:E=>i(E.target.value),placeholder:"Nome"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Sobrenome (opcional)"}),n.jsx(He,{value:o,onChange:E=>l(E.target.value),placeholder:"Sobrenome"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Senha (opcional)"}),n.jsx(He,{type:"password",value:A,onChange:E=>d(E.target.value),placeholder:"Senha inicial (ou deixe em branco)"})]}),n.jsxs("div",{className:"md:col-span-2 flex gap-2",children:[n.jsx(we,{onClick:()=>C(!0),disabled:f,children:f?"Processando...":"Criar e vincular"}),n.jsx(we,{variant:"outline",onClick:()=>C(!1),disabled:f,children:f?"Processando...":"Vincular por e-mail"})]})]})]})]})}function IX(){const[e,r]=y.useState({totalUsuarios:0,medicosAtivos:0,clinicasAtivas:0,solicitacoesPendentes:0,solicitacoesHoje:0,aprovacoesSemana:0,rejeicoesSemana:0,aprovadosMedicosSemana:0,aprovadasClinicasSemana:0,rejeitadosMedicosSemana:0,rejeitadasClinicasSemana:0}),[t,a]=y.useState([]),[s,i]=y.useState(!0),o=()=>{const d=new Date,f=d.getDay(),h=d.getDate()-f+(f===0?-6:1),m=new Date(d);return m.setDate(h),m.setHours(0,0,0,0),m};y.useEffect(()=>{let d=!0;return(async()=>{var m,p,x;const h=o();try{const g=await fa.getDashboard();d&&g&&r(w=>({...w,totalUsuarios:g.total_usuarios??g.totalUsuarios??w.totalUsuarios,medicosAtivos:g.medicos_ativos??g.medicosAtivos??w.medicosAtivos,clinicasAtivas:g.clinicas_ativas??g.clinicasAtivas??w.clinicasAtivas,solicitacoesPendentes:g.solicitacoes_pendentes??g.solicitacoesPendentes??w.solicitacoesPendentes,aprovacoesSemana:g.aprovacoes_semana??g.aprovacoesSemana??w.aprovacoesSemana,rejeicoesSemana:g.rejeicoes_semana??g.rejeicoesSemana??w.rejeicoesSemana,aprovadosMedicosSemana:g.aprovados_medicos_semana??g.aprovadosMedicosSemana??w.aprovadosMedicosSemana,aprovadasClinicasSemana:g.aprovadas_clinicas_semana??g.aprovadasClinicasSemana??w.aprovadasClinicasSemana,rejeitadosMedicosSemana:g.rejeitados_medicos_semana??g.rejeitadosMedicosSemana??w.rejeitadosMedicosSemana,rejeitadasClinicasSemana:g.rejeitadas_clinicas_semana??g.rejeitadasClinicasSemana??w.rejeitadasClinicasSemana}))}catch(g){console.warn("[AdminDashboard] getDashboard falhou:",(m=g==null?void 0:g.response)==null?void 0:m.status)}try{const g=await fa.getSolicitacoes({status:"pending",limit:5}),j=(Array.isArray(g==null?void 0:g.results)?g.results:Array.isArray(g)?g:[]).map(N=>({...N,nome:N.nome??N.name??N.title??"",tipo:(N.tipo??N.type??"").toString().toLowerCase(),dataEnvio:N.dataEnvio??N.created_at??N.data_envio??null}));if(d){a(j);const N=new Date().toDateString(),C=j.filter(E=>{const Q=new Date(E.dataEnvio);return!isNaN(Q)&&Q.toDateString()===N}).length;r(E=>({...E,solicitacoesHoje:C}))}}catch(g){console.warn("[AdminDashboard] getSolicitacoes falhou (pendentes recentes):",(p=g==null?void 0:g.response)==null?void 0:p.status)}try{const g=o().toISOString(),w=async F=>{const L=await fa.getSolicitacoes({status:F,limit:100,created_at__gte:g});return(Array.isArray(L==null?void 0:L.results)?L.results:Array.isArray(L)?L:[]).map(q=>({tipo:(q.tipo??q.type??"").toString().toLowerCase(),createdAt:q.created_at??q.data_envio??q.dataEnvio??null})).filter(q=>{const R=new Date(q.createdAt);return q.createdAt&&!isNaN(R)&&R>=h})},[j,N]=await Promise.all([w("approved"),w("rejected")]),C=j.filter(F=>F.tipo==="medico").length,E=j.filter(F=>F.tipo==="clinica").length,Q=N.filter(F=>F.tipo==="medico").length,U=N.filter(F=>F.tipo==="clinica").length;d&&r(F=>({...F,aprovacoesSemana:F.aprovacoesSemana||0||j.length,rejeicoesSemana:F.rejeicoesSemana||0||N.length,aprovadosMedicosSemana:F.aprovadosMedicosSemana||0||C,aprovadasClinicasSemana:F.aprovadasClinicasSemana||0||E,rejeitadosMedicosSemana:F.rejeitadosMedicosSemana||0||Q,rejeitadasClinicasSemana:F.rejeitadasClinicasSemana||0||U}))}catch(g){console.warn("[AdminDashboard] clculo semanal (fallback) falhou:",(x=g==null?void 0:g.response)==null?void 0:x.status)}finally{d&&i(!1)}})(),()=>{d=!1}},[]);const l=d=>{switch(d){case"pending":return n.jsxs(lr,{variant:"outline",className:"badge-medical-warning",children:[n.jsx(Tr,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return n.jsxs(lr,{variant:"outline",className:"badge-medical-success",children:[n.jsx(us,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return n.jsxs(lr,{variant:"outline",className:"badge-medical-error",children:[n.jsx(fs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},A=d=>{switch(d){case"alta":return n.jsx(lr,{variant:"destructive",className:"text-xs",children:"Alta"});case"normal":return n.jsx(lr,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return n.jsx(lr,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}};return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Dashboard Administrativo"}),n.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Gerencie usurios e solicitaes do sistema"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(we,{variant:"outline",className:"gap-2",asChild:!0,children:n.jsxs(fr,{to:"/admin/usuarios",children:[n.jsx(Yn,{className:"h-4 w-4"}),"Usurios"]})}),n.jsx(we,{variant:"outline",className:"gap-2",asChild:!0,children:n.jsxs(fr,{to:"/admin/relatorios",children:[n.jsx(lm,{className:"h-4 w-4"}),"Relatrios"]})}),n.jsx(we,{className:"gap-2 btn-medical-primary",asChild:!0,children:n.jsxs(fr,{to:"/admin/solicitacoes",children:[n.jsx(Ai,{className:"h-4 w-4"}),"Solicitaes"]})})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ye,{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"Total de Usurios"}),n.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:n.jsx(Yn,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:e.totalUsuarios}),n.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"+12% em relao ao ms passado"})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ye,{className:"text-sm font-semibold text-green-700 dark:text-green-300",children:"Mdicos Ativos"}),n.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:n.jsx(qr,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:e.medicosAtivos}),n.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"+5 novos esta semana"})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ye,{className:"text-sm font-semibold text-purple-700 dark:text-purple-300",children:"Clnicas Ativas"}),n.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:n.jsx(cc,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:e.clinicasAtivas}),n.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"+2 novas este ms"})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-950/50 dark:to-amber-900/50",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ye,{className:"text-sm font-semibold text-amber-700 dark:text-amber-300",children:"Solicitaes Pendentes"}),n.jsx("div",{className:"p-2 bg-amber-500 rounded-lg",children:n.jsx(ud,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100",children:e.solicitacoesPendentes}),n.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:[e.solicitacoesHoje," novas hoje"]})]})]})]}),n.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsxs(ke,{className:"border-0 shadow-lg",children:[n.jsxs(ze,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:[n.jsxs(Ye,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[n.jsx(Bi,{className:"h-5 w-5 text-purple-600"}),"Aes Rpidas"]}),n.jsx(mr,{className:"text-slate-600 dark:text-slate-400",children:"Acesso rpido s principais funcionalidades"})]}),n.jsxs(Le,{className:"p-6 space-y-4",children:[n.jsx(fr,{to:{pathname:"/admin/solicitacoes",search:"?status=pending"},children:n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-amber-200 bg-amber-50 hover:bg-amber-100 dark:border-amber-800 dark:bg-amber-900/20 dark:hover:bg-amber-900/30 transition-colors group cursor-pointer",children:[n.jsx("div",{className:"p-3 bg-amber-500 rounded-lg",children:n.jsx(Tr,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-amber-900 dark:text-amber-100",children:"Solicitaes Pendentes"}),n.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:[e.solicitacoesPendentes," solicitaes aguardando anlise"]})]}),n.jsx(gl,{className:"h-5 w-5 text-amber-600 group-hover:translate-x-1 transition-transform"})]})}),n.jsx(fr,{to:"/admin/usuarios",children:n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-blue-200 bg-blue-50 hover:bg-blue-100 dark:border-blue-800 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 transition-colors group cursor-pointer",children:[n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(Yn,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Gerenciar Usurios"}),n.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Visualizar e gerenciar todos os usurios do sistema"})]}),n.jsx(gl,{className:"h-5 w-5 text-blue-600 group-hover:translate-x-1 transition-transform"})]})}),n.jsx(fr,{to:"/admin/relatorios",children:n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-green-200 bg-green-50 hover:bg-green-100 dark:border-green-800 dark:bg-green-900/20 dark:hover:bg-green-900/30 transition-colors group cursor-pointer",children:[n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(Em,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100",children:"Relatrios"}),n.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Visualizar estatsticas e relatrios do sistema"})]}),n.jsx(gl,{className:"h-5 w-5 text-green-600 group-hover:translate-x-1 transition-transform"})]})})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg",children:[n.jsx(ze,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Ye,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[n.jsx(Tr,{className:"h-5 w-5 text-purple-600"}),"Solicitaes Recentes"]}),n.jsx(mr,{className:"text-slate-600 dark:text-slate-400",children:"ltimas solicitaes de cadastro no sistema"})]}),n.jsx(we,{variant:"outline",asChild:!0,children:n.jsx(fr,{to:"/admin/solicitacoes",children:"Ver Todas"})})]})}),n.jsx(Le,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:t.map(d=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-purple-100 to-blue-100 dark:from-purple-900/50 dark:to-blue-900/50 flex items-center justify-center",children:d.tipo==="medico"?n.jsx(qr,{className:"h-6 w-6 text-purple-600"}):n.jsx(cc,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:d.nome}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[n.jsx("span",{children:d.tipo==="medico"?`${d.especialidade} - ${d.crm}`:`${d.cnpj} - ${d.responsavel}`}),n.jsx("span",{children:""}),n.jsx("span",{children:new Date(d.dataEnvio).toLocaleDateString()})]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[A(d.urgencia),l(d.status),d.status==="pending"&&n.jsx(we,{size:"sm",className:"btn-medical-primary",asChild:!0,children:n.jsx(fr,{to:`/admin/solicitacoes/${d.id}`,children:"Revisar"})})]})]},d.id))})})]})]}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[n.jsx(us,{className:"h-5 w-5 text-green-600"}),"Aprovaes desta Semana"]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-4xl font-bold text-green-700 dark:text-green-300 mb-2",children:e.aprovacoesSemana}),n.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:[e.aprovadosMedicosSemana," mdicos e ",e.aprovadasClinicasSemana," clnicas aprovados"]})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950/50 dark:to-red-900/50",children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"flex items-center gap-2 text-red-800 dark:text-red-200",children:[n.jsx(fs,{className:"h-5 w-5 text-red-600"}),"Rejeies desta Semana"]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-4xl font-bold text-red-700 dark:text-red-300 mb-2",children:e.rejeicoesSemana}),n.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:[e.rejeitadosMedicosSemana," mdicos e ",e.rejeitadasClinicasSemana," clnicas rejeitados"]})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg",children:[n.jsx(ze,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:n.jsxs(Ye,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[n.jsx(Am,{className:"h-5 w-5 text-purple-600"}),"Configuraes"]})}),n.jsxs(Le,{className:"p-6 space-y-3",children:[n.jsx(we,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:n.jsxs(fr,{to:"/admin/configuracoes",children:[n.jsx(Am,{className:"h-4 w-4"}),"Configuraes do Sistema"]})}),n.jsx(we,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:n.jsxs(fr,{to:"/admin/logs",children:[n.jsx(Bi,{className:"h-4 w-4"}),"Logs do Sistema"]})}),n.jsx(we,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:n.jsxs(fr,{to:"/admin/backup",children:[n.jsx(Ai,{className:"h-4 w-4"}),"Backup e Segurana"]})})]})]})]})]})]})}function PX(){const[e,r]=y.useState(""),[t,a]=y.useState("all"),[s,i]=y.useState("all"),[o,l]=y.useState("all"),[A,d]=y.useState(!1),[f,h]=y.useState([]),[m,p]=y.useState(null),x=y.useRef(null),{toast:g}=Ga(),w=$E(e,500),j=y.useMemo(()=>({search:pd(w.trim()),status:t,tipo:s,urgencia:o}),[w,t,s,o]),N=y.useCallback(async(T,re)=>{try{const z=await fa.getSolicitacoes(T,{signal:re});return Array.isArray(z==null?void 0:z.results)?z.results:Array.isArray(z)?z:[]}catch(z){throw(z==null?void 0:z.name)!=="AbortError"&&console.error("Erro ao buscar solicitaes:",z),z}},[]);y.useEffect(()=>{d(!0);const T=setTimeout(async()=>{if(x.current)try{x.current.abort()}catch{}const re=new AbortController;x.current=re;try{const z={};j.status!=="all"&&(z.status=j.status),j.tipo!=="all"&&(z.tipo=j.tipo),j.urgencia!=="all"&&(z.urgencia=j.urgencia),j.search&&(z.search=j.search);const G=await N(z,re.signal);h(G),p(null)}catch(z){(z==null?void 0:z.name)!=="AbortError"&&(h([]),p("No foi possvel carregar as solicitaes."))}finally{d(!1)}},200);return()=>clearTimeout(T)},[j,N]);const C=y.useCallback(async T=>{d(!0);try{const re=await fa.aprovarSolicitacao(T);h(z=>z.map(G=>G.id===T?{...G,status:"approved",aprovadoPor:(re==null?void 0:re.approved_by)||G.aprovadoPor||"",dataAprovacao:(re==null?void 0:re.approved_at)||G.dataAprovacao||new Date().toISOString(),rejeitadoPor:"",dataRejeicao:null,motivoRejeicao:""}:G)),g({title:"Solicitao aprovada",description:"A solicitao foi aprovada com sucesso."})}catch{g({title:"Erro ao aprovar",description:"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{d(!1)}},[g]),E=y.useCallback(async T=>{const re=window.prompt("Informe o motivo da rejeio:");if(re===null)return;const z=Z_(re,500);if(!z.isValid){g({title:"Motivo invlido",description:z.error,variant:"destructive"});return}d(!0);try{const G=await fa.rejeitarSolicitacao(T,z.value);h(V=>V.map(ee=>ee.id===T?{...ee,status:"rejected",rejeitadoPor:(G==null?void 0:G.rejected_by)||ee.rejeitadoPor||"",dataRejeicao:(G==null?void 0:G.rejected_at)||ee.dataRejeicao||new Date().toISOString(),motivoRejeicao:(G==null?void 0:G.rejection_reason)||z.value||ee.motivoRejeicao||"",aprovadoPor:"",dataAprovacao:null}:ee)),g({title:"Solicitao rejeitada",description:"A solicitao foi rejeitada."})}catch{g({title:"Erro ao rejeitar",description:"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{d(!1)}},[g]),Q=y.useCallback(T=>{switch(T){case"pending":return n.jsxs(lr,{variant:"outline",className:"badge-medical-warning",children:[n.jsx(Tr,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return n.jsxs(lr,{variant:"outline",className:"badge-medical-success",children:[n.jsx(us,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return n.jsxs(lr,{variant:"outline",className:"badge-medical-error",children:[n.jsx(fs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},[]),U=y.useCallback(T=>{switch(T){case"alta":return n.jsxs(lr,{variant:"destructive",className:"text-xs",children:[n.jsx(eA,{className:"mr-1 h-2 w-2"}),"Alta"]});case"normal":return n.jsx(lr,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return n.jsx(lr,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}},[]),F=y.useMemo(()=>f.filter(T=>{const re=e.toLowerCase(),z=(T.nome||"").toLowerCase().includes(re)||(T.email||"").toLowerCase().includes(re)||T.crm&&String(T.crm).toLowerCase().includes(re)||T.cnpj&&String(T.cnpj).includes(e),G=t==="all"||T.status===t,V=s==="all"||T.tipo===s,ee=o==="all"||T.urgencia===o;return z&&G&&V&&ee}),[f,e,t,s,o]),L=y.useMemo(()=>({pending:F.filter(T=>T.status==="pending"),approved:F.filter(T=>T.status==="approved"),rejected:F.filter(T=>T.status==="rejected")}),[F]),_=y.useCallback(T=>{const re=pd(T.target.value);r(re)},[]),q=y.useCallback(T=>{a(T)},[]),R=y.useCallback(T=>{i(T)},[]),H=y.useCallback(T=>{l(T)},[]),J=({solicitacao:T})=>n.jsxs(ke,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg hover:shadow-xl transition-all duration-300 rounded-2xl group",children:[n.jsx(ze,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`p-3 rounded-xl transition-all duration-300 group-hover:scale-110 ${T.tipo==="medico"?"bg-gradient-to-br from-blue-100 to-indigo-100 text-blue-600":"bg-gradient-to-br from-purple-100 to-pink-100 text-purple-600"}`,children:T.tipo==="medico"?n.jsx(qr,{className:"h-6 w-6"}):n.jsx(cc,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(Ye,{className:"text-xl font-bold text-gray-800 group-hover:text-blue-600 transition-colors",children:T.nome}),n.jsx(mr,{className:"text-gray-600 font-medium",children:T.email})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[U(T.urgencia),Q(T.status)]})]})}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 p-4 rounded-xl border border-gray-100",children:[n.jsx("p",{className:"font-semibold text-gray-600 text-sm mb-1",children:T.tipo==="medico"?"Especialidade":"CNPJ"}),n.jsx("p",{className:"text-gray-800 font-medium",children:T.tipo==="medico"?T.especialidade:T.cnpj})]}),n.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 p-4 rounded-xl border border-gray-100",children:[n.jsx("p",{className:"font-semibold text-gray-600 text-sm mb-1",children:T.tipo==="medico"?"CRM":"Responsvel"}),n.jsx("p",{className:"text-gray-800 font-medium",children:T.tipo==="medico"?T.crm:T.responsavel})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 rounded-xl border border-blue-100",children:[n.jsx("p",{className:"font-semibold text-blue-600 text-sm mb-1",children:"Data de Envio"}),n.jsxs("p",{className:"flex items-center gap-2 text-blue-800 font-medium",children:[n.jsx(pr,{className:"h-4 w-4"}),n.jsxs("span",{children:[new Date(T.dataEnvio).toLocaleDateString()," s"," ",new Date(T.dataEnvio).toLocaleTimeString()]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-xl border border-green-100",children:[n.jsx("p",{className:"font-semibold text-green-600 text-sm mb-1",children:"Documentos"}),n.jsxs("p",{className:"text-green-800 font-medium",children:[Array.isArray(T.documentos)?T.documentos.length:0," arquivo(s)"]})]})]}),T.observacoes&&n.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 border border-amber-200 p-4 rounded-xl",children:n.jsx("p",{className:"text-amber-800 text-sm font-medium",children:T.observacoes})}),T.status==="approved"&&n.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 p-4 rounded-xl",children:n.jsxs("p",{className:"text-green-800 text-sm font-medium",children:[n.jsx("strong",{children:"Aprovado em:"})," ",T.dataAprovacao?new Date(T.dataAprovacao).toLocaleDateString():"",T.aprovadoPor?n.jsxs(n.Fragment,{children:[" por ",T.aprovadoPor]}):null]})}),T.status==="rejected"&&T.motivoRejeicao&&n.jsx("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 border border-red-200 p-4 rounded-xl",children:n.jsxs("p",{className:"text-red-800 text-sm font-medium",children:[n.jsx("strong",{children:"Rejeitado:"})," ",T.motivoRejeicao,T.rejeitadoPor&&n.jsxs(n.Fragment,{children:[" por ",T.rejeitadoPor]})]})}),n.jsxs("div",{className:"flex gap-3 pt-2",children:[n.jsx(we,{variant:"outline",size:"sm",asChild:!0,className:"bg-white hover:bg-blue-50 border-blue-200 text-blue-600 hover:text-blue-700 hover:border-blue-300 transition-all duration-200",children:n.jsxs(fr,{to:`/admin/solicitacoes/${T.id}`,children:[n.jsx(Ci,{className:"mr-2 h-4 w-4"})," Ver detalhes"]})}),T.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs(we,{size:"sm",onClick:()=>C(T.id),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-md hover:shadow-lg transition-all duration-200",disabled:A,children:[n.jsx(us,{className:"mr-2 h-4 w-4"}),"Aprovar"]}),n.jsxs(we,{variant:"destructive",size:"sm",onClick:()=>E(T.id),className:"bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 shadow-md hover:shadow-lg transition-all duration-200",disabled:A,children:[n.jsx(fs,{className:"mr-2 h-4 w-4"}),"Rejeitar"]})]})]})]})})]});return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white",children:n.jsx("div",{className:"container mx-auto px-6 py-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Solicitaes"}),n.jsx("p",{className:"text-blue-100",children:"Gerencie solicitaes de mdicos e clnicas"})]}),n.jsx("div",{className:"hidden md:flex items-center gap-4",children:n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-2xl font-bold",children:F.length}),n.jsx("p",{className:"text-blue-100 text-sm",children:"Total"})]})})]})})}),n.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(ke,{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 hover:shadow-lg transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-amber-600 text-sm font-medium",children:"Pendentes"}),n.jsx("p",{className:"text-2xl font-bold text-amber-700",children:L.pending.length})]}),n.jsx("div",{className:"bg-amber-100 p-3 rounded-full",children:n.jsx(Tr,{className:"h-6 w-6 text-amber-600"})})]})})}),n.jsx(ke,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 hover:shadow-lg transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-green-600 text-sm font-medium",children:"Aprovadas"}),n.jsx("p",{className:"text-2xl font-bold text-green-700",children:L.approved.length})]}),n.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:n.jsx(us,{className:"h-6 w-6 text-green-600"})})]})})}),n.jsx(ke,{className:"bg-gradient-to-br from-red-50 to-rose-50 border-red-200 hover:shadow-lg transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-red-600 text-sm font-medium",children:"Rejeitadas"}),n.jsx("p",{className:"text-2xl font-bold text-red-700",children:L.rejected.length})]}),n.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:n.jsx(fs,{className:"h-6 w-6 text-red-600"})})]})})}),n.jsx(ke,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 hover:shadow-lg transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"Total"}),n.jsx("p",{className:"text-2xl font-bold text-blue-700",children:F.length})]}),n.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:n.jsx(ou,{className:"h-6 w-6 text-blue-600"})})]})})})]}),n.jsxs(ke,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-xl rounded-2xl",children:[n.jsx(ze,{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-t-2xl border-b",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:n.jsx(ou,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Ye,{className:"text-xl",children:"Filtros Avanados"}),n.jsx(mr,{children:"Use os filtros para refinar sua busca"})]})]})}),n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(He,{placeholder:"Buscar por nome, e-mail, CRM ou CNPJ",className:"pl-9 bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",value:e,onChange:_})]}),n.jsx("div",{children:n.jsxs(Wr,{value:t,onValueChange:q,children:[n.jsx(Kr,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:n.jsx(Gr,{placeholder:"Status"})}),n.jsxs(zr,{children:[n.jsx(at,{value:"all",children:"Todos"}),n.jsx(at,{value:"pending",children:"Pendente"}),n.jsx(at,{value:"approved",children:"Aprovado"}),n.jsx(at,{value:"rejected",children:"Rejeitado"})]})]})}),n.jsx("div",{children:n.jsxs(Wr,{value:s,onValueChange:R,children:[n.jsx(Kr,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:n.jsx(Gr,{placeholder:"Tipo"})}),n.jsxs(zr,{children:[n.jsx(at,{value:"all",children:"Todos"}),n.jsx(at,{value:"medico",children:"Mdicos"}),n.jsx(at,{value:"clinica",children:"Clnicas"})]})]})}),n.jsx("div",{children:n.jsxs(Wr,{value:o,onValueChange:H,children:[n.jsx(Kr,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:n.jsx(Gr,{placeholder:"Urgncia"})}),n.jsxs(zr,{children:[n.jsx(at,{value:"all",children:"Todas"}),n.jsx(at,{value:"alta",children:"Alta"}),n.jsx(at,{value:"normal",children:"Normal"}),n.jsx(at,{value:"baixa",children:"Baixa"})]})]})})]})})]}),n.jsx(ke,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-xl rounded-2xl",children:n.jsxs(Vi,{defaultValue:"todas",className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-t-2xl p-6 border-b",children:n.jsxs(qi,{className:"bg-white/80 backdrop-blur-sm border shadow-sm rounded-xl p-1",children:[n.jsxs(Pr,{value:"todas",className:"gap-2 data-[state=active]:bg-blue-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[n.jsx(ou,{className:"h-4 w-4"})," Todas"]}),n.jsxs(Pr,{value:"pendentes",className:"gap-2 data-[state=active]:bg-amber-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[n.jsx(Tr,{className:"h-4 w-4"})," Pendentes"]}),n.jsxs(Pr,{value:"aprovadas",className:"gap-2 data-[state=active]:bg-green-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[n.jsx(us,{className:"h-4 w-4"})," Aprovadas"]}),n.jsxs(Pr,{value:"rejeitadas",className:"gap-2 data-[state=active]:bg-red-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[n.jsx(fs,{className:"h-4 w-4"})," Rejeitadas"]})]})}),n.jsxs("div",{className:"p-6",children:[n.jsx($r,{value:"todas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):m?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(eA,{className:"h-8 w-8 text-red-600"})}),n.jsx("p",{className:"text-red-700",children:m})]}):F.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-gray-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(js,{className:"h-8 w-8 text-gray-400"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao encontrada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:F.map(T=>n.jsx(J,{solicitacao:T},T.id))})}),n.jsx($r,{value:"pendentes",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):L.pending.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-amber-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(Tr,{className:"h-8 w-8 text-amber-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao pendente."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:L.pending.map(T=>n.jsx(J,{solicitacao:T},T.id))})}),n.jsx($r,{value:"aprovadas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):L.approved.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-green-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(us,{className:"h-8 w-8 text-green-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao aprovada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:L.approved.map(T=>n.jsx(J,{solicitacao:T},T.id))})}),n.jsx($r,{value:"rejeitadas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):L.rejected.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(fs,{className:"h-8 w-8 text-red-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao rejeitada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:L.rejected.map(T=>n.jsx(J,{solicitacao:T},T.id))})})]})]})})]})]})}function QX(){var C;const{id:e}=$o(),r=ss(),{toast:t}=Ga(),[a,s]=y.useState(!1),[i,o]=y.useState(""),[l,A]=y.useState(""),[d,f]=y.useState(!0),[h,m]=y.useState(null);y.useEffect(()=>{let E=!0;return(async()=>{try{const U=await fa.getSolicitacao(e);E&&m(U)}catch{t({title:"Erro ao carregar",description:"No foi possvel carregar a solicitao.",variant:"destructive"}),r("/admin/solicitacoes")}finally{E&&f(!1)}})(),()=>{E=!1}},[e]);const p=async E=>{try{await fa.visualizarDocumento(E.url||E.nome)}catch(Q){t({title:"Erro ao visualizar",description:Q.message||"No foi possvel visualizar o documento.",variant:"destructive"})}},x=async E=>{try{await fa.baixarDocumento(E.url||E.nome,E.nome),t({title:"Download iniciado",description:"O download do documento foi iniciado."})}catch(Q){t({title:"Erro ao baixar",description:Q.message||"No foi possvel baixar o documento.",variant:"destructive"})}};if(d)return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(we,{variant:"ghost",onClick:()=>r("/admin/solicitacoes"),children:[n.jsx(sc,{className:"mr-2 h-4 w-4"}),"Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Carregando..."}),n.jsx("p",{className:"text-muted-foreground",children:"Buscando detalhes da solicitao"})]})]})});if(!h)return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(we,{variant:"ghost",onClick:()=>r("/admin/solicitacoes"),children:[n.jsx(sc,{className:"mr-2 h-4 w-4"}),"Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Solicitao no encontrada"}),n.jsx("p",{className:"text-muted-foreground",children:"Tente novamente mais tarde."})]})]})});const g=async()=>{s(!0);try{await fa.aprovarSolicitacao(e,i||""),t({title:"Solicitao aprovada!",description:`${(h==null?void 0:h.nome)||"Solicitao"} aprovada com sucesso.`}),r("/admin/solicitacoes")}catch{t({title:"Erro",description:"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{s(!1)}},w=async()=>{if(!l.trim()){t({title:"Motivo obrigatrio",description:"Por favor, informe o motivo da rejeio.",variant:"destructive"});return}s(!0);try{await fa.rejeitarSolicitacao(e,l.trim()),t({title:"Solicitao rejeitada",description:`A solicitao de ${(h==null?void 0:h.nome)||""} foi rejeitada.`}),r("/admin/solicitacoes")}catch{t({title:"Erro",description:"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{s(!1)}},j=E=>{switch(E){case"pending":return n.jsxs(lr,{variant:"outline",className:"badge-medical-warning",children:[n.jsx(eA,{className:"mr-1 h-3 w-3"}),"Aguardando Anlise"]});case"approved":return n.jsxs(lr,{variant:"outline",className:"badge-medical-success",children:[n.jsx(us,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return n.jsxs(lr,{variant:"outline",className:"badge-medical-error",children:[n.jsx(fs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},N=(h==null?void 0:h.endereco)||{};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(we,{variant:"ghost",onClick:()=>r("/admin/solicitacoes"),children:[n.jsx(sc,{className:"mr-2 h-4 w-4"}),"Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Detalhes da Solicitao"}),n.jsx("p",{className:"text-muted-foreground",children:"Anlise completa da solicitao de cadastro"})]})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`app-quick-icon ${h.tipo==="medico"?"info":"primary"} h-12 w-12`,children:h.tipo==="medico"?n.jsx(qr,{className:"h-6 w-6"}):n.jsx(cc,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(Ye,{className:"text-xl",children:h.nome}),n.jsx(mr,{children:h.tipo==="medico"?"Solicitao de Cadastro Mdico":"Solicitao de Cadastro de Clnica"})]})]}),j(h.status)]})}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:h.email})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rA,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:h.telefone})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:h.tipo==="medico"?"Especialidade":"CNPJ"}),n.jsx("span",{children:h.especialidade})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:h.tipo==="medico"?"CRM":"Responsvel Tcnico"}),n.jsx("span",{children:h.crm})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Data de Envio"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[new Date(h.dataEnvio||h.created_at).toLocaleDateString()," s"," ",new Date(h.dataEnvio||h.created_at).toLocaleTimeString()]})]})]})]}),n.jsx(hs,{}),h.tipo==="medico"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Formao Acadmica"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Instituio de Formao"}),n.jsx("span",{children:h.instituicaoFormacao})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Ano de Formao"}),n.jsx("span",{children:h.anoFormacao})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Residncia"}),n.jsx("span",{children:h.residencia})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Instituio da Residncia"}),n.jsx("span",{children:h.instituicaoResidencia})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Ano da Residncia"}),n.jsx("span",{children:h.anoResidencia})]})]})]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Experincia Profissional"}),n.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:n.jsx("p",{className:"text-sm",children:h.experiencia})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Motivao"}),n.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:n.jsx("p",{className:"text-sm",children:h.motivacao})})]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Endereo"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"CEP"}),n.jsx("span",{children:N.cep||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Logradouro"}),n.jsx("span",{children:N.logradouro||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Bairro"}),n.jsx("span",{children:N.bairro||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Cidade/Estado"}),n.jsxs("span",{children:[N.cidade||"","/",N.estado||""]})]})]})]})]})]}),n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(sn,{className:"h-5 w-5"}),"Documentos Enviados"]}),n.jsxs(mr,{children:[((C=h.documentos)==null?void 0:C.length)||0," documento(s) anexado(s)"]})]}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-3",children:(h.documentos||[]).map((E,Q)=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(sn,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:E.nome}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.tamanho,"  Enviado em ",new Date(E.dataUpload).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(we,{variant:"outline",size:"sm",onClick:()=>p(E),children:[n.jsx(Ci,{className:"mr-2 h-4 w-4"}),"Visualizar"]}),n.jsxs(we,{variant:"outline",size:"sm",onClick:()=>x(E),children:[n.jsx(xl,{className:"mr-2 h-4 w-4"}),"Baixar"]})]})]},Q))})})]})]}),n.jsxs("div",{className:"space-y-6",children:[h.status==="pending"&&n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsx(Ye,{children:"Aes"}),n.jsx(mr,{children:"Aprovar ou rejeitar esta solicitao"})]}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"observacoes",children:"Observaes (opcional)"}),n.jsx(ua,{id:"observacoes",placeholder:"Adicione observaes sobre esta solicitao...",value:i,onChange:E=>o(E.target.value)})]}),n.jsxs(we,{variant:"default",className:"w-full",onClick:g,disabled:a,children:[n.jsx(us,{className:"mr-2 h-4 w-4"}),a?"Aprovando...":"Aprovar Solicitao"]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"motivoRejeicao",children:"Motivo da Rejeio"}),n.jsx(ua,{id:"motivoRejeicao",placeholder:"Informe o motivo da rejeio...",value:l,onChange:E=>A(E.target.value)})]}),n.jsxs(we,{variant:"destructive",className:"w-full",onClick:w,disabled:a,children:[n.jsx(fs,{className:"mr-2 h-4 w-4"}),a?"Rejeitando...":"Rejeitar Solicitao"]})]})]}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Informaes do Sistema"})}),n.jsxs(Le,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"ID da Solicitao:"}),n.jsxs("span",{className:"font-mono",children:["#",h.id.toString().padStart(6,"0")]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Tipo:"}),n.jsx("span",{className:"capitalize",children:h.tipo})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Urgncia:"}),n.jsx(lr,{variant:h.urgencia==="alta"?"destructive":"secondary",className:"text-xs",children:h.urgencia})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"}),j(h.status)]})]})]})]})]})]})}const t5=[{value:"7",label:"ltimos 7 dias"},{value:"30",label:"ltimos 30 dias"},{value:"90",label:"ltimos 90 dias"}];function RX(e){const r=new Date(e);return r.setHours(0,0,0,0),r}function TX(e){const r=new Date(e);return r.setHours(23,59,59,999),r}function MX(e){const r=new Date(e),t=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${t}-${a}-${s}`}function OX(){var h;const[e,r]=y.useState("30"),[t,a]=y.useState("all"),[s,i]=y.useState(!1),[o,l]=y.useState(null),[A,d]=y.useState([]),f=y.useMemo(()=>{if(!A.length)return{total:0,aprovadas:0,rejeitadas:0,pendentes:0,aprovMed:0,aprovCli:0,rejMed:0,rejCli:0,byDay:[],maxDay:0};const m=A.length,p=A.filter(F=>F.status==="aprovada").length,x=A.filter(F=>F.status==="rejeitada").length,g=A.filter(F=>F.status==="pendente").length,w=A.filter(F=>F.status==="aprovada"&&F.tipo==="medico").length,j=A.filter(F=>F.status==="aprovada"&&F.tipo==="clinica").length,N=A.filter(F=>F.status==="rejeitada"&&F.tipo==="medico").length,C=A.filter(F=>F.status==="rejeitada"&&F.tipo==="clinica").length,E={};A.forEach(F=>{const L=MX(F.createdAt);E[L]||(E[L]={ymd:L,aprov:0,rej:0}),F.status==="aprovada"&&E[L].aprov++,F.status==="rejeitada"&&E[L].rej++});const Q=Object.values(E).sort((F,L)=>F.ymd.localeCompare(L.ymd)),U=Math.max(...Q.map(F=>Math.max(F.aprov,F.rej)),1);return{total:m,aprovadas:p,rejeitadas:x,pendentes:g,aprovMed:w,aprovCli:j,rejMed:N,rejCli:C,byDay:Q,maxDay:U}},[A]);return y.useEffect(()=>{(async()=>{i(!0),l(null);try{const p=new Date,x=parseInt(e,10),g=new Date(p.getTime()-x*24*60*60*1e3),w={startDate:RX(g).toISOString(),endDate:TX(p).toISOString()};t!=="all"&&(w.tipo=t);const j=await ye.get("/admin/solicitacoes",{params:w});d(j.data||[])}catch(p){console.error("Erro ao buscar dados:",p),l(p)}finally{i(!1)}})()},[e,t]),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900",children:[n.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 shadow-sm",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-xl border border-slate-200 dark:border-slate-600 shadow-sm",children:n.jsx(sn,{className:"h-8 w-8 text-slate-600 dark:text-slate-200"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Relatrios Administrativos"}),n.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 mt-2 font-medium",children:"Anlise completa de solicitaes e mtricas operacionais"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(ke,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800 hover:shadow-xl transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-base font-bold text-slate-600 dark:text-slate-200 mb-2",children:"Total"}),n.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:f.total}),n.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mt-1",children:"no perodo"})]}),n.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-xl",children:n.jsx(sn,{className:"h-6 w-6 text-slate-600 dark:text-slate-200"})})]})})}),n.jsx(ke,{className:"border border-green-200 dark:border-green-700 shadow-lg bg-green-50 dark:bg-green-900/20 hover:shadow-xl transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-base font-bold text-green-700 dark:text-green-300 mb-2",children:"Aprovadas"}),n.jsx("p",{className:"text-3xl font-bold text-green-800 dark:text-green-200",children:f.aprovadas}),n.jsxs("p",{className:"text-sm font-medium text-green-600 dark:text-green-400 mt-1",children:[Math.round(f.aprovadas/f.total*100)||0,"% do total"]})]}),n.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-800 rounded-xl",children:n.jsx(us,{className:"h-6 w-6 text-green-600 dark:text-green-300"})})]})})}),n.jsx(ke,{className:"border border-red-200 dark:border-red-700 shadow-lg bg-red-50 dark:bg-red-900/20 hover:shadow-xl transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-base font-bold text-red-700 dark:text-red-300 mb-2",children:"Rejeitadas"}),n.jsx("p",{className:"text-3xl font-bold text-red-800 dark:text-red-200",children:f.rejeitadas}),n.jsxs("p",{className:"text-sm font-medium text-red-600 dark:text-red-400 mt-1",children:[Math.round(f.rejeitadas/f.total*100)||0,"% do total"]})]}),n.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-800 rounded-xl",children:n.jsx(fs,{className:"h-6 w-6 text-red-600 dark:text-red-300"})})]})})}),n.jsx(ke,{className:"border border-amber-200 dark:border-amber-700 shadow-lg bg-amber-50 dark:bg-amber-900/20 hover:shadow-xl transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-base font-bold text-amber-700 dark:text-amber-300 mb-2",children:"Pendentes"}),n.jsx("p",{className:"text-3xl font-bold text-amber-800 dark:text-amber-200",children:f.pendentes}),n.jsxs("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400 mt-1",children:[Math.round(f.pendentes/f.total*100)||0,"% do total"]})]}),n.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-800 rounded-xl",children:n.jsx(Tr,{className:"h-6 w-6 text-amber-600 dark:text-amber-300"})})]})})})]})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8 space-y-8",children:[n.jsx(ke,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800",children:n.jsxs(ze,{className:"bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-600 rounded-lg border border-slate-200 dark:border-slate-500 shadow-sm",children:n.jsx(ou,{className:"h-5 w-5 text-slate-600 dark:text-slate-300"})}),n.jsxs("div",{children:[n.jsx(Ye,{className:"text-slate-900 dark:text-white text-xl font-bold",children:"Filtros de Anlise"}),n.jsx(mr,{className:"text-slate-600 dark:text-slate-300 text-base font-medium mt-1",children:"Configure o perodo e tipo de relatrio"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-6 mt-6",children:[n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("label",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:"Perodo de Anlise"}),n.jsxs(Wr,{value:e,onValueChange:r,children:[n.jsx(Kr,{className:"w-52 h-12 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-500 focus:border-slate-400 dark:focus:border-slate-400 focus:ring-slate-400/20 shadow-sm text-base text-slate-900 dark:text-white",children:n.jsx(Gr,{})}),n.jsx(zr,{children:t5.map(m=>n.jsx(at,{value:m.value,className:"text-base",children:m.label},m.value))})]})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("label",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:"Tipo de Solicitao"}),n.jsxs(Wr,{value:t,onValueChange:a,children:[n.jsx(Kr,{className:"w-52 h-12 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-500 focus:border-slate-400 dark:focus:border-slate-400 focus:ring-slate-400/20 shadow-sm text-base text-slate-900 dark:text-white",children:n.jsx(Gr,{})}),n.jsxs(zr,{children:[n.jsx(at,{value:"all",className:"text-base",children:"Todos os Tipos"}),n.jsx(at,{value:"medico",className:"text-base",children:"Mdicos"}),n.jsx(at,{value:"clinica",className:"text-base",children:"Clnicas"})]})]})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("label",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:"Aes"}),n.jsxs(we,{variant:"outline",size:"lg",disabled:s,onClick:()=>r(e),className:"h-12 px-6 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-500 hover:bg-slate-50 dark:hover:bg-slate-600 hover:border-slate-400 dark:hover:border-slate-400 text-slate-700 dark:text-slate-200 font-semibold shadow-sm transition-all duration-200 text-base",children:[n.jsx(D1,{className:`h-5 w-5 mr-2 ${s?"animate-spin":""}`}),"Atualizar Dados"]})]})]})]})}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(ke,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800 hover:shadow-xl transition-all duration-300 group",children:[n.jsx(ze,{className:"pb-4",children:n.jsx(Ye,{className:"text-base font-bold text-slate-700 dark:text-slate-200 group-hover:text-slate-900 dark:group-hover:text-white transition-colors",children:"Total no Perodo"})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-3",children:f.total}),n.jsx("p",{className:"text-base font-medium text-slate-600 dark:text-slate-300",children:(h=t5.find(m=>m.value===e))==null?void 0:h.label})]})]}),n.jsxs(ke,{className:"border border-green-200 dark:border-green-700 shadow-lg bg-gradient-to-br from-white to-green-50 dark:from-slate-800 dark:to-green-900/50 hover:shadow-xl transition-all duration-300 group",children:[n.jsx(ze,{className:"pb-4",children:n.jsxs(Ye,{className:"text-base font-bold flex items-center gap-2 text-green-700 dark:text-green-200 group-hover:text-green-800 dark:group-hover:text-green-100 transition-colors",children:[n.jsx("div",{className:"p-1 bg-green-100 dark:bg-green-800 rounded",children:n.jsx(us,{className:"h-5 w-5 text-green-600 dark:text-green-300"})}),"Solicitaes Aprovadas"]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-4xl font-bold text-green-800 dark:text-green-100 mb-3",children:f.aprovadas}),n.jsxs("p",{className:"text-base font-medium text-green-600 dark:text-green-300",children:[f.aprovMed," mdicos  ",f.aprovCli," clnicas"]})]})]}),n.jsxs(ke,{className:"border border-red-200 dark:border-red-700 shadow-lg bg-gradient-to-br from-white to-red-50 dark:from-slate-800 dark:to-red-900/50 hover:shadow-xl transition-all duration-300 group",children:[n.jsx(ze,{className:"pb-4",children:n.jsxs(Ye,{className:"text-base font-bold flex items-center gap-2 text-red-700 dark:text-red-200 group-hover:text-red-800 dark:group-hover:text-red-100 transition-colors",children:[n.jsx("div",{className:"p-1 bg-red-100 dark:bg-red-800 rounded",children:n.jsx(fs,{className:"h-5 w-5 text-red-600 dark:text-red-300"})}),"Solicitaes Rejeitadas"]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-4xl font-bold text-red-800 dark:text-red-100 mb-3",children:f.rejeitadas}),n.jsxs("p",{className:"text-base font-medium text-red-600 dark:text-red-300",children:[f.rejMed," mdicos  ",f.rejCli," clnicas"]})]})]}),n.jsxs(ke,{className:"border border-amber-200 dark:border-amber-700 shadow-lg bg-gradient-to-br from-white to-amber-50 dark:from-slate-800 dark:to-amber-900/50 hover:shadow-xl transition-all duration-300 group",children:[n.jsx(ze,{className:"pb-4",children:n.jsxs(Ye,{className:"text-base font-bold flex items-center gap-2 text-amber-700 dark:text-amber-200 group-hover:text-amber-800 dark:group-hover:text-amber-100 transition-colors",children:[n.jsx("div",{className:"p-1 bg-amber-100 dark:bg-amber-800 rounded",children:n.jsx(Tr,{className:"h-5 w-5 text-amber-600 dark:text-amber-300"})}),"Aguardando Anlise"]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-4xl font-bold text-amber-800 dark:text-amber-100 mb-3",children:f.pendentes}),n.jsx("p",{className:"text-base font-medium text-amber-600 dark:text-amber-300",children:"Requer ateno administrativa"})]})]})]}),n.jsxs(ke,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800",children:[n.jsx(ze,{className:"bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-600 rounded-lg border border-slate-200 dark:border-slate-500 shadow-sm",children:n.jsx(lm,{className:"h-5 w-5 text-slate-600 dark:text-slate-300"})}),n.jsxs("div",{children:[n.jsx(Ye,{className:"text-slate-900 dark:text-white text-xl font-bold",children:"Anlise Temporal"}),n.jsx(mr,{className:"text-slate-600 dark:text-slate-300 text-base font-medium mt-1",children:"Distribuio diria de aprovaes e rejeies no perodo selecionado"})]})]})}),n.jsxs(Le,{className:"space-y-8 p-8",children:[f.byDay.map(m=>{const p=Math.round(m.aprov/f.maxDay*100),x=Math.round(m.rej/f.maxDay*100);return n.jsxs("div",{className:"group",children:[n.jsxs("div",{className:"flex items-center justify-between text-base mb-4",children:[n.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-lg",children:m.ymd}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-green-400 rounded-full"}),n.jsxs("span",{className:"text-green-600 dark:text-green-300 font-bold text-base",children:["Aprovadas: ",m.aprov]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-red-400 rounded-full"}),n.jsxs("span",{className:"text-red-600 dark:text-red-300 font-bold text-base",children:["Rejeitadas: ",m.rej]})]})]})]}),n.jsxs("div",{className:"h-8 w-full rounded-lg bg-slate-200 dark:bg-slate-700 overflow-hidden border border-slate-300 dark:border-slate-600 shadow-inner",children:[n.jsx("div",{className:"h-8 bg-green-500 inline-block transition-all duration-500 group-hover:bg-green-400",style:{width:`${p}%`},title:`Aprovadas: ${m.aprov}`}),n.jsx("div",{className:"h-8 bg-red-500 inline-block transition-all duration-500 group-hover:bg-red-400",style:{width:`${x}%`},title:`Rejeitadas: ${m.rej}`})]})]},m.ymd)}),!f.byDay.length&&n.jsxs("div",{className:"text-center py-16",children:[n.jsx("div",{className:"text-slate-400 text-6xl mb-6",children:""}),n.jsx("div",{className:"text-xl font-bold text-slate-600 dark:text-slate-300 mb-3",children:"Nenhum dado encontrado"}),n.jsx("div",{className:"text-base font-medium text-slate-500 dark:text-slate-400",children:"No h registros para o perodo selecionado."})]})]})]}),s&&n.jsx(ke,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800",children:n.jsx(Le,{className:"p-12",children:n.jsxs("div",{className:"animate-pulse space-y-8",children:[n.jsx("div",{className:"h-10 bg-slate-200 dark:bg-slate-700 rounded-lg w-1/3"}),n.jsx("div",{className:"h-40 bg-slate-200 dark:bg-slate-700 rounded-lg"})]})})}),o&&n.jsx(ke,{className:"border border-red-200 dark:border-red-700 shadow-lg bg-red-50 dark:bg-red-900/20",children:n.jsxs(Le,{className:"p-12 text-center",children:[n.jsx("div",{className:"text-red-400 text-6xl mb-6",children:""}),n.jsx("p",{className:"text-red-700 dark:text-red-300 font-bold text-xl mb-3",children:"Erro ao carregar dados"}),n.jsx("p",{className:"text-red-600 dark:text-red-400 text-base font-medium",children:String(o)})]})})]})]})}function HX(){const[e,r]=y.useState([]),[t,a]=y.useState(!1),[s,i]=y.useState(null),[o,l]=y.useState(null),[A,d]=y.useState(null),[f,h]=y.useState(""),[m,p]=y.useState(""),[x,g]=y.useState(""),[w,j]=y.useState(""),[N,C]=y.useState(""),[E,Q]=y.useState(""),[U,F]=y.useState(""),L=y.useMemo(()=>{const q={ordering:"-created_at",limit:20};return f&&(q.action=f),m&&(q.entity=m),x&&(q.status=x),w&&(q.user=w),N&&(q.created_at__gte=new Date(N).toISOString()),E&&(q.created_at__lte=new Date(E).toISOString()),U&&(q.search=U),q},[f,m,x,w,N,E,U]),_=async q=>{var R,H,J,T;a(!0),i(null);try{const re=typeof q=="string"?await ye.get(q):await fa.getAuditoria(q),z=(re==null?void 0:re.data)??re,G=Array.isArray(z==null?void 0:z.results)?z.results:Array.isArray(z)?z:[];r(G),l((z==null?void 0:z.next)||null),d((z==null?void 0:z.previous)||null)}catch(re){const z=(R=re==null?void 0:re.response)==null?void 0:R.status,V=(typeof((H=re==null?void 0:re.response)==null?void 0:H.data)=="string"?null:(T=(J=re==null?void 0:re.response)==null?void 0:J.data)==null?void 0:T.detail)||(re==null?void 0:re.message)||"Falha ao carregar auditoria";i(z?`Erro ${z}: ${V}`:V)}finally{a(!1)}};return y.useEffect(()=>{_(L)},[L]),n.jsxs("div",{className:"space-y-8 p-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-red-700 to-red-800 rounded-2xl p-8 text-white shadow-2xl",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:n.jsx(Ai,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold",children:"Auditoria"}),n.jsx("p",{className:"text-red-100 text-lg",children:"Acompanhe registros de aes do sistema"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-8",children:[n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Bi,{className:"h-6 w-6 text-red-200"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-100 text-sm",children:"Total de Registros"}),n.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})}),n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Hn,{className:"h-6 w-6 text-red-200"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-100 text-sm",children:"Usurios nicos"}),n.jsx("p",{className:"text-2xl font-bold",children:new Set(e.map(q=>{var R;return(R=q.user)==null?void 0:R.id})).size})]})]})}),n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(pr,{className:"h-6 w-6 text-red-200"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-100 text-sm",children:"Hoje"}),n.jsx("p",{className:"text-2xl font-bold",children:e.filter(q=>new Date(q.created_at).toDateString()===new Date().toDateString()).length})]})]})}),n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ci,{className:"h-6 w-6 text-red-200"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-100 text-sm",children:"Sucessos"}),n.jsx("p",{className:"text-2xl font-bold",children:e.filter(q=>q.status==="success").length})]})]})})]})]}),n.jsxs(ke,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[n.jsx(ze,{className:"pb-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg",children:n.jsx(ou,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx(Ye,{className:"text-xl font-semibold text-gray-900",children:"Filtros Avanados"}),n.jsx(mr,{className:"text-gray-600",children:"Refine a busca por perodo, usurio e tipo de ao"})]})]})}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Data de Incio"}),n.jsx(ms,{value:N,onChange:C,className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",maxDate:new Date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Data de Fim"}),n.jsx(ms,{value:E,onChange:Q,className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",minDate:N?new Date(N):void 0,maxDate:new Date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),n.jsxs(Wr,{value:x,onValueChange:q=>g(q==="all"?"":q),children:[n.jsx(Kr,{className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",children:n.jsx(Gr,{placeholder:"Selecionar status"})}),n.jsxs(zr,{children:[n.jsx(at,{value:"all",children:"Todos"}),n.jsx(at,{value:"success",children:"Sucesso"}),n.jsx(at,{value:"fail",children:"Falha"})]})]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Usurio (UUID)"}),n.jsx(He,{value:w,onChange:q=>j(q.target.value),placeholder:"ID do usurio",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ao"}),n.jsx(He,{value:f,onChange:q=>h(q.target.value),placeholder:"ex: login, create, update",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Entidade"}),n.jsx(He,{value:m,onChange:q=>p(q.target.value),placeholder:"ex: Consulta, Paciente",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Busca Geral"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(He,{value:U,onChange:q=>F(q.target.value),placeholder:"Buscar por ao, entidade, IP ou usurio...",className:"pl-10 h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),n.jsxs(we,{onClick:()=>_(L),className:"h-11 px-6 btn-medical-primary shadow-lg hover:shadow-xl transition-all duration-200",children:[n.jsx(js,{className:"mr-2 h-4 w-4"}),"Buscar"]}),n.jsxs(we,{variant:"outline",onClick:()=>{h(""),p(""),g(""),j(""),C(""),Q(""),F("")},className:"h-11 px-6 bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:[n.jsx(D1,{className:"mr-2 h-4 w-4"}),"Limpar"]})]})]})]})]}),n.jsxs(ke,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between pb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg",children:n.jsx(Bi,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx(Ye,{className:"text-xl font-semibold text-gray-900",children:"Registros de Auditoria"}),n.jsx(mr,{className:"text-gray-600",children:"Resultados paginados (20 por pgina)"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(we,{variant:"outline",size:"sm",disabled:!A||t,onClick:()=>_(A),className:"bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:n.jsx(tS,{className:"h-4 w-4"})}),n.jsx(we,{variant:"outline",size:"sm",disabled:!o||t,onClick:()=>_(o),className:"bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:n.jsx(gl,{className:"h-4 w-4"})})]})]}),n.jsxs(Le,{children:[s&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:n.jsx("p",{className:"text-red-700 font-medium",children:s})}),n.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:n.jsxs("table",{className:"min-w-full bg-white",children:[n.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Data"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Usurio"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Ao"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Entidade"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"ID"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"IP"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Status"})]})}),n.jsxs("tbody",{children:[!t&&e.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-gray-100 rounded-full",children:n.jsx(Bi,{className:"h-6 w-6 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhum registro encontrado"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Tente ajustar os filtros de busca"})]})})}),e.map((q,R)=>{var H,J;return n.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-purple-50/50 transition-all duration-200 ${R%2===0?"bg-white":"bg-gray-50/30"}`,children:[n.jsx("td",{className:"py-4 px-6 text-sm text-gray-900 font-medium whitespace-nowrap",children:new Date(q.created_at).toLocaleString("pt-BR")}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-700",children:((H=q.user)==null?void 0:H.username)||((J=q.user)==null?void 0:J.email)||"-"}),n.jsx("td",{className:"py-4 px-6",children:n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:q.action})}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-700",children:q.entity||"-"}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-700 font-mono",children:q.entity_id||"-"}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-700 font-mono",children:q.ip_address||"-"}),n.jsx("td",{className:"py-4 px-6",children:q.status==="success"?n.jsx(lr,{className:"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200",variant:"outline",children:"Sucesso"}):n.jsx(lr,{className:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",variant:"outline",children:"Falha"})})]},q.id)})]})]})})]})]})]})}function $X(){const{activeRole:e,toggleRole:r}=lc(),{user:t}=Ko(),a=ss();if(!((t==null?void 0:t.role)==="medico"||(t==null?void 0:t.is_medico)||(t==null?void 0:t.isMedico)||!1))return null;const i=()=>{r(),a(e==="medico"?"/paciente/perfil":"/medico/dashboard")};return n.jsx(we,{variant:"outline",size:"sm",onClick:i,className:"flex items-center gap-2 transition-all duration-200 hover:shadow-md",children:e==="medico"?n.jsxs(n.Fragment,{children:[n.jsx(Hn,{className:"h-4 w-4"}),n.jsx("span",{children:"Mudar para Paciente"})]}):n.jsxs(n.Fragment,{children:[n.jsx(qr,{className:"h-4 w-4"}),n.jsx("span",{children:"Mudar para Mdico"})]})})}function KX(){const{isAuthenticated:e,user:r}=Ko(),{isAuthenticated:t}=lc();if(e){const a=(r==null?void 0:r.role)||(r==null?void 0:r.tipo),s=a==="admin"?"/admin/dashboard":a==="medico"?"/medico/dashboard":a==="clinica"?"/clinica/dashboard":"/paciente/perfil";return n.jsx(Ea,{to:s,replace:!0})}return n.jsxs("div",{className:"flex min-h-screen flex-col bg-app-soft",children:[n.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-blue-100/50 app-light-green-gradient dark:app-dark-green-gradient backdrop-blur-xl shadow-sm",children:n.jsxs("div",{className:"container flex h-16 items-center",children:[n.jsx("div",{className:"mr-4 flex",children:n.jsxs(fr,{to:"/",className:"mr-6 flex items-center space-x-3 group",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl overflow-hidden shadow-lg group-hover:shadow-blue-500/25 transition-all duration-300 group-hover:scale-105",children:n.jsx("img",{src:"/logo/logoTrathea.jpg",alt:"Trathea",className:"w-full h-full object-cover"})}),n.jsx("span",{className:"font-bold text-xl bg-gradient-to-r from-medical-primary to-blue-600 bg-clip-text text-transparent",children:"Trathea"})]})}),n.jsx("div",{className:"flex flex-1 items-center justify-end space-x-2",children:n.jsxs("nav",{className:"flex items-center space-x-2",children:[n.jsx(cb,{}),t&&n.jsx($X,{})]})})]})}),n.jsx("main",{className:"flex-1",children:n.jsxs("section",{className:"w-full py-16 md:py-24 lg:py-32 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-teal-400/20 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-medical-primary/20 to-purple-400/20 rounded-full blur-3xl"})]}),n.jsx("div",{className:"container px-4 md:px-6 relative",children:n.jsxs("div",{className:"flex flex-col items-center justify-center space-y-12 text-center",children:[n.jsxs("div",{className:"space-y-6 max-w-4xl",children:[n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-blue-100 to-teal-100 text-medical-primary font-medium text-sm border border-blue-200/50",children:[n.jsx(mI,{className:"w-4 h-4"}),"Plataforma Mdica Integrada"]}),n.jsxs("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl lg:text-7xl",children:[n.jsx("span",{className:"bg-gradient-to-r from-medical-primary via-blue-600 to-teal-600 bg-clip-text text-transparent",children:"Bem-vindo ao"}),n.jsx("br",{}),n.jsx("span",{className:"bg-gradient-to-r from-teal-600 via-medical-primary to-blue-600 bg-clip-text text-transparent",children:"Trathea"})]}),n.jsx("p",{className:"mx-auto max-w-[800px] text-xl text-slate-600 dark:text-slate-300 leading-relaxed",children:"Conectando mdicos e pacientes para uma experincia de sade integrada e moderna."}),n.jsx("p",{className:"mx-auto max-w-[700px] text-lg text-slate-500 dark:text-slate-400 leading-relaxed",children:"Nossa plataforma oferece uma soluo completa para gerenciamento de consultas, pronturios e histrico mdico, facilitando a comunicao entre profissionais de sade e pacientes."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-5xl mt-16",children:[n.jsxs("div",{className:"group p-6 rounded-2xl bg-white/70 dark:bg-white/5 backdrop-blur-sm border border-blue-100/50 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 text-white mb-4 group-hover:scale-110 transition-transform duration-300",children:n.jsx(qr,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Consultas Online"}),n.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm",children:"Agende e realize consultas mdicas de forma digital e segura."})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-white/70 dark:bg-white/5 backdrop-blur-sm border border-teal-100/50 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-teal-600 text-white mb-4 group-hover:scale-110 transition-transform duration-300",children:n.jsx(Bi,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Pronturio Digital"}),n.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm",children:"Acesse seu histrico mdico completo em qualquer lugar."})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-white/70 dark:bg-white/5 backdrop-blur-sm border border-purple-100/50 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 text-white mb-4 group-hover:scale-110 transition-transform duration-300",children:n.jsx(Ai,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Segurana Total"}),n.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm",children:"Seus dados mdicos protegidos com criptografia avanada."})]})]}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mt-12",children:t?n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full max-w-lg mx-auto",children:[n.jsx(fr,{to:"/medico/dashboard",className:"flex-1",children:n.jsx(we,{className:"w-full h-14 rounded-xl bg-gradient-to-r from-teal-500 to-teal-600 text-white font-semibold shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 group dark:from-teal-400 dark:to-teal-500",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(qr,{className:"w-5 h-5"}),"Acessar como Mdico"]})})}),n.jsx(fr,{to:"/paciente/perfil",className:"flex-1",children:n.jsx(we,{variant:"outline",className:"w-full h-14 rounded-xl border-2 border-blue-500/20 bg-white/90 dark:bg-white/5 text-blue-600 dark:text-blue-300 font-semibold shadow-lg hover:bg-blue-500/5 dark:hover:bg-blue-500/10 hover:border-blue-500/40 hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Yn,{className:"w-5 h-5"}),"Acessar como Paciente"]})})})]}):n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full max-w-md mx-auto",children:[n.jsx(fr,{to:"/login",className:"flex-1",children:n.jsx(we,{className:"w-full h-14 rounded-xl bg-gradient-to-r from-medical-primary to-blue-600 text-white font-semibold shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 group dark:from-emerald-400 dark:to-emerald-500",children:n.jsxs("span",{className:"flex items-center gap-2",children:["Entrar",n.jsx(Xg,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300"})]})})}),n.jsx(fr,{to:"/registrar",className:"flex-1",children:n.jsx(we,{variant:"outline",className:"w-full h-14 rounded-xl border-2 border-medical-primary/20 bg-white/90 dark:bg-white/5 text-medical-primary font-semibold shadow-lg hover:bg-medical-primary/5 dark:hover:bg-medical-primary/10 hover:border-medical-primary/40 hover:shadow-xl hover:scale-105 transition-all duration-300",children:"Criar Conta"})})]})})]})})]})})]})}function zX(){var U,F,L,_,q,R,H,J,T,re;const[e,r]=y.useState(!1),[t,a]=y.useState("none"),{toast:s}=Ga();ss();const{setActiveRole:i,setUserPermissions:o}=lc(),l=((U=sa.getCurrentUser)==null?void 0:U.call(sa))||null,d=`medicoApplicationStatus:${l&&(l.id||l.pk||l.email||l.username)||"anon"}`;y.useEffect(()=>{try{const z=localStorage.getItem("medicoApplicationStatus");z&&!localStorage.getItem(d)&&(localStorage.setItem(d,z),localStorage.removeItem("medicoApplicationStatus"));const G=JSON.parse(localStorage.getItem(d)||"{}");G!=null&&G.status&&a(G.status)}catch{}},[d]);const[f,h]=y.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),m=z=>String(z||"").replace(/\D/g,"").slice(0,7),p=z=>{const{name:G,value:V}=z.target,ee=G==="crm"?m(V):V;h({...f,[G]:ee})},x=(z,G)=>{h({...f,[z]:G})},g=(z,G)=>{h({...f,documentos:{...f.documentos,[z]:G}})},w=y.useRef(null),j=y.useRef(null),N=y.useRef(null),C=(z,G)=>{h(V=>({...V,documentos:{...V.documentos,[z]:null}})),G!=null&&G.current&&(G.current.value="")},E=async z=>{var G,V,ee,ce;if(z.preventDefault(),r(!0),!((G=f.documentos)!=null&&G.diplomaMedicina)){s({title:"Arquivo obrigatrio",description:"Anexe o Diploma de Medicina antes de enviar.",variant:"destructive"}),r(!1);return}try{const{solicitacaoService:k}=await Qs(async()=>{const{solicitacaoService:D}=await Promise.resolve().then(()=>F6);return{solicitacaoService:D}},void 0);await k.criarSolicitacaoMedico(f),a("pending"),localStorage.setItem(d,JSON.stringify({status:"pending",at:new Date().toISOString()})),o(D=>({...D,medicoStatus:"pending"})),s({title:"Solicitao enviada!",description:"Sua solicitao para se tornar mdico foi enviada para anlise."})}catch(k){const D=(V=k==null?void 0:k.response)==null?void 0:V.status;if(D===404)a("pending"),localStorage.setItem(d,JSON.stringify({status:"pending",at:new Date().toISOString(),simulated:!0})),o(K=>({...K,medicoStatus:"pending"})),s({title:"Solicitao registrada (modo teste)",description:"Sem endpoint de backend disponvel. Status salvo localmente."});else if(D===405){const K=((ee=k==null?void 0:k.config)==null?void 0:ee.url)||"(desconhecido)";console.warn("Endpoint no aceita POST (405). URL usada:",K),s({title:"Mtodo no permitido (405)",description:`O backend no aceita POST neste endpoint: ${K}. Verifique a varivel de ambiente do endpoint de solicitaes do mdico ou me informe a rota correta de criao.`,variant:"destructive"})}else{const K=(ce=k==null?void 0:k.response)==null?void 0:ce.data;console.error("[MedicoRegistration] criarSolicitacaoMedico falhou:",k,K),s({title:"Erro ao enviar",description:typeof K=="string"?K:"No foi possvel enviar a solicitao. Verifique os campos e tente novamente.",variant:"destructive"})}}finally{r(!1)}},Q=()=>{switch(t){case"pending":return n.jsxs(lr,{variant:"outline",className:"badge-medical-warning",children:[n.jsx(Tr,{className:"mr-1 h-3 w-3"}),"Aguardando Aprovao"]});case"approved":return n.jsxs(lr,{variant:"outline",className:"badge-medical-success",children:[n.jsx(us,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return n.jsxs(lr,{variant:"outline",className:"badge-medical-error",children:[n.jsx(fs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}};return t==="approved"?n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qr,{className:"h-5 w-5 text-green-600"}),n.jsx(Ye,{className:"text-green-700",children:"Parabns! Voc  um mdico aprovado"})]}),n.jsx(mr,{children:"Sua solicitao foi aprovada. Agora voc pode acessar todas as funcionalidades mdicas."})]}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:n.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Voc agora pode alternar entre os perfis de paciente e mdico usando o boto no menu lateral."})}),n.jsx(we,{className:"w-full",children:"Acessar rea Mdica"})]})})]}):t==="pending"?n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qr,{className:"h-5 w-5"}),n.jsx(Ye,{children:"Solicitao de Cadastro Mdico"})]}),Q()]}),n.jsx(mr,{children:"Sua solicitao est sendo analisada pela equipe administrativa."})]}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[n.jsx("strong",{children:"Status:"})," Aguardando aprovao",n.jsx("br",{}),n.jsx("strong",{children:"Enviado em:"})," ",new Date().toLocaleDateString(),n.jsx("br",{}),n.jsx("strong",{children:"Tempo estimado:"})," 2-5 dias teis"]})}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc receber um email quando sua solicitao for processada. Enquanto isso, voc pode continuar usando o sistema como paciente."})]})})]}):t==="rejected"?n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qr,{className:"h-5 w-5"}),n.jsx(Ye,{children:"Solicitao de Cadastro Mdico"})]}),Q()]}),n.jsx(mr,{children:"Sua solicitao foi rejeitada. Veja os motivos abaixo."})]}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[n.jsx("strong",{children:"Motivos da rejeio:"}),n.jsx("br",{})," Documentao incompleta",n.jsx("br",{})," CRM no encontrado no sistema do CFM",n.jsx("br",{})," Informaes inconsistentes"]})}),n.jsx(we,{variant:"outline",className:"w-full bg-transparent",onClick:()=>a("none"),children:"Enviar Nova Solicitao"})]})})]}):n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qr,{className:"h-5 w-5"}),n.jsx(Ye,{children:"Cadastro como Mdico"})]}),n.jsx(mr,{children:"Preencha os dados abaixo para solicitar acesso s funcionalidades mdicas"})]}),n.jsx(Le,{children:n.jsxs("form",{onSubmit:E,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Dados Profissionais"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"crm",children:"CRM *"}),n.jsx(He,{id:"crm",name:"crm",placeholder:"Ex: CRM/SP 123456",value:f.crm,onChange:p,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"especialidade",children:"Especialidade *"}),n.jsxs(Wr,{onValueChange:z=>x("especialidade",z),children:[n.jsx(Kr,{children:n.jsx(Gr,{placeholder:"Selecione sua especialidade"})}),n.jsxs(zr,{children:[n.jsx(at,{value:"clinica-geral",children:"Clnica Geral"}),n.jsx(at,{value:"cardiologia",children:"Cardiologia"}),n.jsx(at,{value:"dermatologia",children:"Dermatologia"}),n.jsx(at,{value:"endocrinologia",children:"Endocrinologia"}),n.jsx(at,{value:"ginecologia",children:"Ginecologia"}),n.jsx(at,{value:"neurologia",children:"Neurologia"}),n.jsx(at,{value:"ortopedia",children:"Ortopedia"}),n.jsx(at,{value:"pediatria",children:"Pediatria"}),n.jsx(at,{value:"psiquiatria",children:"Psiquiatria"}),n.jsx(at,{value:"urologia",children:"Urologia"}),n.jsx(at,{value:"outras",children:"Outras"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Formao Acadmica"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"instituicaoFormacao",children:"Instituio de Formao *"}),n.jsx(He,{id:"instituicaoFormacao",name:"instituicaoFormacao",placeholder:"Ex: USP, UNIFESP, etc.",value:f.instituicaoFormacao,onChange:p,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"anoFormacao",children:"Ano de Formao *"}),n.jsx(He,{id:"anoFormacao",name:"anoFormacao",type:"number",placeholder:"Ex: 2015",min:"1950",max:new Date().getFullYear(),value:f.anoFormacao,onChange:p,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"residencia",children:"Residncia Mdica"}),n.jsx(He,{id:"residencia",name:"residencia",placeholder:"Ex: Cardiologia",value:f.residencia,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"instituicaoResidencia",children:"Instituio da Residncia"}),n.jsx(He,{id:"instituicaoResidencia",name:"instituicaoResidencia",placeholder:"Ex: Hospital das Clnicas",value:f.instituicaoResidencia,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"anoResidencia",children:"Ano de Concluso da Residncia"}),n.jsx(He,{id:"anoResidencia",name:"anoResidencia",type:"number",placeholder:"Ex: 2018",min:"1950",max:new Date().getFullYear(),value:f.anoResidencia,onChange:p})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Experincia Profissional"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"experiencia",children:"Descreva sua experincia profissional *"}),n.jsx(ua,{id:"experiencia",name:"experiencia",placeholder:"Descreva onde trabalhou, por quanto tempo, principais atividades...",className:"min-h-[100px]",value:f.experiencia,onChange:p,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"motivacao",children:"Por que deseja usar nossa plataforma? *"}),n.jsx(ua,{id:"motivacao",name:"motivacao",placeholder:"Conte-nos sobre suas motivaes e como pretende usar a plataforma...",className:"min-h-[100px]",value:f.motivacao,onChange:p,required:!0})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Documentos Obrigatrios"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Diploma de Medicina *"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var z;return(z=w.current)==null?void 0:z.click()},onDragOver:z=>z.preventDefault(),onDrop:z=>{var V;z.preventDefault();const G=(V=z.dataTransfer.files)==null?void 0:V[0];G&&g("diplomaMedicina",G)},children:[n.jsx(Ng,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:(F=f.documentos)!=null&&F.diplomaMedicina?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(L=f.documentos)!=null&&L.diplomaMedicina?f.documentos.diplomaMedicina.name:"PDF, JPG ou PNG at 5MB"}),n.jsx(He,{ref:w,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:z=>g("diplomaMedicina",z.target.files[0])}),((_=f.documentos)==null?void 0:_.diplomaMedicina)&&n.jsx("div",{className:"mt-2",children:n.jsx(we,{type:"button",variant:"ghost",size:"sm",onClick:()=>C("diplomaMedicina",w),children:"Remover arquivo"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Certificado de Residncia (se aplicvel)"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var z;return(z=j.current)==null?void 0:z.click()},onDragOver:z=>z.preventDefault(),onDrop:z=>{var V;z.preventDefault();const G=(V=z.dataTransfer.files)==null?void 0:V[0];G&&g("certificadoResidencia",G)},children:[n.jsx(Ng,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:(q=f.documentos)!=null&&q.certificadoResidencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(R=f.documentos)!=null&&R.certificadoResidencia?f.documentos.certificadoResidencia.name:"PDF, JPG ou PNG at 5MB"}),n.jsx(He,{ref:j,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:z=>g("certificadoResidencia",z.target.files[0])}),((H=f.documentos)==null?void 0:H.certificadoResidencia)&&n.jsx("div",{className:"mt-2",children:n.jsx(we,{type:"button",variant:"ghost",size:"sm",onClick:()=>C("certificadoResidencia",j),children:"Remover arquivo"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Comprovante de Experincia"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var z;return(z=N.current)==null?void 0:z.click()},onDragOver:z=>z.preventDefault(),onDrop:z=>{var V;z.preventDefault();const G=(V=z.dataTransfer.files)==null?void 0:V[0];G&&g("comprovanteExperiencia",G)},children:[n.jsx(Ng,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:(J=f.documentos)!=null&&J.comprovanteExperiencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(T=f.documentos)!=null&&T.comprovanteExperiencia?f.documentos.comprovanteExperiencia.name:"PDF, JPG ou PNG at 5MB"}),n.jsx(He,{ref:N,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:z=>g("comprovanteExperiencia",z.target.files[0])}),((re=f.documentos)==null?void 0:re.comprovanteExperiencia)&&n.jsx("div",{className:"mt-2",children:n.jsx(we,{type:"button",variant:"ghost",size:"sm",onClick:()=>C("comprovanteExperiencia",N),children:"Remover arquivo"})})]})]})]})]}),n.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[n.jsx("strong",{children:"Importante:"})," Sua solicitao ser analisada por nossa equipe administrativa. O processo pode levar de 2 a 5 dias teis. Voc receber um email com o resultado da anlise."]})}),n.jsx(we,{type:"submit",className:"w-full",disabled:e,children:e?"Enviando solicitao...":"Enviar Solicitao"})]})})]})}function VX({medicoId:e,medicoInfo:r={}}){const{toast:t}=Ga(),a=y.useRef(null),[s,i]=y.useState(Ls),[o,l]=y.useState(null),[A,d]=y.useState(null),[f,h]=y.useState(!1),[m,p]=y.useState(!0);y.useEffect(()=>{if(!e)return;(async()=>{try{let F=null,L=null;try{F=gm(e),L=$f(e)}catch(_){console.warn("Erro ao carregar do backend, usando localStorage:",_),F=gm(e),L=$f(e)}F&&i(F),L&&d(L.data)}catch(F){console.error("Erro ao carregar configurao:",F)}finally{p(!1)}})()},[e]);const x=(U,F)=>{i(L=>{const _={...L},q=U.split(".");let R=_;for(let H=0;H<q.length-1;H++)R[q[H]]||(R[q[H]]={}),R=R[q[H]];return R[q[q.length-1]]=F,_})},g=({template:U})=>{var J,T,re,z,G,V;const F=U.type||ec.CLASSIC,L=((J=U==null?void 0:U.branding)==null?void 0:J.primaryColor)||((re=(T=U==null?void 0:U.content)==null?void 0:T.colors)==null?void 0:re.accent)||"#3b82f6",_=((z=U==null?void 0:U.header)==null?void 0:z.backgroundColor)||"#ffffff",q=((G=U==null?void 0:U.header)==null?void 0:G.showLogo)!==!1,R=((V=U==null?void 0:U.header)==null?void 0:V.borderBottom)!==!1;if(U!=null&&U.preview)return n.jsx("div",{className:"aspect-[3/4] rounded-lg border overflow-hidden bg-white",children:n.jsx("img",{src:U.preview,alt:`Prvia ${U.name}`,className:"w-full h-full object-cover"})});const H=n.jsxs("div",{className:"aspect-[3/4] rounded-lg border bg-white overflow-hidden",children:[n.jsxs("div",{className:"h-10 flex items-center justify-between px-3",style:{backgroundColor:_},children:[n.jsxs("div",{className:"flex items-center gap-2",children:[q&&n.jsx("div",{className:"w-6 h-6 rounded bg-gray-300"}),n.jsx("div",{className:"h-3 w-16 bg-gray-400/70 rounded"})]}),n.jsx("div",{className:"h-3 w-10 bg-gray-300 rounded"})]}),R&&n.jsx("div",{className:"h-[1px] w-full",style:{backgroundColor:"#e5e7eb"}}),n.jsxs("div",{className:"p-3 space-y-2",children:[n.jsx("div",{className:"h-3 w-28 bg-gray-300 rounded"}),n.jsx("div",{className:"h-2 w-40 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-36 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-44 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-24 bg-gray-200 rounded"})]}),n.jsx("div",{className:"mt-auto p-3",children:n.jsx("div",{className:"h-2 w-32 rounded",style:{backgroundColor:L}})})]});return F===ec.MODERN?n.jsxs("div",{className:"aspect-[3/4] rounded-lg border overflow-hidden",children:[n.jsx("div",{className:"h-12 flex items-center justify-center",style:{backgroundColor:_},children:q&&n.jsx("div",{className:"w-7 h-7 rounded-full",style:{backgroundColor:L}})}),n.jsxs("div",{className:"p-3 space-y-2",children:[n.jsx("div",{className:"h-3 w-28 bg-gray-300 rounded"}),n.jsx("div",{className:"h-2 w-40 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-36 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-44 bg-gray-200 rounded"})]}),n.jsx("div",{className:"mt-auto p-3",children:n.jsx("div",{className:"h-1 w-full",style:{backgroundColor:L}})})]}):F===ec.MINIMAL?n.jsx("div",{className:"aspect-[3/4] rounded-lg border overflow-hidden",children:n.jsxs("div",{className:"p-3 space-y-2",children:[n.jsx("div",{className:"h-3 w-24 bg-gray-300 rounded"}),n.jsx("div",{className:"h-2 w-40 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-36 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-44 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-28 bg-gray-200 rounded"})]})}):H},w=U=>{const F=QN[U];F&&(i(L=>F9(F,{branding:{...F.branding,clinicName:r.nome||L.branding.clinicName,clinicAddress:r.endereco||L.branding.clinicAddress,clinicPhone:r.telefone||L.branding.clinicPhone}})),t({title:"Template selecionado",description:`Template "${F.name}" aplicado com sucesso.`}))},j=U=>{var _;const F=(_=U.target.files)==null?void 0:_[0];if(!F)return;if(!F.type.startsWith("image/")){t({title:"Arquivo invlido",description:"Por favor, selecione uma imagem vlida.",variant:"destructive"});return}if(F.size>2*1024*1024){t({title:"Arquivo muito grande",description:"O logo deve ter no mximo 2MB.",variant:"destructive"});return}l(F);const L=new FileReader;L.onload=q=>{d(q.target.result)},L.readAsDataURL(F)},N=()=>{l(null),d(null),e&&TN(e),x("header.showLogo",!1),t({title:"Logo removido",description:"O logo foi removido do template."})},C=async()=>{if(!e){t({title:"Erro",description:"ID do mdico no encontrado.",variant:"destructive"});return}h(!0);try{const U=E9(s);if(!U.isValid){t({title:"Configurao invlida",description:U.errors.join(", "),variant:"destructive"});return}let F=null;if(o){const _=new FileReader;F=await new Promise(q=>{_.onload=R=>q(R.target.result),_.readAsDataURL(o)}),x("header.showLogo",!0)}else A&&(F=A);if(await nr.salvarTemplateConfig(s,F))RN(e,s),F&&w0(e,{data:F,type:(o==null?void 0:o.type)||"image/png"}),t({title:"Configurao salva",description:"Suas configuraes de template foram salvas com sucesso no servidor."});else{const _=RN(e,s);if(F&&w0(e,{data:F,type:(o==null?void 0:o.type)||"image/png"}),_)t({title:"Configurao salva localmente",description:"Suas configuraes foram salvas localmente (servidor indisponvel).",variant:"default"});else throw new Error("Falha ao salvar configurao")}}catch(U){console.error("Erro ao salvar:",U),t({title:"Erro ao salvar",description:"No foi possvel salvar as configuraes.",variant:"destructive"})}finally{h(!1)}},E=()=>{i(Ls),l(null),d(null),e&&TN(e),t({title:"Configurao resetada",description:"As configuraes foram restauradas para o padro."})},Q=()=>{const U=k9(s);console.log("Preview config:",U),t({title:"Preview gerado",description:"Verifique o console para ver a configurao de preview."})};return m?n.jsx(ke,{children:n.jsx(Le,{className:"p-6",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):n.jsx("div",{className:"space-y-6",children:n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(sn,{className:"h-5 w-5"}),"Configurao de Templates de PDF"]}),n.jsx(mr,{children:"Personalize o layout e aparncia das suas receitas mdicas em PDF"})]}),n.jsxs(Le,{children:[n.jsxs(Vi,{defaultValue:"templates",className:"space-y-6",children:[n.jsxs(qi,{className:"grid w-full grid-cols-4",children:[n.jsxs(Pr,{value:"templates",className:"flex items-center gap-2",children:[n.jsx(rI,{className:"h-4 w-4"}),"Templates"]}),n.jsxs(Pr,{value:"branding",className:"flex items-center gap-2",children:[n.jsx(bj,{className:"h-4 w-4"}),"Identidade"]}),n.jsxs(Pr,{value:"layout",className:"flex items-center gap-2",children:[n.jsx(Am,{className:"h-4 w-4"}),"Layout"]}),n.jsxs(Pr,{value:"colors",className:"flex items-center gap-2",children:[n.jsx(rS,{className:"h-4 w-4"}),"Cores"]})]}),n.jsx($r,{value:"templates",className:"space-y-4",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(QN).map(([U,F])=>n.jsx(ke,{className:`cursor-pointer transition-all hover:shadow-md ${s.type===U?"ring-2 ring-primary":""}`,onClick:()=>w(U),children:n.jsxs(Le,{className:"p-4",children:[n.jsx("div",{className:"mb-3",children:n.jsx(g,{template:F})}),n.jsx("h3",{className:"font-semibold",children:F.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:F.description}),s.type===U&&n.jsx(lr,{className:"mt-2",children:"Selecionado"})]})},U))})}),n.jsx($r,{value:"branding",className:"space-y-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(De,{className:"text-base font-semibold",children:"Logo da Clnica"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Adicione o logo da sua clnica que aparecer no cabealho das receitas"}),n.jsxs("div",{className:"flex items-center gap-4",children:[A?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:A,alt:"Logo preview",className:"w-20 h-20 object-contain border rounded-lg"}),n.jsx(we,{size:"sm",variant:"destructive",className:"absolute -top-2 -right-2 h-6 w-6 p-0",onClick:N,children:""})]}):n.jsx("div",{className:"w-20 h-20 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:n.jsx(bj,{className:"h-8 w-8 text-gray-400"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(we,{variant:"outline",onClick:()=>{var U;return(U=a.current)==null?void 0:U.click()},className:"flex items-center gap-2",children:[n.jsx(Ng,{className:"h-4 w-4"}),A?"Alterar Logo":"Adicionar Logo"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG at 2MB"})]})]}),n.jsx("input",{ref:a,type:"file",accept:"image/*",onChange:j,className:"hidden"})]}),n.jsx(hs,{}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"clinicName",children:"Nome da Clnica"}),n.jsx(He,{id:"clinicName",value:s.branding.clinicName,onChange:U=>x("branding.clinicName",U.target.value),placeholder:"Nome da sua clnica"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"clinicPhone",children:"Telefone"}),n.jsx(He,{id:"clinicPhone",value:s.branding.clinicPhone,onChange:U=>x("branding.clinicPhone",U.target.value),placeholder:"(11) 99999-9999"})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(De,{htmlFor:"clinicAddress",children:"Endereo"}),n.jsx(ua,{id:"clinicAddress",value:s.branding.clinicAddress,onChange:U=>x("branding.clinicAddress",U.target.value),placeholder:"Endereo completo da clnica",rows:2})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"clinicEmail",children:"E-mail"}),n.jsx(He,{id:"clinicEmail",type:"email",value:s.branding.clinicEmail,onChange:U=>x("branding.clinicEmail",U.target.value),placeholder:"contato@clinica.com"})]})]})]})}),n.jsxs($r,{value:"layout",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Configuraes da Pgina"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Tamanho da Pgina"}),n.jsxs(Wr,{value:s.layout.pageSize,onValueChange:U=>x("layout.pageSize",U),children:[n.jsx(Kr,{children:n.jsx(Gr,{})}),n.jsxs(zr,{children:[n.jsx(at,{value:"A4",children:"A4"}),n.jsx(at,{value:"Letter",children:"Letter"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Orientao"}),n.jsxs(Wr,{value:s.layout.orientation,onValueChange:U=>x("layout.orientation",U),children:[n.jsx(Kr,{children:n.jsx(Gr,{})}),n.jsxs(zr,{children:[n.jsx(at,{value:"portrait",children:"Retrato"}),n.jsx(at,{value:"landscape",children:"Paisagem"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Margens (px)"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Superior"}),n.jsx(He,{type:"number",value:s.layout.margins.top,onChange:U=>x("layout.margins.top",parseInt(U.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Inferior"}),n.jsx(He,{type:"number",value:s.layout.margins.bottom,onChange:U=>x("layout.margins.bottom",parseInt(U.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Esquerda"}),n.jsx(He,{type:"number",value:s.layout.margins.left,onChange:U=>x("layout.margins.left",parseInt(U.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Direita"}),n.jsx(He,{type:"number",value:s.layout.margins.right,onChange:U=>x("layout.margins.right",parseInt(U.target.value)||0)})]})]})]})]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Tipografia"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajuste o tamanho das letras usadas em ttulos, subttulos e textos."}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Ttulo"}),n.jsx(He,{type:"number",min:10,max:32,value:s.content.fontSize.title,onChange:U=>x("content.fontSize.title",parseInt(U.target.value)||10)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Subttulo"}),n.jsx(He,{type:"number",min:9,max:28,value:s.content.fontSize.subtitle,onChange:U=>x("content.fontSize.subtitle",parseInt(U.target.value)||9)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Corpo"}),n.jsx(He,{type:"number",min:8,max:24,value:s.content.fontSize.body,onChange:U=>x("content.fontSize.body",parseInt(U.target.value)||8)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Pequeno"}),n.jsx(He,{type:"number",min:8,max:20,value:s.content.fontSize.small,onChange:U=>x("content.fontSize.small",parseInt(U.target.value)||8)})]})]})]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Cabealho e Rodap"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(De,{children:"Mostrar Logo"}),n.jsx(Nf,{checked:s.header.showLogo,onCheckedChange:U=>x("header.showLogo",U)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(De,{children:"Mostrar Informaes do Mdico"}),n.jsx(Nf,{checked:s.header.showDoctorInfo,onCheckedChange:U=>x("header.showDoctorInfo",U)})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(De,{children:"Mostrar Assinatura"}),n.jsx(Nf,{checked:s.footer.showSignature,onCheckedChange:U=>x("footer.showSignature",U)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(De,{children:"Mostrar Data"}),n.jsx(Nf,{checked:s.footer.showDate,onCheckedChange:U=>x("footer.showDate",U)})]})]})]})]})]}),n.jsx($r,{value:"colors",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Cores do Texto"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(De,{className:"w-20",children:"Primria"}),n.jsx(He,{type:"color",value:s.content.colors.primary,onChange:U=>x("content.colors.primary",U.target.value),className:"w-16 h-10"}),n.jsx(He,{value:s.content.colors.primary,onChange:U=>x("content.colors.primary",U.target.value),className:"flex-1"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(De,{className:"w-20",children:"Secundria"}),n.jsx(He,{type:"color",value:s.content.colors.secondary,onChange:U=>x("content.colors.secondary",U.target.value),className:"w-16 h-10"}),n.jsx(He,{value:s.content.colors.secondary,onChange:U=>x("content.colors.secondary",U.target.value),className:"flex-1"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(De,{className:"w-20",children:"Destaque"}),n.jsx(He,{type:"color",value:s.content.colors.accent,onChange:U=>x("content.colors.accent",U.target.value),className:"w-16 h-10"}),n.jsx(He,{value:s.content.colors.accent,onChange:U=>x("content.colors.accent",U.target.value),className:"flex-1"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Tamanhos de Fonte (pt)"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(De,{className:"w-20",children:"Ttulo"}),n.jsx(He,{type:"number",min:"10",max:"24",value:s.content.fontSize.title,onChange:U=>x("content.fontSize.title",parseInt(U.target.value)||16),className:"w-20"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(De,{className:"w-20",children:"Subttulo"}),n.jsx(He,{type:"number",min:"8",max:"20",value:s.content.fontSize.subtitle,onChange:U=>x("content.fontSize.subtitle",parseInt(U.target.value)||14),className:"w-20"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(De,{className:"w-20",children:"Corpo"}),n.jsx(He,{type:"number",min:"8",max:"16",value:s.content.fontSize.body,onChange:U=>x("content.fontSize.body",parseInt(U.target.value)||12),className:"w-20"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(De,{className:"w-20",children:"Pequeno"}),n.jsx(He,{type:"number",min:"6",max:"12",value:s.content.fontSize.small,onChange:U=>x("content.fontSize.small",parseInt(U.target.value)||10),className:"w-20"})]})]})]})]})})]}),n.jsxs("div",{className:"flex items-center justify-between pt-6 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(we,{variant:"outline",onClick:Q,className:"flex items-center gap-2",children:[n.jsx(Ci,{className:"h-4 w-4"}),"Preview"]}),n.jsxs(we,{variant:"outline",onClick:E,className:"flex items-center gap-2",children:[n.jsx(fI,{className:"h-4 w-4"}),"Resetar"]})]}),n.jsxs(we,{onClick:C,disabled:f,className:"flex items-center gap-2",children:[n.jsx(U1,{className:"h-4 w-4"}),f?"Salvando...":"Salvar Configurao"]})]})]})]})})}function Xw(){const{activeRole:e}=lc(),r=ns(),t=r.pathname.startsWith("/paciente/"),a=r.pathname.startsWith("/medico/"),{toast:s}=Ga(),[i,o]=y.useState(!0),[l,A]=y.useState(!1),[d,f]=y.useState(null),[h,m]=y.useState(null),[p,x]=y.useState(null),[g,w]=y.useState({first_name:"",last_name:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:""}),[j,N]=y.useState({atual:"",nova:"",confirmar:""}),[C,E]=y.useState(!1),[Q,U]=y.useState({email:!0,lembretes:!0,exames:!0,push:!1}),[F,L]=y.useState(!1),[_,q]=y.useState({tipo_sanguineo:"",alergias:"",condicoes_cronicas:"",contato_emergencia_nome:"",contato_emergencia_telefone:"",plano_saude:"",numero_carteirinha:"",peso:"",altura:""}),[R,H]=y.useState(!1),J=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],[T,re]=y.useState(!1),[z,G]=y.useState(null),[V,ee]=y.useState(!1),[ce,k]=y.useState(!1),{ephemeralCertFile:D,setEphemeralCertFile:K,ephemeralCertPassword:te,setEphemeralCertPassword:Y}=lc(),[X,O]=y.useState(D||null),[Z,oe]=y.useState(te||"");y.useEffect(()=>{K(X)},[X]),y.useEffect(()=>{Y(Z)},[Z]);const[pe,xe]=y.useState(null),[_e,Fe]=y.useState("Assinatura de documento mdico"),[he,Ae]=y.useState("Hospital"),[ct,gt]=y.useState(!1),pt=async()=>{var Xe,nt;if(!pe){s.error("Selecione um PDF para assinar.");return}if(!X){s.error("Selecione um certificado (.pfx/.p12) para assinar o PDF.");return}if(!(Z&&Z.trim())){s.error("Informe a senha do certificado (.pfx/.p12).");return}const et=new FormData;et.append("file",pe),et.append("pfx",X),et.append("certificado",X),et.append("pkcs12",X),et.append("pfx_password",Z.trim()),et.append("senha",Z.trim()),et.append("password",Z.trim()),et.append("no_persist","true"),et.append("ephemeral","true"),_e&&et.append("reason",_e),he&&et.append("location",he);try{gt(!0);const{filename:_r,blob:vt}=await nr.signDocumento(et,{reason:_e,location:he}),Zt=window.URL.createObjectURL(vt),oa=document.createElement("a");oa.href=Zt,oa.download=_r||"documento_assinado.pdf",document.body.appendChild(oa),oa.click(),oa.remove(),window.URL.revokeObjectURL(Zt),s.success("Documento assinado com sucesso.")}catch(_r){const vt=((nt=(Xe=_r==null?void 0:_r.response)==null?void 0:Xe.data)==null?void 0:nt.message)||(_r==null?void 0:_r.message)||"Falha ao assinar o documento.";s.error(vt)}finally{gt(!1)}};y.useEffect(()=>{let et=!0;return(async()=>{var Xe;try{o(!0);const[nt,_r]=await Promise.allSettled([ha.getPerfil(),ha.getPacienteDoUsuario()]);if(!et)return;const vt=nt.status==="fulfilled"?nt.value:null,Zt=_r.status==="fulfilled"?_r.value:null;m(vt),x(Zt),w(oa=>({...oa,first_name:(vt==null?void 0:vt.first_name)||"",last_name:(vt==null?void 0:vt.last_name)||"",email:(vt==null?void 0:vt.email)||"",cpf:(vt==null?void 0:vt.cpf)||"",telefone:(vt==null?void 0:vt.telefone)||"",data_nascimento:(vt==null?void 0:vt.data_nascimento)||"",endereco:typeof(vt==null?void 0:vt.endereco)=="string"?vt.endereco:vt!=null&&vt.endereco?`${vt.endereco.logradouro||""} ${vt.endereco.numero||""} ${vt.endereco.bairro||""} ${vt.endereco.cidade||""} ${vt.endereco.estado||""}`.trim():""})),q({tipo_sanguineo:(Zt==null?void 0:Zt.tipo_sanguineo)||"",alergias:(Zt==null?void 0:Zt.alergias)||"",condicoes_cronicas:(Zt==null?void 0:Zt.condicoes_cronicas)||"",contato_emergencia_nome:(Zt==null?void 0:Zt.contato_emergencia_nome)||"",contato_emergencia_telefone:(Zt==null?void 0:Zt.contato_emergencia_telefone)||"",plano_saude:(Zt==null?void 0:Zt.plano_saude)||"",numero_carteirinha:(Zt==null?void 0:Zt.numero_carteirinha)||"",peso:(Zt==null?void 0:Zt.peso)??"",altura:(Zt==null?void 0:Zt.altura)??""});try{const oa=localStorage.getItem("notification_prefs");if(oa){const Xt=JSON.parse(oa);U(Nn=>({...Nn,...Xt}))}}catch{}}catch(nt){const _r=(Xe=nt==null?void 0:nt.response)==null?void 0:Xe.status;f(_r===401?"Sesso invlida. Faa login novamente.":"No foi possvel carregar os dados.")}finally{et&&o(!1)}})(),()=>{et=!1}},[]),y.useEffect(()=>{a&&zt()},[a]);const Se=et=>{const{name:Xe,value:nt}=et.target;w(_r=>({..._r,[Xe]:nt}))},it=et=>{const{name:Xe,value:nt}=et.target;q(_r=>({..._r,[Xe]:nt}))};async function Ke(){var et;A(!0);try{const Xe={first_name:g.first_name||"",last_name:g.last_name||"",telefone:g.telefone||"",data_nascimento:g.data_nascimento||"",endereco:g.endereco||""},nt=await ha.atualizarPerfil(Xe);m(nt),s({title:"Perfil atualizado",description:"Suas informaes pessoais foram salvas."})}catch(Xe){const nt=(et=Xe==null?void 0:Xe.response)!=null&&et.data?JSON.stringify(Xe.response.data):"No foi possvel salvar o perfil.";s({title:"Erro ao salvar",description:nt,variant:"destructive"})}finally{A(!1)}}async function Ct(){var et;H(!0);try{const Xe=await ha.atualizarPaciente(_);x(nt=>({...nt||{},...Xe||{}})),s({title:"Informaes do paciente salvas",description:"Dados atualizados com sucesso."})}catch(Xe){const nt=(et=Xe==null?void 0:Xe.response)!=null&&et.data?JSON.stringify(Xe.response.data):"No foi possvel salvar os dados do paciente.";s({title:"Erro ao salvar",description:nt,variant:"destructive"})}finally{H(!1)}}const jt=async()=>{var et,Xe;if(!j.nova||j.nova.length<6){s({title:"Senha invlida",description:"A nova senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}if(j.nova!==j.confirmar){s({title:"Confirmao incorreta",description:"A confirmao da nova senha no confere.",variant:"destructive"});return}E(!0);try{await ye.post("/auth/change-password/",{old_password:j.atual,new_password:j.nova}),N({atual:"",nova:"",confirmar:""}),s({title:"Senha alterada",description:"Sua senha foi atualizada com sucesso."})}catch(nt){const vt=((et=nt==null?void 0:nt.response)==null?void 0:et.status)===404?"Endpoint de alterao de senha no encontrado. Verifique o backend.":(Xe=nt==null?void 0:nt.response)!=null&&Xe.data?JSON.stringify(nt.response.data):"No foi possvel alterar a senha.";s({title:"Erro ao alterar senha",description:vt,variant:"destructive"})}finally{E(!1)}},ur=et=>{U(Xe=>({...Xe,[et]:!Xe[et]}))},Mt=()=>{L(!0);try{localStorage.setItem("notification_prefs",JSON.stringify(Q)),s({title:"Preferncias salvas",description:"Suas preferncias de notificao foram atualizadas."})}finally{L(!1)}};async function zt(){ee(!0);try{const et=await nr.getCertificadoInfo();G(et||null)}catch{G(null)}finally{ee(!1)}}async function Or(){var nt,_r;if(!X){s({title:"Selecione um arquivo",description:"Escolha um arquivo .pfx, .p12, .crt, .cer ou .pem.",variant:"destructive"});return}const et=15*1024*1024;if(X.size>et){s({title:"Arquivo muito grande",description:"O limite  de 15MB.",variant:"destructive"});return}const Xe=new FormData;Xe.append("file",X),Xe.append("certificado",X),Xe.append("arquivo",X),Xe.append("pfx",X),Z&&(Xe.append("password",Z),Xe.append("senha",Z),Xe.append("passphrase",Z),Xe.append("pfx_password",Z)),Xe.append("no_persist","true"),Xe.append("ephemeral","true"),Xe.append("save_public_only","true"),k(!0);try{const vt=await nr.uploadCertificado(Xe);G(vt||null);const Zt=vt!=null&&vt.public_cert_saved?"Certificado pblico extrado e salvo para validaes. O PFX no foi armazenado.":"Certificado processado. O PFX no foi armazenado.";s({title:"Processamento concludo",description:Zt}),O(null)}catch(vt){const Zt=(nt=vt==null?void 0:vt.response)==null?void 0:nt.status,oa=(_r=vt==null?void 0:vt.response)==null?void 0:_r.data;s({title:"Falha no processamento",description:Zt===404?"Endpoint de upload no encontrado no backend. Configure a varivel VITE_MEDICO_CERTIFICADO_ENDPOINT.":typeof oa=="string"?oa:"No foi possvel processar o certificado.",variant:"destructive"})}finally{k(!1),oe("")}}const $t=(()=>{const et=(z==null?void 0:z.valid_to)||(z==null?void 0:z.validade_fim)||(z==null?void 0:z.validade)||(z==null?void 0:z.valid_to_date);if(!et)return null;const Xe=new Date(et);return Math.ceil((Xe-new Date)/(1e3*60*60*24))})(),_t=!!(z&&(z.exists??z.id??z.valid_to??z.subject)),[Et,Dt]=y.useState({nome:"",crm:"",especialidade:"",telefone:"",endereco:""}),[ia,Qr]=y.useState(!1),[Ot,wr]=y.useState([]),[Dr,wt]=y.useState(!1),[hr,ir]=y.useState("");y.useEffect(()=>{a&&(async()=>{var et,Xe,nt,_r,vt,Zt,oa,Xt,Nn,gs,hn,is;try{const dt=await nr.getPerfil();if(!dt)return;const za=(dt==null?void 0:dt.nome)||((et=dt==null?void 0:dt.user)!=null&&et.first_name||(Xe=dt==null?void 0:dt.user)!=null&&Xe.last_name?`${((nt=dt==null?void 0:dt.user)==null?void 0:nt.first_name)||""} ${((_r=dt==null?void 0:dt.user)==null?void 0:_r.last_name)||""}`.trim():((vt=dt==null?void 0:dt.user)==null?void 0:vt.nome)||((Zt=dt==null?void 0:dt.user)==null?void 0:Zt.name)||"")||"",Ya=(dt==null?void 0:dt.crm)||(dt==null?void 0:dt.crm_numero)||(dt==null?void 0:dt.crm_registro)||((oa=dt==null?void 0:dt.user)==null?void 0:oa.crm)||"";let Ns="";typeof(dt==null?void 0:dt.especialidade)=="string"?Ns=dt.especialidade:dt!=null&&dt.especialidade&&typeof dt.especialidade=="object"&&(Ns=dt.especialidade.nome||dt.especialidade.label||dt.especialidade.titulo||"");const fi=(dt==null?void 0:dt.telefone)||(dt==null?void 0:dt.celular)||((Xt=dt==null?void 0:dt.user)==null?void 0:Xt.phone)||((Nn=dt==null?void 0:dt.user)==null?void 0:Nn.telefone)||((gs=dt==null?void 0:dt.contato)==null?void 0:gs.telefone)||"";let Xa=(dt==null?void 0:dt.endereco)||((hn=dt==null?void 0:dt.user)==null?void 0:hn.endereco)||((is=dt==null?void 0:dt.clinica)==null?void 0:is.endereco)||"",Oe="";typeof Xa=="string"?Oe=Xa:Xa&&typeof Xa=="object"&&(Oe=`${Xa.logradouro||Xa.rua||""} ${Xa.numero||""} ${Xa.bairro||""} ${Xa.cidade||""} ${Xa.estado||""}`.trim()),Dt({nome:za,crm:Ya,especialidade:Ns,telefone:fi,endereco:Oe});try{wt(!0);const Ze=await(await Qs(async()=>{const{secretariaService:St}=await Promise.resolve().then(()=>sm);return{secretariaService:St}},void 0)).secretariaService.listarSecretarias({limit:100});wr(Array.isArray(Ze)?Ze:[])}catch{}finally{wt(!1)}}catch{}})()},[a]);const Ht=et=>{const{name:Xe,value:nt}=et.target;Dt(_r=>({..._r,[Xe]:nt}))},ka=async()=>{var et;Qr(!0);try{const Xe={telefone:Et.telefone||"",endereco:Et.endereco||"",especialidade:Et.especialidade||""},nt=await nr.updatePerfilMedico(Xe);if(nt){const _r=nt.telefone||nt.celular||Et.telefone;let vt=nt.endereco||Et.endereco;vt&&typeof vt=="object"&&(vt=`${vt.logradouro||vt.rua||""} ${vt.numero||""} ${vt.bairro||""} ${vt.cidade||""} ${vt.estado||""}`.trim());let Zt=Et.especialidade;typeof(nt==null?void 0:nt.especialidade)=="string"?Zt=nt.especialidade:nt!=null&&nt.especialidade&&typeof nt.especialidade=="object"&&(Zt=nt.especialidade.nome||nt.especialidade.label||nt.especialidade.titulo||Zt),Dt(oa=>({...oa,telefone:_r,endereco:vt,especialidade:Zt}))}s({title:"Dados do mdico atualizados",description:"Telefone, endereo e especialidade foram salvos."})}catch(Xe){const nt=(et=Xe==null?void 0:Xe.response)!=null&&et.data?JSON.stringify(Xe.response.data):"No foi possvel salvar os dados do mdico.";s({title:"Erro ao salvar",description:nt,variant:"destructive"})}finally{Qr(!1)}};return n.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configuraes"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas informaes pessoais e preferncias da conta"})]}),t&&n.jsx(Wi,{tabs:J,basePath:"/paciente"}),!t&&e==="secretaria"&&!(p!=null&&p.id)&&n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsx(Ye,{children:"Criar perfil de paciente"}),n.jsx(mr,{children:"Para acessar as funcionalidades de paciente com esta conta, crie seu perfil de paciente."})]}),n.jsxs(Le,{className:"flex items-center justify-between gap-4",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum perfil de paciente encontrado para esta conta."}),n.jsx(we,{onClick:async()=>{var et;re(!0);try{const Xe=await ha.garantirPacienteDoUsuario({});x(Xe),s({title:"Perfil de paciente criado",description:"Voc j pode acessar a rea do paciente."})}catch(Xe){const nt=(et=Xe==null?void 0:Xe.response)!=null&&et.data?JSON.stringify(Xe.response.data):"No foi possvel criar o perfil.";s({title:"Erro",description:nt,variant:"destructive"})}finally{re(!1)}},disabled:T,children:T?"Criando...":"Criar meu perfil de paciente"})]})]}),n.jsxs(Vi,{defaultValue:"perfil",className:"space-y-6",children:[n.jsxs(qi,{className:`grid w-full ${a?"grid-cols-6":"grid-cols-3"}`,children:[n.jsxs(Pr,{value:"perfil",className:"flex items-center gap-2",children:[n.jsx(Hn,{className:"h-4 w-4"}),"Perfil"]}),n.jsxs(Pr,{value:"seguranca",className:"flex items-center gap-2",children:[n.jsx(k1,{className:"h-4 w-4"}),"Segurana"]}),n.jsxs(Pr,{value:"notificacoes",className:"flex items-center gap-2",children:[n.jsx(cm,{className:"h-4 w-4"}),"Notificaes"]}),a&&n.jsxs(n.Fragment,{children:[n.jsxs(Pr,{value:"certificado",className:"flex items-center gap-2",children:[n.jsx(Ai,{className:"h-4 w-4"}),"Certificado Digital"]}),n.jsxs(Pr,{value:"dados_medico",className:"flex items-center gap-2",children:[n.jsx(qr,{className:"h-4 w-4"}),"Dados do Mdico"]}),n.jsxs(Pr,{value:"templates_pdf",className:"flex items-center gap-2",children:[n.jsx(sn,{className:"h-4 w-4"}),"Templates PDF"]})]})]}),n.jsx($r,{value:"perfil",children:n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsx(Ye,{children:"Informaes Pessoais"}),n.jsx(mr,{children:"Atualize suas informaes pessoais e de contato"})]}),n.jsx(Le,{className:"space-y-6",children:i?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):d?n.jsx("p",{className:"text-destructive",children:d}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"first_name",children:"Nome"}),n.jsx(He,{id:"first_name",name:"first_name",value:g.first_name,onChange:Se})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"last_name",children:"Sobrenome"}),n.jsx(He,{id:"last_name",name:"last_name",value:g.last_name,onChange:Se})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"email",children:"Email"}),n.jsx(He,{id:"email",name:"email",value:g.email,disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"cpf",children:"CPF"}),n.jsx(He,{id:"cpf",name:"cpf",value:g.cpf,disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"telefone",children:"Telefone"}),n.jsx(He,{id:"telefone",name:"telefone",value:g.telefone,onChange:Se})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"data_nascimento",children:"Data de Nascimento"}),n.jsx(ms,{id:"data_nascimento",name:"data_nascimento",value:g.data_nascimento||"",onChange:et=>Se({target:{name:"data_nascimento",value:et}}),maxDate:new Date})]})]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"endereco",children:"Endereo"}),n.jsx(ua,{id:"endereco",name:"endereco",placeholder:"Rua, nmero, bairro, cidade, estado",value:g.endereco,onChange:Se})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(we,{onClick:Ke,disabled:l,children:l?"Salvando...":"Salvar Alteraes"})}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"Mais Informaes do Paciente"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Esses dados ajudam mdicos a entender melhor seu histrico."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"tipo_sanguineo",children:"Tipo Sanguneo"}),n.jsx(He,{id:"tipo_sanguineo",name:"tipo_sanguineo",value:_.tipo_sanguineo,onChange:it,placeholder:"Ex.: O+, A-, B+, AB+"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"plano_saude",children:"Plano de Sade"}),n.jsx(He,{id:"plano_saude",name:"plano_saude",value:_.plano_saude,onChange:it})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"numero_carteirinha",children:"Nmero da Carteirinha"}),n.jsx(He,{id:"numero_carteirinha",name:"numero_carteirinha",value:_.numero_carteirinha,onChange:it})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"contato_emergencia_nome",children:"Contato de Emergncia (Nome)"}),n.jsx(He,{id:"contato_emergencia_nome",name:"contato_emergencia_nome",value:_.contato_emergencia_nome,onChange:it})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"contato_emergencia_telefone",children:"Contato de Emergncia (Telefone)"}),n.jsx(He,{id:"contato_emergencia_telefone",name:"contato_emergencia_telefone",value:_.contato_emergencia_telefone,onChange:it})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"peso",children:"Peso (kg)"}),n.jsx(He,{id:"peso",name:"peso",type:"number",step:"0.1",value:_.peso,onChange:it})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"altura",children:"Altura (cm)"}),n.jsx(He,{id:"altura",name:"altura",type:"number",step:"0.1",value:_.altura,onChange:it})]}),n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsx(De,{htmlFor:"alergias",children:"Alergias"}),n.jsx(ua,{id:"alergias",name:"alergias",rows:3,value:_.alergias,onChange:it,placeholder:"Ex.: Dipirona, poeira, frutos do mar"})]}),n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsx(De,{htmlFor:"condicoes_cronicas",children:"Condies Crnicas"}),n.jsx(ua,{id:"condicoes_cronicas",name:"condicoes_cronicas",rows:3,value:_.condicoes_cronicas,onChange:it,placeholder:"Ex.: Hipertenso, Diabetes, Asma"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(we,{onClick:Ct,disabled:R,variant:"outline",children:R?"Salvando...":"Salvar Informaes do Paciente"})})]})]})})]})}),n.jsx($r,{value:"seguranca",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsx(Ye,{children:"Alterar Senha"}),n.jsx(mr,{children:"Mantenha sua conta segura com uma senha forte"})]}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"senha-atual",children:"Senha Atual"}),n.jsx(He,{id:"senha-atual",type:"password",value:j.atual,onChange:et=>N(Xe=>({...Xe,atual:et.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"nova-senha",children:"Nova Senha"}),n.jsx(He,{id:"nova-senha",type:"password",value:j.nova,onChange:et=>N(Xe=>({...Xe,nova:et.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"confirmar-senha",children:"Confirmar Nova Senha"}),n.jsx(He,{id:"confirmar-senha",type:"password",value:j.confirmar,onChange:et=>N(Xe=>({...Xe,confirmar:et.target.value}))})]}),n.jsx(we,{onClick:jt,disabled:C,children:C?"Alterando...":"Alterar Senha"})]})]}),n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsx(Ye,{children:"Autenticao de Dois Fatores"}),n.jsx(mr,{children:"Adicione uma camada extra de segurana  sua conta"})]}),n.jsx(Le,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Autenticao de Dois Fatores"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"No configurada"})]}),n.jsx(we,{variant:"outline",disabled:!0,children:"Em breve"})]})})]})]})}),n.jsx($r,{value:"notificacoes",children:n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsx(Ye,{children:"Preferncias de Notificao"}),n.jsx(mr,{children:"Configure como voc deseja receber notificaes"})]}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notificaes por Email"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizaes importantes por email"})]}),n.jsx(we,{variant:"outline",size:"sm",onClick:()=>ur("email"),children:Q.email?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Lembretes de Consulta"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba lembretes antes das consultas"})]}),n.jsx(we,{variant:"outline",size:"sm",onClick:()=>ur("lembretes"),children:Q.lembretes?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Resultados de Exames"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Seja notificado quando exames ficarem prontos"})]}),n.jsx(we,{variant:"outline",size:"sm",onClick:()=>ur("exames"),children:Q.exames?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notificaes Push"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificaes no navegador"})]}),n.jsx(we,{variant:"outline",size:"sm",onClick:()=>ur("push"),children:Q.push?"Ativado":"Desativado"})]})]}),n.jsx(we,{onClick:Mt,disabled:F,children:F?"Salvando...":"Salvar Preferncias"})]})]})}),a&&n.jsx($r,{value:"certificado",children:n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsx(Ye,{children:"Configurao de Certificado Digital"}),n.jsx(mr,{children:"Envie seu certificado (.pfx/.p12 ou .crt/.cer/.pem). O arquivo  enviado com segurana ao servidor."})]}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"rounded-lg border p-4 bg-white",children:[V?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600 mr-3"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando informaes do certificado..."})]}):_t?n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium text-green-700",children:"Certificado cadastrado"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Titular: ",(z==null?void 0:z.owner_name)||(z==null?void 0:z.subject_name)||(z==null?void 0:z.subject)||(z==null?void 0:z.nome)||""]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Emitente: ",(z==null?void 0:z.issuer)||(z==null?void 0:z.issuer_name)||(z==null?void 0:z.emitente)||""]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Validade: ",(z==null?void 0:z.valid_from)||(z==null?void 0:z.validade_inicio)||"?","  ",(z==null?void 0:z.valid_to)||(z==null?void 0:z.validade_fim)||"?"]}),$t!=null&&n.jsx("p",{className:`text-sm ${$t<=0?"text-destructive":$t<30?"text-amber-600":"text-emerald-600"}`,children:$t<=0?"Expirado":`Expira em ${$t} dia(s)`})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum certificado cadastrado para este mdico."}),n.jsx("div",{className:"mt-3",children:n.jsx(we,{variant:"outline",size:"sm",onClick:zt,disabled:V,children:V?"Validando...":"Validar agora"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-gray-700",children:"Arquivo do certificado"}),n.jsx(He,{type:"file",accept:".pfx,.p12,.crt,.cer,.pem",onChange:et=>{var Xe;return O(((Xe=et.target.files)==null?void 0:Xe[0])||null)},className:"border-gray-200 focus:border-indigo-500 focus:ring-indigo-500"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Aceita: .pfx, .p12, .crt, .cer, .pem. Tamanho mximo: 15MB."}),X&&n.jsxs("p",{className:"text-xs",children:["Selecionado: ",X.name," (",Math.ceil(X.size/1024)," KB)"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-gray-700",children:"Senha do certificado (se aplicvel)"}),n.jsx(s0,{delayDuration:0,children:n.jsxs(Yh,{children:[n.jsx(Xh,{asChild:!0,children:n.jsx(tI,{size:16,className:"text-muted-foreground cursor-help"})}),n.jsx(_f,{side:"top",children:"Certificados PKCS#12 (.pfx/.p12) contendo chave privada. O arquivo no  persistido."})]})}),n.jsx(He,{type:"password",value:Z,onChange:et=>oe(et.target.value),placeholder:"Senha do .pfx (opcional)"}),(!Z||!Z.trim())&&n.jsx("p",{className:"text-xs text-red-600",children:"Senha obrigatria para assinatura."}),Z&&Z.trim().length<4&&n.jsx("p",{className:"text-xs text-yellow-600",children:"A senha parece curta. Verifique se est correta."}),Z&&Z.trim()&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"Dica: se a senha falhar, confirme maisculas/minsculas, layout do teclado e se o certificado corresponde ao seu CRM."}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Aceitamos certificados no formato PKCS#12 (.pfx/.p12). A senha no  persistida e  usada somente em memria durante a assinatura."})]}),n.jsx("div",{className:"flex gap-2 justify-end",children:n.jsx(we,{onClick:Or,disabled:ce,children:ce?"Enviando...":"Enviar Certificado"})}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Arquivo PDF para assinar"}),n.jsx(He,{type:"file",accept:".pdf",onChange:et=>{var Xe;return xe(((Xe=et.target.files)==null?void 0:Xe[0])||null)}}),pe&&n.jsxs("p",{className:"text-xs",children:["Selecionado: ",pe.name," (",Math.ceil(pe.size/1024)," KB)"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Motivo (opcional)"}),n.jsx(He,{value:_e,onChange:et=>Fe(et.target.value),placeholder:"Ex.: Assinatura de prescrio"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Local (opcional)"}),n.jsx(He,{value:he,onChange:et=>Ae(et.target.value),placeholder:"Ex.: So Paulo - SP"})]})]}),n.jsx("div",{className:"flex gap-2 justify-end",children:n.jsx(we,{onClick:pt,disabled:ct||!pe,children:ct?"Assinando...":"Assinar e Baixar"})})]})]})]})}),a&&n.jsx($r,{value:"dados_medico",children:n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsx(Ye,{children:"Dados do Mdico"}),n.jsx(mr,{children:"Atualize seu telefone, endereo e especialidade."})]}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Nome"}),n.jsx(He,{value:Et.nome||"",disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"CRM"}),n.jsx(He,{value:Et.crm||"",disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"especialidade",children:"Especialidade"}),n.jsx(He,{id:"especialidade",name:"especialidade",value:Et.especialidade||"",onChange:Ht})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"telefone",children:"Telefone"}),n.jsx(He,{id:"telefone",name:"telefone",value:Et.telefone||"",onChange:Ht})]}),n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsx(De,{htmlFor:"endereco",children:"Endereo"}),n.jsx(ua,{id:"endereco",name:"endereco",value:Et.endereco||"",onChange:Ht})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[n.jsx("p",{children:"Nome e CRM so gerenciados pela administrao."}),n.jsx("div",{className:"flex gap-2",children:n.jsx(we,{onClick:ka,disabled:ia,children:ia?"Salvando...":"Salvar Dados do Mdico"})})]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"font-semibold",children:"Secretria vinculada"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Secretria"}),n.jsxs("select",{className:"border rounded-md px-2 py-2",value:hr,onChange:et=>ir(et.target.value),disabled:Dr,children:[n.jsx("option",{value:"",children:"Selecione"}),Ot.map(et=>n.jsx("option",{value:String(et.id),children:(et==null?void 0:et.nome)||(et!=null&&et.user?`${et.user.first_name||""} ${et.user.last_name||""}`.trim():`Secretria #${et.id}`)},et.id))]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx(we,{onClick:async()=>{var et,Xe;if(!hr){s({title:"Selecione",description:"Escolha uma secretria."});return}try{const nt=await nr.getPerfil(),_r=(nt==null?void 0:nt.id)||((et=nt==null?void 0:nt.medico)==null?void 0:et.id);if(!_r)throw new Error("Mdico no identificado");const{secretariaService:vt}=await Qs(async()=>{const{secretariaService:Zt}=await Promise.resolve().then(()=>sm);return{secretariaService:Zt}},void 0);await vt.vincularMedico(String(hr),String(_r)),s({title:"Vinculada",description:"Secretria vinculada ao mdico."})}catch(nt){const _r=(Xe=nt==null?void 0:nt.response)!=null&&Xe.data?JSON.stringify(nt.response.data):(nt==null?void 0:nt.message)||"Falha ao vincular";s({title:"Erro",description:_r,variant:"destructive"})}},disabled:Dr||!hr,children:"Vincular Secretria"})})]})]})]})]})}),a&&n.jsx($r,{value:"templates_pdf",children:n.jsx(VX,{medicoId:h==null?void 0:h.id,medicoInfo:Et})}),t&&n.jsx($r,{value:"medico",children:n.jsx(zX,{})})]})]})})}function qX({children:e}){const{user:r,isAuthenticated:t,loading:a}=Ko(),s=ns(),{userPermissions:i}=lc();if(a)return null;if(!t)return n.jsx(Ea,{to:"/login",state:{from:s},replace:!0});if(!r)return e;const o=(r==null?void 0:r.role)||(r==null?void 0:r.tipo),l=(i==null?void 0:i.medicoStatus)==="approved";return o!=="medico"&&o!=="admin"&&!l?o==="paciente"?n.jsx(Ea,{to:"/paciente/perfil",replace:!0}):o==="clinica"?n.jsx(Ea,{to:"/clinica/dashboard",replace:!0}):n.jsx(Ea,{to:"/",replace:!0}):e}function WX({children:e}){const{user:r,isAuthenticated:t,loading:a}=Ko(),s=ns();if(a)return null;if(!t)return n.jsx(Ea,{to:"/login",state:{from:s},replace:!0});if(!r)return e;const i=(r==null?void 0:r.role)||(r==null?void 0:r.tipo);return i!=="clinica"&&i!=="admin"?i==="paciente"?n.jsx(Ea,{to:"/paciente/perfil",replace:!0}):i==="medico"?n.jsx(Ea,{to:"/medico/dashboard",replace:!0}):n.jsx(Ea,{to:"/",replace:!0}):e}function GX({children:e}){const{user:r,isAuthenticated:t,loading:a}=Ko(),s=ns(),[i,o]=y.useState(!1),[l,A]=y.useState(!1);if(y.useEffect(()=>{let f=!0;async function h(){if(!t)return;if(((r==null?void 0:r.role)||(r==null?void 0:r.tipo))==="secretaria"){o(!0);try{const p=await ha.getPacienteDoUsuario();if(!f)return;A(!!(p!=null&&p.id))}catch{if(!f)return;A(!1)}finally{f&&o(!1)}}}return h(),()=>{f=!1}},[t,r==null?void 0:r.role,r==null?void 0:r.tipo]),a||i)return null;if(!t)return n.jsx(Ea,{to:"/login",state:{from:s},replace:!0});if(!r)return e;const d=(r==null?void 0:r.role)||(r==null?void 0:r.tipo);return d!=="paciente"&&d!=="admin"?d==="secretaria"&&l?e:d==="medico"?n.jsx(Ea,{to:"/medico/dashboard",replace:!0}):d==="clinica"?n.jsx(Ea,{to:"/clinica/dashboard",replace:!0}):n.jsx(Ea,{to:"/",replace:!0}):e}function YX({children:e}){const{user:r,isAuthenticated:t,loading:a}=Ko(),s=ns();if(a)return null;if(!t)return n.jsx(Ea,{to:"/login",state:{from:s},replace:!0});if(!r)return e;const i=(r==null?void 0:r.role)||(r==null?void 0:r.tipo);return i!=="admin"?i==="paciente"?n.jsx(Ea,{to:"/paciente/perfil",replace:!0}):i==="medico"?n.jsx(Ea,{to:"/medico/dashboard",replace:!0}):i==="clinica"?n.jsx(Ea,{to:"/clinica/dashboard",replace:!0}):n.jsx(Ea,{to:"/",replace:!0}):e}const XX=e=>{var t;const r=a=>(a==null?void 0:a.nome)||(a==null?void 0:a.titulo)||(a==null?void 0:a.name)||(a==null?void 0:a.descricao)||(a==null?void 0:a.description);if(Array.isArray(e==null?void 0:e.especialidades)&&e.especialidades.length){const a=e.especialidades.map(s=>r(s)||(typeof s=="string"?s:null)).filter(Boolean);if(a.length)return a.join(", ")}if(e!=null&&e.especialidade&&typeof e.especialidade=="object"){const a=r(e.especialidade);if(a)return a}return typeof(e==null?void 0:e.especialidade)=="string"&&e.especialidade.trim()?e.especialidade.trim():typeof(e==null?void 0:e.especialidade_nome)=="string"&&e.especialidade_nome.trim()?e.especialidade_nome.trim():typeof(e==null?void 0:e.specialty)=="string"&&e.specialty.trim()?e.specialty.trim():typeof(e==null?void 0:e.area)=="string"&&e.area.trim()?e.area.trim():typeof((t=e==null?void 0:e.user)==null?void 0:t.especialidade)=="string"&&e.user.especialidade.trim()?e.user.especialidade.trim():null};function JX(){const[e,r]=y.useState([]),[t,a]=y.useState(!0),[s,i]=y.useState(!1),[o,l]=y.useState(null),{toast:A}=Ga(),d=ss(),[f,h]=y.useState({medico:"",modalidade:"presencial",local:"",tipo:"primeira",preferenciaData:"",preferenciaHora:"",preferenciaTurno:"indiferente",motivo:"",observacoes:""}),m=N=>N?typeof N=="string"?N:[N.logradouro,N.numero,N.bairro,N.cidade,N.estado].filter(Boolean).join(" ").trim()||null:null,p=N=>{var C,E,Q;return(N==null?void 0:N.local_atendimento)||(N==null?void 0:N.local)||m(N==null?void 0:N.endereco)||m((C=N==null?void 0:N.user)==null?void 0:C.endereco)||m((E=N==null?void 0:N.clinica)==null?void 0:E.endereco)||((Q=N==null?void 0:N.clinica)==null?void 0:Q.nome)||null};y.useEffect(()=>{let N=!0;return(async()=>{a(!0),l(null);try{const C=await ha.getMedicos(),E=Array.isArray(C)?C:(C==null?void 0:C.results)||[];r(E)}catch(C){console.error("Erro ao buscar mdicos:",C),l("No foi possvel carregar a lista de mdicos.")}finally{N&&a(!1)}})(),()=>{N=!1}},[]),y.useEffect(()=>{if(f.modalidade!=="presencial"){f.local&&h(E=>({...E,local:""}));return}const N=e.find(E=>{var Q;return String(E.id||((Q=E==null?void 0:E.user)==null?void 0:Q.id))===String(f.medico)}),C=N?p(N):"";h(E=>({...E,local:C||""}))},[f.medico,f.modalidade,e]);const x=N=>C=>{const E=C!=null&&C.target?C.target.value:C;h(Q=>({...Q,[N]:E}))},g=()=>f.medico?f.motivo?f.modalidade==="presencial"&&!f.local?"Local do mdico no definido.":f.preferenciaData?null:"Selecione uma data preferida.":"Informe o motivo principal.":"Selecione um mdico.",w=async N=>{var E,Q;N.preventDefault();const C=g();if(C){A({title:"Validao",description:C,variant:"destructive"});return}i(!0),l(null);try{const U=e.find(J=>{var T;return String(J.id||((T=J==null?void 0:J.user)==null?void 0:T.id)||(J==null?void 0:J.nome))===String(f.medico)}),F=(U==null?void 0:U.id)||((E=U==null?void 0:U.user)==null?void 0:E.id)||(Number(f.medico)?Number(f.medico):void 0);if(!F)throw new Error("No foi possvel identificar o mdico selecionado.");const L=J=>!J||J==="indiferente"||J==="manha"?"08:00":J==="tarde"?"14:00":J==="noite"?"19:00":"08:00",_=await ha.getPacienteDoUsuario();if(!(_==null?void 0:_.id))throw new Error("Paciente atual no encontrado.");const R={medico:F,modalidade:f.modalidade,tipo:f.tipo,motivo:f.motivo};f.preferenciaData&&(R.data=f.preferenciaData);const H=f.preferenciaHora&&String(f.preferenciaHora).trim()?f.preferenciaHora:L(f.preferenciaTurno);H&&(R.hora=H),f.observacoes&&(R.observacoes=f.observacoes),await ha.agendarConsulta(R),A({title:"Solicitao enviada",description:"Sua solicitao foi enviada  Secretaria. Aguarde confirmao."}),d("/paciente/consultas")}catch(U){const F=(Q=U==null?void 0:U.response)==null?void 0:Q.data;let L=typeof F=="string"&&F||(F==null?void 0:F.detail)||(U==null?void 0:U.message)||"No foi possvel enviar sua solicitao.";if(F&&typeof F=="object")try{const _=Object.entries(F).map(([q,R])=>`${q}: ${Array.isArray(R)?R.join(", "):typeof R=="object"?JSON.stringify(R):String(R)}`);_.length&&(L=_.join(" | "))}catch{}l(L),A({title:"Erro",description:L,variant:"destructive"})}finally{i(!1)}},j=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"h-5 w-5 text-primary"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Entrar em contato com o mdico"})]}),n.jsx(Wi,{tabs:j,basePath:"/paciente"}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Contato para agendamento"})}),n.jsx(Le,{children:n.jsxs("form",{onSubmit:w,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Mdico"}),n.jsxs(Wr,{value:f.medico,onValueChange:N=>h(C=>({...C,medico:N})),disabled:t,children:[n.jsx(Kr,{children:n.jsx(Gr,{placeholder:t?"Carregando...":"Selecione um mdico"})}),n.jsx(zr,{children:e.length===0?n.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Nenhum mdico disponvel"}):e.map(N=>{var Q,U,F;const C=(N==null?void 0:N.nome)||[(Q=N==null?void 0:N.user)==null?void 0:Q.first_name,(U=N==null?void 0:N.user)==null?void 0:U.last_name].filter(Boolean).join(" ")||(N==null?void 0:N.username)||(N==null?void 0:N.email)||`Mdico #${(N==null?void 0:N.id)||""}`,E=XX(N);return n.jsxs(at,{value:String(N.id||((F=N==null?void 0:N.user)==null?void 0:F.id)||C),children:[C,E?` - ${E}`:""]},N.id||C)})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Tipo"}),n.jsxs(Wr,{value:f.tipo,onValueChange:N=>h(C=>({...C,tipo:N})),children:[n.jsx(Kr,{children:n.jsx(Gr,{placeholder:"Selecione o tipo"})}),n.jsxs(zr,{children:[n.jsx(at,{value:"primeira",children:"Primeira consulta"}),n.jsx(at,{value:"retorno",children:"Retorno"}),n.jsx(at,{value:"rotina",children:"Rotina"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Modalidade"}),n.jsxs(Wr,{value:f.modalidade,onValueChange:N=>h(C=>({...C,modalidade:N})),children:[n.jsx(Kr,{children:n.jsx(Gr,{placeholder:"Selecione a modalidade"})}),n.jsxs(zr,{children:[n.jsx(at,{value:"presencial",children:"Presencial"}),n.jsx(at,{value:"online",disabled:!0,children:"Online (em breve)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Local"}),n.jsxs("div",{className:"relative",children:[n.jsx(He,{value:f.local,placeholder:"Rua das Flores, 123",readOnly:!0}),n.jsx(Zg,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}),f.modalidade==="presencial"&&n.jsx("div",{className:"text-xs text-muted-foreground",children:"O local  definido pelo mdico e preenchido automaticamente."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Preferncia de Data"}),n.jsx(ms,{id:"preferenciaData",name:"preferenciaData",value:f.preferenciaData,onChange:N=>h(C=>({...C,preferenciaData:N}))}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Opcional: ajuda a secretaria a oferecer horrios prximos."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Preferncia de Hora"}),n.jsx(He,{type:"time",value:f.preferenciaHora,onChange:N=>h(C=>({...C,preferenciaHora:N.target.value}))}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Opcional: informe uma hora sugerida."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Turno perodo"}),n.jsxs(Wr,{value:f.preferenciaTurno,onValueChange:N=>h(C=>({...C,preferenciaTurno:N})),children:[n.jsx(Kr,{children:n.jsx(Gr,{placeholder:"Selecione o perodo"})}),n.jsxs(zr,{children:[n.jsx(at,{value:"indiferente",children:"Indiferente"}),n.jsx(at,{value:"manha",children:"Manh"}),n.jsx(at,{value:"tarde",children:"Tarde"}),n.jsx(at,{value:"noite",children:"Noite"})]})]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Opcional: a secretaria tenta encaixar nesse perodo."})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(De,{children:"Motivo"}),n.jsx(He,{value:f.motivo,onChange:x("motivo"),placeholder:"Ex: dor, retorno de exame, etc."})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(De,{children:"Observaes"}),n.jsx(ua,{value:f.observacoes,onChange:x("observacoes"),placeholder:"Opcional"})]})]}),o&&n.jsx("div",{className:"text-sm text-red-600",children:o}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(we,{type:"button",variant:"outline",onClick:()=>d("/paciente/consultas"),children:"Cancelar"}),n.jsx(we,{type:"submit",disabled:s,children:"Entrar em contato"})]})]})})]})]})}function ZX(){const[e,r]=y.useState(!1),[t,a]=y.useState(""),[s,i]=y.useState([]),[o,l]=y.useState(0),[A,d]=y.useState(""),[f,h]=y.useState(1),[m]=y.useState(10);y.useEffect(()=>{let O=!0;const Z=setTimeout(async()=>{r(!0),a("");try{const oe={search:A||void 0,page:f,limit:m},pe=await fa.getUsuarios(oe),xe=Array.isArray(pe==null?void 0:pe.results)?pe.results:Array.isArray(pe)?pe:[],_e=typeof(pe==null?void 0:pe.count)=="number"?pe.count:xe.length;if(!O)return;i(xe),l(_e)}catch{if(!O)return;a("No foi possvel carregar os usurios.")}finally{O&&r(!1)}},300);return()=>{O=!1,clearTimeout(Z)}},[A,f,m]);const p=y.useMemo(()=>Math.max(1,Math.ceil(o/m)),[o,m]),[x,g]=y.useState(new Set),[w,j]=y.useState(!1),[N,C]=y.useState(null),[E,Q]=y.useState(!1),[U,F]=y.useState(!1),[L,_]=y.useState(""),[q,R]=y.useState(null),[H,J]=y.useState(!1),[T,re]=y.useState(!1),[z,G]=y.useState(""),[V,ee]=y.useState({first_name:"",last_name:"",email:"",password:"",role:""}),ce=()=>{if(s.length===0)return;const O=s.map(oe=>oe==null?void 0:oe.id).filter(Boolean),Z=O.every(oe=>x.has(oe));g(Z?new Set:new Set(O))},k=O=>{O&&g(Z=>{const oe=new Set(Z);return oe.has(O)?oe.delete(O):oe.add(O),oe})},D=async()=>{const O=Array.from(x);if(O.length===0){window.alert("Selecione ao menos um usurio com ID vlido.");return}if(window.confirm(`Confirma excluir ${O.length} usurio(s)?`))try{j(!0),await fa.removerUsuariosEmMassa(O),g(new Set),r(!0),a("");const Z={search:A||void 0,page:f,limit:m},oe=await fa.getUsuarios(Z),pe=Array.isArray(oe==null?void 0:oe.results)?oe.results:Array.isArray(oe)?oe:[],xe=typeof(oe==null?void 0:oe.count)=="number"?oe.count:pe.length;i(pe),l(xe)}catch{window.alert("Falha ao excluir usurios selecionados.")}finally{j(!1),r(!1)}},K=async O=>{if(!O){window.alert("ID invlido para excluso.");return}if(window.confirm("Confirma excluir este usurio?"))try{C(O),await fa.removerUsuariosEmMassa([O]),r(!0),a("");const Z={search:A||void 0,page:f,limit:m},oe=await fa.getUsuarios(Z),pe=Array.isArray(oe==null?void 0:oe.results)?oe.results:Array.isArray(oe)?oe:[],xe=typeof(oe==null?void 0:oe.count)=="number"?oe.count:pe.length;i(pe),l(xe),g(_e=>{const Fe=new Set(_e);return Fe.delete(O),Fe})}catch{window.alert("Falha ao excluir o usurio.")}finally{C(null),r(!1)}},te=O=>{if(!O)return;const Z=O.first_name||O.firstName||"",oe=O.last_name||O.lastName||"",pe=O.email||"",xe=(O.role||O.tipo||"").toString().toLowerCase(),_e=O.is_active??O.ativo??!0;R({id:O.id,first_name:Z,last_name:oe,email:pe,role:xe,is_active:_e}),_(""),Q(!0)},Y=async()=>{if(!(q!=null&&q.id)){_("ID do usurio indisponvel.");return}try{F(!0),_("");const O={first_name:q.first_name,last_name:q.last_name,email:q.email,role:q.role,is_active:!!q.is_active};await fa.updateUsuario(q.id,O),Q(!1),r(!0),a("");const Z={search:A||void 0,page:f,limit:m},oe=await fa.getUsuarios(Z),pe=Array.isArray(oe==null?void 0:oe.results)?oe.results:Array.isArray(oe)?oe:[],xe=typeof(oe==null?void 0:oe.count)=="number"?oe.count:pe.length;i(pe),l(xe)}catch{_("No foi possvel salvar as alteraes.")}finally{F(!1),r(!1)}},X=async()=>{var O;if(!V.email||!V.password||!V.role){G("Preencha e-mail, senha e tipo.");return}try{re(!0),G("");const Z={first_name:V.first_name,last_name:V.last_name,email:V.email,password:V.password,role:V.role};await fa.createUsuario(Z),J(!1),ee({first_name:"",last_name:"",email:"",password:"",role:""}),r(!0),a("");const oe={search:A||void 0,page:f,limit:m},pe=await fa.getUsuarios(oe),xe=Array.isArray(pe==null?void 0:pe.results)?pe.results:Array.isArray(pe)?pe:[],_e=typeof(pe==null?void 0:pe.count)=="number"?pe.count:xe.length;i(xe),l(_e)}catch(Z){const oe=(O=Z==null?void 0:Z.response)!=null&&O.data?JSON.stringify(Z.response.data):"No foi possvel criar o usurio.";G(oe)}finally{re(!1),r(!1)}};return n.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Usurios"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie todos os usurios do sistema"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[n.jsx("input",{type:"text",placeholder:"Buscar por nome, email...",value:A,onChange:O=>{h(1),d(O.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:e?"Carregando...":`${o} usurio(s)`}),n.jsxs("div",{className:"ml-auto flex gap-2",children:[n.jsxs("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50 inline-flex items-center gap-2",onClick:()=>{G(""),ee({first_name:"",last_name:"",email:"",password:"",role:""}),J(!0)},disabled:e,children:[n.jsx(cy,{className:"w-4 h-4"}),"Novo usurio"]}),n.jsxs("button",{className:"px-3 py-2 border rounded-md text-sm bg-red-600 text-white disabled:opacity-50 inline-flex items-center gap-2",onClick:D,disabled:w||x.size===0||e,title:x.size===0?"Selecione usurios":"Excluir selecionados",children:[n.jsx(ly,{className:"w-4 h-4"}),w?"Excluindo...":`Excluir selecionados (${x.size})`]})]})]}),t&&n.jsx("div",{className:"text-sm text-red-600",children:t}),n.jsx("div",{className:"overflow-auto rounded-md border",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-muted/50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left p-3",children:n.jsx("input",{type:"checkbox",checked:s.length>0&&s.map(O=>O==null?void 0:O.id).filter(Boolean).every(O=>x.has(O)),onChange:ce})}),n.jsx("th",{className:"text-left p-3",children:"Nome"}),n.jsx("th",{className:"text-left p-3",children:"Email"}),n.jsx("th",{className:"text-left p-3",children:"Tipo"}),n.jsx("th",{className:"text-left p-3",children:"Status"}),n.jsx("th",{className:"text-left p-3",children:"Aes"})]})}),n.jsxs("tbody",{children:[s.length===0&&!e&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"p-4 text-center text-muted-foreground",children:"Nenhum usurio encontrado"})}),s.map(O=>{const Z=(O==null?void 0:O.nome)||[O==null?void 0:O.first_name,O==null?void 0:O.last_name].filter(Boolean).join(" ")||(O==null?void 0:O.name)||(O==null?void 0:O.username)||"-",oe=(O==null?void 0:O.email)||"-",pe=(O==null?void 0:O.tipo)||(O==null?void 0:O.role)||(O==null?void 0:O.perfil)||"-",xe=(O==null?void 0:O.is_active)??(O==null?void 0:O.ativo)??(O==null?void 0:O.status)??null,_e=xe===!0?"Ativo":xe===!1?"Inativo":String(xe??"-");return n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"p-3",children:n.jsx("input",{type:"checkbox",disabled:!(O!=null&&O.id),checked:O!=null&&O.id?x.has(O.id):!1,onChange:()=>k(O==null?void 0:O.id)})}),n.jsx("td",{className:"p-3",children:Z}),n.jsx("td",{className:"p-3",children:oe}),n.jsx("td",{className:"p-3 capitalize",children:String(pe).toLowerCase()}),n.jsx("td",{className:"p-3",children:n.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${xe===!0?"bg-emerald-100 text-emerald-700":xe===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:_e})}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{className:"px-3 py-1 border rounded-md text-xs inline-flex items-center gap-1.5",onClick:()=>te(O),disabled:!(O!=null&&O.id),title:O!=null&&O.id?"Editar usurio":"ID indisponvel",children:[n.jsx(dI,{className:"w-3.5 h-3.5"}),"Editar"]}),n.jsxs("button",{className:"px-3 py-1 border rounded-md text-xs bg-red-600 text-white disabled:opacity-50 inline-flex items-center gap-1.5",onClick:()=>K(O==null?void 0:O.id),disabled:!(O!=null&&O.id)||N===(O==null?void 0:O.id),title:O!=null&&O.id?"Excluir usurio":"ID indisponvel",children:[n.jsx(ly,{className:"w-3.5 h-3.5"}),N===(O==null?void 0:O.id)?"Excluindo...":"Excluir"]})]})})]},(O==null?void 0:O.id)||`${oe}-${Z}`)})]})]})}),n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(O=>Math.max(1,O-1)),disabled:f<=1||e,children:"Anterior"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Pgina ",f," de ",p]}),n.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(O=>Math.min(p,O+1)),disabled:f>=p||e,children:"Prxima"})]}),E&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:n.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Editar usurio"}),L&&n.jsx("div",{className:"text-sm text-red-600 mb-2",children:L}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Nome"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(q==null?void 0:q.first_name)||"",onChange:O=>R(Z=>({...Z,first_name:O.target.value})),disabled:U})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Sobrenome"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(q==null?void 0:q.last_name)||"",onChange:O=>R(Z=>({...Z,last_name:O.target.value})),disabled:U})]}),n.jsxs("div",{className:"space-y-1 md:col-span-2",children:[n.jsx("label",{className:"text-sm",children:"E-mail"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(q==null?void 0:q.email)||"",onChange:O=>R(Z=>({...Z,email:O.target.value})),disabled:U})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Tipo"}),n.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(q==null?void 0:q.role)||"",onChange:O=>R(Z=>({...Z,role:O.target.value})),disabled:U,children:[n.jsx("option",{value:"",children:"Selecione"}),n.jsx("option",{value:"admin",children:"Admin"}),n.jsx("option",{value:"paciente",children:"Paciente"}),n.jsx("option",{value:"medico",children:"Mdico"}),n.jsx("option",{value:"clinica",children:"Clnica"}),n.jsx("option",{value:"secretaria",children:"Secretaria"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Ativo"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:!!(q!=null&&q.is_active),onChange:O=>R(Z=>({...Z,is_active:O.target.checked})),disabled:U}),n.jsx("span",{className:"text-sm",children:q!=null&&q.is_active?"Ativo":"Inativo"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>Q(!1),disabled:U,children:"Cancelar"}),n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:Y,disabled:U,children:U?"Salvando...":"Salvar"})]})]})}),H&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:n.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Novo usurio"}),z&&n.jsx("div",{className:"text-sm text-red-600 mb-2",children:z}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Nome"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:V.first_name,onChange:O=>ee(Z=>({...Z,first_name:O.target.value})),disabled:T})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Sobrenome"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:V.last_name,onChange:O=>ee(Z=>({...Z,last_name:O.target.value})),disabled:T})]}),n.jsxs("div",{className:"space-y-1 md:col-span-2",children:[n.jsx("label",{className:"text-sm",children:"E-mail"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:V.email,onChange:O=>ee(Z=>({...Z,email:O.target.value})),disabled:T})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Senha"}),n.jsx("input",{type:"password",className:"w-full px-3 py-2 border rounded-md bg-background",value:V.password,onChange:O=>ee(Z=>({...Z,password:O.target.value})),disabled:T})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Tipo"}),n.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:V.role,onChange:O=>ee(Z=>({...Z,role:O.target.value})),disabled:T,children:[n.jsx("option",{value:"",children:"Selecione"}),n.jsx("option",{value:"admin",children:"Admin"}),n.jsx("option",{value:"paciente",children:"Paciente"}),n.jsx("option",{value:"medico",children:"Mdico"}),n.jsx("option",{value:"clinica",children:"Clnica"}),n.jsx("option",{value:"secretaria",children:"Secretaria"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>J(!1),disabled:T,children:"Cancelar"}),n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:X,disabled:T,children:T?"Criando...":"Criar"})]})]})})]})}function eJ(){const[e,r]=y.useState(!1),[t,a]=y.useState(""),[s,i]=y.useState([]),[o,l]=y.useState(0),[A,d]=y.useState(""),[f,h]=y.useState(1),[m]=y.useState(10);y.useEffect(()=>{let x=!0;const g=setTimeout(async()=>{r(!0),a("");try{const w={search:A||void 0,page:f,limit:m},j=await fa.getClinicas(w),N=Array.isArray(j==null?void 0:j.results)?j.results:Array.isArray(j)?j:[],C=typeof(j==null?void 0:j.count)=="number"?j.count:N.length;if(!x)return;i(N),l(C)}catch{if(!x)return;a("No foi possvel carregar as clnicas.")}finally{x&&r(!1)}},300);return()=>{x=!1,clearTimeout(g)}},[A,f,m]);const p=y.useMemo(()=>Math.max(1,Math.ceil(o/m)),[o,m]);return n.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Clnicas"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie os cadastros de clnicas"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[n.jsx("input",{type:"text",placeholder:"Buscar por nome, CNPJ...",value:A,onChange:x=>{h(1),d(x.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:e?"Carregando...":`${o} clnica(s)`})]}),t&&n.jsx("div",{className:"text-sm text-red-600",children:t}),n.jsx("div",{className:"overflow-auto rounded-md border",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-muted/50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left p-3",children:"Nome"}),n.jsx("th",{className:"text-left p-3",children:"CNPJ"}),n.jsx("th",{className:"text-left p-3",children:"Email"}),n.jsx("th",{className:"text-left p-3",children:"Status"})]})}),n.jsxs("tbody",{children:[s.length===0&&!e&&n.jsx("tr",{children:n.jsx("td",{colSpan:4,className:"p-4 text-center text-muted-foreground",children:"Nenhuma clnica encontrada"})}),s.map(x=>{const g=(x==null?void 0:x.razao_social)||(x==null?void 0:x.nome)||(x==null?void 0:x.name)||"-",w=(x==null?void 0:x.cnpj)||"-",j=(x==null?void 0:x.email)||(x==null?void 0:x.contato_email)||"-",N=(x==null?void 0:x.is_active)??(x==null?void 0:x.ativo)??(x==null?void 0:x.status)??null,C=N===!0?"Ativa":N===!1?"Inativa":String(N??"-");return n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"p-3",children:g}),n.jsx("td",{className:"p-3",children:w}),n.jsx("td",{className:"p-3",children:j}),n.jsx("td",{className:"p-3",children:n.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${N===!0?"bg-emerald-100 text-emerald-700":N===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:C})})]},(x==null?void 0:x.id)||`${g}-${w}`)})]})]})}),n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(x=>Math.max(1,x-1)),disabled:f<=1||e,children:"Anterior"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Pgina ",f," de ",p]}),n.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(x=>Math.min(p,x+1)),disabled:f>=p||e,children:"Prxima"})]})]})}function tJ(){const{toast:e}=Ga(),[r,t]=y.useState(!0),[a,s]=y.useState(!1),[i,o]=y.useState(""),[l,A]=y.useState({first_name:"",last_name:"",email:"",telefone:""}),[d,f]=y.useState({atual:"",nova:"",confirmar:""}),[h,m]=y.useState(!1),[p,x]=y.useState({email:!0,sistema:!0,auditoria:!0,push:!1}),[g,w]=y.useState(!1),[j,N]=y.useState(()=>localStorage.getItem("admin_lang")||"pt-BR"),C=_=>x(q=>({...q,[_]:!q[_]}));y.useEffect(()=>{let _=!0;return(async()=>{var q;try{t(!0),o("");const R=await ha.getPerfil();if(!_)return;A({first_name:(R==null?void 0:R.first_name)||"",last_name:(R==null?void 0:R.last_name)||"",email:(R==null?void 0:R.email)||"",telefone:(R==null?void 0:R.telefone)||""});try{const H=localStorage.getItem("admin_notification_prefs");H&&x(J=>({...J,...JSON.parse(H)}))}catch{}}catch(R){if(!_)return;const H=(q=R==null?void 0:R.response)==null?void 0:q.status;o(H===401?"Sesso invlida. Faa login novamente.":"No foi possvel carregar seu perfil.")}finally{_&&t(!1)}})(),()=>{_=!1}},[]);const E=_=>{const{name:q,value:R}=_.target;A(H=>({...H,[q]:R}))},Q=async()=>{var _;s(!0),o("");try{await ha.atualizarPerfil({first_name:l.first_name,last_name:l.last_name,email:l.email,telefone:l.telefone}),e({title:"Perfil atualizado",description:"As informaes foram salvas com sucesso."})}catch(q){const H=((_=q==null?void 0:q.response)==null?void 0:_.status)===400?"Dados invlidos. Verifique os campos.":"No foi possvel salvar as alteraes.";o(H),e({title:"Erro",description:H,variant:"destructive"})}finally{s(!1)}},U=async()=>{if(!d.atual||!d.nova||!d.confirmar){e({title:"Validao",description:"Preencha todos os campos de senha.",variant:"destructive"});return}if(d.nova!==d.confirmar){e({title:"Validao",description:"A confirmao da nova senha no confere.",variant:"destructive"});return}m(!0);try{await new Promise(_=>setTimeout(_,600)),e({title:"Em breve",description:"Alterao de senha ser integrada ao backend.",variant:"default"}),f({atual:"",nova:"",confirmar:""})}finally{m(!1)}},F=async()=>{w(!0);try{localStorage.setItem("admin_notification_prefs",JSON.stringify(p)),e({title:"Notificaes salvas",description:"Preferncias armazenadas neste dispositivo."})}catch{e({title:"Erro",description:"No foi possvel salvar as preferncias.",variant:"destructive"})}finally{w(!1)}},L=()=>{localStorage.setItem("admin_lang",j),e({title:"Idioma atualizado",description:`Idioma definido para ${j}.`})};return n.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configuraes (Admin)"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie seu perfil e preferncias administrativas"})]}),n.jsxs(Vi,{defaultValue:"perfil",className:"space-y-6",children:[n.jsxs(qi,{className:"grid w-full grid-cols-4",children:[n.jsx(Pr,{value:"perfil",children:"Perfil"}),n.jsx(Pr,{value:"seguranca",children:"Segurana"}),n.jsx(Pr,{value:"notificacoes",children:"Notificaes"}),n.jsx(Pr,{value:"sistema",children:"Sistema"})]}),n.jsx($r,{value:"perfil",children:n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Informaes do Perfil"})}),n.jsxs(Le,{className:"space-y-4",children:[i&&n.jsx("p",{className:"text-sm text-red-500",children:i}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"first_name",children:"Nome"}),n.jsx(He,{id:"first_name",name:"first_name",value:l.first_name,onChange:E,disabled:r||a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"last_name",children:"Sobrenome"}),n.jsx(He,{id:"last_name",name:"last_name",value:l.last_name,onChange:E,disabled:r||a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"email",children:"E-mail"}),n.jsx(He,{id:"email",name:"email",type:"email",value:l.email,onChange:E,disabled:r||a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"telefone",children:"Telefone"}),n.jsx(He,{id:"telefone",name:"telefone",value:l.telefone,onChange:E,disabled:r||a})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(we,{onClick:Q,disabled:r||a,children:a?"Salvando...":"Salvar alteraes"})})]})]})}),n.jsx($r,{value:"seguranca",children:n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Segurana"})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"pwd_atual",children:"Senha atual"}),n.jsx(He,{id:"pwd_atual",type:"password",value:d.atual,onChange:_=>f(q=>({...q,atual:_.target.value})),disabled:h})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"pwd_nova",children:"Nova senha"}),n.jsx(He,{id:"pwd_nova",type:"password",value:d.nova,onChange:_=>f(q=>({...q,nova:_.target.value})),disabled:h})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"pwd_confirmar",children:"Confirmar nova senha"}),n.jsx(He,{id:"pwd_confirmar",type:"password",value:d.confirmar,onChange:_=>f(q=>({...q,confirmar:_.target.value})),disabled:h})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(we,{onClick:U,disabled:h,children:h?"Processando...":"Alterar senha"})})]})]})}),n.jsx($r,{value:"notificacoes",children:n.jsxs(ke,{children:[n.jsxs(ze,{children:[n.jsx(Ye,{children:"Preferncias de Notificao"}),n.jsx(mr,{children:"Configure como voc deseja receber notificaes"})]}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notificaes por Email"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizaes importantes por email"})]}),n.jsx(we,{variant:"outline",size:"sm",onClick:()=>C("email"),disabled:g,children:p.email?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Eventos do Sistema"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Avisos sobre operaes e eventos administrativos"})]}),n.jsx(we,{variant:"outline",size:"sm",onClick:()=>C("sistema"),disabled:g,children:p.sistema?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Alteraes e Auditoria"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifique mudanas crticas e logs de auditoria"})]}),n.jsx(we,{variant:"outline",size:"sm",onClick:()=>C("auditoria"),disabled:g,children:p.auditoria?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notificaes Push"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificaes no navegador"})]}),n.jsx(we,{variant:"outline",size:"sm",onClick:()=>C("push"),disabled:g,children:p.push?"Ativado":"Desativado"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(we,{onClick:F,disabled:g,children:g?"Salvando...":"Salvar Preferncias"})})]})]})}),n.jsx($r,{value:"sistema",children:n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Sistema"})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Tema"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(cb,{}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Alterne entre claro/escuro"})]})]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Idioma"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("select",{className:"border rounded px-2 py-1",value:j,onChange:_=>N(_.target.value),children:[n.jsx("option",{value:"pt-BR",children:"Portugus (Brasil)"}),n.jsx("option",{value:"en-US",children:"English (US)"})]}),n.jsx(we,{variant:"outline",onClick:L,children:"Aplicar"})]})]})]})]})})]})]})}function rJ(e){var t,a,s;if(!e)return"";const r=[(t=e==null?void 0:e.user)==null?void 0:t.first_name,(a=e==null?void 0:e.user)==null?void 0:a.last_name].filter(Boolean).join(" ").trim();return(e==null?void 0:e.nome)||r||((s=e==null?void 0:e.user)==null?void 0:s.username)||`Mdico #${(e==null?void 0:e.id)??"?"}`}function aJ(e={}){var i,o,l;const r=e.paciente_nome||((i=e==null?void 0:e.paciente)==null?void 0:i.nome)||((o=e==null?void 0:e.paciente)!=null&&o.user?[e.paciente.user.first_name,e.paciente.user.last_name].filter(Boolean).join(" "):null)||"Paciente",t=e.data_hora||e.horario||e.inicio||e.data||e.start_time||"",a=e.status||"Agendada",s=e.clinica_nome||((l=e==null?void 0:e.clinica)==null?void 0:l.nome)||e.local||"";return{id:e.id||e.consulta_id||Math.random().toString(36).slice(2),pacienteNome:r,dataHora:t,status:a,clinica:s,tipo:e.tipo||e.modalidade||"Consulta"}}function nJ(){const{user:e}=Ko(),r=((e==null?void 0:e.role)||(e==null?void 0:e.tipo)||"").toLowerCase(),[t,a]=y.useState([]),[s,i]=y.useState(null),[o,l]=y.useState(!0),[A,d]=y.useState(!1),[f,h]=y.useState([]),{toast:m}=Ga(),[p,x]=y.useState("todas"),[g,w]=y.useState(""),[j,N]=y.useState(!1),[C,E]=y.useState(!1),[Q,U]=y.useState({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),[F,L]=y.useState(""),[_,q]=y.useState(!1),[R,H]=y.useState([]);y.useEffect(()=>{let D=!0;return(async()=>{var K,te;l(!0);try{let Y=[];if(r==="admin"){const Z=await Pa.listarMedicos();Y=Array.isArray(Z)?Z:[]}else{const Z=await Pa.getPerfil().catch(()=>null),oe=(Z==null?void 0:Z.id)||((K=Z==null?void 0:Z.secretaria)==null?void 0:K.id);if(oe&&(Y=await Pa.getMedicosDaSecretaria(String(oe))),!Array.isArray(Y)||Y.length===0){const pe=await Pa.listarMedicos();Y=Array.isArray(pe)?pe:[]}}if(!D)return;a(Array.isArray(Y)?Y:[]);const X=localStorage.getItem("secretaria.medicoId");if(X&&(Y==null?void 0:Y.some(Z=>{var oe;return String((Z==null?void 0:Z.id)||((oe=Z==null?void 0:Z.user)==null?void 0:oe.id))===String(X)})))i(X);else if(Array.isArray(Y)&&Y.length>0){const Z=Y.find(pe=>{var xe;return(pe==null?void 0:pe.id)||((xe=pe==null?void 0:pe.user)==null?void 0:xe.id)})||Y[0],oe=(Z==null?void 0:Z.id)||((te=Z==null?void 0:Z.user)==null?void 0:te.id);oe&&i(String(oe))}}catch(Y){console.error("Erro ao carregar mdicos:",Y)}finally{D&&l(!1)}})(),()=>{D=!1}},[]),y.useEffect(()=>{if(!s)return;let D=!0;return(async()=>{d(!0);try{const K=await Pa.listarConsultasHoje(s);if(!D)return;const te=Array.isArray(K)?K:[];h(te.map(Y=>aJ(Y))),localStorage.setItem("secretaria.medicoId",s)}catch(K){console.error("Erro ao carregar consultas:",K)}finally{D&&d(!1)}})(),()=>{D=!1}},[s]);const J=y.useMemo(()=>(Array.isArray(t)?t:[]).map(D=>{var Y;const K=(D==null?void 0:D.id)||((Y=D==null?void 0:D.user)==null?void 0:Y.id),te=rJ(D);return K?{value:String(K),label:te}:null}).filter(Boolean),[t]),T=y.useMemo(()=>{let D=f;if(p!=="todas"&&(D=D.filter(K=>K.status===p)),g.trim()){const K=g.toLowerCase();D=D.filter(te=>{var Y;return(Y=te.pacienteNome)==null?void 0:Y.toLowerCase().includes(K)})}return D},[f,p,g]),re=D=>{try{const K=new Date(D);if(!isNaN(K.getTime()))return K.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof D=="string"&&/^\d{2}:\d{2}/.test(D))return D.slice(0,5)}catch{}return"-"},z=(D,K)=>{h(te=>te.map(Y=>Y.id===D?{...Y,status:K}:Y))},G=async D=>{try{await Pa.confirmarConsulta(D.id),z(D.id,"Confirmada"),m({title:"Consulta confirmada",description:`Paciente ${D.pacienteNome} s ${re(D.dataHora)}`})}catch{m({title:"Erro",description:"No foi possvel confirmar a consulta.",variant:"destructive"})}},V=async D=>{try{await Pa.cancelarConsulta(D.id),z(D.id,"Cancelada"),m({title:"Consulta cancelada",description:`Paciente ${D.pacienteNome} s ${re(D.dataHora)}`})}catch{m({title:"Erro",description:"No foi possvel cancelar a consulta.",variant:"destructive"})}},ee=async D=>{if(D.preventDefault(),!Q.pacienteId||!Q.data||!Q.hora||!s){m({title:"Erro",description:"Preencha todos os campos obrigatrios.",variant:"destructive"});return}E(!0);try{if(await Pa.agendarConsulta({pacienteId:Q.pacienteId,medicoId:s,data:Q.data,hora:Q.hora,tipo:Q.tipo,motivo:Q.motivo,observacoes:Q.observacoes}),m({title:"Sucesso",description:"Consulta agendada com sucesso!"}),N(!1),U({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),L(""),H([]),s){const K=await Pa.listarConsultasHoje(s);h(Array.isArray(K)?K:[])}}catch{m({title:"Erro",description:"No foi possvel agendar a consulta.",variant:"destructive"})}finally{E(!1)}},ce=async D=>{if(!D.trim()){H([]);return}q(!0);try{const K=await Pa.buscarPacientes(D),te=Array.isArray(K)?K:[];H(te)}catch(K){console.error("Erro ao buscar pacientes:",K),H([])}finally{q(!1)}};y.useEffect(()=>{const D=setTimeout(()=>ce(F),300);return()=>clearTimeout(D)},[F]);const k=y.useMemo(()=>{const D=f.length,K=f.filter(X=>X.status==="Confirmada").length,te=f.filter(X=>X.status==="Agendada").length,Y=f.filter(X=>X.status==="Realizada").length;return{total:D,confirmadas:K,pendentes:te,realizadas:Y}},[f]);return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 p-8 text-white shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Dashboard Secretria"}),n.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie consultas e acompanhe a agenda dos mdicos."})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 min-w-fit",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(pr,{className:"h-5 w-5 text-blue-300"}),n.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Total"})]}),n.jsx("div",{className:"text-2xl font-bold",children:k.total})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(po,{className:"h-5 w-5 text-green-300"}),n.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Confirmadas"})]}),n.jsx("div",{className:"text-2xl font-bold text-green-300",children:k.confirmadas})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Tr,{className:"h-5 w-5 text-orange-300"}),n.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Pendentes"})]}),n.jsx("div",{className:"text-2xl font-bold text-orange-300",children:k.pendentes})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Bi,{className:"h-5 w-5 text-purple-300"}),n.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Realizadas"})]}),n.jsx("div",{className:"text-2xl font-bold text-purple-300",children:k.realizadas})]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[n.jsx(we,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30 backdrop-blur-sm transition-all duration-200",asChild:!0,children:n.jsxs(fr,{to:"/secretaria/pacientes",children:[n.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Ver Pacientes"]})}),n.jsxs(uA,{open:j,onOpenChange:N,children:[n.jsx(wF,{asChild:!0,children:n.jsxs(we,{className:"bg-white text-blue-600 hover:bg-blue-50 transition-all duration-200",children:[n.jsx(V0,{className:"h-4 w-4 mr-2"}),"Agendar Consulta"]})}),n.jsxs(dc,{children:[n.jsx(uc,{children:n.jsx(fc,{children:"Novo agendamento"})}),n.jsxs("form",{onSubmit:ee,className:"px-6 pb-4 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Mdico"}),n.jsxs(Wr,{value:s??void 0,onValueChange:i,children:[n.jsx(Kr,{children:n.jsx(Gr,{placeholder:"Escolha um mdico"})}),n.jsx(zr,{children:J.map(D=>n.jsx(at,{value:D.value,children:D.label},D.value))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Tipo"}),n.jsxs(Wr,{value:Q.tipo,onValueChange:D=>U(K=>({...K,tipo:D})),children:[n.jsx(Kr,{children:n.jsx(Gr,{})}),n.jsxs(zr,{children:[n.jsx(at,{value:"primeira",children:"Primeira consulta"}),n.jsx(at,{value:"retorno",children:"Retorno"}),n.jsx(at,{value:"urgencia",children:"Urgncia"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),n.jsx(ms,{value:Q.data,onChange:D=>U(K=>({...K,data:D})),minDate:new Date})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Hora"}),n.jsx(He,{type:"time",value:Q.hora,onChange:D=>U(K=>({...K,hora:D.target.value}))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Paciente"}),n.jsx(He,{placeholder:"Digite o nome do paciente...",value:F,onChange:D=>L(D.target.value)}),_&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Buscando..."}),n.jsx("div",{className:"mt-2 border rounded-md max-h-40 overflow-y-auto",children:_?n.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Buscando..."}):R.length===0?F&&F.trim()?n.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Nenhum paciente encontrado"}):null:R.map(D=>{var Y,X,O,Z;const K=(D==null?void 0:D.id)||((Y=D==null?void 0:D.user)==null?void 0:Y.id)||((X=D==null?void 0:D.paciente)==null?void 0:X.id),te=(D==null?void 0:D.nome)||(D!=null&&D.user?`${D.user.first_name||""} ${D.user.last_name||""}`.trim():(O=D==null?void 0:D.paciente)!=null&&O.user?`${D.paciente.user.first_name||""} ${D.paciente.user.last_name||""}`.trim():((Z=D==null?void 0:D.user)==null?void 0:Z.username)||"Paciente");return n.jsxs("div",{className:"p-2 hover:bg-muted cursor-pointer text-sm flex justify-between",onClick:()=>{K&&U(oe=>({...oe,pacienteId:K})),L(te),H([])},children:[n.jsx("span",{children:te}),(D==null?void 0:D.cpf)&&n.jsx("span",{className:"text-muted-foreground",children:D.cpf})]},String(K||Math.random()))})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Motivo"}),n.jsx(He,{placeholder:"Motivo da consulta",value:Q.motivo,onChange:D=>U(K=>({...K,motivo:D.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Observaes"}),n.jsx(ua,{placeholder:"Observaes adicionais",value:Q.observacoes,onChange:D=>U(K=>({...K,observacoes:D.target.value}))})]}),n.jsxs(fA,{children:[n.jsx(we,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Cancelar"}),n.jsx(we,{type:"submit",disabled:C,children:C?"Agendando...":"Agendar"})]})]})]})]})]})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ye,{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"Total Consultas"}),n.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:n.jsx(pr,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:k.total}),n.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"Consultas hoje"})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ye,{className:"text-sm font-semibold text-green-700 dark:text-green-300",children:"Confirmadas"}),n.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:n.jsx(po,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:k.confirmadas}),n.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"Consultas confirmadas"})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950/50 dark:to-orange-900/50",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ye,{className:"text-sm font-semibold text-orange-700 dark:text-orange-300",children:"Pendentes"}),n.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:n.jsx(Tr,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-orange-900 dark:text-orange-100",children:k.pendentes}),n.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:"Aguardando confirmao"})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ye,{className:"text-sm font-semibold text-purple-700 dark:text-purple-300",children:"Realizadas"}),n.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:n.jsx(Bi,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:k.realizadas}),n.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"Consultas finalizadas"})]})]})]}),n.jsxs(ke,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[n.jsx(ze,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(qr,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Ye,{className:"text-slate-800",children:"Selecione o mdico"}),n.jsx(mr,{className:"text-slate-600",children:"Visualize rapidamente as consultas de hoje do mdico selecionado."})]})]})}),n.jsx(Le,{className:"p-6",children:o?n.jsx(Nr,{className:"h-10 w-72"}):n.jsx("div",{className:"w-72",children:n.jsxs(Wr,{value:s??void 0,onValueChange:D=>i(D),children:[n.jsx(Kr,{className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:n.jsx(Gr,{placeholder:J.length?"Escolha um mdico":"Nenhum mdico disponvel"})}),n.jsx(zr,{children:J.length===0?n.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Nenhum mdico disponvel"}):J.map(D=>n.jsx(at,{value:D.value,children:D.label},D.value))})]})})})]}),n.jsxs(ke,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[n.jsx(ze,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:n.jsx("div",{className:"flex items-center justify-between gap-3",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(pr,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Ye,{className:"text-slate-800",children:"Consultas de hoje"}),n.jsx(mr,{className:"text-slate-600",children:A?"Carregando...":`${T.length} consulta(s) encontrada(s)`})]})]})})}),n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700",children:[n.jsx("div",{className:"flex-1",children:n.jsx(He,{placeholder:"Buscar por paciente...",value:g,onChange:D=>w(D.target.value),className:"max-w-sm bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700"})}),n.jsxs(Wr,{value:p,onValueChange:x,children:[n.jsx(Kr,{className:"w-48 bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:n.jsx(Gr,{})}),n.jsxs(zr,{children:[n.jsx(at,{value:"todas",children:"Todas"}),n.jsx(at,{value:"Agendada",children:"Agendadas"}),n.jsx(at,{value:"Confirmada",children:"Confirmadas"}),n.jsx(at,{value:"Realizada",children:"Realizadas"}),n.jsx(at,{value:"Cancelada",children:"Canceladas"})]})]})]}),A?n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((D,K)=>n.jsx(Nr,{className:"h-16 w-full"},K))}):T.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:n.jsx(pr,{className:"h-8 w-8 text-slate-400"})}),n.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Nenhuma consulta encontrada"}),n.jsx("p",{className:"text-slate-500 text-sm",children:s?"No h consultas para o mdico selecionado hoje":"Selecione um mdico para ver as consultas"})]}):n.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:n.jsxs(zo,{children:[n.jsx(Vo,{children:n.jsxs(nn,{className:"bg-slate-50 hover:bg-slate-50",children:[n.jsx(vr,{className:"font-semibold text-slate-700",children:"Horrio"}),n.jsx(vr,{className:"font-semibold text-slate-700",children:"Paciente"}),n.jsx(vr,{className:"font-semibold text-slate-700",children:"Tipo"}),n.jsx(vr,{className:"font-semibold text-slate-700",children:"Status"}),n.jsx(vr,{className:"font-semibold text-slate-700",children:"Aes"})]})}),n.jsx(qo,{children:T.map(D=>(D.status,["Agendada","Confirmada"].includes(D.status),D.status,n.jsxs(nn,{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 border-b border-slate-100",children:[n.jsx(dr,{className:"font-medium text-slate-900",children:(()=>{if(!(D!=null&&D.dataHora))return"";try{const K=new Date(D.dataHora);if(!isNaN(K.getTime()))return K.toLocaleString([],{dateStyle:"short",timeStyle:"short"});const te=String(D.dataHora).match(/^(\d{4}-\d{2}-\d{2})T(\d{2}:\d{2})/);if(te)return`${te[1]} ${te[2]}`}catch{}return String(D.dataHora)})()}),n.jsx(dr,{className:"text-slate-700",children:D.pacienteNome}),n.jsx(dr,{className:"text-slate-600",children:D.tipo||"Consulta"}),n.jsx(dr,{children:n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${D.status==="Confirmada"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":D.status==="Agendada"?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400":D.status==="Realizada"?"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:D.status})}),n.jsx(dr,{children:n.jsxs("div",{className:"flex gap-2",children:[D.status==="Agendada"&&n.jsxs(we,{size:"sm",variant:"outline",onClick:()=>G(D),className:"bg-green-50 border-green-200 text-green-700 hover:bg-green-100",children:[n.jsx(po,{className:"h-4 w-4 mr-1"})," Confirmar"]}),["Agendada","Confirmada"].includes(D.status)&&n.jsxs(we,{size:"sm",variant:"outline",onClick:()=>V(D),className:"bg-red-50 border-red-200 text-red-700 hover:bg-red-100",children:[n.jsx(fs,{className:"h-4 w-4 mr-1"})," Cancelar"]})]})})]},D.id)))})]})})]})]})]})}function sJ(e={}){var i,o,l;const r=e.paciente_nome||((i=e==null?void 0:e.paciente)==null?void 0:i.nome)||((o=e==null?void 0:e.paciente)!=null&&o.user?[e.paciente.user.first_name,e.paciente.user.last_name].filter(Boolean).join(" "):null)||"Paciente",t=e.data_hora||e.horario||e.inicio||e.data||e.start_time||"",a=e.status||"Agendada",s=e.clinica_nome||((l=e==null?void 0:e.clinica)==null?void 0:l.nome)||e.local||"";return{id:e.id||e.consulta_id||Math.random().toString(36).slice(2),pacienteNome:r,dataHora:t,status:a,clinica:s,tipo:e.tipo||e.modalidade||"Consulta"}}function iJ(){const[e,r]=y.useState([]),[t,a]=y.useState(""),[s,i]=y.useState(""),[o,l]=y.useState(""),[A,d]=y.useState(!1),[f,h]=y.useState([]);y.useEffect(()=>{let x=!0;return(async()=>{try{const g=await Pa.listarMedicos();if(!x)return;r(Array.isArray(g)?g:[]);const w=localStorage.getItem("secretaria.medicoId");w&&a(String(w))}catch{}})(),()=>{x=!1}},[]);const m=async()=>{if(!t)return h([]);d(!0);try{localStorage.setItem("secretaria.medicoId",String(t));const x={};o&&(x.date=o);const g=await nr.getConsultasDoMedico({...x,medico:t}),j=(Array.isArray(g)?g:Array.isArray(g==null?void 0:g.results)?g.results:[]).map(sJ);h(s?j.filter(N=>N.pacienteNome.toLowerCase().includes(s.toLowerCase())):j)}catch{h([])}finally{d(!1)}};y.useEffect(()=>{m()},[t]);const p=y.useMemo(()=>e.map(x=>{var g;return{value:String(x.id),label:x.nome||((g=x==null?void 0:x.user)==null?void 0:g.first_name)||`Mdico #${x.id}`}}),[e]);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(pr,{className:"h-5 w-5 text-primary"}),n.jsx("h1",{className:"text-2xl font-semibold",children:"Consultas"})]}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(qr,{className:"h-5 w-5"})," Filtros"]})}),n.jsx(Le,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Mdico"}),n.jsxs(Wr,{value:t||void 0,onValueChange:x=>a(x),children:[n.jsx(Kr,{children:n.jsx(Gr,{placeholder:"Escolha um mdico"})}),n.jsx(zr,{children:p.map(x=>n.jsx(at,{value:x.value,children:x.label},x.value))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),n.jsx(ms,{value:o,onChange:l})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar por paciente"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(He,{placeholder:"Nome do paciente",value:s,onChange:x=>i(x.target.value)}),n.jsxs(we,{onClick:m,children:[n.jsx(js,{className:"h-4 w-4 mr-2"}),"Buscar"]})]})]})]})})]}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Resultados"})}),n.jsx(Le,{children:A?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):f.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma consulta encontrada."}):n.jsxs(zo,{children:[n.jsx(Vo,{children:n.jsxs(nn,{children:[n.jsx(vr,{children:"Paciente"}),n.jsx(vr,{children:"Data/Hora"}),n.jsx(vr,{children:"Tipo"}),n.jsx(vr,{children:"Status"}),n.jsx(vr,{children:"Clnica"})]})}),n.jsx(qo,{children:f.map(x=>n.jsxs(nn,{children:[n.jsx(dr,{children:x.pacienteNome}),n.jsx(dr,{children:x.dataHora||""}),n.jsx(dr,{children:x.tipo}),n.jsx(dr,{children:x.status}),n.jsx(dr,{children:x.clinica})]},x.id))})]})})]})]})}function r5(e={}){const r=(e==null?void 0:e.user)||{};return(e==null?void 0:e.nome)||[r.first_name,r.last_name].filter(Boolean).join(" ")||r.username||`Paciente #${(e==null?void 0:e.id)||"?"}`}function oJ(){const[e,r]=y.useState([]),[t,a]=y.useState(""),[s,i]=y.useState(""),[o,l]=y.useState(!1),[A,d]=y.useState([]),{toast:f}=Ga(),[h,m]=y.useState(!1),[p,x]=y.useState(!1),[g,w]=y.useState({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""}),j=U=>{const F=String(U||"").replace(/\D/g,"").slice(0,11),L=F.slice(0,3),_=F.slice(3,6),q=F.slice(6,9),R=F.slice(9,11);return F.length>9?`${L}.${_}.${q}-${R}`:F.length>6?`${L}.${_}.${q}`:F.length>3?`${L}.${_}`:L},N=U=>{const{name:F,value:L}=U.target;if(F==="cpf")return w(_=>({..._,cpf:j(L)}));w(_=>({..._,[F]:L}))};y.useEffect(()=>{let U=!0;return(async()=>{try{const F=await Pa.listarMedicos();if(!U)return;r(Array.isArray(F)?F:[]);const L=localStorage.getItem("secretaria.medicoId");L&&a(String(L))}catch{}})(),()=>{U=!1}},[]);const C=async()=>{if(!t)return d([]);l(!0);try{const U=await nr.getPacientesVinculados(t),F=Array.isArray(U)?U:Array.isArray(U==null?void 0:U.results)?U.results:[];d(F)}catch{d([])}finally{l(!1)}};y.useEffect(()=>{C()},[t]);const E=y.useMemo(()=>A.filter(U=>r5(U).toLowerCase().includes(s.toLowerCase())),[A,s]),Q=async U=>{var F,L;if((F=U==null?void 0:U.preventDefault)==null||F.call(U),!g.nome||!g.email||!g.senha||!g.confirmSenha){f({title:"Campos obrigatrios",description:"Preencha nome, email e senha.",variant:"destructive"});return}if(g.senha!==g.confirmSenha){f({title:"Senhas no conferem",description:"A confirmao deve ser igual  senha.",variant:"destructive"});return}x(!0);try{await Pa.registrarPaciente(g),f({title:"Paciente cadastrado",description:"O paciente foi criado com sucesso. Ele aparecer na lista do mdico aps o primeiro vnculo (ex.: agendamento de consulta)."}),m(!1),w({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""})}catch(_){const q=(L=_==null?void 0:_.response)!=null&&L.data?JSON.stringify(_.response.data):(_==null?void 0:_.message)||"Falha ao cadastrar";f({title:"Erro ao cadastrar",description:q,variant:"destructive"})}finally{x(!1)}};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Yn,{className:"h-5 w-5 text-primary"}),n.jsx("h1",{className:"text-2xl font-semibold",children:"Pacientes"})]}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"flex items-center gap-2 justify-between",children:[n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(js,{className:"h-5 w-5"})," Filtros"]}),n.jsxs(uA,{open:h,onOpenChange:m,children:[n.jsx(wF,{asChild:!0,children:n.jsxs("button",{className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[n.jsx(mu,{className:"h-4 w-4 mr-2"})," Cadastrar Paciente"]})}),n.jsxs(dc,{className:"max-w-lg",children:[n.jsxs(uc,{children:[n.jsx(fc,{children:"Novo Paciente"}),n.jsx(Om,{children:"Preencha os dados bsicos para criar a conta do paciente."})]}),n.jsxs("form",{className:"space-y-3",onSubmit:Q,children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Nome completo"}),n.jsx(He,{name:"nome",value:g.nome,onChange:N,placeholder:"Ex.: Maria Silva"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"E-mail"}),n.jsx(He,{name:"email",value:g.email,onChange:N,type:"email",placeholder:"email@exemplo.com"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"CPF"}),n.jsx(He,{name:"cpf",value:g.cpf,onChange:N,placeholder:"000.000.000-00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Telefone"}),n.jsx(He,{name:"telefone",value:g.telefone,onChange:N,placeholder:"(00) 00000-0000"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Data de nascimento"}),n.jsx(ms,{name:"data_nascimento",value:g.data_nascimento,onChange:U=>N({target:{name:"data_nascimento",value:U}}),maxDate:new Date})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Endereo"}),n.jsx(He,{name:"endereco",value:g.endereco,onChange:N,placeholder:"Rua, nmero, bairro"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Senha"}),n.jsx(He,{name:"senha",type:"password",value:g.senha,onChange:N})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Confirmar senha"}),n.jsx(He,{name:"confirmSenha",type:"password",value:g.confirmSenha,onChange:N})]})]}),n.jsxs(fA,{children:[n.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-3 py-2 rounded-md text-sm border mr-2",children:"Cancelar"}),n.jsx("button",{type:"submit",disabled:p,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 disabled:opacity-50",children:p?"Salvando...":"Criar"})]})]})]})]})]})}),n.jsx(Le,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Mdico"}),n.jsxs(Wr,{value:t||void 0,onValueChange:U=>{a(U);try{localStorage.setItem("secretaria.medicoId",String(U))}catch{}},children:[n.jsx(Kr,{children:n.jsx(Gr,{placeholder:"Escolha um mdico"})}),n.jsx(zr,{children:e.map(U=>{var L,_;const F=(U==null?void 0:U.nome)||[(L=U==null?void 0:U.user)==null?void 0:L.first_name,(_=U==null?void 0:U.user)==null?void 0:_.last_name].filter(Boolean).join(" ")||`Mdico #${U==null?void 0:U.id}`;return n.jsx(at,{value:String(U.id),children:F},U.id)})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar"}),n.jsx(He,{placeholder:"Nome do paciente",value:s,onChange:U=>i(U.target.value)})]}),n.jsx("div",{className:"flex items-end gap-2",children:n.jsxs("button",{onClick:C,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[n.jsx(qr,{className:"h-4 w-4 mr-2"})," Buscar"]})})]})})]}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Lista"})}),n.jsx(Le,{children:o?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):E.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum paciente encontrado."}):n.jsxs(zo,{children:[n.jsx(Vo,{children:n.jsxs(nn,{children:[n.jsx(vr,{children:"Nome"}),n.jsx(vr,{children:"Contato"})]})}),n.jsx(qo,{children:E.map(U=>{var F,L;return n.jsxs(nn,{children:[n.jsx(dr,{children:r5(U)}),n.jsxs(dr,{className:"text-sm text-muted-foreground",children:[n.jsxs("div",{children:[n.jsx(rA,{className:"inline h-4 w-4 mr-1"})," ",((F=U==null?void 0:U.user)==null?void 0:F.phone)||""]}),n.jsxs("div",{children:[n.jsx(wl,{className:"inline h-4 w-4 mr-1"})," ",((L=U==null?void 0:U.user)==null?void 0:L.email)||""]})]})]},U.id)})})]})})]})]})}function a5(e){const r=(e==null?void 0:e.user)||{};return(e==null?void 0:e.nome)||[r.first_name,r.last_name].filter(Boolean).join(" ")||r.username||`Mdico #${(e==null?void 0:e.id)||"?"}`}function lJ(){const[e,r]=y.useState(""),[t,a]=y.useState([]),[s,i]=y.useState(!0);y.useEffect(()=>{let l=!0;return(async()=>{i(!0);try{const A=await Pa.listarMedicos();if(!l)return;a(Array.isArray(A)?A:[])}finally{l&&i(!1)}})(),()=>{l=!1}},[]);const o=y.useMemo(()=>t.filter(l=>a5(l).toLowerCase().includes(e.toLowerCase())),[t,e]);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(qr,{className:"h-5 w-5 text-primary"}),n.jsx("h1",{className:"text-2xl font-semibold",children:"Mdicos"})]}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(js,{className:"h-5 w-5"})," Buscar"]})}),n.jsx(Le,{children:n.jsx(He,{placeholder:"Digite o nome do mdico",value:e,onChange:l=>r(l.target.value)})})]}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Resultados"})}),n.jsx(Le,{children:s?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):o.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum mdico encontrado."}):n.jsxs(zo,{children:[n.jsx(Vo,{children:n.jsxs(nn,{children:[n.jsx(vr,{children:"Nome"}),n.jsx(vr,{children:"CRM"}),n.jsx(vr,{children:"Especialidade"}),n.jsx(vr,{children:"Contato"})]})}),n.jsx(qo,{children:o.map(l=>{var A,d;return n.jsxs(nn,{children:[n.jsxs(dr,{className:"font-medium flex items-center gap-2",children:[n.jsx(Hn,{className:"h-4 w-4"})," ",a5(l)]}),n.jsx(dr,{children:l.crm||""}),n.jsx(dr,{children:l.especialidade||""}),n.jsxs(dr,{className:"text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rA,{className:"h-4 w-4"})," ",l.telefone||((A=l==null?void 0:l.user)==null?void 0:A.phone)||""]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wl,{className:"h-4 w-4"})," ",((d=l==null?void 0:l.user)==null?void 0:d.email)||""]})]})]},l.id)})})]})})]})]})}const cJ={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},AJ=(e,r,t)=>{let a;const s=cJ[e];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",String(r)),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"em "+a:"h "+a:a},dJ={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},uJ={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},fJ={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hJ={date:Ef({formats:dJ,defaultWidth:"full"}),time:Ef({formats:uJ,defaultWidth:"full"}),dateTime:Ef({formats:fJ,defaultWidth:"full"})},mJ={lastWeek:e=>{const r=e.getDay();return"'"+(r===0||r===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},pJ=(e,r,t,a)=>{const s=mJ[e];return typeof s=="function"?s(r):s},gJ={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},xJ={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},vJ={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},wJ={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},yJ={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},bJ={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},jJ=(e,r)=>{const t=Number(e);return(r==null?void 0:r.unit)==="week"?t+"":t+""},NJ={ordinalNumber:jJ,era:Yl({values:gJ,defaultWidth:"wide"}),quarter:Yl({values:xJ,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Yl({values:vJ,defaultWidth:"wide"}),day:Yl({values:wJ,defaultWidth:"wide"}),dayPeriod:Yl({values:yJ,defaultWidth:"wide",formattingValues:bJ,defaultFormattingWidth:"wide"})},BJ=/^(\d+)[o]?/i,CJ=/\d+/i,SJ={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},_J={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},EJ={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},FJ={any:[/1/i,/2/i,/3/i,/4/i]},kJ={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},DJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},UJ={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},LJ={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},IJ={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},PJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},QJ={ordinalNumber:XE({matchPattern:BJ,parsePattern:CJ,valueCallback:e=>parseInt(e,10)}),era:Xl({matchPatterns:SJ,defaultMatchWidth:"wide",parsePatterns:_J,defaultParseWidth:"any"}),quarter:Xl({matchPatterns:EJ,defaultMatchWidth:"wide",parsePatterns:FJ,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Xl({matchPatterns:kJ,defaultMatchWidth:"wide",parsePatterns:DJ,defaultParseWidth:"any"}),day:Xl({matchPatterns:UJ,defaultMatchWidth:"wide",parsePatterns:LJ,defaultParseWidth:"any"}),dayPeriod:Xl({matchPatterns:IJ,defaultMatchWidth:"any",parsePatterns:PJ,defaultParseWidth:"any"})},n5={code:"pt-BR",formatDistance:AJ,formatLong:hJ,formatRelative:pJ,localize:NJ,match:QJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function RJ(e=8,r=18){const t=[];for(let a=e;a<r;a++){const s=String(a).padStart(2,"0")+":00";t.push(s)}return t}function s5(e){const r=[e.hora,e.horario,e.data_hora,e.inicio,e.start_time];for(const t of r)if(t){if(typeof t=="string"){const a=t.match(/(\d{2}):(\d{2})/);if(a)return`${a[1]}:${a[2]}`;const s=t.match(/T(\d{2}):(\d{2})/);if(s)return`${s[1]}:${s[2]}`}if(t instanceof Date){const a=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0");return`${a}:${s}`}}return null}function i5(e){var r,t,a;return(e==null?void 0:e.paciente_nome)||((r=e==null?void 0:e.paciente)==null?void 0:r.nome)||((t=e==null?void 0:e.paciente)==null?void 0:t.fullName)||((a=e==null?void 0:e.paciente)==null?void 0:a.name)||(e==null?void 0:e.nome_paciente)||"(Paciente)"}function GA(e){return(e==null?void 0:e.id)||(e==null?void 0:e.consulta_id)||(e==null?void 0:e.agendamento_id)||(e==null?void 0:e.pk)||null}function P0(e){const r=String(e||"").toLowerCase();return r?r.includes("cancel")?"cancelada":r.includes("confirm")?"confirmada":r.includes("realiz")||r.includes("conclu")?"realizada":r.includes("andamento")||r.includes("em_andamento")?"em_andamento":r.includes("agend")?"aguardando":r:"aguardando"}function TJ(e){const r=P0(e);return{label:r==="confirmada"?"Confirmada":r==="cancelada"?"Cancelada":r==="realizada"?"Realizada":r==="em_andamento"?"Em andamento":"Aguardando",variant:r==="confirmada"?"success":r==="cancelada"?"destructive":r==="realizada"?"info":r==="em_andamento"?"warning":"outline"}}function MJ(e){const r=P0(e);return r==="confirmada"?"bg-green-50":r==="cancelada"?"bg-red-50":r==="realizada"?"bg-blue-50":r==="em_andamento"?"bg-yellow-50":""}function OJ(){const[e,r]=y.useState([]),[t,a]=y.useState(""),[s,i]=y.useState(new Date),[o,l]=y.useState([]),[A,d]=y.useState(!1),[f,h]=y.useState(!1),[m,p]=y.useState(null),[x,g]=y.useState(""),[w,j]=y.useState([]),[N,C]=y.useState(null),[E,Q]=y.useState(""),[U,F]=y.useState(!1),[L,_]=y.useState(null),[q,R]=y.useState(()=>parseInt(localStorage.getItem("secretaria.agenda.inicio")||"8",10)),[H,J]=y.useState(()=>parseInt(localStorage.getItem("secretaria.agenda.fim")||"18",10)),T=y.useMemo(()=>RJ(q,H),[q,H]);y.useEffect(()=>{async function Y(){try{const X=await Pa.listarMedicos();r(X||[]),!t&&(X!=null&&X.length)&&a(String(X[0].id||X[0].medico_id))}catch(X){console.error("Erro ao listar mdicos",X)}}Y()},[]),y.useEffect(()=>{async function Y(){if(!(!t||!s)){d(!0);try{const X=ed(s,"yyyy-MM-dd"),O=await nr.getConsultasDoMedico(t,{date:X}),Z=Array.isArray(O)?O:Array.isArray(O==null?void 0:O.results)?O.results:(O==null?void 0:O.consultas)||[];l(Z||[])}catch(X){console.error("Erro ao buscar consultas",X)}finally{d(!1)}}}Y()},[t,s]);const re=y.useMemo(()=>{const Y=new Map;for(const X of o){const O=s5(X);O&&Y.set(O,X)}return Y},[o]);async function z(Y){F(!1),_(null),p(Y),h(!0),g(""),j([]),C(null),Q("")}async function G(Y){var oe,pe,xe,_e;const X=re.get(Y);if(!X)return;F(!0),_(X),p(Y),h(!0);const O=(X==null?void 0:X.paciente_id)||((oe=X==null?void 0:X.paciente)==null?void 0:oe.id),Z=(X==null?void 0:X.paciente_nome)||((pe=X==null?void 0:X.paciente)==null?void 0:pe.nome)||((xe=X==null?void 0:X.paciente)==null?void 0:xe.fullName)||((_e=X==null?void 0:X.paciente)==null?void 0:_e.name);(O||Z)&&C({id:O,nome:Z}),Q((X==null?void 0:X.observacoes)||(X==null?void 0:X.notes)||"")}async function V(Y){if(g(Y),!Y||Y.length<2){j([]);return}try{const X=await Pa.buscarPacientes(Y);j(X||[])}catch(X){console.error("Erro ao buscar pacientes",X)}}async function ee(){if(U){const Y=GA(L);if(!Y){alert("Consulta sem ID vlido para edio.");return}try{const X={};N!=null&&N.id&&(X.pacienteId=N.id),E&&(X.observacoes=E),await Pa.atualizarConsulta(Y,X),l(O=>O.map(Z=>GA(Z)===Y?{...Z,paciente_id:(N==null?void 0:N.id)||Z.paciente_id,paciente_nome:(N==null?void 0:N.nome)||i5(Z),observacoes:E}:Z)),h(!1),F(!1),_(null)}catch(X){console.error("Erro ao editar consulta",X),alert("Falha ao editar consulta.")}return}if(!(!N||!m||!t)){if(re.has(m)){alert("Horrio j ocupado. Escolha outro horrio.");return}try{const Y=ed(s,"yyyy-MM-dd");try{const X=await Pa.getConsultasDoMedico(t,{date:Y});if(((Array.isArray(X)?X:Array.isArray(X==null?void 0:X.results)?X.results:(X==null?void 0:X.consultas)||[])||[]).some(oe=>s5(oe)===m)){alert("Horrio indisponvel no servidor. Selecione outro horrio.");return}}catch{}await Pa.agendarConsulta({pacienteId:N.id||N.paciente_id,medicoId:t,data:Y,hora:m,tipo:"rotina",motivo:"Agendado pela secretria",observacoes:E}),l(X=>[...X,{hora:m,paciente_nome:N.nome||N.fullName||N.name||"Paciente",status:"Confirmada"}]),h(!1)}catch(Y){console.error("Erro ao agendar",Y),alert("Falha ao agendar. Verifique disponibilidade ou tente novamente.")}}}async function ce(Y){const X=re.get(Y);if(!X)return;const O=GA(X);if(O)try{await Pa.confirmarConsulta(O),l(Z=>Z.map(oe=>GA(oe)===O?{...oe,status:"Confirmada"}:oe))}catch(Z){console.error("Erro ao confirmar",Z),alert("No foi possvel confirmar a consulta.")}}async function k(Y){const X=re.get(Y);if(!X)return;const O=GA(X);if(!O)return;const Z=window.prompt("Motivo do cancelamento:","Cancelado pela secretria");try{await Pa.cancelarConsulta(O,Z||""),l(oe=>oe.map(pe=>GA(pe)===O?{...pe,status:"Cancelada"}:pe))}catch(oe){console.error("Erro ao cancelar",oe),alert("No foi possvel cancelar a consulta.")}}async function D(Y){const X=re.get(Y);if(!X)return;const O=GA(X);if(O)try{await Pa.registrarPresenca(O),l(Z=>Z.map(oe=>GA(oe)===O?{...oe,status:"Realizada"}:oe))}catch(Z){console.error("Erro ao marcar presena",Z),alert("No foi possvel marcar presena.")}}function K(){const Y=ed(s,"LLLL",{locale:n5}),X=ed(s,"EEEE",{locale:n5}),O=ed(s,"d");return`${Y.charAt(0).toUpperCase()+Y.slice(1)}  ${X.charAt(0).toUpperCase()+X.slice(1)}  ${O}`}const te=Array.from({length:17},(Y,X)=>X+6);return n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Agenda diria"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:K()})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsx("div",{className:"w-52",children:n.jsx(ms,{date:s,onChange:i})}),n.jsxs(Wr,{value:t,onValueChange:Y=>a(String(Y)),children:[n.jsx(Kr,{className:"min-w-[220px]",children:n.jsx(Gr,{placeholder:"Selecione o mdico"})}),n.jsx(zr,{children:e.map(Y=>n.jsx(at,{value:String(Y.id||Y.medico_id),children:Y.nome||Y.fullName||Y.name},Y.id||Y.medico_id))})]}),n.jsxs(Wr,{value:String(q),onValueChange:Y=>{R(Number(Y)),localStorage.setItem("secretaria.agenda.inicio",String(Y))},children:[n.jsx(Kr,{className:"w-24",children:n.jsx(Gr,{placeholder:"Incio"})}),n.jsx(zr,{children:te.map(Y=>n.jsxs(at,{value:String(Y),children:[String(Y).padStart(2,"0"),":00"]},`inicio-${Y}`))})]}),n.jsxs(Wr,{value:String(H),onValueChange:Y=>{J(Number(Y)),localStorage.setItem("secretaria.agenda.fim",String(Y))},children:[n.jsx(Kr,{className:"w-24",children:n.jsx(Gr,{placeholder:"Fim"})}),n.jsx(zr,{children:te.map(Y=>n.jsxs(at,{value:String(Y),children:[String(Y).padStart(2,"0"),":00"]},`fim-${Y}`))})]}),n.jsx(we,{variant:"secondary",onClick:()=>{i(new Date(s))},children:"Atualizar"})]}),n.jsx(ke,{className:"p-0 overflow-hidden",children:n.jsx("div",{className:"divide-y",children:T.map(Y=>{const X=re.get(Y),O=X?i5(X):null,Z=X?TJ(X==null?void 0:X.status):null,oe=X?MJ(X==null?void 0:X.status):"";return n.jsxs("div",{className:`flex items-center justify-between px-4 py-3 hover:bg-muted/40 ${oe}`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-16 text-sm font-medium",children:Y}),n.jsx("div",{className:"text-sm flex items-center gap-2",children:O?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:O}),Z&&n.jsx(lr,{variant:Z.variant,className:"text-xs",children:Z.label})]}):n.jsx("span",{className:"text-muted-foreground",children:"(vago)"})})]}),n.jsx("div",{className:"flex items-center gap-2",children:O?n.jsxs(n.Fragment,{children:[n.jsx(we,{size:"sm",variant:"outline",onClick:()=>ce(Y),disabled:P0(X==null?void 0:X.status)==="confirmada",children:"Confirmar"}),n.jsx(we,{size:"sm",variant:"outline",onClick:()=>D(Y),disabled:P0(X==null?void 0:X.status)==="cancelada",children:"Presena"}),n.jsx(we,{size:"sm",variant:"outline",onClick:()=>G(Y),children:"Editar"}),n.jsx(we,{size:"sm",variant:"destructive",onClick:()=>k(Y),children:"Cancelar"})]}):n.jsx(we,{size:"sm",onClick:()=>z(Y),children:"Agendar"})})]},Y)})})}),n.jsx(uA,{open:f,onOpenChange:h,children:n.jsxs(dc,{children:[n.jsx(uc,{children:n.jsx(fc,{children:U?`Editar ${m}`:`Agendar ${m}`})}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(He,{placeholder:"Buscar paciente pelo nome",value:x,onChange:Y=>V(Y.target.value)}),n.jsxs("div",{className:"max-h-48 overflow-auto border rounded",children:[(w||[]).map(Y=>n.jsx("div",{className:`px-3 py-2 cursor-pointer hover:bg-muted ${((N==null?void 0:N.id)||(N==null?void 0:N.paciente_id))===(Y.id||Y.paciente_id)?"bg-muted":""}`,onClick:()=>C(Y),children:Y.nome||Y.fullName||Y.name},Y.id||Y.paciente_id)),(!w||w.length===0)&&n.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:"Digite ao menos 2 letras para buscar"})]}),n.jsx(He,{placeholder:"Observaes (opcional)",value:E,onChange:Y=>Q(Y.target.value)})]}),n.jsxs(fA,{children:[n.jsx(we,{variant:"outline",onClick:()=>h(!1),children:"Cancelar"}),n.jsx(we,{onClick:ee,disabled:!U&&!N,children:U?"Salvar":"Confirmar"})]})]})}),A&&n.jsx("div",{className:"text-sm text-muted-foreground",children:"Carregando consultas"})]})}function HJ(){const{toast:e}=Ga(),r=ss(),t=ns(),[a,s]=y.useState(!1),[i,o]=y.useState("ready"),[l,A]=y.useState(null),[d,f]=y.useState(!1),h=y.useMemo(()=>{const j=new URL(window.location.href);return{id:j.searchParams.get("id")||j.searchParams.get("receita")||j.searchParams.get("receita_id"),token:j.searchParams.get("token")||j.searchParams.get("t"),url:j.searchParams.get("url")||j.searchParams.get("download")||j.searchParams.get("arquivo")||null,email:j.searchParams.get("email")||null}},[t.search]),m=j=>{try{const N=j.replace(/\?.*$/,"");return N.toLowerCase().endsWith(".pdf")?N:`${N}.pdf`}catch{return"Receita.pdf"}},p=(j,N)=>{const C=document.createElement("a"),E=URL.createObjectURL(j);C.href=E,C.download=decodeURIComponent(N),document.body.appendChild(C),C.click(),C.remove(),setTimeout(()=>URL.revokeObjectURL(E),2e3)},x=async j=>{var C;let N=j;if(!N)return!1;try{/^https?:\/\//i.test(N)||(N=`${"http://127.0.0.1:8000".replace(/\/$/,"")}${N.startsWith("/")?"":"/"}${N}`);const E=await ye.get(N,{responseType:"blob",baseURL:""}),Q=new Blob([E.data],{type:E.headers["content-type"]||"application/pdf"}),U=E.headers["content-disposition"]||"",F=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(U);let L=(F==null?void 0:F[1])||(F==null?void 0:F[2])||"Receita.pdf";return L=m(L),p(Q,L),!0}catch(E){return console.warn("[ReceberReceita] download direto falhou:",((C=E==null?void 0:E.response)==null?void 0:C.status)||E),!1}},g=async j=>{var N;if(!j)return!1;try{const C=await ha.getReceitas({__propagateErrors:!0}),Q=(Array.isArray(C)?C:Array.isArray(C==null?void 0:C.results)?C.results:[]).find(F=>String(F.id||F.pk||F.uuid)===String(j)),U=(Q==null?void 0:Q.arquivo_assinado)||(Q==null?void 0:Q.pdf)||(Q==null?void 0:Q.documento)||null;return U?await x(U):!1}catch(C){return console.warn("[ReceberReceita] busca por ID falhou:",((N=C==null?void 0:C.response)==null?void 0:N.status)||C),!1}},w=async()=>{s(!0),A(null),o("processing");try{if(await x(h.url)){f(!0),o("done"),e({title:"Receita baixada",description:"O PDF foi baixado com sucesso."});return}if(await g(h.id)){f(!0),o("done"),e({title:"Receita baixada",description:"O PDF foi baixado com sucesso."});return}o("error"),A("No foi possvel localizar a receita. Verifique se o link no expirou ou faa login para acess-la."),e({title:"Link invlido",description:"No foi possvel localizar a receita.",variant:"destructive"})}finally{s(!1)}};return y.useEffect(()=>{(h.url||h.id)&&w()},[h.url,h.id]),n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Receber Receita"})}),n.jsxs(Le,{className:"space-y-4",children:[i==="done"?n.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[n.jsx(lr,{variant:"outline",children:"Concludo"}),n.jsx("span",{children:"O download da receita foi iniciado."})]}):i==="processing"?n.jsxs("div",{className:"flex items-center gap-2 text-blue-700",children:[n.jsx(lr,{variant:"outline",children:"Processando"}),n.jsx("span",{children:"Estamos validando seu link e preparando o download..."})]}):i==="error"?n.jsxs("div",{className:"text-red-700",children:[n.jsx(lr,{variant:"destructive",className:"mb-2",children:"Erro"}),n.jsx("p",{className:"text-sm",children:l||"Falha ao processar o link."})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cole o link recebido por e-mail, ou utilize o acesso direto com login."}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Link direto do arquivo (opcional)"}),n.jsx(He,{defaultValue:h.url||"",placeholder:"https://.../receita.pdf",onBlur:j=>{const N=new URL(window.location.href);j.target.value?N.searchParams.set("url",j.target.value):N.searchParams.delete("url"),r({pathname:N.pathname,search:N.search})}})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"ID da Receita (opcional)"}),n.jsx(He,{defaultValue:h.id||"",placeholder:"123",onBlur:j=>{const N=new URL(window.location.href);j.target.value?N.searchParams.set("id",j.target.value):N.searchParams.delete("id"),r({pathname:N.pathname,search:N.search})}})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(we,{onClick:w,disabled:a,children:a?"Processando...":"Receber"}),n.jsx(we,{variant:"outline",onClick:()=>r("/paciente/receitas"),children:"Ir para Minhas Receitas"})]})]})]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Dica: se o link tiver expirado, faa login e acesse suas receitas na rea do paciente."})]})})}function $J(){var h,m,p,x;const{id:e}=$o(),[r,t]=y.useState(null),[a,s]=y.useState(!0),[i,o]=y.useState(null);if(y.useEffect(()=>{async function g(){var w,j;try{s(!0);const N=await ye.get(`/receitas/${e}/verificar/`);t(N.data)}catch(N){o(((j=(w=N.response)==null?void 0:w.data)==null?void 0:j.detail)||"Receita no encontrada ou invlida")}finally{s(!1)}}e&&g()},[e]),a)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Verificando receita..."})]})});if(i)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-pink-100 flex items-center justify-center",children:n.jsxs(ke,{className:"w-full max-w-md",children:[n.jsxs(ze,{className:"text-center",children:[n.jsx(fs,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),n.jsx(Ye,{className:"text-red-700",children:"Receita Invlida"})]}),n.jsxs(Le,{className:"text-center",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:i}),n.jsx("p",{className:"text-sm text-gray-500",children:"Esta receita pode ter sido alterada, no existe ou no foi assinada digitalmente."})]})]})});const l=(r==null?void 0:r.assinada)&&(r==null?void 0:r.hash_documento),A=r!=null&&r.assinada_em?new Date(r.assinada_em).toLocaleString("pt-BR"):null,d=(m=(h=r==null?void 0:r.consulta)==null?void 0:h.medico)!=null&&m.user?`Dr. ${r.consulta.medico.user.first_name} ${r.consulta.medico.user.last_name}`:(r==null?void 0:r.medico)||"No informado",f=((x=(p=r==null?void 0:r.consulta)==null?void 0:p.medico)==null?void 0:x.crm)||"No informado";return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 py-8",children:n.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[n.jsxs("div",{className:"text-center mb-8",children:[l?n.jsx(po,{className:"h-20 w-20 text-green-500 mx-auto mb-4"}):n.jsx(fs,{className:"h-20 w-20 text-red-500 mx-auto mb-4"}),n.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Verificao de Receita Mdica"}),n.jsx(lr,{variant:l?"default":"destructive",className:"text-lg px-4 py-2",children:l?" Receita Vlida":" Receita Invlida"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(sn,{className:"h-5 w-5"}),"Informaes da Receita"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"ID da Receita"}),n.jsx("p",{className:"font-mono text-sm bg-gray-100 p-2 rounded",children:r==null?void 0:r.id})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Medicamento"}),n.jsx("p",{className:"font-medium",children:(r==null?void 0:r.medicamento)||"No informado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Dosagem"}),n.jsx("p",{children:(r==null?void 0:r.dosagem)||"No informada"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Validade"}),n.jsx("p",{children:(r==null?void 0:r.validade)||"No informada"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Data de Criao"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"h-4 w-4"}),r!=null&&r.created_at?new Date(r.created_at).toLocaleString("pt-BR"):"No informada"]})]})]})]}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(Hn,{className:"h-5 w-5"}),"Paciente e Mdico"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Paciente"}),n.jsx("p",{className:"font-medium",children:(r==null?void 0:r.nome_paciente)||"No informado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Mdico Responsvel"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(qr,{className:"h-4 w-4"}),d]}),f!=="No informado"&&n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["CRM: ",f]})]}),(r==null?void 0:r.endereco_consultorio)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Consultrio"}),n.jsx("p",{children:r.endereco_consultorio})]})]})]}),n.jsxs(ke,{className:"md:col-span-2",children:[n.jsx(ze,{children:n.jsxs(Ye,{className:"flex items-center gap-2",children:[n.jsx(po,{className:"h-5 w-5"}),"Assinatura Digital"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status da Assinatura"}),n.jsx(lr,{variant:l?"default":"destructive",className:"mt-1",children:l?"Assinada Digitalmente":"No Assinada"})]}),A&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Data da Assinatura"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"h-4 w-4"}),A]})]})]}),l&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Assinado por"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(qr,{className:"h-4 w-4"}),d," ",f!=="No informado"&&`(CRM: ${f})`]})]}),(r==null?void 0:r.hash_documento)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Hash de Verificao"}),n.jsx("p",{className:"font-mono text-xs bg-gray-100 p-2 rounded break-all",children:r.hash_documento})]}),(r==null?void 0:r.motivo)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Motivo da Assinatura"}),n.jsx("p",{children:r.motivo})]})]})]})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs("p",{className:"text-sm text-gray-500",children:["Esta verificao confirma a autenticidade e integridade da receita mdica.",l&&" A receita foi assinada digitalmente e no foi alterada."]})})]})})}const KJ=()=>{const[e,r]=y.useState("f86c1245-2d66-4e5b-8830-e774c7c0f31f"),[t,a]=y.useState(null),[s,i]=y.useState(!1),[o,l]=y.useState(null),A=async()=>{var f,h,m;if(!e){l("Por favor, insira um ID de receita");return}i(!0),l(null),a(null);try{console.log("Tentando assinar receita com ID:",e);const p={id:e,receita_id:e,algoritmo_assinatura:"SHA256",hash_documento:`test_hash_${Date.now()}`},x=await b6.signPrescription(p);console.log("Resposta da assinatura:",x),a({success:!0,data:x})}catch(p){console.error("Erro na assinatura:",p),l({message:p.message,status:(f=p.response)==null?void 0:f.status,data:(h=p.response)==null?void 0:h.data,url:(m=p.config)==null?void 0:m.url})}finally{i(!1)}},d=async()=>{i(!0),l(null),a(null);try{const f="http://127.0.0.1:8000/api",h=["/receitas/","/receitas/f86c1245-2d66-4e5b-8830-e774c7c0f31f/","/receitas/f86c1245-2d66-4e5b-8830-e774c7c0f31f/assinar/","/auth/login/","/auth/user/"],m={},p=localStorage.getItem("token");for(const x of h)try{const g=x.includes("/assinar/"),w=g?"POST":"GET",j=g?JSON.stringify({algoritmo_assinatura:"SHA256",hash_documento:`test_hash_${Date.now()}`}):void 0,N=await fetch(`${f}${x}`,{method:w,headers:{"Content-Type":"application/json",Authorization:p?`Token ${p}`:"no-token"},body:j});if(m[x]={status:N.status,statusText:N.statusText,ok:N.ok,method:w},g&&N.ok){const C=await N.json();m[x].data=C}}catch(g){m[x]={error:g.message}}a({endpoints:m,token:p?"Token presente":"Token ausente",tokenValue:p?p.substring(0,10)+"...":"N/A"})}catch(f){l(f.message)}finally{i(!1)}};return n.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",margin:"20px",backgroundColor:"#f9f9f9"},children:[n.jsx("h3",{children:"Teste de Assinatura de Receita"}),n.jsx("div",{style:{marginBottom:"20px"},children:n.jsxs("label",{children:["ID da Receita:",n.jsx("input",{type:"text",value:e,onChange:f=>r(f.target.value),placeholder:"Digite o ID da receita",style:{marginLeft:"10px",padding:"5px"}})]})}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("button",{onClick:A,disabled:s,style:{padding:"10px 20px",marginRight:"10px",backgroundColor:"#007bff",color:"white",border:"none",cursor:s?"not-allowed":"pointer"},children:s?"Testando...":"Testar Assinatura"}),n.jsx("button",{onClick:d,disabled:s,style:{padding:"10px 20px",backgroundColor:"#28a745",color:"white",border:"none",cursor:s?"not-allowed":"pointer"},children:s?"Testando...":"Testar Endpoints"})]}),o&&n.jsxs("div",{style:{padding:"10px",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:"4px",marginBottom:"20px"},children:[n.jsx("h4",{children:"Erro:"}),n.jsx("pre",{children:JSON.stringify(o,null,2)})]}),t&&n.jsxs("div",{style:{padding:"10px",backgroundColor:"#d4edda",border:"1px solid #c3e6cb",borderRadius:"4px"},children:[n.jsx("h4",{children:"Resultado:"}),n.jsx("pre",{children:JSON.stringify(t,null,2)})]})]})};function zJ(){const e="Trathea",[r,t]=y.useState(()=>localStorage.getItem("brand_name")||e),[a,s]=y.useState(()=>localStorage.getItem("brand_site_url")||"https://trathea.com.br"),[i,o]=y.useState(()=>$f("brand")||null);y.useEffect(()=>{try{localStorage.setItem("brand_name",r)}catch{}},[r]),y.useEffect(()=>{try{localStorage.setItem("brand_site_url",a)}catch{}},[a]);const l=async d=>{var h;const f=(h=d.target.files)==null?void 0:h[0];if(f)try{const m=await w0("brand",f);try{const p=await nr._resolveMedicoId().catch(()=>null);p&&await w0(p,f)}catch{}o(m)}catch{}},A=y.useMemo(()=>{try{return new URL(a).href}catch{return""}},[a]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Marca"})}),n.jsx(Le,{className:"space-y-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[i!=null&&i.data?n.jsx("img",{src:i.data,alt:"Logo",className:"h-16 w-16 object-contain rounded border"}):n.jsx("div",{className:"h-16 w-16 rounded border flex items-center justify-center text-sm",children:"Logo"}),n.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(De,{children:"Nome da marca"}),n.jsx(He,{value:r,onChange:d=>t(d.target.value),placeholder:"Trathea"})]}),n.jsxs("div",{children:[n.jsx(De,{children:"Logo"}),n.jsx(He,{type:"file",accept:"image/*",onChange:l})]})]})]})})]}),n.jsxs(ke,{children:[n.jsx(ze,{children:n.jsx(Ye,{children:"Web View"})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(De,{children:"URL do site"}),n.jsx(He,{value:a,onChange:d=>s(d.target.value),placeholder:"https://exemplo.com"})]}),n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx(we,{type:"button",onClick:()=>s(a.trim()),disabled:!a.trim(),children:"Carregar"}),A?n.jsx("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:"inline-flex",children:n.jsx(we,{type:"button",variant:"outline",children:"Abrir em nova aba"})}):null]})]}),A?n.jsxs("div",{className:"border rounded overflow-hidden",children:[n.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 border-b bg-muted/40",children:[i!=null&&i.data?n.jsx("img",{src:i.data,alt:"Logo",className:"h-6 w-6 object-contain"}):null,n.jsx("div",{className:"font-semibold",children:r}),n.jsx("div",{className:"text-xs text-muted-foreground ml-auto",children:A})]}),n.jsx("iframe",{title:"brand-webview",src:A,className:"w-full h-[70vh]"})]}):n.jsx("div",{className:"text-sm text-muted-foreground",children:"Informe uma URL vlida para exibir em web view."})]})]})]})}function VJ(){return n.jsx(P6,{children:n.jsx(Q6,{children:n.jsx(MU,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:n.jsxs(DU,{children:[n.jsx(It,{path:"/",element:n.jsx(KX,{})}),n.jsx(It,{path:"/login",element:n.jsx(qM,{})}),n.jsx(It,{path:"/registrar",element:n.jsx(WM,{})}),n.jsx(It,{path:"/esqueci-senha",element:n.jsx(GM,{})}),n.jsx(It,{path:"/redefinir-senha/:uid/:token",element:n.jsx(JM,{})}),n.jsx(It,{path:"/receber/receita",element:n.jsx(HJ,{})}),n.jsx(It,{path:"/verificar/:id",element:n.jsx($J,{})}),n.jsx(It,{path:"/test-signature",element:n.jsx(KJ,{})}),n.jsx(It,{path:"/brand",element:n.jsx(zJ,{})}),n.jsx(It,{path:"/inicio",element:n.jsx(qJ,{})}),n.jsxs(It,{path:"/paciente",element:n.jsx(GX,{children:n.jsx(UM,{})}),children:[n.jsx(It,{index:!0,element:n.jsx(Ea,{to:"perfil",replace:!0})}),n.jsx(It,{path:"perfil",element:n.jsx(h9,{})}),n.jsx(It,{path:"prontuario",element:n.jsx(m9,{})}),n.jsx(It,{path:"consultas",element:n.jsx(b9,{})}),n.jsx(It,{path:"consultas/nova",element:n.jsx(JX,{})}),n.jsx(It,{path:"exames",element:n.jsx(j9,{})}),n.jsx(It,{path:"historico-medico",element:n.jsx(B9,{})}),n.jsx(It,{path:"medicos",element:n.jsx(C9,{})}),n.jsx(It,{path:"receitas",element:n.jsx(U9,{})}),n.jsx(It,{path:"configuracoes",element:n.jsx(Xw,{})})]}),n.jsxs(It,{path:"/medico",element:n.jsx(qX,{children:n.jsx(LM,{})}),children:[n.jsx(It,{index:!0,element:n.jsx(Ea,{to:"dashboard",replace:!0})}),n.jsx(It,{path:"dashboard",element:n.jsx(qY,{})}),n.jsx(It,{path:"meus-pacientes",element:n.jsx(WY,{})}),n.jsx(It,{path:"minhas-consultas",element:n.jsx(GY,{})}),n.jsx(It,{path:"consultas/hoje",element:n.jsx(cX,{})}),n.jsx(It,{path:"solicitacoes",element:n.jsx(AX,{})}),n.jsx(It,{path:"paciente/:id/perfil",element:n.jsx(YY,{})}),n.jsx(It,{path:"paciente/:id/prontuario",element:n.jsx(XY,{})}),n.jsx(It,{path:"paciente/:id/exames",element:n.jsx(JY,{})}),n.jsx(It,{path:"paciente/:id/receitas",element:n.jsx(jX,{})}),n.jsx(It,{path:"paciente/:id/iniciar-consulta",element:n.jsx(ZY,{})}),n.jsx(It,{path:"paciente/:id/consulta/resumo",element:n.jsx(gX,{})}),n.jsx(It,{path:"paciente/:id/receita/preview",element:n.jsx(fX,{})}),n.jsx(It,{path:"paciente/:id/receita/confirmacao",element:n.jsx(hX,{})}),n.jsx(It,{path:"configuracoes",element:n.jsx(Xw,{})})]}),n.jsxs(It,{path:"/clinica",element:n.jsx(WX,{children:n.jsx(W_,{})}),children:[n.jsx(It,{index:!0,element:n.jsx(Ea,{to:"dashboard",replace:!0})}),n.jsx(It,{path:"dashboard",element:n.jsx(NX,{})}),n.jsx(It,{path:"calendario",element:n.jsx(SX,{})}),n.jsx(It,{path:"disponibilidade",element:n.jsx(EX,{})}),n.jsx(It,{path:"exames",element:n.jsx(FX,{})}),n.jsx(It,{path:"pacientes",element:n.jsx(kX,{})}),n.jsx(It,{path:"medicos",element:n.jsx(DX,{})}),n.jsx(It,{path:"relatorios",element:n.jsx(UX,{})}),n.jsx(It,{path:"configuracoes",element:n.jsx(LX,{})})]}),n.jsxs(It,{path:"/admin",element:n.jsx(YX,{children:n.jsx(IM,{})}),children:[n.jsx(It,{index:!0,element:n.jsx(Ea,{to:"dashboard",replace:!0})}),n.jsx(It,{path:"dashboard",element:n.jsx(IX,{})}),n.jsx(It,{path:"solicitacoes",element:n.jsx(PX,{})}),n.jsx(It,{path:"solicitacoes/:id",element:n.jsx(QX,{})}),n.jsx(It,{path:"relatorios",element:n.jsx(OX,{})}),n.jsx(It,{path:"auditoria",element:n.jsx(HX,{})}),n.jsx(It,{path:"usuarios",element:n.jsx(ZX,{})}),n.jsx(It,{path:"clinicas",element:n.jsx(eJ,{})}),n.jsx(It,{path:"configuracoes",element:n.jsx(tJ,{})})]}),n.jsxs(It,{path:"/secretaria",element:n.jsx(YM,{children:n.jsx(XM,{})}),children:[n.jsx(It,{index:!0,element:n.jsx(Ea,{to:"dashboard",replace:!0})}),n.jsx(It,{path:"dashboard",element:n.jsx(nJ,{})}),n.jsx(It,{path:"consultas",element:n.jsx(iJ,{})}),n.jsx(It,{path:"agenda",element:n.jsx(OJ,{})}),n.jsx(It,{path:"pacientes",element:n.jsx(oJ,{})}),n.jsx(It,{path:"medicos",element:n.jsx(lJ,{})}),n.jsx(It,{path:"solicitacoes",element:n.jsx(F8,{})}),n.jsx(It,{path:"solicitacoes/:id",element:n.jsx(k8,{})}),n.jsx(It,{path:"configuracoes",element:n.jsx(Xw,{})})]}),n.jsx(It,{path:"*",element:n.jsx("div",{children:"Pgina no encontrada"})})]})})})})}function qJ(){const{isAuthenticated:e,user:r}=Ko();if(!e)return n.jsx(Ea,{to:"/login",replace:!0});const t=(r==null?void 0:r.role)||(r==null?void 0:r.tipo),a=t==="admin"?"/admin/dashboard":t==="medico"?"/medico/dashboard":t==="clinica"?"/clinica/dashboard":"/paciente/perfil";return n.jsx(Ea,{to:a,replace:!0})}var Db="ToastProvider",[Ub,WJ,GJ]=Ax("Toast"),[_k,VZ]=Nl("Toast",[GJ]),[YJ,Qx]=_k(Db),Ek=e=>{const{__scopeToast:r,label:t="Notification",duration:a=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,A]=y.useState(null),[d,f]=y.useState(0),h=y.useRef(!1),m=y.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Db}\`. Expected non-empty \`string\`.`),n.jsx(Ub.Provider,{scope:r,children:n.jsx(YJ,{scope:r,label:t,duration:a,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:A,onToastAdd:y.useCallback(()=>f(p=>p+1),[]),onToastRemove:y.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};Ek.displayName=Db;var Fk="ToastViewport",XJ=["F8"],x1="toast.viewportPause",v1="toast.viewportResume",kk=y.forwardRef((e,r)=>{const{__scopeToast:t,hotkey:a=XJ,label:s="Notifications ({hotkey})",...i}=e,o=Qx(Fk,t),l=WJ(t),A=y.useRef(null),d=y.useRef(null),f=y.useRef(null),h=y.useRef(null),m=ya(r,h,o.onViewportChange),p=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;y.useEffect(()=>{const w=j=>{var C;a.length!==0&&a.every(E=>j[E]||j.code===E)&&((C=h.current)==null||C.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[a]),y.useEffect(()=>{const w=A.current,j=h.current;if(x&&w&&j){const N=()=>{if(!o.isClosePausedRef.current){const U=new CustomEvent(x1);j.dispatchEvent(U),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const U=new CustomEvent(v1);j.dispatchEvent(U),o.isClosePausedRef.current=!1}},E=U=>{!w.contains(U.relatedTarget)&&C()},Q=()=>{w.contains(document.activeElement)||C()};return w.addEventListener("focusin",N),w.addEventListener("focusout",E),w.addEventListener("pointermove",N),w.addEventListener("pointerleave",Q),window.addEventListener("blur",N),window.addEventListener("focus",C),()=>{w.removeEventListener("focusin",N),w.removeEventListener("focusout",E),w.removeEventListener("pointermove",N),w.removeEventListener("pointerleave",Q),window.removeEventListener("blur",N),window.removeEventListener("focus",C)}}},[x,o.isClosePausedRef]);const g=y.useCallback(({tabbingDirection:w})=>{const N=l().map(C=>{const E=C.ref.current,Q=[E,...AZ(E)];return w==="forwards"?Q:Q.reverse()});return(w==="forwards"?N.reverse():N).flat()},[l]);return y.useEffect(()=>{const w=h.current;if(w){const j=N=>{var Q,U,F;const C=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!C){const L=document.activeElement,_=N.shiftKey;if(N.target===w&&_){(Q=d.current)==null||Q.focus();return}const H=g({tabbingDirection:_?"backwards":"forwards"}),J=H.findIndex(T=>T===L);Jw(H.slice(J+1))?N.preventDefault():_?(U=d.current)==null||U.focus():(F=f.current)==null||F.focus()}};return w.addEventListener("keydown",j),()=>w.removeEventListener("keydown",j)}},[l,g]),n.jsxs(TI,{ref:A,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&n.jsx(w1,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Jw(w)}}),n.jsx(Ub.Slot,{scope:t,children:n.jsx(Sr.ol,{tabIndex:-1,...i,ref:m})}),x&&n.jsx(w1,{ref:f,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Jw(w)}})]})});kk.displayName=Fk;var Dk="ToastFocusProxy",w1=y.forwardRef((e,r)=>{const{__scopeToast:t,onFocusFromOutsideViewport:a,...s}=e,i=Qx(Dk,t);return n.jsx(sx,{tabIndex:0,...s,ref:r,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&a()}})});w1.displayName=Dk;var Vm="Toast",JJ="toast.swipeStart",ZJ="toast.swipeMove",eZ="toast.swipeCancel",tZ="toast.swipeEnd",Uk=y.forwardRef((e,r)=>{const{forceMount:t,open:a,defaultOpen:s,onOpenChange:i,...o}=e,[l,A]=fd({prop:a,defaultProp:s??!0,onChange:i,caller:Vm});return n.jsx(mc,{present:t||l,children:n.jsx(nZ,{open:l,...o,ref:r,onClose:()=>A(!1),onPause:Si(e.onPause),onResume:Si(e.onResume),onSwipeStart:kt(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:kt(e.onSwipeMove,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:kt(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:kt(e.onSwipeEnd,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),A(!1)})})})});Uk.displayName=Vm;var[rZ,aZ]=_k(Vm,{onClose(){}}),nZ=y.forwardRef((e,r)=>{const{__scopeToast:t,type:a="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:A,onResume:d,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:p,...x}=e,g=Qx(Vm,t),[w,j]=y.useState(null),N=ya(r,T=>j(T)),C=y.useRef(null),E=y.useRef(null),Q=s||g.duration,U=y.useRef(0),F=y.useRef(Q),L=y.useRef(0),{onToastAdd:_,onToastRemove:q}=g,R=Si(()=>{var re;(w==null?void 0:w.contains(document.activeElement))&&((re=g.viewport)==null||re.focus()),o()}),H=y.useCallback(T=>{!T||T===1/0||(window.clearTimeout(L.current),U.current=new Date().getTime(),L.current=window.setTimeout(R,T))},[R]);y.useEffect(()=>{const T=g.viewport;if(T){const re=()=>{H(F.current),d==null||d()},z=()=>{const G=new Date().getTime()-U.current;F.current=F.current-G,window.clearTimeout(L.current),A==null||A()};return T.addEventListener(x1,z),T.addEventListener(v1,re),()=>{T.removeEventListener(x1,z),T.removeEventListener(v1,re)}}},[g.viewport,Q,A,d,H]),y.useEffect(()=>{i&&!g.isClosePausedRef.current&&H(Q)},[i,Q,g.isClosePausedRef,H]),y.useEffect(()=>(_(),()=>q()),[_,q]);const J=y.useMemo(()=>w?Mk(w):null,[w]);return g.viewport?n.jsxs(n.Fragment,{children:[J&&n.jsx(sZ,{__scopeToast:t,role:"status","aria-live":a==="foreground"?"assertive":"polite",children:J}),n.jsx(rZ,{scope:t,onClose:R,children:zf.createPortal(n.jsx(Ub.ItemSlot,{scope:t,children:n.jsx(RI,{asChild:!0,onEscapeKeyDown:kt(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||R(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Sr.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:N,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:kt(e.onKeyDown,T=>{T.key==="Escape"&&(l==null||l(T.nativeEvent),T.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:kt(e.onPointerDown,T=>{T.button===0&&(C.current={x:T.clientX,y:T.clientY})}),onPointerMove:kt(e.onPointerMove,T=>{if(!C.current)return;const re=T.clientX-C.current.x,z=T.clientY-C.current.y,G=!!E.current,V=["left","right"].includes(g.swipeDirection),ee=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,ce=V?ee(0,re):0,k=V?0:ee(0,z),D=T.pointerType==="touch"?10:2,K={x:ce,y:k},te={originalEvent:T,delta:K};G?(E.current=K,wg(ZJ,h,te,{discrete:!1})):o5(K,g.swipeDirection,D)?(E.current=K,wg(JJ,f,te,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs(re)>D||Math.abs(z)>D)&&(C.current=null)}),onPointerUp:kt(e.onPointerUp,T=>{const re=E.current,z=T.target;if(z.hasPointerCapture(T.pointerId)&&z.releasePointerCapture(T.pointerId),E.current=null,C.current=null,re){const G=T.currentTarget,V={originalEvent:T,delta:re};o5(re,g.swipeDirection,g.swipeThreshold)?wg(tZ,p,V,{discrete:!0}):wg(eZ,m,V,{discrete:!0}),G.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),sZ=e=>{const{__scopeToast:r,children:t,...a}=e,s=Qx(Vm,r),[i,o]=y.useState(!1),[l,A]=y.useState(!1);return lZ(()=>o(!0)),y.useEffect(()=>{const d=window.setTimeout(()=>A(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(Fm,{asChild:!0,children:n.jsx(sx,{...a,children:i&&n.jsxs(n.Fragment,{children:[s.label," ",t]})})})},iZ="ToastTitle",Lk=y.forwardRef((e,r)=>{const{__scopeToast:t,...a}=e;return n.jsx(Sr.div,{...a,ref:r})});Lk.displayName=iZ;var oZ="ToastDescription",Ik=y.forwardRef((e,r)=>{const{__scopeToast:t,...a}=e;return n.jsx(Sr.div,{...a,ref:r})});Ik.displayName=oZ;var Pk="ToastAction",Qk=y.forwardRef((e,r)=>{const{altText:t,...a}=e;return t.trim()?n.jsx(Tk,{altText:t,asChild:!0,children:n.jsx(Lb,{...a,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${Pk}\`. Expected non-empty \`string\`.`),null)});Qk.displayName=Pk;var Rk="ToastClose",Lb=y.forwardRef((e,r)=>{const{__scopeToast:t,...a}=e,s=aZ(Rk,t);return n.jsx(Tk,{asChild:!0,children:n.jsx(Sr.button,{type:"button",...a,ref:r,onClick:kt(e.onClick,s.onClose)})})});Lb.displayName=Rk;var Tk=y.forwardRef((e,r)=>{const{__scopeToast:t,altText:a,...s}=e;return n.jsx(Sr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...s,ref:r})});function Mk(e){const r=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&r.push(a.textContent),cZ(a)){const s=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=a.dataset.radixToastAnnounceAlt;o&&r.push(o)}else r.push(...Mk(a))}}),r}function wg(e,r,t,{discrete:a}){const s=t.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t});r&&s.addEventListener(e,r,{once:!0}),a?I1(s,i):s.dispatchEvent(i)}var o5=(e,r,t=0)=>{const a=Math.abs(e.x),s=Math.abs(e.y),i=a>s;return r==="left"||r==="right"?i&&a>t:!i&&s>t};function lZ(e=()=>{}){const r=Si(e);ps(()=>{let t=0,a=0;return t=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(a)}},[r])}function cZ(e){return e.nodeType===e.ELEMENT_NODE}function AZ(e){const r=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)r.push(t.currentNode);return r}function Jw(e){const r=document.activeElement;return e.some(t=>t===r?!0:(t.focus(),document.activeElement!==r))}var dZ=Ek,Ok=kk,Hk=Uk,$k=Lk,Kk=Ik,zk=Qk,Vk=Lb;const uZ=dZ,qk=y.forwardRef(({className:e,...r},t)=>n.jsx(Ok,{ref:t,className:lt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r}));qk.displayName=Ok.displayName;const fZ=z0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Wk=y.forwardRef(({className:e,variant:r,...t},a)=>n.jsx(Hk,{ref:a,className:lt(fZ({variant:r}),e),...t}));Wk.displayName=Hk.displayName;const hZ=y.forwardRef(({className:e,...r},t)=>n.jsx(zk,{ref:t,className:lt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...r}));hZ.displayName=zk.displayName;const Gk=y.forwardRef(({className:e,...r},t)=>n.jsx(Vk,{ref:t,className:lt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:n.jsx(L1,{className:"h-4 w-4"})}));Gk.displayName=Vk.displayName;const Yk=y.forwardRef(({className:e,...r},t)=>n.jsx($k,{ref:t,className:lt("text-sm font-semibold",e),...r}));Yk.displayName=$k.displayName;const Xk=y.forwardRef(({className:e,...r},t)=>n.jsx(Kk,{ref:t,className:lt("text-sm opacity-90",e),...r}));Xk.displayName=Kk.displayName;function mZ(){const{toasts:e}=Ga();return n.jsxs(uZ,{children:[e.map(({id:r,title:t,description:a,action:s,...i})=>n.jsxs(Wk,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[t&&n.jsx(Yk,{children:t}),a&&n.jsx(Xk,{children:a})]}),s,n.jsx(Gk,{})]},r)),n.jsx(qk,{})]})}u5.createRoot(document.getElementById("root")).render(n.jsxs(GR,{defaultTheme:"system",storageKey:"medicinefront-theme",children:[n.jsx(VJ,{}),n.jsx(mZ,{})]}));export{$a as _,ye as a,gZ as c,A5 as g};
