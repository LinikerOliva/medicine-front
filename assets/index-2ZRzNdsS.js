function gb(t,n){for(var a=0;a<n.length;a++){const o=n[a];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in t)){const c=Object.getOwnPropertyDescriptor(o,i);c&&Object.defineProperty(t,i,c.get?c:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function a(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(i){if(i.ep)return;i.ep=!0;const c=a(i);fetch(i.href,c)}})();function kg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yu={exports:{}},$o={},ju={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx;function vb(){if(tx)return ot;tx=1;var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=p&&L[p]||L["@@iterator"],typeof L=="function"?L:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function b(L,q,te){this.props=L,this.context=q,this.refs=y,this.updater=te||N}b.prototype.isReactComponent={},b.prototype.setState=function(L,q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,q,"setState")},b.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function _(){}_.prototype=b.prototype;function S(L,q,te){this.props=L,this.context=q,this.refs=y,this.updater=te||N}var E=S.prototype=new _;E.constructor=S,w(E,b.prototype),E.isPureReactComponent=!0;var k=Array.isArray,T=Object.prototype.hasOwnProperty,P={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function R(L,q,te){var B,z={},G=null,Z=null;if(q!=null)for(B in q.ref!==void 0&&(Z=q.ref),q.key!==void 0&&(G=""+q.key),q)T.call(q,B)&&!A.hasOwnProperty(B)&&(z[B]=q[B]);var ae=arguments.length-2;if(ae===1)z.children=te;else if(1<ae){for(var xe=Array(ae),ve=0;ve<ae;ve++)xe[ve]=arguments[ve+2];z.children=xe}if(L&&L.defaultProps)for(B in ae=L.defaultProps,ae)z[B]===void 0&&(z[B]=ae[B]);return{$$typeof:t,type:L,key:G,ref:Z,props:z,_owner:P.current}}function $(L,q){return{$$typeof:t,type:L.type,key:q,ref:L.ref,props:L.props,_owner:L._owner}}function O(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function I(L){var q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(te){return q[te]})}var V=/\/+/g;function J(L,q){return typeof L=="object"&&L!==null&&L.key!=null?I(""+L.key):q.toString(36)}function F(L,q,te,B,z){var G=typeof L;(G==="undefined"||G==="boolean")&&(L=null);var Z=!1;if(L===null)Z=!0;else switch(G){case"string":case"number":Z=!0;break;case"object":switch(L.$$typeof){case t:case n:Z=!0}}if(Z)return Z=L,z=z(Z),L=B===""?"."+J(Z,0):B,k(z)?(te="",L!=null&&(te=L.replace(V,"$&/")+"/"),F(z,q,te,"",function(ve){return ve})):z!=null&&(O(z)&&(z=$(z,te+(!z.key||Z&&Z.key===z.key?"":(""+z.key).replace(V,"$&/")+"/")+L)),q.push(z)),1;if(Z=0,B=B===""?".":B+":",k(L))for(var ae=0;ae<L.length;ae++){G=L[ae];var xe=B+J(G,ae);Z+=F(G,q,te,xe,z)}else if(xe=v(L),typeof xe=="function")for(L=xe.call(L),ae=0;!(G=L.next()).done;)G=G.value,xe=B+J(G,ae++),Z+=F(G,q,te,xe,z);else if(G==="object")throw q=String(L),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Z}function K(L,q,te){if(L==null)return L;var B=[],z=0;return F(L,B,"","",function(G){return q.call(te,G,z++)}),B}function M(L){if(L._status===-1){var q=L._result;q=q(),q.then(function(te){(L._status===0||L._status===-1)&&(L._status=1,L._result=te)},function(te){(L._status===0||L._status===-1)&&(L._status=2,L._result=te)}),L._status===-1&&(L._status=0,L._result=q)}if(L._status===1)return L._result.default;throw L._result}var W={current:null},U={transition:null},X={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:U,ReactCurrentOwner:P};function ee(){throw Error("act(...) is not supported in production builds of React.")}return ot.Children={map:K,forEach:function(L,q,te){K(L,function(){q.apply(this,arguments)},te)},count:function(L){var q=0;return K(L,function(){q++}),q},toArray:function(L){return K(L,function(q){return q})||[]},only:function(L){if(!O(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},ot.Component=b,ot.Fragment=a,ot.Profiler=i,ot.PureComponent=S,ot.StrictMode=o,ot.Suspense=u,ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,ot.act=ee,ot.cloneElement=function(L,q,te){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var B=w({},L.props),z=L.key,G=L.ref,Z=L._owner;if(q!=null){if(q.ref!==void 0&&(G=q.ref,Z=P.current),q.key!==void 0&&(z=""+q.key),L.type&&L.type.defaultProps)var ae=L.type.defaultProps;for(xe in q)T.call(q,xe)&&!A.hasOwnProperty(xe)&&(B[xe]=q[xe]===void 0&&ae!==void 0?ae[xe]:q[xe])}var xe=arguments.length-2;if(xe===1)B.children=te;else if(1<xe){ae=Array(xe);for(var ve=0;ve<xe;ve++)ae[ve]=arguments[ve+2];B.children=ae}return{$$typeof:t,type:L.type,key:z,ref:G,props:B,_owner:Z}},ot.createContext=function(L){return L={$$typeof:d,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:c,_context:L},L.Consumer=L},ot.createElement=R,ot.createFactory=function(L){var q=R.bind(null,L);return q.type=L,q},ot.createRef=function(){return{current:null}},ot.forwardRef=function(L){return{$$typeof:f,render:L}},ot.isValidElement=O,ot.lazy=function(L){return{$$typeof:h,_payload:{_status:-1,_result:L},_init:M}},ot.memo=function(L,q){return{$$typeof:g,type:L,compare:q===void 0?null:q}},ot.startTransition=function(L){var q=U.transition;U.transition={};try{L()}finally{U.transition=q}},ot.unstable_act=ee,ot.useCallback=function(L,q){return W.current.useCallback(L,q)},ot.useContext=function(L){return W.current.useContext(L)},ot.useDebugValue=function(){},ot.useDeferredValue=function(L){return W.current.useDeferredValue(L)},ot.useEffect=function(L,q){return W.current.useEffect(L,q)},ot.useId=function(){return W.current.useId()},ot.useImperativeHandle=function(L,q,te){return W.current.useImperativeHandle(L,q,te)},ot.useInsertionEffect=function(L,q){return W.current.useInsertionEffect(L,q)},ot.useLayoutEffect=function(L,q){return W.current.useLayoutEffect(L,q)},ot.useMemo=function(L,q){return W.current.useMemo(L,q)},ot.useReducer=function(L,q,te){return W.current.useReducer(L,q,te)},ot.useRef=function(L){return W.current.useRef(L)},ot.useState=function(L){return W.current.useState(L)},ot.useSyncExternalStore=function(L,q,te){return W.current.useSyncExternalStore(L,q,te)},ot.useTransition=function(){return W.current.useTransition()},ot.version="18.3.1",ot}var sx;function tc(){return sx||(sx=1,ju.exports=vb()),ju.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nx;function yb(){if(nx)return $o;nx=1;var t=tc(),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(f,u,g){var h,p={},v=null,N=null;g!==void 0&&(v=""+g),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(N=u.ref);for(h in u)o.call(u,h)&&!c.hasOwnProperty(h)&&(p[h]=u[h]);if(f&&f.defaultProps)for(h in u=f.defaultProps,u)p[h]===void 0&&(p[h]=u[h]);return{$$typeof:n,type:f,key:v,ref:N,props:p,_owner:i.current}}return $o.Fragment=a,$o.jsx=d,$o.jsxs=d,$o}var ax;function jb(){return ax||(ax=1,yu.exports=yb()),yu.exports}var e=jb(),jl={},wu={exports:{}},Fs={},Nu={exports:{}},bu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx;function wb(){return rx||(rx=1,(function(t){function n(U,X){var ee=U.length;U.push(X);e:for(;0<ee;){var L=ee-1>>>1,q=U[L];if(0<i(q,X))U[L]=X,U[ee]=q,ee=L;else break e}}function a(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var X=U[0],ee=U.pop();if(ee!==X){U[0]=ee;e:for(var L=0,q=U.length,te=q>>>1;L<te;){var B=2*(L+1)-1,z=U[B],G=B+1,Z=U[G];if(0>i(z,ee))G<q&&0>i(Z,z)?(U[L]=Z,U[G]=ee,L=G):(U[L]=z,U[B]=ee,L=B);else if(G<q&&0>i(Z,ee))U[L]=Z,U[G]=ee,L=G;else break e}}return X}function i(U,X){var ee=U.sortIndex-X.sortIndex;return ee!==0?ee:U.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();t.unstable_now=function(){return d.now()-f}}var u=[],g=[],h=1,p=null,v=3,N=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(U){for(var X=a(g);X!==null;){if(X.callback===null)o(g);else if(X.startTime<=U)o(g),X.sortIndex=X.expirationTime,n(u,X);else break;X=a(g)}}function k(U){if(y=!1,E(U),!w)if(a(u)!==null)w=!0,M(T);else{var X=a(g);X!==null&&W(k,X.startTime-U)}}function T(U,X){w=!1,y&&(y=!1,_(R),R=-1),N=!0;var ee=v;try{for(E(X),p=a(u);p!==null&&(!(p.expirationTime>X)||U&&!I());){var L=p.callback;if(typeof L=="function"){p.callback=null,v=p.priorityLevel;var q=L(p.expirationTime<=X);X=t.unstable_now(),typeof q=="function"?p.callback=q:p===a(u)&&o(u),E(X)}else o(u);p=a(u)}if(p!==null)var te=!0;else{var B=a(g);B!==null&&W(k,B.startTime-X),te=!1}return te}finally{p=null,v=ee,N=!1}}var P=!1,A=null,R=-1,$=5,O=-1;function I(){return!(t.unstable_now()-O<$)}function V(){if(A!==null){var U=t.unstable_now();O=U;var X=!0;try{X=A(!0,U)}finally{X?J():(P=!1,A=null)}}else P=!1}var J;if(typeof S=="function")J=function(){S(V)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,K=F.port2;F.port1.onmessage=V,J=function(){K.postMessage(null)}}else J=function(){b(V,0)};function M(U){A=U,P||(P=!0,J())}function W(U,X){R=b(function(){U(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){w||N||(w=!0,M(T))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return a(u)},t.unstable_next=function(U){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var ee=v;v=X;try{return U()}finally{v=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ee=v;v=U;try{return X()}finally{v=ee}},t.unstable_scheduleCallback=function(U,X,ee){var L=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?L+ee:L):ee=L,U){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ee+q,U={id:h++,callback:X,priorityLevel:U,startTime:ee,expirationTime:q,sortIndex:-1},ee>L?(U.sortIndex=ee,n(g,U),a(u)===null&&U===a(g)&&(y?(_(R),R=-1):y=!0,W(k,ee-L))):(U.sortIndex=q,n(u,U),w||N||(w=!0,M(T))),U},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(U){var X=v;return function(){var ee=v;v=X;try{return U.apply(this,arguments)}finally{v=ee}}}})(bu)),bu}var ox;function Nb(){return ox||(ox=1,Nu.exports=wb()),Nu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix;function bb(){if(ix)return Fs;ix=1;var t=tc(),n=Nb();function a(s){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function c(s,r){d(s,r),d(s+"Capture",r)}function d(s,r){for(i[s]=r,s=0;s<r.length;s++)o.add(r[s])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(s){return u.call(p,s)?!0:u.call(h,s)?!1:g.test(s)?p[s]=!0:(h[s]=!0,!1)}function N(s,r,l,m){if(l!==null&&l.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return m?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,r,l,m){if(r===null||typeof r>"u"||N(s,r,l,m))return!0;if(m)return!1;if(l!==null)switch(l.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function y(s,r,l,m,j,C,D){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=m,this.attributeNamespace=j,this.mustUseProperty=l,this.propertyName=s,this.type=r,this.sanitizeURL=C,this.removeEmptyString=D}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new y(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var r=s[0];b[r]=new y(r,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new y(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new y(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new y(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new y(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new y(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new y(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new y(s,5,!1,s.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function S(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var r=s.replace(_,S);b[r]=new y(r,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var r=s.replace(_,S);b[r]=new y(r,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var r=s.replace(_,S);b[r]=new y(r,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new y(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new y(s,1,!1,s.toLowerCase(),null,!0,!0)});function E(s,r,l,m){var j=b.hasOwnProperty(r)?b[r]:null;(j!==null?j.type!==0:m||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(w(r,l,j,m)&&(l=null),m||j===null?v(r)&&(l===null?s.removeAttribute(r):s.setAttribute(r,""+l)):j.mustUseProperty?s[j.propertyName]=l===null?j.type===3?!1:"":l:(r=j.attributeName,m=j.attributeNamespace,l===null?s.removeAttribute(r):(j=j.type,l=j===3||j===4&&l===!0?"":""+l,m?s.setAttributeNS(m,r,l):s.setAttribute(r,l))))}var k=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),P=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),I=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),U=Symbol.iterator;function X(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var ee=Object.assign,L;function q(s){if(L===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);L=r&&r[1]||""}return`
`+L+s}var te=!1;function B(s,r){if(!s||te)return"";te=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(oe){var m=oe}Reflect.construct(s,[],r)}else{try{r.call()}catch(oe){m=oe}s.call(r.prototype)}else{try{throw Error()}catch(oe){m=oe}s()}}catch(oe){if(oe&&m&&typeof oe.stack=="string"){for(var j=oe.stack.split(`
`),C=m.stack.split(`
`),D=j.length-1,H=C.length-1;1<=D&&0<=H&&j[D]!==C[H];)H--;for(;1<=D&&0<=H;D--,H--)if(j[D]!==C[H]){if(D!==1||H!==1)do if(D--,H--,0>H||j[D]!==C[H]){var Y=`
`+j[D].replace(" at new "," at ");return s.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",s.displayName)),Y}while(1<=D&&0<=H);break}}}finally{te=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?q(s):""}function z(s){switch(s.tag){case 5:return q(s.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return s=B(s.type,!1),s;case 11:return s=B(s.type.render,!1),s;case 1:return s=B(s.type,!0),s;default:return""}}function G(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case P:return"Portal";case $:return"Profiler";case R:return"StrictMode";case J:return"Suspense";case F:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case I:return(s.displayName||"Context")+".Consumer";case O:return(s._context.displayName||"Context")+".Provider";case V:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case K:return r=s.displayName||null,r!==null?r:G(s.type)||"Memo";case M:r=s._payload,s=s._init;try{return G(s(r))}catch{}}return null}function Z(s){var r=s.type;switch(s.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=r.render,s=s.displayName||s.name||"",r.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(r);case 8:return r===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ae(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function xe(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ve(s){var r=xe(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),m=""+s[r];if(!s.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var j=l.get,C=l.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return j.call(this)},set:function(D){m=""+D,C.call(this,D)}}),Object.defineProperty(s,r,{enumerable:l.enumerable}),{getValue:function(){return m},setValue:function(D){m=""+D},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Re(s){s._valueTracker||(s._valueTracker=ve(s))}function Pe(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),m="";return s&&(m=xe(s)?s.checked?"true":"false":s.value),s=m,s!==l?(r.setValue(s),!0):!1}function Ye(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function at(s,r){var l=r.checked;return ee({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function mt(s,r){var l=r.defaultValue==null?"":r.defaultValue,m=r.checked!=null?r.checked:r.defaultChecked;l=ae(r.value!=null?r.value:l),s._wrapperState={initialChecked:m,initialValue:l,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function jt(s,r){r=r.checked,r!=null&&E(s,"checked",r,!1)}function Me(s,r){jt(s,r);var l=ae(r.value),m=r.type;if(l!=null)m==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}r.hasOwnProperty("value")?Oe(s,r.type,l):r.hasOwnProperty("defaultValue")&&Oe(s,r.type,ae(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(s.defaultChecked=!!r.defaultChecked)}function Ie(s,r,l){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var m=r.type;if(!(m!=="submit"&&m!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+s._wrapperState.initialValue,l||r===s.value||(s.value=r),s.defaultValue=r}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function Oe(s,r,l){(r!=="number"||Ye(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var De=Array.isArray;function ge(s,r,l,m){if(s=s.options,r){r={};for(var j=0;j<l.length;j++)r["$"+l[j]]=!0;for(l=0;l<s.length;l++)j=r.hasOwnProperty("$"+s[l].value),s[l].selected!==j&&(s[l].selected=j),j&&m&&(s[l].defaultSelected=!0)}else{for(l=""+ae(l),r=null,j=0;j<s.length;j++){if(s[j].value===l){s[j].selected=!0,m&&(s[j].defaultSelected=!0);return}r!==null||s[j].disabled||(r=s[j])}r!==null&&(r.selected=!0)}}function it(s,r){if(r.dangerouslySetInnerHTML!=null)throw Error(a(91));return ee({},r,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function lt(s,r){var l=r.value;if(l==null){if(l=r.children,r=r.defaultValue,l!=null){if(r!=null)throw Error(a(92));if(De(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),l=r}s._wrapperState={initialValue:ae(l)}}function et(s,r){var l=ae(r.value),m=ae(r.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),r.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),m!=null&&(s.defaultValue=""+m)}function It(s){var r=s.textContent;r===s._wrapperState.initialValue&&r!==""&&r!==null&&(s.value=r)}function At(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zt(s,r){return s==null||s==="http://www.w3.org/1999/xhtml"?At(r):s==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var xt,Rt=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,l,m,j){MSApp.execUnsafeLocalFunction(function(){return s(r,l,m,j)})}:s})(function(s,r){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=r;else{for(xt=xt||document.createElement("div"),xt.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=xt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;r.firstChild;)s.appendChild(r.firstChild)}});function kt(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var Yt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Us=["Webkit","ms","Moz","O"];Object.keys(Yt).forEach(function(s){Us.forEach(function(r){r=r+s.charAt(0).toUpperCase()+s.substring(1),Yt[r]=Yt[s]})});function rs(s,r,l){return r==null||typeof r=="boolean"||r===""?"":l||typeof r!="number"||r===0||Yt.hasOwnProperty(s)&&Yt[s]?(""+r).trim():r+"px"}function os(s,r){s=s.style;for(var l in r)if(r.hasOwnProperty(l)){var m=l.indexOf("--")===0,j=rs(l,r[l],m);l==="float"&&(l="cssFloat"),m?s.setProperty(l,j):s[l]=j}}var Bn=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(s,r){if(r){if(Bn[s]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(a(137,s));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(a(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(a(61))}if(r.style!=null&&typeof r.style!="object")throw Error(a(62))}}function Ee(s,r){if(s.indexOf("-")===-1)return typeof r.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fe=null;function ft(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $e=null,We=null,Tt=null;function _e(s){if(s=wo(s)){if(typeof $e!="function")throw Error(a(280));var r=s.stateNode;r&&(r=Oi(r),$e(s.stateNode,s.type,r))}}function me(s){We?Tt?Tt.push(s):Tt=[s]:We=s}function Mt(){if(We){var s=We,r=Tt;if(Tt=We=null,_e(s),r)for(s=0;s<r.length;s++)_e(r[s])}}function Ae(s,r){return s(r)}function cs(){}var be=!1;function es(s,r,l){if(be)return s(r,l);be=!0;try{return Ae(s,r,l)}finally{be=!1,(We!==null||Tt!==null)&&(cs(),Mt())}}function ct(s,r){var l=s.stateNode;if(l===null)return null;var m=Oi(l);if(m===null)return null;l=m[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(a(231,r,typeof l));return l}var qt=!1;if(f)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){qt=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch{qt=!1}function gs(s,r,l,m,j,C,D,H,Y){var oe=Array.prototype.slice.call(arguments,3);try{r.apply(l,oe)}catch(je){this.onError(je)}}var an=!1,vs=null,pi=!1,Ic=null,Sw={onError:function(s){an=!0,vs=s}};function Cw(s,r,l,m,j,C,D,H,Y){an=!1,vs=null,gs.apply(Sw,arguments)}function _w(s,r,l,m,j,C,D,H,Y){if(Cw.apply(this,arguments),an){if(an){var oe=vs;an=!1,vs=null}else throw Error(a(198));pi||(pi=!0,Ic=oe)}}function Oa(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function Sf(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function Cf(s){if(Oa(s)!==s)throw Error(a(188))}function Ew(s){var r=s.alternate;if(!r){if(r=Oa(s),r===null)throw Error(a(188));return r!==s?null:s}for(var l=s,m=r;;){var j=l.return;if(j===null)break;var C=j.alternate;if(C===null){if(m=j.return,m!==null){l=m;continue}break}if(j.child===C.child){for(C=j.child;C;){if(C===l)return Cf(j),s;if(C===m)return Cf(j),r;C=C.sibling}throw Error(a(188))}if(l.return!==m.return)l=j,m=C;else{for(var D=!1,H=j.child;H;){if(H===l){D=!0,l=j,m=C;break}if(H===m){D=!0,m=j,l=C;break}H=H.sibling}if(!D){for(H=C.child;H;){if(H===l){D=!0,l=C,m=j;break}if(H===m){D=!0,m=C,l=j;break}H=H.sibling}if(!D)throw Error(a(189))}}if(l.alternate!==m)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?s:r}function _f(s){return s=Ew(s),s!==null?Ef(s):null}function Ef(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var r=Ef(s);if(r!==null)return r;s=s.sibling}return null}var Rf=n.unstable_scheduleCallback,kf=n.unstable_cancelCallback,Rw=n.unstable_shouldYield,kw=n.unstable_requestPaint,ts=n.unstable_now,Pw=n.unstable_getCurrentPriorityLevel,Fc=n.unstable_ImmediatePriority,Pf=n.unstable_UserBlockingPriority,hi=n.unstable_NormalPriority,Aw=n.unstable_LowPriority,Af=n.unstable_IdlePriority,xi=null,wn=null;function Tw(s){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(xi,s,void 0,(s.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:Ow,Mw=Math.log,Dw=Math.LN2;function Ow(s){return s>>>=0,s===0?32:31-(Mw(s)/Dw|0)|0}var gi=64,vi=4194304;function so(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function yi(s,r){var l=s.pendingLanes;if(l===0)return 0;var m=0,j=s.suspendedLanes,C=s.pingedLanes,D=l&268435455;if(D!==0){var H=D&~j;H!==0?m=so(H):(C&=D,C!==0&&(m=so(C)))}else D=l&~j,D!==0?m=so(D):C!==0&&(m=so(C));if(m===0)return 0;if(r!==0&&r!==m&&(r&j)===0&&(j=m&-m,C=r&-r,j>=C||j===16&&(C&4194240)!==0))return r;if((m&4)!==0&&(m|=l&16),r=s.entangledLanes,r!==0)for(s=s.entanglements,r&=m;0<r;)l=31-rn(r),j=1<<l,m|=s[l],r&=~j;return m}function $w(s,r){switch(s){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lw(s,r){for(var l=s.suspendedLanes,m=s.pingedLanes,j=s.expirationTimes,C=s.pendingLanes;0<C;){var D=31-rn(C),H=1<<D,Y=j[D];Y===-1?((H&l)===0||(H&m)!==0)&&(j[D]=$w(H,r)):Y<=r&&(s.expiredLanes|=H),C&=~H}}function zc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Tf(){var s=gi;return gi<<=1,(gi&4194240)===0&&(gi=64),s}function Bc(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function no(s,r,l){s.pendingLanes|=r,r!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,r=31-rn(r),s[r]=l}function Iw(s,r){var l=s.pendingLanes&~r;s.pendingLanes=r,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=r,s.mutableReadLanes&=r,s.entangledLanes&=r,r=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<l;){var j=31-rn(l),C=1<<j;r[j]=0,m[j]=-1,s[j]=-1,l&=~C}}function Uc(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var m=31-rn(l),j=1<<m;j&r|s[m]&r&&(s[m]|=r),l&=~j}}var Pt=0;function Mf(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Df,Vc,Of,$f,Lf,Hc=!1,ji=[],ea=null,ta=null,sa=null,ao=new Map,ro=new Map,na=[],Fw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function If(s,r){switch(s){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":ao.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(r.pointerId)}}function oo(s,r,l,m,j,C){return s===null||s.nativeEvent!==C?(s={blockedOn:r,domEventName:l,eventSystemFlags:m,nativeEvent:C,targetContainers:[j]},r!==null&&(r=wo(r),r!==null&&Vc(r)),s):(s.eventSystemFlags|=m,r=s.targetContainers,j!==null&&r.indexOf(j)===-1&&r.push(j),s)}function zw(s,r,l,m,j){switch(r){case"focusin":return ea=oo(ea,s,r,l,m,j),!0;case"dragenter":return ta=oo(ta,s,r,l,m,j),!0;case"mouseover":return sa=oo(sa,s,r,l,m,j),!0;case"pointerover":var C=j.pointerId;return ao.set(C,oo(ao.get(C)||null,s,r,l,m,j)),!0;case"gotpointercapture":return C=j.pointerId,ro.set(C,oo(ro.get(C)||null,s,r,l,m,j)),!0}return!1}function Ff(s){var r=$a(s.target);if(r!==null){var l=Oa(r);if(l!==null){if(r=l.tag,r===13){if(r=Sf(l),r!==null){s.blockedOn=r,Lf(s.priority,function(){Of(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function wi(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=Wc(s.domEventName,s.eventSystemFlags,r[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var m=new l.constructor(l.type,l);Fe=m,l.target.dispatchEvent(m),Fe=null}else return r=wo(l),r!==null&&Vc(r),s.blockedOn=l,!1;r.shift()}return!0}function zf(s,r,l){wi(s)&&l.delete(r)}function Bw(){Hc=!1,ea!==null&&wi(ea)&&(ea=null),ta!==null&&wi(ta)&&(ta=null),sa!==null&&wi(sa)&&(sa=null),ao.forEach(zf),ro.forEach(zf)}function io(s,r){s.blockedOn===r&&(s.blockedOn=null,Hc||(Hc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Bw)))}function lo(s){function r(j){return io(j,s)}if(0<ji.length){io(ji[0],s);for(var l=1;l<ji.length;l++){var m=ji[l];m.blockedOn===s&&(m.blockedOn=null)}}for(ea!==null&&io(ea,s),ta!==null&&io(ta,s),sa!==null&&io(sa,s),ao.forEach(r),ro.forEach(r),l=0;l<na.length;l++)m=na[l],m.blockedOn===s&&(m.blockedOn=null);for(;0<na.length&&(l=na[0],l.blockedOn===null);)Ff(l),l.blockedOn===null&&na.shift()}var ir=k.ReactCurrentBatchConfig,Ni=!0;function Uw(s,r,l,m){var j=Pt,C=ir.transition;ir.transition=null;try{Pt=1,qc(s,r,l,m)}finally{Pt=j,ir.transition=C}}function Vw(s,r,l,m){var j=Pt,C=ir.transition;ir.transition=null;try{Pt=4,qc(s,r,l,m)}finally{Pt=j,ir.transition=C}}function qc(s,r,l,m){if(Ni){var j=Wc(s,r,l,m);if(j===null)cd(s,r,m,bi,l),If(s,m);else if(zw(j,s,r,l,m))m.stopPropagation();else if(If(s,m),r&4&&-1<Fw.indexOf(s)){for(;j!==null;){var C=wo(j);if(C!==null&&Df(C),C=Wc(s,r,l,m),C===null&&cd(s,r,m,bi,l),C===j)break;j=C}j!==null&&m.stopPropagation()}else cd(s,r,m,null,l)}}var bi=null;function Wc(s,r,l,m){if(bi=null,s=ft(m),s=$a(s),s!==null)if(r=Oa(s),r===null)s=null;else if(l=r.tag,l===13){if(s=Sf(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null);return bi=s,null}function Bf(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pw()){case Fc:return 1;case Pf:return 4;case hi:case Aw:return 16;case Af:return 536870912;default:return 16}default:return 16}}var aa=null,Kc=null,Si=null;function Uf(){if(Si)return Si;var s,r=Kc,l=r.length,m,j="value"in aa?aa.value:aa.textContent,C=j.length;for(s=0;s<l&&r[s]===j[s];s++);var D=l-s;for(m=1;m<=D&&r[l-m]===j[C-m];m++);return Si=j.slice(s,1<m?1-m:void 0)}function Ci(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function _i(){return!0}function Vf(){return!1}function Vs(s){function r(l,m,j,C,D){this._reactName=l,this._targetInst=j,this.type=m,this.nativeEvent=C,this.target=D,this.currentTarget=null;for(var H in s)s.hasOwnProperty(H)&&(l=s[H],this[H]=l?l(C):C[H]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?_i:Vf,this.isPropagationStopped=Vf,this}return ee(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),r}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gc=Vs(lr),co=ee({},lr,{view:0,detail:0}),Hw=Vs(co),Yc,Jc,uo,Ei=ee({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xc,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==uo&&(uo&&s.type==="mousemove"?(Yc=s.screenX-uo.screenX,Jc=s.screenY-uo.screenY):Jc=Yc=0,uo=s),Yc)},movementY:function(s){return"movementY"in s?s.movementY:Jc}}),Hf=Vs(Ei),qw=ee({},Ei,{dataTransfer:0}),Ww=Vs(qw),Kw=ee({},co,{relatedTarget:0}),Qc=Vs(Kw),Gw=ee({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),Yw=Vs(Gw),Jw=ee({},lr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Qw=Vs(Jw),Xw=ee({},lr,{data:0}),qf=Vs(Xw),Zw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sN(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=tN[s])?!!r[s]:!1}function Xc(){return sN}var nN=ee({},co,{key:function(s){if(s.key){var r=Zw[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Ci(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?eN[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xc,charCode:function(s){return s.type==="keypress"?Ci(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ci(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),aN=Vs(nN),rN=ee({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wf=Vs(rN),oN=ee({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xc}),iN=Vs(oN),lN=ee({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),cN=Vs(lN),dN=ee({},Ei,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),uN=Vs(dN),mN=[9,13,27,32],Zc=f&&"CompositionEvent"in window,mo=null;f&&"documentMode"in document&&(mo=document.documentMode);var fN=f&&"TextEvent"in window&&!mo,Kf=f&&(!Zc||mo&&8<mo&&11>=mo),Gf=" ",Yf=!1;function Jf(s,r){switch(s){case"keyup":return mN.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var cr=!1;function pN(s,r){switch(s){case"compositionend":return Qf(r);case"keypress":return r.which!==32?null:(Yf=!0,Gf);case"textInput":return s=r.data,s===Gf&&Yf?null:s;default:return null}}function hN(s,r){if(cr)return s==="compositionend"||!Zc&&Jf(s,r)?(s=Uf(),Si=Kc=aa=null,cr=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Kf&&r.locale!=="ko"?null:r.data;default:return null}}var xN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xf(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!xN[s.type]:r==="textarea"}function Zf(s,r,l,m){me(m),r=Ti(r,"onChange"),0<r.length&&(l=new Gc("onChange","change",null,l,m),s.push({event:l,listeners:r}))}var fo=null,po=null;function gN(s){gp(s,0)}function Ri(s){var r=pr(s);if(Pe(r))return s}function vN(s,r){if(s==="change")return r}var ep=!1;if(f){var ed;if(f){var td="oninput"in document;if(!td){var tp=document.createElement("div");tp.setAttribute("oninput","return;"),td=typeof tp.oninput=="function"}ed=td}else ed=!1;ep=ed&&(!document.documentMode||9<document.documentMode)}function sp(){fo&&(fo.detachEvent("onpropertychange",np),po=fo=null)}function np(s){if(s.propertyName==="value"&&Ri(po)){var r=[];Zf(r,po,s,ft(s)),es(gN,r)}}function yN(s,r,l){s==="focusin"?(sp(),fo=r,po=l,fo.attachEvent("onpropertychange",np)):s==="focusout"&&sp()}function jN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ri(po)}function wN(s,r){if(s==="click")return Ri(r)}function NN(s,r){if(s==="input"||s==="change")return Ri(r)}function bN(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var on=typeof Object.is=="function"?Object.is:bN;function ho(s,r){if(on(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),m=Object.keys(r);if(l.length!==m.length)return!1;for(m=0;m<l.length;m++){var j=l[m];if(!u.call(r,j)||!on(s[j],r[j]))return!1}return!0}function ap(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function rp(s,r){var l=ap(s);s=0;for(var m;l;){if(l.nodeType===3){if(m=s+l.textContent.length,s<=r&&m>=r)return{node:l,offset:r-s};s=m}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ap(l)}}function op(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?op(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function ip(){for(var s=window,r=Ye();r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=Ye(s.document)}return r}function sd(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}function SN(s){var r=ip(),l=s.focusedElem,m=s.selectionRange;if(r!==l&&l&&l.ownerDocument&&op(l.ownerDocument.documentElement,l)){if(m!==null&&sd(l)){if(r=m.start,s=m.end,s===void 0&&(s=r),"selectionStart"in l)l.selectionStart=r,l.selectionEnd=Math.min(s,l.value.length);else if(s=(r=l.ownerDocument||document)&&r.defaultView||window,s.getSelection){s=s.getSelection();var j=l.textContent.length,C=Math.min(m.start,j);m=m.end===void 0?C:Math.min(m.end,j),!s.extend&&C>m&&(j=m,m=C,C=j),j=rp(l,C);var D=rp(l,m);j&&D&&(s.rangeCount!==1||s.anchorNode!==j.node||s.anchorOffset!==j.offset||s.focusNode!==D.node||s.focusOffset!==D.offset)&&(r=r.createRange(),r.setStart(j.node,j.offset),s.removeAllRanges(),C>m?(s.addRange(r),s.extend(D.node,D.offset)):(r.setEnd(D.node,D.offset),s.addRange(r)))}}for(r=[],s=l;s=s.parentNode;)s.nodeType===1&&r.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<r.length;l++)s=r[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var CN=f&&"documentMode"in document&&11>=document.documentMode,dr=null,nd=null,xo=null,ad=!1;function lp(s,r,l){var m=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ad||dr==null||dr!==Ye(m)||(m=dr,"selectionStart"in m&&sd(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),xo&&ho(xo,m)||(xo=m,m=Ti(nd,"onSelect"),0<m.length&&(r=new Gc("onSelect","select",null,r,l),s.push({event:r,listeners:m}),r.target=dr)))}function ki(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var ur={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionend:ki("Transition","TransitionEnd")},rd={},cp={};f&&(cp=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function Pi(s){if(rd[s])return rd[s];if(!ur[s])return s;var r=ur[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in cp)return rd[s]=r[l];return s}var dp=Pi("animationend"),up=Pi("animationiteration"),mp=Pi("animationstart"),fp=Pi("transitionend"),pp=new Map,hp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ra(s,r){pp.set(s,r),c(r,[s])}for(var od=0;od<hp.length;od++){var id=hp[od],_N=id.toLowerCase(),EN=id[0].toUpperCase()+id.slice(1);ra(_N,"on"+EN)}ra(dp,"onAnimationEnd"),ra(up,"onAnimationIteration"),ra(mp,"onAnimationStart"),ra("dblclick","onDoubleClick"),ra("focusin","onFocus"),ra("focusout","onBlur"),ra(fp,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RN=new Set("cancel close invalid load scroll toggle".split(" ").concat(go));function xp(s,r,l){var m=s.type||"unknown-event";s.currentTarget=l,_w(m,r,void 0,s),s.currentTarget=null}function gp(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var m=s[l],j=m.event;m=m.listeners;e:{var C=void 0;if(r)for(var D=m.length-1;0<=D;D--){var H=m[D],Y=H.instance,oe=H.currentTarget;if(H=H.listener,Y!==C&&j.isPropagationStopped())break e;xp(j,H,oe),C=Y}else for(D=0;D<m.length;D++){if(H=m[D],Y=H.instance,oe=H.currentTarget,H=H.listener,Y!==C&&j.isPropagationStopped())break e;xp(j,H,oe),C=Y}}}if(pi)throw s=Ic,pi=!1,Ic=null,s}function Ft(s,r){var l=r[hd];l===void 0&&(l=r[hd]=new Set);var m=s+"__bubble";l.has(m)||(vp(r,s,2,!1),l.add(m))}function ld(s,r,l){var m=0;r&&(m|=4),vp(l,s,m,r)}var Ai="_reactListening"+Math.random().toString(36).slice(2);function vo(s){if(!s[Ai]){s[Ai]=!0,o.forEach(function(l){l!=="selectionchange"&&(RN.has(l)||ld(l,!1,s),ld(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Ai]||(r[Ai]=!0,ld("selectionchange",!1,r))}}function vp(s,r,l,m){switch(Bf(r)){case 1:var j=Uw;break;case 4:j=Vw;break;default:j=qc}l=j.bind(null,r,l,s),j=void 0,!qt||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(j=!0),m?j!==void 0?s.addEventListener(r,l,{capture:!0,passive:j}):s.addEventListener(r,l,!0):j!==void 0?s.addEventListener(r,l,{passive:j}):s.addEventListener(r,l,!1)}function cd(s,r,l,m,j){var C=m;if((r&1)===0&&(r&2)===0&&m!==null)e:for(;;){if(m===null)return;var D=m.tag;if(D===3||D===4){var H=m.stateNode.containerInfo;if(H===j||H.nodeType===8&&H.parentNode===j)break;if(D===4)for(D=m.return;D!==null;){var Y=D.tag;if((Y===3||Y===4)&&(Y=D.stateNode.containerInfo,Y===j||Y.nodeType===8&&Y.parentNode===j))return;D=D.return}for(;H!==null;){if(D=$a(H),D===null)return;if(Y=D.tag,Y===5||Y===6){m=C=D;continue e}H=H.parentNode}}m=m.return}es(function(){var oe=C,je=ft(l),Ne=[];e:{var ye=pp.get(s);if(ye!==void 0){var Le=Gc,Be=s;switch(s){case"keypress":if(Ci(l)===0)break e;case"keydown":case"keyup":Le=aN;break;case"focusin":Be="focus",Le=Qc;break;case"focusout":Be="blur",Le=Qc;break;case"beforeblur":case"afterblur":Le=Qc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=Hf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=Ww;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=iN;break;case dp:case up:case mp:Le=Yw;break;case fp:Le=cN;break;case"scroll":Le=Hw;break;case"wheel":Le=uN;break;case"copy":case"cut":case"paste":Le=Qw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=Wf}var Ve=(r&4)!==0,ss=!Ve&&s==="scroll",se=Ve?ye!==null?ye+"Capture":null:ye;Ve=[];for(var Q=oe,re;Q!==null;){re=Q;var Ce=re.stateNode;if(re.tag===5&&Ce!==null&&(re=Ce,se!==null&&(Ce=ct(Q,se),Ce!=null&&Ve.push(yo(Q,Ce,re)))),ss)break;Q=Q.return}0<Ve.length&&(ye=new Le(ye,Be,null,l,je),Ne.push({event:ye,listeners:Ve}))}}if((r&7)===0){e:{if(ye=s==="mouseover"||s==="pointerover",Le=s==="mouseout"||s==="pointerout",ye&&l!==Fe&&(Be=l.relatedTarget||l.fromElement)&&($a(Be)||Be[Un]))break e;if((Le||ye)&&(ye=je.window===je?je:(ye=je.ownerDocument)?ye.defaultView||ye.parentWindow:window,Le?(Be=l.relatedTarget||l.toElement,Le=oe,Be=Be?$a(Be):null,Be!==null&&(ss=Oa(Be),Be!==ss||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(Le=null,Be=oe),Le!==Be)){if(Ve=Hf,Ce="onMouseLeave",se="onMouseEnter",Q="mouse",(s==="pointerout"||s==="pointerover")&&(Ve=Wf,Ce="onPointerLeave",se="onPointerEnter",Q="pointer"),ss=Le==null?ye:pr(Le),re=Be==null?ye:pr(Be),ye=new Ve(Ce,Q+"leave",Le,l,je),ye.target=ss,ye.relatedTarget=re,Ce=null,$a(je)===oe&&(Ve=new Ve(se,Q+"enter",Be,l,je),Ve.target=re,Ve.relatedTarget=ss,Ce=Ve),ss=Ce,Le&&Be)t:{for(Ve=Le,se=Be,Q=0,re=Ve;re;re=mr(re))Q++;for(re=0,Ce=se;Ce;Ce=mr(Ce))re++;for(;0<Q-re;)Ve=mr(Ve),Q--;for(;0<re-Q;)se=mr(se),re--;for(;Q--;){if(Ve===se||se!==null&&Ve===se.alternate)break t;Ve=mr(Ve),se=mr(se)}Ve=null}else Ve=null;Le!==null&&yp(Ne,ye,Le,Ve,!1),Be!==null&&ss!==null&&yp(Ne,ss,Be,Ve,!0)}}e:{if(ye=oe?pr(oe):window,Le=ye.nodeName&&ye.nodeName.toLowerCase(),Le==="select"||Le==="input"&&ye.type==="file")var He=vN;else if(Xf(ye))if(ep)He=NN;else{He=jN;var Ke=yN}else(Le=ye.nodeName)&&Le.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(He=wN);if(He&&(He=He(s,oe))){Zf(Ne,He,l,je);break e}Ke&&Ke(s,ye,oe),s==="focusout"&&(Ke=ye._wrapperState)&&Ke.controlled&&ye.type==="number"&&Oe(ye,"number",ye.value)}switch(Ke=oe?pr(oe):window,s){case"focusin":(Xf(Ke)||Ke.contentEditable==="true")&&(dr=Ke,nd=oe,xo=null);break;case"focusout":xo=nd=dr=null;break;case"mousedown":ad=!0;break;case"contextmenu":case"mouseup":case"dragend":ad=!1,lp(Ne,l,je);break;case"selectionchange":if(CN)break;case"keydown":case"keyup":lp(Ne,l,je)}var Ge;if(Zc)e:{switch(s){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else cr?Jf(s,l)&&(Qe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Qe="onCompositionStart");Qe&&(Kf&&l.locale!=="ko"&&(cr||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&cr&&(Ge=Uf()):(aa=je,Kc="value"in aa?aa.value:aa.textContent,cr=!0)),Ke=Ti(oe,Qe),0<Ke.length&&(Qe=new qf(Qe,s,null,l,je),Ne.push({event:Qe,listeners:Ke}),Ge?Qe.data=Ge:(Ge=Qf(l),Ge!==null&&(Qe.data=Ge)))),(Ge=fN?pN(s,l):hN(s,l))&&(oe=Ti(oe,"onBeforeInput"),0<oe.length&&(je=new qf("onBeforeInput","beforeinput",null,l,je),Ne.push({event:je,listeners:oe}),je.data=Ge))}gp(Ne,r)})}function yo(s,r,l){return{instance:s,listener:r,currentTarget:l}}function Ti(s,r){for(var l=r+"Capture",m=[];s!==null;){var j=s,C=j.stateNode;j.tag===5&&C!==null&&(j=C,C=ct(s,l),C!=null&&m.unshift(yo(s,C,j)),C=ct(s,r),C!=null&&m.push(yo(s,C,j))),s=s.return}return m}function mr(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function yp(s,r,l,m,j){for(var C=r._reactName,D=[];l!==null&&l!==m;){var H=l,Y=H.alternate,oe=H.stateNode;if(Y!==null&&Y===m)break;H.tag===5&&oe!==null&&(H=oe,j?(Y=ct(l,C),Y!=null&&D.unshift(yo(l,Y,H))):j||(Y=ct(l,C),Y!=null&&D.push(yo(l,Y,H)))),l=l.return}D.length!==0&&s.push({event:r,listeners:D})}var kN=/\r\n?/g,PN=/\u0000|\uFFFD/g;function jp(s){return(typeof s=="string"?s:""+s).replace(kN,`
`).replace(PN,"")}function Mi(s,r,l){if(r=jp(r),jp(s)!==r&&l)throw Error(a(425))}function Di(){}var dd=null,ud=null;function md(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var fd=typeof setTimeout=="function"?setTimeout:void 0,AN=typeof clearTimeout=="function"?clearTimeout:void 0,wp=typeof Promise=="function"?Promise:void 0,TN=typeof queueMicrotask=="function"?queueMicrotask:typeof wp<"u"?function(s){return wp.resolve(null).then(s).catch(MN)}:fd;function MN(s){setTimeout(function(){throw s})}function pd(s,r){var l=r,m=0;do{var j=l.nextSibling;if(s.removeChild(l),j&&j.nodeType===8)if(l=j.data,l==="/$"){if(m===0){s.removeChild(j),lo(r);return}m--}else l!=="$"&&l!=="$?"&&l!=="$!"||m++;l=j}while(l);lo(r)}function oa(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return s}function Np(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return s;r--}else l==="/$"&&r++}s=s.previousSibling}return null}var fr=Math.random().toString(36).slice(2),Nn="__reactFiber$"+fr,jo="__reactProps$"+fr,Un="__reactContainer$"+fr,hd="__reactEvents$"+fr,DN="__reactListeners$"+fr,ON="__reactHandles$"+fr;function $a(s){var r=s[Nn];if(r)return r;for(var l=s.parentNode;l;){if(r=l[Un]||l[Nn]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=Np(s);s!==null;){if(l=s[Nn])return l;s=Np(s)}return r}s=l,l=s.parentNode}return null}function wo(s){return s=s[Nn]||s[Un],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function pr(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(a(33))}function Oi(s){return s[jo]||null}var xd=[],hr=-1;function ia(s){return{current:s}}function zt(s){0>hr||(s.current=xd[hr],xd[hr]=null,hr--)}function Lt(s,r){hr++,xd[hr]=s.current,s.current=r}var la={},ws=ia(la),Ds=ia(!1),La=la;function xr(s,r){var l=s.type.contextTypes;if(!l)return la;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===r)return m.__reactInternalMemoizedMaskedChildContext;var j={},C;for(C in l)j[C]=r[C];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=r,s.__reactInternalMemoizedMaskedChildContext=j),j}function Os(s){return s=s.childContextTypes,s!=null}function $i(){zt(Ds),zt(ws)}function bp(s,r,l){if(ws.current!==la)throw Error(a(168));Lt(ws,r),Lt(Ds,l)}function Sp(s,r,l){var m=s.stateNode;if(r=r.childContextTypes,typeof m.getChildContext!="function")return l;m=m.getChildContext();for(var j in m)if(!(j in r))throw Error(a(108,Z(s)||"Unknown",j));return ee({},l,m)}function Li(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||la,La=ws.current,Lt(ws,s),Lt(Ds,Ds.current),!0}function Cp(s,r,l){var m=s.stateNode;if(!m)throw Error(a(169));l?(s=Sp(s,r,La),m.__reactInternalMemoizedMergedChildContext=s,zt(Ds),zt(ws),Lt(ws,s)):zt(Ds),Lt(Ds,l)}var Vn=null,Ii=!1,gd=!1;function _p(s){Vn===null?Vn=[s]:Vn.push(s)}function $N(s){Ii=!0,_p(s)}function ca(){if(!gd&&Vn!==null){gd=!0;var s=0,r=Pt;try{var l=Vn;for(Pt=1;s<l.length;s++){var m=l[s];do m=m(!0);while(m!==null)}Vn=null,Ii=!1}catch(j){throw Vn!==null&&(Vn=Vn.slice(s+1)),Rf(Fc,ca),j}finally{Pt=r,gd=!1}}return null}var gr=[],vr=0,Fi=null,zi=0,Ys=[],Js=0,Ia=null,Hn=1,qn="";function Fa(s,r){gr[vr++]=zi,gr[vr++]=Fi,Fi=s,zi=r}function Ep(s,r,l){Ys[Js++]=Hn,Ys[Js++]=qn,Ys[Js++]=Ia,Ia=s;var m=Hn;s=qn;var j=32-rn(m)-1;m&=~(1<<j),l+=1;var C=32-rn(r)+j;if(30<C){var D=j-j%5;C=(m&(1<<D)-1).toString(32),m>>=D,j-=D,Hn=1<<32-rn(r)+j|l<<j|m,qn=C+s}else Hn=1<<C|l<<j|m,qn=s}function vd(s){s.return!==null&&(Fa(s,1),Ep(s,1,0))}function yd(s){for(;s===Fi;)Fi=gr[--vr],gr[vr]=null,zi=gr[--vr],gr[vr]=null;for(;s===Ia;)Ia=Ys[--Js],Ys[Js]=null,qn=Ys[--Js],Ys[Js]=null,Hn=Ys[--Js],Ys[Js]=null}var Hs=null,qs=null,Ht=!1,ln=null;function Rp(s,r){var l=en(5,null,null,0);l.elementType="DELETED",l.stateNode=r,l.return=s,r=s.deletions,r===null?(s.deletions=[l],s.flags|=16):r.push(l)}function kp(s,r){switch(s.tag){case 5:var l=s.type;return r=r.nodeType!==1||l.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(s.stateNode=r,Hs=s,qs=oa(r.firstChild),!0):!1;case 6:return r=s.pendingProps===""||r.nodeType!==3?null:r,r!==null?(s.stateNode=r,Hs=s,qs=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(l=Ia!==null?{id:Hn,overflow:qn}:null,s.memoizedState={dehydrated:r,treeContext:l,retryLane:1073741824},l=en(18,null,null,0),l.stateNode=r,l.return=s,s.child=l,Hs=s,qs=null,!0):!1;default:return!1}}function jd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function wd(s){if(Ht){var r=qs;if(r){var l=r;if(!kp(s,r)){if(jd(s))throw Error(a(418));r=oa(l.nextSibling);var m=Hs;r&&kp(s,r)?Rp(m,l):(s.flags=s.flags&-4097|2,Ht=!1,Hs=s)}}else{if(jd(s))throw Error(a(418));s.flags=s.flags&-4097|2,Ht=!1,Hs=s}}}function Pp(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Hs=s}function Bi(s){if(s!==Hs)return!1;if(!Ht)return Pp(s),Ht=!0,!1;var r;if((r=s.tag!==3)&&!(r=s.tag!==5)&&(r=s.type,r=r!=="head"&&r!=="body"&&!md(s.type,s.memoizedProps)),r&&(r=qs)){if(jd(s))throw Ap(),Error(a(418));for(;r;)Rp(s,r),r=oa(r.nextSibling)}if(Pp(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(a(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(r===0){qs=oa(s.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++}s=s.nextSibling}qs=null}}else qs=Hs?oa(s.stateNode.nextSibling):null;return!0}function Ap(){for(var s=qs;s;)s=oa(s.nextSibling)}function yr(){qs=Hs=null,Ht=!1}function Nd(s){ln===null?ln=[s]:ln.push(s)}var LN=k.ReactCurrentBatchConfig;function No(s,r,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(a(309));var m=l.stateNode}if(!m)throw Error(a(147,s));var j=m,C=""+s;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===C?r.ref:(r=function(D){var H=j.refs;D===null?delete H[C]:H[C]=D},r._stringRef=C,r)}if(typeof s!="string")throw Error(a(284));if(!l._owner)throw Error(a(290,s))}return s}function Ui(s,r){throw s=Object.prototype.toString.call(r),Error(a(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s))}function Tp(s){var r=s._init;return r(s._payload)}function Mp(s){function r(se,Q){if(s){var re=se.deletions;re===null?(se.deletions=[Q],se.flags|=16):re.push(Q)}}function l(se,Q){if(!s)return null;for(;Q!==null;)r(se,Q),Q=Q.sibling;return null}function m(se,Q){for(se=new Map;Q!==null;)Q.key!==null?se.set(Q.key,Q):se.set(Q.index,Q),Q=Q.sibling;return se}function j(se,Q){return se=ga(se,Q),se.index=0,se.sibling=null,se}function C(se,Q,re){return se.index=re,s?(re=se.alternate,re!==null?(re=re.index,re<Q?(se.flags|=2,Q):re):(se.flags|=2,Q)):(se.flags|=1048576,Q)}function D(se){return s&&se.alternate===null&&(se.flags|=2),se}function H(se,Q,re,Ce){return Q===null||Q.tag!==6?(Q=fu(re,se.mode,Ce),Q.return=se,Q):(Q=j(Q,re),Q.return=se,Q)}function Y(se,Q,re,Ce){var He=re.type;return He===A?je(se,Q,re.props.children,Ce,re.key):Q!==null&&(Q.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===M&&Tp(He)===Q.type)?(Ce=j(Q,re.props),Ce.ref=No(se,Q,re),Ce.return=se,Ce):(Ce=ml(re.type,re.key,re.props,null,se.mode,Ce),Ce.ref=No(se,Q,re),Ce.return=se,Ce)}function oe(se,Q,re,Ce){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==re.containerInfo||Q.stateNode.implementation!==re.implementation?(Q=pu(re,se.mode,Ce),Q.return=se,Q):(Q=j(Q,re.children||[]),Q.return=se,Q)}function je(se,Q,re,Ce,He){return Q===null||Q.tag!==7?(Q=Ka(re,se.mode,Ce,He),Q.return=se,Q):(Q=j(Q,re),Q.return=se,Q)}function Ne(se,Q,re){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=fu(""+Q,se.mode,re),Q.return=se,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case T:return re=ml(Q.type,Q.key,Q.props,null,se.mode,re),re.ref=No(se,null,Q),re.return=se,re;case P:return Q=pu(Q,se.mode,re),Q.return=se,Q;case M:var Ce=Q._init;return Ne(se,Ce(Q._payload),re)}if(De(Q)||X(Q))return Q=Ka(Q,se.mode,re,null),Q.return=se,Q;Ui(se,Q)}return null}function ye(se,Q,re,Ce){var He=Q!==null?Q.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return He!==null?null:H(se,Q,""+re,Ce);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case T:return re.key===He?Y(se,Q,re,Ce):null;case P:return re.key===He?oe(se,Q,re,Ce):null;case M:return He=re._init,ye(se,Q,He(re._payload),Ce)}if(De(re)||X(re))return He!==null?null:je(se,Q,re,Ce,null);Ui(se,re)}return null}function Le(se,Q,re,Ce,He){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return se=se.get(re)||null,H(Q,se,""+Ce,He);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case T:return se=se.get(Ce.key===null?re:Ce.key)||null,Y(Q,se,Ce,He);case P:return se=se.get(Ce.key===null?re:Ce.key)||null,oe(Q,se,Ce,He);case M:var Ke=Ce._init;return Le(se,Q,re,Ke(Ce._payload),He)}if(De(Ce)||X(Ce))return se=se.get(re)||null,je(Q,se,Ce,He,null);Ui(Q,Ce)}return null}function Be(se,Q,re,Ce){for(var He=null,Ke=null,Ge=Q,Qe=Q=0,hs=null;Ge!==null&&Qe<re.length;Qe++){Ge.index>Qe?(hs=Ge,Ge=null):hs=Ge.sibling;var wt=ye(se,Ge,re[Qe],Ce);if(wt===null){Ge===null&&(Ge=hs);break}s&&Ge&&wt.alternate===null&&r(se,Ge),Q=C(wt,Q,Qe),Ke===null?He=wt:Ke.sibling=wt,Ke=wt,Ge=hs}if(Qe===re.length)return l(se,Ge),Ht&&Fa(se,Qe),He;if(Ge===null){for(;Qe<re.length;Qe++)Ge=Ne(se,re[Qe],Ce),Ge!==null&&(Q=C(Ge,Q,Qe),Ke===null?He=Ge:Ke.sibling=Ge,Ke=Ge);return Ht&&Fa(se,Qe),He}for(Ge=m(se,Ge);Qe<re.length;Qe++)hs=Le(Ge,se,Qe,re[Qe],Ce),hs!==null&&(s&&hs.alternate!==null&&Ge.delete(hs.key===null?Qe:hs.key),Q=C(hs,Q,Qe),Ke===null?He=hs:Ke.sibling=hs,Ke=hs);return s&&Ge.forEach(function(va){return r(se,va)}),Ht&&Fa(se,Qe),He}function Ve(se,Q,re,Ce){var He=X(re);if(typeof He!="function")throw Error(a(150));if(re=He.call(re),re==null)throw Error(a(151));for(var Ke=He=null,Ge=Q,Qe=Q=0,hs=null,wt=re.next();Ge!==null&&!wt.done;Qe++,wt=re.next()){Ge.index>Qe?(hs=Ge,Ge=null):hs=Ge.sibling;var va=ye(se,Ge,wt.value,Ce);if(va===null){Ge===null&&(Ge=hs);break}s&&Ge&&va.alternate===null&&r(se,Ge),Q=C(va,Q,Qe),Ke===null?He=va:Ke.sibling=va,Ke=va,Ge=hs}if(wt.done)return l(se,Ge),Ht&&Fa(se,Qe),He;if(Ge===null){for(;!wt.done;Qe++,wt=re.next())wt=Ne(se,wt.value,Ce),wt!==null&&(Q=C(wt,Q,Qe),Ke===null?He=wt:Ke.sibling=wt,Ke=wt);return Ht&&Fa(se,Qe),He}for(Ge=m(se,Ge);!wt.done;Qe++,wt=re.next())wt=Le(Ge,se,Qe,wt.value,Ce),wt!==null&&(s&&wt.alternate!==null&&Ge.delete(wt.key===null?Qe:wt.key),Q=C(wt,Q,Qe),Ke===null?He=wt:Ke.sibling=wt,Ke=wt);return s&&Ge.forEach(function(xb){return r(se,xb)}),Ht&&Fa(se,Qe),He}function ss(se,Q,re,Ce){if(typeof re=="object"&&re!==null&&re.type===A&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case T:e:{for(var He=re.key,Ke=Q;Ke!==null;){if(Ke.key===He){if(He=re.type,He===A){if(Ke.tag===7){l(se,Ke.sibling),Q=j(Ke,re.props.children),Q.return=se,se=Q;break e}}else if(Ke.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===M&&Tp(He)===Ke.type){l(se,Ke.sibling),Q=j(Ke,re.props),Q.ref=No(se,Ke,re),Q.return=se,se=Q;break e}l(se,Ke);break}else r(se,Ke);Ke=Ke.sibling}re.type===A?(Q=Ka(re.props.children,se.mode,Ce,re.key),Q.return=se,se=Q):(Ce=ml(re.type,re.key,re.props,null,se.mode,Ce),Ce.ref=No(se,Q,re),Ce.return=se,se=Ce)}return D(se);case P:e:{for(Ke=re.key;Q!==null;){if(Q.key===Ke)if(Q.tag===4&&Q.stateNode.containerInfo===re.containerInfo&&Q.stateNode.implementation===re.implementation){l(se,Q.sibling),Q=j(Q,re.children||[]),Q.return=se,se=Q;break e}else{l(se,Q);break}else r(se,Q);Q=Q.sibling}Q=pu(re,se.mode,Ce),Q.return=se,se=Q}return D(se);case M:return Ke=re._init,ss(se,Q,Ke(re._payload),Ce)}if(De(re))return Be(se,Q,re,Ce);if(X(re))return Ve(se,Q,re,Ce);Ui(se,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,Q!==null&&Q.tag===6?(l(se,Q.sibling),Q=j(Q,re),Q.return=se,se=Q):(l(se,Q),Q=fu(re,se.mode,Ce),Q.return=se,se=Q),D(se)):l(se,Q)}return ss}var jr=Mp(!0),Dp=Mp(!1),Vi=ia(null),Hi=null,wr=null,bd=null;function Sd(){bd=wr=Hi=null}function Cd(s){var r=Vi.current;zt(Vi),s._currentValue=r}function _d(s,r,l){for(;s!==null;){var m=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,m!==null&&(m.childLanes|=r)):m!==null&&(m.childLanes&r)!==r&&(m.childLanes|=r),s===l)break;s=s.return}}function Nr(s,r){Hi=s,bd=wr=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&r)!==0&&($s=!0),s.firstContext=null)}function Qs(s){var r=s._currentValue;if(bd!==s)if(s={context:s,memoizedValue:r,next:null},wr===null){if(Hi===null)throw Error(a(308));wr=s,Hi.dependencies={lanes:0,firstContext:s}}else wr=wr.next=s;return r}var za=null;function Ed(s){za===null?za=[s]:za.push(s)}function Op(s,r,l,m){var j=r.interleaved;return j===null?(l.next=l,Ed(r)):(l.next=j.next,j.next=l),r.interleaved=l,Wn(s,m)}function Wn(s,r){s.lanes|=r;var l=s.alternate;for(l!==null&&(l.lanes|=r),l=s,s=s.return;s!==null;)s.childLanes|=r,l=s.alternate,l!==null&&(l.childLanes|=r),l=s,s=s.return;return l.tag===3?l.stateNode:null}var da=!1;function Rd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $p(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Kn(s,r){return{eventTime:s,lane:r,tag:0,payload:null,callback:null,next:null}}function ua(s,r,l){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(gt&2)!==0){var j=m.pending;return j===null?r.next=r:(r.next=j.next,j.next=r),m.pending=r,Wn(s,l)}return j=m.interleaved,j===null?(r.next=r,Ed(m)):(r.next=j.next,j.next=r),m.interleaved=r,Wn(s,l)}function qi(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194240)!==0)){var m=r.lanes;m&=s.pendingLanes,l|=m,r.lanes=l,Uc(s,l)}}function Lp(s,r){var l=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,l===m)){var j=null,C=null;if(l=l.firstBaseUpdate,l!==null){do{var D={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};C===null?j=C=D:C=C.next=D,l=l.next}while(l!==null);C===null?j=C=r:C=C.next=r}else j=C=r;l={baseState:m.baseState,firstBaseUpdate:j,lastBaseUpdate:C,shared:m.shared,effects:m.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}function Wi(s,r,l,m){var j=s.updateQueue;da=!1;var C=j.firstBaseUpdate,D=j.lastBaseUpdate,H=j.shared.pending;if(H!==null){j.shared.pending=null;var Y=H,oe=Y.next;Y.next=null,D===null?C=oe:D.next=oe,D=Y;var je=s.alternate;je!==null&&(je=je.updateQueue,H=je.lastBaseUpdate,H!==D&&(H===null?je.firstBaseUpdate=oe:H.next=oe,je.lastBaseUpdate=Y))}if(C!==null){var Ne=j.baseState;D=0,je=oe=Y=null,H=C;do{var ye=H.lane,Le=H.eventTime;if((m&ye)===ye){je!==null&&(je=je.next={eventTime:Le,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Be=s,Ve=H;switch(ye=r,Le=l,Ve.tag){case 1:if(Be=Ve.payload,typeof Be=="function"){Ne=Be.call(Le,Ne,ye);break e}Ne=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ve.payload,ye=typeof Be=="function"?Be.call(Le,Ne,ye):Be,ye==null)break e;Ne=ee({},Ne,ye);break e;case 2:da=!0}}H.callback!==null&&H.lane!==0&&(s.flags|=64,ye=j.effects,ye===null?j.effects=[H]:ye.push(H))}else Le={eventTime:Le,lane:ye,tag:H.tag,payload:H.payload,callback:H.callback,next:null},je===null?(oe=je=Le,Y=Ne):je=je.next=Le,D|=ye;if(H=H.next,H===null){if(H=j.shared.pending,H===null)break;ye=H,H=ye.next,ye.next=null,j.lastBaseUpdate=ye,j.shared.pending=null}}while(!0);if(je===null&&(Y=Ne),j.baseState=Y,j.firstBaseUpdate=oe,j.lastBaseUpdate=je,r=j.shared.interleaved,r!==null){j=r;do D|=j.lane,j=j.next;while(j!==r)}else C===null&&(j.shared.lanes=0);Va|=D,s.lanes=D,s.memoizedState=Ne}}function Ip(s,r,l){if(s=r.effects,r.effects=null,s!==null)for(r=0;r<s.length;r++){var m=s[r],j=m.callback;if(j!==null){if(m.callback=null,m=l,typeof j!="function")throw Error(a(191,j));j.call(m)}}}var bo={},bn=ia(bo),So=ia(bo),Co=ia(bo);function Ba(s){if(s===bo)throw Error(a(174));return s}function kd(s,r){switch(Lt(Co,r),Lt(So,s),Lt(bn,bo),s=r.nodeType,s){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Zt(null,"");break;default:s=s===8?r.parentNode:r,r=s.namespaceURI||null,s=s.tagName,r=Zt(r,s)}zt(bn),Lt(bn,r)}function br(){zt(bn),zt(So),zt(Co)}function Fp(s){Ba(Co.current);var r=Ba(bn.current),l=Zt(r,s.type);r!==l&&(Lt(So,s),Lt(bn,l))}function Pd(s){So.current===s&&(zt(bn),zt(So))}var Wt=ia(0);function Ki(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ad=[];function Td(){for(var s=0;s<Ad.length;s++)Ad[s]._workInProgressVersionPrimary=null;Ad.length=0}var Gi=k.ReactCurrentDispatcher,Md=k.ReactCurrentBatchConfig,Ua=0,Kt=null,ds=null,fs=null,Yi=!1,_o=!1,Eo=0,IN=0;function Ns(){throw Error(a(321))}function Dd(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!on(s[l],r[l]))return!1;return!0}function Od(s,r,l,m,j,C){if(Ua=C,Kt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Gi.current=s===null||s.memoizedState===null?UN:VN,s=l(m,j),_o){C=0;do{if(_o=!1,Eo=0,25<=C)throw Error(a(301));C+=1,fs=ds=null,r.updateQueue=null,Gi.current=HN,s=l(m,j)}while(_o)}if(Gi.current=Xi,r=ds!==null&&ds.next!==null,Ua=0,fs=ds=Kt=null,Yi=!1,r)throw Error(a(300));return s}function $d(){var s=Eo!==0;return Eo=0,s}function Sn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fs===null?Kt.memoizedState=fs=s:fs=fs.next=s,fs}function Xs(){if(ds===null){var s=Kt.alternate;s=s!==null?s.memoizedState:null}else s=ds.next;var r=fs===null?Kt.memoizedState:fs.next;if(r!==null)fs=r,ds=s;else{if(s===null)throw Error(a(310));ds=s,s={memoizedState:ds.memoizedState,baseState:ds.baseState,baseQueue:ds.baseQueue,queue:ds.queue,next:null},fs===null?Kt.memoizedState=fs=s:fs=fs.next=s}return fs}function Ro(s,r){return typeof r=="function"?r(s):r}function Ld(s){var r=Xs(),l=r.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var m=ds,j=m.baseQueue,C=l.pending;if(C!==null){if(j!==null){var D=j.next;j.next=C.next,C.next=D}m.baseQueue=j=C,l.pending=null}if(j!==null){C=j.next,m=m.baseState;var H=D=null,Y=null,oe=C;do{var je=oe.lane;if((Ua&je)===je)Y!==null&&(Y=Y.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),m=oe.hasEagerState?oe.eagerState:s(m,oe.action);else{var Ne={lane:je,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};Y===null?(H=Y=Ne,D=m):Y=Y.next=Ne,Kt.lanes|=je,Va|=je}oe=oe.next}while(oe!==null&&oe!==C);Y===null?D=m:Y.next=H,on(m,r.memoizedState)||($s=!0),r.memoizedState=m,r.baseState=D,r.baseQueue=Y,l.lastRenderedState=m}if(s=l.interleaved,s!==null){j=s;do C=j.lane,Kt.lanes|=C,Va|=C,j=j.next;while(j!==s)}else j===null&&(l.lanes=0);return[r.memoizedState,l.dispatch]}function Id(s){var r=Xs(),l=r.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var m=l.dispatch,j=l.pending,C=r.memoizedState;if(j!==null){l.pending=null;var D=j=j.next;do C=s(C,D.action),D=D.next;while(D!==j);on(C,r.memoizedState)||($s=!0),r.memoizedState=C,r.baseQueue===null&&(r.baseState=C),l.lastRenderedState=C}return[C,m]}function zp(){}function Bp(s,r){var l=Kt,m=Xs(),j=r(),C=!on(m.memoizedState,j);if(C&&(m.memoizedState=j,$s=!0),m=m.queue,Fd(Hp.bind(null,l,m,s),[s]),m.getSnapshot!==r||C||fs!==null&&fs.memoizedState.tag&1){if(l.flags|=2048,ko(9,Vp.bind(null,l,m,j,r),void 0,null),ps===null)throw Error(a(349));(Ua&30)!==0||Up(l,r,j)}return j}function Up(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=Kt.updateQueue,r===null?(r={lastEffect:null,stores:null},Kt.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function Vp(s,r,l,m){r.value=l,r.getSnapshot=m,qp(r)&&Wp(s)}function Hp(s,r,l){return l(function(){qp(r)&&Wp(s)})}function qp(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!on(s,l)}catch{return!0}}function Wp(s){var r=Wn(s,1);r!==null&&mn(r,s,1,-1)}function Kp(s){var r=Sn();return typeof s=="function"&&(s=s()),r.memoizedState=r.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:s},r.queue=s,s=s.dispatch=BN.bind(null,Kt,s),[r.memoizedState,s]}function ko(s,r,l,m){return s={tag:s,create:r,destroy:l,deps:m,next:null},r=Kt.updateQueue,r===null?(r={lastEffect:null,stores:null},Kt.updateQueue=r,r.lastEffect=s.next=s):(l=r.lastEffect,l===null?r.lastEffect=s.next=s:(m=l.next,l.next=s,s.next=m,r.lastEffect=s)),s}function Gp(){return Xs().memoizedState}function Ji(s,r,l,m){var j=Sn();Kt.flags|=s,j.memoizedState=ko(1|r,l,void 0,m===void 0?null:m)}function Qi(s,r,l,m){var j=Xs();m=m===void 0?null:m;var C=void 0;if(ds!==null){var D=ds.memoizedState;if(C=D.destroy,m!==null&&Dd(m,D.deps)){j.memoizedState=ko(r,l,C,m);return}}Kt.flags|=s,j.memoizedState=ko(1|r,l,C,m)}function Yp(s,r){return Ji(8390656,8,s,r)}function Fd(s,r){return Qi(2048,8,s,r)}function Jp(s,r){return Qi(4,2,s,r)}function Qp(s,r){return Qi(4,4,s,r)}function Xp(s,r){if(typeof r=="function")return s=s(),r(s),function(){r(null)};if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Zp(s,r,l){return l=l!=null?l.concat([s]):null,Qi(4,4,Xp.bind(null,r,s),l)}function zd(){}function eh(s,r){var l=Xs();r=r===void 0?null:r;var m=l.memoizedState;return m!==null&&r!==null&&Dd(r,m[1])?m[0]:(l.memoizedState=[s,r],s)}function th(s,r){var l=Xs();r=r===void 0?null:r;var m=l.memoizedState;return m!==null&&r!==null&&Dd(r,m[1])?m[0]:(s=s(),l.memoizedState=[s,r],s)}function sh(s,r,l){return(Ua&21)===0?(s.baseState&&(s.baseState=!1,$s=!0),s.memoizedState=l):(on(l,r)||(l=Tf(),Kt.lanes|=l,Va|=l,s.baseState=!0),r)}function FN(s,r){var l=Pt;Pt=l!==0&&4>l?l:4,s(!0);var m=Md.transition;Md.transition={};try{s(!1),r()}finally{Pt=l,Md.transition=m}}function nh(){return Xs().memoizedState}function zN(s,r,l){var m=ha(s);if(l={lane:m,action:l,hasEagerState:!1,eagerState:null,next:null},ah(s))rh(r,l);else if(l=Op(s,r,l,m),l!==null){var j=Rs();mn(l,s,m,j),oh(l,r,m)}}function BN(s,r,l){var m=ha(s),j={lane:m,action:l,hasEagerState:!1,eagerState:null,next:null};if(ah(s))rh(r,j);else{var C=s.alternate;if(s.lanes===0&&(C===null||C.lanes===0)&&(C=r.lastRenderedReducer,C!==null))try{var D=r.lastRenderedState,H=C(D,l);if(j.hasEagerState=!0,j.eagerState=H,on(H,D)){var Y=r.interleaved;Y===null?(j.next=j,Ed(r)):(j.next=Y.next,Y.next=j),r.interleaved=j;return}}catch{}finally{}l=Op(s,r,j,m),l!==null&&(j=Rs(),mn(l,s,m,j),oh(l,r,m))}}function ah(s){var r=s.alternate;return s===Kt||r!==null&&r===Kt}function rh(s,r){_o=Yi=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function oh(s,r,l){if((l&4194240)!==0){var m=r.lanes;m&=s.pendingLanes,l|=m,r.lanes=l,Uc(s,l)}}var Xi={readContext:Qs,useCallback:Ns,useContext:Ns,useEffect:Ns,useImperativeHandle:Ns,useInsertionEffect:Ns,useLayoutEffect:Ns,useMemo:Ns,useReducer:Ns,useRef:Ns,useState:Ns,useDebugValue:Ns,useDeferredValue:Ns,useTransition:Ns,useMutableSource:Ns,useSyncExternalStore:Ns,useId:Ns,unstable_isNewReconciler:!1},UN={readContext:Qs,useCallback:function(s,r){return Sn().memoizedState=[s,r===void 0?null:r],s},useContext:Qs,useEffect:Yp,useImperativeHandle:function(s,r,l){return l=l!=null?l.concat([s]):null,Ji(4194308,4,Xp.bind(null,r,s),l)},useLayoutEffect:function(s,r){return Ji(4194308,4,s,r)},useInsertionEffect:function(s,r){return Ji(4,2,s,r)},useMemo:function(s,r){var l=Sn();return r=r===void 0?null:r,s=s(),l.memoizedState=[s,r],s},useReducer:function(s,r,l){var m=Sn();return r=l!==void 0?l(r):r,m.memoizedState=m.baseState=r,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:r},m.queue=s,s=s.dispatch=zN.bind(null,Kt,s),[m.memoizedState,s]},useRef:function(s){var r=Sn();return s={current:s},r.memoizedState=s},useState:Kp,useDebugValue:zd,useDeferredValue:function(s){return Sn().memoizedState=s},useTransition:function(){var s=Kp(!1),r=s[0];return s=FN.bind(null,s[1]),Sn().memoizedState=s,[r,s]},useMutableSource:function(){},useSyncExternalStore:function(s,r,l){var m=Kt,j=Sn();if(Ht){if(l===void 0)throw Error(a(407));l=l()}else{if(l=r(),ps===null)throw Error(a(349));(Ua&30)!==0||Up(m,r,l)}j.memoizedState=l;var C={value:l,getSnapshot:r};return j.queue=C,Yp(Hp.bind(null,m,C,s),[s]),m.flags|=2048,ko(9,Vp.bind(null,m,C,l,r),void 0,null),l},useId:function(){var s=Sn(),r=ps.identifierPrefix;if(Ht){var l=qn,m=Hn;l=(m&~(1<<32-rn(m)-1)).toString(32)+l,r=":"+r+"R"+l,l=Eo++,0<l&&(r+="H"+l.toString(32)),r+=":"}else l=IN++,r=":"+r+"r"+l.toString(32)+":";return s.memoizedState=r},unstable_isNewReconciler:!1},VN={readContext:Qs,useCallback:eh,useContext:Qs,useEffect:Fd,useImperativeHandle:Zp,useInsertionEffect:Jp,useLayoutEffect:Qp,useMemo:th,useReducer:Ld,useRef:Gp,useState:function(){return Ld(Ro)},useDebugValue:zd,useDeferredValue:function(s){var r=Xs();return sh(r,ds.memoizedState,s)},useTransition:function(){var s=Ld(Ro)[0],r=Xs().memoizedState;return[s,r]},useMutableSource:zp,useSyncExternalStore:Bp,useId:nh,unstable_isNewReconciler:!1},HN={readContext:Qs,useCallback:eh,useContext:Qs,useEffect:Fd,useImperativeHandle:Zp,useInsertionEffect:Jp,useLayoutEffect:Qp,useMemo:th,useReducer:Id,useRef:Gp,useState:function(){return Id(Ro)},useDebugValue:zd,useDeferredValue:function(s){var r=Xs();return ds===null?r.memoizedState=s:sh(r,ds.memoizedState,s)},useTransition:function(){var s=Id(Ro)[0],r=Xs().memoizedState;return[s,r]},useMutableSource:zp,useSyncExternalStore:Bp,useId:nh,unstable_isNewReconciler:!1};function cn(s,r){if(s&&s.defaultProps){r=ee({},r),s=s.defaultProps;for(var l in s)r[l]===void 0&&(r[l]=s[l]);return r}return r}function Bd(s,r,l,m){r=s.memoizedState,l=l(m,r),l=l==null?r:ee({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Zi={isMounted:function(s){return(s=s._reactInternals)?Oa(s)===s:!1},enqueueSetState:function(s,r,l){s=s._reactInternals;var m=Rs(),j=ha(s),C=Kn(m,j);C.payload=r,l!=null&&(C.callback=l),r=ua(s,C,j),r!==null&&(mn(r,s,j,m),qi(r,s,j))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var m=Rs(),j=ha(s),C=Kn(m,j);C.tag=1,C.payload=r,l!=null&&(C.callback=l),r=ua(s,C,j),r!==null&&(mn(r,s,j,m),qi(r,s,j))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=Rs(),m=ha(s),j=Kn(l,m);j.tag=2,r!=null&&(j.callback=r),r=ua(s,j,m),r!==null&&(mn(r,s,m,l),qi(r,s,m))}};function ih(s,r,l,m,j,C,D){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,C,D):r.prototype&&r.prototype.isPureReactComponent?!ho(l,m)||!ho(j,C):!0}function lh(s,r,l){var m=!1,j=la,C=r.contextType;return typeof C=="object"&&C!==null?C=Qs(C):(j=Os(r)?La:ws.current,m=r.contextTypes,C=(m=m!=null)?xr(s,j):la),r=new r(l,C),s.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Zi,s.stateNode=r,r._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=j,s.__reactInternalMemoizedMaskedChildContext=C),r}function ch(s,r,l,m){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,m),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,m),r.state!==s&&Zi.enqueueReplaceState(r,r.state,null)}function Ud(s,r,l,m){var j=s.stateNode;j.props=l,j.state=s.memoizedState,j.refs={},Rd(s);var C=r.contextType;typeof C=="object"&&C!==null?j.context=Qs(C):(C=Os(r)?La:ws.current,j.context=xr(s,C)),j.state=s.memoizedState,C=r.getDerivedStateFromProps,typeof C=="function"&&(Bd(s,r,C,l),j.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(r=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),r!==j.state&&Zi.enqueueReplaceState(j,j.state,null),Wi(s,l,j,m),j.state=s.memoizedState),typeof j.componentDidMount=="function"&&(s.flags|=4194308)}function Sr(s,r){try{var l="",m=r;do l+=z(m),m=m.return;while(m);var j=l}catch(C){j=`
Error generating stack: `+C.message+`
`+C.stack}return{value:s,source:r,stack:j,digest:null}}function Vd(s,r,l){return{value:s,source:null,stack:l??null,digest:r??null}}function Hd(s,r){try{console.error(r.value)}catch(l){setTimeout(function(){throw l})}}var qN=typeof WeakMap=="function"?WeakMap:Map;function dh(s,r,l){l=Kn(-1,l),l.tag=3,l.payload={element:null};var m=r.value;return l.callback=function(){ol||(ol=!0,ru=m),Hd(s,r)},l}function uh(s,r,l){l=Kn(-1,l),l.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var j=r.value;l.payload=function(){return m(j)},l.callback=function(){Hd(s,r)}}var C=s.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(l.callback=function(){Hd(s,r),typeof m!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var D=r.stack;this.componentDidCatch(r.value,{componentStack:D!==null?D:""})}),l}function mh(s,r,l){var m=s.pingCache;if(m===null){m=s.pingCache=new qN;var j=new Set;m.set(r,j)}else j=m.get(r),j===void 0&&(j=new Set,m.set(r,j));j.has(l)||(j.add(l),s=rb.bind(null,s,r,l),r.then(s,s))}function fh(s){do{var r;if((r=s.tag===13)&&(r=s.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return s;s=s.return}while(s!==null);return null}function ph(s,r,l,m,j){return(s.mode&1)===0?(s===r?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(r=Kn(-1,1),r.tag=2,ua(l,r,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=j,s)}var WN=k.ReactCurrentOwner,$s=!1;function Es(s,r,l,m){r.child=s===null?Dp(r,null,l,m):jr(r,s.child,l,m)}function hh(s,r,l,m,j){l=l.render;var C=r.ref;return Nr(r,j),m=Od(s,r,l,m,C,j),l=$d(),s!==null&&!$s?(r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~j,Gn(s,r,j)):(Ht&&l&&vd(r),r.flags|=1,Es(s,r,m,j),r.child)}function xh(s,r,l,m,j){if(s===null){var C=l.type;return typeof C=="function"&&!mu(C)&&C.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(r.tag=15,r.type=C,gh(s,r,C,m,j)):(s=ml(l.type,null,m,r,r.mode,j),s.ref=r.ref,s.return=r,r.child=s)}if(C=s.child,(s.lanes&j)===0){var D=C.memoizedProps;if(l=l.compare,l=l!==null?l:ho,l(D,m)&&s.ref===r.ref)return Gn(s,r,j)}return r.flags|=1,s=ga(C,m),s.ref=r.ref,s.return=r,r.child=s}function gh(s,r,l,m,j){if(s!==null){var C=s.memoizedProps;if(ho(C,m)&&s.ref===r.ref)if($s=!1,r.pendingProps=m=C,(s.lanes&j)!==0)(s.flags&131072)!==0&&($s=!0);else return r.lanes=s.lanes,Gn(s,r,j)}return qd(s,r,l,m,j)}function vh(s,r,l){var m=r.pendingProps,j=m.children,C=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lt(_r,Ws),Ws|=l;else{if((l&1073741824)===0)return s=C!==null?C.baseLanes|l:l,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:s,cachePool:null,transitions:null},r.updateQueue=null,Lt(_r,Ws),Ws|=s,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=C!==null?C.baseLanes:l,Lt(_r,Ws),Ws|=m}else C!==null?(m=C.baseLanes|l,r.memoizedState=null):m=l,Lt(_r,Ws),Ws|=m;return Es(s,r,j,l),r.child}function yh(s,r){var l=r.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(r.flags|=512,r.flags|=2097152)}function qd(s,r,l,m,j){var C=Os(l)?La:ws.current;return C=xr(r,C),Nr(r,j),l=Od(s,r,l,m,C,j),m=$d(),s!==null&&!$s?(r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~j,Gn(s,r,j)):(Ht&&m&&vd(r),r.flags|=1,Es(s,r,l,j),r.child)}function jh(s,r,l,m,j){if(Os(l)){var C=!0;Li(r)}else C=!1;if(Nr(r,j),r.stateNode===null)tl(s,r),lh(r,l,m),Ud(r,l,m,j),m=!0;else if(s===null){var D=r.stateNode,H=r.memoizedProps;D.props=H;var Y=D.context,oe=l.contextType;typeof oe=="object"&&oe!==null?oe=Qs(oe):(oe=Os(l)?La:ws.current,oe=xr(r,oe));var je=l.getDerivedStateFromProps,Ne=typeof je=="function"||typeof D.getSnapshotBeforeUpdate=="function";Ne||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(H!==m||Y!==oe)&&ch(r,D,m,oe),da=!1;var ye=r.memoizedState;D.state=ye,Wi(r,m,D,j),Y=r.memoizedState,H!==m||ye!==Y||Ds.current||da?(typeof je=="function"&&(Bd(r,l,je,m),Y=r.memoizedState),(H=da||ih(r,l,H,m,ye,Y,oe))?(Ne||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(r.flags|=4194308)):(typeof D.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=m,r.memoizedState=Y),D.props=m,D.state=Y,D.context=oe,m=H):(typeof D.componentDidMount=="function"&&(r.flags|=4194308),m=!1)}else{D=r.stateNode,$p(s,r),H=r.memoizedProps,oe=r.type===r.elementType?H:cn(r.type,H),D.props=oe,Ne=r.pendingProps,ye=D.context,Y=l.contextType,typeof Y=="object"&&Y!==null?Y=Qs(Y):(Y=Os(l)?La:ws.current,Y=xr(r,Y));var Le=l.getDerivedStateFromProps;(je=typeof Le=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(H!==Ne||ye!==Y)&&ch(r,D,m,Y),da=!1,ye=r.memoizedState,D.state=ye,Wi(r,m,D,j);var Be=r.memoizedState;H!==Ne||ye!==Be||Ds.current||da?(typeof Le=="function"&&(Bd(r,l,Le,m),Be=r.memoizedState),(oe=da||ih(r,l,oe,m,ye,Be,Y)||!1)?(je||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(m,Be,Y),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(m,Be,Y)),typeof D.componentDidUpdate=="function"&&(r.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof D.componentDidUpdate!="function"||H===s.memoizedProps&&ye===s.memoizedState||(r.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&ye===s.memoizedState||(r.flags|=1024),r.memoizedProps=m,r.memoizedState=Be),D.props=m,D.state=Be,D.context=Y,m=oe):(typeof D.componentDidUpdate!="function"||H===s.memoizedProps&&ye===s.memoizedState||(r.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&ye===s.memoizedState||(r.flags|=1024),m=!1)}return Wd(s,r,l,m,C,j)}function Wd(s,r,l,m,j,C){yh(s,r);var D=(r.flags&128)!==0;if(!m&&!D)return j&&Cp(r,l,!1),Gn(s,r,C);m=r.stateNode,WN.current=r;var H=D&&typeof l.getDerivedStateFromError!="function"?null:m.render();return r.flags|=1,s!==null&&D?(r.child=jr(r,s.child,null,C),r.child=jr(r,null,H,C)):Es(s,r,H,C),r.memoizedState=m.state,j&&Cp(r,l,!0),r.child}function wh(s){var r=s.stateNode;r.pendingContext?bp(s,r.pendingContext,r.pendingContext!==r.context):r.context&&bp(s,r.context,!1),kd(s,r.containerInfo)}function Nh(s,r,l,m,j){return yr(),Nd(j),r.flags|=256,Es(s,r,l,m),r.child}var Kd={dehydrated:null,treeContext:null,retryLane:0};function Gd(s){return{baseLanes:s,cachePool:null,transitions:null}}function bh(s,r,l){var m=r.pendingProps,j=Wt.current,C=!1,D=(r.flags&128)!==0,H;if((H=D)||(H=s!==null&&s.memoizedState===null?!1:(j&2)!==0),H?(C=!0,r.flags&=-129):(s===null||s.memoizedState!==null)&&(j|=1),Lt(Wt,j&1),s===null)return wd(r),s=r.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((r.mode&1)===0?r.lanes=1:s.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(D=m.children,s=m.fallback,C?(m=r.mode,C=r.child,D={mode:"hidden",children:D},(m&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=D):C=fl(D,m,0,null),s=Ka(s,m,l,null),C.return=r,s.return=r,C.sibling=s,r.child=C,r.child.memoizedState=Gd(l),r.memoizedState=Kd,s):Yd(r,D));if(j=s.memoizedState,j!==null&&(H=j.dehydrated,H!==null))return KN(s,r,D,m,H,j,l);if(C){C=m.fallback,D=r.mode,j=s.child,H=j.sibling;var Y={mode:"hidden",children:m.children};return(D&1)===0&&r.child!==j?(m=r.child,m.childLanes=0,m.pendingProps=Y,r.deletions=null):(m=ga(j,Y),m.subtreeFlags=j.subtreeFlags&14680064),H!==null?C=ga(H,C):(C=Ka(C,D,l,null),C.flags|=2),C.return=r,m.return=r,m.sibling=C,r.child=m,m=C,C=r.child,D=s.child.memoizedState,D=D===null?Gd(l):{baseLanes:D.baseLanes|l,cachePool:null,transitions:D.transitions},C.memoizedState=D,C.childLanes=s.childLanes&~l,r.memoizedState=Kd,m}return C=s.child,s=C.sibling,m=ga(C,{mode:"visible",children:m.children}),(r.mode&1)===0&&(m.lanes=l),m.return=r,m.sibling=null,s!==null&&(l=r.deletions,l===null?(r.deletions=[s],r.flags|=16):l.push(s)),r.child=m,r.memoizedState=null,m}function Yd(s,r){return r=fl({mode:"visible",children:r},s.mode,0,null),r.return=s,s.child=r}function el(s,r,l,m){return m!==null&&Nd(m),jr(r,s.child,null,l),s=Yd(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function KN(s,r,l,m,j,C,D){if(l)return r.flags&256?(r.flags&=-257,m=Vd(Error(a(422))),el(s,r,D,m)):r.memoizedState!==null?(r.child=s.child,r.flags|=128,null):(C=m.fallback,j=r.mode,m=fl({mode:"visible",children:m.children},j,0,null),C=Ka(C,j,D,null),C.flags|=2,m.return=r,C.return=r,m.sibling=C,r.child=m,(r.mode&1)!==0&&jr(r,s.child,null,D),r.child.memoizedState=Gd(D),r.memoizedState=Kd,C);if((r.mode&1)===0)return el(s,r,D,null);if(j.data==="$!"){if(m=j.nextSibling&&j.nextSibling.dataset,m)var H=m.dgst;return m=H,C=Error(a(419)),m=Vd(C,m,void 0),el(s,r,D,m)}if(H=(D&s.childLanes)!==0,$s||H){if(m=ps,m!==null){switch(D&-D){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(m.suspendedLanes|D))!==0?0:j,j!==0&&j!==C.retryLane&&(C.retryLane=j,Wn(s,j),mn(m,s,j,-1))}return uu(),m=Vd(Error(a(421))),el(s,r,D,m)}return j.data==="$?"?(r.flags|=128,r.child=s.child,r=ob.bind(null,s),j._reactRetry=r,null):(s=C.treeContext,qs=oa(j.nextSibling),Hs=r,Ht=!0,ln=null,s!==null&&(Ys[Js++]=Hn,Ys[Js++]=qn,Ys[Js++]=Ia,Hn=s.id,qn=s.overflow,Ia=r),r=Yd(r,m.children),r.flags|=4096,r)}function Sh(s,r,l){s.lanes|=r;var m=s.alternate;m!==null&&(m.lanes|=r),_d(s.return,r,l)}function Jd(s,r,l,m,j){var C=s.memoizedState;C===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:m,tail:l,tailMode:j}:(C.isBackwards=r,C.rendering=null,C.renderingStartTime=0,C.last=m,C.tail=l,C.tailMode=j)}function Ch(s,r,l){var m=r.pendingProps,j=m.revealOrder,C=m.tail;if(Es(s,r,m.children,l),m=Wt.current,(m&2)!==0)m=m&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Sh(s,l,r);else if(s.tag===19)Sh(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(Lt(Wt,m),(r.mode&1)===0)r.memoizedState=null;else switch(j){case"forwards":for(l=r.child,j=null;l!==null;)s=l.alternate,s!==null&&Ki(s)===null&&(j=l),l=l.sibling;l=j,l===null?(j=r.child,r.child=null):(j=l.sibling,l.sibling=null),Jd(r,!1,j,l,C);break;case"backwards":for(l=null,j=r.child,r.child=null;j!==null;){if(s=j.alternate,s!==null&&Ki(s)===null){r.child=j;break}s=j.sibling,j.sibling=l,l=j,j=s}Jd(r,!0,l,null,C);break;case"together":Jd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function tl(s,r){(r.mode&1)===0&&s!==null&&(s.alternate=null,r.alternate=null,r.flags|=2)}function Gn(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),Va|=r.lanes,(l&r.childLanes)===0)return null;if(s!==null&&r.child!==s.child)throw Error(a(153));if(r.child!==null){for(s=r.child,l=ga(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=ga(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function GN(s,r,l){switch(r.tag){case 3:wh(r),yr();break;case 5:Fp(r);break;case 1:Os(r.type)&&Li(r);break;case 4:kd(r,r.stateNode.containerInfo);break;case 10:var m=r.type._context,j=r.memoizedProps.value;Lt(Vi,m._currentValue),m._currentValue=j;break;case 13:if(m=r.memoizedState,m!==null)return m.dehydrated!==null?(Lt(Wt,Wt.current&1),r.flags|=128,null):(l&r.child.childLanes)!==0?bh(s,r,l):(Lt(Wt,Wt.current&1),s=Gn(s,r,l),s!==null?s.sibling:null);Lt(Wt,Wt.current&1);break;case 19:if(m=(l&r.childLanes)!==0,(s.flags&128)!==0){if(m)return Ch(s,r,l);r.flags|=128}if(j=r.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),Lt(Wt,Wt.current),m)break;return null;case 22:case 23:return r.lanes=0,vh(s,r,l)}return Gn(s,r,l)}var _h,Qd,Eh,Rh;_h=function(s,r){for(var l=r.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Qd=function(){},Eh=function(s,r,l,m){var j=s.memoizedProps;if(j!==m){s=r.stateNode,Ba(bn.current);var C=null;switch(l){case"input":j=at(s,j),m=at(s,m),C=[];break;case"select":j=ee({},j,{value:void 0}),m=ee({},m,{value:void 0}),C=[];break;case"textarea":j=it(s,j),m=it(s,m),C=[];break;default:typeof j.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Di)}ke(l,m);var D;l=null;for(oe in j)if(!m.hasOwnProperty(oe)&&j.hasOwnProperty(oe)&&j[oe]!=null)if(oe==="style"){var H=j[oe];for(D in H)H.hasOwnProperty(D)&&(l||(l={}),l[D]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(i.hasOwnProperty(oe)?C||(C=[]):(C=C||[]).push(oe,null));for(oe in m){var Y=m[oe];if(H=j!=null?j[oe]:void 0,m.hasOwnProperty(oe)&&Y!==H&&(Y!=null||H!=null))if(oe==="style")if(H){for(D in H)!H.hasOwnProperty(D)||Y&&Y.hasOwnProperty(D)||(l||(l={}),l[D]="");for(D in Y)Y.hasOwnProperty(D)&&H[D]!==Y[D]&&(l||(l={}),l[D]=Y[D])}else l||(C||(C=[]),C.push(oe,l)),l=Y;else oe==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,H=H?H.__html:void 0,Y!=null&&H!==Y&&(C=C||[]).push(oe,Y)):oe==="children"?typeof Y!="string"&&typeof Y!="number"||(C=C||[]).push(oe,""+Y):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(oe)?(Y!=null&&oe==="onScroll"&&Ft("scroll",s),C||H===Y||(C=[])):(C=C||[]).push(oe,Y))}l&&(C=C||[]).push("style",l);var oe=C;(r.updateQueue=oe)&&(r.flags|=4)}},Rh=function(s,r,l,m){l!==m&&(r.flags|=4)};function Po(s,r){if(!Ht)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function bs(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,m=0;if(r)for(var j=s.child;j!==null;)l|=j.lanes|j.childLanes,m|=j.subtreeFlags&14680064,m|=j.flags&14680064,j.return=s,j=j.sibling;else for(j=s.child;j!==null;)l|=j.lanes|j.childLanes,m|=j.subtreeFlags,m|=j.flags,j.return=s,j=j.sibling;return s.subtreeFlags|=m,s.childLanes=l,r}function YN(s,r,l){var m=r.pendingProps;switch(yd(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bs(r),null;case 1:return Os(r.type)&&$i(),bs(r),null;case 3:return m=r.stateNode,br(),zt(Ds),zt(ws),Td(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Bi(r)?r.flags|=4:s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ln!==null&&(lu(ln),ln=null))),Qd(s,r),bs(r),null;case 5:Pd(r);var j=Ba(Co.current);if(l=r.type,s!==null&&r.stateNode!=null)Eh(s,r,l,m,j),s.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!m){if(r.stateNode===null)throw Error(a(166));return bs(r),null}if(s=Ba(bn.current),Bi(r)){m=r.stateNode,l=r.type;var C=r.memoizedProps;switch(m[Nn]=r,m[jo]=C,s=(r.mode&1)!==0,l){case"dialog":Ft("cancel",m),Ft("close",m);break;case"iframe":case"object":case"embed":Ft("load",m);break;case"video":case"audio":for(j=0;j<go.length;j++)Ft(go[j],m);break;case"source":Ft("error",m);break;case"img":case"image":case"link":Ft("error",m),Ft("load",m);break;case"details":Ft("toggle",m);break;case"input":mt(m,C),Ft("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!C.multiple},Ft("invalid",m);break;case"textarea":lt(m,C),Ft("invalid",m)}ke(l,C),j=null;for(var D in C)if(C.hasOwnProperty(D)){var H=C[D];D==="children"?typeof H=="string"?m.textContent!==H&&(C.suppressHydrationWarning!==!0&&Mi(m.textContent,H,s),j=["children",H]):typeof H=="number"&&m.textContent!==""+H&&(C.suppressHydrationWarning!==!0&&Mi(m.textContent,H,s),j=["children",""+H]):i.hasOwnProperty(D)&&H!=null&&D==="onScroll"&&Ft("scroll",m)}switch(l){case"input":Re(m),Ie(m,C,!0);break;case"textarea":Re(m),It(m);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(m.onclick=Di)}m=j,r.updateQueue=m,m!==null&&(r.flags|=4)}else{D=j.nodeType===9?j:j.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=At(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=D.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=D.createElement(l,{is:m.is}):(s=D.createElement(l),l==="select"&&(D=s,m.multiple?D.multiple=!0:m.size&&(D.size=m.size))):s=D.createElementNS(s,l),s[Nn]=r,s[jo]=m,_h(s,r,!1,!1),r.stateNode=s;e:{switch(D=Ee(l,m),l){case"dialog":Ft("cancel",s),Ft("close",s),j=m;break;case"iframe":case"object":case"embed":Ft("load",s),j=m;break;case"video":case"audio":for(j=0;j<go.length;j++)Ft(go[j],s);j=m;break;case"source":Ft("error",s),j=m;break;case"img":case"image":case"link":Ft("error",s),Ft("load",s),j=m;break;case"details":Ft("toggle",s),j=m;break;case"input":mt(s,m),j=at(s,m),Ft("invalid",s);break;case"option":j=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},j=ee({},m,{value:void 0}),Ft("invalid",s);break;case"textarea":lt(s,m),j=it(s,m),Ft("invalid",s);break;default:j=m}ke(l,j),H=j;for(C in H)if(H.hasOwnProperty(C)){var Y=H[C];C==="style"?os(s,Y):C==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&Rt(s,Y)):C==="children"?typeof Y=="string"?(l!=="textarea"||Y!=="")&&kt(s,Y):typeof Y=="number"&&kt(s,""+Y):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(i.hasOwnProperty(C)?Y!=null&&C==="onScroll"&&Ft("scroll",s):Y!=null&&E(s,C,Y,D))}switch(l){case"input":Re(s),Ie(s,m,!1);break;case"textarea":Re(s),It(s);break;case"option":m.value!=null&&s.setAttribute("value",""+ae(m.value));break;case"select":s.multiple=!!m.multiple,C=m.value,C!=null?ge(s,!!m.multiple,C,!1):m.defaultValue!=null&&ge(s,!!m.multiple,m.defaultValue,!0);break;default:typeof j.onClick=="function"&&(s.onclick=Di)}switch(l){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return bs(r),null;case 6:if(s&&r.stateNode!=null)Rh(s,r,s.memoizedProps,m);else{if(typeof m!="string"&&r.stateNode===null)throw Error(a(166));if(l=Ba(Co.current),Ba(bn.current),Bi(r)){if(m=r.stateNode,l=r.memoizedProps,m[Nn]=r,(C=m.nodeValue!==l)&&(s=Hs,s!==null))switch(s.tag){case 3:Mi(m.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Mi(m.nodeValue,l,(s.mode&1)!==0)}C&&(r.flags|=4)}else m=(l.nodeType===9?l:l.ownerDocument).createTextNode(m),m[Nn]=r,r.stateNode=m}return bs(r),null;case 13:if(zt(Wt),m=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ht&&qs!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Ap(),yr(),r.flags|=98560,C=!1;else if(C=Bi(r),m!==null&&m.dehydrated!==null){if(s===null){if(!C)throw Error(a(318));if(C=r.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(a(317));C[Nn]=r}else yr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;bs(r),C=!1}else ln!==null&&(lu(ln),ln=null),C=!0;if(!C)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=l,r):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(r.child.flags|=8192,(r.mode&1)!==0&&(s===null||(Wt.current&1)!==0?us===0&&(us=3):uu())),r.updateQueue!==null&&(r.flags|=4),bs(r),null);case 4:return br(),Qd(s,r),s===null&&vo(r.stateNode.containerInfo),bs(r),null;case 10:return Cd(r.type._context),bs(r),null;case 17:return Os(r.type)&&$i(),bs(r),null;case 19:if(zt(Wt),C=r.memoizedState,C===null)return bs(r),null;if(m=(r.flags&128)!==0,D=C.rendering,D===null)if(m)Po(C,!1);else{if(us!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(D=Ki(s),D!==null){for(r.flags|=128,Po(C,!1),m=D.updateQueue,m!==null&&(r.updateQueue=m,r.flags|=4),r.subtreeFlags=0,m=l,l=r.child;l!==null;)C=l,s=m,C.flags&=14680066,D=C.alternate,D===null?(C.childLanes=0,C.lanes=s,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=D.childLanes,C.lanes=D.lanes,C.child=D.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=D.memoizedProps,C.memoizedState=D.memoizedState,C.updateQueue=D.updateQueue,C.type=D.type,s=D.dependencies,C.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return Lt(Wt,Wt.current&1|2),r.child}s=s.sibling}C.tail!==null&&ts()>Er&&(r.flags|=128,m=!0,Po(C,!1),r.lanes=4194304)}else{if(!m)if(s=Ki(D),s!==null){if(r.flags|=128,m=!0,l=s.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),Po(C,!0),C.tail===null&&C.tailMode==="hidden"&&!D.alternate&&!Ht)return bs(r),null}else 2*ts()-C.renderingStartTime>Er&&l!==1073741824&&(r.flags|=128,m=!0,Po(C,!1),r.lanes=4194304);C.isBackwards?(D.sibling=r.child,r.child=D):(l=C.last,l!==null?l.sibling=D:r.child=D,C.last=D)}return C.tail!==null?(r=C.tail,C.rendering=r,C.tail=r.sibling,C.renderingStartTime=ts(),r.sibling=null,l=Wt.current,Lt(Wt,m?l&1|2:l&1),r):(bs(r),null);case 22:case 23:return du(),m=r.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(r.flags|=8192),m&&(r.mode&1)!==0?(Ws&1073741824)!==0&&(bs(r),r.subtreeFlags&6&&(r.flags|=8192)):bs(r),null;case 24:return null;case 25:return null}throw Error(a(156,r.tag))}function JN(s,r){switch(yd(r),r.tag){case 1:return Os(r.type)&&$i(),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return br(),zt(Ds),zt(ws),Td(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 5:return Pd(r),null;case 13:if(zt(Wt),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(a(340));yr()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return zt(Wt),null;case 4:return br(),null;case 10:return Cd(r.type._context),null;case 22:case 23:return du(),null;case 24:return null;default:return null}}var sl=!1,Ss=!1,QN=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Cr(s,r){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(m){Jt(s,r,m)}else l.current=null}function Xd(s,r,l){try{l()}catch(m){Jt(s,r,m)}}var kh=!1;function XN(s,r){if(dd=Ni,s=ip(),sd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var m=l.getSelection&&l.getSelection();if(m&&m.rangeCount!==0){l=m.anchorNode;var j=m.anchorOffset,C=m.focusNode;m=m.focusOffset;try{l.nodeType,C.nodeType}catch{l=null;break e}var D=0,H=-1,Y=-1,oe=0,je=0,Ne=s,ye=null;t:for(;;){for(var Le;Ne!==l||j!==0&&Ne.nodeType!==3||(H=D+j),Ne!==C||m!==0&&Ne.nodeType!==3||(Y=D+m),Ne.nodeType===3&&(D+=Ne.nodeValue.length),(Le=Ne.firstChild)!==null;)ye=Ne,Ne=Le;for(;;){if(Ne===s)break t;if(ye===l&&++oe===j&&(H=D),ye===C&&++je===m&&(Y=D),(Le=Ne.nextSibling)!==null)break;Ne=ye,ye=Ne.parentNode}Ne=Le}l=H===-1||Y===-1?null:{start:H,end:Y}}else l=null}l=l||{start:0,end:0}}else l=null;for(ud={focusedElem:s,selectionRange:l},Ni=!1,ze=r;ze!==null;)if(r=ze,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,ze=s;else for(;ze!==null;){r=ze;try{var Be=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var Ve=Be.memoizedProps,ss=Be.memoizedState,se=r.stateNode,Q=se.getSnapshotBeforeUpdate(r.elementType===r.type?Ve:cn(r.type,Ve),ss);se.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var re=r.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Ce){Jt(r,r.return,Ce)}if(s=r.sibling,s!==null){s.return=r.return,ze=s;break}ze=r.return}return Be=kh,kh=!1,Be}function Ao(s,r,l){var m=r.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var j=m=m.next;do{if((j.tag&s)===s){var C=j.destroy;j.destroy=void 0,C!==void 0&&Xd(r,l,C)}j=j.next}while(j!==m)}}function nl(s,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&s)===s){var m=l.create;l.destroy=m()}l=l.next}while(l!==r)}}function Zd(s){var r=s.ref;if(r!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof r=="function"?r(s):r.current=s}}function Ph(s){var r=s.alternate;r!==null&&(s.alternate=null,Ph(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&(delete r[Nn],delete r[jo],delete r[hd],delete r[DN],delete r[ON])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Ah(s){return s.tag===5||s.tag===3||s.tag===4}function Th(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ah(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function eu(s,r,l){var m=s.tag;if(m===5||m===6)s=s.stateNode,r?l.nodeType===8?l.parentNode.insertBefore(s,r):l.insertBefore(s,r):(l.nodeType===8?(r=l.parentNode,r.insertBefore(s,l)):(r=l,r.appendChild(s)),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Di));else if(m!==4&&(s=s.child,s!==null))for(eu(s,r,l),s=s.sibling;s!==null;)eu(s,r,l),s=s.sibling}function tu(s,r,l){var m=s.tag;if(m===5||m===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(tu(s,r,l),s=s.sibling;s!==null;)tu(s,r,l),s=s.sibling}var ys=null,dn=!1;function ma(s,r,l){for(l=l.child;l!==null;)Mh(s,r,l),l=l.sibling}function Mh(s,r,l){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(xi,l)}catch{}switch(l.tag){case 5:Ss||Cr(l,r);case 6:var m=ys,j=dn;ys=null,ma(s,r,l),ys=m,dn=j,ys!==null&&(dn?(s=ys,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):ys.removeChild(l.stateNode));break;case 18:ys!==null&&(dn?(s=ys,l=l.stateNode,s.nodeType===8?pd(s.parentNode,l):s.nodeType===1&&pd(s,l),lo(s)):pd(ys,l.stateNode));break;case 4:m=ys,j=dn,ys=l.stateNode.containerInfo,dn=!0,ma(s,r,l),ys=m,dn=j;break;case 0:case 11:case 14:case 15:if(!Ss&&(m=l.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){j=m=m.next;do{var C=j,D=C.destroy;C=C.tag,D!==void 0&&((C&2)!==0||(C&4)!==0)&&Xd(l,r,D),j=j.next}while(j!==m)}ma(s,r,l);break;case 1:if(!Ss&&(Cr(l,r),m=l.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=l.memoizedProps,m.state=l.memoizedState,m.componentWillUnmount()}catch(H){Jt(l,r,H)}ma(s,r,l);break;case 21:ma(s,r,l);break;case 22:l.mode&1?(Ss=(m=Ss)||l.memoizedState!==null,ma(s,r,l),Ss=m):ma(s,r,l);break;default:ma(s,r,l)}}function Dh(s){var r=s.updateQueue;if(r!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new QN),r.forEach(function(m){var j=ib.bind(null,s,m);l.has(m)||(l.add(m),m.then(j,j))})}}function un(s,r){var l=r.deletions;if(l!==null)for(var m=0;m<l.length;m++){var j=l[m];try{var C=s,D=r,H=D;e:for(;H!==null;){switch(H.tag){case 5:ys=H.stateNode,dn=!1;break e;case 3:ys=H.stateNode.containerInfo,dn=!0;break e;case 4:ys=H.stateNode.containerInfo,dn=!0;break e}H=H.return}if(ys===null)throw Error(a(160));Mh(C,D,j),ys=null,dn=!1;var Y=j.alternate;Y!==null&&(Y.return=null),j.return=null}catch(oe){Jt(j,r,oe)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Oh(r,s),r=r.sibling}function Oh(s,r){var l=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(un(r,s),Cn(s),m&4){try{Ao(3,s,s.return),nl(3,s)}catch(Ve){Jt(s,s.return,Ve)}try{Ao(5,s,s.return)}catch(Ve){Jt(s,s.return,Ve)}}break;case 1:un(r,s),Cn(s),m&512&&l!==null&&Cr(l,l.return);break;case 5:if(un(r,s),Cn(s),m&512&&l!==null&&Cr(l,l.return),s.flags&32){var j=s.stateNode;try{kt(j,"")}catch(Ve){Jt(s,s.return,Ve)}}if(m&4&&(j=s.stateNode,j!=null)){var C=s.memoizedProps,D=l!==null?l.memoizedProps:C,H=s.type,Y=s.updateQueue;if(s.updateQueue=null,Y!==null)try{H==="input"&&C.type==="radio"&&C.name!=null&&jt(j,C),Ee(H,D);var oe=Ee(H,C);for(D=0;D<Y.length;D+=2){var je=Y[D],Ne=Y[D+1];je==="style"?os(j,Ne):je==="dangerouslySetInnerHTML"?Rt(j,Ne):je==="children"?kt(j,Ne):E(j,je,Ne,oe)}switch(H){case"input":Me(j,C);break;case"textarea":et(j,C);break;case"select":var ye=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!C.multiple;var Le=C.value;Le!=null?ge(j,!!C.multiple,Le,!1):ye!==!!C.multiple&&(C.defaultValue!=null?ge(j,!!C.multiple,C.defaultValue,!0):ge(j,!!C.multiple,C.multiple?[]:"",!1))}j[jo]=C}catch(Ve){Jt(s,s.return,Ve)}}break;case 6:if(un(r,s),Cn(s),m&4){if(s.stateNode===null)throw Error(a(162));j=s.stateNode,C=s.memoizedProps;try{j.nodeValue=C}catch(Ve){Jt(s,s.return,Ve)}}break;case 3:if(un(r,s),Cn(s),m&4&&l!==null&&l.memoizedState.isDehydrated)try{lo(r.containerInfo)}catch(Ve){Jt(s,s.return,Ve)}break;case 4:un(r,s),Cn(s);break;case 13:un(r,s),Cn(s),j=s.child,j.flags&8192&&(C=j.memoizedState!==null,j.stateNode.isHidden=C,!C||j.alternate!==null&&j.alternate.memoizedState!==null||(au=ts())),m&4&&Dh(s);break;case 22:if(je=l!==null&&l.memoizedState!==null,s.mode&1?(Ss=(oe=Ss)||je,un(r,s),Ss=oe):un(r,s),Cn(s),m&8192){if(oe=s.memoizedState!==null,(s.stateNode.isHidden=oe)&&!je&&(s.mode&1)!==0)for(ze=s,je=s.child;je!==null;){for(Ne=ze=je;ze!==null;){switch(ye=ze,Le=ye.child,ye.tag){case 0:case 11:case 14:case 15:Ao(4,ye,ye.return);break;case 1:Cr(ye,ye.return);var Be=ye.stateNode;if(typeof Be.componentWillUnmount=="function"){m=ye,l=ye.return;try{r=m,Be.props=r.memoizedProps,Be.state=r.memoizedState,Be.componentWillUnmount()}catch(Ve){Jt(m,l,Ve)}}break;case 5:Cr(ye,ye.return);break;case 22:if(ye.memoizedState!==null){Ih(Ne);continue}}Le!==null?(Le.return=ye,ze=Le):Ih(Ne)}je=je.sibling}e:for(je=null,Ne=s;;){if(Ne.tag===5){if(je===null){je=Ne;try{j=Ne.stateNode,oe?(C=j.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(H=Ne.stateNode,Y=Ne.memoizedProps.style,D=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,H.style.display=rs("display",D))}catch(Ve){Jt(s,s.return,Ve)}}}else if(Ne.tag===6){if(je===null)try{Ne.stateNode.nodeValue=oe?"":Ne.memoizedProps}catch(Ve){Jt(s,s.return,Ve)}}else if((Ne.tag!==22&&Ne.tag!==23||Ne.memoizedState===null||Ne===s)&&Ne.child!==null){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===s)break e;for(;Ne.sibling===null;){if(Ne.return===null||Ne.return===s)break e;je===Ne&&(je=null),Ne=Ne.return}je===Ne&&(je=null),Ne.sibling.return=Ne.return,Ne=Ne.sibling}}break;case 19:un(r,s),Cn(s),m&4&&Dh(s);break;case 21:break;default:un(r,s),Cn(s)}}function Cn(s){var r=s.flags;if(r&2){try{e:{for(var l=s.return;l!==null;){if(Ah(l)){var m=l;break e}l=l.return}throw Error(a(160))}switch(m.tag){case 5:var j=m.stateNode;m.flags&32&&(kt(j,""),m.flags&=-33);var C=Th(s);tu(s,C,j);break;case 3:case 4:var D=m.stateNode.containerInfo,H=Th(s);eu(s,H,D);break;default:throw Error(a(161))}}catch(Y){Jt(s,s.return,Y)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function ZN(s,r,l){ze=s,$h(s)}function $h(s,r,l){for(var m=(s.mode&1)!==0;ze!==null;){var j=ze,C=j.child;if(j.tag===22&&m){var D=j.memoizedState!==null||sl;if(!D){var H=j.alternate,Y=H!==null&&H.memoizedState!==null||Ss;H=sl;var oe=Ss;if(sl=D,(Ss=Y)&&!oe)for(ze=j;ze!==null;)D=ze,Y=D.child,D.tag===22&&D.memoizedState!==null?Fh(j):Y!==null?(Y.return=D,ze=Y):Fh(j);for(;C!==null;)ze=C,$h(C),C=C.sibling;ze=j,sl=H,Ss=oe}Lh(s)}else(j.subtreeFlags&8772)!==0&&C!==null?(C.return=j,ze=C):Lh(s)}}function Lh(s){for(;ze!==null;){var r=ze;if((r.flags&8772)!==0){var l=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Ss||nl(5,r);break;case 1:var m=r.stateNode;if(r.flags&4&&!Ss)if(l===null)m.componentDidMount();else{var j=r.elementType===r.type?l.memoizedProps:cn(r.type,l.memoizedProps);m.componentDidUpdate(j,l.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var C=r.updateQueue;C!==null&&Ip(r,C,m);break;case 3:var D=r.updateQueue;if(D!==null){if(l=null,r.child!==null)switch(r.child.tag){case 5:l=r.child.stateNode;break;case 1:l=r.child.stateNode}Ip(r,D,l)}break;case 5:var H=r.stateNode;if(l===null&&r.flags&4){l=H;var Y=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&l.focus();break;case"img":Y.src&&(l.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var oe=r.alternate;if(oe!==null){var je=oe.memoizedState;if(je!==null){var Ne=je.dehydrated;Ne!==null&&lo(Ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}Ss||r.flags&512&&Zd(r)}catch(ye){Jt(r,r.return,ye)}}if(r===s){ze=null;break}if(l=r.sibling,l!==null){l.return=r.return,ze=l;break}ze=r.return}}function Ih(s){for(;ze!==null;){var r=ze;if(r===s){ze=null;break}var l=r.sibling;if(l!==null){l.return=r.return,ze=l;break}ze=r.return}}function Fh(s){for(;ze!==null;){var r=ze;try{switch(r.tag){case 0:case 11:case 15:var l=r.return;try{nl(4,r)}catch(Y){Jt(r,l,Y)}break;case 1:var m=r.stateNode;if(typeof m.componentDidMount=="function"){var j=r.return;try{m.componentDidMount()}catch(Y){Jt(r,j,Y)}}var C=r.return;try{Zd(r)}catch(Y){Jt(r,C,Y)}break;case 5:var D=r.return;try{Zd(r)}catch(Y){Jt(r,D,Y)}}}catch(Y){Jt(r,r.return,Y)}if(r===s){ze=null;break}var H=r.sibling;if(H!==null){H.return=r.return,ze=H;break}ze=r.return}}var eb=Math.ceil,al=k.ReactCurrentDispatcher,su=k.ReactCurrentOwner,Zs=k.ReactCurrentBatchConfig,gt=0,ps=null,is=null,js=0,Ws=0,_r=ia(0),us=0,To=null,Va=0,rl=0,nu=0,Mo=null,Ls=null,au=0,Er=1/0,Yn=null,ol=!1,ru=null,fa=null,il=!1,pa=null,ll=0,Do=0,ou=null,cl=-1,dl=0;function Rs(){return(gt&6)!==0?ts():cl!==-1?cl:cl=ts()}function ha(s){return(s.mode&1)===0?1:(gt&2)!==0&&js!==0?js&-js:LN.transition!==null?(dl===0&&(dl=Tf()),dl):(s=Pt,s!==0||(s=window.event,s=s===void 0?16:Bf(s.type)),s)}function mn(s,r,l,m){if(50<Do)throw Do=0,ou=null,Error(a(185));no(s,l,m),((gt&2)===0||s!==ps)&&(s===ps&&((gt&2)===0&&(rl|=l),us===4&&xa(s,js)),Is(s,m),l===1&&gt===0&&(r.mode&1)===0&&(Er=ts()+500,Ii&&ca()))}function Is(s,r){var l=s.callbackNode;Lw(s,r);var m=yi(s,s===ps?js:0);if(m===0)l!==null&&kf(l),s.callbackNode=null,s.callbackPriority=0;else if(r=m&-m,s.callbackPriority!==r){if(l!=null&&kf(l),r===1)s.tag===0?$N(Bh.bind(null,s)):_p(Bh.bind(null,s)),TN(function(){(gt&6)===0&&ca()}),l=null;else{switch(Mf(m)){case 1:l=Fc;break;case 4:l=Pf;break;case 16:l=hi;break;case 536870912:l=Af;break;default:l=hi}l=Yh(l,zh.bind(null,s))}s.callbackPriority=r,s.callbackNode=l}}function zh(s,r){if(cl=-1,dl=0,(gt&6)!==0)throw Error(a(327));var l=s.callbackNode;if(Rr()&&s.callbackNode!==l)return null;var m=yi(s,s===ps?js:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||r)r=ul(s,m);else{r=m;var j=gt;gt|=2;var C=Vh();(ps!==s||js!==r)&&(Yn=null,Er=ts()+500,qa(s,r));do try{nb();break}catch(H){Uh(s,H)}while(!0);Sd(),al.current=C,gt=j,is!==null?r=0:(ps=null,js=0,r=us)}if(r!==0){if(r===2&&(j=zc(s),j!==0&&(m=j,r=iu(s,j))),r===1)throw l=To,qa(s,0),xa(s,m),Is(s,ts()),l;if(r===6)xa(s,m);else{if(j=s.current.alternate,(m&30)===0&&!tb(j)&&(r=ul(s,m),r===2&&(C=zc(s),C!==0&&(m=C,r=iu(s,C))),r===1))throw l=To,qa(s,0),xa(s,m),Is(s,ts()),l;switch(s.finishedWork=j,s.finishedLanes=m,r){case 0:case 1:throw Error(a(345));case 2:Wa(s,Ls,Yn);break;case 3:if(xa(s,m),(m&130023424)===m&&(r=au+500-ts(),10<r)){if(yi(s,0)!==0)break;if(j=s.suspendedLanes,(j&m)!==m){Rs(),s.pingedLanes|=s.suspendedLanes&j;break}s.timeoutHandle=fd(Wa.bind(null,s,Ls,Yn),r);break}Wa(s,Ls,Yn);break;case 4:if(xa(s,m),(m&4194240)===m)break;for(r=s.eventTimes,j=-1;0<m;){var D=31-rn(m);C=1<<D,D=r[D],D>j&&(j=D),m&=~C}if(m=j,m=ts()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*eb(m/1960))-m,10<m){s.timeoutHandle=fd(Wa.bind(null,s,Ls,Yn),m);break}Wa(s,Ls,Yn);break;case 5:Wa(s,Ls,Yn);break;default:throw Error(a(329))}}}return Is(s,ts()),s.callbackNode===l?zh.bind(null,s):null}function iu(s,r){var l=Mo;return s.current.memoizedState.isDehydrated&&(qa(s,r).flags|=256),s=ul(s,r),s!==2&&(r=Ls,Ls=l,r!==null&&lu(r)),s}function lu(s){Ls===null?Ls=s:Ls.push.apply(Ls,s)}function tb(s){for(var r=s;;){if(r.flags&16384){var l=r.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var m=0;m<l.length;m++){var j=l[m],C=j.getSnapshot;j=j.value;try{if(!on(C(),j))return!1}catch{return!1}}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function xa(s,r){for(r&=~nu,r&=~rl,s.suspendedLanes|=r,s.pingedLanes&=~r,s=s.expirationTimes;0<r;){var l=31-rn(r),m=1<<l;s[l]=-1,r&=~m}}function Bh(s){if((gt&6)!==0)throw Error(a(327));Rr();var r=yi(s,0);if((r&1)===0)return Is(s,ts()),null;var l=ul(s,r);if(s.tag!==0&&l===2){var m=zc(s);m!==0&&(r=m,l=iu(s,m))}if(l===1)throw l=To,qa(s,0),xa(s,r),Is(s,ts()),l;if(l===6)throw Error(a(345));return s.finishedWork=s.current.alternate,s.finishedLanes=r,Wa(s,Ls,Yn),Is(s,ts()),null}function cu(s,r){var l=gt;gt|=1;try{return s(r)}finally{gt=l,gt===0&&(Er=ts()+500,Ii&&ca())}}function Ha(s){pa!==null&&pa.tag===0&&(gt&6)===0&&Rr();var r=gt;gt|=1;var l=Zs.transition,m=Pt;try{if(Zs.transition=null,Pt=1,s)return s()}finally{Pt=m,Zs.transition=l,gt=r,(gt&6)===0&&ca()}}function du(){Ws=_r.current,zt(_r)}function qa(s,r){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,AN(l)),is!==null)for(l=is.return;l!==null;){var m=l;switch(yd(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&$i();break;case 3:br(),zt(Ds),zt(ws),Td();break;case 5:Pd(m);break;case 4:br();break;case 13:zt(Wt);break;case 19:zt(Wt);break;case 10:Cd(m.type._context);break;case 22:case 23:du()}l=l.return}if(ps=s,is=s=ga(s.current,null),js=Ws=r,us=0,To=null,nu=rl=Va=0,Ls=Mo=null,za!==null){for(r=0;r<za.length;r++)if(l=za[r],m=l.interleaved,m!==null){l.interleaved=null;var j=m.next,C=l.pending;if(C!==null){var D=C.next;C.next=j,m.next=D}l.pending=m}za=null}return s}function Uh(s,r){do{var l=is;try{if(Sd(),Gi.current=Xi,Yi){for(var m=Kt.memoizedState;m!==null;){var j=m.queue;j!==null&&(j.pending=null),m=m.next}Yi=!1}if(Ua=0,fs=ds=Kt=null,_o=!1,Eo=0,su.current=null,l===null||l.return===null){us=1,To=r,is=null;break}e:{var C=s,D=l.return,H=l,Y=r;if(r=js,H.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var oe=Y,je=H,Ne=je.tag;if((je.mode&1)===0&&(Ne===0||Ne===11||Ne===15)){var ye=je.alternate;ye?(je.updateQueue=ye.updateQueue,je.memoizedState=ye.memoizedState,je.lanes=ye.lanes):(je.updateQueue=null,je.memoizedState=null)}var Le=fh(D);if(Le!==null){Le.flags&=-257,ph(Le,D,H,C,r),Le.mode&1&&mh(C,oe,r),r=Le,Y=oe;var Be=r.updateQueue;if(Be===null){var Ve=new Set;Ve.add(Y),r.updateQueue=Ve}else Be.add(Y);break e}else{if((r&1)===0){mh(C,oe,r),uu();break e}Y=Error(a(426))}}else if(Ht&&H.mode&1){var ss=fh(D);if(ss!==null){(ss.flags&65536)===0&&(ss.flags|=256),ph(ss,D,H,C,r),Nd(Sr(Y,H));break e}}C=Y=Sr(Y,H),us!==4&&(us=2),Mo===null?Mo=[C]:Mo.push(C),C=D;do{switch(C.tag){case 3:C.flags|=65536,r&=-r,C.lanes|=r;var se=dh(C,Y,r);Lp(C,se);break e;case 1:H=Y;var Q=C.type,re=C.stateNode;if((C.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(fa===null||!fa.has(re)))){C.flags|=65536,r&=-r,C.lanes|=r;var Ce=uh(C,H,r);Lp(C,Ce);break e}}C=C.return}while(C!==null)}qh(l)}catch(He){r=He,is===l&&l!==null&&(is=l=l.return);continue}break}while(!0)}function Vh(){var s=al.current;return al.current=Xi,s===null?Xi:s}function uu(){(us===0||us===3||us===2)&&(us=4),ps===null||(Va&268435455)===0&&(rl&268435455)===0||xa(ps,js)}function ul(s,r){var l=gt;gt|=2;var m=Vh();(ps!==s||js!==r)&&(Yn=null,qa(s,r));do try{sb();break}catch(j){Uh(s,j)}while(!0);if(Sd(),gt=l,al.current=m,is!==null)throw Error(a(261));return ps=null,js=0,us}function sb(){for(;is!==null;)Hh(is)}function nb(){for(;is!==null&&!Rw();)Hh(is)}function Hh(s){var r=Gh(s.alternate,s,Ws);s.memoizedProps=s.pendingProps,r===null?qh(s):is=r,su.current=null}function qh(s){var r=s;do{var l=r.alternate;if(s=r.return,(r.flags&32768)===0){if(l=YN(l,r,Ws),l!==null){is=l;return}}else{if(l=JN(l,r),l!==null){l.flags&=32767,is=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{us=6,is=null;return}}if(r=r.sibling,r!==null){is=r;return}is=r=s}while(r!==null);us===0&&(us=5)}function Wa(s,r,l){var m=Pt,j=Zs.transition;try{Zs.transition=null,Pt=1,ab(s,r,l,m)}finally{Zs.transition=j,Pt=m}return null}function ab(s,r,l,m){do Rr();while(pa!==null);if((gt&6)!==0)throw Error(a(327));l=s.finishedWork;var j=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(a(177));s.callbackNode=null,s.callbackPriority=0;var C=l.lanes|l.childLanes;if(Iw(s,C),s===ps&&(is=ps=null,js=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||il||(il=!0,Yh(hi,function(){return Rr(),null})),C=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||C){C=Zs.transition,Zs.transition=null;var D=Pt;Pt=1;var H=gt;gt|=4,su.current=null,XN(s,l),Oh(l,s),SN(ud),Ni=!!dd,ud=dd=null,s.current=l,ZN(l),kw(),gt=H,Pt=D,Zs.transition=C}else s.current=l;if(il&&(il=!1,pa=s,ll=j),C=s.pendingLanes,C===0&&(fa=null),Tw(l.stateNode),Is(s,ts()),r!==null)for(m=s.onRecoverableError,l=0;l<r.length;l++)j=r[l],m(j.value,{componentStack:j.stack,digest:j.digest});if(ol)throw ol=!1,s=ru,ru=null,s;return(ll&1)!==0&&s.tag!==0&&Rr(),C=s.pendingLanes,(C&1)!==0?s===ou?Do++:(Do=0,ou=s):Do=0,ca(),null}function Rr(){if(pa!==null){var s=Mf(ll),r=Zs.transition,l=Pt;try{if(Zs.transition=null,Pt=16>s?16:s,pa===null)var m=!1;else{if(s=pa,pa=null,ll=0,(gt&6)!==0)throw Error(a(331));var j=gt;for(gt|=4,ze=s.current;ze!==null;){var C=ze,D=C.child;if((ze.flags&16)!==0){var H=C.deletions;if(H!==null){for(var Y=0;Y<H.length;Y++){var oe=H[Y];for(ze=oe;ze!==null;){var je=ze;switch(je.tag){case 0:case 11:case 15:Ao(8,je,C)}var Ne=je.child;if(Ne!==null)Ne.return=je,ze=Ne;else for(;ze!==null;){je=ze;var ye=je.sibling,Le=je.return;if(Ph(je),je===oe){ze=null;break}if(ye!==null){ye.return=Le,ze=ye;break}ze=Le}}}var Be=C.alternate;if(Be!==null){var Ve=Be.child;if(Ve!==null){Be.child=null;do{var ss=Ve.sibling;Ve.sibling=null,Ve=ss}while(Ve!==null)}}ze=C}}if((C.subtreeFlags&2064)!==0&&D!==null)D.return=C,ze=D;else e:for(;ze!==null;){if(C=ze,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:Ao(9,C,C.return)}var se=C.sibling;if(se!==null){se.return=C.return,ze=se;break e}ze=C.return}}var Q=s.current;for(ze=Q;ze!==null;){D=ze;var re=D.child;if((D.subtreeFlags&2064)!==0&&re!==null)re.return=D,ze=re;else e:for(D=Q;ze!==null;){if(H=ze,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:nl(9,H)}}catch(He){Jt(H,H.return,He)}if(H===D){ze=null;break e}var Ce=H.sibling;if(Ce!==null){Ce.return=H.return,ze=Ce;break e}ze=H.return}}if(gt=j,ca(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(xi,s)}catch{}m=!0}return m}finally{Pt=l,Zs.transition=r}}return!1}function Wh(s,r,l){r=Sr(l,r),r=dh(s,r,1),s=ua(s,r,1),r=Rs(),s!==null&&(no(s,1,r),Is(s,r))}function Jt(s,r,l){if(s.tag===3)Wh(s,s,l);else for(;r!==null;){if(r.tag===3){Wh(r,s,l);break}else if(r.tag===1){var m=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(fa===null||!fa.has(m))){s=Sr(l,s),s=uh(r,s,1),r=ua(r,s,1),s=Rs(),r!==null&&(no(r,1,s),Is(r,s));break}}r=r.return}}function rb(s,r,l){var m=s.pingCache;m!==null&&m.delete(r),r=Rs(),s.pingedLanes|=s.suspendedLanes&l,ps===s&&(js&l)===l&&(us===4||us===3&&(js&130023424)===js&&500>ts()-au?qa(s,0):nu|=l),Is(s,r)}function Kh(s,r){r===0&&((s.mode&1)===0?r=1:(r=vi,vi<<=1,(vi&130023424)===0&&(vi=4194304)));var l=Rs();s=Wn(s,r),s!==null&&(no(s,r,l),Is(s,l))}function ob(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),Kh(s,l)}function ib(s,r){var l=0;switch(s.tag){case 13:var m=s.stateNode,j=s.memoizedState;j!==null&&(l=j.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(a(314))}m!==null&&m.delete(r),Kh(s,l)}var Gh;Gh=function(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps||Ds.current)$s=!0;else{if((s.lanes&l)===0&&(r.flags&128)===0)return $s=!1,GN(s,r,l);$s=(s.flags&131072)!==0}else $s=!1,Ht&&(r.flags&1048576)!==0&&Ep(r,zi,r.index);switch(r.lanes=0,r.tag){case 2:var m=r.type;tl(s,r),s=r.pendingProps;var j=xr(r,ws.current);Nr(r,l),j=Od(null,r,m,s,j,l);var C=$d();return r.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Os(m)?(C=!0,Li(r)):C=!1,r.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,Rd(r),j.updater=Zi,r.stateNode=j,j._reactInternals=r,Ud(r,m,s,l),r=Wd(null,r,m,!0,C,l)):(r.tag=0,Ht&&C&&vd(r),Es(null,r,j,l),r=r.child),r;case 16:m=r.elementType;e:{switch(tl(s,r),s=r.pendingProps,j=m._init,m=j(m._payload),r.type=m,j=r.tag=cb(m),s=cn(m,s),j){case 0:r=qd(null,r,m,s,l);break e;case 1:r=jh(null,r,m,s,l);break e;case 11:r=hh(null,r,m,s,l);break e;case 14:r=xh(null,r,m,cn(m.type,s),l);break e}throw Error(a(306,m,""))}return r;case 0:return m=r.type,j=r.pendingProps,j=r.elementType===m?j:cn(m,j),qd(s,r,m,j,l);case 1:return m=r.type,j=r.pendingProps,j=r.elementType===m?j:cn(m,j),jh(s,r,m,j,l);case 3:e:{if(wh(r),s===null)throw Error(a(387));m=r.pendingProps,C=r.memoizedState,j=C.element,$p(s,r),Wi(r,m,null,l);var D=r.memoizedState;if(m=D.element,C.isDehydrated)if(C={element:m,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},r.updateQueue.baseState=C,r.memoizedState=C,r.flags&256){j=Sr(Error(a(423)),r),r=Nh(s,r,m,l,j);break e}else if(m!==j){j=Sr(Error(a(424)),r),r=Nh(s,r,m,l,j);break e}else for(qs=oa(r.stateNode.containerInfo.firstChild),Hs=r,Ht=!0,ln=null,l=Dp(r,null,m,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(yr(),m===j){r=Gn(s,r,l);break e}Es(s,r,m,l)}r=r.child}return r;case 5:return Fp(r),s===null&&wd(r),m=r.type,j=r.pendingProps,C=s!==null?s.memoizedProps:null,D=j.children,md(m,j)?D=null:C!==null&&md(m,C)&&(r.flags|=32),yh(s,r),Es(s,r,D,l),r.child;case 6:return s===null&&wd(r),null;case 13:return bh(s,r,l);case 4:return kd(r,r.stateNode.containerInfo),m=r.pendingProps,s===null?r.child=jr(r,null,m,l):Es(s,r,m,l),r.child;case 11:return m=r.type,j=r.pendingProps,j=r.elementType===m?j:cn(m,j),hh(s,r,m,j,l);case 7:return Es(s,r,r.pendingProps,l),r.child;case 8:return Es(s,r,r.pendingProps.children,l),r.child;case 12:return Es(s,r,r.pendingProps.children,l),r.child;case 10:e:{if(m=r.type._context,j=r.pendingProps,C=r.memoizedProps,D=j.value,Lt(Vi,m._currentValue),m._currentValue=D,C!==null)if(on(C.value,D)){if(C.children===j.children&&!Ds.current){r=Gn(s,r,l);break e}}else for(C=r.child,C!==null&&(C.return=r);C!==null;){var H=C.dependencies;if(H!==null){D=C.child;for(var Y=H.firstContext;Y!==null;){if(Y.context===m){if(C.tag===1){Y=Kn(-1,l&-l),Y.tag=2;var oe=C.updateQueue;if(oe!==null){oe=oe.shared;var je=oe.pending;je===null?Y.next=Y:(Y.next=je.next,je.next=Y),oe.pending=Y}}C.lanes|=l,Y=C.alternate,Y!==null&&(Y.lanes|=l),_d(C.return,l,r),H.lanes|=l;break}Y=Y.next}}else if(C.tag===10)D=C.type===r.type?null:C.child;else if(C.tag===18){if(D=C.return,D===null)throw Error(a(341));D.lanes|=l,H=D.alternate,H!==null&&(H.lanes|=l),_d(D,l,r),D=C.sibling}else D=C.child;if(D!==null)D.return=C;else for(D=C;D!==null;){if(D===r){D=null;break}if(C=D.sibling,C!==null){C.return=D.return,D=C;break}D=D.return}C=D}Es(s,r,j.children,l),r=r.child}return r;case 9:return j=r.type,m=r.pendingProps.children,Nr(r,l),j=Qs(j),m=m(j),r.flags|=1,Es(s,r,m,l),r.child;case 14:return m=r.type,j=cn(m,r.pendingProps),j=cn(m.type,j),xh(s,r,m,j,l);case 15:return gh(s,r,r.type,r.pendingProps,l);case 17:return m=r.type,j=r.pendingProps,j=r.elementType===m?j:cn(m,j),tl(s,r),r.tag=1,Os(m)?(s=!0,Li(r)):s=!1,Nr(r,l),lh(r,m,j),Ud(r,m,j,l),Wd(null,r,m,!0,s,l);case 19:return Ch(s,r,l);case 22:return vh(s,r,l)}throw Error(a(156,r.tag))};function Yh(s,r){return Rf(s,r)}function lb(s,r,l,m){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(s,r,l,m){return new lb(s,r,l,m)}function mu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function cb(s){if(typeof s=="function")return mu(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===K)return 14}return 2}function ga(s,r){var l=s.alternate;return l===null?(l=en(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function ml(s,r,l,m,j,C){var D=2;if(m=s,typeof s=="function")mu(s)&&(D=1);else if(typeof s=="string")D=5;else e:switch(s){case A:return Ka(l.children,j,C,r);case R:D=8,j|=8;break;case $:return s=en(12,l,r,j|2),s.elementType=$,s.lanes=C,s;case J:return s=en(13,l,r,j),s.elementType=J,s.lanes=C,s;case F:return s=en(19,l,r,j),s.elementType=F,s.lanes=C,s;case W:return fl(l,j,C,r);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:D=10;break e;case I:D=9;break e;case V:D=11;break e;case K:D=14;break e;case M:D=16,m=null;break e}throw Error(a(130,s==null?s:typeof s,""))}return r=en(D,l,r,j),r.elementType=s,r.type=m,r.lanes=C,r}function Ka(s,r,l,m){return s=en(7,s,m,r),s.lanes=l,s}function fl(s,r,l,m){return s=en(22,s,m,r),s.elementType=W,s.lanes=l,s.stateNode={isHidden:!1},s}function fu(s,r,l){return s=en(6,s,null,r),s.lanes=l,s}function pu(s,r,l){return r=en(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}function db(s,r,l,m,j){this.tag=r,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bc(0),this.expirationTimes=Bc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bc(0),this.identifierPrefix=m,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function hu(s,r,l,m,j,C,D,H,Y){return s=new db(s,r,l,H,Y),r===1?(r=1,C===!0&&(r|=8)):r=0,C=en(3,null,null,r),s.current=C,C.stateNode=s,C.memoizedState={element:m,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rd(C),s}function ub(s,r,l){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:m==null?null:""+m,children:s,containerInfo:r,implementation:l}}function Jh(s){if(!s)return la;s=s._reactInternals;e:{if(Oa(s)!==s||s.tag!==1)throw Error(a(170));var r=s;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Os(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(a(171))}if(s.tag===1){var l=s.type;if(Os(l))return Sp(s,l,r)}return r}function Qh(s,r,l,m,j,C,D,H,Y){return s=hu(l,m,!0,s,j,C,D,H,Y),s.context=Jh(null),l=s.current,m=Rs(),j=ha(l),C=Kn(m,j),C.callback=r??null,ua(l,C,j),s.current.lanes=j,no(s,j,m),Is(s,m),s}function pl(s,r,l,m){var j=r.current,C=Rs(),D=ha(j);return l=Jh(l),r.context===null?r.context=l:r.pendingContext=l,r=Kn(C,D),r.payload={element:s},m=m===void 0?null:m,m!==null&&(r.callback=m),s=ua(j,r,D),s!==null&&(mn(s,j,D,C),qi(s,j,D)),D}function hl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Xh(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function xu(s,r){Xh(s,r),(s=s.alternate)&&Xh(s,r)}function mb(){return null}var Zh=typeof reportError=="function"?reportError:function(s){console.error(s)};function gu(s){this._internalRoot=s}xl.prototype.render=gu.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(a(409));pl(s,r,null,null)},xl.prototype.unmount=gu.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;Ha(function(){pl(null,s,null,null)}),r[Un]=null}};function xl(s){this._internalRoot=s}xl.prototype.unstable_scheduleHydration=function(s){if(s){var r=$f();s={blockedOn:null,target:s,priority:r};for(var l=0;l<na.length&&r!==0&&r<na[l].priority;l++);na.splice(l,0,s),l===0&&Ff(s)}};function vu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function gl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function ex(){}function fb(s,r,l,m,j){if(j){if(typeof m=="function"){var C=m;m=function(){var oe=hl(D);C.call(oe)}}var D=Qh(r,m,s,0,null,!1,!1,"",ex);return s._reactRootContainer=D,s[Un]=D.current,vo(s.nodeType===8?s.parentNode:s),Ha(),D}for(;j=s.lastChild;)s.removeChild(j);if(typeof m=="function"){var H=m;m=function(){var oe=hl(Y);H.call(oe)}}var Y=hu(s,0,!1,null,null,!1,!1,"",ex);return s._reactRootContainer=Y,s[Un]=Y.current,vo(s.nodeType===8?s.parentNode:s),Ha(function(){pl(r,Y,l,m)}),Y}function vl(s,r,l,m,j){var C=l._reactRootContainer;if(C){var D=C;if(typeof j=="function"){var H=j;j=function(){var Y=hl(D);H.call(Y)}}pl(r,D,s,j)}else D=fb(l,r,s,j,m);return hl(D)}Df=function(s){switch(s.tag){case 3:var r=s.stateNode;if(r.current.memoizedState.isDehydrated){var l=so(r.pendingLanes);l!==0&&(Uc(r,l|1),Is(r,ts()),(gt&6)===0&&(Er=ts()+500,ca()))}break;case 13:Ha(function(){var m=Wn(s,1);if(m!==null){var j=Rs();mn(m,s,1,j)}}),xu(s,1)}},Vc=function(s){if(s.tag===13){var r=Wn(s,134217728);if(r!==null){var l=Rs();mn(r,s,134217728,l)}xu(s,134217728)}},Of=function(s){if(s.tag===13){var r=ha(s),l=Wn(s,r);if(l!==null){var m=Rs();mn(l,s,r,m)}xu(s,r)}},$f=function(){return Pt},Lf=function(s,r){var l=Pt;try{return Pt=s,r()}finally{Pt=l}},$e=function(s,r,l){switch(r){case"input":if(Me(s,l),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<l.length;r++){var m=l[r];if(m!==s&&m.form===s.form){var j=Oi(m);if(!j)throw Error(a(90));Pe(m),Me(m,j)}}}break;case"textarea":et(s,l);break;case"select":r=l.value,r!=null&&ge(s,!!l.multiple,r,!1)}},Ae=cu,cs=Ha;var pb={usingClientEntryPoint:!1,Events:[wo,pr,Oi,me,Mt,cu]},Oo={findFiberByHostInstance:$a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hb={bundleType:Oo.bundleType,version:Oo.version,rendererPackageName:Oo.rendererPackageName,rendererConfig:Oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=_f(s),s===null?null:s.stateNode},findFiberByHostInstance:Oo.findFiberByHostInstance||mb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{xi=yl.inject(hb),wn=yl}catch{}}return Fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pb,Fs.createPortal=function(s,r){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vu(r))throw Error(a(200));return ub(s,r,null,l)},Fs.createRoot=function(s,r){if(!vu(s))throw Error(a(299));var l=!1,m="",j=Zh;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(m=r.identifierPrefix),r.onRecoverableError!==void 0&&(j=r.onRecoverableError)),r=hu(s,1,!1,null,null,l,!1,m,j),s[Un]=r.current,vo(s.nodeType===8?s.parentNode:s),new gu(r)},Fs.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(a(188)):(s=Object.keys(s).join(","),Error(a(268,s)));return s=_f(r),s=s===null?null:s.stateNode,s},Fs.flushSync=function(s){return Ha(s)},Fs.hydrate=function(s,r,l){if(!gl(r))throw Error(a(200));return vl(null,s,r,!0,l)},Fs.hydrateRoot=function(s,r,l){if(!vu(s))throw Error(a(405));var m=l!=null&&l.hydratedSources||null,j=!1,C="",D=Zh;if(l!=null&&(l.unstable_strictMode===!0&&(j=!0),l.identifierPrefix!==void 0&&(C=l.identifierPrefix),l.onRecoverableError!==void 0&&(D=l.onRecoverableError)),r=Qh(r,null,s,1,l??null,j,!1,C,D),s[Un]=r.current,vo(s),m)for(s=0;s<m.length;s++)l=m[s],j=l._getVersion,j=j(l._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[l,j]:r.mutableSourceEagerHydrationData.push(l,j);return new xl(r)},Fs.render=function(s,r,l){if(!gl(r))throw Error(a(200));return vl(null,s,r,!1,l)},Fs.unmountComponentAtNode=function(s){if(!gl(s))throw Error(a(40));return s._reactRootContainer?(Ha(function(){vl(null,null,s,!1,function(){s._reactRootContainer=null,s[Un]=null})}),!0):!1},Fs.unstable_batchedUpdates=cu,Fs.unstable_renderSubtreeIntoContainer=function(s,r,l,m){if(!gl(l))throw Error(a(200));if(s==null||s._reactInternals===void 0)throw Error(a(38));return vl(s,r,l,!1,m)},Fs.version="18.3.1-next-f1338f8080-20240426",Fs}var lx;function Pg(){if(lx)return wu.exports;lx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),wu.exports=bb(),wu.exports}var cx;function Sb(){if(cx)return jl;cx=1;var t=Pg();return jl.createRoot=t.createRoot,jl.hydrateRoot=t.hydrateRoot,jl}var Cb=Sb(),x=tc();const wa=kg(x),km=gb({__proto__:null,default:wa},[x]);var Fr=Pg();const _b=kg(Fr);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ho(){return Ho=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},Ho.apply(this,arguments)}var ba;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ba||(ba={}));const dx="popstate";function Eb(t){t===void 0&&(t={});function n(o,i){let{pathname:c,search:d,hash:f}=o.location;return Ju("",{pathname:c,search:d,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function a(o,i){return typeof i=="string"?i:Bl(i)}return kb(n,a,null,t)}function ns(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function Ag(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Rb(){return Math.random().toString(36).substr(2,8)}function ux(t,n){return{usr:t.state,key:t.key,idx:n}}function Ju(t,n,a,o){return a===void 0&&(a=null),Ho({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof n=="string"?zr(n):n,{state:a,key:n&&n.key||o||Rb()})}function Bl(t){let{pathname:n="/",search:a="",hash:o=""}=t;return a&&a!=="?"&&(n+=a.charAt(0)==="?"?a:"?"+a),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function zr(t){let n={};if(t){let a=t.indexOf("#");a>=0&&(n.hash=t.substr(a),t=t.substr(0,a));let o=t.indexOf("?");o>=0&&(n.search=t.substr(o),t=t.substr(0,o)),t&&(n.pathname=t)}return n}function kb(t,n,a,o){o===void 0&&(o={});let{window:i=document.defaultView,v5Compat:c=!1}=o,d=i.history,f=ba.Pop,u=null,g=h();g==null&&(g=0,d.replaceState(Ho({},d.state,{idx:g}),""));function h(){return(d.state||{idx:null}).idx}function p(){f=ba.Pop;let b=h(),_=b==null?null:b-g;g=b,u&&u({action:f,location:y.location,delta:_})}function v(b,_){f=ba.Push;let S=Ju(y.location,b,_);g=h()+1;let E=ux(S,g),k=y.createHref(S);try{d.pushState(E,"",k)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(k)}c&&u&&u({action:f,location:y.location,delta:1})}function N(b,_){f=ba.Replace;let S=Ju(y.location,b,_);g=h();let E=ux(S,g),k=y.createHref(S);d.replaceState(E,"",k),c&&u&&u({action:f,location:y.location,delta:0})}function w(b){let _=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof b=="string"?b:Bl(b);return S=S.replace(/ $/,"%20"),ns(_,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,_)}let y={get action(){return f},get location(){return t(i,d)},listen(b){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(dx,p),u=b,()=>{i.removeEventListener(dx,p),u=null}},createHref(b){return n(i,b)},createURL:w,encodeLocation(b){let _=w(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:v,replace:N,go(b){return d.go(b)}};return y}var mx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mx||(mx={}));function Pb(t,n,a){return a===void 0&&(a="/"),Ab(t,n,a)}function Ab(t,n,a,o){let i=typeof n=="string"?zr(n):n,c=Pm(i.pathname||"/",a);if(c==null)return null;let d=Tg(t);Tb(d);let f=null;for(let u=0;f==null&&u<d.length;++u){let g=Hb(c);f=Bb(d[u],g)}return f}function Tg(t,n,a,o){n===void 0&&(n=[]),a===void 0&&(a=[]),o===void 0&&(o="");let i=(c,d,f)=>{let u={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};u.relativePath.startsWith("/")&&(ns(u.relativePath.startsWith(o),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(o.length));let g=Ca([o,u.relativePath]),h=a.concat(u);c.children&&c.children.length>0&&(ns(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Tg(c.children,n,h,g)),!(c.path==null&&!c.index)&&n.push({path:g,score:Fb(g,c.index),routesMeta:h})};return t.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))i(c,d);else for(let u of Mg(c.path))i(c,d,u)}),n}function Mg(t){let n=t.split("/");if(n.length===0)return[];let[a,...o]=n,i=a.endsWith("?"),c=a.replace(/\?$/,"");if(o.length===0)return i?[c,""]:[c];let d=Mg(o.join("/")),f=[];return f.push(...d.map(u=>u===""?c:[c,u].join("/"))),i&&f.push(...d),f.map(u=>t.startsWith("/")&&u===""?"/":u)}function Tb(t){t.sort((n,a)=>n.score!==a.score?a.score-n.score:zb(n.routesMeta.map(o=>o.childrenIndex),a.routesMeta.map(o=>o.childrenIndex)))}const Mb=/^:[\w-]+$/,Db=3,Ob=2,$b=1,Lb=10,Ib=-2,fx=t=>t==="*";function Fb(t,n){let a=t.split("/"),o=a.length;return a.some(fx)&&(o+=Ib),n&&(o+=Ob),a.filter(i=>!fx(i)).reduce((i,c)=>i+(Mb.test(c)?Db:c===""?$b:Lb),o)}function zb(t,n){return t.length===n.length&&t.slice(0,-1).every((o,i)=>o===n[i])?t[t.length-1]-n[n.length-1]:0}function Bb(t,n,a){let{routesMeta:o}=t,i={},c="/",d=[];for(let f=0;f<o.length;++f){let u=o[f],g=f===o.length-1,h=c==="/"?n:n.slice(c.length)||"/",p=Ub({path:u.relativePath,caseSensitive:u.caseSensitive,end:g},h),v=u.route;if(!p)return null;Object.assign(i,p.params),d.push({params:i,pathname:Ca([c,p.pathname]),pathnameBase:Gb(Ca([c,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(c=Ca([c,p.pathnameBase]))}return d}function Ub(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,o]=Vb(t.path,t.caseSensitive,t.end),i=n.match(a);if(!i)return null;let c=i[0],d=c.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:o.reduce((g,h,p)=>{let{paramName:v,isOptional:N}=h;if(v==="*"){let y=f[p]||"";d=c.slice(0,c.length-y.length).replace(/(.)\/+$/,"$1")}const w=f[p];return N&&!w?g[v]=void 0:g[v]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:t}}function Vb(t,n,a){n===void 0&&(n=!1),a===void 0&&(a=!0),Ag(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,u)=>(o.push({paramName:f,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),o]}function Hb(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Ag(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),t}}function Pm(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let a=n.endsWith("/")?n.length-1:n.length,o=t.charAt(a);return o&&o!=="/"?null:t.slice(a)||"/"}function qb(t,n){n===void 0&&(n="/");let{pathname:a,search:o="",hash:i=""}=typeof t=="string"?zr(t):t;return{pathname:a?a.startsWith("/")?a:Wb(a,n):n,search:Yb(o),hash:Jb(i)}}function Wb(t,n){let a=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?a.length>1&&a.pop():i!=="."&&a.push(i)}),a.length>1?a.join("/"):"/"}function Su(t,n,a,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kb(t){return t.filter((n,a)=>a===0||n.route.path&&n.route.path.length>0)}function Am(t,n){let a=Kb(t);return n?a.map((o,i)=>i===a.length-1?o.pathname:o.pathnameBase):a.map(o=>o.pathnameBase)}function Tm(t,n,a,o){o===void 0&&(o=!1);let i;typeof t=="string"?i=zr(t):(i=Ho({},t),ns(!i.pathname||!i.pathname.includes("?"),Su("?","pathname","search",i)),ns(!i.pathname||!i.pathname.includes("#"),Su("#","pathname","hash",i)),ns(!i.search||!i.search.includes("#"),Su("#","search","hash",i)));let c=t===""||i.pathname==="",d=c?"/":i.pathname,f;if(d==null)f=a;else{let p=n.length-1;if(!o&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}f=p>=0?n[p]:"/"}let u=qb(i,f),g=d&&d!=="/"&&d.endsWith("/"),h=(c||d===".")&&a.endsWith("/");return!u.pathname.endsWith("/")&&(g||h)&&(u.pathname+="/"),u}const Ca=t=>t.join("/").replace(/\/\/+/g,"/"),Gb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Yb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Jb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Qb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Dg=["post","put","patch","delete"];new Set(Dg);const Xb=["get",...Dg];new Set(Xb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},qo.apply(this,arguments)}const Mm=x.createContext(null),Zb=x.createContext(null),Aa=x.createContext(null),sc=x.createContext(null),Tn=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Og=x.createContext(null);function eS(t,n){let{relative:a}=n===void 0?{}:n;Br()||ns(!1);let{basename:o,navigator:i}=x.useContext(Aa),{hash:c,pathname:d,search:f}=Lg(t,{relative:a}),u=d;return o!=="/"&&(u=d==="/"?o:Ca([o,d])),i.createHref({pathname:u,search:f,hash:c})}function Br(){return x.useContext(sc)!=null}function ms(){return Br()||ns(!1),x.useContext(sc).location}function $g(t){x.useContext(Aa).static||x.useLayoutEffect(t)}function Ts(){let{isDataRoute:t}=x.useContext(Tn);return t?hS():tS()}function tS(){Br()||ns(!1);let t=x.useContext(Mm),{basename:n,future:a,navigator:o}=x.useContext(Aa),{matches:i}=x.useContext(Tn),{pathname:c}=ms(),d=JSON.stringify(Am(i,a.v7_relativeSplatPath)),f=x.useRef(!1);return $g(()=>{f.current=!0}),x.useCallback(function(g,h){if(h===void 0&&(h={}),!f.current)return;if(typeof g=="number"){o.go(g);return}let p=Tm(g,JSON.parse(d),c,h.relative==="path");t==null&&n!=="/"&&(p.pathname=p.pathname==="/"?n:Ca([n,p.pathname])),(h.replace?o.replace:o.push)(p,h.state,h)},[n,o,d,c,t])}const sS=x.createContext(null);function nS(t){let n=x.useContext(Tn).outlet;return n&&x.createElement(sS.Provider,{value:t},n)}function Ur(){let{matches:t}=x.useContext(Tn),n=t[t.length-1];return n?n.params:{}}function Lg(t,n){let{relative:a}=n===void 0?{}:n,{future:o}=x.useContext(Aa),{matches:i}=x.useContext(Tn),{pathname:c}=ms(),d=JSON.stringify(Am(i,o.v7_relativeSplatPath));return x.useMemo(()=>Tm(t,JSON.parse(d),c,a==="path"),[t,d,c,a])}function aS(t,n){return rS(t,n)}function rS(t,n,a,o){Br()||ns(!1);let{navigator:i}=x.useContext(Aa),{matches:c}=x.useContext(Tn),d=c[c.length-1],f=d?d.params:{};d&&d.pathname;let u=d?d.pathnameBase:"/";d&&d.route;let g=ms(),h;if(n){var p;let b=typeof n=="string"?zr(n):n;u==="/"||(p=b.pathname)!=null&&p.startsWith(u)||ns(!1),h=b}else h=g;let v=h.pathname||"/",N=v;if(u!=="/"){let b=u.replace(/^\//,"").split("/");N="/"+v.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=Pb(t,{pathname:N}),y=dS(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},f,b.params),pathname:Ca([u,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:Ca([u,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),c,a,o);return n&&y?x.createElement(sc.Provider,{value:{location:qo({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ba.Pop}},y):y}function oS(){let t=pS(),n=Qb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},n),a?x.createElement("pre",{style:i},a):null,null)}const iS=x.createElement(oS,null);class lS extends x.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,a){return a.location!==n.location||a.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:a.error,location:a.location,revalidation:n.revalidation||a.revalidation}}componentDidCatch(n,a){console.error("React Router caught the following error during render",n,a)}render(){return this.state.error!==void 0?x.createElement(Tn.Provider,{value:this.props.routeContext},x.createElement(Og.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cS(t){let{routeContext:n,match:a,children:o}=t,i=x.useContext(Mm);return i&&i.static&&i.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=a.route.id),x.createElement(Tn.Provider,{value:n},o)}function dS(t,n,a,o){var i;if(n===void 0&&(n=[]),a===void 0&&(a=null),o===void 0&&(o=null),t==null){var c;if(!a)return null;if(a.errors)t=a.matches;else if((c=o)!=null&&c.v7_partialHydration&&n.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let d=t,f=(i=a)==null?void 0:i.errors;if(f!=null){let h=d.findIndex(p=>p.route.id&&(f==null?void 0:f[p.route.id])!==void 0);h>=0||ns(!1),d=d.slice(0,Math.min(d.length,h+1))}let u=!1,g=-1;if(a&&o&&o.v7_partialHydration)for(let h=0;h<d.length;h++){let p=d[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(g=h),p.route.id){let{loaderData:v,errors:N}=a,w=p.route.loader&&v[p.route.id]===void 0&&(!N||N[p.route.id]===void 0);if(p.route.lazy||w){u=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((h,p,v)=>{let N,w=!1,y=null,b=null;a&&(N=f&&p.route.id?f[p.route.id]:void 0,y=p.route.errorElement||iS,u&&(g<0&&v===0?(xS("route-fallback"),w=!0,b=null):g===v&&(w=!0,b=p.route.hydrateFallbackElement||null)));let _=n.concat(d.slice(0,v+1)),S=()=>{let E;return N?E=y:w?E=b:p.route.Component?E=x.createElement(p.route.Component,null):p.route.element?E=p.route.element:E=h,x.createElement(cS,{match:p,routeContext:{outlet:h,matches:_,isDataRoute:a!=null},children:E})};return a&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?x.createElement(lS,{location:a.location,revalidation:a.revalidation,component:y,error:N,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):S()},null)}var Ig=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Ig||{}),Fg=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Fg||{});function uS(t){let n=x.useContext(Mm);return n||ns(!1),n}function mS(t){let n=x.useContext(Zb);return n||ns(!1),n}function fS(t){let n=x.useContext(Tn);return n||ns(!1),n}function zg(t){let n=fS(),a=n.matches[n.matches.length-1];return a.route.id||ns(!1),a.route.id}function pS(){var t;let n=x.useContext(Og),a=mS(),o=zg();return n!==void 0?n:(t=a.errors)==null?void 0:t[o]}function hS(){let{router:t}=uS(Ig.UseNavigateStable),n=zg(Fg.UseNavigateStable),a=x.useRef(!1);return $g(()=>{a.current=!0}),x.useCallback(function(i,c){c===void 0&&(c={}),a.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,qo({fromRouteId:n},c)))},[t,n])}const px={};function xS(t,n,a){px[t]||(px[t]=!0)}function gS(t,n){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function $t(t){let{to:n,replace:a,state:o,relative:i}=t;Br()||ns(!1);let{future:c,static:d}=x.useContext(Aa),{matches:f}=x.useContext(Tn),{pathname:u}=ms(),g=Ts(),h=Tm(n,Am(f,c.v7_relativeSplatPath),u,i==="path"),p=JSON.stringify(h);return x.useEffect(()=>g(JSON.parse(p),{replace:a,state:o,relative:i}),[g,p,i,a,o]),null}function Zo(t){return nS(t.context)}function qe(t){ns(!1)}function vS(t){let{basename:n="/",children:a=null,location:o,navigationType:i=ba.Pop,navigator:c,static:d=!1,future:f}=t;Br()&&ns(!1);let u=n.replace(/^\/*/,"/"),g=x.useMemo(()=>({basename:u,navigator:c,static:d,future:qo({v7_relativeSplatPath:!1},f)}),[u,f,c,d]);typeof o=="string"&&(o=zr(o));let{pathname:h="/",search:p="",hash:v="",state:N=null,key:w="default"}=o,y=x.useMemo(()=>{let b=Pm(h,u);return b==null?null:{location:{pathname:b,search:p,hash:v,state:N,key:w},navigationType:i}},[u,h,p,v,N,w,i]);return y==null?null:x.createElement(Aa.Provider,{value:g},x.createElement(sc.Provider,{children:a,value:y}))}function yS(t){let{children:n,location:a}=t;return aS(Qu(n),a)}new Promise(()=>{});function Qu(t,n){n===void 0&&(n=[]);let a=[];return x.Children.forEach(t,(o,i)=>{if(!x.isValidElement(o))return;let c=[...n,i];if(o.type===x.Fragment){a.push.apply(a,Qu(o.props.children,c));return}o.type!==qe&&ns(!1),!o.props.index||!o.props.children||ns(!1);let d={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=Qu(o.props.children,c)),a.push(d)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},Xu.apply(this,arguments)}function jS(t,n){if(t==null)return{};var a={},o=Object.keys(t),i,c;for(c=0;c<o.length;c++)i=o[c],!(n.indexOf(i)>=0)&&(a[i]=t[i]);return a}function wS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NS(t,n){return t.button===0&&(!n||n==="_self")&&!wS(t)}function Zu(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((n,a)=>{let o=t[a];return n.concat(Array.isArray(o)?o.map(i=>[a,i]):[[a,o]])},[]))}function bS(t,n){let a=Zu(t);return n&&n.forEach((o,i)=>{a.has(i)||n.getAll(i).forEach(c=>{a.append(i,c)})}),a}const SS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],CS="6";try{window.__reactRouterVersion=CS}catch{}const _S="startTransition",hx=km[_S];function ES(t){let{basename:n,children:a,future:o,window:i}=t,c=x.useRef();c.current==null&&(c.current=Eb({window:i,v5Compat:!0}));let d=c.current,[f,u]=x.useState({action:d.action,location:d.location}),{v7_startTransition:g}=o||{},h=x.useCallback(p=>{g&&hx?hx(()=>u(p)):u(p)},[u,g]);return x.useLayoutEffect(()=>d.listen(h),[d,h]),x.useEffect(()=>gS(o),[o]),x.createElement(vS,{basename:n,children:a,location:f.location,navigationType:f.action,navigator:d,future:o})}const RS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=x.forwardRef(function(n,a){let{onClick:o,relative:i,reloadDocument:c,replace:d,state:f,target:u,to:g,preventScrollReset:h,viewTransition:p}=n,v=jS(n,SS),{basename:N}=x.useContext(Aa),w,y=!1;if(typeof g=="string"&&kS.test(g)&&(w=g,RS))try{let E=new URL(window.location.href),k=g.startsWith("//")?new URL(E.protocol+g):new URL(g),T=Pm(k.pathname,N);k.origin===E.origin&&T!=null?g=T+k.search+k.hash:y=!0}catch{}let b=eS(g,{relative:i}),_=PS(g,{replace:d,state:f,target:u,preventScrollReset:h,relative:i,viewTransition:p});function S(E){o&&o(E),E.defaultPrevented||_(E)}return x.createElement("a",Xu({},v,{href:w||b,onClick:y||c?o:S,ref:a,target:u}))});var xx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xx||(xx={}));var gx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gx||(gx={}));function PS(t,n){let{target:a,replace:o,state:i,preventScrollReset:c,relative:d,viewTransition:f}=n===void 0?{}:n,u=Ts(),g=ms(),h=Lg(t,{relative:d});return x.useCallback(p=>{if(NS(p,a)){p.preventDefault();let v=o!==void 0?o:Bl(g)===Bl(h);u(t,{replace:v,state:i,preventScrollReset:c,relative:d,viewTransition:f})}},[g,u,h,o,i,a,t,c,d,f])}function AS(t){let n=x.useRef(Zu(t)),a=x.useRef(!1),o=ms(),i=x.useMemo(()=>bS(o.search,a.current?null:n.current),[o.search]),c=Ts(),d=x.useCallback((f,u)=>{const g=Zu(typeof f=="function"?f(i):f);a.current=!0,c("?"+g,u)},[c,i]);return[i,d]}const TS="modulepreload",MS=function(t){return"/"+t},vx={},Wo=function(n,a,o){let i=Promise.resolve();if(a&&a.length>0){let d=function(g){return Promise.all(g.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),u=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));i=d(a.map(g=>{if(g=MS(g),g in vx)return;vx[g]=!0;const h=g.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${p}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":TS,h||(v.as="script"),v.crossOrigin="",v.href=g,u&&v.setAttribute("nonce",u),document.head.appendChild(v),h)return new Promise((N,w)=>{v.addEventListener("load",N),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return i.then(d=>{for(const f of d||[])f.status==="rejected"&&c(f.reason);return n().catch(c)})};function Bg(t,n){return function(){return t.apply(n,arguments)}}const{toString:DS}=Object.prototype,{getPrototypeOf:Dm}=Object,{iterator:nc,toStringTag:Ug}=Symbol,ac=(t=>n=>{const a=DS.call(n);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),yn=t=>(t=t.toLowerCase(),n=>ac(n)===t),rc=t=>n=>typeof n===t,{isArray:Vr}=Array,Or=rc("undefined");function ei(t){return t!==null&&!Or(t)&&t.constructor!==null&&!Or(t.constructor)&&zs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Vg=yn("ArrayBuffer");function OS(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&Vg(t.buffer),n}const $S=rc("string"),zs=rc("function"),Hg=rc("number"),ti=t=>t!==null&&typeof t=="object",LS=t=>t===!0||t===!1,Al=t=>{if(ac(t)!=="object")return!1;const n=Dm(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Ug in t)&&!(nc in t)},IS=t=>{if(!ti(t)||ei(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},FS=yn("Date"),zS=yn("File"),BS=yn("Blob"),US=yn("FileList"),VS=t=>ti(t)&&zs(t.pipe),HS=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||zs(t.append)&&((n=ac(t))==="formdata"||n==="object"&&zs(t.toString)&&t.toString()==="[object FormData]"))},qS=yn("URLSearchParams"),[WS,KS,GS,YS]=["ReadableStream","Request","Response","Headers"].map(yn),JS=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function si(t,n,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let o,i;if(typeof t!="object"&&(t=[t]),Vr(t))for(o=0,i=t.length;o<i;o++)n.call(null,t[o],o,t);else{if(ei(t))return;const c=a?Object.getOwnPropertyNames(t):Object.keys(t),d=c.length;let f;for(o=0;o<d;o++)f=c[o],n.call(null,t[f],f,t)}}function qg(t,n){if(ei(t))return null;n=n.toLowerCase();const a=Object.keys(t);let o=a.length,i;for(;o-- >0;)if(i=a[o],n===i.toLowerCase())return i;return null}const Ya=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Wg=t=>!Or(t)&&t!==Ya;function em(){const{caseless:t,skipUndefined:n}=Wg(this)&&this||{},a={},o=(i,c)=>{const d=t&&qg(a,c)||c;Al(a[d])&&Al(i)?a[d]=em(a[d],i):Al(i)?a[d]=em({},i):Vr(i)?a[d]=i.slice():(!n||!Or(i))&&(a[d]=i)};for(let i=0,c=arguments.length;i<c;i++)arguments[i]&&si(arguments[i],o);return a}const QS=(t,n,a,{allOwnKeys:o}={})=>(si(n,(i,c)=>{a&&zs(i)?t[c]=Bg(i,a):t[c]=i},{allOwnKeys:o}),t),XS=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ZS=(t,n,a,o)=>{t.prototype=Object.create(n.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),a&&Object.assign(t.prototype,a)},e1=(t,n,a,o)=>{let i,c,d;const f={};if(n=n||{},t==null)return n;do{for(i=Object.getOwnPropertyNames(t),c=i.length;c-- >0;)d=i[c],(!o||o(d,t,n))&&!f[d]&&(n[d]=t[d],f[d]=!0);t=a!==!1&&Dm(t)}while(t&&(!a||a(t,n))&&t!==Object.prototype);return n},t1=(t,n,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=n.length;const o=t.indexOf(n,a);return o!==-1&&o===a},s1=t=>{if(!t)return null;if(Vr(t))return t;let n=t.length;if(!Hg(n))return null;const a=new Array(n);for(;n-- >0;)a[n]=t[n];return a},n1=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&Dm(Uint8Array)),a1=(t,n)=>{const o=(t&&t[nc]).call(t);let i;for(;(i=o.next())&&!i.done;){const c=i.value;n.call(t,c[0],c[1])}},r1=(t,n)=>{let a;const o=[];for(;(a=t.exec(n))!==null;)o.push(a);return o},o1=yn("HTMLFormElement"),i1=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,o,i){return o.toUpperCase()+i}),yx=(({hasOwnProperty:t})=>(n,a)=>t.call(n,a))(Object.prototype),l1=yn("RegExp"),Kg=(t,n)=>{const a=Object.getOwnPropertyDescriptors(t),o={};si(a,(i,c)=>{let d;(d=n(i,c,t))!==!1&&(o[c]=d||i)}),Object.defineProperties(t,o)},c1=t=>{Kg(t,(n,a)=>{if(zs(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const o=t[a];if(zs(o)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},d1=(t,n)=>{const a={},o=i=>{i.forEach(c=>{a[c]=!0})};return Vr(t)?o(t):o(String(t).split(n)),a},u1=()=>{},m1=(t,n)=>t!=null&&Number.isFinite(t=+t)?t:n;function f1(t){return!!(t&&zs(t.append)&&t[Ug]==="FormData"&&t[nc])}const p1=t=>{const n=new Array(10),a=(o,i)=>{if(ti(o)){if(n.indexOf(o)>=0)return;if(ei(o))return o;if(!("toJSON"in o)){n[i]=o;const c=Vr(o)?[]:{};return si(o,(d,f)=>{const u=a(d,i+1);!Or(u)&&(c[f]=u)}),n[i]=void 0,c}}return o};return a(t,0)},h1=yn("AsyncFunction"),x1=t=>t&&(ti(t)||zs(t))&&zs(t.then)&&zs(t.catch),Gg=((t,n)=>t?setImmediate:n?((a,o)=>(Ya.addEventListener("message",({source:i,data:c})=>{i===Ya&&c===a&&o.length&&o.shift()()},!1),i=>{o.push(i),Ya.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",zs(Ya.postMessage)),g1=typeof queueMicrotask<"u"?queueMicrotask.bind(Ya):typeof process<"u"&&process.nextTick||Gg,v1=t=>t!=null&&zs(t[nc]),ie={isArray:Vr,isArrayBuffer:Vg,isBuffer:ei,isFormData:HS,isArrayBufferView:OS,isString:$S,isNumber:Hg,isBoolean:LS,isObject:ti,isPlainObject:Al,isEmptyObject:IS,isReadableStream:WS,isRequest:KS,isResponse:GS,isHeaders:YS,isUndefined:Or,isDate:FS,isFile:zS,isBlob:BS,isRegExp:l1,isFunction:zs,isStream:VS,isURLSearchParams:qS,isTypedArray:n1,isFileList:US,forEach:si,merge:em,extend:QS,trim:JS,stripBOM:XS,inherits:ZS,toFlatObject:e1,kindOf:ac,kindOfTest:yn,endsWith:t1,toArray:s1,forEachEntry:a1,matchAll:r1,isHTMLForm:o1,hasOwnProperty:yx,hasOwnProp:yx,reduceDescriptors:Kg,freezeMethods:c1,toObjectSet:d1,toCamelCase:i1,noop:u1,toFiniteNumber:m1,findKey:qg,global:Ya,isContextDefined:Wg,isSpecCompliantForm:f1,toJSONObject:p1,isAsyncFn:h1,isThenable:x1,setImmediate:Gg,asap:g1,isIterable:v1};function st(t,n,a,o,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),a&&(this.config=a),o&&(this.request=o),i&&(this.response=i,this.status=i.status?i.status:null)}ie.inherits(st,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}});const Yg=st.prototype,Jg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Jg[t]={value:t}});Object.defineProperties(st,Jg);Object.defineProperty(Yg,"isAxiosError",{value:!0});st.from=(t,n,a,o,i,c)=>{const d=Object.create(Yg);ie.toFlatObject(t,d,function(h){return h!==Error.prototype},g=>g!=="isAxiosError");const f=t&&t.message?t.message:"Error",u=n==null&&t?t.code:n;return st.call(d,f,u,a,o,i),t&&d.cause==null&&Object.defineProperty(d,"cause",{value:t,configurable:!0}),d.name=t&&t.name||"Error",c&&Object.assign(d,c),d};const y1=null;function tm(t){return ie.isPlainObject(t)||ie.isArray(t)}function Qg(t){return ie.endsWith(t,"[]")?t.slice(0,-2):t}function jx(t,n,a){return t?t.concat(n).map(function(i,c){return i=Qg(i),!a&&c?"["+i+"]":i}).join(a?".":""):n}function j1(t){return ie.isArray(t)&&!t.some(tm)}const w1=ie.toFlatObject(ie,{},null,function(n){return/^is[A-Z]/.test(n)});function oc(t,n,a){if(!ie.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,a=ie.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!ie.isUndefined(b[y])});const o=a.metaTokens,i=a.visitor||h,c=a.dots,d=a.indexes,u=(a.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(n);if(!ie.isFunction(i))throw new TypeError("visitor must be a function");function g(w){if(w===null)return"";if(ie.isDate(w))return w.toISOString();if(ie.isBoolean(w))return w.toString();if(!u&&ie.isBlob(w))throw new st("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(w)||ie.isTypedArray(w)?u&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,y,b){let _=w;if(w&&!b&&typeof w=="object"){if(ie.endsWith(y,"{}"))y=o?y:y.slice(0,-2),w=JSON.stringify(w);else if(ie.isArray(w)&&j1(w)||(ie.isFileList(w)||ie.endsWith(y,"[]"))&&(_=ie.toArray(w)))return y=Qg(y),_.forEach(function(E,k){!(ie.isUndefined(E)||E===null)&&n.append(d===!0?jx([y],k,c):d===null?y:y+"[]",g(E))}),!1}return tm(w)?!0:(n.append(jx(b,y,c),g(w)),!1)}const p=[],v=Object.assign(w1,{defaultVisitor:h,convertValue:g,isVisitable:tm});function N(w,y){if(!ie.isUndefined(w)){if(p.indexOf(w)!==-1)throw Error("Circular reference detected in "+y.join("."));p.push(w),ie.forEach(w,function(_,S){(!(ie.isUndefined(_)||_===null)&&i.call(n,_,ie.isString(S)?S.trim():S,y,v))===!0&&N(_,y?y.concat(S):[S])}),p.pop()}}if(!ie.isObject(t))throw new TypeError("data must be an object");return N(t),n}function wx(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return n[o]})}function Om(t,n){this._pairs=[],t&&oc(t,this,n)}const Xg=Om.prototype;Xg.append=function(n,a){this._pairs.push([n,a])};Xg.toString=function(n){const a=n?function(o){return n.call(this,o,wx)}:wx;return this._pairs.map(function(i){return a(i[0])+"="+a(i[1])},"").join("&")};function N1(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Zg(t,n,a){if(!n)return t;const o=a&&a.encode||N1;ie.isFunction(a)&&(a={serialize:a});const i=a&&a.serialize;let c;if(i?c=i(n,a):c=ie.isURLSearchParams(n)?n.toString():new Om(n,a).toString(o),c){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class Nx{constructor(){this.handlers=[]}use(n,a,o){return this.handlers.push({fulfilled:n,rejected:a,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ie.forEach(this.handlers,function(o){o!==null&&n(o)})}}const ev={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},b1=typeof URLSearchParams<"u"?URLSearchParams:Om,S1=typeof FormData<"u"?FormData:null,C1=typeof Blob<"u"?Blob:null,_1={isBrowser:!0,classes:{URLSearchParams:b1,FormData:S1,Blob:C1},protocols:["http","https","file","blob","url","data"]},$m=typeof window<"u"&&typeof document<"u",sm=typeof navigator=="object"&&navigator||void 0,E1=$m&&(!sm||["ReactNative","NativeScript","NS"].indexOf(sm.product)<0),R1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",k1=$m&&window.location.href||"http://localhost",P1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$m,hasStandardBrowserEnv:E1,hasStandardBrowserWebWorkerEnv:R1,navigator:sm,origin:k1},Symbol.toStringTag,{value:"Module"})),Cs={...P1,..._1};function A1(t,n){return oc(t,new Cs.classes.URLSearchParams,{visitor:function(a,o,i,c){return Cs.isNode&&ie.isBuffer(a)?(this.append(o,a.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...n})}function T1(t){return ie.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function M1(t){const n={},a=Object.keys(t);let o;const i=a.length;let c;for(o=0;o<i;o++)c=a[o],n[c]=t[c];return n}function tv(t){function n(a,o,i,c){let d=a[c++];if(d==="__proto__")return!0;const f=Number.isFinite(+d),u=c>=a.length;return d=!d&&ie.isArray(i)?i.length:d,u?(ie.hasOwnProp(i,d)?i[d]=[i[d],o]:i[d]=o,!f):((!i[d]||!ie.isObject(i[d]))&&(i[d]=[]),n(a,o,i[d],c)&&ie.isArray(i[d])&&(i[d]=M1(i[d])),!f)}if(ie.isFormData(t)&&ie.isFunction(t.entries)){const a={};return ie.forEachEntry(t,(o,i)=>{n(T1(o),i,a,0)}),a}return null}function D1(t,n,a){if(ie.isString(t))try{return(n||JSON.parse)(t),ie.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(a||JSON.stringify)(t)}const ni={transitional:ev,adapter:["xhr","http","fetch"],transformRequest:[function(n,a){const o=a.getContentType()||"",i=o.indexOf("application/json")>-1,c=ie.isObject(n);if(c&&ie.isHTMLForm(n)&&(n=new FormData(n)),ie.isFormData(n))return i?JSON.stringify(tv(n)):n;if(ie.isArrayBuffer(n)||ie.isBuffer(n)||ie.isStream(n)||ie.isFile(n)||ie.isBlob(n)||ie.isReadableStream(n))return n;if(ie.isArrayBufferView(n))return n.buffer;if(ie.isURLSearchParams(n))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let f;if(c){if(o.indexOf("application/x-www-form-urlencoded")>-1)return A1(n,this.formSerializer).toString();if((f=ie.isFileList(n))||o.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return oc(f?{"files[]":n}:n,u&&new u,this.formSerializer)}}return c||i?(a.setContentType("application/json",!1),D1(n)):n}],transformResponse:[function(n){const a=this.transitional||ni.transitional,o=a&&a.forcedJSONParsing,i=this.responseType==="json";if(ie.isResponse(n)||ie.isReadableStream(n))return n;if(n&&ie.isString(n)&&(o&&!this.responseType||i)){const d=!(a&&a.silentJSONParsing)&&i;try{return JSON.parse(n,this.parseReviver)}catch(f){if(d)throw f.name==="SyntaxError"?st.from(f,st.ERR_BAD_RESPONSE,this,null,this.response):f}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cs.classes.FormData,Blob:Cs.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],t=>{ni.headers[t]={}});const O1=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$1=t=>{const n={};let a,o,i;return t&&t.split(`
`).forEach(function(d){i=d.indexOf(":"),a=d.substring(0,i).trim().toLowerCase(),o=d.substring(i+1).trim(),!(!a||n[a]&&O1[a])&&(a==="set-cookie"?n[a]?n[a].push(o):n[a]=[o]:n[a]=n[a]?n[a]+", "+o:o)}),n},bx=Symbol("internals");function Lo(t){return t&&String(t).trim().toLowerCase()}function Tl(t){return t===!1||t==null?t:ie.isArray(t)?t.map(Tl):String(t)}function L1(t){const n=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=a.exec(t);)n[o[1]]=o[2];return n}const I1=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Cu(t,n,a,o,i){if(ie.isFunction(o))return o.call(this,n,a);if(i&&(n=a),!!ie.isString(n)){if(ie.isString(o))return n.indexOf(o)!==-1;if(ie.isRegExp(o))return o.test(n)}}function F1(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,a,o)=>a.toUpperCase()+o)}function z1(t,n){const a=ie.toCamelCase(" "+n);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+a,{value:function(i,c,d){return this[o].call(this,n,i,c,d)},configurable:!0})})}let Bs=class{constructor(n){n&&this.set(n)}set(n,a,o){const i=this;function c(f,u,g){const h=Lo(u);if(!h)throw new Error("header name must be a non-empty string");const p=ie.findKey(i,h);(!p||i[p]===void 0||g===!0||g===void 0&&i[p]!==!1)&&(i[p||u]=Tl(f))}const d=(f,u)=>ie.forEach(f,(g,h)=>c(g,h,u));if(ie.isPlainObject(n)||n instanceof this.constructor)d(n,a);else if(ie.isString(n)&&(n=n.trim())&&!I1(n))d($1(n),a);else if(ie.isObject(n)&&ie.isIterable(n)){let f={},u,g;for(const h of n){if(!ie.isArray(h))throw TypeError("Object iterator must return a key-value pair");f[g=h[0]]=(u=f[g])?ie.isArray(u)?[...u,h[1]]:[u,h[1]]:h[1]}d(f,a)}else n!=null&&c(a,n,o);return this}get(n,a){if(n=Lo(n),n){const o=ie.findKey(this,n);if(o){const i=this[o];if(!a)return i;if(a===!0)return L1(i);if(ie.isFunction(a))return a.call(this,i,o);if(ie.isRegExp(a))return a.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,a){if(n=Lo(n),n){const o=ie.findKey(this,n);return!!(o&&this[o]!==void 0&&(!a||Cu(this,this[o],o,a)))}return!1}delete(n,a){const o=this;let i=!1;function c(d){if(d=Lo(d),d){const f=ie.findKey(o,d);f&&(!a||Cu(o,o[f],f,a))&&(delete o[f],i=!0)}}return ie.isArray(n)?n.forEach(c):c(n),i}clear(n){const a=Object.keys(this);let o=a.length,i=!1;for(;o--;){const c=a[o];(!n||Cu(this,this[c],c,n,!0))&&(delete this[c],i=!0)}return i}normalize(n){const a=this,o={};return ie.forEach(this,(i,c)=>{const d=ie.findKey(o,c);if(d){a[d]=Tl(i),delete a[c];return}const f=n?F1(c):String(c).trim();f!==c&&delete a[c],a[f]=Tl(i),o[f]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const a=Object.create(null);return ie.forEach(this,(o,i)=>{o!=null&&o!==!1&&(a[i]=n&&ie.isArray(o)?o.join(", "):o)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,a])=>n+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...a){const o=new this(n);return a.forEach(i=>o.set(i)),o}static accessor(n){const o=(this[bx]=this[bx]={accessors:{}}).accessors,i=this.prototype;function c(d){const f=Lo(d);o[f]||(z1(i,d),o[f]=!0)}return ie.isArray(n)?n.forEach(c):c(n),this}};Bs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(Bs.prototype,({value:t},n)=>{let a=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(o){this[a]=o}}});ie.freezeMethods(Bs);function _u(t,n){const a=this||ni,o=n||a,i=Bs.from(o.headers);let c=o.data;return ie.forEach(t,function(f){c=f.call(a,c,i.normalize(),n?n.status:void 0)}),i.normalize(),c}function sv(t){return!!(t&&t.__CANCEL__)}function Hr(t,n,a){st.call(this,t??"canceled",st.ERR_CANCELED,n,a),this.name="CanceledError"}ie.inherits(Hr,st,{__CANCEL__:!0});function nv(t,n,a){const o=a.config.validateStatus;!a.status||!o||o(a.status)?t(a):n(new st("Request failed with status code "+a.status,[st.ERR_BAD_REQUEST,st.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function B1(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function U1(t,n){t=t||10;const a=new Array(t),o=new Array(t);let i=0,c=0,d;return n=n!==void 0?n:1e3,function(u){const g=Date.now(),h=o[c];d||(d=g),a[i]=u,o[i]=g;let p=c,v=0;for(;p!==i;)v+=a[p++],p=p%t;if(i=(i+1)%t,i===c&&(c=(c+1)%t),g-d<n)return;const N=h&&g-h;return N?Math.round(v*1e3/N):void 0}}function V1(t,n){let a=0,o=1e3/n,i,c;const d=(g,h=Date.now())=>{a=h,i=null,c&&(clearTimeout(c),c=null),t(...g)};return[(...g)=>{const h=Date.now(),p=h-a;p>=o?d(g,h):(i=g,c||(c=setTimeout(()=>{c=null,d(i)},o-p)))},()=>i&&d(i)]}const Ul=(t,n,a=3)=>{let o=0;const i=U1(50,250);return V1(c=>{const d=c.loaded,f=c.lengthComputable?c.total:void 0,u=d-o,g=i(u),h=d<=f;o=d;const p={loaded:d,total:f,progress:f?d/f:void 0,bytes:u,rate:g||void 0,estimated:g&&f&&h?(f-d)/g:void 0,event:c,lengthComputable:f!=null,[n?"download":"upload"]:!0};t(p)},a)},Sx=(t,n)=>{const a=t!=null;return[o=>n[0]({lengthComputable:a,total:t,loaded:o}),n[1]]},Cx=t=>(...n)=>ie.asap(()=>t(...n)),H1=Cs.hasStandardBrowserEnv?((t,n)=>a=>(a=new URL(a,Cs.origin),t.protocol===a.protocol&&t.host===a.host&&(n||t.port===a.port)))(new URL(Cs.origin),Cs.navigator&&/(msie|trident)/i.test(Cs.navigator.userAgent)):()=>!0,q1=Cs.hasStandardBrowserEnv?{write(t,n,a,o,i,c){const d=[t+"="+encodeURIComponent(n)];ie.isNumber(a)&&d.push("expires="+new Date(a).toGMTString()),ie.isString(o)&&d.push("path="+o),ie.isString(i)&&d.push("domain="+i),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(t){const n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function W1(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function K1(t,n){return n?t.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):t}function av(t,n,a){let o=!W1(n);return t&&(o||a==!1)?K1(t,n):n}const _x=t=>t instanceof Bs?{...t}:t;function Xa(t,n){n=n||{};const a={};function o(g,h,p,v){return ie.isPlainObject(g)&&ie.isPlainObject(h)?ie.merge.call({caseless:v},g,h):ie.isPlainObject(h)?ie.merge({},h):ie.isArray(h)?h.slice():h}function i(g,h,p,v){if(ie.isUndefined(h)){if(!ie.isUndefined(g))return o(void 0,g,p,v)}else return o(g,h,p,v)}function c(g,h){if(!ie.isUndefined(h))return o(void 0,h)}function d(g,h){if(ie.isUndefined(h)){if(!ie.isUndefined(g))return o(void 0,g)}else return o(void 0,h)}function f(g,h,p){if(p in n)return o(g,h);if(p in t)return o(void 0,g)}const u={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:f,headers:(g,h,p)=>i(_x(g),_x(h),p,!0)};return ie.forEach(Object.keys({...t,...n}),function(h){const p=u[h]||i,v=p(t[h],n[h],h);ie.isUndefined(v)&&p!==f||(a[h]=v)}),a}const rv=t=>{const n=Xa({},t);let{data:a,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:c,headers:d,auth:f}=n;if(n.headers=d=Bs.from(d),n.url=Zg(av(n.baseURL,n.url,n.allowAbsoluteUrls),t.params,t.paramsSerializer),f&&d.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),ie.isFormData(a)){if(Cs.hasStandardBrowserEnv||Cs.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(ie.isFunction(a.getHeaders)){const u=a.getHeaders(),g=["content-type","content-length"];Object.entries(u).forEach(([h,p])=>{g.includes(h.toLowerCase())&&d.set(h,p)})}}if(Cs.hasStandardBrowserEnv&&(o&&ie.isFunction(o)&&(o=o(n)),o||o!==!1&&H1(n.url))){const u=i&&c&&q1.read(c);u&&d.set(i,u)}return n},G1=typeof XMLHttpRequest<"u",Y1=G1&&function(t){return new Promise(function(a,o){const i=rv(t);let c=i.data;const d=Bs.from(i.headers).normalize();let{responseType:f,onUploadProgress:u,onDownloadProgress:g}=i,h,p,v,N,w;function y(){N&&N(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function _(){if(!b)return;const E=Bs.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),T={data:!f||f==="text"||f==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:E,config:t,request:b};nv(function(A){a(A),y()},function(A){o(A),y()},T),b=null}"onloadend"in b?b.onloadend=_:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(_)},b.onabort=function(){b&&(o(new st("Request aborted",st.ECONNABORTED,t,b)),b=null)},b.onerror=function(k){const T=k&&k.message?k.message:"Network Error",P=new st(T,st.ERR_NETWORK,t,b);P.event=k||null,o(P),b=null},b.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||ev;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),o(new st(k,T.clarifyTimeoutError?st.ETIMEDOUT:st.ECONNABORTED,t,b)),b=null},c===void 0&&d.setContentType(null),"setRequestHeader"in b&&ie.forEach(d.toJSON(),function(k,T){b.setRequestHeader(T,k)}),ie.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),f&&f!=="json"&&(b.responseType=i.responseType),g&&([v,w]=Ul(g,!0),b.addEventListener("progress",v)),u&&b.upload&&([p,N]=Ul(u),b.upload.addEventListener("progress",p),b.upload.addEventListener("loadend",N)),(i.cancelToken||i.signal)&&(h=E=>{b&&(o(!E||E.type?new Hr(null,t,b):E),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const S=B1(i.url);if(S&&Cs.protocols.indexOf(S)===-1){o(new st("Unsupported protocol "+S+":",st.ERR_BAD_REQUEST,t));return}b.send(c||null)})},J1=(t,n)=>{const{length:a}=t=t?t.filter(Boolean):[];if(n||a){let o=new AbortController,i;const c=function(g){if(!i){i=!0,f();const h=g instanceof Error?g:this.reason;o.abort(h instanceof st?h:new Hr(h instanceof Error?h.message:h))}};let d=n&&setTimeout(()=>{d=null,c(new st(`timeout ${n} of ms exceeded`,st.ETIMEDOUT))},n);const f=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(g=>{g.unsubscribe?g.unsubscribe(c):g.removeEventListener("abort",c)}),t=null)};t.forEach(g=>g.addEventListener("abort",c));const{signal:u}=o;return u.unsubscribe=()=>ie.asap(f),u}},Q1=function*(t,n){let a=t.byteLength;if(a<n){yield t;return}let o=0,i;for(;o<a;)i=o+n,yield t.slice(o,i),o=i},X1=async function*(t,n){for await(const a of Z1(t))yield*Q1(a,n)},Z1=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const n=t.getReader();try{for(;;){const{done:a,value:o}=await n.read();if(a)break;yield o}}finally{await n.cancel()}},Ex=(t,n,a,o)=>{const i=X1(t,n);let c=0,d,f=u=>{d||(d=!0,o&&o(u))};return new ReadableStream({async pull(u){try{const{done:g,value:h}=await i.next();if(g){f(),u.close();return}let p=h.byteLength;if(a){let v=c+=p;a(v)}u.enqueue(new Uint8Array(h))}catch(g){throw f(g),g}},cancel(u){return f(u),i.return()}},{highWaterMark:2})},Rx=64*1024,{isFunction:wl}=ie,eC=(({Request:t,Response:n})=>({Request:t,Response:n}))(ie.global),{ReadableStream:kx,TextEncoder:Px}=ie.global,Ax=(t,...n)=>{try{return!!t(...n)}catch{return!1}},tC=t=>{t=ie.merge.call({skipUndefined:!0},eC,t);const{fetch:n,Request:a,Response:o}=t,i=n?wl(n):typeof fetch=="function",c=wl(a),d=wl(o);if(!i)return!1;const f=i&&wl(kx),u=i&&(typeof Px=="function"?(w=>y=>w.encode(y))(new Px):async w=>new Uint8Array(await new a(w).arrayBuffer())),g=c&&f&&Ax(()=>{let w=!1;const y=new a(Cs.origin,{body:new kx,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!y}),h=d&&f&&Ax(()=>ie.isReadableStream(new o("").body)),p={stream:h&&(w=>w.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!p[w]&&(p[w]=(y,b)=>{let _=y&&y[w];if(_)return _.call(y);throw new st(`Response type '${w}' is not supported`,st.ERR_NOT_SUPPORT,b)})});const v=async w=>{if(w==null)return 0;if(ie.isBlob(w))return w.size;if(ie.isSpecCompliantForm(w))return(await new a(Cs.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(ie.isArrayBufferView(w)||ie.isArrayBuffer(w))return w.byteLength;if(ie.isURLSearchParams(w)&&(w=w+""),ie.isString(w))return(await u(w)).byteLength},N=async(w,y)=>{const b=ie.toFiniteNumber(w.getContentLength());return b??v(y)};return async w=>{let{url:y,method:b,data:_,signal:S,cancelToken:E,timeout:k,onDownloadProgress:T,onUploadProgress:P,responseType:A,headers:R,withCredentials:$="same-origin",fetchOptions:O}=rv(w),I=n||fetch;A=A?(A+"").toLowerCase():"text";let V=J1([S,E&&E.toAbortSignal()],k),J=null;const F=V&&V.unsubscribe&&(()=>{V.unsubscribe()});let K;try{if(P&&g&&b!=="get"&&b!=="head"&&(K=await N(R,_))!==0){let L=new a(y,{method:"POST",body:_,duplex:"half"}),q;if(ie.isFormData(_)&&(q=L.headers.get("content-type"))&&R.setContentType(q),L.body){const[te,B]=Sx(K,Ul(Cx(P)));_=Ex(L.body,Rx,te,B)}}ie.isString($)||($=$?"include":"omit");const M=c&&"credentials"in a.prototype,W={...O,signal:V,method:b.toUpperCase(),headers:R.normalize().toJSON(),body:_,duplex:"half",credentials:M?$:void 0};J=c&&new a(y,W);let U=await(c?I(J,O):I(y,W));const X=h&&(A==="stream"||A==="response");if(h&&(T||X&&F)){const L={};["status","statusText","headers"].forEach(z=>{L[z]=U[z]});const q=ie.toFiniteNumber(U.headers.get("content-length")),[te,B]=T&&Sx(q,Ul(Cx(T),!0))||[];U=new o(Ex(U.body,Rx,te,()=>{B&&B(),F&&F()}),L)}A=A||"text";let ee=await p[ie.findKey(p,A)||"text"](U,w);return!X&&F&&F(),await new Promise((L,q)=>{nv(L,q,{data:ee,headers:Bs.from(U.headers),status:U.status,statusText:U.statusText,config:w,request:J})})}catch(M){throw F&&F(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new st("Network Error",st.ERR_NETWORK,w,J),{cause:M.cause||M}):st.from(M,M&&M.code,w,J)}}},sC=new Map,ov=t=>{let n=t?t.env:{};const{fetch:a,Request:o,Response:i}=n,c=[o,i,a];let d=c.length,f=d,u,g,h=sC;for(;f--;)u=c[f],g=h.get(u),g===void 0&&h.set(u,g=f?new Map:tC(n)),h=g;return g};ov();const nm={http:y1,xhr:Y1,fetch:{get:ov}};ie.forEach(nm,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const Tx=t=>`- ${t}`,nC=t=>ie.isFunction(t)||t===null||t===!1,iv={getAdapter:(t,n)=>{t=ie.isArray(t)?t:[t];const{length:a}=t;let o,i;const c={};for(let d=0;d<a;d++){o=t[d];let f;if(i=o,!nC(o)&&(i=nm[(f=String(o)).toLowerCase()],i===void 0))throw new st(`Unknown adapter '${f}'`);if(i&&(ie.isFunction(i)||(i=i.get(n))))break;c[f||"#"+d]=i}if(!i){const d=Object.entries(c).map(([u,g])=>`adapter ${u} `+(g===!1?"is not supported by the environment":"is not available in the build"));let f=a?d.length>1?`since :
`+d.map(Tx).join(`
`):" "+Tx(d[0]):"as no adapter specified";throw new st("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return i},adapters:nm};function Eu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Hr(null,t)}function Mx(t){return Eu(t),t.headers=Bs.from(t.headers),t.data=_u.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),iv.getAdapter(t.adapter||ni.adapter,t)(t).then(function(o){return Eu(t),o.data=_u.call(t,t.transformResponse,o),o.headers=Bs.from(o.headers),o},function(o){return sv(o)||(Eu(t),o&&o.response&&(o.response.data=_u.call(t,t.transformResponse,o.response),o.response.headers=Bs.from(o.response.headers))),Promise.reject(o)})}const lv="1.12.2",ic={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{ic[t]=function(o){return typeof o===t||"a"+(n<1?"n ":" ")+t}});const Dx={};ic.transitional=function(n,a,o){function i(c,d){return"[Axios v"+lv+"] Transitional option '"+c+"'"+d+(o?". "+o:"")}return(c,d,f)=>{if(n===!1)throw new st(i(d," has been removed"+(a?" in "+a:"")),st.ERR_DEPRECATED);return a&&!Dx[d]&&(Dx[d]=!0,console.warn(i(d," has been deprecated since v"+a+" and will be removed in the near future"))),n?n(c,d,f):!0}};ic.spelling=function(n){return(a,o)=>(console.warn(`${o} is likely a misspelling of ${n}`),!0)};function aC(t,n,a){if(typeof t!="object")throw new st("options must be an object",st.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let i=o.length;for(;i-- >0;){const c=o[i],d=n[c];if(d){const f=t[c],u=f===void 0||d(f,c,t);if(u!==!0)throw new st("option "+c+" must be "+u,st.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new st("Unknown option "+c,st.ERR_BAD_OPTION)}}const Ml={assertOptions:aC,validators:ic},_n=Ml.validators;let Ja=class{constructor(n){this.defaults=n||{},this.interceptors={request:new Nx,response:new Nx}}async request(n,a){try{return await this._request(n,a)}catch(o){if(o instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const c=i.stack?i.stack.replace(/^.+\n/,""):"";try{o.stack?c&&!String(o.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+c):o.stack=c}catch{}}throw o}}_request(n,a){typeof n=="string"?(a=a||{},a.url=n):a=n||{},a=Xa(this.defaults,a);const{transitional:o,paramsSerializer:i,headers:c}=a;o!==void 0&&Ml.assertOptions(o,{silentJSONParsing:_n.transitional(_n.boolean),forcedJSONParsing:_n.transitional(_n.boolean),clarifyTimeoutError:_n.transitional(_n.boolean)},!1),i!=null&&(ie.isFunction(i)?a.paramsSerializer={serialize:i}:Ml.assertOptions(i,{encode:_n.function,serialize:_n.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Ml.assertOptions(a,{baseUrl:_n.spelling("baseURL"),withXsrfToken:_n.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let d=c&&ie.merge(c.common,c[a.method]);c&&ie.forEach(["delete","get","head","post","put","patch","common"],w=>{delete c[w]}),a.headers=Bs.concat(d,c);const f=[];let u=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(a)===!1||(u=u&&y.synchronous,f.unshift(y.fulfilled,y.rejected))});const g=[];this.interceptors.response.forEach(function(y){g.push(y.fulfilled,y.rejected)});let h,p=0,v;if(!u){const w=[Mx.bind(this),void 0];for(w.unshift(...f),w.push(...g),v=w.length,h=Promise.resolve(a);p<v;)h=h.then(w[p++],w[p++]);return h}v=f.length;let N=a;for(;p<v;){const w=f[p++],y=f[p++];try{N=w(N)}catch(b){y.call(this,b);break}}try{h=Mx.call(this,N)}catch(w){return Promise.reject(w)}for(p=0,v=g.length;p<v;)h=h.then(g[p++],g[p++]);return h}getUri(n){n=Xa(this.defaults,n);const a=av(n.baseURL,n.url,n.allowAbsoluteUrls);return Zg(a,n.params,n.paramsSerializer)}};ie.forEach(["delete","get","head","options"],function(n){Ja.prototype[n]=function(a,o){return this.request(Xa(o||{},{method:n,url:a,data:(o||{}).data}))}});ie.forEach(["post","put","patch"],function(n){function a(o){return function(c,d,f){return this.request(Xa(f||{},{method:n,headers:o?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}Ja.prototype[n]=a(),Ja.prototype[n+"Form"]=a(!0)});let rC=class cv{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(c){a=c});const o=this;this.promise.then(i=>{if(!o._listeners)return;let c=o._listeners.length;for(;c-- >0;)o._listeners[c](i);o._listeners=null}),this.promise.then=i=>{let c;const d=new Promise(f=>{o.subscribe(f),c=f}).then(i);return d.cancel=function(){o.unsubscribe(c)},d},n(function(c,d,f){o.reason||(o.reason=new Hr(c,d,f),a(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const a=this._listeners.indexOf(n);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const n=new AbortController,a=o=>{n.abort(o)};return this.subscribe(a),n.signal.unsubscribe=()=>this.unsubscribe(a),n.signal}static source(){let n;return{token:new cv(function(i){n=i}),cancel:n}}};function oC(t){return function(a){return t.apply(null,a)}}function iC(t){return ie.isObject(t)&&t.isAxiosError===!0}const am={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(am).forEach(([t,n])=>{am[n]=t});function dv(t){const n=new Ja(t),a=Bg(Ja.prototype.request,n);return ie.extend(a,Ja.prototype,n,{allOwnKeys:!0}),ie.extend(a,n,null,{allOwnKeys:!0}),a.create=function(i){return dv(Xa(t,i))},a}const as=dv(ni);as.Axios=Ja;as.CanceledError=Hr;as.CancelToken=rC;as.isCancel=sv;as.VERSION=lv;as.toFormData=oc;as.AxiosError=st;as.Cancel=as.CanceledError;as.all=function(n){return Promise.all(n)};as.spread=oC;as.isAxiosError=iC;as.mergeConfig=Xa;as.AxiosHeaders=Bs;as.formToJSON=t=>tv(ie.isHTMLForm(t)?new FormData(t):t);as.getAdapter=iv.getAdapter;as.HttpStatusCode=am;as.default=as;const{Axios:Z4,AxiosError:eT,CanceledError:tT,isCancel:sT,CancelToken:nT,VERSION:aT,all:rT,Cancel:oT,isAxiosError:iT,spread:lT,toFormData:cT,AxiosHeaders:dT,HttpStatusCode:uT,formToJSON:mT,getAdapter:fT,mergeConfig:pT}=as,uv="http://127.0.0.1:8000",lC="/api";"true".toLowerCase();"false".toLowerCase();"true".toLowerCase();const cC=uv,dC=(t="")=>t.replace(/^\/+|\/+$/g,""),uC=(t="")=>t.replace(/^\/+/,""),mC=(t="")=>/^https?:\/\//i.test(t),fC=(t="")=>{const n="/"+dC(lC);if(!t)return n+"/";if(t.startsWith(n+"/")||t===n||t.startsWith(n+"?"))return t;const[a,o=""]=String(t).split("?"),i=/\/$/.test(a||""),c=uC(a||"");let d=`${n}/${c||""}`;return(i||!c)&&(d+="/"),o&&(d+=`?${o}`),d=d.replace(/\/{2,}/g,"/"),d},le=as.create({baseURL:cC,headers:{"Content-Type":"application/json"},timeout:15e3});le.interceptors.request.use(t=>{const n=t.url||"";if(!mC(n)){const g=fC(n);t.baseURL=uv.replace(/\/+$/g,""),t.url=g.startsWith("/")?g:"/"+g}const a="/auth/login/",o="/auth/register/",i="/auth/forgot-password/",c="/auth/google/";if(((g="")=>[a,o,i,c].some(h=>g.includes(h)))(t.url||""))return t;const f=localStorage.getItem("access_token");let u=localStorage.getItem("auth_scheme")||"Token";if(!u){u=f&&f.includes(".")?"Bearer":"Token";try{localStorage.setItem("auth_scheme",u)}catch{}}try{f&&f.includes(".")&&/^token$/i.test(String(u))?(u="Bearer",localStorage.setItem("auth_scheme",u)):f&&!f.includes(".")&&/^bearer$/i.test(String(u))&&(u="Token",localStorage.setItem("auth_scheme",u))}catch{}return f?t.headers.Authorization=`${u} ${f}`:delete t.headers.Authorization,t.data instanceof FormData&&t.headers&&delete t.headers["Content-Type"],t});le.interceptors.response.use(t=>t,t=>Promise.reject(t));const pC=t=>{if(!t)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t;const n=new Date(t);if(!isNaN(n)){const o=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,"0"),c=String(n.getDate()).padStart(2,"0");return`${o}-${i}-${c}`}const a=String(t).match(/^(\d{2})\/(\d{2})\/(\d{4})$/);return a?`${a[3]}-${a[2]}-${a[1]}`:""};function ya(t){if(!t||typeof t!="object")return t;const n={...t},a=[n.first_name,n.last_name].filter(Boolean).join(" ")||n.display_name||n.nome||n.nome_completo||n.username||n.email||"";n.display_name=a;const o=n.cpf||n.documento||n.doc||n.rg||n.cpf_number||n.profile&&(n.profile.cpf||n.profile.documento)||"";o&&(n.cpf=o,n.rg||(n.rg=o));const i=n.data_nascimento||n.nascimento||n.dob||n.birth_date||n.profile&&(n.profile.data_nascimento||n.profile.nascimento)||"",c=pC(i);return c&&(n.data_nascimento=c),n}const ut={async login(t){const n="/auth/login/",a={...t,username:t.username||t.email},o=await le.post(n,a),{access:i,refresh:c,access_token:d,refresh_token:f,token:u,key:g,user:h}=o.data,p=i||d||u||g,v=c||f;if(i||d)localStorage.setItem("auth_scheme","Bearer");else if(u||g){const N=u||g,w=typeof N=="string"&&N.includes(".");localStorage.setItem("auth_scheme",w?"Bearer":"Token")}if(p&&localStorage.setItem("access_token",p),v&&localStorage.setItem("refresh_token",v),h!==void 0)try{if(h&&typeof h=="object"){const N=ya(h);localStorage.setItem("user",JSON.stringify(N)),o.data.user=N}else localStorage.removeItem("user")}catch{}if(!o.data.user)try{const N=await Nl();if(N){const w=ya(N);localStorage.setItem("user",JSON.stringify(w)),o.data.user=w}}catch{}return o.data},async register(t,n={}){var y,b,_;const o=await le.post("/auth/register/",t),{access:i,refresh:c,access_token:d,refresh_token:f,token:u,user:g}=o.data,h=i||d||u,p=c||f;if(i||d)localStorage.setItem("auth_scheme","Bearer");else if(u){const S=typeof u=="string"&&u.includes(".");localStorage.setItem("auth_scheme",S?"Bearer":"Token")}if(h&&localStorage.setItem("access_token",h),p&&localStorage.setItem("refresh_token",p),g!==void 0){const S=g&&typeof g=="object"?ya(g):g;S&&typeof S=="object"?(localStorage.setItem("user",JSON.stringify(S)),o.data.user=S):localStorage.removeItem("user")}else try{const S=await Nl();if(S){const E=ya(S);localStorage.setItem("user",JSON.stringify(E)),o.data.user=E}}catch{}const v={...o.data};let N=null;const w=n==null?void 0:n.medicoData;if(w&&typeof w=="object")try{if(!!!localStorage.getItem("access_token")&&(t!=null&&t.password)){if(t!=null&&t.username)try{await ut.login({username:t.username,password:t.password})}catch{}if(!localStorage.getItem("access_token")&&(t!=null&&t.email))try{await ut.login({username:t.email,email:t.email,password:t.password})}catch{}}const E=await Wo(()=>Promise.resolve().then(()=>X0),void 0),k=[t.first_name||"",t.last_name||""].filter(Boolean).join(" ")||t.username||"",T={...w,nome:w.nome||k,nome_completo:w.nome_completo||k,email:w.email||t.email,cpf:w.cpf||t.cpf,tipo:"medico"};N={success:!0,data:await E.solicitacaoService.criarSolicitacaoMedico(T)};try{const{medicoService:A}=await Wo(async()=>{const{medicoService:R}=await Promise.resolve().then(()=>NA);return{medicoService:R}},void 0);await A.ensureMedicoAndPerfil(T,{})}catch(A){console.warn("[authService.register] ensureMedicoAndPerfil falhou:",((y=A==null?void 0:A.response)==null?void 0:y.data)||A)}}catch(S){console.error("[authService.register] criarSolicitacaoMedico falhou:",((b=S==null?void 0:S.response)==null?void 0:b.data)||S),N={success:!1,error:S&&(((_=S.response)==null?void 0:_.data)||S.message)||String(S)}}return N&&(v.medicoApplication=N),v},async logout(){try{await le.post("/auth/logout/")}finally{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),localStorage.removeItem("auth_scheme");try{const t=[];for(let n=0;n<localStorage.length;n++){const a=localStorage.key(n);a&&a.startsWith("medicoApplicationStatus")&&t.push(a)}t.forEach(n=>localStorage.removeItem(n))}catch{}}},async forgotPassword(t){return(await le.post("/auth/forgot-password/",{email:t})).data},getCurrentUser(){const t=localStorage.getItem("user");if(!t||t==="undefined"||t==="null")return null;try{const n=JSON.parse(t);return ya(n)}catch{return null}},async refreshCurrentUser(){try{const t=await Nl();if(t){const n=ya(t);return localStorage.setItem("user",JSON.stringify(n)),n}else return localStorage.removeItem("user"),null}catch{return null}},isAuthenticated(){try{return!!localStorage.getItem("access_token")}catch{return!1}},async loginWithGoogle(t){const n="/auth/google/",a={credential:t,id_token:t},o=await le.post(n,a),{access:i,refresh:c,access_token:d,refresh_token:f,token:u,key:g,user:h}=o.data,p=i||d||u||g,v=c||f;if(i||d)localStorage.setItem("auth_scheme","Bearer");else if(u||g){const N=u||g,w=typeof N=="string"&&N.includes(".");localStorage.setItem("auth_scheme",w?"Bearer":"Token")}if(p&&localStorage.setItem("access_token",p),v&&localStorage.setItem("refresh_token",v),h!==void 0)try{if(h&&typeof h=="object"){const N=ya(h);localStorage.setItem("user",JSON.stringify(N)),o.data.user=N}else localStorage.removeItem("user")}catch{}else try{const N=await Nl();if(N){const w=ya(N);localStorage.setItem("user",JSON.stringify(w)),o.data.user=w}else o.data.user=null}catch{}return o.data}};async function Nl(){var i;const t="".trim(),n=[];t&&n.push(t),n.push("/auth/users/me/","/users/me/","/auth/user/","/auth/me/","/me/");const a=new Set,o=n.filter(c=>{const d=String(c).replace(/\/+$/g,"");return a.has(d)?!1:(a.add(d),!0)});for(const c of o)try{return(await le.get(c)).data}catch(d){if(((i=d==null?void 0:d.response)==null?void 0:i.status)===404)continue}return null}const mv=x.createContext({});function hC({children:t}){const[n,a]=x.useState(null),[o,i]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const p=ut.getCurrentUser();if(p)a(p);else{const v=await ut.refreshCurrentUser().catch(()=>null);v!=null&&v.user&&a(v.user)}}finally{i(!1)}})()},[]);const c=async h=>{const p=await ut.login(h);if(p!=null&&p.user)a(p.user);else{const v=ut.getCurrentUser();a(v)}return p},d=async()=>{await ut.logout(),a(null)},f=async h=>{const p=await ut.register(h);if(p!=null&&p.user)a(p.user);else{const v=ut.getCurrentUser();v&&a(v)}return p},u=async h=>{const p=await ut.loginWithGoogle(h);return a(p.user),p},g={user:n,login:c,logout:d,register:f,loading:o,isAuthenticated:!!n||ut.isAuthenticated(),loginWithGoogle:u};return e.jsx(mv.Provider,{value:g,children:t})}const Ta=()=>{const t=x.useContext(mv);if(!t)throw new Error("useAuth deve ser usado dentro de AuthProvider");return t},fv=x.createContext(void 0);function xC({children:t}){const[n,a]=x.useState("paciente"),[o,i]=x.useState(!1),[c,d]=x.useState({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"}),[f,u]=x.useState(null),[g,h]=x.useState(""),p=()=>{u(null),h("")},v=()=>{c.isMedico&&c.medicoStatus==="approved"&&a(n==="medico"?"paciente":"medico")},N=(y="paciente",b={})=>{i(!0),a(y),d(b)},w=()=>{i(!1),a("paciente"),d({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"}),p()};return e.jsx(fv.Provider,{value:{activeRole:n,setActiveRole:a,toggleRole:v,isAuthenticated:o,userPermissions:c,setUserPermissions:d,login:N,logout:w,ephemeralCertFile:f,setEphemeralCertFile:u,ephemeralCertPassword:g,setEphemeralCertPassword:h,clearEphemeralCert:p},children:t})}function _a(){const t=x.useContext(fv);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t}function Ox(t,n){if(typeof t=="function")return t(n);t!=null&&(t.current=n)}function lc(...t){return n=>{let a=!1;const o=t.map(i=>{const c=Ox(i,n);return!a&&typeof c=="function"&&(a=!0),c});if(a)return()=>{for(let i=0;i<o.length;i++){const c=o[i];typeof c=="function"?c():Ox(t[i],null)}}}}function Et(...t){return x.useCallback(lc(...t),t)}function Za(t){const n=gC(t),a=x.forwardRef((o,i)=>{const{children:c,...d}=o,f=x.Children.toArray(c),u=f.find(yC);if(u){const g=u.props.children,h=f.map(p=>p===u?x.Children.count(g)>1?x.Children.only(null):x.isValidElement(g)?g.props.children:null:p);return e.jsx(n,{...d,ref:i,children:x.isValidElement(g)?x.cloneElement(g,void 0,h):null})}return e.jsx(n,{...d,ref:i,children:c})});return a.displayName=`${t}.Slot`,a}var qr=Za("Slot");function gC(t){const n=x.forwardRef((a,o)=>{const{children:i,...c}=a;if(x.isValidElement(i)){const d=wC(i),f=jC(c,i.props);return i.type!==x.Fragment&&(f.ref=o?lc(o,d):d),x.cloneElement(i,f)}return x.Children.count(i)>1?x.Children.only(null):null});return n.displayName=`${t}.SlotClone`,n}var pv=Symbol("radix.slottable");function vC(t){const n=({children:a})=>e.jsx(e.Fragment,{children:a});return n.displayName=`${t}.Slottable`,n.__radixId=pv,n}function yC(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===pv}function jC(t,n){const a={...n};for(const o in n){const i=t[o],c=n[o];/^on[A-Z]/.test(o)?i&&c?a[o]=(...f)=>{const u=c(...f);return i(...f),u}:i&&(a[o]=i):o==="style"?a[o]={...i,...c}:o==="className"&&(a[o]=[i,c].filter(Boolean).join(" "))}return{...t,...a}}function wC(t){var o,i;let n=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,a=n&&"isReactWarning"in n&&n.isReactWarning;return a?t.ref:(n=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function hv(t){var n,a,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(n=0;n<i;n++)t[n]&&(a=hv(t[n]))&&(o&&(o+=" "),o+=a)}else for(a in t)t[a]&&(o&&(o+=" "),o+=a);return o}function NC(){for(var t,n,a=0,o="",i=arguments.length;a<i;a++)(t=arguments[a])&&(n=hv(t))&&(o&&(o+=" "),o+=n);return o}const $x=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Lx=NC,cc=(t,n)=>a=>{var o;if((n==null?void 0:n.variants)==null)return Lx(t,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:i,defaultVariants:c}=n,d=Object.keys(i).map(g=>{const h=a==null?void 0:a[g],p=c==null?void 0:c[g];if(h===null)return null;const v=$x(h)||$x(p);return i[g][v]}),f=a&&Object.entries(a).reduce((g,h)=>{let[p,v]=h;return v===void 0||(g[p]=v),g},{}),u=n==null||(o=n.compoundVariants)===null||o===void 0?void 0:o.reduce((g,h)=>{let{class:p,className:v,...N}=h;return Object.entries(N).every(w=>{let[y,b]=w;return Array.isArray(b)?b.includes({...c,...f}[y]):{...c,...f}[y]===b})?[...g,p,v]:g},[]);return Lx(t,d,u,a==null?void 0:a.class,a==null?void 0:a.className)};var bC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const SC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ue=(t,n)=>{const a=x.forwardRef(({color:o="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:d,children:f,...u},g)=>x.createElement("svg",{ref:g,...bC,width:i,height:i,stroke:o,strokeWidth:d?Number(c)*24/Number(i):c,className:`lucide lucide-${SC(t)}`,...u},[...n.map(([h,p])=>x.createElement(h,p)),...(Array.isArray(f)?f:[f])||[]]));return a.displayName=`${t}`,a},CC=Ue("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Vl=Ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Bo=Ue("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Uo=Ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ix=Ue("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),_C=Ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Ea=Ue("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),EC=Ue("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),rt=Ue("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),xv=Ue("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Ra=Ue("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),RC=Ue("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),gv=Ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),vv=Ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),yv=Ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),pn=Ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),kC=Ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),PC=Ue("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]),AC=Ue("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),hn=Ue("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Ut=Ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),TC=Ue("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Qa=Ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Fx=Ue("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),$r=Ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),MC=Ue("FileSignature",[["path",{d:"M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5",key:"kd5d3"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z",key:"johvi5"}]]),Ps=Ue("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Lm=Ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),DC=Ue("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),OC=Ue("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),jv=Ue("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),$C=Ue("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),rm=Ue("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Ru=Ue("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),LC=Ue("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),IC=Ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),FC=Ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Wr=Ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Im=Ue("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),zC=Ue("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),BC=Ue("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),UC=Ue("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),zx=Ue("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),VC=Ue("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),HC=Ue("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),ai=Ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Fm=Ue("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),zm=Ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),qC=Ue("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),wv=Ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Nv=Ue("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),xn=Ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Io=Ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Vo=Ue("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Gt=Ue("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),Bx=Ue("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),WC=Ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),bv=Ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ku=Ue("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),KC=Ue("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),xs=Ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ks=Ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Qn=Ue("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Bm=Ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function GC(){const[t,n]=x.useState(!1);return x.useEffect(()=>{const a=()=>{n(window.innerWidth<768)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),t}function we(...t){return t.filter(Boolean).join(" ")}function YC(t){return t?t.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "):""}const ne=x.forwardRef(({className:t,variant:n="default",size:a="default",asChild:o=!1,...i},c)=>{const d=o?"slot":"button",f={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},u={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return e.jsx(d,{className:we("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",f[n],u[a],t),ref:c,...i})});ne.displayName="Button";const fe=x.forwardRef(({className:t,type:n,...a},o)=>e.jsx("input",{type:n,className:we("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:o,...a}));fe.displayName="Input";var JC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=JC.reduce((t,n)=>{const a=Za(`Primitive.${n}`),o=x.forwardRef((i,c)=>{const{asChild:d,...f}=i,u=d?a:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...f,ref:c})});return o.displayName=`Primitive.${n}`,{...t,[n]:o}},{});function Um(t,n){t&&Fr.flushSync(()=>t.dispatchEvent(n))}var QC="Separator",Ux="horizontal",XC=["horizontal","vertical"],Sv=x.forwardRef((t,n)=>{const{decorative:a,orientation:o=Ux,...i}=t,c=ZC(o)?o:Ux,f=a?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return e.jsx(Xe.div,{"data-orientation":c,...f,...i,ref:n})});Sv.displayName=QC;function ZC(t){return XC.includes(t)}var Cv=Sv;const tn=x.forwardRef(({className:t,orientation:n="horizontal",decorative:a=!0,...o},i)=>e.jsx(Cv,{ref:i,decorative:a,orientation:n,className:we("shrink-0 bg-border",n==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...o}));tn.displayName=Cv.displayName;function Te(t,n,{checkForDefaultPrevented:a=!0}={}){return function(i){if(t==null||t(i),a===!1||!i.defaultPrevented)return n==null?void 0:n(i)}}function e2(t,n){const a=x.createContext(n),o=c=>{const{children:d,...f}=c,u=x.useMemo(()=>f,Object.values(f));return e.jsx(a.Provider,{value:u,children:d})};o.displayName=t+"Provider";function i(c){const d=x.useContext(a);if(d)return d;if(n!==void 0)return n;throw new Error(`\`${c}\` must be used within \`${t}\``)}return[o,i]}function Mn(t,n=[]){let a=[];function o(c,d){const f=x.createContext(d),u=a.length;a=[...a,d];const g=p=>{var _;const{scope:v,children:N,...w}=p,y=((_=v==null?void 0:v[t])==null?void 0:_[u])||f,b=x.useMemo(()=>w,Object.values(w));return e.jsx(y.Provider,{value:b,children:N})};g.displayName=c+"Provider";function h(p,v){var y;const N=((y=v==null?void 0:v[t])==null?void 0:y[u])||f,w=x.useContext(N);if(w)return w;if(d!==void 0)return d;throw new Error(`\`${p}\` must be used within \`${c}\``)}return[g,h]}const i=()=>{const c=a.map(d=>x.createContext(d));return function(f){const u=(f==null?void 0:f[t])||c;return x.useMemo(()=>({[`__scope${t}`]:{...f,[t]:u}}),[f,u])}};return i.scopeName=t,[o,t2(i,...n)]}function t2(...t){const n=t[0];if(t.length===1)return n;const a=()=>{const o=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const d=o.reduce((f,{useScope:u,scopeName:g})=>{const p=u(c)[`__scope${g}`];return{...f,...p}},{});return x.useMemo(()=>({[`__scope${n.scopeName}`]:d}),[d])}};return a.scopeName=n.scopeName,a}var ls=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},s2=km[" useId ".trim().toString()]||(()=>{}),n2=0;function kn(t){const[n,a]=x.useState(s2());return ls(()=>{a(o=>o??String(n2++))},[t]),t||(n?`radix-${n}`:"")}var a2=km[" useInsertionEffect ".trim().toString()]||ls;function er({prop:t,defaultProp:n,onChange:a=()=>{},caller:o}){const[i,c,d]=r2({defaultProp:n,onChange:a}),f=t!==void 0,u=f?t:i;{const h=x.useRef(t!==void 0);x.useEffect(()=>{const p=h.current;p!==f&&console.warn(`${o} is changing from ${p?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=f},[f,o])}const g=x.useCallback(h=>{var p;if(f){const v=o2(h)?h(t):h;v!==t&&((p=d.current)==null||p.call(d,v))}else c(h)},[f,t,c,d]);return[u,g]}function r2({defaultProp:t,onChange:n}){const[a,o]=x.useState(t),i=x.useRef(a),c=x.useRef(n);return a2(()=>{c.current=n},[n]),x.useEffect(()=>{var d;i.current!==a&&((d=c.current)==null||d.call(c,a),i.current=a)},[a,i]),[a,o,c]}function o2(t){return typeof t=="function"}function As(t){const n=x.useRef(t);return x.useEffect(()=>{n.current=t}),x.useMemo(()=>(...a)=>{var o;return(o=n.current)==null?void 0:o.call(n,...a)},[])}function i2(t,n=globalThis==null?void 0:globalThis.document){const a=As(t);x.useEffect(()=>{const o=i=>{i.key==="Escape"&&a(i)};return n.addEventListener("keydown",o,{capture:!0}),()=>n.removeEventListener("keydown",o,{capture:!0})},[a,n])}var l2="DismissableLayer",om="dismissableLayer.update",c2="dismissableLayer.pointerDownOutside",d2="dismissableLayer.focusOutside",Vx,_v=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Kr=x.forwardRef((t,n)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:c,onInteractOutside:d,onDismiss:f,...u}=t,g=x.useContext(_v),[h,p]=x.useState(null),v=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,N]=x.useState({}),w=Et(n,A=>p(A)),y=Array.from(g.layers),[b]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(b),S=h?y.indexOf(h):-1,E=g.layersWithOutsidePointerEventsDisabled.size>0,k=S>=_,T=m2(A=>{const R=A.target,$=[...g.branches].some(O=>O.contains(R));!k||$||(i==null||i(A),d==null||d(A),A.defaultPrevented||f==null||f())},v),P=f2(A=>{const R=A.target;[...g.branches].some(O=>O.contains(R))||(c==null||c(A),d==null||d(A),A.defaultPrevented||f==null||f())},v);return i2(A=>{S===g.layers.size-1&&(o==null||o(A),!A.defaultPrevented&&f&&(A.preventDefault(),f()))},v),x.useEffect(()=>{if(h)return a&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(Vx=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(h)),g.layers.add(h),Hx(),()=>{a&&g.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Vx)}},[h,v,a,g]),x.useEffect(()=>()=>{h&&(g.layers.delete(h),g.layersWithOutsidePointerEventsDisabled.delete(h),Hx())},[h,g]),x.useEffect(()=>{const A=()=>N({});return document.addEventListener(om,A),()=>document.removeEventListener(om,A)},[]),e.jsx(Xe.div,{...u,ref:w,style:{pointerEvents:E?k?"auto":"none":void 0,...t.style},onFocusCapture:Te(t.onFocusCapture,P.onFocusCapture),onBlurCapture:Te(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Te(t.onPointerDownCapture,T.onPointerDownCapture)})});Kr.displayName=l2;var u2="DismissableLayerBranch",Ev=x.forwardRef((t,n)=>{const a=x.useContext(_v),o=x.useRef(null),i=Et(n,o);return x.useEffect(()=>{const c=o.current;if(c)return a.branches.add(c),()=>{a.branches.delete(c)}},[a.branches]),e.jsx(Xe.div,{...t,ref:i})});Ev.displayName=u2;function m2(t,n=globalThis==null?void 0:globalThis.document){const a=As(t),o=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const c=f=>{if(f.target&&!o.current){let u=function(){Rv(c2,a,g,{discrete:!0})};const g={originalEvent:f};f.pointerType==="touch"?(n.removeEventListener("click",i.current),i.current=u,n.addEventListener("click",i.current,{once:!0})):u()}else n.removeEventListener("click",i.current);o.current=!1},d=window.setTimeout(()=>{n.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),n.removeEventListener("pointerdown",c),n.removeEventListener("click",i.current)}},[n,a]),{onPointerDownCapture:()=>o.current=!0}}function f2(t,n=globalThis==null?void 0:globalThis.document){const a=As(t),o=x.useRef(!1);return x.useEffect(()=>{const i=c=>{c.target&&!o.current&&Rv(d2,a,{originalEvent:c},{discrete:!1})};return n.addEventListener("focusin",i),()=>n.removeEventListener("focusin",i)},[n,a]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Hx(){const t=new CustomEvent(om);document.dispatchEvent(t)}function Rv(t,n,a,{discrete:o}){const i=a.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});n&&i.addEventListener(t,n,{once:!0}),o?Um(i,c):i.dispatchEvent(c)}var p2=Kr,h2=Ev,Pu="focusScope.autoFocusOnMount",Au="focusScope.autoFocusOnUnmount",qx={bubbles:!1,cancelable:!0},x2="FocusScope",dc=x.forwardRef((t,n)=>{const{loop:a=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:c,...d}=t,[f,u]=x.useState(null),g=As(i),h=As(c),p=x.useRef(null),v=Et(n,y=>u(y)),N=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(o){let y=function(E){if(N.paused||!f)return;const k=E.target;f.contains(k)?p.current=k:Na(p.current,{select:!0})},b=function(E){if(N.paused||!f)return;const k=E.relatedTarget;k!==null&&(f.contains(k)||Na(p.current,{select:!0}))},_=function(E){if(document.activeElement===document.body)for(const T of E)T.removedNodes.length>0&&Na(f)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const S=new MutationObserver(_);return f&&S.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),S.disconnect()}}},[o,f,N.paused]),x.useEffect(()=>{if(f){Kx.add(N);const y=document.activeElement;if(!f.contains(y)){const _=new CustomEvent(Pu,qx);f.addEventListener(Pu,g),f.dispatchEvent(_),_.defaultPrevented||(g2(N2(kv(f)),{select:!0}),document.activeElement===y&&Na(f))}return()=>{f.removeEventListener(Pu,g),setTimeout(()=>{const _=new CustomEvent(Au,qx);f.addEventListener(Au,h),f.dispatchEvent(_),_.defaultPrevented||Na(y??document.body,{select:!0}),f.removeEventListener(Au,h),Kx.remove(N)},0)}}},[f,g,h,N]);const w=x.useCallback(y=>{if(!a&&!o||N.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,_=document.activeElement;if(b&&_){const S=y.currentTarget,[E,k]=v2(S);E&&k?!y.shiftKey&&_===k?(y.preventDefault(),a&&Na(E,{select:!0})):y.shiftKey&&_===E&&(y.preventDefault(),a&&Na(k,{select:!0})):_===S&&y.preventDefault()}},[a,o,N.paused]);return e.jsx(Xe.div,{tabIndex:-1,...d,ref:v,onKeyDown:w})});dc.displayName=x2;function g2(t,{select:n=!1}={}){const a=document.activeElement;for(const o of t)if(Na(o,{select:n}),document.activeElement!==a)return}function v2(t){const n=kv(t),a=Wx(n,t),o=Wx(n.reverse(),t);return[a,o]}function kv(t){const n=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)n.push(a.currentNode);return n}function Wx(t,n){for(const a of t)if(!y2(a,{upTo:n}))return a}function y2(t,{upTo:n}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(n!==void 0&&t===n)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function j2(t){return t instanceof HTMLInputElement&&"select"in t}function Na(t,{select:n=!1}={}){if(t&&t.focus){const a=document.activeElement;t.focus({preventScroll:!0}),t!==a&&j2(t)&&n&&t.select()}}var Kx=w2();function w2(){let t=[];return{add(n){const a=t[0];n!==a&&(a==null||a.pause()),t=Gx(t,n),t.unshift(n)},remove(n){var a;t=Gx(t,n),(a=t[0])==null||a.resume()}}}function Gx(t,n){const a=[...t],o=a.indexOf(n);return o!==-1&&a.splice(o,1),a}function N2(t){return t.filter(n=>n.tagName!=="A")}var b2="Portal",ri=x.forwardRef((t,n)=>{var f;const{container:a,...o}=t,[i,c]=x.useState(!1);ls(()=>c(!0),[]);const d=a||i&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return d?_b.createPortal(e.jsx(Xe.div,{...o,ref:n}),d):null});ri.displayName=b2;function S2(t,n){return x.useReducer((a,o)=>n[a][o]??a,t)}var Dn=t=>{const{present:n,children:a}=t,o=C2(n),i=typeof a=="function"?a({present:o.isPresent}):x.Children.only(a),c=Et(o.ref,_2(i));return typeof a=="function"||o.isPresent?x.cloneElement(i,{ref:c}):null};Dn.displayName="Presence";function C2(t){const[n,a]=x.useState(),o=x.useRef(null),i=x.useRef(t),c=x.useRef("none"),d=t?"mounted":"unmounted",[f,u]=S2(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const g=bl(o.current);c.current=f==="mounted"?g:"none"},[f]),ls(()=>{const g=o.current,h=i.current;if(h!==t){const v=c.current,N=bl(g);t?u("MOUNT"):N==="none"||(g==null?void 0:g.display)==="none"?u("UNMOUNT"):u(h&&v!==N?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),ls(()=>{if(n){let g;const h=n.ownerDocument.defaultView??window,p=N=>{const y=bl(o.current).includes(CSS.escape(N.animationName));if(N.target===n&&y&&(u("ANIMATION_END"),!i.current)){const b=n.style.animationFillMode;n.style.animationFillMode="forwards",g=h.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=b)})}},v=N=>{N.target===n&&(c.current=bl(o.current))};return n.addEventListener("animationstart",v),n.addEventListener("animationcancel",p),n.addEventListener("animationend",p),()=>{h.clearTimeout(g),n.removeEventListener("animationstart",v),n.removeEventListener("animationcancel",p),n.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[n,u]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:x.useCallback(g=>{o.current=g?getComputedStyle(g):null,a(g)},[])}}function bl(t){return(t==null?void 0:t.animationName)||"none"}function _2(t){var o,i;let n=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,a=n&&"isReactWarning"in n&&n.isReactWarning;return a?t.ref:(n=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var Tu=0;function Vm(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Yx()),document.body.insertAdjacentElement("beforeend",t[1]??Yx()),Tu++,()=>{Tu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Tu--}},[])}function Yx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var En=function(){return En=Object.assign||function(n){for(var a,o=1,i=arguments.length;o<i;o++){a=arguments[o];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(n[c]=a[c])}return n},En.apply(this,arguments)};function Pv(t,n){var a={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(a[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(a[o[i]]=t[o[i]]);return a}function E2(t,n,a){if(a||arguments.length===2)for(var o=0,i=n.length,c;o<i;o++)(c||!(o in n))&&(c||(c=Array.prototype.slice.call(n,0,o)),c[o]=n[o]);return t.concat(c||Array.prototype.slice.call(n))}var Dl="right-scroll-bar-position",Ol="width-before-scroll-bar",R2="with-scroll-bars-hidden",k2="--removed-body-scroll-bar-size";function Mu(t,n){return typeof t=="function"?t(n):t&&(t.current=n),t}function P2(t,n){var a=x.useState(function(){return{value:t,callback:n,facade:{get current(){return a.value},set current(o){var i=a.value;i!==o&&(a.value=o,a.callback(o,i))}}}})[0];return a.callback=n,a.facade}var A2=typeof window<"u"?x.useLayoutEffect:x.useEffect,Jx=new WeakMap;function T2(t,n){var a=P2(null,function(o){return t.forEach(function(i){return Mu(i,o)})});return A2(function(){var o=Jx.get(a);if(o){var i=new Set(o),c=new Set(t),d=a.current;i.forEach(function(f){c.has(f)||Mu(f,null)}),c.forEach(function(f){i.has(f)||Mu(f,d)})}Jx.set(a,t)},[t]),a}function M2(t){return t}function D2(t,n){n===void 0&&(n=M2);var a=[],o=!1,i={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:t},useMedium:function(c){var d=n(c,o);return a.push(d),function(){a=a.filter(function(f){return f!==d})}},assignSyncMedium:function(c){for(o=!0;a.length;){var d=a;a=[],d.forEach(c)}a={push:function(f){return c(f)},filter:function(){return a}}},assignMedium:function(c){o=!0;var d=[];if(a.length){var f=a;a=[],f.forEach(c),d=a}var u=function(){var h=d;d=[],h.forEach(c)},g=function(){return Promise.resolve().then(u)};g(),a={push:function(h){d.push(h),g()},filter:function(h){return d=d.filter(h),a}}}};return i}function O2(t){t===void 0&&(t={});var n=D2(null);return n.options=En({async:!0,ssr:!1},t),n}var Av=function(t){var n=t.sideCar,a=Pv(t,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=n.read();if(!o)throw new Error("Sidecar medium not found");return x.createElement(o,En({},a))};Av.isSideCarExport=!0;function $2(t,n){return t.useMedium(n),Av}var Tv=O2(),Du=function(){},uc=x.forwardRef(function(t,n){var a=x.useRef(null),o=x.useState({onScrollCapture:Du,onWheelCapture:Du,onTouchMoveCapture:Du}),i=o[0],c=o[1],d=t.forwardProps,f=t.children,u=t.className,g=t.removeScrollBar,h=t.enabled,p=t.shards,v=t.sideCar,N=t.noRelative,w=t.noIsolation,y=t.inert,b=t.allowPinchZoom,_=t.as,S=_===void 0?"div":_,E=t.gapMode,k=Pv(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=v,P=T2([a,n]),A=En(En({},k),i);return x.createElement(x.Fragment,null,h&&x.createElement(T,{sideCar:Tv,removeScrollBar:g,shards:p,noRelative:N,noIsolation:w,inert:y,setCallbacks:c,allowPinchZoom:!!b,lockRef:a,gapMode:E}),d?x.cloneElement(x.Children.only(f),En(En({},A),{ref:P})):x.createElement(S,En({},A,{className:u,ref:P}),f))});uc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uc.classNames={fullWidth:Ol,zeroRight:Dl};var L2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function I2(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var n=L2();return n&&t.setAttribute("nonce",n),t}function F2(t,n){t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}function z2(t){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(t)}var B2=function(){var t=0,n=null;return{add:function(a){t==0&&(n=I2())&&(F2(n,a),z2(n)),t++},remove:function(){t--,!t&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},U2=function(){var t=B2();return function(n,a){x.useEffect(function(){return t.add(n),function(){t.remove()}},[n&&a])}},Mv=function(){var t=U2(),n=function(a){var o=a.styles,i=a.dynamic;return t(o,i),null};return n},V2={left:0,top:0,right:0,gap:0},Ou=function(t){return parseInt(t||"",10)||0},H2=function(t){var n=window.getComputedStyle(document.body),a=n[t==="padding"?"paddingLeft":"marginLeft"],o=n[t==="padding"?"paddingTop":"marginTop"],i=n[t==="padding"?"paddingRight":"marginRight"];return[Ou(a),Ou(o),Ou(i)]},q2=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return V2;var n=H2(t),a=document.documentElement.clientWidth,o=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,o-a+n[2]-n[0])}},W2=Mv(),Mr="data-scroll-locked",K2=function(t,n,a,o){var i=t.left,c=t.top,d=t.right,f=t.gap;return a===void 0&&(a="margin"),`
  .`.concat(R2,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(f,"px ").concat(o,`;
  }
  body[`).concat(Mr,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(o,";"),a==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(o,`;
    `),a==="padding"&&"padding-right: ".concat(f,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dl,` {
    right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(Ol,` {
    margin-right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(Dl," .").concat(Dl,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Ol," .").concat(Ol,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Mr,`] {
    `).concat(k2,": ").concat(f,`px;
  }
`)},Qx=function(){var t=parseInt(document.body.getAttribute(Mr)||"0",10);return isFinite(t)?t:0},G2=function(){x.useEffect(function(){return document.body.setAttribute(Mr,(Qx()+1).toString()),function(){var t=Qx()-1;t<=0?document.body.removeAttribute(Mr):document.body.setAttribute(Mr,t.toString())}},[])},Y2=function(t){var n=t.noRelative,a=t.noImportant,o=t.gapMode,i=o===void 0?"margin":o;G2();var c=x.useMemo(function(){return q2(i)},[i]);return x.createElement(W2,{styles:K2(c,!n,i,a?"":"!important")})},im=!1;if(typeof window<"u")try{var Sl=Object.defineProperty({},"passive",{get:function(){return im=!0,!0}});window.addEventListener("test",Sl,Sl),window.removeEventListener("test",Sl,Sl)}catch{im=!1}var kr=im?{passive:!1}:!1,J2=function(t){return t.tagName==="TEXTAREA"},Dv=function(t,n){if(!(t instanceof Element))return!1;var a=window.getComputedStyle(t);return a[n]!=="hidden"&&!(a.overflowY===a.overflowX&&!J2(t)&&a[n]==="visible")},Q2=function(t){return Dv(t,"overflowY")},X2=function(t){return Dv(t,"overflowX")},Xx=function(t,n){var a=n.ownerDocument,o=n;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var i=Ov(t,o);if(i){var c=$v(t,o),d=c[1],f=c[2];if(d>f)return!0}o=o.parentNode}while(o&&o!==a.body);return!1},Z2=function(t){var n=t.scrollTop,a=t.scrollHeight,o=t.clientHeight;return[n,a,o]},e_=function(t){var n=t.scrollLeft,a=t.scrollWidth,o=t.clientWidth;return[n,a,o]},Ov=function(t,n){return t==="v"?Q2(n):X2(n)},$v=function(t,n){return t==="v"?Z2(n):e_(n)},t_=function(t,n){return t==="h"&&n==="rtl"?-1:1},s_=function(t,n,a,o,i){var c=t_(t,window.getComputedStyle(n).direction),d=c*o,f=a.target,u=n.contains(f),g=!1,h=d>0,p=0,v=0;do{if(!f)break;var N=$v(t,f),w=N[0],y=N[1],b=N[2],_=y-b-c*w;(w||_)&&Ov(t,f)&&(p+=_,v+=w);var S=f.parentNode;f=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!u&&f!==document.body||u&&(n.contains(f)||n===f));return(h&&Math.abs(p)<1||!h&&Math.abs(v)<1)&&(g=!0),g},Cl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Zx=function(t){return[t.deltaX,t.deltaY]},eg=function(t){return t&&"current"in t?t.current:t},n_=function(t,n){return t[0]===n[0]&&t[1]===n[1]},a_=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},r_=0,Pr=[];function o_(t){var n=x.useRef([]),a=x.useRef([0,0]),o=x.useRef(),i=x.useState(r_++)[0],c=x.useState(Mv)[0],d=x.useRef(t);x.useEffect(function(){d.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=E2([t.lockRef.current],(t.shards||[]).map(eg),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var f=x.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!d.current.allowPinchZoom;var _=Cl(y),S=a.current,E="deltaX"in y?y.deltaX:S[0]-_[0],k="deltaY"in y?y.deltaY:S[1]-_[1],T,P=y.target,A=Math.abs(E)>Math.abs(k)?"h":"v";if("touches"in y&&A==="h"&&P.type==="range")return!1;var R=Xx(A,P);if(!R)return!0;if(R?T=A:(T=A==="v"?"h":"v",R=Xx(A,P)),!R)return!1;if(!o.current&&"changedTouches"in y&&(E||k)&&(o.current=T),!T)return!0;var $=o.current||T;return s_($,b,y,$==="h"?E:k)},[]),u=x.useCallback(function(y){var b=y;if(!(!Pr.length||Pr[Pr.length-1]!==c)){var _="deltaY"in b?Zx(b):Cl(b),S=n.current.filter(function(T){return T.name===b.type&&(T.target===b.target||b.target===T.shadowParent)&&n_(T.delta,_)})[0];if(S&&S.should){b.cancelable&&b.preventDefault();return}if(!S){var E=(d.current.shards||[]).map(eg).filter(Boolean).filter(function(T){return T.contains(b.target)}),k=E.length>0?f(b,E[0]):!d.current.noIsolation;k&&b.cancelable&&b.preventDefault()}}},[]),g=x.useCallback(function(y,b,_,S){var E={name:y,delta:b,target:_,should:S,shadowParent:i_(_)};n.current.push(E),setTimeout(function(){n.current=n.current.filter(function(k){return k!==E})},1)},[]),h=x.useCallback(function(y){a.current=Cl(y),o.current=void 0},[]),p=x.useCallback(function(y){g(y.type,Zx(y),y.target,f(y,t.lockRef.current))},[]),v=x.useCallback(function(y){g(y.type,Cl(y),y.target,f(y,t.lockRef.current))},[]);x.useEffect(function(){return Pr.push(c),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:v}),document.addEventListener("wheel",u,kr),document.addEventListener("touchmove",u,kr),document.addEventListener("touchstart",h,kr),function(){Pr=Pr.filter(function(y){return y!==c}),document.removeEventListener("wheel",u,kr),document.removeEventListener("touchmove",u,kr),document.removeEventListener("touchstart",h,kr)}},[]);var N=t.removeScrollBar,w=t.inert;return x.createElement(x.Fragment,null,w?x.createElement(c,{styles:a_(i)}):null,N?x.createElement(Y2,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function i_(t){for(var n=null;t!==null;)t instanceof ShadowRoot&&(n=t.host,t=t.host),t=t.parentNode;return n}const l_=$2(Tv,o_);var mc=x.forwardRef(function(t,n){return x.createElement(uc,En({},t,{ref:n,sideCar:l_}))});mc.classNames=uc.classNames;var c_=function(t){if(typeof document>"u")return null;var n=Array.isArray(t)?t[0]:t;return n.ownerDocument.body},Ar=new WeakMap,_l=new WeakMap,El={},$u=0,Lv=function(t){return t&&(t.host||Lv(t.parentNode))},d_=function(t,n){return n.map(function(a){if(t.contains(a))return a;var o=Lv(a);return o&&t.contains(o)?o:(console.error("aria-hidden",a,"in not contained inside",t,". Doing nothing"),null)}).filter(function(a){return!!a})},u_=function(t,n,a,o){var i=d_(n,Array.isArray(t)?t:[t]);El[a]||(El[a]=new WeakMap);var c=El[a],d=[],f=new Set,u=new Set(i),g=function(p){!p||f.has(p)||(f.add(p),g(p.parentNode))};i.forEach(g);var h=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(v){if(f.has(v))h(v);else try{var N=v.getAttribute(o),w=N!==null&&N!=="false",y=(Ar.get(v)||0)+1,b=(c.get(v)||0)+1;Ar.set(v,y),c.set(v,b),d.push(v),y===1&&w&&_l.set(v,!0),b===1&&v.setAttribute(a,"true"),w||v.setAttribute(o,"true")}catch(_){console.error("aria-hidden: cannot operate on ",v,_)}})};return h(n),f.clear(),$u++,function(){d.forEach(function(p){var v=Ar.get(p)-1,N=c.get(p)-1;Ar.set(p,v),c.set(p,N),v||(_l.has(p)||p.removeAttribute(o),_l.delete(p)),N||p.removeAttribute(a)}),$u--,$u||(Ar=new WeakMap,Ar=new WeakMap,_l=new WeakMap,El={})}},Hm=function(t,n,a){a===void 0&&(a="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),i=c_(t);return i?(o.push.apply(o,Array.from(i.querySelectorAll("[aria-live], script"))),u_(o,i,a,"aria-hidden")):function(){return null}},fc="Dialog",[Iv,hT]=Mn(fc),[m_,jn]=Iv(fc),Fv=t=>{const{__scopeDialog:n,children:a,open:o,defaultOpen:i,onOpenChange:c,modal:d=!0}=t,f=x.useRef(null),u=x.useRef(null),[g,h]=er({prop:o,defaultProp:i??!1,onChange:c,caller:fc});return e.jsx(m_,{scope:n,triggerRef:f,contentRef:u,contentId:kn(),titleId:kn(),descriptionId:kn(),open:g,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(p=>!p),[h]),modal:d,children:a})};Fv.displayName=fc;var zv="DialogTrigger",Bv=x.forwardRef((t,n)=>{const{__scopeDialog:a,...o}=t,i=jn(zv,a),c=Et(n,i.triggerRef);return e.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Km(i.open),...o,ref:c,onClick:Te(t.onClick,i.onOpenToggle)})});Bv.displayName=zv;var qm="DialogPortal",[f_,Uv]=Iv(qm,{forceMount:void 0}),Vv=t=>{const{__scopeDialog:n,forceMount:a,children:o,container:i}=t,c=jn(qm,n);return e.jsx(f_,{scope:n,forceMount:a,children:x.Children.map(o,d=>e.jsx(Dn,{present:a||c.open,children:e.jsx(ri,{asChild:!0,container:i,children:d})}))})};Vv.displayName=qm;var Hl="DialogOverlay",Hv=x.forwardRef((t,n)=>{const a=Uv(Hl,t.__scopeDialog),{forceMount:o=a.forceMount,...i}=t,c=jn(Hl,t.__scopeDialog);return c.modal?e.jsx(Dn,{present:o||c.open,children:e.jsx(h_,{...i,ref:n})}):null});Hv.displayName=Hl;var p_=Za("DialogOverlay.RemoveScroll"),h_=x.forwardRef((t,n)=>{const{__scopeDialog:a,...o}=t,i=jn(Hl,a);return e.jsx(mc,{as:p_,allowPinchZoom:!0,shards:[i.contentRef],children:e.jsx(Xe.div,{"data-state":Km(i.open),...o,ref:n,style:{pointerEvents:"auto",...o.style}})})}),tr="DialogContent",qv=x.forwardRef((t,n)=>{const a=Uv(tr,t.__scopeDialog),{forceMount:o=a.forceMount,...i}=t,c=jn(tr,t.__scopeDialog);return e.jsx(Dn,{present:o||c.open,children:c.modal?e.jsx(x_,{...i,ref:n}):e.jsx(g_,{...i,ref:n})})});qv.displayName=tr;var x_=x.forwardRef((t,n)=>{const a=jn(tr,t.__scopeDialog),o=x.useRef(null),i=Et(n,a.contentRef,o);return x.useEffect(()=>{const c=o.current;if(c)return Hm(c)},[]),e.jsx(Wv,{...t,ref:i,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(t.onCloseAutoFocus,c=>{var d;c.preventDefault(),(d=a.triggerRef.current)==null||d.focus()}),onPointerDownOutside:Te(t.onPointerDownOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0;(d.button===2||f)&&c.preventDefault()}),onFocusOutside:Te(t.onFocusOutside,c=>c.preventDefault())})}),g_=x.forwardRef((t,n)=>{const a=jn(tr,t.__scopeDialog),o=x.useRef(!1),i=x.useRef(!1);return e.jsx(Wv,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var d,f;(d=t.onCloseAutoFocus)==null||d.call(t,c),c.defaultPrevented||(o.current||(f=a.triggerRef.current)==null||f.focus(),c.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:c=>{var u,g;(u=t.onInteractOutside)==null||u.call(t,c),c.defaultPrevented||(o.current=!0,c.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const d=c.target;((g=a.triggerRef.current)==null?void 0:g.contains(d))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&i.current&&c.preventDefault()}})}),Wv=x.forwardRef((t,n)=>{const{__scopeDialog:a,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:c,...d}=t,f=jn(tr,a),u=x.useRef(null),g=Et(n,u);return Vm(),e.jsxs(e.Fragment,{children:[e.jsx(dc,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:c,children:e.jsx(Kr,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":Km(f.open),...d,ref:g,onDismiss:()=>f.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(v_,{titleId:f.titleId}),e.jsx(j_,{contentRef:u,descriptionId:f.descriptionId})]})]})}),Wm="DialogTitle",Kv=x.forwardRef((t,n)=>{const{__scopeDialog:a,...o}=t,i=jn(Wm,a);return e.jsx(Xe.h2,{id:i.titleId,...o,ref:n})});Kv.displayName=Wm;var Gv="DialogDescription",Yv=x.forwardRef((t,n)=>{const{__scopeDialog:a,...o}=t,i=jn(Gv,a);return e.jsx(Xe.p,{id:i.descriptionId,...o,ref:n})});Yv.displayName=Gv;var Jv="DialogClose",Qv=x.forwardRef((t,n)=>{const{__scopeDialog:a,...o}=t,i=jn(Jv,a);return e.jsx(Xe.button,{type:"button",...o,ref:n,onClick:Te(t.onClick,()=>i.onOpenChange(!1))})});Qv.displayName=Jv;function Km(t){return t?"open":"closed"}var Xv="DialogTitleWarning",[xT,Zv]=e2(Xv,{contentName:tr,titleName:Wm,docsSlug:"dialog"}),v_=({titleId:t})=>{const n=Zv(Xv),a=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(a))},[a,t]),null},y_="DialogDescriptionWarning",j_=({contentRef:t,descriptionId:n})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Zv(y_).contentName}}.`;return x.useEffect(()=>{var c;const i=(c=t.current)==null?void 0:c.getAttribute("aria-describedby");n&&i&&(document.getElementById(n)||console.warn(o))},[o,t,n]),null},ey=Fv,w_=Bv,ty=Vv,pc=Hv,hc=qv,xc=Kv,gc=Yv,sy=Qv;const N_=ey,b_=ty,ny=x.forwardRef(({className:t,...n},a)=>e.jsx(pc,{className:we("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n,ref:a}));ny.displayName=pc.displayName;const S_=cc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ay=x.forwardRef(({side:t="right",className:n,children:a,...o},i)=>e.jsxs(b_,{children:[e.jsx(ny,{}),e.jsxs(hc,{ref:i,className:we(S_({side:t}),n),...o,children:[a,e.jsxs(sy,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(Bm,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ay.displayName=hc.displayName;const C_=x.forwardRef(({className:t,...n},a)=>e.jsx(xc,{ref:a,className:we("text-lg font-semibold text-foreground",t),...n}));C_.displayName=xc.displayName;const __=x.forwardRef(({className:t,...n},a)=>e.jsx(gc,{ref:a,className:we("text-sm text-muted-foreground",t),...n}));__.displayName=gc.displayName;function ht({className:t,...n}){return e.jsx("div",{className:we("animate-pulse rounded-md bg-muted",t),...n})}const E_=["top","right","bottom","left"],ka=Math.min,Ks=Math.max,ql=Math.round,Rl=Math.floor,Pn=t=>({x:t,y:t}),R_={left:"right",right:"left",bottom:"top",top:"bottom"},k_={start:"end",end:"start"};function lm(t,n,a){return Ks(t,ka(n,a))}function Xn(t,n){return typeof t=="function"?t(n):t}function Zn(t){return t.split("-")[0]}function Gr(t){return t.split("-")[1]}function Gm(t){return t==="x"?"y":"x"}function Ym(t){return t==="y"?"height":"width"}const P_=new Set(["top","bottom"]);function Rn(t){return P_.has(Zn(t))?"y":"x"}function Jm(t){return Gm(Rn(t))}function A_(t,n,a){a===void 0&&(a=!1);const o=Gr(t),i=Jm(t),c=Ym(i);let d=i==="x"?o===(a?"end":"start")?"right":"left":o==="start"?"bottom":"top";return n.reference[c]>n.floating[c]&&(d=Wl(d)),[d,Wl(d)]}function T_(t){const n=Wl(t);return[cm(t),n,cm(n)]}function cm(t){return t.replace(/start|end/g,n=>k_[n])}const tg=["left","right"],sg=["right","left"],M_=["top","bottom"],D_=["bottom","top"];function O_(t,n,a){switch(t){case"top":case"bottom":return a?n?sg:tg:n?tg:sg;case"left":case"right":return n?M_:D_;default:return[]}}function $_(t,n,a,o){const i=Gr(t);let c=O_(Zn(t),a==="start",o);return i&&(c=c.map(d=>d+"-"+i),n&&(c=c.concat(c.map(cm)))),c}function Wl(t){return t.replace(/left|right|bottom|top/g,n=>R_[n])}function L_(t){return{top:0,right:0,bottom:0,left:0,...t}}function ry(t){return typeof t!="number"?L_(t):{top:t,right:t,bottom:t,left:t}}function Kl(t){const{x:n,y:a,width:o,height:i}=t;return{width:o,height:i,top:a,left:n,right:n+o,bottom:a+i,x:n,y:a}}function ng(t,n,a){let{reference:o,floating:i}=t;const c=Rn(n),d=Jm(n),f=Ym(d),u=Zn(n),g=c==="y",h=o.x+o.width/2-i.width/2,p=o.y+o.height/2-i.height/2,v=o[f]/2-i[f]/2;let N;switch(u){case"top":N={x:h,y:o.y-i.height};break;case"bottom":N={x:h,y:o.y+o.height};break;case"right":N={x:o.x+o.width,y:p};break;case"left":N={x:o.x-i.width,y:p};break;default:N={x:o.x,y:o.y}}switch(Gr(n)){case"start":N[d]-=v*(a&&g?-1:1);break;case"end":N[d]+=v*(a&&g?-1:1);break}return N}const I_=async(t,n,a)=>{const{placement:o="bottom",strategy:i="absolute",middleware:c=[],platform:d}=a,f=c.filter(Boolean),u=await(d.isRTL==null?void 0:d.isRTL(n));let g=await d.getElementRects({reference:t,floating:n,strategy:i}),{x:h,y:p}=ng(g,o,u),v=o,N={},w=0;for(let y=0;y<f.length;y++){const{name:b,fn:_}=f[y],{x:S,y:E,data:k,reset:T}=await _({x:h,y:p,initialPlacement:o,placement:v,strategy:i,middlewareData:N,rects:g,platform:d,elements:{reference:t,floating:n}});h=S??h,p=E??p,N={...N,[b]:{...N[b],...k}},T&&w<=50&&(w++,typeof T=="object"&&(T.placement&&(v=T.placement),T.rects&&(g=T.rects===!0?await d.getElementRects({reference:t,floating:n,strategy:i}):T.rects),{x:h,y:p}=ng(g,v,u)),y=-1)}return{x:h,y:p,placement:v,strategy:i,middlewareData:N}};async function Ko(t,n){var a;n===void 0&&(n={});const{x:o,y:i,platform:c,rects:d,elements:f,strategy:u}=t,{boundary:g="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:v=!1,padding:N=0}=Xn(n,t),w=ry(N),b=f[v?p==="floating"?"reference":"floating":p],_=Kl(await c.getClippingRect({element:(a=await(c.isElement==null?void 0:c.isElement(b)))==null||a?b:b.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:g,rootBoundary:h,strategy:u})),S=p==="floating"?{x:o,y:i,width:d.floating.width,height:d.floating.height}:d.reference,E=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),k=await(c.isElement==null?void 0:c.isElement(E))?await(c.getScale==null?void 0:c.getScale(E))||{x:1,y:1}:{x:1,y:1},T=Kl(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:S,offsetParent:E,strategy:u}):S);return{top:(_.top-T.top+w.top)/k.y,bottom:(T.bottom-_.bottom+w.bottom)/k.y,left:(_.left-T.left+w.left)/k.x,right:(T.right-_.right+w.right)/k.x}}const F_=t=>({name:"arrow",options:t,async fn(n){const{x:a,y:o,placement:i,rects:c,platform:d,elements:f,middlewareData:u}=n,{element:g,padding:h=0}=Xn(t,n)||{};if(g==null)return{};const p=ry(h),v={x:a,y:o},N=Jm(i),w=Ym(N),y=await d.getDimensions(g),b=N==="y",_=b?"top":"left",S=b?"bottom":"right",E=b?"clientHeight":"clientWidth",k=c.reference[w]+c.reference[N]-v[N]-c.floating[w],T=v[N]-c.reference[N],P=await(d.getOffsetParent==null?void 0:d.getOffsetParent(g));let A=P?P[E]:0;(!A||!await(d.isElement==null?void 0:d.isElement(P)))&&(A=f.floating[E]||c.floating[w]);const R=k/2-T/2,$=A/2-y[w]/2-1,O=ka(p[_],$),I=ka(p[S],$),V=O,J=A-y[w]-I,F=A/2-y[w]/2+R,K=lm(V,F,J),M=!u.arrow&&Gr(i)!=null&&F!==K&&c.reference[w]/2-(F<V?O:I)-y[w]/2<0,W=M?F<V?F-V:F-J:0;return{[N]:v[N]+W,data:{[N]:K,centerOffset:F-K-W,...M&&{alignmentOffset:W}},reset:M}}}),z_=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(n){var a,o;const{placement:i,middlewareData:c,rects:d,initialPlacement:f,platform:u,elements:g}=n,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:N="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...b}=Xn(t,n);if((a=c.arrow)!=null&&a.alignmentOffset)return{};const _=Zn(i),S=Rn(f),E=Zn(f)===f,k=await(u.isRTL==null?void 0:u.isRTL(g.floating)),T=v||(E||!y?[Wl(f)]:T_(f)),P=w!=="none";!v&&P&&T.push(...$_(f,y,w,k));const A=[f,...T],R=await Ko(n,b),$=[];let O=((o=c.flip)==null?void 0:o.overflows)||[];if(h&&$.push(R[_]),p){const F=A_(i,d,k);$.push(R[F[0]],R[F[1]])}if(O=[...O,{placement:i,overflows:$}],!$.every(F=>F<=0)){var I,V;const F=(((I=c.flip)==null?void 0:I.index)||0)+1,K=A[F];if(K&&(!(p==="alignment"?S!==Rn(K):!1)||O.every(U=>Rn(U.placement)===S?U.overflows[0]>0:!0)))return{data:{index:F,overflows:O},reset:{placement:K}};let M=(V=O.filter(W=>W.overflows[0]<=0).sort((W,U)=>W.overflows[1]-U.overflows[1])[0])==null?void 0:V.placement;if(!M)switch(N){case"bestFit":{var J;const W=(J=O.filter(U=>{if(P){const X=Rn(U.placement);return X===S||X==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(X=>X>0).reduce((X,ee)=>X+ee,0)]).sort((U,X)=>U[1]-X[1])[0])==null?void 0:J[0];W&&(M=W);break}case"initialPlacement":M=f;break}if(i!==M)return{reset:{placement:M}}}return{}}}};function ag(t,n){return{top:t.top-n.height,right:t.right-n.width,bottom:t.bottom-n.height,left:t.left-n.width}}function rg(t){return E_.some(n=>t[n]>=0)}const B_=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(n){const{rects:a}=n,{strategy:o="referenceHidden",...i}=Xn(t,n);switch(o){case"referenceHidden":{const c=await Ko(n,{...i,elementContext:"reference"}),d=ag(c,a.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:rg(d)}}}case"escaped":{const c=await Ko(n,{...i,altBoundary:!0}),d=ag(c,a.floating);return{data:{escapedOffsets:d,escaped:rg(d)}}}default:return{}}}}},oy=new Set(["left","top"]);async function U_(t,n){const{placement:a,platform:o,elements:i}=t,c=await(o.isRTL==null?void 0:o.isRTL(i.floating)),d=Zn(a),f=Gr(a),u=Rn(a)==="y",g=oy.has(d)?-1:1,h=c&&u?-1:1,p=Xn(n,t);let{mainAxis:v,crossAxis:N,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return f&&typeof w=="number"&&(N=f==="end"?w*-1:w),u?{x:N*h,y:v*g}:{x:v*g,y:N*h}}const V_=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(n){var a,o;const{x:i,y:c,placement:d,middlewareData:f}=n,u=await U_(n,t);return d===((a=f.offset)==null?void 0:a.placement)&&(o=f.arrow)!=null&&o.alignmentOffset?{}:{x:i+u.x,y:c+u.y,data:{...u,placement:d}}}}},H_=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(n){const{x:a,y:o,placement:i}=n,{mainAxis:c=!0,crossAxis:d=!1,limiter:f={fn:b=>{let{x:_,y:S}=b;return{x:_,y:S}}},...u}=Xn(t,n),g={x:a,y:o},h=await Ko(n,u),p=Rn(Zn(i)),v=Gm(p);let N=g[v],w=g[p];if(c){const b=v==="y"?"top":"left",_=v==="y"?"bottom":"right",S=N+h[b],E=N-h[_];N=lm(S,N,E)}if(d){const b=p==="y"?"top":"left",_=p==="y"?"bottom":"right",S=w+h[b],E=w-h[_];w=lm(S,w,E)}const y=f.fn({...n,[v]:N,[p]:w});return{...y,data:{x:y.x-a,y:y.y-o,enabled:{[v]:c,[p]:d}}}}}},q_=function(t){return t===void 0&&(t={}),{options:t,fn(n){const{x:a,y:o,placement:i,rects:c,middlewareData:d}=n,{offset:f=0,mainAxis:u=!0,crossAxis:g=!0}=Xn(t,n),h={x:a,y:o},p=Rn(i),v=Gm(p);let N=h[v],w=h[p];const y=Xn(f,n),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const E=v==="y"?"height":"width",k=c.reference[v]-c.floating[E]+b.mainAxis,T=c.reference[v]+c.reference[E]-b.mainAxis;N<k?N=k:N>T&&(N=T)}if(g){var _,S;const E=v==="y"?"width":"height",k=oy.has(Zn(i)),T=c.reference[p]-c.floating[E]+(k&&((_=d.offset)==null?void 0:_[p])||0)+(k?0:b.crossAxis),P=c.reference[p]+c.reference[E]+(k?0:((S=d.offset)==null?void 0:S[p])||0)-(k?b.crossAxis:0);w<T?w=T:w>P&&(w=P)}return{[v]:N,[p]:w}}}},W_=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(n){var a,o;const{placement:i,rects:c,platform:d,elements:f}=n,{apply:u=()=>{},...g}=Xn(t,n),h=await Ko(n,g),p=Zn(i),v=Gr(i),N=Rn(i)==="y",{width:w,height:y}=c.floating;let b,_;p==="top"||p==="bottom"?(b=p,_=v===(await(d.isRTL==null?void 0:d.isRTL(f.floating))?"start":"end")?"left":"right"):(_=p,b=v==="end"?"top":"bottom");const S=y-h.top-h.bottom,E=w-h.left-h.right,k=ka(y-h[b],S),T=ka(w-h[_],E),P=!n.middlewareData.shift;let A=k,R=T;if((a=n.middlewareData.shift)!=null&&a.enabled.x&&(R=E),(o=n.middlewareData.shift)!=null&&o.enabled.y&&(A=S),P&&!v){const O=Ks(h.left,0),I=Ks(h.right,0),V=Ks(h.top,0),J=Ks(h.bottom,0);N?R=w-2*(O!==0||I!==0?O+I:Ks(h.left,h.right)):A=y-2*(V!==0||J!==0?V+J:Ks(h.top,h.bottom))}await u({...n,availableWidth:R,availableHeight:A});const $=await d.getDimensions(f.floating);return w!==$.width||y!==$.height?{reset:{rects:!0}}:{}}}};function vc(){return typeof window<"u"}function Yr(t){return iy(t)?(t.nodeName||"").toLowerCase():"#document"}function Gs(t){var n;return(t==null||(n=t.ownerDocument)==null?void 0:n.defaultView)||window}function On(t){var n;return(n=(iy(t)?t.ownerDocument:t.document)||window.document)==null?void 0:n.documentElement}function iy(t){return vc()?t instanceof Node||t instanceof Gs(t).Node:!1}function gn(t){return vc()?t instanceof Element||t instanceof Gs(t).Element:!1}function An(t){return vc()?t instanceof HTMLElement||t instanceof Gs(t).HTMLElement:!1}function og(t){return!vc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Gs(t).ShadowRoot}const K_=new Set(["inline","contents"]);function oi(t){const{overflow:n,overflowX:a,overflowY:o,display:i}=vn(t);return/auto|scroll|overlay|hidden|clip/.test(n+o+a)&&!K_.has(i)}const G_=new Set(["table","td","th"]);function Y_(t){return G_.has(Yr(t))}const J_=[":popover-open",":modal"];function yc(t){return J_.some(n=>{try{return t.matches(n)}catch{return!1}})}const Q_=["transform","translate","scale","rotate","perspective"],X_=["transform","translate","scale","rotate","perspective","filter"],Z_=["paint","layout","strict","content"];function Qm(t){const n=Xm(),a=gn(t)?vn(t):t;return Q_.some(o=>a[o]?a[o]!=="none":!1)||(a.containerType?a.containerType!=="normal":!1)||!n&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!n&&(a.filter?a.filter!=="none":!1)||X_.some(o=>(a.willChange||"").includes(o))||Z_.some(o=>(a.contain||"").includes(o))}function eE(t){let n=Pa(t);for(;An(n)&&!Lr(n);){if(Qm(n))return n;if(yc(n))return null;n=Pa(n)}return null}function Xm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const tE=new Set(["html","body","#document"]);function Lr(t){return tE.has(Yr(t))}function vn(t){return Gs(t).getComputedStyle(t)}function jc(t){return gn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Pa(t){if(Yr(t)==="html")return t;const n=t.assignedSlot||t.parentNode||og(t)&&t.host||On(t);return og(n)?n.host:n}function ly(t){const n=Pa(t);return Lr(n)?t.ownerDocument?t.ownerDocument.body:t.body:An(n)&&oi(n)?n:ly(n)}function Go(t,n,a){var o;n===void 0&&(n=[]),a===void 0&&(a=!0);const i=ly(t),c=i===((o=t.ownerDocument)==null?void 0:o.body),d=Gs(i);if(c){const f=dm(d);return n.concat(d,d.visualViewport||[],oi(i)?i:[],f&&a?Go(f):[])}return n.concat(i,Go(i,[],a))}function dm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function cy(t){const n=vn(t);let a=parseFloat(n.width)||0,o=parseFloat(n.height)||0;const i=An(t),c=i?t.offsetWidth:a,d=i?t.offsetHeight:o,f=ql(a)!==c||ql(o)!==d;return f&&(a=c,o=d),{width:a,height:o,$:f}}function Zm(t){return gn(t)?t:t.contextElement}function Dr(t){const n=Zm(t);if(!An(n))return Pn(1);const a=n.getBoundingClientRect(),{width:o,height:i,$:c}=cy(n);let d=(c?ql(a.width):a.width)/o,f=(c?ql(a.height):a.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!f||!Number.isFinite(f))&&(f=1),{x:d,y:f}}const sE=Pn(0);function dy(t){const n=Gs(t);return!Xm()||!n.visualViewport?sE:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function nE(t,n,a){return n===void 0&&(n=!1),!a||n&&a!==Gs(t)?!1:n}function sr(t,n,a,o){n===void 0&&(n=!1),a===void 0&&(a=!1);const i=t.getBoundingClientRect(),c=Zm(t);let d=Pn(1);n&&(o?gn(o)&&(d=Dr(o)):d=Dr(t));const f=nE(c,a,o)?dy(c):Pn(0);let u=(i.left+f.x)/d.x,g=(i.top+f.y)/d.y,h=i.width/d.x,p=i.height/d.y;if(c){const v=Gs(c),N=o&&gn(o)?Gs(o):o;let w=v,y=dm(w);for(;y&&o&&N!==w;){const b=Dr(y),_=y.getBoundingClientRect(),S=vn(y),E=_.left+(y.clientLeft+parseFloat(S.paddingLeft))*b.x,k=_.top+(y.clientTop+parseFloat(S.paddingTop))*b.y;u*=b.x,g*=b.y,h*=b.x,p*=b.y,u+=E,g+=k,w=Gs(y),y=dm(w)}}return Kl({width:h,height:p,x:u,y:g})}function ef(t,n){const a=jc(t).scrollLeft;return n?n.left+a:sr(On(t)).left+a}function uy(t,n,a){a===void 0&&(a=!1);const o=t.getBoundingClientRect(),i=o.left+n.scrollLeft-(a?0:ef(t,o)),c=o.top+n.scrollTop;return{x:i,y:c}}function aE(t){let{elements:n,rect:a,offsetParent:o,strategy:i}=t;const c=i==="fixed",d=On(o),f=n?yc(n.floating):!1;if(o===d||f&&c)return a;let u={scrollLeft:0,scrollTop:0},g=Pn(1);const h=Pn(0),p=An(o);if((p||!p&&!c)&&((Yr(o)!=="body"||oi(d))&&(u=jc(o)),An(o))){const N=sr(o);g=Dr(o),h.x=N.x+o.clientLeft,h.y=N.y+o.clientTop}const v=d&&!p&&!c?uy(d,u,!0):Pn(0);return{width:a.width*g.x,height:a.height*g.y,x:a.x*g.x-u.scrollLeft*g.x+h.x+v.x,y:a.y*g.y-u.scrollTop*g.y+h.y+v.y}}function rE(t){return Array.from(t.getClientRects())}function oE(t){const n=On(t),a=jc(t),o=t.ownerDocument.body,i=Ks(n.scrollWidth,n.clientWidth,o.scrollWidth,o.clientWidth),c=Ks(n.scrollHeight,n.clientHeight,o.scrollHeight,o.clientHeight);let d=-a.scrollLeft+ef(t);const f=-a.scrollTop;return vn(o).direction==="rtl"&&(d+=Ks(n.clientWidth,o.clientWidth)-i),{width:i,height:c,x:d,y:f}}function iE(t,n){const a=Gs(t),o=On(t),i=a.visualViewport;let c=o.clientWidth,d=o.clientHeight,f=0,u=0;if(i){c=i.width,d=i.height;const g=Xm();(!g||g&&n==="fixed")&&(f=i.offsetLeft,u=i.offsetTop)}return{width:c,height:d,x:f,y:u}}const lE=new Set(["absolute","fixed"]);function cE(t,n){const a=sr(t,!0,n==="fixed"),o=a.top+t.clientTop,i=a.left+t.clientLeft,c=An(t)?Dr(t):Pn(1),d=t.clientWidth*c.x,f=t.clientHeight*c.y,u=i*c.x,g=o*c.y;return{width:d,height:f,x:u,y:g}}function ig(t,n,a){let o;if(n==="viewport")o=iE(t,a);else if(n==="document")o=oE(On(t));else if(gn(n))o=cE(n,a);else{const i=dy(t);o={x:n.x-i.x,y:n.y-i.y,width:n.width,height:n.height}}return Kl(o)}function my(t,n){const a=Pa(t);return a===n||!gn(a)||Lr(a)?!1:vn(a).position==="fixed"||my(a,n)}function dE(t,n){const a=n.get(t);if(a)return a;let o=Go(t,[],!1).filter(f=>gn(f)&&Yr(f)!=="body"),i=null;const c=vn(t).position==="fixed";let d=c?Pa(t):t;for(;gn(d)&&!Lr(d);){const f=vn(d),u=Qm(d);!u&&f.position==="fixed"&&(i=null),(c?!u&&!i:!u&&f.position==="static"&&!!i&&lE.has(i.position)||oi(d)&&!u&&my(t,d))?o=o.filter(h=>h!==d):i=f,d=Pa(d)}return n.set(t,o),o}function uE(t){let{element:n,boundary:a,rootBoundary:o,strategy:i}=t;const d=[...a==="clippingAncestors"?yc(n)?[]:dE(n,this._c):[].concat(a),o],f=d[0],u=d.reduce((g,h)=>{const p=ig(n,h,i);return g.top=Ks(p.top,g.top),g.right=ka(p.right,g.right),g.bottom=ka(p.bottom,g.bottom),g.left=Ks(p.left,g.left),g},ig(n,f,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function mE(t){const{width:n,height:a}=cy(t);return{width:n,height:a}}function fE(t,n,a){const o=An(n),i=On(n),c=a==="fixed",d=sr(t,!0,c,n);let f={scrollLeft:0,scrollTop:0};const u=Pn(0);function g(){u.x=ef(i)}if(o||!o&&!c)if((Yr(n)!=="body"||oi(i))&&(f=jc(n)),o){const N=sr(n,!0,c,n);u.x=N.x+n.clientLeft,u.y=N.y+n.clientTop}else i&&g();c&&!o&&i&&g();const h=i&&!o&&!c?uy(i,f):Pn(0),p=d.left+f.scrollLeft-u.x-h.x,v=d.top+f.scrollTop-u.y-h.y;return{x:p,y:v,width:d.width,height:d.height}}function Lu(t){return vn(t).position==="static"}function lg(t,n){if(!An(t)||vn(t).position==="fixed")return null;if(n)return n(t);let a=t.offsetParent;return On(t)===a&&(a=a.ownerDocument.body),a}function fy(t,n){const a=Gs(t);if(yc(t))return a;if(!An(t)){let i=Pa(t);for(;i&&!Lr(i);){if(gn(i)&&!Lu(i))return i;i=Pa(i)}return a}let o=lg(t,n);for(;o&&Y_(o)&&Lu(o);)o=lg(o,n);return o&&Lr(o)&&Lu(o)&&!Qm(o)?a:o||eE(t)||a}const pE=async function(t){const n=this.getOffsetParent||fy,a=this.getDimensions,o=await a(t.floating);return{reference:fE(t.reference,await n(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function hE(t){return vn(t).direction==="rtl"}const xE={convertOffsetParentRelativeRectToViewportRelativeRect:aE,getDocumentElement:On,getClippingRect:uE,getOffsetParent:fy,getElementRects:pE,getClientRects:rE,getDimensions:mE,getScale:Dr,isElement:gn,isRTL:hE};function py(t,n){return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height}function gE(t,n){let a=null,o;const i=On(t);function c(){var f;clearTimeout(o),(f=a)==null||f.disconnect(),a=null}function d(f,u){f===void 0&&(f=!1),u===void 0&&(u=1),c();const g=t.getBoundingClientRect(),{left:h,top:p,width:v,height:N}=g;if(f||n(),!v||!N)return;const w=Rl(p),y=Rl(i.clientWidth-(h+v)),b=Rl(i.clientHeight-(p+N)),_=Rl(h),E={rootMargin:-w+"px "+-y+"px "+-b+"px "+-_+"px",threshold:Ks(0,ka(1,u))||1};let k=!0;function T(P){const A=P[0].intersectionRatio;if(A!==u){if(!k)return d();A?d(!1,A):o=setTimeout(()=>{d(!1,1e-7)},1e3)}A===1&&!py(g,t.getBoundingClientRect())&&d(),k=!1}try{a=new IntersectionObserver(T,{...E,root:i.ownerDocument})}catch{a=new IntersectionObserver(T,E)}a.observe(t)}return d(!0),c}function vE(t,n,a,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:u=!1}=o,g=Zm(t),h=i||c?[...g?Go(g):[],...Go(n)]:[];h.forEach(_=>{i&&_.addEventListener("scroll",a,{passive:!0}),c&&_.addEventListener("resize",a)});const p=g&&f?gE(g,a):null;let v=-1,N=null;d&&(N=new ResizeObserver(_=>{let[S]=_;S&&S.target===g&&N&&(N.unobserve(n),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var E;(E=N)==null||E.observe(n)})),a()}),g&&!u&&N.observe(g),N.observe(n));let w,y=u?sr(t):null;u&&b();function b(){const _=sr(t);y&&!py(y,_)&&a(),y=_,w=requestAnimationFrame(b)}return a(),()=>{var _;h.forEach(S=>{i&&S.removeEventListener("scroll",a),c&&S.removeEventListener("resize",a)}),p==null||p(),(_=N)==null||_.disconnect(),N=null,u&&cancelAnimationFrame(w)}}const yE=V_,jE=H_,wE=z_,NE=W_,bE=B_,cg=F_,SE=q_,CE=(t,n,a)=>{const o=new Map,i={platform:xE,...a},c={...i.platform,_c:o};return I_(t,n,{...i,platform:c})};var _E=typeof document<"u",EE=function(){},$l=_E?x.useLayoutEffect:EE;function Gl(t,n){if(t===n)return!0;if(typeof t!=typeof n)return!1;if(typeof t=="function"&&t.toString()===n.toString())return!0;let a,o,i;if(t&&n&&typeof t=="object"){if(Array.isArray(t)){if(a=t.length,a!==n.length)return!1;for(o=a;o--!==0;)if(!Gl(t[o],n[o]))return!1;return!0}if(i=Object.keys(t),a=i.length,a!==Object.keys(n).length)return!1;for(o=a;o--!==0;)if(!{}.hasOwnProperty.call(n,i[o]))return!1;for(o=a;o--!==0;){const c=i[o];if(!(c==="_owner"&&t.$$typeof)&&!Gl(t[c],n[c]))return!1}return!0}return t!==t&&n!==n}function hy(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function dg(t,n){const a=hy(t);return Math.round(n*a)/a}function Iu(t){const n=x.useRef(t);return $l(()=>{n.current=t}),n}function RE(t){t===void 0&&(t={});const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:i,elements:{reference:c,floating:d}={},transform:f=!0,whileElementsMounted:u,open:g}=t,[h,p]=x.useState({x:0,y:0,strategy:a,placement:n,middlewareData:{},isPositioned:!1}),[v,N]=x.useState(o);Gl(v,o)||N(o);const[w,y]=x.useState(null),[b,_]=x.useState(null),S=x.useCallback(U=>{U!==P.current&&(P.current=U,y(U))},[]),E=x.useCallback(U=>{U!==A.current&&(A.current=U,_(U))},[]),k=c||w,T=d||b,P=x.useRef(null),A=x.useRef(null),R=x.useRef(h),$=u!=null,O=Iu(u),I=Iu(i),V=Iu(g),J=x.useCallback(()=>{if(!P.current||!A.current)return;const U={placement:n,strategy:a,middleware:v};I.current&&(U.platform=I.current),CE(P.current,A.current,U).then(X=>{const ee={...X,isPositioned:V.current!==!1};F.current&&!Gl(R.current,ee)&&(R.current=ee,Fr.flushSync(()=>{p(ee)}))})},[v,n,a,I,V]);$l(()=>{g===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,p(U=>({...U,isPositioned:!1})))},[g]);const F=x.useRef(!1);$l(()=>(F.current=!0,()=>{F.current=!1}),[]),$l(()=>{if(k&&(P.current=k),T&&(A.current=T),k&&T){if(O.current)return O.current(k,T,J);J()}},[k,T,J,O,$]);const K=x.useMemo(()=>({reference:P,floating:A,setReference:S,setFloating:E}),[S,E]),M=x.useMemo(()=>({reference:k,floating:T}),[k,T]),W=x.useMemo(()=>{const U={position:a,left:0,top:0};if(!M.floating)return U;const X=dg(M.floating,h.x),ee=dg(M.floating,h.y);return f?{...U,transform:"translate("+X+"px, "+ee+"px)",...hy(M.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:X,top:ee}},[a,f,M.floating,h.x,h.y]);return x.useMemo(()=>({...h,update:J,refs:K,elements:M,floatingStyles:W}),[h,J,K,M,W])}const kE=t=>{function n(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:t,fn(a){const{element:o,padding:i}=typeof t=="function"?t(a):t;return o&&n(o)?o.current!=null?cg({element:o.current,padding:i}).fn(a):{}:o?cg({element:o,padding:i}).fn(a):{}}}},PE=(t,n)=>({...yE(t),options:[t,n]}),AE=(t,n)=>({...jE(t),options:[t,n]}),TE=(t,n)=>({...SE(t),options:[t,n]}),ME=(t,n)=>({...wE(t),options:[t,n]}),DE=(t,n)=>({...NE(t),options:[t,n]}),OE=(t,n)=>({...bE(t),options:[t,n]}),$E=(t,n)=>({...kE(t),options:[t,n]});var LE="Arrow",xy=x.forwardRef((t,n)=>{const{children:a,width:o=10,height:i=5,...c}=t;return e.jsx(Xe.svg,{...c,ref:n,width:o,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?a:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});xy.displayName=LE;var IE=xy;function FE(t){const[n,a]=x.useState(void 0);return ls(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const c=i[0];let d,f;if("borderBoxSize"in c){const u=c.borderBoxSize,g=Array.isArray(u)?u[0]:u;d=g.inlineSize,f=g.blockSize}else d=t.offsetWidth,f=t.offsetHeight;a({width:d,height:f})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else a(void 0)},[t]),n}var tf="Popper",[gy,Jr]=Mn(tf),[zE,vy]=gy(tf),yy=t=>{const{__scopePopper:n,children:a}=t,[o,i]=x.useState(null);return e.jsx(zE,{scope:n,anchor:o,onAnchorChange:i,children:a})};yy.displayName=tf;var jy="PopperAnchor",wy=x.forwardRef((t,n)=>{const{__scopePopper:a,virtualRef:o,...i}=t,c=vy(jy,a),d=x.useRef(null),f=Et(n,d),u=x.useRef(null);return x.useEffect(()=>{const g=u.current;u.current=(o==null?void 0:o.current)||d.current,g!==u.current&&c.onAnchorChange(u.current)}),o?null:e.jsx(Xe.div,{...i,ref:f})});wy.displayName=jy;var sf="PopperContent",[BE,UE]=gy(sf),Ny=x.forwardRef((t,n)=>{var Z,ae,xe,ve,Re,Pe;const{__scopePopper:a,side:o="bottom",sideOffset:i=0,align:c="center",alignOffset:d=0,arrowPadding:f=0,avoidCollisions:u=!0,collisionBoundary:g=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:v=!1,updatePositionStrategy:N="optimized",onPlaced:w,...y}=t,b=vy(sf,a),[_,S]=x.useState(null),E=Et(n,Ye=>S(Ye)),[k,T]=x.useState(null),P=FE(k),A=(P==null?void 0:P.width)??0,R=(P==null?void 0:P.height)??0,$=o+(c!=="center"?"-"+c:""),O=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},I=Array.isArray(g)?g:[g],V=I.length>0,J={padding:O,boundary:I.filter(HE),altBoundary:V},{refs:F,floatingStyles:K,placement:M,isPositioned:W,middlewareData:U}=RE({strategy:"fixed",placement:$,whileElementsMounted:(...Ye)=>vE(...Ye,{animationFrame:N==="always"}),elements:{reference:b.anchor},middleware:[PE({mainAxis:i+R,alignmentAxis:d}),u&&AE({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?TE():void 0,...J}),u&&ME({...J}),DE({...J,apply:({elements:Ye,rects:at,availableWidth:mt,availableHeight:jt})=>{const{width:Me,height:Ie}=at.reference,Oe=Ye.floating.style;Oe.setProperty("--radix-popper-available-width",`${mt}px`),Oe.setProperty("--radix-popper-available-height",`${jt}px`),Oe.setProperty("--radix-popper-anchor-width",`${Me}px`),Oe.setProperty("--radix-popper-anchor-height",`${Ie}px`)}}),k&&$E({element:k,padding:f}),qE({arrowWidth:A,arrowHeight:R}),v&&OE({strategy:"referenceHidden",...J})]}),[X,ee]=Cy(M),L=As(w);ls(()=>{W&&(L==null||L())},[W,L]);const q=(Z=U.arrow)==null?void 0:Z.x,te=(ae=U.arrow)==null?void 0:ae.y,B=((xe=U.arrow)==null?void 0:xe.centerOffset)!==0,[z,G]=x.useState();return ls(()=>{_&&G(window.getComputedStyle(_).zIndex)},[_]),e.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:W?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[(ve=U.transformOrigin)==null?void 0:ve.x,(Re=U.transformOrigin)==null?void 0:Re.y].join(" "),...((Pe=U.hide)==null?void 0:Pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(BE,{scope:a,placedSide:X,onArrowChange:T,arrowX:q,arrowY:te,shouldHideArrow:B,children:e.jsx(Xe.div,{"data-side":X,"data-align":ee,...y,ref:E,style:{...y.style,animation:W?void 0:"none"}})})})});Ny.displayName=sf;var by="PopperArrow",VE={top:"bottom",right:"left",bottom:"top",left:"right"},Sy=x.forwardRef(function(n,a){const{__scopePopper:o,...i}=n,c=UE(by,o),d=VE[c.placedSide];return e.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:e.jsx(IE,{...i,ref:a,style:{...i.style,display:"block"}})})});Sy.displayName=by;function HE(t){return t!==null}var qE=t=>({name:"transformOrigin",options:t,fn(n){var b,_,S;const{placement:a,rects:o,middlewareData:i}=n,d=((b=i.arrow)==null?void 0:b.centerOffset)!==0,f=d?0:t.arrowWidth,u=d?0:t.arrowHeight,[g,h]=Cy(a),p={start:"0%",center:"50%",end:"100%"}[h],v=(((_=i.arrow)==null?void 0:_.x)??0)+f/2,N=(((S=i.arrow)==null?void 0:S.y)??0)+u/2;let w="",y="";return g==="bottom"?(w=d?p:`${v}px`,y=`${-u}px`):g==="top"?(w=d?p:`${v}px`,y=`${o.floating.height+u}px`):g==="right"?(w=`${-u}px`,y=d?p:`${N}px`):g==="left"&&(w=`${o.floating.width+u}px`,y=d?p:`${N}px`),{data:{x:w,y}}}});function Cy(t){const[n,a="center"]=t.split("-");return[n,a]}var nf=yy,af=wy,rf=Ny,of=Sy,_y=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),WE="VisuallyHidden",wc=x.forwardRef((t,n)=>e.jsx(Xe.span,{...t,ref:n,style:{..._y,...t.style}}));wc.displayName=WE;var KE=wc,[Nc,gT]=Mn("Tooltip",[Jr]),bc=Jr(),Ey="TooltipProvider",GE=700,um="tooltip.open",[YE,lf]=Nc(Ey),Ry=t=>{const{__scopeTooltip:n,delayDuration:a=GE,skipDelayDuration:o=300,disableHoverableContent:i=!1,children:c}=t,d=x.useRef(!0),f=x.useRef(!1),u=x.useRef(0);return x.useEffect(()=>{const g=u.current;return()=>window.clearTimeout(g)},[]),e.jsx(YE,{scope:n,isOpenDelayedRef:d,delayDuration:a,onOpen:x.useCallback(()=>{window.clearTimeout(u.current),d.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>d.current=!0,o)},[o]),isPointerInTransitRef:f,onPointerInTransitChange:x.useCallback(g=>{f.current=g},[]),disableHoverableContent:i,children:c})};Ry.displayName=Ey;var Yo="Tooltip",[JE,Sc]=Nc(Yo),ky=t=>{const{__scopeTooltip:n,children:a,open:o,defaultOpen:i,onOpenChange:c,disableHoverableContent:d,delayDuration:f}=t,u=lf(Yo,t.__scopeTooltip),g=bc(n),[h,p]=x.useState(null),v=kn(),N=x.useRef(0),w=d??u.disableHoverableContent,y=f??u.delayDuration,b=x.useRef(!1),[_,S]=er({prop:o,defaultProp:i??!1,onChange:A=>{A?(u.onOpen(),document.dispatchEvent(new CustomEvent(um))):u.onClose(),c==null||c(A)},caller:Yo}),E=x.useMemo(()=>_?b.current?"delayed-open":"instant-open":"closed",[_]),k=x.useCallback(()=>{window.clearTimeout(N.current),N.current=0,b.current=!1,S(!0)},[S]),T=x.useCallback(()=>{window.clearTimeout(N.current),N.current=0,S(!1)},[S]),P=x.useCallback(()=>{window.clearTimeout(N.current),N.current=window.setTimeout(()=>{b.current=!0,S(!0),N.current=0},y)},[y,S]);return x.useEffect(()=>()=>{N.current&&(window.clearTimeout(N.current),N.current=0)},[]),e.jsx(nf,{...g,children:e.jsx(JE,{scope:n,contentId:v,open:_,stateAttribute:E,trigger:h,onTriggerChange:p,onTriggerEnter:x.useCallback(()=>{u.isOpenDelayedRef.current?P():k()},[u.isOpenDelayedRef,P,k]),onTriggerLeave:x.useCallback(()=>{w?T():(window.clearTimeout(N.current),N.current=0)},[T,w]),onOpen:k,onClose:T,disableHoverableContent:w,children:a})})};ky.displayName=Yo;var mm="TooltipTrigger",Py=x.forwardRef((t,n)=>{const{__scopeTooltip:a,...o}=t,i=Sc(mm,a),c=lf(mm,a),d=bc(a),f=x.useRef(null),u=Et(n,f,i.onTriggerChange),g=x.useRef(!1),h=x.useRef(!1),p=x.useCallback(()=>g.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),e.jsx(af,{asChild:!0,...d,children:e.jsx(Xe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...o,ref:u,onPointerMove:Te(t.onPointerMove,v=>{v.pointerType!=="touch"&&!h.current&&!c.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:Te(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:Te(t.onPointerDown,()=>{i.open&&i.onClose(),g.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Te(t.onFocus,()=>{g.current||i.onOpen()}),onBlur:Te(t.onBlur,i.onClose),onClick:Te(t.onClick,i.onClose)})})});Py.displayName=mm;var QE="TooltipPortal",[vT,XE]=Nc(QE,{forceMount:void 0}),Ir="TooltipContent",Ay=x.forwardRef((t,n)=>{const a=XE(Ir,t.__scopeTooltip),{forceMount:o=a.forceMount,side:i="top",...c}=t,d=Sc(Ir,t.__scopeTooltip);return e.jsx(Dn,{present:o||d.open,children:d.disableHoverableContent?e.jsx(Ty,{side:i,...c,ref:n}):e.jsx(ZE,{side:i,...c,ref:n})})}),ZE=x.forwardRef((t,n)=>{const a=Sc(Ir,t.__scopeTooltip),o=lf(Ir,t.__scopeTooltip),i=x.useRef(null),c=Et(n,i),[d,f]=x.useState(null),{trigger:u,onClose:g}=a,h=i.current,{onPointerInTransitChange:p}=o,v=x.useCallback(()=>{f(null),p(!1)},[p]),N=x.useCallback((w,y)=>{const b=w.currentTarget,_={x:w.clientX,y:w.clientY},S=aR(_,b.getBoundingClientRect()),E=rR(_,S),k=oR(y.getBoundingClientRect()),T=lR([...E,...k]);f(T),p(!0)},[p]);return x.useEffect(()=>()=>v(),[v]),x.useEffect(()=>{if(u&&h){const w=b=>N(b,h),y=b=>N(b,u);return u.addEventListener("pointerleave",w),h.addEventListener("pointerleave",y),()=>{u.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",y)}}},[u,h,N,v]),x.useEffect(()=>{if(d){const w=y=>{const b=y.target,_={x:y.clientX,y:y.clientY},S=(u==null?void 0:u.contains(b))||(h==null?void 0:h.contains(b)),E=!iR(_,d);S?v():E&&(v(),g())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[u,h,d,g,v]),e.jsx(Ty,{...t,ref:c})}),[eR,tR]=Nc(Yo,{isInside:!1}),sR=vC("TooltipContent"),Ty=x.forwardRef((t,n)=>{const{__scopeTooltip:a,children:o,"aria-label":i,onEscapeKeyDown:c,onPointerDownOutside:d,...f}=t,u=Sc(Ir,a),g=bc(a),{onClose:h}=u;return x.useEffect(()=>(document.addEventListener(um,h),()=>document.removeEventListener(um,h)),[h]),x.useEffect(()=>{if(u.trigger){const p=v=>{const N=v.target;N!=null&&N.contains(u.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,h]),e.jsx(Kr,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:e.jsxs(rf,{"data-state":u.stateAttribute,...g,...f,ref:n,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(sR,{children:o}),e.jsx(eR,{scope:a,isInside:!0,children:e.jsx(KE,{id:u.contentId,role:"tooltip",children:i||o})})]})})});Ay.displayName=Ir;var My="TooltipArrow",nR=x.forwardRef((t,n)=>{const{__scopeTooltip:a,...o}=t,i=bc(a);return tR(My,a).isInside?null:e.jsx(of,{...i,...o,ref:n})});nR.displayName=My;function aR(t,n){const a=Math.abs(n.top-t.y),o=Math.abs(n.bottom-t.y),i=Math.abs(n.right-t.x),c=Math.abs(n.left-t.x);switch(Math.min(a,o,i,c)){case c:return"left";case i:return"right";case a:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function rR(t,n,a=5){const o=[];switch(n){case"top":o.push({x:t.x-a,y:t.y+a},{x:t.x+a,y:t.y+a});break;case"bottom":o.push({x:t.x-a,y:t.y-a},{x:t.x+a,y:t.y-a});break;case"left":o.push({x:t.x+a,y:t.y-a},{x:t.x+a,y:t.y+a});break;case"right":o.push({x:t.x-a,y:t.y-a},{x:t.x-a,y:t.y+a});break}return o}function oR(t){const{top:n,right:a,bottom:o,left:i}=t;return[{x:i,y:n},{x:a,y:n},{x:a,y:o},{x:i,y:o}]}function iR(t,n){const{x:a,y:o}=t;let i=!1;for(let c=0,d=n.length-1;c<n.length;d=c++){const f=n[c],u=n[d],g=f.x,h=f.y,p=u.x,v=u.y;h>o!=v>o&&a<(p-g)*(o-h)/(v-h)+g&&(i=!i)}return i}function lR(t){const n=t.slice();return n.sort((a,o)=>a.x<o.x?-1:a.x>o.x?1:a.y<o.y?-1:a.y>o.y?1:0),cR(n)}function cR(t){if(t.length<=1)return t.slice();const n=[];for(let o=0;o<t.length;o++){const i=t[o];for(;n.length>=2;){const c=n[n.length-1],d=n[n.length-2];if((c.x-d.x)*(i.y-d.y)>=(c.y-d.y)*(i.x-d.x))n.pop();else break}n.push(i)}n.pop();const a=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;a.length>=2;){const c=a[a.length-1],d=a[a.length-2];if((c.x-d.x)*(i.y-d.y)>=(c.y-d.y)*(i.x-d.x))a.pop();else break}a.push(i)}return a.pop(),n.length===1&&a.length===1&&n[0].x===a[0].x&&n[0].y===a[0].y?n:n.concat(a)}var dR=Ry,uR=ky,mR=Py,Dy=Ay;const Yl=dR,Jl=uR,Ql=mR,Jo=x.forwardRef(({className:t,sideOffset:n=4,...a},o)=>e.jsx(Dy,{ref:o,sideOffset:n,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));Jo.displayName=Dy.displayName;const fR="sidebar:state",pR=3600*24*7,hR="16rem",xR="18rem",gR="3rem",vR="b",Oy=x.createContext(null);function Cc(){const t=x.useContext(Oy);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const $y=x.forwardRef(({defaultOpen:t=!0,open:n,onOpenChange:a,className:o,style:i,children:c,...d},f)=>{const u=GC(),[g,h]=x.useState(!1),[p,v]=x.useState(t),N=n??p,w=x.useCallback(S=>{const E=typeof S=="function"?S(N):S;a?a(E):v(E),document.cookie=`${fR}=${E}; path=/; max-age=${pR}`},[a,N]),y=x.useCallback(()=>u?h(S=>!S):w(S=>!S),[u,w,h]);x.useEffect(()=>{const S=E=>{E.key===vR&&(E.metaKey||E.ctrlKey)&&(E.preventDefault(),y())};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[y]);const b=N?"expanded":"collapsed",_=x.useMemo(()=>({state:b,open:N,setOpen:w,isMobile:u,openMobile:g,setOpenMobile:h,toggleSidebar:y}),[b,N,w,u,g,h,y]);return e.jsx(Oy.Provider,{value:_,children:e.jsx(Yl,{delayDuration:0,children:e.jsx("div",{style:{"--sidebar-width":hR,"--sidebar-width-icon":gR,...i},className:we("group/sidebar-wrapper flex min-h-svh w-full bg-background",o),ref:f,...d,children:c})})})});$y.displayName="SidebarProvider";const Ly=x.forwardRef(({side:t="left",variant:n="sidebar",collapsible:a="offcanvas",className:o,children:i,...c},d)=>{const{isMobile:f,state:u,openMobile:g,setOpenMobile:h}=Cc();return a==="none"?e.jsx("div",{className:we("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",o),ref:d,...c,children:i}):f?e.jsx(N_,{open:g,onOpenChange:h,...c,children:e.jsx(ay,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":xR},side:t,children:e.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):e.jsxs("div",{ref:d,className:"group peer hidden md:block text-sidebar-foreground","data-state":u,"data-collapsible":u==="collapsed"?a:"","data-variant":n,"data-side":t,children:[e.jsx("div",{className:we("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",n==="floating"||n==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),e.jsx("div",{className:we("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",n==="floating"||n==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",o),...c,children:e.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});Ly.displayName="Sidebar";const Iy=x.forwardRef(({className:t,onClick:n,...a},o)=>{const{toggleSidebar:i}=Cc();return e.jsxs(ne,{ref:o,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:we("h-7 w-7",t),onClick:c=>{n==null||n(c),i()},...a,children:[e.jsx(VC,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Iy.displayName="SidebarTrigger";const yR=x.forwardRef(({className:t,...n},a)=>{const{toggleSidebar:o}=Cc();return e.jsx("button",{ref:a,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:o,title:"Toggle Sidebar",className:we("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...n})});yR.displayName="SidebarRail";const Fy=x.forwardRef(({className:t,...n},a)=>e.jsx("main",{ref:a,className:we("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...n}));Fy.displayName="SidebarInset";const jR=x.forwardRef(({className:t,...n},a)=>e.jsx(fe,{ref:a,"data-sidebar":"input",className:we("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...n}));jR.displayName="SidebarInput";const zy=x.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,"data-sidebar":"header",className:we("flex flex-col gap-2 p-2",t),...n}));zy.displayName="SidebarHeader";const By=x.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,"data-sidebar":"footer",className:we("flex flex-col gap-2 p-2",t),...n}));By.displayName="SidebarFooter";const wR=x.forwardRef(({className:t,...n},a)=>e.jsx(tn,{ref:a,"data-sidebar":"separator",className:we("mx-2 w-auto bg-sidebar-border",t),...n}));wR.displayName="SidebarSeparator";const Uy=x.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,"data-sidebar":"content",className:we("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...n}));Uy.displayName="SidebarContent";const fm=x.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,"data-sidebar":"group",className:we("relative flex w-full min-w-0 flex-col p-2",t),...n}));fm.displayName="SidebarGroup";const pm=x.forwardRef(({className:t,asChild:n=!1,...a},o)=>{const i=n?qr:"div";return e.jsx(i,{ref:o,"data-sidebar":"group-label",className:we("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...a})});pm.displayName="SidebarGroupLabel";const NR=x.forwardRef(({className:t,asChild:n=!1,...a},o)=>{const i=n?qr:"button";return e.jsx(i,{ref:o,"data-sidebar":"group-action",className:we("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...a})});NR.displayName="SidebarGroupAction";const hm=x.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,"data-sidebar":"group-content",className:we("w-full text-sm",t),...n}));hm.displayName="SidebarGroupContent";const xm=x.forwardRef(({className:t,...n},a)=>e.jsx("ul",{ref:a,"data-sidebar":"menu",className:we("flex w-full min-w-0 flex-col gap-1",t),...n}));xm.displayName="SidebarMenu";const gm=x.forwardRef(({className:t,...n},a)=>e.jsx("li",{ref:a,"data-sidebar":"menu-item",className:we("group/menu-item relative",t),...n}));gm.displayName="SidebarMenuItem";const bR=cc("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),vm=x.forwardRef(({asChild:t=!1,isActive:n=!1,variant:a="default",size:o="default",tooltip:i,className:c,...d},f)=>{const u=t?qr:"button",{isMobile:g,state:h}=Cc(),p=e.jsx(u,{ref:f,"data-sidebar":"menu-button","data-size":o,"data-active":n,className:we(bR({variant:a,size:o}),c),...d});return i?(typeof i=="string"&&(i={children:i}),e.jsxs(Jl,{children:[e.jsx(Ql,{asChild:!0,children:p}),e.jsx(Jo,{side:"right",align:"center",hidden:h!=="collapsed"||g,...i})]})):p});vm.displayName="SidebarMenuButton";const SR=x.forwardRef(({className:t,asChild:n=!1,showOnHover:a=!1,...o},i)=>{const c=n?qr:"button";return e.jsx(c,{ref:i,"data-sidebar":"menu-action",className:we("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",a&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...o})});SR.displayName="SidebarMenuAction";const CR=x.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,"data-sidebar":"menu-badge",className:we("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...n}));CR.displayName="SidebarMenuBadge";const _R=x.forwardRef(({className:t,showIcon:n=!1,...a},o)=>{const i=x.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return e.jsxs("div",{ref:o,"data-sidebar":"menu-skeleton",className:we("rounded-md h-8 flex gap-2 px-2 items-center",t),...a,children:[n&&e.jsx(ht,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),e.jsx(ht,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});_R.displayName="SidebarMenuSkeleton";const ER=x.forwardRef(({className:t,...n},a)=>e.jsx("ul",{ref:a,"data-sidebar":"menu-sub",className:we("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...n}));ER.displayName="SidebarMenuSub";const RR=x.forwardRef(({...t},n)=>e.jsx("li",{ref:n,...t}));RR.displayName="SidebarMenuSubItem";const kR=x.forwardRef(({asChild:t=!1,size:n="md",isActive:a,className:o,...i},c)=>{const d=t?qr:"a";return e.jsx(d,{ref:c,"data-sidebar":"menu-sub-button","data-size":n,"data-active":a,className:we("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",n==="sm"&&"text-xs",n==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",o),...i})});kR.displayName="SidebarMenuSubButton";const PR={theme:"system",setTheme:()=>null},Vy=x.createContext(PR);function AR({children:t,defaultTheme:n="system",storageKey:a="vite-ui-theme",...o}){const[i,c]=x.useState(()=>(typeof window<"u"?localStorage.getItem(a):null)||n);x.useEffect(()=>{const f=window.document.documentElement;if(f.classList.remove("light","dark"),i==="system"){const u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";f.classList.add(u);return}f.classList.add(i)},[i]);const d={theme:i,setTheme:f=>{localStorage.setItem(a,f),c(f)}};return e.jsx(Vy.Provider,{...o,value:d,children:t})}const Hy=()=>{const t=x.useContext(Vy);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function _c(t){const n=t+"CollectionProvider",[a,o]=Mn(n),[i,c]=a(n,{collectionRef:{current:null},itemMap:new Map}),d=y=>{const{scope:b,children:_}=y,S=wa.useRef(null),E=wa.useRef(new Map).current;return e.jsx(i,{scope:b,itemMap:E,collectionRef:S,children:_})};d.displayName=n;const f=t+"CollectionSlot",u=Za(f),g=wa.forwardRef((y,b)=>{const{scope:_,children:S}=y,E=c(f,_),k=Et(b,E.collectionRef);return e.jsx(u,{ref:k,children:S})});g.displayName=f;const h=t+"CollectionItemSlot",p="data-radix-collection-item",v=Za(h),N=wa.forwardRef((y,b)=>{const{scope:_,children:S,...E}=y,k=wa.useRef(null),T=Et(b,k),P=c(h,_);return wa.useEffect(()=>(P.itemMap.set(k,{ref:k,...E}),()=>void P.itemMap.delete(k))),e.jsx(v,{[p]:"",ref:T,children:S})});N.displayName=h;function w(y){const b=c(t+"CollectionConsumer",y);return wa.useCallback(()=>{const S=b.collectionRef.current;if(!S)return[];const E=Array.from(S.querySelectorAll(`[${p}]`));return Array.from(b.itemMap.values()).sort((P,A)=>E.indexOf(P.ref.current)-E.indexOf(A.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:d,Slot:g,ItemSlot:N},w,o]}var TR=x.createContext(void 0);function cf(t){const n=x.useContext(TR);return t||n||"ltr"}var Fu="rovingFocusGroup.onEntryFocus",MR={bubbles:!1,cancelable:!0},ii="RovingFocusGroup",[ym,qy,DR]=_c(ii),[OR,Wy]=Mn(ii,[DR]),[$R,LR]=OR(ii),Ky=x.forwardRef((t,n)=>e.jsx(ym.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(ym.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(IR,{...t,ref:n})})}));Ky.displayName=ii;var IR=x.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:a,orientation:o,loop:i=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:u,onEntryFocus:g,preventScrollOnEntryFocus:h=!1,...p}=t,v=x.useRef(null),N=Et(n,v),w=cf(c),[y,b]=er({prop:d,defaultProp:f??null,onChange:u,caller:ii}),[_,S]=x.useState(!1),E=As(g),k=qy(a),T=x.useRef(!1),[P,A]=x.useState(0);return x.useEffect(()=>{const R=v.current;if(R)return R.addEventListener(Fu,E),()=>R.removeEventListener(Fu,E)},[E]),e.jsx($R,{scope:a,orientation:o,dir:w,loop:i,currentTabStopId:y,onItemFocus:x.useCallback(R=>b(R),[b]),onItemShiftTab:x.useCallback(()=>S(!0),[]),onFocusableItemAdd:x.useCallback(()=>A(R=>R+1),[]),onFocusableItemRemove:x.useCallback(()=>A(R=>R-1),[]),children:e.jsx(Xe.div,{tabIndex:_||P===0?-1:0,"data-orientation":o,...p,ref:N,style:{outline:"none",...t.style},onMouseDown:Te(t.onMouseDown,()=>{T.current=!0}),onFocus:Te(t.onFocus,R=>{const $=!T.current;if(R.target===R.currentTarget&&$&&!_){const O=new CustomEvent(Fu,MR);if(R.currentTarget.dispatchEvent(O),!O.defaultPrevented){const I=k().filter(M=>M.focusable),V=I.find(M=>M.active),J=I.find(M=>M.id===y),K=[V,J,...I].filter(Boolean).map(M=>M.ref.current);Jy(K,h)}}T.current=!1}),onBlur:Te(t.onBlur,()=>S(!1))})})}),Gy="RovingFocusGroupItem",Yy=x.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:a,focusable:o=!0,active:i=!1,tabStopId:c,children:d,...f}=t,u=kn(),g=c||u,h=LR(Gy,a),p=h.currentTabStopId===g,v=qy(a),{onFocusableItemAdd:N,onFocusableItemRemove:w,currentTabStopId:y}=h;return x.useEffect(()=>{if(o)return N(),()=>w()},[o,N,w]),e.jsx(ym.ItemSlot,{scope:a,id:g,focusable:o,active:i,children:e.jsx(Xe.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...f,ref:n,onMouseDown:Te(t.onMouseDown,b=>{o?h.onItemFocus(g):b.preventDefault()}),onFocus:Te(t.onFocus,()=>h.onItemFocus(g)),onKeyDown:Te(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const _=BR(b,h.orientation,h.dir);if(_!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let E=v().filter(k=>k.focusable).map(k=>k.ref.current);if(_==="last")E.reverse();else if(_==="prev"||_==="next"){_==="prev"&&E.reverse();const k=E.indexOf(b.currentTarget);E=h.loop?UR(E,k+1):E.slice(k+1)}setTimeout(()=>Jy(E))}}),children:typeof d=="function"?d({isCurrentTabStop:p,hasTabStop:y!=null}):d})})});Yy.displayName=Gy;var FR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zR(t,n){return n!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function BR(t,n,a){const o=zR(t.key,a);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return FR[o]}function Jy(t,n=!1){const a=document.activeElement;for(const o of t)if(o===a||(o.focus({preventScroll:n}),document.activeElement!==a))return}function UR(t,n){return t.map((a,o)=>t[(n+o)%t.length])}var VR=Ky,HR=Yy,jm=["Enter"," "],qR=["ArrowDown","PageUp","Home"],Qy=["ArrowUp","PageDown","End"],WR=[...qR,...Qy],KR={ltr:[...jm,"ArrowRight"],rtl:[...jm,"ArrowLeft"]},GR={ltr:["ArrowLeft"],rtl:["ArrowRight"]},li="Menu",[Qo,YR,JR]=_c(li),[rr,Xy]=Mn(li,[JR,Jr,Wy]),Ec=Jr(),Zy=Wy(),[QR,or]=rr(li),[XR,ci]=rr(li),ej=t=>{const{__scopeMenu:n,open:a=!1,children:o,dir:i,onOpenChange:c,modal:d=!0}=t,f=Ec(n),[u,g]=x.useState(null),h=x.useRef(!1),p=As(c),v=cf(i);return x.useEffect(()=>{const N=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",N,{capture:!0}),()=>{document.removeEventListener("keydown",N,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),e.jsx(nf,{...f,children:e.jsx(QR,{scope:n,open:a,onOpenChange:p,content:u,onContentChange:g,children:e.jsx(XR,{scope:n,onClose:x.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:h,dir:v,modal:d,children:o})})})};ej.displayName=li;var ZR="MenuAnchor",df=x.forwardRef((t,n)=>{const{__scopeMenu:a,...o}=t,i=Ec(a);return e.jsx(af,{...i,...o,ref:n})});df.displayName=ZR;var uf="MenuPortal",[ek,tj]=rr(uf,{forceMount:void 0}),sj=t=>{const{__scopeMenu:n,forceMount:a,children:o,container:i}=t,c=or(uf,n);return e.jsx(ek,{scope:n,forceMount:a,children:e.jsx(Dn,{present:a||c.open,children:e.jsx(ri,{asChild:!0,container:i,children:o})})})};sj.displayName=uf;var sn="MenuContent",[tk,mf]=rr(sn),nj=x.forwardRef((t,n)=>{const a=tj(sn,t.__scopeMenu),{forceMount:o=a.forceMount,...i}=t,c=or(sn,t.__scopeMenu),d=ci(sn,t.__scopeMenu);return e.jsx(Qo.Provider,{scope:t.__scopeMenu,children:e.jsx(Dn,{present:o||c.open,children:e.jsx(Qo.Slot,{scope:t.__scopeMenu,children:d.modal?e.jsx(sk,{...i,ref:n}):e.jsx(nk,{...i,ref:n})})})})}),sk=x.forwardRef((t,n)=>{const a=or(sn,t.__scopeMenu),o=x.useRef(null),i=Et(n,o);return x.useEffect(()=>{const c=o.current;if(c)return Hm(c)},[]),e.jsx(ff,{...t,ref:i,trapFocus:a.open,disableOutsidePointerEvents:a.open,disableOutsideScroll:!0,onFocusOutside:Te(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>a.onOpenChange(!1)})}),nk=x.forwardRef((t,n)=>{const a=or(sn,t.__scopeMenu);return e.jsx(ff,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>a.onOpenChange(!1)})}),ak=Za("MenuContent.ScrollLock"),ff=x.forwardRef((t,n)=>{const{__scopeMenu:a,loop:o=!1,trapFocus:i,onOpenAutoFocus:c,onCloseAutoFocus:d,disableOutsidePointerEvents:f,onEntryFocus:u,onEscapeKeyDown:g,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:v,onDismiss:N,disableOutsideScroll:w,...y}=t,b=or(sn,a),_=ci(sn,a),S=Ec(a),E=Zy(a),k=YR(a),[T,P]=x.useState(null),A=x.useRef(null),R=Et(n,A,b.onContentChange),$=x.useRef(0),O=x.useRef(""),I=x.useRef(0),V=x.useRef(null),J=x.useRef("right"),F=x.useRef(0),K=w?mc:x.Fragment,M=w?{as:ak,allowPinchZoom:!0}:void 0,W=X=>{var Z,ae;const ee=O.current+X,L=k().filter(xe=>!xe.disabled),q=document.activeElement,te=(Z=L.find(xe=>xe.ref.current===q))==null?void 0:Z.textValue,B=L.map(xe=>xe.textValue),z=xk(B,ee,te),G=(ae=L.find(xe=>xe.textValue===z))==null?void 0:ae.ref.current;(function xe(ve){O.current=ve,window.clearTimeout($.current),ve!==""&&($.current=window.setTimeout(()=>xe(""),1e3))})(ee),G&&setTimeout(()=>G.focus())};x.useEffect(()=>()=>window.clearTimeout($.current),[]),Vm();const U=x.useCallback(X=>{var L,q;return J.current===((L=V.current)==null?void 0:L.side)&&vk(X,(q=V.current)==null?void 0:q.area)},[]);return e.jsx(tk,{scope:a,searchRef:O,onItemEnter:x.useCallback(X=>{U(X)&&X.preventDefault()},[U]),onItemLeave:x.useCallback(X=>{var ee;U(X)||((ee=A.current)==null||ee.focus(),P(null))},[U]),onTriggerLeave:x.useCallback(X=>{U(X)&&X.preventDefault()},[U]),pointerGraceTimerRef:I,onPointerGraceIntentChange:x.useCallback(X=>{V.current=X},[]),children:e.jsx(K,{...M,children:e.jsx(dc,{asChild:!0,trapped:i,onMountAutoFocus:Te(c,X=>{var ee;X.preventDefault(),(ee=A.current)==null||ee.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:e.jsx(Kr,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:g,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:v,onDismiss:N,children:e.jsx(VR,{asChild:!0,...E,dir:_.dir,orientation:"vertical",loop:o,currentTabStopId:T,onCurrentTabStopIdChange:P,onEntryFocus:Te(u,X=>{_.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(rf,{role:"menu","aria-orientation":"vertical","data-state":yj(b.open),"data-radix-menu-content":"",dir:_.dir,...S,...y,ref:R,style:{outline:"none",...y.style},onKeyDown:Te(y.onKeyDown,X=>{const L=X.target.closest("[data-radix-menu-content]")===X.currentTarget,q=X.ctrlKey||X.altKey||X.metaKey,te=X.key.length===1;L&&(X.key==="Tab"&&X.preventDefault(),!q&&te&&W(X.key));const B=A.current;if(X.target!==B||!WR.includes(X.key))return;X.preventDefault();const G=k().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);Qy.includes(X.key)&&G.reverse(),pk(G)}),onBlur:Te(t.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout($.current),O.current="")}),onPointerMove:Te(t.onPointerMove,Xo(X=>{const ee=X.target,L=F.current!==X.clientX;if(X.currentTarget.contains(ee)&&L){const q=X.clientX>F.current?"right":"left";J.current=q,F.current=X.clientX}}))})})})})})})});nj.displayName=sn;var rk="MenuGroup",pf=x.forwardRef((t,n)=>{const{__scopeMenu:a,...o}=t;return e.jsx(Xe.div,{role:"group",...o,ref:n})});pf.displayName=rk;var ok="MenuLabel",aj=x.forwardRef((t,n)=>{const{__scopeMenu:a,...o}=t;return e.jsx(Xe.div,{...o,ref:n})});aj.displayName=ok;var Xl="MenuItem",ug="menu.itemSelect",Rc=x.forwardRef((t,n)=>{const{disabled:a=!1,onSelect:o,...i}=t,c=x.useRef(null),d=ci(Xl,t.__scopeMenu),f=mf(Xl,t.__scopeMenu),u=Et(n,c),g=x.useRef(!1),h=()=>{const p=c.current;if(!a&&p){const v=new CustomEvent(ug,{bubbles:!0,cancelable:!0});p.addEventListener(ug,N=>o==null?void 0:o(N),{once:!0}),Um(p,v),v.defaultPrevented?g.current=!1:d.onClose()}};return e.jsx(rj,{...i,ref:u,disabled:a,onClick:Te(t.onClick,h),onPointerDown:p=>{var v;(v=t.onPointerDown)==null||v.call(t,p),g.current=!0},onPointerUp:Te(t.onPointerUp,p=>{var v;g.current||(v=p.currentTarget)==null||v.click()}),onKeyDown:Te(t.onKeyDown,p=>{const v=f.searchRef.current!=="";a||v&&p.key===" "||jm.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Rc.displayName=Xl;var rj=x.forwardRef((t,n)=>{const{__scopeMenu:a,disabled:o=!1,textValue:i,...c}=t,d=mf(Xl,a),f=Zy(a),u=x.useRef(null),g=Et(n,u),[h,p]=x.useState(!1),[v,N]=x.useState("");return x.useEffect(()=>{const w=u.current;w&&N((w.textContent??"").trim())},[c.children]),e.jsx(Qo.ItemSlot,{scope:a,disabled:o,textValue:i??v,children:e.jsx(HR,{asChild:!0,...f,focusable:!o,children:e.jsx(Xe.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...c,ref:g,onPointerMove:Te(t.onPointerMove,Xo(w=>{o?d.onItemLeave(w):(d.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Te(t.onPointerLeave,Xo(w=>d.onItemLeave(w))),onFocus:Te(t.onFocus,()=>p(!0)),onBlur:Te(t.onBlur,()=>p(!1))})})})}),ik="MenuCheckboxItem",oj=x.forwardRef((t,n)=>{const{checked:a=!1,onCheckedChange:o,...i}=t;return e.jsx(uj,{scope:t.__scopeMenu,checked:a,children:e.jsx(Rc,{role:"menuitemcheckbox","aria-checked":Zl(a)?"mixed":a,...i,ref:n,"data-state":xf(a),onSelect:Te(i.onSelect,()=>o==null?void 0:o(Zl(a)?!0:!a),{checkForDefaultPrevented:!1})})})});oj.displayName=ik;var ij="MenuRadioGroup",[lk,ck]=rr(ij,{value:void 0,onValueChange:()=>{}}),lj=x.forwardRef((t,n)=>{const{value:a,onValueChange:o,...i}=t,c=As(o);return e.jsx(lk,{scope:t.__scopeMenu,value:a,onValueChange:c,children:e.jsx(pf,{...i,ref:n})})});lj.displayName=ij;var cj="MenuRadioItem",dj=x.forwardRef((t,n)=>{const{value:a,...o}=t,i=ck(cj,t.__scopeMenu),c=a===i.value;return e.jsx(uj,{scope:t.__scopeMenu,checked:c,children:e.jsx(Rc,{role:"menuitemradio","aria-checked":c,...o,ref:n,"data-state":xf(c),onSelect:Te(o.onSelect,()=>{var d;return(d=i.onValueChange)==null?void 0:d.call(i,a)},{checkForDefaultPrevented:!1})})})});dj.displayName=cj;var hf="MenuItemIndicator",[uj,dk]=rr(hf,{checked:!1}),mj=x.forwardRef((t,n)=>{const{__scopeMenu:a,forceMount:o,...i}=t,c=dk(hf,a);return e.jsx(Dn,{present:o||Zl(c.checked)||c.checked===!0,children:e.jsx(Xe.span,{...i,ref:n,"data-state":xf(c.checked)})})});mj.displayName=hf;var uk="MenuSeparator",fj=x.forwardRef((t,n)=>{const{__scopeMenu:a,...o}=t;return e.jsx(Xe.div,{role:"separator","aria-orientation":"horizontal",...o,ref:n})});fj.displayName=uk;var mk="MenuArrow",pj=x.forwardRef((t,n)=>{const{__scopeMenu:a,...o}=t,i=Ec(a);return e.jsx(of,{...i,...o,ref:n})});pj.displayName=mk;var fk="MenuSub",[yT,hj]=rr(fk),Fo="MenuSubTrigger",xj=x.forwardRef((t,n)=>{const a=or(Fo,t.__scopeMenu),o=ci(Fo,t.__scopeMenu),i=hj(Fo,t.__scopeMenu),c=mf(Fo,t.__scopeMenu),d=x.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:u}=c,g={__scopeMenu:t.__scopeMenu},h=x.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return x.useEffect(()=>h,[h]),x.useEffect(()=>{const p=f.current;return()=>{window.clearTimeout(p),u(null)}},[f,u]),e.jsx(df,{asChild:!0,...g,children:e.jsx(rj,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":i.contentId,"data-state":yj(a.open),...t,ref:lc(n,i.onTriggerChange),onClick:p=>{var v;(v=t.onClick)==null||v.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),a.open||a.onOpenChange(!0))},onPointerMove:Te(t.onPointerMove,Xo(p=>{c.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!a.open&&!d.current&&(c.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{a.onOpenChange(!0),h()},100))})),onPointerLeave:Te(t.onPointerLeave,Xo(p=>{var N,w;h();const v=(N=a.content)==null?void 0:N.getBoundingClientRect();if(v){const y=(w=a.content)==null?void 0:w.dataset.side,b=y==="right",_=b?-5:5,S=v[b?"left":"right"],E=v[b?"right":"left"];c.onPointerGraceIntentChange({area:[{x:p.clientX+_,y:p.clientY},{x:S,y:v.top},{x:E,y:v.top},{x:E,y:v.bottom},{x:S,y:v.bottom}],side:y}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(p),p.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:Te(t.onKeyDown,p=>{var N;const v=c.searchRef.current!=="";t.disabled||v&&p.key===" "||KR[o.dir].includes(p.key)&&(a.onOpenChange(!0),(N=a.content)==null||N.focus(),p.preventDefault())})})})});xj.displayName=Fo;var gj="MenuSubContent",vj=x.forwardRef((t,n)=>{const a=tj(sn,t.__scopeMenu),{forceMount:o=a.forceMount,...i}=t,c=or(sn,t.__scopeMenu),d=ci(sn,t.__scopeMenu),f=hj(gj,t.__scopeMenu),u=x.useRef(null),g=Et(n,u);return e.jsx(Qo.Provider,{scope:t.__scopeMenu,children:e.jsx(Dn,{present:o||c.open,children:e.jsx(Qo.Slot,{scope:t.__scopeMenu,children:e.jsx(ff,{id:f.contentId,"aria-labelledby":f.triggerId,...i,ref:g,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var p;d.isUsingKeyboardRef.current&&((p=u.current)==null||p.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Te(t.onFocusOutside,h=>{h.target!==f.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:Te(t.onEscapeKeyDown,h=>{d.onClose(),h.preventDefault()}),onKeyDown:Te(t.onKeyDown,h=>{var N;const p=h.currentTarget.contains(h.target),v=GR[d.dir].includes(h.key);p&&v&&(c.onOpenChange(!1),(N=f.trigger)==null||N.focus(),h.preventDefault())})})})})})});vj.displayName=gj;function yj(t){return t?"open":"closed"}function Zl(t){return t==="indeterminate"}function xf(t){return Zl(t)?"indeterminate":t?"checked":"unchecked"}function pk(t){const n=document.activeElement;for(const a of t)if(a===n||(a.focus(),document.activeElement!==n))return}function hk(t,n){return t.map((a,o)=>t[(n+o)%t.length])}function xk(t,n,a){const i=n.length>1&&Array.from(n).every(g=>g===n[0])?n[0]:n,c=a?t.indexOf(a):-1;let d=hk(t,Math.max(c,0));i.length===1&&(d=d.filter(g=>g!==a));const u=d.find(g=>g.toLowerCase().startsWith(i.toLowerCase()));return u!==a?u:void 0}function gk(t,n){const{x:a,y:o}=t;let i=!1;for(let c=0,d=n.length-1;c<n.length;d=c++){const f=n[c],u=n[d],g=f.x,h=f.y,p=u.x,v=u.y;h>o!=v>o&&a<(p-g)*(o-h)/(v-h)+g&&(i=!i)}return i}function vk(t,n){if(!n)return!1;const a={x:t.clientX,y:t.clientY};return gk(a,n)}function Xo(t){return n=>n.pointerType==="mouse"?t(n):void 0}var yk=ej,jk=df,wk=sj,Nk=nj,bk=pf,Sk=aj,Ck=Rc,_k=oj,Ek=lj,Rk=dj,kk=mj,Pk=fj,Ak=pj,Tk=xj,Mk=vj,kc="DropdownMenu",[Dk,jT]=Mn(kc,[Xy]),Ms=Xy(),[Ok,jj]=Dk(kc),wj=t=>{const{__scopeDropdownMenu:n,children:a,dir:o,open:i,defaultOpen:c,onOpenChange:d,modal:f=!0}=t,u=Ms(n),g=x.useRef(null),[h,p]=er({prop:i,defaultProp:c??!1,onChange:d,caller:kc});return e.jsx(Ok,{scope:n,triggerId:kn(),triggerRef:g,contentId:kn(),open:h,onOpenChange:p,onOpenToggle:x.useCallback(()=>p(v=>!v),[p]),modal:f,children:e.jsx(yk,{...u,open:h,onOpenChange:p,dir:o,modal:f,children:a})})};wj.displayName=kc;var Nj="DropdownMenuTrigger",bj=x.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,disabled:o=!1,...i}=t,c=jj(Nj,a),d=Ms(a);return e.jsx(jk,{asChild:!0,...d,children:e.jsx(Xe.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...i,ref:lc(n,c.triggerRef),onPointerDown:Te(t.onPointerDown,f=>{!o&&f.button===0&&f.ctrlKey===!1&&(c.onOpenToggle(),c.open||f.preventDefault())}),onKeyDown:Te(t.onKeyDown,f=>{o||(["Enter"," "].includes(f.key)&&c.onOpenToggle(),f.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});bj.displayName=Nj;var $k="DropdownMenuPortal",Sj=t=>{const{__scopeDropdownMenu:n,...a}=t,o=Ms(n);return e.jsx(wk,{...o,...a})};Sj.displayName=$k;var Cj="DropdownMenuContent",_j=x.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=jj(Cj,a),c=Ms(a),d=x.useRef(!1);return e.jsx(Nk,{id:i.contentId,"aria-labelledby":i.triggerId,...c,...o,ref:n,onCloseAutoFocus:Te(t.onCloseAutoFocus,f=>{var u;d.current||(u=i.triggerRef.current)==null||u.focus(),d.current=!1,f.preventDefault()}),onInteractOutside:Te(t.onInteractOutside,f=>{const u=f.detail.originalEvent,g=u.button===0&&u.ctrlKey===!0,h=u.button===2||g;(!i.modal||h)&&(d.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_j.displayName=Cj;var Lk="DropdownMenuGroup",Ik=x.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=Ms(a);return e.jsx(bk,{...i,...o,ref:n})});Ik.displayName=Lk;var Fk="DropdownMenuLabel",Ej=x.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=Ms(a);return e.jsx(Sk,{...i,...o,ref:n})});Ej.displayName=Fk;var zk="DropdownMenuItem",Rj=x.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=Ms(a);return e.jsx(Ck,{...i,...o,ref:n})});Rj.displayName=zk;var Bk="DropdownMenuCheckboxItem",kj=x.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=Ms(a);return e.jsx(_k,{...i,...o,ref:n})});kj.displayName=Bk;var Uk="DropdownMenuRadioGroup",Vk=x.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=Ms(a);return e.jsx(Ek,{...i,...o,ref:n})});Vk.displayName=Uk;var Hk="DropdownMenuRadioItem",Pj=x.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=Ms(a);return e.jsx(Rk,{...i,...o,ref:n})});Pj.displayName=Hk;var qk="DropdownMenuItemIndicator",Aj=x.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=Ms(a);return e.jsx(kk,{...i,...o,ref:n})});Aj.displayName=qk;var Wk="DropdownMenuSeparator",Tj=x.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=Ms(a);return e.jsx(Pk,{...i,...o,ref:n})});Tj.displayName=Wk;var Kk="DropdownMenuArrow",Gk=x.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=Ms(a);return e.jsx(Ak,{...i,...o,ref:n})});Gk.displayName=Kk;var Yk="DropdownMenuSubTrigger",Mj=x.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=Ms(a);return e.jsx(Tk,{...i,...o,ref:n})});Mj.displayName=Yk;var Jk="DropdownMenuSubContent",Dj=x.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=Ms(a);return e.jsx(Mk,{...i,...o,ref:n,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Dj.displayName=Jk;var Qk=wj,Xk=bj,Zk=Sj,Oj=_j,$j=Ej,Lj=Rj,Ij=kj,Fj=Pj,zj=Aj,Bj=Tj,Uj=Mj,Vj=Dj;const eP=Qk,tP=Xk,sP=x.forwardRef(({className:t,inset:n,children:a,...o},i)=>e.jsxs(Uj,{ref:i,className:we("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",n&&"pl-8",t),...o,children:[a,e.jsx(pn,{className:"ml-auto h-4 w-4"})]}));sP.displayName=Uj.displayName;const nP=x.forwardRef(({className:t,...n},a)=>e.jsx(Vj,{ref:a,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));nP.displayName=Vj.displayName;const Hj=x.forwardRef(({className:t,sideOffset:n=4,...a},o)=>e.jsx(Zk,{children:e.jsx(Oj,{ref:o,sideOffset:n,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a})}));Hj.displayName=Oj.displayName;const Ll=x.forwardRef(({className:t,inset:n,...a},o)=>e.jsx(Lj,{ref:o,className:we("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n&&"pl-8",t),...a}));Ll.displayName=Lj.displayName;const aP=x.forwardRef(({className:t,children:n,checked:a,...o},i)=>e.jsxs(Ij,{ref:i,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:a,...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(zj,{children:e.jsx(gv,{className:"h-4 w-4"})})}),n]}));aP.displayName=Ij.displayName;const rP=x.forwardRef(({className:t,children:n,...a},o)=>e.jsxs(Fj,{ref:o,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(zj,{children:e.jsx(AC,{className:"h-2 w-2 fill-current"})})}),n]}));rP.displayName=Fj.displayName;const oP=x.forwardRef(({className:t,inset:n,...a},o)=>e.jsx($j,{ref:o,className:we("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",t),...a}));oP.displayName=$j.displayName;const iP=x.forwardRef(({className:t,...n},a)=>e.jsx(Bj,{ref:a,className:we("-mx-1 my-1 h-px bg-muted",t),...n}));iP.displayName=Bj.displayName;function Pc(){const{setTheme:t,theme:n}=Hy();return e.jsxs(eP,{children:[e.jsx(tP,{asChild:!0,children:e.jsxs(ne,{variant:"secondary",size:"icon",className:"relative bg-white/80 text-slate-700 border border-black/10 shadow-sm backdrop-blur hover:bg-white/90 dark:bg-slate-900/60 dark:text-slate-100 dark:border-white/10 dark:hover:bg-slate-900/70","aria-label":"Alternar tema",children:[e.jsx(Bx,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(zx,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Alternar tema"})]})}),e.jsxs(Hj,{align:"end",sideOffset:8,children:[e.jsxs(Ll,{onClick:()=>t("light"),className:"cursor-pointer",children:[e.jsx(Bx,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Claro"}),n==="light"&&e.jsx("span",{className:"ml-auto",children:"✓"})]}),e.jsxs(Ll,{onClick:()=>t("dark"),className:"cursor-pointer",children:[e.jsx(zx,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Escuro"}),n==="dark"&&e.jsx("span",{className:"ml-auto",children:"✓"})]}),e.jsxs(Ll,{onClick:()=>t("system"),className:"cursor-pointer",children:[e.jsx(UC,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Sistema"}),n==="system"&&e.jsx("span",{className:"ml-auto",children:"✓"})]})]})]})}const qj=x.forwardRef(({...t},n)=>e.jsx("nav",{ref:n,"aria-label":"breadcrumb",...t}));qj.displayName="Breadcrumb";const Wj=x.forwardRef(({className:t,...n},a)=>e.jsx("ol",{ref:a,className:we("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...n}));Wj.displayName="BreadcrumbList";const Kj=x.forwardRef(({className:t,...n},a)=>e.jsx("li",{ref:a,className:we("inline-flex items-center gap-1.5",t),...n}));Kj.displayName="BreadcrumbItem";const Gj=x.forwardRef(({asChild:t,className:n,...a},o)=>{const i=t?qr:"a";return e.jsx(i,{ref:o,className:we("hover:text-foreground transition-colors focus-visible:outline-none focus-visible:underline",n),...a})});Gj.displayName="BreadcrumbLink";const Yj=x.forwardRef(({className:t,...n},a)=>e.jsx("span",{ref:a,role:"link","aria-disabled":"true","aria-current":"page",className:we("text-foreground font-medium",t),...n}));Yj.displayName="BreadcrumbPage";const Jj=({children:t,className:n,...a})=>e.jsx("li",{role:"presentation","aria-hidden":"true",className:we("[&>svg]:size-3.5",n),...a,children:t||e.jsx(pn,{className:"h-4 w-4"})});Jj.displayName="BreadcrumbSeparator";function di({children:t,sidebar:n,breadcrumbs:a=[]}){const{activeRole:o}=_a();return e.jsxs($y,{children:[e.jsx(n,{}),e.jsxs(Fy,{children:[e.jsxs("header",{className:we("relative flex h-16 shrink-0 items-center gap-2 border-b px-6 rounded-b-xl shadow-sm backdrop-blur supports-[backdrop-filter]:backdrop-blur-md transition-all duration-300","bg-white/80 dark:bg-slate-900/70"),children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx(Iy,{className:"mr-1"}),a.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(tn,{orientation:"vertical",className:"mr-2 h-4"}),e.jsx(qj,{children:e.jsx(Wj,{children:a.map((d,f)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Kj,{className:"hidden md:block",children:d.href?e.jsx(Gj,{href:d.href,className:we("text-sm font-medium transition-colors","text-slate-800 hover:text-slate-950","dark:text-slate-200 dark:hover:text-slate-100"),children:d.label}):e.jsx(Yj,{className:we("text-sm font-semibold","text-slate-950","dark:text-slate-100"),children:d.label})}),f<a.length-1&&e.jsx(Jj,{className:we("hidden md:block","text-slate-400","dark:text-slate-300")})]},f))})})]})]}),e.jsx("div",{className:"ml-auto",children:e.jsx(Pc,{})})]}),e.jsx("main",{className:we("flex flex-1 flex-col gap-4 px-6 pt-10 pb-6 min-h-[calc(100svh-4rem)] transition-all duration-300","bg-background"),children:t})]})]})}var zu={exports:{}},Bu={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function lP(){if(mg)return Bu;mg=1;var t=tc();function n(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var a=typeof Object.is=="function"?Object.is:n,o=t.useState,i=t.useEffect,c=t.useLayoutEffect,d=t.useDebugValue;function f(p,v){var N=v(),w=o({inst:{value:N,getSnapshot:v}}),y=w[0].inst,b=w[1];return c(function(){y.value=N,y.getSnapshot=v,u(y)&&b({inst:y})},[p,N,v]),i(function(){return u(y)&&b({inst:y}),p(function(){u(y)&&b({inst:y})})},[p]),d(N),N}function u(p){var v=p.getSnapshot;p=p.value;try{var N=v();return!a(p,N)}catch{return!0}}function g(p,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:f;return Bu.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Bu}var fg;function cP(){return fg||(fg=1,zu.exports=lP()),zu.exports}var dP=cP();function uP(){return dP.useSyncExternalStore(mP,()=>!0,()=>!1)}function mP(){return()=>{}}var gf="Avatar",[fP,wT]=Mn(gf),[pP,Qj]=fP(gf),Xj=x.forwardRef((t,n)=>{const{__scopeAvatar:a,...o}=t,[i,c]=x.useState("idle");return e.jsx(pP,{scope:a,imageLoadingStatus:i,onImageLoadingStatusChange:c,children:e.jsx(Xe.span,{...o,ref:n})})});Xj.displayName=gf;var Zj="AvatarImage",e0=x.forwardRef((t,n)=>{const{__scopeAvatar:a,src:o,onLoadingStatusChange:i=()=>{},...c}=t,d=Qj(Zj,a),f=hP(o,c),u=As(g=>{i(g),d.onImageLoadingStatusChange(g)});return ls(()=>{f!=="idle"&&u(f)},[f,u]),f==="loaded"?e.jsx(Xe.img,{...c,ref:n,src:o}):null});e0.displayName=Zj;var t0="AvatarFallback",s0=x.forwardRef((t,n)=>{const{__scopeAvatar:a,delayMs:o,...i}=t,c=Qj(t0,a),[d,f]=x.useState(o===void 0);return x.useEffect(()=>{if(o!==void 0){const u=window.setTimeout(()=>f(!0),o);return()=>window.clearTimeout(u)}},[o]),d&&c.imageLoadingStatus!=="loaded"?e.jsx(Xe.span,{...i,ref:n}):null});s0.displayName=t0;function pg(t,n){return t?n?(t.src!==n&&(t.src=n),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function hP(t,{referrerPolicy:n,crossOrigin:a}){const o=uP(),i=x.useRef(null),c=o?(i.current||(i.current=new window.Image),i.current):null,[d,f]=x.useState(()=>pg(c,t));return ls(()=>{f(pg(c,t))},[c,t]),ls(()=>{const u=p=>()=>{f(p)};if(!c)return;const g=u("loaded"),h=u("error");return c.addEventListener("load",g),c.addEventListener("error",h),n&&(c.referrerPolicy=n),typeof a=="string"&&(c.crossOrigin=a),()=>{c.removeEventListener("load",g),c.removeEventListener("error",h)}},[c,a,n]),d}var n0=Xj,a0=e0,r0=s0;const Ac=x.forwardRef(({className:t,...n},a)=>e.jsx(n0,{ref:a,className:we("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...n}));Ac.displayName=n0.displayName;const vf=x.forwardRef(({className:t,...n},a)=>e.jsx(a0,{ref:a,className:we("aspect-square h-full w-full",t),...n}));vf.displayName=a0.displayName;const Tc=x.forwardRef(({className:t,...n},a)=>e.jsx(r0,{ref:a,className:we("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...n}));Tc.displayName=r0.displayName;const hg={paciente:{header:{title:"Portal Médico",subtitle:"Paciente",icon:xs},sections:[{label:"Menu Principal",items:[{label:"Perfil",path:"/paciente/perfil",icon:xs},{label:"Prontuário",path:"/paciente/prontuario",icon:Ps},{label:"Consultas",path:"/paciente/consultas",icon:rt},{label:"Exames",path:"/paciente/exames",icon:hn},{label:"Receitas",path:"/paciente/receitas",icon:hn},{label:"Histórico Médico",path:"/paciente/historico-medico",icon:jv},{label:"Médicos Vinculados",path:"/paciente/medicos",icon:ks}]},{label:"Configurações",items:[{label:"Configurações",path:"/paciente/configuracoes",icon:Io}]}]},medico:{header:{title:"Portal Médico",subtitle:"Médico",icon:Gt},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/medico/dashboard",icon:Ru},{label:"Consultas de Hoje",path:"/medico/consultas/hoje",icon:rt},{label:"Consultas",path:"/medico/minhas-consultas",icon:rt},{label:"Meus Pacientes",path:"/medico/meus-pacientes",icon:ks}]},{label:"Configurações",items:[{label:"Configurações",path:"/medico/configuracoes",icon:Io}]}]},clinica:{header:{title:"Portal Médico",subtitle:"Clínica",icon:EC},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/clinica/dashboard",icon:$C},{label:"Calendário",path:"/clinica/calendario",icon:rt},{label:"Disponibilidade",path:"/clinica/disponibilidade",icon:Ut},{label:"Exames",path:"/clinica/exames",icon:Ps},{label:"Pacientes",path:"/clinica/pacientes",icon:ks},{label:"Médicos",path:"/clinica/medicos",icon:Gt},{label:"Relatórios",path:"/clinica/relatorios",icon:Ix}]},{label:"Configurações",items:[{label:"Configurações",path:"/clinica/configuracoes",icon:Io}]}]},secretaria:{header:{title:"Portal Médico",subtitle:"Secretaria",icon:ks},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/secretaria/dashboard",icon:Ru},{label:"Consultas",path:"/secretaria/consultas",icon:rt},{label:"Pacientes",path:"/secretaria/pacientes",icon:ks},{label:"Médicos",path:"/secretaria/medicos",icon:Gt}]},{label:"Configurações",items:[{label:"Configurações",path:"/secretaria/configuracoes",icon:Io}]}]},admin:{header:{title:"Portal Médico",subtitle:"Admin",icon:Vo},sections:[{label:"Painel",items:[{label:"Dashboard",path:"/admin/dashboard",icon:Ru},{label:"Relatórios",path:"/admin/relatorios",icon:Ix},{label:"Auditoria",path:"/admin/auditoria",icon:Vo}]},{label:"Gerenciar",items:[{label:"Solicitações",path:"/admin/solicitacoes",icon:KC},{label:"Usuários",path:"/admin/usuarios",icon:ks},{label:"Clínicas",path:"/admin/clinicas",icon:Ea}]},{label:"Telas",items:[{label:"Paciente",path:"/paciente/perfil",icon:xs},{label:"Médico",path:"/medico/dashboard",icon:Gt},{label:"Clínica",path:"/clinica/dashboard",icon:Ea},{label:"Secretaria",path:"/secretaria/dashboard",icon:ks},{label:"Admin",path:"/admin/dashboard",icon:Vo}]},{label:"Configurações",items:[{label:"Configurações",path:"/admin/configuracoes",icon:Io}]}]}},Ct={async getPerfil(){const t="/users/",n=ut.getCurrentUser();if(!(n!=null&&n.id))throw new Error("Usuário não encontrado na sessão. Faça login novamente.");const a=t.endsWith("/")?t:`${t}/`;return(await le.get(`${a}${n.id}/`)).data},async atualizarPerfil(t){const n="/users/",a=ut.getCurrentUser();if(!(a!=null&&a.id))throw new Error("Usuário não encontrado na sessão. Faça login novamente.");const o=n.endsWith("/")?n:`${n}/`;return(await le.patch(`${o}${a.id}/`,t)).data},async getConsultas(t={}){var n;try{const a="/consultas/",o=await this.getPacienteDoUsuario(),i={...t};return o!=null&&o.id&&!i.paciente&&(i.paciente=o.id),!(o!=null&&o.id)&&Object.keys(i).length===0?{results:[]}:(await le.get(a,{params:i})).data}catch(a){return console.warn("[pacienteService] getConsultas falhou:",(n=a==null?void 0:a.response)==null?void 0:n.status),{results:[]}}},async getExames(t={}){var d,f,u;const n="/exames/",{__propagateErrors:a,...o}=t||{};let i=null;try{i=await Ct.getPacienteDoUsuario()}catch(g){console.debug("[pacienteService] getPacienteDoUsuario falhou, prosseguindo sem filtro de paciente",(d=g==null?void 0:g.response)==null?void 0:d.status)}const c={...o};if(i!=null&&i.id&&!c.paciente&&(c.paciente=i.id),Object.keys(c).forEach(g=>{(c[g]===void 0||c[g]===null||c[g]==="")&&delete c[g]}),!(i!=null&&i.id)&&Object.keys(c).length===0)return{results:[]};try{return console.debug("[pacienteService] GET exames",{endpoint:n,params:c}),(await le.get(n,{params:c})).data}catch(g){if(console.warn("[pacienteService] getExames falhou:",(f=g==null?void 0:g.response)==null?void 0:f.status,(u=g==null?void 0:g.response)==null?void 0:u.data),a===!0)throw g;return{results:[]}}},async getProntuario(t={}){const n="/prontuarios/",{__propagateErrors:a,...o}=t||{},i={...o};let c=!1;try{const d=await this.getPacienteDoUsuario();d!=null&&d.id&&!i.consulta__paciente&&(i.consulta__paciente=d.id,c=!0)}catch{}if(!c&&Object.keys(i).length===0)return{results:[]};try{return(await le.get(n,{params:i})).data}catch(d){if(a===!0)throw d;return{results:[]}}},async getMedicos(t={}){return(await le.get("/medicos/",{params:t})).data},async getMedicoById(t){const n="/medicos/",a=n.endsWith("/")?n:`${n}/`;return(await le.get(`${a}${t}/`)).data},async agendarConsulta({medico:t,data:n,hora:a,modalidade:o,local:i,observacoes:c,tipo:d,motivo:f}){const u="/consultas/",g=u.endsWith("/")?u:`${u}/`,h=await this.getPacienteDoUsuario();if(!(h!=null&&h.id))throw new Error("Não foi possível identificar o paciente autenticado.");const p=(y,b)=>{if(!y||!b)return null;const _=new Date(`${y}T${b}`);return isNaN(_)?null:_.toISOString()},v=y=>{const b={primeira:"primeira_consulta",primeira_consulta:"primeira_consulta",retorno:"retorno",urgencia:"urgencia",rotina:"rotina"},_=String(y||"").toLowerCase();return b[_]||"primeira_consulta"},N={paciente:h.id,medico:t,data_hora:p(n,a)||n||null,tipo:v(d),motivo:f,observacoes:c||void 0,duracao_minutos:30};return Object.keys(N).forEach(y=>{(N[y]===null||N[y]===void 0||N[y]==="")&&delete N[y]}),(await le.post(g,N)).data},async getAgendaMedico({medico:t,date:n,apenas_disponiveis:a=!0}){const o="/agendamentos/",i={medico:t,medico_id:t,date:n,data:n,...a?{apenas_disponiveis:1}:{}};return(await le.get(o,{params:i})).data},async getPacienteDoUsuario(){var i,c,d;const t="/pacientes/",n=t.endsWith("/")?t:`${t}/`;try{return(await le.get(`${n}me/`)).data}catch(f){console.warn("[pacienteService] GET /pacientes/me/ falhou:",(i=f==null?void 0:f.response)==null?void 0:i.status)}const a=ut.getCurrentUser();if(!(a!=null&&a.id))return null;const o=["user","user__id","user_id"];for(const f of o)try{const u=await le.get(n,{params:{[f]:a.id}}),g=Array.isArray((c=u.data)==null?void 0:c.results)?u.data.results:u.data;if(Array.isArray(g)&&g.length)return g[0]||null}catch(u){console.debug(`[pacienteService] Filtro ?${f}= falhou:`,(d=u==null?void 0:u.response)==null?void 0:d.status)}return null},async atualizarPaciente(t){var d,f,u,g,h,p,v,N,w,y,b,_;const n="/pacientes/",a=n.endsWith("/")?n:`${n}/`,o=S=>Array.isArray(S)?S.map(E=>String(E).trim()).filter(Boolean).join(", "):typeof S=="string"?S.trim():S==null?"":String(S),i=S=>{if(S==null||S==="")return;typeof S=="string"&&(S=S.replace(",",".").trim());const E=Number(S);return Number.isFinite(E)?E:void 0},c={};if("tipo_sanguineo"in t&&(c.tipo_sanguineo=t.tipo_sanguineo),"alergias"in t&&(c.alergias=o(t.alergias)),"condicoes_cronicas"in t&&(c.condicoes_cronicas=o(t.condicoes_cronicas)),"peso"in t){const S=i(t.peso);S!==void 0&&(c.peso=S)}if("altura"in t){const S=i(t.altura);S!==void 0&&(c.altura=S)}"contato_emergencia_nome"in t&&(c.contato_emergencia_nome=((f=(d=t.contato_emergencia_nome)==null?void 0:d.trim)==null?void 0:f.call(d))||""),"contato_emergencia_telefone"in t&&(c.contato_emergencia_telefone=((g=(u=t.contato_emergencia_telefone)==null?void 0:u.trim)==null?void 0:g.call(u))||""),"plano_saude"in t&&(c.plano_saude=((p=(h=t.plano_saude)==null?void 0:h.trim)==null?void 0:p.call(h))||""),"numero_carteirinha"in t&&(c.numero_carteirinha=((N=(v=t.numero_carteirinha)==null?void 0:v.trim)==null?void 0:N.call(v))||""),"endereco"in t&&(c.endereco=((y=(w=t.endereco)==null?void 0:w.trim)==null?void 0:y.call(w))||""),"telefone"in t&&(c.telefone=((_=(b=t.telefone)==null?void 0:b.trim)==null?void 0:_.call(b))||""),"data_nascimento"in t&&(c.data_nascimento=t.data_nascimento),Object.keys(c).forEach(S=>{c[S]===void 0&&delete c[S]});try{return console.debug("[pacienteService] PATCH /pacientes/me/ payload:",c),(await le.patch(`${a}me/`,c)).data}catch{const E=await this.getPacienteDoUsuario();if(!(E!=null&&E.id))throw new Error("Paciente não identificado para atualização.");return console.debug(`[pacienteService] PATCH /pacientes/${E.id}/ payload:`,c),(await le.patch(`${a}${E.id}/`,c)).data}},async getReceitas(t={}){const n="/receitas/",a=n.endsWith("/")?n:`${n}/`,{__propagateErrors:o,...i}=t||{},c={...i};let d=null,f=!1;try{const S=await this.getPacienteDoUsuario();S!=null&&S.id&&(d=S.id,c.paciente||(c.paciente=S.id),c.paciente_id||(c.paciente_id=S.id),f=!0)}catch{}if(!f&&Object.keys(c).length===0)return{results:[]};const u=async(S,E)=>{var k;try{const T=await le.get(S,E?{params:E}:void 0),P=T==null?void 0:T.data;return{ok:!0,data:(Array.isArray(P)?P:Array.isArray(P==null?void 0:P.results)?P.results:null)!=null?P:{results:[]}}}catch(T){const P=(k=T==null?void 0:T.response)==null?void 0:k.status;if(o===!0&&![400,404,405,500].includes(P))throw T;return{ok:!1,err:T}}},g=[];d&&(g.push(()=>u(a,{paciente:d})),g.push(()=>u(a,{paciente_id:d})));const h={...c};delete h.consulta__paciente,g.push(()=>u(a,h));let p=null;for(const S of g){const E=await S();if(E.ok){p=E.data;break}}if(!p){const S=await u(a);if(S.ok){p=S.data;const E=Array.isArray(p)?p:Array.isArray(p==null?void 0:p.results)?p.results:[],k=d?E.filter(T=>{var P,A;return String(T.paciente_id||T.paciente||((P=T==null?void 0:T.consulta)==null?void 0:P.paciente)||((A=T==null?void 0:T.consulta)==null?void 0:A.paciente_id)||"")===String(d)}):E;p=Array.isArray(p)?k:{results:k}}else p={results:[]}}let v=[];try{const S=JSON.parse(localStorage.getItem("mock_receitas")||"[]");if(Array.isArray(S)){const E=c.consulta__paciente||c.paciente||c.paciente_id||d;v=E?S.filter(k=>{var T;return String(k.paciente_id||((T=k.consulta)==null?void 0:T.paciente_id)||"")===String(E)}):S}}catch{}const N=Array.isArray(p)?p:Array.isArray(p==null?void 0:p.results)?p.results:[],w=new Map;[...N,...v].forEach(S=>{if(!S)return;const E=S.id??`${S.created_at}-${S.medicamentos}`;w.has(E)||w.set(E,S)});const y=Array.from(w.values()),b=S=>{if(!S||/^https?:\/\//i.test(S)||/^(data|blob):/i.test(S))return S;const E="http://127.0.0.1:8000".replace(/\/$/,""),k=S.startsWith("/")?S:`/${S}`;return`${E}${k}`};return{results:y.map(S=>{var k;const E=S.arquivo_assinado||S.arquivoAssinado||((k=S==null?void 0:S.arquivo)==null?void 0:k.url)||(S==null?void 0:S.pdf_url)||(S==null?void 0:S.download_url);return E&&!S.arquivo_assinado?{...S,arquivo_assinado:b(E)}:S.arquivo_assinado?{...S,arquivo_assinado:b(S.arquivo_assinado)}:S})}},async getMedicosVinculados(){const t="/pacientes/",n=t.endsWith("/")?t:`${t}/`,a=await this.getPacienteDoUsuario();if(!(a!=null&&a.id))return[];const o=await le.get(`${n}${a.id}/medicos/`);return Array.isArray(o.data)?o.data:[]},async solicitarReceita({medico:t,mensagem:n}){const a="/pacientes/",o=a.endsWith("/")?a:`${a}/`,i=await this.getPacienteDoUsuario();if(!(i!=null&&i.id))throw new Error("Paciente não identificado.");const c={medico:t,...n?{mensagem:n}:{}};return(await le.post(`${o}${i.id}/solicitar_receita/`,c)).data},async getMedicos(t={}){return(await le.get("/medicos/",{params:t})).data},async getDashboard(){var t;try{const n=new Date,a=new Date(n.getFullYear(),n.getMonth(),1),o=new Date(n.getFullYear(),n.getMonth()+1,0),i=k=>Array.isArray(k==null?void 0:k.results)?k.results:Array.isArray(k)?k:[],[c,d,f,u]=await Promise.all([this.getConsultas().catch(()=>({results:[]})),this.getExames().catch(()=>({results:[]})),this.getReceitas().catch(()=>({results:[]})),this.getMedicosVinculados().catch(()=>[])]),g=i(c),h=i(d),p=i(f),v=k=>{const T=new Date(k);return T.getMonth()===n.getMonth()&&T.getFullYear()===n.getFullYear()},N=g.map(k=>{var T,P;return{id:k.id||k.consulta_id,data_hora:k.data_hora||k.horario||k.inicio||k.data||k.start_time||null,status:k.status||"Agendada",tipo:k.tipo||k.modalidade||"Consulta",especialidade:k.especialidade||k.medico_especialidade||null,medico_nome:k.medico_nome||((T=k==null?void 0:k.medico)==null?void 0:T.nome)||((P=k==null?void 0:k.medico)!=null&&P.user?[k.medico.user.first_name,k.medico.user.last_name].filter(Boolean).join(" ").trim():void 0)}}),w=N.filter(k=>k.data_hora&&new Date(k.data_hora)>=n).sort((k,T)=>new Date(k.data_hora)-new Date(T.data_hora)).slice(0,5),y=N.filter(k=>k.data_hora&&v(k.data_hora)).length,b=h.map(k=>({id:k.id,tipo:k.tipo||k.nome||k.categoria||"Exame",status:k.status||k.situacao||"Pendente",data_agendamento:k.data_agendamento||k.agendamento||k.data||null,medico_solicitante:k.medico_solicitante||k.medico||void 0})),_=b.filter(k=>k.data_agendamento&&new Date(k.data_agendamento)>=n).sort((k,T)=>new Date(k.data_agendamento)-new Date(T.data_agendamento)).slice(0,5),S=b.filter(k=>v(k.data_agendamento)&&["realizado","concluido","concluído","finalizado"].includes(String(k.status).toLowerCase())).length,E=i(p).filter(k=>["ativa","valida","válida"].includes(String(k.status||k.situacao||"").toLowerCase())).length;return{consultasMes:y,consultasProximas:w.length,examesPendentes:b.filter(k=>String(k.status).toLowerCase()==="pendente").length,examesRealizadosMes:S,receitasAtivas:E,medicosVinculados:Array.isArray(u)?u.length:0,proximasConsultas:w,proximosExames:_}}catch(n){return console.warn("[pacienteService] getDashboard fallback falhou:",(t=n==null?void 0:n.response)==null?void 0:t.status),null}},async garantirPacienteDoUsuario(t={}){var i,c;try{const d=await this.getPacienteDoUsuario();if(d!=null&&d.id)return d}catch{}const n="/pacientes/",a=n.endsWith("/")?n:`${n}/`,o={...t};Object.keys(o).forEach(d=>{o[d]===void 0&&delete o[d]});try{return(await le.post(`${a}me/`,o)).data}catch(d){console.debug("[pacienteService] POST /pacientes/me/ falhou:",(i=d==null?void 0:d.response)==null?void 0:i.status)}try{const d=await le.post(a,o);if(d!=null&&d.data)return d.data}catch(d){console.debug("[pacienteService] POST /pacientes/ falhou:",(c=d==null?void 0:d.response)==null?void 0:c.status)}try{const d=await this.getPacienteDoUsuario();if(d!=null&&d.id)return d}catch{}throw new Error("Não foi possível criar o perfil de paciente para o usuário atual.")}};function ui({role:t="paciente"}){var k,T,P,A,R,$,O,I,V;const n=ms(),a=Ts(),{user:o,logout:i}=Ta(),{logout:c}=_a(),d=(o==null?void 0:o.role)==="admin"||(o==null?void 0:o.tipo)==="admin",f=hg[t]||hg.paciente,[u,g]=x.useState(null),[h,p]=x.useState(t==="paciente");x.useEffect(()=>{let J=!0;if(t!=="paciente"){g(null),p(!1);return}return(async()=>{try{const F=await Ct.getPacienteDoUsuario();J&&g(F||null)}catch{J&&g(null)}finally{J&&p(!1)}})(),()=>{J=!1}},[t]);const v=[{title:"Paciente",href:"/paciente/perfil",icon:xs},{title:"Médico",href:"/medico/dashboard",icon:Gt},{title:"Clínica",href:"/clinica/dashboard",icon:Ea},{title:"Admin",href:"/admin/dashboard",icon:Vo}],N=((k=f.header)==null?void 0:k.icon)||xs,w=((T=f.header)==null?void 0:T.subtitle)||"Portal",y=(($=(R=(A=(P=f.sections)==null?void 0:P[0])==null?void 0:A.items)==null?void 0:R[0])==null?void 0:$.path)||"/",b=(u==null?void 0:u.foto_url)||(u==null?void 0:u.foto)||(o==null?void 0:o.avatar)||(o==null?void 0:o.avatar_url)||"/placeholder.svg",_=x.useMemo(()=>{var F,K,M;const J=[(F=u==null?void 0:u.user)==null?void 0:F.display_name,[((K=u==null?void 0:u.user)==null?void 0:K.first_name)||(u==null?void 0:u.first_name),((M=u==null?void 0:u.user)==null?void 0:M.last_name)||(u==null?void 0:u.last_name)].filter(Boolean).join(" ").trim()].filter(Boolean).shift();return(u==null?void 0:u.nome)||(u==null?void 0:u.display_name)||J||(o==null?void 0:o.display_name)||(o==null?void 0:o.nome)||[o==null?void 0:o.first_name,o==null?void 0:o.last_name].filter(Boolean).join(" ").trim()||(o==null?void 0:o.name)||"Usuário"},[u,o]),E=x.useMemo(()=>{var J,F;return(u==null?void 0:u.cpf)||((J=u==null?void 0:u.user)==null?void 0:J.cpf)||(o==null?void 0:o.cpf)||((F=o==null?void 0:o.profile)==null?void 0:F.cpf)||""},[u,o])||(u==null?void 0:u.plano_saude)||(o==null?void 0:o.email)||"";return e.jsxs(Ly,{variant:"floating",className:we("sidebar-green"),children:[" ",e.jsx(zy,{className:"border-b border-sidebar-border",children:e.jsx("div",{className:"flex items-center justify-between px-2 py-2",children:e.jsxs(dt,{to:y,className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex aspect-square size-8 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:e.jsx(N,{className:"size-4"})}),e.jsxs("div",{className:"flex flex-col leading-none",children:[e.jsx("span",{className:"font-semibold",children:"Portal Médico"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:w})]})]})})}),e.jsxs(Uy,{children:[(O=f.sections)==null?void 0:O.map((J,F)=>e.jsxs(fm,{children:[J.label&&e.jsx(pm,{children:J.label}),e.jsx(hm,{children:e.jsx(xm,{children:(J.items||[]).map(K=>{const M=n.pathname===K.path||n.pathname.startsWith(K.path+"/"),W=K.icon;return e.jsx(gm,{children:e.jsx(vm,{asChild:!0,"data-active":M,children:e.jsxs(dt,{to:K.path,className:"flex items-center gap-2",children:[W&&e.jsx(W,{className:"size-4"}),e.jsx("span",{children:K.label})]})})},K.path)})})})]},`${J.label}-${F}`)),d&&t!=="admin"&&e.jsxs(fm,{children:[e.jsx(pm,{children:"Telas"}),e.jsx(hm,{children:e.jsx(xm,{children:v.map(J=>{const F=n.pathname===J.href||n.pathname.startsWith(J.href+"/"),K=J.icon;return e.jsx(gm,{children:e.jsx(vm,{asChild:!0,"data-active":F,children:e.jsxs(dt,{to:J.href,className:"flex items-center gap-2",children:[K&&e.jsx(K,{className:"size-4"}),e.jsx("span",{children:J.title})]})})},J.href)})})})]})]}),e.jsxs(By,{className:"border-t border-sidebar-border",children:[e.jsxs("div",{className:"flex items-center gap-2 px-2 py-2",children:[e.jsxs(Ac,{className:"size-8",children:[e.jsx(vf,{src:b}),e.jsx(Tc,{children:(V=(I=_||"U")==null?void 0:I.charAt(0))==null?void 0:V.toUpperCase()})]}),e.jsxs("div",{className:"flex flex-col gap-0.5 leading-none flex-1 min-w-0",children:[e.jsx("span",{className:"text-sm font-medium truncate",children:_}),e.jsx("span",{className:"text-xs text-muted-foreground truncate",children:E})]}),e.jsxs(ne,{variant:"ghost",size:"sm",onClick:async()=>{try{await i()}finally{c==null||c(),a("/login")}},className:"text-xs",title:"Sair",children:[e.jsx(FC,{className:"mr-1.5 h-4 w-4"}),"Sair"]})]}),e.jsxs("div",{className:"px-2 py-1 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Tema"}),e.jsx(Pc,{})]})]})]})}function xP(){const t=ms(),n=Ts(),[a,o]=x.useState(null),[i,c]=x.useState(!0),d=x.useRef(!1),f=async()=>{try{const p=await Ct.getPerfil();o(p)}catch{}finally{c(!1)}};x.useEffect(()=>{let p=!0;return(async()=>p&&(c(!0),await f()))(),()=>{p=!1}},[]);const u=!!a&&(!(a!=null&&a.data_nascimento)||!(a!=null&&a.endereco)||!(a!=null&&a.telefone));x.useEffect(()=>((async()=>t.pathname!=="/paciente/perfil"&&(d.current=!0,c(!0),await f(),d.current=!1))(),()=>{}),[t.pathname]),x.useEffect(()=>{d.current||!i&&u&&t.pathname!=="/paciente/perfil"&&n("/paciente/perfil",{replace:!0})},[i,u,t.pathname,n]);const g=x.useMemo(()=>{const p=t.pathname,v={"/paciente/perfil":"Perfil","/paciente/prontuario":"Prontuário","/paciente/consultas":"Consultas","/paciente/exames":"Exames","/paciente/receitas":"Receitas","/paciente/historico-medico":"Histórico Médico","/paciente/medicos":"Médicos Vinculados","/paciente/configuracoes":"Configurações"},N=v[p]||Object.keys(v).find(w=>p.startsWith(w))&&v[Object.keys(v).find(w=>p.startsWith(w))]||"Perfil";return[{label:"Área do Paciente",href:"/paciente/perfil"},{label:N}]},[t.pathname]),h=()=>e.jsx(ui,{role:"paciente"});return e.jsx(di,{sidebar:h,breadcrumbs:g,children:e.jsx(Zo,{})})}function gP(){const t=()=>e.jsx(ui,{role:"medico"});return e.jsx(di,{sidebar:t,children:e.jsx(Zo,{})})}function o0({breadcrumbs:t}){const n=()=>e.jsx(ui,{role:"clinica"});return e.jsx(di,{sidebar:n,breadcrumbs:t,children:e.jsx(Zo,{})})}function vP(){const t=()=>e.jsx(ui,{role:"admin"});return e.jsx(di,{sidebar:t,children:e.jsx(Zo,{})})}var yP="Label",i0=x.forwardRef((t,n)=>e.jsx(Xe.label,{...t,ref:n,onMouseDown:a=>{var i;a.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i0.displayName=yP;var jP=i0;const wP=cc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ce=x.forwardRef(({className:t,...n},a)=>e.jsx(jP,{ref:a,className:we(wP(),t),...n}));ce.displayName="Label";const de=x.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,className:we("rounded-lg border bg-card text-card-foreground shadow-sm",t),...n}));de.displayName="Card";const pe=x.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,className:we("flex flex-col space-y-1.5 p-6",t),...n}));pe.displayName="CardHeader";const he=x.forwardRef(({className:t,...n},a)=>e.jsx("h3",{ref:a,className:we("text-2xl font-semibold leading-none tracking-tight",t),...n}));he.displayName="CardTitle";const Je=x.forwardRef(({className:t,...n},a)=>e.jsx("p",{ref:a,className:we("text-sm text-muted-foreground",t),...n}));Je.displayName="CardDescription";const ue=x.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,className:we("p-6 pt-0",t),...n}));ue.displayName="CardContent";const NP=x.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,className:we("flex items-center p-6 pt-0",t),...n}));NP.displayName="CardFooter";const bP=5;let Uu=0;function SP(){return Uu=(Uu+1)%Number.MAX_SAFE_INTEGER,Uu.toString()}const Sa={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},Il=[];let Fl={toasts:[]};function zl(t){Fl=CP(Fl,t),Il.forEach(n=>{n(Fl)})}function CP(t,n){switch(n.type){case Sa.ADD_TOAST:return{...t,toasts:[n.toast,...t.toasts].slice(0,bP)};case Sa.UPDATE_TOAST:return{...t,toasts:t.toasts.map(a=>a.id===n.toast.id?{...a,...n.toast}:a)};case Sa.DISMISS_TOAST:return{...t,toasts:t.toasts.map(a=>a.id===n.toastId||n.toastId===void 0?{...a,open:!1}:a)};case Sa.REMOVE_TOAST:return n.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==n.toastId)}}}function _P({...t}){const n=SP(),a=i=>zl({type:Sa.UPDATE_TOAST,toast:{...i,id:n}}),o=()=>zl({type:Sa.DISMISS_TOAST,toastId:n});return zl({type:Sa.ADD_TOAST,toast:{...t,id:n,open:!0,onOpenChange:i=>{i||o()}}}),{id:n,dismiss:o,update:a}}function Xt(){const[t,n]=x.useState(Fl);return x.useEffect(()=>(Il.push(n),()=>{const a=Il.indexOf(n);a>-1&&Il.splice(a,1)}),[t]),{...t,toast:_P,dismiss:a=>zl({type:Sa.DISMISS_TOAST,toastId:a})}}function EP(){const[t,n]=x.useState({email:"",password:""}),[a,o]=x.useState(!1),{login:i,loginWithGoogle:c}=Ta(),{toast:d}=Xt(),f=Ts(),u=async b=>{var _,S,E,k,T,P,A,R,$,O,I;b.preventDefault(),o(!0);try{const V=await i(t);switch(d({title:"Login realizado com sucesso!",description:`Bem-vindo, ${((_=V.user)==null?void 0:_.first_name)||((S=V.user)==null?void 0:S.username)||((E=V.user)==null?void 0:E.email)||"usuário"}!`}),((k=V.user)==null?void 0:k.role)||((T=V.user)==null?void 0:T.tipo)){case"medico":f("/medico/dashboard");break;case"paciente":f("/paciente/perfil");break;case"clinica":f("/clinica/dashboard");break;case"admin":f("/admin/dashboard");break;default:f("/")}}catch(V){const J=((A=(P=V.response)==null?void 0:P.data)==null?void 0:A.error)||(($=(R=V.response)==null?void 0:R.data)==null?void 0:$.detail)||((I=(O=V.response)==null?void 0:O.data)==null?void 0:I.message);d({title:"Erro no login",description:J||"Credenciais inválidas",variant:"destructive"})}finally{o(!1)}},g=b=>{n(_=>({..._,[b.target.name]:b.target.value}))},[h,p]=x.useState(!1),v=x.useRef(null),{setTheme:N,theme:w}=Hy(),y=x.useRef(null);return x.useEffect(()=>(y.current=w,N("light"),()=>{y.current&&N(y.current)}),[w,N]),x.useEffect(()=>{if(window.google&&v.current)try{window.google.accounts.id.initialize({client_id:"SEU_CLIENT_ID_REAL.apps.googleusercontent.com",callback:async b=>{var S,E,k,T,P,A,R,$;const _=b==null?void 0:b.credential;if(_){p(!0);try{const O=await c(_);switch(d({title:"Login com Google realizado!",description:`Bem-vindo, ${((S=O.user)==null?void 0:S.nome)||((E=O.user)==null?void 0:E.first_name)||((k=O.user)==null?void 0:k.username)||((T=O.user)==null?void 0:T.email)||"usuário"}!`}),((P=O.user)==null?void 0:P.role)||((A=O.user)==null?void 0:A.tipo)){case"medico":f("/medico/dashboard");break;case"paciente":f("/paciente/perfil");break;case"clinica":f("/clinica/dashboard");break;case"admin":f("/admin/dashboard");break;default:f("/")}}catch(O){d({title:"Erro no login com Google",description:(($=(R=O.response)==null?void 0:R.data)==null?void 0:$.message)||"Não foi possível autenticar",variant:"destructive"})}finally{p(!1)}}}}),window.google.accounts.id.renderButton(v.current,{theme:"outline",size:"large",shape:"pill",text:"continue_with",width:320})}catch{}},[c,f,d]),e.jsx("div",{className:"min-h-screen bg-app-soft flex items-center justify-center p-4",children:e.jsxs(de,{className:"w-full max-w-md shadow-app-lg border-0 backdrop-blur-sm bg-white/95",children:[e.jsxs(pe,{className:"space-y-1 text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-app-gradient rounded-xl flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx(he,{className:"text-2xl font-bold text-app-gradient",children:"Entrar"}),e.jsx(Je,{className:"text-center text-slate-600",children:"Acesse sua conta no Portal Médico"})]}),e.jsxs(ue,{className:"space-y-6",children:[e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"email",className:"text-slate-700 font-medium",children:"Email"}),e.jsx(fe,{id:"email",name:"email",type:"email",placeholder:"seu@email.com",value:t.email,onChange:g,required:!0,className:"h-11 border-slate-200 focus:border-primary focus:ring-primary/20"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"password",className:"text-slate-700 font-medium",children:"Senha"}),e.jsx(fe,{id:"password",name:"password",type:"password",placeholder:"••••••••",value:t.password,onChange:g,required:!0,className:"h-11 border-slate-200 focus:border-primary focus:ring-primary/20"})]}),e.jsx(ne,{type:"submit",className:"w-full h-11 bg-app-gradient hover:opacity-90 text-white font-semibold shadow-app",disabled:a,children:a?"Entrando...":"Entrar"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"}),e.jsx("span",{className:"text-xs text-slate-500 font-medium",children:"ou"}),e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{ref:v,className:"w-full flex justify-center"})}),!window.google&&e.jsx(ne,{type:"button",variant:"outline",className:"w-full h-11 border-slate-200 hover:bg-slate-50",disabled:!0,children:h?"Conectando...":"Continuar com Google"}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(dt,{to:"/esqueci-senha",className:"text-sm text-sky-500 hover:text-sky-600 hover:underline",children:"Esqueceu sua senha?"}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Não tem uma conta?"," ",e.jsx(dt,{to:"/registrar",className:"text-sky-500 hover:text-sky-600 hover:underline font-medium",children:"Cadastre-se"})]})]})]})]})})}function RP(){const t=Ts(),{toast:n}=Xt(),[a,o]=x.useState(!1),[i,c]=x.useState("paciente"),[d,f]=x.useState(!1),[u,g]=x.useState(!1),[h,p]=x.useState({nome:"",email:"",senha:"",confirmSenha:"",cpf:"",nomeClinica:"",cnpj:""}),v=F=>{const K=F.replace(/\D/g,"").slice(0,11),M=K.slice(0,3),W=K.slice(3,6),U=K.slice(6,9),X=K.slice(9,11);return K.length>9?`${M}.${W}.${U}-${X}`:K.length>6?`${M}.${W}.${U}`:K.length>3?`${M}.${W}`:M},N=F=>{const K=String(F||"").replace(/\D/g,"").slice(0,14),M=K.slice(0,2),W=K.slice(2,5),U=K.slice(5,8),X=K.slice(8,12),ee=K.slice(12,14);return K.length>12?`${M}.${W}.${U}/${X}-${ee}`:K.length>8?`${M}.${W}.${U}/${X}`:K.length>5?`${M}.${W}.${U}`:K.length>2?`${M}.${W}`:M},w=F=>String(F||"").replace(/\D/g,"").slice(0,7),y=F=>{const{name:K,value:M}=F.target;if(K==="cpf"){p({...h,cpf:v(M)});return}if(K==="cnpj"){p({...h,cnpj:N(M)});return}p({...h,[K]:M})},b=F=>String(F||"").trim().replace(/\s+/g," ").split(" ").filter(Boolean).map(K=>K.charAt(0).toUpperCase()+K.slice(1).toLowerCase()).join(" "),[_,S]=x.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),E=x.useRef(null),k=x.useRef(null),T=x.useRef(null),P=F=>{const{name:K,value:M}=F.target;S(K==="crm"?W=>({...W,crm:w(M)}):W=>({...W,[K]:M}))},A=(F,K)=>{S(M=>({...M,documentos:{...M.documentos,[F]:K}}))},R=(F,K)=>{S(M=>({...M,documentos:{...M.documentos,[F]:null}})),K!=null&&K.current&&(K.current.value="")},$=F=>{if(!F&&F!==0)return"";const K=["Bytes","KB","MB","GB"];if(F===0)return"0 Byte";const M=Math.floor(Math.log(F)/Math.log(1024));return`${(F/Math.pow(1024,M)).toFixed(1)} ${K[M]}`},O=({label:F,required:K=!1,icon:M="📄",accept:W=".pdf,image/*",file:U,onFile:X,onRemove:ee,inputRef:L})=>{const[q,te]=x.useState(!1),B=z=>{var Z;z.preventDefault(),te(!1);const G=(Z=z.dataTransfer.files)==null?void 0:Z[0];G&&X(G)};return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-base",children:M}),e.jsxs("label",{className:"text-sm font-medium text-slate-700",children:[F," ",K?e.jsx("span",{className:"text-rose-600",children:"*"}):e.jsx("span",{className:"text-slate-400",children:"(opcional)"})]})]}),e.jsx("input",{ref:L,type:"file",accept:W,className:"hidden",onChange:z=>{var G;return X(((G=z.target.files)==null?void 0:G[0])||null)}}),e.jsxs("div",{onDragOver:z=>{z.preventDefault(),te(!0)},onDragLeave:()=>te(!1),onDrop:B,className:`rounded-lg border-2 p-3 flex items-center justify-between gap-3 transition
            ${q?"border-sky-400 bg-sky-50":"border-dashed border-slate-300 bg-white"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"h-10 w-10 rounded-md bg-slate-100 flex items-center justify-center text-lg",children:M}),U?e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:U.name}),e.jsxs("p",{className:"text-xs text-slate-500",children:[U.type||"Arquivo"," • ",$(U.size)]})]}):e.jsxs("div",{className:"text-sm text-slate-600",children:["Arraste e solte aqui ou"," ",e.jsx("button",{type:"button",onClick:()=>{var z;return(z=L==null?void 0:L.current)==null?void 0:z.click()},className:"underline text-sky-700 hover:text-sky-800",children:"procurar"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[!U&&e.jsx("button",{type:"button",onClick:()=>{var z;return(z=L==null?void 0:L.current)==null?void 0:z.click()},className:"px-3 py-2 rounded-md bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800",children:"Escolher arquivo"}),U&&e.jsx("button",{type:"button",onClick:ee,className:"px-3 py-2 rounded-md bg-rose-50 text-rose-700 text-xs font-semibold hover:bg-rose-100",children:"Remover"})]})]})]})},I=h.email.length===0||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h.email),V=h.confirmSenha.length===0||h.senha.length>0&&h.senha===h.confirmSenha,J=async F=>{var K,M,W,U,X,ee,L,q,te,B;if(F.preventDefault(),!h.nome||!h.email||!h.senha||!h.cpf){n({title:"Erro de validação",description:"Por favor, preencha todos os campos obrigatórios.",variant:"destructive"});return}if(h.senha!==h.confirmSenha){n({title:"Erro de validação",description:"As senhas não conferem.",variant:"destructive"});return}if(h.senha.length<6){n({title:"Erro de validação",description:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}if(i==="medico"){if(!_.crm){n({title:"CRM obrigatório",description:"Informe o CRM para cadastro como médico.",variant:"destructive"});return}if(!_.documentos.diplomaMedicina){n({title:"Diploma obrigatório",description:"Anexe o Diploma de Medicina.",variant:"destructive"});return}}o(!0);try{const z=String(h.nome||"").trim().replace(/\s+/g," "),G=b(z),[Z,...ae]=G.split(" "),xe=ae.join(" "),ve={username:h.nome.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").replace(/[^a-z0-9@.+_-]/g,""),first_name:Z||"",last_name:xe||"",email:h.email,password:h.senha,password_confirm:h.confirmSenha,role:i==="medico"?"paciente":i,desired_role:i,cpf:h.cpf||""};i==="clinica"&&(ve.nome_clinica=h.nomeClinica,ve.cnpj=h.cnpj);const Re=await ut.register(ve,{medicoData:i==="medico"?_:void 0});if(i==="medico"){const Pe=Re==null?void 0:Re.medicoApplication;Pe!=null&&Pe.success?n({title:"Solicitação enviada!",description:"Seus dados de médico foram enviados para análise."}):Pe&&Pe.success===!1&&(console.error("[RegisterForm] criarSolicitacaoMedico via authService falhou:",Pe.error),n({title:"Solicitação pendente",description:"Sua conta foi criada, mas não foi possível enviar a solicitação de médico agora. Você poderá concluir depois."}))}n({title:"Registro realizado com sucesso!",description:"Sua conta foi criada. Você pode fazer login agora."}),t("/login")}catch(z){console.error("Erro no registro:",z),console.error("Status do erro:",(K=z.response)==null?void 0:K.status),console.error("Detalhes do erro:",(M=z.response)==null?void 0:M.data),console.error("Headers da resposta:",(W=z.response)==null?void 0:W.headers);let G="Erro interno do servidor. Tente novamente.",Z=!1,ae=!1,xe=!1;try{const ve=(U=z.response)==null?void 0:U.status,Re=((X=z.response)==null?void 0:X.headers)||{},Pe=Re["content-type"]||Re["Content-Type"]||"",Ye=(ee=z.response)==null?void 0:ee.data,mt=((typeof Ye=="string"?Ye:"")||"").toLowerCase(),jt=Me=>{Me==="crm"?G="CRM já cadastrado no sistema. Utilize outro número de CRM.":Me==="email"?G="E-mail já cadastrado no sistema.":Me==="cpf"?G="CPF já cadastrado no sistema.":G="Algum campo único já está cadastrado (ex.: CRM, e-mail ou CPF)."};ve===409&&(jt("unknown"),ae=!0),Z=String(Pe).includes("text/html"),(Z||mt.includes("unique constraint")||mt.includes("integrityerror"))&&(mt.includes("crm")?(jt("crm"),ae=!0,xe=!0):mt.includes("email")?(jt("email"),ae=!0):mt.includes("cpf")&&(jt("cpf"),ae=!0))}catch{}if((L=z.response)!=null&&L.data){const ve=z.response.data;if(console.log("Tipo do errorData:",typeof ve),console.log("ErrorData completo:",JSON.stringify(ve,null,2)),typeof ve=="object"){const Re=[];for(const[Pe,Ye]of Object.entries(ve))Array.isArray(Ye)?Re.push(`${Pe}: ${Ye.join(", ")}`):Re.push(`${Pe}: ${Ye}`);Re.length&&(G=Re.join(`
`))}typeof ve=="string"?/<\/?(html|body|head|table|div|span|style|script)[^>]*>/i.test(ve)||(G=ve):ve.message?G=ve.message:ve.email?G=`Email: ${ve.email[0]}`:ve.password&&(G=`Senha: ${ve.password[0]}`)}try{const ve=(q=z.response)==null?void 0:q.status,Re=((te=z.response)==null?void 0:te.headers)||{},Pe=Re["content-type"]||Re["Content-Type"]||"",Ye=(B=z.response)==null?void 0:B.data,mt=((typeof Ye=="string"?Ye:"")||"").toLowerCase(),jt=ae||ve===409||mt.includes("unique constraint")||mt.includes("integrityerror"),Me=Z||String(Pe).includes("text/html"),Ie=xe||mt.includes("crm")||mt.includes("medico");if(jt&&(Me||Ie)){try{await ut.login({email:h.email,password:h.senha}),await ut.logout(),n({title:"Conta criada",description:"Sua conta foi criada, mas houve um problema com os dados de médico (CRM). Faça login para continuar."}),t("/login");return}catch{}n({title:"Conta possivelmente criada",description:G+" — Tente fazer login com seu e-mail e senha."}),t("/login");return}}catch{}n({title:"Erro no registro",description:G,variant:"destructive"})}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen bg-app-soft flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md bg-white/95 backdrop-blur shadow-app-lg rounded-2xl border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"px-6 pt-6 pb-4 bg-app-gradient text-white",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Criar conta"}),e.jsx("p",{className:"text-white/90 text-sm",children:i==="paciente"?"Como paciente":i==="clinica"?"Como clínica":"Como médico"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-slate-100 rounded-lg p-1 grid grid-cols-3 gap-1",children:[e.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${i==="paciente"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>c("paciente"),children:"👤 Paciente"}),e.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${i==="clinica"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>c("clinica"),children:"🏥 Clínica"}),e.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${i==="medico"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>c("medico"),children:"🩺 Médico"})]}),e.jsxs("form",{className:"space-y-4",onSubmit:J,children:[i!=="clinica"?e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome completo"}),e.jsx("input",{type:"text",name:"nome",placeholder:"Seu nome",value:h.nome,onChange:y,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome da clínica"}),e.jsx("input",{type:"text",name:"nomeClinica",placeholder:"Ex.: Clínica Vida",value:h.nomeClinica,onChange:y,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CNPJ"}),e.jsx("input",{type:"text",name:"cnpj",placeholder:"00.000.000/0000-00",value:h.cnpj,onChange:y,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"E-mail"}),e.jsx("input",{type:"email",name:"email",placeholder:"seu@email.com",value:h.email,onChange:y,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${I?"border-slate-200 focus:ring-sky-500":"border-rose-300 focus:ring-rose-500"}`}),!I&&e.jsx("p",{className:"mt-1 text-xs text-rose-600",children:"Informe um e-mail válido."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CPF *"}),e.jsx("input",{type:"text",name:"cpf",placeholder:"000.000.000-00",value:h.cpf,onChange:y,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:d?"text":"password",name:"senha",placeholder:"Crie uma senha",value:h.senha,onChange:y,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"}),e.jsx("button",{type:"button",onClick:()=>f(F=>!F),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":d?"Ocultar senha":"Mostrar senha",children:d?"Ocultar":"Mostrar"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Confirmar senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:u?"text":"password",name:"confirmSenha",placeholder:"Repita a senha",value:h.confirmSenha,onChange:y,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 transition ${V?"border-slate-200 focus:ring-sky-500 focus:border-sky-500":"border-amber-300 focus:ring-amber-400"}`}),e.jsx("button",{type:"button",onClick:()=>g(F=>!F),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":u?"Ocultar senha":"Mostrar senha",children:u?"Ocultar":"Mostrar"})]}),h.confirmSenha.length>0&&e.jsx("p",{className:`mt-1 text-xs ${h.senha===h.confirmSenha?"text-emerald-600":"text-amber-600"}`,children:h.senha===h.confirmSenha?"Senhas conferem.":"As senhas não conferem."})]}),i==="medico"&&e.jsxs("div",{className:"space-y-4 border rounded-lg p-4",children:[e.jsx("p",{className:"font-semibold",children:"Dados do Médico"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CRM"}),e.jsx("input",{type:"text",name:"crm",placeholder:"CRM",value:_.crm,onChange:P,maxLength:7,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Especialidade"}),e.jsx("input",{type:"text",name:"especialidade",placeholder:"Ex.: Cardiologia",value:_.especialidade,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituição de Formação"}),e.jsx("input",{type:"text",name:"instituicaoFormacao",placeholder:"Universidade",value:_.instituicaoFormacao,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano de Formação"}),e.jsx("input",{type:"number",name:"anoFormacao",placeholder:"YYYY",value:_.anoFormacao,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Residência (se aplicável)"}),e.jsx("input",{type:"text",name:"residencia",placeholder:"Residência Médica",value:_.residencia,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituição da Residência"}),e.jsx("input",{type:"text",name:"instituicaoResidencia",placeholder:"Instituição",value:_.instituicaoResidencia,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano da Residência"}),e.jsx("input",{type:"number",name:"anoResidencia",placeholder:"YYYY",value:_.anoResidencia,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Experiência"}),e.jsx("textarea",{name:"experiencia",placeholder:"Resumo da experiência",value:_.experiencia,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Motivação"}),e.jsx("textarea",{name:"motivacao",placeholder:"Por que deseja se cadastrar como médico na plataforma?",value:_.motivacao,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"font-medium",children:"Documentos"}),e.jsx(O,{label:"Diploma de Medicina",required:!0,icon:"🎓",accept:".pdf,image/*",file:_.documentos.diplomaMedicina,inputRef:E,onFile:F=>A("diplomaMedicina",F),onRemove:()=>R("diplomaMedicina",E)}),e.jsx(O,{label:"Certificado de Residência",icon:"🏅",accept:".pdf,image/*",file:_.documentos.certificadoResidencia,inputRef:k,onFile:F=>A("certificadoResidencia",F),onRemove:()=>R("certificadoResidencia",k)}),e.jsx(O,{label:"Comprovante de Experiência",icon:"📄",accept:".pdf,image/*",file:_.documentos.comprovanteExperiencia,inputRef:T,onFile:F=>A("comprovanteExperiencia",F),onRemove:()=>R("comprovanteExperiencia",T)})]})]}),e.jsx("button",{type:"submit",disabled:a,className:"w-full py-2.5 rounded-lg font-semibold text-white bg-app-gradient hover:opacity-90 shadow-app transition disabled:opacity-70 disabled:cursor-not-allowed",children:a?"Registrando...":`Registrar ${{paciente:"Paciente",clinica:"Clínica",medico:"Médico"}[i]||"Usuário"}`})]})]})]})})}const l0=x.createContext(null);function c0(){const t=x.useContext(l0);if(!t)throw new Error("Tabs components must be used within <Tabs>");return t}const $n=x.forwardRef(({className:t,value:n,defaultValue:a="",onValueChange:o,children:i,...c},d)=>{const[f,u]=x.useState(a),g=n!==void 0,h=g?n:f,p=v=>{g||u(v),o==null||o(v)};return e.jsx(l0.Provider,{value:{value:h,setValue:p},children:e.jsx("div",{ref:d,className:we("",t),...c,children:i})})});$n.displayName="Tabs";const Ln=x.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,className:we("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...n}));Ln.displayName="TabsList";const _t=x.forwardRef(({className:t,value:n,onClick:a,...o},i)=>{const{value:c,setValue:d}=c0(),f=c===n,u=g=>{a==null||a(g),d(n)};return e.jsx("button",{ref:i,"data-state":f?"active":"inactive",className:we("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",f?"bg-background text-foreground shadow-sm":"hover:bg-background/50 hover:text-foreground",t),onClick:u,...o})});_t.displayName="TabsTrigger";const Dt=x.forwardRef(({className:t,value:n,forceMount:a=!1,...o},i)=>{const{value:c}=c0();return!a&&c!==n?null:e.jsx("div",{ref:i,className:we("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...o})});Dt.displayName="TabsContent";function kP(){const[t,n]=x.useState(""),[a,o]=x.useState(!1),[i,c]=x.useState(!1),[d,f]=x.useState("paciente"),u=Ts(),g=ms(),{toast:h}=Xt();x.useEffect(()=>{const N=new URLSearchParams(g.search).get("role");(N==="clinica"||N==="paciente")&&f(N)},[g]);const p=async v=>{v.preventDefault(),o(!0);try{await new Promise(N=>setTimeout(N,1500)),c(!0),h({title:"Email enviado!",description:"Verifique sua caixa de entrada para redefinir sua senha."})}catch{h({title:"Erro",description:"Não foi possível enviar o email. Tente novamente.",variant:"destructive"})}finally{o(!1)}};return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-app-soft py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(de,{className:"w-full max-w-md shadow-app-lg border-0 backdrop-blur-sm bg-white/95",children:[e.jsxs(pe,{className:"space-y-1 text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-4",children:e.jsx(Wr,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),e.jsx(he,{className:"text-2xl font-bold",children:"Email Enviado!"}),e.jsxs(Je,{children:["Enviamos um link para redefinir sua senha para ",e.jsx("strong",{children:t})]})]}),e.jsxs(ue,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Verifique sua caixa de entrada e spam. O link expira em 24 horas."}),e.jsx(ne,{variant:"outline",className:"w-full bg-transparent",onClick:()=>c(!1),children:"Enviar para outro email"}),e.jsxs(ne,{variant:"ghost",className:"w-full",onClick:()=>u(`/login?role=${d}`),children:[e.jsx(Uo,{className:"mr-2 h-4 w-4"}),"Voltar ao login"]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-app-soft py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(de,{className:"w-full max-w-md shadow-app-lg border-0 backdrop-blur-sm bg-white/95",children:[e.jsxs(pe,{className:"space-y-1",children:[e.jsx(he,{className:"text-2xl font-bold text-center",children:"Esqueceu sua senha?"}),e.jsx(Je,{className:"text-center",children:"Digite seu email para receber um link de redefinição"})]}),e.jsxs(ue,{children:[e.jsx($n,{value:d,onValueChange:f,className:"mb-6",children:e.jsxs(Ln,{className:"grid w-full grid-cols-2",children:[e.jsxs(_t,{value:"paciente",className:"flex items-center justify-center gap-2",children:[e.jsx(xs,{className:"h-4 w-4"}),e.jsx("span",{children:"Paciente"})]}),e.jsxs(_t,{value:"clinica",className:"flex items-center justify-center gap-2",children:[e.jsx(Ea,{className:"h-4 w-4"}),e.jsx("span",{children:"Clínica"})]})]})}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"email",children:"Email"}),e.jsx(fe,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:v=>n(v.target.value),required:!0})]}),e.jsx(ne,{type:"submit",className:"w-full",disabled:a,children:a?"Enviando...":"Enviar Link de Redefinição"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(dt,{to:`/login?role=${d}`,className:"text-primary hover:underline flex items-center justify-center gap-2",children:[e.jsx(Uo,{className:"h-4 w-4"}),"Voltar ao login"]})})]})]})})}function PP({children:t}){const{user:n,isAuthenticated:a,loading:o}=Ta(),i=ms();if(o)return null;if(!a)return e.jsx($t,{to:"/login",state:{from:i},replace:!0});const c=(n==null?void 0:n.role)||(n==null?void 0:n.tipo);return c!=="secretaria"&&c!=="admin"?c==="paciente"?e.jsx($t,{to:"/paciente/perfil",replace:!0}):c==="medico"?e.jsx($t,{to:"/medico/dashboard",replace:!0}):c==="clinica"?e.jsx($t,{to:"/clinica/dashboard",replace:!0}):e.jsx($t,{to:"/",replace:!0}):t}function AP(){const t=()=>e.jsx(ui,{role:"secretaria"});return e.jsx(di,{sidebar:t,children:e.jsx(Zo,{})})}function nn({tabs:t,basePath:n}){const a=ms();return e.jsx("div",{className:"border-b",children:e.jsx("nav",{className:"flex space-x-4 px-1",children:t.map(o=>{const i=a.pathname===o.href;return e.jsx(dt,{to:o.href,className:we("flex items-center px-3 py-3 text-sm font-medium transition-colors",i?"border-b-2 border-slate-900 text-slate-950 dark:text-slate-100 dark:border-slate-200":"text-slate-600 hover:text-slate-900 dark:text-slate-300 dark:hover:text-white"),children:o.label},o.href)})})})}function St({className:t,variant:n="default",...a}){const o={default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input hover:bg-accent hover:text-accent-foreground"};return e.jsx("div",{className:we("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",o[n],t),...a})}const pt=x.forwardRef(({className:t,...n},a)=>e.jsx("textarea",{className:we("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...n}));pt.displayName="Textarea";function TP(){const[t,n]=x.useState(null),[a,o]=x.useState(null),[i,c]=x.useState(!0),[d,f]=x.useState(null),[u,g]=x.useState([]),[h,p]=x.useState(!0),[v,N]=x.useState({data_nascimento:"",endereco:"",telefone:"",tipo_sanguineo:"",alergias:"",condicoes_cronicas:""}),[w,y]=x.useState(!1),{toast:b}=Xt();x.useEffect(()=>{let $=!0;return(async()=>{var O,I,V,J;try{const[F,K]=await Promise.allSettled([Ct.getPerfil(),Ct.getPacienteDoUsuario()]);if(!$)return;if(F.status==="fulfilled"&&n(F.value),K.status==="fulfilled"&&o(K.value),F.status==="rejected"&&K.status==="rejected"){const M=((I=(O=F.reason)==null?void 0:O.response)==null?void 0:I.status)||((J=(V=K.reason)==null?void 0:V.response)==null?void 0:J.status);f(M===401?"Sua sessão não é válida. Verifique o login e o tipo de autenticação (Bearer/JWT/Token).":"Não foi possível carregar seu perfil.")}}finally{$&&c(!1)}})(),()=>{$=!1}},[]),x.useEffect(()=>{let $=!0;return(async()=>{try{p(!0);const O=await Ct.getConsultas();if($){const V=(Array.isArray(O)?O:(O==null?void 0:O.results)||[]).map(M=>{var ee,L,q,te,B,z,G,Z,ae,xe,ve;const W=((L=(ee=M.medico)==null?void 0:ee.user)==null?void 0:L.first_name)||((q=M.medico)==null?void 0:q.first_name)||((te=M.medico)==null?void 0:te.nome)||"",U=((z=(B=M.medico)==null?void 0:B.user)==null?void 0:z.last_name)||((G=M.medico)==null?void 0:G.last_name)||"",X=[W,U].filter(Boolean).join(" ").trim()||((Z=M.medico)==null?void 0:Z.nome)||"—";return{id:M.id,data:M.data||M.data_hora,medico:{nome:X,especialidade:((ve=(xe=(ae=M.medico)==null?void 0:ae.especialidades)==null?void 0:xe[0])==null?void 0:ve.nome)||M.especialidade||"Não especificada"},status:M.status,local:M.local||M.localizacao||M.observacoes||"Local não especificado",tipo:M.tipo||M.motivo||"Consulta"}}),J=new Date,K=V.filter(M=>{const U=(M.status||"").toLowerCase().includes("agend"),X=M.data?new Date(M.data)>J:!1;return U||X}).filter(M=>M.data).sort((M,W)=>new Date(M.data)-new Date(W.data));g(K.slice(0,3))}}catch(O){console.error("Erro ao carregar consultas:",O)}finally{$&&p(!1)}})(),()=>{$=!1}},[]),x.useEffect(()=>{(t||a)&&N($=>({...$,data_nascimento:(t==null?void 0:t.data_nascimento)||"",endereco:(t==null?void 0:t.endereco)||"",telefone:(t==null?void 0:t.telefone)||"",tipo_sanguineo:(a==null?void 0:a.tipo_sanguineo)||"",alergias:Array.isArray(a==null?void 0:a.alergias)?a.alergias.join(", "):(a==null?void 0:a.alergias)||"",condicoes_cronicas:Array.isArray(a==null?void 0:a.condicoes_cronicas)?a.condicoes_cronicas.join(", "):(a==null?void 0:a.condicoes_cronicas)||""}))},[t,a]);const _=(!!t||!!a)&&(!(t!=null&&t.data_nascimento)||!(t!=null&&t.endereco)||!(t!=null&&t.telefone)||!(a!=null&&a.tipo_sanguineo)||!(a!=null&&a.alergias)),S=$=>{const{name:O,value:I}=$.target;N(V=>({...V,[O]:I}))},E=async $=>{var O;$.preventDefault(),y(!0);try{const I={data_nascimento:v.data_nascimento||"",endereco:v.endereco||"",telefone:v.telefone||""},V=U=>String(U||"").split(",").map(X=>X.trim()).filter(Boolean),J=Array.isArray(a==null?void 0:a.alergias)?V(v.alergias):v.alergias||"",F=Array.isArray(a==null?void 0:a.condicoes_cronicas)?V(v.condicoes_cronicas):v.condicoes_cronicas||"",K={tipo_sanguineo:v.tipo_sanguineo||"",alergias:J,condicoes_cronicas:F},[M,W]=await Promise.all([Ct.atualizarPerfil(I),Ct.atualizarPaciente(K)]);n(M),o(W),b({title:"Perfil atualizado",description:"Suas informações pessoais e médicas foram salvas com sucesso."})}catch(I){const V=(O=I==null?void 0:I.response)!=null&&O.data?JSON.stringify(I.response.data):"Tente novamente mais tarde.";b({title:"Erro ao salvar",description:V,variant:"destructive"})}finally{y(!1)}},k=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}],T=[{title:"Agendar Consulta",description:"Marque uma consulta com seus médicos",icon:rt,href:"/paciente/consultas/nova",color:"bg-primary"},{title:"Ver Exames",description:"Acesse seus resultados de exames",icon:Ps,href:"/paciente/exames",color:"bg-success"},{title:"Histórico Médico",description:"Consulte seu histórico completo",icon:hn,href:"/paciente/historico-medico",color:"bg-info"}],P={"bg-primary":"primary","bg-success":"success","bg-info":"info"},A=$=>$!=null&&$.first_name&&($!=null&&$.last_name)?`${$.first_name.charAt(0)}${$.last_name.charAt(0)}`:$!=null&&$.username?$.username.substring(0,2).toUpperCase():"P",R=$=>typeof $=="string"?$:$&&`${$.logradouro||""} ${$.numero||""} ${$.bairro||""} ${$.cidade||""} ${$.estado||""}`.trim()||"—";return e.jsx("div",{className:"bg-app-soft dark:bg-background",children:e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-10",children:[e.jsx("div",{className:"bg-card rounded-2xl shadow-sm border p-8",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(Ac,{className:"h-20 w-20 ring-4 ring-primary/10",children:e.jsx(Tc,{className:"bg-primary text-primary-foreground text-xl font-semibold",children:i?"...":A(t)})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:i?e.jsx(ht,{className:"h-8 w-48"}):[t==null?void 0:t.first_name,t==null?void 0:t.last_name].filter(Boolean).join(" ")||(t==null?void 0:t.username)||"Usuário"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Paciente"}),e.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[(t==null?void 0:t.cpf)&&e.jsxs(St,{variant:"secondary",className:"font-medium",children:["CPF: ",t.cpf]}),(a==null?void 0:a.tipo_sanguineo)&&e.jsxs(St,{variant:"outline",className:"border-red-500/30 text-red-600",children:[e.jsx(Fx,{className:"h-3 w-3 mr-1 text-red-500"}),a.tipo_sanguineo]})]})]})]}),e.jsxs(ne,{className:"bg-primary hover:bg-primary/90",children:[e.jsx(HC,{className:"h-4 w-4 mr-2"}),"Editar Perfil"]})]})}),e.jsx(nn,{tabs:k,basePath:"/paciente"}),!i&&!d&&_&&e.jsxs(de,{className:"border-warning/30 bg-warning/10",children:[e.jsx(pe,{className:"pb-4",children:e.jsxs(he,{className:"flex items-center gap-2 text-warning",children:[e.jsx(Bo,{className:"h-5 w-5"}),"Complete seu perfil"]})}),e.jsx(ue,{children:e.jsxs("form",{className:"space-y-6",onSubmit:E,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"data_nascimento",className:"text-foreground font-medium",children:"Data de Nascimento"}),e.jsx(fe,{id:"data_nascimento",name:"data_nascimento",type:"date",value:v.data_nascimento,onChange:S,className:"border-input focus-visible:ring-2 focus-visible:ring-ring",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"telefone",className:"text-foreground font-medium",children:"Telefone"}),e.jsx(fe,{id:"telefone",name:"telefone",type:"tel",placeholder:"(11) 99999-9999",value:v.telefone,onChange:S,className:"border-input focus-visible:ring-2 focus-visible:ring-ring",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"endereco",className:"text-foreground font-medium",children:"Endereço"}),e.jsx(pt,{id:"endereco",name:"endereco",placeholder:"Rua, número, bairro, cidade, estado",value:v.endereco,onChange:S,className:"border-input focus-visible:ring-2 focus-visible:ring-ring",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"tipo_sanguineo",className:"text-slate-700 font-medium",children:"Tipo Sanguíneo"}),e.jsx(fe,{id:"tipo_sanguineo",name:"tipo_sanguineo",placeholder:"Ex.: O+, A-, B+, AB+",value:v.tipo_sanguineo,onChange:S,className:"border-slate-300 focus:border-blue-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"alergias",className:"text-slate-700 font-medium",children:"Alergias"}),e.jsx(pt,{id:"alergias",name:"alergias",placeholder:"Separe por vírgulas (ex.: Dipirona, Amoxicilina)",value:v.alergias,onChange:S,className:"border-slate-300 focus:border-blue-500"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(ne,{type:"submit",disabled:w,className:"bg-blue-600 hover:bg-blue-700",children:w?"Salvando...":"Salvar Informações"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(de,{className:"shadow-sm border",children:[e.jsx(pe,{className:"pb-4",children:e.jsxs(he,{className:"flex items-center gap-2 text-foreground",children:[e.jsx(xs,{className:"h-5 w-5 text-blue-600"}),"Informações do Paciente"]})}),e.jsx(ue,{className:"space-y-6",children:i?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(ht,{className:"h-16 w-full"}),e.jsx(ht,{className:"h-16 w-full"}),e.jsx(ht,{className:"h-16 w-full"}),e.jsx(ht,{className:"h-16 w-full"})]})}):d?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Bo,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600 font-medium",children:d})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(rt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Data de Nascimento"})]}),e.jsx("p",{className:"text-foreground font-medium",children:(t==null?void 0:t.data_nascimento)||"Não informado"})]}),e.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(ai,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Telefone"})]}),e.jsx("p",{className:"text-foreground font-medium",children:(t==null?void 0:t.telefone)||"Não informado"})]}),e.jsxs("div",{className:"bg-muted rounded-lg p-4 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Im,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Endereço"})]}),e.jsx("p",{className:"text-foreground font-medium",children:R(t==null?void 0:t.endereco)})]})]}),e.jsx(tn,{}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200 dark:bg-destructive/15 dark:border-destructive/30",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Fx,{className:"h-4 w-4 text-red-500"}),e.jsx("p",{className:"text-sm font-medium text-red-600 dark:text-destructive",children:"Tipo Sanguíneo"})]}),e.jsx("p",{className:"text-red-700 dark:text-destructive font-semibold text-lg",children:(a==null?void 0:a.tipo_sanguineo)||"Não informado"})]}),e.jsxs("div",{className:"bg-warning/10 rounded-lg p-4 border border-warning/20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Bo,{className:"h-4 w-4 text-warning"}),e.jsx("p",{className:"text-sm font-medium text-warning",children:"Alergias"})]}),e.jsx("p",{className:"text-warning font-medium",children:(a==null?void 0:a.alergias)||"Nenhuma alergia conhecida"})]}),e.jsxs("div",{className:"bg-info/10 rounded-lg p-4 border border-info/20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(OC,{className:"h-4 w-4 text-info"}),e.jsx("p",{className:"text-sm font-medium text-info",children:"Condições Crônicas"})]}),e.jsx("p",{className:"text-info font-medium",children:(a==null?void 0:a.condicoes_cronicas)||"Nenhuma condição crônica"})]})]})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(de,{className:"shadow-sm border",children:[e.jsx(pe,{className:"pb-4",children:e.jsx(he,{className:"text-foreground",children:"Ações Rápidas"})}),e.jsx(ue,{className:"space-y-3",children:T.map(($,O)=>{const I=$.icon,V=P[$.color]||"primary";return e.jsx(dt,{to:$.href,children:e.jsxs("div",{className:"app-quick-action group",children:[e.jsx("div",{className:`app-quick-icon ${V}`,children:e.jsx(I,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"app-quick-title",children:$.title}),e.jsx("p",{className:"app-quick-desc",children:$.description})]}),e.jsx("span",{className:"app-quick-chevron",children:e.jsx(pn,{className:"h-4 w-4"})})]})},O)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(de,{className:"shadow-sm border-slate-200",children:[e.jsx(pe,{className:"pb-3",children:e.jsxs(he,{className:"flex items-center gap-2 text-lg",children:[e.jsx(rt,{className:"h-4 w-4 text-blue-600"}),"Próximas Consultas"]})}),e.jsx(ue,{children:h?e.jsxs("div",{className:"space-y-2",children:[e.jsx(ht,{className:"h-12 w-full"}),e.jsx(ht,{className:"h-12 w-full"})]}):u.length>0?e.jsxs("div",{className:"space-y-3",children:[u.map($=>e.jsxs("div",{className:"flex items-center gap-3 border-b pb-2 last:border-0",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-100 text-blue-700",children:e.jsx(rt,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-medium text-sm",children:[new Date($.data).toLocaleDateString("pt-BR")," ",new Date($.data).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:$.medico.nome}),e.jsx("p",{className:"text-xs text-muted-foreground",children:$.medico.especialidade})]})]},$.id)),e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,className:"w-full mt-2 border-blue-200 text-blue-700 hover:bg-blue-50",children:e.jsxs(dt,{to:"/paciente/consultas",children:["Ver Todas",e.jsx(pn,{className:"h-3 w-3 ml-1"})]})})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-slate-500 text-sm mb-3",children:"Nenhuma consulta agendada"}),e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,className:"border-blue-200 text-blue-700 hover:bg-blue-50",children:e.jsxs(dt,{to:"/paciente/consultas",children:["Ver Todas",e.jsx(pn,{className:"h-3 w-3 ml-1"})]})})]})})]}),e.jsxs(de,{className:"shadow-sm border-slate-200",children:[e.jsx(pe,{className:"pb-3",children:e.jsxs(he,{className:"flex items-center gap-2 text-lg",children:[e.jsx(hn,{className:"h-4 w-4 text-green-600"}),"Exames Recentes"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-slate-500 text-sm mb-3",children:"Nenhum exame recente"}),e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,className:"border-green-200 text-green-700 hover:bg-green-50",children:e.jsxs(dt,{to:"/paciente/exames",children:["Ver Todos",e.jsx(pn,{className:"h-3 w-3 ml-1"})]})})]})})]})]})]})]})]})})}function MP(){const[t,n]=x.useState(null),[a,o]=x.useState(!0),[i,c]=x.useState(null),d=p=>Array.isArray(p)?p.filter(v=>v!=null&&v!==""):typeof p=="string"?p.split(/[\n;,]+/).map(v=>v.trim()).filter(Boolean):p==null?[]:[p],f=p=>{let v="",N="",w="";if(typeof p=="string"){const y=p.split(/[;•\-\|]/).map(b=>b.trim()).filter(Boolean);if(y.length&&(v=y[0]),y[1]&&(N=y[1]),y[2]&&(w=y.slice(2).join(" • ")),!N){const b=p.match(/\b(\d+(\.\d+)?\s?(mg|ml|mcg|g|gotas|ui))\b/i);b&&(N=b[0])}if(!w){const b=p.match(/\b(\d+x\s?\/\s?dia|[1-9]\s?x\/dia|a\s?cada\s?\d+\s?h|de\s?\d+\s?em\s?\d+\s?h)\b/i);b&&(w=b[0])}}else p&&typeof p=="object"&&(v=p.nome||p.medicamento||p.nome_medicamento||p.name||p.descricao||"",N=p.dose||p.dosagem||p.dosage||"",w=p.posologia||p.frequencia||p.intervalo||p.schedule||"");return{name:v||(typeof p=="string"?p:JSON.stringify(p)),dose:N||"",schedule:w||""}},u=p=>{const v=d(p);return v.length>0?e.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:v.map((N,w)=>{const y=f(N);return e.jsx("div",{className:"rounded-xl border bg-card p-3 shadow-sm hover:shadow-md transition-shadow",role:"group","aria-label":`Medicação ${y.name}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5 rounded-md bg-primary/10 p-2 text-primary",children:e.jsx(Fm,{className:"h-5 w-5","aria-hidden":"true"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-base md:text-lg font-semibold leading-snug break-words",children:y.name}),y.dose&&e.jsx("div",{className:"text-sm md:text-base text-muted-foreground mt-0.5 break-words",children:y.dose}),y.schedule&&e.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 rounded-full bg-muted/60 px-2 py-1 text-xs md:text-sm text-foreground/80",children:[e.jsx(Ut,{className:"h-3.5 w-3.5","aria-hidden":"true"}),e.jsx("span",{className:"break-words",children:y.schedule})]})]})]})},w)})}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})};x.useEffect(()=>{let p=!0;const v=w=>{var k,T;const y=Array.isArray(w)?w[0]:Array.isArray(w==null?void 0:w.results)?w.results[0]:w||{},b=y.alergias??y.allergies??y.alergia,_=y.condicoes??y.condicoes_cronicas??y.condicoesCronicas,S=y.medicacoes??y.medicamentos??y.medicacoes_em_uso??y.medicamentos_em_uso??y.medicamentos_uso??y.em_uso??y.medicacoesEmUso??y.medicamentosEmUso??y.medications??y.current_medications??((k=y.prontuario)==null?void 0:k.medicacoes)??((T=y.prontuario)==null?void 0:T.medicamentos),E=y.observacoes??y.observacao??y.notes??y.anotacoes;return{alergias:d(b),condicoes:d(_),medicacoes:d(S),observacoes:E??"—"}},N=w=>w?{alergias:d(w.alergias),condicoes:d(w.condicoes_cronicas??w.condicoes),medicacoes:d(w.medicacoes??w.medicamentos??w.medicacoes_em_uso??w.medicamentos_em_uso??w.medicamentos_uso??w.em_uso??w.medicacoesEmUso??w.medicamentosEmUso??w.medications??w.current_medications),observacoes:w.observacoes??"—"}:null;return(async()=>{try{const[w,y]=await Promise.allSettled([Ct.getProntuario(),Ct.getPacienteDoUsuario()]);let b=null;if(w.status==="fulfilled"&&(b=v(w.value)),(!b||d(b.alergias).length===0&&d(b.condicoes).length===0&&d(b.medicacoes).length===0&&(!b.observacoes||b.observacoes==="—"))&&y.status==="fulfilled"){const S=N(y.value);S&&(b=S)}p&&n(b||{alergias:[],condicoes:[],medicacoes:[],observacoes:"—"})}catch{p&&c("Não foi possível carregar o prontuário.")}finally{p&&o(!1)}})(),()=>{p=!1}},[]);const g=p=>{const v=d(p);return v.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:v.map((N,w)=>{const y=typeof N=="string"?N:(N==null?void 0:N.nome)||(N==null?void 0:N.medicamento)||(N==null?void 0:N.nome_medicamento)||[N==null?void 0:N.descricao,(N==null?void 0:N.dose)||(N==null?void 0:N.dosagem),(N==null?void 0:N.posologia)||(N==null?void 0:N.frequencia)].filter(Boolean).join(" • ")||JSON.stringify(N);return e.jsx(St,{variant:"secondary",className:"px-2.5 py-1 text-xs",children:y},w)})}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})},h=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];return e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ps,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Prontuário"})]}),e.jsx(nn,{tabs:h,basePath:"/paciente"}),a?e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[e.jsxs(de,{className:"lg:col-span-2",children:[e.jsx(pe,{children:e.jsx(ht,{className:"h-5 w-40"})}),e.jsxs(ue,{className:"space-y-2",children:[e.jsx(ht,{className:"h-4 w-full"}),e.jsx(ht,{className:"h-4 w-5/6"}),e.jsx(ht,{className:"h-4 w-2/3"})]})]}),e.jsx("div",{className:"space-y-6",children:[...Array(3)].map((p,v)=>e.jsxs(de,{children:[e.jsx(pe,{children:e.jsx(ht,{className:"h-5 w-40"})}),e.jsxs(ue,{className:"space-y-2",children:[e.jsx(ht,{className:"h-4 w-full"}),e.jsx(ht,{className:"h-4 w-2/3"})]})]},v))})]}):i?e.jsx("p",{className:"text-sm text-red-500",children:i}):e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[e.jsxs(de,{className:"lg:col-span-2 min-h-[320px]",children:[e.jsx(pe,{children:e.jsx(he,{children:"Medicações"})}),e.jsx(ue,{children:u(t==null?void 0:t.medicacoes)})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Alergias"})}),e.jsx(ue,{children:g(t==null?void 0:t.alergias)})]}),e.jsxs(de,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Condições"})}),e.jsx(ue,{children:g(t==null?void 0:t.condicoes)})]}),e.jsxs(de,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Observações"})}),e.jsx(ue,{children:t!=null&&t.observacoes&&(t==null?void 0:t.observacoes)!=="—"?e.jsx("div",{className:"rounded-md bg-muted/40 p-3 text-sm leading-relaxed whitespace-pre-wrap",children:t==null?void 0:t.observacoes}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"—"})})]})]})]})]})}const In=x.forwardRef(({className:t,...n},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:we("w-full caption-bottom text-sm",t),...n})}));In.displayName="Table";const Fn=x.forwardRef(({className:t,...n},a)=>e.jsx("thead",{ref:a,className:we("[&_tr]:border-b",t),...n}));Fn.displayName="TableHeader";const zn=x.forwardRef(({className:t,...n},a)=>e.jsx("tbody",{ref:a,className:we("[&_tr:last-child]:border-0",t),...n}));zn.displayName="TableBody";const DP=x.forwardRef(({className:t,...n},a)=>e.jsx("tfoot",{ref:a,className:we("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...n}));DP.displayName="TableFooter";const Qt=x.forwardRef(({className:t,...n},a)=>e.jsx("tr",{ref:a,className:we("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...n}));Qt.displayName="TableRow";const nt=x.forwardRef(({className:t,...n},a)=>e.jsx("th",{ref:a,className:we("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...n}));nt.displayName="TableHead";const Ze=x.forwardRef(({className:t,...n},a)=>e.jsx("td",{ref:a,className:we("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...n}));Ze.displayName="TableCell";const OP=x.forwardRef(({className:t,...n},a)=>e.jsx("caption",{ref:a,className:we("mt-4 text-sm text-muted-foreground",t),...n}));OP.displayName="TableCaption";function xg(t,[n,a]){return Math.min(a,Math.max(n,t))}function $P(t){const n=x.useRef({value:t,previous:t});return x.useMemo(()=>(n.current.value!==t&&(n.current.previous=n.current.value,n.current.value=t),n.current.previous),[t])}var LP=[" ","Enter","ArrowUp","ArrowDown"],IP=[" ","Enter"],nr="Select",[Mc,Dc,FP]=_c(nr),[Qr,NT]=Mn(nr,[FP,Jr]),Oc=Jr(),[zP,Ma]=Qr(nr),[BP,UP]=Qr(nr),d0=t=>{const{__scopeSelect:n,children:a,open:o,defaultOpen:i,onOpenChange:c,value:d,defaultValue:f,onValueChange:u,dir:g,name:h,autoComplete:p,disabled:v,required:N,form:w}=t,y=Oc(n),[b,_]=x.useState(null),[S,E]=x.useState(null),[k,T]=x.useState(!1),P=cf(g),[A,R]=er({prop:o,defaultProp:i??!1,onChange:c,caller:nr}),[$,O]=er({prop:d,defaultProp:f,onChange:u,caller:nr}),I=x.useRef(null),V=b?w||!!b.closest("form"):!0,[J,F]=x.useState(new Set),K=Array.from(J).map(M=>M.props.value).join(";");return e.jsx(nf,{...y,children:e.jsxs(zP,{required:N,scope:n,trigger:b,onTriggerChange:_,valueNode:S,onValueNodeChange:E,valueNodeHasChildren:k,onValueNodeHasChildrenChange:T,contentId:kn(),value:$,onValueChange:O,open:A,onOpenChange:R,dir:P,triggerPointerDownPosRef:I,disabled:v,children:[e.jsx(Mc.Provider,{scope:n,children:e.jsx(BP,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(M=>{F(W=>new Set(W).add(M))},[]),onNativeOptionRemove:x.useCallback(M=>{F(W=>{const U=new Set(W);return U.delete(M),U})},[]),children:a})}),V?e.jsxs(D0,{"aria-hidden":!0,required:N,tabIndex:-1,name:h,autoComplete:p,value:$,onChange:M=>O(M.target.value),disabled:v,form:w,children:[$===void 0?e.jsx("option",{value:""}):null,Array.from(J)]},K):null]})})};d0.displayName=nr;var u0="SelectTrigger",m0=x.forwardRef((t,n)=>{const{__scopeSelect:a,disabled:o=!1,...i}=t,c=Oc(a),d=Ma(u0,a),f=d.disabled||o,u=Et(n,d.onTriggerChange),g=Dc(a),h=x.useRef("touch"),[p,v,N]=$0(y=>{const b=g().filter(E=>!E.disabled),_=b.find(E=>E.value===d.value),S=L0(b,y,_);S!==void 0&&d.onValueChange(S.value)}),w=y=>{f||(d.onOpenChange(!0),N()),y&&(d.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return e.jsx(af,{asChild:!0,...c,children:e.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":O0(d.value)?"":void 0,...i,ref:u,onClick:Te(i.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&w(y)}),onPointerDown:Te(i.onPointerDown,y=>{h.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:Te(i.onKeyDown,y=>{const b=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&v(y.key),!(b&&y.key===" ")&&LP.includes(y.key)&&(w(),y.preventDefault())})})})});m0.displayName=u0;var f0="SelectValue",p0=x.forwardRef((t,n)=>{const{__scopeSelect:a,className:o,style:i,children:c,placeholder:d="",...f}=t,u=Ma(f0,a),{onValueNodeHasChildrenChange:g}=u,h=c!==void 0,p=Et(n,u.onValueNodeChange);return ls(()=>{g(h)},[g,h]),e.jsx(Xe.span,{...f,ref:p,style:{pointerEvents:"none"},children:O0(u.value)?e.jsx(e.Fragment,{children:d}):c})});p0.displayName=f0;var VP="SelectIcon",h0=x.forwardRef((t,n)=>{const{__scopeSelect:a,children:o,...i}=t;return e.jsx(Xe.span,{"aria-hidden":!0,...i,ref:n,children:o||"▼"})});h0.displayName=VP;var HP="SelectPortal",x0=t=>e.jsx(ri,{asChild:!0,...t});x0.displayName=HP;var ar="SelectContent",g0=x.forwardRef((t,n)=>{const a=Ma(ar,t.__scopeSelect),[o,i]=x.useState();if(ls(()=>{i(new DocumentFragment)},[]),!a.open){const c=o;return c?Fr.createPortal(e.jsx(v0,{scope:t.__scopeSelect,children:e.jsx(Mc.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),c):null}return e.jsx(y0,{...t,ref:n})});g0.displayName=ar;var fn=10,[v0,Da]=Qr(ar),qP="SelectContentImpl",WP=Za("SelectContent.RemoveScroll"),y0=x.forwardRef((t,n)=>{const{__scopeSelect:a,position:o="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:c,onPointerDownOutside:d,side:f,sideOffset:u,align:g,alignOffset:h,arrowPadding:p,collisionBoundary:v,collisionPadding:N,sticky:w,hideWhenDetached:y,avoidCollisions:b,..._}=t,S=Ma(ar,a),[E,k]=x.useState(null),[T,P]=x.useState(null),A=Et(n,Z=>k(Z)),[R,$]=x.useState(null),[O,I]=x.useState(null),V=Dc(a),[J,F]=x.useState(!1),K=x.useRef(!1);x.useEffect(()=>{if(E)return Hm(E)},[E]),Vm();const M=x.useCallback(Z=>{const[ae,...xe]=V().map(Pe=>Pe.ref.current),[ve]=xe.slice(-1),Re=document.activeElement;for(const Pe of Z)if(Pe===Re||(Pe==null||Pe.scrollIntoView({block:"nearest"}),Pe===ae&&T&&(T.scrollTop=0),Pe===ve&&T&&(T.scrollTop=T.scrollHeight),Pe==null||Pe.focus(),document.activeElement!==Re))return},[V,T]),W=x.useCallback(()=>M([R,E]),[M,R,E]);x.useEffect(()=>{J&&W()},[J,W]);const{onOpenChange:U,triggerPointerDownPosRef:X}=S;x.useEffect(()=>{if(E){let Z={x:0,y:0};const ae=ve=>{var Re,Pe;Z={x:Math.abs(Math.round(ve.pageX)-(((Re=X.current)==null?void 0:Re.x)??0)),y:Math.abs(Math.round(ve.pageY)-(((Pe=X.current)==null?void 0:Pe.y)??0))}},xe=ve=>{Z.x<=10&&Z.y<=10?ve.preventDefault():E.contains(ve.target)||U(!1),document.removeEventListener("pointermove",ae),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",xe,{capture:!0})}}},[E,U,X]),x.useEffect(()=>{const Z=()=>U(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[U]);const[ee,L]=$0(Z=>{const ae=V().filter(Re=>!Re.disabled),xe=ae.find(Re=>Re.ref.current===document.activeElement),ve=L0(ae,Z,xe);ve&&setTimeout(()=>ve.ref.current.focus())}),q=x.useCallback((Z,ae,xe)=>{const ve=!K.current&&!xe;(S.value!==void 0&&S.value===ae||ve)&&($(Z),ve&&(K.current=!0))},[S.value]),te=x.useCallback(()=>E==null?void 0:E.focus(),[E]),B=x.useCallback((Z,ae,xe)=>{const ve=!K.current&&!xe;(S.value!==void 0&&S.value===ae||ve)&&I(Z)},[S.value]),z=o==="popper"?wm:j0,G=z===wm?{side:f,sideOffset:u,align:g,alignOffset:h,arrowPadding:p,collisionBoundary:v,collisionPadding:N,sticky:w,hideWhenDetached:y,avoidCollisions:b}:{};return e.jsx(v0,{scope:a,content:E,viewport:T,onViewportChange:P,itemRefCallback:q,selectedItem:R,onItemLeave:te,itemTextRefCallback:B,focusSelectedItem:W,selectedItemText:O,position:o,isPositioned:J,searchRef:ee,children:e.jsx(mc,{as:WP,allowPinchZoom:!0,children:e.jsx(dc,{asChild:!0,trapped:S.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:Te(i,Z=>{var ae;(ae=S.trigger)==null||ae.focus({preventScroll:!0}),Z.preventDefault()}),children:e.jsx(Kr,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:e.jsx(z,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:Z=>Z.preventDefault(),..._,...G,onPlaced:()=>F(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Te(_.onKeyDown,Z=>{const ae=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!ae&&Z.key.length===1&&L(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let ve=V().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const Re=Z.target,Pe=ve.indexOf(Re);ve=ve.slice(Pe+1)}setTimeout(()=>M(ve)),Z.preventDefault()}})})})})})})});y0.displayName=qP;var KP="SelectItemAlignedPosition",j0=x.forwardRef((t,n)=>{const{__scopeSelect:a,onPlaced:o,...i}=t,c=Ma(ar,a),d=Da(ar,a),[f,u]=x.useState(null),[g,h]=x.useState(null),p=Et(n,A=>h(A)),v=Dc(a),N=x.useRef(!1),w=x.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:_,focusSelectedItem:S}=d,E=x.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&g&&y&&b&&_){const A=c.trigger.getBoundingClientRect(),R=g.getBoundingClientRect(),$=c.valueNode.getBoundingClientRect(),O=_.getBoundingClientRect();if(c.dir!=="rtl"){const Re=O.left-R.left,Pe=$.left-Re,Ye=A.left-Pe,at=A.width+Ye,mt=Math.max(at,R.width),jt=window.innerWidth-fn,Me=xg(Pe,[fn,Math.max(fn,jt-mt)]);f.style.minWidth=at+"px",f.style.left=Me+"px"}else{const Re=R.right-O.right,Pe=window.innerWidth-$.right-Re,Ye=window.innerWidth-A.right-Pe,at=A.width+Ye,mt=Math.max(at,R.width),jt=window.innerWidth-fn,Me=xg(Pe,[fn,Math.max(fn,jt-mt)]);f.style.minWidth=at+"px",f.style.right=Me+"px"}const I=v(),V=window.innerHeight-fn*2,J=y.scrollHeight,F=window.getComputedStyle(g),K=parseInt(F.borderTopWidth,10),M=parseInt(F.paddingTop,10),W=parseInt(F.borderBottomWidth,10),U=parseInt(F.paddingBottom,10),X=K+M+J+U+W,ee=Math.min(b.offsetHeight*5,X),L=window.getComputedStyle(y),q=parseInt(L.paddingTop,10),te=parseInt(L.paddingBottom,10),B=A.top+A.height/2-fn,z=V-B,G=b.offsetHeight/2,Z=b.offsetTop+G,ae=K+M+Z,xe=X-ae;if(ae<=B){const Re=I.length>0&&b===I[I.length-1].ref.current;f.style.bottom="0px";const Pe=g.clientHeight-y.offsetTop-y.offsetHeight,Ye=Math.max(z,G+(Re?te:0)+Pe+W),at=ae+Ye;f.style.height=at+"px"}else{const Re=I.length>0&&b===I[0].ref.current;f.style.top="0px";const Ye=Math.max(B,K+y.offsetTop+(Re?q:0)+G)+xe;f.style.height=Ye+"px",y.scrollTop=ae-B+y.offsetTop}f.style.margin=`${fn}px 0`,f.style.minHeight=ee+"px",f.style.maxHeight=V+"px",o==null||o(),requestAnimationFrame(()=>N.current=!0)}},[v,c.trigger,c.valueNode,f,g,y,b,_,c.dir,o]);ls(()=>E(),[E]);const[k,T]=x.useState();ls(()=>{g&&T(window.getComputedStyle(g).zIndex)},[g]);const P=x.useCallback(A=>{A&&w.current===!0&&(E(),S==null||S(),w.current=!1)},[E,S]);return e.jsx(YP,{scope:a,contentWrapper:f,shouldExpandOnScrollRef:N,onScrollButtonChange:P,children:e.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:e.jsx(Xe.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});j0.displayName=KP;var GP="SelectPopperPosition",wm=x.forwardRef((t,n)=>{const{__scopeSelect:a,align:o="start",collisionPadding:i=fn,...c}=t,d=Oc(a);return e.jsx(rf,{...d,...c,ref:n,align:o,collisionPadding:i,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});wm.displayName=GP;var[YP,yf]=Qr(ar,{}),Nm="SelectViewport",w0=x.forwardRef((t,n)=>{const{__scopeSelect:a,nonce:o,...i}=t,c=Da(Nm,a),d=yf(Nm,a),f=Et(n,c.onViewportChange),u=x.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(Mc.Slot,{scope:a,children:e.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Te(i.onScroll,g=>{const h=g.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:v}=d;if(v!=null&&v.current&&p){const N=Math.abs(u.current-h.scrollTop);if(N>0){const w=window.innerHeight-fn*2,y=parseFloat(p.style.minHeight),b=parseFloat(p.style.height),_=Math.max(y,b);if(_<w){const S=_+N,E=Math.min(w,S),k=S-E;p.style.height=E+"px",p.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,p.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});w0.displayName=Nm;var N0="SelectGroup",[JP,QP]=Qr(N0),XP=x.forwardRef((t,n)=>{const{__scopeSelect:a,...o}=t,i=kn();return e.jsx(JP,{scope:a,id:i,children:e.jsx(Xe.div,{role:"group","aria-labelledby":i,...o,ref:n})})});XP.displayName=N0;var b0="SelectLabel",S0=x.forwardRef((t,n)=>{const{__scopeSelect:a,...o}=t,i=QP(b0,a);return e.jsx(Xe.div,{id:i.id,...o,ref:n})});S0.displayName=b0;var ec="SelectItem",[ZP,C0]=Qr(ec),_0=x.forwardRef((t,n)=>{const{__scopeSelect:a,value:o,disabled:i=!1,textValue:c,...d}=t,f=Ma(ec,a),u=Da(ec,a),g=f.value===o,[h,p]=x.useState(c??""),[v,N]=x.useState(!1),w=Et(n,S=>{var E;return(E=u.itemRefCallback)==null?void 0:E.call(u,S,o,i)}),y=kn(),b=x.useRef("touch"),_=()=>{i||(f.onValueChange(o),f.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(ZP,{scope:a,value:o,disabled:i,textId:y,isSelected:g,onItemTextChange:x.useCallback(S=>{p(E=>E||((S==null?void 0:S.textContent)??"").trim())},[]),children:e.jsx(Mc.ItemSlot,{scope:a,value:o,disabled:i,textValue:h,children:e.jsx(Xe.div,{role:"option","aria-labelledby":y,"data-highlighted":v?"":void 0,"aria-selected":g&&v,"data-state":g?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...d,ref:w,onFocus:Te(d.onFocus,()=>N(!0)),onBlur:Te(d.onBlur,()=>N(!1)),onClick:Te(d.onClick,()=>{b.current!=="mouse"&&_()}),onPointerUp:Te(d.onPointerUp,()=>{b.current==="mouse"&&_()}),onPointerDown:Te(d.onPointerDown,S=>{b.current=S.pointerType}),onPointerMove:Te(d.onPointerMove,S=>{var E;b.current=S.pointerType,i?(E=u.onItemLeave)==null||E.call(u):b.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Te(d.onPointerLeave,S=>{var E;S.currentTarget===document.activeElement&&((E=u.onItemLeave)==null||E.call(u))}),onKeyDown:Te(d.onKeyDown,S=>{var k;((k=u.searchRef)==null?void 0:k.current)!==""&&S.key===" "||(IP.includes(S.key)&&_(),S.key===" "&&S.preventDefault())})})})})});_0.displayName=ec;var zo="SelectItemText",E0=x.forwardRef((t,n)=>{const{__scopeSelect:a,className:o,style:i,...c}=t,d=Ma(zo,a),f=Da(zo,a),u=C0(zo,a),g=UP(zo,a),[h,p]=x.useState(null),v=Et(n,_=>p(_),u.onItemTextChange,_=>{var S;return(S=f.itemTextRefCallback)==null?void 0:S.call(f,_,u.value,u.disabled)}),N=h==null?void 0:h.textContent,w=x.useMemo(()=>e.jsx("option",{value:u.value,disabled:u.disabled,children:N},u.value),[u.disabled,u.value,N]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=g;return ls(()=>(y(w),()=>b(w)),[y,b,w]),e.jsxs(e.Fragment,{children:[e.jsx(Xe.span,{id:u.textId,...c,ref:v}),u.isSelected&&d.valueNode&&!d.valueNodeHasChildren?Fr.createPortal(c.children,d.valueNode):null]})});E0.displayName=zo;var R0="SelectItemIndicator",k0=x.forwardRef((t,n)=>{const{__scopeSelect:a,...o}=t;return C0(R0,a).isSelected?e.jsx(Xe.span,{"aria-hidden":!0,...o,ref:n}):null});k0.displayName=R0;var bm="SelectScrollUpButton",P0=x.forwardRef((t,n)=>{const a=Da(bm,t.__scopeSelect),o=yf(bm,t.__scopeSelect),[i,c]=x.useState(!1),d=Et(n,o.onScrollButtonChange);return ls(()=>{if(a.viewport&&a.isPositioned){let f=function(){const g=u.scrollTop>0;c(g)};const u=a.viewport;return f(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[a.viewport,a.isPositioned]),i?e.jsx(T0,{...t,ref:d,onAutoScroll:()=>{const{viewport:f,selectedItem:u}=a;f&&u&&(f.scrollTop=f.scrollTop-u.offsetHeight)}}):null});P0.displayName=bm;var Sm="SelectScrollDownButton",A0=x.forwardRef((t,n)=>{const a=Da(Sm,t.__scopeSelect),o=yf(Sm,t.__scopeSelect),[i,c]=x.useState(!1),d=Et(n,o.onScrollButtonChange);return ls(()=>{if(a.viewport&&a.isPositioned){let f=function(){const g=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<g;c(h)};const u=a.viewport;return f(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[a.viewport,a.isPositioned]),i?e.jsx(T0,{...t,ref:d,onAutoScroll:()=>{const{viewport:f,selectedItem:u}=a;f&&u&&(f.scrollTop=f.scrollTop+u.offsetHeight)}}):null});A0.displayName=Sm;var T0=x.forwardRef((t,n)=>{const{__scopeSelect:a,onAutoScroll:o,...i}=t,c=Da("SelectScrollButton",a),d=x.useRef(null),f=Dc(a),u=x.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return x.useEffect(()=>()=>u(),[u]),ls(()=>{var h;const g=f().find(p=>p.ref.current===document.activeElement);(h=g==null?void 0:g.ref.current)==null||h.scrollIntoView({block:"nearest"})},[f]),e.jsx(Xe.div,{"aria-hidden":!0,...i,ref:n,style:{flexShrink:0,...i.style},onPointerDown:Te(i.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(o,50))}),onPointerMove:Te(i.onPointerMove,()=>{var g;(g=c.onItemLeave)==null||g.call(c),d.current===null&&(d.current=window.setInterval(o,50))}),onPointerLeave:Te(i.onPointerLeave,()=>{u()})})}),eA="SelectSeparator",M0=x.forwardRef((t,n)=>{const{__scopeSelect:a,...o}=t;return e.jsx(Xe.div,{"aria-hidden":!0,...o,ref:n})});M0.displayName=eA;var Cm="SelectArrow",tA=x.forwardRef((t,n)=>{const{__scopeSelect:a,...o}=t,i=Oc(a),c=Ma(Cm,a),d=Da(Cm,a);return c.open&&d.position==="popper"?e.jsx(of,{...i,...o,ref:n}):null});tA.displayName=Cm;var sA="SelectBubbleInput",D0=x.forwardRef(({__scopeSelect:t,value:n,...a},o)=>{const i=x.useRef(null),c=Et(o,i),d=$P(n);return x.useEffect(()=>{const f=i.current;if(!f)return;const u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(d!==n&&h){const p=new Event("change",{bubbles:!0});h.call(f,n),f.dispatchEvent(p)}},[d,n]),e.jsx(Xe.select,{...a,style:{..._y,...a.style},ref:c,defaultValue:n})});D0.displayName=sA;function O0(t){return t===""||t===void 0}function $0(t){const n=As(t),a=x.useRef(""),o=x.useRef(0),i=x.useCallback(d=>{const f=a.current+d;n(f),(function u(g){a.current=g,window.clearTimeout(o.current),g!==""&&(o.current=window.setTimeout(()=>u(""),1e3))})(f)},[n]),c=x.useCallback(()=>{a.current="",window.clearTimeout(o.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(o.current),[]),[a,i,c]}function L0(t,n,a){const i=n.length>1&&Array.from(n).every(g=>g===n[0])?n[0]:n,c=a?t.indexOf(a):-1;let d=nA(t,Math.max(c,0));i.length===1&&(d=d.filter(g=>g!==a));const u=d.find(g=>g.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==a?u:void 0}function nA(t,n){return t.map((a,o)=>t[(n+o)%t.length])}var aA=d0,I0=m0,rA=p0,oA=h0,iA=x0,F0=g0,lA=w0,z0=S0,B0=_0,cA=E0,dA=k0,U0=P0,V0=A0,H0=M0;const Nt=aA,bt=rA,vt=x.forwardRef(({className:t,children:n,...a},o)=>e.jsxs(I0,{ref:o,className:we("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[n,e.jsx(oA,{asChild:!0,children:e.jsx(vv,{className:"h-4 w-4 opacity-50"})})]}));vt.displayName=I0.displayName;const q0=x.forwardRef(({className:t,...n},a)=>e.jsx(U0,{ref:a,className:we("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(kC,{className:"h-4 w-4"})}));q0.displayName=U0.displayName;const W0=x.forwardRef(({className:t,...n},a)=>e.jsx(V0,{ref:a,className:we("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(vv,{className:"h-4 w-4"})}));W0.displayName=V0.displayName;const yt=x.forwardRef(({className:t,children:n,position:a="popper",...o},i)=>e.jsx(iA,{children:e.jsxs(F0,{ref:i,className:we("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...o,children:[e.jsx(q0,{}),e.jsx(lA,{className:we("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),e.jsx(W0,{})]})}));yt.displayName=F0.displayName;const K0=x.forwardRef(({className:t,...n},a)=>e.jsx(z0,{ref:a,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...n}));K0.displayName=z0.displayName;const Se=x.forwardRef(({className:t,children:n,...a},o)=>e.jsxs(B0,{ref:o,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(dA,{children:e.jsx(gv,{className:"h-4 w-4"})})}),e.jsx(cA,{children:n})]}));Se.displayName=B0.displayName;const uA=x.forwardRef(({className:t,...n},a)=>e.jsx(H0,{ref:a,className:we("-mx-1 my-1 h-px bg-muted",t),...n}));uA.displayName=H0.displayName;const mi=ey,G0=w_,mA=({className:t,children:n,...a})=>e.jsx(ty,{className:we(t),...a,children:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:n})}),Y0=x.forwardRef(({className:t,...n},a)=>e.jsx(pc,{ref:a,className:we("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0",t),...n}));Y0.displayName=pc.displayName;const Xr=x.forwardRef(({className:t,children:n,...a},o)=>e.jsxs(mA,{children:[e.jsx(Y0,{}),e.jsxs(hc,{ref:o,className:we("fixed z-50 grid w-full max-w-xl gap-4 rounded-xl border bg-background p-0 shadow-xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0","data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95","left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",t),...a,children:[n,e.jsxs(sy,{className:"absolute right-4 top-4 rounded-md opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[e.jsx(Bm,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Fechar"})]})]})]}));Xr.displayName=hc.displayName;const Zr=({className:t,...n})=>e.jsx("div",{className:we("px-6 pt-5 pb-3 flex flex-col space-y-1.5",t),...n});Zr.displayName="DialogHeader";const eo=({className:t,...n})=>e.jsx("div",{className:we("px-6 pb-5 pt-2 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n});eo.displayName="DialogFooter";const to=x.forwardRef(({className:t,...n},a)=>e.jsx(xc,{ref:a,className:we("text-lg font-semibold leading-none tracking-tight",t),...n}));to.displayName=xc.displayName;const $c=x.forwardRef(({className:t,...n},a)=>e.jsx(gc,{ref:a,className:we("text-sm text-muted-foreground",t),...n}));$c.displayName=gc.displayName;function fA(){var T,P,A;const[t,n]=x.useState([]),[a,o]=x.useState(!0),[i,c]=x.useState(null),[d,f]=x.useState("todas"),[u,g]=x.useState(""),[h,p]=x.useState(!1),[v,N]=x.useState(null),w=R=>{N(R),p(!0)},y=R=>{var O;const $=I=>(I==null?void 0:I.nome)||(I==null?void 0:I.titulo)||(I==null?void 0:I.name)||(I==null?void 0:I.descricao)||(I==null?void 0:I.description);if(Array.isArray(R==null?void 0:R.especialidades)&&R.especialidades.length){const I=R.especialidades.map(V=>$(V)||(typeof V=="string"?V:null)).filter(Boolean);if(I.length)return I.join(", ")}if(R!=null&&R.especialidade&&typeof R.especialidade=="object"){const I=$(R.especialidade);if(I)return I}return typeof(R==null?void 0:R.especialidade)=="string"&&R.especialidade.trim()?R.especialidade.trim():typeof(R==null?void 0:R.especialidade_nome)=="string"&&R.especialidade_nome.trim()?R.especialidade_nome.trim():typeof(R==null?void 0:R.specialty)=="string"&&R.specialty.trim()?R.specialty.trim():typeof(R==null?void 0:R.area)=="string"&&R.area.trim()?R.area.trim():typeof((O=R==null?void 0:R.user)==null?void 0:O.especialidade)=="string"&&R.user.especialidade.trim()?R.user.especialidade.trim():"Não especificada"};x.useEffect(()=>{let R=!0;return(async()=>{try{const $=await Ct.getConsultas();if(R){const I=(Array.isArray($)?$:($==null?void 0:$.results)||[]).map(V=>{var W,U,X,ee,L,q,te,B,z,G,Z,ae,xe,ve,Re,Pe,Ye,at,mt,jt;const J=((U=(W=V.medico)==null?void 0:W.user)==null?void 0:U.first_name)||((X=V.medico)==null?void 0:X.first_name)||((ee=V.medico)==null?void 0:ee.nome)||"",F=((q=(L=V.medico)==null?void 0:L.user)==null?void 0:q.last_name)||((te=V.medico)==null?void 0:te.last_name)||"",K=[J,F].filter(Boolean).join(" ").trim()||((B=V.medico)==null?void 0:B.nome)||"—",M=y(V.medico||{});return{id:V.id,data:V.data||V.data_hora,medico:{id:((z=V.medico)==null?void 0:z.id)||V.medico_id,nome:K,especialidade:M,crm:((G=V.medico)==null?void 0:G.crm)||((Z=V.medico)==null?void 0:Z.crm_numero)||V.crm||null,email:((ae=V.medico)==null?void 0:ae.email)||((ve=(xe=V.medico)==null?void 0:xe.user)==null?void 0:ve.email)||null,telefone:((Re=V.medico)==null?void 0:Re.telefone)||((Pe=V.medico)==null?void 0:Pe.celular)||((at=(Ye=V.medico)==null?void 0:Ye.user)==null?void 0:at.phone)||null,raw:V.medico||null},status:V.status,local:V.local||V.localizacao||"Local não especificado",tipo:V.tipo||V.motivo||"Consulta",observacoes:V.observacoes||V.descricao||"",medicamentos:V.medicamentos||V.medicacoes||((mt=V.prescricao)==null?void 0:mt.medicamentos)||((jt=V.receita)==null?void 0:jt.medicamentos)||[],prescricao:V.prescricao||V.receita||null,raw:V}});n(I)}}catch{R&&c("Não foi possível carregar as consultas.")}finally{R&&o(!1)}})(),()=>{R=!1}},[]);const b=t.filter(R=>{var O,I,V,J,F,K,M;const $=String(R.status||"").toLowerCase();if(d==="agendadas"&&!($.includes("agend")||$.includes("confirm"))||d==="realizadas"&&!($.includes("conclu")||$.includes("realiz")||$.includes("final")))return!1;if(u){const W=u.toLowerCase();return((I=(O=R.medico)==null?void 0:O.nome)==null?void 0:I.toLowerCase().includes(W))||((F=(J=(V=R.medico)==null?void 0:V.especialidade)==null?void 0:J.toLowerCase)==null?void 0:F.call(J).includes(W))||((K=R.local)==null?void 0:K.toLowerCase().includes(W))||((M=R.tipo)==null?void 0:M.toLowerCase().includes(W))}return!0}),_=new Date,S=b.filter(R=>{const $=(R.status||"").toLowerCase(),O=$.includes("agend")||$.includes("confirm"),I=R.data?new Date(R.data)>_:!1;return O||I}).sort((R,$)=>new Date(R.data)-new Date($.data)),E=b.filter(R=>{const $=(R.status||"").toLowerCase(),O=$.includes("conclu")||$.includes("realiz")||$.includes("final"),I=R.data?new Date(R.data)<_:!1;return O||I}).sort((R,$)=>new Date($.data)-new Date(R.data)),k=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];return e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Minhas Consultas"})]}),e.jsx(ne,{variant:"outline",asChild:!0,className:"app-cta-btn",children:e.jsxs("a",{href:"/paciente/consultas/nova","aria-label":"Agendar Nova Consulta",className:"inline-flex items-center",children:[e.jsx("span",{className:"icon-pill",children:e.jsx(rt,{className:"h-4 w-4"})}),e.jsx("span",{className:"font-semibold tracking-tight",children:"Agendar Nova Consulta"})]})})]}),e.jsx(nn,{tabs:k,basePath:"/paciente"}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(xn,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar por médico, especialidade ou local...",className:"pl-10",value:u,onChange:R=>g(R.target.value)})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(Nt,{value:d,onValueChange:f,children:[e.jsx(vt,{className:"w-[180px]",children:e.jsx(bt,{placeholder:"Filtrar por status"})}),e.jsxs(yt,{children:[e.jsx(Se,{value:"todas",children:"Todas as consultas"}),e.jsx(Se,{value:"agendadas",children:"Agendadas"}),e.jsx(Se,{value:"realizadas",children:"Realizadas"})]})]})})]}),e.jsxs($n,{defaultValue:"agendadas",className:"w-full",children:[e.jsxs(Ln,{className:"grid w-full grid-cols-2",children:[e.jsx(_t,{value:"agendadas",children:"Consultas Agendadas"}),e.jsx(_t,{value:"realizadas",children:"Histórico de Consultas"})]}),e.jsx(Dt,{value:"agendadas",children:e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-5 w-5 text-primary"}),"Próximas Consultas"]})}),e.jsx(ue,{children:a?e.jsx("div",{className:"space-y-2",children:[...Array(3)].map((R,$)=>e.jsx(ht,{className:"h-24 w-full"},$))}):i?e.jsx("p",{className:"text-sm text-red-500",children:i}):S.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(rt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-medium",children:"Nenhuma consulta agendada"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Você não possui consultas agendadas no momento."}),e.jsx(ne,{className:"mt-4 app-cta-btn",variant:"outline",asChild:!0,children:e.jsxs("a",{href:"/paciente/consultas/nova","aria-label":"Agendar Nova Consulta",className:"inline-flex items-center",children:[e.jsx("span",{className:"icon-pill",children:e.jsx(rt,{className:"h-4 w-4"})}),e.jsx("span",{className:"font-semibold tracking-tight",children:"Agendar Nova Consulta"})]})})]}):e.jsx("div",{className:"space-y-4",children:S.map(R=>{var $,O,I;return e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 border rounded-lg p-4 bg-app-soft dark:bg-background",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xs,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:($=R.medico)==null?void 0:$.nome}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(O=R.medico)==null?void 0:O.especialidade})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("p",{className:"text-sm",children:[new Date(R.data).toLocaleDateString()," às ",new Date(R.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Im,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),e.jsx("p",{className:"text-sm",children:R.local})]})}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsx("span",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:R.tipo}),e.jsx("span",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:R.status||"—"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{variant:"secondary",size:"sm",onClick:()=>w(R),children:"Ver Detalhes"}),e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("a",{href:`/paciente/consultas/nova${(I=R.medico)!=null&&I.id?`?medico=${R.medico.id}`:""}`,children:"Reagendar"})})]})]},R.id)})})})]})}),e.jsx(Dt,{value:"realizadas",children:e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"h-5 w-5 text-primary"}),"Histórico de Consultas"]})}),e.jsx(ue,{children:a?e.jsx("div",{className:"space-y-2",children:[...Array(5)].map((R,$)=>e.jsx(ht,{className:"h-10 w-full"},$))}):i?e.jsx("p",{className:"text-sm text-red-500",children:i}):E.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Você não possui consultas realizadas no histórico."}):e.jsxs(In,{children:[e.jsx(Fn,{children:e.jsxs(Qt,{children:[e.jsx(nt,{children:"Data"}),e.jsx(nt,{children:"Médico"}),e.jsx(nt,{children:"Especialidade"}),e.jsx(nt,{children:"Tipo"}),e.jsx(nt,{children:"Status"}),e.jsx(nt,{children:"Ações"})]})}),e.jsx(zn,{children:E.map(R=>{var $,O;return e.jsxs(Qt,{children:[e.jsx(Ze,{children:new Date(R.data).toLocaleDateString()}),e.jsx(Ze,{children:(($=R.medico)==null?void 0:$.nome)||R.medico||"—"}),e.jsx(Ze,{children:((O=R.medico)==null?void 0:O.especialidade)||R.especialidade||"—"}),e.jsx(Ze,{children:R.tipo||"—"}),e.jsx(Ze,{children:e.jsx("span",{className:"rounded-full px-2 py-1 text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",children:R.status||"—"})}),e.jsx(Ze,{children:e.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>w(R),children:"Ver Detalhes"})})]},R.id)})})]})})]})})]}),e.jsx(mi,{open:h,onOpenChange:p,children:e.jsxs(Xr,{children:[e.jsxs(Zr,{children:[e.jsx(to,{children:"Detalhes da Consulta"}),e.jsx($c,{children:"Informações completas da consulta selecionada"})]}),v?e.jsxs("div",{className:"px-6 pb-4 space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary font-semibold",children:(((T=v.medico)==null?void 0:T.nome)||"—").split(" ").map(R=>R==null?void 0:R[0]).filter(Boolean).slice(0,2).join("").toUpperCase()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-base",children:((P=v.medico)==null?void 0:P.nome)||"—"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:((A=v.medico)==null?void 0:A.especialidade)||"Especialidade não informada"})]})]}),e.jsx("div",{className:"h-px bg-border"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Data"}),e.jsx("p",{className:"font-medium",children:v.data?new Date(v.data).toLocaleDateString():"—"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Hora"}),e.jsx("p",{className:"font-medium",children:v.data?new Date(v.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"—"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Tipo"}),e.jsx("span",{className:"inline-block rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:v.tipo||"—"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Status"}),e.jsx("span",{className:"inline-block rounded-full px-2 py-1 text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",children:v.status||"—"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Local"}),e.jsx("p",{className:"text-sm",children:v.local||"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Observações"}),e.jsx("div",{className:"rounded-md bg-muted/40 p-3 text-sm leading-relaxed whitespace-pre-wrap",children:v.observacoes||"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Medicamentos"}),(()=>{var O;const R=v.medicamentos??((O=v.prescricao)==null?void 0:O.medicamentos),$=Array.isArray(R)?R:typeof R=="string"?R.split(",").map(I=>I.trim()).filter(Boolean):[];return $.length?e.jsx("div",{className:"flex flex-wrap gap-2",children:$.map((I,V)=>{const J=typeof I=="string"?I:(I==null?void 0:I.nome)||(I==null?void 0:I.medicamento)||(I==null?void 0:I.nome_medicamento)||[I==null?void 0:I.descricao,(I==null?void 0:I.dose)||(I==null?void 0:I.dosagem),(I==null?void 0:I.posologia)||(I==null?void 0:I.frequencia)].filter(Boolean).join(" • ")||JSON.stringify(I);return e.jsx("span",{className:"rounded-full px-2.5 py-1 text-xs bg-muted text-foreground",children:J},V)})}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"—"})})()]}),e.jsx(eo,{children:e.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>p(!1),children:"Fechar"})})]}):e.jsx("div",{className:"px-6 pb-6 text-sm text-muted-foreground",children:"Selecione uma consulta para ver os detalhes."})]})})]})}function pA(){const[t,n]=x.useState([]),[a,o]=x.useState(!0),[i,c]=x.useState(null),[d,f]=x.useState("todas"),[u,g]=x.useState(""),h=_=>{var S;return((S=_==null?void 0:_.tipo_exame)==null?void 0:S.nome)||(_==null?void 0:_.tipo_exame_nome)||(_==null?void 0:_.nome_exame)||(typeof(_==null?void 0:_.tipo_exame)=="string"?_.tipo_exame:null)||(_==null?void 0:_.nome)||(_==null?void 0:_.tipo)||(_==null?void 0:_.exame)||"Exame"},p=_=>{const S=_==null?void 0:_.user;return[S==null?void 0:S.first_name,S==null?void 0:S.last_name].filter(Boolean).join(" ").trim()||(S==null?void 0:S.nome)||(S==null?void 0:S.username)||(_==null?void 0:_.nome)||"—"},v=_=>{var k;const S=(_==null?void 0:_.resultado_url)||(_==null?void 0:_.arquivo_resultado)||((k=_==null?void 0:_.resultado)==null?void 0:k.arquivo)||(_==null?void 0:_.arquivo_url)||(_==null?void 0:_.documento_url);return S?/^https?:\/\//i.test(S)?S:`http://127.0.0.1:8000${S.startsWith("/")?"":"/"}${S}`:null};x.useEffect(()=>{let _=!0;return(async()=>{try{const S=await Ct.getExames();if(_){const k=(Array.isArray(S)?S:(S==null?void 0:S.results)||[]).map(T=>({id:T.id,data:T.data_agendamento||T.data_solicitacao||T.data||T.data_hora||null,nome:h(T),medico:{nome:p((T==null?void 0:T.medico_solicitante)||(T==null?void 0:T.medico))},status:T.status||T.situacao||"Pendente",local:T.local_realizacao||T.local||T.localizacao||T.unidade||"",resultado_url:v(T)}));n(k)}}catch{c("Não foi possível carregar os exames.")}finally{_&&o(!1)}})(),()=>{_=!1}},[]);const N=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}],w=t.filter(_=>{var S;if(d==="agendados"){const E=_.data?new Date(_.data)>new Date:!1;if(!E&&(_.status||"").toLowerCase().includes("conclu")||!E&&(_.status||"").toLowerCase()==="realizado")return!1}if(d==="realizados"&&!((_.status||"").toLowerCase().includes("conclu")||(_.status||"").toLowerCase()==="realizado"||(_.data?new Date(_.data)<new Date:!1)))return!1;if(u){const E=u.toLowerCase();return(_.nome||"").toLowerCase().includes(E)||(((S=_.medico)==null?void 0:S.nome)||"").toLowerCase().includes(E)||(_.local||"").toLowerCase().includes(E)}return!0}),y=w.filter(_=>{const S=_.data?new Date(_.data)>new Date:!1,E=(_.status||"").toLowerCase();return S||E==="agendado"||E==="pendente"||E==="solicitado"}).sort((_,S)=>new Date(_.data||0)-new Date(S.data||0)),b=w.filter(_=>{const S=(_.status||"").toLowerCase();return(_.data?new Date(_.data)<new Date:!1)||S.includes("conclu")||S==="realizado"}).sort((_,S)=>new Date(S.data||0)-new Date(_.data||0));return e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hn,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Meus Exames"})]}),e.jsx(nn,{tabs:N,basePath:"/paciente"}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(fe,{placeholder:"Buscar por exame, médico ou local...",value:u,onChange:_=>g(_.target.value)})}),e.jsx("div",{className:"w-full md:w-[220px]",children:e.jsxs(Nt,{value:d,onValueChange:f,children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:"Filtrar por status"})}),e.jsxs(yt,{children:[e.jsx(Se,{value:"todas",children:"Todos os exames"}),e.jsx(Se,{value:"agendados",children:"Agendados"}),e.jsx(Se,{value:"realizados",children:"Realizados"})]})]})})]}),e.jsxs($n,{defaultValue:"agendados",className:"w-full",children:[e.jsxs(Ln,{className:"grid w-full grid-cols-2",children:[e.jsx(_t,{value:"agendados",children:"Exames Agendados"}),e.jsx(_t,{value:"realizados",children:"Histórico de Exames"})]}),e.jsx(Dt,{value:"agendados",children:e.jsxs(de,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Próximos Exames"})}),e.jsx(ue,{children:a?e.jsx("div",{className:"space-y-2",children:[...Array(3)].map((_,S)=>e.jsx(ht,{className:"h-24 w-full"},S))}):i?e.jsx("p",{className:"text-sm text-red-500",children:i}):y.length===0?e.jsx("div",{className:"text-center py-8 text-sm text-muted-foreground",children:"Você não possui exames agendados no momento."}):e.jsx("div",{className:"space-y-4",children:y.map(_=>{var S;return e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 border rounded-lg p-4 bg-app-soft dark:bg-background",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:_.nome}),e.jsx("p",{className:"text-sm text-muted-foreground",children:((S=_.medico)==null?void 0:S.nome)||"—"})]}),e.jsxs("div",{className:"text-sm",children:[_.data?new Date(_.data).toLocaleDateString():"—"," ",_.data?`às ${new Date(_.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:""]})]}),e.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:_.local||"Local não especificado"}),e.jsx("div",{className:"mt-3",children:e.jsx("span",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:_.status})})]}),e.jsx("div",{className:"flex flex-row md:flex-col gap-2 justify-end"})]},_.id||`${_.data}-${_.nome}`)})})})]})}),e.jsx(Dt,{value:"realizados",children:e.jsxs(de,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Histórico de Exames"})}),e.jsx(ue,{children:a?e.jsx("div",{className:"space-y-2",children:[...Array(5)].map((_,S)=>e.jsx(ht,{className:"h-10 w-full"},S))}):i?e.jsx("p",{className:"text-sm text-red-500",children:i}):b.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Você não possui exames realizados no histórico."}):e.jsxs(In,{children:[e.jsx(Fn,{children:e.jsxs(Qt,{children:[e.jsx(nt,{children:"Data"}),e.jsx(nt,{children:"Exame"}),e.jsx(nt,{children:"Médico"}),e.jsx(nt,{children:"Status"}),e.jsx(nt,{children:"Ações"})]})}),e.jsx(zn,{children:w.map(_=>{var S;return e.jsxs(Qt,{children:[e.jsx(Ze,{children:_.data?new Date(_.data).toLocaleDateString():"—"}),e.jsx(Ze,{children:_.nome}),e.jsx(Ze,{children:((S=_.medico)==null?void 0:S.nome)||"—"}),e.jsx(Ze,{children:e.jsx("span",{className:`rounded-full px-2 py-1 text-xs ${(_.status||"").toLowerCase().includes("conclu")||(_.status||"").toLowerCase()==="realizado"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-primary/10 text-primary"}`,children:_.status||"—"})}),e.jsx(Ze,{children:e.jsx("div",{className:"flex items-center justify-end gap-3",children:_.resultado_url?e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:_.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-2 rounded-lg border border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",title:"Abrir resultado em nova aba",children:[e.jsx($r,{className:"h-4 w-4 transition-transform group-hover:-translate-y-0.5"}),e.jsx("span",{children:"Ver"})]}),e.jsxs(ne,{variant:"outline",className:"group inline-flex items-center gap-2 rounded-lg border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",onClick:()=>void hA(_),title:"Baixar arquivo",children:[e.jsx(Qa,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),e.jsx("span",{children:"Baixar"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem arquivo"}),e.jsxs(ne,{variant:"outline",disabled:!0,className:"inline-flex items-center gap-2 rounded-lg border-emerald-500/30 bg-gradient-to-b from-emerald-500/5 to-emerald-600/5 px-3 py-1.5 text-emerald-400/50 disabled:opacity-60 disabled:cursor-not-allowed",title:"Resultado ainda não disponível",children:[e.jsx(Qa,{className:"h-4 w-4"}),e.jsx("span",{children:"Baixar"})]})]})})})]},_.id)})})]})})]})})]})]})}const hA=async t=>{var n;try{let a=t==null?void 0:t.resultado_url;if(!a)return;/^https?:\/\//i.test(a)||(a=`http://127.0.0.1:8000${a.startsWith("/")?"":"/"}${a}`);const o=await le.get(a,{responseType:"blob",baseURL:""}),i=new Blob([o.data],{type:o.headers["content-type"]||"application/octet-stream"}),c=o.headers["content-disposition"]||"",d=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(c),f=decodeURIComponent((d==null?void 0:d[1])||(d==null?void 0:d[2])||`${t.nome||"resultado"}.pdf`),u=document.createElement("a");u.href=URL.createObjectURL(i),u.download=f,document.body.appendChild(u),u.click(),u.remove(),setTimeout(()=>URL.revokeObjectURL(u.href),2e3)}catch(a){console.warn("[Exames] download falhou:",(n=a==null?void 0:a.response)==null?void 0:n.status),alert("Não foi possível baixar o resultado. Tente novamente.")}};function xA(){const[t,n]=x.useState([]),[a,o]=x.useState(!0),[i,c]=x.useState(null),[d,f]=x.useState("todos"),[u,g]=x.useState("todos"),[h,p]=x.useState(""),v=E=>{var k;return((k=E==null?void 0:E.tipo_exame)==null?void 0:k.nome)||(E==null?void 0:E.tipo_exame_nome)||(E==null?void 0:E.nome_exame)||(typeof(E==null?void 0:E.tipo_exame)=="string"?E.tipo_exame:null)||(E==null?void 0:E.nome)||(E==null?void 0:E.tipo)||(E==null?void 0:E.exame)||"Exame"},N=E=>{const k=E==null?void 0:E.user;return[k==null?void 0:k.first_name,k==null?void 0:k.last_name].filter(Boolean).join(" ").trim()||(k==null?void 0:k.nome)||(k==null?void 0:k.username)||(E==null?void 0:E.nome)||"—"},w=E=>{var P;const k=(E==null?void 0:E.resultado_url)||(E==null?void 0:E.arquivo_resultado)||((P=E==null?void 0:E.resultado)==null?void 0:P.arquivo)||(E==null?void 0:E.arquivo_url)||(E==null?void 0:E.documento_url);return k?/^https?:\/\//i.test(k)?k:`http://127.0.0.1:8000${k.startsWith("/")?"":"/"}${k}`:null},y=E=>{if(!E)return"sem-data";const k=new Date(E);return Number.isNaN(k.getTime())?"sem-data":k.toISOString().slice(0,10)},b=E=>{try{return new Date(E).toLocaleString()}catch{return E||"—"}};x.useEffect(()=>{let E=!0;return(async()=>{var k,T,P;try{const[A,R,$]=await Promise.allSettled([Ct.getConsultas(),Ct.getExames(),Ct.getReceitas()]),O=A.status==="fulfilled"?(Array.isArray(A.value)?A.value:(k=A.value)==null?void 0:k.results)||[]:[],I=R.status==="fulfilled"?(Array.isArray(R.value)?R.value:(T=R.value)==null?void 0:T.results)||[]:[],V=$.status==="fulfilled"?(Array.isArray($.value)?$.value:(P=$.value)==null?void 0:P.results)||[]:[],J=I.map(W=>({id:W.id||Math.random(),tipo:"exame",data:W.data_agendamento||W.data_solicitacao||W.data||W.data_hora||null,titulo:`Exame - ${v(W)}`.trim(),detalhe:N((W==null?void 0:W.medico_solicitante)||(W==null?void 0:W.medico)),status:W.status||W.situacao||"pendente",resultado_url:w(W),nome:v(W)})),F=O.map(W=>{var U,X;return{id:W.id||Math.random(),tipo:"consulta",data:W.data_hora||W.data||null,titulo:`Consulta - ${W.especialidade||((U=W.medico)==null?void 0:U.especialidade)||""}`.trim(),detalhe:((X=W.medico)==null?void 0:X.nome)||N(W==null?void 0:W.medico)||"",status:W.status||"pendente"}}),K=V.map(W=>{var ee;const U=W.medico||((ee=W.consulta)==null?void 0:ee.medico),X=Array.isArray(W.itens)&&W.itens.length?W.itens.map(L=>{var q;return((q=L==null?void 0:L.medicamento)==null?void 0:q.nome)||(L==null?void 0:L.medicamento)||""}).filter(Boolean).join(", "):W.medicamentos||"Prescrição";return{id:W.id||Math.random(),tipo:"receita",data:W.created_at||W.data||W.emissao||W.data_emissao||null,titulo:`Receita - ${X}`.trim(),detalhe:N(U),status:W.status||(W.arquivo_assinado?"assinada":"emitida"),resultado_url:W.arquivo_assinado||null,nome:"Receita"}}),M=[...F,...J,...K].filter(W=>W.data).sort((W,U)=>new Date(U.data||0)-new Date(W.data||0));E&&n(M)}catch{c("Não foi possível carregar o histórico.")}finally{E&&o(!1)}})(),()=>{E=!1}},[]);const _=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}],S=x.useMemo(()=>{let E=t;if(d!=="todos"){const P={consultas:"consulta",exames:"exame",receitas:"receita"};E=E.filter(A=>A.tipo===(P[d]||d))}if(u!=="todos"&&(E=E.filter(P=>(P.status||"").toLowerCase()===u.toLowerCase())),h.trim()){const P=h.toLowerCase();E=E.filter(A=>{var R,$;return((R=A.titulo)==null?void 0:R.toLowerCase().includes(P))||(($=A.detalhe)==null?void 0:$.toLowerCase().includes(P))||(A.status||"").toLowerCase().includes(P)})}const k={};for(const P of E){const A=y(P.data);k[A]||(k[A]=[]),k[A].push(P)}const T=Object.keys(k).sort((P,A)=>P<A?1:-1);return{groups:k,orderedKeys:T}},[t,d,u,h]);return e.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(jv,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Histórico Médico"})]}),e.jsx(nn,{tabs:_,basePath:"/paciente"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsx("div",{className:"flex-1 relative",children:e.jsx(fe,{placeholder:"Buscar por título, médico, status...",value:h,onChange:E=>p(E.target.value),className:"w-full"})}),e.jsxs(Nt,{value:d,onValueChange:f,children:[e.jsx(vt,{className:"w-[180px]",children:e.jsx(bt,{placeholder:"Tipo"})}),e.jsxs(yt,{children:[e.jsx(Se,{value:"todos",children:"Todos"}),e.jsx(Se,{value:"consultas",children:"Consultas"}),e.jsx(Se,{value:"exames",children:"Exames"}),e.jsx(Se,{value:"receitas",children:"Receitas"})]})]}),e.jsxs(Nt,{value:u,onValueChange:g,children:[e.jsx(vt,{className:"w-[180px]",children:e.jsx(bt,{placeholder:"Status"})}),e.jsxs(yt,{children:[e.jsx(Se,{value:"todos",children:"Todos"}),e.jsx(Se,{value:"solicitado",children:"Solicitado"}),e.jsx(Se,{value:"agendado",children:"Agendado"}),e.jsx(Se,{value:"realizado",children:"Realizado"}),e.jsx(Se,{value:"cancelado",children:"Cancelado"}),e.jsx(Se,{value:"pendente",children:"Pendente"})]})]})]}),e.jsxs(de,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Linha do Tempo"})}),e.jsx(ue,{children:a?e.jsx("div",{className:"space-y-3",children:[...Array(6)].map((E,k)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ht,{className:"h-4 w-4 rounded-full"}),e.jsx(ht,{className:"h-6 w-2/3"})]},k))}):i?e.jsx("p",{className:"text-sm text-red-500",children:i}):S.orderedKeys.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum evento encontrado."}):e.jsx("div",{className:"space-y-8",children:S.orderedKeys.map(E=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-muted-foreground",children:[e.jsx(rt,{className:"h-4 w-4"}),e.jsx("span",{children:E==="sem-data"?"Sem data":new Date(E).toLocaleDateString()})]}),e.jsxs("div",{className:"relative pl-6",children:[e.jsx("div",{className:"absolute left-1 top-0 bottom-0 w-px bg-border"}),e.jsx("ul",{className:"space-y-4",children:S.groups[E].map(k=>e.jsxs("li",{className:"relative",children:[e.jsx("span",{className:`absolute -left-[7px] top-1 inline-flex items-center justify-center h-4 w-4 rounded-full ${k.tipo==="consulta"?"bg-primary":k.tipo==="exame"?"bg-emerald-500":"bg-indigo-500"}`,title:k.tipo==="consulta"?"Consulta":k.tipo==="exame"?"Exame":"Receita"}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5 text-muted-foreground",children:k.tipo==="consulta"?e.jsx(Gt,{className:"h-4 w-4"}):k.tipo==="exame"?e.jsx(DC,{className:"h-4 w-4 text-emerald-400"}):e.jsx(Fm,{className:"h-4 w-4 text-indigo-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:k.titulo}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[k.detalhe||"—"," ",k.status?`• ${k.status}`:""]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:b(k.data)})]})]}),k.tipo==="exame"&&e.jsx("div",{className:"flex items-center gap-2",children:k.resultado_url?e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:k.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-2 rounded-lg border border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",title:"Abrir resultado em nova aba",children:[e.jsx($r,{className:"h-4 w-4 transition-transform group-hover:-translate-y-0.5"}),e.jsx("span",{children:"Ver"})]}),e.jsxs(ne,{variant:"outline",className:"group inline-flex items-center gap-2 rounded-lg border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",onClick:()=>void gg(k),title:"Baixar arquivo",children:[e.jsx(Qa,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),e.jsx("span",{children:"Baixar"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem arquivo"}),e.jsxs(ne,{variant:"outline",disabled:!0,className:"inline-flex items-center gap-2 rounded-lg border-emerald-500/30 bg-gradient-to-b from-emerald-500/5 to-emerald-600/5 px-3 py-1.5 text-emerald-400/50 disabled:opacity-60 disabled:cursor-not-allowed",title:"Resultado ainda não disponível",children:[e.jsx(Qa,{className:"h-4 w-4"}),e.jsx("span",{children:"Baixar"})]})]})}),k.tipo==="receita"&&e.jsx("div",{className:"flex items-center gap-2",children:k.resultado_url?e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:k.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-lg border border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",title:"Abrir receita em nova aba",children:[e.jsx($r,{className:"h-4 w-4"}),e.jsx("span",{children:"Ver"})]}),e.jsxs(ne,{variant:"outline",className:"inline-flex items-center gap-2 rounded-lg border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",onClick:()=>void gg(k),title:"Baixar PDF",children:[e.jsx(Qa,{className:"h-4 w-4"}),e.jsx("span",{children:"Baixar"})]})]}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem PDF assinado"})})]})]},k.id))})]})]},E))})})]})]})}const gg=async t=>{var n;try{let a=t==null?void 0:t.resultado_url;if(!a)return;if(/^(data|blob):/i.test(a)){const g=document.createElement("a");g.href=a,g.download=`${t.nome||"resultado"}.pdf`,document.body.appendChild(g),g.click(),g.remove();return}/^https?:\/\//i.test(a)||(a=`http://127.0.0.1:8000${a.startsWith("/")?"":"/"}${a}`);const o=await le.get(a,{responseType:"blob",baseURL:""}),i=new Blob([o.data],{type:o.headers["content-type"]||"application/octet-stream"}),c=o.headers["content-disposition"]||"",d=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(c),f=decodeURIComponent((d==null?void 0:d[1])||(d==null?void 0:d[2])||`${t.nome||"resultado"}.pdf`),u=document.createElement("a");u.href=URL.createObjectURL(i),u.download=f,document.body.appendChild(u),u.click(),u.remove(),setTimeout(()=>URL.revokeObjectURL(u.href),2e3)}catch(a){console.warn("[Historico Medico] download falhou:",(n=a==null?void 0:a.response)==null?void 0:n.status),alert("Não foi possível baixar o resultado. Tente novamente.")}};function gA(){const[t,n]=x.useState([]),[a,o]=x.useState(!0),[i,c]=x.useState(null);x.useEffect(()=>{let f=!0;return(async()=>{try{const u=await Ct.getMedicos();f&&n(Array.isArray(u)?u:(u==null?void 0:u.results)||[])}catch{c("Não foi possível carregar os médicos vinculados.")}finally{f&&o(!1)}})(),()=>{f=!1}},[]);const d=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];return e.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gt,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Médicos Vinculados"})]}),e.jsx(nn,{tabs:d,basePath:"/paciente"}),a?e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:[...Array(4)].map((f,u)=>e.jsxs(de,{children:[e.jsx(pe,{children:e.jsx(ht,{className:"h-5 w-48"})}),e.jsxs(ue,{className:"space-y-2",children:[e.jsx(ht,{className:"h-4 w-56"}),e.jsx(ht,{className:"h-4 w-32"})]})]},u))}):i?e.jsx("p",{className:"text-sm text-red-500",children:i}):t.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum médico vinculado."}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:t.map(f=>{var u,g;return e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(xs,{className:"h-5 w-5"}),vA(f)]})}),e.jsxs(ue,{className:"space-y-2 text-sm",children:[e.jsx("div",{className:"text-muted-foreground",children:yA(f)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:["CRM: ",jg(f)||"—"]})]}),vg(f)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ai,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:vg(f)})]}),yg(f)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:yg(f)})]})]})]},f.id||jg(f)||((u=f.user)==null?void 0:u.id)||((g=f.user)==null?void 0:g.email))})})]})}const vA=t=>{const n=(t==null?void 0:t.user)||{};return[n.first_name,n.last_name].filter(Boolean).join(" ").trim()||n.nome||n.name||n.username||(t==null?void 0:t.nome)||(t==null?void 0:t.name)||(t==null?void 0:t.full_name)||"Médico"},yA=t=>{var a;const n=o=>(o==null?void 0:o.nome)||(o==null?void 0:o.titulo)||(o==null?void 0:o.name)||(o==null?void 0:o.descricao)||(o==null?void 0:o.description);if(Array.isArray(t==null?void 0:t.especialidades)&&t.especialidades.length){const o=t.especialidades.map(i=>n(i)||(typeof i=="string"?i:null)).filter(Boolean);if(o.length)return o.join(", ")}if(t!=null&&t.especialidade&&typeof t.especialidade=="object"){const o=n(t.especialidade);if(o)return o}return typeof(t==null?void 0:t.especialidade)=="string"&&t.especialidade.trim()?t.especialidade.trim():typeof(t==null?void 0:t.especialidade_nome)=="string"&&t.especialidade_nome.trim()?t.especialidade_nome.trim():typeof(t==null?void 0:t.specialty)=="string"&&t.specialty.trim()?t.specialty.trim():typeof(t==null?void 0:t.area)=="string"&&t.area.trim()?t.area.trim():typeof((a=t==null?void 0:t.user)==null?void 0:a.especialidade)=="string"&&t.user.especialidade.trim()?t.user.especialidade.trim():"Especialidade não informada"},vg=t=>{var n;return(t==null?void 0:t.telefone)||(t==null?void 0:t.phone)||(t==null?void 0:t.celular)||((n=t==null?void 0:t.user)==null?void 0:n.phone)||null},yg=t=>{var n;return(t==null?void 0:t.email)||((n=t==null?void 0:t.user)==null?void 0:n.email)||null},jg=t=>(t==null?void 0:t.crm)||(t==null?void 0:t.crm_numero)||(t==null?void 0:t.crmNumber)||(t==null?void 0:t.crm_registro)||null;function jA(){const{toast:t}=Xt(),[n,a]=x.useState(!0),[o,i]=x.useState(""),[c,d]=x.useState([]),[f,u]=x.useState([]),[g,h]=x.useState(!1),[p,v]=x.useState({medico:"",mensagem:""}),[N,w]=x.useState(!1),y=x.useMemo(()=>Array.isArray(f)?f.filter(P=>P&&String(P.id??"").trim()!==""):[],[f]),b=P=>{const A=P==null?void 0:P.user;return[A==null?void 0:A.first_name,A==null?void 0:A.last_name].filter(Boolean).join(" ").trim()||(A==null?void 0:A.nome)||(A==null?void 0:A.username)||(P==null?void 0:P.nome)||(P==null?void 0:P.name)||(P==null?void 0:P.full_name)||(P==null?void 0:P.medico_nome)||(P==null?void 0:P.doctor_name)||"Médico"},_=x.useMemo(()=>Array.isArray(c)?c.length>0:Array.isArray(c==null?void 0:c.results)?c.results.length>0:!1,[c]),S=x.useMemo(()=>[...Array.isArray(c)?c:Array.isArray(c==null?void 0:c.results)?c.results:[]].sort((A,R)=>new Date(R.created_at||0)-new Date(A.created_at||0)),[c]);x.useEffect(()=>{let P=!0;async function A(){a(!0),i("");try{const[R,$]=await Promise.all([Ct.getReceitas(),Ct.getMedicosVinculados()]);if(!P)return;if(d(R),u($),Array.isArray($)&&$.length===0)try{const O=await Ct.getMedicos({limit:50}),I=Array.isArray(O)?O:(O==null?void 0:O.results)||[];P&&I.length>0&&u(I)}catch{}}catch{if(!P)return;i("Falha ao carregar receitas.")}finally{P&&a(!1)}}return A(),()=>{P=!1}},[]);const E=async P=>{var A,R;if(P.preventDefault(),!p.medico){t({title:"Selecione um médico",description:"Escolha o médico para enviar a solicitação."});return}w(!0);try{await Ct.solicitarReceita({medico:p.medico,mensagem:p.mensagem}),t({title:"Solicitação enviada",description:"Seu pedido de receita foi enviado ao médico."}),h(!1),v({medico:"",mensagem:""})}catch($){t({title:"Erro ao solicitar",description:((R=(A=$==null?void 0:$.response)==null?void 0:A.data)==null?void 0:R.detail)||"Não foi possível enviar a solicitação.",variant:"destructive"})}finally{w(!1)}},k=async(P,A)=>{var R;try{if(!P)return;const $=(M,W)=>{const U=document.createElement("a"),X=URL.createObjectURL(M);U.href=X,U.download=decodeURIComponent(W),document.body.appendChild(U),U.click(),U.remove(),setTimeout(()=>URL.revokeObjectURL(X),2e3)},O=(M,W="Receita_Medica.pdf")=>{let U=M||W;return/\.[a-z0-9]+$/i.test(U)||(U+=".pdf"),U};if(/^data:/i.test(P))try{const M=P.split(","),W=M[0]||"",U=M.slice(1).join(","),X=(W.match(/data:([^;]+)/i)||[])[1]||"application/pdf",ee=atob(U),L=ee.length,q=new Uint8Array(L);for(let G=0;G<L;G++)q[G]=ee.charCodeAt(G);const te=new Blob([q],{type:X}),B=`Receita_${(A==null?void 0:A.id)||"documento"}`,z=O(B);$(te,z);return}catch(M){console.error("[Receitas] Falha ao processar data URL:",M),t({title:"Falha no download",description:"Arquivo inválido ou corrompido.",variant:"destructive"});return}if(/^blob:/i.test(P))try{const W=await(await fetch(P)).blob(),U=`Receita_${(A==null?void 0:A.id)||"documento"}`,X=O(U);$(W,X);return}catch(M){console.error("[Receitas] Blob URL indisponível (provavelmente de outra aba/sessão):",M),t({title:"Arquivo indisponível",description:"Essa receita foi gerada em outra aba/sessão. Gere novamente para baixar.",variant:"destructive"});return}/^https?:\/\//i.test(P)||(P=`${"http://127.0.0.1:8000".replace(/\/$/,"")}${P.startsWith("/")?"":"/"}${P}`);const I=await le.get(P,{responseType:"blob",baseURL:""}),V=new Blob([I.data],{type:I.headers["content-type"]||"application/pdf"}),J=I.headers["content-disposition"]||"",F=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(J);let K=(F==null?void 0:F[1])||(F==null?void 0:F[2]);if(!K)try{const M=new URL(P);K=decodeURIComponent(M.pathname.split("/").pop()||"")}catch{K=""}K||(K=`Receita_${(A==null?void 0:A.id)||"documento"}.pdf`),K=O(K),$(V,K)}catch($){console.error("[Receitas] Falha ao baixar PDF assinado:",((R=$==null?void 0:$.response)==null?void 0:R.status)||$),t({title:"Falha no download",description:"Não foi possível baixar o arquivo. Tente novamente.",variant:"destructive"})}},T=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];return n?e.jsx("div",{children:"Carregando receitas..."}):o?e.jsx("div",{className:"text-red-600",children:o}):e.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fm,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Minhas Receitas"})]}),e.jsx(nn,{tabs:T,basePath:"/paciente"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{}),e.jsx(ne,{onClick:()=>h(!0),children:"Solicitar Receita"})]}),_?e.jsx("div",{className:"grid gap-4",children:S.map(P=>{var O;const A=P.consulta,R=b(P.medico),$=((O=A==null?void 0:A.paciente)!=null&&O.user?`${A.paciente.user.first_name||""} ${A.paciente.user.last_name||""}`.trim():"Paciente")||"Paciente";return e.jsxs("div",{className:"border rounded p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"font-medium",children:["Emitida em: ",new Date(P.created_at).toLocaleString()]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Validade: ",P.validade]})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Médico:"})," ",R]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Paciente:"})," ",$]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"font-semibold",children:"Medicamentos"}),e.jsx("div",{className:"whitespace-pre-wrap text-sm",children:P.medicamentos})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"font-semibold",children:"Posologia"}),e.jsx("div",{className:"whitespace-pre-wrap text-sm",children:P.posologia})]}),P.observacoes?e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"font-semibold",children:"Observações"}),e.jsx("div",{className:"whitespace-pre-wrap text-sm",children:P.observacoes})]}):null,Array.isArray(P.itens)&&P.itens.length>0?e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"font-semibold",children:"Itens estruturados"}),e.jsx("ul",{className:"list-disc ml-6 text-sm",children:P.itens.map(I=>{var V;return e.jsxs("li",{children:[((V=I.medicamento)==null?void 0:V.nome)||"Medicamento"," - ",I.dose||""," ",I.frequencia?`| ${I.frequencia}`:""," ",I.duracao?`| ${I.duracao}`:"",I.observacoes?e.jsxs("span",{children:[" — ",I.observacoes]}):null]},I.id)})})]}):null,P.arquivo_assinado?e.jsx("div",{className:"mt-3",children:e.jsx("button",{type:"button",className:"text-blue-600 underline",onClick:()=>k(P.arquivo_assinado,P),children:"Baixar PDF assinado"})}):e.jsxs("div",{className:"mt-3",children:[e.jsx("button",{type:"button",className:"text-blue-600 underline",onClick:()=>wA(P),children:"Baixar PDF (gerado)"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Nenhum arquivo assinado disponível para esta receita."})]})]},P.id)})}):e.jsx("div",{className:"text-gray-600",children:"Você ainda não possui receitas."}),g?e.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-card text-card-foreground border rounded-lg p-6 w-full max-w-lg shadow-lg",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Solicitar Receita"}),e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ce,{className:"mb-1 block",children:"Médico"}),e.jsxs(Nt,{value:p.medico,onValueChange:P=>v(A=>({...A,medico:P})),children:[e.jsx(vt,{className:"w-full",children:e.jsx(bt,{placeholder:n?"Carregando...":y.length?"Selecione...":"Nenhum médico disponível"})}),e.jsx(yt,{children:y.length===0?e.jsx(K0,{children:"Nenhum médico disponível"}):y.map(P=>{const A=(P!=null&&P.user?`${P.user.first_name||""} ${P.user.last_name||""}`.trim():P==null?void 0:P.nome)||"Médico";return e.jsxs(Se,{value:String(P.id),children:[A," ",P.crm?`- CRM ${P.crm}`:""]},String(P.id))})})]})]}),e.jsxs("div",{children:[e.jsx(ce,{className:"mb-1 block",children:"Mensagem (opcional)"}),e.jsx(pt,{rows:3,placeholder:"Descreva sua necessidade (ex: renovação de medicamento de uso contínuo)",value:p.mensagem,onChange:P=>v(A=>({...A,mensagem:P.target.value}))})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(ne,{type:"button",variant:"outline",onClick:()=>{h(!1),v({medico:"",mensagem:""})},children:"Cancelar"}),e.jsx(ne,{type:"submit",disabled:N,children:N?"Enviando...":"Enviar solicitação"})]})]})]})}):null]})}const wA=async t=>{try{const{PDFDocument:n,StandardFonts:a,rgb:o}=await Wo(async()=>{const{PDFDocument:y,StandardFonts:b,rgb:_}=await import("./index-kphpKW8m.js");return{PDFDocument:y,StandardFonts:b,rgb:_}},[]),i=await n.create(),c=i.addPage([595.28,841.89]),d=await i.embedFont(a.Helvetica),f=(y,b,_,S=12,E=o(0,0,0))=>{c.drawText(String(y||""),{x:b,y:_,size:S,font:d,color:E})};let u=800;f("Receita Médica (pré-assinatura, não assinada)",50,u,16),u-=30;const g=(y,b)=>`${y}: ${b??""}`;f(g("Emitida em",(t==null?void 0:t.created_at)||(t==null?void 0:t.data_emissao)||""),50,u),u-=18,f(g("Médico",(t==null?void 0:t.medico_nome)||(t==null?void 0:t.medico)||(t==null?void 0:t.medico_id)||""),50,u),u-=18,f(g("Paciente",(t==null?void 0:t.paciente_nome)||(t==null?void 0:t.paciente)||(t==null?void 0:t.paciente_id)||""),50,u),u-=24,f("Medicamentos",50,u,14),u-=18,f(String((t==null?void 0:t.medicamentos)||(t==null?void 0:t.itens)||(t==null?void 0:t.descricao)||""),50,u),u-=36,f("Posologia",50,u,14),u-=18,f(String((t==null?void 0:t.posologia)||(t==null?void 0:t.orientacoes)||""),50,u),u-=36,t!=null&&t.observacoes&&(f("Observações",50,u,14),u-=18,f(String(t==null?void 0:t.observacoes),50,u),u-=36),Array.isArray(t==null?void 0:t.itens_estruturados)&&t.itens_estruturados.length&&(f("Itens estruturados",50,u,14),u-=18,t.itens_estruturados.forEach(y=>{const b=Object.values(y||{}).filter(Boolean).join(" · ");f(`• ${b}`,60,u),u-=16}),u-=10);const h=await i.save(),p=new Blob([h],{type:"application/pdf"}),v=`Receita_${(t==null?void 0:t.id)||"documento"}.pdf`,N=document.createElement("a"),w=URL.createObjectURL(p);N.href=w,N.download=v,document.body.appendChild(N),N.click(),N.remove(),setTimeout(()=>URL.revokeObjectURL(w),2e3)}catch(n){console.error("[Receitas] Falha ao gerar PDF local:",n),toast({title:"Falha ao gerar PDF",description:"Tente novamente.",variant:"destructive"})}};function J0(t,n=[]){const[a,o]=x.useState(null),[i,c]=x.useState(!0),[d,f]=x.useState(null);return x.useEffect(()=>{let g=!0;return(async()=>{var p,v;try{c(!0),f(null);const N=await t();g&&o(N)}catch(N){g&&f(((v=(p=N.response)==null?void 0:p.data)==null?void 0:v.message)||"Erro ao carregar dados")}finally{g&&c(!1)}})(),()=>{g=!1}},n),{data:a,loading:i,error:d,refetch:async()=>{var g,h;try{c(!0),f(null);const p=await t();o(p)}catch(p){f(((h=(g=p.response)==null?void 0:g.data)==null?void 0:h.message)||"Erro ao carregar dados")}finally{c(!1)}}}}const tt={async getPerfil(){var d,f,u,g,h,p;const t="/medicos/",n=t.endsWith("/")?t:`${t}/`,a="".toLowerCase()==="true",o="".toLowerCase()==="true";let i=ut.getCurrentUser();if(!(i!=null&&i.id))try{const v=await ut.refreshCurrentUser();v!=null&&v.id&&(i=v)}catch{}if(i!=null&&i.id){const v="user,user__id,user_id,usuario,usuario_id".split(",").map(N=>N.trim()).filter(Boolean);for(const N of v)try{const w=await le.get(n,{params:{[N]:i.id}}),y=Array.isArray((d=w.data)==null?void 0:d.results)?w.data.results:w.data;if(Array.isArray(y)){const b=y.find(_=>{var S,E;return((S=_==null?void 0:_.user)==null?void 0:S.id)===i.id||((E=_==null?void 0:_.usuario)==null?void 0:E.id)===i.id||(_==null?void 0:_.user)===i.id||(_==null?void 0:_.usuario)===i.id});if(b)return b;continue}if(y&&typeof y=="object"){const b=y;if(((f=b==null?void 0:b.user)==null?void 0:f.id)===i.id||((u=b==null?void 0:b.usuario)==null?void 0:u.id)===i.id||(b==null?void 0:b.user)===i.id||(b==null?void 0:b.usuario)===i.id)return b;continue}}catch{}}if(a)try{return(await le.get(`${n}me/`)).data}catch(v){if(((g=v==null?void 0:v.response)==null?void 0:g.status)!==404)throw v}let c=null;if(o){const v=[],N="/users/".trim();if(N)if(N.includes("/me"))v.push(N);else{const w=N.endsWith("/")?N:`${N}/`;v.push(`${w}me/`)}v.push("/users/me/"),v.push("/auth/user/");for(const w of v)try{if(c=(await le.get(w)).data,c&&!c.id){const b=Array.isArray(c==null?void 0:c.results)?c.results[0]:Array.isArray(c)?c[0]:null;b!=null&&b.id&&(c=b)}if(c!=null&&c.id)break}catch{}}try{const v=await le.get(n),N=Array.isArray((h=v.data)==null?void 0:h.results)?v.data.results:v.data;if(Array.isArray(N)&&N.length){const w=(c==null?void 0:c.id)||((p=ut.getCurrentUser())==null?void 0:p.id);if(w){const y=N.find(b=>{var _,S;return((_=b==null?void 0:b.user)==null?void 0:_.id)===w||((S=b==null?void 0:b.usuario)==null?void 0:S.id)===w});if(y)return y}return null}}catch{}return null},async getPacientes(t={}){return(await le.get("/pacientes/",{params:t})).data},async getPacientesVinculados(t){const n="/medicos/",a=n.endsWith("/")?n:`${n}/`;return(await le.get(`${a}${t}/pacientes/`)).data},async getConsultas(t={}){return(await le.get("/consultas/",{params:t})).data},async getConsultasDoMedico(t={}){var f,u,g,h;const n=await this.getPerfil();let a=null;if((f=n==null?void 0:n.medico)!=null&&f.id?a=n.medico.id:n&&typeof n=="object"&&"crm"in n&&(a=n.id),!a){const p=((u=n==null?void 0:n.user)==null?void 0:u.id)||(n==null?void 0:n.id);if(p)try{const v="/medicos/",N=v.endsWith("/")?v:`${v}/`,w="user,user__id,user_id,usuario,usuario_id".split(",").map(y=>y.trim()).filter(Boolean);for(const y of w)try{const b=await le.get(N,{params:{[y]:p}}),_=Array.isArray((g=b.data)==null?void 0:g.results)?b.data.results:b.data;if((h=_==null?void 0:_[0])!=null&&h.id){a=_[0].id;break}}catch{}}catch{}}const o={...t};a&&!o.medico&&!o.medico_id&&(o.medico=a,o.medico_id=a);const i=o.date||o.data||o.dia;return i&&(o.date=i,o.data=i,o.dia=i,o.data__date=i),(await le.get("/consultas/",{params:o})).data},async getConsultasHoje(t){var g,h,p,v;const n="/medicos/",a=n.endsWith("/")?n:`${n}/`;let o=t;if(!o){const N=await this.getPerfil();if((g=N==null?void 0:N.medico)!=null&&g.id?o=N.medico.id:N&&typeof N=="object"&&"crm"in N&&(o=N.id),!o){const w=((h=N==null?void 0:N.user)==null?void 0:h.id)||(N==null?void 0:N.id);if(w)try{const y="user,user__id,user_id,usuario,usuario_id".split(",").map(b=>b.trim()).filter(Boolean);for(const b of y)try{const _=await le.get(a,{params:{[b]:w}}),S=Array.isArray((p=_.data)==null?void 0:p.results)?_.data.results:_.data;if((v=S==null?void 0:S[0])!=null&&v.id){o=S[0].id;break}}catch{}}catch{}}}const i="false".toLowerCase()==="true";if(o&&i)try{return(await le.get(`${a}${o}/consultas_hoje/`)).data}catch{}const c=new Date,d=N=>String(N).padStart(2,"0"),f=`${c.getFullYear()}-${d(c.getMonth()+1)}-${d(c.getDate())}`;return await this.getConsultasDoMedico({date:f})},async getDashboard(){try{const t=new Date,n=d=>String(d).toString().padStart(2,"0"),a=`${t.getFullYear()}-${n(t.getMonth()+1)}-${n(t.getDate())}`,o=await this.getConsultasDoMedico({date:a}),i=Array.isArray(o)?o:Array.isArray(o==null?void 0:o.results)?o.results:[];return{proximas:Array.isArray(i)?i.map(d=>({id:d.id||d.consulta_id||d.uuid,paciente:d.paciente,data_hora:d.data_hora,status:d.status})):[]}}catch{return{proximas:[]}}},async iniciarConsulta(t){if(!t)throw new Error("consultaId é obrigatório");const n="/consultas/",a=[{method:"post",url:`${n}${t}/iniciar/`,data:void 0},{method:"post",url:`${n}${t}/start/`,data:void 0},{method:"patch",url:`${n}${t}/`,data:{status:"em_andamento"}},{method:"put",url:`${n}${t}/iniciar/`,data:void 0}];let o=null;for(const i of a)try{return(await le[i.method](i.url,i.data)).data}catch(c){o=c}throw o||new Error("Não foi possível iniciar a consulta")},async finalizarConsulta(t){if(!t)throw new Error("consultaId é obrigatório");const a=`/consultas/${t}/finalizar/`;return(await le.post(a)).data},async sumarizarConsulta(t,n={}){if(!t)throw new Error("consultaId é obrigatório");const a="/consultas/",o=[`${a}${t}/sumarizar/`,`${a}${t}/resumir/`,`${a}${t}/summary/`];let i=null;for(const c of o)try{const{data:d}=await le.post(c,n);return d}catch(d){i=d}throw i||new Error("Endpoint de sumarização não disponível")},async criarProntuario(t){var u;const n="/prontuarios/".replace(/\/?$/,"/"),a={...t||{}},o={};for(const[g,h]of Object.entries(a))h!=null&&(typeof h=="string"&&h.trim()===""||(o[g]=typeof h=="string"?h.trim():h));const i=o.consulta_id||o.consulta;i&&(o.consulta_id=i,o.consulta=i);const c=[{method:"post",url:n},{method:"put",url:n},{method:"patch",url:n}],d=n.replace(/prontuarios\/?$/i,"prontuario/");d!==n&&(c.push({method:"post",url:d}),c.push({method:"put",url:d}),c.push({method:"patch",url:d}));let f=null;for(const g of c)try{const{data:h}=await le[g.method](g.url,o);return h}catch(h){const p=(u=h==null?void 0:h.response)==null?void 0:u.status;if(p&&[400,422].includes(p)){const v={};i&&(v.consulta_id=i,v.consulta=i);const N=o.queixa_principal||o.queixa,w=o.historia_doenca_atual||o.historia,y=o.diagnostico_principal||o.diagnostico,b=o.conduta||o.plano,_=o.medicamentos_uso||o.medicamentos;N&&(v.queixa_principal=N),w&&(v.historia_doenca_atual=w),y&&(v.diagnostico_principal=y),b&&(v.conduta=b),_&&(v.medicamentos_uso=_),o.alergias&&(v.alergias=o.alergias),o.exames_solicitados&&(v.exames_solicitados=o.exames_solicitados),o.data_retorno&&(v.data_retorno=o.data_retorno);try{const{data:S}=await le[g.method](g.url,v);return S}catch(S){f=S}}else if(p===405){f=h;continue}else if(p===404){f=h;continue}else{f=h;break}}throw f||new Error("Falha ao criar prontuário: nenhum endpoint compatível encontrado.")},async criarReceita(t={}){var b,_,S,E,k,T,P,A,R;const n="/receitas/".replace(/\/?$/,"/"),a="/pacientes/".replace(/\/?$/,"/"),o="/consultas/".replace(/\/?$/,"/"),i="false".toLowerCase()==="true",c={...t},d=c.paciente_id||c.paciente,f=c.consulta_id||c.consulta,u={...c};!u.paciente_id&&d&&(u.paciente_id=d),!u.paciente&&d&&(u.paciente=d),!u.consulta_id&&f&&(u.consulta_id=f),!u.consulta&&f&&(u.consulta=f),!u.medicamentos&&c.medicamento&&(u.medicamentos=c.medicamento),!u.medicamento&&c.medicamentos&&(u.medicamento=c.medicamentos),!u.validade&&c.validade_receita&&(u.validade=c.validade_receita);try{const $=u.medico_id||u.medico||await this._resolveMedicoId().catch(()=>null);$&&(u.medico_id||(u.medico_id=$),u.medico||(u.medico=$))}catch{}if(!u.consulta_id&&!u.consulta&&(u.paciente_id||u.paciente))try{const $=u.paciente_id||u.paciente,O=u.medico_id||u.medico||null,I=(()=>{const J=new Date,F=J.getFullYear(),K=String(J.getMonth()+1).padStart(2,"0"),M=String(J.getDate()).padStart(2,"0");return`${F}-${K}-${M}`})(),V=await this._ensureConsultaId($,O,I);if(V&&(u.consulta_id=V,u.consulta=V,i))try{console.debug("[medicoService.criarReceita] consulta_id resolvido automaticamente:",V)}catch{}}catch($){if(i)try{console.warn("[medicoService.criarReceita] não foi possível resolver consulta_id automaticamente",(b=$==null?void 0:$.response)==null?void 0:b.status)}catch{}}const g=[],h="".trim();h&&g.push(h),g.push(n),g.push(`${n}criar/`),g.push(`${n}create/`);const p=n.replace(/receitas\/?$/i,"receita/"),v=Array.from(new Set([p,"/receita/","/meu_app_receita/"].filter(Boolean)));for(const $ of v){const O=$.replace(/\/?$/,"/");g.push(O),g.push(`${O}criar/`),g.push(`${O}create/`)}if(f&&g.push(`${o}${f}/receitas/`),d&&g.push(`${a}${d}/receitas/`),i){try{console.debug("[medicoService.criarReceita] payload:",u)}catch{}try{console.debug("[medicoService.criarReceita] candidatos:",g)}catch{}}let N=null,w=null;const y=new Set;for(const $ of g){if(!$)continue;const O=$.endsWith("/")?$:`${$}/`,I=["post","put","patch"];for(const V of I){w=`${V.toUpperCase()} ${O}`;try{if(i)try{console.debug("[medicoService.criarReceita] tentando:",w)}catch{}const{data:J}=await le[V](O,u);if(i)try{console.debug("[medicoService.criarReceita] sucesso:",w,"→",J)}catch{}return J}catch(J){const F=(_=J==null?void 0:J.response)==null?void 0:_.status;if(i)try{console.warn("[medicoService.criarReceita] falhou:",w,"status=",F,"detail=",((S=J==null?void 0:J.response)==null?void 0:S.data)||(J==null?void 0:J.message))}catch{}if(F&&[400,422].includes(F)){const K=`${V}:${O}`;if(!y.has(K)){y.add(K);const M={},W=u.paciente_id||u.paciente,U=u.medico_id||u.medico,X=u.medicamentos||u.medicamento,ee=u.validade||u.validade_receita;if(W&&(M.paciente=W,M.paciente_id=W),U&&(M.medico=U,M.medico_id=U),X&&(M.medicamentos=X,M.medicamento=X),u.posologia&&(M.posologia=u.posologia),ee&&(M.validade=ee),u.observacoes&&(M.observacoes=u.observacoes),u.consulta_id||u.consulta){const L=u.consulta_id||u.consulta;M.consulta=L,M.consulta_id=L}try{if(i)try{console.debug("[medicoService.criarReceita] retry minimal:",V.toUpperCase(),O,M)}catch{}const{data:L}=await le[V](O,M);if(i)try{console.debug("[medicoService.criarReceita] sucesso (minimal):",V.toUpperCase(),O,L)}catch{}return L}catch(L){if(i)try{console.warn("[medicoService.criarReceita] falhou (minimal):",V.toUpperCase(),O,(E=L==null?void 0:L.response)==null?void 0:E.status,((k=L==null?void 0:L.response)==null?void 0:k.data)||(L==null?void 0:L.message))}catch{}try{const q=(T=L==null?void 0:L.response)==null?void 0:T.data,te=typeof q=="string"&&q||(q==null?void 0:q.detail)||(q==null?void 0:q.message)||(L==null?void 0:L.message)||"Erro desconhecido",B=q&&typeof q=="object"?` | body=${JSON.stringify(q)}`:typeof q=="string"?` | body=${q}`:"";L.message=`Falha ao criar receita (minimal, última tentativa: ${w||""}) ⇒ [${F||""}] ${te}${B}`}catch{}throw L}}try{const M=(P=J==null?void 0:J.response)==null?void 0:P.data,W=typeof M=="string"&&M||(M==null?void 0:M.detail)||(M==null?void 0:M.message)||(J==null?void 0:J.message)||"Erro desconhecido",U=M&&typeof M=="object"?` | body=${JSON.stringify(M)}`:typeof M=="string"?` | body=${M}`:"";J.message=`Falha ao criar receita (última tentativa: ${w||""}) ⇒ [${F||""}] ${W}${U}`}catch{}}if(F===404){N=J;break}if(F===405){N=J;continue}if(F===401||F&&[400,422].includes(F))throw J;N=J;break}}}if(N){const $=(A=N==null?void 0:N.response)==null?void 0:A.status,O=(R=N==null?void 0:N.response)==null?void 0:R.data,I=typeof O=="string"&&O||(O==null?void 0:O.detail)||(O==null?void 0:O.message)||(N==null?void 0:N.message)||"Erro desconhecido",V=O&&typeof O=="object"?` | body=${JSON.stringify(O)}`:"";throw new Error(`Falha ao criar receita (última tentativa: ${w||""}) ⇒ [${$||""}] ${I}${V}`)}throw new Error("Falha ao criar receita: nenhum endpoint compatível encontrado.")},async gerarDocumentoReceita(t={}){var _,S,E;const n="false".toLowerCase()==="true",a="/receitas/".replace(/\/?$/,"/"),o="/consultas/".replace(/\/?$/,"/"),i="/medicos/",c=i.endsWith("/")?i:`${i}/`,d={...t},f=d.paciente_id||d.paciente,u=d.consulta_id||d.consulta,g=(d.formato||"pdf").toLowerCase(),h={...d};!h.paciente_id&&f&&(h.paciente_id=f),!h.paciente&&f&&(h.paciente=f),!h.consulta_id&&u&&(h.consulta_id=u),!h.consulta&&u&&(h.consulta=u),!h.medicamentos&&d.medicamento&&(h.medicamentos=d.medicamento),!h.medicamento&&d.medicamentos&&(h.medicamento=d.medicamentos),!h.validade&&d.validade_receita&&(h.validade=d.validade_receita),h.formato=g;try{const k=h.medico_id||h.medico||await this._resolveMedicoId().catch(()=>null);k&&(h.medico_id||(h.medico_id=k),h.medico||(h.medico=k))}catch{}const p=[],v="".trim();v&&p.push(v);const N=k=>{const T=k.replace(/\/?$/,"/");p.push(`${T}gerar/`),p.push(`${T}generate/`),p.push(`${T}documento/`),p.push(`${T}pdf/`),p.push(`${T}preview/`)};N(a),[a.replace(/receitas\/?$/i,"receita/"),"/receita/","/meu_app_receita/"].forEach(k=>k&&N(k)),u&&p.push(`${o}${u}/gerar_receita/`);try{const k=await this._resolveMedicoId().catch(()=>null);k&&(p.push(`${c}${k}/gerar_receita/`),p.push(`${c}${k}/receitas/gerar/`)),p.push(`${c}me/gerar_receita/`)}catch{}if(n)try{console.debug("[medicoService.gerarDocumentoReceita] candidatos:",p)}catch{}const y=async k=>{var $,O,I,V,J,F,K;const T=(($=k.headers)==null?void 0:$["content-type"])||((I=(O=k.headers)==null?void 0:O.get)==null?void 0:I.call(O,"content-type"))||"",P=((V=k.headers)==null?void 0:V["content-disposition"])||((F=(J=k.headers)==null?void 0:J.get)==null?void 0:F.call(J,"content-disposition"));let A=`receita.${g}`;if(P){const M=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(P);A=decodeURIComponent((M==null?void 0:M[1])||(M==null?void 0:M[2])||A)}if(T.includes("application/json"))try{const M=await new Response(k.data).text(),W=JSON.parse(M),U=W.file||W.url||W.pdf||W.documento||W.download_url||W.link;if(U){const X=await le.get(U,{responseType:"blob"}),ee=new Blob([X.data],{type:((K=X.headers)==null?void 0:K["content-type"])||(g==="pdf"?"application/pdf":"application/vnd.openxmlformats-officedocument.wordprocessingml.document")});return{filename:A||U.split("/").pop()||`receita.${g}`,blob:ee}}}catch{}const R=new Blob([k.data],{type:T||(g==="pdf"?"application/pdf":"application/octet-stream")});return{filename:A,blob:R}};let b=null;for(const k of p){if(!k)continue;const T=k.endsWith("/")?k:`${k}/`;try{if(n)try{console.debug("[gerarDocumentoReceita] POST",T)}catch{}const P=await le.post(T,h,{responseType:"blob"});return await y(P)}catch(P){if(((_=P==null?void 0:P.response)==null?void 0:_.status)===401)throw P;b=P}try{if(n)try{console.debug("[gerarDocumentoReceita] PUT",T)}catch{}const P=await le.put(T,h,{responseType:"blob"});return await y(P)}catch(P){if(((S=P==null?void 0:P.response)==null?void 0:S.status)===401)throw P;b=P}try{if(n)try{console.debug("[gerarDocumentoReceita] GET",T)}catch{}const P=await le.get(T,{params:h,responseType:"blob"});return await y(P)}catch(P){if(((E=P==null?void 0:P.response)==null?void 0:E.status)===401)throw P;b=P}}throw b||new Error("Falha ao gerar documento de receita: nenhum endpoint compatível encontrado.")},async buscarPacientes(t){return(await le.get("/pacientes/",{params:{search:t}})).data},async atualizarPacienteById(t,n){if(!t)throw new Error("id do paciente é obrigatório");const a="/pacientes/",o=a.endsWith("/")?a:`${a}/`;return(await le.patch(`${o}${t}/`,n)).data},async _resolveMedicoId(){var t,n,a,o,i,c;try{const d=await this.getPerfil();if((t=d==null?void 0:d.medico)!=null&&t.id)return d.medico.id;if(d!=null&&d.id&&(d.crm||d.matricula||d.especialidade))return d.id;const f=((n=d==null?void 0:d.user)==null?void 0:n.id)||((a=ut.getCurrentUser())==null?void 0:a.id);if(!f)return null;const u="/medicos/",g=u.endsWith("/")?u:`${u}/`,h="user,user__id,user_id,usuario,usuario_id".split(",").map(p=>p.trim()).filter(Boolean);for(const p of h)try{const v=await le.get(g,{params:{[p]:f}}),N=Array.isArray((o=v.data)==null?void 0:o.results)?v.data.results:v.data;if(Array.isArray(N)){const w=N.find(y=>{var b,_;return((b=y==null?void 0:y.user)==null?void 0:b.id)===f||((_=y==null?void 0:y.usuario)==null?void 0:_.id)===f||(y==null?void 0:y.user)===f||(y==null?void 0:y.usuario)===f});if(w!=null&&w.id)return w.id;continue}if(N&&typeof N=="object"){const w=N;if((((i=w==null?void 0:w.user)==null?void 0:i.id)===f||((c=w==null?void 0:w.usuario)==null?void 0:c.id)===f||(w==null?void 0:w.user)===f||(w==null?void 0:w.usuario)===f)&&(w!=null&&w.id))return w.id;continue}}catch{}}catch{}return null},async _ensureConsultaId(t,n=null,a=null){var o,i,c,d;try{if(!t)return null;const f="false".toLowerCase()==="true",u=(()=>{if(a&&/^\d{4}-\d{2}-\d{2}$/.test(String(a)))return a;const h=new Date,p=v=>String(v).padStart(2,"0");return`${h.getFullYear()}-${p(h.getMonth()+1)}-${p(h.getDate())}`})(),g="/consultas/".replace(/\/?$/,"/");try{const h={paciente:t,paciente_id:t,date:u,data:u,dia:u,data__date:u},p=n||await this._resolveMedicoId().catch(()=>null);p&&(h.medico=p,h.medico_id=p);const v=await le.get(g,{params:h}),N=Array.isArray((o=v.data)==null?void 0:o.results)?v.data.results:v.data;if(Array.isArray(N)){const w=N.find(y=>(y==null?void 0:y.id)||(y==null?void 0:y.consulta_id)||(y==null?void 0:y.uuid));if(w){const y=w.id||w.consulta_id||w.uuid;if(f)try{console.debug("[_ensureConsultaId] encontrada consulta existente:",y)}catch{}return y}}}catch(h){if(f)try{console.warn("[_ensureConsultaId] falha ao buscar consulta existente:",(i=h==null?void 0:h.response)==null?void 0:i.status)}catch{}}try{const h=n||await this._resolveMedicoId().catch(()=>null),p={paciente:t,paciente_id:t,data:u,date:u,dia:u,data__date:u,data_hora:`${u}T00:00:00`};h&&(p.medico=h,p.medico_id=h);const v=[g,`${g}criar/`,`${g}create/`];for(const N of v){const w=N.endsWith("/")?N:`${N}/`;try{if(f)try{console.debug("[_ensureConsultaId] criando consulta em:",w,p)}catch{}const{data:y}=await le.post(w,p),b=(y==null?void 0:y.id)||(y==null?void 0:y.consulta_id)||(y==null?void 0:y.uuid);if(b){if(f)try{console.debug("[_ensureConsultaId] consulta criada:",b)}catch{}return b}}catch(y){const b=(c=y==null?void 0:y.response)==null?void 0:c.status;if(f)try{console.warn("[_ensureConsultaId] falha ao criar em",w,b,((d=y==null?void 0:y.response)==null?void 0:d.data)||(y==null?void 0:y.message))}catch{}if([401,404,405].includes(b))continue}}}catch(h){if(f)try{console.warn("[_ensureConsultaId] erro inesperado na criação:",h==null?void 0:h.message)}catch{}}return null}catch{return null}},async getCertificadoInfo(){var d,f;const t=[],n="".trim();n&&t.push(n);const a="/medicos/",o=a.endsWith("/")?a:`${a}/`;t.push(`${o}me/certificado/`),t.push(`${o}certificado/`),t.push("/medico/certificado/"),t.push("/assinatura/certificado/"),t.push("/certificados/"),t.push("/api/medicos/me/certificado/"),t.push("/api/medicos/certificado/"),t.push("/api/certificados/");let i=null;try{i=await this._resolveMedicoId()}catch{}i&&(t.push(`${o}${i}/certificado/`),t.push(`${o}${i}/assinatura/`),t.push(`/api/medicos/${i}/certificado/`),t.push(`/api/medicos/${i}/assinatura/`));let c=null;for(const u of t){if(!u)continue;const g=u.endsWith("/")?u:`${u}/`;try{const{data:h}=await le.get(g),p=Array.isArray(h==null?void 0:h.results)?(d=h.results)==null?void 0:d[0]:Array.isArray(h)?h[0]:h;return p||h||null}catch(h){const p=(f=h==null?void 0:h.response)==null?void 0:f.status;if(p===404){c=h;continue}if(p===401)throw h;c=h}}if(c)throw c;return null},async uploadCertificado(t){var u;let n;if(t instanceof FormData)n=t;else if(t&&t.name)n=new FormData,n.append("file",t),n.append("certificado",t),n.append("pfx",t);else throw new Error("Parâmetro inválido: é esperado FormData ou File.");const a=[],o="".trim();o&&a.push(o);const i="/medicos/",c=i.endsWith("/")?i:`${i}/`;a.push(`${c}me/certificado/`),a.push(`${c}certificado/`),a.push("/medico/certificado/"),a.push("/assinatura/certificado/"),a.push("/certificados/");let d=null;try{d=await this._resolveMedicoId()}catch{}d&&(a.push(`${c}${d}/certificado/`),a.push(`${c}${d}/assinatura/`));let f=null;for(const g of a){if(!g)continue;const h=g.endsWith("/")?g:`${g}/`,p=["post","put","patch"];for(const v of p)try{const{data:N}=await le[v](h,n);return N}catch(N){const w=(u=N==null?void 0:N.response)==null?void 0:u.status;if(w===404){f=N;break}if(w===405){f=N;continue}if(w===401||w&&[400,422].includes(w))throw N;f=N;break}}throw f||new Error("Falha ao enviar certificado: nenhum endpoint compatível.")},async enviarReceita({receitaId:t,pacienteId:n,email:a,formato:o="pdf",file:i,filename:c}){var w,y,b,_,S;if(!a&&!n&&!t&&!i)throw new Error("Forneça ao menos email, pacienteId, receitaId ou arquivo para envio.");const d="false".toLowerCase()==="true",f="/receitas/".replace(/\/?$/,"/"),u="/pacientes/".replace(/\/?$/,"/");if(!t&&n){const E=async P=>{var A;try{const R=await le.get(f,{params:P}),$=R==null?void 0:R.data,O=Array.isArray($)?$:Array.isArray($==null?void 0:$.results)?$.results:[],I=O==null?void 0:O[0],V=(I==null?void 0:I.id)||(I==null?void 0:I.pk)||(I==null?void 0:I.uuid)||((A=I==null?void 0:I.receita)==null?void 0:A.id);if(V)return String(V)}catch{}return null},k=[],T=["-created_at","-created","-data","-date","-id","-pk"];for(const P of T)k.push({paciente:n,ordering:P,page_size:1,limit:1}),k.push({paciente_id:n,ordering:P,page_size:1,limit:1});for(const P of k){const A=await E(P);if(A){t=A;break}}d&&t&&console.debug("[medicoService.enviarReceita] receitaId inferido via listagem:",t)}const g=new FormData;if(i){const E=c||i.name||`receita.${o||"pdf"}`;g.append("file",i,E),g.append("pdf",i,E),g.append("documento",i,E)}a&&(g.append("email",a),g.append("to",a),g.append("destinatario",a),g.append("paciente_email",a)),o&&g.append("formato",o),t&&(g.append("id",t),g.append("receita",t),g.append("receita_id",t)),n&&(g.append("paciente",n),g.append("paciente_id",n)),g.append("assinar","true");const h={email:a,to:a,destinatario:a,paciente_email:a,formato:o,id:t,receita:t,receita_id:t,paciente:n,paciente_id:n,assinar:!0},p=[],v="".trim();v&&p.push(v),t&&(p.push(`${f}${t}/enviar/`),p.push(`${f}${t}/enviar-email/`),p.push(`${f}${t}/enviar_email/`),p.push(`${f}${t}/email/`),p.push(`${f}${t}/send-email/`),p.push(`${f}${t}/send/`)),p.push(`${f}enviar/`),p.push(`${f}enviar-email/`),p.push(`${f}enviar_email/`),p.push(`${f}email/`),p.push(`${f}send-email/`),p.push(`${f}send/`),p.push("/email/receitas/"),p.push("/receitas/email/"),p.push("/email/send/"),p.push("/send-email/"),n&&(p.push(`${u}${n}/receitas/enviar/`),p.push(`${u}${n}/receitas/email/`),p.push(`${u}${n}/receitas/send/`),t&&(p.push(`${u}${n}/receitas/${t}/enviar/`),p.push(`${u}${n}/receitas/${t}/enviar-email/`),p.push(`${u}${n}/receitas/${t}/enviar_email/`),p.push(`${u}${n}/receitas/${t}/email/`),p.push(`${u}${n}/receitas/${t}/send-email/`),p.push(`${u}${n}/receitas/${t}/send/`)));let N=null;for(const E of p){if(!E)continue;const k=E.endsWith("/")?E:`${E}/`,T=A=>{d&&console.debug(`[medicoService.enviarReceita] ${A} ->`,k,{receitaId:t,pacienteId:n,email:a,formato:o})};if(/\/(enviar|email|send(-email)?)\/?$/i.test(k)&&!i)try{T("GET");const A={email:a,formato:o,id:t,receita:t,receita_id:t,paciente:n,paciente_id:n,assinar:!0},{data:R}=await le.get(k,{params:A});return R}catch(A){if(N=A,((w=A==null?void 0:A.response)==null?void 0:w.status)===401)throw A}try{T("POST multipart");const{data:A}=await le.post(k,g);return A}catch(A){const R=(y=A==null?void 0:A.response)==null?void 0:y.status;if(R===401)throw A;R&&[400,422].includes(R),N=A}if(!i)try{T("POST json");const{data:A}=await le.post(k,h);return A}catch(A){const R=(b=A==null?void 0:A.response)==null?void 0:b.status;if(R===401)throw A;R&&[400,422].includes(R),N=A}try{T("PUT multipart");const{data:A}=await le.put(k,g);return A}catch(A){const R=(_=A==null?void 0:A.response)==null?void 0:_.status;if(R===401)throw A;R&&[400,422].includes(R),N=A}if(!i)try{T("GET fallback");const A={email:a,formato:o,id:t,receita:t,receita_id:t,paciente:n,paciente_id:n,assinar:!0},{data:R}=await le.get(k,{params:A});return R}catch(A){if(((S=A==null?void 0:A.response)==null?void 0:S.status)===401)throw A;N=A}}throw N||new Error("Falha ao enviar receita: nenhum endpoint compatível encontrado.")},async ensureMedicoRecord(t={}){var g;const n=ut.getCurrentUser()||await ut.refreshCurrentUser(),a=n==null?void 0:n.id;if(!a)throw new Error("Usuário não autenticado ou não disponível.");try{const h=await this._resolveMedicoId();if(h){const p="/medicos/",v=p.endsWith("/")?p:`${p}/`;try{return(await le.get(`${v}${h}/`)).data||{id:h}}catch{return{id:h}}}}catch{}const o="/medicos/",i=o.endsWith("/")?o:`${o}/`,c={...t};c.user=c.user||a,c.user_id=c.user_id||a,c.usuario=c.usuario||a,c.usuario_id=c.usuario_id||a;const d=String(c.status||c.situacao||c.state||"pending").toLowerCase();c.status=d,c.situacao=c.situacao||d,c.state=c.state||d;const f=[i,`${i}create/`,"/api/medicos/","/admin/medicos/"];let u=null;for(const h of f){const p=h.endsWith("/")?h:`${h}/`;try{const{data:v}=await le.post(p,c),N=(v==null?void 0:v.id)||(v==null?void 0:v.pk)||(v==null?void 0:v.uuid);if(N)try{localStorage.setItem("medico_id",String(N))}catch{}try{a&&localStorage.setItem(`medicoApplicationStatus:${a}`,"pending")}catch{}return v}catch(v){const N=(g=v==null?void 0:v.response)==null?void 0:g.status;if(N===401)throw v;if(N===405){u=v;continue}if(u=v,Object.values(t||{}).some(y=>y instanceof File||y instanceof Blob))try{const y=new FormData;for(const[S,E]of Object.entries(c))E!=null&&(y.append(S,E),S==="user"&&(y.append("usuario",E),y.append("user_id",E),y.append("usuario_id",E)),S==="status"&&(y.append("situacao",E),y.append("state",E)));const{data:b}=await le.post(p,y),_=(b==null?void 0:b.id)||(b==null?void 0:b.pk)||(b==null?void 0:b.uuid);if(_)try{localStorage.setItem("medico_id",String(_))}catch{}try{a&&localStorage.setItem(`medicoApplicationStatus:${a}`,"pending")}catch{}return b}catch(y){u=y;continue}}}throw u||new Error("Falha ao criar registro do médico: nenhum endpoint compatível.")},async ensurePerfilMedico(t={}){var h,p;try{const v=await this.getPerfil();if(v&&(v.id||v.user||v.medico))return v}catch{}const n=ut.getCurrentUser()||await ut.refreshCurrentUser(),a=n==null?void 0:n.id;if(!a)throw new Error("Usuário não autenticado ou não disponível.");let o=t.medico_id||t.medico||null;if(!o){try{o=await this._resolveMedicoId()}catch{}if(!o)try{const v=await this.ensureMedicoRecord({});o=(v==null?void 0:v.id)||((h=v==null?void 0:v.medico)==null?void 0:h.id)||null}catch{}}const i={...t};i.user=i.user||a,i.user_id=i.user_id||a,i.usuario=i.usuario||a,i.usuario_id=i.usuario_id||a,o&&(i.medico=i.medico||o,i.medico_id=i.medico_id||o);const c=String(i.status||i.situacao||i.state||"pending").toLowerCase();i.status=c,i.situacao=i.situacao||c,i.state=i.state||c;const d=["/perfil-medico/","/perfil/medico/","/perfis/medico/","/profiles/medico/","/api/perfil-medico/","/api/perfil/medico/"],f="/medicos/",u=f.endsWith("/")?f:`${f}/`;o&&(d.push(`${u}${o}/perfil/`),d.push(`/api/medicos/${o}/perfil/`)),d.push(`${u}me/perfil/`);let g=null;for(const v of d){const N=v.endsWith("/")?v:`${v}/`,w=["post","put","patch"];for(const y of w)try{const{data:b}=await le[y](N,i);try{a&&localStorage.setItem(`medicoApplicationStatus:${a}`,"pending")}catch{}return b}catch(b){const _=(p=b==null?void 0:b.response)==null?void 0:p.status;if(_===401)throw b;if(_===405){g=b;continue}if(_===404){g=b;break}g=b;break}}throw g||new Error("Falha ao criar perfil do médico: nenhum endpoint compatível.")},async ensureMedicoAndPerfil(t={},n={}){var f;const a=ut.getCurrentUser()||await ut.refreshCurrentUser(),o=a==null?void 0:a.id,i=await this.ensureMedicoRecord(t),c=(i==null?void 0:i.id)||((f=i==null?void 0:i.medico)==null?void 0:f.id)||null,d=await this.ensurePerfilMedico({...n,medico_id:n.medico_id||c});try{o&&localStorage.setItem(`medicoApplicationStatus:${o}`,"pending")}catch{}return{medico:i,perfil:d}},async updatePerfilMedico(t={}){var p,v;const n={...t},a=t.telefone||t.celular||t.phone||((p=t.contato)==null?void 0:p.telefone);a!=null&&(n.telefone=a,n.celular||(n.celular=a),n.phone||(n.phone=a),n.contato={...n.contato||{},telefone:a});let o=t.endereco||t.address||t.local;o&&typeof o=="object"&&(o=`${o.logradouro||o.rua||""} ${o.numero||""} ${o.bairro||""} ${o.cidade||""} ${o.estado||""}`.trim()),o!=null&&(n.endereco=o,n.address||(n.address=o),n.local||(n.local=o));const i=t.especialidade??t.especialidade_id??t.especialidade_nome??t.especialidade_label??t.especialidade_obj;if(i!=null){if(typeof i=="number")n.especialidade_id=i;else if(typeof i=="string")n.especialidade=i,n.especialidade_nome=i,n.especialidade_label=i;else if(typeof i=="object"){const N=i.nome||i.label||i.titulo,w=i.id;w!=null&&(n.especialidade_id=w),N&&(n.especialidade=N,n.especialidade_nome=N,n.especialidade_label=N)}}let c=null;try{c=await this._resolveMedicoId()}catch{}const d="/medicos/",f=d.endsWith("/")?d:`${d}/`,u=[],g="".trim();g&&u.push(g),u.push(`${f}me/`),c&&u.push(`${f}${c}/`),c&&u.push(`${f}${c}/perfil/`),u.push(`${f}me/perfil/`),u.push("/perfil-medico/"),u.push("/perfil/medico/"),u.push("/perfis/medico/"),u.push("/profiles/medico/"),u.push("/api/perfil-medico/"),u.push("/api/perfil/medico/");let h=null;for(const N of u){if(!N)continue;const w=N.endsWith("/")?N:`${N}/`,y=["patch","put","post"];for(const b of y)try{const{data:_}=await le[b](w,n);return _}catch(_){const S=(v=_==null?void 0:_.response)==null?void 0:v.status;if(S===401)throw _;if(S===404){h=_;break}if(S===405){h=_;continue}if(S&&[400,422].includes(S))throw _;h=_;break}}throw h||new Error("Falha ao atualizar dados do médico: nenhum endpoint compatível.")},async signDocumento(t,n={}){var b,_,S,E,k;let a;if(t instanceof FormData)a=t;else if(t&&t.name)a=new FormData,a.append("file",t),a.append("documento",t),a.append("pdf",t);else throw new Error("Parâmetro inválido: é esperado FormData ou File PDF.");const o=n.reason||n.motivo,i=n.location||n.local;o&&(a.append("reason",o),a.append("motivo",o)),i&&(a.append("location",i),a.append("local",i));let c=null,d=null;a instanceof FormData&&(c=a.get("pfx")||a.get("certificado")||a.get("pkcs12"),d=a.get("pfx_password")||a.get("senha")||a.get("password"));const f=n&&n.pfxFile instanceof File?n.pfxFile:c,u=(typeof(n==null?void 0:n.pfxPassword)=="string"?n.pfxPassword.trim():"")||(typeof d=="string"?d:"");if(!(f instanceof File))throw new Error("Certificado digital (.pfx/.p12) é obrigatório para assinatura.");if(!u)throw new Error("Senha do certificado PFX/P12 é obrigatória para assinatura.");a.append("pfx",f),a.append("certificado",f),a.append("pkcs12",f),a.append("pfx_password",u),a.append("senha",u),a.append("password",u),a.append("no_persist","true"),a.append("ephemeral","true");const g=(n==null?void 0:n.receitaId)||(n==null?void 0:n.receita_id)||(n==null?void 0:n.id);g&&(a.append("receita",g),a.append("receita_id",g),a.append("id",g));const h=[],p="".trim();p&&h.push(p);const v="/medicos/",N=v.endsWith("/")?v:`${v}/`;h.push("/api/assinatura/assinar/"),h.push("/assinatura/assinar/"),h.push("/documentos/assinar/"),h.push("/receitas/assinar/"),h.push(`${N}me/assinar/`),h.push(`${N}assinar/`);let w=null;try{w=await this._resolveMedicoId()}catch{}w&&(h.push(`${N}${w}/assinar/`),h.push(`${N}${w}/assinatura/`));let y=null;for(const T of h){if(!T)continue;const P=T.endsWith("/")?T:`${T}/`,A=["post","put"];for(const R of A)try{const $=await le[R](P,a,{responseType:"blob"}),O=((b=$.headers)==null?void 0:b["content-disposition"])||((S=(_=$.headers)==null?void 0:_.get)==null?void 0:S.call(_,"content-disposition"));let I="documento_assinado.pdf";if(O){const J=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(O);I=decodeURIComponent((J==null?void 0:J[1])||(J==null?void 0:J[2])||I)}const V=new Blob([$.data],{type:((E=$.headers)==null?void 0:E["content-type"])||"application/pdf"});return{filename:I,blob:V}}catch($){const O=(k=$==null?void 0:$.response)==null?void 0:k.status;if(O===404){y=$;break}if(O===405){y=$;continue}if(O===401||O&&[400,422].includes(O))throw $;y=$;break}}throw y||new Error("Falha ao assinar documento: nenhum endpoint compatível.")},async atualizarReceita(t,n={}){var u;if(!t)throw new Error("ID da receita é obrigatório para atualização.");const a={...n};n.assinada!==void 0&&(a.assinada=!!n.assinada,a.signed=a.signed??a.assinada,a.status=a.assinada?"assinada":a.status||"emitida"),n.hash_alg&&(a.hash_alg=n.hash_alg,a.hash_algorithm=n.hash_algorithm||n.hash_alg,a.algoritmo_hash=n.algoritmo_hash||n.hash_alg),n.hash_pre&&(a.hash_pre=n.hash_pre,a.pre_hash=n.pre_hash||n.hash_pre),n.hash_signed&&(a.hash_signed=n.hash_signed,a.signed_hash=n.signed_hash||n.hash_signed),n.motivo&&(a.motivo=n.motivo),n.observacoes&&(a.observacoes=n.observacoes);const o="/receitas/",i=o.endsWith("/")?o:`${o}/`,c=[],d="".trim();d&&c.push(d.replace(/\/?$/,"/")),c.push(`${i}${t}/`),c.push(`${i}${t}/update/`),c.push(`${i}${t}/editar/`),c.push(`/api/receitas/${t}/`),c.push(`/receitas/${t}/`);let f=null;for(const g of c){if(!g)continue;const h=g.endsWith("/")?g:`${g}/`,p=["patch","put","post"];for(const v of p)try{const{data:N}=await le[v](h,a);return N}catch(N){const w=(u=N==null?void 0:N.response)==null?void 0:u.status;if(w===401)throw N;if(w===404){f=N;break}if(w===405){f=N;continue}if(w&&[400,422].includes(w))throw N;f=N;break}}throw f||new Error("Falha ao atualizar receita: nenhum endpoint compatível.")},async registrarAuditoriaAssinatura(t={}){var g;const n=ut.getCurrentUser()||await ut.refreshCurrentUser(),a=n==null?void 0:n.id;let o=null;try{o=await this._resolveMedicoId()}catch{}const i={...t};a&&(i.usuario=i.usuario||a,i.usuario_id=i.usuario_id||a,i.user=i.user||a,i.user_id=i.user_id||a),o&&(i.medico=i.medico||o,i.medico_id=i.medico_id||o),i.tipo=i.tipo||"assinatura_receita",i.event=i.event||i.tipo,i.assinada=i.assinada??!0,i.timestamp=i.timestamp||new Date().toISOString();const c="/auditoria/assinaturas/",f=[c.endsWith("/")?c:`${c}/`,"/api/auditoria/assinaturas/","/logs/assinatura/","/auditoria/receitas/","/audit/assinaturas/"];let u=null;for(const h of f){const p=h.endsWith("/")?h:`${h}/`;try{const{data:v}=await le.post(p,i);return v}catch(v){const N=(g=v==null?void 0:v.response)==null?void 0:g.status;if(N===401)throw v;if(N===404||N===405){u=v;continue}if(N&&[400,422].includes(N))throw v;u=v}}throw u||new Error("Falha ao registrar auditoria de assinatura: nenhum endpoint compatível.")}},NA=Object.freeze(Object.defineProperty({__proto__:null,medicoService:tt},Symbol.toStringTag,{value:"Module"}));function bA(){var o,i;const{data:t,loading:n}=J0(()=>tt.getDashboard());if(n)return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((c,d)=>e.jsxs(de,{children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 w-20 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-4 w-4 bg-muted animate-pulse rounded"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"h-8 w-16 bg-muted animate-pulse rounded mb-2"}),e.jsx("div",{className:"h-3 w-24 bg-muted animate-pulse rounded"})]})]},d))})});const a=t||{consultas_hoje:5,pacientes_ativos:127,prontuarios:89,exames_pendentes:9,variacao_consultas:2,novos_pacientes_semana:5,proximas_consultas:[],pacientes_recentes:[]};return Array.isArray(a.proximas_consultas)&&a.proximas_consultas,e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Bem-vindo de volta! Aqui está um resumo das suas atividades."})]}),e.jsxs(ne,{children:[e.jsx(rt,{className:"mr-2 h-4 w-4"}),"Nova Consulta"]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(de,{children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-medium",children:"Consultas Hoje"}),e.jsx(rt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.consultas_hoje}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsxs("span",{className:"text-green-600",children:["+",a.variacao_consultas]})," desde ontem"]})]})]}),e.jsxs(de,{children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-medium",children:"Pacientes Ativos"}),e.jsx(ks,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.pacientes_ativos}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsxs("span",{className:"text-green-600",children:["+",a.novos_pacientes_semana]})," esta semana"]})]})]}),e.jsxs(de,{children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-medium",children:"Prontuários"}),e.jsx(Ps,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.prontuarios}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total de registros"})]})]}),e.jsxs(de,{children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-medium",children:"Exames Pendentes"}),e.jsx(CC,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.exames_pendentes}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Aguardando análise"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Próximas Consultas"}),e.jsx(Je,{children:"Suas consultas agendadas para hoje"})]}),e.jsx(ue,{children:e.jsx("div",{className:"space-y-4",children:((o=a.proximas_consultas)==null?void 0:o.length)>0?a.proximas_consultas.map((c,d)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:c.paciente_nome}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.data_hora," - ",c.tipo]})]}),e.jsx(St,{variant:c.status==="Confirmada"?"default":"secondary",children:c.status})]},d)):e.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[e.jsx(rt,{className:"mx-auto h-12 w-12 mb-2 opacity-50"}),e.jsx("p",{children:"Nenhuma consulta agendada para hoje"})]})})})]}),e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Pacientes Recentes"}),e.jsx(Je,{children:"Últimos pacientes atendidos"})]}),e.jsx(ue,{children:e.jsx("div",{className:"space-y-4",children:((i=a.pacientes_recentes)==null?void 0:i.length)>0?a.pacientes_recentes.map((c,d)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:c.nome}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Última consulta: há ",c.dias_ultima_consulta," dias"]})]}),e.jsx(ne,{variant:"outline",size:"sm",children:"Ver Perfil"})]},d)):e.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[e.jsx(ks,{className:"mx-auto h-12 w-12 mb-2 opacity-50"}),e.jsx("p",{children:"Nenhum paciente recente"})]})})})]})]})]})}function SA(){const[t,n]=x.useState(!0),[a,o]=x.useState([]),[i,c]=x.useState(""),[d,f]=x.useState("todos");x.useEffect(()=>{let g=!0;return(async()=>{var h;try{const p=await tt.getPerfil(),v=(p==null?void 0:p.id)||((h=p==null?void 0:p.medico)==null?void 0:h.id);if(v){const N=await tt.getPacientesVinculados(v);g&&o(Array.isArray(N)?N:[])}else g&&o([])}catch{g&&o([])}finally{g&&n(!1)}})(),()=>{g=!1}},[]);const u=a.filter(g=>{var N;const h=(g!=null&&g.user?[g.user.first_name,g.user.last_name].filter(Boolean).join(" ").trim():(g==null?void 0:g.nome)||"").toLowerCase(),p=!i||h.includes(i.toLowerCase()),v=d==="todos"||d===((N=g==null?void 0:g.user)!=null&&N.is_active?"ativo":"inativo");return p&&v});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Meus Pacientes"}),e.jsx("p",{className:"text-muted-foreground",children:"Liste e gerencie seus pacientes ativos"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(xn,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar pacientes...",className:"pl-10",value:i,onChange:g=>c(g.target.value)})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(Nt,{children:[e.jsx(vt,{className:"w-[180px]",children:e.jsx(bt,{placeholder:"Filtrar por status"})}),e.jsxs(yt,{children:[e.jsx(Se,{value:"todos",children:"Todos"}),e.jsx(Se,{value:"ativo",children:"Ativo"}),e.jsx(Se,{value:"inativo",children:"Inativo"})]})]}),e.jsxs(ne,{children:[e.jsx(xn,{className:"mr-2 h-4 w-4"}),"Buscar"]}),e.jsxs(ne,{variant:"outline",children:[e.jsx(Lm,{className:"mr-2 h-4 w-4"}),"Filtrar"]})]})]}),t?e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((g,h)=>e.jsx(de,{children:e.jsxs(ue,{className:"p-6 space-y-4",children:[e.jsx("div",{className:"h-6 w-40 bg-muted animate-pulse rounded"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"})]})]})},h))}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:u.map(g=>{var v,N;const h=(g==null?void 0:g.id)||((v=g==null?void 0:g.user)==null?void 0:v.id),p=g!=null&&g.user?[g.user.first_name,g.user.last_name].filter(Boolean).join(" ").trim():(g==null?void 0:g.nome)||`Paciente ${h}`;return e.jsx(de,{children:e.jsxs(ue,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-14 w-14 rounded-full bg-muted flex items-center justify-center text-xl font-semibold",children:((N=p==null?void 0:p[0])==null?void 0:N.toUpperCase())||"P"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:p}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",h]})]})]}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-1",children:(g==null?void 0:g.condicoes_cronicas)&&e.jsx(St,{variant:"outline",className:"bg-primary/5",children:g.condicoes_cronicas})}),e.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[e.jsx(ne,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs(dt,{to:`/medico/paciente/${h}/perfil`,children:[e.jsx(xs,{className:"mr-1 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Perfil"})]})}),e.jsx(ne,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs(dt,{to:`/medico/paciente/${h}/prontuario`,children:[e.jsx(Ps,{className:"mr-1 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Prontuário"})]})}),e.jsx(ne,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs(dt,{to:`/medico/paciente/${h}/iniciar-consulta`,children:[e.jsx(rt,{className:"mr-1 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Consulta"})]})})]})]})},h)})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Mostrando 6 de 24 pacientes"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{variant:"outline",size:"sm",disabled:!0,children:"Anterior"}),e.jsx(ne,{variant:"outline",size:"sm",className:"bg-primary/5",children:"1"}),e.jsx(ne,{variant:"outline",size:"sm",children:"2"}),e.jsx(ne,{variant:"outline",size:"sm",children:"3"}),e.jsx(ne,{variant:"outline",size:"sm",children:"4"}),e.jsx(ne,{variant:"outline",size:"sm",children:"Próximo"})]})]})]})}function CA(){const[t,n]=x.useState(!0),[a,o]=x.useState(!0),[i,c]=x.useState([]),[d,f]=x.useState([]);x.useEffect(()=>{let p=!0;return(async()=>{var v;try{const N=await tt.getPerfil(),w=(N==null?void 0:N.id)||((v=N==null?void 0:N.medico)==null?void 0:v.id);if(!w){p&&(c([]),f([]));return}try{const y=await tt.getConsultasHoje(w);p&&c(Array.isArray(y)?y:(y==null?void 0:y.results)||[])}finally{p&&n(!1)}try{const y=await tt.getConsultasDoMedico(),b=Array.isArray(y)?y:Array.isArray(y==null?void 0:y.results)?y.results:[];p&&f(b)}finally{p&&o(!1)}}catch{p&&(c([]),f([]),n(!1),o(!1))}})(),()=>{p=!1}},[]);const u=p=>{var N,w;const v=(N=p==null?void 0:p.paciente)==null?void 0:N.user;return v?[v.first_name,v.last_name].filter(Boolean).join(" ").trim():(p==null?void 0:p.paciente_nome)||((w=p==null?void 0:p.paciente)==null?void 0:w.nome)||"Paciente"},g=p=>{try{const v=new Date(p);if(!isNaN(v))return v.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof p=="string"&&/^\d{2}:\d{2}/.test(p))return p.slice(0,5)}catch{}return"--:--"},h=p=>{try{const v=new Date(p);if(!isNaN(v))return v.toLocaleDateString()}catch{}return""};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Minhas Consultas"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie sua agenda de consultas"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(xn,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar consultas...",className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(Nt,{children:[e.jsx(vt,{className:"w-[180px]",children:e.jsx(bt,{placeholder:"Filtrar por status"})}),e.jsxs(yt,{children:[e.jsx(Se,{value:"todos",children:"Todos"}),e.jsx(Se,{value:"confirmado",children:"Confirmado"}),e.jsx(Se,{value:"pendente",children:"Pendente"}),e.jsx(Se,{value:"cancelado",children:"Cancelado"})]})]}),e.jsx(fe,{type:"date",className:"w-[180px]"}),e.jsxs(ne,{children:[e.jsx(rt,{className:"mr-2 h-4 w-4"}),"Nova Consulta"]})]})]}),e.jsxs($n,{defaultValue:"hoje",children:[e.jsxs(Ln,{children:[e.jsx(_t,{value:"hoje",children:"Hoje"}),e.jsx(_t,{value:"amanha",children:"Amanhã"}),e.jsx(_t,{value:"semana",children:"Esta Semana"}),e.jsx(_t,{value:"todas",children:"Todas"})]}),e.jsx(Dt,{value:"hoje",children:e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-5 w-5"}),"Consultas para hoje, ",new Date().toLocaleDateString()]})}),e.jsx(ue,{children:t?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((p,v)=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-muted animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 w-1/3 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-3 w-1/4 bg-muted animate-pulse rounded"})]}),e.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded"})]},v))}):e.jsx("div",{className:"space-y-4",children:i.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhuma consulta para hoje."}):i.map(p=>{var w,y,b;const v=p.id,N=((w=p==null?void 0:p.paciente)==null?void 0:w.id)||(p==null?void 0:p.paciente_id);return e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((b=(y=u(p))==null?void 0:y[0])==null?void 0:b.toUpperCase())||"P"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:u(p)}),N&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",N]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[g(p==null?void 0:p.data_hora)," ",h(p==null?void 0:p.data_hora)?`(${h(p==null?void 0:p.data_hora)})`:""]})]})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[N&&e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(dt,{to:`/medico/paciente/${N}/perfil`,children:"Perfil"})}),N&&e.jsx(ne,{size:"sm",asChild:!0,children:e.jsx(dt,{to:`/medico/paciente/${N}/iniciar-consulta`,children:"Atender"})})]})]},v)})})})]})}),e.jsx(Dt,{value:"amanha",children:e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-5 w-5"}),"Consultas para amanhã, ",new Date(Date.now()+864e5).toLocaleDateString()]})}),e.jsx(ue,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3].map(p=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(70+p),"M"]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Paciente ",p+5]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100050+p]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[`${8+p}:00`," - ",`${9+p}:00`]})]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:p%2===0?"Primeira consulta":"Retorno"}),p===1?e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:"Aguardando confirmação"}):e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(dt,{href:`/medico/paciente/${100050+p}/perfil`,children:"Perfil"})}),e.jsx(ne,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},p))})})]})}),e.jsx(Dt,{value:"semana",children:e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-5 w-5"}),"Consultas para esta semana"]})}),e.jsx(ue,{children:e.jsx("div",{className:"space-y-6",children:[1,2,3].map(p=>e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-3",children:new Date(Date.now()+p*2*864e5).toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})}),e.jsx("div",{className:"space-y-4",children:[1,2].map(v=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(64+p+v),"L"]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Paciente ",p*10+v]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100100+p*10+v]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[`${9+v}:00`," - ",`${10+v}:00`]})]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:v%2===0?"Primeira consulta":"Retorno"}),e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(dt,{href:`/medico/paciente/${100100+p*10+v}/perfil`,children:"Perfil"})}),e.jsx(ne,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},`${p}-${v}`))})]},p))})})]})}),e.jsx(Dt,{value:"todas",children:e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-5 w-5"}),"Todas as Consultas"]})}),e.jsx(ue,{children:a?e.jsx("div",{className:"space-y-4",children:[...Array(4)].map((p,v)=>e.jsx("div",{className:"h-16 w-full bg-muted animate-pulse rounded"},v))}):e.jsx("div",{className:"space-y-4",children:d.map(p=>{var w,y,b;const v=p.id,N=((w=p==null?void 0:p.paciente)==null?void 0:w.id)||(p==null?void 0:p.paciente_id);return e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((b=(y=u(p))==null?void 0:y[0])==null?void 0:b.toUpperCase())||"P"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:u(p)}),N&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",N]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(rt,{className:"h-4 w-4 text-muted-foreground mr-1"}),e.jsx("span",{children:h(p==null?void 0:p.data_hora)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ut,{className:"h-4 w-4 text-muted-foreground mr-1"}),e.jsx("span",{children:g(p==null?void 0:p.data_hora)})]})]})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[N&&e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(dt,{to:`/medico/paciente/${N}/perfil`,children:"Perfil"})}),e.jsx(ne,{variant:"ghost",size:"sm",children:"Detalhes"})]})]},v)})})})]})})]})]})}function jf({patientId:t,isPacienteView:n=!0,profile:a,patient:o,loading:i=!1}){var w;const c=y=>y?YC(y.replace(/_/g," ")):"",d=(a==null?void 0:a.nome)&&a.nome.trim()||[a==null?void 0:a.first_name,a==null?void 0:a.last_name].filter(Boolean).join(" ")||c(a==null?void 0:a.username)||"Usuário",f=((w=d==null?void 0:d.trim())==null?void 0:w.split(" ").filter(Boolean).slice(0,2).map(y=>{var b;return(b=y[0])==null?void 0:b.toUpperCase()}).join(""))||"?",u=y=>{if(!y)return null;const b=new Date(y);if(Number.isNaN(b.getTime()))return null;const _=new Date;let S=_.getFullYear()-b.getFullYear();const E=_.getMonth()-b.getMonth(),k=_.getDate()-b.getDate();(E<0||E===0&&k<0)&&S--;let T=new Date(_.getFullYear(),b.getMonth(),b.getDate());T>_&&(T=new Date(_.getFullYear()-1,b.getMonth(),b.getDate()));const P=1440*60*1e3,A=Math.floor((_-T)/P);return`${S} anos e ${A} dias`},g=(a==null?void 0:a.data_nascimento)||(o==null?void 0:o.data_nascimento)||null,h=u(g),p=(o==null?void 0:o.tipo_sanguineo)||(a==null?void 0:a.tipo_sanguineo)||"—",v=(o==null?void 0:o.alergias)??(a==null?void 0:a.alergias),N=Array.isArray(v)?alergiesRaw.length?v.join(", "):"—":v||"—";return i?e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[e.jsx(de,{children:e.jsx(ue,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ht,{className:"h-16 w-16 rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ht,{className:"h-5 w-40"}),e.jsx(ht,{className:"h-4 w-24"})]})]})})}),e.jsx(de,{children:e.jsx(ue,{className:"pt-6",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(ht,{className:"h-12 w-full"}),e.jsx(ht,{className:"h-12 w-full"}),e.jsx(ht,{className:"h-12 w-full"})]})})})]}):e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[e.jsx(de,{children:e.jsx(ue,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Ac,{className:"h-16 w-16",children:[e.jsx(vf,{src:a==null?void 0:a.avatar,alt:d}),e.jsx(Tc,{className:"bg-muted text-xl font-semibold",children:f})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:d}),e.jsx("p",{className:"text-sm text-muted-foreground",children:n?"Paciente":`ID: ${t||(a==null?void 0:a.id)||"-"}`})]})]})})}),e.jsx(de,{children:e.jsxs(ue,{className:"pt-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:"Idade"}),e.jsx("p",{children:h||"—"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:"Tipo Sanguíneo"}),e.jsx("p",{children:p})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:"Alergias"}),e.jsx("p",{children:N})]})]}),!n&&e.jsx("div",{className:"mt-4",children:e.jsx(ne,{size:"sm",asChild:!0,children:e.jsx(dt,{to:`/medico/paciente/${t||(a==null?void 0:a.id)}/iniciar-consulta`,children:"Iniciar Consulta"})})})]})})]})}function _A(){const{id:t}=Ur(),n=[{label:"Resumo",href:`/medico/paciente/${t}/perfil`},{label:"Prontuário",href:`/medico/paciente/${t}/prontuario`},{label:"Consultas",href:`/medico/paciente/${t}/consultas`},{label:"Exames",href:`/medico/paciente/${t}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${t}/iniciar-consulta`}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Perfil do Paciente"}),e.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie as informações do paciente"})]}),e.jsx(jf,{patientId:t,isPacienteView:!1}),e.jsx(nn,{tabs:n,basePath:`/medico/paciente/${t}`}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(xs,{className:"h-5 w-5"}),"Informações Pessoais"]})}),e.jsx(ue,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nome"}),e.jsx("p",{className:"text-muted-foreground",children:"—"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Data de Nascimento"}),e.jsx("p",{className:"text-muted-foreground",children:"—"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"CPF"}),e.jsx("p",{className:"text-muted-foreground",children:"—"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),e.jsx("p",{className:"text-muted-foreground",children:"—"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Endereço"}),e.jsx("p",{className:"text-muted-foreground",children:"—"})]})]})})})]}),e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(Ps,{className:"h-5 w-5"}),"Resumo Médico"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tipo Sanguíneo"}),e.jsx("p",{children:"O+"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Alergias"}),e.jsx("p",{children:"Penicilina, Amendoim"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Condições Crônicas"}),e.jsx("p",{children:"Hipertensão"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Medicamentos em Uso"}),e.jsx("p",{children:"Losartana 50mg, Hidroclorotiazida 25mg"})]})]})})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-5 w-5"}),"Histórico de Consultas"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-4",children:[[1,2,3].map(a=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:"Consulta de Rotina"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(Date.now()-a*30*864e5).toLocaleDateString()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Dr. Carlos Oliveira"})]}),e.jsx(ne,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(dt,{to:`/medico/paciente/${t}/consultas`,children:"Ver"})})]},a)),e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(dt,{to:`/medico/paciente/${t}/consultas`,children:"Ver Todas"})})]})})]}),e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(hn,{className:"h-5 w-5"}),"Exames Recentes"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-4",children:[[1,2,3].map(a=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:"Hemograma Completo"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(Date.now()-a*7*864e5).toLocaleDateString()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Solicitado por: Dr. Ana Souza"})]}),e.jsx(ne,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(dt,{to:`/medico/paciente/${t}/exames`,children:"Ver"})})]},a)),e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(dt,{to:`/medico/paciente/${t}/exames`,children:"Ver Todos"})})]})})]})]})]})}function EA(){const{id:t}=Ur(),n=[{label:"Resumo",href:`/medico/paciente/${t}/perfil`},{label:"Prontuário",href:`/medico/paciente/${t}/prontuario`},{label:"Consultas",href:`/medico/paciente/${t}/consultas`},{label:"Exames",href:`/medico/paciente/${t}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${t}/iniciar-consulta`}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Prontuário do Paciente"}),e.jsx("p",{className:"text-muted-foreground",children:"Histórico médico completo"})]}),e.jsx(jf,{patientId:t,isPacienteView:!1}),e.jsx(nn,{tabs:n,basePath:`/medico/paciente/${t}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(Ps,{className:"h-5 w-5"}),"Informações Gerais"]})}),e.jsx(ue,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tipo Sanguíneo"}),e.jsx("p",{children:"O+"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Alergias"}),e.jsx("p",{children:"Penicilina, Amendoim"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Condições Crônicas"}),e.jsx("p",{children:"Hipertensão"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Medicamentos em Uso"}),e.jsx("p",{children:"Losartana 50mg, Hidroclorotiazida 25mg"})]})]})})})]}),e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-5 w-5"}),"Histórico de Consultas"]})}),e.jsx(ue,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(a=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xs,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("p",{className:"font-medium",children:"Dr. Carlos Oliveira"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Cardiologia"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(Date.now()-a*30*864e5).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Diagnóstico"}),e.jsx("p",{children:"Hipertensão Arterial Estágio 1"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Conduta"}),e.jsx("p",{children:"Manutenção da medicação atual. Recomendação de atividade física regular e redução do consumo de sal."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Exames Solicitados"}),e.jsx("p",{children:"Hemograma completo, Perfil lipídico, Função renal"})]})]},a))})})]})]})]})}function RA({params:t}){const{id:n}=t,a=[{label:"Resumo",href:`/medico/paciente/${n}/perfil`},{label:"Prontuário",href:`/medico/paciente/${n}/prontuario`},{label:"Consultas",href:`/medico/paciente/${n}/consultas`},{label:"Exames",href:`/medico/paciente/${n}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${n}/iniciar-consulta`}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames do Paciente"}),e.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie exames do paciente"})]}),e.jsx(jf,{patientId:n,isPacienteView:!1}),e.jsx(nn,{tabs:a,basePath:`/medico/paciente/${n}`}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(xn,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar exames...",className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(Nt,{children:[e.jsx(vt,{className:"w-[180px]",children:e.jsx(bt,{placeholder:"Tipo de exame"})}),e.jsxs(yt,{children:[e.jsx(Se,{value:"todos",children:"Todos"}),e.jsx(Se,{value:"laboratoriais",children:"Laboratoriais"}),e.jsx(Se,{value:"imagem",children:"Imagem"}),e.jsx(Se,{value:"cardio",children:"Cardiológicos"})]})]}),e.jsxs(ne,{children:[e.jsx(hn,{className:"mr-2 h-4 w-4"}),"Solicitar Exame"]})]})]}),e.jsxs($n,{defaultValue:"todos",children:[e.jsxs(Ln,{className:"grid w-full grid-cols-4",children:[e.jsx(_t,{value:"todos",children:"Todos"}),e.jsx(_t,{value:"pendentes",children:"Pendentes"}),e.jsx(_t,{value:"realizados",children:"Realizados"}),e.jsx(_t,{value:"solicitados-por-mim",children:"Solicitados por Mim"})]}),e.jsx(Dt,{value:"realizados",children:e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(hn,{className:"h-5 w-5"}),"Exames Realizados"]})}),e.jsx(ue,{children:e.jsx("div",{className:"space-y-4",children:[3,4,5,6].map(o=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:o%3===0?"Hemograma Completo":o%3===1?"Perfil Lipídico":"Eletrocardiograma"}),e.jsxs("div",{className:"mt-1 text-sm text-muted-foreground",children:["Solicitado por: ",o%2===0?"Dr. Carlos Oliveira":"Dra. Ana Souza"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Realizado em: ",new Date(Date.now()-o*15*864e5).toLocaleDateString()]})]})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"rounded-full px-2 py-1 text-xs inline-flex bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Realizado"})}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsxs(ne,{variant:"outline",size:"sm",children:[e.jsx($r,{className:"mr-2 h-4 w-4"}),"Visualizar Resultado"]}),e.jsxs(ne,{variant:"outline",size:"sm",children:[e.jsx(Qa,{className:"mr-2 h-4 w-4"}),"Baixar PDF"]}),e.jsxs(ne,{variant:"outline",size:"sm",children:[e.jsx(hn,{className:"mr-2 h-4 w-4"}),"Solicitar Novo"]})]})]},o))})})]})}),e.jsx(Dt,{value:"solicitados-por-mim",children:e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(hn,{className:"h-5 w-5"}),"Exames Solicitados por Mim"]})}),e.jsx(ue,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3].map(o=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:o%2===0?"Hemograma Completo":"Perfil Lipídico"}),e.jsx("div",{className:"mt-1 text-sm text-muted-foreground",children:"Solicitado por: Você"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Solicitado em: ",new Date(Date.now()-o*10*864e5).toLocaleDateString()]})]})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"rounded-full px-2 py-1 text-xs inline-flex bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:"Pendente"})}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsxs(ne,{variant:"outline",size:"sm",children:[e.jsx(zm,{className:"mr-2 h-4 w-4"}),"Registrar Resultado"]}),e.jsx(ne,{variant:"outline",size:"sm",children:"Reagendar"}),e.jsx(ne,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",children:"Cancelar"})]})]},o))})})]})})]})]})}const wg={async sumarizarTranscricao(t,n={}){throw new Error("VITE_GEMINI_API_KEY não configurada")}};function kA(){const{id:t}=Ur(),n=Ts(),a=ms(),[o,i]=x.useState(!1),{toast:c}=Xt(),[d,f]=x.useState(!1),[u,g]=x.useState({queixa:"",historia:"",medicamentos:"",alergias:"",pressao:"","frequencia-cardiaca":"",temperatura:"",saturacao:"","exame-geral":"","sistema-cardiovascular":"","sistema-respiratorio":"",diagnostico:"",conduta:"",exames:"",retorno:""}),h=B=>{const{id:z,value:G}=B.target;g(Z=>({...Z,[z]:G}))},v=new URLSearchParams(a.search).get("consultaId"),[N,w]=x.useState(""),[y,b]=x.useState(!1),[_,S]=x.useState(""),[E,k]=x.useState("unknown"),T=x.useRef(null),P=x.useRef(-1),[A,R]=x.useState(""),$=x.useRef(!1),O=x.useMemo(()=>`iniciar-consulta:${t}:${v||"sem-consulta"}`,[t,v]),I=x.useRef("");x.useEffect(()=>{I.current=A},[A]);const[V,J]=x.useState(null),[F,K]=x.useState(!1),[M,W]=x.useState("");x.useEffect(()=>{let B;return(async()=>{try{navigator.permissions&&navigator.permissions.query&&(B=await navigator.permissions.query({name:"microphone"}),k(B.state||"unknown"),B.onchange=()=>k(B.state||"unknown"))}catch{}})(),()=>{B&&(B.onchange=null)}},[]);const U=async()=>{S("");try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(z=>z.stop()),k("granted"),!0}catch(B){const z=B&&(B.name||B.message)||"Permissão de microfone negada";return S(typeof z=="string"?z:"Falha ao acessar microfone"),k("denied"),!1}};x.useEffect(()=>{try{const B=localStorage.getItem(O);B&&w(B)}catch{}},[O]),x.useEffect(()=>{let B=!0;return(async()=>{var z;try{const G="/pacientes/".replace(/\/?$/,"/"),{data:Z}=await le.get(`${G}${t}/`);if(!B)return;J(Z);const ae=(Z==null?void 0:Z.alergias)||"";ae&&!u.alergias&&g(xe=>({...xe,alergias:ae}))}catch(G){console.debug("[IniciarConsulta] Falha ao buscar paciente por id:",(z=G==null?void 0:G.response)==null?void 0:z.status)}})(),()=>{B=!1}},[t]),x.useEffect(()=>{try{localStorage.setItem(O,N||"")}catch{}},[O,N]),x.useEffect(()=>(X(),()=>{ee()}),[]);const X=async()=>{try{if(!await U()){b(!1),$.current=!1;return}if(T.current){try{T.current.onend=null,T.current.onresult=null,T.current.onerror=null,T.current.stop()}catch{}T.current=null}const B=window.SpeechRecognition||window.webkitSpeechRecognition;if(!B){console.warn("Reconhecimento de fala não suportado neste navegador."),S("Seu navegador não suporta reconhecimento de fala."),b(!1);return}const z=new B;z.lang="pt-BR",z.continuous=!0,z.interimResults=!0,z.maxAlternatives=1,P.current=-1,z.onresult=G=>{let Z="",ae="";for(let xe=G.resultIndex;xe<G.results.length;xe++){const ve=G.results[xe],Re=Array.from(ve,Pe=>Pe.transcript).join("");ve.isFinal?Z+=Re+" ":ae+=Re}if(Z){const xe=Z.trim();w(ve=>{const Re=ve?ve.endsWith(" ")?ve:ve+" ":"";return xe&&Re.endsWith(xe)?ve:(Re+xe).trim()})}R(ae)},z.onerror=G=>{const Z=(G==null?void 0:G.error)||G;if(console.warn("Erro no reconhecimento de fala:",Z),typeof Z=="string"&&S(Z),["audio-capture","network"].includes(Z)&&$.current&&T.current===z)try{z.stop()}catch{}Z==="not-allowed"&&(b(!1),$.current=!1)},z.onend=()=>{const G=T.current===z,Z=(I.current||"").trim();Z&&w(ae=>{const xe=ae?ae.endsWith(" ")?ae:ae+" ":"";return xe.endsWith(Z)?ae:(xe+Z).trim()}),R(""),P.current=-1,$.current&&G&&setTimeout(()=>{try{z.start()}catch{}},200)},T.current=z,$.current=!0,b(!0);try{z.start()}catch(G){console.warn("Falha ao iniciar reconhecimento:",G),b(!1),$.current=!1,T.current=null,S("Falha ao iniciar reconhecimento de fala.");return}}catch(B){console.warn("Falha ao iniciar reconhecimento de fala:",B),b(!1),$.current=!1,S("Falha inesperada ao iniciar microfone.")}},ee=async()=>{try{b(!1),$.current=!1,R(""),T.current&&(T.current.onend=null,T.current.onresult=null,T.current.onerror=null,T.current.stop(),T.current=null)}catch{}try{if((N||"").trim().length>0&&!d&&v){try{await tt.finalizarConsulta(v)}catch{}try{const z=L(N||""),G=await tt.sumarizarConsulta(v,{transcript:N||"",extracted:{queixa:z.queixa||"",historia:z.historia||"",diagnostico:z.diagnostico||"",conduta:z.conduta||"",medicamentos:z.medicamentos||"",posologia:z.posologia||"",pressao:z.pressao||"",frequencia_cardiaca:z["frequencia-cardiaca"]||z.frequencia||"",temperatura:z.temperatura||"",saturacao:z.saturacao||""},form:{queixa_principal:u.queixa||"",historia_doenca_atual:u.historia||"",diagnostico_principal:u.diagnostico||"",conduta:u.conduta||"",medicamentos_uso:u.medicamentos||"",alergias:u.alergias||"",pressao:u.pressao||"",frequencia_cardiaca:u.frequencia||u["frequencia-cardiaca"]||"",temperatura:u.temperatura||"",saturacao:u.saturacao||""}}),Z=[G,G==null?void 0:G.data,G==null?void 0:G.result,G==null?void 0:G.output,G==null?void 0:G.summary,G==null?void 0:G.sumarizacao,G==null?void 0:G.resumo,G==null?void 0:G.fields].filter(Boolean),ae=(Re,Pe)=>Pe.split(".").reduce((Ye,at)=>Ye&&Ye[at]!=null?Ye[at]:void 0,Re),xe=Re=>{for(const Pe of Z)for(const Ye of Re){const at=ae(Pe,Ye);if(typeof at=="string"&&at.trim())return at.trim()}return""},ve={queixa:u.queixa||xe(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||z.queixa||"",historia:u.historia||xe(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||z.historia||"",medicamentos:u.medicamentos||xe(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||z.medicamentos||"",alergias:u.alergias||xe(["alergias","anamnese.alergias","allergies"])||"",diagnostico:u.diagnostico||xe(["diagnostico_principal","diagnostico","diagnosis","assessment"])||z.diagnostico||"",conduta:u.conduta||xe(["conduta","plano","plan","plan_terapeutico"])||z.conduta||"",posologia:u.posologia||xe(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||z.posologia||"",pressao:u.pressao||xe(["pressao","sinais_vitais.pressao"])||z.pressao||"","frequencia-cardiaca":u["frequencia-cardiaca"]||u.frequencia||xe(["frequencia_cardiaca","sinais_vitais.frequencia_cardiaca","fc","heart_rate"])||z["frequencia-cardiaca"]||z.frequencia||"",temperatura:u.temperatura||xe(["temperatura","sinais_vitais.temperatura"])||z.temperatura||"",saturacao:u.saturacao||xe(["saturacao","sinais_vitais.saturacao","spo2"])||z.saturacao||""};g(Re=>({...Re,...ve})),f(!0),c({title:"Resumo aplicado",description:"Pré-preenchimento realizado a partir da transcrição."})}catch(z){console.debug("[auto-sumarizar] falhou:",z==null?void 0:z.message)}}}catch{}};function L(B=""){var Ie;const z=B.replace(/\r/g,"").trim(),G=Oe=>{const De=new RegExp(`(?:^|
)s*(?:${Oe.join("|")})s*[:：]s*([sS]*?)(?=
s*(?:Queixa|História|Historia|Exame|Diagn[oó]stico|Conduta|Prescri|Rx|Receita)s*[:：]|$)`,"i"),ge=z.match(De);return ge?ge[1].trim():""},Z=G(["Queixa","Queixa Principal"])||((Ie=z.split(/\n\n|\n-/)[0])==null?void 0:Ie.slice(0,300))||"",ae=G(["História","Historia","HDA","História da Doença Atual"])||"",xe=G(["Diagnóstico","Diagnostico"])||"",ve=G(["Conduta","Plano","Plano Terapêutico"])||"",Re=G(["Prescrição","Prescricao","Receita","Rx"])||"";let Pe="",Ye="";if(Re){const Oe=Re.split(/\n+/).map(De=>De.trim()).filter(Boolean);Oe.length===1?(Pe=Oe[0],Ye="Conforme descrito na prescrição."):Oe.length>1&&(Pe=Oe[0],Ye=Oe.slice(1).join(" "))}if(!Pe&&ve){const Oe=(ve.match(/.+?(\d+\s?(mg|ml|g|mcg)|comprimid|c[aá]psul|gotas).*/i)||[""])[0];Oe&&(Pe=Oe.trim(),Ye="Conforme conduta descrita.")}const at=(z.match(/(PA|press[aã]o( arterial)?)[^\d]*(\d{2,3}\s*\/\s*\d{2,3})\s*(mmhg)?/i)||["","","",""])[3]||"",mt=(z.match(/(FC|freq[uê]ncia\s*card[ií]aca)[^\d]*(\d{2,3})\s*(bpm)?/i)||["","",""])[2]||"",jt=(z.match(/(temp(eratura)?)[^\d]*(\d{2}(?:[\.,]\d)?)\s*(?:°?c|celsius)?/i)||["","","",""])[3]||"",Me=(z.match(/(sat|satura[cç][aã]o)[^\d]*(\d{2})\s*%/i)||["","",""])[2]||"";return{queixa:Z,historia:ae,diagnostico:xe,conduta:ve,medicamentos:Pe,posologia:Ye,pressao:at,"frequencia-cardiaca":mt,temperatura:jt,saturacao:Me}}const q=async()=>{const B=(M||"").trim();if(!B){K(!1);return}const z=(u.alergias||"").trim(),G=z?`${z}
${B}`:B;g(Z=>({...Z,alergias:G}));try{V!=null&&V.id&&(tt!=null&&tt.atualizarPacienteById)&&(await tt.atualizarPacienteById(V.id,{alergias:G}),c({title:"Alergia adicionada",description:"Atualizamos o cadastro do paciente."}))}catch(Z){console.debug("Falha ao atualizar alergias do paciente:",Z==null?void 0:Z.message),c({title:"Não foi possível salvar no cadastro",description:"A alergia foi adicionada ao formulário apenas.",variant:"destructive"})}finally{W(""),K(!1)}},te=async B=>{var G;B.preventDefault(),i(!0);try{ee()}catch{}const z=L(N||"");try{let Z=null;if(!d)if(v){try{await tt.finalizarConsulta(v)}catch{}let ge=null;try{ge=await tt.sumarizarConsulta(v,{transcript:N||"",extracted:{queixa:z.queixa||"",historia:z.historia||"",diagnostico:z.diagnostico||"",conduta:z.conduta||"",medicamentos:z.medicamentos||"",posologia:z.posologia||""},form:{queixa_principal:u.queixa||"",historia_doenca_atual:u.historia||"",diagnostico_principal:u.diagnostico||"",conduta:u.conduta||"",medicamentos_uso:u.medicamentos||"",alergias:u.alergias||""}})}catch(At){console.warn("Falha ao enviar dados para sumarização:",At)}if(!ge)try{ge=await wg.sumarizarTranscricao(N||"",{queixa:z.queixa||"",historia_doenca_atual:z.historia||"",diagnostico_principal:z.diagnostico||"",conduta:z.conduta||"",medicamentos:z.medicamentos||"",posologia:z.posologia||"",alergias:u.alergias||""})}catch(At){console.debug("[AI] Gemini indisponível:",At==null?void 0:At.message)}const it=[ge,ge==null?void 0:ge.data,ge==null?void 0:ge.result,ge==null?void 0:ge.output,ge==null?void 0:ge.summary,ge==null?void 0:ge.sumarizacao,ge==null?void 0:ge.resumo,ge==null?void 0:ge.fields].filter(Boolean),lt=(At,Zt)=>{try{return Zt.split(".").reduce((xt,Rt)=>xt&&xt[Rt]!==void 0?xt[Rt]:void 0,At)}catch{return}},et=At=>{for(const Zt of it)for(const xt of At){const Rt=lt(Zt,xt);if(Rt!=null){const kt=String(Rt).trim();if(kt)return kt}}return""},It={queixa:u.queixa||et(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||z.queixa||"",historia:u.historia||et(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||z.historia||"",medicamentos:u.medicamentos||et(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||z.medicamentos||"",alergias:u.alergias||et(["alergias","anamnese.alergias","allergies"])||"",diagnostico:u.diagnostico||et(["diagnostico_principal","diagnostico","diagnosis","assessment"])||z.diagnostico||"",conduta:u.conduta||et(["conduta","plano","plan","plan_terapeutico"])||z.conduta||"",posologia:u.posologia||et(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||z.posologia||"",pressao:u.pressao||et(["pressao","sinais_vitais.pressao"])||z.pressao||"","frequencia-cardiaca":u["frequencia-cardiaca"]||et(["frequencia_cardiaca","sinais_vitais.frequencia_cardiaca"])||z["frequencia-cardiaca"]||"",temperatura:u.temperatura||et(["temperatura","sinais_vitais.temperatura"])||z.temperatura||"",saturacao:u.saturacao||et(["saturacao","sinais_vitais.saturacao"])||z.saturacao||""};Z=It,g(At=>({...At,...It})),f(!0),c({title:"Resumo aplicado",description:"Campos preenchidos com a sugestão da IA. Salvando prontuário..."})}else try{const ge=await wg.sumarizarTranscricao(N||"",{queixa_principal:z.queixa||u.queixa||"",historia_doenca_atual:z.historia||u.historia||"",diagnostico_principal:z.diagnostico||u.diagnostico||"",conduta:z.conduta||u.conduta||"",medicamentos:z.medicamentos||u.medicamentos||"",posologia:z.posologia||u.posologia||"",alergias:u.alergias||""}),it=[ge,ge==null?void 0:ge.data,ge==null?void 0:ge.result,ge==null?void 0:ge.output,ge==null?void 0:ge.summary,ge==null?void 0:ge.sumarizacao,ge==null?void 0:ge.resumo,ge==null?void 0:ge.fields].filter(Boolean),lt=(At,Zt)=>{try{return Zt.split(".").reduce((xt,Rt)=>xt&&xt[Rt]!==void 0?xt[Rt]:void 0,At)}catch{return}},et=At=>{for(const Zt of it)for(const xt of At){const Rt=lt(Zt,xt);if(Rt!=null){const kt=String(Rt).trim();if(kt)return kt}}return""},It={queixa:u.queixa||et(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||z.queixa||"",historia:u.historia||et(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||z.historia||"",medicamentos:u.medicamentos||et(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||z.medicamentos||"",alergias:u.alergias||et(["alergias","anamnese.alergias","allergies"])||"",diagnostico:u.diagnostico||et(["diagnostico_principal","diagnostico","diagnosis","assessment"])||z.diagnostico||"",conduta:u.conduta||et(["conduta","plano","plan","plan_terapeutico"])||z.conduta||"",posologia:u.posologia||et(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||z.posologia||""};Z=It,g(At=>({...At,...It})),f(!0),c({title:"Campos sugeridos",description:"Usamos a transcrição e a IA para preencher. Salvando prontuário..."})}catch{const it={queixa:u.queixa||z.queixa||"",historia:u.historia||z.historia||"",diagnostico:u.diagnostico||z.diagnostico||"",conduta:u.conduta||z.conduta||"",medicamentos:u.medicamentos||z.medicamentos||"",posologia:u.posologia||z.posologia||""};Z=it,g(lt=>({...lt,...it})),f(!0),c({title:"Campos sugeridos",description:"Usamos a transcrição para preencher. Salvando prontuário..."})}const ae=Z?{...u,...Z}:u,xe={consulta_id:v,queixa_principal:(ae.queixa||z.queixa||"").trim(),historia_doenca_atual:(ae.historia||z.historia||"").trim(),diagnostico_principal:(ae.diagnostico||z.diagnostico||"").trim(),conduta:(ae.conduta||z.conduta||"").trim()};(ae.medicamentos||z.medicamentos)&&(xe.medicamentos_uso=(ae.medicamentos||z.medicamentos).trim()),ae.alergias&&(xe.alergias=ae.alergias),ae.exames&&(xe.exames_solicitados=ae.exames),ae.retorno&&(xe.data_retorno=ae.retorno);let ve=null;if(v)try{const ge=await tt.criarProntuario(xe);ve=(ge==null?void 0:ge.id)||((G=ge==null?void 0:ge.data)==null?void 0:G.id)}catch(ge){console.warn("Falha ao criar prontuário:",ge)}const Re=new Date,Pe=new Date(Re.getFullYear(),Re.getMonth(),Re.getDate()+7),Ye=ge=>String(ge).padStart(2,"0"),at=`${Pe.getFullYear()}-${Ye(Pe.getMonth()+1)}-${Ye(Pe.getDate())}`,mt=ae.medicamentos||z.medicamentos||"",jt=ae.posologia||z.posologia||"",Me=ae.diagnostico||z.diagnostico||"",Ie=ae.conduta||z.conduta||"",Oe=ae.queixa||z.queixa||"",De=ae.historia||z.historia||"";if(v&&(mt||jt))try{await tt.criarReceita({consulta_id:v,paciente:t,paciente_id:t,medicamentos:mt,posologia:jt,validade:at,observacoes:"Receita gerada automaticamente a partir do resumo da consulta."})}catch(ge){console.warn("Falha ao criar receita automática:",ge)}try{localStorage.removeItem(O)}catch{}n(`/medico/paciente/${t}/consulta/resumo`,{state:{resumo:{medicamentos:mt,posologia:jt,validade:at,diagnostico:Me,conduta:Ie,queixa:Oe,historia:De},consultaId:v,prontuarioId:ve}})}catch(Z){console.error("Erro ao salvar prontuário/consulta:",Z);const ae=new Date,xe=new Date(ae.getFullYear(),ae.getMonth(),ae.getDate()+7),ve=Ie=>String(Ie).padStart(2,"0"),Re=`${xe.getFullYear()}-${ve(xe.getMonth()+1)}-${ve(xe.getDate())}`,Pe=u.medicamentos||z.medicamentos||"",Ye=u.posologia||z.posologia||"",at=u.diagnostico||z.diagnostico||"",mt=u.conduta||z.conduta||"",jt=u.queixa||z.queixa||"",Me=u.historia||z.historia||"";n(`/medico/paciente/${t}/consulta/resumo`,{state:{resumo:{medicamentos:Pe,posologia:Ye,validade:Re,diagnostico:at,conduta:mt,queixa:jt,historia:Me},consultaId:v}})}finally{i(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Nova Consulta"}),e.jsxs("p",{className:"text-muted-foreground",children:["Paciente ID: ",t,v?` • Consulta #${v}`:""]})]}),e.jsxs(de,{children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0",children:[e.jsxs("div",{children:[e.jsx(he,{children:"Transcrição de Áudio (tempo real)"}),e.jsx(Je,{children:"Fale normalmente; o texto aparecerá abaixo e pode ser editado."}),_&&e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Microfone: ",_]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:`flex items-center gap-1 text-sm ${y?"text-green-600":"text-muted-foreground"}`,children:[e.jsx(PC,{className:`h-4 w-4 ${y?"animate-pulse":""}`}),y?"Ouvindo":"Pausado"]}),y?e.jsxs(ne,{type:"button",variant:"outline",size:"sm",onClick:ee,children:[e.jsx(zC,{className:"h-4 w-4 mr-2"})," Pausar"]}):e.jsxs(ne,{type:"button",variant:"default",size:"sm",onClick:X,children:[e.jsx(BC,{className:"h-4 w-4 mr-2"})," Retomar"]}),e.jsx(ne,{type:"button",variant:"outline",size:"sm",onClick:U,children:"Testar microfone"}),e.jsx(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>{ee(),setTimeout(()=>X(),250)},children:"Resetar microfone"})]})]}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"transcript",children:"Resumo em tempo real"}),e.jsx(pt,{id:"transcript",placeholder:"O que você ditar será transcrito aqui. Você pode editar livremente.",className:"min-h-[160px]",value:N,onChange:B=>w(B.target.value)}),A&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1","aria-live":"polite",children:["Ditando: ",A]})]})})]}),e.jsxs("form",{onSubmit:te,children:[e.jsxs($n,{defaultValue:"anamnese",className:"space-y-4",children:[e.jsxs(Ln,{children:[e.jsxs(_t,{value:"anamnese",className:"flex items-center gap-2",children:[e.jsx(Gt,{className:"h-4 w-4"}),"Anamnese"]}),e.jsxs(_t,{value:"exame-fisico",className:"flex items-center gap-2",children:[e.jsx(hn,{className:"h-4 w-4"}),"Exame Físico"]}),e.jsxs(_t,{value:"diagnostico",className:"flex items-center gap-2",children:[e.jsx(Ps,{className:"h-4 w-4"}),"Diagnóstico"]})]}),e.jsx(Dt,{value:"anamnese",children:e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Anamnese"}),e.jsx(Je,{children:"Registre a queixa principal e o histórico do paciente"})]}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"queixa",children:"Queixa Principal"}),e.jsx(pt,{id:"queixa",placeholder:"Descreva a queixa principal do paciente",className:"min-h-[100px]",value:u.queixa,onChange:h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"historia",children:"História da Doença Atual"}),e.jsx(pt,{id:"historia",placeholder:"Descreva a história da doença atual",className:"min-h-[150px]",value:u.historia,onChange:h})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"medicamentos",children:"Medicamentos em Uso"}),e.jsx(pt,{id:"medicamentos",placeholder:"Liste os medicamentos em uso",className:"min-h-[100px]",value:u.medicamentos,onChange:h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"alergias",children:"Alergias"}),e.jsx(pt,{id:"alergias",placeholder:"Liste as alergias conhecidas",className:"min-h-[100px]",value:u.alergias,onChange:h}),e.jsx("div",{className:"mt-2",children:e.jsx(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>K(!0),children:"Adicionar alergia"})})]})]})]})]})}),e.jsx(Dt,{value:"exame-fisico",children:e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Exame Físico"}),e.jsx(Je,{children:"Registre os dados do exame físico do paciente"})]}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"pressao",children:"Pressão Arterial"}),e.jsx(fe,{id:"pressao",placeholder:"Ex: 120/80 mmHg",value:u.pressao,onChange:h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"frequencia-cardiaca",children:"Freq. Cardíaca"}),e.jsx(fe,{id:"frequencia-cardiaca",placeholder:"Ex: 75 bpm",value:u["frequencia-cardiaca"],onChange:h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"temperatura",children:"Temperatura"}),e.jsx(fe,{id:"temperatura",placeholder:"Ex: 36.5 °C",value:u.temperatura,onChange:h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"saturacao",children:"Saturação O2"}),e.jsx(fe,{id:"saturacao",placeholder:"Ex: 98%",value:u.saturacao,onChange:h})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"exame-geral",children:"Exame Geral"}),e.jsx(pt,{id:"exame-geral",placeholder:"Descreva o estado geral do paciente",className:"min-h-[100px]",value:u["exame-geral"],onChange:h})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"sistema-cardiovascular",children:"Sistema Cardiovascular"}),e.jsx(pt,{id:"sistema-cardiovascular",placeholder:"Descreva os achados cardiovasculares",className:"min-h-[100px]",value:u["sistema-cardiovascular"],onChange:h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"sistema-respiratorio",children:"Sistema Respiratório"}),e.jsx(pt,{id:"sistema-respiratorio",placeholder:"Descreva os achados respiratórios",className:"min-h-[100px]",value:u["sistema-respiratorio"],onChange:h})]})]})]})]})}),e.jsx(Dt,{value:"diagnostico",children:e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Diagnóstico e Conduta"}),e.jsx(Je,{children:"Registre o diagnóstico e plano terapêutico"})]}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"diagnostico",children:"Diagnóstico"}),e.jsx(pt,{id:"diagnostico",placeholder:"Descreva o diagnóstico principal e diferenciais",className:"min-h-[100px]",value:u.diagnostico,onChange:h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"conduta",children:"Conduta"}),e.jsx(pt,{id:"conduta",placeholder:"Descreva a conduta terapêutica",className:"min-h-[150px]",value:u.conduta,onChange:h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"exames",children:"Exames Solicitados"}),e.jsx(pt,{id:"exames",placeholder:"Liste os exames solicitados",className:"min-h-[100px]",value:u.exames,onChange:h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"retorno",children:"Retorno"}),e.jsx(fe,{id:"retorno",type:"date",className:"max-w-xs",value:u.retorno,onChange:h})]})]})]})})]}),e.jsx("div",{className:"sticky bottom-0 left-0 right-0 z-10 border-t bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsx(ne,{type:"button",variant:"outline",onClick:()=>n(-1),children:"Cancelar"}),e.jsx(ne,{type:"submit",disabled:o,children:o?e.jsx(e.Fragment,{children:"Salvando..."}):e.jsxs(e.Fragment,{children:[e.jsx(Nv,{className:"mr-2 h-4 w-4"}),d?"Salvar Prontuário":"Finalizar e Preencher com IA"]})})]})})]}),e.jsx(mi,{open:F,onOpenChange:K,children:e.jsxs(Xr,{children:[e.jsxs(Zr,{children:[e.jsx(to,{children:"Adicionar alergia"}),e.jsx($c,{children:"Informe a alergia para adicionar ao prontuário (e ao cadastro do paciente)."})]}),e.jsxs("div",{className:"space-y-2 py-2",children:[e.jsx(ce,{htmlFor:"nova-alergia",children:"Alergia"}),e.jsx(fe,{id:"nova-alergia",placeholder:"Ex.: Dipirona",value:M,onChange:B=>W(B.target.value)})]}),e.jsxs(eo,{children:[e.jsx(ne,{type:"button",variant:"outline",onClick:()=>{K(!1),W("")},children:"Cancelar"}),e.jsx(ne,{type:"button",onClick:q,children:"Salvar"})]})]})})]})}function Q0(){const t=new Date,n=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${t.getFullYear()}-${n}-${a}`}function PA(t){if(!t)return"";const n=String(t).match(/^(\d{4})-(\d{2})-(\d{2})$/);if(n){const[,a,o,i]=n;return`${i}/${o}/${a}`}try{return new Date(t).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return t}}function AA(t){return(t===Q0()?tt.getConsultasHoje():tt.getConsultasDoMedico({date:t})).then(o=>{const c=(d=>Array.isArray(d)?d:!d||typeof d!="object"?[]:Array.isArray(d.results)?d.results:Array.isArray(d.data)?d.data:Array.isArray(d.items)?d.items:Array.isArray(d.consultas)?d.consultas:Array.isArray(d.content)?d.content:Array.isArray(d.objects)?d.objects:[])(o);return Array.isArray(c)?c.map(d=>{var N,w,y,b,_;const f=((N=d==null?void 0:d.paciente)==null?void 0:N.user)||{},u=[f.first_name,f.last_name].filter(Boolean).join(" ")||((w=d==null?void 0:d.paciente)==null?void 0:w.nome)||(d==null?void 0:d.paciente_nome)||(d==null?void 0:d.nome_paciente)||"Paciente";let g="";const h=(d==null?void 0:d.data_hora)||(d==null?void 0:d.horario)||(d==null?void 0:d.inicio)||(d==null?void 0:d.start_time)||(d==null?void 0:d.data)||(d==null?void 0:d.inicio_previsto);if(h)try{const S=new Date(h);if(!isNaN(S.getTime()))g=S.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});else throw new Error("invalid date")}catch{const S=String(h).match(/\b(\d{2}:\d{2})\b/);g=S?S[1]:""}const p=String((d==null?void 0:d.status)||(d==null?void 0:d.situacao)||"").toLowerCase();let v="pendente";return p.includes("andamento")?v="em_andamento":p.includes("finaliz")||p.includes("conclu")||p.includes("cancel")||p.includes("faltou")?v="finalizado":v="pendente",{id:d.id||d.consulta_id||d.uuid,paciente:{id:((y=d==null?void 0:d.paciente)==null?void 0:y.id)||(d==null?void 0:d.paciente_id),nome:u.trim(),avatarUrl:((b=d==null?void 0:d.paciente)==null?void 0:b.avatar_url)||((_=d==null?void 0:d.paciente)==null?void 0:_.foto)||(d==null?void 0:d.paciente_avatar)||null},hora:g,status:v}}):[]})}function TA({status:t}){const n={pendente:"bg-amber-100 text-amber-700",em_andamento:"bg-emerald-100 text-emerald-700",finalizado:"bg-gray-100 text-gray-600"},a={pendente:"Pendente",em_andamento:"Em Andamento",finalizado:"Finalizado"};return e.jsx("span",{className:`rounded-full px-3 py-1 text-sm font-medium ${n[t]}`,children:a[t]})}function MA({url:t,name:n}){return t?e.jsx("img",{src:t,alt:`Avatar de ${n}`,className:"h-14 w-14 rounded-full object-cover"}):e.jsxs("svg",{className:"h-14 w-14 rounded-full bg-gray-100 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":!0,children:[e.jsx("circle",{cx:"12",cy:"8",r:"4"}),e.jsx("path",{d:"M4 20c0-4 4-6 8-6s8 2 8 6"})]})}function DA(){return e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),e.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),e.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"})]})}function OA({onRetry:t}){return e.jsxs("div",{className:"mt-10 rounded-xl border border-red-200 bg-red-50 p-4 text-red-700",children:["Ocorreu um erro ao carregar as consultas.",e.jsx("button",{className:"ml-3 rounded-md bg-red-600 px-3 py-1 text-white",onClick:t,children:"Tentar novamente"})]})}function $A(){return e.jsx("div",{className:"mt-12 rounded-2xl border bg-white p-10 text-center text-gray-500",children:"Nenhuma consulta encontrada para este dia."})}function LA({children:t,...n}){return e.jsx("button",{...n,className:"rounded-lg bg-blue-600 px-4 py-2 text-white shadow-sm transition-colors hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-200",children:t})}function Ng({children:t,...n}){return e.jsx("button",{...n,className:"rounded-lg bg-gray-100 px-4 py-2 text-gray-700 shadow-sm transition-colors hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-200",children:t})}function IA({consulta:t,onIniciar:n}){const a=x.useMemo(()=>{if(!t.hora)return"";try{const[i,c]=String(t.hora).split(":"),d=new Date;return d.setHours(Number(i),Number(c),0,0),d.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}catch{return t.hora}},[t.hora]),o=()=>t.status==="pendente"?e.jsx(LA,{onClick:()=>n(t),"aria-label":`Iniciar consulta de ${t.paciente.nome} às ${t.hora}`,children:"Iniciar Consulta"}):t.status==="em_andamento"?e.jsx(Ng,{disabled:!0,children:"Em Andamento"}):e.jsx(Ng,{disabled:!0,children:"Finalizado"});return e.jsxs("div",{className:"flex items-center justify-between rounded-2xl border bg-white p-5 shadow-md transition-all hover:shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(MA,{url:t.paciente.avatarUrl,name:t.paciente.nome}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.paciente.nome}),e.jsx("div",{className:"mt-1 text-sm text-gray-500",children:a})]})]}),e.jsxs("div",{className:"flex flex-col items-stretch gap-3 md:flex-row md:items-center",children:[e.jsx(TA,{status:t.status}),o()]})]})}function FA(){const t=Ts(),[n,a]=x.useState(Q0()),[o,i]=x.useState("todos"),[c,d]=x.useState(!0),[f,u]=x.useState(null),[g,h]=x.useState([]),p=async()=>{d(!0),u(null);try{const y=await AA(n);h(y)}catch(y){u(y)}finally{d(!1)}};x.useEffect(()=>{p()},[n]);const v=async y=>{var b;try{y!=null&&y.id&&await tt.iniciarConsulta(y.id)}catch(_){console.error("Falha ao iniciar consulta no backend:",_)}finally{try{const _=y==null?void 0:y.id,S=(b=y==null?void 0:y.paciente)==null?void 0:b.id,E=_?`/medico/paciente/${S}/iniciar-consulta?consultaId=${_}`:`/medico/paciente/${S}/iniciar-consulta`;t(E)}catch{console.log("Iniciar consulta (fallback navegação)",y==null?void 0:y.id)}}},N=PA(n),w=g.filter(y=>o==="todos"?!0:y.status===o);return e.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-blue-50 p-2 text-blue-600",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"h-5 w-5",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),e.jsx("path",{d:"M16 2v4M8 2v4M3 10h18"})]})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Consultas de Hoje"}),e.jsx("span",{className:"text-sm text-gray-500",children:N})]}),e.jsx("div",{className:"mt-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:e.jsxs("div",{className:"flex w-full gap-3 md:w-auto",children:[e.jsxs("div",{className:"relative w-full md:w-60",children:[e.jsxs("select",{value:o,onChange:y=>i(y.target.value),className:"w-full appearance-none rounded-lg border border-gray-300 bg-white px-3 py-2 pr-10 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",children:[e.jsx("option",{value:"todos",children:"Filtrar por status"}),e.jsx("option",{value:"pendente",children:"Pendentes"}),e.jsx("option",{value:"em_andamento",children:"Em Andamento"}),e.jsx("option",{value:"finalizado",children:"Finalizadas"})]}),e.jsx("svg",{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.085l3.71-3.855a.75.75 0 111.08 1.04l-4.25 4.417a.75.75 0 01-1.08 0L5.21 8.27a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),e.jsx("input",{type:"date",value:n,onChange:y=>a(y.target.value),className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 md:w-auto"})]})}),c&&e.jsx(DA,{}),!c&&f&&e.jsx(OA,{onRetry:p}),!c&&!f&&w.length===0&&e.jsx($A,{}),!c&&!f&&w.length>0&&e.jsx("div",{className:"mt-6 space-y-4",children:w.map(y=>e.jsx(IA,{consulta:y,onIniciar:v},y.id))})]})}function zA(){var at,mt,jt;const[t,n]=x.useState(!1),[a,o]=x.useState(null),[i,c]=x.useState(""),[d,f]=x.useState(null),[u,g]=x.useState(""),{id:h}=Ur(),p=ms(),{toast:v}=Xt(),[N,w]=x.useState(""),[y,b]=x.useState(null),_=async Me=>{const Ie=await Me.arrayBuffer(),Oe=await crypto.subtle.digest("SHA-256",Ie);return Array.from(new Uint8Array(Oe)).map(De=>De.toString(16).padStart(2,"0")).join("")};x.useEffect(()=>{let Me=!0;async function Ie(){try{if(!t||!y){w("");return}const Oe=y,De="http://127.0.0.1:8000".replace(/\/$/,""),ge=`/receitas/validar/${Oe}/`,{toDataURL:it}=await Wo(async()=>{const{toDataURL:et}=await import("./browser-BjcGmAWY.js").then(It=>It.b);return{toDataURL:et}},[]),lt=await it(`${De}${ge}`,{width:196,margin:0});Me&&w(lt)}catch(Oe){try{console.warn("[PreviewReceita] Falha ao gerar QR:",Oe)}catch{}Me&&w("")}}return Ie(),()=>{Me=!1}},[t,y,h]);const S=((at=p.state)==null?void 0:at.fromConsulta)||{},E=((mt=p.state)==null?void 0:mt.consultaId)||S.consultaId,k=Me=>{if(!Me)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(Me))return Me;const Ie=new Date(Me);if(!isNaN(Ie)){const De=Ie.getFullYear(),ge=String(Ie.getMonth()+1).padStart(2,"0"),it=String(Ie.getDate()).padStart(2,"0");return`${De}-${ge}-${it}`}const Oe=String(Me).match(/^(\d{2})\/(\d{2})\/(\d{4})$/);return Oe?`${Oe[3]}-${Oe[2]}-${Oe[1]}`:""},T=Me=>{if(!Me)return"";const Ie=new Date(Me);if(isNaN(Ie))return"";const Oe=new Date;let De=Oe.getFullYear()-Ie.getFullYear();const ge=Oe.getMonth()-Ie.getMonth(),it=Oe.getDate()-Ie.getDate();(ge<0||ge===0&&it<0)&&De--;let lt=new Date(Oe.getFullYear(),Ie.getMonth(),Ie.getDate());lt>Oe&&(lt=new Date(Oe.getFullYear()-1,Ie.getMonth(),Ie.getDate()));const et=1440*60*1e3,It=Math.floor((Oe-lt)/et);return`${De} anos e ${It} dias`},P=x.useMemo(()=>new Date().toLocaleDateString(),[]),A=Me=>{for(const Ie of Me){if(Ie==null)continue;const Oe=typeof Ie=="string"?Ie.trim():Ie;if(Oe)return typeof Oe=="string"?Oe:String(Oe)}return""},[R,$]=x.useState({nome_paciente:"",idade:"",rg:"",data_nascimento:"",medicamento:S.medicamentos||"",posologia:S.posologia||"",validade_receita:S.validade||"",medico:"",crm:"",endereco_consultorio:"",telefone_consultorio:"",observacoes:"",formato:"pdf",acao:"imprimir",email_paciente:"",email_medico:""}),[O,I]=x.useState(!1),[V,J]=x.useState(!0),[F,K]=x.useState(!1),[M,W]=x.useState(ephemeralCertFile||null),[U,X]=x.useState(ephemeralCertPassword||"");x.useEffect(()=>{setEphemeralCertFile(M)},[M]),x.useEffect(()=>{setEphemeralCertPassword(U)},[U]);const[ee,L]=x.useState(null),[q,te]=x.useState(null),[B,z]=x.useState({ok:!0,errors:[],expected:{medicoId:null,pacienteId:h,consultaId:E}});x.useEffect(()=>{let Me=!0;async function Ie(){var Oe,De,ge,it,lt,et,It,At,Zt,xt,Rt,kt,Yt,Us,rs,os,Bn,ke,Ee,Fe,ft,$e,We,Tt;J(!0);try{try{const _e=await tt.getPerfil(),me=(_e==null?void 0:_e.user)||(_e==null?void 0:_e.usuario)||{},Mt=A([`${(me==null?void 0:me.first_name)||""} ${(me==null?void 0:me.last_name)||""}`.trim(),_e==null?void 0:_e.nome,_e==null?void 0:_e.nome_completo,_e==null?void 0:_e.full_name,_e==null?void 0:_e.name]),Ae=A([_e==null?void 0:_e.crm,_e==null?void 0:_e.matricula,_e==null?void 0:_e.registro,_e==null?void 0:_e.crm_numero,me==null?void 0:me.crm]),cs=A([_e==null?void 0:_e.endereco_consultorio,_e==null?void 0:_e.consultorio_endereco,_e==null?void 0:_e.endereco,me==null?void 0:me.endereco,(Oe=_e==null?void 0:_e.clinica)==null?void 0:Oe.endereco]),be=A([_e==null?void 0:_e.telefone_consultorio,_e==null?void 0:_e.consultorio_telefone,_e==null?void 0:_e.telefone,me==null?void 0:me.telefone,me==null?void 0:me.phone,(De=_e==null?void 0:_e.clinica)==null?void 0:De.telefone,_e==null?void 0:_e.celular]),es=A([me==null?void 0:me.email_institucional,me==null?void 0:me.email,_e==null?void 0:_e.email_institucional,_e==null?void 0:_e.email,_e==null?void 0:_e.contato_email]),ct=((ge=_e==null?void 0:_e.medico)==null?void 0:ge.id)||(_e==null?void 0:_e.id)||null;Me&&_e&&($(qt=>({...qt,medico:Mt||qt.medico,crm:Ae||qt.crm,endereco_consultorio:cs||qt.endereco_consultorio||"",telefone_consultorio:be||qt.telefone_consultorio||"",email_medico:es||qt.email_medico||""})),z(qt=>({...qt,expected:{...qt.expected,medicoId:ct}})))}catch{}try{const _e="/pacientes/".replace(/\/?$/,"/");let me=null,Mt=null;try{const{data:Ae}=await le.get(`${_e}${h}/`);me=Ae}catch{}if(!me){const Ae=[{id:h},{paciente_id:h},{user:h},{usuario:h},{user__id:h},{usuario_id:h}];for(const cs of Ae)try{const{data:be}=await le.get(_e,{params:cs}),es=Array.isArray(be==null?void 0:be.results)?be.results:Array.isArray(be)?be:[];if(es!=null&&es.length){me=es[0];break}if(be!=null&&be.id){me=be;break}}catch{}}if(!me&&E)try{const{data:Ae}=await le.get(`/consultas/${E}/`);Mt=Ae;const cs=(Ae==null?void 0:Ae.paciente)||(Ae!=null&&Ae.paciente_id?{id:Ae.paciente_id}:null);cs&&(me=cs)}catch{}if(!me&&(S!=null&&S.paciente)&&(me=S.paciente),Me&&me){const Ae=(me==null?void 0:me.user)||(me==null?void 0:me.usuario)||{},cs=A([Ae==null?void 0:Ae.display_name,`${(Ae==null?void 0:Ae.first_name)||""} ${(Ae==null?void 0:Ae.last_name)||""}`.trim(),Ae==null?void 0:Ae.nome,Ae==null?void 0:Ae.nome_completo,me==null?void 0:me.nome,me==null?void 0:me.nome_completo,me==null?void 0:me.name]),be=k((Ae==null?void 0:Ae.data_nascimento)||(Ae==null?void 0:Ae.nascimento)||(Ae==null?void 0:Ae.dob)||(me==null?void 0:me.data_nascimento)||(me==null?void 0:me.nascimento)||(me==null?void 0:me.dob)||"");let es=A([Ae==null?void 0:Ae.cpf,(it=Ae==null?void 0:Ae.profile)==null?void 0:it.cpf,(lt=Ae==null?void 0:Ae.meu_app_user)==null?void 0:lt.cpf,(et=Ae==null?void 0:Ae.dados)==null?void 0:et.cpf,me==null?void 0:me.cpf,(It=me==null?void 0:me.profile)==null?void 0:It.cpf,(At=me==null?void 0:me.meu_app_user)==null?void 0:At.cpf,(Zt=me==null?void 0:me.dados)==null?void 0:Zt.cpf,(xt=me==null?void 0:me.usuario)==null?void 0:xt.cpf,(kt=(Rt=me==null?void 0:me.usuario)==null?void 0:Rt.profile)==null?void 0:kt.cpf,(Us=(Yt=me==null?void 0:me.usuario)==null?void 0:Yt.meu_app_user)==null?void 0:Us.cpf,(rs=S==null?void 0:S.paciente)==null?void 0:rs.cpf,S==null?void 0:S.cpf,me==null?void 0:me.documento,me==null?void 0:me.doc,me==null?void 0:me.rg]);if(!es)try{let Vt=null;const gs=Ae&&typeof Ae=="object"&&Object.keys(Ae).length>0;if(typeof Ae=="number"||typeof Ae=="string"?Vt=Ae:gs&&(Vt=Ae.id||Ae.pk||Ae.user||Ae.usuario||null),Vt||(Vt=((os=me==null?void 0:me.usuario)==null?void 0:os.id)||((Bn=me==null?void 0:me.user)==null?void 0:Bn.id)||(me==null?void 0:me.usuario_id)||(me==null?void 0:me.user_id)||(typeof(me==null?void 0:me.usuario)=="number"||typeof(me==null?void 0:me.usuario)=="string"?me.usuario:null)||(typeof(me==null?void 0:me.user)=="number"||typeof(me==null?void 0:me.user)=="string"?me.user:null)),Vt){const an="/users/".replace(/\/?$/,"/"),{data:vs}=await le.get(`${an}${Vt}/`);es=A([vs==null?void 0:vs.cpf,(ke=vs==null?void 0:vs.profile)==null?void 0:ke.cpf,(Ee=vs==null?void 0:vs.meu_app_user)==null?void 0:Ee.cpf,(Fe=vs==null?void 0:vs.dados)==null?void 0:Fe.cpf])||es}}catch{}const ct=(Ae==null?void 0:Ae.email)||(me==null?void 0:me.email)||"",qt=be?T(be):"";$(Vt=>({...Vt,nome_paciente:cs||Vt.nome_paciente,data_nascimento:be||Vt.data_nascimento,rg:Vt.rg||es,idade:Vt.idade||qt,email_paciente:Vt.email_paciente||ct}))}try{const Ae=ct=>ct==null?null:String(ct),cs=[];let be=null,es=null;if(Mt)be=((ft=Mt==null?void 0:Mt.medico)==null?void 0:ft.id)||(Mt==null?void 0:Mt.medico)||(Mt==null?void 0:Mt.medico_id)||null,es=(($e=Mt==null?void 0:Mt.paciente)==null?void 0:$e.id)||(Mt==null?void 0:Mt.paciente)||(Mt==null?void 0:Mt.paciente_id)||null;else if(E)try{const{data:ct}=await le.get(`/consultas/${E}/`);be=((We=ct==null?void 0:ct.medico)==null?void 0:We.id)||(ct==null?void 0:ct.medico)||(ct==null?void 0:ct.medico_id)||null,es=((Tt=ct==null?void 0:ct.paciente)==null?void 0:Tt.id)||(ct==null?void 0:ct.paciente)||(ct==null?void 0:ct.paciente_id)||null}catch{}es&&String(es)!==String(h)&&cs.push("Paciente da consulta não corresponde ao paciente exibido."),z(ct=>{var Vt,gs;const qt=(Vt=ct.expected)==null?void 0:Vt.medicoId;return qt&&be&&Ae(qt)!==Ae(be)&&cs.push("Médico da consulta não corresponde ao médico logado."),{ok:cs.length===0,errors:cs,expected:{...ct.expected,pacienteId:h,consultaId:E,medicoId:qt||((gs=ct.expected)==null?void 0:gs.medicoId)||null}}})}catch{}}catch{}}finally{Me&&J(!1)}}return Ie(),()=>{Me=!1}},[h,E]);const G=Me=>{const{name:Ie,value:Oe}=Me.target;$(De=>({...De,[Ie]:Oe})),t&&(n(!1),o(null),c(""),te(null),y&&tt.atualizarReceita(y,{assinada:!1}).catch(()=>{}),v({title:"Assinatura invalidada",description:"A receita foi alterada. Assine novamente para validade jurídica."}))},Z=()=>{I(!0),v({title:"Receita validada",description:"Os dados foram conferidos. Você pode gerar o documento."})},ae=(Me,Ie="Receita_Medica")=>{const Oe=URL.createObjectURL(Me),De=document.createElement("a");De.href=Oe;const ge=/\.[a-z0-9]+$/i.test(Ie);De.download=ge?Ie:`${Ie}.pdf`,document.body.appendChild(De),De.click(),De.remove(),setTimeout(()=>URL.revokeObjectURL(Oe),2e3)},xe=()=>{var Me;return B!=null&&B.ok||v({title:"Vínculo inválido",description:((Me=B.errors)==null?void 0:Me.join(` 
`))||"Verifique dados da consulta, médico e paciente.",variant:"destructive"}),!0},ve=async()=>{var Me;try{if(y)return y;const Ie=await tt.getPerfil().catch(()=>null),Oe=((Me=Ie==null?void 0:Ie.medico)==null?void 0:Me.id)||(Ie==null?void 0:Ie.id)||null,De={paciente_id:h,consulta_id:E||void 0,medico_id:Oe||void 0,nome_paciente:R.nome_paciente,cpf:R.rg,data_nascimento:k(R.data_nascimento),medicamento:R.medicamento,posologia:R.posologia,validade:k(R.validade_receita),observacoes:R.observacoes,medico:R.medico,crm:R.crm,endereco_consultorio:R.endereco_consultorio,telefone_consultorio:R.telefone_consultorio,email_paciente:R.email_paciente||void 0},ge=await tt.criarReceita(De),it=(ge==null?void 0:ge.id)||(ge==null?void 0:ge.receita_id)||(ge==null?void 0:ge.uuid);return it&&b(it),it||null}catch{return y||null}},Re=async()=>{var Me,Ie,Oe,De,ge,it;if(xe()){K(!0);try{const lt={nome_paciente:R.nome_paciente,idade:R.idade,rg:R.rg,cpf:R.rg,data_nascimento:k(R.data_nascimento),medicamento:R.medicamento,medicamentos:R.medicamento,posologia:R.posologia,medico:R.medico,crm:R.crm,endereco_consultorio:R.endereco_consultorio,telefone_consultorio:R.telefone_consultorio,validade_receita:k(R.validade_receita),observacoes:R.observacoes},et=await tt.gerarDocumentoReceita(lt),It=et==null?void 0:et.blob,At=(et==null?void 0:et.filename)||`Receita_${R.nome_paciente||"Medica"}.pdf`;if(!(It instanceof Blob))throw new Error("Resposta inválida do servidor ao gerar PDF.");const Zt=await ve();let xt=It,Rt=At,kt=!1;if(String(R.formato).toLowerCase()==="pdf"){if(!M)throw v({title:"Certificado obrigatório",description:"Selecione um arquivo de certificado (.pfx/.p12) para assinar a receita.",variant:"destructive"}),new Error("Certificado PFX/P12 ausente");if(!(U&&U.trim()))throw v({title:"Senha obrigatória",description:"Informe a senha do arquivo PFX/P12 para assinar a receita.",variant:"destructive"}),new Error("Senha do PFX/P12 ausente");const Yt=Zt||y||null,Us={reason:"Receita Médica",location:R.endereco_consultorio||void 0,pfxFile:M,pfxPassword:U.trim(),receitaId:Yt||void 0,receita_id:Yt||void 0};try{const rs=new File([It],Rt,{type:"application/pdf"}),os=await tt.signDocumento(rs,Us);(os==null?void 0:os.blob)instanceof Blob&&(xt=os.blob,os.filename&&(Rt=os.filename),kt=!0,te(new Date().toISOString()))}catch(rs){const os=(Me=rs==null?void 0:rs.response)==null?void 0:Me.status,Bn=((Oe=(Ie=rs==null?void 0:rs.response)==null?void 0:Ie.data)==null?void 0:Oe.detail)||(rs==null?void 0:rs.message)||"Falha ao assinar o PDF da receita. Continuaremos sem assinatura.";console.warn("[PreviewReceita] Falha ao assinar PDF:",os,Bn),v({title:"Assinatura falhou",description:`${Bn}${os?` [HTTP ${os}]`:""}`,variant:"destructive"})}}if(f(xt),g(Rt),kt){n(!0),o(xt),c(Rt);try{const Yt=await _(It),Us=await _(xt);Zt&&(await tt.atualizarReceita(Zt,{assinada:!0,hash_alg:"SHA-256",hash_pre:Yt,hash_signed:Us}),await tt.registrarAuditoriaAssinatura({receita_id:Zt,valido:!0,hash_alg:"SHA-256",hash_pre:Yt,hash_signed:Us,motivo:"Receita Médica",arquivo:Rt}))}catch{}}else n(!1),o(null),c("");if(R.acao==="imprimir")try{const Yt=URL.createObjectURL(xt);if(!window.open(Yt))throw new Error("Popup bloqueado pelo navegador");setTimeout(()=>URL.revokeObjectURL(Yt),2e3)}catch{ae(xt,Rt)}else ae(xt,Rt);v({title:"Documento gerado",description:xt===It?"Gerado sem assinatura.":"Gerado e assinado com sucesso."})}catch(lt){const et=(De=lt==null?void 0:lt.response)==null?void 0:De.status,It=((it=(ge=lt==null?void 0:lt.response)==null?void 0:ge.data)==null?void 0:it.detail)||(lt==null?void 0:lt.message)||"Falha ao gerar documento";v({title:"Erro",description:`${It}${et?` [HTTP ${et}]`:""}`,variant:"destructive"})}finally{K(!1)}}},Pe=async()=>{var Me,Ie,Oe;try{if(d||await Re(),!d){v({title:"Falha ao gerar",description:"Não foi possível gerar o documento para assinatura.",variant:"destructive"});return}if(!M){v({title:"Certificado obrigatório",description:"Selecione um arquivo de certificado (.pfx/.p12) para assinar a receita.",variant:"destructive"});return}if(!(U&&U.trim())){v({title:"Senha obrigatória",description:"Informe a senha do arquivo PFX/P12 para assinar a receita.",variant:"destructive"});return}const De=y||await ve(),ge={reason:"Assinatura de prescrição",location:R.endereco_consultorio||"",pfxFile:M,pfxPassword:U.trim(),receitaId:De||void 0,receita_id:De||void 0},it=new File([d],u||"receita.pdf",{type:"application/pdf"}),lt=await tt.signDocumento(it,ge);(lt==null?void 0:lt.blob)instanceof Blob?(o(lt.blob),c(lt.filename||u||"receita_assinada.pdf"),n(!0),te(new Date().toISOString()),v({title:"Receita assinada",description:"A assinatura digital foi aplicada com sucesso."})):(n(!1),o(null),c(""),v({title:"Assinatura falhou",description:"Não foi possível aplicar a assinatura digital.",variant:"destructive"}))}catch(De){const ge=(Me=De==null?void 0:De.response)==null?void 0:Me.status,it=((Oe=(Ie=De==null?void 0:De.response)==null?void 0:Ie.data)==null?void 0:Oe.detail)||(De==null?void 0:De.message)||"Falha ao assinar o PDF da receita.";console.warn("[PreviewReceita] Falha ao assinar PDF:",ge,it),n(!1),o(null),c(""),v({title:"Assinatura falhou",description:`${it}${ge?` [HTTP ${ge}]`:""}`,variant:"destructive"})}};async function Ye(){var Me,Ie,Oe;if(xe()){if(!t||!(a instanceof Blob)){v({title:"Assinatura obrigatória",description:"A receita precisa ser assinada antes do envio ao paciente.",variant:"destructive"});return}K(!0);try{const De=await ve(),ge=a,it=i||u||`Receita_${R.nome_paciente||"Medica"}_assinada.pdf`;await tt.enviarReceita({receitaId:De||void 0,pacienteId:h,email:R.email_paciente||void 0,formato:"pdf",file:ge,filename:it}),v({title:"Receita enviada",description:"A receita assinada foi enviada ao paciente com sucesso."})}catch(De){const ge=(Me=De==null?void 0:De.response)==null?void 0:Me.status,it=((Oe=(Ie=De==null?void 0:De.response)==null?void 0:Ie.data)==null?void 0:Oe.detail)||(De==null?void 0:De.message)||"Falha ao enviar a receita assinada";v({title:"Erro ao enviar",description:`${it}${ge?` [HTTP ${ge}]`:""}`,variant:"destructive"})}finally{K(!1)}}}return V?e.jsx("div",{children:"Carregando preview..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ps,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Preview da Receita"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(de,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Dados da Receita"})}),e.jsxs(ue,{className:"space-y-4",children:[B.ok?null:e.jsxs("div",{className:"rounded-md border border-red-200 bg-red-50 text-red-700 p-3 text-sm",children:[e.jsx("div",{className:"font-medium mb-1",children:"Inconsistências de vínculo detectadas"}),e.jsx("ul",{className:"list-disc pl-5 space-y-1",children:(jt=B.errors)==null?void 0:jt.map((Me,Ie)=>e.jsx("li",{children:Me},Ie))})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Nome do Paciente"}),e.jsx(fe,{name:"nome_paciente",value:R.nome_paciente,onChange:G,placeholder:"João da Silva"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Idade"}),e.jsx(fe,{name:"idade",value:R.idade,onChange:G,placeholder:"45"})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"CPF"}),e.jsx(fe,{name:"rg",value:R.rg,onChange:G,placeholder:"000.000.000-00"})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Data de Nascimento"}),e.jsx(fe,{type:"date",name:"data_nascimento",value:k(R.data_nascimento),onChange:G})]})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Medicamentos"}),e.jsx(pt,{name:"medicamento",rows:3,value:R.medicamento,onChange:G,placeholder:"Nome do medicamento, dose, apresentação..."})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Posologia"}),e.jsx(pt,{name:"posologia",rows:3,value:R.posologia,onChange:G,placeholder:"Ex: 1 comprimido de 12/12h por 7 dias"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Validade da Receita"}),e.jsx(fe,{type:"date",name:"validade_receita",value:k(R.validade_receita),onChange:G})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Formato"}),e.jsxs("select",{className:"border rounded h-10 px-3 bg-background",name:"formato",value:R.formato,onChange:G,children:[e.jsx("option",{value:"pdf",children:"PDF"}),e.jsx("option",{value:"docx",children:"DOCX"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Ação"}),e.jsxs("select",{className:"border rounded h-10 px-3 bg-background",name:"acao",value:R.acao,onChange:G,children:[e.jsx("option",{value:"imprimir",children:"Imprimir"}),e.jsx("option",{value:"baixar",children:"Baixar arquivo"})]})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"E-mail do Paciente (opcional)"}),e.jsx(fe,{name:"email_paciente",value:R.email_paciente,onChange:G,placeholder:"paciente@exemplo.com"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Médico"}),e.jsx(fe,{name:"medico",value:R.medico,onChange:G,placeholder:"Dr. Carlos Souza"})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"CRM"}),e.jsx(fe,{name:"crm",value:R.crm,onChange:G,placeholder:"12345-SP"})]})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"E-mail institucional (médico)"}),e.jsx(fe,{name:"email_medico",value:R.email_medico,onChange:G,placeholder:"dr.carlos@hospital.com"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Endereço do Consultório"}),e.jsx(fe,{name:"endereco_consultorio",value:R.endereco_consultorio,onChange:G,placeholder:""})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Telefone"}),e.jsx(fe,{name:"telefone_consultorio",value:R.telefone_consultorio,onChange:G,placeholder:""})]})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Observações (opcional)"}),e.jsx(pt,{name:"observacoes",rows:2,value:R.observacoes,onChange:G,placeholder:"Orientações adicionais ao paciente"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{children:"Arquivo PFX para assinatura (não será salvo)"}),e.jsx(Yl,{delayDuration:0,children:e.jsxs(Jl,{children:[e.jsx(Ql,{asChild:!0,children:e.jsx(rm,{size:16,className:"text-muted-foreground cursor-help"})}),e.jsx(Jo,{side:"top",children:"Aceitamos certificados PKCS#12 (.pfx/.p12). O arquivo é usado apenas para assinar e não é persistido."})]})})]}),e.jsx(fe,{type:"file",accept:".pfx,.p12",onChange:Me=>{var Ie;return W(((Ie=Me.target.files)==null?void 0:Ie[0])||null)}}),M&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selecionado: ",M.name," (",Math.ceil(M.size/1024)," KB)"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{children:"Senha do PFX"}),e.jsx(Yl,{delayDuration:0,children:e.jsxs(Jl,{children:[e.jsx(Ql,{asChild:!0,children:e.jsx(rm,{size:16,className:"text-muted-foreground cursor-help"})}),e.jsx(Jo,{side:"top",children:"A senha do certificado é necessária para desbloquear a chave privada e aplicar a assinatura digital."})]})})]}),e.jsx(fe,{type:"password",value:U,onChange:Me=>X(Me.target.value),placeholder:"Informe a senha"}),(!U||!U.trim())&&e.jsx("p",{className:"text-xs text-red-600",children:"Senha obrigatória para assinatura."}),U&&U.trim().length<4&&e.jsx("p",{className:"text-xs text-yellow-600",children:"A senha parece curta. Verifique se está correta."}),U&&U.trim()&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Dica: em caso de erro de senha, verifique maiúsculas/minúsculas e se o teclado está no layout correto."})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(ne,{type:"button",onClick:Z,variant:O?"secondary":"default",children:[e.jsx(xv,{className:"h-4 w-4 mr-2"})," ",O?"Validado":"Validar receita"]}),e.jsxs(ne,{type:"button",onClick:Re,disabled:F,children:[e.jsx(qC,{className:"h-4 w-4 mr-2"})," ",F?R.acao==="imprimir"?"Imprimindo...":"Gerando...":R.acao==="imprimir"?"Imprimir":"Baixar"]}),e.jsx(ne,{type:"button",variant:"default",onClick:Pe,disabled:F,children:"Assinar Receita"}),e.jsxs(ne,{type:"button",variant:"secondary",onClick:Ye,disabled:F||!t,children:[e.jsx(Wr,{className:"h-4 w-4 mr-2"})," Enviar ao paciente"]})]})]})]}),e.jsxs(de,{className:"bg-white",children:[e.jsx(pe,{children:e.jsx(he,{children:"Pré-visualização"})}),e.jsx(ue,{children:e.jsxs("div",{className:"mx-auto bg-white shadow-md border rounded-md p-6 max-w-[800px] aspect-[1/1.414] overflow-auto",children:[e.jsxs("div",{className:"text-center border-b pb-3",children:[e.jsx("div",{className:"font-bold text-lg",children:"Consultório Médico"}),e.jsx("div",{className:"font-semibold",children:R.medico}),R.crm&&e.jsxs("div",{children:["CRM: ",R.crm]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:R.endereco_consultorio}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Telefone: ",R.telefone_consultorio]}),R.email_medico?e.jsxs("div",{className:"text-sm text-muted-foreground",children:["E-mail: ",R.email_medico]}):null]}),e.jsxs("div",{className:"text-center my-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Nome do Paciente: "}),R.nome_paciente]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Idade: "}),R.idade]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"CPF: "}),R.rg]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Data de Nascimento: "}),R.data_nascimento]})]}),e.jsx("div",{className:"text-center text-xl font-semibold my-4",children:"Prescrição Médica"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"whitespace-pre-wrap font-semibold",children:R.medicamento}),R.posologia?e.jsx("div",{className:"mt-2 whitespace-pre-wrap",children:R.posologia}):null]}),e.jsxs("div",{className:"text-center my-6",children:[e.jsxs("div",{children:["Data de Emissão: ",P]}),e.jsxs("div",{children:["Validade da Receita: ",R.validade_receita||""]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-start mt-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-64 border-t pt-1",children:" "}),R.medico&&e.jsxs("div",{children:["Dr(a). ",R.medico,R.crm?` • CRM ${R.crm}`:""]}),t?e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Assinado digitalmente",ee!=null&&ee.subject_name||ee!=null&&ee.nome||ee!=null&&ee.subject?e.jsxs(e.Fragment,{children:[" — Titular: ",(ee==null?void 0:ee.subject_name)||(ee==null?void 0:ee.nome)||(ee==null?void 0:ee.subject)]}):null,(ee!=null&&ee.algorithm,e.jsxs(e.Fragment,{children:[" • Algoritmo: ",(ee==null?void 0:ee.algorithm)||"SHA256-RSA"]})),q?e.jsxs(e.Fragment,{children:[" • Data: ",new Date(q).toLocaleString()]}):null]}):e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Documento gerado. Assine para exibir o selo de assinatura digital."})]}),e.jsx("div",{className:"flex justify-center",children:t&&N?e.jsx("img",{src:N,alt:"QR Code de verificação",className:"w-24 h-24 border rounded"}):null})]})]})})]})]})]})}function BA(){var p,v,N;const{id:t}=Ur(),n=ms(),a=Ts();Xt();const o=((p=n.state)==null?void 0:p.resumo)||{},i=(v=n.state)==null?void 0:v.consultaId,c=(N=n.state)==null?void 0:N.prontuarioId,[d,f]=x.useState({queixa:o.queixa||"",historia:o.historia||"",diagnostico:o.diagnostico||"",conduta:o.conduta||"",medicamentos:o.medicamentos||"",posologia:o.posologia||"",validade:o.validade||""}),u=w=>{const{name:y,value:b}=w.target;f(_=>({..._,[y]:b}))},g=async()=>{var w;try{if(c)try{await((w=tt.atualizarProntuario)==null?void 0:w.call(tt,c,{queixa_principal:d.queixa,historia_doenca_atual:d.historia,diagnostico_principal:d.diagnostico,conduta:d.conduta,medicamentos_uso:d.medicamentos}))}catch{}}finally{a(`/medico/paciente/${t}/receita/preview`,{state:{fromConsulta:{medicamentos:d.medicamentos,posologia:d.posologia,validade:d.validade},consultaId:i}})}},h=x.useMemo(()=>new Date().toLocaleDateString(),[]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(LC,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Resumo da Consulta"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(de,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Informações Principais"})}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Queixa Principal"}),e.jsx(pt,{name:"queixa",rows:3,value:d.queixa,onChange:u})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"História da Doença Atual"}),e.jsx(pt,{name:"historia",rows:4,value:d.historia,onChange:u})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Diagnóstico"}),e.jsx(pt,{name:"diagnostico",rows:3,value:d.diagnostico,onChange:u})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Conduta"}),e.jsx(pt,{name:"conduta",rows:3,value:d.conduta,onChange:u})]})]})]}),e.jsxs(de,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Prescrição"})}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Medicamentos"}),e.jsx(pt,{name:"medicamentos",rows:4,value:d.medicamentos,onChange:u})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Posologia"}),e.jsx(pt,{name:"posologia",rows:3,value:d.posologia,onChange:u})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Validade da Receita"}),e.jsx("input",{type:"date",name:"validade",className:"border rounded h-10 px-3 bg-background",value:d.validade,onChange:u})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ne,{onClick:g,children:[e.jsx(MC,{className:"h-4 w-4 mr-2"})," Gerar Receita"]}),e.jsx(ne,{variant:"outline",onClick:()=>a(-1),children:"Voltar"})]})]})]})]}),e.jsxs(de,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Resumo Visual"})}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Data:"})," ",h]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Queixa:"})," ",d.queixa||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"História:"})," ",d.historia||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Diagnóstico:"})," ",d.diagnostico||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Conduta:"})," ",d.conduta||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Medicamentos:"})," ",d.medicamentos||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Posologia:"})," ",d.posologia||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Validade:"})," ",d.validade||"-"]})]})})]})]})}const _s={async getDashboard(){var a;const t=[];t.push("/clinicas/dashboard/");let n;for(const o of t){const i=o.endsWith("/")?o:`${o}/`;try{return console.debug("[clinicaService] GET",i),(await le.get(i)).data}catch(c){if(((a=c==null?void 0:c.response)==null?void 0:a.status)===404){n=c;continue}throw c}}throw n||new Error("Endpoint de dashboard da clínica não encontrado.")},getCalendario:(t,n)=>le.get(`/clinica/calendario/?mes=${t}&ano=${n}`),getExamesPorData:t=>le.get(`/clinica/exames/?data=${t}`),getDisponibilidade:t=>le.get(`/clinica/disponibilidade/?data=${t}`),setDisponibilidade:(t,n)=>le.post("/clinica/disponibilidade/",{data:t,horarios:n}),updateDisponibilidade:(t,n)=>le.put(`/clinica/disponibilidade/${t}/`,n),deleteDisponibilidade:t=>le.delete(`/clinica/disponibilidade/${t}/`),getExames:(t={})=>le.get("/clinica/exames/",{params:t}),createExame:t=>le.post("/clinica/exames/",t),updateExame:(t,n)=>le.put(`/clinica/exames/${t}/`,n),deleteExame:t=>le.delete(`/clinica/exames/${t}/`),getTiposExame:()=>le.get("/clinica/tipos-exame/"),getRelatorios:t=>le.get(`/clinica/relatorios/?periodo=${t}`),getPacientes:()=>le.get("/clinica/pacientes/"),getMedicos:()=>le.get("/clinica/medicos/"),async vincularSecretaria(t){var f,u,g,h;if(!t)throw new Error("secretariaId é obrigatório");let n=null;try{try{const p=await le.get("/clinicas/me/");(f=p==null?void 0:p.data)!=null&&f.id&&(n=p.data.id)}catch{}if(!n){const p=await le.get("/clinicas/"),v=Array.isArray((u=p.data)==null?void 0:u.results)?p.data.results:p.data;(g=v==null?void 0:v[0])!=null&&g.id&&(n=v[0].id)}}catch{}if(!n)throw new Error("Não foi possível resolver o ID da clínica.");const a="/clinicas/",o=a.endsWith("/")?a:`${a}/`,i=[`${o}${n}/secretarias/`,`${o}${n}/adicionar_secretaria/`,`${o}${n}/vincular_secretaria/`],c={secretaria:t,secretaria_id:t};let d;for(const p of i)try{return(await le.post(p,c)).data}catch(v){const N=(h=v==null?void 0:v.response)==null?void 0:h.status;if(N===404||N===405){d=v;continue}throw v}throw d||new Error("Nenhum endpoint de vinculação de secretária encontrado para clínica.")}};function UA(){const{data:t,loading:n,error:a}=J0(_s.getDashboard);if(n)return e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((i,c)=>e.jsxs(de,{className:"animate-pulse",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-20"}),e.jsx("div",{className:"h-4 w-4 bg-muted rounded"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"h-8 bg-muted rounded w-16 mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-24"})]})]},c))});if(a)return e.jsx(de,{children:e.jsx(ue,{className:"flex items-center justify-center h-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Vl,{className:"h-8 w-8 text-destructive mx-auto mb-2"}),e.jsx("p",{className:"text-muted-foreground",children:"Erro ao carregar dashboard"})]})})});const o=t||{examesHoje:12,examesTotais:156,pacientesAtivos:89,taxaOcupacao:85,proximosExames:[{id:1,paciente:"João Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}],examesPendentes:5};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(de,{children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-medium",children:"Exames Hoje"}),e.jsx(rt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.examesHoje}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+2 desde ontem"})]})]}),e.jsxs(de,{children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-medium",children:"Total de Exames"}),e.jsx(Ps,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.examesTotais}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Este mês"})]})]}),e.jsxs(de,{children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-medium",children:"Pacientes Ativos"}),e.jsx(ks,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.pacientesAtivos}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% desde o mês passado"})]})]}),e.jsxs(de,{children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-medium",children:"Taxa de Ocupação"}),e.jsx(bv,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[o.taxaOcupacao,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Capacidade atual"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"h-5 w-5"}),"Próximos Exames"]}),e.jsx(Je,{children:"Exames agendados para hoje"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"space-y-4",children:o.proximosExames.map(i=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:i.paciente}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i.tipo})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsx("p",{className:"font-medium",children:i.horario}),e.jsx(St,{variant:i.status==="confirmado"?"default":"secondary",children:i.status})]})]},i.id))}),e.jsx(ne,{variant:"outline",className:"w-full mt-4 bg-transparent",children:"Ver todos os exames"})]})]}),e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Ações Rápidas"}),e.jsx(Je,{children:"Acesso rápido às principais funcionalidades"})]}),e.jsxs(ue,{children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsx(ne,{className:"justify-start",asChild:!0,children:e.jsxs("a",{href:"/clinica/calendario",children:[e.jsx(rt,{className:"mr-2 h-4 w-4"}),"Ver Calendário"]})}),e.jsx(ne,{variant:"outline",className:"justify-start bg-transparent",asChild:!0,children:e.jsxs("a",{href:"/clinica/disponibilidade",children:[e.jsx(Ut,{className:"mr-2 h-4 w-4"}),"Gerenciar Horários"]})}),e.jsx(ne,{variant:"outline",className:"justify-start bg-transparent",asChild:!0,children:e.jsxs("a",{href:"/clinica/exames",children:[e.jsx(Ps,{className:"mr-2 h-4 w-4"}),"Agendar Exame"]})}),e.jsx(ne,{variant:"outline",className:"justify-start bg-transparent",asChild:!0,children:e.jsxs("a",{href:"/clinica/pacientes",children:[e.jsx(ks,{className:"mr-2 h-4 w-4"}),"Ver Pacientes"]})})]}),o.examesPendentes>0&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-950/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vl,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"}),e.jsxs("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:[o.examesPendentes," exames pendentes de confirmação"]})]})})]})]})]})]})}const VA=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],HA=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"];function qA(){const[t,n]=x.useState(new Date),[a,o]=x.useState([]),[i,c]=x.useState(null),[d,f]=x.useState({}),[u,g]=x.useState(!1),[h,p]=x.useState(!1),[v,N]=x.useState(!1),[w,y]=x.useState({paciente:"",tipo:"",hora:""}),[b,_]=x.useState([]),[S,E]=x.useState([]),[k]=AS();x.useEffect(()=>{T()},[t]),x.useEffect(()=>{(async()=>{var K,M;try{const[W,U]=await Promise.all([_s.getPacientes().catch(()=>({data:[]})),_s.getTiposExame().catch(()=>({data:[]}))]),X=Array.isArray(W==null?void 0:W.data)?W.data:((K=W==null?void 0:W.data)==null?void 0:K.results)||[],ee=Array.isArray(U==null?void 0:U.data)?U.data:((M=U==null?void 0:U.data)==null?void 0:M.results)||[];_(X),E(ee)}catch{}})()},[]),x.useEffect(()=>{const F=k.get("data"),K=k.get("paciente");F&&(c(F),P(F)),K&&(y(M=>({...M,paciente:String(K)})),p(!0))},[]);const T=async()=>{g(!0);try{const F=await _s.getCalendario(t.getMonth()+1,t.getFullYear());f(F.data||{})}catch(F){console.error("Erro ao carregar calendário:",F),f({"2024-01-15":{total:5,status:"ocupado"},"2024-01-16":{total:8,status:"lotado"},"2024-01-17":{total:3,status:"disponivel"},"2024-01-18":{total:6,status:"ocupado"},"2024-01-22":{total:2,status:"disponivel"},"2024-01-23":{total:7,status:"ocupado"}})}finally{g(!1)}},P=async F=>{try{const K=await _s.getExamesPorData(F);o(K.data||[])}catch(K){console.error("Erro ao carregar exames:",K),o([{id:1,paciente:"João Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}])}},A=F=>{const K=new Date(t);K.setMonth(t.getMonth()+F),n(K)},R=F=>{const M=new Date(t.getFullYear(),t.getMonth(),F).toISOString().split("T")[0];c(M),P(M)},$=(F="")=>{y({paciente:F?String(F):"",tipo:"",hora:""}),p(!0)},O=async()=>{if(!i)return;const{paciente:F,tipo:K,hora:M}=w;if(!F||!K||!M){alert("Preencha paciente, tipo e horário.");return}N(!0);try{const W={paciente:F,tipo:K,data:i,hora:M};await _s.createExame(W),p(!1),y({paciente:"",tipo:"",hora:""}),await P(i)}catch{alert("Erro ao agendar. Verifique os dados e tente novamente.")}finally{N(!1)}},I=()=>{const F=t.getFullYear(),K=t.getMonth(),M=new Date(F,K,1),W=new Date(F,K+1,0),U=M.getDay(),X=W.getDate(),ee=[];for(let q=U-1;q>=0;q--){const te=new Date(F,K,-q);ee.push({dia:te.getDate(),outroMes:!0,data:te})}for(let q=1;q<=X;q++){const te=new Date(F,K,q),B=te.toISOString().split("T")[0],z=d[B]||{total:0,status:"disponivel"};ee.push({dia:q,outroMes:!1,data:te,dataString:B,...z})}const L=42-ee.length;for(let q=1;q<=L;q++){const te=new Date(F,K+1,q);ee.push({dia:q,outroMes:!0,data:te})}return ee},V=F=>{switch(F){case"disponivel":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200";case"ocupado":return"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200";case"lotado":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}},J=I();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Calendário de Exames"}),e.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie os exames agendados"})]})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-5 w-5"}),VA[t.getMonth()]," ",t.getFullYear()]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ne,{variant:"outline",size:"sm",onClick:()=>A(-1),children:e.jsx(yv,{className:"h-4 w-4"})}),e.jsx(ne,{variant:"outline",size:"sm",onClick:()=>A(1),children:e.jsx(pn,{className:"h-4 w-4"})})]})]})}),e.jsxs(ue,{children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:HA.map(F=>e.jsx("div",{className:"p-2 text-center text-sm font-medium text-muted-foreground",children:F},F))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:J.map((F,K)=>e.jsxs("button",{onClick:()=>!F.outroMes&&R(F.dia),disabled:F.outroMes,className:`
                        p-2 text-sm rounded-lg transition-colors relative
                        ${F.outroMes?"text-muted-foreground cursor-not-allowed":"hover:bg-accent cursor-pointer"}
                        ${i===F.dataString?"bg-primary text-primary-foreground":""}
                      `,children:[e.jsx("div",{className:"font-medium",children:F.dia}),!F.outroMes&&F.total>0&&e.jsx("div",{className:`
                          absolute -top-1 -right-1 w-5 h-5 rounded-full text-xs flex items-center justify-center
                          ${V(F.status)}
                        `,children:F.total})]},K))}),e.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{children:"Disponível"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsx("span",{children:"Ocupado"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("span",{children:"Lotado"})]})]})]})]})}),e.jsx("div",{children:e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"h-5 w-5"}),i?"Exames do Dia":"Selecione uma Data"]}),i&&e.jsx(Je,{children:new Date(i+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsx(ue,{children:i?a.length===0?e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(Ut,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Nenhum exame agendado para esta data"}),e.jsx(ne,{className:"mt-4",size:"sm",onClick:()=>$(),children:"Agendar Exame"})]}):e.jsxs("div",{className:"space-y-3",children:[a.map(F=>e.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xs,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:F.paciente})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(St,{variant:F.status==="confirmado"?"default":"secondary",children:F.status}),e.jsx(ne,{variant:"outline",size:"sm",className:"bg-transparent",onClick:()=>$(F.paciente_id||F.pacienteId||""),title:"Agendar novo exame para este paciente",children:"Agendar"})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("p",{children:F.tipo}),e.jsxs("p",{className:"flex items-center gap-1",children:[e.jsx(Ut,{className:"h-3 w-3"}),F.horario]})]})]},F.id)),e.jsx(ne,{className:"w-full mt-4",size:"sm",onClick:()=>$(),children:"Agendar Novo Exame"})]}):e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(rt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Clique em uma data no calendário para ver os exames agendados"})]})})]})})]})]}),e.jsx(mi,{open:h,onOpenChange:p,children:e.jsxs(Xr,{children:[e.jsxs(Zr,{children:[e.jsx(to,{children:"Agendar exame"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Data: ",i?new Date(i+"T00:00:00").toLocaleDateString("pt-BR"):"-"]})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Paciente"}),e.jsxs(Nt,{value:w.paciente,onValueChange:F=>y(K=>({...K,paciente:F})),children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:"Selecione o paciente"})}),e.jsx(yt,{children:b.map(F=>e.jsxs(Se,{value:String(F.id),children:[F.nome," ",F.cpf?`- ${F.cpf}`:""]},F.id))})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Tipo de exame"}),e.jsxs(Nt,{value:w.tipo,onValueChange:F=>y(K=>({...K,tipo:F})),children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:"Selecione o tipo"})}),e.jsx(yt,{children:S.map(F=>e.jsx(Se,{value:String(F.id||F.value||F),children:F.nome||F.label||F.value||F},F.id||F.value||F))})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Horário"}),e.jsx(fe,{type:"time",value:w.hora,onChange:F=>y(K=>({...K,hora:F.target.value}))})]})]}),e.jsxs(eo,{className:"mt-4",children:[e.jsx(ne,{variant:"outline",className:"bg-transparent",onClick:()=>p(!1),children:"Cancelar"}),e.jsx(ne,{onClick:O,disabled:v,children:v?"Salvando...":"Agendar"})]})]})})]})}const WA={manha:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30"],tarde:["13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"],integral:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"]};function KA(){const[t,n]=x.useState(""),[a,o]=x.useState([]),[i,c]=x.useState(""),[d,f]=x.useState(!1),[u,g]=x.useState(!1),{toast:h}=Xt();x.useEffect(()=>{t&&p()},[t]);const p=async()=>{var S;f(!0);try{const E=await _s.getDisponibilidade(t);o(((S=E.data)==null?void 0:S.horarios)||[])}catch(E){console.error("Erro ao carregar disponibilidade:",E),o([{horario:"09:00",ocupado:!1},{horario:"10:00",ocupado:!0},{horario:"11:00",ocupado:!1},{horario:"14:00",ocupado:!1},{horario:"15:00",ocupado:!0}])}finally{f(!1)}},v=async()=>{if(!t){h({title:"Erro",description:"Selecione uma data primeiro",variant:"destructive"});return}g(!0);try{await _s.setDisponibilidade(t,a),h({title:"Sucesso",description:"Disponibilidade salva com sucesso"})}catch(S){console.error("Erro ao salvar disponibilidade:",S),h({title:"Erro",description:"Erro ao salvar disponibilidade",variant:"destructive"})}finally{g(!1)}},N=()=>{if(!i)return;if(a.some(E=>E.horario===i)){h({title:"Aviso",description:"Este horário já existe",variant:"destructive"});return}o([...a,{horario:i,ocupado:!1}].sort((E,k)=>E.horario.localeCompare(k.horario))),c("")},w=S=>{o(a.filter(E=>E.horario!==S))},y=S=>{const E=WA[S].map(k=>({horario:k,ocupado:!1}));o(E)},b=async()=>{var k;if(!t)return;const S=new Date(t);S.setDate(S.getDate()-1);const E=S.toISOString().split("T")[0];try{const A=(((k=(await _s.getDisponibilidade(E)).data)==null?void 0:k.horarios)||[]).filter(R=>!R.ocupado).map(R=>({...R,ocupado:!1}));o(A),h({title:"Sucesso",description:"Horários copiados do dia anterior"})}catch(T){console.error("Erro ao copiar horários:",T),h({title:"Erro",description:"Erro ao copiar horários do dia anterior",variant:"destructive"})}},_=new Date().toISOString().split("T")[0];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gerenciar Disponibilidade"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure os horários disponíveis para exames"})]})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-5 w-5"}),"Selecionar Data"]})}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"data",children:"Data"}),e.jsx(fe,{id:"data",type:"date",value:t,onChange:S=>n(S.target.value),min:_})]}),t&&e.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(t+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Templates Rápidos"}),e.jsx(Je,{children:"Aplique configurações pré-definidas"})]}),e.jsxs(ue,{className:"space-y-3",children:[e.jsxs(ne,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>y("manha"),disabled:!t,children:[e.jsx(Ut,{className:"mr-2 h-4 w-4"}),"Manhã (8h às 11h30)"]}),e.jsxs(ne,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>y("tarde"),disabled:!t,children:[e.jsx(Ut,{className:"mr-2 h-4 w-4"}),"Tarde (13h às 17h)"]}),e.jsxs(ne,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>y("integral"),disabled:!t,children:[e.jsx(Ut,{className:"mr-2 h-4 w-4"}),"Período Integral"]}),e.jsxs(ne,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:b,disabled:!t,children:[e.jsx(TC,{className:"mr-2 h-4 w-4"}),"Copiar Dia Anterior"]})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"h-5 w-5"}),"Horários Disponíveis"]}),e.jsxs(ne,{onClick:v,disabled:!t||u,children:[e.jsx(Nv,{className:"mr-2 h-4 w-4"}),u?"Salvando...":"Salvar"]})]}),t&&e.jsxs(Je,{children:["Configurando horários para ",new Date(t+"T00:00:00").toLocaleDateString("pt-BR")]})]}),e.jsx(ue,{children:t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{type:"time",value:i,onChange:S=>c(S.target.value),placeholder:"Novo horário"}),e.jsx(ne,{onClick:N,disabled:!i,children:e.jsx(zm,{className:"h-4 w-4"})})]}),d?e.jsx("div",{className:"space-y-2",children:[...Array(5)].map((S,E)=>e.jsx("div",{className:"h-12 bg-muted rounded animate-pulse"},E))}):a.length===0?e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(Ut,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Nenhum horário configurado"}),e.jsx("p",{className:"text-sm",children:"Use os templates ou adicione horários manualmente"})]}):e.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:a.map((S,E)=>e.jsxs("div",{className:`
                              flex items-center justify-between p-3 border rounded-lg
                              ${S.ocupado?"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800":"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800"}
                            `,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:S.horario})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(St,{variant:S.ocupado?"destructive":"default",children:S.ocupado?"Ocupado":"Livre"}),!S.ocupado&&e.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>w(S.horario),children:e.jsx(WC,{className:"h-4 w-4"})})]})]},E))}),a.length>0&&e.jsx("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("p",{className:"font-medium",children:["Total: ",a.length," horários"]}),e.jsxs("p",{className:"text-muted-foreground",children:[a.filter(S=>!S.ocupado).length," disponíveis,"," ",a.filter(S=>S.ocupado).length," ocupados"]})]})})]}):e.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[e.jsx(rt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Selecione uma data para gerenciar os horários"})]})})]})})]})]})})}function GA(){const{toast:t}=Xt(),[n,a]=x.useState(!1),[o,i]=x.useState([]),[c,d]=x.useState({q:"",tipo:"todos",status:"todos"}),[f,u]=x.useState([]),[g,h]=x.useState(!1),[p,v]=x.useState({paciente:"",tipo:"",data:"",hora:""}),N=async()=>{try{const{data:b}=await _s.getTiposExame();i(b||[])}catch{}},w=async()=>{a(!0);try{const b={};c.q&&(b.q=c.q),c.tipo!=="todos"&&(b.tipo=c.tipo),c.status!=="todos"&&(b.status=c.status);const{data:_}=await _s.getExames(b);u(Array.isArray(_)?_:(_==null?void 0:_.results)||[])}catch{t({title:"Erro",description:"Não foi possível carregar os exames.",variant:"destructive"})}finally{a(!1)}};x.useEffect(()=>{N()},[]),x.useEffect(()=>{w()},[c]);const y=async()=>{if(!p.paciente||!p.tipo||!p.data||!p.hora){t({title:"Campos obrigatórios",description:"Preencha paciente, tipo, data e hora.",variant:"destructive"});return}h(!0);try{const b={paciente:p.paciente,tipo:p.tipo,data:p.data,hora:p.hora};await _s.createExame(b),t({title:"Exame criado",description:"Exame agendado com sucesso."}),v({paciente:"",tipo:"",data:"",hora:""}),w()}catch{t({title:"Erro ao criar",description:"Verifique os dados e tente novamente.",variant:"destructive"})}finally{h(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames"}),e.jsx("p",{className:"text-muted-foreground",children:"Listagem e agendamento de exames"})]})}),e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Filtros"}),e.jsx(Je,{children:"Busque e filtre os exames"})]}),e.jsxs(ue,{className:"grid gap-4 md:grid-cols-3",children:[e.jsx(fe,{placeholder:"Buscar por paciente/tipo...",value:c.q,onChange:b=>d({...c,q:b.target.value})}),e.jsxs(Nt,{value:c.tipo,onValueChange:b=>d({...c,tipo:b}),children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:"Tipo"})}),e.jsxs(yt,{children:[e.jsx(Se,{value:"todos",children:"Todos os tipos"}),o.map(b=>e.jsx(Se,{value:b.value||b.nome||b.id||String(b),children:b.nome||b.label||b.value||b},b.id||b.value||b))]})]}),e.jsxs(Nt,{value:c.status,onValueChange:b=>d({...c,status:b}),children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:"Status"})}),e.jsxs(yt,{children:[e.jsx(Se,{value:"todos",children:"Todos"}),e.jsx(Se,{value:"pendente",children:"Pendente"}),e.jsx(Se,{value:"confirmado",children:"Confirmado"}),e.jsx(Se,{value:"cancelado",children:"Cancelado"})]})]})]})]}),e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Lista de Exames"}),e.jsx(Je,{children:n?"Carregando...":`${f.length} registro(s)`})]}),e.jsx(ue,{children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs(In,{children:[e.jsx(Fn,{children:e.jsxs(Qt,{children:[e.jsx(nt,{children:"Paciente"}),e.jsx(nt,{children:"Tipo"}),e.jsx(nt,{children:"Data"}),e.jsx(nt,{children:"Hora"}),e.jsx(nt,{children:"Status"})]})}),e.jsxs(zn,{children:[f.map((b,_)=>e.jsxs(Qt,{children:[e.jsx(Ze,{children:b.paciente_nome||b.paciente||"-"}),e.jsx(Ze,{children:b.tipo_nome||b.tipo||"-"}),e.jsx(Ze,{children:b.data||"-"}),e.jsx(Ze,{children:b.hora||"-"}),e.jsx(Ze,{children:b.status||"-"})]},b.id||_)),!n&&f.length===0&&e.jsx(Qt,{children:e.jsx(Ze,{colSpan:5,className:"text-center text-muted-foreground",children:"Nenhum exame encontrado"})})]})]})})})]}),e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Novo Exame"}),e.jsx(Je,{children:"Crie um novo agendamento de exame"})]}),e.jsxs(ue,{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(fe,{placeholder:"Paciente (nome/ID)",value:p.paciente,onChange:b=>v({...p,paciente:b.target.value})}),e.jsxs(Nt,{value:p.tipo,onValueChange:b=>v({...p,tipo:b}),children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:"Tipo de exame"})}),e.jsx(yt,{children:o.map(b=>e.jsx(Se,{value:b.value||b.nome||b.id||String(b),children:b.nome||b.label||b.value||b},b.id||b.value||b))})]}),e.jsx(fe,{type:"date",value:p.data,onChange:b=>v({...p,data:b.target.value})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{type:"time",value:p.hora,onChange:b=>v({...p,hora:b.target.value})}),e.jsx(ne,{onClick:y,disabled:g,children:g?"Criando...":"Criar"})]})]})]})]})}function YA(){const{toast:t}=Xt(),[n,a]=x.useState(""),[o,i]=x.useState(!1),[c,d]=x.useState([]),f=async()=>{i(!0);try{const{data:h}=await _s.getPacientes(),p=Array.isArray(h)?h:(h==null?void 0:h.results)||[];d(p)}catch{t({title:"Erro",description:"Não foi possível carregar os pacientes.",variant:"destructive"})}finally{i(!1)}};x.useEffect(()=>{f()},[]);const u=c.filter(h=>[h.nome,h.email,h.cpf].join(" ").toLowerCase().includes(n.toLowerCase())),g=new Date().toISOString().split("T")[0];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pacientes"}),e.jsx("p",{className:"text-muted-foreground",children:"Listagem de pacientes"})]}),e.jsx("div",{className:"w-72",children:e.jsx(fe,{placeholder:"Buscar por nome, e-mail ou CPF",value:n,onChange:h=>a(h.target.value)})})]}),e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Lista de Pacientes"}),e.jsx(Je,{children:o?"Carregando...":`${u.length} registro(s)`})]}),e.jsx(ue,{children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs(In,{children:[e.jsx(Fn,{children:e.jsxs(Qt,{children:[e.jsx(nt,{children:"Nome"}),e.jsx(nt,{children:"E-mail"}),e.jsx(nt,{children:"CPF"}),e.jsx(nt,{className:"w-[1%]",children:"Ações"})]})}),e.jsxs(zn,{children:[u.map((h,p)=>e.jsxs(Qt,{children:[e.jsx(Ze,{children:h.nome||"-"}),e.jsx(Ze,{children:h.email||"-"}),e.jsx(Ze,{children:h.cpf||"-"}),e.jsx(Ze,{children:e.jsx(dt,{to:`/clinica/calendario?paciente=${h.id}&data=${g}`,children:e.jsx(ne,{size:"sm",children:"Agendar"})})})]},h.id||p)),!o&&u.length===0&&e.jsx(Qt,{children:e.jsx(Ze,{colSpan:3,className:"text-center text-muted-foreground",children:"Nenhum paciente encontrado"})})]})]})})})]})]})}function JA(){const{toast:t}=Xt(),[n,a]=x.useState(""),[o,i]=x.useState(!1),[c,d]=x.useState([]),f=async()=>{i(!0);try{const{data:g}=await _s.getMedicos(),h=Array.isArray(g)?g:(g==null?void 0:g.results)||[];d(h)}catch{t({title:"Erro",description:"Não foi possível carregar os médicos.",variant:"destructive"})}finally{i(!1)}};x.useEffect(()=>{f()},[]);const u=c.filter(g=>[g.nome,g.email,g.crm,g.especialidade].join(" ").toLowerCase().includes(n.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Médicos"}),e.jsx("p",{className:"text-muted-foreground",children:"Listagem de médicos"})]}),e.jsx("div",{className:"w-72",children:e.jsx(fe,{placeholder:"Buscar por nome, e-mail, CRM, especialidade",value:n,onChange:g=>a(g.target.value)})})]}),e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Lista de Médicos"}),e.jsx(Je,{children:o?"Carregando...":`${u.length} registro(s)`})]}),e.jsx(ue,{children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs(In,{children:[e.jsx(Fn,{children:e.jsxs(Qt,{children:[e.jsx(nt,{children:"Nome"}),e.jsx(nt,{children:"E-mail"}),e.jsx(nt,{children:"CRM"}),e.jsx(nt,{children:"Especialidade"})]})}),e.jsxs(zn,{children:[u.map((g,h)=>e.jsxs(Qt,{children:[e.jsx(Ze,{children:g.nome||"-"}),e.jsx(Ze,{children:g.email||"-"}),e.jsx(Ze,{children:g.crm||"-"}),e.jsx(Ze,{children:g.especialidade||"-"})]},g.id||h)),!o&&u.length===0&&e.jsx(Qt,{children:e.jsx(Ze,{colSpan:4,className:"text-center text-muted-foreground",children:"Nenhum médico encontrado"})})]})]})})})]})]})}function QA(){const[t,n]=x.useState("30d"),[a,o]=x.useState(!1),[i,c]=x.useState(null),[d,f]=x.useState(null),u=async()=>{o(!0),f(null);try{const{data:h}=await _s.getRelatorios(t);c(h||{})}catch{f("Não foi possível carregar os relatórios.")}finally{o(!1)}};x.useEffect(()=>{u()},[t]);const g=i||{examesTotais:120,pacientesAtendidos:80,taxaCancelamento:5};return e.jsx("div",{className:"space-y-6",children:e.jsxs(de,{children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(he,{children:"Relatórios"}),e.jsx(Je,{children:"Métricas da clínica"})]}),e.jsx("div",{className:"w-40",children:e.jsxs(Nt,{value:t,onValueChange:n,children:[e.jsx(vt,{children:e.jsx(bt,{})}),e.jsxs(yt,{children:[e.jsx(Se,{value:"7d",children:"Últimos 7 dias"}),e.jsx(Se,{value:"30d",children:"Últimos 30 dias"}),e.jsx(Se,{value:"90d",children:"Últimos 90 dias"})]})]})})]}),e.jsx(ue,{children:a?e.jsx("p",{children:"Carregando..."}):d?e.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[e.jsx(Vl,{className:"h-4 w-4"}),e.jsx("span",{children:d})]}):e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Ps,{className:"h-4 w-4"})," Exames"]})}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g.examesTotais}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"no período"})]})]}),e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(ks,{className:"h-4 w-4"})," Pacientes Atendidos"]})}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g.pacientesAtendidos}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"no período"})]})]}),e.jsxs(de,{children:[e.jsx(pe,{children:e.jsx(he,{className:"text-sm font-medium",children:"Taxa de Cancelamento"})}),e.jsxs(ue,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[g.taxaCancelamento,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"no período"})]})]})]})})]})})}const Vu="false".toLowerCase()==="true",ja="false".toLowerCase()==="true",XA={async criarSolicitacaoMedico(t,n={}){var N,w,y,b,_,S,E,k,T;const a=new FormData,o=(P,A,R=[])=>{if(A==null)return;const $=[P,...R].filter(Boolean);for(const O of $)a.append(O,A)};o("crm",t.crm,["crm_numero"]),o("especialidade",t.especialidade),o("instituicaoFormacao",t.instituicaoFormacao,["instituicao_formacao"]),o("anoFormacao",t.anoFormacao,["ano_formacao"]),o("residencia",t.residencia??""),o("instituicaoResidencia",t.instituicaoResidencia??"",["instituicao_residencia"]),o("anoResidencia",t.anoResidencia??"",["ano_residencia"]),o("experiencia",t.experiencia),o("motivacao",t.motivacao,["motivo","justificativa"]),o("nome",t.nome,["nome_completo"]),o("email",t.email),o("cpf",t.cpf),o("tipo",t.tipo||"medico"),(N=t.documentos)!=null&&N.diplomaMedicina&&o("diplomaMedicina",t.documentos.diplomaMedicina,["diploma_medicina"]),(w=t.documentos)!=null&&w.certificadoResidencia&&o("certificadoResidencia",t.documentos.certificadoResidencia,["certificado_residencia"]),(y=t.documentos)!=null&&y.comprovanteExperiencia&&o("comprovanteExperiencia",t.documentos.comprovanteExperiencia,["comprovante_experiencia"]);let i;try{const P=(b=ut.getCurrentUser)==null?void 0:b.call(ut);i=(P==null?void 0:P.id)||(P==null?void 0:P.pk)||((_=P==null?void 0:P.user)==null?void 0:_.id),i&&o("user",i,["usuario","user_id","usuario_id"])}catch{}const c={crm:t.crm,crm_numero:t.crm,especialidade:t.especialidade,instituicaoFormacao:t.instituicaoFormacao,instituicao_formacao:t.instituicaoFormacao,anoFormacao:t.anoFormacao,ano_formacao:t.anoFormacao,residencia:t.residencia??"",instituicaoResidencia:t.instituicaoResidencia??"",instituicao_residencia:t.instituicaoResidencia??"",anoResidencia:t.anoResidencia??"",ano_residencia:t.anoResidencia??"",experiencia:t.experiencia,motivacao:t.motivacao,motivo:t.motivacao,justificativa:t.motivacao,nome:t.nome,nome_completo:t.nome_completo||t.nome,email:t.email,cpf:t.cpf,tipo:t.tipo||"medico"};i&&(c.user=i,c.usuario=i,c.user_id=i,c.usuario_id=i);const d="/solicitacaomedico/".trim(),f="/solicitacoes/".trim();let u=[];d&&u.push(d),f&&u.push(f),ja||u.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/solicitacoes/medico/","/medico/solicitacoes/","/medicos/solicitacao/","/solicitacao/medicos/","/users/medicos/solicitacoes/","/usuarios/medicos/solicitacoes/","/users/solicitacoes/medico/","/usuarios/solicitacoes/medico/","/app_medico/","/meu_app_medico/","/meui_app_solicitacaomedico/","/solicitacaomedico/","/solicitacao-medico/","/solicitacoes/solicitacao-medico/","/solicitacoes/solicitacaomedico/");const g=P=>{if(ja)return[P];const A=P.endsWith("/")?"":"/";return[P,`${P}${A}criar/`,`${P}${A}create/`,`${P}${A}novo/`,`${P}${A}nova/`,`${P}${A}add/`,`${P}${A}adicionar/`,`${P}${A}registrar/`,`${P}${A}enviar/`,`${P}${A}submit/`]},h=Array.from(new Set(u.flatMap(g))),p=[];let v;for(const P of h)try{return p.push(P),Vu&&console.debug("[solicitacaoService] Tentando endpoint:",P),(await le.post(P,a,{headers:{"Content-Type":"multipart/form-data"},signal:n==null?void 0:n.signal})).data}catch(A){const R=(S=A==null?void 0:A.response)==null?void 0:S.status,$=((E=A==null?void 0:A.response)==null?void 0:E.data)&&JSON.stringify(A.response.data)||"";if(R===415||R===400&&/JSON|application\/json|parse/i.test($))try{return(await le.post(P,c,{headers:{"Content-Type":"application/json"},signal:n==null?void 0:n.signal})).data}catch(I){const V=(k=I==null?void 0:I.response)==null?void 0:k.status;if((V===404||V===405)&&!ja){v=I;continue}throw I}if((R===404||R===405)&&!ja){Vu&&console.debug("[solicitacaoService] Endpoint não aceitou método (",R,"):",P),v=A;continue}throw A}throw v?(Vu&&console.warn("[solicitacaoService] Nenhum endpoint aceitou POST. Último status:",(T=v==null?void 0:v.response)==null?void 0:T.status,"URLs tentadas:",p),v):new Error("Nenhum endpoint de criação aceitou a solicitação. Configure VITE_SOLICITACOES_MEDICOS_ENDPOINT. URLs tentadas: "+p.join(", "))},async listarMinhasSolicitacoes(t={},n={}){var d,f;const a="/solicitacaomedico/".trim(),o="/solicitacoes/".trim(),i=[];a&&i.push(a),o&&i.push(o),ja||i.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/","/me/solicitacoes/","/minhas-solicitacoes/","/solicitacoes/me/","/solicitacoes/minhas/");const c={...t};c.limit!=null&&c.page_size==null&&(c.page_size=c.limit),c.page_size!=null&&c.limit==null&&(c.limit=c.page_size);for(const u of i){const g=bg(u);try{const h=await le.get(g,{params:c,signal:n==null?void 0:n.signal});return Array.isArray((d=h.data)==null?void 0:d.results)?{...h.data,results:h.data.results.map(Hu)}:Array.isArray(h.data)?{results:h.data.map(Hu)}:h.data}catch(h){if(((f=h==null?void 0:h.response)==null?void 0:f.status)===404&&!ja)continue;throw h}}return{results:[]}},async getSolicitacaoMedico(t,n={}){var d;const a="/solicitacaomedico/".trim(),o="/solicitacoes/".trim(),i=[];a&&i.push(a),o&&i.push(o),ja||i.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/");let c;for(const f of i){const u=bg(f)+String(t)+"/";try{const g=await le.get(u,{signal:n==null?void 0:n.signal});return Hu(g.data)}catch(g){if(((d=g==null?void 0:g.response)==null?void 0:d.status)===404&&!ja){c=g;continue}throw g}}throw c||new Error("Solicitação não encontrada")}};function bg(t){return t?t.endsWith("/")?t:t+"/":"/"}function Hu(t={}){return{id:t.id||t.pk,crm:t.crm||t.crm_numero,especialidade:t.especialidade,instituicaoFormacao:t.instituicaoFormacao||t.instituicao_formacao,anoFormacao:t.anoFormacao||t.ano_formacao,residencia:t.residencia,instituicaoResidencia:t.instituicaoResidencia||t.instituicao_residencia,anoResidencia:t.anoResidencia||t.ano_residencia,experiencia:t.experiencia,motivacao:t.motivacao||t.motivo||t.justificativa,nome:t.nome||t.nome_completo,email:t.email,cpf:t.cpf,status:t.status||t.situacao||t.aprovado,created_at:t.created_at||t.data_criacao}}const X0=Object.freeze(Object.defineProperty({__proto__:null,solicitacaoService:XA},Symbol.toStringTag,{value:"Module"})),Tr="false".toLowerCase()!=="false",Bt="false".toLowerCase()==="true",Ot={async getDashboard(){return(await le.get("/admin/dashboard/")).data},async getSolicitacoes(t={},n={}){var i;const a=kl(),o=Wu(qu(t));for(const c of a){const d=Ga(c),f=Tr?[d]:[d,d+"listar/",d+"list/",d+"todas/",d+"all/"],u=[];if(u.push(o),!Tr&&(o!=null&&o.ordering)){const{ordering:g,...h}=o;u.push(h)}if(!Tr){const g={};o.page_size!=null&&(g.page_size=o.page_size),o.limit!=null&&(g.limit=o.limit),o.page!=null&&(g.page=o.page),o.offset!=null&&(g.offset=o.offset),Object.keys(g).length&&u.push(g)}Object.keys(o).length&&u.push({});for(const g of f)for(const h of u)try{Bt&&console.debug("[adminService.getSolicitacoes] GET",g,h);const v=(await le.get(g,{params:h,signal:n==null?void 0:n.signal})).data,N=Array.isArray(v==null?void 0:v.results)?v.results:Array.isArray(v)?v:[];return Bt&&console.debug("[adminService.getSolicitacoes] OK",g,`items=${N.length}`),N.map(Z0)}catch(p){const v=(i=p==null?void 0:p.response)==null?void 0:i.status;if(Bt&&console.warn("[adminService.getSolicitacoes] Falhou",g,"status=",v,"params=",h),v===401||v===403)throw p;continue}}return[]},async getSolicitacao(t){var o;const n=kl();let a;for(const i of n){const c=Ga(i)+`${t}/`;try{const d=await le.get(c);return e4(d.data||{})}catch(d){const f=(o=d==null?void 0:d.response)==null?void 0:o.status;if(Bt&&console.warn("[adminService.getSolicitacao] Falhou",c,"status=",f),f===401||f===403)throw d;a=d;continue}}throw a||new Error("Nenhum endpoint para detalhe de solicitação foi encontrado.")},async aprovarSolicitacao(t,n=""){var o,i,c,d;const a=kl();for(const f of a){const u=Ga(f),g=[{method:"post",url:`${u}${t}/aprovar/`,body:{observacoes:n}},{method:"post",url:`${u}${t}/approve/`,body:{notes:n}},{method:"post",url:`${u}${t}/aprovacao/`,body:{observacoes:n}},{method:"post",url:`${u}${t}/status/`,body:{status:"approved",observacoes:n}},{method:"patch",url:`${u}${t}/`,body:{status:"approved",observacoes:n}},{method:"put",url:`${u}${t}/`,body:{status:"approved",observacoes:n}}];for(const h of g)try{Bt&&console.debug("[adminService.aprovarSolicitacao]",h.method.toUpperCase(),h.url,h.body);const p=await le[h.method](h.url,h.body);(async()=>{var N;try{await Ot.registrarAuditoria({action:"approve",entity:"SolicitacaoMedico",entity_id:t,status:"success",metadata:{observacoes:n}})}catch(w){Bt&&console.warn("[adminService.aprovarSolicitacao] auditoria falhou:",(N=w==null?void 0:w.response)==null?void 0:N.status)}})();const v=p.data;try{let N=((o=v==null?void 0:v.medico)==null?void 0:o.id)||(v==null?void 0:v.medico_id)||(v==null?void 0:v.medico)||null;if(!N)try{const w=await Ot.getSolicitacao(t).catch(()=>null);N=((i=w==null?void 0:w.medico)==null?void 0:i.id)||(w==null?void 0:w.medico_id)||(w==null?void 0:w.medico)||null}catch{}if(N){const w="/medicos/",y=w.endsWith("/")?w:`${w}/`,b={status:"active",situacao:"active",state:"active"},_=[{m:"patch",u:`${y}${N}/`,b},{m:"put",u:`${y}${N}/`,b}];for(const E of _)try{await le[E.m](E.u,E.b);break}catch{}const S=[`${y}${N}/perfil/`,"/perfil-medico/","/perfil/medico/"];for(const E of S){const k=E.endsWith("/")?E:`${E}/`;try{await le.patch(k,b);break}catch{}}}}catch(N){Bt&&console.warn("[adminService.aprovarSolicitacao] pós-ação falhou",(c=N==null?void 0:N.response)==null?void 0:c.status)}return(async()=>{var N;try{await Ot.registrarAuditoria({action:"approve",entity:"SolicitacaoMedico",entity_id:t,status:"success",metadata:{observacoes:n}})}catch(w){Bt&&console.warn("[adminService.aprovarSolicitacao] auditoria falhou:",(N=w==null?void 0:w.response)==null?void 0:N.status)}})(),v}catch(p){const v=(d=p==null?void 0:p.response)==null?void 0:d.status;if(Bt&&console.warn("[adminService.aprovarSolicitacao] Falhou",h.url,"status=",v),v===401||v===403)throw p;continue}}},async rejeitarSolicitacao(t,n){var o,i,c,d;const a=kl();for(const f of a){const u=Ga(f),g=[{method:"post",url:`${u}${t}/rejeitar/`,body:{motivo:n}},{method:"post",url:`${u}${t}/reject/`,body:{reason:n}},{method:"post",url:`${u}${t}/status/`,body:{status:"rejected",motivo:n}},{method:"patch",url:`${u}${t}/`,body:{status:"rejected",motivo:n}},{method:"put",url:`${u}${t}/`,body:{status:"rejected",motivo:n}}];for(const h of g)try{Bt&&console.debug("[adminService.rejeitarSolicitacao]",h.method.toUpperCase(),h.url,h.body);const p=await le[h.method](h.url,h.body);(async()=>{var N;try{await Ot.registrarAuditoria({action:"reject",entity:"SolicitacaoMedico",entity_id:t,status:"success",metadata:{motivo:n}})}catch(w){Bt&&console.warn("[adminService.rejeitarSolicitacao] auditoria falhou:",(N=w==null?void 0:w.response)==null?void 0:N.status)}})();const v=p.data;try{let N=((o=v==null?void 0:v.medico)==null?void 0:o.id)||(v==null?void 0:v.medico_id)||(v==null?void 0:v.medico)||null;if(!N)try{const w=await Ot.getSolicitacao(t).catch(()=>null);N=((i=w==null?void 0:w.medico)==null?void 0:i.id)||(w==null?void 0:w.medico_id)||(w==null?void 0:w.medico)||null}catch{}if(N){const w="/medicos/",y=w.endsWith("/")?w:`${w}/`,b={status:"rejected",situacao:"rejected",state:"rejected"},_=[{m:"patch",u:`${y}${N}/`,b},{m:"put",u:`${y}${N}/`,b}];for(const E of _)try{await le[E.m](E.u,E.b);break}catch{}const S=[`${y}${N}/perfil/`,"/perfil-medico/","/perfil/medico/"];for(const E of S){const k=E.endsWith("/")?E:`${E}/`;try{await le.patch(k,b);break}catch{}}}}catch(N){Bt&&console.warn("[adminService.rejeitarSolicitacao] pós-ação falhou",(c=N==null?void 0:N.response)==null?void 0:c.status)}return(async()=>{var N;try{await Ot.registrarAuditoria({action:"reject",entity:"SolicitacaoMedico",entity_id:t,status:"success",metadata:{motivo:n}})}catch(w){Bt&&console.warn("[adminService.rejeitarSolicitacao] auditoria falhou:",(N=w==null?void 0:w.response)==null?void 0:N.status)}})(),v}catch(p){const v=(d=p==null?void 0:p.response)==null?void 0:d.status;if(Bt&&console.warn("[adminService.rejeitarSolicitacao] Falhou",h.url,"status=",v),v===401||v===403)throw p;continue}}},async getAuditoria(t={}){return(await le.get("/admin/auditoria/",{params:t})).data},async registrarAuditoria(t={}){var h;const n=await ut.getCurrentUser(),a=t.action||t.acao||t.type,o=t.entity||t.entidade||"",i=t.entity_id||t.id||t.solicitacao_id||t.target_id||"",c=t.status||"success",d=typeof t.metadata=="object"&&t.metadata!==null?t.metadata:{},f=typeof t.detalhes=="object"&&t.detalhes!==null?t.detalhes:{},u={...d,...f,actor:(n==null?void 0:n.id)||(n==null?void 0:n.username)||"system",source:"frontend"},g={action:a,entity:o,entity_id:i,status:c,metadata:u};try{await le.post("/admin/auditoria/",g)}catch(p){Bt&&console.warn("[adminService.registrarAuditoria] falhou:",(h=p==null?void 0:p.response)==null?void 0:h.status)}},async getUsuarios(t={}){const n=Wu(qu(t)),o=(await le.get("/users/",{params:n})).data,i=Array.isArray(o==null?void 0:o.results)?o.results:Array.isArray(o)?o:[],c=typeof(o==null?void 0:o.count)=="number"?o.count:i.length;return{results:i,count:c}},async getClinicas(t={}){var o;const n=ZA(),a=Wu(qu(t));for(const i of n){const c=Ga(i),d=Tr?[c]:[c,c+"listar/",c+"list/",c+"todas/",c+"all/"],f=[];if(f.push(a),!Tr&&(a!=null&&a.ordering)){const{ordering:u,...g}=a;f.push(g)}if(!Tr){const u={};a.page_size!=null&&(u.page_size=a.page_size),a.limit!=null&&(u.limit=a.limit),a.page!=null&&(u.page=a.page),a.offset!=null&&(u.offset=a.offset),Object.keys(u).length&&f.push(u)}Object.keys(a).length&&f.push({});for(const u of d)for(const g of f)try{Bt&&console.debug("[adminService.getClinicas] GET",u,g);const p=(await le.get(u,{params:g})).data,v=Array.isArray(p==null?void 0:p.results)?p.results:Array.isArray(p)?p:[],N=typeof(p==null?void 0:p.count)=="number"?p.count:v.length;return Bt&&console.debug("[adminService.getClinicas] OK",u,`items=${v.length}`),{results:v,count:N}}catch(h){const p=(o=h==null?void 0:h.response)==null?void 0:o.status;if(Bt&&console.warn("[adminService.getClinicas] Falhou",u,"status=",p,"params=",g),p===401)throw h;continue}}return{results:[],count:0}},async updateUsuario(t,n={}){var d,f,u,g;const a=t||(n==null?void 0:n.id);if(!a)throw new Error("ID do usuário é obrigatório para atualização");const o={...n};o.role&&o.tipo==null&&(o.tipo=o.role),o.is_active!=null&&o.ativo==null&&(o.ativo=!!o.is_active),(o.first_name||o.last_name)&&o.nome==null&&(o.nome=[o.first_name||"",o.last_name||""].filter(Boolean).join(" ").trim()||void 0);const i=Sg();let c=null;for(const h of i){const p=Ga(h);try{return(await le.patch(`${p}${a}/`,o)).data}catch(v){const N=(d=v==null?void 0:v.response)==null?void 0:d.status;if(Bt&&console.warn("[adminService.updateUsuario] PATCH falhou",`${p}${a}/`,"status=",N),N===401)throw v;c=v}try{return(await le.put(`${p}${a}/`,o)).data}catch(v){const N=(f=v==null?void 0:v.response)==null?void 0:f.status;if(Bt&&console.warn("[adminService.updateUsuario] PUT falhou",`${p}${a}/`,"status=",N),N===401)throw v;c=v}try{return(await le.patch(p,{id:a,...o})).data}catch(v){const N=(u=v==null?void 0:v.response)==null?void 0:u.status;if(Bt&&console.warn("[adminService.updateUsuario] PATCH base falhou",p,"status=",N),N===401)throw v;c=v}for(const v of["update/","editar/","edicao/"]){const N=p+v;try{return(await le.post(N,{id:a,...o})).data}catch(w){const y=(g=w==null?void 0:w.response)==null?void 0:g.status;if(Bt&&console.warn("[adminService.updateUsuario] POST falhou",N,"status=",y),y===401)throw w;c=w}}}throw c||new Error("Falha ao atualizar usuário: nenhum endpoint aceitou a requisição.")},async removerUsuariosEmMassa(t=[]){var c,d,f;const n=(Array.isArray(t)?t:[t]).filter(Boolean);if(n.length===0)return{success:!0,deleted:[],detail:"no-op"};const a=Sg();let o=null;const i=[{suffix:"remover/",method:"post",bodyKey:"ids"},{suffix:"delete/",method:"post",bodyKey:"ids"},{suffix:"bulk_delete/",method:"post",bodyKey:"ids"}];for(const u of a){const g=Ga(u);for(const p of i){const v=g+p.suffix;try{return(await le.post(v,{[p.bodyKey]:n})).data}catch(N){const w=(c=N==null?void 0:N.response)==null?void 0:c.status;if(Bt&&console.warn("[adminService.removerUsuariosEmMassa] POST falhou",v,"status=",w),w===401)throw N;o=N}}try{const p=g;return(await le.delete(p,{data:{ids:n}})).data}catch(p){const v=(d=p==null?void 0:p.response)==null?void 0:d.status;if(Bt&&console.warn("[adminService.removerUsuariosEmMassa] DELETE bulk falhou",g,"status=",v),v===401)throw p;o=p}let h=!1;for(const p of n){const v=`${g}${p}/`;try{await le.delete(v),h=!0}catch(N){const w=(f=N==null?void 0:N.response)==null?void 0:f.status;if(Bt&&console.warn("[adminService.removerUsuariosEmMassa] DELETE por id falhou",v,"status=",w),w===401)throw N;o=N}}if(h)return{success:!0}}throw o||new Error("Falha ao excluir usuários: nenhum endpoint aceitou a requisição.")},async createUsuario(t={}){return(await le.post("/admin/usuarios/",t)).data}};function Ga(t){if(!t)return"/";const n=String(t);return n.endsWith("/")?n:n+"/"}function qu(t={}){const n={...t};return n.limit!=null&&n.page_size==null&&(n.page_size=n.limit),n.page_size!=null&&n.limit==null&&(n.limit=n.page_size),Object.keys(n).forEach(a=>{(n[a]===void 0||n[a]===null||n[a]==="")&&delete n[a]}),n}function Wu(t={}){const n=new Set(["status","ordering","search","limit","page","page_size","offset","clinica","especialidade"]),a={};for(const[o,i]of Object.entries(t||{}))n.has(o)&&(a[o]=i);return a}function kl(){const t="/solicitacaomedico/".trim(),n="/solicitacaomedico/".trim(),a="/solicitacoes/".trim(),o=Array.from(new Set([t,n,a].filter(Boolean))),i=["/solicitacaomedico/","/admin/solicitacoes/"],c=["/medicos/solicitacoes/","/solicitacoes/medicos/"];return Array.from(new Set([...i,...o,...c].filter(Boolean)))}function Sg(){const t="".trim(),n="".trim(),a=Array.from(new Set([t,n].filter(Boolean))),o=["/admin/usuarios/","/usuarios/","/admin/users/","/users/"];return Array.from(new Set([...a,...o].filter(Boolean)))}function ZA(){const t="".trim(),n="".trim(),a=Array.from(new Set([t,n].filter(Boolean))),o=["/admin/clinicas/","/clinicas/","/admin/clinica/","/clinica/"];return Array.from(new Set([...a,...o].filter(Boolean)))}function Z0(t={}){var n,a,o,i,c,d,f,u,g,h,p,v,N,w,y,b,_,S,E,k,T,P,A;return{id:t.id||t.pk||t.uuid||t.codigo||t.codigo_id||0,tipo:String(t.tipo||t.type||t.kind||"medico").toLowerCase(),nome:t.nome||t.name||((n=t.usuario)==null?void 0:n.nome)||((a=t.user)==null?void 0:a.name)||((o=t.medico)==null?void 0:o.nome)||((i=t.clinica)==null?void 0:i.nome)||"—",email:t.email||((c=t.usuario)==null?void 0:c.email)||((d=t.user)==null?void 0:d.email)||((u=(f=t.medico)==null?void 0:f.user)==null?void 0:u.email)||((g=t.clinica)==null?void 0:g.email)||"—",telefone:t.telefone||t.phone||t.celular||((h=t.usuario)==null?void 0:h.telefone)||((p=t.user)==null?void 0:p.telefone)||((v=t.medico)==null?void 0:v.telefone)||((w=(N=t.medico)==null?void 0:N.contato)==null?void 0:w.telefone)||((b=(y=t.medico)==null?void 0:y.user)==null?void 0:b.telefone)||((_=t.clinica)==null?void 0:_.telefone)||"",crm:t.crm||((S=t.medico)==null?void 0:S.crm)||t.crm_numero||"",cnpj:t.cnpj||((E=t.clinica)==null?void 0:E.cnpj)||"",responsavel:t.responsavel||t.responsavel_tecnico||((k=t.clinica)==null?void 0:k.responsavel)||"",status:(()=>{const R=(t.status||t.situacao||t.state||"pending").toString().toLowerCase();return{pendente:"pending","em análise":"pending","em analise":"pending",em_analise:"pending",aprovado:"approved",aprovada:"approved",rejeitado:"rejected",rejeitada:"rejected",reprovado:"rejected",reprovada:"rejected"}[R]||R})(),dataEnvio:t.dataEnvio||t.created_at||t.createdAt||t.data_criacao||t.submitted_at||new Date().toISOString(),dataAprovacao:t.dataAprovacao||t.aprovado_em||t.data_aprovacao||t.approved_at||null,dataRejeicao:t.dataRejeicao||t.rejeitado_em||t.data_rejeicao||t.rejected_at||null,documentos:Array.isArray(t.documentos)?t.documentos:t.documents||[],urgencia:String(t.urgencia||t.priority||"normal").toLowerCase(),observacoes:t.observacoes||t.notes||t.comentarios||"",aprovadoPor:t.aprovadoPor||t.approved_by||"",rejeitadoPor:t.rejeitadoPor||t.rejected_by||"",motivoRejeicao:t.motivoRejeicao||t.motivo||t.reason||"",especialidade:t.especialidade||t.especialidade_nome||((P=(T=t.medico)==null?void 0:T.especialidade)==null?void 0:P.nome)||((A=t.medico)==null?void 0:A.especialidade)||""}}function e4(t={}){var S,E,k,T,P,A,R,$,O,I,V,J,F,K,M,W,U,X,ee,L,q;const n=Z0(t),a=t.dataAprovacao||t.aprovado_em||t.data_aprovacao||t.approved_at||t.dataAprovado||null,o=t.dataRejeicao||t.rejeitado_em||t.data_rejeicao||t.rejected_at||t.dataRejeitado||null,i=[],c=te=>{te&&(Array.isArray(te)?i.push(...te.filter(Boolean)):typeof te=="object"?i.push(...Object.values(te).filter(Boolean)):typeof te=="string"&&i.push(te))};c(t.documentos),c(t.docs),c(t.arquivos),c(t.attachments),c(t.files);const d=[t.diplomaMedicina,t.certificadoResidencia,t.comprovanteExperiencia,t.documento_identidade,t.comprovante_endereco,t.diploma_medicina,t.certificado_residencia,t.comprovante_experiencia,t.rg,t.cpf].filter(Boolean);i.push(...d);const f=te=>{if(!te)return null;if(typeof te=="string")return{nome:(te.split("/").pop()||"Documento").trim(),tamanho:"",dataUpload:t.dataEnvio||t.created_at||t.createdAt||t.submitted_at||new Date().toISOString(),url:te};const B=te.nome||te.name||te.filename||te.file_name||te.titulo||te.tipo||"Documento",z=te.tamanho||te.size||te.file_size||"",G=te.dataUpload||te.data_upload||te.uploaded_at||te.created_at||n.dataEnvio||new Date().toISOString(),Z=te.url||te.link||te.path||te.file||te.arquivo||te.location||"";return{nome:B,tamanho:z,dataUpload:G,url:Z}},u=i.map(f).filter(Boolean),g=t.endereco||((S=t.medico)==null?void 0:S.endereco)||((E=t.clinica)==null?void 0:E.endereco)||{},h=typeof g=="string"?{cep:t.cep||"",logradouro:g,bairro:"",cidade:"",estado:""}:{cep:g.cep||t.cep||"",logradouro:g.logradouro||g.rua||g.endereco||"",bairro:g.bairro||"",cidade:g.cidade||g.municipio||"",estado:g.estado||g.uf||""},p=t.instituicaoFormacao||t.instituicao_formacao||((k=t.formacao)==null?void 0:k.instituicao)||((P=(T=t.medico)==null?void 0:T.formacao)==null?void 0:P.instituicao)||"",v=t.anoFormacao||t.ano_formacao||((A=t.formacao)==null?void 0:A.ano)||(($=(R=t.medico)==null?void 0:R.formacao)==null?void 0:$.ano)||"",N=t.residencia||((I=(O=t.formacao)==null?void 0:O.residencia)==null?void 0:I.nome)||((J=(V=t.medico)==null?void 0:V.residencia)==null?void 0:J.nome)||"",w=t.instituicaoResidencia||t.instituicao_residencia||((K=(F=t.formacao)==null?void 0:F.residencia)==null?void 0:K.instituicao)||((W=(M=t.medico)==null?void 0:M.residencia)==null?void 0:W.instituicao)||"",y=t.anoResidencia||t.ano_residencia||((X=(U=t.formacao)==null?void 0:U.residencia)==null?void 0:X.ano)||((L=(ee=t.medico)==null?void 0:ee.residencia)==null?void 0:L.ano)||"",b=t.experiencia||t.experiencias||((q=t.medico)==null?void 0:q.experiencia)||"",_=t.motivacao||t.motivo||t.justificativa||t.reason||"";return{...n,dataAprovacao:a,dataRejeicao:o,documentos:u.length?u:n.documentos,endereco:h,instituicaoFormacao:p,anoFormacao:v,residencia:N,instituicaoResidencia:w,anoResidencia:y,experiencia:b,motivacao:_}}function t4(){const[t,n]=x.useState({nome:"",cnpj:"",email:"",responsavel:""}),[a,o]=x.useState(""),[i,c]=x.useState(""),[d,f]=x.useState(""),[u,g]=x.useState(""),[h,p]=x.useState(!1),[v,N]=x.useState(""),[w,y]=x.useState(""),{toast:b}=Xt(),_=k=>{const T=String(k||"").replace(/\D/g,"").slice(0,14),P=T.slice(0,2),A=T.slice(2,5),R=T.slice(5,8),$=T.slice(8,12),O=T.slice(12,14);return T.length>12?`${P}.${A}.${R}/${$}-${O}`:T.length>8?`${P}.${A}.${R}/${$}`:T.length>5?`${P}.${A}.${R}`:T.length>2?`${P}.${A}`:P},S=async()=>{b({title:"Configurações",description:"Alterações salvas (stub)."})};async function E(k=!0){var T,P,A,R,$;if(N(""),y(""),!a){N("Informe o e-mail da secretária.");return}p(!0);try{let O=null;if(k){const I={email:a,first_name:i||void 0,last_name:d||void 0,password:u||void 0,role:"secretaria",type:"secretaria"},V=await Ot.createUsuario(I);if(O=(V==null?void 0:V.id)||((T=V==null?void 0:V.usuario)==null?void 0:T.id)||((P=V==null?void 0:V.user)==null?void 0:P.id)||(V==null?void 0:V.pk)||null,!O){const J=V&&typeof V=="object"?((A=V.user)==null?void 0:A.pk)||((R=V.usuario)==null?void 0:R.pk):null;J&&(O=J)}if(!O)throw new Error("Não foi possível obter o ID da secretária criada.")}else{const I=await Ot.getUsuarios({search:a,page:1,page_size:100}),J=(Array.isArray(I==null?void 0:I.results)?I.results:Array.isArray(I)?I:[]).find(F=>String(F.email||"").toLowerCase()===a.toLowerCase());if(!J)throw new Error("Não foi possível localizar uma usuária com esse e-mail.");if(O=J.id||J.pk,!O)throw new Error("Usuária encontrada, porém sem ID válido.")}await _s.vincularSecretaria(O),y("Secretária vinculada com sucesso."),o(""),c(""),f(""),g("")}catch(O){const I=($=O==null?void 0:O.response)!=null&&$.data?JSON.stringify(O.response.data):(O==null?void 0:O.message)||"Falha ao processar solicitação.";N(I)}finally{p(!1)}}return e.jsxs(o0,{children:[e.jsx("div",{className:"space-y-6",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Configurações"})}),e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Dados da Clínica"}),e.jsx(Je,{children:"Edite os dados básicos"})]}),e.jsxs(ue,{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"Nome"}),e.jsx(fe,{value:t.nome,onChange:k=>n({...t,nome:k.target.value}),placeholder:"Nome da clínica"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"CNPJ"}),e.jsx(fe,{value:t.cnpj,onChange:k=>n({...t,cnpj:_(k.target.value)}),placeholder:"00.000.000/0000-00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"E-mail"}),e.jsx(fe,{type:"email",value:t.email,onChange:k=>n({...t,email:k.target.value}),placeholder:"email@clinica.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"Responsável"}),e.jsx(fe,{value:t.responsavel,onChange:k=>n({...t,responsavel:k.target.value}),placeholder:"Nome do responsável"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(ne,{onClick:S,children:"Salvar alterações"})})]})]}),e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Adicionar secretária"}),e.jsx(Je,{children:"Crie uma nova secretária ou vincule por e-mail existente"})]}),e.jsxs(ue,{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[v&&e.jsx("div",{className:"text-sm text-red-600",children:v}),w&&e.jsx("div",{className:"text-sm text-emerald-700",children:w})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(ce,{children:"E-mail da secretária"}),e.jsx(fe,{type:"email",value:a,onChange:k=>o(k.target.value),placeholder:"secretaria@exemplo.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Nome (opcional)"}),e.jsx(fe,{value:i,onChange:k=>c(k.target.value),placeholder:"Nome"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Sobrenome (opcional)"}),e.jsx(fe,{value:d,onChange:k=>f(k.target.value),placeholder:"Sobrenome"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Senha (opcional)"}),e.jsx(fe,{type:"password",value:u,onChange:k=>g(k.target.value),placeholder:"Senha inicial (ou deixe em branco)"})]}),e.jsxs("div",{className:"md:col-span-2 flex gap-2",children:[e.jsx(ne,{onClick:()=>E(!0),disabled:h,children:h?"Processando...":"Criar e vincular"}),e.jsx(ne,{variant:"outline",onClick:()=>E(!1),disabled:h,children:h?"Processando...":"Vincular por e-mail"})]})]})]})]})}function s4(){const[t,n]=x.useState({totalUsuarios:0,medicosAtivos:0,clinicasAtivas:0,solicitacoesPendentes:0,solicitacoesHoje:0,aprovacoesSemana:0,rejeicoesSemana:0,aprovadosMedicosSemana:0,aprovadasClinicasSemana:0,rejeitadosMedicosSemana:0,rejeitadasClinicasSemana:0}),[a,o]=x.useState([]),[i,c]=x.useState(!0),d=()=>{const g=new Date,h=g.getDay(),p=g.getDate()-h+(h===0?-6:1),v=new Date(g);return v.setDate(p),v.setHours(0,0,0,0),v};x.useEffect(()=>{let g=!0;return(async()=>{var v,N,w;const p=d();try{const y=await Ot.getDashboard();g&&y&&n(b=>({...b,totalUsuarios:y.total_usuarios??y.totalUsuarios??b.totalUsuarios,medicosAtivos:y.medicos_ativos??y.medicosAtivos??b.medicosAtivos,clinicasAtivas:y.clinicas_ativas??y.clinicasAtivas??b.clinicasAtivas,solicitacoesPendentes:y.solicitacoes_pendentes??y.solicitacoesPendentes??b.solicitacoesPendentes,aprovacoesSemana:y.aprovacoes_semana??y.aprovacoesSemana??b.aprovacoesSemana,rejeicoesSemana:y.rejeicoes_semana??y.rejeicoesSemana??b.rejeicoesSemana,aprovadosMedicosSemana:y.aprovados_medicos_semana??y.aprovadosMedicosSemana??b.aprovadosMedicosSemana,aprovadasClinicasSemana:y.aprovadas_clinicas_semana??y.aprovadasClinicasSemana??b.aprovadasClinicasSemana,rejeitadosMedicosSemana:y.rejeitados_medicos_semana??y.rejeitadosMedicosSemana??b.rejeitadosMedicosSemana,rejeitadasClinicasSemana:y.rejeitadas_clinicas_semana??y.rejeitadasClinicasSemana??b.rejeitadasClinicasSemana}))}catch(y){console.warn("[AdminDashboard] getDashboard falhou:",(v=y==null?void 0:y.response)==null?void 0:v.status)}try{const y=await Ot.getSolicitacoes({status:"pending",limit:5}),_=(Array.isArray(y==null?void 0:y.results)?y.results:Array.isArray(y)?y:[]).map(S=>({...S,nome:S.nome??S.name??S.title??"",tipo:(S.tipo??S.type??"").toString().toLowerCase(),dataEnvio:S.dataEnvio??S.created_at??S.data_envio??null}));if(g){o(_);const S=new Date().toDateString(),E=_.filter(k=>{const T=new Date(k.dataEnvio);return!isNaN(T)&&T.toDateString()===S}).length;n(k=>({...k,solicitacoesHoje:E}))}}catch(y){console.warn("[AdminDashboard] getSolicitacoes falhou (pendentes recentes):",(N=y==null?void 0:y.response)==null?void 0:N.status)}try{const y=d().toISOString(),b=async A=>{const R=await Ot.getSolicitacoes({status:A,limit:100,created_at__gte:y});return(Array.isArray(R==null?void 0:R.results)?R.results:Array.isArray(R)?R:[]).map(O=>({tipo:(O.tipo??O.type??"").toString().toLowerCase(),createdAt:O.created_at??O.data_envio??O.dataEnvio??null})).filter(O=>{const I=new Date(O.createdAt);return O.createdAt&&!isNaN(I)&&I>=p})},[_,S]=await Promise.all([b("approved"),b("rejected")]),E=_.filter(A=>A.tipo==="medico").length,k=_.filter(A=>A.tipo==="clinica").length,T=S.filter(A=>A.tipo==="medico").length,P=S.filter(A=>A.tipo==="clinica").length;g&&n(A=>({...A,aprovacoesSemana:A.aprovacoesSemana||0||_.length,rejeicoesSemana:A.rejeicoesSemana||0||S.length,aprovadosMedicosSemana:A.aprovadosMedicosSemana||0||E,aprovadasClinicasSemana:A.aprovadasClinicasSemana||0||k,rejeitadosMedicosSemana:A.rejeitadosMedicosSemana||0||T,rejeitadasClinicasSemana:A.rejeitadasClinicasSemana||0||P}))}catch(y){console.warn("[AdminDashboard] cálculo semanal (fallback) falhou:",(w=y==null?void 0:y.response)==null?void 0:w.status)}finally{g&&c(!1)}})(),()=>{g=!1}},[]);const f=g=>{switch(g){case"pending":return e.jsxs(St,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[e.jsx(Ut,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return e.jsxs(St,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(Ra,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(St,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(Qn,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},u=g=>{switch(g){case"alta":return e.jsx(St,{variant:"destructive",className:"text-xs",children:"Alta"});case"normal":return e.jsx(St,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return e.jsx(St,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard Administrativo"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie usuários e solicitações do sistema"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(de,{children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-medium",children:"Total de Usuários"}),e.jsx(ks,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.totalUsuarios}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% em relação ao mês passado"})]})]}),e.jsxs(de,{children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-medium",children:"Médicos Ativos"}),e.jsx(Gt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.medicosAtivos}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+5 novos esta semana"})]})]}),e.jsxs(de,{children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-medium",children:"Clínicas Ativas"}),e.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.clinicasAtivas}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+2 novas este mês"})]})]}),e.jsxs(de,{children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-medium",children:"Solicitações Pendentes"}),e.jsx(Vl,{className:"h-4 w-4 text-amber-500"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600",children:t.solicitacoesPendentes}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.solicitacoesHoje," novas hoje"]})]})]})]}),e.jsxs(de,{className:"shadow-sm border",children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Ações Rápidas"}),e.jsx(Je,{children:"Acesso rápido às principais funcionalidades"})]}),e.jsxs(ue,{className:"space-y-3",children:[e.jsx(dt,{to:{pathname:"/admin/solicitacoes",search:"?status=pending"},children:e.jsxs("div",{className:"app-quick-action group",children:[e.jsx("div",{className:"app-quick-icon warning",children:e.jsx(Ut,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"app-quick-title",children:"Solicitações Pendentes"}),e.jsxs("p",{className:"app-quick-desc",children:[t.solicitacoesPendentes," solicitações aguardando análise"]})]}),e.jsx("span",{className:"app-quick-chevron",children:e.jsx(pn,{className:"h-4 w-4"})})]})}),e.jsx(dt,{to:"/admin/usuarios",children:e.jsxs("div",{className:"app-quick-action group",children:[e.jsx("div",{className:"app-quick-icon info",children:e.jsx(ks,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"app-quick-title",children:"Gerenciar Usuários"}),e.jsx("p",{className:"app-quick-desc",children:"Visualizar e gerenciar todos os usuários do sistema"})]}),e.jsx("span",{className:"app-quick-chevron",children:e.jsx(pn,{className:"h-4 w-4"})})]})}),e.jsx(dt,{to:"/admin/relatorios",children:e.jsxs("div",{className:"app-quick-action group",children:[e.jsx("div",{className:"app-quick-icon success",children:e.jsx(bv,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"app-quick-title",children:"Relatórios"}),e.jsx("p",{className:"app-quick-desc",children:"Visualizar estatísticas e relatórios do sistema"})]}),e.jsx("span",{className:"app-quick-chevron",children:e.jsx(pn,{className:"h-4 w-4"})})]})})]})]}),e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(he,{children:"Solicitações Recentes"}),e.jsx(Je,{children:"Últimas solicitações de cadastro no sistema"})]}),e.jsx(ne,{variant:"outline",asChild:!0,children:e.jsx(dt,{to:"/admin/solicitacoes",children:"Ver Todas"})})]})}),e.jsx(ue,{children:e.jsx("div",{className:"space-y-4",children:a.map(g=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-muted flex items-center justify-center",children:g.tipo==="medico"?e.jsx(Gt,{className:"h-5 w-5"}):e.jsx(Ea,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:g.nome}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:g.tipo==="medico"?`${g.especialidade} - ${g.crm}`:`${g.cnpj} - ${g.responsavel}`}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(g.dataEnvio).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[u(g.urgencia),f(g.status),g.status==="pending"&&e.jsx(ne,{size:"sm",asChild:!0,children:e.jsx(dt,{to:`/admin/solicitacoes/${g.id}`,children:"Revisar"})})]})]},g.id))})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(Ra,{className:"h-5 w-5 text-green-500"}),"Aprovações desta Semana"]})}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:t.aprovacoesSemana}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.aprovadosMedicosSemana," médicos e ",t.aprovadasClinicasSemana," clínicas aprovados"]})]})]}),e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(Qn,{className:"h-5 w-5 text-red-500"}),"Rejeições desta Semana"]})}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:t.rejeicoesSemana}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.rejeitadosMedicosSemana," médicos e ",t.rejeitadasClinicasSemana," clínicas rejeitados"]})]})]})]})]})}function n4(){const[t,n]=x.useState(""),[a,o]=x.useState("all"),[i,c]=x.useState("all"),[d,f]=x.useState("all"),[u,g]=x.useState(!1),[h,p]=x.useState([]),v=x.useRef(null),{toast:N}=Xt(),w=x.useMemo(()=>({search:t.trim(),status:a,tipo:i,urgencia:d}),[t,a,i,d]);x.useEffect(()=>{g(!0);const R=setTimeout(async()=>{if(v.current)try{v.current.abort()}catch{}const $=new AbortController;v.current=$;try{const O={};w.status!=="all"&&(O.status=w.status),w.tipo!=="all"&&(O.tipo=w.tipo),w.urgencia!=="all"&&(O.urgencia=w.urgencia),w.search&&(O.search=w.search);const I=await Ot.getSolicitacoes(O,{signal:$.signal}),V=Array.isArray(I==null?void 0:I.results)?I.results:Array.isArray(I)?I:[];p(V)}catch(O){(O==null?void 0:O.name)!=="AbortError"&&p([])}finally{g(!1)}},400);return()=>clearTimeout(R)},[w]);const y=async R=>{g(!0);try{const $=await Ot.aprovarSolicitacao(R);p(O=>O.map(I=>I.id===R?{...I,status:"approved",aprovadoPor:($==null?void 0:$.approved_by)||I.aprovadoPor||"",dataAprovacao:($==null?void 0:$.approved_at)||I.dataAprovacao||new Date().toISOString(),rejeitadoPor:"",dataRejeicao:null,motivoRejeicao:""}:I)),N({title:"Solicitação aprovada",description:"A solicitação foi aprovada com sucesso."})}catch{N({title:"Erro ao aprovar",description:"Não foi possível aprovar a solicitação.",variant:"destructive"})}finally{g(!1)}},b=async R=>{const $=window.prompt("Informe o motivo da rejeição:");if($!==null){g(!0);try{const O=await Ot.rejeitarSolicitacao(R,($||"").trim());p(I=>I.map(V=>V.id===R?{...V,status:"rejected",rejeitadoPor:(O==null?void 0:O.rejected_by)||V.rejeitadoPor||"",dataRejeicao:(O==null?void 0:O.rejected_at)||V.dataRejeicao||new Date().toISOString(),motivoRejeicao:(O==null?void 0:O.rejection_reason)||$||V.motivoRejeicao||"",aprovadoPor:"",dataAprovacao:null}:V)),N({title:"Solicitação rejeitada",description:"A solicitação foi rejeitada."})}catch{N({title:"Erro ao rejeitar",description:"Não foi possível rejeitar a solicitação.",variant:"destructive"})}finally{g(!1)}}},_=R=>{switch(R){case"pending":return e.jsxs(St,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[e.jsx(Ut,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return e.jsxs(St,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(Ra,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(St,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(Qn,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},S=R=>{switch(R){case"alta":return e.jsxs(St,{variant:"destructive",className:"text-xs",children:[e.jsx(Bo,{className:"mr-1 h-2 w-2"}),"Alta"]});case"normal":return e.jsx(St,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return e.jsx(St,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}},E=h.filter(R=>{const $=(R.nome||"").toLowerCase().includes(t.toLowerCase())||(R.email||"").toLowerCase().includes(t.toLowerCase())||R.crm&&String(R.crm).toLowerCase().includes(t.toLowerCase())||R.cnpj&&String(R.cnpj).includes(t),O=a==="all"||R.status===a,I=i==="all"||R.tipo===i,V=d==="all"||R.urgencia===d;return $&&O&&I&&V}),k=E.filter(R=>R.status==="pending"),T=E.filter(R=>R.status==="approved"),P=E.filter(R=>R.status==="rejected"),A=({solicitacao:R})=>e.jsxs(de,{className:"hover:shadow-md transition-shadow rounded-xl",children:[e.jsx(pe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`app-quick-icon ${R.tipo==="medico"?"info":"primary"} h-10 w-10`,children:R.tipo==="medico"?e.jsx(Gt,{className:"h-5 w-5"}):e.jsx(Ea,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx(he,{className:"text-lg",children:R.nome}),e.jsx(Je,{children:R.email})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[S(R.urgencia),_(R.status)]})]})}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:R.tipo==="medico"?"Especialidade":"CNPJ"}),e.jsx("p",{children:R.tipo==="medico"?R.especialidade:R.cnpj})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:R.tipo==="medico"?"CRM":"Responsável"}),e.jsx("p",{children:R.tipo==="medico"?R.crm:R.responsavel})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:"Data de Envio"}),e.jsxs("p",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"h-3 w-3"}),new Date(R.dataEnvio).toLocaleDateString()," às"," ",new Date(R.dataEnvio).toLocaleTimeString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:"Documentos"}),e.jsxs("p",{children:[Array.isArray(R.documentos)?R.documentos.length:0," arquivo(s)"]})]})]}),R.observacoes&&e.jsx("div",{className:"bg-muted/50 p-3 rounded-lg",children:e.jsx("p",{className:"text-sm",children:R.observacoes})}),R.status==="approved"&&e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:e.jsxs("p",{className:"text-sm text-green-800 dark:text-green-200",children:[e.jsx("strong",{children:"Aprovado em:"})," ",R.dataAprovacao?new Date(R.dataAprovacao).toLocaleDateString():"—",R.aprovadoPor?e.jsxs(e.Fragment,{children:[" por ",R.aprovadoPor]}):null]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(dt,{to:`/admin/solicitacoes/${R.id}`,children:[e.jsx($r,{className:"mr-2 h-4 w-4"})," Ver detalhes"]})}),R.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(ne,{variant:"success",size:"sm",onClick:()=>y(R.id),children:"Aprovar"}),e.jsx(ne,{variant:"destructive",size:"sm",onClick:()=>b(R.id),children:"Rejeitar"})]})]})]})})]},R.id);return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Solicitações"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie solicitações de médicos e clínicas."})]})}),e.jsxs(de,{className:"rounded-xl",children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Filtros"}),e.jsx(Je,{children:"Use os filtros para refinar sua busca."})]}),e.jsx(ue,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar por nome, e-mail, CRM ou CNPJ",className:"pl-9",value:t,onChange:R=>n(R.target.value)})]}),e.jsx("div",{children:e.jsxs(Nt,{value:a,onValueChange:o,children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:"Status"})}),e.jsxs(yt,{children:[e.jsx(Se,{value:"all",children:"Todos"}),e.jsx(Se,{value:"pending",children:"Pendente"}),e.jsx(Se,{value:"approved",children:"Aprovado"}),e.jsx(Se,{value:"rejected",children:"Rejeitado"})]})]})}),e.jsx("div",{children:e.jsxs(Nt,{value:i,onValueChange:c,children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:"Tipo"})}),e.jsxs(yt,{children:[e.jsx(Se,{value:"all",children:"Todos"}),e.jsx(Se,{value:"medico",children:"Médicos"}),e.jsx(Se,{value:"clinica",children:"Clínicas"})]})]})}),e.jsx("div",{children:e.jsxs(Nt,{value:d,onValueChange:f,children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:"Urgência"})}),e.jsxs(yt,{children:[e.jsx(Se,{value:"all",children:"Todas"}),e.jsx(Se,{value:"alta",children:"Alta"}),e.jsx(Se,{value:"normal",children:"Normal"}),e.jsx(Se,{value:"baixa",children:"Baixa"})]})]})})]})})]}),e.jsxs($n,{defaultValue:"todas",className:"space-y-4",children:[e.jsxs(Ln,{children:[e.jsxs(_t,{value:"todas",className:"gap-2",children:[e.jsx(Lm,{className:"h-4 w-4"})," Todas"]}),e.jsxs(_t,{value:"pendentes",className:"gap-2",children:[e.jsx(Ut,{className:"h-4 w-4"})," Pendentes"]}),e.jsxs(_t,{value:"aprovadas",className:"gap-2",children:[e.jsx(Ra,{className:"h-4 w-4"})," Aprovadas"]}),e.jsxs(_t,{value:"rejeitadas",className:"gap-2",children:[e.jsx(Qn,{className:"h-4 w-4"})," Rejeitadas"]})]}),e.jsx(Dt,{value:"todas",children:u?e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."}):E.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação encontrada."}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:E.map(R=>e.jsx(A,{solicitacao:R},R.id))})}),e.jsx(Dt,{value:"pendentes",children:u?e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."}):k.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação pendente."}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:k.map(R=>e.jsx(A,{solicitacao:R},R.id))})}),e.jsx(Dt,{value:"aprovadas",children:u?e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."}):T.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação aprovada."}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:T.map(R=>e.jsx(A,{solicitacao:R},R.id))})}),e.jsx(Dt,{value:"rejeitadas",children:u?e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."}):P.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação rejeitada."}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:P.map(R=>e.jsx(A,{solicitacao:R},R.id))})})]})]})}function a4(){var _;const{id:t}=Ur(),n=Ts(),{toast:a}=Xt(),[o,i]=x.useState(!1),[c,d]=x.useState(""),[f,u]=x.useState(""),[g,h]=x.useState(!0),[p,v]=x.useState(null);if(x.useEffect(()=>{let S=!0;return(async()=>{try{const k=await Ot.getSolicitacao(t);S&&v(k)}catch{a({title:"Erro ao carregar",description:"Não foi possível carregar a solicitação.",variant:"destructive"}),n("/admin/solicitacoes")}finally{S&&h(!1)}})(),()=>{S=!1}},[t]),g)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ne,{variant:"ghost",onClick:()=>n("/admin/solicitacoes"),children:[e.jsx(Uo,{className:"mr-2 h-4 w-4"}),"Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Carregando..."}),e.jsx("p",{className:"text-muted-foreground",children:"Buscando detalhes da solicitação"})]})]})});if(!p)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ne,{variant:"ghost",onClick:()=>n("/admin/solicitacoes"),children:[e.jsx(Uo,{className:"mr-2 h-4 w-4"}),"Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Solicitação não encontrada"}),e.jsx("p",{className:"text-muted-foreground",children:"Tente novamente mais tarde."})]})]})});const N=async()=>{i(!0);try{await Ot.aprovarSolicitacao(t,c||""),a({title:"Solicitação aprovada!",description:`${(p==null?void 0:p.nome)||"Solicitação"} aprovada com sucesso.`}),n("/admin/solicitacoes")}catch{a({title:"Erro",description:"Não foi possível aprovar a solicitação.",variant:"destructive"})}finally{i(!1)}},w=async()=>{if(!f.trim()){a({title:"Motivo obrigatório",description:"Por favor, informe o motivo da rejeição.",variant:"destructive"});return}i(!0);try{await Ot.rejeitarSolicitacao(t,f.trim()),a({title:"Solicitação rejeitada",description:`A solicitação de ${(p==null?void 0:p.nome)||""} foi rejeitada.`}),n("/admin/solicitacoes")}catch{a({title:"Erro",description:"Não foi possível rejeitar a solicitação.",variant:"destructive"})}finally{i(!1)}},y=S=>{switch(S){case"pending":return e.jsxs(St,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[e.jsx(Bo,{className:"mr-1 h-3 w-3"}),"Aguardando Análise"]});case"approved":return e.jsxs(St,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(Ra,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(St,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(Qn,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},b=(p==null?void 0:p.endereco)||{};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ne,{variant:"ghost",onClick:()=>n("/admin/solicitacoes"),children:[e.jsx(Uo,{className:"mr-2 h-4 w-4"}),"Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Detalhes da Solicitação"}),e.jsx("p",{className:"text-muted-foreground",children:"Análise completa da solicitação de cadastro"})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`app-quick-icon ${p.tipo==="medico"?"info":"primary"} h-12 w-12`,children:p.tipo==="medico"?e.jsx(Gt,{className:"h-6 w-6"}):e.jsx(Ea,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx(he,{className:"text-xl",children:p.nome}),e.jsx(Je,{children:p.tipo==="medico"?"Solicitação de Cadastro Médico":"Solicitação de Cadastro de Clínica"})]})]}),y(p.status)]})}),e.jsxs(ue,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:p.email})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ai,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:p.telefone})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:p.tipo==="medico"?"Especialidade":"CNPJ"}),e.jsx("span",{children:p.especialidade})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:p.tipo==="medico"?"CRM":"Responsável Técnico"}),e.jsx("span",{children:p.crm})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Data de Envio"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[new Date(p.dataEnvio||p.created_at).toLocaleDateString()," às"," ",new Date(p.dataEnvio||p.created_at).toLocaleTimeString()]})]})]})]}),e.jsx(tn,{}),p.tipo==="medico"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Formação Acadêmica"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Instituição de Formação"}),e.jsx("span",{children:p.instituicaoFormacao})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Ano de Formação"}),e.jsx("span",{children:p.anoFormacao})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Residência"}),e.jsx("span",{children:p.residencia})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Instituição da Residência"}),e.jsx("span",{children:p.instituicaoResidencia})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Ano da Residência"}),e.jsx("span",{children:p.anoResidencia})]})]})]}),e.jsx(tn,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Experiência Profissional"}),e.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm",children:p.experiencia})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Motivação"}),e.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm",children:p.motivacao})})]}),e.jsx(tn,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Endereço"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"CEP"}),e.jsx("span",{children:b.cep||"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Logradouro"}),e.jsx("span",{children:b.logradouro||"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Bairro"}),e.jsx("span",{children:b.bairro||"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Cidade/Estado"}),e.jsxs("span",{children:[b.cidade||"—","/",b.estado||"—"]})]})]})]})]})]}),e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(Ps,{className:"h-5 w-5"}),"Documentos Enviados"]}),e.jsxs(Je,{children:[((_=p.documentos)==null?void 0:_.length)||0," documento(s) anexado(s)"]})]}),e.jsx(ue,{children:e.jsx("div",{className:"space-y-3",children:(p.documentos||[]).map((S,E)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ps,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:S.nome}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[S.tamanho," • Enviado em ",new Date(S.dataUpload).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ne,{variant:"outline",size:"sm",children:[e.jsx($r,{className:"mr-2 h-4 w-4"}),"Visualizar"]}),e.jsxs(ne,{variant:"outline",size:"sm",children:[e.jsx(Qa,{className:"mr-2 h-4 w-4"}),"Baixar"]})]})]},E))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[p.status==="pending"&&e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Ações"}),e.jsx(Je,{children:"Aprovar ou rejeitar esta solicitação"})]}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"observacoes",children:"Observações (opcional)"}),e.jsx(pt,{id:"observacoes",placeholder:"Adicione observações sobre esta solicitação...",value:c,onChange:S=>d(S.target.value)})]}),e.jsxs(ne,{variant:"default",className:"w-full",onClick:N,disabled:o,children:[e.jsx(Ra,{className:"mr-2 h-4 w-4"}),o?"Aprovando...":"Aprovar Solicitação"]}),e.jsx(tn,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"motivoRejeicao",children:"Motivo da Rejeição"}),e.jsx(pt,{id:"motivoRejeicao",placeholder:"Informe o motivo da rejeição...",value:f,onChange:S=>u(S.target.value)})]}),e.jsxs(ne,{variant:"destructive",className:"w-full",onClick:w,disabled:o,children:[e.jsx(Qn,{className:"mr-2 h-4 w-4"}),o?"Rejeitando...":"Rejeitar Solicitação"]})]})]}),e.jsxs(de,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Informações do Sistema"})}),e.jsxs(ue,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"ID da Solicitação:"}),e.jsxs("span",{className:"font-mono",children:["#",p.id.toString().padStart(6,"0")]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Tipo:"}),e.jsx("span",{className:"capitalize",children:p.tipo})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Urgência:"}),e.jsx(St,{variant:p.urgencia==="alta"?"destructive":"secondary",className:"text-xs",children:p.urgencia})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"}),y(p.status)]})]})]})]})]})]})}const Cg=[{value:"7",label:"Últimos 7 dias"},{value:"30",label:"Últimos 30 dias"},{value:"90",label:"Últimos 90 dias"}];function r4(t){const n=new Date(t);return n.setHours(0,0,0,0),n}function o4(t){const n=new Date(t);return n.setHours(23,59,59,999),n}function Ku(t){const n=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0");return`${n}-${a}-${o}`}function i4(){var b;const[t,n]=x.useState("7"),[a,o]=x.useState("all"),[i,c]=x.useState(!1),[d,f]=x.useState(null),[u,g]=x.useState([]),{startISO:h,endISO:p,daysList:v,startDate:N,endDate:w}=x.useMemo(()=>{const _=new Date,S=o4(_),E=r4(new Date(_.getTime()-(parseInt(t)-1)*24*60*60*1e3)),k=[];let T=new Date(E);for(;T<=S;)k.push(Ku(T)),T.setDate(T.getDate()+1);return{startISO:E.toISOString(),endISO:S.toISOString(),startDate:E,endDate:S,daysList:k}},[t]);x.useEffect(()=>{let _=!0;async function S(){var E,k,T,P,A,R;c(!0),f(null);try{const $={ordering:"-created_at",limit:100,created_at__gte:h,created_at__lte:p},O=await Ot.getSolicitacoes($);let V=[...Array.isArray(O==null?void 0:O.results)?O.results:Array.isArray(O)?O:[]],J=O==null?void 0:O.next,F=0;for(;J&&F<20;){const M=await le.get(J),W=Array.isArray((E=M.data)==null?void 0:E.results)?M.data.results:Array.isArray(M.data)?M.data:[];V=V.concat(W),J=(k=M.data)==null?void 0:k.next,F++}const K=V.map(M=>({id:M.id,status:String(M.status||"").toLowerCase(),tipo:String(M.tipo||M.type||"").toLowerCase(),createdAt:M.created_at||M.data_envio||M.dataEnvio||null})).filter(M=>a==="all"?!0:M.tipo===a).filter(M=>{const W=new Date(M.createdAt);return M.createdAt&&!isNaN(W)&&W>=N&&W<=w});_&&g(K)}catch($){if(_){const O=(T=$==null?void 0:$.response)==null?void 0:T.status,V=(typeof((P=$==null?void 0:$.response)==null?void 0:P.data)=="string"?null:(R=(A=$==null?void 0:$.response)==null?void 0:A.data)==null?void 0:R.detail)||($==null?void 0:$.message)||"Falha ao carregar relatórios";f(O?`Erro ${O}: ${V}`:V)}}finally{_&&c(!1)}}return S(),()=>{_=!1}},[h,p,a,N,w]);const y=x.useMemo(()=>{const _=u.length,S=u.filter(I=>I.status==="approved").length,E=u.filter(I=>I.status==="rejected").length,k=u.filter(I=>I.status==="pending").length,T=u.filter(I=>I.status==="approved"&&I.tipo==="medico").length,P=u.filter(I=>I.status==="approved"&&I.tipo==="clinica").length,A=u.filter(I=>I.status==="rejected"&&I.tipo==="medico").length,R=u.filter(I=>I.status==="rejected"&&I.tipo==="clinica").length,$=v.map(I=>{const V=u.filter(K=>K.status==="approved"&&Ku(new Date(K.createdAt))===I).length,J=u.filter(K=>K.status==="rejected"&&Ku(new Date(K.createdAt))===I).length,F=V+J;return{ymd:I,aprov:V,rej:J,total:F}}),O=Math.max(1,...$.map(I=>I.total));return{total:_,aprovadas:S,rejeitadas:E,pendentes:k,aprovMed:T,aprovCli:P,rejMed:A,rejCli:R,byDay:$,maxDay:O}},[u,v]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Relatórios"}),e.jsx("p",{className:"text-muted-foreground",children:"Acompanhe métricas de solicitações por período"})]}),e.jsx(de,{children:e.jsxs(pe,{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsx(he,{children:"Filtros"}),e.jsx(Je,{children:"Selecione o período e o tipo de solicitação"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Lm,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(Nt,{value:t,onValueChange:n,children:[e.jsx(vt,{className:"w-[180px]",children:e.jsx(bt,{placeholder:"Período"})}),e.jsx(yt,{children:Cg.map(_=>e.jsx(Se,{value:_.value,children:_.label},_.value))})]})]}),e.jsxs(Nt,{value:a,onValueChange:o,children:[e.jsx(vt,{className:"w-[180px]",children:e.jsx(bt,{placeholder:"Tipo"})}),e.jsxs(yt,{children:[e.jsx(Se,{value:"all",children:"Todos os tipos"}),e.jsx(Se,{value:"medico",children:"Médico"}),e.jsx(Se,{value:"clinica",children:"Clínica"})]})]}),e.jsxs(ne,{variant:"outline",size:"sm",disabled:i,onClick:()=>n(t),children:[e.jsx(wv,{className:"h-4 w-4 mr-2"}),"Atualizar"]})]})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(de,{children:[e.jsx(pe,{className:"pb-2",children:e.jsx(he,{className:"text-sm font-medium",children:"Total no Período"})}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:y.total}),e.jsx("p",{className:"text-xs text-muted-foreground",children:(b=Cg.find(_=>_.value===t))==null?void 0:b.label})]})]}),e.jsxs(de,{children:[e.jsx(pe,{className:"pb-2",children:e.jsxs(he,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Ra,{className:"h-4 w-4 text-green-500"}),"Aprovadas"]})}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:y.aprovadas}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.aprovMed," médicos • ",y.aprovCli," clínicas"]})]})]}),e.jsxs(de,{children:[e.jsx(pe,{className:"pb-2",children:e.jsxs(he,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Qn,{className:"h-4 w-4 text-red-500"}),"Rejeitadas"]})}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:y.rejeitadas}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.rejMed," médicos • ",y.rejCli," clínicas"]})]})]}),e.jsxs(de,{children:[e.jsx(pe,{className:"pb-2",children:e.jsxs(he,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Ut,{className:"h-4 w-4 text-amber-500"}),"Pendentes"]})}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600",children:y.pendentes}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Aguardando revisão"})]})]})]}),e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Série diária (Aprovadas x Rejeitadas)"}),e.jsx(Je,{children:"Distribuição por dia no período filtrado"})]}),e.jsxs(ue,{className:"space-y-2",children:[y.byDay.map(_=>{const S=Math.round(_.aprov/y.maxDay*100),E=Math.round(_.rej/y.maxDay*100);return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-1",children:[e.jsx("span",{children:_.ymd}),e.jsxs("span",{children:[e.jsxs(St,{variant:"outline",className:"mr-1",children:["Aprovadas: ",_.aprov]}),e.jsxs(St,{variant:"outline",children:["Rejeitadas: ",_.rej]})]})]}),e.jsxs("div",{className:"h-3 w-full rounded bg-muted overflow-hidden",children:[e.jsx("div",{className:"h-3 bg-green-500/80 inline-block",style:{width:`${S}%`},title:`Aprovadas: ${_.aprov}`}),e.jsx("div",{className:"h-3 bg-red-500/80 inline-block",style:{width:`${E}%`},title:`Rejeitadas: ${_.rej}`})]})]},_.ymd)}),!y.byDay.length&&e.jsx("div",{className:"text-sm text-muted-foreground",children:"Sem dados no período escolhido."})]})]}),i&&e.jsx(de,{children:e.jsx(ue,{className:"p-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-6 bg-muted rounded w-1/3"}),e.jsx("div",{className:"h-24 bg-muted rounded"})]})})}),d&&e.jsx(de,{children:e.jsx(ue,{className:"p-6",children:e.jsxs("p",{className:"text-sm text-red-600",children:["Erro ao carregar: ",String(d)]})})})]})}function l4(){const[t,n]=x.useState([]),[a,o]=x.useState(!1),[i,c]=x.useState(null),[d,f]=x.useState(null),[u,g]=x.useState(null),[h,p]=x.useState(""),[v,N]=x.useState(""),[w,y]=x.useState(""),[b,_]=x.useState(""),[S,E]=x.useState(""),[k,T]=x.useState(""),[P,A]=x.useState(""),R=x.useMemo(()=>{const O={ordering:"-created_at",limit:20};return h&&(O.action=h),v&&(O.entity=v),w&&(O.status=w),b&&(O.user=b),S&&(O.created_at__gte=new Date(S).toISOString()),k&&(O.created_at__lte=new Date(k).toISOString()),P&&(O.search=P),O},[h,v,w,b,S,k,P]),$=async O=>{var I,V,J,F;o(!0),c(null);try{const K=typeof O=="string"?await le.get(O):await Ot.getAuditoria(O),M=(K==null?void 0:K.data)??K,W=Array.isArray(M==null?void 0:M.results)?M.results:Array.isArray(M)?M:[];n(W),f((M==null?void 0:M.next)||null),g((M==null?void 0:M.previous)||null)}catch(K){const M=(I=K==null?void 0:K.response)==null?void 0:I.status,U=(typeof((V=K==null?void 0:K.response)==null?void 0:V.data)=="string"?null:(F=(J=K==null?void 0:K.response)==null?void 0:J.data)==null?void 0:F.detail)||(K==null?void 0:K.message)||"Falha ao carregar auditoria";c(M?`Erro ${M}: ${U}`:U)}finally{o(!1)}};return x.useEffect(()=>{$(R)},[R]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Auditoria"}),e.jsx("p",{className:"text-muted-foreground",children:"Acompanhe registros de ações do sistema"})]}),e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Filtros"}),e.jsx(Je,{children:"Refine a busca por período, usuário e tipo de ação"})]}),e.jsxs(ue,{className:"grid md:grid-cols-6 gap-3",children:[e.jsx(fe,{type:"date",value:S,onChange:O=>E(O.target.value),placeholder:"Início"}),e.jsx(fe,{type:"date",value:k,onChange:O=>T(O.target.value),placeholder:"Fim"}),e.jsx(fe,{value:b,onChange:O=>_(O.target.value),placeholder:"Usuário (UUID)"}),e.jsxs(Nt,{value:w,onValueChange:O=>y(O==="all"?"":O),children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:"Status"})}),e.jsxs(yt,{children:[e.jsx(Se,{value:"all",children:"Todos"}),e.jsx(Se,{value:"success",children:"Sucesso"}),e.jsx(Se,{value:"fail",children:"Falha"})]})]}),e.jsx(fe,{value:h,onChange:O=>p(O.target.value),placeholder:"Ação (ex: login)"}),e.jsx(fe,{value:v,onChange:O=>N(O.target.value),placeholder:"Entidade (ex: Consulta)"}),e.jsxs("div",{className:"md:col-span-6 flex gap-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx(fe,{value:P,onChange:O=>A(O.target.value),placeholder:"Buscar (ação, entidade, IP, usuário)"})}),e.jsxs(ne,{variant:"outline",onClick:()=>$(R),children:[e.jsx(xn,{className:"mr-2 h-4 w-4"})," Buscar"]}),e.jsxs(ne,{variant:"ghost",onClick:()=>{p(""),N(""),y(""),_(""),E(""),T(""),A("")},children:[e.jsx(wv,{className:"mr-2 h-4 w-4"})," Limpar"]})]})]})]}),e.jsxs(de,{children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(he,{children:"Registros"}),e.jsx(Je,{children:"Resultados paginados (20 por página)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{variant:"outline",size:"sm",disabled:!u||a,onClick:()=>$(u),children:e.jsx(yv,{className:"h-4 w-4"})}),e.jsx(ne,{variant:"outline",size:"sm",disabled:!d||a,onClick:()=>$(d),children:e.jsx(pn,{className:"h-4 w-4"})})]})]}),e.jsxs(ue,{className:"overflow-x-auto",children:[i&&e.jsx("div",{className:"text-red-600 text-sm mb-2",children:i}),e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left border-b",children:[e.jsx("th",{className:"py-2 px-3",children:"Data"}),e.jsx("th",{className:"py-2 px-3",children:"Usuário"}),e.jsx("th",{className:"py-2 px-3",children:"Ação"}),e.jsx("th",{className:"py-2 px-3",children:"Entidade"}),e.jsx("th",{className:"py-2 px-3",children:"ID"}),e.jsx("th",{className:"py-2 px-3",children:"IP"}),e.jsx("th",{className:"py-2 px-3",children:"Status"})]})}),e.jsxs("tbody",{children:[!a&&t.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"py-6 text-center text-muted-foreground",children:"Nenhum registro encontrado."})}),t.map(O=>{var I,V;return e.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[e.jsx("td",{className:"py-2 px-3 whitespace-nowrap",children:new Date(O.created_at).toLocaleString()}),e.jsx("td",{className:"py-2 px-3",children:((I=O.user)==null?void 0:I.username)||((V=O.user)==null?void 0:V.email)||"-"}),e.jsx("td",{className:"py-2 px-3",children:O.action}),e.jsx("td",{className:"py-2 px-3",children:O.entity||"-"}),e.jsx("td",{className:"py-2 px-3",children:O.entity_id||"-"}),e.jsx("td",{className:"py-2 px-3",children:O.ip_address||"-"}),e.jsx("td",{className:"py-2 px-3",children:O.status==="success"?e.jsx(St,{className:"bg-emerald-50 text-emerald-700 border-emerald-200",variant:"outline",children:"Sucesso"}):e.jsx(St,{className:"bg-red-50 text-red-700 border-red-200",variant:"outline",children:"Falha"})})]},O.id)})]})]})]})]})]})}function c4(){const{activeRole:t,toggleRole:n}=_a(),{user:a}=Ta(),o=Ts();if(!((a==null?void 0:a.role)==="medico"||(a==null?void 0:a.is_medico)||(a==null?void 0:a.isMedico)||!1))return null;const c=()=>{n(),o(t==="medico"?"/paciente/perfil":"/medico/dashboard")};return e.jsx(ne,{variant:"outline",size:"sm",onClick:c,className:"flex items-center gap-2 transition-all duration-200 hover:shadow-md",children:t==="medico"?e.jsxs(e.Fragment,{children:[e.jsx(xs,{className:"h-4 w-4"}),e.jsx("span",{children:"Mudar para Paciente"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Gt,{className:"h-4 w-4"}),e.jsx("span",{children:"Mudar para Médico"})]})})}function d4(){const{isAuthenticated:t}=_a();return e.jsxs("div",{className:"flex min-h-screen flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"container flex h-14 items-center",children:[e.jsx("div",{className:"mr-4 flex",children:e.jsx(dt,{to:"/",className:"mr-6 flex items-center space-x-2",children:e.jsx("span",{className:"font-bold",children:"Portal Médico"})})}),e.jsx("div",{className:"flex flex-1 items-center justify-end space-x-2",children:e.jsxs("nav",{className:"flex items-center space-x-2",children:[e.jsx(Pc,{}),t&&e.jsx(c4,{})]})})]})}),e.jsx("main",{className:"flex-1",children:e.jsx("section",{className:"w-full py-12 md:py-24 lg:py-32",children:e.jsx("div",{className:"container px-4 md:px-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-8 text-center",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl",children:"Bem-vindo ao Portal Médico"}),e.jsx("p",{className:"mx-auto max-w-[700px] text-gray-500 md:text-xl dark:text-gray-400",children:"Conectando médicos e pacientes para uma experiência de saúde integrada."}),e.jsx("p",{className:"mx-auto max-w-[700px] text-gray-500 md:text-lg dark:text-gray-400",children:"Nossa plataforma oferece uma solução completa para gerenciamento de consultas, prontuários e histórico médico, facilitando a comunicação entre profissionais de saúde e pacientes."})]}),t?e.jsxs("div",{className:"space-x-4",children:[e.jsx(dt,{to:"/medico/dashboard",children:e.jsx(ne,{children:"Acessar como Médico"})}),e.jsx(dt,{to:"/paciente/perfil",children:e.jsx(ne,{variant:"outline",children:"Acessar como Paciente"})})]}):e.jsx("div",{className:"w-full max-w-md mx-auto mt-8",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx(dt,{to:"/login",className:"w-full",children:e.jsx(ne,{className:"w-full h-12 rounded-xl bg-app-gradient text-white font-semibold shadow-app hover:opacity-90",children:"Entrar"})}),e.jsx(dt,{to:"/registrar",className:"w-full",children:e.jsx(ne,{variant:"outline",className:"w-full h-12 rounded-xl border-slate-300 bg-white/90 text-slate-700 shadow-sm hover:bg-white hover:shadow-md",children:"Criar Conta"})})]})})]})})})})]})}function u4(){var P,A,R,$,O,I,V,J,F,K;const[t,n]=x.useState(!1),[a,o]=x.useState("none"),{toast:i}=Xt();Ts();const{setActiveRole:c,setUserPermissions:d}=_a(),f=((P=ut.getCurrentUser)==null?void 0:P.call(ut))||null,g=`medicoApplicationStatus:${f&&(f.id||f.pk||f.email||f.username)||"anon"}`;x.useEffect(()=>{try{const M=localStorage.getItem("medicoApplicationStatus");M&&!localStorage.getItem(g)&&(localStorage.setItem(g,M),localStorage.removeItem("medicoApplicationStatus"));const W=JSON.parse(localStorage.getItem(g)||"{}");W!=null&&W.status&&o(W.status)}catch{}},[g]);const[h,p]=x.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),v=M=>String(M||"").replace(/\D/g,"").slice(0,7),N=M=>{const{name:W,value:U}=M.target,X=W==="crm"?v(U):U;p({...h,[W]:X})},w=(M,W)=>{p({...h,[M]:W})},y=(M,W)=>{p({...h,documentos:{...h.documentos,[M]:W}})},b=x.useRef(null),_=x.useRef(null),S=x.useRef(null),E=(M,W)=>{p(U=>({...U,documentos:{...U.documentos,[M]:null}})),W!=null&&W.current&&(W.current.value="")},k=async M=>{var W,U,X,ee;if(M.preventDefault(),n(!0),!((W=h.documentos)!=null&&W.diplomaMedicina)){i({title:"Arquivo obrigatório",description:"Anexe o Diploma de Medicina antes de enviar.",variant:"destructive"}),n(!1);return}try{const{solicitacaoService:L}=await Wo(async()=>{const{solicitacaoService:q}=await Promise.resolve().then(()=>X0);return{solicitacaoService:q}},void 0);await L.criarSolicitacaoMedico(h),o("pending"),localStorage.setItem(g,JSON.stringify({status:"pending",at:new Date().toISOString()})),d(q=>({...q,medicoStatus:"pending"})),i({title:"Solicitação enviada!",description:"Sua solicitação para se tornar médico foi enviada para análise."})}catch(L){const q=(U=L==null?void 0:L.response)==null?void 0:U.status;if(q===404)o("pending"),localStorage.setItem(g,JSON.stringify({status:"pending",at:new Date().toISOString(),simulated:!0})),d(te=>({...te,medicoStatus:"pending"})),i({title:"Solicitação registrada (modo teste)",description:"Sem endpoint de backend disponível. Status salvo localmente."});else if(q===405){const te=((X=L==null?void 0:L.config)==null?void 0:X.url)||"(desconhecido)";console.warn("Endpoint não aceita POST (405). URL usada:",te),i({title:"Método não permitido (405)",description:`O backend não aceita POST neste endpoint: ${te}. Verifique a variável de ambiente do endpoint de solicitações do médico ou me informe a rota correta de criação.`,variant:"destructive"})}else{const te=(ee=L==null?void 0:L.response)==null?void 0:ee.data;console.error("[MedicoRegistration] criarSolicitacaoMedico falhou:",L,te),i({title:"Erro ao enviar",description:typeof te=="string"?te:"Não foi possível enviar a solicitação. Verifique os campos e tente novamente.",variant:"destructive"})}}finally{n(!1)}},T=()=>{switch(a){case"pending":return e.jsxs(St,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[e.jsx(Ut,{className:"mr-1 h-3 w-3"}),"Aguardando Aprovação"]});case"approved":return e.jsxs(St,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(Ra,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(St,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(Qn,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}};return a==="approved"?e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gt,{className:"h-5 w-5 text-green-600"}),e.jsx(he,{className:"text-green-700",children:"Parabéns! Você é um médico aprovado"})]}),e.jsx(Je,{children:"Sua solicitação foi aprovada. Agora você pode acessar todas as funcionalidades médicas."})]}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Você agora pode alternar entre os perfis de paciente e médico usando o botão no menu lateral."})}),e.jsx(ne,{className:"w-full",children:"Acessar Área Médica"})]})})]}):a==="pending"?e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gt,{className:"h-5 w-5"}),e.jsx(he,{children:"Solicitação de Cadastro Médico"})]}),T()]}),e.jsx(Je,{children:"Sua solicitação está sendo analisada pela equipe administrativa."})]}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[e.jsx("strong",{children:"Status:"})," Aguardando aprovação",e.jsx("br",{}),e.jsx("strong",{children:"Enviado em:"})," ",new Date().toLocaleDateString(),e.jsx("br",{}),e.jsx("strong",{children:"Tempo estimado:"})," 2-5 dias úteis"]})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Você receberá um email quando sua solicitação for processada. Enquanto isso, você pode continuar usando o sistema como paciente."})]})})]}):a==="rejected"?e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gt,{className:"h-5 w-5"}),e.jsx(he,{children:"Solicitação de Cadastro Médico"})]}),T()]}),e.jsx(Je,{children:"Sua solicitação foi rejeitada. Veja os motivos abaixo."})]}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[e.jsx("strong",{children:"Motivos da rejeição:"}),e.jsx("br",{}),"• Documentação incompleta",e.jsx("br",{}),"• CRM não encontrado no sistema do CFM",e.jsx("br",{}),"• Informações inconsistentes"]})}),e.jsx(ne,{variant:"outline",className:"w-full bg-transparent",onClick:()=>o("none"),children:"Enviar Nova Solicitação"})]})})]}):e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gt,{className:"h-5 w-5"}),e.jsx(he,{children:"Cadastro como Médico"})]}),e.jsx(Je,{children:"Preencha os dados abaixo para solicitar acesso às funcionalidades médicas"})]}),e.jsx(ue,{children:e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Dados Profissionais"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"crm",children:"CRM *"}),e.jsx(fe,{id:"crm",name:"crm",placeholder:"Ex: CRM/SP 123456",value:h.crm,onChange:N,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"especialidade",children:"Especialidade *"}),e.jsxs(Nt,{onValueChange:M=>w("especialidade",M),children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:"Selecione sua especialidade"})}),e.jsxs(yt,{children:[e.jsx(Se,{value:"clinica-geral",children:"Clínica Geral"}),e.jsx(Se,{value:"cardiologia",children:"Cardiologia"}),e.jsx(Se,{value:"dermatologia",children:"Dermatologia"}),e.jsx(Se,{value:"endocrinologia",children:"Endocrinologia"}),e.jsx(Se,{value:"ginecologia",children:"Ginecologia"}),e.jsx(Se,{value:"neurologia",children:"Neurologia"}),e.jsx(Se,{value:"ortopedia",children:"Ortopedia"}),e.jsx(Se,{value:"pediatria",children:"Pediatria"}),e.jsx(Se,{value:"psiquiatria",children:"Psiquiatria"}),e.jsx(Se,{value:"urologia",children:"Urologia"}),e.jsx(Se,{value:"outras",children:"Outras"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Formação Acadêmica"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"instituicaoFormacao",children:"Instituição de Formação *"}),e.jsx(fe,{id:"instituicaoFormacao",name:"instituicaoFormacao",placeholder:"Ex: USP, UNIFESP, etc.",value:h.instituicaoFormacao,onChange:N,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"anoFormacao",children:"Ano de Formação *"}),e.jsx(fe,{id:"anoFormacao",name:"anoFormacao",type:"number",placeholder:"Ex: 2015",min:"1950",max:new Date().getFullYear(),value:h.anoFormacao,onChange:N,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"residencia",children:"Residência Médica"}),e.jsx(fe,{id:"residencia",name:"residencia",placeholder:"Ex: Cardiologia",value:h.residencia,onChange:N})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"instituicaoResidencia",children:"Instituição da Residência"}),e.jsx(fe,{id:"instituicaoResidencia",name:"instituicaoResidencia",placeholder:"Ex: Hospital das Clínicas",value:h.instituicaoResidencia,onChange:N})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"anoResidencia",children:"Ano de Conclusão da Residência"}),e.jsx(fe,{id:"anoResidencia",name:"anoResidencia",type:"number",placeholder:"Ex: 2018",min:"1950",max:new Date().getFullYear(),value:h.anoResidencia,onChange:N})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Experiência Profissional"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"experiencia",children:"Descreva sua experiência profissional *"}),e.jsx(pt,{id:"experiencia",name:"experiencia",placeholder:"Descreva onde trabalhou, por quanto tempo, principais atividades...",className:"min-h-[100px]",value:h.experiencia,onChange:N,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"motivacao",children:"Por que deseja usar nossa plataforma? *"}),e.jsx(pt,{id:"motivacao",name:"motivacao",placeholder:"Conte-nos sobre suas motivações e como pretende usar a plataforma...",className:"min-h-[100px]",value:h.motivacao,onChange:N,required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Documentos Obrigatórios"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Diploma de Medicina *"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var M;return(M=b.current)==null?void 0:M.click()},onDragOver:M=>M.preventDefault(),onDrop:M=>{var U;M.preventDefault();const W=(U=M.dataTransfer.files)==null?void 0:U[0];W&&y("diplomaMedicina",W)},children:[e.jsx(ku,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:(A=h.documentos)!=null&&A.diplomaMedicina?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(R=h.documentos)!=null&&R.diplomaMedicina?h.documentos.diplomaMedicina.name:"PDF, JPG ou PNG até 5MB"}),e.jsx(fe,{ref:b,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:M=>y("diplomaMedicina",M.target.files[0])}),(($=h.documentos)==null?void 0:$.diplomaMedicina)&&e.jsx("div",{className:"mt-2",children:e.jsx(ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>E("diplomaMedicina",b),children:"Remover arquivo"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Certificado de Residência (se aplicável)"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var M;return(M=_.current)==null?void 0:M.click()},onDragOver:M=>M.preventDefault(),onDrop:M=>{var U;M.preventDefault();const W=(U=M.dataTransfer.files)==null?void 0:U[0];W&&y("certificadoResidencia",W)},children:[e.jsx(ku,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:(O=h.documentos)!=null&&O.certificadoResidencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(I=h.documentos)!=null&&I.certificadoResidencia?h.documentos.certificadoResidencia.name:"PDF, JPG ou PNG até 5MB"}),e.jsx(fe,{ref:_,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:M=>y("certificadoResidencia",M.target.files[0])}),((V=h.documentos)==null?void 0:V.certificadoResidencia)&&e.jsx("div",{className:"mt-2",children:e.jsx(ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>E("certificadoResidencia",_),children:"Remover arquivo"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Comprovante de Experiência"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var M;return(M=S.current)==null?void 0:M.click()},onDragOver:M=>M.preventDefault(),onDrop:M=>{var U;M.preventDefault();const W=(U=M.dataTransfer.files)==null?void 0:U[0];W&&y("comprovanteExperiencia",W)},children:[e.jsx(ku,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:(J=h.documentos)!=null&&J.comprovanteExperiencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(F=h.documentos)!=null&&F.comprovanteExperiencia?h.documentos.comprovanteExperiencia.name:"PDF, JPG ou PNG até 5MB"}),e.jsx(fe,{ref:S,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:M=>y("comprovanteExperiencia",M.target.files[0])}),((K=h.documentos)==null?void 0:K.comprovanteExperiencia)&&e.jsx("div",{className:"mt-2",children:e.jsx(ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>E("comprovanteExperiencia",S),children:"Remover arquivo"})})]})]})]})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Importante:"})," Sua solicitação será analisada por nossa equipe administrativa. O processo pode levar de 2 a 5 dias úteis. Você receberá um email com o resultado da análise."]})}),e.jsx(ne,{type:"submit",className:"w-full",disabled:t,children:t?"Enviando solicitação...":"Enviar Solicitação"})]})})]})}function Gu(){const{activeRole:t}=_a(),n=ms(),a=n.pathname.startsWith("/paciente/"),o=n.pathname.startsWith("/medico/"),{toast:i}=Xt(),[c,d]=x.useState(!0),[f,u]=x.useState(!1),[g,h]=x.useState(null),[p,v]=x.useState(null),[N,w]=x.useState(null),[y,b]=x.useState({first_name:"",last_name:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:""}),[_,S]=x.useState({atual:"",nova:"",confirmar:""}),[E,k]=x.useState(!1),[T,P]=x.useState({email:!0,lembretes:!0,exames:!0,push:!1}),[A,R]=x.useState(!1),[$,O]=x.useState({tipo_sanguineo:"",alergias:"",condicoes_cronicas:"",contato_emergencia_nome:"",contato_emergencia_telefone:"",plano_saude:"",numero_carteirinha:"",peso:"",altura:""}),[I,V]=x.useState(!1),J=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}],[F,K]=x.useState(!1),[M,W]=x.useState(null),[U,X]=x.useState(!1),[ee,L]=x.useState(!1),{ephemeralCertFile:q,setEphemeralCertFile:te,ephemeralCertPassword:B,setEphemeralCertPassword:z}=_a(),[G,Z]=x.useState(q||null),[ae,xe]=x.useState(B||"");x.useEffect(()=>{te(G)},[G]),x.useEffect(()=>{z(ae)},[ae]);const[ve,Re]=x.useState(null),[Pe,Ye]=x.useState("Assinatura de documento médico"),[at,mt]=x.useState("Hospital"),[jt,Me]=x.useState(!1),Ie=async()=>{var Ee,Fe;if(!ve){i.error("Selecione um PDF para assinar.");return}if(!G){i.error("Selecione um certificado (.pfx/.p12) para assinar o PDF.");return}if(!(ae&&ae.trim())){i.error("Informe a senha do certificado (.pfx/.p12).");return}const ke=new FormData;ke.append("file",ve),ke.append("pfx",G),ke.append("certificado",G),ke.append("pkcs12",G),ke.append("pfx_password",ae.trim()),ke.append("senha",ae.trim()),ke.append("password",ae.trim()),ke.append("no_persist","true"),ke.append("ephemeral","true"),Pe&&ke.append("reason",Pe),at&&ke.append("location",at);try{Me(!0);const{filename:ft,blob:$e}=await tt.signDocumento(ke,{reason:Pe,location:at}),We=window.URL.createObjectURL($e),Tt=document.createElement("a");Tt.href=We,Tt.download=ft||"documento_assinado.pdf",document.body.appendChild(Tt),Tt.click(),Tt.remove(),window.URL.revokeObjectURL(We),i.success("Documento assinado com sucesso.")}catch(ft){const $e=((Fe=(Ee=ft==null?void 0:ft.response)==null?void 0:Ee.data)==null?void 0:Fe.message)||(ft==null?void 0:ft.message)||"Falha ao assinar o documento.";i.error($e)}finally{Me(!1)}};x.useEffect(()=>{let ke=!0;return(async()=>{var Ee;try{d(!0);const[Fe,ft]=await Promise.allSettled([Ct.getPerfil(),Ct.getPacienteDoUsuario()]);if(!ke)return;const $e=Fe.status==="fulfilled"?Fe.value:null,We=ft.status==="fulfilled"?ft.value:null;v($e),w(We),b(Tt=>({...Tt,first_name:($e==null?void 0:$e.first_name)||"",last_name:($e==null?void 0:$e.last_name)||"",email:($e==null?void 0:$e.email)||"",cpf:($e==null?void 0:$e.cpf)||"",telefone:($e==null?void 0:$e.telefone)||"",data_nascimento:($e==null?void 0:$e.data_nascimento)||"",endereco:typeof($e==null?void 0:$e.endereco)=="string"?$e.endereco:$e!=null&&$e.endereco?`${$e.endereco.logradouro||""} ${$e.endereco.numero||""} ${$e.endereco.bairro||""} ${$e.endereco.cidade||""} ${$e.endereco.estado||""}`.trim():""})),O({tipo_sanguineo:(We==null?void 0:We.tipo_sanguineo)||"",alergias:(We==null?void 0:We.alergias)||"",condicoes_cronicas:(We==null?void 0:We.condicoes_cronicas)||"",contato_emergencia_nome:(We==null?void 0:We.contato_emergencia_nome)||"",contato_emergencia_telefone:(We==null?void 0:We.contato_emergencia_telefone)||"",plano_saude:(We==null?void 0:We.plano_saude)||"",numero_carteirinha:(We==null?void 0:We.numero_carteirinha)||"",peso:(We==null?void 0:We.peso)??"",altura:(We==null?void 0:We.altura)??""});try{const Tt=localStorage.getItem("notification_prefs");if(Tt){const _e=JSON.parse(Tt);P(me=>({...me,..._e}))}}catch{}}catch(Fe){const ft=(Ee=Fe==null?void 0:Fe.response)==null?void 0:Ee.status;h(ft===401?"Sessão inválida. Faça login novamente.":"Não foi possível carregar os dados.")}finally{ke&&d(!1)}})(),()=>{ke=!1}},[]),x.useEffect(()=>{o&&At()},[o]);const Oe=ke=>{const{name:Ee,value:Fe}=ke.target;b(ft=>({...ft,[Ee]:Fe}))},De=ke=>{const{name:Ee,value:Fe}=ke.target;O(ft=>({...ft,[Ee]:Fe}))};async function ge(){var ke;u(!0);try{const Ee={first_name:y.first_name||"",last_name:y.last_name||"",telefone:y.telefone||"",data_nascimento:y.data_nascimento||"",endereco:y.endereco||""},Fe=await Ct.atualizarPerfil(Ee);v(Fe),i({title:"Perfil atualizado",description:"Suas informações pessoais foram salvas."})}catch(Ee){const Fe=(ke=Ee==null?void 0:Ee.response)!=null&&ke.data?JSON.stringify(Ee.response.data):"Não foi possível salvar o perfil.";i({title:"Erro ao salvar",description:Fe,variant:"destructive"})}finally{u(!1)}}async function it(){var ke;V(!0);try{const Ee=await Ct.atualizarPaciente($);w(Fe=>({...Fe||{},...Ee||{}})),i({title:"Informações do paciente salvas",description:"Dados atualizados com sucesso."})}catch(Ee){const Fe=(ke=Ee==null?void 0:Ee.response)!=null&&ke.data?JSON.stringify(Ee.response.data):"Não foi possível salvar os dados do paciente.";i({title:"Erro ao salvar",description:Fe,variant:"destructive"})}finally{V(!1)}}const lt=async()=>{var ke,Ee;if(!_.nova||_.nova.length<6){i({title:"Senha inválida",description:"A nova senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}if(_.nova!==_.confirmar){i({title:"Confirmação incorreta",description:"A confirmação da nova senha não confere.",variant:"destructive"});return}k(!0);try{await le.post("/auth/change-password/",{old_password:_.atual,new_password:_.nova}),S({atual:"",nova:"",confirmar:""}),i({title:"Senha alterada",description:"Sua senha foi atualizada com sucesso."})}catch(Fe){const $e=((ke=Fe==null?void 0:Fe.response)==null?void 0:ke.status)===404?"Endpoint de alteração de senha não encontrado. Verifique o backend.":(Ee=Fe==null?void 0:Fe.response)!=null&&Ee.data?JSON.stringify(Fe.response.data):"Não foi possível alterar a senha.";i({title:"Erro ao alterar senha",description:$e,variant:"destructive"})}finally{k(!1)}},et=ke=>{P(Ee=>({...Ee,[ke]:!Ee[ke]}))},It=()=>{R(!0);try{localStorage.setItem("notification_prefs",JSON.stringify(T)),i({title:"Preferências salvas",description:"Suas preferências de notificação foram atualizadas."})}finally{R(!1)}};async function At(){X(!0);try{const ke=await tt.getCertificadoInfo();W(ke||null)}catch{W(null)}finally{X(!1)}}async function Zt(){var Fe,ft;if(!G){i({title:"Selecione um arquivo",description:"Escolha um arquivo .pfx, .p12, .crt, .cer ou .pem.",variant:"destructive"});return}const ke=15*1024*1024;if(G.size>ke){i({title:"Arquivo muito grande",description:"O limite é de 15MB.",variant:"destructive"});return}const Ee=new FormData;Ee.append("file",G),Ee.append("certificado",G),Ee.append("arquivo",G),Ee.append("pfx",G),ae&&(Ee.append("password",ae),Ee.append("senha",ae),Ee.append("passphrase",ae),Ee.append("pfx_password",ae)),Ee.append("no_persist","true"),Ee.append("ephemeral","true"),Ee.append("save_public_only","true"),L(!0);try{const $e=await tt.uploadCertificado(Ee);W($e||null);const We=$e!=null&&$e.public_cert_saved?"Certificado público extraído e salvo para validações. O PFX não foi armazenado.":"Certificado processado. O PFX não foi armazenado.";i({title:"Processamento concluído",description:We}),Z(null)}catch($e){const We=(Fe=$e==null?void 0:$e.response)==null?void 0:Fe.status,Tt=(ft=$e==null?void 0:$e.response)==null?void 0:ft.data;i({title:"Falha no processamento",description:We===404?"Endpoint de upload não encontrado no backend. Configure a variável VITE_MEDICO_CERTIFICADO_ENDPOINT.":typeof Tt=="string"?Tt:"Não foi possível processar o certificado.",variant:"destructive"})}finally{L(!1),xe("")}}const xt=(()=>{const ke=(M==null?void 0:M.valid_to)||(M==null?void 0:M.validade_fim)||(M==null?void 0:M.validade)||(M==null?void 0:M.valid_to_date);if(!ke)return null;const Ee=new Date(ke);return Math.ceil((Ee-new Date)/(1e3*60*60*24))})(),Rt=!!(M&&(M.exists??M.id??M.valid_to??M.subject)),[kt,Yt]=x.useState({nome:"",crm:"",especialidade:"",telefone:"",endereco:""}),[Us,rs]=x.useState(!1);x.useEffect(()=>{o&&(async()=>{var ke,Ee,Fe,ft,$e,We,Tt,_e,me,Mt,Ae,cs;try{const be=await tt.getPerfil();if(!be)return;const es=(be==null?void 0:be.nome)||((ke=be==null?void 0:be.user)!=null&&ke.first_name||(Ee=be==null?void 0:be.user)!=null&&Ee.last_name?`${((Fe=be==null?void 0:be.user)==null?void 0:Fe.first_name)||""} ${((ft=be==null?void 0:be.user)==null?void 0:ft.last_name)||""}`.trim():(($e=be==null?void 0:be.user)==null?void 0:$e.nome)||((We=be==null?void 0:be.user)==null?void 0:We.name)||"")||"",ct=(be==null?void 0:be.crm)||(be==null?void 0:be.crm_numero)||(be==null?void 0:be.crm_registro)||((Tt=be==null?void 0:be.user)==null?void 0:Tt.crm)||"";let qt="";typeof(be==null?void 0:be.especialidade)=="string"?qt=be.especialidade:be!=null&&be.especialidade&&typeof be.especialidade=="object"&&(qt=be.especialidade.nome||be.especialidade.label||be.especialidade.titulo||"");const Vt=(be==null?void 0:be.telefone)||(be==null?void 0:be.celular)||((_e=be==null?void 0:be.user)==null?void 0:_e.phone)||((me=be==null?void 0:be.user)==null?void 0:me.telefone)||((Mt=be==null?void 0:be.contato)==null?void 0:Mt.telefone)||"";let gs=(be==null?void 0:be.endereco)||((Ae=be==null?void 0:be.user)==null?void 0:Ae.endereco)||((cs=be==null?void 0:be.clinica)==null?void 0:cs.endereco)||"",an="";typeof gs=="string"?an=gs:gs&&typeof gs=="object"&&(an=`${gs.logradouro||gs.rua||""} ${gs.numero||""} ${gs.bairro||""} ${gs.cidade||""} ${gs.estado||""}`.trim()),Yt({nome:es,crm:ct,especialidade:qt,telefone:Vt,endereco:an})}catch{}})()},[o]);const os=ke=>{const{name:Ee,value:Fe}=ke.target;Yt(ft=>({...ft,[Ee]:Fe}))},Bn=async()=>{var ke;rs(!0);try{const Ee={telefone:kt.telefone||"",endereco:kt.endereco||"",especialidade:kt.especialidade||""},Fe=await tt.updatePerfilMedico(Ee);if(Fe){const ft=Fe.telefone||Fe.celular||kt.telefone;let $e=Fe.endereco||kt.endereco;$e&&typeof $e=="object"&&($e=`${$e.logradouro||$e.rua||""} ${$e.numero||""} ${$e.bairro||""} ${$e.cidade||""} ${$e.estado||""}`.trim());let We=kt.especialidade;typeof(Fe==null?void 0:Fe.especialidade)=="string"?We=Fe.especialidade:Fe!=null&&Fe.especialidade&&typeof Fe.especialidade=="object"&&(We=Fe.especialidade.nome||Fe.especialidade.label||Fe.especialidade.titulo||We),Yt(Tt=>({...Tt,telefone:ft,endereco:$e,especialidade:We}))}i({title:"Dados do médico atualizados",description:"Telefone, endereço e especialidade foram salvos."})}catch(Ee){const Fe=(ke=Ee==null?void 0:Ee.response)!=null&&ke.data?JSON.stringify(Ee.response.data):"Não foi possível salvar os dados do médico.";i({title:"Erro ao salvar",description:Fe,variant:"destructive"})}finally{rs(!1)}};return e.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configurações"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas informações pessoais e preferências da conta"})]}),a&&e.jsx(nn,{tabs:J,basePath:"/paciente"}),!a&&t==="secretaria"&&!(N!=null&&N.id)&&e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Criar perfil de paciente"}),e.jsx(Je,{children:"Para acessar as funcionalidades de paciente com esta conta, crie seu perfil de paciente."})]}),e.jsxs(ue,{className:"flex items-center justify-between gap-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum perfil de paciente encontrado para esta conta."}),e.jsx(ne,{onClick:async()=>{var ke;K(!0);try{const Ee=await Ct.garantirPacienteDoUsuario({});w(Ee),i({title:"Perfil de paciente criado",description:"Você já pode acessar a área do paciente."})}catch(Ee){const Fe=(ke=Ee==null?void 0:Ee.response)!=null&&ke.data?JSON.stringify(Ee.response.data):"Não foi possível criar o perfil.";i({title:"Erro",description:Fe,variant:"destructive"})}finally{K(!1)}},disabled:F,children:F?"Criando...":"Criar meu perfil de paciente"})]})]}),e.jsxs($n,{defaultValue:"perfil",className:"space-y-6",children:[e.jsxs(Ln,{className:`grid w-full ${o?"grid-cols-5":"grid-cols-3"}`,children:[e.jsxs(_t,{value:"perfil",className:"flex items-center gap-2",children:[e.jsx(xs,{className:"h-4 w-4"}),"Perfil"]}),e.jsxs(_t,{value:"seguranca",className:"flex items-center gap-2",children:[e.jsx(IC,{className:"h-4 w-4"}),"Segurança"]}),e.jsxs(_t,{value:"notificacoes",className:"flex items-center gap-2",children:[e.jsx(_C,{className:"h-4 w-4"}),"Notificações"]}),o&&e.jsxs(e.Fragment,{children:[e.jsxs(_t,{value:"certificado",className:"flex items-center gap-2",children:[e.jsx(Vo,{className:"h-4 w-4"}),"Certificado Digital"]}),e.jsxs(_t,{value:"dados_medico",className:"flex items-center gap-2",children:[e.jsx(Gt,{className:"h-4 w-4"}),"Dados do Médico"]})]})]}),e.jsx(Dt,{value:"perfil",children:e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Informações Pessoais"}),e.jsx(Je,{children:"Atualize suas informações pessoais e de contato"})]}),e.jsx(ue,{className:"space-y-6",children:c?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):g?e.jsx("p",{className:"text-destructive",children:g}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"first_name",children:"Nome"}),e.jsx(fe,{id:"first_name",name:"first_name",value:y.first_name,onChange:Oe})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"last_name",children:"Sobrenome"}),e.jsx(fe,{id:"last_name",name:"last_name",value:y.last_name,onChange:Oe})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"email",children:"Email"}),e.jsx(fe,{id:"email",name:"email",value:y.email,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"cpf",children:"CPF"}),e.jsx(fe,{id:"cpf",name:"cpf",value:y.cpf,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"telefone",children:"Telefone"}),e.jsx(fe,{id:"telefone",name:"telefone",value:y.telefone,onChange:Oe})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"data_nascimento",children:"Data de Nascimento"}),e.jsx(fe,{id:"data_nascimento",name:"data_nascimento",type:"date",value:y.data_nascimento||"",onChange:Oe})]})]}),e.jsx(tn,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"endereco",children:"Endereço"}),e.jsx(pt,{id:"endereco",name:"endereco",placeholder:"Rua, número, bairro, cidade, estado",value:y.endereco,onChange:Oe})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(ne,{onClick:ge,disabled:f,children:f?"Salvando...":"Salvar Alterações"})}),e.jsx(tn,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Mais Informações do Paciente"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Esses dados ajudam médicos a entender melhor seu histórico."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"tipo_sanguineo",children:"Tipo Sanguíneo"}),e.jsx(fe,{id:"tipo_sanguineo",name:"tipo_sanguineo",value:$.tipo_sanguineo,onChange:De,placeholder:"Ex.: O+, A-, B+, AB+"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"plano_saude",children:"Plano de Saúde"}),e.jsx(fe,{id:"plano_saude",name:"plano_saude",value:$.plano_saude,onChange:De})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"numero_carteirinha",children:"Número da Carteirinha"}),e.jsx(fe,{id:"numero_carteirinha",name:"numero_carteirinha",value:$.numero_carteirinha,onChange:De})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"contato_emergencia_nome",children:"Contato de Emergência (Nome)"}),e.jsx(fe,{id:"contato_emergencia_nome",name:"contato_emergencia_nome",value:$.contato_emergencia_nome,onChange:De})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"contato_emergencia_telefone",children:"Contato de Emergência (Telefone)"}),e.jsx(fe,{id:"contato_emergencia_telefone",name:"contato_emergencia_telefone",value:$.contato_emergencia_telefone,onChange:De})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"peso",children:"Peso (kg)"}),e.jsx(fe,{id:"peso",name:"peso",type:"number",step:"0.1",value:$.peso,onChange:De})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"altura",children:"Altura (cm)"}),e.jsx(fe,{id:"altura",name:"altura",type:"number",step:"0.1",value:$.altura,onChange:De})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(ce,{htmlFor:"alergias",children:"Alergias"}),e.jsx(pt,{id:"alergias",name:"alergias",rows:3,value:$.alergias,onChange:De,placeholder:"Ex.: Dipirona, poeira, frutos do mar"})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(ce,{htmlFor:"condicoes_cronicas",children:"Condições Crônicas"}),e.jsx(pt,{id:"condicoes_cronicas",name:"condicoes_cronicas",rows:3,value:$.condicoes_cronicas,onChange:De,placeholder:"Ex.: Hipertensão, Diabetes, Asma"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(ne,{onClick:it,disabled:I,variant:"outline",children:I?"Salvando...":"Salvar Informações do Paciente"})})]})]})})]})}),e.jsx(Dt,{value:"seguranca",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Alterar Senha"}),e.jsx(Je,{children:"Mantenha sua conta segura com uma senha forte"})]}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"senha-atual",children:"Senha Atual"}),e.jsx(fe,{id:"senha-atual",type:"password",value:_.atual,onChange:ke=>S(Ee=>({...Ee,atual:ke.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"nova-senha",children:"Nova Senha"}),e.jsx(fe,{id:"nova-senha",type:"password",value:_.nova,onChange:ke=>S(Ee=>({...Ee,nova:ke.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"confirmar-senha",children:"Confirmar Nova Senha"}),e.jsx(fe,{id:"confirmar-senha",type:"password",value:_.confirmar,onChange:ke=>S(Ee=>({...Ee,confirmar:ke.target.value}))})]}),e.jsx(ne,{onClick:lt,disabled:E,children:E?"Alterando...":"Alterar Senha"})]})]}),e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Autenticação de Dois Fatores"}),e.jsx(Je,{children:"Adicione uma camada extra de segurança à sua conta"})]}),e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Autenticação de Dois Fatores"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Não configurada"})]}),e.jsx(ne,{variant:"outline",disabled:!0,children:"Em breve"})]})})]})]})}),e.jsx(Dt,{value:"notificacoes",children:e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Preferências de Notificação"}),e.jsx(Je,{children:"Configure como você deseja receber notificações"})]}),e.jsxs(ue,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificações por Email"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizações importantes por email"})]}),e.jsx(ne,{variant:"outline",size:"sm",onClick:()=>et("email"),children:T.email?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Lembretes de Consulta"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba lembretes antes das consultas"})]}),e.jsx(ne,{variant:"outline",size:"sm",onClick:()=>et("lembretes"),children:T.lembretes?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Resultados de Exames"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Seja notificado quando exames ficarem prontos"})]}),e.jsx(ne,{variant:"outline",size:"sm",onClick:()=>et("exames"),children:T.exames?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificações Push"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificações no navegador"})]}),e.jsx(ne,{variant:"outline",size:"sm",onClick:()=>et("push"),children:T.push?"Ativado":"Desativado"})]})]}),e.jsx(ne,{onClick:It,disabled:A,children:A?"Salvando...":"Salvar Preferências"})]})]})}),o&&e.jsx(Dt,{value:"certificado",children:e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Configuração de Certificado Digital"}),e.jsx(Je,{children:"Envie seu certificado (.pfx/.p12 ou .crt/.cer/.pem). O arquivo é enviado com segurança ao servidor."})]}),e.jsxs(ue,{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-lg border p-4 bg-muted/30",children:[U?e.jsx("p",{className:"text-muted-foreground",children:"Carregando informações do certificado..."}):Rt?e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:"Certificado cadastrado"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Titular: ",(M==null?void 0:M.subject_name)||(M==null?void 0:M.subject)||(M==null?void 0:M.nome)||"—"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Emitente: ",(M==null?void 0:M.issuer)||(M==null?void 0:M.issuer_name)||(M==null?void 0:M.emitente)||"—"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Validade: ",(M==null?void 0:M.valid_from)||(M==null?void 0:M.validade_inicio)||"?"," — ",(M==null?void 0:M.valid_to)||(M==null?void 0:M.validade_fim)||"?"]}),xt!=null&&e.jsx("p",{className:`text-sm ${xt<=0?"text-destructive":xt<30?"text-amber-600":"text-emerald-600"}`,children:xt<=0?"Expirado":`Expira em ${xt} dia(s)`})]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum certificado cadastrado para este médico."}),e.jsx("div",{className:"mt-3",children:e.jsx(ne,{variant:"outline",size:"sm",onClick:At,disabled:U,children:U?"Validando...":"Validar agora"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Arquivo do certificado"}),e.jsx(fe,{type:"file",accept:".pfx,.p12,.crt,.cer,.pem",onChange:ke=>{var Ee;return Z(((Ee=ke.target.files)==null?void 0:Ee[0])||null)}}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Aceita: .pfx, .p12, .crt, .cer, .pem. Tamanho máximo: 15MB."}),G&&e.jsxs("p",{className:"text-xs",children:["Selecionado: ",G.name," (",Math.ceil(G.size/1024)," KB)"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Senha do certificado (se aplicável)"}),e.jsx(Yl,{delayDuration:0,children:e.jsxs(Jl,{children:[e.jsx(Ql,{asChild:!0,children:e.jsx(rm,{size:16,className:"text-muted-foreground cursor-help"})}),e.jsx(Jo,{side:"top",children:"Certificados PKCS#12 (.pfx/.p12) contendo chave privada. O arquivo não é persistido."})]})}),e.jsx(fe,{type:"password",value:ae,onChange:ke=>xe(ke.target.value),placeholder:"Senha do .pfx (opcional)"}),(!ae||!ae.trim())&&e.jsx("p",{className:"text-xs text-red-600",children:"Senha obrigatória para assinatura."}),ae&&ae.trim().length<4&&e.jsx("p",{className:"text-xs text-yellow-600",children:"A senha parece curta. Verifique se está correta."}),ae&&ae.trim()&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Dica: se a senha falhar, confirme maiúsculas/minúsculas, layout do teclado e se o certificado corresponde ao seu CRM."}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Aceitamos certificados no formato PKCS#12 (.pfx/.p12). A senha não é persistida e é usada somente em memória durante a assinatura."})]}),e.jsx("div",{className:"flex gap-2 justify-end",children:e.jsx(ne,{onClick:Zt,disabled:ee,children:ee?"Enviando...":"Enviar Certificado"})}),e.jsx(tn,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Arquivo PDF para assinar"}),e.jsx(fe,{type:"file",accept:".pdf",onChange:ke=>{var Ee;return Re(((Ee=ke.target.files)==null?void 0:Ee[0])||null)}}),ve&&e.jsxs("p",{className:"text-xs",children:["Selecionado: ",ve.name," (",Math.ceil(ve.size/1024)," KB)"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Motivo (opcional)"}),e.jsx(fe,{value:Pe,onChange:ke=>Ye(ke.target.value),placeholder:"Ex.: Assinatura de prescrição"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Local (opcional)"}),e.jsx(fe,{value:at,onChange:ke=>mt(ke.target.value),placeholder:"Ex.: São Paulo - SP"})]})]}),e.jsx("div",{className:"flex gap-2 justify-end",children:e.jsx(ne,{onClick:Ie,disabled:jt||!ve,children:jt?"Assinando...":"Assinar e Baixar"})})]})]})]})}),o&&e.jsx(Dt,{value:"dados_medico",children:e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Dados do Médico"}),e.jsx(Je,{children:"Atualize seu telefone, endereço e especialidade."})]}),e.jsxs(ue,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Nome"}),e.jsx(fe,{value:kt.nome||"",disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"CRM"}),e.jsx(fe,{value:kt.crm||"",disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"especialidade",children:"Especialidade"}),e.jsx(fe,{id:"especialidade",name:"especialidade",value:kt.especialidade||"",onChange:os})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"telefone",children:"Telefone"}),e.jsx(fe,{id:"telefone",name:"telefone",value:kt.telefone||"",onChange:os})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(ce,{htmlFor:"endereco",children:"Endereço"}),e.jsx(pt,{id:"endereco",name:"endereco",value:kt.endereco||"",onChange:os})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("p",{children:"Nome e CRM são gerenciados pela administração."}),e.jsx("div",{className:"flex gap-2",children:e.jsx(ne,{onClick:Bn,disabled:Us,children:Us?"Salvando...":"Salvar Dados do Médico"})})]})]})]})}),a&&e.jsx(Dt,{value:"medico",children:e.jsx(u4,{})})]})]})})}function m4({children:t}){const{user:n,isAuthenticated:a,loading:o}=Ta(),i=ms(),{userPermissions:c}=_a();if(o)return null;if(!a)return e.jsx($t,{to:"/login",state:{from:i},replace:!0});const d=(n==null?void 0:n.role)||(n==null?void 0:n.tipo),f=(c==null?void 0:c.medicoStatus)==="approved";return d!=="medico"&&d!=="admin"&&!f?d==="paciente"?e.jsx($t,{to:"/paciente/perfil",replace:!0}):d==="clinica"?e.jsx($t,{to:"/clinica/dashboard",replace:!0}):e.jsx($t,{to:"/",replace:!0}):t}function f4({children:t}){const{user:n,isAuthenticated:a,loading:o}=Ta(),i=ms();if(o)return null;if(!a)return e.jsx($t,{to:"/login",state:{from:i},replace:!0});const c=(n==null?void 0:n.role)||(n==null?void 0:n.tipo);return c!=="clinica"&&c!=="admin"?c==="paciente"?e.jsx($t,{to:"/paciente/perfil",replace:!0}):c==="medico"?e.jsx($t,{to:"/medico/dashboard",replace:!0}):e.jsx($t,{to:"/",replace:!0}):t}function p4({children:t}){const{user:n,isAuthenticated:a,loading:o}=Ta(),i=ms(),[c,d]=x.useState(!1),[f,u]=x.useState(!1);if(x.useEffect(()=>{let h=!0;async function p(){if(!a)return;if(((n==null?void 0:n.role)||(n==null?void 0:n.tipo))==="secretaria"){d(!0);try{const N=await Ct.getPacienteDoUsuario();if(!h)return;u(!!(N!=null&&N.id))}catch{if(!h)return;u(!1)}finally{h&&d(!1)}}}return p(),()=>{h=!1}},[a,n==null?void 0:n.role,n==null?void 0:n.tipo]),o||c)return null;if(!a)return e.jsx($t,{to:"/login",state:{from:i},replace:!0});const g=(n==null?void 0:n.role)||(n==null?void 0:n.tipo);return g!=="paciente"&&g!=="admin"?g==="secretaria"&&f?t:g==="medico"?e.jsx($t,{to:"/medico/dashboard",replace:!0}):g==="clinica"?e.jsx($t,{to:"/clinica/dashboard",replace:!0}):e.jsx($t,{to:"/",replace:!0}):t}function h4({children:t}){const{user:n,isAuthenticated:a,loading:o}=Ta(),i=ms();if(o)return null;if(!a)return e.jsx($t,{to:"/login",state:{from:i},replace:!0});const c=(n==null?void 0:n.role)||(n==null?void 0:n.tipo);return c!=="admin"?c==="paciente"?e.jsx($t,{to:"/paciente/perfil",replace:!0}):c==="medico"?e.jsx($t,{to:"/medico/dashboard",replace:!0}):c==="clinica"?e.jsx($t,{to:"/clinica/dashboard",replace:!0}):e.jsx($t,{to:"/",replace:!0}):t}const x4=t=>{var a;const n=o=>(o==null?void 0:o.nome)||(o==null?void 0:o.titulo)||(o==null?void 0:o.name)||(o==null?void 0:o.descricao)||(o==null?void 0:o.description);if(Array.isArray(t==null?void 0:t.especialidades)&&t.especialidades.length){const o=t.especialidades.map(i=>n(i)||(typeof i=="string"?i:null)).filter(Boolean);if(o.length)return o.join(", ")}if(t!=null&&t.especialidade&&typeof t.especialidade=="object"){const o=n(t.especialidade);if(o)return o}return typeof(t==null?void 0:t.especialidade)=="string"&&t.especialidade.trim()?t.especialidade.trim():typeof(t==null?void 0:t.especialidade_nome)=="string"&&t.especialidade_nome.trim()?t.especialidade_nome.trim():typeof(t==null?void 0:t.specialty)=="string"&&t.specialty.trim()?t.specialty.trim():typeof(t==null?void 0:t.area)=="string"&&t.area.trim()?t.area.trim():typeof((a=t==null?void 0:t.user)==null?void 0:a.especialidade)=="string"&&t.user.especialidade.trim()?t.user.especialidade.trim():null};function g4(){const[t,n]=x.useState([]),[a,o]=x.useState(!0),[i,c]=x.useState(!1),[d,f]=x.useState(null),{toast:u}=Xt(),g=Ts(),[h,p]=x.useState({medico:"",data:"",hora:"",modalidade:"online",local:"",tipo:"primeira_consulta",motivo:"",observacoes:""}),[v,N]=x.useState([]),w=T=>T?typeof T=="string"?T:[T.logradouro,T.numero,T.bairro,T.cidade,T.estado].filter(Boolean).join(" ").trim()||null:null,y=T=>{var P,A,R;return(T==null?void 0:T.local_atendimento)||(T==null?void 0:T.local)||w(T==null?void 0:T.endereco)||w((P=T==null?void 0:T.user)==null?void 0:P.endereco)||w((A=T==null?void 0:T.clinica)==null?void 0:A.endereco)||((R=T==null?void 0:T.clinica)==null?void 0:R.nome)||null},b=(T,P)=>{const A=[],R=O=>{if(!O)return;const[I,V]=String(O).split(":");I!=null&&V!=null&&A.push(`${String(I).padStart(2,"0")}:${String(V).padStart(2,"0")}`)},$=(O,I)=>{const V=new Date(O),J=new Date(I),F=new Date(V);for(;F<J;){const K=String(F.getHours()).padStart(2,"0"),M=String(F.getMinutes()).padStart(2,"0");A.push(`${K}:${M}`),F.setMinutes(F.getMinutes()+30)}};return T.forEach(O=>{if(O!=null&&O.data_hora_inicio&&(O!=null&&O.data_hora_fim)){$(O.data_hora_inicio,O.data_hora_fim);return}if(O!=null&&O.inicio&&(O!=null&&O.fim)){$(O.inicio,O.fim);return}if(O!=null&&O.start&&(O!=null&&O.end)){$(O.start,O.end);return}if(Array.isArray(O==null?void 0:O.horarios)){O.horarios.forEach(I=>{R(typeof I=="string"?I.slice(0,5):(I==null?void 0:I.hora)||I)});return}if(O!=null&&O.hora){R(String(O.hora).slice(0,5));return}if(O!=null&&O.horario){R(String(O.horario).slice(0,5));return}if(O!=null&&O.data_hora){const I=new Date(O.data_hora);if(I.toISOString().slice(0,10)===P){const J=String(I.getHours()).padStart(2,"0"),F=String(I.getMinutes()).padStart(2,"0");A.push(`${J}:${F}`)}}}),Array.from(new Set(A)).sort()};x.useEffect(()=>{let T=!0;return(async()=>{o(!0),f(null);try{const P=await Ct.getMedicos(),A=Array.isArray(P)?P:(P==null?void 0:P.results)||[];n(A)}catch(P){console.error("Erro ao buscar médicos:",P),f("Não foi possível carregar a lista de médicos.")}finally{T&&o(!1)}})(),()=>{T=!1}},[]),x.useEffect(()=>{(async()=>{if(!h.medico||!h.data){N([]);return}try{const P=await Ct.getAgendaMedico({medico:h.medico,date:h.data,apenas_disponiveis:!0}),A=Array.isArray(P)?P:(P==null?void 0:P.results)||[],R=b(A,h.data);N(R),h.hora&&!R.includes(h.hora)&&p($=>({...$,hora:""}))}catch(P){console.error("Erro ao carregar agenda do médico:",P),N([])}})()},[h.medico,h.data]),x.useEffect(()=>{if(h.modalidade!=="presencial"){h.local&&p(A=>({...A,local:""}));return}const T=t.find(A=>{var R;return String(A.id||((R=A==null?void 0:A.user)==null?void 0:R.id))===String(h.medico)}),P=T?y(T):"";p(A=>({...A,local:P||""}))},[h.medico,h.modalidade,t]);const _=T=>P=>{const A=P!=null&&P.target?P.target.value:P;p(R=>({...R,[T]:A}))},S=()=>h.medico?h.data?h.hora?h.motivo?h.modalidade==="presencial"&&!h.local?"Este médico não possui um local de atendimento definido.":null:"Informe o motivo da consulta.":"Selecione um horário disponível.":"Selecione uma data.":"Selecione um médico.",E=async T=>{var A,R,$,O,I,V,J;T.preventDefault();const P=S();if(P){u({title:"Validação",description:P,variant:"destructive"});return}c(!0),f(null);try{await Ct.agendarConsulta({medico:h.medico,data:h.data,hora:h.hora,modalidade:h.modalidade,local:h.modalidade==="presencial"?h.local:void 0,tipo:h.tipo,motivo:h.motivo,observacoes:h.observacoes}),u({title:"Consulta agendada!",description:"Sua consulta foi marcada com sucesso."}),g("/paciente/consultas")}catch(F){console.error("Erro ao agendar consulta:",((A=F==null?void 0:F.response)==null?void 0:A.data)||F);const K=(($=(R=F==null?void 0:F.response)==null?void 0:R.data)==null?void 0:$.error)||((I=(O=F==null?void 0:F.response)==null?void 0:O.data)==null?void 0:I.detail)||((J=(V=F==null?void 0:F.response)==null?void 0:V.data)==null?void 0:J.message)||"Não foi possível agendar a consulta.";f(K),u({title:"Erro",description:K,variant:"destructive"})}finally{c(!1)}},k=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Agendar Consulta"})]}),e.jsx(nn,{tabs:k,basePath:"/paciente"}),e.jsxs(de,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Dados da Consulta"})}),e.jsx(ue,{children:e.jsxs("form",{onSubmit:E,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Médico"}),e.jsxs(Nt,{value:h.medico,onValueChange:T=>p(P=>({...P,medico:T})),disabled:a,children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:a?"Carregando...":"Selecione um médico"})}),e.jsx(yt,{children:t.length===0?e.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Nenhum médico disponível"}):t.map(T=>{var R,$,O;const P=(T==null?void 0:T.nome)||[(R=T==null?void 0:T.user)==null?void 0:R.first_name,($=T==null?void 0:T.user)==null?void 0:$.last_name].filter(Boolean).join(" ")||(T==null?void 0:T.username)||(T==null?void 0:T.email)||`Médico #${(T==null?void 0:T.id)||""}`,A=x4(T);return e.jsxs(Se,{value:String(T.id||((O=T==null?void 0:T.user)==null?void 0:O.id)||P),children:[P,A?` - ${A}`:""]},T.id||P)})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Tipo"}),e.jsxs(Nt,{value:h.tipo,onValueChange:T=>p(P=>({...P,tipo:T})),children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:"Selecione o tipo"})}),e.jsxs(yt,{children:[e.jsx(Se,{value:"primeira_consulta",children:"Primeira consulta"}),e.jsx(Se,{value:"retorno",children:"Retorno"}),e.jsx(Se,{value:"urgencia",children:"Urgência"}),e.jsx(Se,{value:"rotina",children:"Rotina"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Data"}),e.jsx(fe,{type:"date",value:h.data,onChange:_("data")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Hora"}),v.length>0?e.jsxs(Nt,{value:h.hora,onValueChange:T=>p(P=>({...P,hora:T})),children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:"Selecione um horário"})}),e.jsx(yt,{children:v.map(T=>e.jsx(Se,{value:T,children:T},T))})]}):e.jsx(fe,{type:"time",value:h.hora,onChange:T=>p(P=>({...P,hora:T.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Modalidade"}),e.jsxs(Nt,{value:h.modalidade,onValueChange:T=>p(P=>({...P,modalidade:T})),children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:"Selecione a modalidade"})}),e.jsxs(yt,{children:[e.jsx(Se,{value:"online",children:"Online"}),e.jsx(Se,{value:"presencial",children:"Presencial"})]})]})]}),h.modalidade==="presencial"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Local"}),e.jsxs("div",{className:"relative",children:[e.jsx(Im,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{className:"pl-9",placeholder:"Local de atendimento definido pelo médico",value:h.local,readOnly:!0,disabled:!0})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"O local é definido pelo médico e preenchido automaticamente."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Motivo"}),e.jsx(pt,{rows:3,placeholder:"Descreva o motivo principal da consulta (obrigatório)",value:h.motivo,onChange:_("motivo")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Obrigatório. Ex: dor de cabeça, retorno de exame, etc."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Observações"}),e.jsx(pt,{rows:4,placeholder:"Opcional: descreva sintomas, preferências, etc.",value:h.observacoes,onChange:_("observacoes")})]}),d&&e.jsx("p",{className:"text-sm text-red-500",children:d}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(ne,{type:"button",variant:"outline",onClick:()=>g("/paciente/consultas"),disabled:i,children:"Cancelar"}),e.jsx(ne,{type:"submit",disabled:i,children:i?"Agendando...":"Agendar Consulta"})]})]})})]})]})}function v4(){const[t,n]=x.useState(!1),[a,o]=x.useState(""),[i,c]=x.useState([]),[d,f]=x.useState(0),[u,g]=x.useState(""),[h,p]=x.useState(1),[v]=x.useState(10);x.useEffect(()=>{let B=!0;const z=setTimeout(async()=>{n(!0),o("");try{const G={search:u||void 0,page:h,limit:v},Z=await Ot.getUsuarios(G),ae=Array.isArray(Z==null?void 0:Z.results)?Z.results:Array.isArray(Z)?Z:[],xe=typeof(Z==null?void 0:Z.count)=="number"?Z.count:ae.length;if(!B)return;c(ae),f(xe)}catch{if(!B)return;o("Não foi possível carregar os usuários.")}finally{B&&n(!1)}},300);return()=>{B=!1,clearTimeout(z)}},[u,h,v]);const N=x.useMemo(()=>Math.max(1,Math.ceil(d/v)),[d,v]),[w,y]=x.useState(new Set),[b,_]=x.useState(!1),[S,E]=x.useState(!1),[k,T]=x.useState(!1),[P,A]=x.useState(""),[R,$]=x.useState(null),[O,I]=x.useState(!1),[V,J]=x.useState(!1),[F,K]=x.useState(""),[M,W]=x.useState({first_name:"",last_name:"",email:"",password:"",role:""}),U=()=>{if(i.length===0)return;const B=i.map(G=>G==null?void 0:G.id).filter(Boolean),z=B.every(G=>w.has(G));y(z?new Set:new Set(B))},X=B=>{B&&y(z=>{const G=new Set(z);return G.has(B)?G.delete(B):G.add(B),G})},ee=async()=>{const B=Array.from(w);if(B.length===0){window.alert("Selecione ao menos um usuário com ID válido.");return}if(window.confirm(`Confirma excluir ${B.length} usuário(s)?`))try{_(!0),await Ot.removerUsuariosEmMassa(B),y(new Set),n(!0),o("");const z={search:u||void 0,page:h,limit:v},G=await Ot.getUsuarios(z),Z=Array.isArray(G==null?void 0:G.results)?G.results:Array.isArray(G)?G:[],ae=typeof(G==null?void 0:G.count)=="number"?G.count:Z.length;c(Z),f(ae)}catch{window.alert("Falha ao excluir usuários selecionados.")}finally{_(!1),n(!1)}},L=B=>{if(!B)return;const z=B.first_name||B.firstName||"",G=B.last_name||B.lastName||"",Z=B.email||"",ae=(B.role||B.tipo||"").toString().toLowerCase(),xe=B.is_active??B.ativo??!0;$({id:B.id,first_name:z,last_name:G,email:Z,role:ae,is_active:xe}),A(""),E(!0)},q=async()=>{if(!(R!=null&&R.id)){A("ID do usuário indisponível.");return}try{T(!0),A("");const B={first_name:R.first_name,last_name:R.last_name,email:R.email,role:R.role,is_active:!!R.is_active};await Ot.updateUsuario(R.id,B),E(!1),n(!0),o("");const z={search:u||void 0,page:h,limit:v},G=await Ot.getUsuarios(z),Z=Array.isArray(G==null?void 0:G.results)?G.results:Array.isArray(G)?G:[],ae=typeof(G==null?void 0:G.count)=="number"?G.count:Z.length;c(Z),f(ae)}catch{A("Não foi possível salvar as alterações.")}finally{T(!1),n(!1)}},te=async()=>{var B;if(!M.email||!M.password||!M.role){K("Preencha e-mail, senha e tipo.");return}try{J(!0),K("");const z={first_name:M.first_name,last_name:M.last_name,email:M.email,password:M.password,role:M.role};await Ot.createUsuario(z),I(!1),W({first_name:"",last_name:"",email:"",password:"",role:""}),n(!0),o("");const G={search:u||void 0,page:h,limit:v},Z=await Ot.getUsuarios(G),ae=Array.isArray(Z==null?void 0:Z.results)?Z.results:Array.isArray(Z)?Z:[],xe=typeof(Z==null?void 0:Z.count)=="number"?Z.count:ae.length;c(ae),f(xe)}catch(z){const G=(B=z==null?void 0:z.response)!=null&&B.data?JSON.stringify(z.response.data):"Não foi possível criar o usuário.";K(G)}finally{J(!1),n(!1)}};return e.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Usuários"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie todos os usuários do sistema"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nome, email...",value:u,onChange:B=>{p(1),g(B.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t?"Carregando...":`${d} usuário(s)`}),e.jsxs("div",{className:"ml-auto flex gap-2",children:[e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:()=>{K(""),W({first_name:"",last_name:"",email:"",password:"",role:""}),I(!0)},disabled:t,children:"Novo usuário"}),e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-red-600 text-white disabled:opacity-50",onClick:ee,disabled:b||w.size===0||t,title:w.size===0?"Selecione usuários":"Excluir selecionados",children:b?"Excluindo...":`Excluir selecionados (${w.size})`})]})]}),a&&e.jsx("div",{className:"text-sm text-red-600",children:a}),e.jsx("div",{className:"overflow-auto rounded-md border",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:e.jsx("input",{type:"checkbox",checked:i.length>0&&i.map(B=>B==null?void 0:B.id).filter(Boolean).every(B=>w.has(B)),onChange:U})}),e.jsx("th",{className:"text-left p-3",children:"Nome"}),e.jsx("th",{className:"text-left p-3",children:"Email"}),e.jsx("th",{className:"text-left p-3",children:"Tipo"}),e.jsx("th",{className:"text-left p-3",children:"Status"}),e.jsx("th",{className:"text-left p-3",children:"Ações"})]})}),e.jsxs("tbody",{children:[i.length===0&&!t&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-4 text-center text-muted-foreground",children:"Nenhum usuário encontrado"})}),i.map(B=>{const z=(B==null?void 0:B.nome)||[B==null?void 0:B.first_name,B==null?void 0:B.last_name].filter(Boolean).join(" ")||(B==null?void 0:B.name)||(B==null?void 0:B.username)||"-",G=(B==null?void 0:B.email)||"-",Z=(B==null?void 0:B.tipo)||(B==null?void 0:B.role)||(B==null?void 0:B.perfil)||"-",ae=(B==null?void 0:B.is_active)??(B==null?void 0:B.ativo)??(B==null?void 0:B.status)??null,xe=ae===!0?"Ativo":ae===!1?"Inativo":String(ae??"-");return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3",children:e.jsx("input",{type:"checkbox",disabled:!(B!=null&&B.id),checked:B!=null&&B.id?w.has(B.id):!1,onChange:()=>X(B==null?void 0:B.id)})}),e.jsx("td",{className:"p-3",children:z}),e.jsx("td",{className:"p-3",children:G}),e.jsx("td",{className:"p-3 capitalize",children:String(Z).toLowerCase()}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${ae===!0?"bg-emerald-100 text-emerald-700":ae===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:xe})}),e.jsx("td",{className:"p-3",children:e.jsx("button",{className:"px-3 py-1 border rounded-md text-xs",onClick:()=>L(B),disabled:!(B!=null&&B.id),title:B!=null&&B.id?"Editar usuário":"ID indisponível",children:"Editar"})})]},(B==null?void 0:B.id)||`${G}-${z}`)})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>p(B=>Math.max(1,B-1)),disabled:h<=1||t,children:"Anterior"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Página ",h," de ",N]}),e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>p(B=>Math.min(N,B+1)),disabled:h>=N||t,children:"Próxima"})]}),S&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Editar usuário"}),P&&e.jsx("div",{className:"text-sm text-red-600 mb-2",children:P}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Nome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(R==null?void 0:R.first_name)||"",onChange:B=>$(z=>({...z,first_name:B.target.value})),disabled:k})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Sobrenome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(R==null?void 0:R.last_name)||"",onChange:B=>$(z=>({...z,last_name:B.target.value})),disabled:k})]}),e.jsxs("div",{className:"space-y-1 md:col-span-2",children:[e.jsx("label",{className:"text-sm",children:"E-mail"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(R==null?void 0:R.email)||"",onChange:B=>$(z=>({...z,email:B.target.value})),disabled:k})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Tipo"}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(R==null?void 0:R.role)||"",onChange:B=>$(z=>({...z,role:B.target.value})),disabled:k,children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"paciente",children:"Paciente"}),e.jsx("option",{value:"medico",children:"Médico"}),e.jsx("option",{value:"clinica",children:"Clínica"}),e.jsx("option",{value:"secretaria",children:"Secretaria"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Ativo"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!(R!=null&&R.is_active),onChange:B=>$(z=>({...z,is_active:B.target.checked})),disabled:k}),e.jsx("span",{className:"text-sm",children:R!=null&&R.is_active?"Ativo":"Inativo"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>E(!1),disabled:k,children:"Cancelar"}),e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:q,disabled:k,children:k?"Salvando...":"Salvar"})]})]})}),O&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Novo usuário"}),F&&e.jsx("div",{className:"text-sm text-red-600 mb-2",children:F}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Nome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:M.first_name,onChange:B=>W(z=>({...z,first_name:B.target.value})),disabled:V})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Sobrenome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:M.last_name,onChange:B=>W(z=>({...z,last_name:B.target.value})),disabled:V})]}),e.jsxs("div",{className:"space-y-1 md:col-span-2",children:[e.jsx("label",{className:"text-sm",children:"E-mail"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:M.email,onChange:B=>W(z=>({...z,email:B.target.value})),disabled:V})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Senha"}),e.jsx("input",{type:"password",className:"w-full px-3 py-2 border rounded-md bg-background",value:M.password,onChange:B=>W(z=>({...z,password:B.target.value})),disabled:V})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Tipo"}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:M.role,onChange:B=>W(z=>({...z,role:B.target.value})),disabled:V,children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"paciente",children:"Paciente"}),e.jsx("option",{value:"medico",children:"Médico"}),e.jsx("option",{value:"clinica",children:"Clínica"}),e.jsx("option",{value:"secretaria",children:"Secretaria"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>I(!1),disabled:V,children:"Cancelar"}),e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:te,disabled:V,children:V?"Criando...":"Criar"})]})]})})]})}function y4(){const[t,n]=x.useState(!1),[a,o]=x.useState(""),[i,c]=x.useState([]),[d,f]=x.useState(0),[u,g]=x.useState(""),[h,p]=x.useState(1),[v]=x.useState(10);x.useEffect(()=>{let w=!0;const y=setTimeout(async()=>{n(!0),o("");try{const b={search:u||void 0,page:h,limit:v},_=await Ot.getClinicas(b),S=Array.isArray(_==null?void 0:_.results)?_.results:Array.isArray(_)?_:[],E=typeof(_==null?void 0:_.count)=="number"?_.count:S.length;if(!w)return;c(S),f(E)}catch{if(!w)return;o("Não foi possível carregar as clínicas.")}finally{w&&n(!1)}},300);return()=>{w=!1,clearTimeout(y)}},[u,h,v]);const N=x.useMemo(()=>Math.max(1,Math.ceil(d/v)),[d,v]);return e.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Clínicas"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie os cadastros de clínicas"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nome, CNPJ...",value:u,onChange:w=>{p(1),g(w.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t?"Carregando...":`${d} clínica(s)`})]}),a&&e.jsx("div",{className:"text-sm text-red-600",children:a}),e.jsx("div",{className:"overflow-auto rounded-md border",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Nome"}),e.jsx("th",{className:"text-left p-3",children:"CNPJ"}),e.jsx("th",{className:"text-left p-3",children:"Email"}),e.jsx("th",{className:"text-left p-3",children:"Status"})]})}),e.jsxs("tbody",{children:[i.length===0&&!t&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-4 text-center text-muted-foreground",children:"Nenhuma clínica encontrada"})}),i.map(w=>{const y=(w==null?void 0:w.razao_social)||(w==null?void 0:w.nome)||(w==null?void 0:w.name)||"-",b=(w==null?void 0:w.cnpj)||"-",_=(w==null?void 0:w.email)||(w==null?void 0:w.contato_email)||"-",S=(w==null?void 0:w.is_active)??(w==null?void 0:w.ativo)??(w==null?void 0:w.status)??null,E=S===!0?"Ativa":S===!1?"Inativa":String(S??"-");return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3",children:y}),e.jsx("td",{className:"p-3",children:b}),e.jsx("td",{className:"p-3",children:_}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${S===!0?"bg-emerald-100 text-emerald-700":S===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:E})})]},(w==null?void 0:w.id)||`${y}-${b}`)})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>p(w=>Math.max(1,w-1)),disabled:h<=1||t,children:"Anterior"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Página ",h," de ",N]}),e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>p(w=>Math.min(N,w+1)),disabled:h>=N||t,children:"Próxima"})]})]})}function j4(){const{toast:t}=Xt(),[n,a]=x.useState(!0),[o,i]=x.useState(!1),[c,d]=x.useState(""),[f,u]=x.useState({first_name:"",last_name:"",email:"",telefone:""}),[g,h]=x.useState({atual:"",nova:"",confirmar:""}),[p,v]=x.useState(!1),[N,w]=x.useState({email:!0,sistema:!0,auditoria:!0,push:!1}),[y,b]=x.useState(!1),[_,S]=x.useState(()=>localStorage.getItem("admin_lang")||"pt-BR"),E=$=>w(O=>({...O,[$]:!O[$]}));x.useEffect(()=>{let $=!0;return(async()=>{var O;try{a(!0),d("");const I=await Ct.getPerfil();if(!$)return;u({first_name:(I==null?void 0:I.first_name)||"",last_name:(I==null?void 0:I.last_name)||"",email:(I==null?void 0:I.email)||"",telefone:(I==null?void 0:I.telefone)||""});try{const V=localStorage.getItem("admin_notification_prefs");V&&w(J=>({...J,...JSON.parse(V)}))}catch{}}catch(I){if(!$)return;const V=(O=I==null?void 0:I.response)==null?void 0:O.status;d(V===401?"Sessão inválida. Faça login novamente.":"Não foi possível carregar seu perfil.")}finally{$&&a(!1)}})(),()=>{$=!1}},[]);const k=$=>{const{name:O,value:I}=$.target;u(V=>({...V,[O]:I}))},T=async()=>{var $;i(!0),d("");try{await Ct.atualizarPerfil({first_name:f.first_name,last_name:f.last_name,email:f.email,telefone:f.telefone}),t({title:"Perfil atualizado",description:"As informações foram salvas com sucesso."})}catch(O){const V=(($=O==null?void 0:O.response)==null?void 0:$.status)===400?"Dados inválidos. Verifique os campos.":"Não foi possível salvar as alterações.";d(V),t({title:"Erro",description:V,variant:"destructive"})}finally{i(!1)}},P=async()=>{if(!g.atual||!g.nova||!g.confirmar){t({title:"Validação",description:"Preencha todos os campos de senha.",variant:"destructive"});return}if(g.nova!==g.confirmar){t({title:"Validação",description:"A confirmação da nova senha não confere.",variant:"destructive"});return}v(!0);try{await new Promise($=>setTimeout($,600)),t({title:"Em breve",description:"Alteração de senha será integrada ao backend.",variant:"default"}),h({atual:"",nova:"",confirmar:""})}finally{v(!1)}},A=async()=>{b(!0);try{localStorage.setItem("admin_notification_prefs",JSON.stringify(N)),t({title:"Notificações salvas",description:"Preferências armazenadas neste dispositivo."})}catch{t({title:"Erro",description:"Não foi possível salvar as preferências.",variant:"destructive"})}finally{b(!1)}},R=()=>{localStorage.setItem("admin_lang",_),t({title:"Idioma atualizado",description:`Idioma definido para ${_}.`})};return e.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configurações (Admin)"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie seu perfil e preferências administrativas"})]}),e.jsxs($n,{defaultValue:"perfil",className:"space-y-6",children:[e.jsxs(Ln,{className:"grid w-full grid-cols-4",children:[e.jsx(_t,{value:"perfil",children:"Perfil"}),e.jsx(_t,{value:"seguranca",children:"Segurança"}),e.jsx(_t,{value:"notificacoes",children:"Notificações"}),e.jsx(_t,{value:"sistema",children:"Sistema"})]}),e.jsx(Dt,{value:"perfil",children:e.jsxs(de,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Informações do Perfil"})}),e.jsxs(ue,{className:"space-y-4",children:[c&&e.jsx("p",{className:"text-sm text-red-500",children:c}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"first_name",children:"Nome"}),e.jsx(fe,{id:"first_name",name:"first_name",value:f.first_name,onChange:k,disabled:n||o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"last_name",children:"Sobrenome"}),e.jsx(fe,{id:"last_name",name:"last_name",value:f.last_name,onChange:k,disabled:n||o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"email",children:"E-mail"}),e.jsx(fe,{id:"email",name:"email",type:"email",value:f.email,onChange:k,disabled:n||o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"telefone",children:"Telefone"}),e.jsx(fe,{id:"telefone",name:"telefone",value:f.telefone,onChange:k,disabled:n||o})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(ne,{onClick:T,disabled:n||o,children:o?"Salvando...":"Salvar alterações"})})]})]})}),e.jsx(Dt,{value:"seguranca",children:e.jsxs(de,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Segurança"})}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"pwd_atual",children:"Senha atual"}),e.jsx(fe,{id:"pwd_atual",type:"password",value:g.atual,onChange:$=>h(O=>({...O,atual:$.target.value})),disabled:p})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"pwd_nova",children:"Nova senha"}),e.jsx(fe,{id:"pwd_nova",type:"password",value:g.nova,onChange:$=>h(O=>({...O,nova:$.target.value})),disabled:p})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"pwd_confirmar",children:"Confirmar nova senha"}),e.jsx(fe,{id:"pwd_confirmar",type:"password",value:g.confirmar,onChange:$=>h(O=>({...O,confirmar:$.target.value})),disabled:p})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(ne,{onClick:P,disabled:p,children:p?"Processando...":"Alterar senha"})})]})]})}),e.jsx(Dt,{value:"notificacoes",children:e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Preferências de Notificação"}),e.jsx(Je,{children:"Configure como você deseja receber notificações"})]}),e.jsxs(ue,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificações por Email"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizações importantes por email"})]}),e.jsx(ne,{variant:"outline",size:"sm",onClick:()=>E("email"),disabled:y,children:N.email?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Eventos do Sistema"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avisos sobre operações e eventos administrativos"})]}),e.jsx(ne,{variant:"outline",size:"sm",onClick:()=>E("sistema"),disabled:y,children:N.sistema?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Alterações e Auditoria"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifique mudanças críticas e logs de auditoria"})]}),e.jsx(ne,{variant:"outline",size:"sm",onClick:()=>E("auditoria"),disabled:y,children:N.auditoria?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificações Push"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificações no navegador"})]}),e.jsx(ne,{variant:"outline",size:"sm",onClick:()=>E("push"),disabled:y,children:N.push?"Ativado":"Desativado"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(ne,{onClick:A,disabled:y,children:y?"Salvando...":"Salvar Preferências"})})]})]})}),e.jsx(Dt,{value:"sistema",children:e.jsxs(de,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Sistema"})}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Tema"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Pc,{}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Alterne entre claro/escuro"})]})]}),e.jsx(tn,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Idioma"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{className:"border rounded px-2 py-1",value:_,onChange:$=>S($.target.value),children:[e.jsx("option",{value:"pt-BR",children:"Português (Brasil)"}),e.jsx("option",{value:"en-US",children:"English (US)"})]}),e.jsx(ne,{variant:"outline",onClick:R,children:"Aplicar"})]})]})]})]})})]})]})}const Jn={async getPerfil(){const{data:t}=await le.get("/secretarias/me/");return t},async listarMedicos(){const{data:t}=await le.get("/medicos/");return Array.isArray(t==null?void 0:t.results)?t.results:t},async listarClinicas(){const{data:t}=await le.get("/clinicas/");return Array.isArray(t==null?void 0:t.results)?t.results:t},async getConsultasDoMedico(t,n={}){const a="/consultas/",o=t?`${a}?medico=${t}`:a,{data:i}=await le.get(o,{params:n});return i},async agendarConsulta(t){const n="/agendamentos/",{data:a}=await le.post(n,t);return a},async atualizarConsulta(t,n){const a=`/agendamentos/${t}/`,{data:o}=await le.patch(a,n);return o},async atualizarStatus(t,n){const a=`/agendamentos/${t}/`,{data:o}=await le.patch(a,{status:n});return o},async confirmarConsulta(t){const n=`/agendamentos/${t}/confirmar/`,{data:a}=await le.post(n);return a},async cancelarConsulta(t,n){const a=`/agendamentos/${t}/cancelar/`,{data:o}=await le.post(a,{motivo:n});return o},async registrarPresenca(t){const n=`/agendamentos/${t}/presenca/`,{data:a}=await le.post(n);return a},async registrarPaciente(t){const n="/auth/register/",a=String((t==null?void 0:t.nome)||"").trim(),[o,...i]=a.split(/\s+/),c=i.join(" "),d=String((t==null?void 0:t.email)||"").trim(),f=String((t==null?void 0:t.senha)||(t==null?void 0:t.password)||""),h={username:`${(d.split("@")[0]||o||"paciente").toLowerCase().replace(/[^a-z0-9]/g,"")}${Math.floor(Math.random()*1e4)}`,email:d,password:f,first_name:o,last_name:c,role:"paciente",cpf:(t==null?void 0:t.cpf)||"",telefone:(t==null?void 0:t.telefone)||"",data_nascimento:(t==null?void 0:t.data_nascimento)||"",endereco:(t==null?void 0:t.endereco)||""},{data:p}=await le.post(n,h,{});return p}};function w4(t){var a,o,i;if(!t)return"—";const n=[(a=t==null?void 0:t.user)==null?void 0:a.first_name,(o=t==null?void 0:t.user)==null?void 0:o.last_name].filter(Boolean).join(" ").trim();return(t==null?void 0:t.nome)||n||((i=t==null?void 0:t.user)==null?void 0:i.username)||`Médico #${(t==null?void 0:t.id)??"?"}`}function N4(t={}){var c,d,f;const n=t.paciente_nome||((c=t==null?void 0:t.paciente)==null?void 0:c.nome)||((d=t==null?void 0:t.paciente)!=null&&d.user?[t.paciente.user.first_name,t.paciente.user.last_name].filter(Boolean).join(" "):null)||"Paciente",a=t.data_hora||t.horario||t.inicio||t.data||t.start_time||"",o=t.status||"Agendada",i=t.clinica_nome||((f=t==null?void 0:t.clinica)==null?void 0:f.nome)||t.local||"—";return{id:t.id||t.consulta_id||Math.random().toString(36).slice(2),pacienteNome:n,dataHora:a,status:o,clinica:i,tipo:t.tipo||t.modalidade||"Consulta"}}function b4(){const[t,n]=x.useState([]),[a,o]=x.useState(null),[i,c]=x.useState(!0),[d,f]=x.useState(!1),[u,g]=x.useState([]),{toast:h}=Xt(),[p,v]=x.useState("todas"),[N,w]=x.useState(""),[y,b]=x.useState(!1),[_,S]=x.useState(!1),[E,k]=x.useState({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),[T,P]=x.useState(""),[A,R]=x.useState(!1),[$,O]=x.useState([]);x.useEffect(()=>{let L=!0;return(async()=>{var q;c(!0);try{const te=await Jn.listarMedicos();if(!L)return;n(Array.isArray(te)?te:[]);const B=localStorage.getItem("secretaria.medicoId"),G=B&&(te==null?void 0:te.some(Z=>String(Z.id)===String(B)))?B:(q=te==null?void 0:te[0])==null?void 0:q.id;G&&o(String(G))}finally{L&&c(!1)}})(),()=>{L=!1}},[]);async function I(L){const q=L??a;if(q){f(!0);try{localStorage.setItem("secretaria.medicoId",String(q));const te=await tt.getConsultasHoje(q),B=Array.isArray(te)?te:Array.isArray(te==null?void 0:te.results)?te.results:[];g(B.map(N4))}catch{g([])}finally{f(!1)}}}x.useEffect(()=>((async()=>a&&await I(a))(),()=>{}),[a]);const V=x.useMemo(()=>t.map(L=>({value:String(L.id),label:w4(L)})),[t]),J=x.useMemo(()=>{const L=(N||"").toLowerCase().trim();return u.filter(q=>{const te=String(q.status||"").toLowerCase(),B=p==="todas"||p==="pendentes"&&(te.includes("agend")||te.includes("pend"))||p==="confirmadas"&&te.includes("confirm")||p==="canceladas"&&te.includes("cancel")||p==="realizadas"&&(te.includes("realiz")||te.includes("conclu")||te.includes("final")),z=L?(q.pacienteNome||"").toLowerCase().includes(L):!0;return B&&z})},[u,p,N]);function F(L){if(!L)return"—";try{return new Date(L).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return String(L).slice(11,16)||"—"}}const K=(L,q)=>{g(te=>te.map(B=>String(B.id)===String(L)?{...B,status:q}:B))},M=async L=>{try{await Jn.confirmarConsulta(L.id),K(L.id,"Confirmada"),h({title:"Consulta confirmada",description:`Paciente ${L.pacienteNome} às ${F(L.dataHora)}`})}catch{h({title:"Erro",description:"Não foi possível confirmar a consulta.",variant:"destructive"})}},W=async L=>{try{await Jn.cancelarConsulta(L.id),K(L.id,"Cancelada"),h({title:"Consulta cancelada",description:`Paciente ${L.pacienteNome} às ${F(L.dataHora)}`})}catch{h({title:"Erro",description:"Não foi possível cancelar a consulta.",variant:"destructive"})}},U=async L=>{try{await Jn.registrarPresenca(L.id),K(L.id,"Realizada"),h({title:"Presença registrada",description:`Paciente ${L.pacienteNome} às ${F(L.dataHora)}`})}catch{h({title:"Erro",description:"Não foi possível registrar a presença.",variant:"destructive"})}};async function X(){R(!0);try{let L=[];if(T&&T.trim().length>1)try{const q=await tt.buscarPacientes(T.trim());L=Array.isArray(q)?q:Array.isArray(q==null?void 0:q.results)?q.results:[]}catch{if(a){const q=await tt.getPacientesVinculados(a),te=Array.isArray(q)?q:Array.isArray(q==null?void 0:q.results)?q.results:[],B=T.toLowerCase();L=te.filter(z=>{var Z,ae;return[z==null?void 0:z.nome,(Z=z==null?void 0:z.user)==null?void 0:Z.first_name,(ae=z==null?void 0:z.user)==null?void 0:ae.last_name].filter(Boolean).join(" ").toLowerCase().includes(B)})}}O(L)}finally{R(!1)}}async function ee(L){var q,te,B;if((q=L==null?void 0:L.preventDefault)==null||q.call(L),!a){h({title:"Selecione um médico",description:"Escolha o médico para agendar a consulta.",variant:"destructive"});return}if(!E.pacienteId||!E.data||!E.hora){h({title:"Campos obrigatórios",description:"Informe paciente, data e hora.",variant:"destructive"});return}S(!0);try{await Jn.agendarConsulta({paciente:E.pacienteId,medico:a,data:E.data,hora:E.hora,tipo:E.tipo,motivo:E.motivo,observacoes:E.observacoes}),h({title:"Consulta agendada",description:"O agendamento foi criado com sucesso."}),b(!1),k({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),P(""),O([]),await I(a)}catch(z){const G=((B=(te=z==null?void 0:z.response)==null?void 0:te.data)==null?void 0:B.detail)||"Não foi possível agendar. Verifique os dados.";h({title:"Erro ao agendar",description:G,variant:"destructive"})}finally{S(!1)}}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Gt,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard da Secretária"})]}),e.jsxs(de,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Selecione o médico"}),e.jsx(Je,{children:"Visualize rapidamente as consultas de hoje do médico selecionado."})]}),e.jsx(ue,{children:i?e.jsx(ht,{className:"h-10 w-72"}):e.jsx("div",{className:"w-72",children:e.jsxs(Nt,{value:a??void 0,onValueChange:L=>o(L),children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:"Escolha um médico"})}),e.jsx(yt,{children:V.map(L=>e.jsx(Se,{value:L.value,children:L.label},L.value))})]})})})]}),e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-5 w-5"})," Consultas de hoje"]}),e.jsx(Je,{children:d?"Carregando...":`${J.length} consulta(s) encontrada(s)`})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dt,{to:"/secretaria/pacientes",children:e.jsxs(ne,{variant:"outline",className:"whitespace-nowrap",children:[e.jsx(xs,{className:"h-4 w-4 mr-1"})," Pacientes"]})}),e.jsxs(mi,{open:y,onOpenChange:b,children:[e.jsx(G0,{asChild:!0,children:e.jsx(ne,{variant:"default",className:"whitespace-nowrap",children:"+ Agendar consulta"})}),e.jsxs(Xr,{children:[e.jsx(Zr,{children:e.jsx(to,{children:"Novo agendamento"})}),e.jsxs("form",{onSubmit:ee,className:"px-6 pb-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Médico"}),e.jsxs(Nt,{value:a??void 0,onValueChange:o,children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:"Escolha um médico"})}),e.jsx(yt,{children:V.map(L=>e.jsx(Se,{value:L.value,children:L.label},L.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Paciente"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{placeholder:"Nome, CPF ou código",value:T,onChange:L=>P(L.target.value)}),e.jsx(ne,{type:"button",variant:"secondary",onClick:X,disabled:A,children:A?"Buscando...":"Buscar"})]}),($==null?void 0:$.length)>0&&e.jsx("div",{className:"mt-2",children:e.jsxs(Nt,{value:E.pacienteId||void 0,onValueChange:L=>k(q=>({...q,pacienteId:L})),children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:"Selecione o paciente"})}),e.jsx(yt,{children:$.map(L=>{var te,B,z;const q=(L==null?void 0:L.nome)||[(te=L==null?void 0:L.user)==null?void 0:te.first_name,(B=L==null?void 0:L.user)==null?void 0:B.last_name].filter(Boolean).join(" ")||((z=L==null?void 0:L.user)==null?void 0:z.username)||`Paciente #${L==null?void 0:L.id}`;return e.jsx(Se,{value:String(L.id),children:q},L.id)})})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),e.jsx(fe,{type:"date",value:E.data,onChange:L=>k(q=>({...q,data:L.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Hora"}),e.jsx(fe,{type:"time",value:E.hora,onChange:L=>k(q=>({...q,hora:L.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Tipo"}),e.jsxs(Nt,{value:E.tipo,onValueChange:L=>k(q=>({...q,tipo:L})),children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:"Tipo de consulta"})}),e.jsxs(yt,{children:[e.jsx(Se,{value:"primeira",children:"Primeira consulta"}),e.jsx(Se,{value:"retorno",children:"Retorno"}),e.jsx(Se,{value:"rotina",children:"Rotina"}),e.jsx(Se,{value:"urgencia",children:"Urgência"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Motivo"}),e.jsx(fe,{value:E.motivo,onChange:L=>k(q=>({...q,motivo:L.target.value}))})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Observações"}),e.jsx(pt,{rows:3,value:E.observacoes,onChange:L=>k(q=>({...q,observacoes:L.target.value}))})]})]}),e.jsxs(eo,{children:[e.jsx(ne,{type:"button",variant:"outline",onClick:()=>b(!1),disabled:_,children:"Cancelar"}),e.jsx(ne,{type:"submit",disabled:_,children:_?"Agendando...":"Agendar"})]})]})]})]})]})]})}),e.jsxs(ue,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Status"}),e.jsxs(Nt,{value:p,onValueChange:v,children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:"Filtrar por status"})}),e.jsxs(yt,{children:[e.jsx(Se,{value:"todas",children:"Todas"}),e.jsx(Se,{value:"pendentes",children:"Pendentes"}),e.jsx(Se,{value:"confirmadas",children:"Confirmadas"}),e.jsx(Se,{value:"canceladas",children:"Canceladas"}),e.jsx(Se,{value:"realizadas",children:"Realizadas"})]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Buscar paciente"}),e.jsxs("div",{className:"relative",children:[e.jsx(xn,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{className:"pl-10",placeholder:"Ex.: Ana, 123.456.789-00 ou #123",value:N,onChange:L=>w(L.target.value)})]})]})]}),d?e.jsxs("div",{className:"space-y-2",children:[e.jsx(ht,{className:"h-6 w-full"}),e.jsx(ht,{className:"h-6 w-3/4"}),e.jsx(ht,{className:"h-6 w-2/4"})]}):J.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma consulta para hoje com os filtros aplicados."}):e.jsxs(In,{children:[e.jsx(Fn,{children:e.jsxs(Qt,{children:[e.jsx(nt,{children:"Paciente"}),e.jsx(nt,{children:"Data/Hora"}),e.jsx(nt,{children:"Tipo"}),e.jsx(nt,{children:"Status"}),e.jsx(nt,{children:"Clínica"}),e.jsx(nt,{className:"w-[1%] text-right",children:"Ações"})]})}),e.jsx(zn,{children:J.map(L=>{const q=String(L.status||"").toLowerCase(),te=q.includes("agend")||q.includes("pend"),B=!q.includes("cancel")&&!q.includes("realiz")&&!q.includes("conclu"),z=q.includes("confirm")||q.includes("agend");return e.jsxs(Qt,{children:[e.jsxs(Ze,{className:"font-medium flex items-center gap-2",children:[e.jsx(xs,{className:"h-4 w-4"})," ",L.pacienteNome]}),e.jsx(Ze,{children:L.dataHora?new Date(L.dataHora).toLocaleString():"—"}),e.jsx(Ze,{children:L.tipo}),e.jsx(Ze,{children:L.status}),e.jsx(Ze,{children:L.clinica}),e.jsx(Ze,{children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs(ne,{size:"sm",variant:"outline",disabled:!te,onClick:()=>M(L),children:[e.jsx(xv,{className:"h-4 w-4 mr-1"})," Confirmar"]}),e.jsxs(ne,{size:"sm",variant:"destructive",disabled:!B,onClick:()=>W(L),children:[e.jsx(Qn,{className:"h-4 w-4 mr-1"})," Cancelar"]}),e.jsxs(ne,{size:"sm",variant:"secondary",disabled:!z,onClick:()=>U(L),children:[e.jsx(RC,{className:"h-4 w-4 mr-1"})," Presença"]})]})})]},L.id)})})]})]})]})]})}function S4(t={}){var c,d,f;const n=t.paciente_nome||((c=t==null?void 0:t.paciente)==null?void 0:c.nome)||((d=t==null?void 0:t.paciente)!=null&&d.user?[t.paciente.user.first_name,t.paciente.user.last_name].filter(Boolean).join(" "):null)||"Paciente",a=t.data_hora||t.horario||t.inicio||t.data||t.start_time||"",o=t.status||"Agendada",i=t.clinica_nome||((f=t==null?void 0:t.clinica)==null?void 0:f.nome)||t.local||"—";return{id:t.id||t.consulta_id||Math.random().toString(36).slice(2),pacienteNome:n,dataHora:a,status:o,clinica:i,tipo:t.tipo||t.modalidade||"Consulta"}}function C4(){const[t,n]=x.useState([]),[a,o]=x.useState(""),[i,c]=x.useState(""),[d,f]=x.useState(""),[u,g]=x.useState(!1),[h,p]=x.useState([]);x.useEffect(()=>{let w=!0;return(async()=>{try{const y=await Jn.listarMedicos();if(!w)return;n(Array.isArray(y)?y:[]);const b=localStorage.getItem("secretaria.medicoId");b&&o(String(b))}catch{}})(),()=>{w=!1}},[]);const v=async()=>{if(!a)return p([]);g(!0);try{localStorage.setItem("secretaria.medicoId",String(a));const w={};d&&(w.date=d);const y=await tt.getConsultasDoMedico({...w,medico:a}),_=(Array.isArray(y)?y:Array.isArray(y==null?void 0:y.results)?y.results:[]).map(S4);p(i?_.filter(S=>S.pacienteNome.toLowerCase().includes(i.toLowerCase())):_)}catch{p([])}finally{g(!1)}};x.useEffect(()=>{v()},[a]);const N=x.useMemo(()=>t.map(w=>{var y;return{value:String(w.id),label:w.nome||((y=w==null?void 0:w.user)==null?void 0:y.first_name)||`Médico #${w.id}`}}),[t]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(rt,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Consultas"})]}),e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(Gt,{className:"h-5 w-5"})," Filtros"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Médico"}),e.jsxs(Nt,{value:a||void 0,onValueChange:w=>o(w),children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:"Escolha um médico"})}),e.jsx(yt,{children:N.map(w=>e.jsx(Se,{value:w.value,children:w.label},w.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),e.jsx(fe,{type:"date",value:d,onChange:w=>f(w.target.value)})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar por paciente"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{placeholder:"Nome do paciente",value:i,onChange:w=>c(w.target.value)}),e.jsxs(ne,{onClick:v,children:[e.jsx(xn,{className:"h-4 w-4 mr-2"}),"Buscar"]})]})]})]})})]}),e.jsxs(de,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Resultados"})}),e.jsx(ue,{children:u?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):h.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma consulta encontrada."}):e.jsxs(In,{children:[e.jsx(Fn,{children:e.jsxs(Qt,{children:[e.jsx(nt,{children:"Paciente"}),e.jsx(nt,{children:"Data/Hora"}),e.jsx(nt,{children:"Tipo"}),e.jsx(nt,{children:"Status"}),e.jsx(nt,{children:"Clínica"})]})}),e.jsx(zn,{children:h.map(w=>e.jsxs(Qt,{children:[e.jsx(Ze,{children:w.pacienteNome}),e.jsx(Ze,{children:w.dataHora||"—"}),e.jsx(Ze,{children:w.tipo}),e.jsx(Ze,{children:w.status}),e.jsx(Ze,{children:w.clinica})]},w.id))})]})})]})]})}function _g(t={}){const n=(t==null?void 0:t.user)||{};return(t==null?void 0:t.nome)||[n.first_name,n.last_name].filter(Boolean).join(" ")||n.username||`Paciente #${(t==null?void 0:t.id)||"?"}`}function _4(){const[t,n]=x.useState([]),[a,o]=x.useState(""),[i,c]=x.useState(""),[d,f]=x.useState(!1),[u,g]=x.useState([]),{toast:h}=Xt(),[p,v]=x.useState(!1),[N,w]=x.useState(!1),[y,b]=x.useState({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""}),_=P=>{const A=String(P||"").replace(/\D/g,"").slice(0,11),R=A.slice(0,3),$=A.slice(3,6),O=A.slice(6,9),I=A.slice(9,11);return A.length>9?`${R}.${$}.${O}-${I}`:A.length>6?`${R}.${$}.${O}`:A.length>3?`${R}.${$}`:R},S=P=>{const{name:A,value:R}=P.target;if(A==="cpf")return b($=>({...$,cpf:_(R)}));b($=>({...$,[A]:R}))};x.useEffect(()=>{let P=!0;return(async()=>{try{const A=await Jn.listarMedicos();if(!P)return;n(Array.isArray(A)?A:[]);const R=localStorage.getItem("secretaria.medicoId");R&&o(String(R))}catch{}})(),()=>{P=!1}},[]);const E=async()=>{if(!a)return g([]);f(!0);try{const P=await tt.getPacientesVinculados(a),A=Array.isArray(P)?P:Array.isArray(P==null?void 0:P.results)?P.results:[];g(A)}catch{g([])}finally{f(!1)}};x.useEffect(()=>{E()},[a]);const k=x.useMemo(()=>u.filter(P=>_g(P).toLowerCase().includes(i.toLowerCase())),[u,i]),T=async P=>{var A,R;if((A=P==null?void 0:P.preventDefault)==null||A.call(P),!y.nome||!y.email||!y.senha||!y.confirmSenha){h({title:"Campos obrigatórios",description:"Preencha nome, email e senha.",variant:"destructive"});return}if(y.senha!==y.confirmSenha){h({title:"Senhas não conferem",description:"A confirmação deve ser igual à senha.",variant:"destructive"});return}w(!0);try{await Jn.registrarPaciente(y),h({title:"Paciente cadastrado",description:"O paciente foi criado com sucesso. Ele aparecerá na lista do médico após o primeiro vínculo (ex.: agendamento de consulta)."}),v(!1),b({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""})}catch($){const O=(R=$==null?void 0:$.response)!=null&&R.data?JSON.stringify($.response.data):($==null?void 0:$.message)||"Falha ao cadastrar";h({title:"Erro ao cadastrar",description:O,variant:"destructive"})}finally{w(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ks,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Pacientes"})]}),e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2 justify-between",children:[e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx(xn,{className:"h-5 w-5"})," Filtros"]}),e.jsxs(mi,{open:p,onOpenChange:v,children:[e.jsx(G0,{asChild:!0,children:e.jsxs("button",{className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[e.jsx(zm,{className:"h-4 w-4 mr-2"})," Cadastrar Paciente"]})}),e.jsxs(Xr,{className:"max-w-lg",children:[e.jsxs(Zr,{children:[e.jsx(to,{children:"Novo Paciente"}),e.jsx($c,{children:"Preencha os dados básicos para criar a conta do paciente."})]}),e.jsxs("form",{className:"space-y-3",onSubmit:T,children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Nome completo"}),e.jsx(fe,{name:"nome",value:y.nome,onChange:S,placeholder:"Ex.: Maria Silva"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"E-mail"}),e.jsx(fe,{name:"email",value:y.email,onChange:S,type:"email",placeholder:"email@exemplo.com"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"CPF"}),e.jsx(fe,{name:"cpf",value:y.cpf,onChange:S,placeholder:"000.000.000-00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Telefone"}),e.jsx(fe,{name:"telefone",value:y.telefone,onChange:S,placeholder:"(00) 00000-0000"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Data de nascimento"}),e.jsx(fe,{name:"data_nascimento",type:"date",value:y.data_nascimento,onChange:S})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Endereço"}),e.jsx(fe,{name:"endereco",value:y.endereco,onChange:S,placeholder:"Rua, número, bairro"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Senha"}),e.jsx(fe,{name:"senha",type:"password",value:y.senha,onChange:S})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Confirmar senha"}),e.jsx(fe,{name:"confirmSenha",type:"password",value:y.confirmSenha,onChange:S})]})]}),e.jsxs(eo,{children:[e.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-3 py-2 rounded-md text-sm border mr-2",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:N,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 disabled:opacity-50",children:N?"Salvando...":"Criar"})]})]})]})]})]})}),e.jsx(ue,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Médico"}),e.jsxs(Nt,{value:a||void 0,onValueChange:P=>{o(P);try{localStorage.setItem("secretaria.medicoId",String(P))}catch{}},children:[e.jsx(vt,{children:e.jsx(bt,{placeholder:"Escolha um médico"})}),e.jsx(yt,{children:t.map(P=>{var R,$;const A=(P==null?void 0:P.nome)||[(R=P==null?void 0:P.user)==null?void 0:R.first_name,($=P==null?void 0:P.user)==null?void 0:$.last_name].filter(Boolean).join(" ")||`Médico #${P==null?void 0:P.id}`;return e.jsx(Se,{value:String(P.id),children:A},P.id)})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar"}),e.jsx(fe,{placeholder:"Nome do paciente",value:i,onChange:P=>c(P.target.value)})]}),e.jsx("div",{className:"flex items-end gap-2",children:e.jsxs("button",{onClick:E,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[e.jsx(Gt,{className:"h-4 w-4 mr-2"})," Buscar"]})})]})})]}),e.jsxs(de,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Lista"})}),e.jsx(ue,{children:d?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):k.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhum paciente encontrado."}):e.jsxs(In,{children:[e.jsx(Fn,{children:e.jsxs(Qt,{children:[e.jsx(nt,{children:"Nome"}),e.jsx(nt,{children:"Contato"})]})}),e.jsx(zn,{children:k.map(P=>{var A,R;return e.jsxs(Qt,{children:[e.jsx(Ze,{children:_g(P)}),e.jsxs(Ze,{className:"text-sm text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx(ai,{className:"inline h-4 w-4 mr-1"})," ",((A=P==null?void 0:P.user)==null?void 0:A.phone)||"—"]}),e.jsxs("div",{children:[e.jsx(Wr,{className:"inline h-4 w-4 mr-1"})," ",((R=P==null?void 0:P.user)==null?void 0:R.email)||"—"]})]})]},P.id)})})]})})]})]})}function Eg(t){const n=(t==null?void 0:t.user)||{};return(t==null?void 0:t.nome)||[n.first_name,n.last_name].filter(Boolean).join(" ")||n.username||`Médico #${(t==null?void 0:t.id)||"?"}`}function E4(){const[t,n]=x.useState(""),[a,o]=x.useState([]),[i,c]=x.useState(!0);x.useEffect(()=>{let f=!0;return(async()=>{c(!0);try{const u=await Jn.listarMedicos();if(!f)return;o(Array.isArray(u)?u:[])}finally{f&&c(!1)}})(),()=>{f=!1}},[]);const d=x.useMemo(()=>a.filter(f=>Eg(f).toLowerCase().includes(t.toLowerCase())),[a,t]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Gt,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Médicos"})]}),e.jsxs(de,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(xn,{className:"h-5 w-5"})," Buscar"]})}),e.jsx(ue,{children:e.jsx(fe,{placeholder:"Digite o nome do médico",value:t,onChange:f=>n(f.target.value)})})]}),e.jsxs(de,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Resultados"})}),e.jsx(ue,{children:i?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):d.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhum médico encontrado."}):e.jsxs(In,{children:[e.jsx(Fn,{children:e.jsxs(Qt,{children:[e.jsx(nt,{children:"Nome"}),e.jsx(nt,{children:"CRM"}),e.jsx(nt,{children:"Especialidade"}),e.jsx(nt,{children:"Contato"})]})}),e.jsx(zn,{children:d.map(f=>{var u,g;return e.jsxs(Qt,{children:[e.jsxs(Ze,{className:"font-medium flex items-center gap-2",children:[e.jsx(xs,{className:"h-4 w-4"})," ",Eg(f)]}),e.jsx(Ze,{children:f.crm||"—"}),e.jsx(Ze,{children:f.especialidade||"—"}),e.jsxs(Ze,{className:"text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ai,{className:"h-4 w-4"})," ",f.telefone||((u=f==null?void 0:f.user)==null?void 0:u.phone)||"—"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wr,{className:"h-4 w-4"})," ",((g=f==null?void 0:f.user)==null?void 0:g.email)||"—"]})]})]},f.id)})})]})})]})]})}function R4(){return e.jsx(hC,{children:e.jsx(xC,{children:e.jsx(ES,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsxs(yS,{children:[e.jsx(qe,{path:"/",element:e.jsx(d4,{})}),e.jsx(qe,{path:"/login",element:e.jsx(EP,{})}),e.jsx(qe,{path:"/registrar",element:e.jsx(RP,{})}),e.jsx(qe,{path:"/esqueci-senha",element:e.jsx(kP,{})}),e.jsxs(qe,{path:"/paciente",element:e.jsx(p4,{children:e.jsx(xP,{})}),children:[e.jsx(qe,{index:!0,element:e.jsx($t,{to:"perfil",replace:!0})}),e.jsx(qe,{path:"perfil",element:e.jsx(TP,{})}),e.jsx(qe,{path:"prontuario",element:e.jsx(MP,{})}),e.jsx(qe,{path:"consultas",element:e.jsx(fA,{})}),e.jsx(qe,{path:"consultas/nova",element:e.jsx(g4,{})}),e.jsx(qe,{path:"exames",element:e.jsx(pA,{})}),e.jsx(qe,{path:"historico-medico",element:e.jsx(xA,{})}),e.jsx(qe,{path:"medicos",element:e.jsx(gA,{})}),e.jsx(qe,{path:"receitas",element:e.jsx(jA,{})}),e.jsx(qe,{path:"configuracoes",element:e.jsx(Gu,{})})]}),e.jsxs(qe,{path:"/medico",element:e.jsx(m4,{children:e.jsx(gP,{})}),children:[e.jsx(qe,{index:!0,element:e.jsx($t,{to:"dashboard",replace:!0})}),e.jsx(qe,{path:"dashboard",element:e.jsx(bA,{})}),e.jsx(qe,{path:"meus-pacientes",element:e.jsx(SA,{})}),e.jsx(qe,{path:"minhas-consultas",element:e.jsx(CA,{})}),e.jsx(qe,{path:"consultas/hoje",element:e.jsx(FA,{})}),e.jsx(qe,{path:"paciente/:id/perfil",element:e.jsx(_A,{})}),e.jsx(qe,{path:"paciente/:id/prontuario",element:e.jsx(EA,{})}),e.jsx(qe,{path:"paciente/:id/exames",element:e.jsx(RA,{})}),e.jsx(qe,{path:"paciente/:id/iniciar-consulta",element:e.jsx(kA,{})}),e.jsx(qe,{path:"paciente/:id/consulta/resumo",element:e.jsx(BA,{})}),e.jsx(qe,{path:"paciente/:id/receita/preview",element:e.jsx(zA,{})}),e.jsx(qe,{path:"configuracoes",element:e.jsx(Gu,{})})]}),e.jsxs(qe,{path:"/clinica",element:e.jsx(f4,{children:e.jsx(o0,{})}),children:[e.jsx(qe,{index:!0,element:e.jsx($t,{to:"dashboard",replace:!0})}),e.jsx(qe,{path:"dashboard",element:e.jsx(UA,{})}),e.jsx(qe,{path:"calendario",element:e.jsx(qA,{})}),e.jsx(qe,{path:"disponibilidade",element:e.jsx(KA,{})}),e.jsx(qe,{path:"exames",element:e.jsx(GA,{})}),e.jsx(qe,{path:"pacientes",element:e.jsx(YA,{})}),e.jsx(qe,{path:"medicos",element:e.jsx(JA,{})}),e.jsx(qe,{path:"relatorios",element:e.jsx(QA,{})}),e.jsx(qe,{path:"configuracoes",element:e.jsx(t4,{})})]}),e.jsxs(qe,{path:"/admin",element:e.jsx(h4,{children:e.jsx(vP,{})}),children:[e.jsx(qe,{index:!0,element:e.jsx($t,{to:"dashboard",replace:!0})}),e.jsx(qe,{path:"dashboard",element:e.jsx(s4,{})}),e.jsx(qe,{path:"solicitacoes",element:e.jsx(n4,{})}),e.jsx(qe,{path:"solicitacoes/:id",element:e.jsx(a4,{})}),e.jsx(qe,{path:"relatorios",element:e.jsx(i4,{})}),e.jsx(qe,{path:"auditoria",element:e.jsx(l4,{})}),e.jsx(qe,{path:"usuarios",element:e.jsx(v4,{})}),e.jsx(qe,{path:"clinicas",element:e.jsx(y4,{})}),e.jsx(qe,{path:"configuracoes",element:e.jsx(j4,{})})]}),e.jsxs(qe,{path:"/secretaria",element:e.jsx(PP,{children:e.jsx(AP,{})}),children:[e.jsx(qe,{index:!0,element:e.jsx($t,{to:"dashboard",replace:!0})}),e.jsx(qe,{path:"dashboard",element:e.jsx(b4,{})}),e.jsx(qe,{path:"consultas",element:e.jsx(C4,{})}),e.jsx(qe,{path:"pacientes",element:e.jsx(_4,{})}),e.jsx(qe,{path:"medicos",element:e.jsx(E4,{})}),e.jsx(qe,{path:"configuracoes",element:e.jsx(Gu,{})})]}),e.jsx(qe,{path:"*",element:e.jsx("div",{children:"Página não encontrada"})})]})})})})}var wf="ToastProvider",[Nf,k4,P4]=_c("Toast"),[ew,bT]=Mn("Toast",[P4]),[A4,Lc]=ew(wf),tw=t=>{const{__scopeToast:n,label:a="Notification",duration:o=5e3,swipeDirection:i="right",swipeThreshold:c=50,children:d}=t,[f,u]=x.useState(null),[g,h]=x.useState(0),p=x.useRef(!1),v=x.useRef(!1);return a.trim()||console.error(`Invalid prop \`label\` supplied to \`${wf}\`. Expected non-empty \`string\`.`),e.jsx(Nf.Provider,{scope:n,children:e.jsx(A4,{scope:n,label:a,duration:o,swipeDirection:i,swipeThreshold:c,toastCount:g,viewport:f,onViewportChange:u,onToastAdd:x.useCallback(()=>h(N=>N+1),[]),onToastRemove:x.useCallback(()=>h(N=>N-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:v,children:d})})};tw.displayName=wf;var sw="ToastViewport",T4=["F8"],_m="toast.viewportPause",Em="toast.viewportResume",nw=x.forwardRef((t,n)=>{const{__scopeToast:a,hotkey:o=T4,label:i="Notifications ({hotkey})",...c}=t,d=Lc(sw,a),f=k4(a),u=x.useRef(null),g=x.useRef(null),h=x.useRef(null),p=x.useRef(null),v=Et(n,p,d.onViewportChange),N=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=d.toastCount>0;x.useEffect(()=>{const b=_=>{var E;o.length!==0&&o.every(k=>_[k]||_.code===k)&&((E=p.current)==null||E.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[o]),x.useEffect(()=>{const b=u.current,_=p.current;if(w&&b&&_){const S=()=>{if(!d.isClosePausedRef.current){const P=new CustomEvent(_m);_.dispatchEvent(P),d.isClosePausedRef.current=!0}},E=()=>{if(d.isClosePausedRef.current){const P=new CustomEvent(Em);_.dispatchEvent(P),d.isClosePausedRef.current=!1}},k=P=>{!b.contains(P.relatedTarget)&&E()},T=()=>{b.contains(document.activeElement)||E()};return b.addEventListener("focusin",S),b.addEventListener("focusout",k),b.addEventListener("pointermove",S),b.addEventListener("pointerleave",T),window.addEventListener("blur",S),window.addEventListener("focus",E),()=>{b.removeEventListener("focusin",S),b.removeEventListener("focusout",k),b.removeEventListener("pointermove",S),b.removeEventListener("pointerleave",T),window.removeEventListener("blur",S),window.removeEventListener("focus",E)}}},[w,d.isClosePausedRef]);const y=x.useCallback(({tabbingDirection:b})=>{const S=f().map(E=>{const k=E.ref.current,T=[k,...q4(k)];return b==="forwards"?T:T.reverse()});return(b==="forwards"?S.reverse():S).flat()},[f]);return x.useEffect(()=>{const b=p.current;if(b){const _=S=>{var T,P,A;const E=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!E){const R=document.activeElement,$=S.shiftKey;if(S.target===b&&$){(T=g.current)==null||T.focus();return}const V=y({tabbingDirection:$?"backwards":"forwards"}),J=V.findIndex(F=>F===R);Yu(V.slice(J+1))?S.preventDefault():$?(P=g.current)==null||P.focus():(A=h.current)==null||A.focus()}};return b.addEventListener("keydown",_),()=>b.removeEventListener("keydown",_)}},[f,y]),e.jsxs(h2,{ref:u,role:"region","aria-label":i.replace("{hotkey}",N),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&e.jsx(Rm,{ref:g,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});Yu(b)}}),e.jsx(Nf.Slot,{scope:a,children:e.jsx(Xe.ol,{tabIndex:-1,...c,ref:v})}),w&&e.jsx(Rm,{ref:h,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});Yu(b)}})]})});nw.displayName=sw;var aw="ToastFocusProxy",Rm=x.forwardRef((t,n)=>{const{__scopeToast:a,onFocusFromOutsideViewport:o,...i}=t,c=Lc(aw,a);return e.jsx(wc,{tabIndex:0,...i,ref:n,style:{position:"fixed"},onFocus:d=>{var g;const f=d.relatedTarget;!((g=c.viewport)!=null&&g.contains(f))&&o()}})});Rm.displayName=aw;var fi="Toast",M4="toast.swipeStart",D4="toast.swipeMove",O4="toast.swipeCancel",$4="toast.swipeEnd",rw=x.forwardRef((t,n)=>{const{forceMount:a,open:o,defaultOpen:i,onOpenChange:c,...d}=t,[f,u]=er({prop:o,defaultProp:i??!0,onChange:c,caller:fi});return e.jsx(Dn,{present:a||f,children:e.jsx(F4,{open:f,...d,ref:n,onClose:()=>u(!1),onPause:As(t.onPause),onResume:As(t.onResume),onSwipeStart:Te(t.onSwipeStart,g=>{g.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Te(t.onSwipeMove,g=>{const{x:h,y:p}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","move"),g.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Te(t.onSwipeCancel,g=>{g.currentTarget.setAttribute("data-swipe","cancel"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Te(t.onSwipeEnd,g=>{const{x:h,y:p}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","end"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});rw.displayName=fi;var[L4,I4]=ew(fi,{onClose(){}}),F4=x.forwardRef((t,n)=>{const{__scopeToast:a,type:o="foreground",duration:i,open:c,onClose:d,onEscapeKeyDown:f,onPause:u,onResume:g,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:v,onSwipeEnd:N,...w}=t,y=Lc(fi,a),[b,_]=x.useState(null),S=Et(n,F=>_(F)),E=x.useRef(null),k=x.useRef(null),T=i||y.duration,P=x.useRef(0),A=x.useRef(T),R=x.useRef(0),{onToastAdd:$,onToastRemove:O}=y,I=As(()=>{var K;(b==null?void 0:b.contains(document.activeElement))&&((K=y.viewport)==null||K.focus()),d()}),V=x.useCallback(F=>{!F||F===1/0||(window.clearTimeout(R.current),P.current=new Date().getTime(),R.current=window.setTimeout(I,F))},[I]);x.useEffect(()=>{const F=y.viewport;if(F){const K=()=>{V(A.current),g==null||g()},M=()=>{const W=new Date().getTime()-P.current;A.current=A.current-W,window.clearTimeout(R.current),u==null||u()};return F.addEventListener(_m,M),F.addEventListener(Em,K),()=>{F.removeEventListener(_m,M),F.removeEventListener(Em,K)}}},[y.viewport,T,u,g,V]),x.useEffect(()=>{c&&!y.isClosePausedRef.current&&V(T)},[c,T,y.isClosePausedRef,V]),x.useEffect(()=>($(),()=>O()),[$,O]);const J=x.useMemo(()=>b?mw(b):null,[b]);return y.viewport?e.jsxs(e.Fragment,{children:[J&&e.jsx(z4,{__scopeToast:a,role:"status","aria-live":o==="foreground"?"assertive":"polite",children:J}),e.jsx(L4,{scope:a,onClose:I,children:Fr.createPortal(e.jsx(Nf.ItemSlot,{scope:a,children:e.jsx(p2,{asChild:!0,onEscapeKeyDown:Te(f,()=>{y.isFocusedToastEscapeKeyDownRef.current||I(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Xe.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:S,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Te(t.onKeyDown,F=>{F.key==="Escape"&&(f==null||f(F.nativeEvent),F.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Te(t.onPointerDown,F=>{F.button===0&&(E.current={x:F.clientX,y:F.clientY})}),onPointerMove:Te(t.onPointerMove,F=>{if(!E.current)return;const K=F.clientX-E.current.x,M=F.clientY-E.current.y,W=!!k.current,U=["left","right"].includes(y.swipeDirection),X=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ee=U?X(0,K):0,L=U?0:X(0,M),q=F.pointerType==="touch"?10:2,te={x:ee,y:L},B={originalEvent:F,delta:te};W?(k.current=te,Pl(D4,p,B,{discrete:!1})):Rg(te,y.swipeDirection,q)?(k.current=te,Pl(M4,h,B,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(K)>q||Math.abs(M)>q)&&(E.current=null)}),onPointerUp:Te(t.onPointerUp,F=>{const K=k.current,M=F.target;if(M.hasPointerCapture(F.pointerId)&&M.releasePointerCapture(F.pointerId),k.current=null,E.current=null,K){const W=F.currentTarget,U={originalEvent:F,delta:K};Rg(K,y.swipeDirection,y.swipeThreshold)?Pl($4,N,U,{discrete:!0}):Pl(O4,v,U,{discrete:!0}),W.addEventListener("click",X=>X.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),z4=t=>{const{__scopeToast:n,children:a,...o}=t,i=Lc(fi,n),[c,d]=x.useState(!1),[f,u]=x.useState(!1);return V4(()=>d(!0)),x.useEffect(()=>{const g=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(g)},[]),f?null:e.jsx(ri,{asChild:!0,children:e.jsx(wc,{...o,children:c&&e.jsxs(e.Fragment,{children:[i.label," ",a]})})})},B4="ToastTitle",ow=x.forwardRef((t,n)=>{const{__scopeToast:a,...o}=t;return e.jsx(Xe.div,{...o,ref:n})});ow.displayName=B4;var U4="ToastDescription",iw=x.forwardRef((t,n)=>{const{__scopeToast:a,...o}=t;return e.jsx(Xe.div,{...o,ref:n})});iw.displayName=U4;var lw="ToastAction",cw=x.forwardRef((t,n)=>{const{altText:a,...o}=t;return a.trim()?e.jsx(uw,{altText:a,asChild:!0,children:e.jsx(bf,{...o,ref:n})}):(console.error(`Invalid prop \`altText\` supplied to \`${lw}\`. Expected non-empty \`string\`.`),null)});cw.displayName=lw;var dw="ToastClose",bf=x.forwardRef((t,n)=>{const{__scopeToast:a,...o}=t,i=I4(dw,a);return e.jsx(uw,{asChild:!0,children:e.jsx(Xe.button,{type:"button",...o,ref:n,onClick:Te(t.onClick,i.onClose)})})});bf.displayName=dw;var uw=x.forwardRef((t,n)=>{const{__scopeToast:a,altText:o,...i}=t;return e.jsx(Xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...i,ref:n})});function mw(t){const n=[];return Array.from(t.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&n.push(o.textContent),H4(o)){const i=o.ariaHidden||o.hidden||o.style.display==="none",c=o.dataset.radixToastAnnounceExclude==="";if(!i)if(c){const d=o.dataset.radixToastAnnounceAlt;d&&n.push(d)}else n.push(...mw(o))}}),n}function Pl(t,n,a,{discrete:o}){const i=a.originalEvent.currentTarget,c=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:a});n&&i.addEventListener(t,n,{once:!0}),o?Um(i,c):i.dispatchEvent(c)}var Rg=(t,n,a=0)=>{const o=Math.abs(t.x),i=Math.abs(t.y),c=o>i;return n==="left"||n==="right"?c&&o>a:!c&&i>a};function V4(t=()=>{}){const n=As(t);ls(()=>{let a=0,o=0;return a=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(n)),()=>{window.cancelAnimationFrame(a),window.cancelAnimationFrame(o)}},[n])}function H4(t){return t.nodeType===t.ELEMENT_NODE}function q4(t){const n=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)n.push(a.currentNode);return n}function Yu(t){const n=document.activeElement;return t.some(a=>a===n?!0:(a.focus(),document.activeElement!==n))}var W4=tw,fw=nw,pw=rw,hw=ow,xw=iw,gw=cw,vw=bf;const K4=W4,yw=x.forwardRef(({className:t,...n},a)=>e.jsx(fw,{ref:a,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...n}));yw.displayName=fw.displayName;const G4=cc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),jw=x.forwardRef(({className:t,variant:n,...a},o)=>e.jsx(pw,{ref:o,className:we(G4({variant:n}),t),...a}));jw.displayName=pw.displayName;const Y4=x.forwardRef(({className:t,...n},a)=>e.jsx(gw,{ref:a,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...n}));Y4.displayName=gw.displayName;const ww=x.forwardRef(({className:t,...n},a)=>e.jsx(vw,{ref:a,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...n,children:e.jsx(Bm,{className:"h-4 w-4"})}));ww.displayName=vw.displayName;const Nw=x.forwardRef(({className:t,...n},a)=>e.jsx(hw,{ref:a,className:we("text-sm font-semibold",t),...n}));Nw.displayName=hw.displayName;const bw=x.forwardRef(({className:t,...n},a)=>e.jsx(xw,{ref:a,className:we("text-sm opacity-90",t),...n}));bw.displayName=xw.displayName;function J4(){const{toasts:t}=Xt();return e.jsxs(K4,{children:[t.map(({id:n,title:a,description:o,action:i,...c})=>e.jsxs(jw,{...c,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(Nw,{children:a}),o&&e.jsx(bw,{children:o})]}),i,e.jsx(ww,{})]},n)),e.jsx(yw,{})]})}Cb.createRoot(document.getElementById("root")).render(e.jsxs(AR,{defaultTheme:"system",storageKey:"medicinefront-theme",children:[e.jsx(R4,{}),e.jsx(J4,{})]}));export{kg as g};
