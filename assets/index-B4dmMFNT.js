function _N(t,a){for(var r=0;r<a.length;r++){const o=a[r];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in t)){const c=Object.getOwnPropertyDescriptor(o,i);c&&Object.defineProperty(t,i,c.get?c:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(i){if(i.ep)return;i.ep=!0;const c=r(i);fetch(i.href,c)}})();function qg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vu={exports:{}},ci={},Hu={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx;function kN(){if(gx)return mt;gx=1;var t=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function v(D){return D===null||typeof D!="object"?null:(D=h&&D[h]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,j={};function N(D,H,ae){this.props=D,this.context=H,this.refs=j,this.updater=ae||w}N.prototype.isReactComponent={},N.prototype.setState=function(D,H){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,H,"setState")},N.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function P(){}P.prototype=N.prototype;function C(D,H,ae){this.props=D,this.context=H,this.refs=j,this.updater=ae||w}var _=C.prototype=new P;_.constructor=C,y(_,N.prototype),_.isPureReactComponent=!0;var E=Array.isArray,k=Object.prototype.hasOwnProperty,A={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function R(D,H,ae){var V,U={},Q=null,te=null;if(H!=null)for(V in H.ref!==void 0&&(te=H.ref),H.key!==void 0&&(Q=""+H.key),H)k.call(H,V)&&!T.hasOwnProperty(V)&&(U[V]=H[V]);var oe=arguments.length-2;if(oe===1)U.children=ae;else if(1<oe){for(var ge=Array(oe),be=0;be<oe;be++)ge[be]=arguments[be+2];U.children=ge}if(D&&D.defaultProps)for(V in oe=D.defaultProps,oe)U[V]===void 0&&(U[V]=oe[V]);return{$$typeof:t,type:D,key:Q,ref:te,props:U,_owner:A.current}}function I(D,H){return{$$typeof:t,type:D.type,key:H,ref:D.ref,props:D.props,_owner:D._owner}}function L(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function B(D){var H={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ae){return H[ae]})}var G=/\/+/g;function F(D,H){return typeof D=="object"&&D!==null&&D.key!=null?B(""+D.key):H.toString(36)}function M(D,H,ae,V,U){var Q=typeof D;(Q==="undefined"||Q==="boolean")&&(D=null);var te=!1;if(D===null)te=!0;else switch(Q){case"string":case"number":te=!0;break;case"object":switch(D.$$typeof){case t:case a:te=!0}}if(te)return te=D,U=U(te),D=V===""?"."+F(te,0):V,E(U)?(ae="",D!=null&&(ae=D.replace(G,"$&/")+"/"),M(U,H,ae,"",function(be){return be})):U!=null&&(L(U)&&(U=I(U,ae+(!U.key||te&&te.key===U.key?"":(""+U.key).replace(G,"$&/")+"/")+D)),H.push(U)),1;if(te=0,V=V===""?".":V+":",E(D))for(var oe=0;oe<D.length;oe++){Q=D[oe];var ge=V+F(Q,oe);te+=M(Q,H,ae,ge,U)}else if(ge=v(D),typeof ge=="function")for(D=ge.call(D),oe=0;!(Q=D.next()).done;)Q=Q.value,ge=V+F(Q,oe++),te+=M(Q,H,ae,ge,U);else if(Q==="object")throw H=String(D),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return te}function K(D,H,ae){if(D==null)return D;var V=[],U=0;return M(D,V,"","",function(Q){return H.call(ae,Q,U++)}),V}function $(D){if(D._status===-1){var H=D._result;H=H(),H.then(function(ae){(D._status===0||D._status===-1)&&(D._status=1,D._result=ae)},function(ae){(D._status===0||D._status===-1)&&(D._status=2,D._result=ae)}),D._status===-1&&(D._status=0,D._result=H)}if(D._status===1)return D._result.default;throw D._result}var z={current:null},q={transition:null},Y={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:q,ReactCurrentOwner:A};function ee(){throw Error("act(...) is not supported in production builds of React.")}return mt.Children={map:K,forEach:function(D,H,ae){K(D,function(){H.apply(this,arguments)},ae)},count:function(D){var H=0;return K(D,function(){H++}),H},toArray:function(D){return K(D,function(H){return H})||[]},only:function(D){if(!L(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},mt.Component=N,mt.Fragment=r,mt.Profiler=i,mt.PureComponent=C,mt.StrictMode=o,mt.Suspense=u,mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,mt.act=ee,mt.cloneElement=function(D,H,ae){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var V=y({},D.props),U=D.key,Q=D.ref,te=D._owner;if(H!=null){if(H.ref!==void 0&&(Q=H.ref,te=A.current),H.key!==void 0&&(U=""+H.key),D.type&&D.type.defaultProps)var oe=D.type.defaultProps;for(ge in H)k.call(H,ge)&&!T.hasOwnProperty(ge)&&(V[ge]=H[ge]===void 0&&oe!==void 0?oe[ge]:H[ge])}var ge=arguments.length-2;if(ge===1)V.children=ae;else if(1<ge){oe=Array(ge);for(var be=0;be<ge;be++)oe[be]=arguments[be+2];V.children=oe}return{$$typeof:t,type:D.type,key:U,ref:Q,props:V,_owner:te}},mt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:c,_context:D},D.Consumer=D},mt.createElement=R,mt.createFactory=function(D){var H=R.bind(null,D);return H.type=D,H},mt.createRef=function(){return{current:null}},mt.forwardRef=function(D){return{$$typeof:p,render:D}},mt.isValidElement=L,mt.lazy=function(D){return{$$typeof:f,_payload:{_status:-1,_result:D},_init:$}},mt.memo=function(D,H){return{$$typeof:g,type:D,compare:H===void 0?null:H}},mt.startTransition=function(D){var H=q.transition;q.transition={};try{D()}finally{q.transition=H}},mt.unstable_act=ee,mt.useCallback=function(D,H){return z.current.useCallback(D,H)},mt.useContext=function(D){return z.current.useContext(D)},mt.useDebugValue=function(){},mt.useDeferredValue=function(D){return z.current.useDeferredValue(D)},mt.useEffect=function(D,H){return z.current.useEffect(D,H)},mt.useId=function(){return z.current.useId()},mt.useImperativeHandle=function(D,H,ae){return z.current.useImperativeHandle(D,H,ae)},mt.useInsertionEffect=function(D,H){return z.current.useInsertionEffect(D,H)},mt.useLayoutEffect=function(D,H){return z.current.useLayoutEffect(D,H)},mt.useMemo=function(D,H){return z.current.useMemo(D,H)},mt.useReducer=function(D,H,ae){return z.current.useReducer(D,H,ae)},mt.useRef=function(D){return z.current.useRef(D)},mt.useState=function(D){return z.current.useState(D)},mt.useSyncExternalStore=function(D,H,ae){return z.current.useSyncExternalStore(D,H,ae)},mt.useTransition=function(){return z.current.useTransition()},mt.version="18.3.1",mt}var vx;function Rc(){return vx||(vx=1,Hu.exports=kN()),Hu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jx;function EN(){if(jx)return ci;jx=1;var t=Rc(),a=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(p,u,g){var f,h={},v=null,w=null;g!==void 0&&(v=""+g),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(w=u.ref);for(f in u)o.call(u,f)&&!c.hasOwnProperty(f)&&(h[f]=u[f]);if(p&&p.defaultProps)for(f in u=p.defaultProps,u)h[f]===void 0&&(h[f]=u[f]);return{$$typeof:a,type:p,key:v,ref:w,props:h,_owner:i.current}}return ci.Fragment=r,ci.jsx=d,ci.jsxs=d,ci}var yx;function RN(){return yx||(yx=1,Vu.exports=EN()),Vu.exports}var e=RN(),Jl={},qu={exports:{}},Gs={},Wu={exports:{}},Gu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx;function PN(){return bx||(bx=1,(function(t){function a(q,Y){var ee=q.length;q.push(Y);e:for(;0<ee;){var D=ee-1>>>1,H=q[D];if(0<i(H,Y))q[D]=Y,q[ee]=H,ee=D;else break e}}function r(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var Y=q[0],ee=q.pop();if(ee!==Y){q[0]=ee;e:for(var D=0,H=q.length,ae=H>>>1;D<ae;){var V=2*(D+1)-1,U=q[V],Q=V+1,te=q[Q];if(0>i(U,ee))Q<H&&0>i(te,U)?(q[D]=te,q[Q]=ee,D=Q):(q[D]=U,q[V]=ee,D=V);else if(Q<H&&0>i(te,ee))q[D]=te,q[Q]=ee,D=Q;else break e}}return Y}function i(q,Y){var ee=q.sortIndex-Y.sortIndex;return ee!==0?ee:q.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();t.unstable_now=function(){return d.now()-p}}var u=[],g=[],f=1,h=null,v=3,w=!1,y=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(q){for(var Y=r(g);Y!==null;){if(Y.callback===null)o(g);else if(Y.startTime<=q)o(g),Y.sortIndex=Y.expirationTime,a(u,Y);else break;Y=r(g)}}function E(q){if(j=!1,_(q),!y)if(r(u)!==null)y=!0,$(k);else{var Y=r(g);Y!==null&&z(E,Y.startTime-q)}}function k(q,Y){y=!1,j&&(j=!1,P(R),R=-1),w=!0;var ee=v;try{for(_(Y),h=r(u);h!==null&&(!(h.expirationTime>Y)||q&&!B());){var D=h.callback;if(typeof D=="function"){h.callback=null,v=h.priorityLevel;var H=D(h.expirationTime<=Y);Y=t.unstable_now(),typeof H=="function"?h.callback=H:h===r(u)&&o(u),_(Y)}else o(u);h=r(u)}if(h!==null)var ae=!0;else{var V=r(g);V!==null&&z(E,V.startTime-Y),ae=!1}return ae}finally{h=null,v=ee,w=!1}}var A=!1,T=null,R=-1,I=5,L=-1;function B(){return!(t.unstable_now()-L<I)}function G(){if(T!==null){var q=t.unstable_now();L=q;var Y=!0;try{Y=T(!0,q)}finally{Y?F():(A=!1,T=null)}}else A=!1}var F;if(typeof C=="function")F=function(){C(G)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,K=M.port2;M.port1.onmessage=G,F=function(){K.postMessage(null)}}else F=function(){N(G,0)};function $(q){T=q,A||(A=!0,F())}function z(q,Y){R=N(function(){q(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){y||w||(y=!0,$(k))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(q){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var ee=v;v=Y;try{return q()}finally{v=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,Y){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ee=v;v=q;try{return Y()}finally{v=ee}},t.unstable_scheduleCallback=function(q,Y,ee){var D=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?D+ee:D):ee=D,q){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ee+H,q={id:f++,callback:Y,priorityLevel:q,startTime:ee,expirationTime:H,sortIndex:-1},ee>D?(q.sortIndex=ee,a(g,q),r(u)===null&&q===r(g)&&(j?(P(R),R=-1):j=!0,z(E,ee-D))):(q.sortIndex=H,a(u,q),y||w||(y=!0,$(k))),q},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(q){var Y=v;return function(){var ee=v;v=Y;try{return q.apply(this,arguments)}finally{v=ee}}}})(Gu)),Gu}var wx;function AN(){return wx||(wx=1,Wu.exports=PN()),Wu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nx;function TN(){if(Nx)return Gs;Nx=1;var t=Rc(),a=AN();function r(s){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function c(s,n){d(s,n),d(s+"Capture",n)}function d(s,n){for(i[s]=n,s=0;s<n.length;s++)o.add(n[s])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function v(s){return u.call(h,s)?!0:u.call(f,s)?!1:g.test(s)?h[s]=!0:(f[s]=!0,!1)}function w(s,n,l,m){if(l!==null&&l.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return m?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function y(s,n,l,m){if(n===null||typeof n>"u"||w(s,n,l,m))return!0;if(m)return!1;if(l!==null)switch(l.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function j(s,n,l,m,b,S,O){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=m,this.attributeNamespace=b,this.mustUseProperty=l,this.propertyName=s,this.type=n,this.sanitizeURL=S,this.removeEmptyString=O}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){N[s]=new j(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var n=s[0];N[n]=new j(n,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){N[s]=new j(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){N[s]=new j(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){N[s]=new j(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){N[s]=new j(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){N[s]=new j(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){N[s]=new j(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){N[s]=new j(s,5,!1,s.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function C(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var n=s.replace(P,C);N[n]=new j(n,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var n=s.replace(P,C);N[n]=new j(n,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var n=s.replace(P,C);N[n]=new j(n,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){N[s]=new j(s,1,!1,s.toLowerCase(),null,!1,!1)}),N.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){N[s]=new j(s,1,!1,s.toLowerCase(),null,!0,!0)});function _(s,n,l,m){var b=N.hasOwnProperty(n)?N[n]:null;(b!==null?b.type!==0:m||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(y(n,l,b,m)&&(l=null),m||b===null?v(n)&&(l===null?s.removeAttribute(n):s.setAttribute(n,""+l)):b.mustUseProperty?s[b.propertyName]=l===null?b.type===3?!1:"":l:(n=b.attributeName,m=b.attributeNamespace,l===null?s.removeAttribute(n):(b=b.type,l=b===3||b===4&&l===!0?"":""+l,m?s.setAttributeNS(m,n,l):s.setAttribute(n,l))))}var E=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),B=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),q=Symbol.iterator;function Y(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var ee=Object.assign,D;function H(s){if(D===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);D=n&&n[1]||""}return`
`+D+s}var ae=!1;function V(s,n){if(!s||ae)return"";ae=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(le){var m=le}Reflect.construct(s,[],n)}else{try{n.call()}catch(le){m=le}s.call(n.prototype)}else{try{throw Error()}catch(le){m=le}s()}}catch(le){if(le&&m&&typeof le.stack=="string"){for(var b=le.stack.split(`
`),S=m.stack.split(`
`),O=b.length-1,W=S.length-1;1<=O&&0<=W&&b[O]!==S[W];)W--;for(;1<=O&&0<=W;O--,W--)if(b[O]!==S[W]){if(O!==1||W!==1)do if(O--,W--,0>W||b[O]!==S[W]){var J=`
`+b[O].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=O&&0<=W);break}}}finally{ae=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?H(s):""}function U(s){switch(s.tag){case 5:return H(s.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return s=V(s.type,!1),s;case 11:return s=V(s.type.render,!1),s;case 1:return s=V(s.type,!0),s;default:return""}}function Q(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case A:return"Portal";case I:return"Profiler";case R:return"StrictMode";case F:return"Suspense";case M:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case B:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case G:var n=s.render;return s=s.displayName,s||(s=n.displayName||n.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case K:return n=s.displayName||null,n!==null?n:Q(s.type)||"Memo";case $:n=s._payload,s=s._init;try{return Q(s(n))}catch{}}return null}function te(s){var n=s.type;switch(s.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=n.render,s=s.displayName||s.name||"",n.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(n);case 8:return n===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function oe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ge(s){var n=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function be(s){var n=ge(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,n),m=""+s[n];if(!s.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var b=l.get,S=l.set;return Object.defineProperty(s,n,{configurable:!0,get:function(){return b.call(this)},set:function(O){m=""+O,S.call(this,O)}}),Object.defineProperty(s,n,{enumerable:l.enumerable}),{getValue:function(){return m},setValue:function(O){m=""+O},stopTracking:function(){s._valueTracker=null,delete s[n]}}}}function Ee(s){s._valueTracker||(s._valueTracker=be(s))}function Ae(s){if(!s)return!1;var n=s._valueTracker;if(!n)return!0;var l=n.getValue(),m="";return s&&(m=ge(s)?s.checked?"true":"false":s.value),s=m,s!==l?(n.setValue(s),!0):!1}function We(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function rt(s,n){var l=n.checked;return ee({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function kt(s,n){var l=n.defaultValue==null?"":n.defaultValue,m=n.checked!=null?n.checked:n.defaultChecked;l=oe(n.value!=null?n.value:l),s._wrapperState={initialChecked:m,initialValue:l,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function jt(s,n){n=n.checked,n!=null&&_(s,"checked",n,!1)}function Lt(s,n){jt(s,n);var l=oe(n.value),m=n.type;if(l!=null)m==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}n.hasOwnProperty("value")?At(s,n.type,l):n.hasOwnProperty("defaultValue")&&At(s,n.type,oe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(s.defaultChecked=!!n.defaultChecked)}function dt(s,n,l){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var m=n.type;if(!(m!=="submit"&&m!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+s._wrapperState.initialValue,l||n===s.value||(s.value=n),s.defaultValue=n}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function At(s,n,l){(n!=="number"||We(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Gt=Array.isArray;function ke(s,n,l,m){if(s=s.options,n){n={};for(var b=0;b<l.length;b++)n["$"+l[b]]=!0;for(l=0;l<s.length;l++)b=n.hasOwnProperty("$"+s[l].value),s[l].selected!==b&&(s[l].selected=b),b&&m&&(s[l].defaultSelected=!0)}else{for(l=""+oe(l),n=null,b=0;b<s.length;b++){if(s[b].value===l){s[b].selected=!0,m&&(s[b].defaultSelected=!0);return}n!==null||s[b].disabled||(n=s[b])}n!==null&&(n.selected=!0)}}function hs(s,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return ee({},n,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Qs(s,n){var l=n.value;if(l==null){if(l=n.children,n=n.defaultValue,l!=null){if(n!=null)throw Error(r(92));if(Gt(l)){if(1<l.length)throw Error(r(93));l=l[0]}n=l}n==null&&(n=""),l=n}s._wrapperState={initialValue:oe(l)}}function tt(s,n){var l=oe(n.value),m=oe(n.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),n.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),m!=null&&(s.defaultValue=""+m)}function ia(s){var n=s.textContent;n===s._wrapperState.initialValue&&n!==""&&n!==null&&(s.value=n)}function It(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ss(s,n){return s==null||s==="http://www.w3.org/1999/xhtml"?It(n):s==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ft,ss=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,l,m,b){MSApp.execUnsafeLocalFunction(function(){return s(n,l,m,b)})}:s})(function(s,n){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=n;else{for(Ft=Ft||document.createElement("div"),Ft.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ft.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;n.firstChild;)s.appendChild(n.firstChild)}});function Vt(s,n){if(n){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=n;return}}s.textContent=n}var va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gr=["Webkit","ms","Moz","O"];Object.keys(va).forEach(function(s){gr.forEach(function(n){n=n+s.charAt(0).toUpperCase()+s.substring(1),va[n]=va[s]})});function En(s,n,l){return n==null||typeof n=="boolean"||n===""?"":l||typeof n!="number"||n===0||va.hasOwnProperty(s)&&va[s]?(""+n).trim():n+"px"}function sr(s,n){s=s.style;for(var l in n)if(n.hasOwnProperty(l)){var m=l.indexOf("--")===0,b=En(l,n[l],m);l==="float"&&(l="cssFloat"),m?s.setProperty(l,b):s[l]=b}}var Bi=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pe(s,n){if(n){if(Bi[s]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Ce(s,n){if(s.indexOf("-")===-1)return typeof n.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ie=null;function gt(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $e=null,Ge=null,Dt=null;function ja(s){if(s=Ko(s)){if(typeof $e!="function")throw Error(r(280));var n=s.stateNode;n&&(n=ul(n),$e(s.stateNode,s.type,n))}}function ze(s){Ge?Dt?Dt.push(s):Dt=[s]:Ge=s}function Ue(){if(Ge){var s=Ge,n=Dt;if(Dt=Ge=null,ja(s),n)for(s=0;s<n.length;s++)ja(n[s])}}function qe(s,n){return s(n)}function Te(){}var pe=!1;function ut(s,n,l){if(pe)return s(n,l);pe=!0;try{return qe(s,n,l)}finally{pe=!1,(Ge!==null||Dt!==null)&&(Te(),Ue())}}function as(s,n){var l=s.stateNode;if(l===null)return null;var m=ul(l);if(m===null)return null;l=m[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,n,typeof l));return l}var rs=!1;if(p)try{var vt={};Object.defineProperty(vt,"passive",{get:function(){rs=!0}}),window.addEventListener("test",vt,vt),window.removeEventListener("test",vt,vt)}catch{rs=!1}function ot(s,n,l,m,b,S,O,W,J){var le=Array.prototype.slice.call(arguments,3);try{n.apply(l,le)}catch(je){this.onError(je)}}var Xt=!1,Cs=null,zs=!1,Oa=null,Ui={onError:function(s){Xt=!0,Cs=s}};function Vi(s,n,l,m,b,S,O,W,J){Xt=!1,Cs=null,ot.apply(Ui,arguments)}function Hi(s,n,l,m,b,S,O,W,J){if(Vi.apply(this,arguments),Xt){if(Xt){var le=Cs;Xt=!1,Cs=null}else throw Error(r(198));zs||(zs=!0,Oa=le)}}function $a(s){var n=s,l=s;if(s.alternate)for(;n.return;)n=n.return;else{s=n;do n=s,(n.flags&4098)!==0&&(l=n.return),s=n.return;while(s)}return n.tag===3?l:null}function So(s){if(s.tag===13){var n=s.memoizedState;if(n===null&&(s=s.alternate,s!==null&&(n=s.memoizedState)),n!==null)return n.dehydrated}return null}function Co(s){if($a(s)!==s)throw Error(r(188))}function qi(s){var n=s.alternate;if(!n){if(n=$a(s),n===null)throw Error(r(188));return n!==s?null:s}for(var l=s,m=n;;){var b=l.return;if(b===null)break;var S=b.alternate;if(S===null){if(m=b.return,m!==null){l=m;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===l)return Co(b),s;if(S===m)return Co(b),n;S=S.sibling}throw Error(r(188))}if(l.return!==m.return)l=b,m=S;else{for(var O=!1,W=b.child;W;){if(W===l){O=!0,l=b,m=S;break}if(W===m){O=!0,m=b,l=S;break}W=W.sibling}if(!O){for(W=S.child;W;){if(W===l){O=!0,l=S,m=b;break}if(W===m){O=!0,m=S,l=b;break}W=W.sibling}if(!O)throw Error(r(189))}}if(l.alternate!==m)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:n}function _o(s){return s=qi(s),s!==null?ko(s):null}function ko(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var n=ko(s);if(n!==null)return n;s=s.sibling}return null}var Eo=a.unstable_scheduleCallback,Ro=a.unstable_cancelCallback,Wi=a.unstable_shouldYield,_e=a.unstable_requestPaint,de=a.unstable_now,Kt=a.unstable_getCurrentPriorityLevel,De=a.unstable_ImmediatePriority,_s=a.unstable_UserBlockingPriority,zt=a.unstable_NormalPriority,vs=a.unstable_LowPriority,Nt=a.unstable_IdlePriority,ds=null,Ot=null;function Rn(s){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(ds,s,void 0,(s.current.flags&128)===128)}catch{}}var Xs=Math.clz32?Math.clz32:Hb,Bs=Math.log,Vb=Math.LN2;function Hb(s){return s>>>=0,s===0?32:31-(Bs(s)/Vb|0)|0}var Gi=64,Ki=4194304;function Po(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Yi(s,n){var l=s.pendingLanes;if(l===0)return 0;var m=0,b=s.suspendedLanes,S=s.pingedLanes,O=l&268435455;if(O!==0){var W=O&~b;W!==0?m=Po(W):(S&=O,S!==0&&(m=Po(S)))}else O=l&~b,O!==0?m=Po(O):S!==0&&(m=Po(S));if(m===0)return 0;if(n!==0&&n!==m&&(n&b)===0&&(b=m&-m,S=n&-n,b>=S||b===16&&(S&4194240)!==0))return n;if((m&4)!==0&&(m|=l&16),n=s.entangledLanes,n!==0)for(s=s.entanglements,n&=m;0<n;)l=31-Xs(n),b=1<<l,m|=s[l],n&=~b;return m}function qb(s,n){switch(s){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wb(s,n){for(var l=s.suspendedLanes,m=s.pingedLanes,b=s.expirationTimes,S=s.pendingLanes;0<S;){var O=31-Xs(S),W=1<<O,J=b[O];J===-1?((W&l)===0||(W&m)!==0)&&(b[O]=qb(W,n)):J<=n&&(s.expiredLanes|=W),S&=~W}}function dd(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Kf(){var s=Gi;return Gi<<=1,(Gi&4194240)===0&&(Gi=64),s}function ud(s){for(var n=[],l=0;31>l;l++)n.push(s);return n}function Ao(s,n,l){s.pendingLanes|=n,n!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,n=31-Xs(n),s[n]=l}function Gb(s,n){var l=s.pendingLanes&~n;s.pendingLanes=n,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=n,s.mutableReadLanes&=n,s.entangledLanes&=n,n=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<l;){var b=31-Xs(l),S=1<<b;n[b]=0,m[b]=-1,s[b]=-1,l&=~S}}function md(s,n){var l=s.entangledLanes|=n;for(s=s.entanglements;l;){var m=31-Xs(l),b=1<<m;b&n|s[m]&n&&(s[m]|=n),l&=~b}}var Mt=0;function Yf(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Jf,fd,Qf,Xf,Zf,hd=!1,Ji=[],vr=null,jr=null,yr=null,To=new Map,Mo=new Map,br=[],Kb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eh(s,n){switch(s){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":To.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(n.pointerId)}}function Do(s,n,l,m,b,S){return s===null||s.nativeEvent!==S?(s={blockedOn:n,domEventName:l,eventSystemFlags:m,nativeEvent:S,targetContainers:[b]},n!==null&&(n=Ko(n),n!==null&&fd(n)),s):(s.eventSystemFlags|=m,n=s.targetContainers,b!==null&&n.indexOf(b)===-1&&n.push(b),s)}function Yb(s,n,l,m,b){switch(n){case"focusin":return vr=Do(vr,s,n,l,m,b),!0;case"dragenter":return jr=Do(jr,s,n,l,m,b),!0;case"mouseover":return yr=Do(yr,s,n,l,m,b),!0;case"pointerover":var S=b.pointerId;return To.set(S,Do(To.get(S)||null,s,n,l,m,b)),!0;case"gotpointercapture":return S=b.pointerId,Mo.set(S,Do(Mo.get(S)||null,s,n,l,m,b)),!0}return!1}function th(s){var n=Xr(s.target);if(n!==null){var l=$a(n);if(l!==null){if(n=l.tag,n===13){if(n=So(l),n!==null){s.blockedOn=n,Zf(s.priority,function(){Qf(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Qi(s){if(s.blockedOn!==null)return!1;for(var n=s.targetContainers;0<n.length;){var l=xd(s.domEventName,s.eventSystemFlags,n[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var m=new l.constructor(l.type,l);Ie=m,l.target.dispatchEvent(m),Ie=null}else return n=Ko(l),n!==null&&fd(n),s.blockedOn=l,!1;n.shift()}return!0}function sh(s,n,l){Qi(s)&&l.delete(n)}function Jb(){hd=!1,vr!==null&&Qi(vr)&&(vr=null),jr!==null&&Qi(jr)&&(jr=null),yr!==null&&Qi(yr)&&(yr=null),To.forEach(sh),Mo.forEach(sh)}function Oo(s,n){s.blockedOn===n&&(s.blockedOn=null,hd||(hd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Jb)))}function $o(s){function n(b){return Oo(b,s)}if(0<Ji.length){Oo(Ji[0],s);for(var l=1;l<Ji.length;l++){var m=Ji[l];m.blockedOn===s&&(m.blockedOn=null)}}for(vr!==null&&Oo(vr,s),jr!==null&&Oo(jr,s),yr!==null&&Oo(yr,s),To.forEach(n),Mo.forEach(n),l=0;l<br.length;l++)m=br[l],m.blockedOn===s&&(m.blockedOn=null);for(;0<br.length&&(l=br[0],l.blockedOn===null);)th(l),l.blockedOn===null&&br.shift()}var Pn=E.ReactCurrentBatchConfig,Xi=!0;function Qb(s,n,l,m){var b=Mt,S=Pn.transition;Pn.transition=null;try{Mt=1,pd(s,n,l,m)}finally{Mt=b,Pn.transition=S}}function Xb(s,n,l,m){var b=Mt,S=Pn.transition;Pn.transition=null;try{Mt=4,pd(s,n,l,m)}finally{Mt=b,Pn.transition=S}}function pd(s,n,l,m){if(Xi){var b=xd(s,n,l,m);if(b===null)Md(s,n,m,Zi,l),eh(s,m);else if(Yb(b,s,n,l,m))m.stopPropagation();else if(eh(s,m),n&4&&-1<Kb.indexOf(s)){for(;b!==null;){var S=Ko(b);if(S!==null&&Jf(S),S=xd(s,n,l,m),S===null&&Md(s,n,m,Zi,l),S===b)break;b=S}b!==null&&m.stopPropagation()}else Md(s,n,m,null,l)}}var Zi=null;function xd(s,n,l,m){if(Zi=null,s=gt(m),s=Xr(s),s!==null)if(n=$a(s),n===null)s=null;else if(l=n.tag,l===13){if(s=So(n),s!==null)return s;s=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;s=null}else n!==s&&(s=null);return Zi=s,null}function ah(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kt()){case De:return 1;case _s:return 4;case zt:case vs:return 16;case Nt:return 536870912;default:return 16}default:return 16}}var wr=null,gd=null,el=null;function rh(){if(el)return el;var s,n=gd,l=n.length,m,b="value"in wr?wr.value:wr.textContent,S=b.length;for(s=0;s<l&&n[s]===b[s];s++);var O=l-s;for(m=1;m<=O&&n[l-m]===b[S-m];m++);return el=b.slice(s,1<m?1-m:void 0)}function tl(s){var n=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&n===13&&(s=13)):s=n,s===10&&(s=13),32<=s||s===13?s:0}function sl(){return!0}function nh(){return!1}function Zs(s){function n(l,m,b,S,O){this._reactName=l,this._targetInst=b,this.type=m,this.nativeEvent=S,this.target=O,this.currentTarget=null;for(var W in s)s.hasOwnProperty(W)&&(l=s[W],this[W]=l?l(S):S[W]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?sl:nh,this.isPropagationStopped=nh,this}return ee(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),n}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vd=Zs(An),Lo=ee({},An,{view:0,detail:0}),Zb=Zs(Lo),jd,yd,Io,al=ee({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Io&&(Io&&s.type==="mousemove"?(jd=s.screenX-Io.screenX,yd=s.screenY-Io.screenY):yd=jd=0,Io=s),jd)},movementY:function(s){return"movementY"in s?s.movementY:yd}}),oh=Zs(al),ew=ee({},al,{dataTransfer:0}),tw=Zs(ew),sw=ee({},Lo,{relatedTarget:0}),bd=Zs(sw),aw=ee({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),rw=Zs(aw),nw=ee({},An,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ow=Zs(nw),iw=ee({},An,{data:0}),ih=Zs(iw),lw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uw(s){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(s):(s=dw[s])?!!n[s]:!1}function wd(){return uw}var mw=ee({},Lo,{key:function(s){if(s.key){var n=lw[s.key]||s.key;if(n!=="Unidentified")return n}return s.type==="keypress"?(s=tl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?cw[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wd,charCode:function(s){return s.type==="keypress"?tl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?tl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),fw=Zs(mw),hw=ee({},al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lh=Zs(hw),pw=ee({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wd}),xw=Zs(pw),gw=ee({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),vw=Zs(gw),jw=ee({},al,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),yw=Zs(jw),bw=[9,13,27,32],Nd=p&&"CompositionEvent"in window,Fo=null;p&&"documentMode"in document&&(Fo=document.documentMode);var ww=p&&"TextEvent"in window&&!Fo,ch=p&&(!Nd||Fo&&8<Fo&&11>=Fo),dh=" ",uh=!1;function mh(s,n){switch(s){case"keyup":return bw.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fh(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Tn=!1;function Nw(s,n){switch(s){case"compositionend":return fh(n);case"keypress":return n.which!==32?null:(uh=!0,dh);case"textInput":return s=n.data,s===dh&&uh?null:s;default:return null}}function Sw(s,n){if(Tn)return s==="compositionend"||!Nd&&mh(s,n)?(s=rh(),el=gd=wr=null,Tn=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ch&&n.locale!=="ko"?null:n.data;default:return null}}var Cw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hh(s){var n=s&&s.nodeName&&s.nodeName.toLowerCase();return n==="input"?!!Cw[s.type]:n==="textarea"}function ph(s,n,l,m){ze(m),n=ll(n,"onChange"),0<n.length&&(l=new vd("onChange","change",null,l,m),s.push({event:l,listeners:n}))}var zo=null,Bo=null;function _w(s){Mh(s,0)}function rl(s){var n=Ln(s);if(Ae(n))return s}function kw(s,n){if(s==="change")return n}var xh=!1;if(p){var Sd;if(p){var Cd="oninput"in document;if(!Cd){var gh=document.createElement("div");gh.setAttribute("oninput","return;"),Cd=typeof gh.oninput=="function"}Sd=Cd}else Sd=!1;xh=Sd&&(!document.documentMode||9<document.documentMode)}function vh(){zo&&(zo.detachEvent("onpropertychange",jh),Bo=zo=null)}function jh(s){if(s.propertyName==="value"&&rl(Bo)){var n=[];ph(n,Bo,s,gt(s)),ut(_w,n)}}function Ew(s,n,l){s==="focusin"?(vh(),zo=n,Bo=l,zo.attachEvent("onpropertychange",jh)):s==="focusout"&&vh()}function Rw(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return rl(Bo)}function Pw(s,n){if(s==="click")return rl(n)}function Aw(s,n){if(s==="input"||s==="change")return rl(n)}function Tw(s,n){return s===n&&(s!==0||1/s===1/n)||s!==s&&n!==n}var ya=typeof Object.is=="function"?Object.is:Tw;function Uo(s,n){if(ya(s,n))return!0;if(typeof s!="object"||s===null||typeof n!="object"||n===null)return!1;var l=Object.keys(s),m=Object.keys(n);if(l.length!==m.length)return!1;for(m=0;m<l.length;m++){var b=l[m];if(!u.call(n,b)||!ya(s[b],n[b]))return!1}return!0}function yh(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function bh(s,n){var l=yh(s);s=0;for(var m;l;){if(l.nodeType===3){if(m=s+l.textContent.length,s<=n&&m>=n)return{node:l,offset:n-s};s=m}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=yh(l)}}function wh(s,n){return s&&n?s===n?!0:s&&s.nodeType===3?!1:n&&n.nodeType===3?wh(s,n.parentNode):"contains"in s?s.contains(n):s.compareDocumentPosition?!!(s.compareDocumentPosition(n)&16):!1:!1}function Nh(){for(var s=window,n=We();n instanceof s.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)s=n.contentWindow;else break;n=We(s.document)}return n}function _d(s){var n=s&&s.nodeName&&s.nodeName.toLowerCase();return n&&(n==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||n==="textarea"||s.contentEditable==="true")}function Mw(s){var n=Nh(),l=s.focusedElem,m=s.selectionRange;if(n!==l&&l&&l.ownerDocument&&wh(l.ownerDocument.documentElement,l)){if(m!==null&&_d(l)){if(n=m.start,s=m.end,s===void 0&&(s=n),"selectionStart"in l)l.selectionStart=n,l.selectionEnd=Math.min(s,l.value.length);else if(s=(n=l.ownerDocument||document)&&n.defaultView||window,s.getSelection){s=s.getSelection();var b=l.textContent.length,S=Math.min(m.start,b);m=m.end===void 0?S:Math.min(m.end,b),!s.extend&&S>m&&(b=m,m=S,S=b),b=bh(l,S);var O=bh(l,m);b&&O&&(s.rangeCount!==1||s.anchorNode!==b.node||s.anchorOffset!==b.offset||s.focusNode!==O.node||s.focusOffset!==O.offset)&&(n=n.createRange(),n.setStart(b.node,b.offset),s.removeAllRanges(),S>m?(s.addRange(n),s.extend(O.node,O.offset)):(n.setEnd(O.node,O.offset),s.addRange(n)))}}for(n=[],s=l;s=s.parentNode;)s.nodeType===1&&n.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<n.length;l++)s=n[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Dw=p&&"documentMode"in document&&11>=document.documentMode,Mn=null,kd=null,Vo=null,Ed=!1;function Sh(s,n,l){var m=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ed||Mn==null||Mn!==We(m)||(m=Mn,"selectionStart"in m&&_d(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Vo&&Uo(Vo,m)||(Vo=m,m=ll(kd,"onSelect"),0<m.length&&(n=new vd("onSelect","select",null,n,l),s.push({event:n,listeners:m}),n.target=Mn)))}function nl(s,n){var l={};return l[s.toLowerCase()]=n.toLowerCase(),l["Webkit"+s]="webkit"+n,l["Moz"+s]="moz"+n,l}var Dn={animationend:nl("Animation","AnimationEnd"),animationiteration:nl("Animation","AnimationIteration"),animationstart:nl("Animation","AnimationStart"),transitionend:nl("Transition","TransitionEnd")},Rd={},Ch={};p&&(Ch=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function ol(s){if(Rd[s])return Rd[s];if(!Dn[s])return s;var n=Dn[s],l;for(l in n)if(n.hasOwnProperty(l)&&l in Ch)return Rd[s]=n[l];return s}var _h=ol("animationend"),kh=ol("animationiteration"),Eh=ol("animationstart"),Rh=ol("transitionend"),Ph=new Map,Ah="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(s,n){Ph.set(s,n),c(n,[s])}for(var Pd=0;Pd<Ah.length;Pd++){var Ad=Ah[Pd],Ow=Ad.toLowerCase(),$w=Ad[0].toUpperCase()+Ad.slice(1);Nr(Ow,"on"+$w)}Nr(_h,"onAnimationEnd"),Nr(kh,"onAnimationIteration"),Nr(Eh,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Rh,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ho));function Th(s,n,l){var m=s.type||"unknown-event";s.currentTarget=l,Hi(m,n,void 0,s),s.currentTarget=null}function Mh(s,n){n=(n&4)!==0;for(var l=0;l<s.length;l++){var m=s[l],b=m.event;m=m.listeners;e:{var S=void 0;if(n)for(var O=m.length-1;0<=O;O--){var W=m[O],J=W.instance,le=W.currentTarget;if(W=W.listener,J!==S&&b.isPropagationStopped())break e;Th(b,W,le),S=J}else for(O=0;O<m.length;O++){if(W=m[O],J=W.instance,le=W.currentTarget,W=W.listener,J!==S&&b.isPropagationStopped())break e;Th(b,W,le),S=J}}}if(zs)throw s=Oa,zs=!1,Oa=null,s}function Ht(s,n){var l=n[Fd];l===void 0&&(l=n[Fd]=new Set);var m=s+"__bubble";l.has(m)||(Dh(n,s,2,!1),l.add(m))}function Td(s,n,l){var m=0;n&&(m|=4),Dh(l,s,m,n)}var il="_reactListening"+Math.random().toString(36).slice(2);function qo(s){if(!s[il]){s[il]=!0,o.forEach(function(l){l!=="selectionchange"&&(Lw.has(l)||Td(l,!1,s),Td(l,!0,s))});var n=s.nodeType===9?s:s.ownerDocument;n===null||n[il]||(n[il]=!0,Td("selectionchange",!1,n))}}function Dh(s,n,l,m){switch(ah(n)){case 1:var b=Qb;break;case 4:b=Xb;break;default:b=pd}l=b.bind(null,n,l,s),b=void 0,!rs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(b=!0),m?b!==void 0?s.addEventListener(n,l,{capture:!0,passive:b}):s.addEventListener(n,l,!0):b!==void 0?s.addEventListener(n,l,{passive:b}):s.addEventListener(n,l,!1)}function Md(s,n,l,m,b){var S=m;if((n&1)===0&&(n&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var W=m.stateNode.containerInfo;if(W===b||W.nodeType===8&&W.parentNode===b)break;if(O===4)for(O=m.return;O!==null;){var J=O.tag;if((J===3||J===4)&&(J=O.stateNode.containerInfo,J===b||J.nodeType===8&&J.parentNode===b))return;O=O.return}for(;W!==null;){if(O=Xr(W),O===null)return;if(J=O.tag,J===5||J===6){m=S=O;continue e}W=W.parentNode}}m=m.return}ut(function(){var le=S,je=gt(l),we=[];e:{var ve=Ph.get(s);if(ve!==void 0){var Oe=vd,Fe=s;switch(s){case"keypress":if(tl(l)===0)break e;case"keydown":case"keyup":Oe=fw;break;case"focusin":Fe="focus",Oe=bd;break;case"focusout":Fe="blur",Oe=bd;break;case"beforeblur":case"afterblur":Oe=bd;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=oh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=tw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=xw;break;case _h:case kh:case Eh:Oe=rw;break;case Rh:Oe=vw;break;case"scroll":Oe=Zb;break;case"wheel":Oe=yw;break;case"copy":case"cut":case"paste":Oe=ow;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=lh}var Be=(n&4)!==0,ns=!Be&&s==="scroll",se=Be?ve!==null?ve+"Capture":null:ve;Be=[];for(var X=le,re;X!==null;){re=X;var Se=re.stateNode;if(re.tag===5&&Se!==null&&(re=Se,se!==null&&(Se=as(X,se),Se!=null&&Be.push(Wo(X,Se,re)))),ns)break;X=X.return}0<Be.length&&(ve=new Oe(ve,Fe,null,l,je),we.push({event:ve,listeners:Be}))}}if((n&7)===0){e:{if(ve=s==="mouseover"||s==="pointerover",Oe=s==="mouseout"||s==="pointerout",ve&&l!==Ie&&(Fe=l.relatedTarget||l.fromElement)&&(Xr(Fe)||Fe[ar]))break e;if((Oe||ve)&&(ve=je.window===je?je:(ve=je.ownerDocument)?ve.defaultView||ve.parentWindow:window,Oe?(Fe=l.relatedTarget||l.toElement,Oe=le,Fe=Fe?Xr(Fe):null,Fe!==null&&(ns=$a(Fe),Fe!==ns||Fe.tag!==5&&Fe.tag!==6)&&(Fe=null)):(Oe=null,Fe=le),Oe!==Fe)){if(Be=oh,Se="onMouseLeave",se="onMouseEnter",X="mouse",(s==="pointerout"||s==="pointerover")&&(Be=lh,Se="onPointerLeave",se="onPointerEnter",X="pointer"),ns=Oe==null?ve:Ln(Oe),re=Fe==null?ve:Ln(Fe),ve=new Be(Se,X+"leave",Oe,l,je),ve.target=ns,ve.relatedTarget=re,Se=null,Xr(je)===le&&(Be=new Be(se,X+"enter",Fe,l,je),Be.target=re,Be.relatedTarget=ns,Se=Be),ns=Se,Oe&&Fe)t:{for(Be=Oe,se=Fe,X=0,re=Be;re;re=On(re))X++;for(re=0,Se=se;Se;Se=On(Se))re++;for(;0<X-re;)Be=On(Be),X--;for(;0<re-X;)se=On(se),re--;for(;X--;){if(Be===se||se!==null&&Be===se.alternate)break t;Be=On(Be),se=On(se)}Be=null}else Be=null;Oe!==null&&Oh(we,ve,Oe,Be,!1),Fe!==null&&ns!==null&&Oh(we,ns,Fe,Be,!0)}}e:{if(ve=le?Ln(le):window,Oe=ve.nodeName&&ve.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&ve.type==="file")var Ve=kw;else if(hh(ve))if(xh)Ve=Aw;else{Ve=Rw;var Ke=Ew}else(Oe=ve.nodeName)&&Oe.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(Ve=Pw);if(Ve&&(Ve=Ve(s,le))){ph(we,Ve,l,je);break e}Ke&&Ke(s,ve,le),s==="focusout"&&(Ke=ve._wrapperState)&&Ke.controlled&&ve.type==="number"&&At(ve,"number",ve.value)}switch(Ke=le?Ln(le):window,s){case"focusin":(hh(Ke)||Ke.contentEditable==="true")&&(Mn=Ke,kd=le,Vo=null);break;case"focusout":Vo=kd=Mn=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,Sh(we,l,je);break;case"selectionchange":if(Dw)break;case"keydown":case"keyup":Sh(we,l,je)}var Ye;if(Nd)e:{switch(s){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Tn?mh(s,l)&&(Ze="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Ze="onCompositionStart");Ze&&(ch&&l.locale!=="ko"&&(Tn||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Tn&&(Ye=rh()):(wr=je,gd="value"in wr?wr.value:wr.textContent,Tn=!0)),Ke=ll(le,Ze),0<Ke.length&&(Ze=new ih(Ze,s,null,l,je),we.push({event:Ze,listeners:Ke}),Ye?Ze.data=Ye:(Ye=fh(l),Ye!==null&&(Ze.data=Ye)))),(Ye=ww?Nw(s,l):Sw(s,l))&&(le=ll(le,"onBeforeInput"),0<le.length&&(je=new ih("onBeforeInput","beforeinput",null,l,je),we.push({event:je,listeners:le}),je.data=Ye))}Mh(we,n)})}function Wo(s,n,l){return{instance:s,listener:n,currentTarget:l}}function ll(s,n){for(var l=n+"Capture",m=[];s!==null;){var b=s,S=b.stateNode;b.tag===5&&S!==null&&(b=S,S=as(s,l),S!=null&&m.unshift(Wo(s,S,b)),S=as(s,n),S!=null&&m.push(Wo(s,S,b))),s=s.return}return m}function On(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Oh(s,n,l,m,b){for(var S=n._reactName,O=[];l!==null&&l!==m;){var W=l,J=W.alternate,le=W.stateNode;if(J!==null&&J===m)break;W.tag===5&&le!==null&&(W=le,b?(J=as(l,S),J!=null&&O.unshift(Wo(l,J,W))):b||(J=as(l,S),J!=null&&O.push(Wo(l,J,W)))),l=l.return}O.length!==0&&s.push({event:n,listeners:O})}var Iw=/\r\n?/g,Fw=/\u0000|\uFFFD/g;function $h(s){return(typeof s=="string"?s:""+s).replace(Iw,`
`).replace(Fw,"")}function cl(s,n,l){if(n=$h(n),$h(s)!==n&&l)throw Error(r(425))}function dl(){}var Dd=null,Od=null;function $d(s,n){return s==="textarea"||s==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ld=typeof setTimeout=="function"?setTimeout:void 0,zw=typeof clearTimeout=="function"?clearTimeout:void 0,Lh=typeof Promise=="function"?Promise:void 0,Bw=typeof queueMicrotask=="function"?queueMicrotask:typeof Lh<"u"?function(s){return Lh.resolve(null).then(s).catch(Uw)}:Ld;function Uw(s){setTimeout(function(){throw s})}function Id(s,n){var l=n,m=0;do{var b=l.nextSibling;if(s.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"){if(m===0){s.removeChild(b),$o(n);return}m--}else l!=="$"&&l!=="$?"&&l!=="$!"||m++;l=b}while(l);$o(n)}function Sr(s){for(;s!=null;s=s.nextSibling){var n=s.nodeType;if(n===1||n===3)break;if(n===8){if(n=s.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return s}function Ih(s){s=s.previousSibling;for(var n=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return s;n--}else l==="/$"&&n++}s=s.previousSibling}return null}var $n=Math.random().toString(36).slice(2),La="__reactFiber$"+$n,Go="__reactProps$"+$n,ar="__reactContainer$"+$n,Fd="__reactEvents$"+$n,Vw="__reactListeners$"+$n,Hw="__reactHandles$"+$n;function Xr(s){var n=s[La];if(n)return n;for(var l=s.parentNode;l;){if(n=l[ar]||l[La]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(s=Ih(s);s!==null;){if(l=s[La])return l;s=Ih(s)}return n}s=l,l=s.parentNode}return null}function Ko(s){return s=s[La]||s[ar],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ln(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function ul(s){return s[Go]||null}var zd=[],In=-1;function Cr(s){return{current:s}}function qt(s){0>In||(s.current=zd[In],zd[In]=null,In--)}function Bt(s,n){In++,zd[In]=s.current,s.current=n}var _r={},ks=Cr(_r),Us=Cr(!1),Zr=_r;function Fn(s,n){var l=s.type.contextTypes;if(!l)return _r;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===n)return m.__reactInternalMemoizedMaskedChildContext;var b={},S;for(S in l)b[S]=n[S];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=n,s.__reactInternalMemoizedMaskedChildContext=b),b}function Vs(s){return s=s.childContextTypes,s!=null}function ml(){qt(Us),qt(ks)}function Fh(s,n,l){if(ks.current!==_r)throw Error(r(168));Bt(ks,n),Bt(Us,l)}function zh(s,n,l){var m=s.stateNode;if(n=n.childContextTypes,typeof m.getChildContext!="function")return l;m=m.getChildContext();for(var b in m)if(!(b in n))throw Error(r(108,te(s)||"Unknown",b));return ee({},l,m)}function fl(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||_r,Zr=ks.current,Bt(ks,s),Bt(Us,Us.current),!0}function Bh(s,n,l){var m=s.stateNode;if(!m)throw Error(r(169));l?(s=zh(s,n,Zr),m.__reactInternalMemoizedMergedChildContext=s,qt(Us),qt(ks),Bt(ks,s)):qt(Us),Bt(Us,l)}var rr=null,hl=!1,Bd=!1;function Uh(s){rr===null?rr=[s]:rr.push(s)}function qw(s){hl=!0,Uh(s)}function kr(){if(!Bd&&rr!==null){Bd=!0;var s=0,n=Mt;try{var l=rr;for(Mt=1;s<l.length;s++){var m=l[s];do m=m(!0);while(m!==null)}rr=null,hl=!1}catch(b){throw rr!==null&&(rr=rr.slice(s+1)),Eo(De,kr),b}finally{Mt=n,Bd=!1}}return null}var zn=[],Bn=0,pl=null,xl=0,la=[],ca=0,en=null,nr=1,or="";function tn(s,n){zn[Bn++]=xl,zn[Bn++]=pl,pl=s,xl=n}function Vh(s,n,l){la[ca++]=nr,la[ca++]=or,la[ca++]=en,en=s;var m=nr;s=or;var b=32-Xs(m)-1;m&=~(1<<b),l+=1;var S=32-Xs(n)+b;if(30<S){var O=b-b%5;S=(m&(1<<O)-1).toString(32),m>>=O,b-=O,nr=1<<32-Xs(n)+b|l<<b|m,or=S+s}else nr=1<<S|l<<b|m,or=s}function Ud(s){s.return!==null&&(tn(s,1),Vh(s,1,0))}function Vd(s){for(;s===pl;)pl=zn[--Bn],zn[Bn]=null,xl=zn[--Bn],zn[Bn]=null;for(;s===en;)en=la[--ca],la[ca]=null,or=la[--ca],la[ca]=null,nr=la[--ca],la[ca]=null}var ea=null,ta=null,Yt=!1,ba=null;function Hh(s,n){var l=fa(5,null,null,0);l.elementType="DELETED",l.stateNode=n,l.return=s,n=s.deletions,n===null?(s.deletions=[l],s.flags|=16):n.push(l)}function qh(s,n){switch(s.tag){case 5:var l=s.type;return n=n.nodeType!==1||l.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(s.stateNode=n,ea=s,ta=Sr(n.firstChild),!0):!1;case 6:return n=s.pendingProps===""||n.nodeType!==3?null:n,n!==null?(s.stateNode=n,ea=s,ta=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(l=en!==null?{id:nr,overflow:or}:null,s.memoizedState={dehydrated:n,treeContext:l,retryLane:1073741824},l=fa(18,null,null,0),l.stateNode=n,l.return=s,s.child=l,ea=s,ta=null,!0):!1;default:return!1}}function Hd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function qd(s){if(Yt){var n=ta;if(n){var l=n;if(!qh(s,n)){if(Hd(s))throw Error(r(418));n=Sr(l.nextSibling);var m=ea;n&&qh(s,n)?Hh(m,l):(s.flags=s.flags&-4097|2,Yt=!1,ea=s)}}else{if(Hd(s))throw Error(r(418));s.flags=s.flags&-4097|2,Yt=!1,ea=s}}}function Wh(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;ea=s}function gl(s){if(s!==ea)return!1;if(!Yt)return Wh(s),Yt=!0,!1;var n;if((n=s.tag!==3)&&!(n=s.tag!==5)&&(n=s.type,n=n!=="head"&&n!=="body"&&!$d(s.type,s.memoizedProps)),n&&(n=ta)){if(Hd(s))throw Gh(),Error(r(418));for(;n;)Hh(s,n),n=Sr(n.nextSibling)}if(Wh(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,n=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(n===0){ta=Sr(s.nextSibling);break e}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++}s=s.nextSibling}ta=null}}else ta=ea?Sr(s.stateNode.nextSibling):null;return!0}function Gh(){for(var s=ta;s;)s=Sr(s.nextSibling)}function Un(){ta=ea=null,Yt=!1}function Wd(s){ba===null?ba=[s]:ba.push(s)}var Ww=E.ReactCurrentBatchConfig;function Yo(s,n,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var m=l.stateNode}if(!m)throw Error(r(147,s));var b=m,S=""+s;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===S?n.ref:(n=function(O){var W=b.refs;O===null?delete W[S]:W[S]=O},n._stringRef=S,n)}if(typeof s!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,s))}return s}function vl(s,n){throw s=Object.prototype.toString.call(n),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":s))}function Kh(s){var n=s._init;return n(s._payload)}function Yh(s){function n(se,X){if(s){var re=se.deletions;re===null?(se.deletions=[X],se.flags|=16):re.push(X)}}function l(se,X){if(!s)return null;for(;X!==null;)n(se,X),X=X.sibling;return null}function m(se,X){for(se=new Map;X!==null;)X.key!==null?se.set(X.key,X):se.set(X.index,X),X=X.sibling;return se}function b(se,X){return se=Or(se,X),se.index=0,se.sibling=null,se}function S(se,X,re){return se.index=re,s?(re=se.alternate,re!==null?(re=re.index,re<X?(se.flags|=2,X):re):(se.flags|=2,X)):(se.flags|=1048576,X)}function O(se){return s&&se.alternate===null&&(se.flags|=2),se}function W(se,X,re,Se){return X===null||X.tag!==6?(X=Lu(re,se.mode,Se),X.return=se,X):(X=b(X,re),X.return=se,X)}function J(se,X,re,Se){var Ve=re.type;return Ve===T?je(se,X,re.props.children,Se,re.key):X!==null&&(X.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===$&&Kh(Ve)===X.type)?(Se=b(X,re.props),Se.ref=Yo(se,X,re),Se.return=se,Se):(Se=Ul(re.type,re.key,re.props,null,se.mode,Se),Se.ref=Yo(se,X,re),Se.return=se,Se)}function le(se,X,re,Se){return X===null||X.tag!==4||X.stateNode.containerInfo!==re.containerInfo||X.stateNode.implementation!==re.implementation?(X=Iu(re,se.mode,Se),X.return=se,X):(X=b(X,re.children||[]),X.return=se,X)}function je(se,X,re,Se,Ve){return X===null||X.tag!==7?(X=dn(re,se.mode,Se,Ve),X.return=se,X):(X=b(X,re),X.return=se,X)}function we(se,X,re){if(typeof X=="string"&&X!==""||typeof X=="number")return X=Lu(""+X,se.mode,re),X.return=se,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case k:return re=Ul(X.type,X.key,X.props,null,se.mode,re),re.ref=Yo(se,null,X),re.return=se,re;case A:return X=Iu(X,se.mode,re),X.return=se,X;case $:var Se=X._init;return we(se,Se(X._payload),re)}if(Gt(X)||Y(X))return X=dn(X,se.mode,re,null),X.return=se,X;vl(se,X)}return null}function ve(se,X,re,Se){var Ve=X!==null?X.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Ve!==null?null:W(se,X,""+re,Se);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case k:return re.key===Ve?J(se,X,re,Se):null;case A:return re.key===Ve?le(se,X,re,Se):null;case $:return Ve=re._init,ve(se,X,Ve(re._payload),Se)}if(Gt(re)||Y(re))return Ve!==null?null:je(se,X,re,Se,null);vl(se,re)}return null}function Oe(se,X,re,Se,Ve){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return se=se.get(re)||null,W(X,se,""+Se,Ve);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case k:return se=se.get(Se.key===null?re:Se.key)||null,J(X,se,Se,Ve);case A:return se=se.get(Se.key===null?re:Se.key)||null,le(X,se,Se,Ve);case $:var Ke=Se._init;return Oe(se,X,re,Ke(Se._payload),Ve)}if(Gt(Se)||Y(Se))return se=se.get(re)||null,je(X,se,Se,Ve,null);vl(X,Se)}return null}function Fe(se,X,re,Se){for(var Ve=null,Ke=null,Ye=X,Ze=X=0,bs=null;Ye!==null&&Ze<re.length;Ze++){Ye.index>Ze?(bs=Ye,Ye=null):bs=Ye.sibling;var St=ve(se,Ye,re[Ze],Se);if(St===null){Ye===null&&(Ye=bs);break}s&&Ye&&St.alternate===null&&n(se,Ye),X=S(St,X,Ze),Ke===null?Ve=St:Ke.sibling=St,Ke=St,Ye=bs}if(Ze===re.length)return l(se,Ye),Yt&&tn(se,Ze),Ve;if(Ye===null){for(;Ze<re.length;Ze++)Ye=we(se,re[Ze],Se),Ye!==null&&(X=S(Ye,X,Ze),Ke===null?Ve=Ye:Ke.sibling=Ye,Ke=Ye);return Yt&&tn(se,Ze),Ve}for(Ye=m(se,Ye);Ze<re.length;Ze++)bs=Oe(Ye,se,Ze,re[Ze],Se),bs!==null&&(s&&bs.alternate!==null&&Ye.delete(bs.key===null?Ze:bs.key),X=S(bs,X,Ze),Ke===null?Ve=bs:Ke.sibling=bs,Ke=bs);return s&&Ye.forEach(function($r){return n(se,$r)}),Yt&&tn(se,Ze),Ve}function Be(se,X,re,Se){var Ve=Y(re);if(typeof Ve!="function")throw Error(r(150));if(re=Ve.call(re),re==null)throw Error(r(151));for(var Ke=Ve=null,Ye=X,Ze=X=0,bs=null,St=re.next();Ye!==null&&!St.done;Ze++,St=re.next()){Ye.index>Ze?(bs=Ye,Ye=null):bs=Ye.sibling;var $r=ve(se,Ye,St.value,Se);if($r===null){Ye===null&&(Ye=bs);break}s&&Ye&&$r.alternate===null&&n(se,Ye),X=S($r,X,Ze),Ke===null?Ve=$r:Ke.sibling=$r,Ke=$r,Ye=bs}if(St.done)return l(se,Ye),Yt&&tn(se,Ze),Ve;if(Ye===null){for(;!St.done;Ze++,St=re.next())St=we(se,St.value,Se),St!==null&&(X=S(St,X,Ze),Ke===null?Ve=St:Ke.sibling=St,Ke=St);return Yt&&tn(se,Ze),Ve}for(Ye=m(se,Ye);!St.done;Ze++,St=re.next())St=Oe(Ye,se,Ze,St.value,Se),St!==null&&(s&&St.alternate!==null&&Ye.delete(St.key===null?Ze:St.key),X=S(St,X,Ze),Ke===null?Ve=St:Ke.sibling=St,Ke=St);return s&&Ye.forEach(function(CN){return n(se,CN)}),Yt&&tn(se,Ze),Ve}function ns(se,X,re,Se){if(typeof re=="object"&&re!==null&&re.type===T&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case k:e:{for(var Ve=re.key,Ke=X;Ke!==null;){if(Ke.key===Ve){if(Ve=re.type,Ve===T){if(Ke.tag===7){l(se,Ke.sibling),X=b(Ke,re.props.children),X.return=se,se=X;break e}}else if(Ke.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===$&&Kh(Ve)===Ke.type){l(se,Ke.sibling),X=b(Ke,re.props),X.ref=Yo(se,Ke,re),X.return=se,se=X;break e}l(se,Ke);break}else n(se,Ke);Ke=Ke.sibling}re.type===T?(X=dn(re.props.children,se.mode,Se,re.key),X.return=se,se=X):(Se=Ul(re.type,re.key,re.props,null,se.mode,Se),Se.ref=Yo(se,X,re),Se.return=se,se=Se)}return O(se);case A:e:{for(Ke=re.key;X!==null;){if(X.key===Ke)if(X.tag===4&&X.stateNode.containerInfo===re.containerInfo&&X.stateNode.implementation===re.implementation){l(se,X.sibling),X=b(X,re.children||[]),X.return=se,se=X;break e}else{l(se,X);break}else n(se,X);X=X.sibling}X=Iu(re,se.mode,Se),X.return=se,se=X}return O(se);case $:return Ke=re._init,ns(se,X,Ke(re._payload),Se)}if(Gt(re))return Fe(se,X,re,Se);if(Y(re))return Be(se,X,re,Se);vl(se,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,X!==null&&X.tag===6?(l(se,X.sibling),X=b(X,re),X.return=se,se=X):(l(se,X),X=Lu(re,se.mode,Se),X.return=se,se=X),O(se)):l(se,X)}return ns}var Vn=Yh(!0),Jh=Yh(!1),jl=Cr(null),yl=null,Hn=null,Gd=null;function Kd(){Gd=Hn=yl=null}function Yd(s){var n=jl.current;qt(jl),s._currentValue=n}function Jd(s,n,l){for(;s!==null;){var m=s.alternate;if((s.childLanes&n)!==n?(s.childLanes|=n,m!==null&&(m.childLanes|=n)):m!==null&&(m.childLanes&n)!==n&&(m.childLanes|=n),s===l)break;s=s.return}}function qn(s,n){yl=s,Gd=Hn=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&n)!==0&&(Hs=!0),s.firstContext=null)}function da(s){var n=s._currentValue;if(Gd!==s)if(s={context:s,memoizedValue:n,next:null},Hn===null){if(yl===null)throw Error(r(308));Hn=s,yl.dependencies={lanes:0,firstContext:s}}else Hn=Hn.next=s;return n}var sn=null;function Qd(s){sn===null?sn=[s]:sn.push(s)}function Qh(s,n,l,m){var b=n.interleaved;return b===null?(l.next=l,Qd(n)):(l.next=b.next,b.next=l),n.interleaved=l,ir(s,m)}function ir(s,n){s.lanes|=n;var l=s.alternate;for(l!==null&&(l.lanes|=n),l=s,s=s.return;s!==null;)s.childLanes|=n,l=s.alternate,l!==null&&(l.childLanes|=n),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Er=!1;function Xd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xh(s,n){s=s.updateQueue,n.updateQueue===s&&(n.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function lr(s,n){return{eventTime:s,lane:n,tag:0,payload:null,callback:null,next:null}}function Rr(s,n,l){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(yt&2)!==0){var b=m.pending;return b===null?n.next=n:(n.next=b.next,b.next=n),m.pending=n,ir(s,l)}return b=m.interleaved,b===null?(n.next=n,Qd(m)):(n.next=b.next,b.next=n),m.interleaved=n,ir(s,l)}function bl(s,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194240)!==0)){var m=n.lanes;m&=s.pendingLanes,l|=m,n.lanes=l,md(s,l)}}function Zh(s,n){var l=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,l===m)){var b=null,S=null;if(l=l.firstBaseUpdate,l!==null){do{var O={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};S===null?b=S=O:S=S.next=O,l=l.next}while(l!==null);S===null?b=S=n:S=S.next=n}else b=S=n;l={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:m.shared,effects:m.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=n:s.next=n,l.lastBaseUpdate=n}function wl(s,n,l,m){var b=s.updateQueue;Er=!1;var S=b.firstBaseUpdate,O=b.lastBaseUpdate,W=b.shared.pending;if(W!==null){b.shared.pending=null;var J=W,le=J.next;J.next=null,O===null?S=le:O.next=le,O=J;var je=s.alternate;je!==null&&(je=je.updateQueue,W=je.lastBaseUpdate,W!==O&&(W===null?je.firstBaseUpdate=le:W.next=le,je.lastBaseUpdate=J))}if(S!==null){var we=b.baseState;O=0,je=le=J=null,W=S;do{var ve=W.lane,Oe=W.eventTime;if((m&ve)===ve){je!==null&&(je=je.next={eventTime:Oe,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Fe=s,Be=W;switch(ve=n,Oe=l,Be.tag){case 1:if(Fe=Be.payload,typeof Fe=="function"){we=Fe.call(Oe,we,ve);break e}we=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Be.payload,ve=typeof Fe=="function"?Fe.call(Oe,we,ve):Fe,ve==null)break e;we=ee({},we,ve);break e;case 2:Er=!0}}W.callback!==null&&W.lane!==0&&(s.flags|=64,ve=b.effects,ve===null?b.effects=[W]:ve.push(W))}else Oe={eventTime:Oe,lane:ve,tag:W.tag,payload:W.payload,callback:W.callback,next:null},je===null?(le=je=Oe,J=we):je=je.next=Oe,O|=ve;if(W=W.next,W===null){if(W=b.shared.pending,W===null)break;ve=W,W=ve.next,ve.next=null,b.lastBaseUpdate=ve,b.shared.pending=null}}while(!0);if(je===null&&(J=we),b.baseState=J,b.firstBaseUpdate=le,b.lastBaseUpdate=je,n=b.shared.interleaved,n!==null){b=n;do O|=b.lane,b=b.next;while(b!==n)}else S===null&&(b.shared.lanes=0);nn|=O,s.lanes=O,s.memoizedState=we}}function ep(s,n,l){if(s=n.effects,n.effects=null,s!==null)for(n=0;n<s.length;n++){var m=s[n],b=m.callback;if(b!==null){if(m.callback=null,m=l,typeof b!="function")throw Error(r(191,b));b.call(m)}}}var Jo={},Ia=Cr(Jo),Qo=Cr(Jo),Xo=Cr(Jo);function an(s){if(s===Jo)throw Error(r(174));return s}function Zd(s,n){switch(Bt(Xo,n),Bt(Qo,s),Bt(Ia,Jo),s=n.nodeType,s){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ss(null,"");break;default:s=s===8?n.parentNode:n,n=s.namespaceURI||null,s=s.tagName,n=Ss(n,s)}qt(Ia),Bt(Ia,n)}function Wn(){qt(Ia),qt(Qo),qt(Xo)}function tp(s){an(Xo.current);var n=an(Ia.current),l=Ss(n,s.type);n!==l&&(Bt(Qo,s),Bt(Ia,l))}function eu(s){Qo.current===s&&(qt(Ia),qt(Qo))}var Jt=Cr(0);function Nl(s){for(var n=s;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var tu=[];function su(){for(var s=0;s<tu.length;s++)tu[s]._workInProgressVersionPrimary=null;tu.length=0}var Sl=E.ReactCurrentDispatcher,au=E.ReactCurrentBatchConfig,rn=0,Qt=null,ps=null,js=null,Cl=!1,Zo=!1,ei=0,Gw=0;function Es(){throw Error(r(321))}function ru(s,n){if(n===null)return!1;for(var l=0;l<n.length&&l<s.length;l++)if(!ya(s[l],n[l]))return!1;return!0}function nu(s,n,l,m,b,S){if(rn=S,Qt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Sl.current=s===null||s.memoizedState===null?Qw:Xw,s=l(m,b),Zo){S=0;do{if(Zo=!1,ei=0,25<=S)throw Error(r(301));S+=1,js=ps=null,n.updateQueue=null,Sl.current=Zw,s=l(m,b)}while(Zo)}if(Sl.current=El,n=ps!==null&&ps.next!==null,rn=0,js=ps=Qt=null,Cl=!1,n)throw Error(r(300));return s}function ou(){var s=ei!==0;return ei=0,s}function Fa(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return js===null?Qt.memoizedState=js=s:js=js.next=s,js}function ua(){if(ps===null){var s=Qt.alternate;s=s!==null?s.memoizedState:null}else s=ps.next;var n=js===null?Qt.memoizedState:js.next;if(n!==null)js=n,ps=s;else{if(s===null)throw Error(r(310));ps=s,s={memoizedState:ps.memoizedState,baseState:ps.baseState,baseQueue:ps.baseQueue,queue:ps.queue,next:null},js===null?Qt.memoizedState=js=s:js=js.next=s}return js}function ti(s,n){return typeof n=="function"?n(s):n}function iu(s){var n=ua(),l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var m=ps,b=m.baseQueue,S=l.pending;if(S!==null){if(b!==null){var O=b.next;b.next=S.next,S.next=O}m.baseQueue=b=S,l.pending=null}if(b!==null){S=b.next,m=m.baseState;var W=O=null,J=null,le=S;do{var je=le.lane;if((rn&je)===je)J!==null&&(J=J.next={lane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),m=le.hasEagerState?le.eagerState:s(m,le.action);else{var we={lane:je,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null};J===null?(W=J=we,O=m):J=J.next=we,Qt.lanes|=je,nn|=je}le=le.next}while(le!==null&&le!==S);J===null?O=m:J.next=W,ya(m,n.memoizedState)||(Hs=!0),n.memoizedState=m,n.baseState=O,n.baseQueue=J,l.lastRenderedState=m}if(s=l.interleaved,s!==null){b=s;do S=b.lane,Qt.lanes|=S,nn|=S,b=b.next;while(b!==s)}else b===null&&(l.lanes=0);return[n.memoizedState,l.dispatch]}function lu(s){var n=ua(),l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var m=l.dispatch,b=l.pending,S=n.memoizedState;if(b!==null){l.pending=null;var O=b=b.next;do S=s(S,O.action),O=O.next;while(O!==b);ya(S,n.memoizedState)||(Hs=!0),n.memoizedState=S,n.baseQueue===null&&(n.baseState=S),l.lastRenderedState=S}return[S,m]}function sp(){}function ap(s,n){var l=Qt,m=ua(),b=n(),S=!ya(m.memoizedState,b);if(S&&(m.memoizedState=b,Hs=!0),m=m.queue,cu(op.bind(null,l,m,s),[s]),m.getSnapshot!==n||S||js!==null&&js.memoizedState.tag&1){if(l.flags|=2048,si(9,np.bind(null,l,m,b,n),void 0,null),ys===null)throw Error(r(349));(rn&30)!==0||rp(l,n,b)}return b}function rp(s,n,l){s.flags|=16384,s={getSnapshot:n,value:l},n=Qt.updateQueue,n===null?(n={lastEffect:null,stores:null},Qt.updateQueue=n,n.stores=[s]):(l=n.stores,l===null?n.stores=[s]:l.push(s))}function np(s,n,l,m){n.value=l,n.getSnapshot=m,ip(n)&&lp(s)}function op(s,n,l){return l(function(){ip(n)&&lp(s)})}function ip(s){var n=s.getSnapshot;s=s.value;try{var l=n();return!ya(s,l)}catch{return!0}}function lp(s){var n=ir(s,1);n!==null&&Ca(n,s,1,-1)}function cp(s){var n=Fa();return typeof s=="function"&&(s=s()),n.memoizedState=n.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:s},n.queue=s,s=s.dispatch=Jw.bind(null,Qt,s),[n.memoizedState,s]}function si(s,n,l,m){return s={tag:s,create:n,destroy:l,deps:m,next:null},n=Qt.updateQueue,n===null?(n={lastEffect:null,stores:null},Qt.updateQueue=n,n.lastEffect=s.next=s):(l=n.lastEffect,l===null?n.lastEffect=s.next=s:(m=l.next,l.next=s,s.next=m,n.lastEffect=s)),s}function dp(){return ua().memoizedState}function _l(s,n,l,m){var b=Fa();Qt.flags|=s,b.memoizedState=si(1|n,l,void 0,m===void 0?null:m)}function kl(s,n,l,m){var b=ua();m=m===void 0?null:m;var S=void 0;if(ps!==null){var O=ps.memoizedState;if(S=O.destroy,m!==null&&ru(m,O.deps)){b.memoizedState=si(n,l,S,m);return}}Qt.flags|=s,b.memoizedState=si(1|n,l,S,m)}function up(s,n){return _l(8390656,8,s,n)}function cu(s,n){return kl(2048,8,s,n)}function mp(s,n){return kl(4,2,s,n)}function fp(s,n){return kl(4,4,s,n)}function hp(s,n){if(typeof n=="function")return s=s(),n(s),function(){n(null)};if(n!=null)return s=s(),n.current=s,function(){n.current=null}}function pp(s,n,l){return l=l!=null?l.concat([s]):null,kl(4,4,hp.bind(null,n,s),l)}function du(){}function xp(s,n){var l=ua();n=n===void 0?null:n;var m=l.memoizedState;return m!==null&&n!==null&&ru(n,m[1])?m[0]:(l.memoizedState=[s,n],s)}function gp(s,n){var l=ua();n=n===void 0?null:n;var m=l.memoizedState;return m!==null&&n!==null&&ru(n,m[1])?m[0]:(s=s(),l.memoizedState=[s,n],s)}function vp(s,n,l){return(rn&21)===0?(s.baseState&&(s.baseState=!1,Hs=!0),s.memoizedState=l):(ya(l,n)||(l=Kf(),Qt.lanes|=l,nn|=l,s.baseState=!0),n)}function Kw(s,n){var l=Mt;Mt=l!==0&&4>l?l:4,s(!0);var m=au.transition;au.transition={};try{s(!1),n()}finally{Mt=l,au.transition=m}}function jp(){return ua().memoizedState}function Yw(s,n,l){var m=Mr(s);if(l={lane:m,action:l,hasEagerState:!1,eagerState:null,next:null},yp(s))bp(n,l);else if(l=Qh(s,n,l,m),l!==null){var b=$s();Ca(l,s,m,b),wp(l,n,m)}}function Jw(s,n,l){var m=Mr(s),b={lane:m,action:l,hasEagerState:!1,eagerState:null,next:null};if(yp(s))bp(n,b);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=n.lastRenderedReducer,S!==null))try{var O=n.lastRenderedState,W=S(O,l);if(b.hasEagerState=!0,b.eagerState=W,ya(W,O)){var J=n.interleaved;J===null?(b.next=b,Qd(n)):(b.next=J.next,J.next=b),n.interleaved=b;return}}catch{}finally{}l=Qh(s,n,b,m),l!==null&&(b=$s(),Ca(l,s,m,b),wp(l,n,m))}}function yp(s){var n=s.alternate;return s===Qt||n!==null&&n===Qt}function bp(s,n){Zo=Cl=!0;var l=s.pending;l===null?n.next=n:(n.next=l.next,l.next=n),s.pending=n}function wp(s,n,l){if((l&4194240)!==0){var m=n.lanes;m&=s.pendingLanes,l|=m,n.lanes=l,md(s,l)}}var El={readContext:da,useCallback:Es,useContext:Es,useEffect:Es,useImperativeHandle:Es,useInsertionEffect:Es,useLayoutEffect:Es,useMemo:Es,useReducer:Es,useRef:Es,useState:Es,useDebugValue:Es,useDeferredValue:Es,useTransition:Es,useMutableSource:Es,useSyncExternalStore:Es,useId:Es,unstable_isNewReconciler:!1},Qw={readContext:da,useCallback:function(s,n){return Fa().memoizedState=[s,n===void 0?null:n],s},useContext:da,useEffect:up,useImperativeHandle:function(s,n,l){return l=l!=null?l.concat([s]):null,_l(4194308,4,hp.bind(null,n,s),l)},useLayoutEffect:function(s,n){return _l(4194308,4,s,n)},useInsertionEffect:function(s,n){return _l(4,2,s,n)},useMemo:function(s,n){var l=Fa();return n=n===void 0?null:n,s=s(),l.memoizedState=[s,n],s},useReducer:function(s,n,l){var m=Fa();return n=l!==void 0?l(n):n,m.memoizedState=m.baseState=n,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:n},m.queue=s,s=s.dispatch=Yw.bind(null,Qt,s),[m.memoizedState,s]},useRef:function(s){var n=Fa();return s={current:s},n.memoizedState=s},useState:cp,useDebugValue:du,useDeferredValue:function(s){return Fa().memoizedState=s},useTransition:function(){var s=cp(!1),n=s[0];return s=Kw.bind(null,s[1]),Fa().memoizedState=s,[n,s]},useMutableSource:function(){},useSyncExternalStore:function(s,n,l){var m=Qt,b=Fa();if(Yt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=n(),ys===null)throw Error(r(349));(rn&30)!==0||rp(m,n,l)}b.memoizedState=l;var S={value:l,getSnapshot:n};return b.queue=S,up(op.bind(null,m,S,s),[s]),m.flags|=2048,si(9,np.bind(null,m,S,l,n),void 0,null),l},useId:function(){var s=Fa(),n=ys.identifierPrefix;if(Yt){var l=or,m=nr;l=(m&~(1<<32-Xs(m)-1)).toString(32)+l,n=":"+n+"R"+l,l=ei++,0<l&&(n+="H"+l.toString(32)),n+=":"}else l=Gw++,n=":"+n+"r"+l.toString(32)+":";return s.memoizedState=n},unstable_isNewReconciler:!1},Xw={readContext:da,useCallback:xp,useContext:da,useEffect:cu,useImperativeHandle:pp,useInsertionEffect:mp,useLayoutEffect:fp,useMemo:gp,useReducer:iu,useRef:dp,useState:function(){return iu(ti)},useDebugValue:du,useDeferredValue:function(s){var n=ua();return vp(n,ps.memoizedState,s)},useTransition:function(){var s=iu(ti)[0],n=ua().memoizedState;return[s,n]},useMutableSource:sp,useSyncExternalStore:ap,useId:jp,unstable_isNewReconciler:!1},Zw={readContext:da,useCallback:xp,useContext:da,useEffect:cu,useImperativeHandle:pp,useInsertionEffect:mp,useLayoutEffect:fp,useMemo:gp,useReducer:lu,useRef:dp,useState:function(){return lu(ti)},useDebugValue:du,useDeferredValue:function(s){var n=ua();return ps===null?n.memoizedState=s:vp(n,ps.memoizedState,s)},useTransition:function(){var s=lu(ti)[0],n=ua().memoizedState;return[s,n]},useMutableSource:sp,useSyncExternalStore:ap,useId:jp,unstable_isNewReconciler:!1};function wa(s,n){if(s&&s.defaultProps){n=ee({},n),s=s.defaultProps;for(var l in s)n[l]===void 0&&(n[l]=s[l]);return n}return n}function uu(s,n,l,m){n=s.memoizedState,l=l(m,n),l=l==null?n:ee({},n,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Rl={isMounted:function(s){return(s=s._reactInternals)?$a(s)===s:!1},enqueueSetState:function(s,n,l){s=s._reactInternals;var m=$s(),b=Mr(s),S=lr(m,b);S.payload=n,l!=null&&(S.callback=l),n=Rr(s,S,b),n!==null&&(Ca(n,s,b,m),bl(n,s,b))},enqueueReplaceState:function(s,n,l){s=s._reactInternals;var m=$s(),b=Mr(s),S=lr(m,b);S.tag=1,S.payload=n,l!=null&&(S.callback=l),n=Rr(s,S,b),n!==null&&(Ca(n,s,b,m),bl(n,s,b))},enqueueForceUpdate:function(s,n){s=s._reactInternals;var l=$s(),m=Mr(s),b=lr(l,m);b.tag=2,n!=null&&(b.callback=n),n=Rr(s,b,m),n!==null&&(Ca(n,s,m,l),bl(n,s,m))}};function Np(s,n,l,m,b,S,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,S,O):n.prototype&&n.prototype.isPureReactComponent?!Uo(l,m)||!Uo(b,S):!0}function Sp(s,n,l){var m=!1,b=_r,S=n.contextType;return typeof S=="object"&&S!==null?S=da(S):(b=Vs(n)?Zr:ks.current,m=n.contextTypes,S=(m=m!=null)?Fn(s,b):_r),n=new n(l,S),s.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Rl,s.stateNode=n,n._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=b,s.__reactInternalMemoizedMaskedChildContext=S),n}function Cp(s,n,l,m){s=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,m),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,m),n.state!==s&&Rl.enqueueReplaceState(n,n.state,null)}function mu(s,n,l,m){var b=s.stateNode;b.props=l,b.state=s.memoizedState,b.refs={},Xd(s);var S=n.contextType;typeof S=="object"&&S!==null?b.context=da(S):(S=Vs(n)?Zr:ks.current,b.context=Fn(s,S)),b.state=s.memoizedState,S=n.getDerivedStateFromProps,typeof S=="function"&&(uu(s,n,S,l),b.state=s.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(n=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),n!==b.state&&Rl.enqueueReplaceState(b,b.state,null),wl(s,l,b,m),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308)}function Gn(s,n){try{var l="",m=n;do l+=U(m),m=m.return;while(m);var b=l}catch(S){b=`
Error generating stack: `+S.message+`
`+S.stack}return{value:s,source:n,stack:b,digest:null}}function fu(s,n,l){return{value:s,source:null,stack:l??null,digest:n??null}}function hu(s,n){try{console.error(n.value)}catch(l){setTimeout(function(){throw l})}}var eN=typeof WeakMap=="function"?WeakMap:Map;function _p(s,n,l){l=lr(-1,l),l.tag=3,l.payload={element:null};var m=n.value;return l.callback=function(){$l||($l=!0,Ru=m),hu(s,n)},l}function kp(s,n,l){l=lr(-1,l),l.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var b=n.value;l.payload=function(){return m(b)},l.callback=function(){hu(s,n)}}var S=s.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(l.callback=function(){hu(s,n),typeof m!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var O=n.stack;this.componentDidCatch(n.value,{componentStack:O!==null?O:""})}),l}function Ep(s,n,l){var m=s.pingCache;if(m===null){m=s.pingCache=new eN;var b=new Set;m.set(n,b)}else b=m.get(n),b===void 0&&(b=new Set,m.set(n,b));b.has(l)||(b.add(l),s=hN.bind(null,s,n,l),n.then(s,s))}function Rp(s){do{var n;if((n=s.tag===13)&&(n=s.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return s;s=s.return}while(s!==null);return null}function Pp(s,n,l,m,b){return(s.mode&1)===0?(s===n?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(n=lr(-1,1),n.tag=2,Rr(l,n,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=b,s)}var tN=E.ReactCurrentOwner,Hs=!1;function Os(s,n,l,m){n.child=s===null?Jh(n,null,l,m):Vn(n,s.child,l,m)}function Ap(s,n,l,m,b){l=l.render;var S=n.ref;return qn(n,b),m=nu(s,n,l,m,S,b),l=ou(),s!==null&&!Hs?(n.updateQueue=s.updateQueue,n.flags&=-2053,s.lanes&=~b,cr(s,n,b)):(Yt&&l&&Ud(n),n.flags|=1,Os(s,n,m,b),n.child)}function Tp(s,n,l,m,b){if(s===null){var S=l.type;return typeof S=="function"&&!$u(S)&&S.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(n.tag=15,n.type=S,Mp(s,n,S,m,b)):(s=Ul(l.type,null,m,n,n.mode,b),s.ref=n.ref,s.return=n,n.child=s)}if(S=s.child,(s.lanes&b)===0){var O=S.memoizedProps;if(l=l.compare,l=l!==null?l:Uo,l(O,m)&&s.ref===n.ref)return cr(s,n,b)}return n.flags|=1,s=Or(S,m),s.ref=n.ref,s.return=n,n.child=s}function Mp(s,n,l,m,b){if(s!==null){var S=s.memoizedProps;if(Uo(S,m)&&s.ref===n.ref)if(Hs=!1,n.pendingProps=m=S,(s.lanes&b)!==0)(s.flags&131072)!==0&&(Hs=!0);else return n.lanes=s.lanes,cr(s,n,b)}return pu(s,n,l,m,b)}function Dp(s,n,l){var m=n.pendingProps,b=m.children,S=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt(Yn,sa),sa|=l;else{if((l&1073741824)===0)return s=S!==null?S.baseLanes|l:l,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:s,cachePool:null,transitions:null},n.updateQueue=null,Bt(Yn,sa),sa|=s,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=S!==null?S.baseLanes:l,Bt(Yn,sa),sa|=m}else S!==null?(m=S.baseLanes|l,n.memoizedState=null):m=l,Bt(Yn,sa),sa|=m;return Os(s,n,b,l),n.child}function Op(s,n){var l=n.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(n.flags|=512,n.flags|=2097152)}function pu(s,n,l,m,b){var S=Vs(l)?Zr:ks.current;return S=Fn(n,S),qn(n,b),l=nu(s,n,l,m,S,b),m=ou(),s!==null&&!Hs?(n.updateQueue=s.updateQueue,n.flags&=-2053,s.lanes&=~b,cr(s,n,b)):(Yt&&m&&Ud(n),n.flags|=1,Os(s,n,l,b),n.child)}function $p(s,n,l,m,b){if(Vs(l)){var S=!0;fl(n)}else S=!1;if(qn(n,b),n.stateNode===null)Al(s,n),Sp(n,l,m),mu(n,l,m,b),m=!0;else if(s===null){var O=n.stateNode,W=n.memoizedProps;O.props=W;var J=O.context,le=l.contextType;typeof le=="object"&&le!==null?le=da(le):(le=Vs(l)?Zr:ks.current,le=Fn(n,le));var je=l.getDerivedStateFromProps,we=typeof je=="function"||typeof O.getSnapshotBeforeUpdate=="function";we||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(W!==m||J!==le)&&Cp(n,O,m,le),Er=!1;var ve=n.memoizedState;O.state=ve,wl(n,m,O,b),J=n.memoizedState,W!==m||ve!==J||Us.current||Er?(typeof je=="function"&&(uu(n,l,je,m),J=n.memoizedState),(W=Er||Np(n,l,W,m,ve,J,le))?(we||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(n.flags|=4194308)):(typeof O.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=m,n.memoizedState=J),O.props=m,O.state=J,O.context=le,m=W):(typeof O.componentDidMount=="function"&&(n.flags|=4194308),m=!1)}else{O=n.stateNode,Xh(s,n),W=n.memoizedProps,le=n.type===n.elementType?W:wa(n.type,W),O.props=le,we=n.pendingProps,ve=O.context,J=l.contextType,typeof J=="object"&&J!==null?J=da(J):(J=Vs(l)?Zr:ks.current,J=Fn(n,J));var Oe=l.getDerivedStateFromProps;(je=typeof Oe=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(W!==we||ve!==J)&&Cp(n,O,m,J),Er=!1,ve=n.memoizedState,O.state=ve,wl(n,m,O,b);var Fe=n.memoizedState;W!==we||ve!==Fe||Us.current||Er?(typeof Oe=="function"&&(uu(n,l,Oe,m),Fe=n.memoizedState),(le=Er||Np(n,l,le,m,ve,Fe,J)||!1)?(je||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(m,Fe,J),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(m,Fe,J)),typeof O.componentDidUpdate=="function"&&(n.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof O.componentDidUpdate!="function"||W===s.memoizedProps&&ve===s.memoizedState||(n.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&ve===s.memoizedState||(n.flags|=1024),n.memoizedProps=m,n.memoizedState=Fe),O.props=m,O.state=Fe,O.context=J,m=le):(typeof O.componentDidUpdate!="function"||W===s.memoizedProps&&ve===s.memoizedState||(n.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&ve===s.memoizedState||(n.flags|=1024),m=!1)}return xu(s,n,l,m,S,b)}function xu(s,n,l,m,b,S){Op(s,n);var O=(n.flags&128)!==0;if(!m&&!O)return b&&Bh(n,l,!1),cr(s,n,S);m=n.stateNode,tN.current=n;var W=O&&typeof l.getDerivedStateFromError!="function"?null:m.render();return n.flags|=1,s!==null&&O?(n.child=Vn(n,s.child,null,S),n.child=Vn(n,null,W,S)):Os(s,n,W,S),n.memoizedState=m.state,b&&Bh(n,l,!0),n.child}function Lp(s){var n=s.stateNode;n.pendingContext?Fh(s,n.pendingContext,n.pendingContext!==n.context):n.context&&Fh(s,n.context,!1),Zd(s,n.containerInfo)}function Ip(s,n,l,m,b){return Un(),Wd(b),n.flags|=256,Os(s,n,l,m),n.child}var gu={dehydrated:null,treeContext:null,retryLane:0};function vu(s){return{baseLanes:s,cachePool:null,transitions:null}}function Fp(s,n,l){var m=n.pendingProps,b=Jt.current,S=!1,O=(n.flags&128)!==0,W;if((W=O)||(W=s!==null&&s.memoizedState===null?!1:(b&2)!==0),W?(S=!0,n.flags&=-129):(s===null||s.memoizedState!==null)&&(b|=1),Bt(Jt,b&1),s===null)return qd(n),s=n.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((n.mode&1)===0?n.lanes=1:s.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(O=m.children,s=m.fallback,S?(m=n.mode,S=n.child,O={mode:"hidden",children:O},(m&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=O):S=Vl(O,m,0,null),s=dn(s,m,l,null),S.return=n,s.return=n,S.sibling=s,n.child=S,n.child.memoizedState=vu(l),n.memoizedState=gu,s):ju(n,O));if(b=s.memoizedState,b!==null&&(W=b.dehydrated,W!==null))return sN(s,n,O,m,W,b,l);if(S){S=m.fallback,O=n.mode,b=s.child,W=b.sibling;var J={mode:"hidden",children:m.children};return(O&1)===0&&n.child!==b?(m=n.child,m.childLanes=0,m.pendingProps=J,n.deletions=null):(m=Or(b,J),m.subtreeFlags=b.subtreeFlags&14680064),W!==null?S=Or(W,S):(S=dn(S,O,l,null),S.flags|=2),S.return=n,m.return=n,m.sibling=S,n.child=m,m=S,S=n.child,O=s.child.memoizedState,O=O===null?vu(l):{baseLanes:O.baseLanes|l,cachePool:null,transitions:O.transitions},S.memoizedState=O,S.childLanes=s.childLanes&~l,n.memoizedState=gu,m}return S=s.child,s=S.sibling,m=Or(S,{mode:"visible",children:m.children}),(n.mode&1)===0&&(m.lanes=l),m.return=n,m.sibling=null,s!==null&&(l=n.deletions,l===null?(n.deletions=[s],n.flags|=16):l.push(s)),n.child=m,n.memoizedState=null,m}function ju(s,n){return n=Vl({mode:"visible",children:n},s.mode,0,null),n.return=s,s.child=n}function Pl(s,n,l,m){return m!==null&&Wd(m),Vn(n,s.child,null,l),s=ju(n,n.pendingProps.children),s.flags|=2,n.memoizedState=null,s}function sN(s,n,l,m,b,S,O){if(l)return n.flags&256?(n.flags&=-257,m=fu(Error(r(422))),Pl(s,n,O,m)):n.memoizedState!==null?(n.child=s.child,n.flags|=128,null):(S=m.fallback,b=n.mode,m=Vl({mode:"visible",children:m.children},b,0,null),S=dn(S,b,O,null),S.flags|=2,m.return=n,S.return=n,m.sibling=S,n.child=m,(n.mode&1)!==0&&Vn(n,s.child,null,O),n.child.memoizedState=vu(O),n.memoizedState=gu,S);if((n.mode&1)===0)return Pl(s,n,O,null);if(b.data==="$!"){if(m=b.nextSibling&&b.nextSibling.dataset,m)var W=m.dgst;return m=W,S=Error(r(419)),m=fu(S,m,void 0),Pl(s,n,O,m)}if(W=(O&s.childLanes)!==0,Hs||W){if(m=ys,m!==null){switch(O&-O){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(m.suspendedLanes|O))!==0?0:b,b!==0&&b!==S.retryLane&&(S.retryLane=b,ir(s,b),Ca(m,s,b,-1))}return Ou(),m=fu(Error(r(421))),Pl(s,n,O,m)}return b.data==="$?"?(n.flags|=128,n.child=s.child,n=pN.bind(null,s),b._reactRetry=n,null):(s=S.treeContext,ta=Sr(b.nextSibling),ea=n,Yt=!0,ba=null,s!==null&&(la[ca++]=nr,la[ca++]=or,la[ca++]=en,nr=s.id,or=s.overflow,en=n),n=ju(n,m.children),n.flags|=4096,n)}function zp(s,n,l){s.lanes|=n;var m=s.alternate;m!==null&&(m.lanes|=n),Jd(s.return,n,l)}function yu(s,n,l,m,b){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:m,tail:l,tailMode:b}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=l,S.tailMode=b)}function Bp(s,n,l){var m=n.pendingProps,b=m.revealOrder,S=m.tail;if(Os(s,n,m.children,l),m=Jt.current,(m&2)!==0)m=m&1|2,n.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=n.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&zp(s,l,n);else if(s.tag===19)zp(s,l,n);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(Bt(Jt,m),(n.mode&1)===0)n.memoizedState=null;else switch(b){case"forwards":for(l=n.child,b=null;l!==null;)s=l.alternate,s!==null&&Nl(s)===null&&(b=l),l=l.sibling;l=b,l===null?(b=n.child,n.child=null):(b=l.sibling,l.sibling=null),yu(n,!1,b,l,S);break;case"backwards":for(l=null,b=n.child,n.child=null;b!==null;){if(s=b.alternate,s!==null&&Nl(s)===null){n.child=b;break}s=b.sibling,b.sibling=l,l=b,b=s}yu(n,!0,l,null,S);break;case"together":yu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Al(s,n){(n.mode&1)===0&&s!==null&&(s.alternate=null,n.alternate=null,n.flags|=2)}function cr(s,n,l){if(s!==null&&(n.dependencies=s.dependencies),nn|=n.lanes,(l&n.childLanes)===0)return null;if(s!==null&&n.child!==s.child)throw Error(r(153));if(n.child!==null){for(s=n.child,l=Or(s,s.pendingProps),n.child=l,l.return=n;s.sibling!==null;)s=s.sibling,l=l.sibling=Or(s,s.pendingProps),l.return=n;l.sibling=null}return n.child}function aN(s,n,l){switch(n.tag){case 3:Lp(n),Un();break;case 5:tp(n);break;case 1:Vs(n.type)&&fl(n);break;case 4:Zd(n,n.stateNode.containerInfo);break;case 10:var m=n.type._context,b=n.memoizedProps.value;Bt(jl,m._currentValue),m._currentValue=b;break;case 13:if(m=n.memoizedState,m!==null)return m.dehydrated!==null?(Bt(Jt,Jt.current&1),n.flags|=128,null):(l&n.child.childLanes)!==0?Fp(s,n,l):(Bt(Jt,Jt.current&1),s=cr(s,n,l),s!==null?s.sibling:null);Bt(Jt,Jt.current&1);break;case 19:if(m=(l&n.childLanes)!==0,(s.flags&128)!==0){if(m)return Bp(s,n,l);n.flags|=128}if(b=n.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Bt(Jt,Jt.current),m)break;return null;case 22:case 23:return n.lanes=0,Dp(s,n,l)}return cr(s,n,l)}var Up,bu,Vp,Hp;Up=function(s,n){for(var l=n.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},bu=function(){},Vp=function(s,n,l,m){var b=s.memoizedProps;if(b!==m){s=n.stateNode,an(Ia.current);var S=null;switch(l){case"input":b=rt(s,b),m=rt(s,m),S=[];break;case"select":b=ee({},b,{value:void 0}),m=ee({},m,{value:void 0}),S=[];break;case"textarea":b=hs(s,b),m=hs(s,m),S=[];break;default:typeof b.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=dl)}Pe(l,m);var O;l=null;for(le in b)if(!m.hasOwnProperty(le)&&b.hasOwnProperty(le)&&b[le]!=null)if(le==="style"){var W=b[le];for(O in W)W.hasOwnProperty(O)&&(l||(l={}),l[O]="")}else le!=="dangerouslySetInnerHTML"&&le!=="children"&&le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(i.hasOwnProperty(le)?S||(S=[]):(S=S||[]).push(le,null));for(le in m){var J=m[le];if(W=b!=null?b[le]:void 0,m.hasOwnProperty(le)&&J!==W&&(J!=null||W!=null))if(le==="style")if(W){for(O in W)!W.hasOwnProperty(O)||J&&J.hasOwnProperty(O)||(l||(l={}),l[O]="");for(O in J)J.hasOwnProperty(O)&&W[O]!==J[O]&&(l||(l={}),l[O]=J[O])}else l||(S||(S=[]),S.push(le,l)),l=J;else le==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,W=W?W.__html:void 0,J!=null&&W!==J&&(S=S||[]).push(le,J)):le==="children"?typeof J!="string"&&typeof J!="number"||(S=S||[]).push(le,""+J):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&(i.hasOwnProperty(le)?(J!=null&&le==="onScroll"&&Ht("scroll",s),S||W===J||(S=[])):(S=S||[]).push(le,J))}l&&(S=S||[]).push("style",l);var le=S;(n.updateQueue=le)&&(n.flags|=4)}},Hp=function(s,n,l,m){l!==m&&(n.flags|=4)};function ai(s,n){if(!Yt)switch(s.tailMode){case"hidden":n=s.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?n||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function Rs(s){var n=s.alternate!==null&&s.alternate.child===s.child,l=0,m=0;if(n)for(var b=s.child;b!==null;)l|=b.lanes|b.childLanes,m|=b.subtreeFlags&14680064,m|=b.flags&14680064,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)l|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=m,s.childLanes=l,n}function rN(s,n,l){var m=n.pendingProps;switch(Vd(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rs(n),null;case 1:return Vs(n.type)&&ml(),Rs(n),null;case 3:return m=n.stateNode,Wn(),qt(Us),qt(ks),su(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(gl(n)?n.flags|=4:s===null||s.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ba!==null&&(Tu(ba),ba=null))),bu(s,n),Rs(n),null;case 5:eu(n);var b=an(Xo.current);if(l=n.type,s!==null&&n.stateNode!=null)Vp(s,n,l,m,b),s.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!m){if(n.stateNode===null)throw Error(r(166));return Rs(n),null}if(s=an(Ia.current),gl(n)){m=n.stateNode,l=n.type;var S=n.memoizedProps;switch(m[La]=n,m[Go]=S,s=(n.mode&1)!==0,l){case"dialog":Ht("cancel",m),Ht("close",m);break;case"iframe":case"object":case"embed":Ht("load",m);break;case"video":case"audio":for(b=0;b<Ho.length;b++)Ht(Ho[b],m);break;case"source":Ht("error",m);break;case"img":case"image":case"link":Ht("error",m),Ht("load",m);break;case"details":Ht("toggle",m);break;case"input":kt(m,S),Ht("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!S.multiple},Ht("invalid",m);break;case"textarea":Qs(m,S),Ht("invalid",m)}Pe(l,S),b=null;for(var O in S)if(S.hasOwnProperty(O)){var W=S[O];O==="children"?typeof W=="string"?m.textContent!==W&&(S.suppressHydrationWarning!==!0&&cl(m.textContent,W,s),b=["children",W]):typeof W=="number"&&m.textContent!==""+W&&(S.suppressHydrationWarning!==!0&&cl(m.textContent,W,s),b=["children",""+W]):i.hasOwnProperty(O)&&W!=null&&O==="onScroll"&&Ht("scroll",m)}switch(l){case"input":Ee(m),dt(m,S,!0);break;case"textarea":Ee(m),ia(m);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(m.onclick=dl)}m=b,n.updateQueue=m,m!==null&&(n.flags|=4)}else{O=b.nodeType===9?b:b.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=It(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=O.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=O.createElement(l,{is:m.is}):(s=O.createElement(l),l==="select"&&(O=s,m.multiple?O.multiple=!0:m.size&&(O.size=m.size))):s=O.createElementNS(s,l),s[La]=n,s[Go]=m,Up(s,n,!1,!1),n.stateNode=s;e:{switch(O=Ce(l,m),l){case"dialog":Ht("cancel",s),Ht("close",s),b=m;break;case"iframe":case"object":case"embed":Ht("load",s),b=m;break;case"video":case"audio":for(b=0;b<Ho.length;b++)Ht(Ho[b],s);b=m;break;case"source":Ht("error",s),b=m;break;case"img":case"image":case"link":Ht("error",s),Ht("load",s),b=m;break;case"details":Ht("toggle",s),b=m;break;case"input":kt(s,m),b=rt(s,m),Ht("invalid",s);break;case"option":b=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},b=ee({},m,{value:void 0}),Ht("invalid",s);break;case"textarea":Qs(s,m),b=hs(s,m),Ht("invalid",s);break;default:b=m}Pe(l,b),W=b;for(S in W)if(W.hasOwnProperty(S)){var J=W[S];S==="style"?sr(s,J):S==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&ss(s,J)):S==="children"?typeof J=="string"?(l!=="textarea"||J!=="")&&Vt(s,J):typeof J=="number"&&Vt(s,""+J):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?J!=null&&S==="onScroll"&&Ht("scroll",s):J!=null&&_(s,S,J,O))}switch(l){case"input":Ee(s),dt(s,m,!1);break;case"textarea":Ee(s),ia(s);break;case"option":m.value!=null&&s.setAttribute("value",""+oe(m.value));break;case"select":s.multiple=!!m.multiple,S=m.value,S!=null?ke(s,!!m.multiple,S,!1):m.defaultValue!=null&&ke(s,!!m.multiple,m.defaultValue,!0);break;default:typeof b.onClick=="function"&&(s.onclick=dl)}switch(l){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Rs(n),null;case 6:if(s&&n.stateNode!=null)Hp(s,n,s.memoizedProps,m);else{if(typeof m!="string"&&n.stateNode===null)throw Error(r(166));if(l=an(Xo.current),an(Ia.current),gl(n)){if(m=n.stateNode,l=n.memoizedProps,m[La]=n,(S=m.nodeValue!==l)&&(s=ea,s!==null))switch(s.tag){case 3:cl(m.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&cl(m.nodeValue,l,(s.mode&1)!==0)}S&&(n.flags|=4)}else m=(l.nodeType===9?l:l.ownerDocument).createTextNode(m),m[La]=n,n.stateNode=m}return Rs(n),null;case 13:if(qt(Jt),m=n.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Yt&&ta!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Gh(),Un(),n.flags|=98560,S=!1;else if(S=gl(n),m!==null&&m.dehydrated!==null){if(s===null){if(!S)throw Error(r(318));if(S=n.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[La]=n}else Un(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Rs(n),S=!1}else ba!==null&&(Tu(ba),ba=null),S=!0;if(!S)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=l,n):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(n.child.flags|=8192,(n.mode&1)!==0&&(s===null||(Jt.current&1)!==0?xs===0&&(xs=3):Ou())),n.updateQueue!==null&&(n.flags|=4),Rs(n),null);case 4:return Wn(),bu(s,n),s===null&&qo(n.stateNode.containerInfo),Rs(n),null;case 10:return Yd(n.type._context),Rs(n),null;case 17:return Vs(n.type)&&ml(),Rs(n),null;case 19:if(qt(Jt),S=n.memoizedState,S===null)return Rs(n),null;if(m=(n.flags&128)!==0,O=S.rendering,O===null)if(m)ai(S,!1);else{if(xs!==0||s!==null&&(s.flags&128)!==0)for(s=n.child;s!==null;){if(O=Nl(s),O!==null){for(n.flags|=128,ai(S,!1),m=O.updateQueue,m!==null&&(n.updateQueue=m,n.flags|=4),n.subtreeFlags=0,m=l,l=n.child;l!==null;)S=l,s=m,S.flags&=14680066,O=S.alternate,O===null?(S.childLanes=0,S.lanes=s,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=O.childLanes,S.lanes=O.lanes,S.child=O.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=O.memoizedProps,S.memoizedState=O.memoizedState,S.updateQueue=O.updateQueue,S.type=O.type,s=O.dependencies,S.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return Bt(Jt,Jt.current&1|2),n.child}s=s.sibling}S.tail!==null&&de()>Jn&&(n.flags|=128,m=!0,ai(S,!1),n.lanes=4194304)}else{if(!m)if(s=Nl(O),s!==null){if(n.flags|=128,m=!0,l=s.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),ai(S,!0),S.tail===null&&S.tailMode==="hidden"&&!O.alternate&&!Yt)return Rs(n),null}else 2*de()-S.renderingStartTime>Jn&&l!==1073741824&&(n.flags|=128,m=!0,ai(S,!1),n.lanes=4194304);S.isBackwards?(O.sibling=n.child,n.child=O):(l=S.last,l!==null?l.sibling=O:n.child=O,S.last=O)}return S.tail!==null?(n=S.tail,S.rendering=n,S.tail=n.sibling,S.renderingStartTime=de(),n.sibling=null,l=Jt.current,Bt(Jt,m?l&1|2:l&1),n):(Rs(n),null);case 22:case 23:return Du(),m=n.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(n.flags|=8192),m&&(n.mode&1)!==0?(sa&1073741824)!==0&&(Rs(n),n.subtreeFlags&6&&(n.flags|=8192)):Rs(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function nN(s,n){switch(Vd(n),n.tag){case 1:return Vs(n.type)&&ml(),s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 3:return Wn(),qt(Us),qt(ks),su(),s=n.flags,(s&65536)!==0&&(s&128)===0?(n.flags=s&-65537|128,n):null;case 5:return eu(n),null;case 13:if(qt(Jt),s=n.memoizedState,s!==null&&s.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Un()}return s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 19:return qt(Jt),null;case 4:return Wn(),null;case 10:return Yd(n.type._context),null;case 22:case 23:return Du(),null;case 24:return null;default:return null}}var Tl=!1,Ps=!1,oN=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Kn(s,n){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(m){Zt(s,n,m)}else l.current=null}function wu(s,n,l){try{l()}catch(m){Zt(s,n,m)}}var qp=!1;function iN(s,n){if(Dd=Xi,s=Nh(),_d(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var m=l.getSelection&&l.getSelection();if(m&&m.rangeCount!==0){l=m.anchorNode;var b=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{l.nodeType,S.nodeType}catch{l=null;break e}var O=0,W=-1,J=-1,le=0,je=0,we=s,ve=null;t:for(;;){for(var Oe;we!==l||b!==0&&we.nodeType!==3||(W=O+b),we!==S||m!==0&&we.nodeType!==3||(J=O+m),we.nodeType===3&&(O+=we.nodeValue.length),(Oe=we.firstChild)!==null;)ve=we,we=Oe;for(;;){if(we===s)break t;if(ve===l&&++le===b&&(W=O),ve===S&&++je===m&&(J=O),(Oe=we.nextSibling)!==null)break;we=ve,ve=we.parentNode}we=Oe}l=W===-1||J===-1?null:{start:W,end:J}}else l=null}l=l||{start:0,end:0}}else l=null;for(Od={focusedElem:s,selectionRange:l},Xi=!1,Le=n;Le!==null;)if(n=Le,s=n.child,(n.subtreeFlags&1028)!==0&&s!==null)s.return=n,Le=s;else for(;Le!==null;){n=Le;try{var Fe=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Fe!==null){var Be=Fe.memoizedProps,ns=Fe.memoizedState,se=n.stateNode,X=se.getSnapshotBeforeUpdate(n.elementType===n.type?Be:wa(n.type,Be),ns);se.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var re=n.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Se){Zt(n,n.return,Se)}if(s=n.sibling,s!==null){s.return=n.return,Le=s;break}Le=n.return}return Fe=qp,qp=!1,Fe}function ri(s,n,l){var m=n.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var b=m=m.next;do{if((b.tag&s)===s){var S=b.destroy;b.destroy=void 0,S!==void 0&&wu(n,l,S)}b=b.next}while(b!==m)}}function Ml(s,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&s)===s){var m=l.create;l.destroy=m()}l=l.next}while(l!==n)}}function Nu(s){var n=s.ref;if(n!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof n=="function"?n(s):n.current=s}}function Wp(s){var n=s.alternate;n!==null&&(s.alternate=null,Wp(n)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(n=s.stateNode,n!==null&&(delete n[La],delete n[Go],delete n[Fd],delete n[Vw],delete n[Hw])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Gp(s){return s.tag===5||s.tag===3||s.tag===4}function Kp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Gp(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Su(s,n,l){var m=s.tag;if(m===5||m===6)s=s.stateNode,n?l.nodeType===8?l.parentNode.insertBefore(s,n):l.insertBefore(s,n):(l.nodeType===8?(n=l.parentNode,n.insertBefore(s,l)):(n=l,n.appendChild(s)),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=dl));else if(m!==4&&(s=s.child,s!==null))for(Su(s,n,l),s=s.sibling;s!==null;)Su(s,n,l),s=s.sibling}function Cu(s,n,l){var m=s.tag;if(m===5||m===6)s=s.stateNode,n?l.insertBefore(s,n):l.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(Cu(s,n,l),s=s.sibling;s!==null;)Cu(s,n,l),s=s.sibling}var ws=null,Na=!1;function Pr(s,n,l){for(l=l.child;l!==null;)Yp(s,n,l),l=l.sibling}function Yp(s,n,l){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(ds,l)}catch{}switch(l.tag){case 5:Ps||Kn(l,n);case 6:var m=ws,b=Na;ws=null,Pr(s,n,l),ws=m,Na=b,ws!==null&&(Na?(s=ws,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):ws.removeChild(l.stateNode));break;case 18:ws!==null&&(Na?(s=ws,l=l.stateNode,s.nodeType===8?Id(s.parentNode,l):s.nodeType===1&&Id(s,l),$o(s)):Id(ws,l.stateNode));break;case 4:m=ws,b=Na,ws=l.stateNode.containerInfo,Na=!0,Pr(s,n,l),ws=m,Na=b;break;case 0:case 11:case 14:case 15:if(!Ps&&(m=l.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){b=m=m.next;do{var S=b,O=S.destroy;S=S.tag,O!==void 0&&((S&2)!==0||(S&4)!==0)&&wu(l,n,O),b=b.next}while(b!==m)}Pr(s,n,l);break;case 1:if(!Ps&&(Kn(l,n),m=l.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=l.memoizedProps,m.state=l.memoizedState,m.componentWillUnmount()}catch(W){Zt(l,n,W)}Pr(s,n,l);break;case 21:Pr(s,n,l);break;case 22:l.mode&1?(Ps=(m=Ps)||l.memoizedState!==null,Pr(s,n,l),Ps=m):Pr(s,n,l);break;default:Pr(s,n,l)}}function Jp(s){var n=s.updateQueue;if(n!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new oN),n.forEach(function(m){var b=xN.bind(null,s,m);l.has(m)||(l.add(m),m.then(b,b))})}}function Sa(s,n){var l=n.deletions;if(l!==null)for(var m=0;m<l.length;m++){var b=l[m];try{var S=s,O=n,W=O;e:for(;W!==null;){switch(W.tag){case 5:ws=W.stateNode,Na=!1;break e;case 3:ws=W.stateNode.containerInfo,Na=!0;break e;case 4:ws=W.stateNode.containerInfo,Na=!0;break e}W=W.return}if(ws===null)throw Error(r(160));Yp(S,O,b),ws=null,Na=!1;var J=b.alternate;J!==null&&(J.return=null),b.return=null}catch(le){Zt(b,n,le)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Qp(n,s),n=n.sibling}function Qp(s,n){var l=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Sa(n,s),za(s),m&4){try{ri(3,s,s.return),Ml(3,s)}catch(Be){Zt(s,s.return,Be)}try{ri(5,s,s.return)}catch(Be){Zt(s,s.return,Be)}}break;case 1:Sa(n,s),za(s),m&512&&l!==null&&Kn(l,l.return);break;case 5:if(Sa(n,s),za(s),m&512&&l!==null&&Kn(l,l.return),s.flags&32){var b=s.stateNode;try{Vt(b,"")}catch(Be){Zt(s,s.return,Be)}}if(m&4&&(b=s.stateNode,b!=null)){var S=s.memoizedProps,O=l!==null?l.memoizedProps:S,W=s.type,J=s.updateQueue;if(s.updateQueue=null,J!==null)try{W==="input"&&S.type==="radio"&&S.name!=null&&jt(b,S),Ce(W,O);var le=Ce(W,S);for(O=0;O<J.length;O+=2){var je=J[O],we=J[O+1];je==="style"?sr(b,we):je==="dangerouslySetInnerHTML"?ss(b,we):je==="children"?Vt(b,we):_(b,je,we,le)}switch(W){case"input":Lt(b,S);break;case"textarea":tt(b,S);break;case"select":var ve=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!S.multiple;var Oe=S.value;Oe!=null?ke(b,!!S.multiple,Oe,!1):ve!==!!S.multiple&&(S.defaultValue!=null?ke(b,!!S.multiple,S.defaultValue,!0):ke(b,!!S.multiple,S.multiple?[]:"",!1))}b[Go]=S}catch(Be){Zt(s,s.return,Be)}}break;case 6:if(Sa(n,s),za(s),m&4){if(s.stateNode===null)throw Error(r(162));b=s.stateNode,S=s.memoizedProps;try{b.nodeValue=S}catch(Be){Zt(s,s.return,Be)}}break;case 3:if(Sa(n,s),za(s),m&4&&l!==null&&l.memoizedState.isDehydrated)try{$o(n.containerInfo)}catch(Be){Zt(s,s.return,Be)}break;case 4:Sa(n,s),za(s);break;case 13:Sa(n,s),za(s),b=s.child,b.flags&8192&&(S=b.memoizedState!==null,b.stateNode.isHidden=S,!S||b.alternate!==null&&b.alternate.memoizedState!==null||(Eu=de())),m&4&&Jp(s);break;case 22:if(je=l!==null&&l.memoizedState!==null,s.mode&1?(Ps=(le=Ps)||je,Sa(n,s),Ps=le):Sa(n,s),za(s),m&8192){if(le=s.memoizedState!==null,(s.stateNode.isHidden=le)&&!je&&(s.mode&1)!==0)for(Le=s,je=s.child;je!==null;){for(we=Le=je;Le!==null;){switch(ve=Le,Oe=ve.child,ve.tag){case 0:case 11:case 14:case 15:ri(4,ve,ve.return);break;case 1:Kn(ve,ve.return);var Fe=ve.stateNode;if(typeof Fe.componentWillUnmount=="function"){m=ve,l=ve.return;try{n=m,Fe.props=n.memoizedProps,Fe.state=n.memoizedState,Fe.componentWillUnmount()}catch(Be){Zt(m,l,Be)}}break;case 5:Kn(ve,ve.return);break;case 22:if(ve.memoizedState!==null){ex(we);continue}}Oe!==null?(Oe.return=ve,Le=Oe):ex(we)}je=je.sibling}e:for(je=null,we=s;;){if(we.tag===5){if(je===null){je=we;try{b=we.stateNode,le?(S=b.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(W=we.stateNode,J=we.memoizedProps.style,O=J!=null&&J.hasOwnProperty("display")?J.display:null,W.style.display=En("display",O))}catch(Be){Zt(s,s.return,Be)}}}else if(we.tag===6){if(je===null)try{we.stateNode.nodeValue=le?"":we.memoizedProps}catch(Be){Zt(s,s.return,Be)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===s)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===s)break e;for(;we.sibling===null;){if(we.return===null||we.return===s)break e;je===we&&(je=null),we=we.return}je===we&&(je=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:Sa(n,s),za(s),m&4&&Jp(s);break;case 21:break;default:Sa(n,s),za(s)}}function za(s){var n=s.flags;if(n&2){try{e:{for(var l=s.return;l!==null;){if(Gp(l)){var m=l;break e}l=l.return}throw Error(r(160))}switch(m.tag){case 5:var b=m.stateNode;m.flags&32&&(Vt(b,""),m.flags&=-33);var S=Kp(s);Cu(s,S,b);break;case 3:case 4:var O=m.stateNode.containerInfo,W=Kp(s);Su(s,W,O);break;default:throw Error(r(161))}}catch(J){Zt(s,s.return,J)}s.flags&=-3}n&4096&&(s.flags&=-4097)}function lN(s,n,l){Le=s,Xp(s)}function Xp(s,n,l){for(var m=(s.mode&1)!==0;Le!==null;){var b=Le,S=b.child;if(b.tag===22&&m){var O=b.memoizedState!==null||Tl;if(!O){var W=b.alternate,J=W!==null&&W.memoizedState!==null||Ps;W=Tl;var le=Ps;if(Tl=O,(Ps=J)&&!le)for(Le=b;Le!==null;)O=Le,J=O.child,O.tag===22&&O.memoizedState!==null?tx(b):J!==null?(J.return=O,Le=J):tx(b);for(;S!==null;)Le=S,Xp(S),S=S.sibling;Le=b,Tl=W,Ps=le}Zp(s)}else(b.subtreeFlags&8772)!==0&&S!==null?(S.return=b,Le=S):Zp(s)}}function Zp(s){for(;Le!==null;){var n=Le;if((n.flags&8772)!==0){var l=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Ps||Ml(5,n);break;case 1:var m=n.stateNode;if(n.flags&4&&!Ps)if(l===null)m.componentDidMount();else{var b=n.elementType===n.type?l.memoizedProps:wa(n.type,l.memoizedProps);m.componentDidUpdate(b,l.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var S=n.updateQueue;S!==null&&ep(n,S,m);break;case 3:var O=n.updateQueue;if(O!==null){if(l=null,n.child!==null)switch(n.child.tag){case 5:l=n.child.stateNode;break;case 1:l=n.child.stateNode}ep(n,O,l)}break;case 5:var W=n.stateNode;if(l===null&&n.flags&4){l=W;var J=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&l.focus();break;case"img":J.src&&(l.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var le=n.alternate;if(le!==null){var je=le.memoizedState;if(je!==null){var we=je.dehydrated;we!==null&&$o(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ps||n.flags&512&&Nu(n)}catch(ve){Zt(n,n.return,ve)}}if(n===s){Le=null;break}if(l=n.sibling,l!==null){l.return=n.return,Le=l;break}Le=n.return}}function ex(s){for(;Le!==null;){var n=Le;if(n===s){Le=null;break}var l=n.sibling;if(l!==null){l.return=n.return,Le=l;break}Le=n.return}}function tx(s){for(;Le!==null;){var n=Le;try{switch(n.tag){case 0:case 11:case 15:var l=n.return;try{Ml(4,n)}catch(J){Zt(n,l,J)}break;case 1:var m=n.stateNode;if(typeof m.componentDidMount=="function"){var b=n.return;try{m.componentDidMount()}catch(J){Zt(n,b,J)}}var S=n.return;try{Nu(n)}catch(J){Zt(n,S,J)}break;case 5:var O=n.return;try{Nu(n)}catch(J){Zt(n,O,J)}}}catch(J){Zt(n,n.return,J)}if(n===s){Le=null;break}var W=n.sibling;if(W!==null){W.return=n.return,Le=W;break}Le=n.return}}var cN=Math.ceil,Dl=E.ReactCurrentDispatcher,_u=E.ReactCurrentOwner,ma=E.ReactCurrentBatchConfig,yt=0,ys=null,us=null,Ns=0,sa=0,Yn=Cr(0),xs=0,ni=null,nn=0,Ol=0,ku=0,oi=null,qs=null,Eu=0,Jn=1/0,dr=null,$l=!1,Ru=null,Ar=null,Ll=!1,Tr=null,Il=0,ii=0,Pu=null,Fl=-1,zl=0;function $s(){return(yt&6)!==0?de():Fl!==-1?Fl:Fl=de()}function Mr(s){return(s.mode&1)===0?1:(yt&2)!==0&&Ns!==0?Ns&-Ns:Ww.transition!==null?(zl===0&&(zl=Kf()),zl):(s=Mt,s!==0||(s=window.event,s=s===void 0?16:ah(s.type)),s)}function Ca(s,n,l,m){if(50<ii)throw ii=0,Pu=null,Error(r(185));Ao(s,l,m),((yt&2)===0||s!==ys)&&(s===ys&&((yt&2)===0&&(Ol|=l),xs===4&&Dr(s,Ns)),Ws(s,m),l===1&&yt===0&&(n.mode&1)===0&&(Jn=de()+500,hl&&kr()))}function Ws(s,n){var l=s.callbackNode;Wb(s,n);var m=Yi(s,s===ys?Ns:0);if(m===0)l!==null&&Ro(l),s.callbackNode=null,s.callbackPriority=0;else if(n=m&-m,s.callbackPriority!==n){if(l!=null&&Ro(l),n===1)s.tag===0?qw(ax.bind(null,s)):Uh(ax.bind(null,s)),Bw(function(){(yt&6)===0&&kr()}),l=null;else{switch(Yf(m)){case 1:l=De;break;case 4:l=_s;break;case 16:l=zt;break;case 536870912:l=Nt;break;default:l=zt}l=ux(l,sx.bind(null,s))}s.callbackPriority=n,s.callbackNode=l}}function sx(s,n){if(Fl=-1,zl=0,(yt&6)!==0)throw Error(r(327));var l=s.callbackNode;if(Qn()&&s.callbackNode!==l)return null;var m=Yi(s,s===ys?Ns:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||n)n=Bl(s,m);else{n=m;var b=yt;yt|=2;var S=nx();(ys!==s||Ns!==n)&&(dr=null,Jn=de()+500,ln(s,n));do try{mN();break}catch(W){rx(s,W)}while(!0);Kd(),Dl.current=S,yt=b,us!==null?n=0:(ys=null,Ns=0,n=xs)}if(n!==0){if(n===2&&(b=dd(s),b!==0&&(m=b,n=Au(s,b))),n===1)throw l=ni,ln(s,0),Dr(s,m),Ws(s,de()),l;if(n===6)Dr(s,m);else{if(b=s.current.alternate,(m&30)===0&&!dN(b)&&(n=Bl(s,m),n===2&&(S=dd(s),S!==0&&(m=S,n=Au(s,S))),n===1))throw l=ni,ln(s,0),Dr(s,m),Ws(s,de()),l;switch(s.finishedWork=b,s.finishedLanes=m,n){case 0:case 1:throw Error(r(345));case 2:cn(s,qs,dr);break;case 3:if(Dr(s,m),(m&130023424)===m&&(n=Eu+500-de(),10<n)){if(Yi(s,0)!==0)break;if(b=s.suspendedLanes,(b&m)!==m){$s(),s.pingedLanes|=s.suspendedLanes&b;break}s.timeoutHandle=Ld(cn.bind(null,s,qs,dr),n);break}cn(s,qs,dr);break;case 4:if(Dr(s,m),(m&4194240)===m)break;for(n=s.eventTimes,b=-1;0<m;){var O=31-Xs(m);S=1<<O,O=n[O],O>b&&(b=O),m&=~S}if(m=b,m=de()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*cN(m/1960))-m,10<m){s.timeoutHandle=Ld(cn.bind(null,s,qs,dr),m);break}cn(s,qs,dr);break;case 5:cn(s,qs,dr);break;default:throw Error(r(329))}}}return Ws(s,de()),s.callbackNode===l?sx.bind(null,s):null}function Au(s,n){var l=oi;return s.current.memoizedState.isDehydrated&&(ln(s,n).flags|=256),s=Bl(s,n),s!==2&&(n=qs,qs=l,n!==null&&Tu(n)),s}function Tu(s){qs===null?qs=s:qs.push.apply(qs,s)}function dN(s){for(var n=s;;){if(n.flags&16384){var l=n.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var m=0;m<l.length;m++){var b=l[m],S=b.getSnapshot;b=b.value;try{if(!ya(S(),b))return!1}catch{return!1}}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Dr(s,n){for(n&=~ku,n&=~Ol,s.suspendedLanes|=n,s.pingedLanes&=~n,s=s.expirationTimes;0<n;){var l=31-Xs(n),m=1<<l;s[l]=-1,n&=~m}}function ax(s){if((yt&6)!==0)throw Error(r(327));Qn();var n=Yi(s,0);if((n&1)===0)return Ws(s,de()),null;var l=Bl(s,n);if(s.tag!==0&&l===2){var m=dd(s);m!==0&&(n=m,l=Au(s,m))}if(l===1)throw l=ni,ln(s,0),Dr(s,n),Ws(s,de()),l;if(l===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=n,cn(s,qs,dr),Ws(s,de()),null}function Mu(s,n){var l=yt;yt|=1;try{return s(n)}finally{yt=l,yt===0&&(Jn=de()+500,hl&&kr())}}function on(s){Tr!==null&&Tr.tag===0&&(yt&6)===0&&Qn();var n=yt;yt|=1;var l=ma.transition,m=Mt;try{if(ma.transition=null,Mt=1,s)return s()}finally{Mt=m,ma.transition=l,yt=n,(yt&6)===0&&kr()}}function Du(){sa=Yn.current,qt(Yn)}function ln(s,n){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,zw(l)),us!==null)for(l=us.return;l!==null;){var m=l;switch(Vd(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&ml();break;case 3:Wn(),qt(Us),qt(ks),su();break;case 5:eu(m);break;case 4:Wn();break;case 13:qt(Jt);break;case 19:qt(Jt);break;case 10:Yd(m.type._context);break;case 22:case 23:Du()}l=l.return}if(ys=s,us=s=Or(s.current,null),Ns=sa=n,xs=0,ni=null,ku=Ol=nn=0,qs=oi=null,sn!==null){for(n=0;n<sn.length;n++)if(l=sn[n],m=l.interleaved,m!==null){l.interleaved=null;var b=m.next,S=l.pending;if(S!==null){var O=S.next;S.next=b,m.next=O}l.pending=m}sn=null}return s}function rx(s,n){do{var l=us;try{if(Kd(),Sl.current=El,Cl){for(var m=Qt.memoizedState;m!==null;){var b=m.queue;b!==null&&(b.pending=null),m=m.next}Cl=!1}if(rn=0,js=ps=Qt=null,Zo=!1,ei=0,_u.current=null,l===null||l.return===null){xs=1,ni=n,us=null;break}e:{var S=s,O=l.return,W=l,J=n;if(n=Ns,W.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var le=J,je=W,we=je.tag;if((je.mode&1)===0&&(we===0||we===11||we===15)){var ve=je.alternate;ve?(je.updateQueue=ve.updateQueue,je.memoizedState=ve.memoizedState,je.lanes=ve.lanes):(je.updateQueue=null,je.memoizedState=null)}var Oe=Rp(O);if(Oe!==null){Oe.flags&=-257,Pp(Oe,O,W,S,n),Oe.mode&1&&Ep(S,le,n),n=Oe,J=le;var Fe=n.updateQueue;if(Fe===null){var Be=new Set;Be.add(J),n.updateQueue=Be}else Fe.add(J);break e}else{if((n&1)===0){Ep(S,le,n),Ou();break e}J=Error(r(426))}}else if(Yt&&W.mode&1){var ns=Rp(O);if(ns!==null){(ns.flags&65536)===0&&(ns.flags|=256),Pp(ns,O,W,S,n),Wd(Gn(J,W));break e}}S=J=Gn(J,W),xs!==4&&(xs=2),oi===null?oi=[S]:oi.push(S),S=O;do{switch(S.tag){case 3:S.flags|=65536,n&=-n,S.lanes|=n;var se=_p(S,J,n);Zh(S,se);break e;case 1:W=J;var X=S.type,re=S.stateNode;if((S.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(Ar===null||!Ar.has(re)))){S.flags|=65536,n&=-n,S.lanes|=n;var Se=kp(S,W,n);Zh(S,Se);break e}}S=S.return}while(S!==null)}ix(l)}catch(Ve){n=Ve,us===l&&l!==null&&(us=l=l.return);continue}break}while(!0)}function nx(){var s=Dl.current;return Dl.current=El,s===null?El:s}function Ou(){(xs===0||xs===3||xs===2)&&(xs=4),ys===null||(nn&268435455)===0&&(Ol&268435455)===0||Dr(ys,Ns)}function Bl(s,n){var l=yt;yt|=2;var m=nx();(ys!==s||Ns!==n)&&(dr=null,ln(s,n));do try{uN();break}catch(b){rx(s,b)}while(!0);if(Kd(),yt=l,Dl.current=m,us!==null)throw Error(r(261));return ys=null,Ns=0,xs}function uN(){for(;us!==null;)ox(us)}function mN(){for(;us!==null&&!Wi();)ox(us)}function ox(s){var n=dx(s.alternate,s,sa);s.memoizedProps=s.pendingProps,n===null?ix(s):us=n,_u.current=null}function ix(s){var n=s;do{var l=n.alternate;if(s=n.return,(n.flags&32768)===0){if(l=rN(l,n,sa),l!==null){us=l;return}}else{if(l=nN(l,n),l!==null){l.flags&=32767,us=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{xs=6,us=null;return}}if(n=n.sibling,n!==null){us=n;return}us=n=s}while(n!==null);xs===0&&(xs=5)}function cn(s,n,l){var m=Mt,b=ma.transition;try{ma.transition=null,Mt=1,fN(s,n,l,m)}finally{ma.transition=b,Mt=m}return null}function fN(s,n,l,m){do Qn();while(Tr!==null);if((yt&6)!==0)throw Error(r(327));l=s.finishedWork;var b=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var S=l.lanes|l.childLanes;if(Gb(s,S),s===ys&&(us=ys=null,Ns=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ll||(Ll=!0,ux(zt,function(){return Qn(),null})),S=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||S){S=ma.transition,ma.transition=null;var O=Mt;Mt=1;var W=yt;yt|=4,_u.current=null,iN(s,l),Qp(l,s),Mw(Od),Xi=!!Dd,Od=Dd=null,s.current=l,lN(l),_e(),yt=W,Mt=O,ma.transition=S}else s.current=l;if(Ll&&(Ll=!1,Tr=s,Il=b),S=s.pendingLanes,S===0&&(Ar=null),Rn(l.stateNode),Ws(s,de()),n!==null)for(m=s.onRecoverableError,l=0;l<n.length;l++)b=n[l],m(b.value,{componentStack:b.stack,digest:b.digest});if($l)throw $l=!1,s=Ru,Ru=null,s;return(Il&1)!==0&&s.tag!==0&&Qn(),S=s.pendingLanes,(S&1)!==0?s===Pu?ii++:(ii=0,Pu=s):ii=0,kr(),null}function Qn(){if(Tr!==null){var s=Yf(Il),n=ma.transition,l=Mt;try{if(ma.transition=null,Mt=16>s?16:s,Tr===null)var m=!1;else{if(s=Tr,Tr=null,Il=0,(yt&6)!==0)throw Error(r(331));var b=yt;for(yt|=4,Le=s.current;Le!==null;){var S=Le,O=S.child;if((Le.flags&16)!==0){var W=S.deletions;if(W!==null){for(var J=0;J<W.length;J++){var le=W[J];for(Le=le;Le!==null;){var je=Le;switch(je.tag){case 0:case 11:case 15:ri(8,je,S)}var we=je.child;if(we!==null)we.return=je,Le=we;else for(;Le!==null;){je=Le;var ve=je.sibling,Oe=je.return;if(Wp(je),je===le){Le=null;break}if(ve!==null){ve.return=Oe,Le=ve;break}Le=Oe}}}var Fe=S.alternate;if(Fe!==null){var Be=Fe.child;if(Be!==null){Fe.child=null;do{var ns=Be.sibling;Be.sibling=null,Be=ns}while(Be!==null)}}Le=S}}if((S.subtreeFlags&2064)!==0&&O!==null)O.return=S,Le=O;else e:for(;Le!==null;){if(S=Le,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:ri(9,S,S.return)}var se=S.sibling;if(se!==null){se.return=S.return,Le=se;break e}Le=S.return}}var X=s.current;for(Le=X;Le!==null;){O=Le;var re=O.child;if((O.subtreeFlags&2064)!==0&&re!==null)re.return=O,Le=re;else e:for(O=X;Le!==null;){if(W=Le,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:Ml(9,W)}}catch(Ve){Zt(W,W.return,Ve)}if(W===O){Le=null;break e}var Se=W.sibling;if(Se!==null){Se.return=W.return,Le=Se;break e}Le=W.return}}if(yt=b,kr(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(ds,s)}catch{}m=!0}return m}finally{Mt=l,ma.transition=n}}return!1}function lx(s,n,l){n=Gn(l,n),n=_p(s,n,1),s=Rr(s,n,1),n=$s(),s!==null&&(Ao(s,1,n),Ws(s,n))}function Zt(s,n,l){if(s.tag===3)lx(s,s,l);else for(;n!==null;){if(n.tag===3){lx(n,s,l);break}else if(n.tag===1){var m=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ar===null||!Ar.has(m))){s=Gn(l,s),s=kp(n,s,1),n=Rr(n,s,1),s=$s(),n!==null&&(Ao(n,1,s),Ws(n,s));break}}n=n.return}}function hN(s,n,l){var m=s.pingCache;m!==null&&m.delete(n),n=$s(),s.pingedLanes|=s.suspendedLanes&l,ys===s&&(Ns&l)===l&&(xs===4||xs===3&&(Ns&130023424)===Ns&&500>de()-Eu?ln(s,0):ku|=l),Ws(s,n)}function cx(s,n){n===0&&((s.mode&1)===0?n=1:(n=Ki,Ki<<=1,(Ki&130023424)===0&&(Ki=4194304)));var l=$s();s=ir(s,n),s!==null&&(Ao(s,n,l),Ws(s,l))}function pN(s){var n=s.memoizedState,l=0;n!==null&&(l=n.retryLane),cx(s,l)}function xN(s,n){var l=0;switch(s.tag){case 13:var m=s.stateNode,b=s.memoizedState;b!==null&&(l=b.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(n),cx(s,l)}var dx;dx=function(s,n,l){if(s!==null)if(s.memoizedProps!==n.pendingProps||Us.current)Hs=!0;else{if((s.lanes&l)===0&&(n.flags&128)===0)return Hs=!1,aN(s,n,l);Hs=(s.flags&131072)!==0}else Hs=!1,Yt&&(n.flags&1048576)!==0&&Vh(n,xl,n.index);switch(n.lanes=0,n.tag){case 2:var m=n.type;Al(s,n),s=n.pendingProps;var b=Fn(n,ks.current);qn(n,l),b=nu(null,n,m,s,b,l);var S=ou();return n.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Vs(m)?(S=!0,fl(n)):S=!1,n.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Xd(n),b.updater=Rl,n.stateNode=b,b._reactInternals=n,mu(n,m,s,l),n=xu(null,n,m,!0,S,l)):(n.tag=0,Yt&&S&&Ud(n),Os(null,n,b,l),n=n.child),n;case 16:m=n.elementType;e:{switch(Al(s,n),s=n.pendingProps,b=m._init,m=b(m._payload),n.type=m,b=n.tag=vN(m),s=wa(m,s),b){case 0:n=pu(null,n,m,s,l);break e;case 1:n=$p(null,n,m,s,l);break e;case 11:n=Ap(null,n,m,s,l);break e;case 14:n=Tp(null,n,m,wa(m.type,s),l);break e}throw Error(r(306,m,""))}return n;case 0:return m=n.type,b=n.pendingProps,b=n.elementType===m?b:wa(m,b),pu(s,n,m,b,l);case 1:return m=n.type,b=n.pendingProps,b=n.elementType===m?b:wa(m,b),$p(s,n,m,b,l);case 3:e:{if(Lp(n),s===null)throw Error(r(387));m=n.pendingProps,S=n.memoizedState,b=S.element,Xh(s,n),wl(n,m,null,l);var O=n.memoizedState;if(m=O.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},n.updateQueue.baseState=S,n.memoizedState=S,n.flags&256){b=Gn(Error(r(423)),n),n=Ip(s,n,m,l,b);break e}else if(m!==b){b=Gn(Error(r(424)),n),n=Ip(s,n,m,l,b);break e}else for(ta=Sr(n.stateNode.containerInfo.firstChild),ea=n,Yt=!0,ba=null,l=Jh(n,null,m,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Un(),m===b){n=cr(s,n,l);break e}Os(s,n,m,l)}n=n.child}return n;case 5:return tp(n),s===null&&qd(n),m=n.type,b=n.pendingProps,S=s!==null?s.memoizedProps:null,O=b.children,$d(m,b)?O=null:S!==null&&$d(m,S)&&(n.flags|=32),Op(s,n),Os(s,n,O,l),n.child;case 6:return s===null&&qd(n),null;case 13:return Fp(s,n,l);case 4:return Zd(n,n.stateNode.containerInfo),m=n.pendingProps,s===null?n.child=Vn(n,null,m,l):Os(s,n,m,l),n.child;case 11:return m=n.type,b=n.pendingProps,b=n.elementType===m?b:wa(m,b),Ap(s,n,m,b,l);case 7:return Os(s,n,n.pendingProps,l),n.child;case 8:return Os(s,n,n.pendingProps.children,l),n.child;case 12:return Os(s,n,n.pendingProps.children,l),n.child;case 10:e:{if(m=n.type._context,b=n.pendingProps,S=n.memoizedProps,O=b.value,Bt(jl,m._currentValue),m._currentValue=O,S!==null)if(ya(S.value,O)){if(S.children===b.children&&!Us.current){n=cr(s,n,l);break e}}else for(S=n.child,S!==null&&(S.return=n);S!==null;){var W=S.dependencies;if(W!==null){O=S.child;for(var J=W.firstContext;J!==null;){if(J.context===m){if(S.tag===1){J=lr(-1,l&-l),J.tag=2;var le=S.updateQueue;if(le!==null){le=le.shared;var je=le.pending;je===null?J.next=J:(J.next=je.next,je.next=J),le.pending=J}}S.lanes|=l,J=S.alternate,J!==null&&(J.lanes|=l),Jd(S.return,l,n),W.lanes|=l;break}J=J.next}}else if(S.tag===10)O=S.type===n.type?null:S.child;else if(S.tag===18){if(O=S.return,O===null)throw Error(r(341));O.lanes|=l,W=O.alternate,W!==null&&(W.lanes|=l),Jd(O,l,n),O=S.sibling}else O=S.child;if(O!==null)O.return=S;else for(O=S;O!==null;){if(O===n){O=null;break}if(S=O.sibling,S!==null){S.return=O.return,O=S;break}O=O.return}S=O}Os(s,n,b.children,l),n=n.child}return n;case 9:return b=n.type,m=n.pendingProps.children,qn(n,l),b=da(b),m=m(b),n.flags|=1,Os(s,n,m,l),n.child;case 14:return m=n.type,b=wa(m,n.pendingProps),b=wa(m.type,b),Tp(s,n,m,b,l);case 15:return Mp(s,n,n.type,n.pendingProps,l);case 17:return m=n.type,b=n.pendingProps,b=n.elementType===m?b:wa(m,b),Al(s,n),n.tag=1,Vs(m)?(s=!0,fl(n)):s=!1,qn(n,l),Sp(n,m,b),mu(n,m,b,l),xu(null,n,m,!0,s,l);case 19:return Bp(s,n,l);case 22:return Dp(s,n,l)}throw Error(r(156,n.tag))};function ux(s,n){return Eo(s,n)}function gN(s,n,l,m){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fa(s,n,l,m){return new gN(s,n,l,m)}function $u(s){return s=s.prototype,!(!s||!s.isReactComponent)}function vN(s){if(typeof s=="function")return $u(s)?1:0;if(s!=null){if(s=s.$$typeof,s===G)return 11;if(s===K)return 14}return 2}function Or(s,n){var l=s.alternate;return l===null?(l=fa(s.tag,n,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=n,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,n=s.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Ul(s,n,l,m,b,S){var O=2;if(m=s,typeof s=="function")$u(s)&&(O=1);else if(typeof s=="string")O=5;else e:switch(s){case T:return dn(l.children,b,S,n);case R:O=8,b|=8;break;case I:return s=fa(12,l,n,b|2),s.elementType=I,s.lanes=S,s;case F:return s=fa(13,l,n,b),s.elementType=F,s.lanes=S,s;case M:return s=fa(19,l,n,b),s.elementType=M,s.lanes=S,s;case z:return Vl(l,b,S,n);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:O=10;break e;case B:O=9;break e;case G:O=11;break e;case K:O=14;break e;case $:O=16,m=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return n=fa(O,l,n,b),n.elementType=s,n.type=m,n.lanes=S,n}function dn(s,n,l,m){return s=fa(7,s,m,n),s.lanes=l,s}function Vl(s,n,l,m){return s=fa(22,s,m,n),s.elementType=z,s.lanes=l,s.stateNode={isHidden:!1},s}function Lu(s,n,l){return s=fa(6,s,null,n),s.lanes=l,s}function Iu(s,n,l){return n=fa(4,s.children!==null?s.children:[],s.key,n),n.lanes=l,n.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},n}function jN(s,n,l,m,b){this.tag=n,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ud(0),this.expirationTimes=ud(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ud(0),this.identifierPrefix=m,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Fu(s,n,l,m,b,S,O,W,J){return s=new jN(s,n,l,W,J),n===1?(n=1,S===!0&&(n|=8)):n=0,S=fa(3,null,null,n),s.current=S,S.stateNode=s,S.memoizedState={element:m,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xd(S),s}function yN(s,n,l){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:m==null?null:""+m,children:s,containerInfo:n,implementation:l}}function mx(s){if(!s)return _r;s=s._reactInternals;e:{if($a(s)!==s||s.tag!==1)throw Error(r(170));var n=s;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Vs(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(s.tag===1){var l=s.type;if(Vs(l))return zh(s,l,n)}return n}function fx(s,n,l,m,b,S,O,W,J){return s=Fu(l,m,!0,s,b,S,O,W,J),s.context=mx(null),l=s.current,m=$s(),b=Mr(l),S=lr(m,b),S.callback=n??null,Rr(l,S,b),s.current.lanes=b,Ao(s,b,m),Ws(s,m),s}function Hl(s,n,l,m){var b=n.current,S=$s(),O=Mr(b);return l=mx(l),n.context===null?n.context=l:n.pendingContext=l,n=lr(S,O),n.payload={element:s},m=m===void 0?null:m,m!==null&&(n.callback=m),s=Rr(b,n,O),s!==null&&(Ca(s,b,O,S),bl(s,b,O)),O}function ql(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function hx(s,n){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<n?l:n}}function zu(s,n){hx(s,n),(s=s.alternate)&&hx(s,n)}function bN(){return null}var px=typeof reportError=="function"?reportError:function(s){console.error(s)};function Bu(s){this._internalRoot=s}Wl.prototype.render=Bu.prototype.render=function(s){var n=this._internalRoot;if(n===null)throw Error(r(409));Hl(s,n,null,null)},Wl.prototype.unmount=Bu.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var n=s.containerInfo;on(function(){Hl(null,s,null,null)}),n[ar]=null}};function Wl(s){this._internalRoot=s}Wl.prototype.unstable_scheduleHydration=function(s){if(s){var n=Xf();s={blockedOn:null,target:s,priority:n};for(var l=0;l<br.length&&n!==0&&n<br[l].priority;l++);br.splice(l,0,s),l===0&&th(s)}};function Uu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Gl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function xx(){}function wN(s,n,l,m,b){if(b){if(typeof m=="function"){var S=m;m=function(){var le=ql(O);S.call(le)}}var O=fx(n,m,s,0,null,!1,!1,"",xx);return s._reactRootContainer=O,s[ar]=O.current,qo(s.nodeType===8?s.parentNode:s),on(),O}for(;b=s.lastChild;)s.removeChild(b);if(typeof m=="function"){var W=m;m=function(){var le=ql(J);W.call(le)}}var J=Fu(s,0,!1,null,null,!1,!1,"",xx);return s._reactRootContainer=J,s[ar]=J.current,qo(s.nodeType===8?s.parentNode:s),on(function(){Hl(n,J,l,m)}),J}function Kl(s,n,l,m,b){var S=l._reactRootContainer;if(S){var O=S;if(typeof b=="function"){var W=b;b=function(){var J=ql(O);W.call(J)}}Hl(n,O,s,b)}else O=wN(l,n,s,b,m);return ql(O)}Jf=function(s){switch(s.tag){case 3:var n=s.stateNode;if(n.current.memoizedState.isDehydrated){var l=Po(n.pendingLanes);l!==0&&(md(n,l|1),Ws(n,de()),(yt&6)===0&&(Jn=de()+500,kr()))}break;case 13:on(function(){var m=ir(s,1);if(m!==null){var b=$s();Ca(m,s,1,b)}}),zu(s,1)}},fd=function(s){if(s.tag===13){var n=ir(s,134217728);if(n!==null){var l=$s();Ca(n,s,134217728,l)}zu(s,134217728)}},Qf=function(s){if(s.tag===13){var n=Mr(s),l=ir(s,n);if(l!==null){var m=$s();Ca(l,s,n,m)}zu(s,n)}},Xf=function(){return Mt},Zf=function(s,n){var l=Mt;try{return Mt=s,n()}finally{Mt=l}},$e=function(s,n,l){switch(n){case"input":if(Lt(s,l),n=l.name,l.type==="radio"&&n!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<l.length;n++){var m=l[n];if(m!==s&&m.form===s.form){var b=ul(m);if(!b)throw Error(r(90));Ae(m),Lt(m,b)}}}break;case"textarea":tt(s,l);break;case"select":n=l.value,n!=null&&ke(s,!!l.multiple,n,!1)}},qe=Mu,Te=on;var NN={usingClientEntryPoint:!1,Events:[Ko,Ln,ul,ze,Ue,Mu]},li={findFiberByHostInstance:Xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SN={bundleType:li.bundleType,version:li.version,rendererPackageName:li.rendererPackageName,rendererConfig:li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=_o(s),s===null?null:s.stateNode},findFiberByHostInstance:li.findFiberByHostInstance||bN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{ds=Yl.inject(SN),Ot=Yl}catch{}}return Gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NN,Gs.createPortal=function(s,n){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uu(n))throw Error(r(200));return yN(s,n,null,l)},Gs.createRoot=function(s,n){if(!Uu(s))throw Error(r(299));var l=!1,m="",b=px;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(m=n.identifierPrefix),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=Fu(s,1,!1,null,null,l,!1,m,b),s[ar]=n.current,qo(s.nodeType===8?s.parentNode:s),new Bu(n)},Gs.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var n=s._reactInternals;if(n===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=_o(n),s=s===null?null:s.stateNode,s},Gs.flushSync=function(s){return on(s)},Gs.hydrate=function(s,n,l){if(!Gl(n))throw Error(r(200));return Kl(null,s,n,!0,l)},Gs.hydrateRoot=function(s,n,l){if(!Uu(s))throw Error(r(405));var m=l!=null&&l.hydratedSources||null,b=!1,S="",O=px;if(l!=null&&(l.unstable_strictMode===!0&&(b=!0),l.identifierPrefix!==void 0&&(S=l.identifierPrefix),l.onRecoverableError!==void 0&&(O=l.onRecoverableError)),n=fx(n,null,s,1,l??null,b,!1,S,O),s[ar]=n.current,qo(s),m)for(s=0;s<m.length;s++)l=m[s],b=l._getVersion,b=b(l._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[l,b]:n.mutableSourceEagerHydrationData.push(l,b);return new Wl(n)},Gs.render=function(s,n,l){if(!Gl(n))throw Error(r(200));return Kl(null,s,n,!1,l)},Gs.unmountComponentAtNode=function(s){if(!Gl(s))throw Error(r(40));return s._reactRootContainer?(on(function(){Kl(null,null,s,!1,function(){s._reactRootContainer=null,s[ar]=null})}),!0):!1},Gs.unstable_batchedUpdates=Mu,Gs.unstable_renderSubtreeIntoContainer=function(s,n,l,m){if(!Gl(l))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Kl(s,n,l,!1,m)},Gs.version="18.3.1-next-f1338f8080-20240426",Gs}var Sx;function Wg(){if(Sx)return qu.exports;Sx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),qu.exports=TN(),qu.exports}var Cx;function MN(){if(Cx)return Jl;Cx=1;var t=Wg();return Jl.createRoot=t.createRoot,Jl.hydrateRoot=t.hydrateRoot,Jl}var DN=MN(),x=Rc();const Fr=qg(x),Zm=_N({__proto__:null,default:Fr},[x]);var co=Wg();const ON=qg(co);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xi(){return xi=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},xi.apply(this,arguments)}var Br;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Br||(Br={}));const _x="popstate";function $N(t){t===void 0&&(t={});function a(o,i){let{pathname:c,search:d,hash:p}=o.location;return ym("",{pathname:c,search:d,hash:p},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(o,i){return typeof i=="string"?i:xc(i)}return IN(a,r,null,t)}function os(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function Gg(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function LN(){return Math.random().toString(36).substr(2,8)}function kx(t,a){return{usr:t.state,key:t.key,idx:a}}function ym(t,a,r,o){return r===void 0&&(r=null),xi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof a=="string"?uo(a):a,{state:r,key:a&&a.key||o||LN()})}function xc(t){let{pathname:a="/",search:r="",hash:o=""}=t;return r&&r!=="?"&&(a+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(a+=o.charAt(0)==="#"?o:"#"+o),a}function uo(t){let a={};if(t){let r=t.indexOf("#");r>=0&&(a.hash=t.substr(r),t=t.substr(0,r));let o=t.indexOf("?");o>=0&&(a.search=t.substr(o),t=t.substr(0,o)),t&&(a.pathname=t)}return a}function IN(t,a,r,o){o===void 0&&(o={});let{window:i=document.defaultView,v5Compat:c=!1}=o,d=i.history,p=Br.Pop,u=null,g=f();g==null&&(g=0,d.replaceState(xi({},d.state,{idx:g}),""));function f(){return(d.state||{idx:null}).idx}function h(){p=Br.Pop;let N=f(),P=N==null?null:N-g;g=N,u&&u({action:p,location:j.location,delta:P})}function v(N,P){p=Br.Push;let C=ym(j.location,N,P);g=f()+1;let _=kx(C,g),E=j.createHref(C);try{d.pushState(_,"",E)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(E)}c&&u&&u({action:p,location:j.location,delta:1})}function w(N,P){p=Br.Replace;let C=ym(j.location,N,P);g=f();let _=kx(C,g),E=j.createHref(C);d.replaceState(_,"",E),c&&u&&u({action:p,location:j.location,delta:0})}function y(N){let P=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof N=="string"?N:xc(N);return C=C.replace(/ $/,"%20"),os(P,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,P)}let j={get action(){return p},get location(){return t(i,d)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(_x,h),u=N,()=>{i.removeEventListener(_x,h),u=null}},createHref(N){return a(i,N)},createURL:y,encodeLocation(N){let P=y(N);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:v,replace:w,go(N){return d.go(N)}};return j}var Ex;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ex||(Ex={}));function FN(t,a,r){return r===void 0&&(r="/"),zN(t,a,r)}function zN(t,a,r,o){let i=typeof a=="string"?uo(a):a,c=ef(i.pathname||"/",r);if(c==null)return null;let d=Kg(t);BN(d);let p=null;for(let u=0;p==null&&u<d.length;++u){let g=ZN(c);p=JN(d[u],g)}return p}function Kg(t,a,r,o){a===void 0&&(a=[]),r===void 0&&(r=[]),o===void 0&&(o="");let i=(c,d,p)=>{let u={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};u.relativePath.startsWith("/")&&(os(u.relativePath.startsWith(o),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(o.length));let g=Vr([o,u.relativePath]),f=r.concat(u);c.children&&c.children.length>0&&(os(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Kg(c.children,a,f,g)),!(c.path==null&&!c.index)&&a.push({path:g,score:KN(g,c.index),routesMeta:f})};return t.forEach((c,d)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))i(c,d);else for(let u of Yg(c.path))i(c,d,u)}),a}function Yg(t){let a=t.split("/");if(a.length===0)return[];let[r,...o]=a,i=r.endsWith("?"),c=r.replace(/\?$/,"");if(o.length===0)return i?[c,""]:[c];let d=Yg(o.join("/")),p=[];return p.push(...d.map(u=>u===""?c:[c,u].join("/"))),i&&p.push(...d),p.map(u=>t.startsWith("/")&&u===""?"/":u)}function BN(t){t.sort((a,r)=>a.score!==r.score?r.score-a.score:YN(a.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const UN=/^:[\w-]+$/,VN=3,HN=2,qN=1,WN=10,GN=-2,Rx=t=>t==="*";function KN(t,a){let r=t.split("/"),o=r.length;return r.some(Rx)&&(o+=GN),a&&(o+=HN),r.filter(i=>!Rx(i)).reduce((i,c)=>i+(UN.test(c)?VN:c===""?qN:WN),o)}function YN(t,a){return t.length===a.length&&t.slice(0,-1).every((o,i)=>o===a[i])?t[t.length-1]-a[a.length-1]:0}function JN(t,a,r){let{routesMeta:o}=t,i={},c="/",d=[];for(let p=0;p<o.length;++p){let u=o[p],g=p===o.length-1,f=c==="/"?a:a.slice(c.length)||"/",h=QN({path:u.relativePath,caseSensitive:u.caseSensitive,end:g},f),v=u.route;if(!h)return null;Object.assign(i,h.params),d.push({params:i,pathname:Vr([c,h.pathname]),pathnameBase:a1(Vr([c,h.pathnameBase])),route:v}),h.pathnameBase!=="/"&&(c=Vr([c,h.pathnameBase]))}return d}function QN(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,o]=XN(t.path,t.caseSensitive,t.end),i=a.match(r);if(!i)return null;let c=i[0],d=c.replace(/(.)\/+$/,"$1"),p=i.slice(1);return{params:o.reduce((g,f,h)=>{let{paramName:v,isOptional:w}=f;if(v==="*"){let j=p[h]||"";d=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const y=p[h];return w&&!y?g[v]=void 0:g[v]=(y||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:t}}function XN(t,a,r){a===void 0&&(a=!1),r===void 0&&(r=!0),Gg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,u)=>(o.push({paramName:p,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,a?void 0:"i"),o]}function ZN(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Gg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),t}}function ef(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,o=t.charAt(r);return o&&o!=="/"?null:t.slice(r)||"/"}function e1(t,a){a===void 0&&(a="/");let{pathname:r,search:o="",hash:i=""}=typeof t=="string"?uo(t):t;return{pathname:r?r.startsWith("/")?r:t1(r,a):a,search:r1(o),hash:n1(i)}}function t1(t,a){let r=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Ku(t,a,r,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+a+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function s1(t){return t.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function tf(t,a){let r=s1(t);return a?r.map((o,i)=>i===r.length-1?o.pathname:o.pathnameBase):r.map(o=>o.pathnameBase)}function sf(t,a,r,o){o===void 0&&(o=!1);let i;typeof t=="string"?i=uo(t):(i=xi({},t),os(!i.pathname||!i.pathname.includes("?"),Ku("?","pathname","search",i)),os(!i.pathname||!i.pathname.includes("#"),Ku("#","pathname","hash",i)),os(!i.search||!i.search.includes("#"),Ku("#","search","hash",i)));let c=t===""||i.pathname==="",d=c?"/":i.pathname,p;if(d==null)p=r;else{let h=a.length-1;if(!o&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),h-=1;i.pathname=v.join("/")}p=h>=0?a[h]:"/"}let u=e1(i,p),g=d&&d!=="/"&&d.endsWith("/"),f=(c||d===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(g||f)&&(u.pathname+="/"),u}const Vr=t=>t.join("/").replace(/\/\/+/g,"/"),a1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),r1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,n1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function o1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Jg=["post","put","patch","delete"];new Set(Jg);const i1=["get",...Jg];new Set(i1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gi(){return gi=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},gi.apply(this,arguments)}const af=x.createContext(null),l1=x.createContext(null),Yr=x.createContext(null),Pc=x.createContext(null),Ya=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Qg=x.createContext(null);function c1(t,a){let{relative:r}=a===void 0?{}:a;mo()||os(!1);let{basename:o,navigator:i}=x.useContext(Yr),{hash:c,pathname:d,search:p}=Zg(t,{relative:r}),u=d;return o!=="/"&&(u=d==="/"?o:Vr([o,d])),i.createHref({pathname:u,search:p,hash:c})}function mo(){return x.useContext(Pc)!=null}function fs(){return mo()||os(!1),x.useContext(Pc).location}function Xg(t){x.useContext(Yr).static||x.useLayoutEffect(t)}function Ds(){let{isDataRoute:t}=x.useContext(Ya);return t?S1():d1()}function d1(){mo()||os(!1);let t=x.useContext(af),{basename:a,future:r,navigator:o}=x.useContext(Yr),{matches:i}=x.useContext(Ya),{pathname:c}=fs(),d=JSON.stringify(tf(i,r.v7_relativeSplatPath)),p=x.useRef(!1);return Xg(()=>{p.current=!0}),x.useCallback(function(g,f){if(f===void 0&&(f={}),!p.current)return;if(typeof g=="number"){o.go(g);return}let h=sf(g,JSON.parse(d),c,f.relative==="path");t==null&&a!=="/"&&(h.pathname=h.pathname==="/"?a:Vr([a,h.pathname])),(f.replace?o.replace:o.push)(h,f.state,f)},[a,o,d,c,t])}const u1=x.createContext(null);function m1(t){let a=x.useContext(Ya).outlet;return a&&x.createElement(u1.Provider,{value:t},a)}function wn(){let{matches:t}=x.useContext(Ya),a=t[t.length-1];return a?a.params:{}}function Zg(t,a){let{relative:r}=a===void 0?{}:a,{future:o}=x.useContext(Yr),{matches:i}=x.useContext(Ya),{pathname:c}=fs(),d=JSON.stringify(tf(i,o.v7_relativeSplatPath));return x.useMemo(()=>sf(t,JSON.parse(d),c,r==="path"),[t,d,c,r])}function f1(t,a){return h1(t,a)}function h1(t,a,r,o){mo()||os(!1);let{navigator:i}=x.useContext(Yr),{matches:c}=x.useContext(Ya),d=c[c.length-1],p=d?d.params:{};d&&d.pathname;let u=d?d.pathnameBase:"/";d&&d.route;let g=fs(),f;if(a){var h;let N=typeof a=="string"?uo(a):a;u==="/"||(h=N.pathname)!=null&&h.startsWith(u)||os(!1),f=N}else f=g;let v=f.pathname||"/",w=v;if(u!=="/"){let N=u.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(N.length).join("/")}let y=FN(t,{pathname:w}),j=j1(y&&y.map(N=>Object.assign({},N,{params:Object.assign({},p,N.params),pathname:Vr([u,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:Vr([u,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),c,r,o);return a&&j?x.createElement(Pc.Provider,{value:{location:gi({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Br.Pop}},j):j}function p1(){let t=N1(),a=o1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},a),r?x.createElement("pre",{style:i},r):null,null)}const x1=x.createElement(p1,null);class g1 extends x.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,r){return r.location!==a.location||r.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:r.error,location:r.location,revalidation:a.revalidation||r.revalidation}}componentDidCatch(a,r){console.error("React Router caught the following error during render",a,r)}render(){return this.state.error!==void 0?x.createElement(Ya.Provider,{value:this.props.routeContext},x.createElement(Qg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function v1(t){let{routeContext:a,match:r,children:o}=t,i=x.useContext(af);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Ya.Provider,{value:a},o)}function j1(t,a,r,o){var i;if(a===void 0&&(a=[]),r===void 0&&(r=null),o===void 0&&(o=null),t==null){var c;if(!r)return null;if(r.errors)t=r.matches;else if((c=o)!=null&&c.v7_partialHydration&&a.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let d=t,p=(i=r)==null?void 0:i.errors;if(p!=null){let f=d.findIndex(h=>h.route.id&&(p==null?void 0:p[h.route.id])!==void 0);f>=0||os(!1),d=d.slice(0,Math.min(d.length,f+1))}let u=!1,g=-1;if(r&&o&&o.v7_partialHydration)for(let f=0;f<d.length;f++){let h=d[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(g=f),h.route.id){let{loaderData:v,errors:w}=r,y=h.route.loader&&v[h.route.id]===void 0&&(!w||w[h.route.id]===void 0);if(h.route.lazy||y){u=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((f,h,v)=>{let w,y=!1,j=null,N=null;r&&(w=p&&h.route.id?p[h.route.id]:void 0,j=h.route.errorElement||x1,u&&(g<0&&v===0?(C1("route-fallback"),y=!0,N=null):g===v&&(y=!0,N=h.route.hydrateFallbackElement||null)));let P=a.concat(d.slice(0,v+1)),C=()=>{let _;return w?_=j:y?_=N:h.route.Component?_=x.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=f,x.createElement(v1,{match:h,routeContext:{outlet:f,matches:P,isDataRoute:r!=null},children:_})};return r&&(h.route.ErrorBoundary||h.route.errorElement||v===0)?x.createElement(g1,{location:r.location,revalidation:r.revalidation,component:j,error:w,children:C(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):C()},null)}var e0=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(e0||{}),t0=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(t0||{});function y1(t){let a=x.useContext(af);return a||os(!1),a}function b1(t){let a=x.useContext(l1);return a||os(!1),a}function w1(t){let a=x.useContext(Ya);return a||os(!1),a}function s0(t){let a=w1(),r=a.matches[a.matches.length-1];return r.route.id||os(!1),r.route.id}function N1(){var t;let a=x.useContext(Qg),r=b1(),o=s0();return a!==void 0?a:(t=r.errors)==null?void 0:t[o]}function S1(){let{router:t}=y1(e0.UseNavigateStable),a=s0(t0.UseNavigateStable),r=x.useRef(!1);return Xg(()=>{r.current=!0}),x.useCallback(function(i,c){c===void 0&&(c={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,gi({fromRouteId:a},c)))},[t,a])}const Px={};function C1(t,a,r){Px[t]||(Px[t]=!0)}function _1(t,a){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function $t(t){let{to:a,replace:r,state:o,relative:i}=t;mo()||os(!1);let{future:c,static:d}=x.useContext(Yr),{matches:p}=x.useContext(Ya),{pathname:u}=fs(),g=Ds(),f=sf(a,tf(p,c.v7_relativeSplatPath),u,i==="path"),h=JSON.stringify(f);return x.useEffect(()=>g(JSON.parse(h),{replace:r,state:o,relative:i}),[g,h,i,r,o]),null}function Ci(t){return m1(t.context)}function He(t){os(!1)}function k1(t){let{basename:a="/",children:r=null,location:o,navigationType:i=Br.Pop,navigator:c,static:d=!1,future:p}=t;mo()&&os(!1);let u=a.replace(/^\/*/,"/"),g=x.useMemo(()=>({basename:u,navigator:c,static:d,future:gi({v7_relativeSplatPath:!1},p)}),[u,p,c,d]);typeof o=="string"&&(o=uo(o));let{pathname:f="/",search:h="",hash:v="",state:w=null,key:y="default"}=o,j=x.useMemo(()=>{let N=ef(f,u);return N==null?null:{location:{pathname:N,search:h,hash:v,state:w,key:y},navigationType:i}},[u,f,h,v,w,y,i]);return j==null?null:x.createElement(Yr.Provider,{value:g},x.createElement(Pc.Provider,{children:r,value:j}))}function E1(t){let{children:a,location:r}=t;return f1(bm(a),r)}new Promise(()=>{});function bm(t,a){a===void 0&&(a=[]);let r=[];return x.Children.forEach(t,(o,i)=>{if(!x.isValidElement(o))return;let c=[...a,i];if(o.type===x.Fragment){r.push.apply(r,bm(o.props.children,c));return}o.type!==He&&os(!1),!o.props.index||!o.props.children||os(!1);let d={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=bm(o.props.children,c)),r.push(d)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},wm.apply(this,arguments)}function R1(t,a){if(t==null)return{};var r={},o=Object.keys(t),i,c;for(c=0;c<o.length;c++)i=o[c],!(a.indexOf(i)>=0)&&(r[i]=t[i]);return r}function P1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function A1(t,a){return t.button===0&&(!a||a==="_self")&&!P1(t)}function Nm(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((a,r)=>{let o=t[r];return a.concat(Array.isArray(o)?o.map(i=>[r,i]):[[r,o]])},[]))}function T1(t,a){let r=Nm(t);return a&&a.forEach((o,i)=>{r.has(i)||a.getAll(i).forEach(c=>{r.append(i,c)})}),r}const M1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],D1="6";try{window.__reactRouterVersion=D1}catch{}const O1="startTransition",Ax=Zm[O1];function $1(t){let{basename:a,children:r,future:o,window:i}=t,c=x.useRef();c.current==null&&(c.current=$N({window:i,v5Compat:!0}));let d=c.current,[p,u]=x.useState({action:d.action,location:d.location}),{v7_startTransition:g}=o||{},f=x.useCallback(h=>{g&&Ax?Ax(()=>u(h)):u(h)},[u,g]);return x.useLayoutEffect(()=>d.listen(f),[d,f]),x.useEffect(()=>_1(o),[o]),x.createElement(k1,{basename:a,children:r,location:p.location,navigationType:p.action,navigator:d,future:o})}const L1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Je=x.forwardRef(function(a,r){let{onClick:o,relative:i,reloadDocument:c,replace:d,state:p,target:u,to:g,preventScrollReset:f,viewTransition:h}=a,v=R1(a,M1),{basename:w}=x.useContext(Yr),y,j=!1;if(typeof g=="string"&&I1.test(g)&&(y=g,L1))try{let _=new URL(window.location.href),E=g.startsWith("//")?new URL(_.protocol+g):new URL(g),k=ef(E.pathname,w);E.origin===_.origin&&k!=null?g=k+E.search+E.hash:j=!0}catch{}let N=c1(g,{relative:i}),P=F1(g,{replace:d,state:p,target:u,preventScrollReset:f,relative:i,viewTransition:h});function C(_){o&&o(_),_.defaultPrevented||P(_)}return x.createElement("a",wm({},v,{href:y||N,onClick:j||c?o:C,ref:r,target:u}))});var Tx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Tx||(Tx={}));var Mx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Mx||(Mx={}));function F1(t,a){let{target:r,replace:o,state:i,preventScrollReset:c,relative:d,viewTransition:p}=a===void 0?{}:a,u=Ds(),g=fs(),f=Zg(t,{relative:d});return x.useCallback(h=>{if(A1(h,r)){h.preventDefault();let v=o!==void 0?o:xc(g)===xc(f);u(t,{replace:v,state:i,preventScrollReset:c,relative:d,viewTransition:p})}},[g,u,f,o,i,r,t,c,d,p])}function z1(t){let a=x.useRef(Nm(t)),r=x.useRef(!1),o=fs(),i=x.useMemo(()=>T1(o.search,r.current?null:a.current),[o.search]),c=Ds(),d=x.useCallback((p,u)=>{const g=Nm(typeof p=="function"?p(i):p);r.current=!0,c("?"+g,u)},[c,i]);return[i,d]}const B1="modulepreload",U1=function(t){return"/"+t},Dx={},vi=function(a,r,o){let i=Promise.resolve();if(r&&r.length>0){let d=function(g){return Promise.all(g.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),u=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));i=d(r.map(g=>{if(g=U1(g),g in Dx)return;Dx[g]=!0;const f=g.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${h}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":B1,f||(v.as="script"),v.crossOrigin="",v.href=g,u&&v.setAttribute("nonce",u),document.head.appendChild(v),f)return new Promise((w,y)=>{v.addEventListener("load",w),v.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return i.then(d=>{for(const p of d||[])p.status==="rejected"&&c(p.reason);return a().catch(c)})};function a0(t,a){return function(){return t.apply(a,arguments)}}const{toString:V1}=Object.prototype,{getPrototypeOf:rf}=Object,{iterator:Ac,toStringTag:r0}=Symbol,Tc=(t=>a=>{const r=V1.call(a);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Aa=t=>(t=t.toLowerCase(),a=>Tc(a)===t),Mc=t=>a=>typeof a===t,{isArray:fo}=Array,no=Mc("undefined");function _i(t){return t!==null&&!no(t)&&t.constructor!==null&&!no(t.constructor)&&Ks(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const n0=Aa("ArrayBuffer");function H1(t){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(t):a=t&&t.buffer&&n0(t.buffer),a}const q1=Mc("string"),Ks=Mc("function"),o0=Mc("number"),ki=t=>t!==null&&typeof t=="object",W1=t=>t===!0||t===!1,ic=t=>{if(Tc(t)!=="object")return!1;const a=rf(t);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(r0 in t)&&!(Ac in t)},G1=t=>{if(!ki(t)||_i(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},K1=Aa("Date"),Y1=Aa("File"),J1=Aa("Blob"),Q1=Aa("FileList"),X1=t=>ki(t)&&Ks(t.pipe),Z1=t=>{let a;return t&&(typeof FormData=="function"&&t instanceof FormData||Ks(t.append)&&((a=Tc(t))==="formdata"||a==="object"&&Ks(t.toString)&&t.toString()==="[object FormData]"))},e2=Aa("URLSearchParams"),[t2,s2,a2,r2]=["ReadableStream","Request","Response","Headers"].map(Aa),n2=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ei(t,a,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let o,i;if(typeof t!="object"&&(t=[t]),fo(t))for(o=0,i=t.length;o<i;o++)a.call(null,t[o],o,t);else{if(_i(t))return;const c=r?Object.getOwnPropertyNames(t):Object.keys(t),d=c.length;let p;for(o=0;o<d;o++)p=c[o],a.call(null,t[p],p,t)}}function i0(t,a){if(_i(t))return null;a=a.toLowerCase();const r=Object.keys(t);let o=r.length,i;for(;o-- >0;)if(i=r[o],a===i.toLowerCase())return i;return null}const mn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,l0=t=>!no(t)&&t!==mn;function Sm(){const{caseless:t,skipUndefined:a}=l0(this)&&this||{},r={},o=(i,c)=>{const d=t&&i0(r,c)||c;ic(r[d])&&ic(i)?r[d]=Sm(r[d],i):ic(i)?r[d]=Sm({},i):fo(i)?r[d]=i.slice():(!a||!no(i))&&(r[d]=i)};for(let i=0,c=arguments.length;i<c;i++)arguments[i]&&Ei(arguments[i],o);return r}const o2=(t,a,r,{allOwnKeys:o}={})=>(Ei(a,(i,c)=>{r&&Ks(i)?t[c]=a0(i,r):t[c]=i},{allOwnKeys:o}),t),i2=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),l2=(t,a,r,o)=>{t.prototype=Object.create(a.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:a.prototype}),r&&Object.assign(t.prototype,r)},c2=(t,a,r,o)=>{let i,c,d;const p={};if(a=a||{},t==null)return a;do{for(i=Object.getOwnPropertyNames(t),c=i.length;c-- >0;)d=i[c],(!o||o(d,t,a))&&!p[d]&&(a[d]=t[d],p[d]=!0);t=r!==!1&&rf(t)}while(t&&(!r||r(t,a))&&t!==Object.prototype);return a},d2=(t,a,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=a.length;const o=t.indexOf(a,r);return o!==-1&&o===r},u2=t=>{if(!t)return null;if(fo(t))return t;let a=t.length;if(!o0(a))return null;const r=new Array(a);for(;a-- >0;)r[a]=t[a];return r},m2=(t=>a=>t&&a instanceof t)(typeof Uint8Array<"u"&&rf(Uint8Array)),f2=(t,a)=>{const o=(t&&t[Ac]).call(t);let i;for(;(i=o.next())&&!i.done;){const c=i.value;a.call(t,c[0],c[1])}},h2=(t,a)=>{let r;const o=[];for(;(r=t.exec(a))!==null;)o.push(r);return o},p2=Aa("HTMLFormElement"),x2=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,i){return o.toUpperCase()+i}),Ox=(({hasOwnProperty:t})=>(a,r)=>t.call(a,r))(Object.prototype),g2=Aa("RegExp"),c0=(t,a)=>{const r=Object.getOwnPropertyDescriptors(t),o={};Ei(r,(i,c)=>{let d;(d=a(i,c,t))!==!1&&(o[c]=d||i)}),Object.defineProperties(t,o)},v2=t=>{c0(t,(a,r)=>{if(Ks(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=t[r];if(Ks(o)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},j2=(t,a)=>{const r={},o=i=>{i.forEach(c=>{r[c]=!0})};return fo(t)?o(t):o(String(t).split(a)),r},y2=()=>{},b2=(t,a)=>t!=null&&Number.isFinite(t=+t)?t:a;function w2(t){return!!(t&&Ks(t.append)&&t[r0]==="FormData"&&t[Ac])}const N2=t=>{const a=new Array(10),r=(o,i)=>{if(ki(o)){if(a.indexOf(o)>=0)return;if(_i(o))return o;if(!("toJSON"in o)){a[i]=o;const c=fo(o)?[]:{};return Ei(o,(d,p)=>{const u=r(d,i+1);!no(u)&&(c[p]=u)}),a[i]=void 0,c}}return o};return r(t,0)},S2=Aa("AsyncFunction"),C2=t=>t&&(ki(t)||Ks(t))&&Ks(t.then)&&Ks(t.catch),d0=((t,a)=>t?setImmediate:a?((r,o)=>(mn.addEventListener("message",({source:i,data:c})=>{i===mn&&c===r&&o.length&&o.shift()()},!1),i=>{o.push(i),mn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ks(mn.postMessage)),_2=typeof queueMicrotask<"u"?queueMicrotask.bind(mn):typeof process<"u"&&process.nextTick||d0,k2=t=>t!=null&&Ks(t[Ac]),ce={isArray:fo,isArrayBuffer:n0,isBuffer:_i,isFormData:Z1,isArrayBufferView:H1,isString:q1,isNumber:o0,isBoolean:W1,isObject:ki,isPlainObject:ic,isEmptyObject:G1,isReadableStream:t2,isRequest:s2,isResponse:a2,isHeaders:r2,isUndefined:no,isDate:K1,isFile:Y1,isBlob:J1,isRegExp:g2,isFunction:Ks,isStream:X1,isURLSearchParams:e2,isTypedArray:m2,isFileList:Q1,forEach:Ei,merge:Sm,extend:o2,trim:n2,stripBOM:i2,inherits:l2,toFlatObject:c2,kindOf:Tc,kindOfTest:Aa,endsWith:d2,toArray:u2,forEachEntry:f2,matchAll:h2,isHTMLForm:p2,hasOwnProperty:Ox,hasOwnProp:Ox,reduceDescriptors:c0,freezeMethods:v2,toObjectSet:j2,toCamelCase:x2,noop:y2,toFiniteNumber:b2,findKey:i0,global:mn,isContextDefined:l0,isSpecCompliantForm:w2,toJSONObject:N2,isAsyncFn:S2,isThenable:C2,setImmediate:d0,asap:_2,isIterable:k2};function nt(t,a,r,o,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",a&&(this.code=a),r&&(this.config=r),o&&(this.request=o),i&&(this.response=i,this.status=i.status?i.status:null)}ce.inherits(nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ce.toJSONObject(this.config),code:this.code,status:this.status}}});const u0=nt.prototype,m0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{m0[t]={value:t}});Object.defineProperties(nt,m0);Object.defineProperty(u0,"isAxiosError",{value:!0});nt.from=(t,a,r,o,i,c)=>{const d=Object.create(u0);ce.toFlatObject(t,d,function(f){return f!==Error.prototype},g=>g!=="isAxiosError");const p=t&&t.message?t.message:"Error",u=a==null&&t?t.code:a;return nt.call(d,p,u,r,o,i),t&&d.cause==null&&Object.defineProperty(d,"cause",{value:t,configurable:!0}),d.name=t&&t.name||"Error",c&&Object.assign(d,c),d};const E2=null;function Cm(t){return ce.isPlainObject(t)||ce.isArray(t)}function f0(t){return ce.endsWith(t,"[]")?t.slice(0,-2):t}function $x(t,a,r){return t?t.concat(a).map(function(i,c){return i=f0(i),!r&&c?"["+i+"]":i}).join(r?".":""):a}function R2(t){return ce.isArray(t)&&!t.some(Cm)}const P2=ce.toFlatObject(ce,{},null,function(a){return/^is[A-Z]/.test(a)});function Dc(t,a,r){if(!ce.isObject(t))throw new TypeError("target must be an object");a=a||new FormData,r=ce.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,N){return!ce.isUndefined(N[j])});const o=r.metaTokens,i=r.visitor||f,c=r.dots,d=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&ce.isSpecCompliantForm(a);if(!ce.isFunction(i))throw new TypeError("visitor must be a function");function g(y){if(y===null)return"";if(ce.isDate(y))return y.toISOString();if(ce.isBoolean(y))return y.toString();if(!u&&ce.isBlob(y))throw new nt("Blob is not supported. Use a Buffer instead.");return ce.isArrayBuffer(y)||ce.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function f(y,j,N){let P=y;if(y&&!N&&typeof y=="object"){if(ce.endsWith(j,"{}"))j=o?j:j.slice(0,-2),y=JSON.stringify(y);else if(ce.isArray(y)&&R2(y)||(ce.isFileList(y)||ce.endsWith(j,"[]"))&&(P=ce.toArray(y)))return j=f0(j),P.forEach(function(_,E){!(ce.isUndefined(_)||_===null)&&a.append(d===!0?$x([j],E,c):d===null?j:j+"[]",g(_))}),!1}return Cm(y)?!0:(a.append($x(N,j,c),g(y)),!1)}const h=[],v=Object.assign(P2,{defaultVisitor:f,convertValue:g,isVisitable:Cm});function w(y,j){if(!ce.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+j.join("."));h.push(y),ce.forEach(y,function(P,C){(!(ce.isUndefined(P)||P===null)&&i.call(a,P,ce.isString(C)?C.trim():C,j,v))===!0&&w(P,j?j.concat(C):[C])}),h.pop()}}if(!ce.isObject(t))throw new TypeError("data must be an object");return w(t),a}function Lx(t){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return a[o]})}function nf(t,a){this._pairs=[],t&&Dc(t,this,a)}const h0=nf.prototype;h0.append=function(a,r){this._pairs.push([a,r])};h0.toString=function(a){const r=a?function(o){return a.call(this,o,Lx)}:Lx;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function A2(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function p0(t,a,r){if(!a)return t;const o=r&&r.encode||A2;ce.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let c;if(i?c=i(a,r):c=ce.isURLSearchParams(a)?a.toString():new nf(a,r).toString(o),c){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class Ix{constructor(){this.handlers=[]}use(a,r,o){return this.handlers.push({fulfilled:a,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){ce.forEach(this.handlers,function(o){o!==null&&a(o)})}}const x0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},T2=typeof URLSearchParams<"u"?URLSearchParams:nf,M2=typeof FormData<"u"?FormData:null,D2=typeof Blob<"u"?Blob:null,O2={isBrowser:!0,classes:{URLSearchParams:T2,FormData:M2,Blob:D2},protocols:["http","https","file","blob","url","data"]},of=typeof window<"u"&&typeof document<"u",_m=typeof navigator=="object"&&navigator||void 0,$2=of&&(!_m||["ReactNative","NativeScript","NS"].indexOf(_m.product)<0),L2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",I2=of&&window.location.href||"http://localhost",F2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:of,hasStandardBrowserEnv:$2,hasStandardBrowserWebWorkerEnv:L2,navigator:_m,origin:I2},Symbol.toStringTag,{value:"Module"})),As={...F2,...O2};function z2(t,a){return Dc(t,new As.classes.URLSearchParams,{visitor:function(r,o,i,c){return As.isNode&&ce.isBuffer(r)?(this.append(o,r.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...a})}function B2(t){return ce.matchAll(/\w+|\[(\w*)]/g,t).map(a=>a[0]==="[]"?"":a[1]||a[0])}function U2(t){const a={},r=Object.keys(t);let o;const i=r.length;let c;for(o=0;o<i;o++)c=r[o],a[c]=t[c];return a}function g0(t){function a(r,o,i,c){let d=r[c++];if(d==="__proto__")return!0;const p=Number.isFinite(+d),u=c>=r.length;return d=!d&&ce.isArray(i)?i.length:d,u?(ce.hasOwnProp(i,d)?i[d]=[i[d],o]:i[d]=o,!p):((!i[d]||!ce.isObject(i[d]))&&(i[d]=[]),a(r,o,i[d],c)&&ce.isArray(i[d])&&(i[d]=U2(i[d])),!p)}if(ce.isFormData(t)&&ce.isFunction(t.entries)){const r={};return ce.forEachEntry(t,(o,i)=>{a(B2(o),i,r,0)}),r}return null}function V2(t,a,r){if(ce.isString(t))try{return(a||JSON.parse)(t),ce.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(t)}const Ri={transitional:x0,adapter:["xhr","http","fetch"],transformRequest:[function(a,r){const o=r.getContentType()||"",i=o.indexOf("application/json")>-1,c=ce.isObject(a);if(c&&ce.isHTMLForm(a)&&(a=new FormData(a)),ce.isFormData(a))return i?JSON.stringify(g0(a)):a;if(ce.isArrayBuffer(a)||ce.isBuffer(a)||ce.isStream(a)||ce.isFile(a)||ce.isBlob(a)||ce.isReadableStream(a))return a;if(ce.isArrayBufferView(a))return a.buffer;if(ce.isURLSearchParams(a))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let p;if(c){if(o.indexOf("application/x-www-form-urlencoded")>-1)return z2(a,this.formSerializer).toString();if((p=ce.isFileList(a))||o.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Dc(p?{"files[]":a}:a,u&&new u,this.formSerializer)}}return c||i?(r.setContentType("application/json",!1),V2(a)):a}],transformResponse:[function(a){const r=this.transitional||Ri.transitional,o=r&&r.forcedJSONParsing,i=this.responseType==="json";if(ce.isResponse(a)||ce.isReadableStream(a))return a;if(a&&ce.isString(a)&&(o&&!this.responseType||i)){const d=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(a,this.parseReviver)}catch(p){if(d)throw p.name==="SyntaxError"?nt.from(p,nt.ERR_BAD_RESPONSE,this,null,this.response):p}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:As.classes.FormData,Blob:As.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ce.forEach(["delete","get","head","post","put","patch"],t=>{Ri.headers[t]={}});const H2=ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),q2=t=>{const a={};let r,o,i;return t&&t.split(`
`).forEach(function(d){i=d.indexOf(":"),r=d.substring(0,i).trim().toLowerCase(),o=d.substring(i+1).trim(),!(!r||a[r]&&H2[r])&&(r==="set-cookie"?a[r]?a[r].push(o):a[r]=[o]:a[r]=a[r]?a[r]+", "+o:o)}),a},Fx=Symbol("internals");function di(t){return t&&String(t).trim().toLowerCase()}function lc(t){return t===!1||t==null?t:ce.isArray(t)?t.map(lc):String(t)}function W2(t){const a=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(t);)a[o[1]]=o[2];return a}const G2=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Yu(t,a,r,o,i){if(ce.isFunction(o))return o.call(this,a,r);if(i&&(a=r),!!ce.isString(a)){if(ce.isString(o))return a.indexOf(o)!==-1;if(ce.isRegExp(o))return o.test(a)}}function K2(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,r,o)=>r.toUpperCase()+o)}function Y2(t,a){const r=ce.toCamelCase(" "+a);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+r,{value:function(i,c,d){return this[o].call(this,a,i,c,d)},configurable:!0})})}let Ys=class{constructor(a){a&&this.set(a)}set(a,r,o){const i=this;function c(p,u,g){const f=di(u);if(!f)throw new Error("header name must be a non-empty string");const h=ce.findKey(i,f);(!h||i[h]===void 0||g===!0||g===void 0&&i[h]!==!1)&&(i[h||u]=lc(p))}const d=(p,u)=>ce.forEach(p,(g,f)=>c(g,f,u));if(ce.isPlainObject(a)||a instanceof this.constructor)d(a,r);else if(ce.isString(a)&&(a=a.trim())&&!G2(a))d(q2(a),r);else if(ce.isObject(a)&&ce.isIterable(a)){let p={},u,g;for(const f of a){if(!ce.isArray(f))throw TypeError("Object iterator must return a key-value pair");p[g=f[0]]=(u=p[g])?ce.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}d(p,r)}else a!=null&&c(r,a,o);return this}get(a,r){if(a=di(a),a){const o=ce.findKey(this,a);if(o){const i=this[o];if(!r)return i;if(r===!0)return W2(i);if(ce.isFunction(r))return r.call(this,i,o);if(ce.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,r){if(a=di(a),a){const o=ce.findKey(this,a);return!!(o&&this[o]!==void 0&&(!r||Yu(this,this[o],o,r)))}return!1}delete(a,r){const o=this;let i=!1;function c(d){if(d=di(d),d){const p=ce.findKey(o,d);p&&(!r||Yu(o,o[p],p,r))&&(delete o[p],i=!0)}}return ce.isArray(a)?a.forEach(c):c(a),i}clear(a){const r=Object.keys(this);let o=r.length,i=!1;for(;o--;){const c=r[o];(!a||Yu(this,this[c],c,a,!0))&&(delete this[c],i=!0)}return i}normalize(a){const r=this,o={};return ce.forEach(this,(i,c)=>{const d=ce.findKey(o,c);if(d){r[d]=lc(i),delete r[c];return}const p=a?K2(c):String(c).trim();p!==c&&delete r[c],r[p]=lc(i),o[p]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const r=Object.create(null);return ce.forEach(this,(o,i)=>{o!=null&&o!==!1&&(r[i]=a&&ce.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,r])=>a+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...r){const o=new this(a);return r.forEach(i=>o.set(i)),o}static accessor(a){const o=(this[Fx]=this[Fx]={accessors:{}}).accessors,i=this.prototype;function c(d){const p=di(d);o[p]||(Y2(i,d),o[p]=!0)}return ce.isArray(a)?a.forEach(c):c(a),this}};Ys.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ce.reduceDescriptors(Ys.prototype,({value:t},a)=>{let r=a[0].toUpperCase()+a.slice(1);return{get:()=>t,set(o){this[r]=o}}});ce.freezeMethods(Ys);function Ju(t,a){const r=this||Ri,o=a||r,i=Ys.from(o.headers);let c=o.data;return ce.forEach(t,function(p){c=p.call(r,c,i.normalize(),a?a.status:void 0)}),i.normalize(),c}function v0(t){return!!(t&&t.__CANCEL__)}function ho(t,a,r){nt.call(this,t??"canceled",nt.ERR_CANCELED,a,r),this.name="CanceledError"}ce.inherits(ho,nt,{__CANCEL__:!0});function j0(t,a,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?t(r):a(new nt("Request failed with status code "+r.status,[nt.ERR_BAD_REQUEST,nt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function J2(t){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return a&&a[1]||""}function Q2(t,a){t=t||10;const r=new Array(t),o=new Array(t);let i=0,c=0,d;return a=a!==void 0?a:1e3,function(u){const g=Date.now(),f=o[c];d||(d=g),r[i]=u,o[i]=g;let h=c,v=0;for(;h!==i;)v+=r[h++],h=h%t;if(i=(i+1)%t,i===c&&(c=(c+1)%t),g-d<a)return;const w=f&&g-f;return w?Math.round(v*1e3/w):void 0}}function X2(t,a){let r=0,o=1e3/a,i,c;const d=(g,f=Date.now())=>{r=f,i=null,c&&(clearTimeout(c),c=null),t(...g)};return[(...g)=>{const f=Date.now(),h=f-r;h>=o?d(g,f):(i=g,c||(c=setTimeout(()=>{c=null,d(i)},o-h)))},()=>i&&d(i)]}const gc=(t,a,r=3)=>{let o=0;const i=Q2(50,250);return X2(c=>{const d=c.loaded,p=c.lengthComputable?c.total:void 0,u=d-o,g=i(u),f=d<=p;o=d;const h={loaded:d,total:p,progress:p?d/p:void 0,bytes:u,rate:g||void 0,estimated:g&&p&&f?(p-d)/g:void 0,event:c,lengthComputable:p!=null,[a?"download":"upload"]:!0};t(h)},r)},zx=(t,a)=>{const r=t!=null;return[o=>a[0]({lengthComputable:r,total:t,loaded:o}),a[1]]},Bx=t=>(...a)=>ce.asap(()=>t(...a)),Z2=As.hasStandardBrowserEnv?((t,a)=>r=>(r=new URL(r,As.origin),t.protocol===r.protocol&&t.host===r.host&&(a||t.port===r.port)))(new URL(As.origin),As.navigator&&/(msie|trident)/i.test(As.navigator.userAgent)):()=>!0,eS=As.hasStandardBrowserEnv?{write(t,a,r,o,i,c){const d=[t+"="+encodeURIComponent(a)];ce.isNumber(r)&&d.push("expires="+new Date(r).toGMTString()),ce.isString(o)&&d.push("path="+o),ce.isString(i)&&d.push("domain="+i),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(t){const a=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tS(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function sS(t,a){return a?t.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):t}function y0(t,a,r){let o=!tS(a);return t&&(o||r==!1)?sS(t,a):a}const Ux=t=>t instanceof Ys?{...t}:t;function pn(t,a){a=a||{};const r={};function o(g,f,h,v){return ce.isPlainObject(g)&&ce.isPlainObject(f)?ce.merge.call({caseless:v},g,f):ce.isPlainObject(f)?ce.merge({},f):ce.isArray(f)?f.slice():f}function i(g,f,h,v){if(ce.isUndefined(f)){if(!ce.isUndefined(g))return o(void 0,g,h,v)}else return o(g,f,h,v)}function c(g,f){if(!ce.isUndefined(f))return o(void 0,f)}function d(g,f){if(ce.isUndefined(f)){if(!ce.isUndefined(g))return o(void 0,g)}else return o(void 0,f)}function p(g,f,h){if(h in a)return o(g,f);if(h in t)return o(void 0,g)}const u={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:p,headers:(g,f,h)=>i(Ux(g),Ux(f),h,!0)};return ce.forEach(Object.keys({...t,...a}),function(f){const h=u[f]||i,v=h(t[f],a[f],f);ce.isUndefined(v)&&h!==p||(r[f]=v)}),r}const b0=t=>{const a=pn({},t);let{data:r,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:c,headers:d,auth:p}=a;if(a.headers=d=Ys.from(d),a.url=p0(y0(a.baseURL,a.url,a.allowAbsoluteUrls),t.params,t.paramsSerializer),p&&d.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),ce.isFormData(r)){if(As.hasStandardBrowserEnv||As.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(ce.isFunction(r.getHeaders)){const u=r.getHeaders(),g=["content-type","content-length"];Object.entries(u).forEach(([f,h])=>{g.includes(f.toLowerCase())&&d.set(f,h)})}}if(As.hasStandardBrowserEnv&&(o&&ce.isFunction(o)&&(o=o(a)),o||o!==!1&&Z2(a.url))){const u=i&&c&&eS.read(c);u&&d.set(i,u)}return a},aS=typeof XMLHttpRequest<"u",rS=aS&&function(t){return new Promise(function(r,o){const i=b0(t);let c=i.data;const d=Ys.from(i.headers).normalize();let{responseType:p,onUploadProgress:u,onDownloadProgress:g}=i,f,h,v,w,y;function j(){w&&w(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let N=new XMLHttpRequest;N.open(i.method.toUpperCase(),i.url,!0),N.timeout=i.timeout;function P(){if(!N)return;const _=Ys.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),k={data:!p||p==="text"||p==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:_,config:t,request:N};j0(function(T){r(T),j()},function(T){o(T),j()},k),N=null}"onloadend"in N?N.onloadend=P:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(P)},N.onabort=function(){N&&(o(new nt("Request aborted",nt.ECONNABORTED,t,N)),N=null)},N.onerror=function(E){const k=E&&E.message?E.message:"Network Error",A=new nt(k,nt.ERR_NETWORK,t,N);A.event=E||null,o(A),N=null},N.ontimeout=function(){let E=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||x0;i.timeoutErrorMessage&&(E=i.timeoutErrorMessage),o(new nt(E,k.clarifyTimeoutError?nt.ETIMEDOUT:nt.ECONNABORTED,t,N)),N=null},c===void 0&&d.setContentType(null),"setRequestHeader"in N&&ce.forEach(d.toJSON(),function(E,k){N.setRequestHeader(k,E)}),ce.isUndefined(i.withCredentials)||(N.withCredentials=!!i.withCredentials),p&&p!=="json"&&(N.responseType=i.responseType),g&&([v,y]=gc(g,!0),N.addEventListener("progress",v)),u&&N.upload&&([h,w]=gc(u),N.upload.addEventListener("progress",h),N.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(f=_=>{N&&(o(!_||_.type?new ho(null,t,N):_),N.abort(),N=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const C=J2(i.url);if(C&&As.protocols.indexOf(C)===-1){o(new nt("Unsupported protocol "+C+":",nt.ERR_BAD_REQUEST,t));return}N.send(c||null)})},nS=(t,a)=>{const{length:r}=t=t?t.filter(Boolean):[];if(a||r){let o=new AbortController,i;const c=function(g){if(!i){i=!0,p();const f=g instanceof Error?g:this.reason;o.abort(f instanceof nt?f:new ho(f instanceof Error?f.message:f))}};let d=a&&setTimeout(()=>{d=null,c(new nt(`timeout ${a} of ms exceeded`,nt.ETIMEDOUT))},a);const p=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(g=>{g.unsubscribe?g.unsubscribe(c):g.removeEventListener("abort",c)}),t=null)};t.forEach(g=>g.addEventListener("abort",c));const{signal:u}=o;return u.unsubscribe=()=>ce.asap(p),u}},oS=function*(t,a){let r=t.byteLength;if(r<a){yield t;return}let o=0,i;for(;o<r;)i=o+a,yield t.slice(o,i),o=i},iS=async function*(t,a){for await(const r of lS(t))yield*oS(r,a)},lS=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const a=t.getReader();try{for(;;){const{done:r,value:o}=await a.read();if(r)break;yield o}}finally{await a.cancel()}},Vx=(t,a,r,o)=>{const i=iS(t,a);let c=0,d,p=u=>{d||(d=!0,o&&o(u))};return new ReadableStream({async pull(u){try{const{done:g,value:f}=await i.next();if(g){p(),u.close();return}let h=f.byteLength;if(r){let v=c+=h;r(v)}u.enqueue(new Uint8Array(f))}catch(g){throw p(g),g}},cancel(u){return p(u),i.return()}},{highWaterMark:2})},Hx=64*1024,{isFunction:Ql}=ce,cS=(({Request:t,Response:a})=>({Request:t,Response:a}))(ce.global),{ReadableStream:qx,TextEncoder:Wx}=ce.global,Gx=(t,...a)=>{try{return!!t(...a)}catch{return!1}},dS=t=>{t=ce.merge.call({skipUndefined:!0},cS,t);const{fetch:a,Request:r,Response:o}=t,i=a?Ql(a):typeof fetch=="function",c=Ql(r),d=Ql(o);if(!i)return!1;const p=i&&Ql(qx),u=i&&(typeof Wx=="function"?(y=>j=>y.encode(j))(new Wx):async y=>new Uint8Array(await new r(y).arrayBuffer())),g=c&&p&&Gx(()=>{let y=!1;const j=new r(As.origin,{body:new qx,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!j}),f=d&&p&&Gx(()=>ce.isReadableStream(new o("").body)),h={stream:f&&(y=>y.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!h[y]&&(h[y]=(j,N)=>{let P=j&&j[y];if(P)return P.call(j);throw new nt(`Response type '${y}' is not supported`,nt.ERR_NOT_SUPPORT,N)})});const v=async y=>{if(y==null)return 0;if(ce.isBlob(y))return y.size;if(ce.isSpecCompliantForm(y))return(await new r(As.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(ce.isArrayBufferView(y)||ce.isArrayBuffer(y))return y.byteLength;if(ce.isURLSearchParams(y)&&(y=y+""),ce.isString(y))return(await u(y)).byteLength},w=async(y,j)=>{const N=ce.toFiniteNumber(y.getContentLength());return N??v(j)};return async y=>{let{url:j,method:N,data:P,signal:C,cancelToken:_,timeout:E,onDownloadProgress:k,onUploadProgress:A,responseType:T,headers:R,withCredentials:I="same-origin",fetchOptions:L}=b0(y),B=a||fetch;T=T?(T+"").toLowerCase():"text";let G=nS([C,_&&_.toAbortSignal()],E),F=null;const M=G&&G.unsubscribe&&(()=>{G.unsubscribe()});let K;try{if(A&&g&&N!=="get"&&N!=="head"&&(K=await w(R,P))!==0){let D=new r(j,{method:"POST",body:P,duplex:"half"}),H;if(ce.isFormData(P)&&(H=D.headers.get("content-type"))&&R.setContentType(H),D.body){const[ae,V]=zx(K,gc(Bx(A)));P=Vx(D.body,Hx,ae,V)}}ce.isString(I)||(I=I?"include":"omit");const $=c&&"credentials"in r.prototype,z={...L,signal:G,method:N.toUpperCase(),headers:R.normalize().toJSON(),body:P,duplex:"half",credentials:$?I:void 0};F=c&&new r(j,z);let q=await(c?B(F,L):B(j,z));const Y=f&&(T==="stream"||T==="response");if(f&&(k||Y&&M)){const D={};["status","statusText","headers"].forEach(U=>{D[U]=q[U]});const H=ce.toFiniteNumber(q.headers.get("content-length")),[ae,V]=k&&zx(H,gc(Bx(k),!0))||[];q=new o(Vx(q.body,Hx,ae,()=>{V&&V(),M&&M()}),D)}T=T||"text";let ee=await h[ce.findKey(h,T)||"text"](q,y);return!Y&&M&&M(),await new Promise((D,H)=>{j0(D,H,{data:ee,headers:Ys.from(q.headers),status:q.status,statusText:q.statusText,config:y,request:F})})}catch($){throw M&&M(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new nt("Network Error",nt.ERR_NETWORK,y,F),{cause:$.cause||$}):nt.from($,$&&$.code,y,F)}}},uS=new Map,w0=t=>{let a=t?t.env:{};const{fetch:r,Request:o,Response:i}=a,c=[o,i,r];let d=c.length,p=d,u,g,f=uS;for(;p--;)u=c[p],g=f.get(u),g===void 0&&f.set(u,g=p?new Map:dS(a)),f=g;return g};w0();const km={http:E2,xhr:rS,fetch:{get:w0}};ce.forEach(km,(t,a)=>{if(t){try{Object.defineProperty(t,"name",{value:a})}catch{}Object.defineProperty(t,"adapterName",{value:a})}});const Kx=t=>`- ${t}`,mS=t=>ce.isFunction(t)||t===null||t===!1,N0={getAdapter:(t,a)=>{t=ce.isArray(t)?t:[t];const{length:r}=t;let o,i;const c={};for(let d=0;d<r;d++){o=t[d];let p;if(i=o,!mS(o)&&(i=km[(p=String(o)).toLowerCase()],i===void 0))throw new nt(`Unknown adapter '${p}'`);if(i&&(ce.isFunction(i)||(i=i.get(a))))break;c[p||"#"+d]=i}if(!i){const d=Object.entries(c).map(([u,g])=>`adapter ${u} `+(g===!1?"is not supported by the environment":"is not available in the build"));let p=r?d.length>1?`since :
`+d.map(Kx).join(`
`):" "+Kx(d[0]):"as no adapter specified";throw new nt("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return i},adapters:km};function Qu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ho(null,t)}function Yx(t){return Qu(t),t.headers=Ys.from(t.headers),t.data=Ju.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),N0.getAdapter(t.adapter||Ri.adapter,t)(t).then(function(o){return Qu(t),o.data=Ju.call(t,t.transformResponse,o),o.headers=Ys.from(o.headers),o},function(o){return v0(o)||(Qu(t),o&&o.response&&(o.response.data=Ju.call(t,t.transformResponse,o.response),o.response.headers=Ys.from(o.response.headers))),Promise.reject(o)})}const S0="1.12.2",Oc={};["object","boolean","number","function","string","symbol"].forEach((t,a)=>{Oc[t]=function(o){return typeof o===t||"a"+(a<1?"n ":" ")+t}});const Jx={};Oc.transitional=function(a,r,o){function i(c,d){return"[Axios v"+S0+"] Transitional option '"+c+"'"+d+(o?". "+o:"")}return(c,d,p)=>{if(a===!1)throw new nt(i(d," has been removed"+(r?" in "+r:"")),nt.ERR_DEPRECATED);return r&&!Jx[d]&&(Jx[d]=!0,console.warn(i(d," has been deprecated since v"+r+" and will be removed in the near future"))),a?a(c,d,p):!0}};Oc.spelling=function(a){return(r,o)=>(console.warn(`${o} is likely a misspelling of ${a}`),!0)};function fS(t,a,r){if(typeof t!="object")throw new nt("options must be an object",nt.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let i=o.length;for(;i-- >0;){const c=o[i],d=a[c];if(d){const p=t[c],u=p===void 0||d(p,c,t);if(u!==!0)throw new nt("option "+c+" must be "+u,nt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new nt("Unknown option "+c,nt.ERR_BAD_OPTION)}}const cc={assertOptions:fS,validators:Oc},Ba=cc.validators;let fn=class{constructor(a){this.defaults=a||{},this.interceptors={request:new Ix,response:new Ix}}async request(a,r){try{return await this._request(a,r)}catch(o){if(o instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const c=i.stack?i.stack.replace(/^.+\n/,""):"";try{o.stack?c&&!String(o.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+c):o.stack=c}catch{}}throw o}}_request(a,r){typeof a=="string"?(r=r||{},r.url=a):r=a||{},r=pn(this.defaults,r);const{transitional:o,paramsSerializer:i,headers:c}=r;o!==void 0&&cc.assertOptions(o,{silentJSONParsing:Ba.transitional(Ba.boolean),forcedJSONParsing:Ba.transitional(Ba.boolean),clarifyTimeoutError:Ba.transitional(Ba.boolean)},!1),i!=null&&(ce.isFunction(i)?r.paramsSerializer={serialize:i}:cc.assertOptions(i,{encode:Ba.function,serialize:Ba.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),cc.assertOptions(r,{baseUrl:Ba.spelling("baseURL"),withXsrfToken:Ba.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let d=c&&ce.merge(c.common,c[r.method]);c&&ce.forEach(["delete","get","head","post","put","patch","common"],y=>{delete c[y]}),r.headers=Ys.concat(d,c);const p=[];let u=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(u=u&&j.synchronous,p.unshift(j.fulfilled,j.rejected))});const g=[];this.interceptors.response.forEach(function(j){g.push(j.fulfilled,j.rejected)});let f,h=0,v;if(!u){const y=[Yx.bind(this),void 0];for(y.unshift(...p),y.push(...g),v=y.length,f=Promise.resolve(r);h<v;)f=f.then(y[h++],y[h++]);return f}v=p.length;let w=r;for(;h<v;){const y=p[h++],j=p[h++];try{w=y(w)}catch(N){j.call(this,N);break}}try{f=Yx.call(this,w)}catch(y){return Promise.reject(y)}for(h=0,v=g.length;h<v;)f=f.then(g[h++],g[h++]);return f}getUri(a){a=pn(this.defaults,a);const r=y0(a.baseURL,a.url,a.allowAbsoluteUrls);return p0(r,a.params,a.paramsSerializer)}};ce.forEach(["delete","get","head","options"],function(a){fn.prototype[a]=function(r,o){return this.request(pn(o||{},{method:a,url:r,data:(o||{}).data}))}});ce.forEach(["post","put","patch"],function(a){function r(o){return function(c,d,p){return this.request(pn(p||{},{method:a,headers:o?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}fn.prototype[a]=r(),fn.prototype[a+"Form"]=r(!0)});let hS=class C0{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(c){r=c});const o=this;this.promise.then(i=>{if(!o._listeners)return;let c=o._listeners.length;for(;c-- >0;)o._listeners[c](i);o._listeners=null}),this.promise.then=i=>{let c;const d=new Promise(p=>{o.subscribe(p),c=p}).then(i);return d.cancel=function(){o.unsubscribe(c)},d},a(function(c,d,p){o.reason||(o.reason=new ho(c,d,p),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const r=this._listeners.indexOf(a);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const a=new AbortController,r=o=>{a.abort(o)};return this.subscribe(r),a.signal.unsubscribe=()=>this.unsubscribe(r),a.signal}static source(){let a;return{token:new C0(function(i){a=i}),cancel:a}}};function pS(t){return function(r){return t.apply(null,r)}}function xS(t){return ce.isObject(t)&&t.isAxiosError===!0}const Em={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Em).forEach(([t,a])=>{Em[a]=t});function _0(t){const a=new fn(t),r=a0(fn.prototype.request,a);return ce.extend(r,fn.prototype,a,{allOwnKeys:!0}),ce.extend(r,a,null,{allOwnKeys:!0}),r.create=function(i){return _0(pn(t,i))},r}const ls=_0(Ri);ls.Axios=fn;ls.CanceledError=ho;ls.CancelToken=hS;ls.isCancel=v0;ls.VERSION=S0;ls.toFormData=Dc;ls.AxiosError=nt;ls.Cancel=ls.CanceledError;ls.all=function(a){return Promise.all(a)};ls.spread=pS;ls.isAxiosError=xS;ls.mergeConfig=pn;ls.AxiosHeaders=Ys;ls.formToJSON=t=>g0(ce.isHTMLForm(t)?new FormData(t):t);ls.getAdapter=N0.getAdapter;ls.HttpStatusCode=Em;ls.default=ls;const{Axios:c5,AxiosError:d5,CanceledError:u5,isCancel:m5,CancelToken:f5,VERSION:h5,all:p5,Cancel:x5,isAxiosError:g5,spread:v5,toFormData:j5,AxiosHeaders:y5,HttpStatusCode:b5,formToJSON:w5,getAdapter:N5,mergeConfig:S5}=ls,k0="http://127.0.0.1:8000",gS="/api";"true".toLowerCase();"false".toLowerCase();"true".toLowerCase();const vS=k0,jS=(t="")=>t.replace(/^\/+|\/+$/g,""),yS=(t="")=>t.replace(/^\/+/,""),bS=(t="")=>/^https?:\/\//i.test(t),wS=(t="")=>{const a="/"+jS(gS);if(!t)return a+"/";if(t.startsWith(a+"/")||t===a||t.startsWith(a+"?"))return t;const[r,o=""]=String(t).split("?"),i=/\/$/.test(r||""),c=yS(r||"");let d=`${a}/${c||""}`;return(i||!c)&&(d+="/"),o&&(d+=`?${o}`),d=d.replace(/\/{2,}/g,"/"),d},ue=ls.create({baseURL:vS,headers:{"Content-Type":"application/json"},timeout:15e3});ue.interceptors.request.use(t=>{const a=t.url||"";if(!bS(a)){const g=wS(a);t.baseURL=k0.replace(/\/+$/g,""),t.url=g.startsWith("/")?g:"/"+g}const r="/auth/login/",o="/auth/register/",i="/auth/forgot-password/",c="/auth/google/";if(((g="")=>[r,o,i,c].some(f=>g.includes(f)))(t.url||""))return t;const p=localStorage.getItem("access_token");let u=localStorage.getItem("auth_scheme")||"Token";if(!u){u=p&&p.includes(".")?"Bearer":"Token";try{localStorage.setItem("auth_scheme",u)}catch{}}try{p&&p.includes(".")&&/^token$/i.test(String(u))?(u="Bearer",localStorage.setItem("auth_scheme",u)):p&&!p.includes(".")&&/^bearer$/i.test(String(u))&&(u="Token",localStorage.setItem("auth_scheme",u))}catch{}return p?t.headers.Authorization=`${u} ${p}`:delete t.headers.Authorization,t.data instanceof FormData&&t.headers&&delete t.headers["Content-Type"],t});ue.interceptors.response.use(t=>t,t=>Promise.reject(t));const NS=t=>{if(!t)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t;const a=new Date(t);if(!isNaN(a)){const o=a.getFullYear(),i=String(a.getMonth()+1).padStart(2,"0"),c=String(a.getDate()).padStart(2,"0");return`${o}-${i}-${c}`}const r=String(t).match(/^(\d{2})\/(\d{2})\/(\d{4})$/);return r?`${r[3]}-${r[2]}-${r[1]}`:""};function Lr(t){if(!t||typeof t!="object")return t;const a={...t},r=[a.first_name,a.last_name].filter(Boolean).join(" ")||a.display_name||a.nome||a.nome_completo||a.username||a.email||"";a.display_name=r;const o=a.cpf||a.documento||a.doc||a.rg||a.cpf_number||a.profile&&(a.profile.cpf||a.profile.documento)||"";o&&(a.cpf=o,a.rg||(a.rg=o));const i=a.data_nascimento||a.nascimento||a.dob||a.birth_date||a.profile&&(a.profile.data_nascimento||a.profile.nascimento)||"",c=NS(i);return c&&(a.data_nascimento=c),a}const ht={async login(t){const a="/auth/login/",r={...t,username:t.username||t.email},o=await ue.post(a,r),{access:i,refresh:c,access_token:d,refresh_token:p,token:u,key:g,user:f}=o.data,h=i||d||u||g,v=c||p;if(i||d)localStorage.setItem("auth_scheme","Bearer");else if(u||g){const w=u||g,y=typeof w=="string"&&w.includes(".");localStorage.setItem("auth_scheme",y?"Bearer":"Token")}if(h&&localStorage.setItem("access_token",h),v&&localStorage.setItem("refresh_token",v),f!==void 0)try{if(f&&typeof f=="object"){const w=Lr(f);localStorage.setItem("user",JSON.stringify(w)),o.data.user=w}else localStorage.removeItem("user")}catch{}if(!o.data.user)try{const w=await Xl();if(w){const y=Lr(w);localStorage.setItem("user",JSON.stringify(y)),o.data.user=y}}catch{}return o.data},async register(t,a={}){var j,N,P;const o=await ue.post("/auth/register/",t),{access:i,refresh:c,access_token:d,refresh_token:p,token:u,user:g}=o.data,f=i||d||u,h=c||p;if(i||d)localStorage.setItem("auth_scheme","Bearer");else if(u){const C=typeof u=="string"&&u.includes(".");localStorage.setItem("auth_scheme",C?"Bearer":"Token")}if(f&&localStorage.setItem("access_token",f),h&&localStorage.setItem("refresh_token",h),g!==void 0){const C=g&&typeof g=="object"?Lr(g):g;C&&typeof C=="object"?(localStorage.setItem("user",JSON.stringify(C)),o.data.user=C):localStorage.removeItem("user")}else try{const C=await Xl();if(C){const _=Lr(C);localStorage.setItem("user",JSON.stringify(_)),o.data.user=_}}catch{}const v={...o.data};let w=null;const y=a==null?void 0:a.medicoData;if(y&&typeof y=="object")try{if(!!!localStorage.getItem("access_token")&&(t!=null&&t.password)){if(t!=null&&t.username)try{await ht.login({username:t.username,password:t.password})}catch{}if(!localStorage.getItem("access_token")&&(t!=null&&t.email))try{await ht.login({username:t.email,email:t.email,password:t.password})}catch{}}const _=await vi(()=>Promise.resolve().then(()=>gb),void 0),E=[t.first_name||"",t.last_name||""].filter(Boolean).join(" ")||t.username||"",k={...y,nome:y.nome||E,nome_completo:y.nome_completo||E,email:y.email||t.email,cpf:y.cpf||t.cpf,tipo:"medico"};w={success:!0,data:await _.solicitacaoService.criarSolicitacaoMedico(k)};try{const{medicoService:T}=await vi(async()=>{const{medicoService:R}=await Promise.resolve().then(()=>TP);return{medicoService:R}},void 0);await T.ensureMedicoAndPerfil(k,{})}catch(T){console.warn("[authService.register] ensureMedicoAndPerfil falhou:",((j=T==null?void 0:T.response)==null?void 0:j.data)||T)}}catch(C){console.error("[authService.register] criarSolicitacaoMedico falhou:",((N=C==null?void 0:C.response)==null?void 0:N.data)||C),w={success:!1,error:C&&(((P=C.response)==null?void 0:P.data)||C.message)||String(C)}}return w&&(v.medicoApplication=w),v},async logout(){try{await ue.post("/auth/logout/")}finally{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),localStorage.removeItem("auth_scheme");try{const t=[];for(let a=0;a<localStorage.length;a++){const r=localStorage.key(a);r&&r.startsWith("medicoApplicationStatus")&&t.push(r)}t.forEach(a=>localStorage.removeItem(a))}catch{}}},async forgotPassword(t){return(await ue.post("/auth/forgot-password/",{email:t})).data},getCurrentUser(){const t=localStorage.getItem("user");if(!t||t==="undefined"||t==="null")return null;try{const a=JSON.parse(t);return Lr(a)}catch{return null}},async refreshCurrentUser(){try{const t=await Xl();if(t){const a=Lr(t);return localStorage.setItem("user",JSON.stringify(a)),a}else return localStorage.removeItem("user"),null}catch{return null}},isAuthenticated(){try{return!!localStorage.getItem("access_token")}catch{return!1}},async loginWithGoogle(t){const a="/auth/google/",r={credential:t,id_token:t},o=await ue.post(a,r),{access:i,refresh:c,access_token:d,refresh_token:p,token:u,key:g,user:f}=o.data,h=i||d||u||g,v=c||p;if(i||d)localStorage.setItem("auth_scheme","Bearer");else if(u||g){const w=u||g,y=typeof w=="string"&&w.includes(".");localStorage.setItem("auth_scheme",y?"Bearer":"Token")}if(h&&localStorage.setItem("access_token",h),v&&localStorage.setItem("refresh_token",v),f!==void 0)try{if(f&&typeof f=="object"){const w=Lr(f);localStorage.setItem("user",JSON.stringify(w)),o.data.user=w}else localStorage.removeItem("user")}catch{}else try{const w=await Xl();if(w){const y=Lr(w);localStorage.setItem("user",JSON.stringify(y)),o.data.user=y}else o.data.user=null}catch{}return o.data}};async function Xl(){var i;const t="".trim(),a=[];t&&a.push(t),a.push("/auth/users/me/","/users/me/","/auth/user/","/auth/me/","/me/");const r=new Set,o=a.filter(c=>{const d=String(c).replace(/\/+$/g,"");return r.has(d)?!1:(r.add(d),!0)});for(const c of o)try{return(await ue.get(c)).data}catch(d){if(((i=d==null?void 0:d.response)==null?void 0:i.status)===404)continue}return null}const E0=x.createContext({});function SS({children:t}){const[a,r]=x.useState(null),[o,i]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const h=ht.getCurrentUser();if(h)r(h);else{const v=await ht.refreshCurrentUser().catch(()=>null);v!=null&&v.user&&r(v.user)}}finally{i(!1)}})()},[]);const c=async f=>{const h=await ht.login(f);if(h!=null&&h.user)r(h.user);else{const v=ht.getCurrentUser();r(v)}return h},d=async()=>{await ht.logout(),r(null)},p=async f=>{const h=await ht.register(f);if(h!=null&&h.user)r(h.user);else{const v=ht.getCurrentUser();v&&r(v)}return h},u=async f=>{const h=await ht.loginWithGoogle(f);return r(h.user),h},g={user:a,login:c,logout:d,register:p,loading:o,isAuthenticated:!!a||ht.isAuthenticated(),loginWithGoogle:u};return e.jsx(E0.Provider,{value:g,children:t})}const xr=()=>{const t=x.useContext(E0);if(!t)throw new Error("useAuth deve ser usado dentro de AuthProvider");return t},R0=x.createContext(void 0);function CS({children:t}){const[a,r]=x.useState("paciente"),[o,i]=x.useState(!1),[c,d]=x.useState({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"}),[p,u]=x.useState(null),[g,f]=x.useState(""),h=()=>{u(null),f("")},v=()=>{c.isMedico&&c.medicoStatus==="approved"&&r(a==="medico"?"paciente":"medico")},w=(j="paciente",N={})=>{i(!0),r(j),d(N)},y=()=>{i(!1),r("paciente"),d({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"}),h()};return e.jsx(R0.Provider,{value:{activeRole:a,setActiveRole:r,toggleRole:v,isAuthenticated:o,userPermissions:c,setUserPermissions:d,login:w,logout:y,ephemeralCertFile:p,setEphemeralCertFile:u,ephemeralCertPassword:g,setEphemeralCertPassword:f,clearEphemeralCert:h},children:t})}function Ga(){const t=x.useContext(R0);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t}function Qx(t,a){if(typeof t=="function")return t(a);t!=null&&(t.current=a)}function $c(...t){return a=>{let r=!1;const o=t.map(i=>{const c=Qx(i,a);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let i=0;i<o.length;i++){const c=o[i];typeof c=="function"?c():Qx(t[i],null)}}}}function Pt(...t){return x.useCallback($c(...t),t)}function xn(t){const a=_S(t),r=x.forwardRef((o,i)=>{const{children:c,...d}=o,p=x.Children.toArray(c),u=p.find(ES);if(u){const g=u.props.children,f=p.map(h=>h===u?x.Children.count(g)>1?x.Children.only(null):x.isValidElement(g)?g.props.children:null:h);return e.jsx(a,{...d,ref:i,children:x.isValidElement(g)?x.cloneElement(g,void 0,f):null})}return e.jsx(a,{...d,ref:i,children:c})});return r.displayName=`${t}.Slot`,r}var po=xn("Slot");function _S(t){const a=x.forwardRef((r,o)=>{const{children:i,...c}=r;if(x.isValidElement(i)){const d=PS(i),p=RS(c,i.props);return i.type!==x.Fragment&&(p.ref=o?$c(o,d):d),x.cloneElement(i,p)}return x.Children.count(i)>1?x.Children.only(null):null});return a.displayName=`${t}.SlotClone`,a}var P0=Symbol("radix.slottable");function kS(t){const a=({children:r})=>e.jsx(e.Fragment,{children:r});return a.displayName=`${t}.Slottable`,a.__radixId=P0,a}function ES(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===P0}function RS(t,a){const r={...a};for(const o in a){const i=t[o],c=a[o];/^on[A-Z]/.test(o)?i&&c?r[o]=(...p)=>{const u=c(...p);return i(...p),u}:i&&(r[o]=i):o==="style"?r[o]={...i,...c}:o==="className"&&(r[o]=[i,c].filter(Boolean).join(" "))}return{...t,...r}}function PS(t){var o,i;let a=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,r=a&&"isReactWarning"in a&&a.isReactWarning;return r?t.ref:(a=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=a&&"isReactWarning"in a&&a.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function A0(t){var a,r,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(a=0;a<i;a++)t[a]&&(r=A0(t[a]))&&(o&&(o+=" "),o+=r)}else for(r in t)t[r]&&(o&&(o+=" "),o+=r);return o}function AS(){for(var t,a,r=0,o="",i=arguments.length;r<i;r++)(t=arguments[r])&&(a=A0(t))&&(o&&(o+=" "),o+=a);return o}const Xx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Zx=AS,Lc=(t,a)=>r=>{var o;if((a==null?void 0:a.variants)==null)return Zx(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:c}=a,d=Object.keys(i).map(g=>{const f=r==null?void 0:r[g],h=c==null?void 0:c[g];if(f===null)return null;const v=Xx(f)||Xx(h);return i[g][v]}),p=r&&Object.entries(r).reduce((g,f)=>{let[h,v]=f;return v===void 0||(g[h]=v),g},{}),u=a==null||(o=a.compoundVariants)===null||o===void 0?void 0:o.reduce((g,f)=>{let{class:h,className:v,...w}=f;return Object.entries(w).every(y=>{let[j,N]=y;return Array.isArray(N)?N.includes({...c,...p}[j]):{...c,...p}[j]===N})?[...g,h,v]:g},[]);return Zx(t,d,u,r==null?void 0:r.class,r==null?void 0:r.className)};var TS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const MS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Re=(t,a)=>{const r=x.forwardRef(({color:o="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:d,children:p,...u},g)=>x.createElement("svg",{ref:g,...TS,width:i,height:i,stroke:o,strokeWidth:d?Number(c)*24/Number(i):c,className:`lucide lucide-${MS(t)}`,...u},[...a.map(([f,h])=>x.createElement(f,h)),...(Array.isArray(p)?p:[p])||[]]));return r.displayName=`${t}`,r},Js=Re("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),qr=Re("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),fi=Re("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),hi=Re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),DS=Re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),ji=Re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),lf=Re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Wr=Re("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Ic=Re("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),eg=Re("CalendarPlus",[["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["line",{x1:"19",x2:"19",y1:"16",y2:"22",key:"1ttwzi"}],["line",{x1:"16",x2:"22",y1:"19",y2:"19",key:"1g9955"}]]),Qe=Re("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),ur=Re("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ra=Re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),OS=Re("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),T0=Re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),cf=Re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),M0=Re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ka=Re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),$S=Re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),LS=Re("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]),IS=Re("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),pa=Re("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),lt=Re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),FS=Re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),mr=Re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),tg=Re("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),zS=Re("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),BS=Re("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ea=Re("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),US=Re("FileSignature",[["path",{d:"M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5",key:"kd5d3"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z",key:"johvi5"}]]),cs=Re("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),so=Re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),VS=Re("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),vc=Re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),HS=Re("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),D0=Re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),qS=Re("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),WS=Re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Xu=Re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),GS=Re("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),KS=Re("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),O0=Re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),YS=Re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),fr=Re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),jc=Re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),JS=Re("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),QS=Re("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),XS=Re("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),sg=Re("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),ZS=Re("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),eC=Re("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Hr=Re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),pi=Re("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),oo=Re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),tC=Re("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),$0=Re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),L0=Re("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Ms=Re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),yc=Re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ha=Re("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),sC=Re("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),xt=Re("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),ag=Re("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),aC=Re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),xo=Re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Zu=Re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),rC=Re("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),nC=Re("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),oC=Re("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),is=Re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),gs=Re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),em=Re("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),na=Re("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),df=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),iC=Re("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function lC(){const[t,a]=x.useState(!1);return x.useEffect(()=>{const r=()=>{a(window.innerWidth<768)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),t}function ye(...t){return t.filter(Boolean).join(" ")}function cC(t){return t?t.split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" "):""}const Z=x.forwardRef(({className:t,variant:a="default",size:r="default",asChild:o=!1,...i},c)=>{const d=o?"slot":"button",p={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},u={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return e.jsx(d,{className:ye("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",p[a],u[r],t),ref:c,...i})});Z.displayName="Button";const fe=x.forwardRef(({className:t,type:a,...r},o)=>e.jsx("input",{type:a,className:ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:o,...r}));fe.displayName="Input";var dC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],et=dC.reduce((t,a)=>{const r=xn(`Primitive.${a}`),o=x.forwardRef((i,c)=>{const{asChild:d,...p}=i,u=d?r:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...p,ref:c})});return o.displayName=`Primitive.${a}`,{...t,[a]:o}},{});function uf(t,a){t&&co.flushSync(()=>t.dispatchEvent(a))}var uC="Separator",rg="horizontal",mC=["horizontal","vertical"],I0=x.forwardRef((t,a)=>{const{decorative:r,orientation:o=rg,...i}=t,c=fC(o)?o:rg,p=r?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return e.jsx(et.div,{"data-orientation":c,...p,...i,ref:a})});I0.displayName=uC;function fC(t){return mC.includes(t)}var F0=I0;const Ls=x.forwardRef(({className:t,orientation:a="horizontal",decorative:r=!0,...o},i)=>e.jsx(F0,{ref:i,decorative:r,orientation:a,className:ye("shrink-0 bg-border",a==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...o}));Ls.displayName=F0.displayName;function Me(t,a,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return a==null?void 0:a(i)}}function hC(t,a){const r=x.createContext(a),o=c=>{const{children:d,...p}=c,u=x.useMemo(()=>p,Object.values(p));return e.jsx(r.Provider,{value:u,children:d})};o.displayName=t+"Provider";function i(c){const d=x.useContext(r);if(d)return d;if(a!==void 0)return a;throw new Error(`\`${c}\` must be used within \`${t}\``)}return[o,i]}function Ja(t,a=[]){let r=[];function o(c,d){const p=x.createContext(d),u=r.length;r=[...r,d];const g=h=>{var P;const{scope:v,children:w,...y}=h,j=((P=v==null?void 0:v[t])==null?void 0:P[u])||p,N=x.useMemo(()=>y,Object.values(y));return e.jsx(j.Provider,{value:N,children:w})};g.displayName=c+"Provider";function f(h,v){var j;const w=((j=v==null?void 0:v[t])==null?void 0:j[u])||p,y=x.useContext(w);if(y)return y;if(d!==void 0)return d;throw new Error(`\`${h}\` must be used within \`${c}\``)}return[g,f]}const i=()=>{const c=r.map(d=>x.createContext(d));return function(p){const u=(p==null?void 0:p[t])||c;return x.useMemo(()=>({[`__scope${t}`]:{...p,[t]:u}}),[p,u])}};return i.scopeName=t,[o,pC(i,...a)]}function pC(...t){const a=t[0];if(t.length===1)return a;const r=()=>{const o=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const d=o.reduce((p,{useScope:u,scopeName:g})=>{const h=u(c)[`__scope${g}`];return{...p,...h}},{});return x.useMemo(()=>({[`__scope${a.scopeName}`]:d}),[d])}};return r.scopeName=a.scopeName,r}var ms=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},xC=Zm[" useId ".trim().toString()]||(()=>{}),gC=0;function qa(t){const[a,r]=x.useState(xC());return ms(()=>{r(o=>o??String(gC++))},[t]),t||(a?`radix-${a}`:"")}var vC=Zm[" useInsertionEffect ".trim().toString()]||ms;function gn({prop:t,defaultProp:a,onChange:r=()=>{},caller:o}){const[i,c,d]=jC({defaultProp:a,onChange:r}),p=t!==void 0,u=p?t:i;{const f=x.useRef(t!==void 0);x.useEffect(()=>{const h=f.current;h!==p&&console.warn(`${o} is changing from ${h?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=p},[p,o])}const g=x.useCallback(f=>{var h;if(p){const v=yC(f)?f(t):f;v!==t&&((h=d.current)==null||h.call(d,v))}else c(f)},[p,t,c,d]);return[u,g]}function jC({defaultProp:t,onChange:a}){const[r,o]=x.useState(t),i=x.useRef(r),c=x.useRef(a);return vC(()=>{c.current=a},[a]),x.useEffect(()=>{var d;i.current!==r&&((d=c.current)==null||d.call(c,r),i.current=r)},[r,i]),[r,o,c]}function yC(t){return typeof t=="function"}function Is(t){const a=x.useRef(t);return x.useEffect(()=>{a.current=t}),x.useMemo(()=>(...r)=>{var o;return(o=a.current)==null?void 0:o.call(a,...r)},[])}function bC(t,a=globalThis==null?void 0:globalThis.document){const r=Is(t);x.useEffect(()=>{const o=i=>{i.key==="Escape"&&r(i)};return a.addEventListener("keydown",o,{capture:!0}),()=>a.removeEventListener("keydown",o,{capture:!0})},[r,a])}var wC="DismissableLayer",Rm="dismissableLayer.update",NC="dismissableLayer.pointerDownOutside",SC="dismissableLayer.focusOutside",ng,z0=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),go=x.forwardRef((t,a)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:c,onInteractOutside:d,onDismiss:p,...u}=t,g=x.useContext(z0),[f,h]=x.useState(null),v=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=x.useState({}),y=Pt(a,T=>h(T)),j=Array.from(g.layers),[N]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),P=j.indexOf(N),C=f?j.indexOf(f):-1,_=g.layersWithOutsidePointerEventsDisabled.size>0,E=C>=P,k=_C(T=>{const R=T.target,I=[...g.branches].some(L=>L.contains(R));!E||I||(i==null||i(T),d==null||d(T),T.defaultPrevented||p==null||p())},v),A=kC(T=>{const R=T.target;[...g.branches].some(L=>L.contains(R))||(c==null||c(T),d==null||d(T),T.defaultPrevented||p==null||p())},v);return bC(T=>{C===g.layers.size-1&&(o==null||o(T),!T.defaultPrevented&&p&&(T.preventDefault(),p()))},v),x.useEffect(()=>{if(f)return r&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(ng=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(f)),g.layers.add(f),og(),()=>{r&&g.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=ng)}},[f,v,r,g]),x.useEffect(()=>()=>{f&&(g.layers.delete(f),g.layersWithOutsidePointerEventsDisabled.delete(f),og())},[f,g]),x.useEffect(()=>{const T=()=>w({});return document.addEventListener(Rm,T),()=>document.removeEventListener(Rm,T)},[]),e.jsx(et.div,{...u,ref:y,style:{pointerEvents:_?E?"auto":"none":void 0,...t.style},onFocusCapture:Me(t.onFocusCapture,A.onFocusCapture),onBlurCapture:Me(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Me(t.onPointerDownCapture,k.onPointerDownCapture)})});go.displayName=wC;var CC="DismissableLayerBranch",B0=x.forwardRef((t,a)=>{const r=x.useContext(z0),o=x.useRef(null),i=Pt(a,o);return x.useEffect(()=>{const c=o.current;if(c)return r.branches.add(c),()=>{r.branches.delete(c)}},[r.branches]),e.jsx(et.div,{...t,ref:i})});B0.displayName=CC;function _C(t,a=globalThis==null?void 0:globalThis.document){const r=Is(t),o=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const c=p=>{if(p.target&&!o.current){let u=function(){U0(NC,r,g,{discrete:!0})};const g={originalEvent:p};p.pointerType==="touch"?(a.removeEventListener("click",i.current),i.current=u,a.addEventListener("click",i.current,{once:!0})):u()}else a.removeEventListener("click",i.current);o.current=!1},d=window.setTimeout(()=>{a.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),a.removeEventListener("pointerdown",c),a.removeEventListener("click",i.current)}},[a,r]),{onPointerDownCapture:()=>o.current=!0}}function kC(t,a=globalThis==null?void 0:globalThis.document){const r=Is(t),o=x.useRef(!1);return x.useEffect(()=>{const i=c=>{c.target&&!o.current&&U0(SC,r,{originalEvent:c},{discrete:!1})};return a.addEventListener("focusin",i),()=>a.removeEventListener("focusin",i)},[a,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function og(){const t=new CustomEvent(Rm);document.dispatchEvent(t)}function U0(t,a,r,{discrete:o}){const i=r.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});a&&i.addEventListener(t,a,{once:!0}),o?uf(i,c):i.dispatchEvent(c)}var EC=go,RC=B0,tm="focusScope.autoFocusOnMount",sm="focusScope.autoFocusOnUnmount",ig={bubbles:!1,cancelable:!0},PC="FocusScope",Fc=x.forwardRef((t,a)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:c,...d}=t,[p,u]=x.useState(null),g=Is(i),f=Is(c),h=x.useRef(null),v=Pt(a,j=>u(j)),w=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(o){let j=function(_){if(w.paused||!p)return;const E=_.target;p.contains(E)?h.current=E:zr(h.current,{select:!0})},N=function(_){if(w.paused||!p)return;const E=_.relatedTarget;E!==null&&(p.contains(E)||zr(h.current,{select:!0}))},P=function(_){if(document.activeElement===document.body)for(const k of _)k.removedNodes.length>0&&zr(p)};document.addEventListener("focusin",j),document.addEventListener("focusout",N);const C=new MutationObserver(P);return p&&C.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",N),C.disconnect()}}},[o,p,w.paused]),x.useEffect(()=>{if(p){cg.add(w);const j=document.activeElement;if(!p.contains(j)){const P=new CustomEvent(tm,ig);p.addEventListener(tm,g),p.dispatchEvent(P),P.defaultPrevented||(AC($C(V0(p)),{select:!0}),document.activeElement===j&&zr(p))}return()=>{p.removeEventListener(tm,g),setTimeout(()=>{const P=new CustomEvent(sm,ig);p.addEventListener(sm,f),p.dispatchEvent(P),P.defaultPrevented||zr(j??document.body,{select:!0}),p.removeEventListener(sm,f),cg.remove(w)},0)}}},[p,g,f,w]);const y=x.useCallback(j=>{if(!r&&!o||w.paused)return;const N=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,P=document.activeElement;if(N&&P){const C=j.currentTarget,[_,E]=TC(C);_&&E?!j.shiftKey&&P===E?(j.preventDefault(),r&&zr(_,{select:!0})):j.shiftKey&&P===_&&(j.preventDefault(),r&&zr(E,{select:!0})):P===C&&j.preventDefault()}},[r,o,w.paused]);return e.jsx(et.div,{tabIndex:-1,...d,ref:v,onKeyDown:y})});Fc.displayName=PC;function AC(t,{select:a=!1}={}){const r=document.activeElement;for(const o of t)if(zr(o,{select:a}),document.activeElement!==r)return}function TC(t){const a=V0(t),r=lg(a,t),o=lg(a.reverse(),t);return[r,o]}function V0(t){const a=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)a.push(r.currentNode);return a}function lg(t,a){for(const r of t)if(!MC(r,{upTo:a}))return r}function MC(t,{upTo:a}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(a!==void 0&&t===a)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function DC(t){return t instanceof HTMLInputElement&&"select"in t}function zr(t,{select:a=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&DC(t)&&a&&t.select()}}var cg=OC();function OC(){let t=[];return{add(a){const r=t[0];a!==r&&(r==null||r.pause()),t=dg(t,a),t.unshift(a)},remove(a){var r;t=dg(t,a),(r=t[0])==null||r.resume()}}}function dg(t,a){const r=[...t],o=r.indexOf(a);return o!==-1&&r.splice(o,1),r}function $C(t){return t.filter(a=>a.tagName!=="A")}var LC="Portal",Pi=x.forwardRef((t,a)=>{var p;const{container:r,...o}=t,[i,c]=x.useState(!1);ms(()=>c(!0),[]);const d=r||i&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return d?ON.createPortal(e.jsx(et.div,{...o,ref:a}),d):null});Pi.displayName=LC;function IC(t,a){return x.useReducer((r,o)=>a[r][o]??r,t)}var Qa=t=>{const{present:a,children:r}=t,o=FC(a),i=typeof r=="function"?r({present:o.isPresent}):x.Children.only(r),c=Pt(o.ref,zC(i));return typeof r=="function"||o.isPresent?x.cloneElement(i,{ref:c}):null};Qa.displayName="Presence";function FC(t){const[a,r]=x.useState(),o=x.useRef(null),i=x.useRef(t),c=x.useRef("none"),d=t?"mounted":"unmounted",[p,u]=IC(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const g=Zl(o.current);c.current=p==="mounted"?g:"none"},[p]),ms(()=>{const g=o.current,f=i.current;if(f!==t){const v=c.current,w=Zl(g);t?u("MOUNT"):w==="none"||(g==null?void 0:g.display)==="none"?u("UNMOUNT"):u(f&&v!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),ms(()=>{if(a){let g;const f=a.ownerDocument.defaultView??window,h=w=>{const j=Zl(o.current).includes(CSS.escape(w.animationName));if(w.target===a&&j&&(u("ANIMATION_END"),!i.current)){const N=a.style.animationFillMode;a.style.animationFillMode="forwards",g=f.setTimeout(()=>{a.style.animationFillMode==="forwards"&&(a.style.animationFillMode=N)})}},v=w=>{w.target===a&&(c.current=Zl(o.current))};return a.addEventListener("animationstart",v),a.addEventListener("animationcancel",h),a.addEventListener("animationend",h),()=>{f.clearTimeout(g),a.removeEventListener("animationstart",v),a.removeEventListener("animationcancel",h),a.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[a,u]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:x.useCallback(g=>{o.current=g?getComputedStyle(g):null,r(g)},[])}}function Zl(t){return(t==null?void 0:t.animationName)||"none"}function zC(t){var o,i;let a=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,r=a&&"isReactWarning"in a&&a.isReactWarning;return r?t.ref:(a=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=a&&"isReactWarning"in a&&a.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var am=0;function mf(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ug()),document.body.insertAdjacentElement("beforeend",t[1]??ug()),am++,()=>{am===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),am--}},[])}function ug(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ua=function(){return Ua=Object.assign||function(a){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])}return a},Ua.apply(this,arguments)};function H0(t,a){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&a.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)a.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(r[o[i]]=t[o[i]]);return r}function BC(t,a,r){if(r||arguments.length===2)for(var o=0,i=a.length,c;o<i;o++)(c||!(o in a))&&(c||(c=Array.prototype.slice.call(a,0,o)),c[o]=a[o]);return t.concat(c||Array.prototype.slice.call(a))}var dc="right-scroll-bar-position",uc="width-before-scroll-bar",UC="with-scroll-bars-hidden",VC="--removed-body-scroll-bar-size";function rm(t,a){return typeof t=="function"?t(a):t&&(t.current=a),t}function HC(t,a){var r=x.useState(function(){return{value:t,callback:a,facade:{get current(){return r.value},set current(o){var i=r.value;i!==o&&(r.value=o,r.callback(o,i))}}}})[0];return r.callback=a,r.facade}var qC=typeof window<"u"?x.useLayoutEffect:x.useEffect,mg=new WeakMap;function WC(t,a){var r=HC(null,function(o){return t.forEach(function(i){return rm(i,o)})});return qC(function(){var o=mg.get(r);if(o){var i=new Set(o),c=new Set(t),d=r.current;i.forEach(function(p){c.has(p)||rm(p,null)}),c.forEach(function(p){i.has(p)||rm(p,d)})}mg.set(r,t)},[t]),r}function GC(t){return t}function KC(t,a){a===void 0&&(a=GC);var r=[],o=!1,i={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(c){var d=a(c,o);return r.push(d),function(){r=r.filter(function(p){return p!==d})}},assignSyncMedium:function(c){for(o=!0;r.length;){var d=r;r=[],d.forEach(c)}r={push:function(p){return c(p)},filter:function(){return r}}},assignMedium:function(c){o=!0;var d=[];if(r.length){var p=r;r=[],p.forEach(c),d=r}var u=function(){var f=d;d=[],f.forEach(c)},g=function(){return Promise.resolve().then(u)};g(),r={push:function(f){d.push(f),g()},filter:function(f){return d=d.filter(f),r}}}};return i}function YC(t){t===void 0&&(t={});var a=KC(null);return a.options=Ua({async:!0,ssr:!1},t),a}var q0=function(t){var a=t.sideCar,r=H0(t,["sideCar"]);if(!a)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=a.read();if(!o)throw new Error("Sidecar medium not found");return x.createElement(o,Ua({},r))};q0.isSideCarExport=!0;function JC(t,a){return t.useMedium(a),q0}var W0=YC(),nm=function(){},zc=x.forwardRef(function(t,a){var r=x.useRef(null),o=x.useState({onScrollCapture:nm,onWheelCapture:nm,onTouchMoveCapture:nm}),i=o[0],c=o[1],d=t.forwardProps,p=t.children,u=t.className,g=t.removeScrollBar,f=t.enabled,h=t.shards,v=t.sideCar,w=t.noRelative,y=t.noIsolation,j=t.inert,N=t.allowPinchZoom,P=t.as,C=P===void 0?"div":P,_=t.gapMode,E=H0(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=v,A=WC([r,a]),T=Ua(Ua({},E),i);return x.createElement(x.Fragment,null,f&&x.createElement(k,{sideCar:W0,removeScrollBar:g,shards:h,noRelative:w,noIsolation:y,inert:j,setCallbacks:c,allowPinchZoom:!!N,lockRef:r,gapMode:_}),d?x.cloneElement(x.Children.only(p),Ua(Ua({},T),{ref:A})):x.createElement(C,Ua({},T,{className:u,ref:A}),p))});zc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zc.classNames={fullWidth:uc,zeroRight:dc};var QC=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XC(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var a=QC();return a&&t.setAttribute("nonce",a),t}function ZC(t,a){t.styleSheet?t.styleSheet.cssText=a:t.appendChild(document.createTextNode(a))}function e_(t){var a=document.head||document.getElementsByTagName("head")[0];a.appendChild(t)}var t_=function(){var t=0,a=null;return{add:function(r){t==0&&(a=XC())&&(ZC(a,r),e_(a)),t++},remove:function(){t--,!t&&a&&(a.parentNode&&a.parentNode.removeChild(a),a=null)}}},s_=function(){var t=t_();return function(a,r){x.useEffect(function(){return t.add(a),function(){t.remove()}},[a&&r])}},G0=function(){var t=s_(),a=function(r){var o=r.styles,i=r.dynamic;return t(o,i),null};return a},a_={left:0,top:0,right:0,gap:0},om=function(t){return parseInt(t||"",10)||0},r_=function(t){var a=window.getComputedStyle(document.body),r=a[t==="padding"?"paddingLeft":"marginLeft"],o=a[t==="padding"?"paddingTop":"marginTop"],i=a[t==="padding"?"paddingRight":"marginRight"];return[om(r),om(o),om(i)]},n_=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return a_;var a=r_(t),r=document.documentElement.clientWidth,o=window.innerWidth;return{left:a[0],top:a[1],right:a[2],gap:Math.max(0,o-r+a[2]-a[0])}},o_=G0(),ao="data-scroll-locked",i_=function(t,a,r,o){var i=t.left,c=t.top,d=t.right,p=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(UC,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(p,"px ").concat(o,`;
  }
  body[`).concat(ao,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([a&&"position: relative ".concat(o,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(o,`;
    `),r==="padding"&&"padding-right: ".concat(p,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dc,` {
    right: `).concat(p,"px ").concat(o,`;
  }
  
  .`).concat(uc,` {
    margin-right: `).concat(p,"px ").concat(o,`;
  }
  
  .`).concat(dc," .").concat(dc,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(uc," .").concat(uc,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(ao,`] {
    `).concat(VC,": ").concat(p,`px;
  }
`)},fg=function(){var t=parseInt(document.body.getAttribute(ao)||"0",10);return isFinite(t)?t:0},l_=function(){x.useEffect(function(){return document.body.setAttribute(ao,(fg()+1).toString()),function(){var t=fg()-1;t<=0?document.body.removeAttribute(ao):document.body.setAttribute(ao,t.toString())}},[])},c_=function(t){var a=t.noRelative,r=t.noImportant,o=t.gapMode,i=o===void 0?"margin":o;l_();var c=x.useMemo(function(){return n_(i)},[i]);return x.createElement(o_,{styles:i_(c,!a,i,r?"":"!important")})},Pm=!1;if(typeof window<"u")try{var ec=Object.defineProperty({},"passive",{get:function(){return Pm=!0,!0}});window.addEventListener("test",ec,ec),window.removeEventListener("test",ec,ec)}catch{Pm=!1}var Xn=Pm?{passive:!1}:!1,d_=function(t){return t.tagName==="TEXTAREA"},K0=function(t,a){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[a]!=="hidden"&&!(r.overflowY===r.overflowX&&!d_(t)&&r[a]==="visible")},u_=function(t){return K0(t,"overflowY")},m_=function(t){return K0(t,"overflowX")},hg=function(t,a){var r=a.ownerDocument,o=a;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var i=Y0(t,o);if(i){var c=J0(t,o),d=c[1],p=c[2];if(d>p)return!0}o=o.parentNode}while(o&&o!==r.body);return!1},f_=function(t){var a=t.scrollTop,r=t.scrollHeight,o=t.clientHeight;return[a,r,o]},h_=function(t){var a=t.scrollLeft,r=t.scrollWidth,o=t.clientWidth;return[a,r,o]},Y0=function(t,a){return t==="v"?u_(a):m_(a)},J0=function(t,a){return t==="v"?f_(a):h_(a)},p_=function(t,a){return t==="h"&&a==="rtl"?-1:1},x_=function(t,a,r,o,i){var c=p_(t,window.getComputedStyle(a).direction),d=c*o,p=r.target,u=a.contains(p),g=!1,f=d>0,h=0,v=0;do{if(!p)break;var w=J0(t,p),y=w[0],j=w[1],N=w[2],P=j-N-c*y;(y||P)&&Y0(t,p)&&(h+=P,v+=y);var C=p.parentNode;p=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!u&&p!==document.body||u&&(a.contains(p)||a===p));return(f&&Math.abs(h)<1||!f&&Math.abs(v)<1)&&(g=!0),g},tc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},pg=function(t){return[t.deltaX,t.deltaY]},xg=function(t){return t&&"current"in t?t.current:t},g_=function(t,a){return t[0]===a[0]&&t[1]===a[1]},v_=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},j_=0,Zn=[];function y_(t){var a=x.useRef([]),r=x.useRef([0,0]),o=x.useRef(),i=x.useState(j_++)[0],c=x.useState(G0)[0],d=x.useRef(t);x.useEffect(function(){d.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var j=BC([t.lockRef.current],(t.shards||[]).map(xg),!0).filter(Boolean);return j.forEach(function(N){return N.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),j.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var p=x.useCallback(function(j,N){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!d.current.allowPinchZoom;var P=tc(j),C=r.current,_="deltaX"in j?j.deltaX:C[0]-P[0],E="deltaY"in j?j.deltaY:C[1]-P[1],k,A=j.target,T=Math.abs(_)>Math.abs(E)?"h":"v";if("touches"in j&&T==="h"&&A.type==="range")return!1;var R=hg(T,A);if(!R)return!0;if(R?k=T:(k=T==="v"?"h":"v",R=hg(T,A)),!R)return!1;if(!o.current&&"changedTouches"in j&&(_||E)&&(o.current=k),!k)return!0;var I=o.current||k;return x_(I,N,j,I==="h"?_:E)},[]),u=x.useCallback(function(j){var N=j;if(!(!Zn.length||Zn[Zn.length-1]!==c)){var P="deltaY"in N?pg(N):tc(N),C=a.current.filter(function(k){return k.name===N.type&&(k.target===N.target||N.target===k.shadowParent)&&g_(k.delta,P)})[0];if(C&&C.should){N.cancelable&&N.preventDefault();return}if(!C){var _=(d.current.shards||[]).map(xg).filter(Boolean).filter(function(k){return k.contains(N.target)}),E=_.length>0?p(N,_[0]):!d.current.noIsolation;E&&N.cancelable&&N.preventDefault()}}},[]),g=x.useCallback(function(j,N,P,C){var _={name:j,delta:N,target:P,should:C,shadowParent:b_(P)};a.current.push(_),setTimeout(function(){a.current=a.current.filter(function(E){return E!==_})},1)},[]),f=x.useCallback(function(j){r.current=tc(j),o.current=void 0},[]),h=x.useCallback(function(j){g(j.type,pg(j),j.target,p(j,t.lockRef.current))},[]),v=x.useCallback(function(j){g(j.type,tc(j),j.target,p(j,t.lockRef.current))},[]);x.useEffect(function(){return Zn.push(c),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:v}),document.addEventListener("wheel",u,Xn),document.addEventListener("touchmove",u,Xn),document.addEventListener("touchstart",f,Xn),function(){Zn=Zn.filter(function(j){return j!==c}),document.removeEventListener("wheel",u,Xn),document.removeEventListener("touchmove",u,Xn),document.removeEventListener("touchstart",f,Xn)}},[]);var w=t.removeScrollBar,y=t.inert;return x.createElement(x.Fragment,null,y?x.createElement(c,{styles:v_(i)}):null,w?x.createElement(c_,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function b_(t){for(var a=null;t!==null;)t instanceof ShadowRoot&&(a=t.host,t=t.host),t=t.parentNode;return a}const w_=JC(W0,y_);var Bc=x.forwardRef(function(t,a){return x.createElement(zc,Ua({},t,{ref:a,sideCar:w_}))});Bc.classNames=zc.classNames;var N_=function(t){if(typeof document>"u")return null;var a=Array.isArray(t)?t[0]:t;return a.ownerDocument.body},eo=new WeakMap,sc=new WeakMap,ac={},im=0,Q0=function(t){return t&&(t.host||Q0(t.parentNode))},S_=function(t,a){return a.map(function(r){if(t.contains(r))return r;var o=Q0(r);return o&&t.contains(o)?o:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},C_=function(t,a,r,o){var i=S_(a,Array.isArray(t)?t:[t]);ac[r]||(ac[r]=new WeakMap);var c=ac[r],d=[],p=new Set,u=new Set(i),g=function(h){!h||p.has(h)||(p.add(h),g(h.parentNode))};i.forEach(g);var f=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(v){if(p.has(v))f(v);else try{var w=v.getAttribute(o),y=w!==null&&w!=="false",j=(eo.get(v)||0)+1,N=(c.get(v)||0)+1;eo.set(v,j),c.set(v,N),d.push(v),j===1&&y&&sc.set(v,!0),N===1&&v.setAttribute(r,"true"),y||v.setAttribute(o,"true")}catch(P){console.error("aria-hidden: cannot operate on ",v,P)}})};return f(a),p.clear(),im++,function(){d.forEach(function(h){var v=eo.get(h)-1,w=c.get(h)-1;eo.set(h,v),c.set(h,w),v||(sc.has(h)||h.removeAttribute(o),sc.delete(h)),w||h.removeAttribute(r)}),im--,im||(eo=new WeakMap,eo=new WeakMap,sc=new WeakMap,ac={})}},ff=function(t,a,r){r===void 0&&(r="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),i=N_(t);return i?(o.push.apply(o,Array.from(i.querySelectorAll("[aria-live], script"))),C_(o,i,r,"aria-hidden")):function(){return null}},Uc="Dialog",[X0,C5]=Ja(Uc),[__,Ta]=X0(Uc),Z0=t=>{const{__scopeDialog:a,children:r,open:o,defaultOpen:i,onOpenChange:c,modal:d=!0}=t,p=x.useRef(null),u=x.useRef(null),[g,f]=gn({prop:o,defaultProp:i??!1,onChange:c,caller:Uc});return e.jsx(__,{scope:a,triggerRef:p,contentRef:u,contentId:qa(),titleId:qa(),descriptionId:qa(),open:g,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:d,children:r})};Z0.displayName=Uc;var ev="DialogTrigger",tv=x.forwardRef((t,a)=>{const{__scopeDialog:r,...o}=t,i=Ta(ev,r),c=Pt(a,i.triggerRef);return e.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xf(i.open),...o,ref:c,onClick:Me(t.onClick,i.onOpenToggle)})});tv.displayName=ev;var hf="DialogPortal",[k_,sv]=X0(hf,{forceMount:void 0}),av=t=>{const{__scopeDialog:a,forceMount:r,children:o,container:i}=t,c=Ta(hf,a);return e.jsx(k_,{scope:a,forceMount:r,children:x.Children.map(o,d=>e.jsx(Qa,{present:r||c.open,children:e.jsx(Pi,{asChild:!0,container:i,children:d})}))})};av.displayName=hf;var bc="DialogOverlay",rv=x.forwardRef((t,a)=>{const r=sv(bc,t.__scopeDialog),{forceMount:o=r.forceMount,...i}=t,c=Ta(bc,t.__scopeDialog);return c.modal?e.jsx(Qa,{present:o||c.open,children:e.jsx(R_,{...i,ref:a})}):null});rv.displayName=bc;var E_=xn("DialogOverlay.RemoveScroll"),R_=x.forwardRef((t,a)=>{const{__scopeDialog:r,...o}=t,i=Ta(bc,r);return e.jsx(Bc,{as:E_,allowPinchZoom:!0,shards:[i.contentRef],children:e.jsx(et.div,{"data-state":xf(i.open),...o,ref:a,style:{pointerEvents:"auto",...o.style}})})}),vn="DialogContent",nv=x.forwardRef((t,a)=>{const r=sv(vn,t.__scopeDialog),{forceMount:o=r.forceMount,...i}=t,c=Ta(vn,t.__scopeDialog);return e.jsx(Qa,{present:o||c.open,children:c.modal?e.jsx(P_,{...i,ref:a}):e.jsx(A_,{...i,ref:a})})});nv.displayName=vn;var P_=x.forwardRef((t,a)=>{const r=Ta(vn,t.__scopeDialog),o=x.useRef(null),i=Pt(a,r.contentRef,o);return x.useEffect(()=>{const c=o.current;if(c)return ff(c)},[]),e.jsx(ov,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(t.onCloseAutoFocus,c=>{var d;c.preventDefault(),(d=r.triggerRef.current)==null||d.focus()}),onPointerDownOutside:Me(t.onPointerDownOutside,c=>{const d=c.detail.originalEvent,p=d.button===0&&d.ctrlKey===!0;(d.button===2||p)&&c.preventDefault()}),onFocusOutside:Me(t.onFocusOutside,c=>c.preventDefault())})}),A_=x.forwardRef((t,a)=>{const r=Ta(vn,t.__scopeDialog),o=x.useRef(!1),i=x.useRef(!1);return e.jsx(ov,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var d,p;(d=t.onCloseAutoFocus)==null||d.call(t,c),c.defaultPrevented||(o.current||(p=r.triggerRef.current)==null||p.focus(),c.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:c=>{var u,g;(u=t.onInteractOutside)==null||u.call(t,c),c.defaultPrevented||(o.current=!0,c.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const d=c.target;((g=r.triggerRef.current)==null?void 0:g.contains(d))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&i.current&&c.preventDefault()}})}),ov=x.forwardRef((t,a)=>{const{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:c,...d}=t,p=Ta(vn,r),u=x.useRef(null),g=Pt(a,u);return mf(),e.jsxs(e.Fragment,{children:[e.jsx(Fc,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:c,children:e.jsx(go,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":xf(p.open),...d,ref:g,onDismiss:()=>p.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(T_,{titleId:p.titleId}),e.jsx(D_,{contentRef:u,descriptionId:p.descriptionId})]})]})}),pf="DialogTitle",iv=x.forwardRef((t,a)=>{const{__scopeDialog:r,...o}=t,i=Ta(pf,r);return e.jsx(et.h2,{id:i.titleId,...o,ref:a})});iv.displayName=pf;var lv="DialogDescription",cv=x.forwardRef((t,a)=>{const{__scopeDialog:r,...o}=t,i=Ta(lv,r);return e.jsx(et.p,{id:i.descriptionId,...o,ref:a})});cv.displayName=lv;var dv="DialogClose",uv=x.forwardRef((t,a)=>{const{__scopeDialog:r,...o}=t,i=Ta(dv,r);return e.jsx(et.button,{type:"button",...o,ref:a,onClick:Me(t.onClick,()=>i.onOpenChange(!1))})});uv.displayName=dv;function xf(t){return t?"open":"closed"}var mv="DialogTitleWarning",[_5,fv]=hC(mv,{contentName:vn,titleName:pf,docsSlug:"dialog"}),T_=({titleId:t})=>{const a=fv(mv),r=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},M_="DialogDescriptionWarning",D_=({contentRef:t,descriptionId:a})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fv(M_).contentName}}.`;return x.useEffect(()=>{var c;const i=(c=t.current)==null?void 0:c.getAttribute("aria-describedby");a&&i&&(document.getElementById(a)||console.warn(o))},[o,t,a]),null},hv=Z0,O_=tv,pv=av,Vc=rv,Hc=nv,qc=iv,Wc=cv,xv=uv;const $_=hv,L_=pv,gv=x.forwardRef(({className:t,...a},r)=>e.jsx(Vc,{className:ye("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:r}));gv.displayName=Vc.displayName;const I_=Lc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),vv=x.forwardRef(({side:t="right",className:a,children:r,...o},i)=>e.jsxs(L_,{children:[e.jsx(gv,{}),e.jsxs(Hc,{ref:i,className:ye(I_({side:t}),a),...o,children:[r,e.jsxs(xv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(df,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vv.displayName=Hc.displayName;const F_=x.forwardRef(({className:t,...a},r)=>e.jsx(qc,{ref:r,className:ye("text-lg font-semibold text-foreground",t),...a}));F_.displayName=qc.displayName;const z_=x.forwardRef(({className:t,...a},r)=>e.jsx(Wc,{ref:r,className:ye("text-sm text-muted-foreground",t),...a}));z_.displayName=Wc.displayName;function it({className:t,...a}){return e.jsx("div",{className:ye("animate-pulse rounded-md bg-muted",t),...a})}const B_=["top","right","bottom","left"],Gr=Math.min,aa=Math.max,wc=Math.round,rc=Math.floor,Wa=t=>({x:t,y:t}),U_={left:"right",right:"left",bottom:"top",top:"bottom"},V_={start:"end",end:"start"};function Am(t,a,r){return aa(t,Gr(a,r))}function hr(t,a){return typeof t=="function"?t(a):t}function pr(t){return t.split("-")[0]}function vo(t){return t.split("-")[1]}function gf(t){return t==="x"?"y":"x"}function vf(t){return t==="y"?"height":"width"}const H_=new Set(["top","bottom"]);function Va(t){return H_.has(pr(t))?"y":"x"}function jf(t){return gf(Va(t))}function q_(t,a,r){r===void 0&&(r=!1);const o=vo(t),i=jf(t),c=vf(i);let d=i==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return a.reference[c]>a.floating[c]&&(d=Nc(d)),[d,Nc(d)]}function W_(t){const a=Nc(t);return[Tm(t),a,Tm(a)]}function Tm(t){return t.replace(/start|end/g,a=>V_[a])}const gg=["left","right"],vg=["right","left"],G_=["top","bottom"],K_=["bottom","top"];function Y_(t,a,r){switch(t){case"top":case"bottom":return r?a?vg:gg:a?gg:vg;case"left":case"right":return a?G_:K_;default:return[]}}function J_(t,a,r,o){const i=vo(t);let c=Y_(pr(t),r==="start",o);return i&&(c=c.map(d=>d+"-"+i),a&&(c=c.concat(c.map(Tm)))),c}function Nc(t){return t.replace(/left|right|bottom|top/g,a=>U_[a])}function Q_(t){return{top:0,right:0,bottom:0,left:0,...t}}function jv(t){return typeof t!="number"?Q_(t):{top:t,right:t,bottom:t,left:t}}function Sc(t){const{x:a,y:r,width:o,height:i}=t;return{width:o,height:i,top:r,left:a,right:a+o,bottom:r+i,x:a,y:r}}function jg(t,a,r){let{reference:o,floating:i}=t;const c=Va(a),d=jf(a),p=vf(d),u=pr(a),g=c==="y",f=o.x+o.width/2-i.width/2,h=o.y+o.height/2-i.height/2,v=o[p]/2-i[p]/2;let w;switch(u){case"top":w={x:f,y:o.y-i.height};break;case"bottom":w={x:f,y:o.y+o.height};break;case"right":w={x:o.x+o.width,y:h};break;case"left":w={x:o.x-i.width,y:h};break;default:w={x:o.x,y:o.y}}switch(vo(a)){case"start":w[d]-=v*(r&&g?-1:1);break;case"end":w[d]+=v*(r&&g?-1:1);break}return w}const X_=async(t,a,r)=>{const{placement:o="bottom",strategy:i="absolute",middleware:c=[],platform:d}=r,p=c.filter(Boolean),u=await(d.isRTL==null?void 0:d.isRTL(a));let g=await d.getElementRects({reference:t,floating:a,strategy:i}),{x:f,y:h}=jg(g,o,u),v=o,w={},y=0;for(let j=0;j<p.length;j++){const{name:N,fn:P}=p[j],{x:C,y:_,data:E,reset:k}=await P({x:f,y:h,initialPlacement:o,placement:v,strategy:i,middlewareData:w,rects:g,platform:d,elements:{reference:t,floating:a}});f=C??f,h=_??h,w={...w,[N]:{...w[N],...E}},k&&y<=50&&(y++,typeof k=="object"&&(k.placement&&(v=k.placement),k.rects&&(g=k.rects===!0?await d.getElementRects({reference:t,floating:a,strategy:i}):k.rects),{x:f,y:h}=jg(g,v,u)),j=-1)}return{x:f,y:h,placement:v,strategy:i,middlewareData:w}};async function yi(t,a){var r;a===void 0&&(a={});const{x:o,y:i,platform:c,rects:d,elements:p,strategy:u}=t,{boundary:g="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:v=!1,padding:w=0}=hr(a,t),y=jv(w),N=p[v?h==="floating"?"reference":"floating":h],P=Sc(await c.getClippingRect({element:(r=await(c.isElement==null?void 0:c.isElement(N)))==null||r?N:N.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(p.floating)),boundary:g,rootBoundary:f,strategy:u})),C=h==="floating"?{x:o,y:i,width:d.floating.width,height:d.floating.height}:d.reference,_=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p.floating)),E=await(c.isElement==null?void 0:c.isElement(_))?await(c.getScale==null?void 0:c.getScale(_))||{x:1,y:1}:{x:1,y:1},k=Sc(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:C,offsetParent:_,strategy:u}):C);return{top:(P.top-k.top+y.top)/E.y,bottom:(k.bottom-P.bottom+y.bottom)/E.y,left:(P.left-k.left+y.left)/E.x,right:(k.right-P.right+y.right)/E.x}}const Z_=t=>({name:"arrow",options:t,async fn(a){const{x:r,y:o,placement:i,rects:c,platform:d,elements:p,middlewareData:u}=a,{element:g,padding:f=0}=hr(t,a)||{};if(g==null)return{};const h=jv(f),v={x:r,y:o},w=jf(i),y=vf(w),j=await d.getDimensions(g),N=w==="y",P=N?"top":"left",C=N?"bottom":"right",_=N?"clientHeight":"clientWidth",E=c.reference[y]+c.reference[w]-v[w]-c.floating[y],k=v[w]-c.reference[w],A=await(d.getOffsetParent==null?void 0:d.getOffsetParent(g));let T=A?A[_]:0;(!T||!await(d.isElement==null?void 0:d.isElement(A)))&&(T=p.floating[_]||c.floating[y]);const R=E/2-k/2,I=T/2-j[y]/2-1,L=Gr(h[P],I),B=Gr(h[C],I),G=L,F=T-j[y]-B,M=T/2-j[y]/2+R,K=Am(G,M,F),$=!u.arrow&&vo(i)!=null&&M!==K&&c.reference[y]/2-(M<G?L:B)-j[y]/2<0,z=$?M<G?M-G:M-F:0;return{[w]:v[w]+z,data:{[w]:K,centerOffset:M-K-z,...$&&{alignmentOffset:z}},reset:$}}}),ek=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(a){var r,o;const{placement:i,middlewareData:c,rects:d,initialPlacement:p,platform:u,elements:g}=a,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:j=!0,...N}=hr(t,a);if((r=c.arrow)!=null&&r.alignmentOffset)return{};const P=pr(i),C=Va(p),_=pr(p)===p,E=await(u.isRTL==null?void 0:u.isRTL(g.floating)),k=v||(_||!j?[Nc(p)]:W_(p)),A=y!=="none";!v&&A&&k.push(...J_(p,j,y,E));const T=[p,...k],R=await yi(a,N),I=[];let L=((o=c.flip)==null?void 0:o.overflows)||[];if(f&&I.push(R[P]),h){const M=q_(i,d,E);I.push(R[M[0]],R[M[1]])}if(L=[...L,{placement:i,overflows:I}],!I.every(M=>M<=0)){var B,G;const M=(((B=c.flip)==null?void 0:B.index)||0)+1,K=T[M];if(K&&(!(h==="alignment"?C!==Va(K):!1)||L.every(q=>Va(q.placement)===C?q.overflows[0]>0:!0)))return{data:{index:M,overflows:L},reset:{placement:K}};let $=(G=L.filter(z=>z.overflows[0]<=0).sort((z,q)=>z.overflows[1]-q.overflows[1])[0])==null?void 0:G.placement;if(!$)switch(w){case"bestFit":{var F;const z=(F=L.filter(q=>{if(A){const Y=Va(q.placement);return Y===C||Y==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(Y=>Y>0).reduce((Y,ee)=>Y+ee,0)]).sort((q,Y)=>q[1]-Y[1])[0])==null?void 0:F[0];z&&($=z);break}case"initialPlacement":$=p;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function yg(t,a){return{top:t.top-a.height,right:t.right-a.width,bottom:t.bottom-a.height,left:t.left-a.width}}function bg(t){return B_.some(a=>t[a]>=0)}const tk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(a){const{rects:r}=a,{strategy:o="referenceHidden",...i}=hr(t,a);switch(o){case"referenceHidden":{const c=await yi(a,{...i,elementContext:"reference"}),d=yg(c,r.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:bg(d)}}}case"escaped":{const c=await yi(a,{...i,altBoundary:!0}),d=yg(c,r.floating);return{data:{escapedOffsets:d,escaped:bg(d)}}}default:return{}}}}},yv=new Set(["left","top"]);async function sk(t,a){const{placement:r,platform:o,elements:i}=t,c=await(o.isRTL==null?void 0:o.isRTL(i.floating)),d=pr(r),p=vo(r),u=Va(r)==="y",g=yv.has(d)?-1:1,f=c&&u?-1:1,h=hr(a,t);let{mainAxis:v,crossAxis:w,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return p&&typeof y=="number"&&(w=p==="end"?y*-1:y),u?{x:w*f,y:v*g}:{x:v*g,y:w*f}}const ak=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(a){var r,o;const{x:i,y:c,placement:d,middlewareData:p}=a,u=await sk(a,t);return d===((r=p.offset)==null?void 0:r.placement)&&(o=p.arrow)!=null&&o.alignmentOffset?{}:{x:i+u.x,y:c+u.y,data:{...u,placement:d}}}}},rk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(a){const{x:r,y:o,placement:i}=a,{mainAxis:c=!0,crossAxis:d=!1,limiter:p={fn:N=>{let{x:P,y:C}=N;return{x:P,y:C}}},...u}=hr(t,a),g={x:r,y:o},f=await yi(a,u),h=Va(pr(i)),v=gf(h);let w=g[v],y=g[h];if(c){const N=v==="y"?"top":"left",P=v==="y"?"bottom":"right",C=w+f[N],_=w-f[P];w=Am(C,w,_)}if(d){const N=h==="y"?"top":"left",P=h==="y"?"bottom":"right",C=y+f[N],_=y-f[P];y=Am(C,y,_)}const j=p.fn({...a,[v]:w,[h]:y});return{...j,data:{x:j.x-r,y:j.y-o,enabled:{[v]:c,[h]:d}}}}}},nk=function(t){return t===void 0&&(t={}),{options:t,fn(a){const{x:r,y:o,placement:i,rects:c,middlewareData:d}=a,{offset:p=0,mainAxis:u=!0,crossAxis:g=!0}=hr(t,a),f={x:r,y:o},h=Va(i),v=gf(h);let w=f[v],y=f[h];const j=hr(p,a),N=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(u){const _=v==="y"?"height":"width",E=c.reference[v]-c.floating[_]+N.mainAxis,k=c.reference[v]+c.reference[_]-N.mainAxis;w<E?w=E:w>k&&(w=k)}if(g){var P,C;const _=v==="y"?"width":"height",E=yv.has(pr(i)),k=c.reference[h]-c.floating[_]+(E&&((P=d.offset)==null?void 0:P[h])||0)+(E?0:N.crossAxis),A=c.reference[h]+c.reference[_]+(E?0:((C=d.offset)==null?void 0:C[h])||0)-(E?N.crossAxis:0);y<k?y=k:y>A&&(y=A)}return{[v]:w,[h]:y}}}},ok=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(a){var r,o;const{placement:i,rects:c,platform:d,elements:p}=a,{apply:u=()=>{},...g}=hr(t,a),f=await yi(a,g),h=pr(i),v=vo(i),w=Va(i)==="y",{width:y,height:j}=c.floating;let N,P;h==="top"||h==="bottom"?(N=h,P=v===(await(d.isRTL==null?void 0:d.isRTL(p.floating))?"start":"end")?"left":"right"):(P=h,N=v==="end"?"top":"bottom");const C=j-f.top-f.bottom,_=y-f.left-f.right,E=Gr(j-f[N],C),k=Gr(y-f[P],_),A=!a.middlewareData.shift;let T=E,R=k;if((r=a.middlewareData.shift)!=null&&r.enabled.x&&(R=_),(o=a.middlewareData.shift)!=null&&o.enabled.y&&(T=C),A&&!v){const L=aa(f.left,0),B=aa(f.right,0),G=aa(f.top,0),F=aa(f.bottom,0);w?R=y-2*(L!==0||B!==0?L+B:aa(f.left,f.right)):T=j-2*(G!==0||F!==0?G+F:aa(f.top,f.bottom))}await u({...a,availableWidth:R,availableHeight:T});const I=await d.getDimensions(p.floating);return y!==I.width||j!==I.height?{reset:{rects:!0}}:{}}}};function Gc(){return typeof window<"u"}function jo(t){return bv(t)?(t.nodeName||"").toLowerCase():"#document"}function oa(t){var a;return(t==null||(a=t.ownerDocument)==null?void 0:a.defaultView)||window}function Xa(t){var a;return(a=(bv(t)?t.ownerDocument:t.document)||window.document)==null?void 0:a.documentElement}function bv(t){return Gc()?t instanceof Node||t instanceof oa(t).Node:!1}function Ra(t){return Gc()?t instanceof Element||t instanceof oa(t).Element:!1}function Ka(t){return Gc()?t instanceof HTMLElement||t instanceof oa(t).HTMLElement:!1}function wg(t){return!Gc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof oa(t).ShadowRoot}const ik=new Set(["inline","contents"]);function Ai(t){const{overflow:a,overflowX:r,overflowY:o,display:i}=Pa(t);return/auto|scroll|overlay|hidden|clip/.test(a+o+r)&&!ik.has(i)}const lk=new Set(["table","td","th"]);function ck(t){return lk.has(jo(t))}const dk=[":popover-open",":modal"];function Kc(t){return dk.some(a=>{try{return t.matches(a)}catch{return!1}})}const uk=["transform","translate","scale","rotate","perspective"],mk=["transform","translate","scale","rotate","perspective","filter"],fk=["paint","layout","strict","content"];function yf(t){const a=bf(),r=Ra(t)?Pa(t):t;return uk.some(o=>r[o]?r[o]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!a&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!a&&(r.filter?r.filter!=="none":!1)||mk.some(o=>(r.willChange||"").includes(o))||fk.some(o=>(r.contain||"").includes(o))}function hk(t){let a=Kr(t);for(;Ka(a)&&!io(a);){if(yf(a))return a;if(Kc(a))return null;a=Kr(a)}return null}function bf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pk=new Set(["html","body","#document"]);function io(t){return pk.has(jo(t))}function Pa(t){return oa(t).getComputedStyle(t)}function Yc(t){return Ra(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Kr(t){if(jo(t)==="html")return t;const a=t.assignedSlot||t.parentNode||wg(t)&&t.host||Xa(t);return wg(a)?a.host:a}function wv(t){const a=Kr(t);return io(a)?t.ownerDocument?t.ownerDocument.body:t.body:Ka(a)&&Ai(a)?a:wv(a)}function bi(t,a,r){var o;a===void 0&&(a=[]),r===void 0&&(r=!0);const i=wv(t),c=i===((o=t.ownerDocument)==null?void 0:o.body),d=oa(i);if(c){const p=Mm(d);return a.concat(d,d.visualViewport||[],Ai(i)?i:[],p&&r?bi(p):[])}return a.concat(i,bi(i,[],r))}function Mm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Nv(t){const a=Pa(t);let r=parseFloat(a.width)||0,o=parseFloat(a.height)||0;const i=Ka(t),c=i?t.offsetWidth:r,d=i?t.offsetHeight:o,p=wc(r)!==c||wc(o)!==d;return p&&(r=c,o=d),{width:r,height:o,$:p}}function wf(t){return Ra(t)?t:t.contextElement}function ro(t){const a=wf(t);if(!Ka(a))return Wa(1);const r=a.getBoundingClientRect(),{width:o,height:i,$:c}=Nv(a);let d=(c?wc(r.width):r.width)/o,p=(c?wc(r.height):r.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!p||!Number.isFinite(p))&&(p=1),{x:d,y:p}}const xk=Wa(0);function Sv(t){const a=oa(t);return!bf()||!a.visualViewport?xk:{x:a.visualViewport.offsetLeft,y:a.visualViewport.offsetTop}}function gk(t,a,r){return a===void 0&&(a=!1),!r||a&&r!==oa(t)?!1:a}function jn(t,a,r,o){a===void 0&&(a=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),c=wf(t);let d=Wa(1);a&&(o?Ra(o)&&(d=ro(o)):d=ro(t));const p=gk(c,r,o)?Sv(c):Wa(0);let u=(i.left+p.x)/d.x,g=(i.top+p.y)/d.y,f=i.width/d.x,h=i.height/d.y;if(c){const v=oa(c),w=o&&Ra(o)?oa(o):o;let y=v,j=Mm(y);for(;j&&o&&w!==y;){const N=ro(j),P=j.getBoundingClientRect(),C=Pa(j),_=P.left+(j.clientLeft+parseFloat(C.paddingLeft))*N.x,E=P.top+(j.clientTop+parseFloat(C.paddingTop))*N.y;u*=N.x,g*=N.y,f*=N.x,h*=N.y,u+=_,g+=E,y=oa(j),j=Mm(y)}}return Sc({width:f,height:h,x:u,y:g})}function Nf(t,a){const r=Yc(t).scrollLeft;return a?a.left+r:jn(Xa(t)).left+r}function Cv(t,a,r){r===void 0&&(r=!1);const o=t.getBoundingClientRect(),i=o.left+a.scrollLeft-(r?0:Nf(t,o)),c=o.top+a.scrollTop;return{x:i,y:c}}function vk(t){let{elements:a,rect:r,offsetParent:o,strategy:i}=t;const c=i==="fixed",d=Xa(o),p=a?Kc(a.floating):!1;if(o===d||p&&c)return r;let u={scrollLeft:0,scrollTop:0},g=Wa(1);const f=Wa(0),h=Ka(o);if((h||!h&&!c)&&((jo(o)!=="body"||Ai(d))&&(u=Yc(o)),Ka(o))){const w=jn(o);g=ro(o),f.x=w.x+o.clientLeft,f.y=w.y+o.clientTop}const v=d&&!h&&!c?Cv(d,u,!0):Wa(0);return{width:r.width*g.x,height:r.height*g.y,x:r.x*g.x-u.scrollLeft*g.x+f.x+v.x,y:r.y*g.y-u.scrollTop*g.y+f.y+v.y}}function jk(t){return Array.from(t.getClientRects())}function yk(t){const a=Xa(t),r=Yc(t),o=t.ownerDocument.body,i=aa(a.scrollWidth,a.clientWidth,o.scrollWidth,o.clientWidth),c=aa(a.scrollHeight,a.clientHeight,o.scrollHeight,o.clientHeight);let d=-r.scrollLeft+Nf(t);const p=-r.scrollTop;return Pa(o).direction==="rtl"&&(d+=aa(a.clientWidth,o.clientWidth)-i),{width:i,height:c,x:d,y:p}}function bk(t,a){const r=oa(t),o=Xa(t),i=r.visualViewport;let c=o.clientWidth,d=o.clientHeight,p=0,u=0;if(i){c=i.width,d=i.height;const g=bf();(!g||g&&a==="fixed")&&(p=i.offsetLeft,u=i.offsetTop)}return{width:c,height:d,x:p,y:u}}const wk=new Set(["absolute","fixed"]);function Nk(t,a){const r=jn(t,!0,a==="fixed"),o=r.top+t.clientTop,i=r.left+t.clientLeft,c=Ka(t)?ro(t):Wa(1),d=t.clientWidth*c.x,p=t.clientHeight*c.y,u=i*c.x,g=o*c.y;return{width:d,height:p,x:u,y:g}}function Ng(t,a,r){let o;if(a==="viewport")o=bk(t,r);else if(a==="document")o=yk(Xa(t));else if(Ra(a))o=Nk(a,r);else{const i=Sv(t);o={x:a.x-i.x,y:a.y-i.y,width:a.width,height:a.height}}return Sc(o)}function _v(t,a){const r=Kr(t);return r===a||!Ra(r)||io(r)?!1:Pa(r).position==="fixed"||_v(r,a)}function Sk(t,a){const r=a.get(t);if(r)return r;let o=bi(t,[],!1).filter(p=>Ra(p)&&jo(p)!=="body"),i=null;const c=Pa(t).position==="fixed";let d=c?Kr(t):t;for(;Ra(d)&&!io(d);){const p=Pa(d),u=yf(d);!u&&p.position==="fixed"&&(i=null),(c?!u&&!i:!u&&p.position==="static"&&!!i&&wk.has(i.position)||Ai(d)&&!u&&_v(t,d))?o=o.filter(f=>f!==d):i=p,d=Kr(d)}return a.set(t,o),o}function Ck(t){let{element:a,boundary:r,rootBoundary:o,strategy:i}=t;const d=[...r==="clippingAncestors"?Kc(a)?[]:Sk(a,this._c):[].concat(r),o],p=d[0],u=d.reduce((g,f)=>{const h=Ng(a,f,i);return g.top=aa(h.top,g.top),g.right=Gr(h.right,g.right),g.bottom=Gr(h.bottom,g.bottom),g.left=aa(h.left,g.left),g},Ng(a,p,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function _k(t){const{width:a,height:r}=Nv(t);return{width:a,height:r}}function kk(t,a,r){const o=Ka(a),i=Xa(a),c=r==="fixed",d=jn(t,!0,c,a);let p={scrollLeft:0,scrollTop:0};const u=Wa(0);function g(){u.x=Nf(i)}if(o||!o&&!c)if((jo(a)!=="body"||Ai(i))&&(p=Yc(a)),o){const w=jn(a,!0,c,a);u.x=w.x+a.clientLeft,u.y=w.y+a.clientTop}else i&&g();c&&!o&&i&&g();const f=i&&!o&&!c?Cv(i,p):Wa(0),h=d.left+p.scrollLeft-u.x-f.x,v=d.top+p.scrollTop-u.y-f.y;return{x:h,y:v,width:d.width,height:d.height}}function lm(t){return Pa(t).position==="static"}function Sg(t,a){if(!Ka(t)||Pa(t).position==="fixed")return null;if(a)return a(t);let r=t.offsetParent;return Xa(t)===r&&(r=r.ownerDocument.body),r}function kv(t,a){const r=oa(t);if(Kc(t))return r;if(!Ka(t)){let i=Kr(t);for(;i&&!io(i);){if(Ra(i)&&!lm(i))return i;i=Kr(i)}return r}let o=Sg(t,a);for(;o&&ck(o)&&lm(o);)o=Sg(o,a);return o&&io(o)&&lm(o)&&!yf(o)?r:o||hk(t)||r}const Ek=async function(t){const a=this.getOffsetParent||kv,r=this.getDimensions,o=await r(t.floating);return{reference:kk(t.reference,await a(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Rk(t){return Pa(t).direction==="rtl"}const Pk={convertOffsetParentRelativeRectToViewportRelativeRect:vk,getDocumentElement:Xa,getClippingRect:Ck,getOffsetParent:kv,getElementRects:Ek,getClientRects:jk,getDimensions:_k,getScale:ro,isElement:Ra,isRTL:Rk};function Ev(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height}function Ak(t,a){let r=null,o;const i=Xa(t);function c(){var p;clearTimeout(o),(p=r)==null||p.disconnect(),r=null}function d(p,u){p===void 0&&(p=!1),u===void 0&&(u=1),c();const g=t.getBoundingClientRect(),{left:f,top:h,width:v,height:w}=g;if(p||a(),!v||!w)return;const y=rc(h),j=rc(i.clientWidth-(f+v)),N=rc(i.clientHeight-(h+w)),P=rc(f),_={rootMargin:-y+"px "+-j+"px "+-N+"px "+-P+"px",threshold:aa(0,Gr(1,u))||1};let E=!0;function k(A){const T=A[0].intersectionRatio;if(T!==u){if(!E)return d();T?d(!1,T):o=setTimeout(()=>{d(!1,1e-7)},1e3)}T===1&&!Ev(g,t.getBoundingClientRect())&&d(),E=!1}try{r=new IntersectionObserver(k,{..._,root:i.ownerDocument})}catch{r=new IntersectionObserver(k,_)}r.observe(t)}return d(!0),c}function Tk(t,a,r,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:u=!1}=o,g=wf(t),f=i||c?[...g?bi(g):[],...bi(a)]:[];f.forEach(P=>{i&&P.addEventListener("scroll",r,{passive:!0}),c&&P.addEventListener("resize",r)});const h=g&&p?Ak(g,r):null;let v=-1,w=null;d&&(w=new ResizeObserver(P=>{let[C]=P;C&&C.target===g&&w&&(w.unobserve(a),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var _;(_=w)==null||_.observe(a)})),r()}),g&&!u&&w.observe(g),w.observe(a));let y,j=u?jn(t):null;u&&N();function N(){const P=jn(t);j&&!Ev(j,P)&&r(),j=P,y=requestAnimationFrame(N)}return r(),()=>{var P;f.forEach(C=>{i&&C.removeEventListener("scroll",r),c&&C.removeEventListener("resize",r)}),h==null||h(),(P=w)==null||P.disconnect(),w=null,u&&cancelAnimationFrame(y)}}const Mk=ak,Dk=rk,Ok=ek,$k=ok,Lk=tk,Cg=Z_,Ik=nk,Fk=(t,a,r)=>{const o=new Map,i={platform:Pk,...r},c={...i.platform,_c:o};return X_(t,a,{...i,platform:c})};var zk=typeof document<"u",Bk=function(){},mc=zk?x.useLayoutEffect:Bk;function Cc(t,a){if(t===a)return!0;if(typeof t!=typeof a)return!1;if(typeof t=="function"&&t.toString()===a.toString())return!0;let r,o,i;if(t&&a&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==a.length)return!1;for(o=r;o--!==0;)if(!Cc(t[o],a[o]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(a).length)return!1;for(o=r;o--!==0;)if(!{}.hasOwnProperty.call(a,i[o]))return!1;for(o=r;o--!==0;){const c=i[o];if(!(c==="_owner"&&t.$$typeof)&&!Cc(t[c],a[c]))return!1}return!0}return t!==t&&a!==a}function Rv(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _g(t,a){const r=Rv(t);return Math.round(a*r)/r}function cm(t){const a=x.useRef(t);return mc(()=>{a.current=t}),a}function Uk(t){t===void 0&&(t={});const{placement:a="bottom",strategy:r="absolute",middleware:o=[],platform:i,elements:{reference:c,floating:d}={},transform:p=!0,whileElementsMounted:u,open:g}=t,[f,h]=x.useState({x:0,y:0,strategy:r,placement:a,middlewareData:{},isPositioned:!1}),[v,w]=x.useState(o);Cc(v,o)||w(o);const[y,j]=x.useState(null),[N,P]=x.useState(null),C=x.useCallback(q=>{q!==A.current&&(A.current=q,j(q))},[]),_=x.useCallback(q=>{q!==T.current&&(T.current=q,P(q))},[]),E=c||y,k=d||N,A=x.useRef(null),T=x.useRef(null),R=x.useRef(f),I=u!=null,L=cm(u),B=cm(i),G=cm(g),F=x.useCallback(()=>{if(!A.current||!T.current)return;const q={placement:a,strategy:r,middleware:v};B.current&&(q.platform=B.current),Fk(A.current,T.current,q).then(Y=>{const ee={...Y,isPositioned:G.current!==!1};M.current&&!Cc(R.current,ee)&&(R.current=ee,co.flushSync(()=>{h(ee)}))})},[v,a,r,B,G]);mc(()=>{g===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(q=>({...q,isPositioned:!1})))},[g]);const M=x.useRef(!1);mc(()=>(M.current=!0,()=>{M.current=!1}),[]),mc(()=>{if(E&&(A.current=E),k&&(T.current=k),E&&k){if(L.current)return L.current(E,k,F);F()}},[E,k,F,L,I]);const K=x.useMemo(()=>({reference:A,floating:T,setReference:C,setFloating:_}),[C,_]),$=x.useMemo(()=>({reference:E,floating:k}),[E,k]),z=x.useMemo(()=>{const q={position:r,left:0,top:0};if(!$.floating)return q;const Y=_g($.floating,f.x),ee=_g($.floating,f.y);return p?{...q,transform:"translate("+Y+"px, "+ee+"px)",...Rv($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Y,top:ee}},[r,p,$.floating,f.x,f.y]);return x.useMemo(()=>({...f,update:F,refs:K,elements:$,floatingStyles:z}),[f,F,K,$,z])}const Vk=t=>{function a(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:o,padding:i}=typeof t=="function"?t(r):t;return o&&a(o)?o.current!=null?Cg({element:o.current,padding:i}).fn(r):{}:o?Cg({element:o,padding:i}).fn(r):{}}}},Hk=(t,a)=>({...Mk(t),options:[t,a]}),qk=(t,a)=>({...Dk(t),options:[t,a]}),Wk=(t,a)=>({...Ik(t),options:[t,a]}),Gk=(t,a)=>({...Ok(t),options:[t,a]}),Kk=(t,a)=>({...$k(t),options:[t,a]}),Yk=(t,a)=>({...Lk(t),options:[t,a]}),Jk=(t,a)=>({...Vk(t),options:[t,a]});var Qk="Arrow",Pv=x.forwardRef((t,a)=>{const{children:r,width:o=10,height:i=5,...c}=t;return e.jsx(et.svg,{...c,ref:a,width:o,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});Pv.displayName=Qk;var Xk=Pv;function Zk(t){const[a,r]=x.useState(void 0);return ms(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const c=i[0];let d,p;if("borderBoxSize"in c){const u=c.borderBoxSize,g=Array.isArray(u)?u[0]:u;d=g.inlineSize,p=g.blockSize}else d=t.offsetWidth,p=t.offsetHeight;r({width:d,height:p})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else r(void 0)},[t]),a}var Sf="Popper",[Av,yo]=Ja(Sf),[eE,Tv]=Av(Sf),Mv=t=>{const{__scopePopper:a,children:r}=t,[o,i]=x.useState(null);return e.jsx(eE,{scope:a,anchor:o,onAnchorChange:i,children:r})};Mv.displayName=Sf;var Dv="PopperAnchor",Ov=x.forwardRef((t,a)=>{const{__scopePopper:r,virtualRef:o,...i}=t,c=Tv(Dv,r),d=x.useRef(null),p=Pt(a,d),u=x.useRef(null);return x.useEffect(()=>{const g=u.current;u.current=(o==null?void 0:o.current)||d.current,g!==u.current&&c.onAnchorChange(u.current)}),o?null:e.jsx(et.div,{...i,ref:p})});Ov.displayName=Dv;var Cf="PopperContent",[tE,sE]=Av(Cf),$v=x.forwardRef((t,a)=>{var te,oe,ge,be,Ee,Ae;const{__scopePopper:r,side:o="bottom",sideOffset:i=0,align:c="center",alignOffset:d=0,arrowPadding:p=0,avoidCollisions:u=!0,collisionBoundary:g=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:y,...j}=t,N=Tv(Cf,r),[P,C]=x.useState(null),_=Pt(a,We=>C(We)),[E,k]=x.useState(null),A=Zk(E),T=(A==null?void 0:A.width)??0,R=(A==null?void 0:A.height)??0,I=o+(c!=="center"?"-"+c:""),L=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},B=Array.isArray(g)?g:[g],G=B.length>0,F={padding:L,boundary:B.filter(rE),altBoundary:G},{refs:M,floatingStyles:K,placement:$,isPositioned:z,middlewareData:q}=Uk({strategy:"fixed",placement:I,whileElementsMounted:(...We)=>Tk(...We,{animationFrame:w==="always"}),elements:{reference:N.anchor},middleware:[Hk({mainAxis:i+R,alignmentAxis:d}),u&&qk({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Wk():void 0,...F}),u&&Gk({...F}),Kk({...F,apply:({elements:We,rects:rt,availableWidth:kt,availableHeight:jt})=>{const{width:Lt,height:dt}=rt.reference,At=We.floating.style;At.setProperty("--radix-popper-available-width",`${kt}px`),At.setProperty("--radix-popper-available-height",`${jt}px`),At.setProperty("--radix-popper-anchor-width",`${Lt}px`),At.setProperty("--radix-popper-anchor-height",`${dt}px`)}}),E&&Jk({element:E,padding:p}),nE({arrowWidth:T,arrowHeight:R}),v&&Yk({strategy:"referenceHidden",...F})]}),[Y,ee]=Fv($),D=Is(y);ms(()=>{z&&(D==null||D())},[z,D]);const H=(te=q.arrow)==null?void 0:te.x,ae=(oe=q.arrow)==null?void 0:oe.y,V=((ge=q.arrow)==null?void 0:ge.centerOffset)!==0,[U,Q]=x.useState();return ms(()=>{P&&Q(window.getComputedStyle(P).zIndex)},[P]),e.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:z?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:U,"--radix-popper-transform-origin":[(be=q.transformOrigin)==null?void 0:be.x,(Ee=q.transformOrigin)==null?void 0:Ee.y].join(" "),...((Ae=q.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(tE,{scope:r,placedSide:Y,onArrowChange:k,arrowX:H,arrowY:ae,shouldHideArrow:V,children:e.jsx(et.div,{"data-side":Y,"data-align":ee,...j,ref:_,style:{...j.style,animation:z?void 0:"none"}})})})});$v.displayName=Cf;var Lv="PopperArrow",aE={top:"bottom",right:"left",bottom:"top",left:"right"},Iv=x.forwardRef(function(a,r){const{__scopePopper:o,...i}=a,c=sE(Lv,o),d=aE[c.placedSide];return e.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:e.jsx(Xk,{...i,ref:r,style:{...i.style,display:"block"}})})});Iv.displayName=Lv;function rE(t){return t!==null}var nE=t=>({name:"transformOrigin",options:t,fn(a){var N,P,C;const{placement:r,rects:o,middlewareData:i}=a,d=((N=i.arrow)==null?void 0:N.centerOffset)!==0,p=d?0:t.arrowWidth,u=d?0:t.arrowHeight,[g,f]=Fv(r),h={start:"0%",center:"50%",end:"100%"}[f],v=(((P=i.arrow)==null?void 0:P.x)??0)+p/2,w=(((C=i.arrow)==null?void 0:C.y)??0)+u/2;let y="",j="";return g==="bottom"?(y=d?h:`${v}px`,j=`${-u}px`):g==="top"?(y=d?h:`${v}px`,j=`${o.floating.height+u}px`):g==="right"?(y=`${-u}px`,j=d?h:`${w}px`):g==="left"&&(y=`${o.floating.width+u}px`,j=d?h:`${w}px`),{data:{x:y,y:j}}}});function Fv(t){const[a,r="center"]=t.split("-");return[a,r]}var _f=Mv,kf=Ov,Ef=$v,Rf=Iv,zv=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),oE="VisuallyHidden",Jc=x.forwardRef((t,a)=>e.jsx(et.span,{...t,ref:a,style:{...zv,...t.style}}));Jc.displayName=oE;var iE=Jc,[Qc,k5]=Ja("Tooltip",[yo]),Xc=yo(),Bv="TooltipProvider",lE=700,Dm="tooltip.open",[cE,Pf]=Qc(Bv),Uv=t=>{const{__scopeTooltip:a,delayDuration:r=lE,skipDelayDuration:o=300,disableHoverableContent:i=!1,children:c}=t,d=x.useRef(!0),p=x.useRef(!1),u=x.useRef(0);return x.useEffect(()=>{const g=u.current;return()=>window.clearTimeout(g)},[]),e.jsx(cE,{scope:a,isOpenDelayedRef:d,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(u.current),d.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>d.current=!0,o)},[o]),isPointerInTransitRef:p,onPointerInTransitChange:x.useCallback(g=>{p.current=g},[]),disableHoverableContent:i,children:c})};Uv.displayName=Bv;var wi="Tooltip",[dE,Zc]=Qc(wi),Vv=t=>{const{__scopeTooltip:a,children:r,open:o,defaultOpen:i,onOpenChange:c,disableHoverableContent:d,delayDuration:p}=t,u=Pf(wi,t.__scopeTooltip),g=Xc(a),[f,h]=x.useState(null),v=qa(),w=x.useRef(0),y=d??u.disableHoverableContent,j=p??u.delayDuration,N=x.useRef(!1),[P,C]=gn({prop:o,defaultProp:i??!1,onChange:T=>{T?(u.onOpen(),document.dispatchEvent(new CustomEvent(Dm))):u.onClose(),c==null||c(T)},caller:wi}),_=x.useMemo(()=>P?N.current?"delayed-open":"instant-open":"closed",[P]),E=x.useCallback(()=>{window.clearTimeout(w.current),w.current=0,N.current=!1,C(!0)},[C]),k=x.useCallback(()=>{window.clearTimeout(w.current),w.current=0,C(!1)},[C]),A=x.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{N.current=!0,C(!0),w.current=0},j)},[j,C]);return x.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),e.jsx(_f,{...g,children:e.jsx(dE,{scope:a,contentId:v,open:P,stateAttribute:_,trigger:f,onTriggerChange:h,onTriggerEnter:x.useCallback(()=>{u.isOpenDelayedRef.current?A():E()},[u.isOpenDelayedRef,A,E]),onTriggerLeave:x.useCallback(()=>{y?k():(window.clearTimeout(w.current),w.current=0)},[k,y]),onOpen:E,onClose:k,disableHoverableContent:y,children:r})})};Vv.displayName=wi;var Om="TooltipTrigger",Hv=x.forwardRef((t,a)=>{const{__scopeTooltip:r,...o}=t,i=Zc(Om,r),c=Pf(Om,r),d=Xc(r),p=x.useRef(null),u=Pt(a,p,i.onTriggerChange),g=x.useRef(!1),f=x.useRef(!1),h=x.useCallback(()=>g.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),e.jsx(kf,{asChild:!0,...d,children:e.jsx(et.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...o,ref:u,onPointerMove:Me(t.onPointerMove,v=>{v.pointerType!=="touch"&&!f.current&&!c.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Me(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Me(t.onPointerDown,()=>{i.open&&i.onClose(),g.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Me(t.onFocus,()=>{g.current||i.onOpen()}),onBlur:Me(t.onBlur,i.onClose),onClick:Me(t.onClick,i.onClose)})})});Hv.displayName=Om;var uE="TooltipPortal",[E5,mE]=Qc(uE,{forceMount:void 0}),lo="TooltipContent",qv=x.forwardRef((t,a)=>{const r=mE(lo,t.__scopeTooltip),{forceMount:o=r.forceMount,side:i="top",...c}=t,d=Zc(lo,t.__scopeTooltip);return e.jsx(Qa,{present:o||d.open,children:d.disableHoverableContent?e.jsx(Wv,{side:i,...c,ref:a}):e.jsx(fE,{side:i,...c,ref:a})})}),fE=x.forwardRef((t,a)=>{const r=Zc(lo,t.__scopeTooltip),o=Pf(lo,t.__scopeTooltip),i=x.useRef(null),c=Pt(a,i),[d,p]=x.useState(null),{trigger:u,onClose:g}=r,f=i.current,{onPointerInTransitChange:h}=o,v=x.useCallback(()=>{p(null),h(!1)},[h]),w=x.useCallback((y,j)=>{const N=y.currentTarget,P={x:y.clientX,y:y.clientY},C=vE(P,N.getBoundingClientRect()),_=jE(P,C),E=yE(j.getBoundingClientRect()),k=wE([..._,...E]);p(k),h(!0)},[h]);return x.useEffect(()=>()=>v(),[v]),x.useEffect(()=>{if(u&&f){const y=N=>w(N,f),j=N=>w(N,u);return u.addEventListener("pointerleave",y),f.addEventListener("pointerleave",j),()=>{u.removeEventListener("pointerleave",y),f.removeEventListener("pointerleave",j)}}},[u,f,w,v]),x.useEffect(()=>{if(d){const y=j=>{const N=j.target,P={x:j.clientX,y:j.clientY},C=(u==null?void 0:u.contains(N))||(f==null?void 0:f.contains(N)),_=!bE(P,d);C?v():_&&(v(),g())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[u,f,d,g,v]),e.jsx(Wv,{...t,ref:c})}),[hE,pE]=Qc(wi,{isInside:!1}),xE=kS("TooltipContent"),Wv=x.forwardRef((t,a)=>{const{__scopeTooltip:r,children:o,"aria-label":i,onEscapeKeyDown:c,onPointerDownOutside:d,...p}=t,u=Zc(lo,r),g=Xc(r),{onClose:f}=u;return x.useEffect(()=>(document.addEventListener(Dm,f),()=>document.removeEventListener(Dm,f)),[f]),x.useEffect(()=>{if(u.trigger){const h=v=>{const w=v.target;w!=null&&w.contains(u.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[u.trigger,f]),e.jsx(go,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:e.jsxs(Ef,{"data-state":u.stateAttribute,...g,...p,ref:a,style:{...p.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(xE,{children:o}),e.jsx(hE,{scope:r,isInside:!0,children:e.jsx(iE,{id:u.contentId,role:"tooltip",children:i||o})})]})})});qv.displayName=lo;var Gv="TooltipArrow",gE=x.forwardRef((t,a)=>{const{__scopeTooltip:r,...o}=t,i=Xc(r);return pE(Gv,r).isInside?null:e.jsx(Rf,{...i,...o,ref:a})});gE.displayName=Gv;function vE(t,a){const r=Math.abs(a.top-t.y),o=Math.abs(a.bottom-t.y),i=Math.abs(a.right-t.x),c=Math.abs(a.left-t.x);switch(Math.min(r,o,i,c)){case c:return"left";case i:return"right";case r:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function jE(t,a,r=5){const o=[];switch(a){case"top":o.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":o.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":o.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":o.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return o}function yE(t){const{top:a,right:r,bottom:o,left:i}=t;return[{x:i,y:a},{x:r,y:a},{x:r,y:o},{x:i,y:o}]}function bE(t,a){const{x:r,y:o}=t;let i=!1;for(let c=0,d=a.length-1;c<a.length;d=c++){const p=a[c],u=a[d],g=p.x,f=p.y,h=u.x,v=u.y;f>o!=v>o&&r<(h-g)*(o-f)/(v-f)+g&&(i=!i)}return i}function wE(t){const a=t.slice();return a.sort((r,o)=>r.x<o.x?-1:r.x>o.x?1:r.y<o.y?-1:r.y>o.y?1:0),NE(a)}function NE(t){if(t.length<=1)return t.slice();const a=[];for(let o=0;o<t.length;o++){const i=t[o];for(;a.length>=2;){const c=a[a.length-1],d=a[a.length-2];if((c.x-d.x)*(i.y-d.y)>=(c.y-d.y)*(i.x-d.x))a.pop();else break}a.push(i)}a.pop();const r=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;r.length>=2;){const c=r[r.length-1],d=r[r.length-2];if((c.x-d.x)*(i.y-d.y)>=(c.y-d.y)*(i.x-d.x))r.pop();else break}r.push(i)}return r.pop(),a.length===1&&r.length===1&&a[0].x===r[0].x&&a[0].y===r[0].y?a:a.concat(r)}var SE=Uv,CE=Vv,_E=Hv,Kv=qv;const Yv=SE,Jv=CE,Qv=_E,Af=x.forwardRef(({className:t,sideOffset:a=4,...r},o)=>e.jsx(Kv,{ref:o,sideOffset:a,className:ye("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Af.displayName=Kv.displayName;const kE="sidebar:state",EE=3600*24*7,RE="16rem",PE="18rem",AE="3rem",TE="b",Xv=x.createContext(null);function ed(){const t=x.useContext(Xv);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const Zv=x.forwardRef(({defaultOpen:t=!0,open:a,onOpenChange:r,className:o,style:i,children:c,...d},p)=>{const u=lC(),[g,f]=x.useState(!1),[h,v]=x.useState(t),w=a??h,y=x.useCallback(C=>{const _=typeof C=="function"?C(w):C;r?r(_):v(_),document.cookie=`${kE}=${_}; path=/; max-age=${EE}`},[r,w]),j=x.useCallback(()=>u?f(C=>!C):y(C=>!C),[u,y,f]);x.useEffect(()=>{const C=_=>{_.key===TE&&(_.metaKey||_.ctrlKey)&&(_.preventDefault(),j())};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[j]);const N=w?"expanded":"collapsed",P=x.useMemo(()=>({state:N,open:w,setOpen:y,isMobile:u,openMobile:g,setOpenMobile:f,toggleSidebar:j}),[N,w,y,u,g,f,j]);return e.jsx(Xv.Provider,{value:P,children:e.jsx(Yv,{delayDuration:0,children:e.jsx("div",{style:{"--sidebar-width":RE,"--sidebar-width-icon":AE,...i},className:ye("group/sidebar-wrapper flex min-h-svh w-full bg-background",o),ref:p,...d,children:c})})})});Zv.displayName="SidebarProvider";const ej=x.forwardRef(({side:t="left",variant:a="sidebar",collapsible:r="offcanvas",className:o,children:i,...c},d)=>{const{isMobile:p,state:u,openMobile:g,setOpenMobile:f}=ed();return r==="none"?e.jsx("div",{className:ye("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",o),ref:d,...c,children:i}):p?e.jsx($_,{open:g,onOpenChange:f,...c,children:e.jsx(vv,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":PE},side:t,children:e.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):e.jsxs("div",{ref:d,className:"group peer hidden md:block text-sidebar-foreground","data-state":u,"data-collapsible":u==="collapsed"?r:"","data-variant":a,"data-side":t,children:[e.jsx("div",{className:ye("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",a==="floating"||a==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),e.jsx("div",{className:ye("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",a==="floating"||a==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",o),...c,children:e.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});ej.displayName="Sidebar";const tj=x.forwardRef(({className:t,onClick:a,...r},o)=>{const{toggleSidebar:i}=ed();return e.jsxs(Z,{ref:o,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ye("h-7 w-7",t),onClick:c=>{a==null||a(c),i()},...r,children:[e.jsx(ZS,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});tj.displayName="SidebarTrigger";const ME=x.forwardRef(({className:t,...a},r)=>{const{toggleSidebar:o}=ed();return e.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:o,title:"Toggle Sidebar",className:ye("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...a})});ME.displayName="SidebarRail";const sj=x.forwardRef(({className:t,...a},r)=>e.jsx("main",{ref:r,className:ye("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...a}));sj.displayName="SidebarInset";const DE=x.forwardRef(({className:t,...a},r)=>e.jsx(fe,{ref:r,"data-sidebar":"input",className:ye("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...a}));DE.displayName="SidebarInput";const aj=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,"data-sidebar":"header",className:ye("flex flex-col gap-2 p-2",t),...a}));aj.displayName="SidebarHeader";const rj=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,"data-sidebar":"footer",className:ye("flex flex-col gap-2 p-2",t),...a}));rj.displayName="SidebarFooter";const OE=x.forwardRef(({className:t,...a},r)=>e.jsx(Ls,{ref:r,"data-sidebar":"separator",className:ye("mx-2 w-auto bg-sidebar-border",t),...a}));OE.displayName="SidebarSeparator";const nj=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,"data-sidebar":"content",className:ye("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...a}));nj.displayName="SidebarContent";const $m=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,"data-sidebar":"group",className:ye("relative flex w-full min-w-0 flex-col p-2",t),...a}));$m.displayName="SidebarGroup";const Lm=x.forwardRef(({className:t,asChild:a=!1,...r},o)=>{const i=a?po:"div";return e.jsx(i,{ref:o,"data-sidebar":"group-label",className:ye("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...r})});Lm.displayName="SidebarGroupLabel";const $E=x.forwardRef(({className:t,asChild:a=!1,...r},o)=>{const i=a?po:"button";return e.jsx(i,{ref:o,"data-sidebar":"group-action",className:ye("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...r})});$E.displayName="SidebarGroupAction";const Im=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,"data-sidebar":"group-content",className:ye("w-full text-sm",t),...a}));Im.displayName="SidebarGroupContent";const Fm=x.forwardRef(({className:t,...a},r)=>e.jsx("ul",{ref:r,"data-sidebar":"menu",className:ye("flex w-full min-w-0 flex-col gap-1",t),...a}));Fm.displayName="SidebarMenu";const zm=x.forwardRef(({className:t,...a},r)=>e.jsx("li",{ref:r,"data-sidebar":"menu-item",className:ye("group/menu-item relative",t),...a}));zm.displayName="SidebarMenuItem";const LE=Lc("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Bm=x.forwardRef(({asChild:t=!1,isActive:a=!1,variant:r="default",size:o="default",tooltip:i,className:c,...d},p)=>{const u=t?po:"button",{isMobile:g,state:f}=ed(),h=e.jsx(u,{ref:p,"data-sidebar":"menu-button","data-size":o,"data-active":a,className:ye(LE({variant:r,size:o}),c),...d});return i?(typeof i=="string"&&(i={children:i}),e.jsxs(Jv,{children:[e.jsx(Qv,{asChild:!0,children:h}),e.jsx(Af,{side:"right",align:"center",hidden:f!=="collapsed"||g,...i})]})):h});Bm.displayName="SidebarMenuButton";const IE=x.forwardRef(({className:t,asChild:a=!1,showOnHover:r=!1,...o},i)=>{const c=a?po:"button";return e.jsx(c,{ref:i,"data-sidebar":"menu-action",className:ye("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...o})});IE.displayName="SidebarMenuAction";const FE=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:ye("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...a}));FE.displayName="SidebarMenuBadge";const zE=x.forwardRef(({className:t,showIcon:a=!1,...r},o)=>{const i=x.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return e.jsxs("div",{ref:o,"data-sidebar":"menu-skeleton",className:ye("rounded-md h-8 flex gap-2 px-2 items-center",t),...r,children:[a&&e.jsx(it,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),e.jsx(it,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});zE.displayName="SidebarMenuSkeleton";const BE=x.forwardRef(({className:t,...a},r)=>e.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:ye("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...a}));BE.displayName="SidebarMenuSub";const UE=x.forwardRef(({...t},a)=>e.jsx("li",{ref:a,...t}));UE.displayName="SidebarMenuSubItem";const VE=x.forwardRef(({asChild:t=!1,size:a="md",isActive:r,className:o,...i},c)=>{const d=t?po:"a";return e.jsx(d,{ref:c,"data-sidebar":"menu-sub-button","data-size":a,"data-active":r,className:ye("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",a==="sm"&&"text-xs",a==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",o),...i})});VE.displayName="SidebarMenuSubButton";const HE={theme:"system",setTheme:()=>null},oj=x.createContext(HE);function qE({children:t,defaultTheme:a="system",storageKey:r="vite-ui-theme",...o}){const[i,c]=x.useState(()=>(typeof window<"u"?localStorage.getItem(r):null)||a);x.useEffect(()=>{const p=window.document.documentElement;if(p.classList.remove("light","dark"),i==="system"){const u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";p.classList.add(u);return}p.classList.add(i)},[i]);const d={theme:i,setTheme:p=>{localStorage.setItem(r,p),c(p)}};return e.jsx(oj.Provider,{...o,value:d,children:t})}const ij=()=>{const t=x.useContext(oj);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function td(t){const a=t+"CollectionProvider",[r,o]=Ja(a),[i,c]=r(a,{collectionRef:{current:null},itemMap:new Map}),d=j=>{const{scope:N,children:P}=j,C=Fr.useRef(null),_=Fr.useRef(new Map).current;return e.jsx(i,{scope:N,itemMap:_,collectionRef:C,children:P})};d.displayName=a;const p=t+"CollectionSlot",u=xn(p),g=Fr.forwardRef((j,N)=>{const{scope:P,children:C}=j,_=c(p,P),E=Pt(N,_.collectionRef);return e.jsx(u,{ref:E,children:C})});g.displayName=p;const f=t+"CollectionItemSlot",h="data-radix-collection-item",v=xn(f),w=Fr.forwardRef((j,N)=>{const{scope:P,children:C,..._}=j,E=Fr.useRef(null),k=Pt(N,E),A=c(f,P);return Fr.useEffect(()=>(A.itemMap.set(E,{ref:E,..._}),()=>void A.itemMap.delete(E))),e.jsx(v,{[h]:"",ref:k,children:C})});w.displayName=f;function y(j){const N=c(t+"CollectionConsumer",j);return Fr.useCallback(()=>{const C=N.collectionRef.current;if(!C)return[];const _=Array.from(C.querySelectorAll(`[${h}]`));return Array.from(N.itemMap.values()).sort((A,T)=>_.indexOf(A.ref.current)-_.indexOf(T.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:d,Slot:g,ItemSlot:w},y,o]}var WE=x.createContext(void 0);function Tf(t){const a=x.useContext(WE);return t||a||"ltr"}var dm="rovingFocusGroup.onEntryFocus",GE={bubbles:!1,cancelable:!0},Ti="RovingFocusGroup",[Um,lj,KE]=td(Ti),[YE,cj]=Ja(Ti,[KE]),[JE,QE]=YE(Ti),dj=x.forwardRef((t,a)=>e.jsx(Um.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Um.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(XE,{...t,ref:a})})}));dj.displayName=Ti;var XE=x.forwardRef((t,a)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:i=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:u,onEntryFocus:g,preventScrollOnEntryFocus:f=!1,...h}=t,v=x.useRef(null),w=Pt(a,v),y=Tf(c),[j,N]=gn({prop:d,defaultProp:p??null,onChange:u,caller:Ti}),[P,C]=x.useState(!1),_=Is(g),E=lj(r),k=x.useRef(!1),[A,T]=x.useState(0);return x.useEffect(()=>{const R=v.current;if(R)return R.addEventListener(dm,_),()=>R.removeEventListener(dm,_)},[_]),e.jsx(JE,{scope:r,orientation:o,dir:y,loop:i,currentTabStopId:j,onItemFocus:x.useCallback(R=>N(R),[N]),onItemShiftTab:x.useCallback(()=>C(!0),[]),onFocusableItemAdd:x.useCallback(()=>T(R=>R+1),[]),onFocusableItemRemove:x.useCallback(()=>T(R=>R-1),[]),children:e.jsx(et.div,{tabIndex:P||A===0?-1:0,"data-orientation":o,...h,ref:w,style:{outline:"none",...t.style},onMouseDown:Me(t.onMouseDown,()=>{k.current=!0}),onFocus:Me(t.onFocus,R=>{const I=!k.current;if(R.target===R.currentTarget&&I&&!P){const L=new CustomEvent(dm,GE);if(R.currentTarget.dispatchEvent(L),!L.defaultPrevented){const B=E().filter($=>$.focusable),G=B.find($=>$.active),F=B.find($=>$.id===j),K=[G,F,...B].filter(Boolean).map($=>$.ref.current);fj(K,f)}}k.current=!1}),onBlur:Me(t.onBlur,()=>C(!1))})})}),uj="RovingFocusGroupItem",mj=x.forwardRef((t,a)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:i=!1,tabStopId:c,children:d,...p}=t,u=qa(),g=c||u,f=QE(uj,r),h=f.currentTabStopId===g,v=lj(r),{onFocusableItemAdd:w,onFocusableItemRemove:y,currentTabStopId:j}=f;return x.useEffect(()=>{if(o)return w(),()=>y()},[o,w,y]),e.jsx(Um.ItemSlot,{scope:r,id:g,focusable:o,active:i,children:e.jsx(et.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...p,ref:a,onMouseDown:Me(t.onMouseDown,N=>{o?f.onItemFocus(g):N.preventDefault()}),onFocus:Me(t.onFocus,()=>f.onItemFocus(g)),onKeyDown:Me(t.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){f.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const P=t4(N,f.orientation,f.dir);if(P!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let _=v().filter(E=>E.focusable).map(E=>E.ref.current);if(P==="last")_.reverse();else if(P==="prev"||P==="next"){P==="prev"&&_.reverse();const E=_.indexOf(N.currentTarget);_=f.loop?s4(_,E+1):_.slice(E+1)}setTimeout(()=>fj(_))}}),children:typeof d=="function"?d({isCurrentTabStop:h,hasTabStop:j!=null}):d})})});mj.displayName=uj;var ZE={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function e4(t,a){return a!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function t4(t,a,r){const o=e4(t.key,r);if(!(a==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(a==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return ZE[o]}function fj(t,a=!1){const r=document.activeElement;for(const o of t)if(o===r||(o.focus({preventScroll:a}),document.activeElement!==r))return}function s4(t,a){return t.map((r,o)=>t[(a+o)%t.length])}var a4=dj,r4=mj,Vm=["Enter"," "],n4=["ArrowDown","PageUp","Home"],hj=["ArrowUp","PageDown","End"],o4=[...n4,...hj],i4={ltr:[...Vm,"ArrowRight"],rtl:[...Vm,"ArrowLeft"]},l4={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Mi="Menu",[Ni,c4,d4]=td(Mi),[Nn,pj]=Ja(Mi,[d4,yo,cj]),sd=yo(),xj=cj(),[u4,Sn]=Nn(Mi),[m4,Di]=Nn(Mi),gj=t=>{const{__scopeMenu:a,open:r=!1,children:o,dir:i,onOpenChange:c,modal:d=!0}=t,p=sd(a),[u,g]=x.useState(null),f=x.useRef(!1),h=Is(c),v=Tf(i);return x.useEffect(()=>{const w=()=>{f.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>f.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),e.jsx(_f,{...p,children:e.jsx(u4,{scope:a,open:r,onOpenChange:h,content:u,onContentChange:g,children:e.jsx(m4,{scope:a,onClose:x.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:v,modal:d,children:o})})})};gj.displayName=Mi;var f4="MenuAnchor",Mf=x.forwardRef((t,a)=>{const{__scopeMenu:r,...o}=t,i=sd(r);return e.jsx(kf,{...i,...o,ref:a})});Mf.displayName=f4;var Df="MenuPortal",[h4,vj]=Nn(Df,{forceMount:void 0}),jj=t=>{const{__scopeMenu:a,forceMount:r,children:o,container:i}=t,c=Sn(Df,a);return e.jsx(h4,{scope:a,forceMount:r,children:e.jsx(Qa,{present:r||c.open,children:e.jsx(Pi,{asChild:!0,container:i,children:o})})})};jj.displayName=Df;var xa="MenuContent",[p4,Of]=Nn(xa),yj=x.forwardRef((t,a)=>{const r=vj(xa,t.__scopeMenu),{forceMount:o=r.forceMount,...i}=t,c=Sn(xa,t.__scopeMenu),d=Di(xa,t.__scopeMenu);return e.jsx(Ni.Provider,{scope:t.__scopeMenu,children:e.jsx(Qa,{present:o||c.open,children:e.jsx(Ni.Slot,{scope:t.__scopeMenu,children:d.modal?e.jsx(x4,{...i,ref:a}):e.jsx(g4,{...i,ref:a})})})})}),x4=x.forwardRef((t,a)=>{const r=Sn(xa,t.__scopeMenu),o=x.useRef(null),i=Pt(a,o);return x.useEffect(()=>{const c=o.current;if(c)return ff(c)},[]),e.jsx($f,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Me(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),g4=x.forwardRef((t,a)=>{const r=Sn(xa,t.__scopeMenu);return e.jsx($f,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),v4=xn("MenuContent.ScrollLock"),$f=x.forwardRef((t,a)=>{const{__scopeMenu:r,loop:o=!1,trapFocus:i,onOpenAutoFocus:c,onCloseAutoFocus:d,disableOutsidePointerEvents:p,onEntryFocus:u,onEscapeKeyDown:g,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:v,onDismiss:w,disableOutsideScroll:y,...j}=t,N=Sn(xa,r),P=Di(xa,r),C=sd(r),_=xj(r),E=c4(r),[k,A]=x.useState(null),T=x.useRef(null),R=Pt(a,T,N.onContentChange),I=x.useRef(0),L=x.useRef(""),B=x.useRef(0),G=x.useRef(null),F=x.useRef("right"),M=x.useRef(0),K=y?Bc:x.Fragment,$=y?{as:v4,allowPinchZoom:!0}:void 0,z=Y=>{var te,oe;const ee=L.current+Y,D=E().filter(ge=>!ge.disabled),H=document.activeElement,ae=(te=D.find(ge=>ge.ref.current===H))==null?void 0:te.textValue,V=D.map(ge=>ge.textValue),U=P4(V,ee,ae),Q=(oe=D.find(ge=>ge.textValue===U))==null?void 0:oe.ref.current;(function ge(be){L.current=be,window.clearTimeout(I.current),be!==""&&(I.current=window.setTimeout(()=>ge(""),1e3))})(ee),Q&&setTimeout(()=>Q.focus())};x.useEffect(()=>()=>window.clearTimeout(I.current),[]),mf();const q=x.useCallback(Y=>{var D,H;return F.current===((D=G.current)==null?void 0:D.side)&&T4(Y,(H=G.current)==null?void 0:H.area)},[]);return e.jsx(p4,{scope:r,searchRef:L,onItemEnter:x.useCallback(Y=>{q(Y)&&Y.preventDefault()},[q]),onItemLeave:x.useCallback(Y=>{var ee;q(Y)||((ee=T.current)==null||ee.focus(),A(null))},[q]),onTriggerLeave:x.useCallback(Y=>{q(Y)&&Y.preventDefault()},[q]),pointerGraceTimerRef:B,onPointerGraceIntentChange:x.useCallback(Y=>{G.current=Y},[]),children:e.jsx(K,{...$,children:e.jsx(Fc,{asChild:!0,trapped:i,onMountAutoFocus:Me(c,Y=>{var ee;Y.preventDefault(),(ee=T.current)==null||ee.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:e.jsx(go,{asChild:!0,disableOutsidePointerEvents:p,onEscapeKeyDown:g,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:v,onDismiss:w,children:e.jsx(a4,{asChild:!0,..._,dir:P.dir,orientation:"vertical",loop:o,currentTabStopId:k,onCurrentTabStopIdChange:A,onEntryFocus:Me(u,Y=>{P.isUsingKeyboardRef.current||Y.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Ef,{role:"menu","aria-orientation":"vertical","data-state":$j(N.open),"data-radix-menu-content":"",dir:P.dir,...C,...j,ref:R,style:{outline:"none",...j.style},onKeyDown:Me(j.onKeyDown,Y=>{const D=Y.target.closest("[data-radix-menu-content]")===Y.currentTarget,H=Y.ctrlKey||Y.altKey||Y.metaKey,ae=Y.key.length===1;D&&(Y.key==="Tab"&&Y.preventDefault(),!H&&ae&&z(Y.key));const V=T.current;if(Y.target!==V||!o4.includes(Y.key))return;Y.preventDefault();const Q=E().filter(te=>!te.disabled).map(te=>te.ref.current);hj.includes(Y.key)&&Q.reverse(),E4(Q)}),onBlur:Me(t.onBlur,Y=>{Y.currentTarget.contains(Y.target)||(window.clearTimeout(I.current),L.current="")}),onPointerMove:Me(t.onPointerMove,Si(Y=>{const ee=Y.target,D=M.current!==Y.clientX;if(Y.currentTarget.contains(ee)&&D){const H=Y.clientX>M.current?"right":"left";F.current=H,M.current=Y.clientX}}))})})})})})})});yj.displayName=xa;var j4="MenuGroup",Lf=x.forwardRef((t,a)=>{const{__scopeMenu:r,...o}=t;return e.jsx(et.div,{role:"group",...o,ref:a})});Lf.displayName=j4;var y4="MenuLabel",bj=x.forwardRef((t,a)=>{const{__scopeMenu:r,...o}=t;return e.jsx(et.div,{...o,ref:a})});bj.displayName=y4;var _c="MenuItem",kg="menu.itemSelect",ad=x.forwardRef((t,a)=>{const{disabled:r=!1,onSelect:o,...i}=t,c=x.useRef(null),d=Di(_c,t.__scopeMenu),p=Of(_c,t.__scopeMenu),u=Pt(a,c),g=x.useRef(!1),f=()=>{const h=c.current;if(!r&&h){const v=new CustomEvent(kg,{bubbles:!0,cancelable:!0});h.addEventListener(kg,w=>o==null?void 0:o(w),{once:!0}),uf(h,v),v.defaultPrevented?g.current=!1:d.onClose()}};return e.jsx(wj,{...i,ref:u,disabled:r,onClick:Me(t.onClick,f),onPointerDown:h=>{var v;(v=t.onPointerDown)==null||v.call(t,h),g.current=!0},onPointerUp:Me(t.onPointerUp,h=>{var v;g.current||(v=h.currentTarget)==null||v.click()}),onKeyDown:Me(t.onKeyDown,h=>{const v=p.searchRef.current!=="";r||v&&h.key===" "||Vm.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});ad.displayName=_c;var wj=x.forwardRef((t,a)=>{const{__scopeMenu:r,disabled:o=!1,textValue:i,...c}=t,d=Of(_c,r),p=xj(r),u=x.useRef(null),g=Pt(a,u),[f,h]=x.useState(!1),[v,w]=x.useState("");return x.useEffect(()=>{const y=u.current;y&&w((y.textContent??"").trim())},[c.children]),e.jsx(Ni.ItemSlot,{scope:r,disabled:o,textValue:i??v,children:e.jsx(r4,{asChild:!0,...p,focusable:!o,children:e.jsx(et.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...c,ref:g,onPointerMove:Me(t.onPointerMove,Si(y=>{o?d.onItemLeave(y):(d.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Me(t.onPointerLeave,Si(y=>d.onItemLeave(y))),onFocus:Me(t.onFocus,()=>h(!0)),onBlur:Me(t.onBlur,()=>h(!1))})})})}),b4="MenuCheckboxItem",Nj=x.forwardRef((t,a)=>{const{checked:r=!1,onCheckedChange:o,...i}=t;return e.jsx(Ej,{scope:t.__scopeMenu,checked:r,children:e.jsx(ad,{role:"menuitemcheckbox","aria-checked":kc(r)?"mixed":r,...i,ref:a,"data-state":Ff(r),onSelect:Me(i.onSelect,()=>o==null?void 0:o(kc(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Nj.displayName=b4;var Sj="MenuRadioGroup",[w4,N4]=Nn(Sj,{value:void 0,onValueChange:()=>{}}),Cj=x.forwardRef((t,a)=>{const{value:r,onValueChange:o,...i}=t,c=Is(o);return e.jsx(w4,{scope:t.__scopeMenu,value:r,onValueChange:c,children:e.jsx(Lf,{...i,ref:a})})});Cj.displayName=Sj;var _j="MenuRadioItem",kj=x.forwardRef((t,a)=>{const{value:r,...o}=t,i=N4(_j,t.__scopeMenu),c=r===i.value;return e.jsx(Ej,{scope:t.__scopeMenu,checked:c,children:e.jsx(ad,{role:"menuitemradio","aria-checked":c,...o,ref:a,"data-state":Ff(c),onSelect:Me(o.onSelect,()=>{var d;return(d=i.onValueChange)==null?void 0:d.call(i,r)},{checkForDefaultPrevented:!1})})})});kj.displayName=_j;var If="MenuItemIndicator",[Ej,S4]=Nn(If,{checked:!1}),Rj=x.forwardRef((t,a)=>{const{__scopeMenu:r,forceMount:o,...i}=t,c=S4(If,r);return e.jsx(Qa,{present:o||kc(c.checked)||c.checked===!0,children:e.jsx(et.span,{...i,ref:a,"data-state":Ff(c.checked)})})});Rj.displayName=If;var C4="MenuSeparator",Pj=x.forwardRef((t,a)=>{const{__scopeMenu:r,...o}=t;return e.jsx(et.div,{role:"separator","aria-orientation":"horizontal",...o,ref:a})});Pj.displayName=C4;var _4="MenuArrow",Aj=x.forwardRef((t,a)=>{const{__scopeMenu:r,...o}=t,i=sd(r);return e.jsx(Rf,{...i,...o,ref:a})});Aj.displayName=_4;var k4="MenuSub",[R5,Tj]=Nn(k4),ui="MenuSubTrigger",Mj=x.forwardRef((t,a)=>{const r=Sn(ui,t.__scopeMenu),o=Di(ui,t.__scopeMenu),i=Tj(ui,t.__scopeMenu),c=Of(ui,t.__scopeMenu),d=x.useRef(null),{pointerGraceTimerRef:p,onPointerGraceIntentChange:u}=c,g={__scopeMenu:t.__scopeMenu},f=x.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return x.useEffect(()=>f,[f]),x.useEffect(()=>{const h=p.current;return()=>{window.clearTimeout(h),u(null)}},[p,u]),e.jsx(Mf,{asChild:!0,...g,children:e.jsx(wj,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":$j(r.open),...t,ref:$c(a,i.onTriggerChange),onClick:h=>{var v;(v=t.onClick)==null||v.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Me(t.onPointerMove,Si(h=>{c.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!d.current&&(c.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Me(t.onPointerLeave,Si(h=>{var w,y;f();const v=(w=r.content)==null?void 0:w.getBoundingClientRect();if(v){const j=(y=r.content)==null?void 0:y.dataset.side,N=j==="right",P=N?-5:5,C=v[N?"left":"right"],_=v[N?"right":"left"];c.onPointerGraceIntentChange({area:[{x:h.clientX+P,y:h.clientY},{x:C,y:v.top},{x:_,y:v.top},{x:_,y:v.bottom},{x:C,y:v.bottom}],side:j}),window.clearTimeout(p.current),p.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(h),h.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:Me(t.onKeyDown,h=>{var w;const v=c.searchRef.current!=="";t.disabled||v&&h.key===" "||i4[o.dir].includes(h.key)&&(r.onOpenChange(!0),(w=r.content)==null||w.focus(),h.preventDefault())})})})});Mj.displayName=ui;var Dj="MenuSubContent",Oj=x.forwardRef((t,a)=>{const r=vj(xa,t.__scopeMenu),{forceMount:o=r.forceMount,...i}=t,c=Sn(xa,t.__scopeMenu),d=Di(xa,t.__scopeMenu),p=Tj(Dj,t.__scopeMenu),u=x.useRef(null),g=Pt(a,u);return e.jsx(Ni.Provider,{scope:t.__scopeMenu,children:e.jsx(Qa,{present:o||c.open,children:e.jsx(Ni.Slot,{scope:t.__scopeMenu,children:e.jsx($f,{id:p.contentId,"aria-labelledby":p.triggerId,...i,ref:g,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;d.isUsingKeyboardRef.current&&((h=u.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Me(t.onFocusOutside,f=>{f.target!==p.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:Me(t.onEscapeKeyDown,f=>{d.onClose(),f.preventDefault()}),onKeyDown:Me(t.onKeyDown,f=>{var w;const h=f.currentTarget.contains(f.target),v=l4[d.dir].includes(f.key);h&&v&&(c.onOpenChange(!1),(w=p.trigger)==null||w.focus(),f.preventDefault())})})})})})});Oj.displayName=Dj;function $j(t){return t?"open":"closed"}function kc(t){return t==="indeterminate"}function Ff(t){return kc(t)?"indeterminate":t?"checked":"unchecked"}function E4(t){const a=document.activeElement;for(const r of t)if(r===a||(r.focus(),document.activeElement!==a))return}function R4(t,a){return t.map((r,o)=>t[(a+o)%t.length])}function P4(t,a,r){const i=a.length>1&&Array.from(a).every(g=>g===a[0])?a[0]:a,c=r?t.indexOf(r):-1;let d=R4(t,Math.max(c,0));i.length===1&&(d=d.filter(g=>g!==r));const u=d.find(g=>g.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function A4(t,a){const{x:r,y:o}=t;let i=!1;for(let c=0,d=a.length-1;c<a.length;d=c++){const p=a[c],u=a[d],g=p.x,f=p.y,h=u.x,v=u.y;f>o!=v>o&&r<(h-g)*(o-f)/(v-f)+g&&(i=!i)}return i}function T4(t,a){if(!a)return!1;const r={x:t.clientX,y:t.clientY};return A4(r,a)}function Si(t){return a=>a.pointerType==="mouse"?t(a):void 0}var M4=gj,D4=Mf,O4=jj,$4=yj,L4=Lf,I4=bj,F4=ad,z4=Nj,B4=Cj,U4=kj,V4=Rj,H4=Pj,q4=Aj,W4=Mj,G4=Oj,rd="DropdownMenu",[K4,P5]=Ja(rd,[pj]),Fs=pj(),[Y4,Lj]=K4(rd),Ij=t=>{const{__scopeDropdownMenu:a,children:r,dir:o,open:i,defaultOpen:c,onOpenChange:d,modal:p=!0}=t,u=Fs(a),g=x.useRef(null),[f,h]=gn({prop:i,defaultProp:c??!1,onChange:d,caller:rd});return e.jsx(Y4,{scope:a,triggerId:qa(),triggerRef:g,contentId:qa(),open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(v=>!v),[h]),modal:p,children:e.jsx(M4,{...u,open:f,onOpenChange:h,dir:o,modal:p,children:r})})};Ij.displayName=rd;var Fj="DropdownMenuTrigger",zj=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,disabled:o=!1,...i}=t,c=Lj(Fj,r),d=Fs(r);return e.jsx(D4,{asChild:!0,...d,children:e.jsx(et.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...i,ref:$c(a,c.triggerRef),onPointerDown:Me(t.onPointerDown,p=>{!o&&p.button===0&&p.ctrlKey===!1&&(c.onOpenToggle(),c.open||p.preventDefault())}),onKeyDown:Me(t.onKeyDown,p=>{o||(["Enter"," "].includes(p.key)&&c.onOpenToggle(),p.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(p.key)&&p.preventDefault())})})})});zj.displayName=Fj;var J4="DropdownMenuPortal",Bj=t=>{const{__scopeDropdownMenu:a,...r}=t,o=Fs(a);return e.jsx(O4,{...o,...r})};Bj.displayName=J4;var Uj="DropdownMenuContent",Vj=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Lj(Uj,r),c=Fs(r),d=x.useRef(!1);return e.jsx($4,{id:i.contentId,"aria-labelledby":i.triggerId,...c,...o,ref:a,onCloseAutoFocus:Me(t.onCloseAutoFocus,p=>{var u;d.current||(u=i.triggerRef.current)==null||u.focus(),d.current=!1,p.preventDefault()}),onInteractOutside:Me(t.onInteractOutside,p=>{const u=p.detail.originalEvent,g=u.button===0&&u.ctrlKey===!0,f=u.button===2||g;(!i.modal||f)&&(d.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Vj.displayName=Uj;var Q4="DropdownMenuGroup",X4=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Fs(r);return e.jsx(L4,{...i,...o,ref:a})});X4.displayName=Q4;var Z4="DropdownMenuLabel",Hj=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Fs(r);return e.jsx(I4,{...i,...o,ref:a})});Hj.displayName=Z4;var eR="DropdownMenuItem",qj=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Fs(r);return e.jsx(F4,{...i,...o,ref:a})});qj.displayName=eR;var tR="DropdownMenuCheckboxItem",Wj=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Fs(r);return e.jsx(z4,{...i,...o,ref:a})});Wj.displayName=tR;var sR="DropdownMenuRadioGroup",aR=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Fs(r);return e.jsx(B4,{...i,...o,ref:a})});aR.displayName=sR;var rR="DropdownMenuRadioItem",Gj=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Fs(r);return e.jsx(U4,{...i,...o,ref:a})});Gj.displayName=rR;var nR="DropdownMenuItemIndicator",Kj=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Fs(r);return e.jsx(V4,{...i,...o,ref:a})});Kj.displayName=nR;var oR="DropdownMenuSeparator",Yj=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Fs(r);return e.jsx(H4,{...i,...o,ref:a})});Yj.displayName=oR;var iR="DropdownMenuArrow",lR=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Fs(r);return e.jsx(q4,{...i,...o,ref:a})});lR.displayName=iR;var cR="DropdownMenuSubTrigger",Jj=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Fs(r);return e.jsx(W4,{...i,...o,ref:a})});Jj.displayName=cR;var dR="DropdownMenuSubContent",Qj=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Fs(r);return e.jsx(G4,{...i,...o,ref:a,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Qj.displayName=dR;var uR=Ij,mR=zj,fR=Bj,Xj=Vj,Zj=Hj,ey=qj,ty=Wj,sy=Gj,ay=Kj,ry=Yj,ny=Jj,oy=Qj;const iy=uR,ly=mR,hR=x.forwardRef(({className:t,inset:a,children:r,...o},i)=>e.jsxs(ny,{ref:i,className:ye("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",a&&"pl-8",t),...o,children:[r,e.jsx(ka,{className:"ml-auto h-4 w-4"})]}));hR.displayName=ny.displayName;const pR=x.forwardRef(({className:t,...a},r)=>e.jsx(oy,{ref:r,className:ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));pR.displayName=oy.displayName;const zf=x.forwardRef(({className:t,sideOffset:a=4,...r},o)=>e.jsx(fR,{children:e.jsx(Xj,{ref:o,sideOffset:a,className:ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));zf.displayName=Xj.displayName;const hn=x.forwardRef(({className:t,inset:a,...r},o)=>e.jsx(ey,{ref:o,className:ye("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",t),...r}));hn.displayName=ey.displayName;const xR=x.forwardRef(({className:t,children:a,checked:r,...o},i)=>e.jsxs(ty,{ref:i,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ay,{children:e.jsx(T0,{className:"h-4 w-4"})})}),a]}));xR.displayName=ty.displayName;const gR=x.forwardRef(({className:t,children:a,...r},o)=>e.jsxs(sy,{ref:o,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ay,{children:e.jsx(IS,{className:"h-2 w-2 fill-current"})})}),a]}));gR.displayName=sy.displayName;const cy=x.forwardRef(({className:t,inset:a,...r},o)=>e.jsx(Zj,{ref:o,className:ye("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",t),...r}));cy.displayName=Zj.displayName;const Hm=x.forwardRef(({className:t,...a},r)=>e.jsx(ry,{ref:r,className:ye("-mx-1 my-1 h-px bg-muted",t),...a}));Hm.displayName=ry.displayName;function Bf(){const{setTheme:t,theme:a}=ij();return e.jsxs(iy,{children:[e.jsx(ly,{asChild:!0,children:e.jsxs(Z,{variant:"secondary",size:"icon",className:"relative bg-white/80 text-slate-700 border border-black/10 shadow-sm backdrop-blur hover:bg-white/90 dark:bg-slate-900/60 dark:text-slate-100 dark:border-white/10 dark:hover:bg-slate-900/70","aria-label":"Alternar tema",children:[e.jsx(ag,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(sg,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Alternar tema"})]})}),e.jsxs(zf,{align:"end",sideOffset:8,children:[e.jsxs(hn,{onClick:()=>t("light"),className:"cursor-pointer",children:[e.jsx(ag,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Claro"}),a==="light"&&e.jsx("span",{className:"ml-auto",children:"✓"})]}),e.jsxs(hn,{onClick:()=>t("dark"),className:"cursor-pointer",children:[e.jsx(sg,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Escuro"}),a==="dark"&&e.jsx("span",{className:"ml-auto",children:"✓"})]}),e.jsxs(hn,{onClick:()=>t("system"),className:"cursor-pointer",children:[e.jsx(XS,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Sistema"}),a==="system"&&e.jsx("span",{className:"ml-auto",children:"✓"})]})]})]})}var um={exports:{}},mm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eg;function vR(){if(Eg)return mm;Eg=1;var t=Rc();function a(h,v){return h===v&&(h!==0||1/h===1/v)||h!==h&&v!==v}var r=typeof Object.is=="function"?Object.is:a,o=t.useState,i=t.useEffect,c=t.useLayoutEffect,d=t.useDebugValue;function p(h,v){var w=v(),y=o({inst:{value:w,getSnapshot:v}}),j=y[0].inst,N=y[1];return c(function(){j.value=w,j.getSnapshot=v,u(j)&&N({inst:j})},[h,w,v]),i(function(){return u(j)&&N({inst:j}),h(function(){u(j)&&N({inst:j})})},[h]),d(w),w}function u(h){var v=h.getSnapshot;h=h.value;try{var w=v();return!r(h,w)}catch{return!0}}function g(h,v){return v()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:p;return mm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,mm}var Rg;function jR(){return Rg||(Rg=1,um.exports=vR()),um.exports}var yR=jR();function bR(){return yR.useSyncExternalStore(wR,()=>!0,()=>!1)}function wR(){return()=>{}}var Uf="Avatar",[NR,A5]=Ja(Uf),[SR,dy]=NR(Uf),uy=x.forwardRef((t,a)=>{const{__scopeAvatar:r,...o}=t,[i,c]=x.useState("idle");return e.jsx(SR,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:c,children:e.jsx(et.span,{...o,ref:a})})});uy.displayName=Uf;var my="AvatarImage",fy=x.forwardRef((t,a)=>{const{__scopeAvatar:r,src:o,onLoadingStatusChange:i=()=>{},...c}=t,d=dy(my,r),p=CR(o,c),u=Is(g=>{i(g),d.onImageLoadingStatusChange(g)});return ms(()=>{p!=="idle"&&u(p)},[p,u]),p==="loaded"?e.jsx(et.img,{...c,ref:a,src:o}):null});fy.displayName=my;var hy="AvatarFallback",py=x.forwardRef((t,a)=>{const{__scopeAvatar:r,delayMs:o,...i}=t,c=dy(hy,r),[d,p]=x.useState(o===void 0);return x.useEffect(()=>{if(o!==void 0){const u=window.setTimeout(()=>p(!0),o);return()=>window.clearTimeout(u)}},[o]),d&&c.imageLoadingStatus!=="loaded"?e.jsx(et.span,{...i,ref:a}):null});py.displayName=hy;function Pg(t,a){return t?a?(t.src!==a&&(t.src=a),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function CR(t,{referrerPolicy:a,crossOrigin:r}){const o=bR(),i=x.useRef(null),c=o?(i.current||(i.current=new window.Image),i.current):null,[d,p]=x.useState(()=>Pg(c,t));return ms(()=>{p(Pg(c,t))},[c,t]),ms(()=>{const u=h=>()=>{p(h)};if(!c)return;const g=u("loaded"),f=u("error");return c.addEventListener("load",g),c.addEventListener("error",f),a&&(c.referrerPolicy=a),typeof r=="string"&&(c.crossOrigin=r),()=>{c.removeEventListener("load",g),c.removeEventListener("error",f)}},[c,r,a]),d}var xy=uy,gy=fy,vy=py;const Oi=x.forwardRef(({className:t,...a},r)=>e.jsx(xy,{ref:r,className:ye("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...a}));Oi.displayName=xy.displayName;const nd=x.forwardRef(({className:t,...a},r)=>e.jsx(gy,{ref:r,className:ye("aspect-square h-full w-full",t),...a}));nd.displayName=gy.displayName;const $i=x.forwardRef(({className:t,...a},r)=>e.jsx(vy,{ref:r,className:ye("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...a}));$i.displayName=vy.displayName;const jy=x.forwardRef(({...t},a)=>e.jsx("nav",{ref:a,"aria-label":"breadcrumb",...t}));jy.displayName="Breadcrumb";const yy=x.forwardRef(({className:t,...a},r)=>e.jsx("ol",{ref:r,className:ye("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...a}));yy.displayName="BreadcrumbList";const by=x.forwardRef(({className:t,...a},r)=>e.jsx("li",{ref:r,className:ye("inline-flex items-center gap-1.5",t),...a}));by.displayName="BreadcrumbItem";const wy=x.forwardRef(({asChild:t,className:a,...r},o)=>{const i=t?po:"a";return e.jsx(i,{ref:o,className:ye("hover:text-foreground transition-colors focus-visible:outline-none focus-visible:underline",a),...r})});wy.displayName="BreadcrumbLink";const Ny=x.forwardRef(({className:t,...a},r)=>e.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:ye("text-foreground font-medium",t),...a}));Ny.displayName="BreadcrumbPage";const Sy=({children:t,className:a,...r})=>e.jsx("li",{role:"presentation","aria-hidden":"true",className:ye("[&>svg]:size-3.5",a),...r,children:t||e.jsx(ka,{className:"h-4 w-4"})});Sy.displayName="BreadcrumbSeparator";function Li({children:t,sidebar:a,breadcrumbs:r=[]}){var p;const{activeRole:o}=Ga(),{user:i}=xr(),{userData:c}=Ga(),d=(c==null?void 0:c.nome)||(i==null?void 0:i.nome)||"Usuário";return e.jsxs(Zv,{children:[e.jsx(a,{}),e.jsxs(sj,{children:[e.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-950/80 backdrop-blur-xl",children:e.jsxs("div",{className:"flex h-16 items-center gap-4 px-6",children:[e.jsx(tj,{className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100"}),e.jsx(Ls,{orientation:"vertical",className:"h-6 bg-slate-200 dark:bg-slate-700"}),r.length>0&&e.jsx(jy,{className:"flex-1",children:e.jsx(yy,{children:r.map((u,g)=>e.jsxs("div",{className:"flex items-center",children:[g>0&&e.jsx(Sy,{className:"text-slate-400"}),e.jsx(by,{children:u.href?e.jsx(wy,{href:u.href,className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100 font-medium",children:u.label}):e.jsx(Ny,{className:"text-slate-900 dark:text-slate-100 font-semibold",children:u.label})})]},g))})}),e.jsxs("div",{className:"relative hidden md:flex items-center max-w-sm",children:[e.jsx(Ms,{className:"absolute left-3 size-4 text-slate-400"}),e.jsx(fe,{placeholder:"Buscar...",className:"pl-10 bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100",children:e.jsx(lf,{className:"size-4"})}),e.jsx(Bf,{}),e.jsx(Ls,{orientation:"vertical",className:"h-6 bg-slate-200 dark:bg-slate-700"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Oi,{className:"size-8",children:[e.jsx(nd,{src:""}),e.jsx($i,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white text-sm font-semibold",children:(p=d==null?void 0:d.charAt(0))==null?void 0:p.toUpperCase()})]}),e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 hidden sm:block",children:d})]})]})]})}),e.jsx("main",{className:"flex-1 p-6 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 min-h-[calc(100vh-4rem)]",children:e.jsx("div",{className:"mx-auto max-w-7xl",children:t})})]})]})}function ft({className:t,variant:a="default",...r}){const o={default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input hover:bg-accent hover:text-accent-foreground"};return e.jsx("div",{className:ye("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",o[a],t),...r})}const Ag={paciente:{header:{title:"Portal Médico",subtitle:"Paciente",icon:is},sections:[{label:"Menu Principal",items:[{label:"Perfil",path:"/paciente/perfil",icon:is},{label:"Prontuário",path:"/paciente/prontuario",icon:cs},{label:"Consultas",path:"/paciente/consultas",icon:Qe},{label:"Exames",path:"/paciente/exames",icon:pa},{label:"Receitas",path:"/paciente/receitas",icon:pa},{label:"Histórico Médico",path:"/paciente/historico-medico",icon:D0},{label:"Médicos Vinculados",path:"/paciente/medicos",icon:gs}]}]},medico:{header:{title:"Portal Médico",subtitle:"Médico",icon:xt},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/medico/dashboard",icon:Xu},{label:"Consultas de Hoje",path:"/medico/consultas/hoje",icon:Qe},{label:"Consultas",path:"/medico/minhas-consultas",icon:Qe},{label:"Meus Pacientes",path:"/medico/meus-pacientes",icon:gs}]}]},clinica:{header:{title:"Portal Médico",subtitle:"Clínica",icon:Ic},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/clinica/dashboard",icon:qS},{label:"Calendário",path:"/clinica/calendario",icon:Qe},{label:"Disponibilidade",path:"/clinica/disponibilidade",icon:lt},{label:"Exames",path:"/clinica/exames",icon:cs},{label:"Pacientes",path:"/clinica/pacientes",icon:gs},{label:"Médicos",path:"/clinica/medicos",icon:xt},{label:"Relatórios",path:"/clinica/relatorios",icon:ji}]}]},secretaria:{header:{title:"Portal Médico",subtitle:"Secretaria",icon:gs},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/secretaria/dashboard",icon:Xu},{label:"Consultas",path:"/secretaria/consultas",icon:Qe},{label:"Pacientes",path:"/secretaria/pacientes",icon:gs},{label:"Médicos",path:"/secretaria/medicos",icon:xt}]}]},admin:{header:{title:"Portal Médico",subtitle:"Admin",icon:Ha},sections:[{label:"Painel",items:[{label:"Dashboard",path:"/admin/dashboard",icon:Xu},{label:"Relatórios",path:"/admin/relatorios",icon:ji},{label:"Auditoria",path:"/admin/auditoria",icon:Ha}]},{label:"Gerenciar",items:[{label:"Solicitações",path:"/admin/solicitacoes",icon:rC},{label:"Usuários",path:"/admin/usuarios",icon:gs},{label:"Clínicas",path:"/admin/clinicas",icon:Wr}]},{label:"Telas",items:[{label:"Paciente",path:"/paciente/perfil",icon:is},{label:"Médico",path:"/medico/dashboard",icon:xt},{label:"Clínica",path:"/clinica/dashboard",icon:Wr},{label:"Secretaria",path:"/secretaria/dashboard",icon:gs},{label:"Admin",path:"/admin/dashboard",icon:Ha}]}]}},bt={async getPerfil(){const t="/users/",a=ht.getCurrentUser();if(!(a!=null&&a.id))throw new Error("Usuário não encontrado na sessão. Faça login novamente.");const r=t.endsWith("/")?t:`${t}/`;return(await ue.get(`${r}${a.id}/`)).data},async atualizarPerfil(t){const a="/users/",r=ht.getCurrentUser();if(!(r!=null&&r.id))throw new Error("Usuário não encontrado na sessão. Faça login novamente.");const o=a.endsWith("/")?a:`${a}/`;return(await ue.patch(`${o}${r.id}/`,t)).data},async getConsultas(t={}){var a,r;try{const o="/consultas/";console.log("[DEBUG] Endpoint de consultas:",o);const i=await this.getPacienteDoUsuario();console.log("[DEBUG] Paciente encontrado:",i);const c={...t};if(i!=null&&i.id&&!c.paciente&&(c.paciente=i.id),console.log("[DEBUG] Query params:",c),!(i!=null&&i.id)&&Object.keys(c).length===0)return console.log("[DEBUG] Sem paciente e sem filtros, retornando array vazio"),{results:[]};console.log("[DEBUG] Fazendo requisição para:",o,"com params:",c);const d=await ue.get(o,{params:c});return console.log("[DEBUG] Resposta da API recebida:",d.data),d.data}catch(o){return console.warn("[pacienteService] getConsultas falhou:",(a=o==null?void 0:o.response)==null?void 0:a.status,(r=o==null?void 0:o.response)==null?void 0:r.data),console.error("[DEBUG] Erro completo:",o),{results:[]}}},async getExames(t={}){var d,p,u;const a="/exames/",{__propagateErrors:r,...o}=t||{};let i=null;try{i=await bt.getPacienteDoUsuario()}catch(g){console.debug("[pacienteService] getPacienteDoUsuario falhou, prosseguindo sem filtro de paciente",(d=g==null?void 0:g.response)==null?void 0:d.status)}const c={...o};if(i!=null&&i.id&&!c.paciente&&(c.paciente=i.id),Object.keys(c).forEach(g=>{(c[g]===void 0||c[g]===null||c[g]==="")&&delete c[g]}),!(i!=null&&i.id)&&Object.keys(c).length===0)return{results:[]};try{return console.debug("[pacienteService] GET exames",{endpoint:a,params:c}),(await ue.get(a,{params:c})).data}catch(g){if(console.warn("[pacienteService] getExames falhou:",(p=g==null?void 0:g.response)==null?void 0:p.status,(u=g==null?void 0:g.response)==null?void 0:u.data),r===!0)throw g;return{results:[]}}},async getProntuario(t={}){const a="/prontuarios/",{__propagateErrors:r,...o}=t||{},i={...o};let c=!1;try{const d=await this.getPacienteDoUsuario();d!=null&&d.id&&!i.consulta__paciente&&(i.consulta__paciente=d.id,c=!0)}catch{}if(!c&&Object.keys(i).length===0)return{results:[]};try{return(await ue.get(a,{params:i})).data}catch(d){if(r===!0)throw d;return{results:[]}}},async getMedicos(t={}){return(await ue.get("/medicos/",{params:t})).data},async getMedicoById(t){const a="/medicos/",r=a.endsWith("/")?a:`${a}/`;return(await ue.get(`${r}${t}/`)).data},async agendarConsulta({medico:t,data:a,hora:r,modalidade:o,local:i,observacoes:c,tipo:d,motivo:p}){const u="/consultas/",g=u.endsWith("/")?u:`${u}/`,f=await this.getPacienteDoUsuario();if(!(f!=null&&f.id))throw new Error("Não foi possível identificar o paciente autenticado.");const h=(j,N)=>{if(!j||!N)return null;const P=new Date(`${j}T${N}`);return isNaN(P)?null:P.toISOString()},v=j=>{const N={primeira:"primeira_consulta",primeira_consulta:"primeira_consulta",retorno:"retorno",urgencia:"urgencia",rotina:"rotina"},P=String(j||"").toLowerCase();return N[P]||"primeira_consulta"},w={paciente:f.id,medico:t,data_hora:h(a,r)||a||null,tipo:v(d),motivo:p,observacoes:c||void 0,duracao_minutos:30};return Object.keys(w).forEach(j=>{(w[j]===null||w[j]===void 0||w[j]==="")&&delete w[j]}),(await ue.post(g,w)).data},async getAgendaMedico({medico:t,date:a,apenas_disponiveis:r=!0}){const o="/agendamentos/",i={medico:t,medico_id:t,date:a,data:a,...r?{apenas_disponiveis:1}:{}};return(await ue.get(o,{params:i})).data},async getPacienteDoUsuario(){var i,c,d,p;const t="/pacientes/",a=t.endsWith("/")?t:`${t}/`;console.log("[DEBUG] getPacienteDoUsuario - Base endpoint:",a);try{console.log("[DEBUG] Tentando /pacientes/me/");const u=await ue.get(`${a}me/`);return console.log("[DEBUG] Sucesso /pacientes/me/:",u.data),u.data}catch(u){console.warn("[pacienteService] GET /pacientes/me/ falhou:",(i=u==null?void 0:u.response)==null?void 0:i.status),console.log("[DEBUG] Erro /pacientes/me/:",(c=u==null?void 0:u.response)==null?void 0:c.data)}const r=ht.getCurrentUser();if(console.log("[DEBUG] Usuário atual:",r),!(r!=null&&r.id))return console.log("[DEBUG] Nenhum usuário logado"),null;const o=["user","user__id","user_id"];for(const u of o)try{console.log(`[DEBUG] Tentando filtro ?${u}=${r.id}`);const g=await ue.get(a,{params:{[u]:r.id}}),f=Array.isArray((d=g.data)==null?void 0:d.results)?g.data.results:g.data;if(console.log(`[DEBUG] Resposta filtro ${u}:`,f),Array.isArray(f)&&f.length)return console.log("[DEBUG] Paciente encontrado via filtro:",f[0]),f[0]||null}catch(g){console.debug(`[pacienteService] Filtro ?${u}= falhou:`,(p=g==null?void 0:g.response)==null?void 0:p.status)}return console.log("[DEBUG] Nenhum paciente encontrado"),null},async atualizarPaciente(t){var d,p,u,g,f,h,v,w,y,j,N,P;const a="/pacientes/",r=a.endsWith("/")?a:`${a}/`,o=C=>Array.isArray(C)?C.map(_=>String(_).trim()).filter(Boolean).join(", "):typeof C=="string"?C.trim():C==null?"":String(C),i=C=>{if(C==null||C==="")return;typeof C=="string"&&(C=C.replace(",",".").trim());const _=Number(C);return Number.isFinite(_)?_:void 0},c={};if("tipo_sanguineo"in t&&(c.tipo_sanguineo=t.tipo_sanguineo),"alergias"in t&&(c.alergias=o(t.alergias)),"condicoes_cronicas"in t&&(c.condicoes_cronicas=o(t.condicoes_cronicas)),"peso"in t){const C=i(t.peso);C!==void 0&&(c.peso=C)}if("altura"in t){const C=i(t.altura);C!==void 0&&(c.altura=C)}"contato_emergencia_nome"in t&&(c.contato_emergencia_nome=((p=(d=t.contato_emergencia_nome)==null?void 0:d.trim)==null?void 0:p.call(d))||""),"contato_emergencia_telefone"in t&&(c.contato_emergencia_telefone=((g=(u=t.contato_emergencia_telefone)==null?void 0:u.trim)==null?void 0:g.call(u))||""),"plano_saude"in t&&(c.plano_saude=((h=(f=t.plano_saude)==null?void 0:f.trim)==null?void 0:h.call(f))||""),"numero_carteirinha"in t&&(c.numero_carteirinha=((w=(v=t.numero_carteirinha)==null?void 0:v.trim)==null?void 0:w.call(v))||""),"endereco"in t&&(c.endereco=((j=(y=t.endereco)==null?void 0:y.trim)==null?void 0:j.call(y))||""),"telefone"in t&&(c.telefone=((P=(N=t.telefone)==null?void 0:N.trim)==null?void 0:P.call(N))||""),"data_nascimento"in t&&(c.data_nascimento=t.data_nascimento),Object.keys(c).forEach(C=>{c[C]===void 0&&delete c[C]});try{return console.debug("[pacienteService] PATCH /pacientes/me/ payload:",c),(await ue.patch(`${r}me/`,c)).data}catch{const _=await this.getPacienteDoUsuario();if(!(_!=null&&_.id))throw new Error("Paciente não identificado para atualização.");return console.debug(`[pacienteService] PATCH /pacientes/${_.id}/ payload:`,c),(await ue.patch(`${r}${_.id}/`,c)).data}},async getReceitas(t={}){const a="/receitas/",r=a.endsWith("/")?a:`${a}/`,{__propagateErrors:o,...i}=t||{},c={...i};let d=null,p=!1;try{const C=await this.getPacienteDoUsuario();C!=null&&C.id&&(d=C.id,c.paciente||(c.paciente=C.id),c.paciente_id||(c.paciente_id=C.id),p=!0)}catch{}if(!p&&Object.keys(c).length===0)return{results:[]};const u=async(C,_)=>{var E;try{const k=await ue.get(C,_?{params:_}:void 0),A=k==null?void 0:k.data;return{ok:!0,data:(Array.isArray(A)?A:Array.isArray(A==null?void 0:A.results)?A.results:null)!=null?A:{results:[]}}}catch(k){const A=(E=k==null?void 0:k.response)==null?void 0:E.status;if(o===!0&&![400,404,405,500].includes(A))throw k;return{ok:!1,err:k}}},g=[];d&&(g.push(()=>u(r,{paciente:d})),g.push(()=>u(r,{paciente_id:d})));const f={...c};delete f.consulta__paciente,g.push(()=>u(r,f));let h=null;for(const C of g){const _=await C();if(_.ok){h=_.data;break}}if(!h){const C=await u(r);if(C.ok){h=C.data;const _=Array.isArray(h)?h:Array.isArray(h==null?void 0:h.results)?h.results:[],E=d?_.filter(k=>{var A,T;return String(k.paciente_id||k.paciente||((A=k==null?void 0:k.consulta)==null?void 0:A.paciente)||((T=k==null?void 0:k.consulta)==null?void 0:T.paciente_id)||"")===String(d)}):_;h=Array.isArray(h)?E:{results:E}}else h={results:[]}}let v=[];try{const C=JSON.parse(localStorage.getItem("mock_receitas")||"[]");if(Array.isArray(C)){const _=c.consulta__paciente||c.paciente||c.paciente_id||d;v=_?C.filter(E=>{var k;return String(E.paciente_id||((k=E.consulta)==null?void 0:k.paciente_id)||"")===String(_)}):C}}catch{}const w=Array.isArray(h)?h:Array.isArray(h==null?void 0:h.results)?h.results:[],y=new Map;[...w,...v].forEach(C=>{if(!C)return;const _=C.id??`${C.created_at}-${C.medicamentos}`;y.has(_)||y.set(_,C)});const j=Array.from(y.values()),N=C=>{if(!C||/^https?:\/\//i.test(C)||/^(data|blob):/i.test(C))return C;const _="http://127.0.0.1:8000".replace(/\/$/,""),E=C.startsWith("/")?C:`/${C}`;return`${_}${E}`};return{results:j.map(C=>{var E;const _=C.arquivo_assinado||C.arquivoAssinado||((E=C==null?void 0:C.arquivo)==null?void 0:E.url)||(C==null?void 0:C.pdf_url)||(C==null?void 0:C.download_url);return _&&!C.arquivo_assinado?{...C,arquivo_assinado:N(_)}:C.arquivo_assinado?{...C,arquivo_assinado:N(C.arquivo_assinado)}:C})}},async getMedicosVinculados(){const t="/pacientes/",a=t.endsWith("/")?t:`${t}/`,r=await this.getPacienteDoUsuario();if(!(r!=null&&r.id))return[];const o=await ue.get(`${a}${r.id}/medicos/`);return Array.isArray(o.data)?o.data:[]},async solicitarReceita({medico:t,mensagem:a}){const r="/pacientes/",o=r.endsWith("/")?r:`${r}/`,i=await this.getPacienteDoUsuario();if(!(i!=null&&i.id))throw new Error("Paciente não identificado.");const c={medico:t,...a?{mensagem:a}:{}};return(await ue.post(`${o}${i.id}/solicitar_receita/`,c)).data},async getMedicos(t={}){return(await ue.get("/medicos/",{params:t})).data},async getDashboard(){var t;try{const a=new Date,r=new Date(a.getFullYear(),a.getMonth(),1),o=new Date(a.getFullYear(),a.getMonth()+1,0),i=E=>Array.isArray(E==null?void 0:E.results)?E.results:Array.isArray(E)?E:[],[c,d,p,u]=await Promise.all([this.getConsultas().catch(()=>({results:[]})),this.getExames().catch(()=>({results:[]})),this.getReceitas().catch(()=>({results:[]})),this.getMedicosVinculados().catch(()=>[])]),g=i(c),f=i(d),h=i(p),v=E=>{const k=new Date(E);return k.getMonth()===a.getMonth()&&k.getFullYear()===a.getFullYear()},w=g.map(E=>{var k,A;return{id:E.id||E.consulta_id,data_hora:E.data_hora||E.horario||E.inicio||E.data||E.start_time||null,status:E.status||"Agendada",tipo:E.tipo||E.modalidade||"Consulta",especialidade:E.especialidade||E.medico_especialidade||null,medico_nome:E.medico_nome||((k=E==null?void 0:E.medico)==null?void 0:k.nome)||((A=E==null?void 0:E.medico)!=null&&A.user?[E.medico.user.first_name,E.medico.user.last_name].filter(Boolean).join(" ").trim():void 0)}}),y=w.filter(E=>E.data_hora&&new Date(E.data_hora)>=a).sort((E,k)=>new Date(E.data_hora)-new Date(k.data_hora)).slice(0,5),j=w.filter(E=>E.data_hora&&v(E.data_hora)).length,N=f.map(E=>({id:E.id,tipo:E.tipo||E.nome||E.categoria||"Exame",status:E.status||E.situacao||"Pendente",data_agendamento:E.data_agendamento||E.agendamento||E.data||null,medico_solicitante:E.medico_solicitante||E.medico||void 0})),P=N.filter(E=>E.data_agendamento&&new Date(E.data_agendamento)>=a).sort((E,k)=>new Date(E.data_agendamento)-new Date(k.data_agendamento)).slice(0,5),C=N.filter(E=>v(E.data_agendamento)&&["realizado","concluido","concluído","finalizado"].includes(String(E.status).toLowerCase())).length,_=i(h).filter(E=>["ativa","valida","válida"].includes(String(E.status||E.situacao||"").toLowerCase())).length;return{consultasMes:j,consultasProximas:y.length,examesPendentes:N.filter(E=>String(E.status).toLowerCase()==="pendente").length,examesRealizadosMes:C,receitasAtivas:_,medicosVinculados:Array.isArray(u)?u.length:0,proximasConsultas:y,proximosExames:P}}catch(a){return console.warn("[pacienteService] getDashboard fallback falhou:",(t=a==null?void 0:a.response)==null?void 0:t.status),null}},async garantirPacienteDoUsuario(t={}){var i,c;try{const d=await this.getPacienteDoUsuario();if(d!=null&&d.id)return d}catch{}const a="/pacientes/",r=a.endsWith("/")?a:`${a}/`,o={...t};Object.keys(o).forEach(d=>{o[d]===void 0&&delete o[d]});try{return(await ue.post(`${r}me/`,o)).data}catch(d){console.debug("[pacienteService] POST /pacientes/me/ falhou:",(i=d==null?void 0:d.response)==null?void 0:i.status)}try{const d=await ue.post(r,o);if(d!=null&&d.data)return d.data}catch(d){console.debug("[pacienteService] POST /pacientes/ falhou:",(c=d==null?void 0:d.response)==null?void 0:c.status)}try{const d=await this.getPacienteDoUsuario();if(d!=null&&d.id)return d}catch{}throw new Error("Não foi possível criar o perfil de paciente para o usuário atual.")}};function Ii({role:t="paciente"}){var B,G,F,M,K,$,z,q;const a=fs(),r=Ds(),{user:o,logout:i}=xr(),{logout:c}=Ga(),d=(o==null?void 0:o.role)==="admin"||(o==null?void 0:o.tipo)==="admin",p=Ag[t]||Ag.paciente,[u,g]=x.useState(""),[f,h]=x.useState(3),[v,w]=x.useState(!1),[y,j]=x.useState(null),[N,P]=x.useState(t==="paciente");x.useEffect(()=>{let Y=!0;if(t!=="paciente"){j(null),P(!1);return}return(async()=>{try{const ee=await bt.getPacienteDoUsuario();Y&&j(ee||null)}catch{Y&&j(null)}finally{Y&&P(!1)}})(),()=>{Y=!1}},[t]);const C=[{title:"Paciente",href:"/paciente/perfil",icon:is},{title:"Médico",href:"/medico/dashboard",icon:xt},{title:"Clínica",href:"/clinica/dashboard",icon:Wr},{title:"Admin",href:"/admin/dashboard",icon:Ha}],_=((B=p.header)==null?void 0:B.icon)||is,E=((G=p.header)==null?void 0:G.subtitle)||"Portal",k=(($=(K=(M=(F=p.sections)==null?void 0:F[0])==null?void 0:M.items)==null?void 0:K[0])==null?void 0:$.path)||"/",A=(y==null?void 0:y.foto_url)||(y==null?void 0:y.foto)||(o==null?void 0:o.avatar)||(o==null?void 0:o.avatar_url)||"/placeholder.svg",T=x.useMemo(()=>{var ee,D,H;const Y=[(ee=y==null?void 0:y.user)==null?void 0:ee.display_name,[((D=y==null?void 0:y.user)==null?void 0:D.first_name)||(y==null?void 0:y.first_name),((H=y==null?void 0:y.user)==null?void 0:H.last_name)||(y==null?void 0:y.last_name)].filter(Boolean).join(" ").trim()].filter(Boolean).shift();return(y==null?void 0:y.nome)||(y==null?void 0:y.display_name)||Y||(o==null?void 0:o.display_name)||(o==null?void 0:o.nome)||[o==null?void 0:o.first_name,o==null?void 0:o.last_name].filter(Boolean).join(" ").trim()||(o==null?void 0:o.name)||"Usuário"},[y,o]),R=x.useMemo(()=>{var Y,ee;return(y==null?void 0:y.cpf)||((Y=y==null?void 0:y.user)==null?void 0:Y.cpf)||(o==null?void 0:o.cpf)||((ee=o==null?void 0:o.profile)==null?void 0:ee.cpf)||""},[y,o]),I=x.useMemo(()=>{var Y;return u.trim()?((Y=p.sections)==null?void 0:Y.map(ee=>{var D;return{...ee,items:((D=ee.items)==null?void 0:D.filter(H=>H.label.toLowerCase().includes(u.toLowerCase())))||[]}}).filter(ee=>ee.items.length>0))||[]:p.sections||[]},[p.sections,u]),L=R||(y==null?void 0:y.plano_saude)||(o==null?void 0:o.email)||"";return e.jsxs(ej,{variant:"floating",className:ye("bg-gradient-to-b from-slate-900 to-slate-950 border-slate-800 text-white shadow-2xl"),children:[e.jsxs(aj,{className:"border-b border-slate-800/50 bg-gradient-to-r from-slate-900/80 to-slate-800/80 backdrop-blur-xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[e.jsxs(Je,{to:k,className:"flex items-center gap-3 group",children:[e.jsx("div",{className:"flex aspect-square size-10 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 via-blue-600 to-purple-600 text-white shadow-lg group-hover:shadow-blue-500/25 transition-all duration-300 group-hover:scale-105",children:e.jsx(_,{className:"size-5"})}),e.jsxs("div",{className:"flex flex-col leading-tight",children:[e.jsx("span",{className:"font-bold text-white text-lg group-hover:text-blue-200 transition-colors",children:"Portal Médico"}),e.jsx("span",{className:"text-xs text-slate-400 group-hover:text-slate-300 transition-colors",children:E})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Z,{variant:"ghost",size:"sm",className:"relative text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all duration-200 hover:scale-105",children:[e.jsx(lf,{className:"size-4"}),f>0&&e.jsx("span",{className:"absolute -top-1 -right-1 size-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center animate-pulse",children:f})]}),e.jsx(Z,{variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all duration-200 hover:scale-105",children:e.jsx(HS,{className:"size-4"})})]})]}),e.jsx("div",{className:"px-4 pb-4",children:e.jsxs("div",{className:ye("relative transition-all duration-300",v&&"transform scale-[1.02]"),children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 size-4 text-slate-400"}),e.jsx(fe,{placeholder:"Pesquisar no menu...",value:u,onChange:Y=>g(Y.target.value),onFocus:()=>w(!0),onBlur:()=>w(!1),className:ye("pl-10 bg-slate-800/50 border-slate-700 text-white placeholder:text-slate-400","focus:bg-slate-800 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20","transition-all duration-300")})]})})]}),e.jsxs(nj,{className:"bg-gradient-to-b from-slate-900 to-slate-950",children:[I==null?void 0:I.map((Y,ee)=>e.jsxs($m,{className:"px-3 py-2",children:[Y.label&&e.jsxs(Lm,{className:"text-slate-400 text-xs font-semibold uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(Js,{className:"size-3"}),Y.label]}),e.jsx(Im,{children:e.jsx(Fm,{className:"space-y-1",children:(Y.items||[]).map((D,H)=>{const ae=a.pathname===D.path||a.pathname.startsWith(D.path+"/"),V=D.icon;return e.jsx(zm,{children:e.jsx(Bm,{asChild:!0,"data-active":ae,className:ye("group flex items-center gap-3 px-3 py-3 rounded-xl transition-all duration-300","text-slate-300 hover:text-white hover:bg-gradient-to-r hover:from-slate-800/50 hover:to-slate-700/50","hover:shadow-lg hover:shadow-slate-900/20 hover:scale-[1.02] hover:translate-x-1",ae&&"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg shadow-blue-600/30 scale-[1.02] translate-x-1"),style:{animationDelay:`${H*50}ms`},children:e.jsxs(Je,{to:D.path,className:"flex items-center gap-3 w-full",children:[V&&e.jsx("div",{className:ye("p-1.5 rounded-lg transition-all duration-300",ae?"bg-white/20":"bg-slate-800/50 group-hover:bg-slate-700/50"),children:e.jsx(V,{className:"size-4 flex-shrink-0"})}),e.jsx("span",{className:"font-medium",children:D.label}),D.badge&&e.jsx(ft,{variant:"secondary",className:"ml-auto bg-slate-700 text-slate-200 text-xs animate-pulse",children:D.badge})]})})},D.path)})})})]},`${Y.label}-${ee}`)),d&&t!=="admin"&&e.jsxs($m,{className:"px-3 py-2",children:[e.jsxs(Lm,{className:"text-slate-400 text-xs font-semibold uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(Ha,{className:"size-3"}),"Telas Administrativas"]}),e.jsx(Im,{children:e.jsx(Fm,{className:"space-y-1",children:C.map((Y,ee)=>{const D=a.pathname===Y.href||a.pathname.startsWith(Y.href+"/"),H=Y.icon;return e.jsx(zm,{children:e.jsx(Bm,{asChild:!0,"data-active":D,className:ye("group flex items-center gap-3 px-3 py-3 rounded-xl transition-all duration-300","text-slate-300 hover:text-white hover:bg-gradient-to-r hover:from-amber-800/30 hover:to-amber-700/30","hover:shadow-lg hover:shadow-amber-900/20 hover:scale-[1.02] hover:translate-x-1",D&&"bg-gradient-to-r from-amber-600 to-amber-700 text-white shadow-lg shadow-amber-600/30 scale-[1.02] translate-x-1"),style:{animationDelay:`${ee*50}ms`},children:e.jsxs(Je,{to:Y.href,className:"flex items-center gap-3 w-full",children:[H&&e.jsx("div",{className:ye("p-1.5 rounded-lg transition-all duration-300",D?"bg-white/20":"bg-slate-800/50 group-hover:bg-amber-700/30"),children:e.jsx(H,{className:"size-4 flex-shrink-0"})}),e.jsx("span",{className:"font-medium",children:Y.title}),e.jsx(ft,{variant:"outline",className:"ml-auto border-amber-500/50 text-amber-400 text-xs",children:"Admin"})]})})},Y.href)})})})]})]}),e.jsxs(rj,{className:"border-t border-slate-800/50 bg-gradient-to-r from-slate-900/80 to-slate-800/80 backdrop-blur-xl",children:[e.jsx("div",{className:"px-4 py-3",children:e.jsxs(iy,{children:[e.jsx(ly,{asChild:!0,children:e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-slate-800/50 to-slate-700/50 hover:from-slate-800 hover:to-slate-700 transition-all duration-300 cursor-pointer group hover:shadow-lg hover:shadow-slate-900/20 hover:scale-[1.02]",children:[e.jsxs(Oi,{className:"size-10 ring-2 ring-slate-700 group-hover:ring-blue-500/50 transition-all duration-300",children:[e.jsx(nd,{src:A}),e.jsx($i,{className:"bg-gradient-to-br from-blue-500 via-blue-600 to-purple-600 text-white font-semibold",children:(q=(z=T||"U")==null?void 0:z.charAt(0))==null?void 0:q.toUpperCase()})]}),e.jsxs("div",{className:"flex flex-col gap-0.5 leading-tight flex-1 min-w-0",children:[e.jsx("span",{className:"text-sm font-semibold text-white truncate group-hover:text-blue-200 transition-colors",children:T}),e.jsx("span",{className:"text-xs text-slate-400 truncate group-hover:text-slate-300 transition-colors",children:L})]}),e.jsx(cf,{className:"size-4 text-slate-400 group-hover:text-white transition-all duration-300 group-hover:rotate-180"})]})}),e.jsxs(zf,{align:"end",className:"w-56 bg-slate-800 border-slate-700 text-white shadow-2xl",children:[e.jsx(cy,{className:"text-slate-300",children:"Minha Conta"}),e.jsx(Hm,{className:"bg-slate-700"}),e.jsxs(hn,{className:"hover:bg-slate-700 focus:bg-slate-700 cursor-pointer",children:[e.jsx(nC,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Perfil"})]}),e.jsxs(hn,{className:"hover:bg-slate-700 focus:bg-slate-700 cursor-pointer",onClick:()=>{const Y=a.pathname.split("/")[1];r(`/${Y}/configuracoes`)},children:[e.jsx(yc,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Configurações"})]}),e.jsx(Hm,{className:"bg-slate-700"}),e.jsxs(hn,{className:"hover:bg-red-900/50 focus:bg-red-900/50 cursor-pointer text-red-400",onClick:async()=>{try{await i()}finally{c==null||c(),r("/login")}},children:[e.jsx(YS,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Sair da Conta"})]})]})]})}),e.jsx(Ls,{className:"bg-slate-800/50"}),e.jsx("div",{className:"px-4 py-3 space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"size-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Online"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(iC,{className:"size-3"}),e.jsx("span",{children:"v2.1.0"})]})]})})]})]})}function _R(){const t=fs(),a=Ds(),[r,o]=x.useState(null),[i,c]=x.useState(!0),d=x.useRef(!1),p=async()=>{try{const h=await bt.getPerfil();o(h)}catch{}finally{c(!1)}};x.useEffect(()=>{let h=!0;return(async()=>h&&(c(!0),await p()))(),()=>{h=!1}},[]);const u=!!r&&(!(r!=null&&r.data_nascimento)||!(r!=null&&r.endereco)||!(r!=null&&r.telefone));x.useEffect(()=>((async()=>t.pathname!=="/paciente/perfil"&&(d.current=!0,c(!0),await p(),d.current=!1))(),()=>{}),[t.pathname]),x.useEffect(()=>{d.current||!i&&u&&t.pathname!=="/paciente/perfil"&&a("/paciente/perfil",{replace:!0})},[i,u,t.pathname,a]);const g=x.useMemo(()=>{const h=t.pathname,v={"/paciente/perfil":"Perfil","/paciente/prontuario":"Prontuário","/paciente/consultas":"Consultas","/paciente/exames":"Exames","/paciente/receitas":"Receitas","/paciente/historico-medico":"Histórico Médico","/paciente/medicos":"Médicos Vinculados","/paciente/configuracoes":"Configurações"},w=v[h]||Object.keys(v).find(y=>h.startsWith(y))&&v[Object.keys(v).find(y=>h.startsWith(y))]||"Perfil";return[{label:"Área do Paciente",href:"/paciente/perfil"},{label:w}]},[t.pathname]),f=()=>e.jsx(Ii,{role:"paciente"});return e.jsx(Li,{sidebar:f,breadcrumbs:g,children:e.jsx(Ci,{})})}function kR(){const t=()=>e.jsx(Ii,{role:"medico"});return e.jsx(Li,{sidebar:t,children:e.jsx(Ci,{})})}function Cy({breadcrumbs:t}){const a=()=>e.jsx(Ii,{role:"clinica"});return e.jsx(Li,{sidebar:a,breadcrumbs:t,children:e.jsx(Ci,{})})}function ER(){const t=()=>e.jsx(Ii,{role:"admin"});return e.jsx(Li,{sidebar:t,children:e.jsx(Ci,{})})}var RR="Label",_y=x.forwardRef((t,a)=>e.jsx(et.label,{...t,ref:a,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));_y.displayName=RR;var PR=_y;const AR=Lc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),me=x.forwardRef(({className:t,...a},r)=>e.jsx(PR,{ref:r,className:ye(AR(),t),...a}));me.displayName="Label";const ne=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,className:ye("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a}));ne.displayName="Card";const he=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,className:ye("flex flex-col space-y-1.5 p-6",t),...a}));he.displayName="CardHeader";const xe=x.forwardRef(({className:t,...a},r)=>e.jsx("h3",{ref:r,className:ye("text-2xl font-semibold leading-none tracking-tight",t),...a}));xe.displayName="CardTitle";const Xe=x.forwardRef(({className:t,...a},r)=>e.jsx("p",{ref:r,className:ye("text-sm text-muted-foreground",t),...a}));Xe.displayName="CardDescription";const ie=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,className:ye("p-6 pt-0",t),...a}));ie.displayName="CardContent";const TR=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,className:ye("flex items-center p-6 pt-0",t),...a}));TR.displayName="CardFooter";const MR=5;let fm=0;function DR(){return fm=(fm+1)%Number.MAX_SAFE_INTEGER,fm.toString()}const Ur={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},fc=[];let hc={toasts:[]};function pc(t){hc=OR(hc,t),fc.forEach(a=>{a(hc)})}function OR(t,a){switch(a.type){case Ur.ADD_TOAST:return{...t,toasts:[a.toast,...t.toasts].slice(0,MR)};case Ur.UPDATE_TOAST:return{...t,toasts:t.toasts.map(r=>r.id===a.toast.id?{...r,...a.toast}:r)};case Ur.DISMISS_TOAST:return{...t,toasts:t.toasts.map(r=>r.id===a.toastId||a.toastId===void 0?{...r,open:!1}:r)};case Ur.REMOVE_TOAST:return a.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==a.toastId)}}}function $R({...t}){const a=DR(),r=i=>pc({type:Ur.UPDATE_TOAST,toast:{...i,id:a}}),o=()=>pc({type:Ur.DISMISS_TOAST,toastId:a});return pc({type:Ur.ADD_TOAST,toast:{...t,id:a,open:!0,onOpenChange:i=>{i||o()}}}),{id:a,dismiss:o,update:r}}function ts(){const[t,a]=x.useState(hc);return x.useEffect(()=>(fc.push(a),()=>{const r=fc.indexOf(a);r>-1&&fc.splice(r,1)}),[t]),{...t,toast:$R,dismiss:r=>pc({type:Ur.DISMISS_TOAST,toastId:r})}}function LR(){const[t,a]=x.useState({email:"",password:""}),[r,o]=x.useState(!1),[i,c]=x.useState(!1),{login:d,loginWithGoogle:p}=xr(),{toast:u}=ts(),g=Ds(),f=async C=>{var _,E,k,A,T,R,I,L,B,G,F;C.preventDefault(),o(!0);try{const M=await d(t);switch(u({title:"Login realizado com sucesso!",description:`Bem-vindo, ${((_=M.user)==null?void 0:_.first_name)||((E=M.user)==null?void 0:E.username)||((k=M.user)==null?void 0:k.email)||"usuário"}!`}),((A=M.user)==null?void 0:A.role)||((T=M.user)==null?void 0:T.tipo)){case"medico":g("/medico/dashboard");break;case"paciente":g("/paciente/perfil");break;case"clinica":g("/clinica/dashboard");break;case"admin":g("/admin/dashboard");break;default:g("/")}}catch(M){const K=((I=(R=M.response)==null?void 0:R.data)==null?void 0:I.error)||((B=(L=M.response)==null?void 0:L.data)==null?void 0:B.detail)||((F=(G=M.response)==null?void 0:G.data)==null?void 0:F.message);u({title:"Erro no login",description:K||"Credenciais inválidas",variant:"destructive"})}finally{o(!1)}},h=C=>{a(_=>({..._,[C.target.name]:C.target.value}))},[v,w]=x.useState(!1),y=x.useRef(null),{setTheme:j,theme:N}=ij(),P=x.useRef(null);return x.useEffect(()=>(P.current=N,j("light"),()=>{P.current&&j(P.current)}),[N,j]),x.useEffect(()=>{if(window.google&&y.current)try{window.google.accounts.id.initialize({client_id:"SEU_CLIENT_ID_REAL.apps.googleusercontent.com",callback:async C=>{var E,k,A,T,R,I,L,B;const _=C==null?void 0:C.credential;if(_){w(!0);try{const G=await p(_);switch(u({title:"Login com Google realizado!",description:`Bem-vindo, ${((E=G.user)==null?void 0:E.nome)||((k=G.user)==null?void 0:k.first_name)||((A=G.user)==null?void 0:A.username)||((T=G.user)==null?void 0:T.email)||"usuário"}!`}),((R=G.user)==null?void 0:R.role)||((I=G.user)==null?void 0:I.tipo)){case"medico":g("/medico/dashboard");break;case"paciente":g("/paciente/perfil");break;case"clinica":g("/clinica/dashboard");break;case"admin":g("/admin/dashboard");break;default:g("/")}}catch(G){u({title:"Erro no login com Google",description:((B=(L=G.response)==null?void 0:L.data)==null?void 0:B.message)||"Não foi possível autenticar",variant:"destructive"})}finally{w(!1)}}}}),window.google.accounts.id.renderButton(y.current,{theme:"outline",size:"large",shape:"pill",text:"continue_with",width:320})}catch{}},[p,g,u]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-600/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-indigo-400/20 to-blue-600/20 rounded-full blur-3xl"})]}),e.jsxs(ne,{className:"w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 relative z-10",children:[e.jsxs(he,{className:"space-y-1 text-center pb-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mb-6 shadow-lg",children:e.jsx(xt,{className:"w-8 h-8 text-white"})}),e.jsx(xe,{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Portal Médico"}),e.jsx(Xe,{className:"text-slate-600 text-base",children:"Acesse sua conta para continuar"})]}),e.jsxs(ie,{className:"space-y-6 px-8 pb-8",children:[e.jsxs("form",{onSubmit:f,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(me,{htmlFor:"email",className:"text-slate-700 font-medium flex items-center gap-2",children:[e.jsx(fr,{className:"w-4 h-4"}),"Email"]}),e.jsx(fe,{id:"email",name:"email",type:"email",placeholder:"seu@email.com",value:t.email,onChange:h,required:!0,className:"h-12 border-slate-200 focus:border-blue-500 focus:ring-blue-500/20 bg-white/80 backdrop-blur-sm transition-all duration-200"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(me,{htmlFor:"password",className:"text-slate-700 font-medium flex items-center gap-2",children:[e.jsx(O0,{className:"w-4 h-4"}),"Senha"]}),e.jsxs("div",{className:"relative",children:[e.jsx(fe,{id:"password",name:"password",type:i?"text":"password",placeholder:"••••••••",value:t.password,onChange:h,required:!0,className:"h-12 border-slate-200 focus:border-blue-500 focus:ring-blue-500/20 bg-white/80 backdrop-blur-sm transition-all duration-200 pr-12"}),e.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-12 px-3 hover:bg-transparent",onClick:()=>c(!i),children:i?e.jsx(BS,{className:"h-4 w-4 text-slate-400"}):e.jsx(Ea,{className:"h-4 w-4 text-slate-400"})})]})]}),e.jsx(Z,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",disabled:r,children:r?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Entrando..."]}):"Entrar"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"}),e.jsx("span",{className:"text-sm text-slate-500 font-medium bg-white px-2",children:"ou"}),e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{ref:y,className:"w-full flex justify-center"})}),!window.google&&e.jsx(Z,{type:"button",variant:"outline",className:"w-full h-12 border-slate-200 hover:bg-slate-50 bg-white/80 backdrop-blur-sm transition-all duration-200",disabled:!0,children:v?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-slate-400/30 border-t-slate-400 rounded-full animate-spin"}),"Conectando..."]}):"Continuar com Google"}),e.jsxs("div",{className:"text-center space-y-3 pt-4",children:[e.jsx(Je,{to:"/esqueci-senha",className:"text-sm text-blue-600 hover:text-blue-700 hover:underline font-medium transition-colors duration-200",children:"Esqueceu sua senha?"}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Não tem uma conta?"," ",e.jsx(Je,{to:"/registrar",className:"text-blue-600 hover:text-blue-700 hover:underline font-medium transition-colors duration-200",children:"Cadastre-se"})]})]})]})]})]})}function IR(){const t=Ds(),{toast:a}=ts(),[r,o]=x.useState(!1),[i,c]=x.useState("paciente"),[d,p]=x.useState(!1),[u,g]=x.useState(!1),[f,h]=x.useState({nome:"",email:"",senha:"",confirmSenha:"",cpf:"",nomeClinica:"",cnpj:""}),v=M=>{const K=M.replace(/\D/g,"").slice(0,11),$=K.slice(0,3),z=K.slice(3,6),q=K.slice(6,9),Y=K.slice(9,11);return K.length>9?`${$}.${z}.${q}-${Y}`:K.length>6?`${$}.${z}.${q}`:K.length>3?`${$}.${z}`:$},w=M=>{const K=String(M||"").replace(/\D/g,"").slice(0,14),$=K.slice(0,2),z=K.slice(2,5),q=K.slice(5,8),Y=K.slice(8,12),ee=K.slice(12,14);return K.length>12?`${$}.${z}.${q}/${Y}-${ee}`:K.length>8?`${$}.${z}.${q}/${Y}`:K.length>5?`${$}.${z}.${q}`:K.length>2?`${$}.${z}`:$},y=M=>String(M||"").replace(/\D/g,"").slice(0,7),j=M=>{const{name:K,value:$}=M.target;if(K==="cpf"){h({...f,cpf:v($)});return}if(K==="cnpj"){h({...f,cnpj:w($)});return}h({...f,[K]:$})},N=M=>String(M||"").trim().replace(/\s+/g," ").split(" ").filter(Boolean).map(K=>K.charAt(0).toUpperCase()+K.slice(1).toLowerCase()).join(" "),[P,C]=x.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),_=x.useRef(null),E=x.useRef(null),k=x.useRef(null),A=M=>{const{name:K,value:$}=M.target;C(K==="crm"?z=>({...z,crm:y($)}):z=>({...z,[K]:$}))},T=(M,K)=>{C($=>({...$,documentos:{...$.documentos,[M]:K}}))},R=(M,K)=>{C($=>({...$,documentos:{...$.documentos,[M]:null}})),K!=null&&K.current&&(K.current.value="")},I=M=>{if(!M&&M!==0)return"";const K=["Bytes","KB","MB","GB"];if(M===0)return"0 Byte";const $=Math.floor(Math.log(M)/Math.log(1024));return`${(M/Math.pow(1024,$)).toFixed(1)} ${K[$]}`},L=({label:M,required:K=!1,icon:$="📄",accept:z=".pdf,image/*",file:q,onFile:Y,onRemove:ee,inputRef:D})=>{const[H,ae]=x.useState(!1),V=U=>{var te;U.preventDefault(),ae(!1);const Q=(te=U.dataTransfer.files)==null?void 0:te[0];Q&&Y(Q)};return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-base",children:$}),e.jsxs("label",{className:"text-sm font-medium text-slate-700",children:[M," ",K?e.jsx("span",{className:"text-rose-600",children:"*"}):e.jsx("span",{className:"text-slate-400",children:"(opcional)"})]})]}),e.jsx("input",{ref:D,type:"file",accept:z,className:"hidden",onChange:U=>{var Q;return Y(((Q=U.target.files)==null?void 0:Q[0])||null)}}),e.jsxs("div",{onDragOver:U=>{U.preventDefault(),ae(!0)},onDragLeave:()=>ae(!1),onDrop:V,className:`rounded-lg border-2 p-3 flex items-center justify-between gap-3 transition
            ${H?"border-sky-400 bg-sky-50":"border-dashed border-slate-300 bg-white"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"h-10 w-10 rounded-md bg-slate-100 flex items-center justify-center text-lg",children:$}),q?e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:q.name}),e.jsxs("p",{className:"text-xs text-slate-500",children:[q.type||"Arquivo"," • ",I(q.size)]})]}):e.jsxs("div",{className:"text-sm text-slate-600",children:["Arraste e solte aqui ou"," ",e.jsx("button",{type:"button",onClick:()=>{var U;return(U=D==null?void 0:D.current)==null?void 0:U.click()},className:"underline text-sky-700 hover:text-sky-800",children:"procurar"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[!q&&e.jsx("button",{type:"button",onClick:()=>{var U;return(U=D==null?void 0:D.current)==null?void 0:U.click()},className:"px-3 py-2 rounded-md bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800",children:"Escolher arquivo"}),q&&e.jsx("button",{type:"button",onClick:ee,className:"px-3 py-2 rounded-md bg-rose-50 text-rose-700 text-xs font-semibold hover:bg-rose-100",children:"Remover"})]})]})]})},B=f.email.length===0||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f.email),G=f.confirmSenha.length===0||f.senha.length>0&&f.senha===f.confirmSenha,F=async M=>{var K,$,z,q,Y,ee,D,H,ae,V;if(M.preventDefault(),!f.nome||!f.email||!f.senha||!f.cpf){a({title:"Erro de validação",description:"Por favor, preencha todos os campos obrigatórios.",variant:"destructive"});return}if(f.senha!==f.confirmSenha){a({title:"Erro de validação",description:"As senhas não conferem.",variant:"destructive"});return}if(f.senha.length<6){a({title:"Erro de validação",description:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}if(i==="medico"){if(!P.crm){a({title:"CRM obrigatório",description:"Informe o CRM para cadastro como médico.",variant:"destructive"});return}if(!P.documentos.diplomaMedicina){a({title:"Diploma obrigatório",description:"Anexe o Diploma de Medicina.",variant:"destructive"});return}}o(!0);try{const U=String(f.nome||"").trim().replace(/\s+/g," "),Q=N(U),[te,...oe]=Q.split(" "),ge=oe.join(" "),be={username:f.nome.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").replace(/[^a-z0-9@.+_-]/g,""),first_name:te||"",last_name:ge||"",email:f.email,password:f.senha,password_confirm:f.confirmSenha,role:i==="medico"?"paciente":i,desired_role:i,cpf:f.cpf||""};i==="clinica"&&(be.nome_clinica=f.nomeClinica,be.cnpj=f.cnpj);const Ee=await ht.register(be,{medicoData:i==="medico"?P:void 0});if(i==="medico"){const Ae=Ee==null?void 0:Ee.medicoApplication;Ae!=null&&Ae.success?a({title:"Solicitação enviada!",description:"Seus dados de médico foram enviados para análise."}):Ae&&Ae.success===!1&&(console.error("[RegisterForm] criarSolicitacaoMedico via authService falhou:",Ae.error),a({title:"Solicitação pendente",description:"Sua conta foi criada, mas não foi possível enviar a solicitação de médico agora. Você poderá concluir depois."}))}a({title:"Registro realizado com sucesso!",description:"Sua conta foi criada. Você pode fazer login agora."}),t("/login")}catch(U){console.error("Erro no registro:",U),console.error("Status do erro:",(K=U.response)==null?void 0:K.status),console.error("Detalhes do erro:",($=U.response)==null?void 0:$.data),console.error("Headers da resposta:",(z=U.response)==null?void 0:z.headers);let Q="Erro interno do servidor. Tente novamente.",te=!1,oe=!1,ge=!1;try{const be=(q=U.response)==null?void 0:q.status,Ee=((Y=U.response)==null?void 0:Y.headers)||{},Ae=Ee["content-type"]||Ee["Content-Type"]||"",We=(ee=U.response)==null?void 0:ee.data,kt=((typeof We=="string"?We:"")||"").toLowerCase(),jt=Lt=>{Lt==="crm"?Q="CRM já cadastrado no sistema. Utilize outro número de CRM.":Lt==="email"?Q="E-mail já cadastrado no sistema.":Lt==="cpf"?Q="CPF já cadastrado no sistema.":Q="Algum campo único já está cadastrado (ex.: CRM, e-mail ou CPF)."};be===409&&(jt("unknown"),oe=!0),te=String(Ae).includes("text/html"),(te||kt.includes("unique constraint")||kt.includes("integrityerror"))&&(kt.includes("crm")?(jt("crm"),oe=!0,ge=!0):kt.includes("email")?(jt("email"),oe=!0):kt.includes("cpf")&&(jt("cpf"),oe=!0))}catch{}if((D=U.response)!=null&&D.data){const be=U.response.data;if(console.log("Tipo do errorData:",typeof be),console.log("ErrorData completo:",JSON.stringify(be,null,2)),typeof be=="object"){const Ee=[];for(const[Ae,We]of Object.entries(be))Array.isArray(We)?Ee.push(`${Ae}: ${We.join(", ")}`):Ee.push(`${Ae}: ${We}`);Ee.length&&(Q=Ee.join(`
`))}typeof be=="string"?/<\/?(html|body|head|table|div|span|style|script)[^>]*>/i.test(be)||(Q=be):be.message?Q=be.message:be.email?Q=`Email: ${be.email[0]}`:be.password&&(Q=`Senha: ${be.password[0]}`)}try{const be=(H=U.response)==null?void 0:H.status,Ee=((ae=U.response)==null?void 0:ae.headers)||{},Ae=Ee["content-type"]||Ee["Content-Type"]||"",We=(V=U.response)==null?void 0:V.data,kt=((typeof We=="string"?We:"")||"").toLowerCase(),jt=oe||be===409||kt.includes("unique constraint")||kt.includes("integrityerror"),Lt=te||String(Ae).includes("text/html"),dt=ge||kt.includes("crm")||kt.includes("medico");if(jt&&(Lt||dt)){try{await ht.login({email:f.email,password:f.senha}),await ht.logout(),a({title:"Conta criada",description:"Sua conta foi criada, mas houve um problema com os dados de médico (CRM). Faça login para continuar."}),t("/login");return}catch{}a({title:"Conta possivelmente criada",description:Q+" — Tente fazer login com seu e-mail e senha."}),t("/login");return}}catch{}a({title:"Erro no registro",description:Q,variant:"destructive"})}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen bg-app-soft flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md bg-white/95 backdrop-blur shadow-app-lg rounded-2xl border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"px-6 pt-6 pb-4 bg-app-gradient text-white",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Criar conta"}),e.jsx("p",{className:"text-white/90 text-sm",children:i==="paciente"?"Como paciente":i==="clinica"?"Como clínica":"Como médico"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-slate-100 rounded-lg p-1 grid grid-cols-3 gap-1",children:[e.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${i==="paciente"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>c("paciente"),children:"👤 Paciente"}),e.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${i==="clinica"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>c("clinica"),children:"🏥 Clínica"}),e.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${i==="medico"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>c("medico"),children:"🩺 Médico"})]}),e.jsxs("form",{className:"space-y-4",onSubmit:F,children:[i!=="clinica"?e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome completo"}),e.jsx("input",{type:"text",name:"nome",placeholder:"Seu nome",value:f.nome,onChange:j,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome da clínica"}),e.jsx("input",{type:"text",name:"nomeClinica",placeholder:"Ex.: Clínica Vida",value:f.nomeClinica,onChange:j,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CNPJ"}),e.jsx("input",{type:"text",name:"cnpj",placeholder:"00.000.000/0000-00",value:f.cnpj,onChange:j,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"E-mail"}),e.jsx("input",{type:"email",name:"email",placeholder:"seu@email.com",value:f.email,onChange:j,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${B?"border-slate-200 focus:ring-sky-500":"border-rose-300 focus:ring-rose-500"}`}),!B&&e.jsx("p",{className:"mt-1 text-xs text-rose-600",children:"Informe um e-mail válido."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CPF *"}),e.jsx("input",{type:"text",name:"cpf",placeholder:"000.000.000-00",value:f.cpf,onChange:j,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:d?"text":"password",name:"senha",placeholder:"Crie uma senha",value:f.senha,onChange:j,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"}),e.jsx("button",{type:"button",onClick:()=>p(M=>!M),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":d?"Ocultar senha":"Mostrar senha",children:d?"Ocultar":"Mostrar"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Confirmar senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:u?"text":"password",name:"confirmSenha",placeholder:"Repita a senha",value:f.confirmSenha,onChange:j,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 transition ${G?"border-slate-200 focus:ring-sky-500 focus:border-sky-500":"border-amber-300 focus:ring-amber-400"}`}),e.jsx("button",{type:"button",onClick:()=>g(M=>!M),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":u?"Ocultar senha":"Mostrar senha",children:u?"Ocultar":"Mostrar"})]}),f.confirmSenha.length>0&&e.jsx("p",{className:`mt-1 text-xs ${f.senha===f.confirmSenha?"text-emerald-600":"text-amber-600"}`,children:f.senha===f.confirmSenha?"Senhas conferem.":"As senhas não conferem."})]}),i==="medico"&&e.jsxs("div",{className:"space-y-4 border rounded-lg p-4",children:[e.jsx("p",{className:"font-semibold",children:"Dados do Médico"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CRM"}),e.jsx("input",{type:"text",name:"crm",placeholder:"CRM",value:P.crm,onChange:A,maxLength:7,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Especialidade"}),e.jsx("input",{type:"text",name:"especialidade",placeholder:"Ex.: Cardiologia",value:P.especialidade,onChange:A,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituição de Formação"}),e.jsx("input",{type:"text",name:"instituicaoFormacao",placeholder:"Universidade",value:P.instituicaoFormacao,onChange:A,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano de Formação"}),e.jsx("input",{type:"number",name:"anoFormacao",placeholder:"YYYY",value:P.anoFormacao,onChange:A,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Residência (se aplicável)"}),e.jsx("input",{type:"text",name:"residencia",placeholder:"Residência Médica",value:P.residencia,onChange:A,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituição da Residência"}),e.jsx("input",{type:"text",name:"instituicaoResidencia",placeholder:"Instituição",value:P.instituicaoResidencia,onChange:A,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano da Residência"}),e.jsx("input",{type:"number",name:"anoResidencia",placeholder:"YYYY",value:P.anoResidencia,onChange:A,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Experiência"}),e.jsx("textarea",{name:"experiencia",placeholder:"Resumo da experiência",value:P.experiencia,onChange:A,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Motivação"}),e.jsx("textarea",{name:"motivacao",placeholder:"Por que deseja se cadastrar como médico na plataforma?",value:P.motivacao,onChange:A,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"font-medium",children:"Documentos"}),e.jsx(L,{label:"Diploma de Medicina",required:!0,icon:"🎓",accept:".pdf,image/*",file:P.documentos.diplomaMedicina,inputRef:_,onFile:M=>T("diplomaMedicina",M),onRemove:()=>R("diplomaMedicina",_)}),e.jsx(L,{label:"Certificado de Residência",icon:"🏅",accept:".pdf,image/*",file:P.documentos.certificadoResidencia,inputRef:E,onFile:M=>T("certificadoResidencia",M),onRemove:()=>R("certificadoResidencia",E)}),e.jsx(L,{label:"Comprovante de Experiência",icon:"📄",accept:".pdf,image/*",file:P.documentos.comprovanteExperiencia,inputRef:k,onFile:M=>T("comprovanteExperiencia",M),onRemove:()=>R("comprovanteExperiencia",k)})]})]}),e.jsx("button",{type:"submit",disabled:r,className:"w-full py-2.5 rounded-lg font-semibold text-white bg-app-gradient hover:opacity-90 shadow-app transition disabled:opacity-70 disabled:cursor-not-allowed",children:r?"Registrando...":`Registrar ${{paciente:"Paciente",clinica:"Clínica",medico:"Médico"}[i]||"Usuário"}`})]})]})]})})}const ky=x.createContext(null);function Ey(){const t=x.useContext(ky);if(!t)throw new Error("Tabs components must be used within <Tabs>");return t}const Ma=x.forwardRef(({className:t,value:a,defaultValue:r="",onValueChange:o,children:i,...c},d)=>{const[p,u]=x.useState(r),g=a!==void 0,f=g?a:p,h=v=>{g||u(v),o==null||o(v)};return e.jsx(ky.Provider,{value:{value:f,setValue:h},children:e.jsx("div",{ref:d,className:ye("",t),...c,children:i})})});Ma.displayName="Tabs";const Da=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,className:ye("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...a}));Da.displayName="TabsList";const wt=x.forwardRef(({className:t,value:a,onClick:r,...o},i)=>{const{value:c,setValue:d}=Ey(),p=c===a,u=g=>{r==null||r(g),d(a)};return e.jsx("button",{ref:i,"data-state":p?"active":"inactive",className:ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",p?"bg-background text-foreground shadow-sm":"hover:bg-background/50 hover:text-foreground",t),onClick:u,...o})});wt.displayName="TabsTrigger";const Tt=x.forwardRef(({className:t,value:a,forceMount:r=!1,...o},i)=>{const{value:c}=Ey();return!r&&c!==a?null:e.jsx("div",{ref:i,className:ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...o})});Tt.displayName="TabsContent";function FR(){const[t,a]=x.useState(""),[r,o]=x.useState(!1),[i,c]=x.useState(!1),[d,p]=x.useState("paciente"),u=Ds(),g=fs(),{toast:f}=ts();x.useEffect(()=>{const w=new URLSearchParams(g.search).get("role");(w==="clinica"||w==="paciente")&&p(w)},[g]);const h=async v=>{v.preventDefault(),o(!0);try{await new Promise(w=>setTimeout(w,1500)),c(!0),f({title:"Email enviado!",description:"Verifique sua caixa de entrada para redefinir sua senha."})}catch{f({title:"Erro",description:"Não foi possível enviar o email. Tente novamente.",variant:"destructive"})}finally{o(!1)}};return i?e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),e.jsxs(ne,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[e.jsxs(he,{className:"space-y-1 text-center pb-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mb-6 shadow-lg",children:e.jsx(ra,{className:"h-8 w-8 text-white"})}),e.jsx(xe,{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Email Enviado!"}),e.jsxs(Xe,{className:"text-lg text-gray-600",children:["Enviamos um link para redefinir sua senha para ",e.jsx("strong",{className:"text-gray-900",children:t})]})]}),e.jsxs(ie,{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-xl border border-blue-100",children:e.jsx("p",{className:"text-sm text-gray-700 text-center font-medium",children:"Verifique sua caixa de entrada e spam. O link expira em 24 horas."})}),e.jsx(Z,{variant:"outline",className:"w-full h-12 bg-white/50 hover:bg-white/80 border-gray-200 hover:border-gray-300 transition-all duration-200",onClick:()=>c(!1),children:"Enviar para outro email"}),e.jsxs(Z,{variant:"ghost",className:"w-full h-12 text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-all duration-200",onClick:()=>u(`/login?role=${d}`),children:[e.jsx(hi,{className:"mr-2 h-4 w-4"}),"Voltar ao login"]})]})]})]}):e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),e.jsxs(ne,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[e.jsxs(he,{className:"space-y-1 pb-8",children:[e.jsx(xe,{className:"text-3xl font-bold text-center bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Esqueceu sua senha?"}),e.jsx(Xe,{className:"text-center text-lg text-gray-600",children:"Digite seu email para receber um link de redefinição"})]}),e.jsxs(ie,{children:[e.jsx(Ma,{value:d,onValueChange:p,className:"mb-8",children:e.jsxs(Da,{className:"grid w-full grid-cols-2 bg-gray-100/80 p-1 rounded-xl",children:[e.jsxs(wt,{value:"paciente",className:"flex items-center justify-center gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-md transition-all duration-200",children:[e.jsx(is,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Paciente"})]}),e.jsxs(wt,{value:"clinica",className:"flex items-center justify-center gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-md transition-all duration-200",children:[e.jsx(Wr,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Clínica"})]})]})}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(me,{htmlFor:"email",className:"text-sm font-semibold text-gray-700",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(fe,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:v=>a(v.target.value),className:"pl-10 h-12 bg-white/50 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 transition-all duration-200",required:!0})]})]}),e.jsx(Z,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-[1.02]",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(KS,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):"Enviar Link de Redefinição"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs(Je,{to:`/login?role=${d}`,className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 font-medium transition-colors duration-200 group",children:[e.jsx(hi,{className:"h-4 w-4 group-hover:-translate-x-1 transition-transform duration-200"}),"Voltar ao login"]})})]})]})]})}function zR({children:t}){const{user:a,isAuthenticated:r,loading:o}=xr(),i=fs();if(o)return null;if(!r)return e.jsx($t,{to:"/login",state:{from:i},replace:!0});const c=(a==null?void 0:a.role)||(a==null?void 0:a.tipo);return c!=="secretaria"&&c!=="admin"?c==="paciente"?e.jsx($t,{to:"/paciente/perfil",replace:!0}):c==="medico"?e.jsx($t,{to:"/medico/dashboard",replace:!0}):c==="clinica"?e.jsx($t,{to:"/clinica/dashboard",replace:!0}):e.jsx($t,{to:"/",replace:!0}):t}function BR(){const t=()=>e.jsx(Ii,{role:"secretaria"});return e.jsx(Li,{sidebar:t,children:e.jsx(Ci,{})})}function ga({tabs:t,basePath:a}){const r=fs();return e.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg border border-gray-200/50 dark:border-gray-700/50 shadow-lg mb-6",children:e.jsx("nav",{className:"flex space-x-1 p-2",children:t.map(o=>{const i=r.pathname===o.href;return e.jsx(Je,{to:o.href,className:ye("flex items-center px-4 py-3 text-sm font-medium transition-all duration-200 rounded-md",i?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-700 hover:text-gray-900 hover:bg-gray-100/80 dark:text-gray-200 dark:hover:text-white dark:hover:bg-gray-700/70"),children:o.label},o.href)})})})}const pt=x.forwardRef(({className:t,...a},r)=>e.jsx("textarea",{className:ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...a}));pt.displayName="Textarea";function UR(){const[t,a]=x.useState(null),[r,o]=x.useState(null),[i,c]=x.useState(!0),[d,p]=x.useState(null),[u,g]=x.useState([]),[f,h]=x.useState(!0),[v,w]=x.useState({data_nascimento:"",endereco:"",telefone:"",tipo_sanguineo:"",alergias:"",condicoes_cronicas:""}),[y,j]=x.useState(!1),{toast:N}=ts();x.useEffect(()=>{let R=!0;return(async()=>{var I,L,B,G;try{const[F,M]=await Promise.allSettled([bt.getPerfil(),bt.getPacienteDoUsuario()]);if(!R)return;if(F.status==="fulfilled"&&a(F.value),M.status==="fulfilled"&&o(M.value),F.status==="rejected"&&M.status==="rejected"){const K=((L=(I=F.reason)==null?void 0:I.response)==null?void 0:L.status)||((G=(B=M.reason)==null?void 0:B.response)==null?void 0:G.status);p(K===401?"Sua sessão não é válida. Verifique o login e o tipo de autenticação (Bearer/JWT/Token).":"Não foi possível carregar seu perfil.")}}finally{R&&c(!1)}})(),()=>{R=!1}},[]),x.useEffect(()=>{let R=!0;return(async()=>{try{h(!0);const I=await bt.getConsultas();if(R){const B=(Array.isArray(I)?I:(I==null?void 0:I.results)||[]).map(M=>{var q,Y,ee,D,H,ae,V,U,Q,te,oe;const K=((Y=(q=M.medico)==null?void 0:q.user)==null?void 0:Y.first_name)||((ee=M.medico)==null?void 0:ee.first_name)||((D=M.medico)==null?void 0:D.nome)||"",$=((ae=(H=M.medico)==null?void 0:H.user)==null?void 0:ae.last_name)||((V=M.medico)==null?void 0:V.last_name)||"",z=[K,$].filter(Boolean).join(" ").trim()||((U=M.medico)==null?void 0:U.nome)||"—";return{id:M.id,data:M.data||M.data_hora,medico:{nome:z,especialidade:((oe=(te=(Q=M.medico)==null?void 0:Q.especialidades)==null?void 0:te[0])==null?void 0:oe.nome)||M.especialidade||"Não especificada"},status:M.status,local:M.local||M.localizacao||M.observacoes||"Local não especificado",tipo:M.tipo||M.motivo||"Consulta"}}),G=new Date,F=B.filter(M=>{const $=(M.status||"").toLowerCase().includes("agend"),z=M.data?new Date(M.data)>G:!1;return $||z});g(F.slice(0,3))}}catch(I){console.error("Erro ao buscar consultas:",I)}finally{R&&h(!1)}})(),()=>{R=!1}},[]),x.useEffect(()=>{r&&t&&w({data_nascimento:t.data_nascimento||"",endereco:t.endereco||"",telefone:t.telefone||"",tipo_sanguineo:r.tipo_sanguineo||"",alergias:r.alergias||"",condicoes_cronicas:r.condicoes_cronicas||""})},[r,t]);const P=R=>{const{name:I,value:L}=R.target;w(B=>({...B,[I]:L}))},C=async R=>{R.preventDefault(),j(!0);try{await bt.updatePerfil({data_nascimento:v.data_nascimento,endereco:v.endereco,telefone:v.telefone}),await bt.updatePaciente({tipo_sanguineo:v.tipo_sanguineo,alergias:v.alergias,condicoes_cronicas:v.condicoes_cronicas});const[I,L]=await Promise.allSettled([bt.getPerfil(),bt.getPacienteDoUsuario()]);I.status==="fulfilled"&&a(I.value),L.status==="fulfilled"&&o(L.value),N({title:"Perfil atualizado",description:"Suas informações foram salvas com sucesso."})}catch(I){console.error("Erro ao salvar perfil:",I),N({title:"Erro ao salvar",description:"Não foi possível atualizar seu perfil. Tente novamente.",variant:"destructive"})}finally{j(!1)}},_=R=>R?([R.first_name,R.last_name].filter(Boolean).join(" ")||R.username||"Usuário").split(" ").map(L=>L[0]).join("").toUpperCase().slice(0,2):"?",E=R=>R?R.length>50?R.substring(0,50)+"...":R:"Não informado",k=t&&(!t.data_nascimento||!t.endereco||!t.telefone),A=[{label:"Perfil",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"}],T=[{title:"Agendar Consulta",description:"Marque uma nova consulta",href:"/paciente/consultas",icon:Qe,color:"blue"},{title:"Ver Prontuário",description:"Acesse seu histórico médico",href:"/paciente/prontuario",icon:cs,color:"green"},{title:"Exames",description:"Visualize seus exames",href:"/paciente/exames",icon:pa,color:"purple"},{title:"Receitas",description:"Suas receitas médicas",href:"/paciente/receitas",icon:vc,color:"red"}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950",children:e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 p-8 shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/95 via-indigo-600/95 to-purple-600/95"}),e.jsx("div",{className:"absolute -top-4 -right-4 h-24 w-24 rounded-full bg-white/10 blur-xl"}),e.jsx("div",{className:"absolute -bottom-4 -left-4 h-32 w-32 rounded-full bg-white/5 blur-2xl"}),e.jsxs("div",{className:"relative flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Oi,{className:"h-24 w-24 ring-4 ring-white/40 shadow-xl",children:e.jsx($i,{className:"bg-gradient-to-br from-white to-blue-100 text-blue-700 text-2xl font-bold shadow-inner",children:i?"...":_(t)})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 h-6 w-6 rounded-full bg-emerald-400 border-3 border-white shadow-lg"})]}),e.jsxs("div",{className:"text-white",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2 drop-shadow-sm",children:i?e.jsx(it,{className:"h-10 w-64 bg-white/20"}):[t==null?void 0:t.first_name,t==null?void 0:t.last_name].filter(Boolean).join(" ")||(t==null?void 0:t.username)||"Usuário"}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ha,{className:"h-5 w-5 text-blue-100"}),e.jsx("p",{className:"text-blue-50 text-lg font-medium",children:"Paciente Verificado"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[(t==null?void 0:t.cpf)&&e.jsxs(ft,{className:"bg-white/25 text-white border-white/40 hover:bg-white/35 font-medium px-3 py-1 shadow-sm",children:["CPF: ",t.cpf]}),(r==null?void 0:r.tipo_sanguineo)&&e.jsxs(ft,{className:"bg-red-500/30 text-red-50 border-red-200/40 hover:bg-red-500/40 font-medium px-3 py-1 shadow-sm",children:[e.jsx(tg,{className:"h-4 w-4 mr-1"}),r.tipo_sanguineo]})]})]})]}),e.jsxs(Z,{className:"bg-white/25 hover:bg-white/35 text-white border-white/40 backdrop-blur-sm shadow-lg font-medium",children:[e.jsx(eC,{className:"h-4 w-4 mr-2"}),"Editar Perfil"]})]})]}),e.jsx(ga,{tabs:A,basePath:"/paciente"}),!i&&!d&&k&&e.jsxs(ne,{className:"border-amber-300 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/30 dark:to-orange-900/30 shadow-lg dark:border-amber-600",children:[e.jsx(he,{className:"pb-4",children:e.jsxs(xe,{className:"flex items-center gap-3 text-amber-800 dark:text-amber-200",children:[e.jsx("div",{className:"p-2 rounded-full bg-amber-200 dark:bg-amber-700",children:e.jsx(fi,{className:"h-5 w-5 text-amber-700 dark:text-amber-200"})}),"Complete seu perfil para uma experiência completa"]})}),e.jsx(ie,{children:e.jsxs("form",{className:"space-y-6",onSubmit:C,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"data_nascimento",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Data de Nascimento"}),e.jsx(fe,{id:"data_nascimento",name:"data_nascimento",type:"date",value:v.data_nascimento,onChange:P,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"telefone",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Telefone"}),e.jsx(fe,{id:"telefone",name:"telefone",type:"tel",placeholder:"(11) 99999-9999",value:v.telefone,onChange:P,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"endereco",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Endereço"}),e.jsx(pt,{id:"endereco",name:"endereco",placeholder:"Rua, número, bairro, cidade, estado",value:v.endereco,onChange:P,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"tipo_sanguineo",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Tipo Sanguíneo"}),e.jsx(fe,{id:"tipo_sanguineo",name:"tipo_sanguineo",placeholder:"Ex: O+, A-, B+, AB-",value:v.tipo_sanguineo,onChange:P,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"alergias",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Alergias"}),e.jsx(fe,{id:"alergias",name:"alergias",placeholder:"Ex: Penicilina, Amendoim",value:v.alergias,onChange:P,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"condicoes_cronicas",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Condições Crônicas"}),e.jsx(pt,{id:"condicoes_cronicas",name:"condicoes_cronicas",placeholder:"Ex: Hipertensão, Diabetes",value:v.condicoes_cronicas,onChange:P,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]}),e.jsx(Z,{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white shadow-lg font-medium",children:y?"Salvando...":"Salvar Informações"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(ne,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[e.jsx(he,{className:"pb-6",children:e.jsxs(xe,{className:"flex items-center gap-3 text-2xl text-gray-800 dark:text-gray-100",children:[e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:e.jsx(is,{className:"h-6 w-6"})}),"Informações Pessoais"]})}),e.jsx(ie,{children:i?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(it,{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700"}),e.jsx(it,{className:"h-16 w-full bg-gray-200 dark:bg-gray-700"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(it,{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700"}),e.jsx(it,{className:"h-16 w-full bg-gray-200 dark:bg-gray-700"})]})]}):d?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(fi,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium",children:d})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/40 dark:to-indigo-900/40 border border-blue-200 dark:border-blue-700 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-500 text-white shadow-md",children:e.jsx(Qe,{className:"h-4 w-4"})}),e.jsx("p",{className:"text-sm font-semibold text-blue-800 dark:text-blue-200",children:"Data de Nascimento"})]}),e.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:(t==null?void 0:t.data_nascimento)||"Não informado"})]}),e.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-emerald-50 to-green-100 dark:from-emerald-900/40 dark:to-green-900/40 border border-emerald-200 dark:border-emerald-700 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-emerald-500 text-white shadow-md",children:e.jsx(Hr,{className:"h-4 w-4"})}),e.jsx("p",{className:"text-sm font-semibold text-emerald-800 dark:text-emerald-200",children:"Telefone"})]}),e.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:(t==null?void 0:t.telefone)||"Não informado"})]}),e.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-purple-50 to-violet-100 dark:from-purple-900/40 dark:to-violet-900/40 border border-purple-200 dark:border-purple-700 hover:shadow-lg transition-all duration-300 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-purple-500 text-white shadow-md",children:e.jsx(jc,{className:"h-4 w-4"})}),e.jsx("p",{className:"text-sm font-semibold text-purple-800 dark:text-purple-200",children:"Endereço"})]}),e.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:E(t==null?void 0:t.endereco)})]})]}),e.jsx(Ls,{className:"my-8 bg-gray-200 dark:bg-gray-700"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(Js,{className:"h-5 w-5 text-red-500"}),"Informações Médicas"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-red-50 to-pink-100 dark:from-red-900/40 dark:to-pink-900/40 border border-red-200 dark:border-red-700 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-red-500 text-white shadow-md",children:e.jsx(tg,{className:"h-4 w-4"})}),e.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-200",children:"Tipo Sanguíneo"})]}),e.jsx("p",{className:"text-red-900 dark:text-red-100 font-bold text-2xl",children:(r==null?void 0:r.tipo_sanguineo)||"Não informado"})]}),e.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-amber-50 to-yellow-100 dark:from-amber-900/40 dark:to-yellow-900/40 border border-amber-200 dark:border-amber-700 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-amber-500 text-white shadow-md",children:e.jsx(fi,{className:"h-4 w-4"})}),e.jsx("p",{className:"text-sm font-semibold text-amber-700 dark:text-amber-200",children:"Alergias"})]}),e.jsx("p",{className:"text-amber-800 dark:text-amber-200 font-medium",children:(r==null?void 0:r.alergias)||"Nenhuma alergia conhecida"})]}),e.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-teal-50 to-cyan-100 dark:from-teal-900/40 dark:to-cyan-900/40 border border-teal-200 dark:border-teal-700 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-teal-500 text-white shadow-md",children:e.jsx(vc,{className:"h-4 w-4"})}),e.jsx("p",{className:"text-sm font-semibold text-teal-800 dark:text-teal-200",children:"Condições Crônicas"})]}),e.jsx("p",{className:"text-teal-800 dark:text-teal-200 font-medium",children:(r==null?void 0:r.condicoes_cronicas)||"Nenhuma condição crônica"})]})]})]})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ne,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[e.jsx(he,{className:"pb-4",children:e.jsxs(xe,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[e.jsx(sC,{className:"h-5 w-5 text-yellow-500"}),"Ações Rápidas"]})}),e.jsx(ie,{className:"space-y-3",children:T.map((R,I)=>{const L=R.icon;return e.jsx(Je,{to:R.href,children:e.jsx("div",{className:"group p-4 rounded-xl bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 hover:from-blue-50 hover:to-indigo-50 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30 border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-300 hover:shadow-lg cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-full bg-gradient-to-br ${R.color==="blue"?"from-blue-500 to-blue-600":R.color==="green"?"from-emerald-500 to-green-600":R.color==="purple"?"from-purple-500 to-violet-600":"from-red-500 to-pink-600"} text-white shadow-lg group-hover:scale-110 transition-transform duration-300`,children:e.jsx(L,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors",children:R.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:R.description})]}),e.jsx(ka,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 group-hover:text-blue-500 group-hover:translate-x-1 transition-all duration-300"})]})})},I)})})]}),e.jsxs(ne,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[e.jsx(he,{className:"pb-3",children:e.jsxs(xe,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:e.jsx(Qe,{className:"h-4 w-4"})}),"Próximas Consultas"]})}),e.jsx(ie,{children:f?e.jsxs("div",{className:"space-y-3",children:[e.jsx(it,{className:"h-16 w-full rounded-xl bg-gray-200 dark:bg-gray-700"}),e.jsx(it,{className:"h-16 w-full rounded-xl bg-gray-200 dark:bg-gray-700"})]}):u.length>0?e.jsxs("div",{className:"space-y-3",children:[u.map(R=>e.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-100 dark:from-blue-900/40 dark:to-indigo-900/40 border border-blue-200 dark:border-blue-700 hover:shadow-md transition-all duration-300",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-500 text-white shadow-md",children:e.jsx(Qe,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-semibold text-blue-900 dark:text-blue-100",children:[new Date(R.data).toLocaleDateString("pt-BR")," ",new Date(R.data).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-200 font-medium",children:R.medico.nome}),e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300",children:R.medico.especialidade})]})]})},R.id)),e.jsx(Z,{variant:"outline",size:"sm",asChild:!0,className:"w-full mt-3 border-blue-300 text-blue-700 hover:bg-blue-50 dark:border-blue-600 dark:text-blue-300 dark:hover:bg-blue-900/20",children:e.jsxs(Je,{to:"/paciente/consultas",children:["Ver Todas as Consultas",e.jsx(ka,{className:"h-3 w-3 ml-1"})]})})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"p-4 rounded-full bg-gray-100 dark:bg-gray-700 w-fit mx-auto mb-3",children:e.jsx(Qe,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-3",children:"Nenhuma consulta agendada"}),e.jsx(Z,{variant:"outline",size:"sm",asChild:!0,className:"border-blue-300 text-blue-700 hover:bg-blue-50 dark:border-blue-600 dark:text-blue-300 dark:hover:bg-blue-900/20",children:e.jsxs(Je,{to:"/paciente/consultas",children:["Agendar Consulta",e.jsx(ka,{className:"h-3 w-3 ml-1"})]})})]})})]}),e.jsxs(ne,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[e.jsx(he,{className:"pb-3",children:e.jsxs(xe,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-emerald-500 to-green-600 text-white shadow-lg",children:e.jsx(pa,{className:"h-4 w-4"})}),"Exames Recentes"]})}),e.jsx(ie,{children:e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"p-4 rounded-full bg-gray-100 dark:bg-gray-700 w-fit mx-auto mb-3",children:e.jsx(pa,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-3",children:"Nenhum exame recente"}),e.jsx(Z,{variant:"outline",size:"sm",asChild:!0,className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50 dark:border-emerald-600 dark:text-emerald-300 dark:hover:bg-emerald-900/20",children:e.jsxs(Je,{to:"/paciente/exames",children:["Ver Todos os Exames",e.jsx(ka,{className:"h-3 w-3 ml-1"})]})})]})})]})]})]})]})})}function VR(){const[t,a]=x.useState(null),[r,o]=x.useState(!0),[i,c]=x.useState(null),d=h=>Array.isArray(h)?h.filter(v=>v!=null&&v!==""):typeof h=="string"?h.split(/[\n;,]+/).map(v=>v.trim()).filter(Boolean):h==null?[]:[h],p=h=>{let v="",w="",y="";if(typeof h=="string"){const j=h.split(/[;•\-\|]/).map(N=>N.trim()).filter(Boolean);if(j.length&&(v=j[0]),j[1]&&(w=j[1]),j[2]&&(y=j.slice(2).join(" • ")),!w){const N=h.match(/\b(\d+(\.\d+)?\s?(mg|ml|mcg|g|gotas|ui))\b/i);N&&(w=N[0])}if(!y){const N=h.match(/\b(\d+x\s?\/\s?dia|[1-9]\s?x\/dia|a\s?cada\s?\d+\s?h|de\s?\d+\s?em\s?\d+\s?h)\b/i);N&&(y=N[0])}}else h&&typeof h=="object"&&(v=h.nome||h.medicamento||h.nome_medicamento||h.name||h.descricao||"",w=h.dose||h.dosagem||h.dosage||"",y=h.posologia||h.frequencia||h.intervalo||h.schedule||"");return{name:v||(typeof h=="string"?h:JSON.stringify(h)),dose:w||"",schedule:y||""}},u=h=>{const v=d(h);return v.length>0?e.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:v.map((w,y)=>{const j=p(w);return e.jsx("div",{className:"rounded-xl border bg-card p-3 shadow-sm hover:shadow-md transition-shadow",role:"group","aria-label":`Medicação ${j.name}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5 rounded-md bg-primary/10 p-2 text-primary",children:e.jsx(pi,{className:"h-5 w-5","aria-hidden":"true"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-base md:text-lg font-semibold leading-snug break-words",children:j.name}),j.dose&&e.jsx("div",{className:"text-sm md:text-base text-muted-foreground mt-0.5 break-words",children:j.dose}),j.schedule&&e.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 rounded-full bg-muted/60 px-2 py-1 text-xs md:text-sm text-foreground/80",children:[e.jsx(lt,{className:"h-3.5 w-3.5","aria-hidden":"true"}),e.jsx("span",{className:"break-words",children:j.schedule})]})]})]})},y)})}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})};x.useEffect(()=>{let h=!0;const v=y=>{var E,k;const j=Array.isArray(y)?y[0]:Array.isArray(y==null?void 0:y.results)?y.results[0]:y||{},N=j.alergias??j.allergies??j.alergia,P=j.condicoes??j.condicoes_cronicas??j.condicoesCronicas,C=j.medicacoes??j.medicamentos??j.medicacoes_em_uso??j.medicamentos_em_uso??j.medicamentos_uso??j.em_uso??j.medicacoesEmUso??j.medicamentosEmUso??j.medications??j.current_medications??((E=j.prontuario)==null?void 0:E.medicacoes)??((k=j.prontuario)==null?void 0:k.medicamentos),_=j.observacoes??j.observacao??j.notes??j.anotacoes;return{alergias:d(N),condicoes:d(P),medicacoes:d(C),observacoes:_??"—"}},w=y=>y?{alergias:d(y.alergias),condicoes:d(y.condicoes_cronicas??y.condicoes),medicacoes:d(y.medicacoes??y.medicamentos??y.medicacoes_em_uso??y.medicamentos_em_uso??y.medicamentos_uso??y.em_uso??y.medicacoesEmUso??y.medicamentosEmUso??y.medications??y.current_medications),observacoes:y.observacoes??"—"}:null;return(async()=>{try{const[y,j]=await Promise.allSettled([bt.getProntuario(),bt.getPacienteDoUsuario()]);let N=null;if(y.status==="fulfilled"&&(N=v(y.value)),(!N||d(N.alergias).length===0&&d(N.condicoes).length===0&&d(N.medicacoes).length===0&&(!N.observacoes||N.observacoes==="—"))&&j.status==="fulfilled"){const C=w(j.value);C&&(N=C)}h&&a(N||{alergias:[],condicoes:[],medicacoes:[],observacoes:"—"})}catch{h&&c("Não foi possível carregar o prontuário.")}finally{h&&o(!1)}})(),()=>{h=!1}},[]);const g=h=>{const v=d(h);return v.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:v.map((w,y)=>{const j=typeof w=="string"?w:(w==null?void 0:w.nome)||(w==null?void 0:w.medicamento)||(w==null?void 0:w.nome_medicamento)||[w==null?void 0:w.descricao,(w==null?void 0:w.dose)||(w==null?void 0:w.dosagem),(w==null?void 0:w.posologia)||(w==null?void 0:w.frequencia)].filter(Boolean).join(" • ")||JSON.stringify(w);return e.jsx(ft,{variant:"secondary",className:"px-2.5 py-1 text-xs",children:j},y)})}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})},f=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];return e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(cs,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Prontuário"})]}),e.jsx(ga,{tabs:f,basePath:"/paciente"}),r?e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[e.jsxs(ne,{className:"lg:col-span-2",children:[e.jsx(he,{children:e.jsx(it,{className:"h-5 w-40"})}),e.jsxs(ie,{className:"space-y-2",children:[e.jsx(it,{className:"h-4 w-full"}),e.jsx(it,{className:"h-4 w-5/6"}),e.jsx(it,{className:"h-4 w-2/3"})]})]}),e.jsx("div",{className:"space-y-6",children:[...Array(3)].map((h,v)=>e.jsxs(ne,{children:[e.jsx(he,{children:e.jsx(it,{className:"h-5 w-40"})}),e.jsxs(ie,{className:"space-y-2",children:[e.jsx(it,{className:"h-4 w-full"}),e.jsx(it,{className:"h-4 w-2/3"})]})]},v))})]}):i?e.jsx("p",{className:"text-sm text-red-500",children:i}):e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[e.jsxs(ne,{className:"lg:col-span-2 min-h-[320px]",children:[e.jsx(he,{children:e.jsx(xe,{children:"Medicações"})}),e.jsx(ie,{children:u(t==null?void 0:t.medicacoes)})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ne,{children:[e.jsx(he,{children:e.jsx(xe,{children:"Alergias"})}),e.jsx(ie,{children:g(t==null?void 0:t.alergias)})]}),e.jsxs(ne,{children:[e.jsx(he,{children:e.jsx(xe,{children:"Condições"})}),e.jsx(ie,{children:g(t==null?void 0:t.condicoes)})]}),e.jsxs(ne,{children:[e.jsx(he,{children:e.jsx(xe,{children:"Observações"})}),e.jsx(ie,{children:t!=null&&t.observacoes&&(t==null?void 0:t.observacoes)!=="—"?e.jsx("div",{className:"rounded-md bg-muted/40 p-3 text-sm leading-relaxed whitespace-pre-wrap",children:t==null?void 0:t.observacoes}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"—"})})]})]})]})]})}function Tg(t,[a,r]){return Math.min(r,Math.max(a,t))}function HR(t){const a=x.useRef({value:t,previous:t});return x.useMemo(()=>(a.current.value!==t&&(a.current.previous=a.current.value,a.current.value=t),a.current.previous),[t])}var qR=[" ","Enter","ArrowUp","ArrowDown"],WR=[" ","Enter"],yn="Select",[od,id,GR]=td(yn),[bo,T5]=Ja(yn,[GR,yo]),ld=yo(),[KR,Jr]=bo(yn),[YR,JR]=bo(yn),Ry=t=>{const{__scopeSelect:a,children:r,open:o,defaultOpen:i,onOpenChange:c,value:d,defaultValue:p,onValueChange:u,dir:g,name:f,autoComplete:h,disabled:v,required:w,form:y}=t,j=ld(a),[N,P]=x.useState(null),[C,_]=x.useState(null),[E,k]=x.useState(!1),A=Tf(g),[T,R]=gn({prop:o,defaultProp:i??!1,onChange:c,caller:yn}),[I,L]=gn({prop:d,defaultProp:p,onChange:u,caller:yn}),B=x.useRef(null),G=N?y||!!N.closest("form"):!0,[F,M]=x.useState(new Set),K=Array.from(F).map($=>$.props.value).join(";");return e.jsx(_f,{...j,children:e.jsxs(KR,{required:w,scope:a,trigger:N,onTriggerChange:P,valueNode:C,onValueNodeChange:_,valueNodeHasChildren:E,onValueNodeHasChildrenChange:k,contentId:qa(),value:I,onValueChange:L,open:T,onOpenChange:R,dir:A,triggerPointerDownPosRef:B,disabled:v,children:[e.jsx(od.Provider,{scope:a,children:e.jsx(YR,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback($=>{M(z=>new Set(z).add($))},[]),onNativeOptionRemove:x.useCallback($=>{M(z=>{const q=new Set(z);return q.delete($),q})},[]),children:r})}),G?e.jsxs(Zy,{"aria-hidden":!0,required:w,tabIndex:-1,name:f,autoComplete:h,value:I,onChange:$=>L($.target.value),disabled:v,form:y,children:[I===void 0?e.jsx("option",{value:""}):null,Array.from(F)]},K):null]})})};Ry.displayName=yn;var Py="SelectTrigger",Ay=x.forwardRef((t,a)=>{const{__scopeSelect:r,disabled:o=!1,...i}=t,c=ld(r),d=Jr(Py,r),p=d.disabled||o,u=Pt(a,d.onTriggerChange),g=id(r),f=x.useRef("touch"),[h,v,w]=tb(j=>{const N=g().filter(_=>!_.disabled),P=N.find(_=>_.value===d.value),C=sb(N,j,P);C!==void 0&&d.onValueChange(C.value)}),y=j=>{p||(d.onOpenChange(!0),w()),j&&(d.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return e.jsx(kf,{asChild:!0,...c,children:e.jsx(et.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":eb(d.value)?"":void 0,...i,ref:u,onClick:Me(i.onClick,j=>{j.currentTarget.focus(),f.current!=="mouse"&&y(j)}),onPointerDown:Me(i.onPointerDown,j=>{f.current=j.pointerType;const N=j.target;N.hasPointerCapture(j.pointerId)&&N.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(y(j),j.preventDefault())}),onKeyDown:Me(i.onKeyDown,j=>{const N=h.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&v(j.key),!(N&&j.key===" ")&&qR.includes(j.key)&&(y(),j.preventDefault())})})})});Ay.displayName=Py;var Ty="SelectValue",My=x.forwardRef((t,a)=>{const{__scopeSelect:r,className:o,style:i,children:c,placeholder:d="",...p}=t,u=Jr(Ty,r),{onValueNodeHasChildrenChange:g}=u,f=c!==void 0,h=Pt(a,u.onValueNodeChange);return ms(()=>{g(f)},[g,f]),e.jsx(et.span,{...p,ref:h,style:{pointerEvents:"none"},children:eb(u.value)?e.jsx(e.Fragment,{children:d}):c})});My.displayName=Ty;var QR="SelectIcon",Dy=x.forwardRef((t,a)=>{const{__scopeSelect:r,children:o,...i}=t;return e.jsx(et.span,{"aria-hidden":!0,...i,ref:a,children:o||"▼"})});Dy.displayName=QR;var XR="SelectPortal",Oy=t=>e.jsx(Pi,{asChild:!0,...t});Oy.displayName=XR;var bn="SelectContent",$y=x.forwardRef((t,a)=>{const r=Jr(bn,t.__scopeSelect),[o,i]=x.useState();if(ms(()=>{i(new DocumentFragment)},[]),!r.open){const c=o;return c?co.createPortal(e.jsx(Ly,{scope:t.__scopeSelect,children:e.jsx(od.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),c):null}return e.jsx(Iy,{...t,ref:a})});$y.displayName=bn;var _a=10,[Ly,Qr]=bo(bn),ZR="SelectContentImpl",eP=xn("SelectContent.RemoveScroll"),Iy=x.forwardRef((t,a)=>{const{__scopeSelect:r,position:o="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:c,onPointerDownOutside:d,side:p,sideOffset:u,align:g,alignOffset:f,arrowPadding:h,collisionBoundary:v,collisionPadding:w,sticky:y,hideWhenDetached:j,avoidCollisions:N,...P}=t,C=Jr(bn,r),[_,E]=x.useState(null),[k,A]=x.useState(null),T=Pt(a,te=>E(te)),[R,I]=x.useState(null),[L,B]=x.useState(null),G=id(r),[F,M]=x.useState(!1),K=x.useRef(!1);x.useEffect(()=>{if(_)return ff(_)},[_]),mf();const $=x.useCallback(te=>{const[oe,...ge]=G().map(Ae=>Ae.ref.current),[be]=ge.slice(-1),Ee=document.activeElement;for(const Ae of te)if(Ae===Ee||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===oe&&k&&(k.scrollTop=0),Ae===be&&k&&(k.scrollTop=k.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==Ee))return},[G,k]),z=x.useCallback(()=>$([R,_]),[$,R,_]);x.useEffect(()=>{F&&z()},[F,z]);const{onOpenChange:q,triggerPointerDownPosRef:Y}=C;x.useEffect(()=>{if(_){let te={x:0,y:0};const oe=be=>{var Ee,Ae;te={x:Math.abs(Math.round(be.pageX)-(((Ee=Y.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(be.pageY)-(((Ae=Y.current)==null?void 0:Ae.y)??0))}},ge=be=>{te.x<=10&&te.y<=10?be.preventDefault():_.contains(be.target)||q(!1),document.removeEventListener("pointermove",oe),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",ge,{capture:!0})}}},[_,q,Y]),x.useEffect(()=>{const te=()=>q(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[q]);const[ee,D]=tb(te=>{const oe=G().filter(Ee=>!Ee.disabled),ge=oe.find(Ee=>Ee.ref.current===document.activeElement),be=sb(oe,te,ge);be&&setTimeout(()=>be.ref.current.focus())}),H=x.useCallback((te,oe,ge)=>{const be=!K.current&&!ge;(C.value!==void 0&&C.value===oe||be)&&(I(te),be&&(K.current=!0))},[C.value]),ae=x.useCallback(()=>_==null?void 0:_.focus(),[_]),V=x.useCallback((te,oe,ge)=>{const be=!K.current&&!ge;(C.value!==void 0&&C.value===oe||be)&&B(te)},[C.value]),U=o==="popper"?qm:Fy,Q=U===qm?{side:p,sideOffset:u,align:g,alignOffset:f,arrowPadding:h,collisionBoundary:v,collisionPadding:w,sticky:y,hideWhenDetached:j,avoidCollisions:N}:{};return e.jsx(Ly,{scope:r,content:_,viewport:k,onViewportChange:A,itemRefCallback:H,selectedItem:R,onItemLeave:ae,itemTextRefCallback:V,focusSelectedItem:z,selectedItemText:L,position:o,isPositioned:F,searchRef:ee,children:e.jsx(Bc,{as:eP,allowPinchZoom:!0,children:e.jsx(Fc,{asChild:!0,trapped:C.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Me(i,te=>{var oe;(oe=C.trigger)==null||oe.focus({preventScroll:!0}),te.preventDefault()}),children:e.jsx(go,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:e.jsx(U,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:te=>te.preventDefault(),...P,...Q,onPlaced:()=>M(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:Me(P.onKeyDown,te=>{const oe=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!oe&&te.key.length===1&&D(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let be=G().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(te.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Ee=te.target,Ae=be.indexOf(Ee);be=be.slice(Ae+1)}setTimeout(()=>$(be)),te.preventDefault()}})})})})})})});Iy.displayName=ZR;var tP="SelectItemAlignedPosition",Fy=x.forwardRef((t,a)=>{const{__scopeSelect:r,onPlaced:o,...i}=t,c=Jr(bn,r),d=Qr(bn,r),[p,u]=x.useState(null),[g,f]=x.useState(null),h=Pt(a,T=>f(T)),v=id(r),w=x.useRef(!1),y=x.useRef(!0),{viewport:j,selectedItem:N,selectedItemText:P,focusSelectedItem:C}=d,_=x.useCallback(()=>{if(c.trigger&&c.valueNode&&p&&g&&j&&N&&P){const T=c.trigger.getBoundingClientRect(),R=g.getBoundingClientRect(),I=c.valueNode.getBoundingClientRect(),L=P.getBoundingClientRect();if(c.dir!=="rtl"){const Ee=L.left-R.left,Ae=I.left-Ee,We=T.left-Ae,rt=T.width+We,kt=Math.max(rt,R.width),jt=window.innerWidth-_a,Lt=Tg(Ae,[_a,Math.max(_a,jt-kt)]);p.style.minWidth=rt+"px",p.style.left=Lt+"px"}else{const Ee=R.right-L.right,Ae=window.innerWidth-I.right-Ee,We=window.innerWidth-T.right-Ae,rt=T.width+We,kt=Math.max(rt,R.width),jt=window.innerWidth-_a,Lt=Tg(Ae,[_a,Math.max(_a,jt-kt)]);p.style.minWidth=rt+"px",p.style.right=Lt+"px"}const B=v(),G=window.innerHeight-_a*2,F=j.scrollHeight,M=window.getComputedStyle(g),K=parseInt(M.borderTopWidth,10),$=parseInt(M.paddingTop,10),z=parseInt(M.borderBottomWidth,10),q=parseInt(M.paddingBottom,10),Y=K+$+F+q+z,ee=Math.min(N.offsetHeight*5,Y),D=window.getComputedStyle(j),H=parseInt(D.paddingTop,10),ae=parseInt(D.paddingBottom,10),V=T.top+T.height/2-_a,U=G-V,Q=N.offsetHeight/2,te=N.offsetTop+Q,oe=K+$+te,ge=Y-oe;if(oe<=V){const Ee=B.length>0&&N===B[B.length-1].ref.current;p.style.bottom="0px";const Ae=g.clientHeight-j.offsetTop-j.offsetHeight,We=Math.max(U,Q+(Ee?ae:0)+Ae+z),rt=oe+We;p.style.height=rt+"px"}else{const Ee=B.length>0&&N===B[0].ref.current;p.style.top="0px";const We=Math.max(V,K+j.offsetTop+(Ee?H:0)+Q)+ge;p.style.height=We+"px",j.scrollTop=oe-V+j.offsetTop}p.style.margin=`${_a}px 0`,p.style.minHeight=ee+"px",p.style.maxHeight=G+"px",o==null||o(),requestAnimationFrame(()=>w.current=!0)}},[v,c.trigger,c.valueNode,p,g,j,N,P,c.dir,o]);ms(()=>_(),[_]);const[E,k]=x.useState();ms(()=>{g&&k(window.getComputedStyle(g).zIndex)},[g]);const A=x.useCallback(T=>{T&&y.current===!0&&(_(),C==null||C(),y.current=!1)},[_,C]);return e.jsx(aP,{scope:r,contentWrapper:p,shouldExpandOnScrollRef:w,onScrollButtonChange:A,children:e.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:e.jsx(et.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Fy.displayName=tP;var sP="SelectPopperPosition",qm=x.forwardRef((t,a)=>{const{__scopeSelect:r,align:o="start",collisionPadding:i=_a,...c}=t,d=ld(r);return e.jsx(Ef,{...d,...c,ref:a,align:o,collisionPadding:i,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qm.displayName=sP;var[aP,Vf]=bo(bn,{}),Wm="SelectViewport",zy=x.forwardRef((t,a)=>{const{__scopeSelect:r,nonce:o,...i}=t,c=Qr(Wm,r),d=Vf(Wm,r),p=Pt(a,c.onViewportChange),u=x.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(od.Slot,{scope:r,children:e.jsx(et.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:p,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Me(i.onScroll,g=>{const f=g.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:v}=d;if(v!=null&&v.current&&h){const w=Math.abs(u.current-f.scrollTop);if(w>0){const y=window.innerHeight-_a*2,j=parseFloat(h.style.minHeight),N=parseFloat(h.style.height),P=Math.max(j,N);if(P<y){const C=P+w,_=Math.min(y,C),E=C-_;h.style.height=_+"px",h.style.bottom==="0px"&&(f.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});zy.displayName=Wm;var By="SelectGroup",[rP,nP]=bo(By),oP=x.forwardRef((t,a)=>{const{__scopeSelect:r,...o}=t,i=qa();return e.jsx(rP,{scope:r,id:i,children:e.jsx(et.div,{role:"group","aria-labelledby":i,...o,ref:a})})});oP.displayName=By;var Uy="SelectLabel",Vy=x.forwardRef((t,a)=>{const{__scopeSelect:r,...o}=t,i=nP(Uy,r);return e.jsx(et.div,{id:i.id,...o,ref:a})});Vy.displayName=Uy;var Ec="SelectItem",[iP,Hy]=bo(Ec),qy=x.forwardRef((t,a)=>{const{__scopeSelect:r,value:o,disabled:i=!1,textValue:c,...d}=t,p=Jr(Ec,r),u=Qr(Ec,r),g=p.value===o,[f,h]=x.useState(c??""),[v,w]=x.useState(!1),y=Pt(a,C=>{var _;return(_=u.itemRefCallback)==null?void 0:_.call(u,C,o,i)}),j=qa(),N=x.useRef("touch"),P=()=>{i||(p.onValueChange(o),p.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(iP,{scope:r,value:o,disabled:i,textId:j,isSelected:g,onItemTextChange:x.useCallback(C=>{h(_=>_||((C==null?void 0:C.textContent)??"").trim())},[]),children:e.jsx(od.ItemSlot,{scope:r,value:o,disabled:i,textValue:f,children:e.jsx(et.div,{role:"option","aria-labelledby":j,"data-highlighted":v?"":void 0,"aria-selected":g&&v,"data-state":g?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...d,ref:y,onFocus:Me(d.onFocus,()=>w(!0)),onBlur:Me(d.onBlur,()=>w(!1)),onClick:Me(d.onClick,()=>{N.current!=="mouse"&&P()}),onPointerUp:Me(d.onPointerUp,()=>{N.current==="mouse"&&P()}),onPointerDown:Me(d.onPointerDown,C=>{N.current=C.pointerType}),onPointerMove:Me(d.onPointerMove,C=>{var _;N.current=C.pointerType,i?(_=u.onItemLeave)==null||_.call(u):N.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Me(d.onPointerLeave,C=>{var _;C.currentTarget===document.activeElement&&((_=u.onItemLeave)==null||_.call(u))}),onKeyDown:Me(d.onKeyDown,C=>{var E;((E=u.searchRef)==null?void 0:E.current)!==""&&C.key===" "||(WR.includes(C.key)&&P(),C.key===" "&&C.preventDefault())})})})})});qy.displayName=Ec;var mi="SelectItemText",Wy=x.forwardRef((t,a)=>{const{__scopeSelect:r,className:o,style:i,...c}=t,d=Jr(mi,r),p=Qr(mi,r),u=Hy(mi,r),g=JR(mi,r),[f,h]=x.useState(null),v=Pt(a,P=>h(P),u.onItemTextChange,P=>{var C;return(C=p.itemTextRefCallback)==null?void 0:C.call(p,P,u.value,u.disabled)}),w=f==null?void 0:f.textContent,y=x.useMemo(()=>e.jsx("option",{value:u.value,disabled:u.disabled,children:w},u.value),[u.disabled,u.value,w]),{onNativeOptionAdd:j,onNativeOptionRemove:N}=g;return ms(()=>(j(y),()=>N(y)),[j,N,y]),e.jsxs(e.Fragment,{children:[e.jsx(et.span,{id:u.textId,...c,ref:v}),u.isSelected&&d.valueNode&&!d.valueNodeHasChildren?co.createPortal(c.children,d.valueNode):null]})});Wy.displayName=mi;var Gy="SelectItemIndicator",Ky=x.forwardRef((t,a)=>{const{__scopeSelect:r,...o}=t;return Hy(Gy,r).isSelected?e.jsx(et.span,{"aria-hidden":!0,...o,ref:a}):null});Ky.displayName=Gy;var Gm="SelectScrollUpButton",Yy=x.forwardRef((t,a)=>{const r=Qr(Gm,t.__scopeSelect),o=Vf(Gm,t.__scopeSelect),[i,c]=x.useState(!1),d=Pt(a,o.onScrollButtonChange);return ms(()=>{if(r.viewport&&r.isPositioned){let p=function(){const g=u.scrollTop>0;c(g)};const u=r.viewport;return p(),u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),i?e.jsx(Qy,{...t,ref:d,onAutoScroll:()=>{const{viewport:p,selectedItem:u}=r;p&&u&&(p.scrollTop=p.scrollTop-u.offsetHeight)}}):null});Yy.displayName=Gm;var Km="SelectScrollDownButton",Jy=x.forwardRef((t,a)=>{const r=Qr(Km,t.__scopeSelect),o=Vf(Km,t.__scopeSelect),[i,c]=x.useState(!1),d=Pt(a,o.onScrollButtonChange);return ms(()=>{if(r.viewport&&r.isPositioned){let p=function(){const g=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<g;c(f)};const u=r.viewport;return p(),u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),i?e.jsx(Qy,{...t,ref:d,onAutoScroll:()=>{const{viewport:p,selectedItem:u}=r;p&&u&&(p.scrollTop=p.scrollTop+u.offsetHeight)}}):null});Jy.displayName=Km;var Qy=x.forwardRef((t,a)=>{const{__scopeSelect:r,onAutoScroll:o,...i}=t,c=Qr("SelectScrollButton",r),d=x.useRef(null),p=id(r),u=x.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return x.useEffect(()=>()=>u(),[u]),ms(()=>{var f;const g=p().find(h=>h.ref.current===document.activeElement);(f=g==null?void 0:g.ref.current)==null||f.scrollIntoView({block:"nearest"})},[p]),e.jsx(et.div,{"aria-hidden":!0,...i,ref:a,style:{flexShrink:0,...i.style},onPointerDown:Me(i.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(o,50))}),onPointerMove:Me(i.onPointerMove,()=>{var g;(g=c.onItemLeave)==null||g.call(c),d.current===null&&(d.current=window.setInterval(o,50))}),onPointerLeave:Me(i.onPointerLeave,()=>{u()})})}),lP="SelectSeparator",Xy=x.forwardRef((t,a)=>{const{__scopeSelect:r,...o}=t;return e.jsx(et.div,{"aria-hidden":!0,...o,ref:a})});Xy.displayName=lP;var Ym="SelectArrow",cP=x.forwardRef((t,a)=>{const{__scopeSelect:r,...o}=t,i=ld(r),c=Jr(Ym,r),d=Qr(Ym,r);return c.open&&d.position==="popper"?e.jsx(Rf,{...i,...o,ref:a}):null});cP.displayName=Ym;var dP="SelectBubbleInput",Zy=x.forwardRef(({__scopeSelect:t,value:a,...r},o)=>{const i=x.useRef(null),c=Pt(o,i),d=HR(a);return x.useEffect(()=>{const p=i.current;if(!p)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(d!==a&&f){const h=new Event("change",{bubbles:!0});f.call(p,a),p.dispatchEvent(h)}},[d,a]),e.jsx(et.select,{...r,style:{...zv,...r.style},ref:c,defaultValue:a})});Zy.displayName=dP;function eb(t){return t===""||t===void 0}function tb(t){const a=Is(t),r=x.useRef(""),o=x.useRef(0),i=x.useCallback(d=>{const p=r.current+d;a(p),(function u(g){r.current=g,window.clearTimeout(o.current),g!==""&&(o.current=window.setTimeout(()=>u(""),1e3))})(p)},[a]),c=x.useCallback(()=>{r.current="",window.clearTimeout(o.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(o.current),[]),[r,i,c]}function sb(t,a,r){const i=a.length>1&&Array.from(a).every(g=>g===a[0])?a[0]:a,c=r?t.indexOf(r):-1;let d=uP(t,Math.max(c,0));i.length===1&&(d=d.filter(g=>g!==r));const u=d.find(g=>g.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function uP(t,a){return t.map((r,o)=>t[(a+o)%t.length])}var mP=Ry,ab=Ay,fP=My,hP=Dy,pP=Oy,rb=$y,xP=zy,nb=Vy,ob=qy,gP=Wy,vP=Ky,ib=Yy,lb=Jy,cb=Xy;const Et=mP,Rt=fP,Ct=x.forwardRef(({className:t,children:a,...r},o)=>e.jsxs(ab,{ref:o,className:ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[a,e.jsx(hP,{asChild:!0,children:e.jsx(cf,{className:"h-4 w-4 opacity-50"})})]}));Ct.displayName=ab.displayName;const db=x.forwardRef(({className:t,...a},r)=>e.jsx(ib,{ref:r,className:ye("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx($S,{className:"h-4 w-4"})}));db.displayName=ib.displayName;const ub=x.forwardRef(({className:t,...a},r)=>e.jsx(lb,{ref:r,className:ye("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx(cf,{className:"h-4 w-4"})}));ub.displayName=lb.displayName;const _t=x.forwardRef(({className:t,children:a,position:r="popper",...o},i)=>e.jsx(pP,{children:e.jsxs(rb,{ref:i,className:ye("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...o,children:[e.jsx(db,{}),e.jsx(xP,{className:ye("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),e.jsx(ub,{})]})}));_t.displayName=rb.displayName;const mb=x.forwardRef(({className:t,...a},r)=>e.jsx(nb,{ref:r,className:ye("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...a}));mb.displayName=nb.displayName;const Ne=x.forwardRef(({className:t,children:a,...r},o)=>e.jsxs(ob,{ref:o,className:ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(vP,{children:e.jsx(T0,{className:"h-4 w-4"})})}),e.jsx(gP,{children:a})]}));Ne.displayName=ob.displayName;const jP=x.forwardRef(({className:t,...a},r)=>e.jsx(cb,{ref:r,className:ye("-mx-1 my-1 h-px bg-muted",t),...a}));jP.displayName=cb.displayName;const wo=hv,fb=O_,yP=({className:t,children:a,...r})=>e.jsx(pv,{className:ye(t),...r,children:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:a})}),hb=x.forwardRef(({className:t,...a},r)=>e.jsx(Vc,{ref:r,className:ye("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0",t),...a}));hb.displayName=Vc.displayName;const Cn=x.forwardRef(({className:t,children:a,...r},o)=>e.jsxs(yP,{children:[e.jsx(hb,{}),e.jsxs(Hc,{ref:o,className:ye("fixed z-50 grid w-full max-w-xl gap-4 rounded-xl border bg-background p-0 shadow-xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0","data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95","left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",t),...r,children:[a,e.jsxs(xv,{className:"absolute right-4 top-4 rounded-md opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[e.jsx(df,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Fechar"})]})]})]}));Cn.displayName=Hc.displayName;const _n=({className:t,...a})=>e.jsx("div",{className:ye("px-6 pt-5 pb-3 flex flex-col space-y-1.5",t),...a});_n.displayName="DialogHeader";const No=({className:t,...a})=>e.jsx("div",{className:ye("px-6 pb-5 pt-2 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a});No.displayName="DialogFooter";const kn=x.forwardRef(({className:t,...a},r)=>e.jsx(qc,{ref:r,className:ye("text-lg font-semibold leading-none tracking-tight",t),...a}));kn.displayName=qc.displayName;const Fi=x.forwardRef(({className:t,...a},r)=>e.jsx(Wc,{ref:r,className:ye("text-sm text-muted-foreground",t),...a}));Fi.displayName=Wc.displayName;const Za=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:ye("w-full caption-bottom text-sm",t),...a})}));Za.displayName="Table";const er=x.forwardRef(({className:t,...a},r)=>e.jsx("thead",{ref:r,className:ye("[&_tr]:border-b",t),...a}));er.displayName="TableHeader";const tr=x.forwardRef(({className:t,...a},r)=>e.jsx("tbody",{ref:r,className:ye("[&_tr:last-child]:border-0",t),...a}));tr.displayName="TableBody";const bP=x.forwardRef(({className:t,...a},r)=>e.jsx("tfoot",{ref:r,className:ye("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...a}));bP.displayName="TableFooter";const es=x.forwardRef(({className:t,...a},r)=>e.jsx("tr",{ref:r,className:ye("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...a}));es.displayName="TableRow";const ct=x.forwardRef(({className:t,...a},r)=>e.jsx("th",{ref:r,className:ye("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...a}));ct.displayName="TableHead";const st=x.forwardRef(({className:t,...a},r)=>e.jsx("td",{ref:r,className:ye("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...a}));st.displayName="TableCell";const wP=x.forwardRef(({className:t,...a},r)=>e.jsx("caption",{ref:r,className:ye("mt-4 text-sm text-muted-foreground",t),...a}));wP.displayName="TableCaption";function NP(){var R,I,L;const[t,a]=x.useState([]),[r,o]=x.useState(!0),[i,c]=x.useState(""),[d,p]=x.useState(""),[u,g]=x.useState("todas"),[f,h]=x.useState(!1),[v,w]=x.useState(null),y=B=>{w(B),h(!0)};x.useEffect(()=>{let B=!0;return(async()=>{var F;try{console.log("[DEBUG] Consultas - Iniciando carregamento...");const M=await bt.getConsultas();if(console.log("[DEBUG] Consultas - Resposta da API:",M),!B)return;let K=[];M.results?(console.log("[DEBUG] Consultas - Usando response.results"),K=M.results):(F=M.data)!=null&&F.results?(console.log("[DEBUG] Consultas - Usando response.data.results"),K=M.data.results):M.data&&Array.isArray(M.data)?(console.log("[DEBUG] Consultas - Usando response.data (array)"),K=M.data):Array.isArray(M)&&(console.log("[DEBUG] Consultas - Usando response direto (array)"),K=M);const $=K.map(z=>{var Y,ee;console.log("[DEBUG] Consultas - Consulta original:",z);const q={id:z.id,data:z.data||z.data_consulta,local:z.local||z.endereco||"Local não informado",tipo:z.tipo||z.tipo_consulta||"Presencial",status:z.status||"Agendada",medico:null};return z.medico?typeof z.medico=="object"?(console.log("[DEBUG] Consultas - Médico como objeto:",z.medico),q.medico={id:z.medico.id,nome:z.medico.nome||z.medico.name||((Y=z.medico.usuario)==null?void 0:Y.nome)||((ee=z.medico.usuario)==null?void 0:ee.name),especialidade:z.medico.especialidade||z.medico.specialty||"Especialidade não informada"}):(console.log("[DEBUG] Consultas - Médico como string/ID:",z.medico),q.medico={id:z.medico,nome:"Médico não identificado",especialidade:"Especialidade não informada"}):(z.medico_nome||z.doctor_name)&&(console.log("[DEBUG] Consultas - Médico por nome direto:",z.medico_nome||z.doctor_name),q.medico={id:z.medico_id||null,nome:z.medico_nome||z.doctor_name,especialidade:z.especialidade||z.specialty||"Especialidade não informada"}),console.log("[DEBUG] Consultas - Consulta normalizada:",q),q});console.log("[DEBUG] Consultas - Todas as consultas normalizadas:",$),a($)}catch(M){if(!B)return;console.error("Erro ao carregar consultas:",M),c("Erro ao carregar consultas. Tente novamente.")}finally{B&&o(!1)}})(),()=>{B=!1}},[]);const j=t.filter(B=>{var F,M,K,$,z,q,Y;const G=String(B.status||"").toLowerCase();if(u==="agendadas"&&!(G.includes("agend")||G.includes("confirm"))||u==="realizadas"&&!(G.includes("conclu")||G.includes("realiz")||G.includes("final")))return!1;if(d){const ee=d.toLowerCase();return((M=(F=B.medico)==null?void 0:F.nome)==null?void 0:M.toLowerCase().includes(ee))||((z=($=(K=B.medico)==null?void 0:K.especialidade)==null?void 0:$.toLowerCase)==null?void 0:z.call($).includes(ee))||((q=B.local)==null?void 0:q.toLowerCase().includes(ee))||((Y=B.tipo)==null?void 0:Y.toLowerCase().includes(ee))}return!0}),N=new Date,P=j.filter(B=>{const G=(B.status||"").toLowerCase(),F=G.includes("agend")||G.includes("confirm"),M=B.data?new Date(B.data)>N:!1;return F||M}).sort((B,G)=>new Date(B.data)-new Date(G.data)),C=j.filter(B=>{const G=(B.status||"").toLowerCase(),F=G.includes("conclu")||G.includes("realiz")||G.includes("final"),M=B.data?new Date(B.data)<N:!1;return F||M}).sort((B,G)=>new Date(G.data)-new Date(B.data)),_=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}],E=t.length,k=t.filter(B=>B.data&&new Date(B.data).getFullYear()===new Date().getFullYear()).length,A=P.length,T=C.length;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-indigo-900/10",children:e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:e.jsx(Qe,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Minhas Consultas"}),e.jsx("p",{className:"text-blue-100",children:"Gerencie suas consultas médicas"})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Z,{variant:"secondary",className:"bg-white/20 text-white border-white/30 hover:bg-white/30 backdrop-blur-sm dark:bg-gray-800/80 dark:hover:bg-gray-700/80 dark:border-gray-600/50 dark:text-gray-200",asChild:!0,children:e.jsxs("a",{href:"/paciente/medicos",className:"inline-flex items-center gap-2",children:[e.jsx(xt,{className:"h-4 w-4"}),"Médicos"]})}),e.jsx(Z,{className:"bg-white text-blue-600 hover:bg-blue-50 font-semibold shadow-lg dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700",asChild:!0,children:e.jsxs("a",{href:"/paciente/consultas/nova",className:"inline-flex items-center gap-2",children:[e.jsx(eg,{className:"h-4 w-4"}),"Agendar Consulta"]})})]})]})})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total de Consultas"}),e.jsx("p",{className:"text-3xl font-bold",children:E})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(Qe,{className:"h-6 w-6"})})]})})}),e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-green-500 to-green-600 text-white shadow-lg",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Próximas Consultas"}),e.jsx("p",{className:"text-3xl font-bold",children:A})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(lt,{className:"h-6 w-6"})})]})})}),e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-purple-500 to-purple-600 text-white shadow-lg",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Consultas Concluídas"}),e.jsx("p",{className:"text-3xl font-bold",children:T})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(Js,{className:"h-6 w-6"})})]})})}),e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-orange-500 to-orange-600 text-white shadow-lg",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Este Ano"}),e.jsx("p",{className:"text-3xl font-bold",children:k})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(cs,{className:"h-6 w-6"})})]})})})]}),e.jsx(ga,{tabs:_,basePath:"/paciente"}),e.jsx(ne,{className:"border-0 shadow-lg",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ms,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar por médico, especialidade ou local...",className:"pl-10 border-0 bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-400",value:d,onChange:B=>p(B.target.value)})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs(Et,{value:u,onValueChange:g,children:[e.jsx(Ct,{className:"w-[180px] border-0 bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200",children:e.jsx(Rt,{placeholder:"Filtrar por status"})}),e.jsxs(_t,{children:[e.jsx(Ne,{value:"todas",children:"Todas as consultas"}),e.jsx(Ne,{value:"agendadas",children:"Agendadas"}),e.jsx(Ne,{value:"realizadas",children:"Realizadas"})]})]})})]})})}),e.jsxs(Ma,{defaultValue:"agendadas",className:"w-full",children:[e.jsxs(Da,{className:"grid w-full grid-cols-2 bg-white dark:bg-gray-800 shadow-lg border-0",children:[e.jsx(wt,{value:"agendadas",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:"Consultas Agendadas"}),e.jsx(wt,{value:"realizadas",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:"Histórico de Consultas"})]}),e.jsx(Tt,{value:"agendadas",children:e.jsxs(ne,{className:"border-0 shadow-lg",children:[e.jsx(he,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20",children:e.jsxs(xe,{className:"flex items-center gap-2 text-blue-700 dark:text-blue-300",children:[e.jsx(Qe,{className:"h-5 w-5"}),"Próximas Consultas"]})}),e.jsx(ie,{className:"p-6",children:r?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((B,G)=>e.jsxs("div",{className:"rounded-xl border p-4 space-y-3",children:[e.jsx(it,{className:"h-4 w-1/3"}),e.jsx(it,{className:"h-4 w-1/2"}),e.jsx(it,{className:"h-4 w-1/4"})]},G))}):i?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"rounded-full bg-red-100 dark:bg-red-900/20 p-3 w-fit mx-auto mb-4",children:e.jsx(Qe,{className:"h-8 w-8 text-red-500"})}),e.jsx("p",{className:"text-red-500 font-medium",children:i})]}):P.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"rounded-full bg-blue-100 dark:bg-blue-900/20 p-4 w-fit mx-auto mb-4",children:e.jsx(Qe,{className:"h-12 w-12 text-blue-500"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Nenhuma consulta agendada"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Você não possui consultas agendadas no momento."}),e.jsx(Z,{className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg",asChild:!0,children:e.jsxs("a",{href:"/paciente/consultas/nova",className:"inline-flex items-center gap-2",children:[e.jsx(eg,{className:"h-4 w-4"}),"Agendar Nova Consulta"]})})]}):e.jsx("div",{className:"space-y-4",children:P.map(B=>{var G,F,M;return e.jsx("div",{className:"group relative overflow-hidden rounded-xl border-0 bg-gradient-to-r from-white to-blue-50/50 dark:from-gray-800 dark:to-blue-900/10 p-6 shadow-lg transition-all hover:shadow-xl hover:scale-[1.02]",children:e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsx("div",{className:"flex-1 space-y-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"rounded-full bg-gradient-to-r from-blue-500 to-purple-600 p-3 text-white shadow-lg",children:e.jsx(is,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-gray-100",children:((G=B.medico)==null?void 0:G.nome)||"Médico não informado"}),e.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium",children:((F=B.medico)==null?void 0:F.especialidade)||"Especialidade não informada"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx(lt,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[B.data?new Date(B.data).toLocaleDateString():"Data não informada"," às ",B.data?new Date(B.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--:--"]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx(jc,{className:"h-4 w-4"}),e.jsx("span",{children:B.local})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 px-3 py-1 text-xs font-medium text-white",children:[B.tipo==="Online"?e.jsx(em,{className:"h-3 w-3"}):B.tipo==="Telefone"?e.jsx(Hr,{className:"h-3 w-3"}):e.jsx(xt,{className:"h-3 w-3"}),B.tipo]}),e.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-3 py-1 text-xs font-medium text-green-700 dark:text-green-300",children:B.status||"—"})]})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Z,{variant:"outline",size:"sm",onClick:()=>y(B),className:"border-blue-200 text-blue-600 hover:bg-blue-50 dark:border-blue-800 dark:text-blue-400 dark:hover:bg-blue-900/20",children:"Ver Detalhes"}),e.jsx(Z,{size:"sm",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg",asChild:!0,children:e.jsx("a",{href:`/paciente/consultas/nova${(M=B.medico)!=null&&M.id?`?medico=${B.medico.id}`:""}`,children:"Reagendar"})})]})]})},B.id)})})})]})}),e.jsx(Tt,{value:"realizadas",children:e.jsxs(ne,{className:"border-0 shadow-lg",children:[e.jsx(he,{className:"bg-gradient-to-r from-gray-50 to-slate-50 dark:from-gray-900/20 dark:to-slate-900/20",children:e.jsxs(xe,{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(lt,{className:"h-5 w-5"}),"Histórico de Consultas"]})}),e.jsx(ie,{className:"p-6",children:r?e.jsx("div",{className:"space-y-2",children:[...Array(5)].map((B,G)=>e.jsx(it,{className:"h-12 w-full"},G))}):i?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"rounded-full bg-red-100 dark:bg-red-900/20 p-3 w-fit mx-auto mb-4",children:e.jsx(lt,{className:"h-8 w-8 text-red-500"})}),e.jsx("p",{className:"text-red-500 font-medium",children:i})]}):C.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"rounded-full bg-gray-100 dark:bg-gray-800 p-4 w-fit mx-auto mb-4",children:e.jsx(lt,{className:"h-12 w-12 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Você não possui consultas realizadas no histórico."})]}):e.jsx("div",{className:"overflow-hidden rounded-xl border-0 bg-white dark:bg-gray-800 shadow-lg",children:e.jsxs(Za,{children:[e.jsx(er,{className:"bg-gray-50 dark:bg-gray-900/50",children:e.jsxs(es,{className:"border-0",children:[e.jsx(ct,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Data"}),e.jsx(ct,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Médico"}),e.jsx(ct,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Especialidade"}),e.jsx(ct,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Tipo"}),e.jsx(ct,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Status"}),e.jsx(ct,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Ações"})]})}),e.jsx(tr,{children:C.map(B=>{var G,F;return e.jsxs(es,{className:"border-0 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[e.jsx(st,{className:"font-medium",children:B.data?new Date(B.data).toLocaleDateString():"—"}),e.jsx(st,{children:((G=B.medico)==null?void 0:G.nome)||"—"}),e.jsx(st,{children:((F=B.medico)==null?void 0:F.especialidade)||"—"}),e.jsx(st,{children:e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-100 dark:bg-blue-900/30 px-2 py-1 text-xs font-medium text-blue-700 dark:text-blue-300",children:[B.tipo==="Online"?e.jsx(em,{className:"h-3 w-3"}):B.tipo==="Telefone"?e.jsx(Hr,{className:"h-3 w-3"}):e.jsx(xt,{className:"h-3 w-3"}),B.tipo||"—"]})}),e.jsx(st,{children:e.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-2 py-1 text-xs font-medium text-green-700 dark:text-green-300",children:B.status||"—"})}),e.jsx(st,{children:e.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>y(B),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20",children:"Ver Detalhes"})})]},B.id)})})]})})})]})})]}),e.jsx(wo,{open:f,onOpenChange:h,children:e.jsxs(Cn,{className:"max-w-2xl border-0 shadow-2xl",children:[e.jsxs(_n,{className:"pb-6",children:[e.jsx(kn,{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Detalhes da Consulta"}),e.jsx(Fi,{className:"text-gray-600 dark:text-gray-400",children:"Informações completas da consulta selecionada"})]}),v?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 p-6",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold text-lg shadow-lg",children:(((R=v.medico)==null?void 0:R.nome)||"—").split(" ").map(B=>B==null?void 0:B[0]).filter(Boolean).slice(0,2).join("").toUpperCase()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-xl text-gray-900 dark:text-gray-100",children:((I=v.medico)==null?void 0:I.nome)||"—"}),e.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium",children:((L=v.medico)==null?void 0:L.especialidade)||"Especialidade não informada"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Data"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:v.data?new Date(v.data).toLocaleDateString():"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Hora"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:v.data?new Date(v.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Tipo"}),e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 px-3 py-1 text-sm font-medium text-white",children:[v.tipo==="Online"?e.jsx(em,{className:"h-3 w-3"}):v.tipo==="Telefone"?e.jsx(Hr,{className:"h-3 w-3"}):e.jsx(xt,{className:"h-3 w-3"}),v.tipo]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-3 py-1 text-sm font-medium text-green-700 dark:text-green-300",children:v.status})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Local"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-gray-100",children:[e.jsx(jc,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:v.local})]})]})]}):null]})})]})})}function SP(){const[t,a]=x.useState([]),[r,o]=x.useState(!0),[i,c]=x.useState(null),[d,p]=x.useState("todas"),[u,g]=x.useState(""),f=k=>{var A;return((A=k==null?void 0:k.tipo_exame)==null?void 0:A.nome)||(k==null?void 0:k.tipo_exame_nome)||(k==null?void 0:k.nome_exame)||(typeof(k==null?void 0:k.tipo_exame)=="string"?k.tipo_exame:null)||(k==null?void 0:k.nome)||(k==null?void 0:k.tipo)||(k==null?void 0:k.exame)||"Exame"},h=k=>{const A=k==null?void 0:k.user;return[A==null?void 0:A.first_name,A==null?void 0:A.last_name].filter(Boolean).join(" ").trim()||(A==null?void 0:A.nome)||(A==null?void 0:A.username)||(k==null?void 0:k.nome)||"—"},v=k=>{var R;const A=(k==null?void 0:k.resultado_url)||(k==null?void 0:k.arquivo_resultado)||((R=k==null?void 0:k.resultado)==null?void 0:R.arquivo)||(k==null?void 0:k.arquivo_url)||(k==null?void 0:k.documento_url);return A?/^https?:\/\//i.test(A)?A:`http://127.0.0.1:8000${A.startsWith("/")?"":"/"}${A}`:null};x.useEffect(()=>{let k=!0;return(async()=>{try{const A=await bt.getExames();if(k){const R=(Array.isArray(A)?A:(A==null?void 0:A.results)||[]).map(I=>({id:I.id,data:I.data_agendamento||I.data_solicitacao||I.data||I.data_hora||null,nome:f(I),medico:{nome:h((I==null?void 0:I.medico_solicitante)||(I==null?void 0:I.medico))},status:I.status||I.situacao||"Pendente",local:I.local_realizacao||I.local||I.localizacao||I.unidade||"",resultado_url:v(I)}));a(R)}}catch{c("Não foi possível carregar os exames.")}finally{k&&o(!1)}})(),()=>{k=!1}},[]);const w=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}],y=t.filter(k=>{var A;if(d==="agendados"){const T=k.data?new Date(k.data)>new Date:!1;if(!T&&(k.status||"").toLowerCase().includes("conclu")||!T&&(k.status||"").toLowerCase()==="realizado")return!1}if(d==="realizados"&&!((k.status||"").toLowerCase().includes("conclu")||(k.status||"").toLowerCase()==="realizado"||(k.data?new Date(k.data)<new Date:!1)))return!1;if(u){const T=u.toLowerCase();return(k.nome||"").toLowerCase().includes(T)||(((A=k.medico)==null?void 0:A.nome)||"").toLowerCase().includes(T)||(k.local||"").toLowerCase().includes(T)}return!0}),j=y.filter(k=>{const A=k.data?new Date(k.data)>new Date:!1,T=(k.status||"").toLowerCase();return A||T==="agendado"||T==="pendente"||T==="solicitado"}).sort((k,A)=>new Date(k.data||0)-new Date(A.data||0)),N=y.filter(k=>{const A=(k.status||"").toLowerCase();return(k.data?new Date(k.data)<new Date:!1)||A.includes("conclu")||A==="realizado"}).sort((k,A)=>new Date(A.data||0)-new Date(k.data||0)),P=t.length,C=j.length,_=N.length,E=t.filter(k=>k.data?new Date(k.data).getFullYear()===new Date().getFullYear():!1).length;return e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:e.jsx(pa,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Meus Exames"}),e.jsx("p",{className:"text-blue-100",children:"Gerencie seus exames e resultados"})]})]})}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(Z,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[e.jsx(xt,{className:"mr-2 h-4 w-4"}),"Médicos"]}),e.jsxs(Z,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[e.jsx(Qe,{className:"mr-2 h-4 w-4"}),"Agendar Exame"]})]})]})}),e.jsx("div",{className:"absolute -right-20 -top-20 h-40 w-40 rounded-full bg-white/10"}),e.jsx("div",{className:"absolute -bottom-16 -left-16 h-32 w-32 rounded-full bg-white/10"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg",children:e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total de Exames"}),e.jsx("p",{className:"text-3xl font-bold",children:P})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(cs,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-amber-500 to-orange-600 text-white shadow-lg",children:e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-amber-100 text-sm font-medium",children:"Próximos Exames"}),e.jsx("p",{className:"text-3xl font-bold",children:C})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(lt,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-emerald-500 to-green-600 text-white shadow-lg",children:e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-emerald-100 text-sm font-medium",children:"Concluídos"}),e.jsx("p",{className:"text-3xl font-bold",children:_})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(ur,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-purple-500 to-indigo-600 text-white shadow-lg",children:e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Este Ano"}),e.jsx("p",{className:"text-3xl font-bold",children:E})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(xo,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})})]}),e.jsx(ga,{tabs:w,basePath:"/paciente"}),e.jsx(ne,{className:"border-0 shadow-lg",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ms,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar por exame, médico ou local...",value:u,onChange:k=>g(k.target.value),className:"pl-10"})]}),e.jsx("div",{className:"w-full md:w-[220px]",children:e.jsxs(Et,{value:d,onValueChange:p,children:[e.jsx(Ct,{children:e.jsx(Rt,{placeholder:"Filtrar por status"})}),e.jsxs(_t,{children:[e.jsx(Ne,{value:"todas",children:"Todos os exames"}),e.jsx(Ne,{value:"agendados",children:"Agendados"}),e.jsx(Ne,{value:"realizados",children:"Realizados"})]})]})})]})})}),e.jsxs(Ma,{defaultValue:"agendados",className:"w-full",children:[e.jsxs(Da,{className:"grid w-full grid-cols-2 h-12 bg-muted/50",children:[e.jsxs(wt,{value:"agendados",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[e.jsx(lt,{className:"mr-2 h-4 w-4"}),"Exames Agendados"]}),e.jsxs(wt,{value:"realizados",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[e.jsx(ur,{className:"mr-2 h-4 w-4"}),"Histórico de Exames"]})]}),e.jsx(Tt,{value:"agendados",className:"mt-6",children:e.jsxs(ne,{className:"border-0 shadow-lg",children:[e.jsx(he,{className:"pb-4",children:e.jsxs(xe,{className:"flex items-center gap-2 text-xl",children:[e.jsx(lt,{className:"h-5 w-5 text-amber-500"}),"Próximos Exames"]})}),e.jsx(ie,{children:r?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((k,A)=>e.jsxs("div",{className:"rounded-lg border p-4",children:[e.jsx(it,{className:"h-6 w-3/4 mb-2"}),e.jsx(it,{className:"h-4 w-1/2 mb-2"}),e.jsx(it,{className:"h-4 w-1/4"})]},A))}):i?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(qr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-500 font-medium",children:i})]}):j.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Qe,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhum exame agendado"}),e.jsx("p",{className:"text-muted-foreground",children:"Você não possui exames agendados no momento."})]}):e.jsx("div",{className:"space-y-4",children:j.map(k=>{var A;return e.jsx("div",{className:"group rounded-xl border border-border/50 bg-gradient-to-r from-background to-muted/20 p-6 transition-all hover:shadow-lg hover:border-border",children:e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg text-foreground group-hover:text-primary transition-colors",children:k.nome}),e.jsxs("p",{className:"text-muted-foreground flex items-center gap-2 mt-1",children:[e.jsx(xt,{className:"h-4 w-4"}),((A=k.medico)==null?void 0:A.nome)||"—"]})]}),e.jsx(ft,{variant:"secondary",className:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:k.status})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-4 w-4"}),e.jsxs("span",{children:[k.data?new Date(k.data).toLocaleDateString():"—"," ",k.data?`às ${new Date(k.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:""]})]}),k.local&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Js,{className:"h-4 w-4"}),e.jsx("span",{children:k.local})]})]})]})})},k.id||`${k.data}-${k.nome}`)})})})]})}),e.jsx(Tt,{value:"realizados",className:"mt-6",children:e.jsxs(ne,{className:"border-0 shadow-lg",children:[e.jsx(he,{className:"pb-4",children:e.jsxs(xe,{className:"flex items-center gap-2 text-xl",children:[e.jsx(ur,{className:"h-5 w-5 text-emerald-500"}),"Histórico de Exames"]})}),e.jsx(ie,{children:r?e.jsx("div",{className:"space-y-2",children:[...Array(5)].map((k,A)=>e.jsx(it,{className:"h-16 w-full"},A))}):i?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(qr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-500 font-medium",children:i})]}):N.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(cs,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhum exame no histórico"}),e.jsx("p",{className:"text-muted-foreground",children:"Você não possui exames realizados no histórico."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Za,{children:[e.jsx(er,{children:e.jsxs(es,{className:"border-border/50",children:[e.jsx(ct,{className:"font-semibold",children:"Data"}),e.jsx(ct,{className:"font-semibold",children:"Exame"}),e.jsx(ct,{className:"font-semibold",children:"Médico"}),e.jsx(ct,{className:"font-semibold",children:"Status"}),e.jsx(ct,{className:"font-semibold text-right",children:"Ações"})]})}),e.jsx(tr,{children:y.map(k=>{var A;return e.jsxs(es,{className:"border-border/50 hover:bg-muted/30 transition-colors",children:[e.jsx(st,{className:"font-medium",children:k.data?new Date(k.data).toLocaleDateString():"—"}),e.jsx(st,{children:e.jsx("div",{className:"font-medium",children:k.nome})}),e.jsx(st,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-4 w-4 text-muted-foreground"}),((A=k.medico)==null?void 0:A.nome)||"—"]})}),e.jsx(st,{children:e.jsx(ft,{variant:(k.status||"").toLowerCase().includes("conclu")||(k.status||"").toLowerCase()==="realizado"?"default":"secondary",className:(k.status||"").toLowerCase().includes("conclu")||(k.status||"").toLowerCase()==="realizado"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-300":"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:k.status||"—"})}),e.jsx(st,{children:e.jsx("div",{className:"flex items-center justify-end gap-2",children:k.resultado_url?e.jsxs(e.Fragment,{children:[e.jsxs(Z,{variant:"outline",size:"sm",className:"group border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 text-emerald-700 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-800 dark:text-emerald-300 dark:hover:text-emerald-100",onClick:()=>window.open(k.resultado_url,"_blank"),children:[e.jsx(Ea,{className:"h-4 w-4 mr-1"}),"Ver"]}),e.jsxs(Z,{variant:"outline",size:"sm",className:"group border-blue-500/60 bg-gradient-to-b from-blue-500/10 to-blue-600/10 text-blue-700 hover:from-blue-500/20 hover:to-blue-600/20 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-100",onClick:()=>void CP(k),children:[e.jsx(mr,{className:"h-4 w-4 mr-1"}),"Baixar"]})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem resultado"}),e.jsxs(Z,{variant:"outline",size:"sm",disabled:!0,className:"opacity-50 cursor-not-allowed",children:[e.jsx(mr,{className:"h-4 w-4 mr-1"}),"Baixar"]})]})})})]},k.id)})})]})})})]})})]})]})}const CP=async t=>{var a;try{let r=t==null?void 0:t.resultado_url;if(!r)return;/^https?:\/\//i.test(r)||(r=`http://127.0.0.1:8000${r.startsWith("/")?"":"/"}${r}`);const o=await ue.get(r,{responseType:"blob",baseURL:""}),i=new Blob([o.data],{type:o.headers["content-type"]||"application/octet-stream"}),c=o.headers["content-disposition"]||"",d=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(c),p=decodeURIComponent((d==null?void 0:d[1])||(d==null?void 0:d[2])||`${t.nome||"resultado"}.pdf`),u=document.createElement("a");u.href=URL.createObjectURL(i),u.download=p,document.body.appendChild(u),u.click(),u.remove(),setTimeout(()=>URL.revokeObjectURL(u.href),2e3)}catch(r){console.warn("[Exames] download falhou:",(a=r==null?void 0:r.response)==null?void 0:a.status),alert("Não foi possível baixar o resultado. Tente novamente.")}};function _P(){const[t,a]=x.useState([]),[r,o]=x.useState(!0),[i,c]=x.useState(null),[d,p]=x.useState("todos"),[u,g]=x.useState("todos"),[f,h]=x.useState(""),v=_=>{var E;return((E=_==null?void 0:_.tipo_exame)==null?void 0:E.nome)||(_==null?void 0:_.tipo_exame_nome)||(_==null?void 0:_.nome_exame)||(typeof(_==null?void 0:_.tipo_exame)=="string"?_.tipo_exame:null)||(_==null?void 0:_.nome)||(_==null?void 0:_.tipo)||(_==null?void 0:_.exame)||"Exame"},w=_=>{const E=_==null?void 0:_.user;return[E==null?void 0:E.first_name,E==null?void 0:E.last_name].filter(Boolean).join(" ").trim()||(E==null?void 0:E.nome)||(E==null?void 0:E.username)||(_==null?void 0:_.nome)||"—"},y=_=>{var A;const E=(_==null?void 0:_.resultado_url)||(_==null?void 0:_.arquivo_resultado)||((A=_==null?void 0:_.resultado)==null?void 0:A.arquivo)||(_==null?void 0:_.arquivo_url)||(_==null?void 0:_.documento_url);return E?/^https?:\/\//i.test(E)?E:`http://127.0.0.1:8000${E.startsWith("/")?"":"/"}${E}`:null},j=_=>{if(!_)return"sem-data";const E=new Date(_);return Number.isNaN(E.getTime())?"sem-data":E.toISOString().slice(0,10)},N=_=>{try{return new Date(_).toLocaleString()}catch{return _||"—"}};x.useEffect(()=>{let _=!0;return(async()=>{var E,k,A;try{const[T,R,I]=await Promise.allSettled([bt.getConsultas(),bt.getExames(),bt.getReceitas()]),L=T.status==="fulfilled"?(Array.isArray(T.value)?T.value:(E=T.value)==null?void 0:E.results)||[]:[],B=R.status==="fulfilled"?(Array.isArray(R.value)?R.value:(k=R.value)==null?void 0:k.results)||[]:[],G=I.status==="fulfilled"?(Array.isArray(I.value)?I.value:(A=I.value)==null?void 0:A.results)||[]:[],F=B.map(z=>({id:z.id||Math.random(),tipo:"exame",data:z.data_agendamento||z.data_solicitacao||z.data||z.data_hora||null,titulo:`Exame - ${v(z)}`.trim(),detalhe:w((z==null?void 0:z.medico_solicitante)||(z==null?void 0:z.medico)),status:z.status||z.situacao||"pendente",resultado_url:y(z),nome:v(z)})),M=L.map(z=>{var q,Y;return{id:z.id||Math.random(),tipo:"consulta",data:z.data_hora||z.data||null,titulo:`Consulta - ${z.especialidade||((q=z.medico)==null?void 0:q.especialidade)||""}`.trim(),detalhe:((Y=z.medico)==null?void 0:Y.nome)||w(z==null?void 0:z.medico)||"",status:z.status||"pendente"}}),K=G.map(z=>{var ee;const q=z.medico||((ee=z.consulta)==null?void 0:ee.medico),Y=Array.isArray(z.itens)&&z.itens.length?z.itens.map(D=>{var H;return((H=D==null?void 0:D.medicamento)==null?void 0:H.nome)||(D==null?void 0:D.medicamento)||""}).filter(Boolean).join(", "):z.medicamentos||"Prescrição";return{id:z.id||Math.random(),tipo:"receita",data:z.created_at||z.data||z.emissao||z.data_emissao||null,titulo:`Receita - ${Y}`.trim(),detalhe:w(q),status:z.status||(z.arquivo_assinado?"assinada":"emitida"),resultado_url:z.arquivo_assinado||null,nome:"Receita"}}),$=[...M,...F,...K].filter(z=>z.data).sort((z,q)=>new Date(q.data||0)-new Date(z.data||0));_&&a($)}catch{c("Não foi possível carregar o histórico.")}finally{_&&o(!1)}})(),()=>{_=!1}},[]);const P=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}],C=x.useMemo(()=>{let _=t;if(d!=="todos"){const A={consultas:"consulta",exames:"exame",receitas:"receita"};_=_.filter(T=>T.tipo===(A[d]||d))}if(u!=="todos"&&(_=_.filter(A=>(A.status||"").toLowerCase()===u.toLowerCase())),f.trim()){const A=f.toLowerCase();_=_.filter(T=>{var R,I;return((R=T.titulo)==null?void 0:R.toLowerCase().includes(A))||((I=T.detalhe)==null?void 0:I.toLowerCase().includes(A))||(T.status||"").toLowerCase().includes(A)})}const E={};for(const A of _){const T=j(A.data);E[T]||(E[T]=[]),E[T].push(A)}const k=Object.keys(E).sort((A,T)=>A<T?1:-1);return{groups:E,orderedKeys:k}},[t,d,u,f]);return e.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D0,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Histórico Médico"})]}),e.jsx(ga,{tabs:P,basePath:"/paciente"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsx("div",{className:"flex-1 relative",children:e.jsx(fe,{placeholder:"Buscar por título, médico, status...",value:f,onChange:_=>h(_.target.value),className:"w-full"})}),e.jsxs(Et,{value:d,onValueChange:p,children:[e.jsx(Ct,{className:"w-[180px]",children:e.jsx(Rt,{placeholder:"Tipo"})}),e.jsxs(_t,{children:[e.jsx(Ne,{value:"todos",children:"Todos"}),e.jsx(Ne,{value:"consultas",children:"Consultas"}),e.jsx(Ne,{value:"exames",children:"Exames"}),e.jsx(Ne,{value:"receitas",children:"Receitas"})]})]}),e.jsxs(Et,{value:u,onValueChange:g,children:[e.jsx(Ct,{className:"w-[180px]",children:e.jsx(Rt,{placeholder:"Status"})}),e.jsxs(_t,{children:[e.jsx(Ne,{value:"todos",children:"Todos"}),e.jsx(Ne,{value:"solicitado",children:"Solicitado"}),e.jsx(Ne,{value:"agendado",children:"Agendado"}),e.jsx(Ne,{value:"realizado",children:"Realizado"}),e.jsx(Ne,{value:"cancelado",children:"Cancelado"}),e.jsx(Ne,{value:"pendente",children:"Pendente"})]})]})]}),e.jsxs(ne,{children:[e.jsx(he,{children:e.jsx(xe,{children:"Linha do Tempo"})}),e.jsx(ie,{children:r?e.jsx("div",{className:"space-y-3",children:[...Array(6)].map((_,E)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(it,{className:"h-4 w-4 rounded-full"}),e.jsx(it,{className:"h-6 w-2/3"})]},E))}):i?e.jsx("p",{className:"text-sm text-red-500",children:i}):C.orderedKeys.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum evento encontrado."}):e.jsx("div",{className:"space-y-8",children:C.orderedKeys.map(_=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-muted-foreground",children:[e.jsx(Qe,{className:"h-4 w-4"}),e.jsx("span",{children:_==="sem-data"?"Sem data":new Date(_).toLocaleDateString()})]}),e.jsxs("div",{className:"relative pl-6",children:[e.jsx("div",{className:"absolute left-1 top-0 bottom-0 w-px bg-border"}),e.jsx("ul",{className:"space-y-4",children:C.groups[_].map(E=>e.jsxs("li",{className:"relative",children:[e.jsx("span",{className:`absolute -left-[7px] top-1 inline-flex items-center justify-center h-4 w-4 rounded-full ${E.tipo==="consulta"?"bg-primary":E.tipo==="exame"?"bg-emerald-500":"bg-indigo-500"}`,title:E.tipo==="consulta"?"Consulta":E.tipo==="exame"?"Exame":"Receita"}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5 text-muted-foreground",children:E.tipo==="consulta"?e.jsx(xt,{className:"h-4 w-4"}):E.tipo==="exame"?e.jsx(VS,{className:"h-4 w-4 text-emerald-400"}):e.jsx(pi,{className:"h-4 w-4 text-indigo-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:E.titulo}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.detalhe||"—"," ",E.status?`• ${E.status}`:""]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:N(E.data)})]})]}),E.tipo==="exame"&&e.jsx("div",{className:"flex items-center gap-2",children:E.resultado_url?e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:E.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-2 rounded-lg border border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",title:"Abrir resultado em nova aba",children:[e.jsx(Ea,{className:"h-4 w-4 transition-transform group-hover:-translate-y-0.5"}),e.jsx("span",{children:"Ver"})]}),e.jsxs(Z,{variant:"outline",className:"group inline-flex items-center gap-2 rounded-lg border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",onClick:()=>void Mg(E),title:"Baixar arquivo",children:[e.jsx(mr,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),e.jsx("span",{children:"Baixar"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem arquivo"}),e.jsxs(Z,{variant:"outline",disabled:!0,className:"inline-flex items-center gap-2 rounded-lg border-emerald-500/30 bg-gradient-to-b from-emerald-500/5 to-emerald-600/5 px-3 py-1.5 text-emerald-400/50 disabled:opacity-60 disabled:cursor-not-allowed",title:"Resultado ainda não disponível",children:[e.jsx(mr,{className:"h-4 w-4"}),e.jsx("span",{children:"Baixar"})]})]})}),E.tipo==="receita"&&e.jsx("div",{className:"flex items-center gap-2",children:E.resultado_url?e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:E.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-lg border border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",title:"Abrir receita em nova aba",children:[e.jsx(Ea,{className:"h-4 w-4"}),e.jsx("span",{children:"Ver"})]}),e.jsxs(Z,{variant:"outline",className:"inline-flex items-center gap-2 rounded-lg border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",onClick:()=>void Mg(E),title:"Baixar PDF",children:[e.jsx(mr,{className:"h-4 w-4"}),e.jsx("span",{children:"Baixar"})]})]}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem PDF assinado"})})]})]},E.id))})]})]},_))})})]})]})}const Mg=async t=>{var a;try{let r=t==null?void 0:t.resultado_url;if(!r)return;if(/^(data|blob):/i.test(r)){const g=document.createElement("a");g.href=r,g.download=`${t.nome||"resultado"}.pdf`,document.body.appendChild(g),g.click(),g.remove();return}/^https?:\/\//i.test(r)||(r=`http://127.0.0.1:8000${r.startsWith("/")?"":"/"}${r}`);const o=await ue.get(r,{responseType:"blob",baseURL:""}),i=new Blob([o.data],{type:o.headers["content-type"]||"application/octet-stream"}),c=o.headers["content-disposition"]||"",d=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(c),p=decodeURIComponent((d==null?void 0:d[1])||(d==null?void 0:d[2])||`${t.nome||"resultado"}.pdf`),u=document.createElement("a");u.href=URL.createObjectURL(i),u.download=p,document.body.appendChild(u),u.click(),u.remove(),setTimeout(()=>URL.revokeObjectURL(u.href),2e3)}catch(r){console.warn("[Historico Medico] download falhou:",(a=r==null?void 0:r.response)==null?void 0:a.status),alert("Não foi possível baixar o resultado. Tente novamente.")}};function kP(){const[t,a]=x.useState([]),[r,o]=x.useState(!0),[i,c]=x.useState(null);x.useEffect(()=>{let p=!0;return(async()=>{try{const u=await bt.getMedicos();p&&a(Array.isArray(u)?u:(u==null?void 0:u.results)||[])}catch{c("Não foi possível carregar os médicos vinculados.")}finally{p&&o(!1)}})(),()=>{p=!1}},[]);const d=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];return e.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Médicos Vinculados"})]}),e.jsx(ga,{tabs:d,basePath:"/paciente"}),r?e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:[...Array(4)].map((p,u)=>e.jsxs(ne,{children:[e.jsx(he,{children:e.jsx(it,{className:"h-5 w-48"})}),e.jsxs(ie,{className:"space-y-2",children:[e.jsx(it,{className:"h-4 w-56"}),e.jsx(it,{className:"h-4 w-32"})]})]},u))}):i?e.jsx("p",{className:"text-sm text-red-500",children:i}):t.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum médico vinculado."}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:t.map(p=>{var u,g;return e.jsxs(ne,{children:[e.jsx(he,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-5 w-5"}),EP(p)]})}),e.jsxs(ie,{className:"space-y-2 text-sm",children:[e.jsx("div",{className:"text-muted-foreground",children:RP(p)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:["CRM: ",$g(p)||"—"]})]}),Dg(p)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:Dg(p)})]}),Og(p)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fr,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:Og(p)})]})]})]},p.id||$g(p)||((u=p.user)==null?void 0:u.id)||((g=p.user)==null?void 0:g.email))})})]})}const EP=t=>{const a=(t==null?void 0:t.user)||{};return[a.first_name,a.last_name].filter(Boolean).join(" ").trim()||a.nome||a.name||a.username||(t==null?void 0:t.nome)||(t==null?void 0:t.name)||(t==null?void 0:t.full_name)||"Médico"},RP=t=>{var r;const a=o=>(o==null?void 0:o.nome)||(o==null?void 0:o.titulo)||(o==null?void 0:o.name)||(o==null?void 0:o.descricao)||(o==null?void 0:o.description);if(Array.isArray(t==null?void 0:t.especialidades)&&t.especialidades.length){const o=t.especialidades.map(i=>a(i)||(typeof i=="string"?i:null)).filter(Boolean);if(o.length)return o.join(", ")}if(t!=null&&t.especialidade&&typeof t.especialidade=="object"){const o=a(t.especialidade);if(o)return o}return typeof(t==null?void 0:t.especialidade)=="string"&&t.especialidade.trim()?t.especialidade.trim():typeof(t==null?void 0:t.especialidade_nome)=="string"&&t.especialidade_nome.trim()?t.especialidade_nome.trim():typeof(t==null?void 0:t.specialty)=="string"&&t.specialty.trim()?t.specialty.trim():typeof(t==null?void 0:t.area)=="string"&&t.area.trim()?t.area.trim():typeof((r=t==null?void 0:t.user)==null?void 0:r.especialidade)=="string"&&t.user.especialidade.trim()?t.user.especialidade.trim():"Especialidade não informada"},Dg=t=>{var a;return(t==null?void 0:t.telefone)||(t==null?void 0:t.phone)||(t==null?void 0:t.celular)||((a=t==null?void 0:t.user)==null?void 0:a.phone)||null},Og=t=>{var a;return(t==null?void 0:t.email)||((a=t==null?void 0:t.user)==null?void 0:a.email)||null},$g=t=>(t==null?void 0:t.crm)||(t==null?void 0:t.crm_numero)||(t==null?void 0:t.crmNumber)||(t==null?void 0:t.crm_registro)||null;function PP(){const{toast:t}=ts(),[a,r]=x.useState(!0),[o,i]=x.useState(""),[c,d]=x.useState([]),[p,u]=x.useState([]),[g,f]=x.useState(!1),[h,v]=x.useState({medico:"",mensagem:""}),[w,y]=x.useState(!1),[j,N]=x.useState(""),P=x.useMemo(()=>Array.isArray(p)?p.filter(F=>F&&String(F.id??"").trim()!==""):[],[p]),C=F=>{const M=F==null?void 0:F.user;return[M==null?void 0:M.first_name,M==null?void 0:M.last_name].filter(Boolean).join(" ").trim()||(M==null?void 0:M.nome)||(M==null?void 0:M.username)||(F==null?void 0:F.nome)||(F==null?void 0:F.name)||(F==null?void 0:F.full_name)||(F==null?void 0:F.medico_nome)||(F==null?void 0:F.doctor_name)||"Médico"},_=x.useMemo(()=>Array.isArray(c)?c.length>0:Array.isArray(c==null?void 0:c.results)?c.results.length>0:!1,[c]),E=x.useMemo(()=>[...Array.isArray(c)?c:Array.isArray(c==null?void 0:c.results)?c.results:[]].sort((M,K)=>new Date(K.created_at||0)-new Date(M.created_at||0)),[c]),k=x.useMemo(()=>{if(!j)return E;const F=j.toLowerCase();return E.filter(M=>{var z;const K=C(M.medico)||C((z=M.consulta)==null?void 0:z.medico)||"",$=M.medicamentos||"";return K.toLowerCase().includes(F)||$.toLowerCase().includes(F)})},[E,j]);x.useEffect(()=>{let F=!0;async function M(){r(!0),i("");try{const[K,$]=await Promise.all([bt.getReceitas(),bt.getMedicosVinculados()]);if(!F)return;if(d(K),u($),Array.isArray($)&&$.length===0)try{const z=await bt.getMedicos({limit:50}),q=Array.isArray(z)?z:(z==null?void 0:z.results)||[];F&&q.length>0&&u(q)}catch{}}catch{if(!F)return;i("Falha ao carregar receitas.")}finally{F&&r(!1)}}return M(),()=>{F=!1}},[]);const A=async F=>{var M,K;if(F.preventDefault(),!h.medico){t({title:"Selecione um médico",description:"Escolha o médico para enviar a solicitação."});return}y(!0);try{await bt.solicitarReceita({medico:h.medico,mensagem:h.mensagem}),t({title:"Solicitação enviada",description:"Seu pedido de receita foi enviado ao médico."}),f(!1),v({medico:"",mensagem:""})}catch($){t({title:"Erro ao solicitar",description:((K=(M=$==null?void 0:$.response)==null?void 0:M.data)==null?void 0:K.detail)||"Não foi possível enviar a solicitação.",variant:"destructive"})}finally{y(!1)}},T=async(F,M)=>{var K;try{if(!F)return;const $=(ae,V)=>{const U=document.createElement("a"),Q=URL.createObjectURL(ae);U.href=Q,U.download=decodeURIComponent(V),document.body.appendChild(U),U.click(),U.remove(),setTimeout(()=>URL.revokeObjectURL(Q),2e3)},z=(ae,V="Receita_Medica.pdf")=>{let U=ae||V;return/\.[a-z0-9]+$/i.test(U)||(U+=".pdf"),U};if(/^data:/i.test(F))try{const ae=F.split(","),V=ae[0]||"",U=ae.slice(1).join(","),Q=(V.match(/data:([^;]+)/i)||[])[1]||"application/pdf",te=atob(U),oe=te.length,ge=new Uint8Array(oe);for(let We=0;We<oe;We++)ge[We]=te.charCodeAt(We);const be=new Blob([ge],{type:Q}),Ee=`Receita_${(M==null?void 0:M.id)||"documento"}`,Ae=z(Ee);$(be,Ae);return}catch(ae){console.error("[Receitas] Falha ao processar data URL:",ae),t({title:"Falha no download",description:"Arquivo inválido ou corrompido.",variant:"destructive"});return}if(/^blob:/i.test(F))try{const V=await(await fetch(F)).blob(),U=`Receita_${(M==null?void 0:M.id)||"documento"}`,Q=z(U);$(V,Q);return}catch(ae){console.error("[Receitas] Blob URL indisponível (provavelmente de outra aba/sessão):",ae),t({title:"Arquivo indisponível",description:"Essa receita foi gerada em outra aba/sessão. Gere novamente para baixar.",variant:"destructive"});return}/^https?:\/\//i.test(F)||(F=`${"http://127.0.0.1:8000".replace(/\/$/,"")}${F.startsWith("/")?"":"/"}${F}`);const q=await ue.get(F,{responseType:"blob",baseURL:""}),Y=new Blob([q.data],{type:q.headers["content-type"]||"application/pdf"}),ee=q.headers["content-disposition"]||"",D=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(ee);let H=(D==null?void 0:D[1])||(D==null?void 0:D[2]);if(!H)try{const ae=new URL(F);H=decodeURIComponent(ae.pathname.split("/").pop()||"")}catch{H=""}H||(H=`Receita_${(M==null?void 0:M.id)||"documento"}.pdf`),H=z(H),$(Y,H)}catch($){console.error("[Receitas] Falha ao baixar PDF assinado:",((K=$==null?void 0:$.response)==null?void 0:K.status)||$),t({title:"Falha no download",description:"Não foi possível baixar o arquivo. Tente novamente.",variant:"destructive"})}},R=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}],I=E.length,L=E.filter(F=>F.arquivo_assinado).length,B=E.filter(F=>F.created_at?new Date(F.created_at).getFullYear()===new Date().getFullYear():!1).length,G=E.filter(F=>{if(!F.created_at)return!1;const M=new Date(F.created_at),K=new Date;return K.setDate(K.getDate()-30),M>=K}).length;return a?e.jsx("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(it,{className:"h-32 w-full rounded-2xl"}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((F,M)=>e.jsx(it,{className:"h-32 w-full rounded-xl"},M))}),e.jsx(it,{className:"h-16 w-full"}),e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((F,M)=>e.jsx(it,{className:"h-48 w-full rounded-xl"},M))})]})}):o?e.jsx("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(qr,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-red-500 mb-2",children:"Erro ao carregar receitas"}),e.jsx("p",{className:"text-red-500",children:o})]})}):e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-emerald-600 via-teal-600 to-cyan-700 p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:e.jsx(pi,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Minhas Receitas"}),e.jsx("p",{className:"text-emerald-100",children:"Gerencie suas receitas médicas"})]})]})}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(Z,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[e.jsx(xt,{className:"mr-2 h-4 w-4"}),"Médicos"]}),e.jsxs(Z,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",onClick:()=>f(!0),children:[e.jsx(oo,{className:"mr-2 h-4 w-4"}),"Solicitar Receita"]})]})]})}),e.jsx("div",{className:"absolute -right-20 -top-20 h-40 w-40 rounded-full bg-white/10"}),e.jsx("div",{className:"absolute -bottom-16 -left-16 h-32 w-32 rounded-full bg-white/10"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-lg",children:e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-emerald-100 text-sm font-medium",children:"Total de Receitas"}),e.jsx("p",{className:"text-3xl font-bold",children:I})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(cs,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Assinadas"}),e.jsx("p",{className:"text-3xl font-bold",children:L})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(ur,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-amber-500 to-orange-600 text-white shadow-lg",children:e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-amber-100 text-sm font-medium",children:"Últimos 30 dias"}),e.jsx("p",{className:"text-3xl font-bold",children:G})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(lt,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-purple-500 to-indigo-600 text-white shadow-lg",children:e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Este Ano"}),e.jsx("p",{className:"text-3xl font-bold",children:B})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(xo,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})})]}),e.jsx(ga,{tabs:R,basePath:"/paciente"}),e.jsx(ne,{className:"border-0 shadow-lg",children:e.jsx(ie,{className:"p-6",children:e.jsx("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ms,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar por médico ou medicamento...",value:j,onChange:F=>N(F.target.value),className:"pl-10"})]})})})}),_?e.jsx("div",{className:"grid gap-6",children:k.map(F=>{var z;const M=F.consulta,K=C(F.medico)||C(M==null?void 0:M.medico)||F.medico_nome||F.medicoName||"Médico",$=((z=M==null?void 0:M.paciente)!=null&&z.user?`${M.paciente.user.first_name||""} ${M.paciente.user.last_name||""}`.trim():"Paciente")||"Paciente";return e.jsxs(ne,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx(he,{className:"pb-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-emerald-100 p-2 dark:bg-emerald-900",children:e.jsx(pi,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-lg",children:"Receita Médica"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Emitida em ",new Date(F.created_at).toLocaleDateString()," às ",new Date(F.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ft,{variant:F.arquivo_assinado?"default":"secondary",className:F.arquivo_assinado?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-300":"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:F.arquivo_assinado?"Assinada":"Não assinada"}),F.validade&&e.jsxs(ft,{variant:"outline",className:"text-xs",children:["Válida até ",F.validade]})]})]})}),e.jsxs(ie,{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(xt,{className:"h-4 w-4"}),"Médico"]}),e.jsx("p",{className:"font-medium",children:K})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(is,{className:"h-4 w-4"}),"Paciente"]}),e.jsx("p",{className:"font-medium",children:$})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:"Medicamentos"}),e.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:e.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:F.medicamentos})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:"Posologia"}),e.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:e.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:F.posologia})})]}),F.observacoes&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:"Observações"}),e.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:e.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:F.observacoes})})]}),Array.isArray(F.itens)&&F.itens.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:"Itens estruturados"}),e.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:e.jsx("ul",{className:"space-y-2",children:F.itens.map(q=>{var Y;return e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx("div",{className:"mt-1.5 h-1.5 w-1.5 rounded-full bg-emerald-500 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:((Y=q.medicamento)==null?void 0:Y.nome)||"Medicamento"}),q.dose&&e.jsxs("span",{className:"text-muted-foreground",children:[" - ",q.dose]}),q.frequencia&&e.jsxs("span",{className:"text-muted-foreground",children:[" | ",q.frequencia]}),q.duracao&&e.jsxs("span",{className:"text-muted-foreground",children:[" | ",q.duracao]}),q.observacoes&&e.jsx("div",{className:"text-muted-foreground text-xs mt-1",children:q.observacoes})]})]},q.id)})})})]}),e.jsx("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:F.arquivo_assinado?e.jsxs(e.Fragment,{children:[e.jsxs(Z,{variant:"outline",size:"sm",className:"group border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 text-emerald-700 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-800 dark:text-emerald-300 dark:hover:text-emerald-100",onClick:()=>window.open(F.arquivo_assinado,"_blank"),children:[e.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Visualizar PDF"]}),e.jsxs(Z,{variant:"outline",size:"sm",className:"group border-blue-500/60 bg-gradient-to-b from-blue-500/10 to-blue-600/10 text-blue-700 hover:from-blue-500/20 hover:to-blue-600/20 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-100",onClick:()=>T(F.arquivo_assinado,F),children:[e.jsx(mr,{className:"h-4 w-4 mr-2"}),"Baixar PDF Assinado"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Z,{variant:"outline",size:"sm",className:"group border-amber-500/60 bg-gradient-to-b from-amber-500/10 to-amber-600/10 text-amber-700 hover:from-amber-500/20 hover:to-amber-600/20 hover:text-amber-800 dark:text-amber-300 dark:hover:text-amber-100",onClick:()=>AP(F),children:[e.jsx(mr,{className:"h-4 w-4 mr-2"}),"Baixar PDF (Gerado)"]}),e.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[e.jsx(qr,{className:"h-3 w-3"}),"Receita não assinada digitalmente"]})]})})]})]},F.id)})}):e.jsx(ne,{className:"border-0 shadow-lg",children:e.jsx(ie,{className:"p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(pi,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhuma receita encontrada"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Você ainda não possui receitas médicas."}),e.jsxs(Z,{onClick:()=>f(!0),children:[e.jsx(oo,{className:"mr-2 h-4 w-4"}),"Solicitar Receita"]})]})})}),g?e.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-card text-card-foreground border rounded-lg p-6 w-full max-w-lg shadow-lg",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Solicitar Receita"}),e.jsxs("form",{onSubmit:A,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(me,{className:"mb-1 block",children:"Médico"}),e.jsxs(Et,{value:h.medico,onValueChange:F=>v(M=>({...M,medico:F})),children:[e.jsx(Ct,{className:"w-full",children:e.jsx(Rt,{placeholder:a?"Carregando...":P.length?"Selecione...":"Nenhum médico disponível"})}),e.jsx(_t,{children:P.length===0?e.jsx(mb,{children:"Nenhum médico disponível"}):P.map(F=>{const M=(F!=null&&F.user?`${F.user.first_name||""} ${F.user.last_name||""}`.trim():F==null?void 0:F.nome)||"Médico";return e.jsxs(Ne,{value:String(F.id),children:[M," ",F.crm?`- CRM ${F.crm}`:""]},String(F.id))})})]})]}),e.jsxs("div",{children:[e.jsx(me,{className:"mb-1 block",children:"Mensagem (opcional)"}),e.jsx(pt,{rows:3,placeholder:"Descreva sua necessidade (ex: renovação de medicamento de uso contínuo)",value:h.mensagem,onChange:F=>v(M=>({...M,mensagem:F.target.value}))})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(Z,{type:"button",variant:"outline",onClick:()=>{f(!1),v({medico:"",mensagem:""})},children:"Cancelar"}),e.jsx(Z,{type:"submit",disabled:w,children:w?"Enviando...":"Enviar solicitação"})]})]})]})}):null]})}const AP=async t=>{try{const{PDFDocument:a,StandardFonts:r,rgb:o}=await vi(async()=>{const{PDFDocument:j,StandardFonts:N,rgb:P}=await import("./index-Dix8Rct6.js");return{PDFDocument:j,StandardFonts:N,rgb:P}},[]),i=await a.create(),c=i.addPage([595.28,841.89]),d=await i.embedFont(r.Helvetica),p=(j,N,P,C=12,_=o(0,0,0))=>{c.drawText(String(j||""),{x:N,y:P,size:C,font:d,color:_})};let u=800;p("Receita Médica (pré-assinatura, não assinada)",50,u,16),u-=30;const g=(j,N)=>`${j}: ${N??""}`;p(g("Emitida em",(t==null?void 0:t.created_at)||(t==null?void 0:t.data_emissao)||""),50,u),u-=18,p(g("Médico",(t==null?void 0:t.medico_nome)||(t==null?void 0:t.medico)||(t==null?void 0:t.medico_id)||""),50,u),u-=18,p(g("Paciente",(t==null?void 0:t.paciente_nome)||(t==null?void 0:t.paciente)||(t==null?void 0:t.paciente_id)||""),50,u),u-=24,p("Medicamentos",50,u,14),u-=18,p(String((t==null?void 0:t.medicamentos)||(t==null?void 0:t.itens)||(t==null?void 0:t.descricao)||""),50,u),u-=36,p("Posologia",50,u,14),u-=18,p(String((t==null?void 0:t.posologia)||(t==null?void 0:t.orientacoes)||""),50,u),u-=36,t!=null&&t.observacoes&&(p("Observações",50,u,14),u-=18,p(String(t==null?void 0:t.observacoes),50,u),u-=36),Array.isArray(t==null?void 0:t.itens_estruturados)&&t.itens_estruturados.length&&(p("Itens estruturados",50,u,14),u-=18,t.itens_estruturados.forEach(j=>{const N=Object.values(j||{}).filter(Boolean).join(" · ");p(`• ${N}`,60,u),u-=16}),u-=10);const f=await i.save(),h=new Blob([f],{type:"application/pdf"}),v=`Receita_${(t==null?void 0:t.id)||"documento"}.pdf`,w=document.createElement("a"),y=URL.createObjectURL(h);w.href=y,w.download=v,document.body.appendChild(w),w.click(),w.remove(),setTimeout(()=>URL.revokeObjectURL(y),2e3)}catch(a){console.error("[Receitas] Falha ao gerar PDF local:",a),toast({title:"Falha ao gerar PDF",description:"Tente novamente.",variant:"destructive"})}};function pb(t,a=[]){const[r,o]=x.useState(null),[i,c]=x.useState(!0),[d,p]=x.useState(null);return x.useEffect(()=>{let g=!0;return(async()=>{var h,v;try{c(!0),p(null);const w=await t();g&&o(w)}catch(w){g&&p(((v=(h=w.response)==null?void 0:h.data)==null?void 0:v.message)||"Erro ao carregar dados")}finally{g&&c(!1)}})(),()=>{g=!1}},a),{data:r,loading:i,error:d,refetch:async()=>{var g,f;try{c(!0),p(null);const h=await t();o(h)}catch(h){p(((f=(g=h.response)==null?void 0:g.data)==null?void 0:f.message)||"Erro ao carregar dados")}finally{c(!1)}}}}const at={async getPerfil(){var d,p,u,g,f,h;const t="/medicos/",a=t.endsWith("/")?t:`${t}/`,r="".toLowerCase()==="true",o="".toLowerCase()==="true";let i=ht.getCurrentUser();if(!(i!=null&&i.id))try{const v=await ht.refreshCurrentUser();v!=null&&v.id&&(i=v)}catch{}if(i!=null&&i.id){const v="user,user__id,user_id,usuario,usuario_id".split(",").map(w=>w.trim()).filter(Boolean);for(const w of v)try{const y=await ue.get(a,{params:{[w]:i.id}}),j=Array.isArray((d=y.data)==null?void 0:d.results)?y.data.results:y.data;if(Array.isArray(j)){const N=j.find(P=>{var C,_;return((C=P==null?void 0:P.user)==null?void 0:C.id)===i.id||((_=P==null?void 0:P.usuario)==null?void 0:_.id)===i.id||(P==null?void 0:P.user)===i.id||(P==null?void 0:P.usuario)===i.id});if(N)return N;continue}if(j&&typeof j=="object"){const N=j;if(((p=N==null?void 0:N.user)==null?void 0:p.id)===i.id||((u=N==null?void 0:N.usuario)==null?void 0:u.id)===i.id||(N==null?void 0:N.user)===i.id||(N==null?void 0:N.usuario)===i.id)return N;continue}}catch{}}if(r)try{return(await ue.get(`${a}me/`)).data}catch(v){if(((g=v==null?void 0:v.response)==null?void 0:g.status)!==404)throw v}let c=null;if(o){const v=[],w="/users/".trim();if(w)if(w.includes("/me"))v.push(w);else{const y=w.endsWith("/")?w:`${w}/`;v.push(`${y}me/`)}v.push("/users/me/"),v.push("/auth/user/");for(const y of v)try{if(c=(await ue.get(y)).data,c&&!c.id){const N=Array.isArray(c==null?void 0:c.results)?c.results[0]:Array.isArray(c)?c[0]:null;N!=null&&N.id&&(c=N)}if(c!=null&&c.id)break}catch{}}try{const v=await ue.get(a),w=Array.isArray((f=v.data)==null?void 0:f.results)?v.data.results:v.data;if(Array.isArray(w)&&w.length){const y=(c==null?void 0:c.id)||((h=ht.getCurrentUser())==null?void 0:h.id);if(y){const j=w.find(N=>{var P,C;return((P=N==null?void 0:N.user)==null?void 0:P.id)===y||((C=N==null?void 0:N.usuario)==null?void 0:C.id)===y});if(j)return j}return null}}catch{}return null},async getPacientes(t={}){return(await ue.get("/pacientes/",{params:t})).data},async getPacientesVinculados(t){const a="/medicos/",r=a.endsWith("/")?a:`${a}/`;return(await ue.get(`${r}${t}/pacientes/`)).data},async getConsultas(t={}){return(await ue.get("/consultas/",{params:t})).data},async getConsultasDoMedico(t={}){var p,u,g,f;const a=await this.getPerfil();let r=null;if((p=a==null?void 0:a.medico)!=null&&p.id?r=a.medico.id:a&&typeof a=="object"&&"crm"in a&&(r=a.id),!r){const h=((u=a==null?void 0:a.user)==null?void 0:u.id)||(a==null?void 0:a.id);if(h)try{const v="/medicos/",w=v.endsWith("/")?v:`${v}/`,y="user,user__id,user_id,usuario,usuario_id".split(",").map(j=>j.trim()).filter(Boolean);for(const j of y)try{const N=await ue.get(w,{params:{[j]:h}}),P=Array.isArray((g=N.data)==null?void 0:g.results)?N.data.results:N.data;if((f=P==null?void 0:P[0])!=null&&f.id){r=P[0].id;break}}catch{}}catch{}}const o={...t};r&&!o.medico&&!o.medico_id&&(o.medico=r,o.medico_id=r);const i=o.date||o.data||o.dia;return i&&(o.date=i,o.data=i,o.dia=i,o.data__date=i),(await ue.get("/consultas/",{params:o})).data},async getConsultasHoje(t){var g,f,h,v;const a="/medicos/",r=a.endsWith("/")?a:`${a}/`;let o=t;if(!o){const w=await this.getPerfil();if((g=w==null?void 0:w.medico)!=null&&g.id?o=w.medico.id:w&&typeof w=="object"&&"crm"in w&&(o=w.id),!o){const y=((f=w==null?void 0:w.user)==null?void 0:f.id)||(w==null?void 0:w.id);if(y)try{const j="user,user__id,user_id,usuario,usuario_id".split(",").map(N=>N.trim()).filter(Boolean);for(const N of j)try{const P=await ue.get(r,{params:{[N]:y}}),C=Array.isArray((h=P.data)==null?void 0:h.results)?P.data.results:P.data;if((v=C==null?void 0:C[0])!=null&&v.id){o=C[0].id;break}}catch{}}catch{}}}const i="false".toLowerCase()==="true";if(o&&i)try{return(await ue.get(`${r}${o}/consultas_hoje/`)).data}catch{}const c=new Date,d=w=>String(w).padStart(2,"0"),p=`${c.getFullYear()}-${d(c.getMonth()+1)}-${d(c.getDate())}`;return await this.getConsultasDoMedico({date:p})},async getDashboard(){try{const t=new Date,a=d=>String(d).toString().padStart(2,"0"),r=`${t.getFullYear()}-${a(t.getMonth()+1)}-${a(t.getDate())}`,o=await this.getConsultasDoMedico({date:r}),i=Array.isArray(o)?o:Array.isArray(o==null?void 0:o.results)?o.results:[];return{proximas:Array.isArray(i)?i.map(d=>({id:d.id||d.consulta_id||d.uuid,paciente:d.paciente,data_hora:d.data_hora,status:d.status})):[]}}catch{return{proximas:[]}}},async iniciarConsulta(t){if(!t)throw new Error("consultaId é obrigatório");const a="/consultas/",r=[{method:"post",url:`${a}${t}/iniciar/`,data:void 0},{method:"post",url:`${a}${t}/start/`,data:void 0},{method:"patch",url:`${a}${t}/`,data:{status:"em_andamento"}},{method:"put",url:`${a}${t}/iniciar/`,data:void 0}];let o=null;for(const i of r)try{return(await ue[i.method](i.url,i.data)).data}catch(c){o=c}throw o||new Error("Não foi possível iniciar a consulta")},async finalizarConsulta(t){if(!t)throw new Error("consultaId é obrigatório");const r=`/consultas/${t}/finalizar/`;return(await ue.post(r)).data},async sumarizarConsulta(t,a={}){if(!t)throw new Error("consultaId é obrigatório");const r="/consultas/",o=[`${r}${t}/sumarizar/`,`${r}${t}/resumir/`,`${r}${t}/summary/`];let i=null;for(const c of o)try{const{data:d}=await ue.post(c,a);return d}catch(d){i=d}throw i||new Error("Endpoint de sumarização não disponível")},async criarProntuario(t){var u;const a="/prontuarios/".replace(/\/?$/,"/"),r={...t||{}},o={};for(const[g,f]of Object.entries(r))f!=null&&(typeof f=="string"&&f.trim()===""||(o[g]=typeof f=="string"?f.trim():f));const i=o.consulta_id||o.consulta;i&&(o.consulta_id=i,o.consulta=i);const c=[{method:"post",url:a},{method:"put",url:a},{method:"patch",url:a}],d=a.replace(/prontuarios\/?$/i,"prontuario/");d!==a&&(c.push({method:"post",url:d}),c.push({method:"put",url:d}),c.push({method:"patch",url:d}));let p=null;for(const g of c)try{const{data:f}=await ue[g.method](g.url,o);return f}catch(f){const h=(u=f==null?void 0:f.response)==null?void 0:u.status;if(h&&[400,422].includes(h)){const v={};i&&(v.consulta_id=i,v.consulta=i);const w=o.queixa_principal||o.queixa,y=o.historia_doenca_atual||o.historia,j=o.diagnostico_principal||o.diagnostico,N=o.conduta||o.plano,P=o.medicamentos_uso||o.medicamentos;w&&(v.queixa_principal=w),y&&(v.historia_doenca_atual=y),j&&(v.diagnostico_principal=j),N&&(v.conduta=N),P&&(v.medicamentos_uso=P),o.alergias&&(v.alergias=o.alergias),o.exames_solicitados&&(v.exames_solicitados=o.exames_solicitados),o.data_retorno&&(v.data_retorno=o.data_retorno);try{const{data:C}=await ue[g.method](g.url,v);return C}catch(C){p=C}}else if(h===405){p=f;continue}else if(h===404){p=f;continue}else{p=f;break}}throw p||new Error("Falha ao criar prontuário: nenhum endpoint compatível encontrado.")},async criarReceita(t={}){var N,P,C,_,E,k,A,T,R;const a="/receitas/".replace(/\/?$/,"/"),r="/pacientes/".replace(/\/?$/,"/"),o="/consultas/".replace(/\/?$/,"/"),i="false".toLowerCase()==="true",c={...t},d=c.paciente_id||c.paciente,p=c.consulta_id||c.consulta,u={...c};!u.paciente_id&&d&&(u.paciente_id=d),!u.paciente&&d&&(u.paciente=d),!u.consulta_id&&p&&(u.consulta_id=p),!u.consulta&&p&&(u.consulta=p),!u.medicamentos&&c.medicamento&&(u.medicamentos=c.medicamento),!u.medicamento&&c.medicamentos&&(u.medicamento=c.medicamentos),!u.validade&&c.validade_receita&&(u.validade=c.validade_receita);try{const I=u.medico_id||u.medico||await this._resolveMedicoId().catch(()=>null);I&&(u.medico_id||(u.medico_id=I),u.medico||(u.medico=I))}catch{}if(!u.consulta_id&&!u.consulta&&(u.paciente_id||u.paciente))try{const I=u.paciente_id||u.paciente,L=u.medico_id||u.medico||null,B=(()=>{const F=new Date,M=F.getFullYear(),K=String(F.getMonth()+1).padStart(2,"0"),$=String(F.getDate()).padStart(2,"0");return`${M}-${K}-${$}`})(),G=await this._ensureConsultaId(I,L,B);if(G&&(u.consulta_id=G,u.consulta=G,i))try{console.debug("[medicoService.criarReceita] consulta_id resolvido automaticamente:",G)}catch{}}catch(I){if(i)try{console.warn("[medicoService.criarReceita] não foi possível resolver consulta_id automaticamente",(N=I==null?void 0:I.response)==null?void 0:N.status)}catch{}}const g=[],f="".trim();f&&g.push(f),g.push(a),g.push(`${a}criar/`),g.push(`${a}create/`);const h=a.replace(/receitas\/?$/i,"receita/"),v=Array.from(new Set([h,"/receita/","/meu_app_receita/"].filter(Boolean)));for(const I of v){const L=I.replace(/\/?$/,"/");g.push(L),g.push(`${L}criar/`),g.push(`${L}create/`)}if(p&&g.push(`${o}${p}/receitas/`),d&&g.push(`${r}${d}/receitas/`),i){try{console.debug("[medicoService.criarReceita] payload:",u)}catch{}try{console.debug("[medicoService.criarReceita] candidatos:",g)}catch{}}let w=null,y=null;const j=new Set;for(const I of g){if(!I)continue;const L=I.endsWith("/")?I:`${I}/`,B=["post","put","patch"];for(const G of B){y=`${G.toUpperCase()} ${L}`;try{if(i)try{console.debug("[medicoService.criarReceita] tentando:",y)}catch{}const{data:F}=await ue[G](L,u);if(i)try{console.debug("[medicoService.criarReceita] sucesso:",y,"→",F)}catch{}return F}catch(F){const M=(P=F==null?void 0:F.response)==null?void 0:P.status;if(i)try{console.warn("[medicoService.criarReceita] falhou:",y,"status=",M,"detail=",((C=F==null?void 0:F.response)==null?void 0:C.data)||(F==null?void 0:F.message))}catch{}if(M&&[400,422].includes(M)){const K=`${G}:${L}`;if(!j.has(K)){j.add(K);const $={},z=u.paciente_id||u.paciente,q=u.medico_id||u.medico,Y=u.medicamentos||u.medicamento,ee=u.validade||u.validade_receita;if(z&&($.paciente=z,$.paciente_id=z),q&&($.medico=q,$.medico_id=q),Y&&($.medicamentos=Y,$.medicamento=Y),u.posologia&&($.posologia=u.posologia),ee&&($.validade=ee),u.observacoes&&($.observacoes=u.observacoes),u.consulta_id||u.consulta){const D=u.consulta_id||u.consulta;$.consulta=D,$.consulta_id=D}try{if(i)try{console.debug("[medicoService.criarReceita] retry minimal:",G.toUpperCase(),L,$)}catch{}const{data:D}=await ue[G](L,$);if(i)try{console.debug("[medicoService.criarReceita] sucesso (minimal):",G.toUpperCase(),L,D)}catch{}return D}catch(D){if(i)try{console.warn("[medicoService.criarReceita] falhou (minimal):",G.toUpperCase(),L,(_=D==null?void 0:D.response)==null?void 0:_.status,((E=D==null?void 0:D.response)==null?void 0:E.data)||(D==null?void 0:D.message))}catch{}try{const H=(k=D==null?void 0:D.response)==null?void 0:k.data,ae=typeof H=="string"&&H||(H==null?void 0:H.detail)||(H==null?void 0:H.message)||(D==null?void 0:D.message)||"Erro desconhecido",V=H&&typeof H=="object"?` | body=${JSON.stringify(H)}`:typeof H=="string"?` | body=${H}`:"";D.message=`Falha ao criar receita (minimal, última tentativa: ${y||""}) ⇒ [${M||""}] ${ae}${V}`}catch{}throw D}}try{const $=(A=F==null?void 0:F.response)==null?void 0:A.data,z=typeof $=="string"&&$||($==null?void 0:$.detail)||($==null?void 0:$.message)||(F==null?void 0:F.message)||"Erro desconhecido",q=$&&typeof $=="object"?` | body=${JSON.stringify($)}`:typeof $=="string"?` | body=${$}`:"";F.message=`Falha ao criar receita (última tentativa: ${y||""}) ⇒ [${M||""}] ${z}${q}`}catch{}}if(M===404){w=F;break}if(M===405){w=F;continue}if(M===401||M&&[400,422].includes(M))throw F;w=F;break}}}if(w){const I=(T=w==null?void 0:w.response)==null?void 0:T.status,L=(R=w==null?void 0:w.response)==null?void 0:R.data,B=typeof L=="string"&&L||(L==null?void 0:L.detail)||(L==null?void 0:L.message)||(w==null?void 0:w.message)||"Erro desconhecido",G=L&&typeof L=="object"?` | body=${JSON.stringify(L)}`:"";throw new Error(`Falha ao criar receita (última tentativa: ${y||""}) ⇒ [${I||""}] ${B}${G}`)}throw new Error("Falha ao criar receita: nenhum endpoint compatível encontrado.")},async gerarDocumentoReceita(t={}){var P,C,_;const a="false".toLowerCase()==="true",r="/receitas/".replace(/\/?$/,"/"),o="/consultas/".replace(/\/?$/,"/"),i="/medicos/",c=i.endsWith("/")?i:`${i}/`,d={...t},p=d.paciente_id||d.paciente,u=d.consulta_id||d.consulta,g=(d.formato||"pdf").toLowerCase(),f={...d};!f.paciente_id&&p&&(f.paciente_id=p),!f.paciente&&p&&(f.paciente=p),!f.consulta_id&&u&&(f.consulta_id=u),!f.consulta&&u&&(f.consulta=u),!f.medicamentos&&d.medicamento&&(f.medicamentos=d.medicamento),!f.medicamento&&d.medicamentos&&(f.medicamento=d.medicamentos),!f.validade&&d.validade_receita&&(f.validade=d.validade_receita),f.formato=g;try{const E=f.medico_id||f.medico||await this._resolveMedicoId().catch(()=>null);E&&(f.medico_id||(f.medico_id=E),f.medico||(f.medico=E))}catch{}const h=[],v="".trim();v&&h.push(v);const w=E=>{const k=E.replace(/\/?$/,"/");h.push(`${k}gerar/`),h.push(`${k}generate/`),h.push(`${k}documento/`),h.push(`${k}pdf/`),h.push(`${k}preview/`)};w(r),[r.replace(/receitas\/?$/i,"receita/"),"/receita/","/meu_app_receita/"].forEach(E=>E&&w(E)),u&&h.push(`${o}${u}/gerar_receita/`);try{const E=await this._resolveMedicoId().catch(()=>null);E&&(h.push(`${c}${E}/gerar_receita/`),h.push(`${c}${E}/receitas/gerar/`)),h.push(`${c}me/gerar_receita/`)}catch{}if(a)try{console.debug("[medicoService.gerarDocumentoReceita] candidatos:",h)}catch{}const j=async E=>{var I,L,B,G,F,M,K;const k=((I=E.headers)==null?void 0:I["content-type"])||((B=(L=E.headers)==null?void 0:L.get)==null?void 0:B.call(L,"content-type"))||"",A=((G=E.headers)==null?void 0:G["content-disposition"])||((M=(F=E.headers)==null?void 0:F.get)==null?void 0:M.call(F,"content-disposition"));let T=`receita.${g}`;if(A){const $=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(A);T=decodeURIComponent(($==null?void 0:$[1])||($==null?void 0:$[2])||T)}if(k.includes("application/json"))try{const $=await new Response(E.data).text(),z=JSON.parse($),q=z.file||z.url||z.pdf||z.documento||z.download_url||z.link;if(q){const Y=await ue.get(q,{responseType:"blob"}),ee=new Blob([Y.data],{type:((K=Y.headers)==null?void 0:K["content-type"])||(g==="pdf"?"application/pdf":"application/vnd.openxmlformats-officedocument.wordprocessingml.document")});return{filename:T||q.split("/").pop()||`receita.${g}`,blob:ee}}}catch{}const R=new Blob([E.data],{type:k||(g==="pdf"?"application/pdf":"application/octet-stream")});return{filename:T,blob:R}};let N=null;for(const E of h){if(!E)continue;const k=E.endsWith("/")?E:`${E}/`;try{if(a)try{console.debug("[gerarDocumentoReceita] POST",k)}catch{}const A=await ue.post(k,f,{responseType:"blob"});return await j(A)}catch(A){if(((P=A==null?void 0:A.response)==null?void 0:P.status)===401)throw A;N=A}try{if(a)try{console.debug("[gerarDocumentoReceita] PUT",k)}catch{}const A=await ue.put(k,f,{responseType:"blob"});return await j(A)}catch(A){if(((C=A==null?void 0:A.response)==null?void 0:C.status)===401)throw A;N=A}try{if(a)try{console.debug("[gerarDocumentoReceita] GET",k)}catch{}const A=await ue.get(k,{params:f,responseType:"blob"});return await j(A)}catch(A){if(((_=A==null?void 0:A.response)==null?void 0:_.status)===401)throw A;N=A}}throw N||new Error("Falha ao gerar documento de receita: nenhum endpoint compatível encontrado.")},async buscarPacientes(t){return(await ue.get("/pacientes/",{params:{search:t}})).data},async atualizarPacienteById(t,a){if(!t)throw new Error("id do paciente é obrigatório");const r="/pacientes/",o=r.endsWith("/")?r:`${r}/`;return(await ue.patch(`${o}${t}/`,a)).data},async _resolveMedicoId(){var t,a,r,o,i,c;try{const d=await this.getPerfil();if((t=d==null?void 0:d.medico)!=null&&t.id)return d.medico.id;if(d!=null&&d.id&&(d.crm||d.matricula||d.especialidade))return d.id;const p=((a=d==null?void 0:d.user)==null?void 0:a.id)||((r=ht.getCurrentUser())==null?void 0:r.id);if(!p)return null;const u="/medicos/",g=u.endsWith("/")?u:`${u}/`,f="user,user__id,user_id,usuario,usuario_id".split(",").map(h=>h.trim()).filter(Boolean);for(const h of f)try{const v=await ue.get(g,{params:{[h]:p}}),w=Array.isArray((o=v.data)==null?void 0:o.results)?v.data.results:v.data;if(Array.isArray(w)){const y=w.find(j=>{var N,P;return((N=j==null?void 0:j.user)==null?void 0:N.id)===p||((P=j==null?void 0:j.usuario)==null?void 0:P.id)===p||(j==null?void 0:j.user)===p||(j==null?void 0:j.usuario)===p});if(y!=null&&y.id)return y.id;continue}if(w&&typeof w=="object"){const y=w;if((((i=y==null?void 0:y.user)==null?void 0:i.id)===p||((c=y==null?void 0:y.usuario)==null?void 0:c.id)===p||(y==null?void 0:y.user)===p||(y==null?void 0:y.usuario)===p)&&(y!=null&&y.id))return y.id;continue}}catch{}}catch{}return null},async _ensureConsultaId(t,a=null,r=null){var o,i,c,d;try{if(!t)return null;const p="false".toLowerCase()==="true",u=(()=>{if(r&&/^\d{4}-\d{2}-\d{2}$/.test(String(r)))return r;const f=new Date,h=v=>String(v).padStart(2,"0");return`${f.getFullYear()}-${h(f.getMonth()+1)}-${h(f.getDate())}`})(),g="/consultas/".replace(/\/?$/,"/");try{const f={paciente:t,paciente_id:t,date:u,data:u,dia:u,data__date:u},h=a||await this._resolveMedicoId().catch(()=>null);h&&(f.medico=h,f.medico_id=h);const v=await ue.get(g,{params:f}),w=Array.isArray((o=v.data)==null?void 0:o.results)?v.data.results:v.data;if(Array.isArray(w)){const y=w.find(j=>(j==null?void 0:j.id)||(j==null?void 0:j.consulta_id)||(j==null?void 0:j.uuid));if(y){const j=y.id||y.consulta_id||y.uuid;if(p)try{console.debug("[_ensureConsultaId] encontrada consulta existente:",j)}catch{}return j}}}catch(f){if(p)try{console.warn("[_ensureConsultaId] falha ao buscar consulta existente:",(i=f==null?void 0:f.response)==null?void 0:i.status)}catch{}}try{const f=a||await this._resolveMedicoId().catch(()=>null),h={paciente:t,paciente_id:t,data:u,date:u,dia:u,data__date:u,data_hora:`${u}T00:00:00`};f&&(h.medico=f,h.medico_id=f);const v=[g,`${g}criar/`,`${g}create/`];for(const w of v){const y=w.endsWith("/")?w:`${w}/`;try{if(p)try{console.debug("[_ensureConsultaId] criando consulta em:",y,h)}catch{}const{data:j}=await ue.post(y,h),N=(j==null?void 0:j.id)||(j==null?void 0:j.consulta_id)||(j==null?void 0:j.uuid);if(N){if(p)try{console.debug("[_ensureConsultaId] consulta criada:",N)}catch{}return N}}catch(j){const N=(c=j==null?void 0:j.response)==null?void 0:c.status;if(p)try{console.warn("[_ensureConsultaId] falha ao criar em",y,N,((d=j==null?void 0:j.response)==null?void 0:d.data)||(j==null?void 0:j.message))}catch{}if([401,404,405].includes(N))continue}}}catch(f){if(p)try{console.warn("[_ensureConsultaId] erro inesperado na criação:",f==null?void 0:f.message)}catch{}}return null}catch{return null}},async getCertificadoInfo(){var d,p;const t=[],a="".trim();a&&t.push(a);const r="/medicos/",o=r.endsWith("/")?r:`${r}/`;t.push(`${o}me/certificado/`),t.push(`${o}certificado/`),t.push("/medico/certificado/"),t.push("/assinatura/certificado/"),t.push("/certificados/"),t.push("/api/medicos/me/certificado/"),t.push("/api/medicos/certificado/"),t.push("/api/certificados/");let i=null;try{i=await this._resolveMedicoId()}catch{}i&&(t.push(`${o}${i}/certificado/`),t.push(`${o}${i}/assinatura/`),t.push(`/api/medicos/${i}/certificado/`),t.push(`/api/medicos/${i}/assinatura/`));let c=null;for(const u of t){if(!u)continue;const g=u.endsWith("/")?u:`${u}/`;try{const{data:f}=await ue.get(g),h=Array.isArray(f==null?void 0:f.results)?(d=f.results)==null?void 0:d[0]:Array.isArray(f)?f[0]:f;return h||f||null}catch(f){const h=(p=f==null?void 0:f.response)==null?void 0:p.status;if(h===404){c=f;continue}if(h===401)throw f;c=f}}if(c)throw c;return null},async uploadCertificado(t){var u;let a;if(t instanceof FormData)a=t;else if(t&&t.name)a=new FormData,a.append("file",t),a.append("certificado",t),a.append("pfx",t);else throw new Error("Parâmetro inválido: é esperado FormData ou File.");const r=[],o="".trim();o&&r.push(o);const i="/medicos/",c=i.endsWith("/")?i:`${i}/`;r.push(`${c}me/certificado/`),r.push(`${c}certificado/`),r.push("/medico/certificado/"),r.push("/assinatura/certificado/"),r.push("/certificados/");let d=null;try{d=await this._resolveMedicoId()}catch{}d&&(r.push(`${c}${d}/certificado/`),r.push(`${c}${d}/assinatura/`));let p=null;for(const g of r){if(!g)continue;const f=g.endsWith("/")?g:`${g}/`,h=["post","put","patch"];for(const v of h)try{const{data:w}=await ue[v](f,a);return w}catch(w){const y=(u=w==null?void 0:w.response)==null?void 0:u.status;if(y===404){p=w;break}if(y===405){p=w;continue}if(y===401||y&&[400,422].includes(y))throw w;p=w;break}}throw p||new Error("Falha ao enviar certificado: nenhum endpoint compatível.")},async enviarReceita({receitaId:t,pacienteId:a,email:r,formato:o="pdf",file:i,filename:c}){var y,j,N,P,C;if(!r&&!a&&!t&&!i)throw new Error("Forneça ao menos email, pacienteId, receitaId ou arquivo para envio.");const d="false".toLowerCase()==="true",p="/receitas/".replace(/\/?$/,"/"),u="/pacientes/".replace(/\/?$/,"/");if(!t&&a){const _=async A=>{var T;try{const R=await ue.get(p,{params:A}),I=R==null?void 0:R.data,L=Array.isArray(I)?I:Array.isArray(I==null?void 0:I.results)?I.results:[],B=L==null?void 0:L[0],G=(B==null?void 0:B.id)||(B==null?void 0:B.pk)||(B==null?void 0:B.uuid)||((T=B==null?void 0:B.receita)==null?void 0:T.id);if(G)return String(G)}catch{}return null},E=[],k=["-created_at","-created","-data","-date","-id","-pk"];for(const A of k)E.push({paciente:a,ordering:A,page_size:1,limit:1}),E.push({paciente_id:a,ordering:A,page_size:1,limit:1});for(const A of E){const T=await _(A);if(T){t=T;break}}d&&t&&console.debug("[medicoService.enviarReceita] receitaId inferido via listagem:",t)}const g=new FormData;if(i){const _=c||i.name||`receita.${o||"pdf"}`;g.append("file",i,_),g.append("pdf",i,_),g.append("documento",i,_)}r&&(g.append("email",r),g.append("to",r),g.append("destinatario",r),g.append("paciente_email",r)),o&&g.append("formato",o),t&&(g.append("id",t),g.append("receita",t),g.append("receita_id",t)),a&&(g.append("paciente",a),g.append("paciente_id",a)),g.append("assinar","true");const f={email:r,to:r,destinatario:r,paciente_email:r,formato:o,id:t,receita:t,receita_id:t,paciente:a,paciente_id:a,assinar:!0},h=[],v="".trim();v&&h.push(v),t&&(h.push(`${p}${t}/enviar/`),h.push(`${p}${t}/enviar-email/`),h.push(`${p}${t}/enviar_email/`),h.push(`${p}${t}/email/`),h.push(`${p}${t}/send-email/`),h.push(`${p}${t}/send/`)),h.push(`${p}enviar/`),h.push(`${p}enviar-email/`),h.push(`${p}enviar_email/`),h.push(`${p}email/`),h.push(`${p}send-email/`),h.push(`${p}send/`),h.push("/email/receitas/"),h.push("/receitas/email/"),h.push("/email/send/"),h.push("/send-email/"),a&&(h.push(`${u}${a}/receitas/enviar/`),h.push(`${u}${a}/receitas/email/`),h.push(`${u}${a}/receitas/send/`),t&&(h.push(`${u}${a}/receitas/${t}/enviar/`),h.push(`${u}${a}/receitas/${t}/enviar-email/`),h.push(`${u}${a}/receitas/${t}/enviar_email/`),h.push(`${u}${a}/receitas/${t}/email/`),h.push(`${u}${a}/receitas/${t}/send-email/`),h.push(`${u}${a}/receitas/${t}/send/`)));let w=null;for(const _ of h){if(!_)continue;const E=_.endsWith("/")?_:`${_}/`,k=T=>{d&&console.debug(`[medicoService.enviarReceita] ${T} ->`,E,{receitaId:t,pacienteId:a,email:r,formato:o})};if(/\/(enviar|email|send(-email)?)\/?$/i.test(E)&&!i)try{k("GET");const T={email:r,formato:o,id:t,receita:t,receita_id:t,paciente:a,paciente_id:a,assinar:!0},{data:R}=await ue.get(E,{params:T});return R}catch(T){if(w=T,((y=T==null?void 0:T.response)==null?void 0:y.status)===401)throw T}try{k("POST multipart");const{data:T}=await ue.post(E,g);return T}catch(T){const R=(j=T==null?void 0:T.response)==null?void 0:j.status;if(R===401)throw T;R&&[400,422].includes(R),w=T}if(!i)try{k("POST json");const{data:T}=await ue.post(E,f);return T}catch(T){const R=(N=T==null?void 0:T.response)==null?void 0:N.status;if(R===401)throw T;R&&[400,422].includes(R),w=T}try{k("PUT multipart");const{data:T}=await ue.put(E,g);return T}catch(T){const R=(P=T==null?void 0:T.response)==null?void 0:P.status;if(R===401)throw T;R&&[400,422].includes(R),w=T}if(!i)try{k("GET fallback");const T={email:r,formato:o,id:t,receita:t,receita_id:t,paciente:a,paciente_id:a,assinar:!0},{data:R}=await ue.get(E,{params:T});return R}catch(T){if(((C=T==null?void 0:T.response)==null?void 0:C.status)===401)throw T;w=T}}throw w||new Error("Falha ao enviar receita: nenhum endpoint compatível encontrado.")},async ensureMedicoRecord(t={}){var g;const a=ht.getCurrentUser()||await ht.refreshCurrentUser(),r=a==null?void 0:a.id;if(!r)throw new Error("Usuário não autenticado ou não disponível.");try{const f=await this._resolveMedicoId();if(f){const h="/medicos/",v=h.endsWith("/")?h:`${h}/`;try{return(await ue.get(`${v}${f}/`)).data||{id:f}}catch{return{id:f}}}}catch{}const o="/medicos/",i=o.endsWith("/")?o:`${o}/`,c={...t};c.user=c.user||r,c.user_id=c.user_id||r,c.usuario=c.usuario||r,c.usuario_id=c.usuario_id||r;const d=String(c.status||c.situacao||c.state||"pending").toLowerCase();c.status=d,c.situacao=c.situacao||d,c.state=c.state||d;const p=[i,`${i}create/`,"/api/medicos/","/admin/medicos/"];let u=null;for(const f of p){const h=f.endsWith("/")?f:`${f}/`;try{const{data:v}=await ue.post(h,c),w=(v==null?void 0:v.id)||(v==null?void 0:v.pk)||(v==null?void 0:v.uuid);if(w)try{localStorage.setItem("medico_id",String(w))}catch{}try{r&&localStorage.setItem(`medicoApplicationStatus:${r}`,"pending")}catch{}return v}catch(v){const w=(g=v==null?void 0:v.response)==null?void 0:g.status;if(w===401)throw v;if(w===405){u=v;continue}if(u=v,Object.values(t||{}).some(j=>j instanceof File||j instanceof Blob))try{const j=new FormData;for(const[C,_]of Object.entries(c))_!=null&&(j.append(C,_),C==="user"&&(j.append("usuario",_),j.append("user_id",_),j.append("usuario_id",_)),C==="status"&&(j.append("situacao",_),j.append("state",_)));const{data:N}=await ue.post(h,j),P=(N==null?void 0:N.id)||(N==null?void 0:N.pk)||(N==null?void 0:N.uuid);if(P)try{localStorage.setItem("medico_id",String(P))}catch{}try{r&&localStorage.setItem(`medicoApplicationStatus:${r}`,"pending")}catch{}return N}catch(j){u=j;continue}}}throw u||new Error("Falha ao criar registro do médico: nenhum endpoint compatível.")},async ensurePerfilMedico(t={}){var f,h;try{const v=await this.getPerfil();if(v&&(v.id||v.user||v.medico))return v}catch{}const a=ht.getCurrentUser()||await ht.refreshCurrentUser(),r=a==null?void 0:a.id;if(!r)throw new Error("Usuário não autenticado ou não disponível.");let o=t.medico_id||t.medico||null;if(!o){try{o=await this._resolveMedicoId()}catch{}if(!o)try{const v=await this.ensureMedicoRecord({});o=(v==null?void 0:v.id)||((f=v==null?void 0:v.medico)==null?void 0:f.id)||null}catch{}}const i={...t};i.user=i.user||r,i.user_id=i.user_id||r,i.usuario=i.usuario||r,i.usuario_id=i.usuario_id||r,o&&(i.medico=i.medico||o,i.medico_id=i.medico_id||o);const c=String(i.status||i.situacao||i.state||"pending").toLowerCase();i.status=c,i.situacao=i.situacao||c,i.state=i.state||c;const d=["/perfil-medico/","/perfil/medico/","/perfis/medico/","/profiles/medico/","/api/perfil-medico/","/api/perfil/medico/"],p="/medicos/",u=p.endsWith("/")?p:`${p}/`;o&&(d.push(`${u}${o}/perfil/`),d.push(`/api/medicos/${o}/perfil/`)),d.push(`${u}me/perfil/`);let g=null;for(const v of d){const w=v.endsWith("/")?v:`${v}/`,y=["post","put","patch"];for(const j of y)try{const{data:N}=await ue[j](w,i);try{r&&localStorage.setItem(`medicoApplicationStatus:${r}`,"pending")}catch{}return N}catch(N){const P=(h=N==null?void 0:N.response)==null?void 0:h.status;if(P===401)throw N;if(P===405){g=N;continue}if(P===404){g=N;break}g=N;break}}throw g||new Error("Falha ao criar perfil do médico: nenhum endpoint compatível.")},async ensureMedicoAndPerfil(t={},a={}){var p;const r=ht.getCurrentUser()||await ht.refreshCurrentUser(),o=r==null?void 0:r.id,i=await this.ensureMedicoRecord(t),c=(i==null?void 0:i.id)||((p=i==null?void 0:i.medico)==null?void 0:p.id)||null,d=await this.ensurePerfilMedico({...a,medico_id:a.medico_id||c});try{o&&localStorage.setItem(`medicoApplicationStatus:${o}`,"pending")}catch{}return{medico:i,perfil:d}},async updatePerfilMedico(t={}){var h,v;const a={...t},r=t.telefone||t.celular||t.phone||((h=t.contato)==null?void 0:h.telefone);r!=null&&(a.telefone=r,a.celular||(a.celular=r),a.phone||(a.phone=r),a.contato={...a.contato||{},telefone:r});let o=t.endereco||t.address||t.local;o&&typeof o=="object"&&(o=`${o.logradouro||o.rua||""} ${o.numero||""} ${o.bairro||""} ${o.cidade||""} ${o.estado||""}`.trim()),o!=null&&(a.endereco=o,a.address||(a.address=o),a.local||(a.local=o));const i=t.especialidade??t.especialidade_id??t.especialidade_nome??t.especialidade_label??t.especialidade_obj;if(i!=null){if(typeof i=="number")a.especialidade_id=i;else if(typeof i=="string")a.especialidade=i,a.especialidade_nome=i,a.especialidade_label=i;else if(typeof i=="object"){const w=i.nome||i.label||i.titulo,y=i.id;y!=null&&(a.especialidade_id=y),w&&(a.especialidade=w,a.especialidade_nome=w,a.especialidade_label=w)}}let c=null;try{c=await this._resolveMedicoId()}catch{}const d="/medicos/",p=d.endsWith("/")?d:`${d}/`,u=[],g="".trim();g&&u.push(g),u.push(`${p}me/`),c&&u.push(`${p}${c}/`),c&&u.push(`${p}${c}/perfil/`),u.push(`${p}me/perfil/`),u.push("/perfil-medico/"),u.push("/perfil/medico/"),u.push("/perfis/medico/"),u.push("/profiles/medico/"),u.push("/api/perfil-medico/"),u.push("/api/perfil/medico/");let f=null;for(const w of u){if(!w)continue;const y=w.endsWith("/")?w:`${w}/`,j=["patch","put","post"];for(const N of j)try{const{data:P}=await ue[N](y,a);return P}catch(P){const C=(v=P==null?void 0:P.response)==null?void 0:v.status;if(C===401)throw P;if(C===404){f=P;break}if(C===405){f=P;continue}if(C&&[400,422].includes(C))throw P;f=P;break}}throw f||new Error("Falha ao atualizar dados do médico: nenhum endpoint compatível.")},async signDocumento(t,a={}){var _,E,k,A,T;let r;if(t instanceof FormData)r=t;else if(t&&t.name)r=new FormData,r.append("file",t),r.append("documento",t),r.append("pdf",t);else throw new Error("Parâmetro inválido: é esperado FormData ou File PDF.");const o=a.reason||a.motivo,i=a.location||a.local;o&&(r.append("reason",o),r.append("motivo",o)),i&&(r.append("location",i),r.append("local",i));const c=R=>{const I=r instanceof FormData?r.get(R):null;return typeof I=="string"?I==="true"||I==="1"||I.toLowerCase()==="yes":!!I},d=!!(a.useToken||a.use_token||a.token||a.pkcs11||a.hardware||a.smartcard||c("useToken")||c("use_token")||c("token")||c("pkcs11")||c("hardware")||c("smartcard"));let p=null,u=null;r instanceof FormData&&(p=r.get("pfx")||r.get("certificado")||r.get("pkcs12"),u=r.get("pfx_password")||r.get("senha")||r.get("password"));const g=a&&a.pfxFile instanceof File?a.pfxFile:p,f=(typeof(a==null?void 0:a.pfxPassword)=="string"?a.pfxPassword.trim():"")||(typeof u=="string"?u:""),h=(a.pin||a.tokenPin||a.pin_code||(r instanceof FormData?r.get("pin")||r.get("token_pin")||r.get("pin_code"):"")||"").toString().trim();if(d)r.append("use_token","true"),r.append("pkcs11","true"),r.append("hardware","true"),h&&(r.append("pin",h),r.append("token_pin",h),r.append("pin_code",h)),a.subject&&r.append("subject",a.subject),a.serial&&r.append("serial",a.serial),a.slot&&r.append("slot",String(a.slot)),a.keyId&&r.append("key_id",a.keyId);else{if(!(g instanceof File))throw new Error("Certificado digital (.pfx/.p12) é obrigatório para assinatura.");if(!f)throw new Error("Senha do certificado PFX/P12 é obrigatória para assinatura.");r.append("pfx",g),r.append("certificado",g),r.append("pkcs12",g),r.append("pfx_password",f),r.append("senha",f),r.append("password",f),r.append("no_persist","true"),r.append("ephemeral","true")}const v=(a==null?void 0:a.receitaId)||(a==null?void 0:a.receita_id)||(a==null?void 0:a.id);v&&(r.append("receita",v),r.append("receita_id",v),r.append("id",v));const w=[],y="".trim();y&&w.push(y);const j="/medicos/",N=j.endsWith("/")?j:`${j}/`;w.push("/api/assinatura/assinar/"),w.push("/assinatura/assinar/"),w.push("/documentos/assinar/"),w.push("/receitas/assinar/"),w.push(`${N}me/assinar/`),w.push(`${N}assinar/`);let P=null;try{P=await this._resolveMedicoId()}catch{}P&&(w.push(`${N}${P}/assinar/`),w.push(`${N}${P}/assinatura/`));let C=null;for(const R of w){if(!R)continue;const I=R.endsWith("/")?R:`${R}/`,L=["post","put"];for(const B of L)try{const G=await ue[B](I,r,{responseType:"blob"}),F=((_=G.headers)==null?void 0:_["content-disposition"])||((k=(E=G.headers)==null?void 0:E.get)==null?void 0:k.call(E,"content-disposition"));let M="documento_assinado.pdf";if(F){const $=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(F);M=decodeURIComponent(($==null?void 0:$[1])||($==null?void 0:$[2])||M)}const K=new Blob([G.data],{type:((A=G.headers)==null?void 0:A["content-type"])||"application/pdf"});return{filename:M,blob:K}}catch(G){const F=(T=G==null?void 0:G.response)==null?void 0:T.status;if(F===404){C=G;break}if(F===405){C=G;continue}if(F===401||F&&[400,422].includes(F))throw G;C=G;break}}throw C||new Error("Falha ao assinar documento: nenhum endpoint compatível.")},async atualizarReceita(t,a={}){var u;if(!t)throw new Error("ID da receita é obrigatório para atualização.");const r={...a};a.assinada!==void 0&&(r.assinada=!!a.assinada,r.signed=r.signed??r.assinada,r.status=r.assinada?"assinada":r.status||"emitida"),a.hash_alg&&(r.hash_alg=a.hash_alg,r.hash_algorithm=a.hash_algorithm||a.hash_alg,r.algoritmo_hash=a.algoritmo_hash||a.hash_alg),a.hash_pre&&(r.hash_pre=a.hash_pre,r.pre_hash=a.pre_hash||a.hash_pre),a.hash_signed&&(r.hash_signed=a.hash_signed,r.signed_hash=a.signed_hash||a.hash_signed),a.motivo&&(r.motivo=a.motivo),a.observacoes&&(r.observacoes=a.observacoes);const o="/receitas/",i=o.endsWith("/")?o:`${o}/`,c=[],d="".trim();d&&c.push(d.replace(/\/?$/,"/")),c.push(`${i}${t}/`),c.push(`${i}${t}/update/`),c.push(`${i}${t}/editar/`),c.push(`/api/receitas/${t}/`),c.push(`/receitas/${t}/`);let p=null;for(const g of c){if(!g)continue;const f=g.endsWith("/")?g:`${g}/`,h=["patch","put","post"];for(const v of h)try{const{data:w}=await ue[v](f,r);return w}catch(w){const y=(u=w==null?void 0:w.response)==null?void 0:u.status;if(y===401)throw w;if(y===404){p=w;break}if(y===405){p=w;continue}if(y&&[400,422].includes(y))throw w;p=w;break}}throw p||new Error("Falha ao atualizar receita: nenhum endpoint compatível.")},async registrarAuditoriaAssinatura(t={}){var g;const a=ht.getCurrentUser()||await ht.refreshCurrentUser(),r=a==null?void 0:a.id;let o=null;try{o=await this._resolveMedicoId()}catch{}const i={...t};r&&(i.usuario=i.usuario||r,i.usuario_id=i.usuario_id||r,i.user=i.user||r,i.user_id=i.user_id||r),o&&(i.medico=i.medico||o,i.medico_id=i.medico_id||o),i.tipo=i.tipo||"assinatura_receita",i.event=i.event||i.tipo,i.assinada=i.assinada??!0,i.timestamp=i.timestamp||new Date().toISOString();const c="/auditoria/assinaturas/",p=[c.endsWith("/")?c:`${c}/`,"/api/auditoria/assinaturas/","/logs/assinatura/","/auditoria/receitas/","/audit/assinaturas/"];let u=null;for(const f of p){const h=f.endsWith("/")?f:`${f}/`;try{const{data:v}=await ue.post(h,i);return v}catch(v){const w=(g=v==null?void 0:v.response)==null?void 0:g.status;if(w===401)throw v;if(w===404||w===405){u=v;continue}if(w&&[400,422].includes(w))throw v;u=v}}throw u||new Error("Falha ao registrar auditoria de assinatura: nenhum endpoint compatível.")}},TP=Object.freeze(Object.defineProperty({__proto__:null,medicoService:at},Symbol.toStringTag,{value:"Module"}));function MP(){const{data:t,loading:a}=pb(()=>at.getDashboard());if(a)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:e.jsx("div",{className:"space-y-8",children:e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((c,d)=>e.jsxs(ne,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm animate-pulse",children:[e.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 w-20 bg-gradient-to-r from-slate-200 to-slate-300 rounded"}),e.jsx("div",{className:"h-4 w-4 bg-gradient-to-r from-slate-200 to-slate-300 rounded"})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"h-8 w-16 bg-gradient-to-r from-slate-200 to-slate-300 rounded mb-2"}),e.jsx("div",{className:"h-3 w-24 bg-gradient-to-r from-slate-200 to-slate-300 rounded"})]})]},d))})})});const r=t||{consultas_hoje:5,pacientes_ativos:127,prontuarios:89,exames_pendentes:9,variacao_consultas:2,novos_pacientes_semana:5,proximas_consultas:[],pacientes_recentes:[]},o=c=>{try{const d=new Date(c);if(!isNaN(d.getTime()))return d.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof c=="string"&&/^\d{2}:\d{2}/.test(c))return c.slice(0,5)}catch{}return"-"},i=Array.isArray(r.proximas_consultas)?r.proximas_consultas:[];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6 space-y-8",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsx(xt,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard Médico"}),e.jsx("p",{className:"text-blue-100 mt-1",children:"Bem-vindo de volta! Gerencie suas consultas e pacientes."})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Qe,{className:"h-5 w-5 text-blue-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Hoje"})]}),e.jsx("div",{className:"text-2xl font-bold",children:r.consultas_hoje})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(gs,{className:"h-5 w-5 text-green-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Pacientes"})]}),e.jsx("div",{className:"text-2xl font-bold text-green-300",children:r.pacientes_ativos})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(cs,{className:"h-5 w-5 text-purple-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Prontuários"})]}),e.jsx("div",{className:"text-2xl font-bold text-purple-300",children:r.prontuarios})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Js,{className:"h-5 w-5 text-amber-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Pendentes"})]}),e.jsx("div",{className:"text-2xl font-bold text-amber-300",children:r.exames_pendentes})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[e.jsxs(Z,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30 backdrop-blur-sm transition-all duration-200 dark:bg-gray-800/80 dark:hover:bg-gray-700/80 dark:border-gray-600/50",children:[e.jsx(Ic,{className:"h-4 w-4 mr-2"}),"Ver Agenda"]}),e.jsxs(Z,{className:"bg-white text-blue-600 hover:bg-blue-50 transition-all duration-200 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Nova Consulta"]}),e.jsxs(Z,{variant:"outline",className:"bg-white/10 hover:bg-white/20 text-white border-white/30 backdrop-blur-sm dark:bg-gray-800/80 dark:hover:bg-gray-700/80 dark:border-gray-600/50",children:[e.jsx(ji,{className:"h-4 w-4 mr-2"}),"Relatórios"]})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ne,{className:"border-0 shadow-xl bg-gradient-to-br from-blue-50 to-blue-100 hover:shadow-2xl transition-all duration-300 group",children:[e.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[e.jsx(xe,{className:"text-sm font-semibold text-blue-700 group-hover:text-blue-800 transition-colors",children:"Consultas Hoje"}),e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg group-hover:bg-blue-600 transition-colors",children:e.jsx(Qe,{className:"h-4 w-4 text-white"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-900 mb-2",children:r.consultas_hoje}),e.jsxs("p",{className:"text-sm text-blue-600 flex items-center gap-1",children:[e.jsx(xo,{className:"h-3 w-3"}),"+",r.variacao_consultas," desde ontem"]})]})]}),e.jsxs(ne,{className:"border-0 shadow-xl bg-gradient-to-br from-green-50 to-emerald-100 hover:shadow-2xl transition-all duration-300 group",children:[e.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[e.jsx(xe,{className:"text-sm font-semibold text-green-700 group-hover:text-green-800 transition-colors",children:"Pacientes Ativos"}),e.jsx("div",{className:"p-2 bg-green-500 rounded-lg group-hover:bg-green-600 transition-colors",children:e.jsx(gs,{className:"h-4 w-4 text-white"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-900 mb-2",children:r.pacientes_ativos}),e.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-1",children:[e.jsx(oC,{className:"h-3 w-3"}),"+",r.novos_pacientes_semana," esta semana"]})]})]}),e.jsxs(ne,{className:"border-0 shadow-xl bg-gradient-to-br from-purple-50 to-purple-100 hover:shadow-2xl transition-all duration-300 group",children:[e.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[e.jsx(xe,{className:"text-sm font-semibold text-purple-700 group-hover:text-purple-800 transition-colors",children:"Prontuários"}),e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg group-hover:bg-purple-600 transition-colors",children:e.jsx(cs,{className:"h-4 w-4 text-white"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-900 mb-2",children:r.prontuarios}),e.jsx("p",{className:"text-sm text-purple-600",children:"Registros médicos"})]})]}),e.jsxs(ne,{className:"border-0 shadow-xl bg-gradient-to-br from-amber-50 to-orange-100 hover:shadow-2xl transition-all duration-300 group",children:[e.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[e.jsx(xe,{className:"text-sm font-semibold text-amber-700 group-hover:text-amber-800 transition-colors",children:"Exames Pendentes"}),e.jsx("div",{className:"p-2 bg-amber-500 rounded-lg group-hover:bg-amber-600 transition-colors",children:e.jsx(Js,{className:"h-4 w-4 text-white"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-amber-900 mb-2",children:r.exames_pendentes}),e.jsx("p",{className:"text-sm text-amber-600",children:"Aguardando análise"})]})]})]}),e.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[e.jsxs(ne,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(he,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(lt,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-slate-800",children:"Próximas Consultas"}),e.jsx(Xe,{className:"text-slate-600",children:"Agenda do dia"})]})]}),e.jsxs(Z,{variant:"outline",size:"sm",className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:[e.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Ver Todas"]})]})}),e.jsx(ie,{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:i.length>0?i.slice(0,5).map((c,d)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-slate-50 to-blue-50 rounded-xl border border-slate-200/50 hover:shadow-md transition-all duration-200 group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg group-hover:bg-blue-200 transition-colors",children:e.jsx(vc,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-semibold text-slate-900",children:c.paciente_nome}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(lt,{className:"h-3 w-3"}),o(c.data_hora)]}),e.jsx(ft,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:c.tipo||"Consulta"})]})]})]}),e.jsx(Z,{variant:"outline",size:"sm",className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:"Ver Detalhes"})]},d)):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(Qe,{className:"h-8 w-8 text-slate-400"})}),e.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Nenhuma consulta agendada"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Sua agenda está livre para hoje"})]})})})]}),e.jsxs(ne,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(he,{className:"bg-gradient-to-r from-slate-50 to-green-50 border-b border-slate-200/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(gs,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-slate-800",children:"Pacientes Recentes"}),e.jsx(Xe,{className:"text-slate-600",children:"Últimas interações"})]})]}),e.jsx(Je,{to:"/medico/meus-pacientes",children:e.jsxs(Z,{variant:"outline",size:"sm",className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:[e.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Ver Todos"]})})]})}),e.jsx(ie,{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:r.pacientes_recentes&&r.pacientes_recentes.length>0?r.pacientes_recentes.slice(0,5).map((c,d)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-slate-50 to-green-50 rounded-xl border border-slate-200/50 hover:shadow-md transition-all duration-200 group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg group-hover:bg-green-200 transition-colors",children:e.jsx(gs,{className:"h-4 w-4 text-green-600"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-semibold text-slate-900",children:c.nome}),e.jsxs("p",{className:"text-sm text-slate-600",children:["Última consulta: há ",c.dias_ultima_consulta," dias"]})]})]}),e.jsx(Z,{variant:"outline",size:"sm",className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:"Ver Perfil"})]},d)):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(gs,{className:"h-8 w-8 text-slate-400"})}),e.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Nenhum paciente recente"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Pacientes aparecerão aqui após as consultas"})]})})})]})]})]})}function DP(){const[t,a]=x.useState(!0),[r,o]=x.useState([]),[i,c]=x.useState(""),[d,p]=x.useState("todos");x.useEffect(()=>{let g=!0;return(async()=>{var f;try{const h=await at.getPerfil(),v=(h==null?void 0:h.id)||((f=h==null?void 0:h.medico)==null?void 0:f.id);if(v){const w=await at.getPacientesVinculados(v);g&&o(Array.isArray(w)?w:[])}else g&&o([])}catch{g&&o([])}finally{g&&a(!1)}})(),()=>{g=!1}},[]);const u=r.filter(g=>{var w;const f=(g!=null&&g.user?[g.user.first_name,g.user.last_name].filter(Boolean).join(" ").trim():(g==null?void 0:g.nome)||"").toLowerCase(),h=!i||f.includes(i.toLowerCase()),v=d==="todos"||d===((w=g==null?void 0:g.user)!=null&&w.is_active?"ativo":"inativo");return h&&v});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Meus Pacientes"}),e.jsx("p",{className:"text-muted-foreground",children:"Liste e gerencie seus pacientes ativos"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ms,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar pacientes...",className:"pl-10",value:i,onChange:g=>c(g.target.value)})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(Et,{children:[e.jsx(Ct,{className:"w-[180px]",children:e.jsx(Rt,{placeholder:"Filtrar por status"})}),e.jsxs(_t,{children:[e.jsx(Ne,{value:"todos",children:"Todos"}),e.jsx(Ne,{value:"ativo",children:"Ativo"}),e.jsx(Ne,{value:"inativo",children:"Inativo"})]})]}),e.jsxs(Z,{children:[e.jsx(Ms,{className:"mr-2 h-4 w-4"}),"Buscar"]}),e.jsxs(Z,{variant:"outline",children:[e.jsx(so,{className:"mr-2 h-4 w-4"}),"Filtrar"]})]})]}),t?e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((g,f)=>e.jsx(ne,{children:e.jsxs(ie,{className:"p-6 space-y-4",children:[e.jsx("div",{className:"h-6 w-40 bg-muted animate-pulse rounded"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"})]})]})},f))}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:u.map(g=>{var v,w;const f=(g==null?void 0:g.id)||((v=g==null?void 0:g.user)==null?void 0:v.id),h=g!=null&&g.user?[g.user.first_name,g.user.last_name].filter(Boolean).join(" ").trim():(g==null?void 0:g.nome)||`Paciente ${f}`;return e.jsx(ne,{children:e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-14 w-14 rounded-full bg-muted flex items-center justify-center text-xl font-semibold",children:((w=h==null?void 0:h[0])==null?void 0:w.toUpperCase())||"P"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:h}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",f]})]})]}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-1",children:(g==null?void 0:g.condicoes_cronicas)&&e.jsx(ft,{variant:"outline",className:"bg-primary/5",children:g.condicoes_cronicas})}),e.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[e.jsx(Z,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs(Je,{to:`/medico/paciente/${f}/perfil`,children:[e.jsx(is,{className:"mr-1 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Perfil"})]})}),e.jsx(Z,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs(Je,{to:`/medico/paciente/${f}/prontuario`,children:[e.jsx(cs,{className:"mr-1 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Prontuário"})]})}),e.jsx(Z,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs(Je,{to:`/medico/paciente/${f}/iniciar-consulta`,children:[e.jsx(Qe,{className:"mr-1 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Consulta"})]})})]})]})},f)})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Mostrando 6 de 24 pacientes"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{variant:"outline",size:"sm",disabled:!0,children:"Anterior"}),e.jsx(Z,{variant:"outline",size:"sm",className:"bg-primary/5",children:"1"}),e.jsx(Z,{variant:"outline",size:"sm",children:"2"}),e.jsx(Z,{variant:"outline",size:"sm",children:"3"}),e.jsx(Z,{variant:"outline",size:"sm",children:"4"}),e.jsx(Z,{variant:"outline",size:"sm",children:"Próximo"})]})]})]})}function OP(){const[t,a]=x.useState(!0),[r,o]=x.useState(!0),[i,c]=x.useState([]),[d,p]=x.useState([]);x.useEffect(()=>{let h=!0;return(async()=>{var v;try{const w=await at.getPerfil(),y=(w==null?void 0:w.id)||((v=w==null?void 0:w.medico)==null?void 0:v.id);if(!y){h&&(c([]),p([]));return}try{const j=await at.getConsultasHoje(y);h&&c(Array.isArray(j)?j:(j==null?void 0:j.results)||[])}finally{h&&a(!1)}try{const j=await at.getConsultasDoMedico(),N=Array.isArray(j)?j:Array.isArray(j==null?void 0:j.results)?j.results:[];h&&p(N)}finally{h&&o(!1)}}catch{h&&(c([]),p([]),a(!1),o(!1))}})(),()=>{h=!1}},[]);const u=h=>{var w,y;const v=(w=h==null?void 0:h.paciente)==null?void 0:w.user;return v?[v.first_name,v.last_name].filter(Boolean).join(" ").trim():(h==null?void 0:h.paciente_nome)||((y=h==null?void 0:h.paciente)==null?void 0:y.nome)||"Paciente"},g=h=>{try{const v=new Date(h);if(!isNaN(v))return v.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof h=="string"&&/^\d{2}:\d{2}/.test(h))return h.slice(0,5)}catch{}return"--:--"},f=h=>{try{const v=new Date(h);if(!isNaN(v))return v.toLocaleDateString()}catch{}return""};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Minhas Consultas"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie sua agenda de consultas"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ms,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar consultas...",className:"pl-10 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-400"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(Et,{children:[e.jsx(Ct,{className:"w-[180px] dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200",children:e.jsx(Rt,{placeholder:"Filtrar por status"})}),e.jsxs(_t,{children:[e.jsx(Ne,{value:"todos",children:"Todos"}),e.jsx(Ne,{value:"confirmado",children:"Confirmado"}),e.jsx(Ne,{value:"pendente",children:"Pendente"}),e.jsx(Ne,{value:"cancelado",children:"Cancelado"})]})]}),e.jsx(fe,{type:"date",className:"w-[180px] dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200"}),e.jsxs(Z,{children:[e.jsx(Qe,{className:"mr-2 h-4 w-4"}),"Nova Consulta"]})]})]}),e.jsxs(Ma,{defaultValue:"hoje",children:[e.jsxs(Da,{children:[e.jsx(wt,{value:"hoje",children:"Hoje"}),e.jsx(wt,{value:"amanha",children:"Amanhã"}),e.jsx(wt,{value:"semana",children:"Esta Semana"}),e.jsx(wt,{value:"todas",children:"Todas"})]}),e.jsx(Tt,{value:"hoje",children:e.jsxs(ne,{children:[e.jsx(he,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-5 w-5"}),"Consultas para hoje, ",new Date().toLocaleDateString()]})}),e.jsx(ie,{children:t?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((h,v)=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-muted animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 w-1/3 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-3 w-1/4 bg-muted animate-pulse rounded"})]}),e.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded"})]},v))}):e.jsx("div",{className:"space-y-4",children:i.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhuma consulta para hoje."}):i.map(h=>{var y,j,N;const v=h.id,w=((y=h==null?void 0:h.paciente)==null?void 0:y.id)||(h==null?void 0:h.paciente_id);return e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((N=(j=u(h))==null?void 0:j[0])==null?void 0:N.toUpperCase())||"P"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:u(h)}),w&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",w]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(lt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[g(h==null?void 0:h.data_hora)," ",f(h==null?void 0:h.data_hora)?`(${f(h==null?void 0:h.data_hora)})`:""]})]})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[w&&e.jsx(Z,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(Je,{to:`/medico/paciente/${w}/perfil`,children:"Perfil"})}),w&&e.jsx(Z,{size:"sm",asChild:!0,children:e.jsx(Je,{to:`/medico/paciente/${w}/iniciar-consulta`,children:"Atender"})})]})]},v)})})})]})}),e.jsx(Tt,{value:"amanha",children:e.jsxs(ne,{children:[e.jsx(he,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-5 w-5"}),"Consultas para amanhã, ",new Date(Date.now()+864e5).toLocaleDateString()]})}),e.jsx(ie,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3].map(h=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(70+h),"M"]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Paciente ",h+5]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100050+h]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(lt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[`${8+h}:00`," - ",`${9+h}:00`]})]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:h%2===0?"Primeira consulta":"Retorno"}),h===1?e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:"Aguardando confirmação"}):e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[e.jsx(Z,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(Je,{href:`/medico/paciente/${100050+h}/perfil`,children:"Perfil"})}),e.jsx(Z,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},h))})})]})}),e.jsx(Tt,{value:"semana",children:e.jsxs(ne,{children:[e.jsx(he,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-5 w-5"}),"Consultas para esta semana"]})}),e.jsx(ie,{children:e.jsx("div",{className:"space-y-6",children:[1,2,3].map(h=>e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-3",children:new Date(Date.now()+h*2*864e5).toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})}),e.jsx("div",{className:"space-y-4",children:[1,2].map(v=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(64+h+v),"L"]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Paciente ",h*10+v]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100100+h*10+v]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(lt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[`${9+v}:00`," - ",`${10+v}:00`]})]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:v%2===0?"Primeira consulta":"Retorno"}),e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[e.jsx(Z,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(Je,{href:`/medico/paciente/${100100+h*10+v}/perfil`,children:"Perfil"})}),e.jsx(Z,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},`${h}-${v}`))})]},h))})})]})}),e.jsx(Tt,{value:"todas",children:e.jsxs(ne,{children:[e.jsx(he,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-5 w-5"}),"Todas as Consultas"]})}),e.jsx(ie,{children:r?e.jsx("div",{className:"space-y-4",children:[...Array(4)].map((h,v)=>e.jsx("div",{className:"h-16 w-full bg-muted animate-pulse rounded"},v))}):e.jsx("div",{className:"space-y-4",children:d.map(h=>{var y,j,N;const v=h.id,w=((y=h==null?void 0:h.paciente)==null?void 0:y.id)||(h==null?void 0:h.paciente_id);return e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((N=(j=u(h))==null?void 0:j[0])==null?void 0:N.toUpperCase())||"P"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:u(h)}),w&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",w]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qe,{className:"h-4 w-4 text-muted-foreground mr-1"}),e.jsx("span",{children:f(h==null?void 0:h.data_hora)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(lt,{className:"h-4 w-4 text-muted-foreground mr-1"}),e.jsx("span",{children:g(h==null?void 0:h.data_hora)})]})]})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[w&&e.jsx(Z,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(Je,{to:`/medico/paciente/${w}/perfil`,children:"Perfil"})}),e.jsx(Z,{variant:"ghost",size:"sm",children:"Detalhes"})]})]},v)})})})]})})]})]})}function Hf({patientId:t,isPacienteView:a=!0,profile:r,patient:o,loading:i=!1}){var y;const c=j=>j?cC(j.replace(/_/g," ")):"",d=(r==null?void 0:r.nome)&&r.nome.trim()||[r==null?void 0:r.first_name,r==null?void 0:r.last_name].filter(Boolean).join(" ")||c(r==null?void 0:r.username)||"Usuário",p=((y=d==null?void 0:d.trim())==null?void 0:y.split(" ").filter(Boolean).slice(0,2).map(j=>{var N;return(N=j[0])==null?void 0:N.toUpperCase()}).join(""))||"?",u=j=>{if(!j)return null;const N=new Date(j);if(Number.isNaN(N.getTime()))return null;const P=new Date;let C=P.getFullYear()-N.getFullYear();const _=P.getMonth()-N.getMonth(),E=P.getDate()-N.getDate();(_<0||_===0&&E<0)&&C--;let k=new Date(P.getFullYear(),N.getMonth(),N.getDate());k>P&&(k=new Date(P.getFullYear()-1,N.getMonth(),N.getDate()));const A=1440*60*1e3,T=Math.floor((P-k)/A);return`${C} anos e ${T} dias`},g=(r==null?void 0:r.data_nascimento)||(o==null?void 0:o.data_nascimento)||null,f=u(g),h=(o==null?void 0:o.tipo_sanguineo)||(r==null?void 0:r.tipo_sanguineo)||"—",v=(o==null?void 0:o.alergias)??(r==null?void 0:r.alergias),w=Array.isArray(v)?alergiesRaw.length?v.join(", "):"—":v||"—";return i?e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[e.jsx(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900",children:e.jsx(ie,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(it,{className:"h-20 w-20 rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(it,{className:"h-6 w-48"}),e.jsx(it,{className:"h-4 w-32"})]})]})})}),e.jsx(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20",children:e.jsx(ie,{className:"pt-6",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(it,{className:"h-16 w-full"}),e.jsx(it,{className:"h-16 w-full"}),e.jsx(it,{className:"h-16 w-full"})]})})})]}):e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[e.jsx(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 hover:shadow-xl transition-all duration-300",children:e.jsx(ie,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(Oi,{className:"h-20 w-20 ring-4 ring-white/50 shadow-lg",children:[e.jsx(nd,{src:r==null?void 0:r.avatar,alt:d}),e.jsx($i,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white text-2xl font-bold",children:p})]}),e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-green-500 rounded-full p-1.5 shadow-lg",children:e.jsx(is,{className:"h-3 w-3 text-white"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-1",children:d}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(ft,{variant:a?"default":"secondary",className:"text-xs font-medium",children:a?"Paciente":`ID: ${t||(r==null?void 0:r.id)||"-"}`})})]})]})})}),e.jsx(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20 hover:shadow-xl transition-all duration-300",children:e.jsxs(ie,{className:"pt-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/50 rounded-full",children:e.jsx(is,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})})}),e.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Idade"}),e.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-slate-100",children:f||"—"})]}),e.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/50 rounded-full",children:e.jsx(zS,{className:"h-4 w-4 text-red-600 dark:text-red-400"})})}),e.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Tipo Sanguíneo"}),e.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-slate-100",children:h})]}),e.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/50 rounded-full",children:e.jsx(vc,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})})}),e.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Alergias"}),e.jsx("p",{className:"text-xs font-bold text-slate-900 dark:text-slate-100 truncate",title:w,children:w})]})]}),!a&&e.jsx("div",{className:"mt-6 pt-4 border-t border-white/20",children:e.jsx(Z,{size:"sm",asChild:!0,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsx(Je,{to:`/medico/paciente/${t||(r==null?void 0:r.id)}/iniciar-consulta`,children:"Iniciar Consulta"})})})]})})]})}function $P(){const{id:t}=wn(),a=[{label:"Resumo",href:`/medico/paciente/${t}/perfil`},{label:"Prontuário",href:`/medico/paciente/${t}/prontuario`},{label:"Consultas",href:`/medico/paciente/${t}/consultas`},{label:"Exames",href:`/medico/paciente/${t}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${t}/iniciar-consulta`}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Perfil do Paciente"}),e.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie as informações do paciente"})]}),e.jsx(Hf,{patientId:t,isPacienteView:!1}),e.jsx(ga,{tabs:a,basePath:`/medico/paciente/${t}`}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(ne,{children:[e.jsx(he,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-5 w-5"}),"Informações Pessoais"]})}),e.jsx(ie,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nome"}),e.jsx("p",{className:"text-muted-foreground",children:"—"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Data de Nascimento"}),e.jsx("p",{className:"text-muted-foreground",children:"—"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"CPF"}),e.jsx("p",{className:"text-muted-foreground",children:"—"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),e.jsx("p",{className:"text-muted-foreground",children:"—"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Endereço"}),e.jsx("p",{className:"text-muted-foreground",children:"—"})]})]})})})]}),e.jsxs(ne,{children:[e.jsx(he,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(cs,{className:"h-5 w-5"}),"Resumo Médico"]})}),e.jsx(ie,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tipo Sanguíneo"}),e.jsx("p",{children:"O+"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Alergias"}),e.jsx("p",{children:"Penicilina, Amendoim"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Condições Crônicas"}),e.jsx("p",{children:"Hipertensão"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Medicamentos em Uso"}),e.jsx("p",{children:"Losartana 50mg, Hidroclorotiazida 25mg"})]})]})})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(ne,{children:[e.jsx(he,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-5 w-5"}),"Histórico de Consultas"]})}),e.jsx(ie,{children:e.jsxs("div",{className:"space-y-4",children:[[1,2,3].map(r=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:"Consulta de Rotina"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(Date.now()-r*30*864e5).toLocaleDateString()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Dr. Carlos Oliveira"})]}),e.jsx(Z,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(Je,{to:`/medico/paciente/${t}/consultas`,children:"Ver"})})]},r)),e.jsx(Z,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(Je,{to:`/medico/paciente/${t}/consultas`,children:"Ver Todas"})})]})})]}),e.jsxs(ne,{children:[e.jsx(he,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(pa,{className:"h-5 w-5"}),"Exames Recentes"]})}),e.jsx(ie,{children:e.jsxs("div",{className:"space-y-4",children:[[1,2,3].map(r=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:"Hemograma Completo"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(Date.now()-r*7*864e5).toLocaleDateString()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Solicitado por: Dr. Ana Souza"})]}),e.jsx(Z,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(Je,{to:`/medico/paciente/${t}/exames`,children:"Ver"})})]},r)),e.jsx(Z,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(Je,{to:`/medico/paciente/${t}/exames`,children:"Ver Todos"})})]})})]})]})]})}function LP(){const{id:t}=wn(),a=[{label:"Resumo",href:`/medico/paciente/${t}/perfil`},{label:"Prontuário",href:`/medico/paciente/${t}/prontuario`},{label:"Consultas",href:`/medico/paciente/${t}/consultas`},{label:"Exames",href:`/medico/paciente/${t}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${t}/iniciar-consulta`}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Prontuário do Paciente"}),e.jsx("p",{className:"text-muted-foreground",children:"Histórico médico completo"})]}),e.jsx(Hf,{patientId:t,isPacienteView:!1}),e.jsx(ga,{tabs:a,basePath:`/medico/paciente/${t}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ne,{children:[e.jsx(he,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(cs,{className:"h-5 w-5"}),"Informações Gerais"]})}),e.jsx(ie,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tipo Sanguíneo"}),e.jsx("p",{children:"O+"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Alergias"}),e.jsx("p",{children:"Penicilina, Amendoim"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Condições Crônicas"}),e.jsx("p",{children:"Hipertensão"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Medicamentos em Uso"}),e.jsx("p",{children:"Losartana 50mg, Hidroclorotiazida 25mg"})]})]})})})]}),e.jsxs(ne,{children:[e.jsx(he,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-5 w-5"}),"Histórico de Consultas"]})}),e.jsx(ie,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(r=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("p",{className:"font-medium",children:"Dr. Carlos Oliveira"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Cardiologia"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(Date.now()-r*30*864e5).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Diagnóstico"}),e.jsx("p",{children:"Hipertensão Arterial Estágio 1"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Conduta"}),e.jsx("p",{children:"Manutenção da medicação atual. Recomendação de atividade física regular e redução do consumo de sal."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Exames Solicitados"}),e.jsx("p",{children:"Hemograma completo, Perfil lipídico, Função renal"})]})]},r))})})]})]})]})}function IP({params:t}){const{id:a}=t,r=[{label:"Resumo",href:`/medico/paciente/${a}/perfil`},{label:"Prontuário",href:`/medico/paciente/${a}/prontuario`},{label:"Consultas",href:`/medico/paciente/${a}/consultas`},{label:"Exames",href:`/medico/paciente/${a}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${a}/iniciar-consulta`}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames do Paciente"}),e.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie exames do paciente"})]}),e.jsx(Hf,{patientId:a,isPacienteView:!1}),e.jsx(ga,{tabs:r,basePath:`/medico/paciente/${a}`}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ms,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar exames...",className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(Et,{children:[e.jsx(Ct,{className:"w-[180px]",children:e.jsx(Rt,{placeholder:"Tipo de exame"})}),e.jsxs(_t,{children:[e.jsx(Ne,{value:"todos",children:"Todos"}),e.jsx(Ne,{value:"laboratoriais",children:"Laboratoriais"}),e.jsx(Ne,{value:"imagem",children:"Imagem"}),e.jsx(Ne,{value:"cardio",children:"Cardiológicos"})]})]}),e.jsxs(Z,{children:[e.jsx(pa,{className:"mr-2 h-4 w-4"}),"Solicitar Exame"]})]})]}),e.jsxs(Ma,{defaultValue:"todos",children:[e.jsxs(Da,{className:"grid w-full grid-cols-4",children:[e.jsx(wt,{value:"todos",children:"Todos"}),e.jsx(wt,{value:"pendentes",children:"Pendentes"}),e.jsx(wt,{value:"realizados",children:"Realizados"}),e.jsx(wt,{value:"solicitados-por-mim",children:"Solicitados por Mim"})]}),e.jsx(Tt,{value:"realizados",children:e.jsxs(ne,{children:[e.jsx(he,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(pa,{className:"h-5 w-5"}),"Exames Realizados"]})}),e.jsx(ie,{children:e.jsx("div",{className:"space-y-4",children:[3,4,5,6].map(o=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:o%3===0?"Hemograma Completo":o%3===1?"Perfil Lipídico":"Eletrocardiograma"}),e.jsxs("div",{className:"mt-1 text-sm text-muted-foreground",children:["Solicitado por: ",o%2===0?"Dr. Carlos Oliveira":"Dra. Ana Souza"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Realizado em: ",new Date(Date.now()-o*15*864e5).toLocaleDateString()]})]})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"rounded-full px-2 py-1 text-xs inline-flex bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Realizado"})}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsxs(Z,{variant:"outline",size:"sm",children:[e.jsx(Ea,{className:"mr-2 h-4 w-4"}),"Visualizar Resultado"]}),e.jsxs(Z,{variant:"outline",size:"sm",children:[e.jsx(mr,{className:"mr-2 h-4 w-4"}),"Baixar PDF"]}),e.jsxs(Z,{variant:"outline",size:"sm",children:[e.jsx(pa,{className:"mr-2 h-4 w-4"}),"Solicitar Novo"]})]})]},o))})})]})}),e.jsx(Tt,{value:"solicitados-por-mim",children:e.jsxs(ne,{children:[e.jsx(he,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(pa,{className:"h-5 w-5"}),"Exames Solicitados por Mim"]})}),e.jsx(ie,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3].map(o=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:o%2===0?"Hemograma Completo":"Perfil Lipídico"}),e.jsx("div",{className:"mt-1 text-sm text-muted-foreground",children:"Solicitado por: Você"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Solicitado em: ",new Date(Date.now()-o*10*864e5).toLocaleDateString()]})]})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"rounded-full px-2 py-1 text-xs inline-flex bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:"Pendente"})}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsxs(Z,{variant:"outline",size:"sm",children:[e.jsx(oo,{className:"mr-2 h-4 w-4"}),"Registrar Resultado"]}),e.jsx(Z,{variant:"outline",size:"sm",children:"Reagendar"}),e.jsx(Z,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",children:"Cancelar"})]})]},o))})})]})})]})]})}const Lg={async sumarizarTranscricao(t,a={}){throw new Error("VITE_GEMINI_API_KEY não configurada")}};function FP(){const{id:t}=wn(),a=Ds(),r=fs(),[o,i]=x.useState(!1),{toast:c}=ts(),[d,p]=x.useState(!1),[u,g]=x.useState({queixa:"",historia:"",medicamentos:"",alergias:"",pressao:"","frequencia-cardiaca":"",temperatura:"",saturacao:"","exame-geral":"","sistema-cardiovascular":"","sistema-respiratorio":"",diagnostico:"",conduta:"",exames:"",retorno:""}),f=V=>{const{id:U,value:Q}=V.target;g(te=>({...te,[U]:Q}))},v=new URLSearchParams(r.search).get("consultaId"),[w,y]=x.useState(""),[j,N]=x.useState(!1),[P,C]=x.useState(""),[_,E]=x.useState("unknown"),k=x.useRef(null),A=x.useRef(-1),[T,R]=x.useState(""),I=x.useRef(!1),L=x.useMemo(()=>`iniciar-consulta:${t}:${v||"sem-consulta"}`,[t,v]),B=x.useRef("");x.useEffect(()=>{B.current=T},[T]);const[G,F]=x.useState(null),[M,K]=x.useState(!1),[$,z]=x.useState("");x.useEffect(()=>{let V;return(async()=>{try{navigator.permissions&&navigator.permissions.query&&(V=await navigator.permissions.query({name:"microphone"}),E(V.state||"unknown"),V.onchange=()=>E(V.state||"unknown"))}catch{}})(),()=>{V&&(V.onchange=null)}},[]);const q=async()=>{C("");try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(U=>U.stop()),E("granted"),!0}catch(V){const U=V&&(V.name||V.message)||"Permissão de microfone negada";return C(typeof U=="string"?U:"Falha ao acessar microfone"),E("denied"),!1}};x.useEffect(()=>{try{const V=localStorage.getItem(L);V&&y(V)}catch{}},[L]),x.useEffect(()=>{let V=!0;return(async()=>{var U;try{const Q="/pacientes/".replace(/\/?$/,"/"),{data:te}=await ue.get(`${Q}${t}/`);if(!V)return;F(te);const oe=(te==null?void 0:te.alergias)||"";oe&&!u.alergias&&g(ge=>({...ge,alergias:oe}))}catch(Q){console.debug("[IniciarConsulta] Falha ao buscar paciente por id:",(U=Q==null?void 0:Q.response)==null?void 0:U.status)}})(),()=>{V=!1}},[t]),x.useEffect(()=>{try{localStorage.setItem(L,w||"")}catch{}},[L,w]),x.useEffect(()=>(Y(),()=>{ee()}),[]);const Y=async()=>{try{if(!await q()){N(!1),I.current=!1;return}if(k.current){try{k.current.onend=null,k.current.onresult=null,k.current.onerror=null,k.current.stop()}catch{}k.current=null}const V=window.SpeechRecognition||window.webkitSpeechRecognition;if(!V){console.warn("Reconhecimento de fala não suportado neste navegador."),C("Seu navegador não suporta reconhecimento de fala."),N(!1);return}const U=new V;U.lang="pt-BR",U.continuous=!0,U.interimResults=!0,U.maxAlternatives=1,A.current=-1,U.onresult=Q=>{let te="",oe="";for(let ge=Q.resultIndex;ge<Q.results.length;ge++){const be=Q.results[ge],Ee=Array.from(be,Ae=>Ae.transcript).join("");be.isFinal?te+=Ee+" ":oe+=Ee}if(te){const ge=te.trim();y(be=>{const Ee=be?be.endsWith(" ")?be:be+" ":"";return ge&&Ee.endsWith(ge)?be:(Ee+ge).trim()})}R(oe)},U.onerror=Q=>{const te=(Q==null?void 0:Q.error)||Q;if(console.warn("Erro no reconhecimento de fala:",te),typeof te=="string"&&C(te),["audio-capture","network"].includes(te)&&I.current&&k.current===U)try{U.stop()}catch{}te==="not-allowed"&&(N(!1),I.current=!1)},U.onend=()=>{const Q=k.current===U,te=(B.current||"").trim();te&&y(oe=>{const ge=oe?oe.endsWith(" ")?oe:oe+" ":"";return ge.endsWith(te)?oe:(ge+te).trim()}),R(""),A.current=-1,I.current&&Q&&setTimeout(()=>{try{U.start()}catch{}},200)},k.current=U,I.current=!0,N(!0);try{U.start()}catch(Q){console.warn("Falha ao iniciar reconhecimento:",Q),N(!1),I.current=!1,k.current=null,C("Falha ao iniciar reconhecimento de fala.");return}}catch(V){console.warn("Falha ao iniciar reconhecimento de fala:",V),N(!1),I.current=!1,C("Falha inesperada ao iniciar microfone.")}},ee=async()=>{try{N(!1),I.current=!1,R(""),k.current&&(k.current.onend=null,k.current.onresult=null,k.current.onerror=null,k.current.stop(),k.current=null)}catch{}try{if((w||"").trim().length>0&&!d&&v){try{await at.finalizarConsulta(v)}catch{}try{const U=D(w||""),Q=await at.sumarizarConsulta(v,{transcript:w||"",extracted:{queixa:U.queixa||"",historia:U.historia||"",diagnostico:U.diagnostico||"",conduta:U.conduta||"",medicamentos:U.medicamentos||"",posologia:U.posologia||"",pressao:U.pressao||"",frequencia_cardiaca:U["frequencia-cardiaca"]||U.frequencia||"",temperatura:U.temperatura||"",saturacao:U.saturacao||""},form:{queixa_principal:u.queixa||"",historia_doenca_atual:u.historia||"",diagnostico_principal:u.diagnostico||"",conduta:u.conduta||"",medicamentos_uso:u.medicamentos||"",alergias:u.alergias||"",pressao:u.pressao||"",frequencia_cardiaca:u.frequencia||u["frequencia-cardiaca"]||"",temperatura:u.temperatura||"",saturacao:u.saturacao||""}}),te=[Q,Q==null?void 0:Q.data,Q==null?void 0:Q.result,Q==null?void 0:Q.output,Q==null?void 0:Q.summary,Q==null?void 0:Q.sumarizacao,Q==null?void 0:Q.resumo,Q==null?void 0:Q.fields].filter(Boolean),oe=(Ee,Ae)=>Ae.split(".").reduce((We,rt)=>We&&We[rt]!=null?We[rt]:void 0,Ee),ge=Ee=>{for(const Ae of te)for(const We of Ee){const rt=oe(Ae,We);if(typeof rt=="string"&&rt.trim())return rt.trim()}return""},be={queixa:u.queixa||ge(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||U.queixa||"",historia:u.historia||ge(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||U.historia||"",medicamentos:u.medicamentos||ge(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||U.medicamentos||"",alergias:u.alergias||ge(["alergias","anamnese.alergias","allergies"])||"",diagnostico:u.diagnostico||ge(["diagnostico_principal","diagnostico","diagnosis","assessment"])||U.diagnostico||"",conduta:u.conduta||ge(["conduta","plano","plan","plan_terapeutico"])||U.conduta||"",posologia:u.posologia||ge(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||U.posologia||"",pressao:u.pressao||ge(["pressao","sinais_vitais.pressao"])||U.pressao||"","frequencia-cardiaca":u["frequencia-cardiaca"]||u.frequencia||ge(["frequencia_cardiaca","sinais_vitais.frequencia_cardiaca","fc","heart_rate"])||U["frequencia-cardiaca"]||U.frequencia||"",temperatura:u.temperatura||ge(["temperatura","sinais_vitais.temperatura"])||U.temperatura||"",saturacao:u.saturacao||ge(["saturacao","sinais_vitais.saturacao","spo2"])||U.saturacao||""};g(Ee=>({...Ee,...be})),p(!0),c({title:"Resumo aplicado",description:"Pré-preenchimento realizado a partir da transcrição."})}catch(U){console.debug("[auto-sumarizar] falhou:",U==null?void 0:U.message)}}}catch{}};function D(V=""){var dt;const U=V.replace(/\r/g,"").trim(),Q=At=>{const Gt=new RegExp(`(?:^|
)s*(?:${At.join("|")})s*[:：]s*([sS]*?)(?=
s*(?:Queixa|História|Historia|Exame|Diagn[oó]stico|Conduta|Prescri|Rx|Receita)s*[:：]|$)`,"i"),ke=U.match(Gt);return ke?ke[1].trim():""},te=Q(["Queixa","Queixa Principal"])||((dt=U.split(/\n\n|\n-/)[0])==null?void 0:dt.slice(0,300))||"",oe=Q(["História","Historia","HDA","História da Doença Atual"])||"",ge=Q(["Diagnóstico","Diagnostico"])||"",be=Q(["Conduta","Plano","Plano Terapêutico"])||"",Ee=Q(["Prescrição","Prescricao","Receita","Rx"])||"";let Ae="",We="";if(Ee){const At=Ee.split(/\n+/).map(Gt=>Gt.trim()).filter(Boolean);At.length===1?(Ae=At[0],We="Conforme descrito na prescrição."):At.length>1&&(Ae=At[0],We=At.slice(1).join(" "))}if(!Ae&&be){const At=(be.match(/.+?(\d+\s?(mg|ml|g|mcg)|comprimid|c[aá]psul|gotas).*/i)||[""])[0];At&&(Ae=At.trim(),We="Conforme conduta descrita.")}const rt=(U.match(/(PA|press[aã]o( arterial)?)[^\d]*(\d{2,3}\s*\/\s*\d{2,3})\s*(mmhg)?/i)||["","","",""])[3]||"",kt=(U.match(/(FC|freq[uê]ncia\s*card[ií]aca)[^\d]*(\d{2,3})\s*(bpm)?/i)||["","",""])[2]||"",jt=(U.match(/(temp(eratura)?)[^\d]*(\d{2}(?:[\.,]\d)?)\s*(?:°?c|celsius)?/i)||["","","",""])[3]||"",Lt=(U.match(/(sat|satura[cç][aã]o)[^\d]*(\d{2})\s*%/i)||["","",""])[2]||"";return{queixa:te,historia:oe,diagnostico:ge,conduta:be,medicamentos:Ae,posologia:We,pressao:rt,"frequencia-cardiaca":kt,temperatura:jt,saturacao:Lt}}const H=async()=>{const V=($||"").trim();if(!V){K(!1);return}const U=(u.alergias||"").trim(),Q=U?`${U}
${V}`:V;g(te=>({...te,alergias:Q}));try{G!=null&&G.id&&(at!=null&&at.atualizarPacienteById)&&(await at.atualizarPacienteById(G.id,{alergias:Q}),c({title:"Alergia adicionada",description:"Atualizamos o cadastro do paciente."}))}catch(te){console.debug("Falha ao atualizar alergias do paciente:",te==null?void 0:te.message),c({title:"Não foi possível salvar no cadastro",description:"A alergia foi adicionada ao formulário apenas.",variant:"destructive"})}finally{z(""),K(!1)}},ae=async V=>{var Q;V.preventDefault(),i(!0);try{ee()}catch{}const U=D(w||"");try{let te=null;if(!d)if(v){try{await at.finalizarConsulta(v)}catch{}let ke=null;try{ke=await at.sumarizarConsulta(v,{transcript:w||"",extracted:{queixa:U.queixa||"",historia:U.historia||"",diagnostico:U.diagnostico||"",conduta:U.conduta||"",medicamentos:U.medicamentos||"",posologia:U.posologia||""},form:{queixa_principal:u.queixa||"",historia_doenca_atual:u.historia||"",diagnostico_principal:u.diagnostico||"",conduta:u.conduta||"",medicamentos_uso:u.medicamentos||"",alergias:u.alergias||""}})}catch(It){console.warn("Falha ao enviar dados para sumarização:",It)}if(!ke)try{ke=await Lg.sumarizarTranscricao(w||"",{queixa:U.queixa||"",historia_doenca_atual:U.historia||"",diagnostico_principal:U.diagnostico||"",conduta:U.conduta||"",medicamentos:U.medicamentos||"",posologia:U.posologia||"",alergias:u.alergias||""})}catch(It){console.debug("[AI] Gemini indisponível:",It==null?void 0:It.message)}const hs=[ke,ke==null?void 0:ke.data,ke==null?void 0:ke.result,ke==null?void 0:ke.output,ke==null?void 0:ke.summary,ke==null?void 0:ke.sumarizacao,ke==null?void 0:ke.resumo,ke==null?void 0:ke.fields].filter(Boolean),Qs=(It,Ss)=>{try{return Ss.split(".").reduce((Ft,ss)=>Ft&&Ft[ss]!==void 0?Ft[ss]:void 0,It)}catch{return}},tt=It=>{for(const Ss of hs)for(const Ft of It){const ss=Qs(Ss,Ft);if(ss!=null){const Vt=String(ss).trim();if(Vt)return Vt}}return""},ia={queixa:u.queixa||tt(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||U.queixa||"",historia:u.historia||tt(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||U.historia||"",medicamentos:u.medicamentos||tt(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||U.medicamentos||"",alergias:u.alergias||tt(["alergias","anamnese.alergias","allergies"])||"",diagnostico:u.diagnostico||tt(["diagnostico_principal","diagnostico","diagnosis","assessment"])||U.diagnostico||"",conduta:u.conduta||tt(["conduta","plano","plan","plan_terapeutico"])||U.conduta||"",posologia:u.posologia||tt(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||U.posologia||"",pressao:u.pressao||tt(["pressao","sinais_vitais.pressao"])||U.pressao||"","frequencia-cardiaca":u["frequencia-cardiaca"]||tt(["frequencia_cardiaca","sinais_vitais.frequencia_cardiaca"])||U["frequencia-cardiaca"]||"",temperatura:u.temperatura||tt(["temperatura","sinais_vitais.temperatura"])||U.temperatura||"",saturacao:u.saturacao||tt(["saturacao","sinais_vitais.saturacao"])||U.saturacao||""};te=ia,g(It=>({...It,...ia})),p(!0),c({title:"Resumo aplicado",description:"Campos preenchidos com a sugestão da IA. Salvando prontuário..."})}else try{const ke=await Lg.sumarizarTranscricao(w||"",{queixa_principal:U.queixa||u.queixa||"",historia_doenca_atual:U.historia||u.historia||"",diagnostico_principal:U.diagnostico||u.diagnostico||"",conduta:U.conduta||u.conduta||"",medicamentos:U.medicamentos||u.medicamentos||"",posologia:U.posologia||u.posologia||"",alergias:u.alergias||""}),hs=[ke,ke==null?void 0:ke.data,ke==null?void 0:ke.result,ke==null?void 0:ke.output,ke==null?void 0:ke.summary,ke==null?void 0:ke.sumarizacao,ke==null?void 0:ke.resumo,ke==null?void 0:ke.fields].filter(Boolean),Qs=(It,Ss)=>{try{return Ss.split(".").reduce((Ft,ss)=>Ft&&Ft[ss]!==void 0?Ft[ss]:void 0,It)}catch{return}},tt=It=>{for(const Ss of hs)for(const Ft of It){const ss=Qs(Ss,Ft);if(ss!=null){const Vt=String(ss).trim();if(Vt)return Vt}}return""},ia={queixa:u.queixa||tt(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||U.queixa||"",historia:u.historia||tt(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||U.historia||"",medicamentos:u.medicamentos||tt(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||U.medicamentos||"",alergias:u.alergias||tt(["alergias","anamnese.alergias","allergies"])||"",diagnostico:u.diagnostico||tt(["diagnostico_principal","diagnostico","diagnosis","assessment"])||U.diagnostico||"",conduta:u.conduta||tt(["conduta","plano","plan","plan_terapeutico"])||U.conduta||"",posologia:u.posologia||tt(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||U.posologia||""};te=ia,g(It=>({...It,...ia})),p(!0),c({title:"Campos sugeridos",description:"Usamos a transcrição e a IA para preencher. Salvando prontuário..."})}catch{const hs={queixa:u.queixa||U.queixa||"",historia:u.historia||U.historia||"",diagnostico:u.diagnostico||U.diagnostico||"",conduta:u.conduta||U.conduta||"",medicamentos:u.medicamentos||U.medicamentos||"",posologia:u.posologia||U.posologia||""};te=hs,g(Qs=>({...Qs,...hs})),p(!0),c({title:"Campos sugeridos",description:"Usamos a transcrição para preencher. Salvando prontuário..."})}const oe=te?{...u,...te}:u,ge={consulta_id:v,queixa_principal:(oe.queixa||U.queixa||"").trim(),historia_doenca_atual:(oe.historia||U.historia||"").trim(),diagnostico_principal:(oe.diagnostico||U.diagnostico||"").trim(),conduta:(oe.conduta||U.conduta||"").trim()};(oe.medicamentos||U.medicamentos)&&(ge.medicamentos_uso=(oe.medicamentos||U.medicamentos).trim()),oe.alergias&&(ge.alergias=oe.alergias),oe.exames&&(ge.exames_solicitados=oe.exames),oe.retorno&&(ge.data_retorno=oe.retorno);let be=null;if(v)try{const ke=await at.criarProntuario(ge);be=(ke==null?void 0:ke.id)||((Q=ke==null?void 0:ke.data)==null?void 0:Q.id)}catch(ke){console.warn("Falha ao criar prontuário:",ke)}const Ee=new Date,Ae=new Date(Ee.getFullYear(),Ee.getMonth(),Ee.getDate()+7),We=ke=>String(ke).padStart(2,"0"),rt=`${Ae.getFullYear()}-${We(Ae.getMonth()+1)}-${We(Ae.getDate())}`,kt=oe.medicamentos||U.medicamentos||"",jt=oe.posologia||U.posologia||"",Lt=oe.diagnostico||U.diagnostico||"",dt=oe.conduta||U.conduta||"",At=oe.queixa||U.queixa||"",Gt=oe.historia||U.historia||"";if(v&&(kt||jt))try{await at.criarReceita({consulta_id:v,paciente:t,paciente_id:t,medicamentos:kt,posologia:jt,validade:rt,observacoes:"Receita gerada automaticamente a partir do resumo da consulta."})}catch(ke){console.warn("Falha ao criar receita automática:",ke)}try{localStorage.removeItem(L)}catch{}a(`/medico/paciente/${t}/consulta/resumo`,{state:{resumo:{medicamentos:kt,posologia:jt,validade:rt,diagnostico:Lt,conduta:dt,queixa:At,historia:Gt},consultaId:v,prontuarioId:be}})}catch(te){console.error("Erro ao salvar prontuário/consulta:",te);const oe=new Date,ge=new Date(oe.getFullYear(),oe.getMonth(),oe.getDate()+7),be=dt=>String(dt).padStart(2,"0"),Ee=`${ge.getFullYear()}-${be(ge.getMonth()+1)}-${be(ge.getDate())}`,Ae=u.medicamentos||U.medicamentos||"",We=u.posologia||U.posologia||"",rt=u.diagnostico||U.diagnostico||"",kt=u.conduta||U.conduta||"",jt=u.queixa||U.queixa||"",Lt=u.historia||U.historia||"";a(`/medico/paciente/${t}/consulta/resumo`,{state:{resumo:{medicamentos:Ae,posologia:We,validade:Ee,diagnostico:rt,conduta:kt,queixa:jt,historia:Lt},consultaId:v}})}finally{i(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Nova Consulta"}),e.jsxs("p",{className:"text-muted-foreground",children:["Paciente ID: ",t,v?` • Consulta #${v}`:""]})]}),e.jsxs(ne,{children:[e.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0",children:[e.jsxs("div",{children:[e.jsx(xe,{children:"Transcrição de Áudio (tempo real)"}),e.jsx(Xe,{children:"Fale normalmente; o texto aparecerá abaixo e pode ser editado."}),P&&e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Microfone: ",P]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:`flex items-center gap-1 text-sm ${j?"text-green-600":"text-muted-foreground"}`,children:[e.jsx(LS,{className:`h-4 w-4 ${j?"animate-pulse":""}`}),j?"Ouvindo":"Pausado"]}),j?e.jsxs(Z,{type:"button",variant:"outline",size:"sm",onClick:ee,children:[e.jsx(JS,{className:"h-4 w-4 mr-2"})," Pausar"]}):e.jsxs(Z,{type:"button",variant:"default",size:"sm",onClick:Y,children:[e.jsx(QS,{className:"h-4 w-4 mr-2"})," Retomar"]}),e.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:q,children:"Testar microfone"}),e.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>{ee(),setTimeout(()=>Y(),250)},children:"Resetar microfone"})]})]}),e.jsx(ie,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"transcript",children:"Resumo em tempo real"}),e.jsx(pt,{id:"transcript",placeholder:"O que você ditar será transcrito aqui. Você pode editar livremente.",className:"min-h-[160px]",value:w,onChange:V=>y(V.target.value)}),T&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1","aria-live":"polite",children:["Ditando: ",T]})]})})]}),e.jsxs("form",{onSubmit:ae,children:[e.jsxs(Ma,{defaultValue:"anamnese",className:"space-y-4",children:[e.jsxs(Da,{children:[e.jsxs(wt,{value:"anamnese",className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-4 w-4"}),"Anamnese"]}),e.jsxs(wt,{value:"exame-fisico",className:"flex items-center gap-2",children:[e.jsx(pa,{className:"h-4 w-4"}),"Exame Físico"]}),e.jsxs(wt,{value:"diagnostico",className:"flex items-center gap-2",children:[e.jsx(cs,{className:"h-4 w-4"}),"Diagnóstico"]})]}),e.jsx(Tt,{value:"anamnese",children:e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsx(xe,{children:"Anamnese"}),e.jsx(Xe,{children:"Registre a queixa principal e o histórico do paciente"})]}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"queixa",children:"Queixa Principal"}),e.jsx(pt,{id:"queixa",placeholder:"Descreva a queixa principal do paciente",className:"min-h-[100px]",value:u.queixa,onChange:f})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"historia",children:"História da Doença Atual"}),e.jsx(pt,{id:"historia",placeholder:"Descreva a história da doença atual",className:"min-h-[150px]",value:u.historia,onChange:f})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"medicamentos",children:"Medicamentos em Uso"}),e.jsx(pt,{id:"medicamentos",placeholder:"Liste os medicamentos em uso",className:"min-h-[100px]",value:u.medicamentos,onChange:f})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"alergias",children:"Alergias"}),e.jsx(pt,{id:"alergias",placeholder:"Liste as alergias conhecidas",className:"min-h-[100px]",value:u.alergias,onChange:f}),e.jsx("div",{className:"mt-2",children:e.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>K(!0),children:"Adicionar alergia"})})]})]})]})]})}),e.jsx(Tt,{value:"exame-fisico",children:e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsx(xe,{children:"Exame Físico"}),e.jsx(Xe,{children:"Registre os dados do exame físico do paciente"})]}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"pressao",children:"Pressão Arterial"}),e.jsx(fe,{id:"pressao",placeholder:"Ex: 120/80 mmHg",value:u.pressao,onChange:f})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"frequencia-cardiaca",children:"Freq. Cardíaca"}),e.jsx(fe,{id:"frequencia-cardiaca",placeholder:"Ex: 75 bpm",value:u["frequencia-cardiaca"],onChange:f})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"temperatura",children:"Temperatura"}),e.jsx(fe,{id:"temperatura",placeholder:"Ex: 36.5 °C",value:u.temperatura,onChange:f})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"saturacao",children:"Saturação O2"}),e.jsx(fe,{id:"saturacao",placeholder:"Ex: 98%",value:u.saturacao,onChange:f})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"exame-geral",children:"Exame Geral"}),e.jsx(pt,{id:"exame-geral",placeholder:"Descreva o estado geral do paciente",className:"min-h-[100px]",value:u["exame-geral"],onChange:f})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"sistema-cardiovascular",children:"Sistema Cardiovascular"}),e.jsx(pt,{id:"sistema-cardiovascular",placeholder:"Descreva os achados cardiovasculares",className:"min-h-[100px]",value:u["sistema-cardiovascular"],onChange:f})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"sistema-respiratorio",children:"Sistema Respiratório"}),e.jsx(pt,{id:"sistema-respiratorio",placeholder:"Descreva os achados respiratórios",className:"min-h-[100px]",value:u["sistema-respiratorio"],onChange:f})]})]})]})]})}),e.jsx(Tt,{value:"diagnostico",children:e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsx(xe,{children:"Diagnóstico e Conduta"}),e.jsx(Xe,{children:"Registre o diagnóstico e plano terapêutico"})]}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"diagnostico",children:"Diagnóstico"}),e.jsx(pt,{id:"diagnostico",placeholder:"Descreva o diagnóstico principal e diferenciais",className:"min-h-[100px]",value:u.diagnostico,onChange:f})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"conduta",children:"Conduta"}),e.jsx(pt,{id:"conduta",placeholder:"Descreva a conduta terapêutica",className:"min-h-[150px]",value:u.conduta,onChange:f})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"exames",children:"Exames Solicitados"}),e.jsx(pt,{id:"exames",placeholder:"Liste os exames solicitados",className:"min-h-[100px]",value:u.exames,onChange:f})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"retorno",children:"Retorno"}),e.jsx(fe,{id:"retorno",type:"date",className:"max-w-xs",value:u.retorno,onChange:f})]})]})]})})]}),e.jsx("div",{className:"sticky bottom-0 left-0 right-0 z-10 border-t bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsx(Z,{type:"button",variant:"outline",onClick:()=>a(-1),children:"Cancelar"}),e.jsx(Z,{type:"submit",disabled:o,children:o?e.jsx(e.Fragment,{children:"Salvando..."}):e.jsxs(e.Fragment,{children:[e.jsx(L0,{className:"mr-2 h-4 w-4"}),d?"Salvar Prontuário":"Finalizar e Preencher com IA"]})})]})})]}),e.jsx(wo,{open:M,onOpenChange:K,children:e.jsxs(Cn,{children:[e.jsxs(_n,{children:[e.jsx(kn,{children:"Adicionar alergia"}),e.jsx(Fi,{children:"Informe a alergia para adicionar ao prontuário (e ao cadastro do paciente)."})]}),e.jsxs("div",{className:"space-y-2 py-2",children:[e.jsx(me,{htmlFor:"nova-alergia",children:"Alergia"}),e.jsx(fe,{id:"nova-alergia",placeholder:"Ex.: Dipirona",value:$,onChange:V=>z(V.target.value)})]}),e.jsxs(No,{children:[e.jsx(Z,{type:"button",variant:"outline",onClick:()=>{K(!1),z("")},children:"Cancelar"}),e.jsx(Z,{type:"button",onClick:H,children:"Salvar"})]})]})})]})}function xb(){const t=new Date,a=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${t.getFullYear()}-${a}-${r}`}function zP(t){if(!t)return"";const a=String(t).match(/^(\d{4})-(\d{2})-(\d{2})$/);if(a){const[,r,o,i]=a;return`${i}/${o}/${r}`}try{return new Date(t).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return t}}function BP(t){return(t===xb()?at.getConsultasHoje():at.getConsultasDoMedico({date:t})).then(o=>{const c=(d=>Array.isArray(d)?d:!d||typeof d!="object"?[]:Array.isArray(d.results)?d.results:Array.isArray(d.data)?d.data:Array.isArray(d.items)?d.items:Array.isArray(d.consultas)?d.consultas:Array.isArray(d.content)?d.content:Array.isArray(d.objects)?d.objects:[])(o);return Array.isArray(c)?c.map(d=>{var w,y,j,N,P;const p=((w=d==null?void 0:d.paciente)==null?void 0:w.user)||{},u=[p.first_name,p.last_name].filter(Boolean).join(" ")||((y=d==null?void 0:d.paciente)==null?void 0:y.nome)||(d==null?void 0:d.paciente_nome)||(d==null?void 0:d.nome_paciente)||"Paciente";let g="";const f=(d==null?void 0:d.data_hora)||(d==null?void 0:d.horario)||(d==null?void 0:d.inicio)||(d==null?void 0:d.start_time)||(d==null?void 0:d.data)||(d==null?void 0:d.inicio_previsto);if(f)try{const C=new Date(f);if(!isNaN(C.getTime()))g=C.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});else throw new Error("invalid date")}catch{const C=String(f).match(/\b(\d{2}:\d{2})\b/);g=C?C[1]:""}const h=String((d==null?void 0:d.status)||(d==null?void 0:d.situacao)||"").toLowerCase();let v="pendente";return h.includes("andamento")?v="em_andamento":h.includes("finaliz")||h.includes("conclu")||h.includes("cancel")||h.includes("faltou")?v="finalizado":v="pendente",{id:d.id||d.consulta_id||d.uuid,paciente:{id:((j=d==null?void 0:d.paciente)==null?void 0:j.id)||(d==null?void 0:d.paciente_id),nome:u.trim(),avatarUrl:((N=d==null?void 0:d.paciente)==null?void 0:N.avatar_url)||((P=d==null?void 0:d.paciente)==null?void 0:P.foto)||(d==null?void 0:d.paciente_avatar)||null},hora:g,status:v}}):[]})}function UP({status:t}){const a={pendente:"bg-amber-100 text-amber-700",em_andamento:"bg-emerald-100 text-emerald-700",finalizado:"bg-gray-100 text-gray-600"},r={pendente:"Pendente",em_andamento:"Em Andamento",finalizado:"Finalizado"};return e.jsx("span",{className:`rounded-full px-3 py-1 text-sm font-medium ${a[t]}`,children:r[t]})}function VP({url:t,name:a}){return t?e.jsx("img",{src:t,alt:`Avatar de ${a}`,className:"h-14 w-14 rounded-full object-cover"}):e.jsxs("svg",{className:"h-14 w-14 rounded-full bg-gray-100 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":!0,children:[e.jsx("circle",{cx:"12",cy:"8",r:"4"}),e.jsx("path",{d:"M4 20c0-4 4-6 8-6s8 2 8 6"})]})}function HP(){return e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),e.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),e.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"})]})}function qP({onRetry:t}){return e.jsxs("div",{className:"mt-10 rounded-xl border border-red-200 bg-red-50 p-4 text-red-700",children:["Ocorreu um erro ao carregar as consultas.",e.jsx("button",{className:"ml-3 rounded-md bg-red-600 px-3 py-1 text-white",onClick:t,children:"Tentar novamente"})]})}function WP(){return e.jsx("div",{className:"mt-12 rounded-2xl border bg-white p-10 text-center text-gray-500",children:"Nenhuma consulta encontrada para este dia."})}function GP({children:t,...a}){return e.jsx("button",{...a,className:"rounded-lg bg-blue-600 px-4 py-2 text-white shadow-sm transition-colors hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-200",children:t})}function Ig({children:t,...a}){return e.jsx("button",{...a,className:"rounded-lg bg-gray-100 px-4 py-2 text-gray-700 shadow-sm transition-colors hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-200",children:t})}function KP({consulta:t,onIniciar:a}){const r=x.useMemo(()=>{if(!t.hora)return"";try{const[i,c]=String(t.hora).split(":"),d=new Date;return d.setHours(Number(i),Number(c),0,0),d.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}catch{return t.hora}},[t.hora]),o=()=>t.status==="pendente"?e.jsx(GP,{onClick:()=>a(t),"aria-label":`Iniciar consulta de ${t.paciente.nome} às ${t.hora}`,children:"Iniciar Consulta"}):t.status==="em_andamento"?e.jsx(Ig,{disabled:!0,children:"Em Andamento"}):e.jsx(Ig,{disabled:!0,children:"Finalizado"});return e.jsxs("div",{className:"flex items-center justify-between rounded-2xl border bg-white p-5 shadow-md transition-all hover:shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(VP,{url:t.paciente.avatarUrl,name:t.paciente.nome}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.paciente.nome}),e.jsx("div",{className:"mt-1 text-sm text-gray-500",children:r})]})]}),e.jsxs("div",{className:"flex flex-col items-stretch gap-3 md:flex-row md:items-center",children:[e.jsx(UP,{status:t.status}),o()]})]})}function YP(){const t=Ds(),[a,r]=x.useState(xb()),[o,i]=x.useState("todos"),[c,d]=x.useState(!0),[p,u]=x.useState(null),[g,f]=x.useState([]),h=async()=>{d(!0),u(null);try{const j=await BP(a);f(j)}catch(j){u(j)}finally{d(!1)}};x.useEffect(()=>{h()},[a]);const v=async j=>{var N;try{j!=null&&j.id&&await at.iniciarConsulta(j.id)}catch(P){console.error("Falha ao iniciar consulta no backend:",P)}finally{try{const P=j==null?void 0:j.id,C=(N=j==null?void 0:j.paciente)==null?void 0:N.id,_=P?`/medico/paciente/${C}/iniciar-consulta?consultaId=${P}`:`/medico/paciente/${C}/iniciar-consulta`;t(_)}catch{console.log("Iniciar consulta (fallback navegação)",j==null?void 0:j.id)}}},w=zP(a),y=g.filter(j=>o==="todos"?!0:j.status===o);return e.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-blue-50 p-2 text-blue-600",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"h-5 w-5",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),e.jsx("path",{d:"M16 2v4M8 2v4M3 10h18"})]})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Consultas de Hoje"}),e.jsx("span",{className:"text-sm text-gray-500",children:w})]}),e.jsx("div",{className:"mt-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:e.jsxs("div",{className:"flex w-full gap-3 md:w-auto",children:[e.jsxs("div",{className:"relative w-full md:w-60",children:[e.jsxs("select",{value:o,onChange:j=>i(j.target.value),className:"w-full appearance-none rounded-lg border border-gray-300 bg-white px-3 py-2 pr-10 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",children:[e.jsx("option",{value:"todos",children:"Filtrar por status"}),e.jsx("option",{value:"pendente",children:"Pendentes"}),e.jsx("option",{value:"em_andamento",children:"Em Andamento"}),e.jsx("option",{value:"finalizado",children:"Finalizadas"})]}),e.jsx("svg",{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.085l3.71-3.855a.75.75 0 111.08 1.04l-4.25 4.417a.75.75 0 01-1.08 0L5.21 8.27a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),e.jsx("input",{type:"date",value:a,onChange:j=>r(j.target.value),className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 md:w-auto"})]})}),c&&e.jsx(HP,{}),!c&&p&&e.jsx(qP,{onRetry:h}),!c&&!p&&y.length===0&&e.jsx(WP,{}),!c&&!p&&y.length>0&&e.jsx("div",{className:"mt-6 space-y-4",children:y.map(j=>e.jsx(KP,{consulta:j,onIniciar:v},j.id))})]})}function JP(){var Ge,Dt,ja;const[t,a]=x.useState(!1),[r,o]=x.useState(null),[i,c]=x.useState(""),[d,p]=x.useState(null),[u,g]=x.useState(""),{id:f}=wn(),h=fs(),{toast:v}=ts(),[w,y]=x.useState(""),[j,N]=x.useState(null),P=async ze=>{const Ue=await ze.arrayBuffer(),qe=await crypto.subtle.digest("SHA-256",Ue);return Array.from(new Uint8Array(qe)).map(Te=>Te.toString(16).padStart(2,"0")).join("")};x.useEffect(()=>{let ze=!0;async function Ue(){try{if(!t||!j){y("");return}const qe=j,Te="http://127.0.0.1:8000".replace(/\/$/,""),pe=`/receitas/validar/${qe}/`,{toDataURL:ut}=await vi(async()=>{const{toDataURL:rs}=await import("./browser-BjcGmAWY.js").then(vt=>vt.b);return{toDataURL:rs}},[]),as=await ut(`${Te}${pe}`,{width:196,margin:0});ze&&y(as)}catch(qe){try{console.warn("[PreviewReceita] Falha ao gerar QR:",qe)}catch{}ze&&y("")}}return Ue(),()=>{ze=!1}},[t,j,f]);const C=((Ge=h.state)==null?void 0:Ge.fromConsulta)||{},_=((Dt=h.state)==null?void 0:Dt.consultaId)||C.consultaId,E=ze=>{if(!ze)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(ze))return ze;const Ue=new Date(ze);if(!isNaN(Ue)){const Te=Ue.getFullYear(),pe=String(Ue.getMonth()+1).padStart(2,"0"),ut=String(Ue.getDate()).padStart(2,"0");return`${Te}-${pe}-${ut}`}const qe=String(ze).match(/^(\d{2})\/(\d{2})\/(\d{4})$/);return qe?`${qe[3]}-${qe[2]}-${qe[1]}`:""},k=ze=>{if(!ze)return"";const Ue=new Date(ze);if(isNaN(Ue))return"";const qe=new Date;let Te=qe.getFullYear()-Ue.getFullYear();const pe=qe.getMonth()-Ue.getMonth(),ut=qe.getDate()-Ue.getDate();(pe<0||pe===0&&ut<0)&&Te--;let as=new Date(qe.getFullYear(),Ue.getMonth(),Ue.getDate());as>qe&&(as=new Date(qe.getFullYear()-1,Ue.getMonth(),Ue.getDate()));const rs=1440*60*1e3,vt=Math.floor((qe-as)/rs);return`${Te} anos e ${vt} dias`},A=x.useMemo(()=>new Date().toLocaleDateString(),[]),T=ze=>{for(const Ue of ze){if(Ue==null)continue;const qe=typeof Ue=="string"?Ue.trim():Ue;if(qe)return typeof qe=="string"?qe:String(qe)}return""},[R,I]=x.useState({nome_paciente:"",idade:"",rg:"",data_nascimento:"",medicamento:C.medicamentos||"",posologia:C.posologia||"",validade_receita:C.validade||"",medico:"",crm:"",endereco_consultorio:"",telefone_consultorio:"",observacoes:"",formato:"pdf",acao:"imprimir",email_paciente:"",email_medico:""}),[L,B]=x.useState(!1),[G,F]=x.useState(!0),[M,K]=x.useState(!1),[$,z]=x.useState(!1),[q,Y]=x.useState("token"),[ee,D]=x.useState(""),[H,ae]=x.useState(""),[V,U]=x.useState(""),[Q,te]=x.useState(""),[oe,ge]=x.useState(""),{ephemeralCertFile:be,setEphemeralCertFile:Ee,ephemeralCertPassword:Ae,setEphemeralCertPassword:We}=Ga(),[rt,kt]=x.useState(be||null),[jt,Lt]=x.useState(Ae||"");x.useEffect(()=>{Ee(rt)},[rt,Ee]),x.useEffect(()=>{We(jt)},[jt,We]);const[dt,At]=x.useState(null),[Gt,ke]=x.useState(null),[hs,Qs]=x.useState({ok:!0,errors:[],expected:{medicoId:null,pacienteId:f,consultaId:_}});x.useEffect(()=>{let ze=!0;async function Ue(){var qe,Te,pe,ut,as,rs,vt,ot,Xt,Cs,zs,Oa,Ui,Vi,Hi,$a,So,Co,qi,_o,ko,Eo,Ro,Wi;F(!0);try{try{const _e=await at.getPerfil(),de=(_e==null?void 0:_e.user)||(_e==null?void 0:_e.usuario)||{},Kt=T([`${(de==null?void 0:de.first_name)||""} ${(de==null?void 0:de.last_name)||""}`.trim(),_e==null?void 0:_e.nome,_e==null?void 0:_e.nome_completo,_e==null?void 0:_e.full_name,_e==null?void 0:_e.name]),De=T([_e==null?void 0:_e.crm,_e==null?void 0:_e.matricula,_e==null?void 0:_e.registro,_e==null?void 0:_e.crm_numero,de==null?void 0:de.crm]),_s=T([_e==null?void 0:_e.endereco_consultorio,_e==null?void 0:_e.consultorio_endereco,_e==null?void 0:_e.endereco,de==null?void 0:de.endereco,(qe=_e==null?void 0:_e.clinica)==null?void 0:qe.endereco]),zt=T([_e==null?void 0:_e.telefone_consultorio,_e==null?void 0:_e.consultorio_telefone,_e==null?void 0:_e.telefone,de==null?void 0:de.telefone,de==null?void 0:de.phone,(Te=_e==null?void 0:_e.clinica)==null?void 0:Te.telefone,_e==null?void 0:_e.celular]),vs=T([de==null?void 0:de.email_institucional,de==null?void 0:de.email,_e==null?void 0:_e.email_institucional,_e==null?void 0:_e.email,_e==null?void 0:_e.contato_email]),Nt=((pe=_e==null?void 0:_e.medico)==null?void 0:pe.id)||(_e==null?void 0:_e.id)||null;ze&&_e&&(I(ds=>({...ds,medico:Kt||ds.medico,crm:De||ds.crm,endereco_consultorio:_s||ds.endereco_consultorio||"",telefone_consultorio:zt||ds.telefone_consultorio||"",email_medico:vs||ds.email_medico||""})),Qs(ds=>({...ds,expected:{...ds.expected,medicoId:Nt}})))}catch{}try{const _e="/pacientes/".replace(/\/?$/,"/");let de=null,Kt=null;try{const{data:De}=await ue.get(`${_e}${f}/`);de=De}catch{}if(!de){const De=[{id:f},{paciente_id:f},{user:f},{usuario:f},{user__id:f},{usuario_id:f}];for(const _s of De)try{const{data:zt}=await ue.get(_e,{params:_s}),vs=Array.isArray(zt==null?void 0:zt.results)?zt.results:Array.isArray(zt)?zt:[];if(vs!=null&&vs.length){de=vs[0];break}if(zt!=null&&zt.id){de=zt;break}}catch{}}if(!de&&_)try{const{data:De}=await ue.get(`/consultas/${_}/`);Kt=De;const _s=(De==null?void 0:De.paciente)||(De!=null&&De.paciente_id?{id:De.paciente_id}:null);_s&&(de=_s)}catch{}if(!de&&(C!=null&&C.paciente)&&(de=C.paciente),ze&&de){const De=(de==null?void 0:de.user)||(de==null?void 0:de.usuario)||{},_s=T([De==null?void 0:De.display_name,`${(De==null?void 0:De.first_name)||""} ${(De==null?void 0:De.last_name)||""}`.trim(),De==null?void 0:De.nome,De==null?void 0:De.nome_completo,de==null?void 0:de.nome,de==null?void 0:de.nome_completo,de==null?void 0:de.name]),zt=E((De==null?void 0:De.data_nascimento)||(De==null?void 0:De.nascimento)||(De==null?void 0:De.dob)||(de==null?void 0:de.data_nascimento)||(de==null?void 0:de.nascimento)||(de==null?void 0:de.dob)||"");let vs=T([De==null?void 0:De.cpf,(ut=De==null?void 0:De.profile)==null?void 0:ut.cpf,(as=De==null?void 0:De.meu_app_user)==null?void 0:as.cpf,(rs=De==null?void 0:De.dados)==null?void 0:rs.cpf,de==null?void 0:de.cpf,(vt=de==null?void 0:de.profile)==null?void 0:vt.cpf,(ot=de==null?void 0:de.meu_app_user)==null?void 0:ot.cpf,(Xt=de==null?void 0:de.dados)==null?void 0:Xt.cpf,(Cs=de==null?void 0:de.usuario)==null?void 0:Cs.cpf,(Oa=(zs=de==null?void 0:de.usuario)==null?void 0:zs.profile)==null?void 0:Oa.cpf,(Vi=(Ui=de==null?void 0:de.usuario)==null?void 0:Ui.meu_app_user)==null?void 0:Vi.cpf,(Hi=C==null?void 0:C.paciente)==null?void 0:Hi.cpf,C==null?void 0:C.cpf,de==null?void 0:de.documento,de==null?void 0:de.doc,de==null?void 0:de.rg]);if(!vs)try{let Ot=null;const Rn=De&&typeof De=="object"&&Object.keys(De).length>0;if(typeof De=="number"||typeof De=="string"?Ot=De:Rn&&(Ot=De.id||De.pk||De.user||De.usuario||null),Ot||(Ot=(($a=de==null?void 0:de.usuario)==null?void 0:$a.id)||((So=de==null?void 0:de.user)==null?void 0:So.id)||(de==null?void 0:de.usuario_id)||(de==null?void 0:de.user_id)||(typeof(de==null?void 0:de.usuario)=="number"||typeof(de==null?void 0:de.usuario)=="string"?de.usuario:null)||(typeof(de==null?void 0:de.user)=="number"||typeof(de==null?void 0:de.user)=="string"?de.user:null)),Ot){const Xs="/users/".replace(/\/?$/,"/"),{data:Bs}=await ue.get(`${Xs}${Ot}/`);vs=T([Bs==null?void 0:Bs.cpf,(Co=Bs==null?void 0:Bs.profile)==null?void 0:Co.cpf,(qi=Bs==null?void 0:Bs.meu_app_user)==null?void 0:qi.cpf,(_o=Bs==null?void 0:Bs.dados)==null?void 0:_o.cpf])||vs}}catch{}const Nt=(De==null?void 0:De.email)||(de==null?void 0:de.email)||"",ds=zt?k(zt):"";I(Ot=>({...Ot,nome_paciente:_s||Ot.nome_paciente,data_nascimento:zt||Ot.data_nascimento,rg:Ot.rg||vs,idade:Ot.idade||ds,email_paciente:Ot.email_paciente||Nt}))}try{const De=Nt=>Nt==null?null:String(Nt),_s=[];let zt=null,vs=null;if(Kt)zt=((ko=Kt==null?void 0:Kt.medico)==null?void 0:ko.id)||(Kt==null?void 0:Kt.medico)||(Kt==null?void 0:Kt.medico_id)||null,vs=((Eo=Kt==null?void 0:Kt.paciente)==null?void 0:Eo.id)||(Kt==null?void 0:Kt.paciente)||(Kt==null?void 0:Kt.paciente_id)||null;else if(_)try{const{data:Nt}=await ue.get(`/consultas/${_}/`);zt=((Ro=Nt==null?void 0:Nt.medico)==null?void 0:Ro.id)||(Nt==null?void 0:Nt.medico)||(Nt==null?void 0:Nt.medico_id)||null,vs=((Wi=Nt==null?void 0:Nt.paciente)==null?void 0:Wi.id)||(Nt==null?void 0:Nt.paciente)||(Nt==null?void 0:Nt.paciente_id)||null}catch{}vs&&String(vs)!==String(f)&&_s.push("Paciente da consulta não corresponde ao paciente exibido."),Qs(Nt=>{var Ot,Rn;const ds=(Ot=Nt.expected)==null?void 0:Ot.medicoId;return ds&&zt&&De(ds)!==De(zt)&&_s.push("Médico da consulta não corresponde ao médico logado."),{ok:_s.length===0,errors:_s,expected:{...Nt.expected,pacienteId:f,consultaId:_,medicoId:ds||((Rn=Nt.expected)==null?void 0:Rn.medicoId)||null}}})}catch{}}catch{}}finally{ze&&F(!1)}}return Ue(),()=>{ze=!1}},[f,_]);const tt=ze=>{const{name:Ue,value:qe}=ze.target;I(Te=>({...Te,[Ue]:qe})),t&&(a(!1),o(null),c(""),ke(null),j&&at.atualizarReceita(j,{assinada:!1}).catch(()=>{}),v({title:"Assinatura invalidada",description:"A receita foi alterada. Assine novamente para validade jurídica."}))},ia=()=>{B(!0),v({title:"Receita validada",description:"Os dados foram conferidos. Você pode gerar o documento."})},It=(ze,Ue="Receita_Medica")=>{const qe=URL.createObjectURL(ze),Te=document.createElement("a");Te.href=qe;const pe=/\.[a-z0-9]+$/i.test(Ue);Te.download=pe?Ue:`${Ue}.pdf`,document.body.appendChild(Te),Te.click(),Te.remove(),setTimeout(()=>URL.revokeObjectURL(qe),2e3)},Ss=()=>{var ze;return hs!=null&&hs.ok||v({title:"Vínculo inválido",description:((ze=hs.errors)==null?void 0:ze.join(` 
`))||"Verifique dados da consulta, médico e paciente.",variant:"destructive"}),!0},Ft=async()=>{var ze;try{if(j)return j;const Ue=await at.getPerfil().catch(()=>null),qe=((ze=Ue==null?void 0:Ue.medico)==null?void 0:ze.id)||(Ue==null?void 0:Ue.id)||null,Te={paciente_id:f,consulta_id:_||void 0,medico_id:qe||void 0,nome_paciente:R.nome_paciente,cpf:R.rg,data_nascimento:E(R.data_nascimento),medicamento:R.medicamento,posologia:R.posologia,validade:E(R.validade_receita),observacoes:R.observacoes,medico:R.medico,crm:R.crm,endereco_consultorio:R.endereco_consultorio,telefone_consultorio:R.telefone_consultorio,email_paciente:R.email_paciente||void 0},pe=await at.criarReceita(Te),ut=(pe==null?void 0:pe.id)||(pe==null?void 0:pe.receita_id)||(pe==null?void 0:pe.uuid);return ut&&N(ut),ut||null}catch{return j||null}},ss=async()=>{var ze,Ue,qe;if(Ss()){K(!0);try{const Te={nome_paciente:R.nome_paciente,idade:R.idade,rg:R.rg,cpf:R.rg,data_nascimento:E(R.data_nascimento),medicamento:R.medicamento,medicamentos:R.medicamento,posologia:R.posologia,medico:R.medico,crm:R.crm,endereco_consultorio:R.endereco_consultorio,telefone_consultorio:R.telefone_consultorio,validade_receita:E(R.validade_receita),observacoes:R.observacoes},pe=await at.gerarDocumentoReceita(Te),ut=pe==null?void 0:pe.blob,as=(pe==null?void 0:pe.filename)||`Receita_${R.nome_paciente||"Medica"}.pdf`;if(!(ut instanceof Blob))throw new Error("Resposta inválida do servidor ao gerar PDF.");const rs=await Ft();let vt=ut,ot=as,Xt=!1;if(String(R.formato).toLowerCase()==="pdf"&&(Xt=!1),p(vt),g(ot),Xt){a(!0),o(vt),c(ot);try{const Cs=await P(ut),zs=await P(vt);rs&&(await at.atualizarReceita(rs,{assinada:!0,hash_alg:"SHA-256",hash_pre:Cs,hash_signed:zs}),await at.registrarAuditoriaAssinatura({receita_id:rs,valido:!0,hash_alg:"SHA-256",hash_pre:Cs,hash_signed:zs,motivo:"Receita Médica",arquivo:ot}))}catch{}}else a(!1),o(null),c("");if(R.acao==="imprimir")try{const Cs=URL.createObjectURL(vt);if(!window.open(Cs))throw new Error("Popup bloqueado pelo navegador");setTimeout(()=>URL.revokeObjectURL(Cs),2e3)}catch{It(vt,ot)}else It(vt,ot);v({title:"Documento gerado",description:vt===ut?"Gerado sem assinatura.":"Gerado e assinado com sucesso."})}catch(Te){const pe=(ze=Te==null?void 0:Te.response)==null?void 0:ze.status,ut=((qe=(Ue=Te==null?void 0:Te.response)==null?void 0:Ue.data)==null?void 0:qe.detail)||(Te==null?void 0:Te.message)||"Falha ao gerar documento";v({title:"Erro",description:`${ut}${pe?` [HTTP ${pe}]`:""}`,variant:"destructive"})}finally{K(!1)}}},Vt=()=>{z(!0)},[va,gr]=x.useState(!1),[En,sr]=x.useState(!1),[Bi,Pe]=x.useState([]),[Ce,Ie]=x.useState(null);x.useEffect(()=>{if(!$)return;let ze=!1;async function Ue(){try{sr(!0);const qe=await localAgent.detectTokens(),Te=Array.isArray(qe==null?void 0:qe.tokens)?qe.tokens:Array.isArray(qe)?qe:[];!ze&&Te.length>0?(gr(!0),Pe(Te),Ie(Te[0]),Y("token")):ze||(gr(!1),Y("pfx"))}catch{ze||(gr(!1),Y("pfx"))}finally{ze||sr(!1)}}return Ue(),()=>{ze=!0}},[$]);async function gt(){var ze,Ue,qe;try{if(d||await ss(),!d){v({title:"Falha",description:"Gere o documento antes de assinar.",variant:"destructive"});return}const Te=await Ft(),pe=new File([d],u||`Receita_${R.nome_paciente||"Medica"}.pdf`,{type:"application/pdf"});if(K(!0),q==="token"&&va)try{const vt=await P(d),ot=await localAgent.signHash({document_hash:`sha256:${vt}`,format:"PAdES",prefer_certificate:Ce||null,pin:ee||void 0});if((ot==null?void 0:ot.status)!=="success"){const Oa=(ot==null?void 0:ot.message)||"Falha ao assinar via token local";throw new Error(Oa)}const Xt=await localAgent.finalizeWithBackend({receitaId:Te||void 0,pdfFile:pe,assinatura:ot.assinatura,certificado:ot.certificado,thumbprint:ot.thumbprint,cert_subject:ot.cert_subject,timestamp:ot.timestamp,hash_pre:vt}),Cs=(Xt==null?void 0:Xt.filename)||u||pe.name,zs=(Xt==null?void 0:Xt.blob)||null;if(zs instanceof Blob){a(!0),o(zs),c(Cs),ke(new Date().toISOString());try{const Oa=await at.getCertificadoInfo();At(Oa||{subject:ot==null?void 0:ot.cert_subject})}catch{}v({title:"Documento assinado",description:"Assinatura digital aplicada com sucesso."}),z(!1);return}}catch(vt){const ot=(vt==null?void 0:vt.message)||"Erro ao assinar com token";v({title:"Erro na assinatura",description:ot,variant:"destructive"})}const ut={motivo:"Receita Médica",local:R.endereco_consultorio||"Consultório",receitaId:Te||void 0};q==="token"?(ut.useToken=!0,ut.pin=ee||void 0):(ut.pfxFile=rt||void 0,ut.pfxPassword=jt||"");const{filename:as,blob:rs}=await at.signDocumento(pe,ut);a(!0),o(rs),c(as||u||pe.name),ke(new Date().toISOString());try{const vt=await at.getCertificadoInfo();At(vt||null)}catch{}try{const vt=await P(d),ot=await P(rs);Te&&(await at.atualizarReceita(Te,{assinada:!0,hash_alg:"SHA-256",hash_pre:vt,hash_signed:ot,motivo:"Receita Médica"}),await at.registrarAuditoriaAssinatura({receita_id:Te,valido:!0,hash_alg:"SHA-256",hash_pre:vt,hash_signed:ot,motivo:"Receita Médica",arquivo:as}))}catch{}v({title:"Documento assinado",description:"Assinatura digital aplicada com sucesso."}),z(!1)}catch(Te){const pe=(ze=Te==null?void 0:Te.response)==null?void 0:ze.status,ut=((qe=(Ue=Te==null?void 0:Te.response)==null?void 0:Ue.data)==null?void 0:qe.detail)||(Te==null?void 0:Te.message)||"Falha ao assinar o documento";console.warn("[PreviewReceita] Erro assinatura:",pe,ut),v({title:"Erro na assinatura",description:`${ut}${pe?` [HTTP ${pe}]`:""}`,variant:"destructive"})}finally{K(!1)}}async function $e(){var ze,Ue,qe;if(Ss()){if(!t||!(r instanceof Blob)){v({title:"Assinatura obrigatória",description:"A receita precisa ser assinada antes do envio ao paciente.",variant:"destructive"});return}K(!0);try{const Te=await Ft(),pe=r,ut=i||u||`Receita_${R.nome_paciente||"Medica"}_assinada.pdf`;await at.enviarReceita({receitaId:Te||void 0,pacienteId:f,email:R.email_paciente||void 0,formato:"pdf",file:pe,filename:ut}),v({title:"Receita enviada",description:"A receita assinada foi enviada ao paciente com sucesso."}),navigate(`/medico/paciente/${f}/receita/confirmacao`,{state:{receitaId:Te||null,email:R.email_paciente||null,filename:ut}})}catch(Te){const pe=(ze=Te==null?void 0:Te.response)==null?void 0:ze.status,ut=((qe=(Ue=Te==null?void 0:Te.response)==null?void 0:Ue.data)==null?void 0:qe.detail)||(Te==null?void 0:Te.message)||"Falha ao enviar a receita assinada";v({title:"Erro ao enviar",description:`${ut}${pe?` [HTTP ${pe}]`:""}`,variant:"destructive"})}finally{K(!1)}}}return G?e.jsx("div",{children:"Carregando preview..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(cs,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Preview da Receita"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(ne,{children:[e.jsx(he,{children:e.jsx(xe,{children:"Dados da Receita"})}),e.jsxs(ie,{className:"space-y-4",children:[hs.ok?null:e.jsxs("div",{className:"rounded-md border border-red-200 bg-red-50 text-red-700 p-3 text-sm",children:[e.jsx("div",{className:"font-medium mb-1",children:"Inconsistências de vínculo detectadas"}),e.jsx("ul",{className:"list-disc pl-5 space-y-1",children:(ja=hs.errors)==null?void 0:ja.map((ze,Ue)=>e.jsx("li",{children:ze},Ue))})]}),e.jsxs("div",{children:[e.jsx(me,{children:"Nome do Paciente"}),e.jsx(fe,{name:"nome_paciente",value:R.nome_paciente,onChange:tt,placeholder:"João da Silva"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(me,{children:"Idade"}),e.jsx(fe,{name:"idade",value:R.idade,onChange:tt,placeholder:"45"})]}),e.jsxs("div",{children:[e.jsx(me,{children:"CPF"}),e.jsx(fe,{name:"rg",value:R.rg,onChange:tt,placeholder:"000.000.000-00"})]}),e.jsxs("div",{children:[e.jsx(me,{children:"Data de Nascimento"}),e.jsx(fe,{type:"date",name:"data_nascimento",value:E(R.data_nascimento),onChange:tt})]})]}),e.jsxs("div",{children:[e.jsx(me,{children:"Medicamentos"}),e.jsx(pt,{name:"medicamento",rows:3,value:R.medicamento,onChange:tt,placeholder:"Nome do medicamento, dose, apresentação..."})]}),e.jsxs("div",{children:[e.jsx(me,{children:"Posologia"}),e.jsx(pt,{name:"posologia",rows:3,value:R.posologia,onChange:tt,placeholder:"Ex: 1 comprimido de 12/12h por 7 dias"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(me,{children:"Validade da Receita"}),e.jsx(fe,{type:"date",name:"validade_receita",value:E(R.validade_receita),onChange:tt})]}),e.jsxs("div",{children:[e.jsx(me,{children:"Formato"}),e.jsxs("select",{className:"border rounded h-10 px-3 bg-background",name:"formato",value:R.formato,onChange:tt,children:[e.jsx("option",{value:"pdf",children:"PDF"}),e.jsx("option",{value:"docx",children:"DOCX"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(me,{children:"Ação"}),e.jsxs("select",{className:"border rounded h-10 px-3 bg-background",name:"acao",value:R.acao,onChange:tt,children:[e.jsx("option",{value:"imprimir",children:"Imprimir"}),e.jsx("option",{value:"baixar",children:"Baixar arquivo"})]})]}),e.jsxs("div",{children:[e.jsx(me,{children:"E-mail do Paciente (opcional)"}),e.jsx(fe,{name:"email_paciente",value:R.email_paciente,onChange:tt,placeholder:"paciente@exemplo.com"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(me,{children:"Médico"}),e.jsx(fe,{name:"medico",value:R.medico,onChange:tt,placeholder:"Dr. Carlos Souza"})]}),e.jsxs("div",{children:[e.jsx(me,{children:"CRM"}),e.jsx(fe,{name:"crm",value:R.crm,onChange:tt,placeholder:"12345-SP"})]})]}),e.jsxs("div",{children:[e.jsx(me,{children:"E-mail institucional (médico)"}),e.jsx(fe,{name:"email_medico",value:R.email_medico,onChange:tt,placeholder:"dr.carlos@hospital.com"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(me,{children:"Endereço do Consultório"}),e.jsx(fe,{name:"endereco_consultorio",value:R.endereco_consultorio,onChange:tt,placeholder:""})]}),e.jsxs("div",{children:[e.jsx(me,{children:"Telefone"}),e.jsx(fe,{name:"telefone_consultorio",value:R.telefone_consultorio,onChange:tt,placeholder:""})]})]}),e.jsxs("div",{children:[e.jsx(me,{children:"Observações (opcional)"}),e.jsx(pt,{name:"observacoes",rows:2,value:R.observacoes,onChange:tt,placeholder:"Orientações adicionais ao paciente"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(Z,{type:"button",variant:"secondary",onClick:()=>z(!0),children:"Configurar método de assinatura"}),e.jsx("span",{className:"text-xs text-muted-foreground self-center",children:"Escolha PFX ou Token no modal antes de assinar."})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(Z,{type:"button",onClick:ia,variant:L?"secondary":"default",children:[e.jsx(ur,{className:"h-4 w-4 mr-2"})," ",L?"Validado":"Validar receita"]}),e.jsxs(Z,{type:"button",onClick:ss,disabled:M,children:[e.jsx(tC,{className:"h-4 w-4 mr-2"})," ",M?R.acao==="imprimir"?"Imprimindo...":"Gerando...":R.acao==="imprimir"?"Imprimir":"Baixar"]}),e.jsx(Z,{type:"button",variant:"default",onClick:Vt,disabled:M,children:"Assinar Receita"}),e.jsxs(Z,{type:"button",variant:"secondary",onClick:$e,disabled:M||!t,children:[e.jsx(fr,{className:"h-4 w-4 mr-2"})," Enviar ao paciente"]})]})]})]}),e.jsxs(ne,{className:"bg-white",children:[e.jsx(he,{children:e.jsx(xe,{children:"Pré-visualização"})}),e.jsx(ie,{children:e.jsxs("div",{className:"mx-auto bg-white shadow-md border rounded-md p-6 max-w-[800px] aspect-[1/1.414] overflow-auto",children:[e.jsxs("div",{className:"text-center border-b pb-3",children:[e.jsx("div",{className:"font-bold text-lg",children:"Consultório Médico"}),e.jsx("div",{className:"font-semibold",children:R.medico}),R.crm&&e.jsxs("div",{children:["CRM: ",R.crm]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:R.endereco_consultorio}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Telefone: ",R.telefone_consultorio]}),R.email_medico?e.jsxs("div",{className:"text-sm text-muted-foreground",children:["E-mail: ",R.email_medico]}):null]}),e.jsxs("div",{className:"text-center my-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Nome do Paciente: "}),R.nome_paciente]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Idade: "}),R.idade]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"CPF: "}),R.rg]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Data de Nascimento: "}),R.data_nascimento]})]}),e.jsx("div",{className:"text-center text-xl font-semibold my-4",children:"Prescrição Médica"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"whitespace-pre-wrap font-semibold",children:R.medicamento}),R.posologia?e.jsx("div",{className:"mt-2 whitespace-pre-wrap",children:R.posologia}):null]}),e.jsxs("div",{className:"text-center my-6",children:[e.jsxs("div",{children:["Data de Emissão: ",A]}),e.jsxs("div",{children:["Validade da Receita: ",R.validade_receita||""]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-start mt-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-64 border-t pt-1",children:" "}),R.medico&&e.jsxs("div",{children:["Dr(a). ",R.medico,R.crm?` • CRM ${R.crm}`:""]}),t?e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Assinado digitalmente",dt!=null&&dt.subject_name||dt!=null&&dt.nome||dt!=null&&dt.subject?e.jsxs(e.Fragment,{children:[" — Titular: ",(dt==null?void 0:dt.subject_name)||(dt==null?void 0:dt.nome)||(dt==null?void 0:dt.subject)]}):null,(dt!=null&&dt.algorithm,e.jsxs(e.Fragment,{children:[" • Algoritmo: ",(dt==null?void 0:dt.algorithm)||"SHA256-RSA"]})),Gt?e.jsxs(e.Fragment,{children:[" • Data: ",new Date(Gt).toLocaleString()]}):null]}):e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Documento gerado. Assine para exibir o selo de assinatura digital."})]}),e.jsx("div",{className:"flex justify-center",children:t&&w?e.jsx("img",{src:w,alt:"QR Code de verificação",className:"w-24 h-24 border rounded"}):null})]})]})})]})]}),e.jsx(wo,{open:$,onOpenChange:z,children:e.jsxs(Cn,{className:"sm:max-w-[640px] space-y-6",children:[e.jsxs(_n,{children:[e.jsx(kn,{children:"Assinar receita"}),e.jsx(Fi,{children:"Escolha Token (PIN) ou PFX para assinar."})]}),e.jsx(Ls,{}),e.jsxs(Ma,{value:q,onValueChange:Y,className:"w-full",children:[e.jsxs(Da,{className:"grid grid-cols-2 w-full",children:[e.jsx(wt,{value:"token",children:"Token"}),e.jsx(wt,{value:"pfx",children:"PFX (alternativa)"})]}),e.jsx(Tt,{value:"token",children:e.jsxs("div",{className:"space-y-5 rounded-md border p-4 bg-muted/40",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"PIN do Token"}),e.jsx(fe,{type:"password",value:ee,onChange:ze=>D(ze.target.value),placeholder:"PIN"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Conecte seu token e insira o PIN para assinar."})]})}),e.jsx(Tt,{value:"pfx",children:e.jsxs("div",{className:"space-y-5 rounded-md border p-4 bg-muted/40",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(me,{children:"Arquivo PFX"})}),e.jsx(fe,{type:"file",accept:".pfx,.p12",onChange:ze=>{var Ue;return kt(((Ue=ze.target.files)==null?void 0:Ue[0])||null)}}),rt&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selecionado: ",rt.name," (",Math.ceil(rt.size/1024)," KB)"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(me,{children:"Senha do PFX"})}),e.jsx(fe,{type:"password",value:jt,onChange:ze=>Lt(ze.target.value),placeholder:"Informe a senha"}),(!jt||!jt.trim())&&e.jsx("p",{className:"text-xs text-red-600",children:"Senha obrigatória para assinatura."})]})]})})]}),e.jsxs(No,{children:[e.jsx(Z,{type:"button",variant:"secondary",onClick:()=>z(!1),children:"Cancelar"}),e.jsx(Z,{type:"button",onClick:gt,children:"Assinar"})]})]})})]})}function QP(){const{id:t}=wn(),a=Ds(),{state:r}=fs(),o=(r==null?void 0:r.receitaId)||null,i=(r==null?void 0:r.email)||null,c=(r==null?void 0:r.filename)||null;return e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:e.jsxs(ne,{children:[e.jsx(he,{children:e.jsx(xe,{children:"Receita enviada com sucesso"})}),e.jsxs(ie,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[e.jsx(ur,{className:"h-5 w-5"}),e.jsx("span",{children:"O paciente recebeu a receita assinada."})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[i?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fr,{className:"h-4 w-4"}),e.jsxs("span",{children:["Enviado para: ",i]})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fr,{className:"h-4 w-4"}),e.jsx("span",{children:"E-mail do paciente não informado."})]}),c?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(cs,{className:"h-4 w-4"}),e.jsxs("span",{children:["Arquivo: ",c]})]}):null,o?e.jsxs("div",{className:"mt-2 text-xs",children:["ID da Receita: ",o]}):null]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(Z,{onClick:()=>a(`/medico/paciente/${t}/receita/preview`),variant:"secondary",children:"Voltar à receita"}),e.jsx(Z,{onClick:()=>a("/medico/meus-pacientes"),children:"Ir para Meus Pacientes"})]})]})]})})})}function XP(){var h,v,w;const{id:t}=wn(),a=fs(),r=Ds();ts();const o=((h=a.state)==null?void 0:h.resumo)||{},i=(v=a.state)==null?void 0:v.consultaId,c=(w=a.state)==null?void 0:w.prontuarioId,[d,p]=x.useState({queixa:o.queixa||"",historia:o.historia||"",diagnostico:o.diagnostico||"",conduta:o.conduta||"",medicamentos:o.medicamentos||"",posologia:o.posologia||"",validade:o.validade||""}),u=y=>{const{name:j,value:N}=y.target;p(P=>({...P,[j]:N}))},g=async()=>{var y;try{if(c)try{await((y=at.atualizarProntuario)==null?void 0:y.call(at,c,{queixa_principal:d.queixa,historia_doenca_atual:d.historia,diagnostico_principal:d.diagnostico,conduta:d.conduta,medicamentos_uso:d.medicamentos}))}catch{}}finally{r(`/medico/paciente/${t}/receita/preview`,{state:{fromConsulta:{medicamentos:d.medicamentos,posologia:d.posologia,validade:d.validade},consultaId:i}})}},f=x.useMemo(()=>new Date().toLocaleDateString(),[]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(GS,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Resumo da Consulta"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(ne,{children:[e.jsx(he,{children:e.jsx(xe,{children:"Informações Principais"})}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Queixa Principal"}),e.jsx(pt,{name:"queixa",rows:3,value:d.queixa,onChange:u})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"História da Doença Atual"}),e.jsx(pt,{name:"historia",rows:4,value:d.historia,onChange:u})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Diagnóstico"}),e.jsx(pt,{name:"diagnostico",rows:3,value:d.diagnostico,onChange:u})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Conduta"}),e.jsx(pt,{name:"conduta",rows:3,value:d.conduta,onChange:u})]})]})]}),e.jsxs(ne,{children:[e.jsx(he,{children:e.jsx(xe,{children:"Prescrição"})}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Medicamentos"}),e.jsx(pt,{name:"medicamentos",rows:4,value:d.medicamentos,onChange:u})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Posologia"}),e.jsx(pt,{name:"posologia",rows:3,value:d.posologia,onChange:u})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Validade da Receita"}),e.jsx("input",{type:"date",name:"validade",className:"border rounded h-10 px-3 bg-background",value:d.validade,onChange:u})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Z,{onClick:g,children:[e.jsx(US,{className:"h-4 w-4 mr-2"})," Gerar Receita"]}),e.jsx(Z,{variant:"outline",onClick:()=>r(-1),children:"Voltar"})]})]})]})]}),e.jsxs(ne,{children:[e.jsx(he,{children:e.jsx(xe,{children:"Resumo Visual"})}),e.jsx(ie,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Data:"})," ",f]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Queixa:"})," ",d.queixa||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"História:"})," ",d.historia||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Diagnóstico:"})," ",d.diagnostico||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Conduta:"})," ",d.conduta||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Medicamentos:"})," ",d.medicamentos||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Posologia:"})," ",d.posologia||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Validade:"})," ",d.validade||"-"]})]})})]})]})}const Ts={async getDashboard(){var r;const t=[];t.push("/clinicas/dashboard/");let a;for(const o of t){const i=o.endsWith("/")?o:`${o}/`;try{return console.debug("[clinicaService] GET",i),(await ue.get(i)).data}catch(c){if(((r=c==null?void 0:c.response)==null?void 0:r.status)===404){a=c;continue}throw c}}throw a||new Error("Endpoint de dashboard da clínica não encontrado.")},getCalendario:(t,a)=>ue.get(`/clinica/calendario/?mes=${t}&ano=${a}`),getExamesPorData:t=>ue.get(`/clinica/exames/?data=${t}`),getDisponibilidade:t=>ue.get(`/clinica/disponibilidade/?data=${t}`),setDisponibilidade:(t,a)=>ue.post("/clinica/disponibilidade/",{data:t,horarios:a}),updateDisponibilidade:(t,a)=>ue.put(`/clinica/disponibilidade/${t}/`,a),deleteDisponibilidade:t=>ue.delete(`/clinica/disponibilidade/${t}/`),getExames:(t={})=>ue.get("/clinica/exames/",{params:t}),createExame:t=>ue.post("/clinica/exames/",t),updateExame:(t,a)=>ue.put(`/clinica/exames/${t}/`,a),deleteExame:t=>ue.delete(`/clinica/exames/${t}/`),getTiposExame:()=>ue.get("/clinica/tipos-exame/"),getRelatorios:t=>ue.get(`/clinica/relatorios/?periodo=${t}`),getPacientes:()=>ue.get("/clinica/pacientes/"),getMedicos:()=>ue.get("/clinica/medicos/"),async vincularSecretaria(t){var p,u,g,f;if(!t)throw new Error("secretariaId é obrigatório");let a=null;try{try{const h=await ue.get("/clinicas/me/");(p=h==null?void 0:h.data)!=null&&p.id&&(a=h.data.id)}catch{}if(!a){const h=await ue.get("/clinicas/"),v=Array.isArray((u=h.data)==null?void 0:u.results)?h.data.results:h.data;(g=v==null?void 0:v[0])!=null&&g.id&&(a=v[0].id)}}catch{}if(!a)throw new Error("Não foi possível resolver o ID da clínica.");const r="/clinicas/",o=r.endsWith("/")?r:`${r}/`,i=[`${o}${a}/secretarias/`,`${o}${a}/adicionar_secretaria/`,`${o}${a}/vincular_secretaria/`],c={secretaria:t,secretaria_id:t};let d;for(const h of i)try{return(await ue.post(h,c)).data}catch(v){const w=(f=v==null?void 0:v.response)==null?void 0:f.status;if(w===404||w===405){d=v;continue}throw v}throw d||new Error("Nenhum endpoint de vinculação de secretária encontrado para clínica.")}};function ZP(){const{data:t,loading:a,error:r}=pb(Ts.getDashboard);if(a)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:e.jsx("div",{className:"max-w-7xl mx-auto space-y-8",children:e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((c,d)=>e.jsxs(ne,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm animate-pulse",children:[e.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 w-20 bg-gradient-to-r from-slate-200 to-slate-300 rounded"}),e.jsx("div",{className:"h-4 w-4 bg-gradient-to-r from-slate-200 to-slate-300 rounded"})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"h-8 w-16 bg-gradient-to-r from-slate-200 to-slate-300 rounded mb-2"}),e.jsx("div",{className:"h-3 w-24 bg-gradient-to-r from-slate-200 to-slate-300 rounded"})]})]},d))})})});if(r)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(ne,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:e.jsx(ie,{className:"flex items-center justify-center h-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx(qr,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),e.jsx("p",{className:"text-slate-600",children:"Erro ao carregar dashboard"})]})})})})});const o=t||{examesHoje:12,examesTotais:156,pacientesAtivos:89,taxaOcupacao:85,proximosExames:[{id:1,paciente:"João Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}],examesPendentes:5},i=({title:c,value:d,icon:p,description:u,gradient:g,iconBg:f,textColor:h,trend:v})=>e.jsx(ne,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:`bg-gradient-to-br ${g} rounded-2xl p-6 text-white relative overflow-hidden`,children:[e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white/10 rounded-full -mr-10 -mt-10"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/5 rounded-full -ml-8 -mb-8"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 ${f} rounded-xl`,children:e.jsx(p,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-3xl font-bold ${h}`,children:d}),e.jsx("div",{className:"text-white/80 text-sm font-medium",children:c})]})]}),e.jsx("div",{className:"text-white/90 text-sm",children:u}),v&&e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-white/80 text-xs",children:[e.jsx(xo,{className:"h-3 w-3"}),v]})]})]})})});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800 rounded-2xl p-8 text-white shadow-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Dashboard da Clínica"}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie exames, horários e acompanhe o desempenho da clínica"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Z,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30",asChild:!0,children:e.jsxs(Je,{to:"/clinica/calendario",children:[e.jsx(Ic,{className:"h-4 w-4 mr-2"}),"Calendário"]})}),e.jsx(Z,{className:"bg-white text-blue-600 hover:bg-blue-50",asChild:!0,children:e.jsxs(Je,{to:"/clinica/exames",children:[e.jsx(oo,{className:"h-4 w-4 mr-2"}),"Agendar Exame"]})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(i,{title:"Exames Hoje",value:o.examesHoje,icon:Qe,description:"Exames agendados para hoje",gradient:"from-blue-500 to-blue-600",iconBg:"bg-blue-400/30",textColor:"text-white",trend:"+2 desde ontem"}),e.jsx(i,{title:"Total de Exames",value:o.examesTotais,icon:cs,description:"Exames realizados este mês",gradient:"from-green-500 to-green-600",iconBg:"bg-green-400/30",textColor:"text-white"}),e.jsx(i,{title:"Pacientes Ativos",value:o.pacientesAtivos,icon:gs,description:"Pacientes cadastrados",gradient:"from-purple-500 to-purple-600",iconBg:"bg-purple-400/30",textColor:"text-white",trend:"+12% desde o mês passado"}),e.jsx(i,{title:"Taxa de Ocupação",value:`${o.taxaOcupacao}%`,icon:Js,description:"Capacidade atual dos equipamentos",gradient:"from-orange-500 to-orange-600",iconBg:"bg-orange-400/30",textColor:"text-white"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(ne,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(he,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(lt,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-slate-800",children:"Próximos Exames"}),e.jsx(Xe,{className:"text-slate-600",children:"Exames agendados para hoje"})]})]}),e.jsx(Z,{variant:"outline",className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",asChild:!0,children:e.jsxs(Je,{to:"/clinica/exames",children:["Ver todos",e.jsx(DS,{className:"h-4 w-4 ml-2"})]})})]})}),e.jsx(ie,{className:"p-6",children:o.proximosExames.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(lt,{className:"h-8 w-8 text-slate-400"})}),e.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Nenhum exame agendado"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Não há exames programados para hoje"})]}):e.jsx("div",{className:"space-y-4",children:o.proximosExames.map(c=>e.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-4 hover:shadow-md transition-all duration-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200",children:[e.jsx("span",{className:"text-sm font-bold text-blue-700",children:c.horario}),e.jsx("span",{className:"text-xs text-blue-600",children:"Hoje"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900",children:c.paciente}),e.jsx("p",{className:"text-sm text-slate-600",children:c.tipo}),e.jsx(ft,{variant:c.status==="confirmado"?"default":"secondary",className:`mt-1 text-xs ${c.status==="confirmado"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:c.status})]})]}),e.jsx(Z,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:e.jsx(xt,{className:"h-4 w-4"})})]})},c.id))})})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs(ne,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(he,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(yc,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-slate-800",children:"Ações Rápidas"}),e.jsx(Xe,{className:"text-slate-600",children:"Acesso rápido às principais funcionalidades"})]})]})}),e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(Z,{className:"w-full justify-start bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:e.jsxs(Je,{to:"/clinica/calendario",children:[e.jsx(Qe,{className:"mr-2 h-4 w-4"}),"Ver Calendário"]})}),e.jsx(Z,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:e.jsxs(Je,{to:"/clinica/disponibilidade",children:[e.jsx(lt,{className:"mr-2 h-4 w-4"}),"Gerenciar Horários"]})}),e.jsx(Z,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:e.jsxs(Je,{to:"/clinica/exames",children:[e.jsx(cs,{className:"mr-2 h-4 w-4"}),"Agendar Exame"]})}),e.jsx(Z,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:e.jsxs(Je,{to:"/clinica/pacientes",children:[e.jsx(gs,{className:"mr-2 h-4 w-4"}),"Ver Pacientes"]})})]}),o.examesPendentes>0&&e.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qr,{className:"h-4 w-4 text-yellow-600"}),e.jsxs("p",{className:"text-sm font-medium text-yellow-800",children:[o.examesPendentes," exames pendentes de confirmação"]})]})})]})]})})]})]})})}const eA=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],tA=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"];function sA(){const[t,a]=x.useState(new Date),[r,o]=x.useState([]),[i,c]=x.useState(null),[d,p]=x.useState({}),[u,g]=x.useState(!1),[f,h]=x.useState(!1),[v,w]=x.useState(!1),[y,j]=x.useState({paciente:"",tipo:"",hora:""}),[N,P]=x.useState([]),[C,_]=x.useState([]),[E]=z1();x.useEffect(()=>{k()},[t]),x.useEffect(()=>{(async()=>{var K,$;try{const[z,q]=await Promise.all([Ts.getPacientes().catch(()=>({data:[]})),Ts.getTiposExame().catch(()=>({data:[]}))]),Y=Array.isArray(z==null?void 0:z.data)?z.data:((K=z==null?void 0:z.data)==null?void 0:K.results)||[],ee=Array.isArray(q==null?void 0:q.data)?q.data:(($=q==null?void 0:q.data)==null?void 0:$.results)||[];P(Y),_(ee)}catch{}})()},[]),x.useEffect(()=>{const M=E.get("data"),K=E.get("paciente");M&&(c(M),A(M)),K&&(j($=>({...$,paciente:String(K)})),h(!0))},[]);const k=async()=>{g(!0);try{const M=await Ts.getCalendario(t.getMonth()+1,t.getFullYear());p(M.data||{})}catch(M){console.error("Erro ao carregar calendário:",M),p({"2024-01-15":{total:5,status:"ocupado"},"2024-01-16":{total:8,status:"lotado"},"2024-01-17":{total:3,status:"disponivel"},"2024-01-18":{total:6,status:"ocupado"},"2024-01-22":{total:2,status:"disponivel"},"2024-01-23":{total:7,status:"ocupado"}})}finally{g(!1)}},A=async M=>{try{const K=await Ts.getExamesPorData(M);o(K.data||[])}catch(K){console.error("Erro ao carregar exames:",K),o([{id:1,paciente:"João Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}])}},T=M=>{const K=new Date(t);K.setMonth(t.getMonth()+M),a(K)},R=M=>{const $=new Date(t.getFullYear(),t.getMonth(),M).toISOString().split("T")[0];c($),A($)},I=(M="")=>{j({paciente:M?String(M):"",tipo:"",hora:""}),h(!0)},L=async()=>{if(!i)return;const{paciente:M,tipo:K,hora:$}=y;if(!M||!K||!$){alert("Preencha paciente, tipo e horário.");return}w(!0);try{const z={paciente:M,tipo:K,data:i,hora:$};await Ts.createExame(z),h(!1),j({paciente:"",tipo:"",hora:""}),await A(i)}catch{alert("Erro ao agendar. Verifique os dados e tente novamente.")}finally{w(!1)}},B=()=>{const M=t.getFullYear(),K=t.getMonth(),$=new Date(M,K,1),z=new Date(M,K+1,0),q=$.getDay(),Y=z.getDate(),ee=[];for(let H=q-1;H>=0;H--){const ae=new Date(M,K,-H);ee.push({dia:ae.getDate(),outroMes:!0,data:ae})}for(let H=1;H<=Y;H++){const ae=new Date(M,K,H),V=ae.toISOString().split("T")[0],U=d[V]||{total:0,status:"disponivel"};ee.push({dia:H,outroMes:!1,data:ae,dataString:V,...U})}const D=42-ee.length;for(let H=1;H<=D;H++){const ae=new Date(M,K+1,H);ee.push({dia:H,outroMes:!0,data:ae})}return ee},G=M=>{switch(M){case"disponivel":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200";case"ocupado":return"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200";case"lotado":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}},F=B();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Calendário de Exames"}),e.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie os exames agendados"})]})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(ne,{children:[e.jsx(he,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-5 w-5"}),eA[t.getMonth()]," ",t.getFullYear()]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Z,{variant:"outline",size:"sm",onClick:()=>T(-1),children:e.jsx(M0,{className:"h-4 w-4"})}),e.jsx(Z,{variant:"outline",size:"sm",onClick:()=>T(1),children:e.jsx(ka,{className:"h-4 w-4"})})]})]})}),e.jsxs(ie,{children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:tA.map(M=>e.jsx("div",{className:"p-2 text-center text-sm font-medium text-muted-foreground",children:M},M))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:F.map((M,K)=>e.jsxs("button",{onClick:()=>!M.outroMes&&R(M.dia),disabled:M.outroMes,className:`
                        p-2 text-sm rounded-lg transition-colors relative
                        ${M.outroMes?"text-muted-foreground cursor-not-allowed":"hover:bg-accent cursor-pointer"}
                        ${i===M.dataString?"bg-primary text-primary-foreground":""}
                      `,children:[e.jsx("div",{className:"font-medium",children:M.dia}),!M.outroMes&&M.total>0&&e.jsx("div",{className:`
                          absolute -top-1 -right-1 w-5 h-5 rounded-full text-xs flex items-center justify-center
                          ${G(M.status)}
                        `,children:M.total})]},K))}),e.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{children:"Disponível"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsx("span",{children:"Ocupado"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("span",{children:"Lotado"})]})]})]})]})}),e.jsx("div",{children:e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"h-5 w-5"}),i?"Exames do Dia":"Selecione uma Data"]}),i&&e.jsx(Xe,{children:new Date(i+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsx(ie,{children:i?r.length===0?e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(lt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Nenhum exame agendado para esta data"}),e.jsx(Z,{className:"mt-4",size:"sm",onClick:()=>I(),children:"Agendar Exame"})]}):e.jsxs("div",{className:"space-y-3",children:[r.map(M=>e.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:M.paciente})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ft,{variant:M.status==="confirmado"?"default":"secondary",children:M.status}),e.jsx(Z,{variant:"outline",size:"sm",className:"bg-transparent",onClick:()=>I(M.paciente_id||M.pacienteId||""),title:"Agendar novo exame para este paciente",children:"Agendar"})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("p",{children:M.tipo}),e.jsxs("p",{className:"flex items-center gap-1",children:[e.jsx(lt,{className:"h-3 w-3"}),M.horario]})]})]},M.id)),e.jsx(Z,{className:"w-full mt-4",size:"sm",onClick:()=>I(),children:"Agendar Novo Exame"})]}):e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(Qe,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Clique em uma data no calendário para ver os exames agendados"})]})})]})})]})]}),e.jsx(wo,{open:f,onOpenChange:h,children:e.jsxs(Cn,{children:[e.jsxs(_n,{children:[e.jsx(kn,{children:"Agendar exame"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Data: ",i?new Date(i+"T00:00:00").toLocaleDateString("pt-BR"):"-"]})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Paciente"}),e.jsxs(Et,{value:y.paciente,onValueChange:M=>j(K=>({...K,paciente:M})),children:[e.jsx(Ct,{children:e.jsx(Rt,{placeholder:"Selecione o paciente"})}),e.jsx(_t,{children:N.map(M=>e.jsxs(Ne,{value:String(M.id),children:[M.nome," ",M.cpf?`- ${M.cpf}`:""]},M.id))})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Tipo de exame"}),e.jsxs(Et,{value:y.tipo,onValueChange:M=>j(K=>({...K,tipo:M})),children:[e.jsx(Ct,{children:e.jsx(Rt,{placeholder:"Selecione o tipo"})}),e.jsx(_t,{children:C.map(M=>e.jsx(Ne,{value:String(M.id||M.value||M),children:M.nome||M.label||M.value||M},M.id||M.value||M))})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Horário"}),e.jsx(fe,{type:"time",value:y.hora,onChange:M=>j(K=>({...K,hora:M.target.value}))})]})]}),e.jsxs(No,{className:"mt-4",children:[e.jsx(Z,{variant:"outline",className:"bg-transparent",onClick:()=>h(!1),children:"Cancelar"}),e.jsx(Z,{onClick:L,disabled:v,children:v?"Salvando...":"Agendar"})]})]})})]})}const aA={manha:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30"],tarde:["13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"],integral:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"]};function rA(){const[t,a]=x.useState(""),[r,o]=x.useState([]),[i,c]=x.useState(""),[d,p]=x.useState(!1),[u,g]=x.useState(!1),{toast:f}=ts();x.useEffect(()=>{t&&h()},[t]);const h=async()=>{var C;p(!0);try{const _=await Ts.getDisponibilidade(t);o(((C=_.data)==null?void 0:C.horarios)||[])}catch(_){console.error("Erro ao carregar disponibilidade:",_),o([{horario:"09:00",ocupado:!1},{horario:"10:00",ocupado:!0},{horario:"11:00",ocupado:!1},{horario:"14:00",ocupado:!1},{horario:"15:00",ocupado:!0}])}finally{p(!1)}},v=async()=>{if(!t){f({title:"Erro",description:"Selecione uma data primeiro",variant:"destructive"});return}g(!0);try{await Ts.setDisponibilidade(t,r),f({title:"Sucesso",description:"Disponibilidade salva com sucesso"})}catch(C){console.error("Erro ao salvar disponibilidade:",C),f({title:"Erro",description:"Erro ao salvar disponibilidade",variant:"destructive"})}finally{g(!1)}},w=()=>{if(!i)return;if(r.some(_=>_.horario===i)){f({title:"Aviso",description:"Este horário já existe",variant:"destructive"});return}o([...r,{horario:i,ocupado:!1}].sort((_,E)=>_.horario.localeCompare(E.horario))),c("")},y=C=>{o(r.filter(_=>_.horario!==C))},j=C=>{const _=aA[C].map(E=>({horario:E,ocupado:!1}));o(_)},N=async()=>{var E;if(!t)return;const C=new Date(t);C.setDate(C.getDate()-1);const _=C.toISOString().split("T")[0];try{const T=(((E=(await Ts.getDisponibilidade(_)).data)==null?void 0:E.horarios)||[]).filter(R=>!R.ocupado).map(R=>({...R,ocupado:!1}));o(T),f({title:"Sucesso",description:"Horários copiados do dia anterior"})}catch(k){console.error("Erro ao copiar horários:",k),f({title:"Erro",description:"Erro ao copiar horários do dia anterior",variant:"destructive"})}},P=new Date().toISOString().split("T")[0];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gerenciar Disponibilidade"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure os horários disponíveis para exames"})]})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ne,{children:[e.jsx(he,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-5 w-5"}),"Selecionar Data"]})}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(me,{htmlFor:"data",children:"Data"}),e.jsx(fe,{id:"data",type:"date",value:t,onChange:C=>a(C.target.value),min:P})]}),t&&e.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(t+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsx(xe,{children:"Templates Rápidos"}),e.jsx(Xe,{children:"Aplique configurações pré-definidas"})]}),e.jsxs(ie,{className:"space-y-3",children:[e.jsxs(Z,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>j("manha"),disabled:!t,children:[e.jsx(lt,{className:"mr-2 h-4 w-4"}),"Manhã (8h às 11h30)"]}),e.jsxs(Z,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>j("tarde"),disabled:!t,children:[e.jsx(lt,{className:"mr-2 h-4 w-4"}),"Tarde (13h às 17h)"]}),e.jsxs(Z,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>j("integral"),disabled:!t,children:[e.jsx(lt,{className:"mr-2 h-4 w-4"}),"Período Integral"]}),e.jsxs(Z,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:N,disabled:!t,children:[e.jsx(FS,{className:"mr-2 h-4 w-4"}),"Copiar Dia Anterior"]})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"h-5 w-5"}),"Horários Disponíveis"]}),e.jsxs(Z,{onClick:v,disabled:!t||u,children:[e.jsx(L0,{className:"mr-2 h-4 w-4"}),u?"Salvando...":"Salvar"]})]}),t&&e.jsxs(Xe,{children:["Configurando horários para ",new Date(t+"T00:00:00").toLocaleDateString("pt-BR")]})]}),e.jsx(ie,{children:t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{type:"time",value:i,onChange:C=>c(C.target.value),placeholder:"Novo horário"}),e.jsx(Z,{onClick:w,disabled:!i,children:e.jsx(oo,{className:"h-4 w-4"})})]}),d?e.jsx("div",{className:"space-y-2",children:[...Array(5)].map((C,_)=>e.jsx("div",{className:"h-12 bg-muted rounded animate-pulse"},_))}):r.length===0?e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(lt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Nenhum horário configurado"}),e.jsx("p",{className:"text-sm",children:"Use os templates ou adicione horários manualmente"})]}):e.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:r.map((C,_)=>e.jsxs("div",{className:`
                              flex items-center justify-between p-3 border rounded-lg
                              ${C.ocupado?"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800":"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800"}
                            `,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:C.horario})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ft,{variant:C.ocupado?"destructive":"default",children:C.ocupado?"Ocupado":"Livre"}),!C.ocupado&&e.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>y(C.horario),children:e.jsx(aC,{className:"h-4 w-4"})})]})]},_))}),r.length>0&&e.jsx("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("p",{className:"font-medium",children:["Total: ",r.length," horários"]}),e.jsxs("p",{className:"text-muted-foreground",children:[r.filter(C=>!C.ocupado).length," disponíveis,"," ",r.filter(C=>C.ocupado).length," ocupados"]})]})})]}):e.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[e.jsx(Qe,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Selecione uma data para gerenciar os horários"})]})})]})})]})]})})}function nA(){const{toast:t}=ts(),[a,r]=x.useState(!1),[o,i]=x.useState([]),[c,d]=x.useState({q:"",tipo:"todos",status:"todos"}),[p,u]=x.useState([]),[g,f]=x.useState(!1),[h,v]=x.useState({paciente:"",tipo:"",data:"",hora:""}),w=async()=>{try{const{data:N}=await Ts.getTiposExame();i(N||[])}catch{}},y=async()=>{r(!0);try{const N={};c.q&&(N.q=c.q),c.tipo!=="todos"&&(N.tipo=c.tipo),c.status!=="todos"&&(N.status=c.status);const{data:P}=await Ts.getExames(N);u(Array.isArray(P)?P:(P==null?void 0:P.results)||[])}catch{t({title:"Erro",description:"Não foi possível carregar os exames.",variant:"destructive"})}finally{r(!1)}};x.useEffect(()=>{w()},[]),x.useEffect(()=>{y()},[c]);const j=async()=>{if(!h.paciente||!h.tipo||!h.data||!h.hora){t({title:"Campos obrigatórios",description:"Preencha paciente, tipo, data e hora.",variant:"destructive"});return}f(!0);try{const N={paciente:h.paciente,tipo:h.tipo,data:h.data,hora:h.hora};await Ts.createExame(N),t({title:"Exame criado",description:"Exame agendado com sucesso."}),v({paciente:"",tipo:"",data:"",hora:""}),y()}catch{t({title:"Erro ao criar",description:"Verifique os dados e tente novamente.",variant:"destructive"})}finally{f(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames"}),e.jsx("p",{className:"text-muted-foreground",children:"Listagem e agendamento de exames"})]})}),e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsx(xe,{children:"Filtros"}),e.jsx(Xe,{children:"Busque e filtre os exames"})]}),e.jsxs(ie,{className:"grid gap-4 md:grid-cols-3",children:[e.jsx(fe,{placeholder:"Buscar por paciente/tipo...",value:c.q,onChange:N=>d({...c,q:N.target.value})}),e.jsxs(Et,{value:c.tipo,onValueChange:N=>d({...c,tipo:N}),children:[e.jsx(Ct,{children:e.jsx(Rt,{placeholder:"Tipo"})}),e.jsxs(_t,{children:[e.jsx(Ne,{value:"todos",children:"Todos os tipos"}),o.map(N=>e.jsx(Ne,{value:N.value||N.nome||N.id||String(N),children:N.nome||N.label||N.value||N},N.id||N.value||N))]})]}),e.jsxs(Et,{value:c.status,onValueChange:N=>d({...c,status:N}),children:[e.jsx(Ct,{children:e.jsx(Rt,{placeholder:"Status"})}),e.jsxs(_t,{children:[e.jsx(Ne,{value:"todos",children:"Todos"}),e.jsx(Ne,{value:"pendente",children:"Pendente"}),e.jsx(Ne,{value:"confirmado",children:"Confirmado"}),e.jsx(Ne,{value:"cancelado",children:"Cancelado"})]})]})]})]}),e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsx(xe,{children:"Lista de Exames"}),e.jsx(Xe,{children:a?"Carregando...":`${p.length} registro(s)`})]}),e.jsx(ie,{children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs(Za,{children:[e.jsx(er,{children:e.jsxs(es,{children:[e.jsx(ct,{children:"Paciente"}),e.jsx(ct,{children:"Tipo"}),e.jsx(ct,{children:"Data"}),e.jsx(ct,{children:"Hora"}),e.jsx(ct,{children:"Status"})]})}),e.jsxs(tr,{children:[p.map((N,P)=>e.jsxs(es,{children:[e.jsx(st,{children:N.paciente_nome||N.paciente||"-"}),e.jsx(st,{children:N.tipo_nome||N.tipo||"-"}),e.jsx(st,{children:N.data||"-"}),e.jsx(st,{children:N.hora||"-"}),e.jsx(st,{children:N.status||"-"})]},N.id||P)),!a&&p.length===0&&e.jsx(es,{children:e.jsx(st,{colSpan:5,className:"text-center text-muted-foreground",children:"Nenhum exame encontrado"})})]})]})})})]}),e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsx(xe,{children:"Novo Exame"}),e.jsx(Xe,{children:"Crie um novo agendamento de exame"})]}),e.jsxs(ie,{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(fe,{placeholder:"Paciente (nome/ID)",value:h.paciente,onChange:N=>v({...h,paciente:N.target.value})}),e.jsxs(Et,{value:h.tipo,onValueChange:N=>v({...h,tipo:N}),children:[e.jsx(Ct,{children:e.jsx(Rt,{placeholder:"Tipo de exame"})}),e.jsx(_t,{children:o.map(N=>e.jsx(Ne,{value:N.value||N.nome||N.id||String(N),children:N.nome||N.label||N.value||N},N.id||N.value||N))})]}),e.jsx(fe,{type:"date",value:h.data,onChange:N=>v({...h,data:N.target.value})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{type:"time",value:h.hora,onChange:N=>v({...h,hora:N.target.value})}),e.jsx(Z,{onClick:j,disabled:g,children:g?"Criando...":"Criar"})]})]})]})]})}function oA(){const{toast:t}=ts(),[a,r]=x.useState(""),[o,i]=x.useState(!1),[c,d]=x.useState([]),p=async()=>{i(!0);try{const{data:f}=await Ts.getPacientes(),h=Array.isArray(f)?f:(f==null?void 0:f.results)||[];d(h)}catch{t({title:"Erro",description:"Não foi possível carregar os pacientes.",variant:"destructive"})}finally{i(!1)}};x.useEffect(()=>{p()},[]);const u=c.filter(f=>[f.nome,f.email,f.cpf].join(" ").toLowerCase().includes(a.toLowerCase())),g=new Date().toISOString().split("T")[0];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pacientes"}),e.jsx("p",{className:"text-muted-foreground",children:"Listagem de pacientes"})]}),e.jsx("div",{className:"w-72",children:e.jsx(fe,{placeholder:"Buscar por nome, e-mail ou CPF",value:a,onChange:f=>r(f.target.value)})})]}),e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsx(xe,{children:"Lista de Pacientes"}),e.jsx(Xe,{children:o?"Carregando...":`${u.length} registro(s)`})]}),e.jsx(ie,{children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs(Za,{children:[e.jsx(er,{children:e.jsxs(es,{children:[e.jsx(ct,{children:"Nome"}),e.jsx(ct,{children:"E-mail"}),e.jsx(ct,{children:"CPF"}),e.jsx(ct,{className:"w-[1%]",children:"Ações"})]})}),e.jsxs(tr,{children:[u.map((f,h)=>e.jsxs(es,{children:[e.jsx(st,{children:f.nome||"-"}),e.jsx(st,{children:f.email||"-"}),e.jsx(st,{children:f.cpf||"-"}),e.jsx(st,{children:e.jsx(Je,{to:`/clinica/calendario?paciente=${f.id}&data=${g}`,children:e.jsx(Z,{size:"sm",children:"Agendar"})})})]},f.id||h)),!o&&u.length===0&&e.jsx(es,{children:e.jsx(st,{colSpan:3,className:"text-center text-muted-foreground",children:"Nenhum paciente encontrado"})})]})]})})})]})]})}function iA(){const{toast:t}=ts(),[a,r]=x.useState(""),[o,i]=x.useState(!1),[c,d]=x.useState([]),p=async()=>{i(!0);try{const{data:g}=await Ts.getMedicos(),f=Array.isArray(g)?g:(g==null?void 0:g.results)||[];d(f)}catch{t({title:"Erro",description:"Não foi possível carregar os médicos.",variant:"destructive"})}finally{i(!1)}};x.useEffect(()=>{p()},[]);const u=c.filter(g=>[g.nome,g.email,g.crm,g.especialidade].join(" ").toLowerCase().includes(a.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Médicos"}),e.jsx("p",{className:"text-muted-foreground",children:"Listagem de médicos"})]}),e.jsx("div",{className:"w-72",children:e.jsx(fe,{placeholder:"Buscar por nome, e-mail, CRM, especialidade",value:a,onChange:g=>r(g.target.value)})})]}),e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsx(xe,{children:"Lista de Médicos"}),e.jsx(Xe,{children:o?"Carregando...":`${u.length} registro(s)`})]}),e.jsx(ie,{children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs(Za,{children:[e.jsx(er,{children:e.jsxs(es,{children:[e.jsx(ct,{children:"Nome"}),e.jsx(ct,{children:"E-mail"}),e.jsx(ct,{children:"CRM"}),e.jsx(ct,{children:"Especialidade"})]})}),e.jsxs(tr,{children:[u.map((g,f)=>e.jsxs(es,{children:[e.jsx(st,{children:g.nome||"-"}),e.jsx(st,{children:g.email||"-"}),e.jsx(st,{children:g.crm||"-"}),e.jsx(st,{children:g.especialidade||"-"})]},g.id||f)),!o&&u.length===0&&e.jsx(es,{children:e.jsx(st,{colSpan:4,className:"text-center text-muted-foreground",children:"Nenhum médico encontrado"})})]})]})})})]})]})}function lA(){const[t,a]=x.useState("30d"),[r,o]=x.useState(!1),[i,c]=x.useState(null),[d,p]=x.useState(null),u=async()=>{o(!0),p(null);try{const{data:f}=await Ts.getRelatorios(t);c(f||{})}catch{p("Não foi possível carregar os relatórios.")}finally{o(!1)}};x.useEffect(()=>{u()},[t]);const g=i||{examesTotais:120,pacientesAtendidos:80,taxaCancelamento:5};return e.jsx("div",{className:"space-y-6",children:e.jsxs(ne,{children:[e.jsxs(he,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(xe,{children:"Relatórios"}),e.jsx(Xe,{children:"Métricas da clínica"})]}),e.jsx("div",{className:"w-40",children:e.jsxs(Et,{value:t,onValueChange:a,children:[e.jsx(Ct,{children:e.jsx(Rt,{})}),e.jsxs(_t,{children:[e.jsx(Ne,{value:"7d",children:"Últimos 7 dias"}),e.jsx(Ne,{value:"30d",children:"Últimos 30 dias"}),e.jsx(Ne,{value:"90d",children:"Últimos 90 dias"})]})]})})]}),e.jsx(ie,{children:r?e.jsx("p",{children:"Carregando..."}):d?e.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[e.jsx(qr,{className:"h-4 w-4"}),e.jsx("span",{children:d})]}):e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(ne,{children:[e.jsx(he,{children:e.jsxs(xe,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(cs,{className:"h-4 w-4"})," Exames"]})}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g.examesTotais}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"no período"})]})]}),e.jsxs(ne,{children:[e.jsx(he,{children:e.jsxs(xe,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(gs,{className:"h-4 w-4"})," Pacientes Atendidos"]})}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g.pacientesAtendidos}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"no período"})]})]}),e.jsxs(ne,{children:[e.jsx(he,{children:e.jsx(xe,{className:"text-sm font-medium",children:"Taxa de Cancelamento"})}),e.jsxs(ie,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[g.taxaCancelamento,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"no período"})]})]})]})})]})})}const hm="false".toLowerCase()==="true",Ir="false".toLowerCase()==="true",cA={async criarSolicitacaoMedico(t,a={}){var w,y,j,N,P,C,_,E,k;const r=new FormData,o=(A,T,R=[])=>{if(T==null)return;const I=[A,...R].filter(Boolean);for(const L of I)r.append(L,T)};o("crm",t.crm,["crm_numero"]),o("especialidade",t.especialidade),o("instituicaoFormacao",t.instituicaoFormacao,["instituicao_formacao"]),o("anoFormacao",t.anoFormacao,["ano_formacao"]),o("residencia",t.residencia??""),o("instituicaoResidencia",t.instituicaoResidencia??"",["instituicao_residencia"]),o("anoResidencia",t.anoResidencia??"",["ano_residencia"]),o("experiencia",t.experiencia),o("motivacao",t.motivacao,["motivo","justificativa"]),o("nome",t.nome,["nome_completo"]),o("email",t.email),o("cpf",t.cpf),o("tipo",t.tipo||"medico"),(w=t.documentos)!=null&&w.diplomaMedicina&&o("diplomaMedicina",t.documentos.diplomaMedicina,["diploma_medicina"]),(y=t.documentos)!=null&&y.certificadoResidencia&&o("certificadoResidencia",t.documentos.certificadoResidencia,["certificado_residencia"]),(j=t.documentos)!=null&&j.comprovanteExperiencia&&o("comprovanteExperiencia",t.documentos.comprovanteExperiencia,["comprovante_experiencia"]);let i;try{const A=(N=ht.getCurrentUser)==null?void 0:N.call(ht);i=(A==null?void 0:A.id)||(A==null?void 0:A.pk)||((P=A==null?void 0:A.user)==null?void 0:P.id),i&&o("user",i,["usuario","user_id","usuario_id"])}catch{}const c={crm:t.crm,crm_numero:t.crm,especialidade:t.especialidade,instituicaoFormacao:t.instituicaoFormacao,instituicao_formacao:t.instituicaoFormacao,anoFormacao:t.anoFormacao,ano_formacao:t.anoFormacao,residencia:t.residencia??"",instituicaoResidencia:t.instituicaoResidencia??"",instituicao_residencia:t.instituicaoResidencia??"",anoResidencia:t.anoResidencia??"",ano_residencia:t.anoResidencia??"",experiencia:t.experiencia,motivacao:t.motivacao,motivo:t.motivacao,justificativa:t.motivacao,nome:t.nome,nome_completo:t.nome_completo||t.nome,email:t.email,cpf:t.cpf,tipo:t.tipo||"medico"};i&&(c.user=i,c.usuario=i,c.user_id=i,c.usuario_id=i);const d="/solicitacaomedico/".trim(),p="/solicitacoes/".trim();let u=[];d&&u.push(d),p&&u.push(p),Ir||u.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/solicitacoes/medico/","/medico/solicitacoes/","/medicos/solicitacao/","/solicitacao/medicos/","/users/medicos/solicitacoes/","/usuarios/medicos/solicitacoes/","/users/solicitacoes/medico/","/usuarios/solicitacoes/medico/","/app_medico/","/meu_app_medico/","/meui_app_solicitacaomedico/","/solicitacaomedico/","/solicitacao-medico/","/solicitacoes/solicitacao-medico/","/solicitacoes/solicitacaomedico/");const g=A=>{if(Ir)return[A];const T=A.endsWith("/")?"":"/";return[A,`${A}${T}criar/`,`${A}${T}create/`,`${A}${T}novo/`,`${A}${T}nova/`,`${A}${T}add/`,`${A}${T}adicionar/`,`${A}${T}registrar/`,`${A}${T}enviar/`,`${A}${T}submit/`]},f=Array.from(new Set(u.flatMap(g))),h=[];let v;for(const A of f)try{return h.push(A),hm&&console.debug("[solicitacaoService] Tentando endpoint:",A),(await ue.post(A,r,{headers:{"Content-Type":"multipart/form-data"},signal:a==null?void 0:a.signal})).data}catch(T){const R=(C=T==null?void 0:T.response)==null?void 0:C.status,I=((_=T==null?void 0:T.response)==null?void 0:_.data)&&JSON.stringify(T.response.data)||"";if(R===415||R===400&&/JSON|application\/json|parse/i.test(I))try{return(await ue.post(A,c,{headers:{"Content-Type":"application/json"},signal:a==null?void 0:a.signal})).data}catch(B){const G=(E=B==null?void 0:B.response)==null?void 0:E.status;if((G===404||G===405)&&!Ir){v=B;continue}throw B}if((R===404||R===405)&&!Ir){hm&&console.debug("[solicitacaoService] Endpoint não aceitou método (",R,"):",A),v=T;continue}throw T}throw v?(hm&&console.warn("[solicitacaoService] Nenhum endpoint aceitou POST. Último status:",(k=v==null?void 0:v.response)==null?void 0:k.status,"URLs tentadas:",h),v):new Error("Nenhum endpoint de criação aceitou a solicitação. Configure VITE_SOLICITACOES_MEDICOS_ENDPOINT. URLs tentadas: "+h.join(", "))},async listarMinhasSolicitacoes(t={},a={}){var d,p;const r="/solicitacaomedico/".trim(),o="/solicitacoes/".trim(),i=[];r&&i.push(r),o&&i.push(o),Ir||i.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/","/me/solicitacoes/","/minhas-solicitacoes/","/solicitacoes/me/","/solicitacoes/minhas/");const c={...t};c.limit!=null&&c.page_size==null&&(c.page_size=c.limit),c.page_size!=null&&c.limit==null&&(c.limit=c.page_size);for(const u of i){const g=Fg(u);try{const f=await ue.get(g,{params:c,signal:a==null?void 0:a.signal});return Array.isArray((d=f.data)==null?void 0:d.results)?{...f.data,results:f.data.results.map(pm)}:Array.isArray(f.data)?{results:f.data.map(pm)}:f.data}catch(f){if(((p=f==null?void 0:f.response)==null?void 0:p.status)===404&&!Ir)continue;throw f}}return{results:[]}},async getSolicitacaoMedico(t,a={}){var d;const r="/solicitacaomedico/".trim(),o="/solicitacoes/".trim(),i=[];r&&i.push(r),o&&i.push(o),Ir||i.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/");let c;for(const p of i){const u=Fg(p)+String(t)+"/";try{const g=await ue.get(u,{signal:a==null?void 0:a.signal});return pm(g.data)}catch(g){if(((d=g==null?void 0:g.response)==null?void 0:d.status)===404&&!Ir){c=g;continue}throw g}}throw c||new Error("Solicitação não encontrada")}};function Fg(t){return t?t.endsWith("/")?t:t+"/":"/"}function pm(t={}){return{id:t.id||t.pk,crm:t.crm||t.crm_numero,especialidade:t.especialidade,instituicaoFormacao:t.instituicaoFormacao||t.instituicao_formacao,anoFormacao:t.anoFormacao||t.ano_formacao,residencia:t.residencia,instituicaoResidencia:t.instituicaoResidencia||t.instituicao_residencia,anoResidencia:t.anoResidencia||t.ano_residencia,experiencia:t.experiencia,motivacao:t.motivacao||t.motivo||t.justificativa,nome:t.nome||t.nome_completo,email:t.email,cpf:t.cpf,status:t.status||t.situacao||t.aprovado,created_at:t.created_at||t.data_criacao}}const gb=Object.freeze(Object.defineProperty({__proto__:null,solicitacaoService:cA},Symbol.toStringTag,{value:"Module"})),to="false".toLowerCase()!=="false",Wt="false".toLowerCase()==="true",Ut={async getDashboard(){return(await ue.get("/admin/dashboard/")).data},async getSolicitacoes(t={},a={}){var i;const r=nc(),o=gm(xm(t));for(const c of r){const d=un(c),p=to?[d]:[d,d+"listar/",d+"list/",d+"todas/",d+"all/"],u=[];if(u.push(o),!to&&(o!=null&&o.ordering)){const{ordering:g,...f}=o;u.push(f)}if(!to){const g={};o.page_size!=null&&(g.page_size=o.page_size),o.limit!=null&&(g.limit=o.limit),o.page!=null&&(g.page=o.page),o.offset!=null&&(g.offset=o.offset),Object.keys(g).length&&u.push(g)}Object.keys(o).length&&u.push({});for(const g of p)for(const f of u)try{Wt&&console.debug("[adminService.getSolicitacoes] GET",g,f);const v=(await ue.get(g,{params:f,signal:a==null?void 0:a.signal})).data,w=Array.isArray(v==null?void 0:v.results)?v.results:Array.isArray(v)?v:[];return Wt&&console.debug("[adminService.getSolicitacoes] OK",g,`items=${w.length}`),w.map(vb)}catch(h){const v=(i=h==null?void 0:h.response)==null?void 0:i.status;if(Wt&&console.warn("[adminService.getSolicitacoes] Falhou",g,"status=",v,"params=",f),v===401||v===403)throw h;continue}}return[]},async getSolicitacao(t){var o;const a=nc();let r;for(const i of a){const c=un(i)+`${t}/`;try{const d=await ue.get(c);return uA(d.data||{})}catch(d){const p=(o=d==null?void 0:d.response)==null?void 0:o.status;if(Wt&&console.warn("[adminService.getSolicitacao] Falhou",c,"status=",p),p===401||p===403)throw d;r=d;continue}}throw r||new Error("Nenhum endpoint para detalhe de solicitação foi encontrado.")},async aprovarSolicitacao(t,a=""){var o,i,c,d;const r=nc();for(const p of r){const u=un(p),g=[{method:"post",url:`${u}${t}/aprovar/`,body:{observacoes:a}},{method:"post",url:`${u}${t}/approve/`,body:{notes:a}},{method:"post",url:`${u}${t}/aprovacao/`,body:{observacoes:a}},{method:"post",url:`${u}${t}/status/`,body:{status:"approved",observacoes:a}},{method:"patch",url:`${u}${t}/`,body:{status:"approved",observacoes:a}},{method:"put",url:`${u}${t}/`,body:{status:"approved",observacoes:a}}];for(const f of g)try{Wt&&console.debug("[adminService.aprovarSolicitacao]",f.method.toUpperCase(),f.url,f.body);const h=await ue[f.method](f.url,f.body);(async()=>{var w;try{await Ut.registrarAuditoria({action:"approve",entity:"SolicitacaoMedico",entity_id:t,status:"success",metadata:{observacoes:a}})}catch(y){Wt&&console.warn("[adminService.aprovarSolicitacao] auditoria falhou:",(w=y==null?void 0:y.response)==null?void 0:w.status)}})();const v=h.data;try{let w=((o=v==null?void 0:v.medico)==null?void 0:o.id)||(v==null?void 0:v.medico_id)||(v==null?void 0:v.medico)||null;if(!w)try{const y=await Ut.getSolicitacao(t).catch(()=>null);w=((i=y==null?void 0:y.medico)==null?void 0:i.id)||(y==null?void 0:y.medico_id)||(y==null?void 0:y.medico)||null}catch{}if(w){const y="/medicos/",j=y.endsWith("/")?y:`${y}/`,N={status:"active",situacao:"active",state:"active"},P=[{m:"patch",u:`${j}${w}/`,b:N},{m:"put",u:`${j}${w}/`,b:N}];for(const _ of P)try{await ue[_.m](_.u,_.b);break}catch{}const C=[`${j}${w}/perfil/`,"/perfil-medico/","/perfil/medico/"];for(const _ of C){const E=_.endsWith("/")?_:`${_}/`;try{await ue.patch(E,N);break}catch{}}}}catch(w){Wt&&console.warn("[adminService.aprovarSolicitacao] pós-ação falhou",(c=w==null?void 0:w.response)==null?void 0:c.status)}return(async()=>{var w;try{await Ut.registrarAuditoria({action:"approve",entity:"SolicitacaoMedico",entity_id:t,status:"success",metadata:{observacoes:a}})}catch(y){Wt&&console.warn("[adminService.aprovarSolicitacao] auditoria falhou:",(w=y==null?void 0:y.response)==null?void 0:w.status)}})(),v}catch(h){const v=(d=h==null?void 0:h.response)==null?void 0:d.status;if(Wt&&console.warn("[adminService.aprovarSolicitacao] Falhou",f.url,"status=",v),v===401||v===403)throw h;continue}}},async rejeitarSolicitacao(t,a){var o,i,c,d;const r=nc();for(const p of r){const u=un(p),g=[{method:"post",url:`${u}${t}/rejeitar/`,body:{motivo:a}},{method:"post",url:`${u}${t}/reject/`,body:{reason:a}},{method:"post",url:`${u}${t}/status/`,body:{status:"rejected",motivo:a}},{method:"patch",url:`${u}${t}/`,body:{status:"rejected",motivo:a}},{method:"put",url:`${u}${t}/`,body:{status:"rejected",motivo:a}}];for(const f of g)try{Wt&&console.debug("[adminService.rejeitarSolicitacao]",f.method.toUpperCase(),f.url,f.body);const h=await ue[f.method](f.url,f.body);(async()=>{var w;try{await Ut.registrarAuditoria({action:"reject",entity:"SolicitacaoMedico",entity_id:t,status:"success",metadata:{motivo:a}})}catch(y){Wt&&console.warn("[adminService.rejeitarSolicitacao] auditoria falhou:",(w=y==null?void 0:y.response)==null?void 0:w.status)}})();const v=h.data;try{let w=((o=v==null?void 0:v.medico)==null?void 0:o.id)||(v==null?void 0:v.medico_id)||(v==null?void 0:v.medico)||null;if(!w)try{const y=await Ut.getSolicitacao(t).catch(()=>null);w=((i=y==null?void 0:y.medico)==null?void 0:i.id)||(y==null?void 0:y.medico_id)||(y==null?void 0:y.medico)||null}catch{}if(w){const y="/medicos/",j=y.endsWith("/")?y:`${y}/`,N={status:"rejected",situacao:"rejected",state:"rejected"},P=[{m:"patch",u:`${j}${w}/`,b:N},{m:"put",u:`${j}${w}/`,b:N}];for(const _ of P)try{await ue[_.m](_.u,_.b);break}catch{}const C=[`${j}${w}/perfil/`,"/perfil-medico/","/perfil/medico/"];for(const _ of C){const E=_.endsWith("/")?_:`${_}/`;try{await ue.patch(E,N);break}catch{}}}}catch(w){Wt&&console.warn("[adminService.rejeitarSolicitacao] pós-ação falhou",(c=w==null?void 0:w.response)==null?void 0:c.status)}return(async()=>{var w;try{await Ut.registrarAuditoria({action:"reject",entity:"SolicitacaoMedico",entity_id:t,status:"success",metadata:{motivo:a}})}catch(y){Wt&&console.warn("[adminService.rejeitarSolicitacao] auditoria falhou:",(w=y==null?void 0:y.response)==null?void 0:w.status)}})(),v}catch(h){const v=(d=h==null?void 0:h.response)==null?void 0:d.status;if(Wt&&console.warn("[adminService.rejeitarSolicitacao] Falhou",f.url,"status=",v),v===401||v===403)throw h;continue}}},async getAuditoria(t={}){return(await ue.get("/admin/auditoria/",{params:t})).data},async registrarAuditoria(t={}){var f;const a=await ht.getCurrentUser(),r=t.action||t.acao||t.type,o=t.entity||t.entidade||"",i=t.entity_id||t.id||t.solicitacao_id||t.target_id||"",c=t.status||"success",d=typeof t.metadata=="object"&&t.metadata!==null?t.metadata:{},p=typeof t.detalhes=="object"&&t.detalhes!==null?t.detalhes:{},u={...d,...p,actor:(a==null?void 0:a.id)||(a==null?void 0:a.username)||"system",source:"frontend"},g={action:r,entity:o,entity_id:i,status:c,metadata:u};try{await ue.post("/admin/auditoria/",g)}catch(h){Wt&&console.warn("[adminService.registrarAuditoria] falhou:",(f=h==null?void 0:h.response)==null?void 0:f.status)}},async getUsuarios(t={}){const a=gm(xm(t)),o=(await ue.get("/users/",{params:a})).data,i=Array.isArray(o==null?void 0:o.results)?o.results:Array.isArray(o)?o:[],c=typeof(o==null?void 0:o.count)=="number"?o.count:i.length;return{results:i,count:c}},async getClinicas(t={}){var o;const a=dA(),r=gm(xm(t));for(const i of a){const c=un(i),d=to?[c]:[c,c+"listar/",c+"list/",c+"todas/",c+"all/"],p=[];if(p.push(r),!to&&(r!=null&&r.ordering)){const{ordering:u,...g}=r;p.push(g)}if(!to){const u={};r.page_size!=null&&(u.page_size=r.page_size),r.limit!=null&&(u.limit=r.limit),r.page!=null&&(u.page=r.page),r.offset!=null&&(u.offset=r.offset),Object.keys(u).length&&p.push(u)}Object.keys(r).length&&p.push({});for(const u of d)for(const g of p)try{Wt&&console.debug("[adminService.getClinicas] GET",u,g);const h=(await ue.get(u,{params:g})).data,v=Array.isArray(h==null?void 0:h.results)?h.results:Array.isArray(h)?h:[],w=typeof(h==null?void 0:h.count)=="number"?h.count:v.length;return Wt&&console.debug("[adminService.getClinicas] OK",u,`items=${v.length}`),{results:v,count:w}}catch(f){const h=(o=f==null?void 0:f.response)==null?void 0:o.status;if(Wt&&console.warn("[adminService.getClinicas] Falhou",u,"status=",h,"params=",g),h===401)throw f;continue}}return{results:[],count:0}},async updateUsuario(t,a={}){var d,p,u,g;const r=t||(a==null?void 0:a.id);if(!r)throw new Error("ID do usuário é obrigatório para atualização");const o={...a};o.role&&o.tipo==null&&(o.tipo=o.role),o.is_active!=null&&o.ativo==null&&(o.ativo=!!o.is_active),(o.first_name||o.last_name)&&o.nome==null&&(o.nome=[o.first_name||"",o.last_name||""].filter(Boolean).join(" ").trim()||void 0);const i=zg();let c=null;for(const f of i){const h=un(f);try{return(await ue.patch(`${h}${r}/`,o)).data}catch(v){const w=(d=v==null?void 0:v.response)==null?void 0:d.status;if(Wt&&console.warn("[adminService.updateUsuario] PATCH falhou",`${h}${r}/`,"status=",w),w===401)throw v;c=v}try{return(await ue.put(`${h}${r}/`,o)).data}catch(v){const w=(p=v==null?void 0:v.response)==null?void 0:p.status;if(Wt&&console.warn("[adminService.updateUsuario] PUT falhou",`${h}${r}/`,"status=",w),w===401)throw v;c=v}try{return(await ue.patch(h,{id:r,...o})).data}catch(v){const w=(u=v==null?void 0:v.response)==null?void 0:u.status;if(Wt&&console.warn("[adminService.updateUsuario] PATCH base falhou",h,"status=",w),w===401)throw v;c=v}for(const v of["update/","editar/","edicao/"]){const w=h+v;try{return(await ue.post(w,{id:r,...o})).data}catch(y){const j=(g=y==null?void 0:y.response)==null?void 0:g.status;if(Wt&&console.warn("[adminService.updateUsuario] POST falhou",w,"status=",j),j===401)throw y;c=y}}}throw c||new Error("Falha ao atualizar usuário: nenhum endpoint aceitou a requisição.")},async removerUsuariosEmMassa(t=[]){var c,d,p;const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(a.length===0)return{success:!0,deleted:[],detail:"no-op"};const r=zg();let o=null;const i=[{suffix:"remover/",method:"post",bodyKey:"ids"},{suffix:"delete/",method:"post",bodyKey:"ids"},{suffix:"bulk_delete/",method:"post",bodyKey:"ids"}];for(const u of r){const g=un(u);for(const h of i){const v=g+h.suffix;try{return(await ue.post(v,{[h.bodyKey]:a})).data}catch(w){const y=(c=w==null?void 0:w.response)==null?void 0:c.status;if(Wt&&console.warn("[adminService.removerUsuariosEmMassa] POST falhou",v,"status=",y),y===401)throw w;o=w}}try{const h=g;return(await ue.delete(h,{data:{ids:a}})).data}catch(h){const v=(d=h==null?void 0:h.response)==null?void 0:d.status;if(Wt&&console.warn("[adminService.removerUsuariosEmMassa] DELETE bulk falhou",g,"status=",v),v===401)throw h;o=h}let f=!1;for(const h of a){const v=`${g}${h}/`;try{await ue.delete(v),f=!0}catch(w){const y=(p=w==null?void 0:w.response)==null?void 0:p.status;if(Wt&&console.warn("[adminService.removerUsuariosEmMassa] DELETE por id falhou",v,"status=",y),y===401)throw w;o=w}}if(f)return{success:!0}}throw o||new Error("Falha ao excluir usuários: nenhum endpoint aceitou a requisição.")},async createUsuario(t={}){return(await ue.post("/admin/usuarios/",t)).data}};function un(t){if(!t)return"/";const a=String(t);return a.endsWith("/")?a:a+"/"}function xm(t={}){const a={...t};return a.limit!=null&&a.page_size==null&&(a.page_size=a.limit),a.page_size!=null&&a.limit==null&&(a.limit=a.page_size),Object.keys(a).forEach(r=>{(a[r]===void 0||a[r]===null||a[r]==="")&&delete a[r]}),a}function gm(t={}){const a=new Set(["status","ordering","search","limit","page","page_size","offset","clinica","especialidade"]),r={};for(const[o,i]of Object.entries(t||{}))a.has(o)&&(r[o]=i);return r}function nc(){const t="/solicitacaomedico/".trim(),a="/solicitacaomedico/".trim(),r="/solicitacoes/".trim(),o=Array.from(new Set([t,a,r].filter(Boolean))),i=["/solicitacaomedico/","/admin/solicitacoes/"],c=["/medicos/solicitacoes/","/solicitacoes/medicos/"];return Array.from(new Set([...i,...o,...c].filter(Boolean)))}function zg(){const t="".trim(),a="".trim(),r=Array.from(new Set([t,a].filter(Boolean))),o=["/admin/usuarios/","/usuarios/","/admin/users/","/users/"];return Array.from(new Set([...r,...o].filter(Boolean)))}function dA(){const t="".trim(),a="".trim(),r=Array.from(new Set([t,a].filter(Boolean))),o=["/admin/clinicas/","/clinicas/","/admin/clinica/","/clinica/"];return Array.from(new Set([...r,...o].filter(Boolean)))}function vb(t={}){var a,r,o,i,c,d,p,u,g,f,h,v,w,y,j,N,P,C,_,E,k,A,T;return{id:t.id||t.pk||t.uuid||t.codigo||t.codigo_id||0,tipo:String(t.tipo||t.type||t.kind||"medico").toLowerCase(),nome:t.nome||t.name||((a=t.usuario)==null?void 0:a.nome)||((r=t.user)==null?void 0:r.name)||((o=t.medico)==null?void 0:o.nome)||((i=t.clinica)==null?void 0:i.nome)||"—",email:t.email||((c=t.usuario)==null?void 0:c.email)||((d=t.user)==null?void 0:d.email)||((u=(p=t.medico)==null?void 0:p.user)==null?void 0:u.email)||((g=t.clinica)==null?void 0:g.email)||"—",telefone:t.telefone||t.phone||t.celular||((f=t.usuario)==null?void 0:f.telefone)||((h=t.user)==null?void 0:h.telefone)||((v=t.medico)==null?void 0:v.telefone)||((y=(w=t.medico)==null?void 0:w.contato)==null?void 0:y.telefone)||((N=(j=t.medico)==null?void 0:j.user)==null?void 0:N.telefone)||((P=t.clinica)==null?void 0:P.telefone)||"",crm:t.crm||((C=t.medico)==null?void 0:C.crm)||t.crm_numero||"",cnpj:t.cnpj||((_=t.clinica)==null?void 0:_.cnpj)||"",responsavel:t.responsavel||t.responsavel_tecnico||((E=t.clinica)==null?void 0:E.responsavel)||"",status:(()=>{const R=(t.status||t.situacao||t.state||"pending").toString().toLowerCase();return{pendente:"pending","em análise":"pending","em analise":"pending",em_analise:"pending",aprovado:"approved",aprovada:"approved",rejeitado:"rejected",rejeitada:"rejected",reprovado:"rejected",reprovada:"rejected"}[R]||R})(),dataEnvio:t.dataEnvio||t.created_at||t.createdAt||t.data_criacao||t.submitted_at||new Date().toISOString(),dataAprovacao:t.dataAprovacao||t.aprovado_em||t.data_aprovacao||t.approved_at||null,dataRejeicao:t.dataRejeicao||t.rejeitado_em||t.data_rejeicao||t.rejected_at||null,documentos:Array.isArray(t.documentos)?t.documentos:t.documents||[],urgencia:String(t.urgencia||t.priority||"normal").toLowerCase(),observacoes:t.observacoes||t.notes||t.comentarios||"",aprovadoPor:t.aprovadoPor||t.approved_by||"",rejeitadoPor:t.rejeitadoPor||t.rejected_by||"",motivoRejeicao:t.motivoRejeicao||t.motivo||t.reason||"",especialidade:t.especialidade||t.especialidade_nome||((A=(k=t.medico)==null?void 0:k.especialidade)==null?void 0:A.nome)||((T=t.medico)==null?void 0:T.especialidade)||""}}function uA(t={}){var C,_,E,k,A,T,R,I,L,B,G,F,M,K,$,z,q,Y,ee,D,H;const a=vb(t),r=t.dataAprovacao||t.aprovado_em||t.data_aprovacao||t.approved_at||t.dataAprovado||null,o=t.dataRejeicao||t.rejeitado_em||t.data_rejeicao||t.rejected_at||t.dataRejeitado||null,i=[],c=ae=>{ae&&(Array.isArray(ae)?i.push(...ae.filter(Boolean)):typeof ae=="object"?i.push(...Object.values(ae).filter(Boolean)):typeof ae=="string"&&i.push(ae))};c(t.documentos),c(t.docs),c(t.arquivos),c(t.attachments),c(t.files);const d=[t.diplomaMedicina,t.certificadoResidencia,t.comprovanteExperiencia,t.documento_identidade,t.comprovante_endereco,t.diploma_medicina,t.certificado_residencia,t.comprovante_experiencia,t.rg,t.cpf].filter(Boolean);i.push(...d);const p=ae=>{if(!ae)return null;if(typeof ae=="string")return{nome:(ae.split("/").pop()||"Documento").trim(),tamanho:"",dataUpload:t.dataEnvio||t.created_at||t.createdAt||t.submitted_at||new Date().toISOString(),url:ae};const V=ae.nome||ae.name||ae.filename||ae.file_name||ae.titulo||ae.tipo||"Documento",U=ae.tamanho||ae.size||ae.file_size||"",Q=ae.dataUpload||ae.data_upload||ae.uploaded_at||ae.created_at||a.dataEnvio||new Date().toISOString(),te=ae.url||ae.link||ae.path||ae.file||ae.arquivo||ae.location||"";return{nome:V,tamanho:U,dataUpload:Q,url:te}},u=i.map(p).filter(Boolean),g=t.endereco||((C=t.medico)==null?void 0:C.endereco)||((_=t.clinica)==null?void 0:_.endereco)||{},f=typeof g=="string"?{cep:t.cep||"",logradouro:g,bairro:"",cidade:"",estado:""}:{cep:g.cep||t.cep||"",logradouro:g.logradouro||g.rua||g.endereco||"",bairro:g.bairro||"",cidade:g.cidade||g.municipio||"",estado:g.estado||g.uf||""},h=t.instituicaoFormacao||t.instituicao_formacao||((E=t.formacao)==null?void 0:E.instituicao)||((A=(k=t.medico)==null?void 0:k.formacao)==null?void 0:A.instituicao)||"",v=t.anoFormacao||t.ano_formacao||((T=t.formacao)==null?void 0:T.ano)||((I=(R=t.medico)==null?void 0:R.formacao)==null?void 0:I.ano)||"",w=t.residencia||((B=(L=t.formacao)==null?void 0:L.residencia)==null?void 0:B.nome)||((F=(G=t.medico)==null?void 0:G.residencia)==null?void 0:F.nome)||"",y=t.instituicaoResidencia||t.instituicao_residencia||((K=(M=t.formacao)==null?void 0:M.residencia)==null?void 0:K.instituicao)||((z=($=t.medico)==null?void 0:$.residencia)==null?void 0:z.instituicao)||"",j=t.anoResidencia||t.ano_residencia||((Y=(q=t.formacao)==null?void 0:q.residencia)==null?void 0:Y.ano)||((D=(ee=t.medico)==null?void 0:ee.residencia)==null?void 0:D.ano)||"",N=t.experiencia||t.experiencias||((H=t.medico)==null?void 0:H.experiencia)||"",P=t.motivacao||t.motivo||t.justificativa||t.reason||"";return{...a,dataAprovacao:r,dataRejeicao:o,documentos:u.length?u:a.documentos,endereco:f,instituicaoFormacao:h,anoFormacao:v,residencia:w,instituicaoResidencia:y,anoResidencia:j,experiencia:N,motivacao:P}}function mA(){const[t,a]=x.useState({nome:"",cnpj:"",email:"",responsavel:""}),[r,o]=x.useState(""),[i,c]=x.useState(""),[d,p]=x.useState(""),[u,g]=x.useState(""),[f,h]=x.useState(!1),[v,w]=x.useState(""),[y,j]=x.useState(""),{toast:N}=ts(),P=E=>{const k=String(E||"").replace(/\D/g,"").slice(0,14),A=k.slice(0,2),T=k.slice(2,5),R=k.slice(5,8),I=k.slice(8,12),L=k.slice(12,14);return k.length>12?`${A}.${T}.${R}/${I}-${L}`:k.length>8?`${A}.${T}.${R}/${I}`:k.length>5?`${A}.${T}.${R}`:k.length>2?`${A}.${T}`:A},C=async()=>{N({title:"Configurações",description:"Alterações salvas (stub)."})};async function _(E=!0){var k,A,T,R,I;if(w(""),j(""),!r){w("Informe o e-mail da secretária.");return}h(!0);try{let L=null;if(E){const B={email:r,first_name:i||void 0,last_name:d||void 0,password:u||void 0,role:"secretaria",type:"secretaria"},G=await Ut.createUsuario(B);if(L=(G==null?void 0:G.id)||((k=G==null?void 0:G.usuario)==null?void 0:k.id)||((A=G==null?void 0:G.user)==null?void 0:A.id)||(G==null?void 0:G.pk)||null,!L){const F=G&&typeof G=="object"?((T=G.user)==null?void 0:T.pk)||((R=G.usuario)==null?void 0:R.pk):null;F&&(L=F)}if(!L)throw new Error("Não foi possível obter o ID da secretária criada.")}else{const B=await Ut.getUsuarios({search:r,page:1,page_size:100}),F=(Array.isArray(B==null?void 0:B.results)?B.results:Array.isArray(B)?B:[]).find(M=>String(M.email||"").toLowerCase()===r.toLowerCase());if(!F)throw new Error("Não foi possível localizar uma usuária com esse e-mail.");if(L=F.id||F.pk,!L)throw new Error("Usuária encontrada, porém sem ID válido.")}await Ts.vincularSecretaria(L),j("Secretária vinculada com sucesso."),o(""),c(""),p(""),g("")}catch(L){const B=(I=L==null?void 0:L.response)!=null&&I.data?JSON.stringify(L.response.data):(L==null?void 0:L.message)||"Falha ao processar solicitação.";w(B)}finally{h(!1)}}return e.jsxs(Cy,{children:[e.jsx("div",{className:"space-y-6",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Configurações"})}),e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsx(xe,{children:"Dados da Clínica"}),e.jsx(Xe,{children:"Edite os dados básicos"})]}),e.jsxs(ie,{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"Nome"}),e.jsx(fe,{value:t.nome,onChange:E=>a({...t,nome:E.target.value}),placeholder:"Nome da clínica"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"CNPJ"}),e.jsx(fe,{value:t.cnpj,onChange:E=>a({...t,cnpj:P(E.target.value)}),placeholder:"00.000.000/0000-00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"E-mail"}),e.jsx(fe,{type:"email",value:t.email,onChange:E=>a({...t,email:E.target.value}),placeholder:"email@clinica.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"Responsável"}),e.jsx(fe,{value:t.responsavel,onChange:E=>a({...t,responsavel:E.target.value}),placeholder:"Nome do responsável"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(Z,{onClick:C,children:"Salvar alterações"})})]})]}),e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsx(xe,{children:"Adicionar secretária"}),e.jsx(Xe,{children:"Crie uma nova secretária ou vincule por e-mail existente"})]}),e.jsxs(ie,{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[v&&e.jsx("div",{className:"text-sm text-red-600",children:v}),y&&e.jsx("div",{className:"text-sm text-emerald-700",children:y})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(me,{children:"E-mail da secretária"}),e.jsx(fe,{type:"email",value:r,onChange:E=>o(E.target.value),placeholder:"secretaria@exemplo.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Nome (opcional)"}),e.jsx(fe,{value:i,onChange:E=>c(E.target.value),placeholder:"Nome"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Sobrenome (opcional)"}),e.jsx(fe,{value:d,onChange:E=>p(E.target.value),placeholder:"Sobrenome"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Senha (opcional)"}),e.jsx(fe,{type:"password",value:u,onChange:E=>g(E.target.value),placeholder:"Senha inicial (ou deixe em branco)"})]}),e.jsxs("div",{className:"md:col-span-2 flex gap-2",children:[e.jsx(Z,{onClick:()=>_(!0),disabled:f,children:f?"Processando...":"Criar e vincular"}),e.jsx(Z,{variant:"outline",onClick:()=>_(!1),disabled:f,children:f?"Processando...":"Vincular por e-mail"})]})]})]})]})}function fA(){const[t,a]=x.useState({totalUsuarios:0,medicosAtivos:0,clinicasAtivas:0,solicitacoesPendentes:0,solicitacoesHoje:0,aprovacoesSemana:0,rejeicoesSemana:0,aprovadosMedicosSemana:0,aprovadasClinicasSemana:0,rejeitadosMedicosSemana:0,rejeitadasClinicasSemana:0}),[r,o]=x.useState([]),[i,c]=x.useState(!0),d=()=>{const g=new Date,f=g.getDay(),h=g.getDate()-f+(f===0?-6:1),v=new Date(g);return v.setDate(h),v.setHours(0,0,0,0),v};x.useEffect(()=>{let g=!0;return(async()=>{var v,w,y;const h=d();try{const j=await Ut.getDashboard();g&&j&&a(N=>({...N,totalUsuarios:j.total_usuarios??j.totalUsuarios??N.totalUsuarios,medicosAtivos:j.medicos_ativos??j.medicosAtivos??N.medicosAtivos,clinicasAtivas:j.clinicas_ativas??j.clinicasAtivas??N.clinicasAtivas,solicitacoesPendentes:j.solicitacoes_pendentes??j.solicitacoesPendentes??N.solicitacoesPendentes,aprovacoesSemana:j.aprovacoes_semana??j.aprovacoesSemana??N.aprovacoesSemana,rejeicoesSemana:j.rejeicoes_semana??j.rejeicoesSemana??N.rejeicoesSemana,aprovadosMedicosSemana:j.aprovados_medicos_semana??j.aprovadosMedicosSemana??N.aprovadosMedicosSemana,aprovadasClinicasSemana:j.aprovadas_clinicas_semana??j.aprovadasClinicasSemana??N.aprovadasClinicasSemana,rejeitadosMedicosSemana:j.rejeitados_medicos_semana??j.rejeitadosMedicosSemana??N.rejeitadosMedicosSemana,rejeitadasClinicasSemana:j.rejeitadas_clinicas_semana??j.rejeitadasClinicasSemana??N.rejeitadasClinicasSemana}))}catch(j){console.warn("[AdminDashboard] getDashboard falhou:",(v=j==null?void 0:j.response)==null?void 0:v.status)}try{const j=await Ut.getSolicitacoes({status:"pending",limit:5}),P=(Array.isArray(j==null?void 0:j.results)?j.results:Array.isArray(j)?j:[]).map(C=>({...C,nome:C.nome??C.name??C.title??"",tipo:(C.tipo??C.type??"").toString().toLowerCase(),dataEnvio:C.dataEnvio??C.created_at??C.data_envio??null}));if(g){o(P);const C=new Date().toDateString(),_=P.filter(E=>{const k=new Date(E.dataEnvio);return!isNaN(k)&&k.toDateString()===C}).length;a(E=>({...E,solicitacoesHoje:_}))}}catch(j){console.warn("[AdminDashboard] getSolicitacoes falhou (pendentes recentes):",(w=j==null?void 0:j.response)==null?void 0:w.status)}try{const j=d().toISOString(),N=async T=>{const R=await Ut.getSolicitacoes({status:T,limit:100,created_at__gte:j});return(Array.isArray(R==null?void 0:R.results)?R.results:Array.isArray(R)?R:[]).map(L=>({tipo:(L.tipo??L.type??"").toString().toLowerCase(),createdAt:L.created_at??L.data_envio??L.dataEnvio??null})).filter(L=>{const B=new Date(L.createdAt);return L.createdAt&&!isNaN(B)&&B>=h})},[P,C]=await Promise.all([N("approved"),N("rejected")]),_=P.filter(T=>T.tipo==="medico").length,E=P.filter(T=>T.tipo==="clinica").length,k=C.filter(T=>T.tipo==="medico").length,A=C.filter(T=>T.tipo==="clinica").length;g&&a(T=>({...T,aprovacoesSemana:T.aprovacoesSemana||0||P.length,rejeicoesSemana:T.rejeicoesSemana||0||C.length,aprovadosMedicosSemana:T.aprovadosMedicosSemana||0||_,aprovadasClinicasSemana:T.aprovadasClinicasSemana||0||E,rejeitadosMedicosSemana:T.rejeitadosMedicosSemana||0||k,rejeitadasClinicasSemana:T.rejeitadasClinicasSemana||0||A}))}catch(j){console.warn("[AdminDashboard] cálculo semanal (fallback) falhou:",(y=j==null?void 0:j.response)==null?void 0:y.status)}finally{g&&c(!1)}})(),()=>{g=!1}},[]);const p=g=>{switch(g){case"pending":return e.jsxs(ft,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-800",children:[e.jsx(lt,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return e.jsxs(ft,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/20 dark:text-green-400 dark:border-green-800",children:[e.jsx(ra,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(ft,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800",children:[e.jsx(na,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},u=g=>{switch(g){case"alta":return e.jsx(ft,{variant:"destructive",className:"text-xs",children:"Alta"});case"normal":return e.jsx(ft,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return e.jsx(ft,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Dashboard Administrativo"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Gerencie usuários e solicitações do sistema"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Z,{variant:"outline",className:"gap-2",asChild:!0,children:e.jsxs(Je,{to:"/admin/usuarios",children:[e.jsx(gs,{className:"h-4 w-4"}),"Usuários"]})}),e.jsx(Z,{variant:"outline",className:"gap-2",asChild:!0,children:e.jsxs(Je,{to:"/admin/relatorios",children:[e.jsx(ji,{className:"h-4 w-4"}),"Relatórios"]})}),e.jsx(Z,{className:"gap-2 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800",asChild:!0,children:e.jsxs(Je,{to:"/admin/solicitacoes",children:[e.jsx(Ha,{className:"h-4 w-4"}),"Solicitações"]})})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50",children:[e.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(xe,{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"Total de Usuários"}),e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx(gs,{className:"h-4 w-4 text-white"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:t.totalUsuarios}),e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"+12% em relação ao mês passado"})]})]}),e.jsxs(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[e.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(xe,{className:"text-sm font-semibold text-green-700 dark:text-green-300",children:"Médicos Ativos"}),e.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:e.jsx(xt,{className:"h-4 w-4 text-white"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:t.medicosAtivos}),e.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"+5 novos esta semana"})]})]}),e.jsxs(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50",children:[e.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(xe,{className:"text-sm font-semibold text-purple-700 dark:text-purple-300",children:"Clínicas Ativas"}),e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:e.jsx(Wr,{className:"h-4 w-4 text-white"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:t.clinicasAtivas}),e.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"+2 novas este mês"})]})]}),e.jsxs(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-950/50 dark:to-amber-900/50",children:[e.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(xe,{className:"text-sm font-semibold text-amber-700 dark:text-amber-300",children:"Solicitações Pendentes"}),e.jsx("div",{className:"p-2 bg-amber-500 rounded-lg",children:e.jsx(qr,{className:"h-4 w-4 text-white"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100",children:t.solicitacoesPendentes}),e.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:[t.solicitacoesHoje," novas hoje"]})]})]})]}),e.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs(ne,{className:"border-0 shadow-lg",children:[e.jsxs(he,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:[e.jsxs(xe,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[e.jsx(Js,{className:"h-5 w-5 text-purple-600"}),"Ações Rápidas"]}),e.jsx(Xe,{className:"text-slate-600 dark:text-slate-400",children:"Acesso rápido às principais funcionalidades"})]}),e.jsxs(ie,{className:"p-6 space-y-4",children:[e.jsx(Je,{to:{pathname:"/admin/solicitacoes",search:"?status=pending"},children:e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-amber-200 bg-amber-50 hover:bg-amber-100 dark:border-amber-800 dark:bg-amber-900/20 dark:hover:bg-amber-900/30 transition-colors group cursor-pointer",children:[e.jsx("div",{className:"p-3 bg-amber-500 rounded-lg",children:e.jsx(lt,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-amber-900 dark:text-amber-100",children:"Solicitações Pendentes"}),e.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:[t.solicitacoesPendentes," solicitações aguardando análise"]})]}),e.jsx(ka,{className:"h-5 w-5 text-amber-600 group-hover:translate-x-1 transition-transform"})]})}),e.jsx(Je,{to:"/admin/usuarios",children:e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-blue-200 bg-blue-50 hover:bg-blue-100 dark:border-blue-800 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 transition-colors group cursor-pointer",children:[e.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:e.jsx(gs,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Gerenciar Usuários"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Visualizar e gerenciar todos os usuários do sistema"})]}),e.jsx(ka,{className:"h-5 w-5 text-blue-600 group-hover:translate-x-1 transition-transform"})]})}),e.jsx(Je,{to:"/admin/relatorios",children:e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-green-200 bg-green-50 hover:bg-green-100 dark:border-green-800 dark:bg-green-900/20 dark:hover:bg-green-900/30 transition-colors group cursor-pointer",children:[e.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:e.jsx(xo,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100",children:"Relatórios"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Visualizar estatísticas e relatórios do sistema"})]}),e.jsx(ka,{className:"h-5 w-5 text-green-600 group-hover:translate-x-1 transition-transform"})]})})]})]}),e.jsxs(ne,{className:"border-0 shadow-lg",children:[e.jsx(he,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(xe,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[e.jsx(lt,{className:"h-5 w-5 text-purple-600"}),"Solicitações Recentes"]}),e.jsx(Xe,{className:"text-slate-600 dark:text-slate-400",children:"Últimas solicitações de cadastro no sistema"})]}),e.jsx(Z,{variant:"outline",asChild:!0,children:e.jsx(Je,{to:"/admin/solicitacoes",children:"Ver Todas"})})]})}),e.jsx(ie,{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:r.map(g=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-purple-100 to-blue-100 dark:from-purple-900/50 dark:to-blue-900/50 flex items-center justify-center",children:g.tipo==="medico"?e.jsx(xt,{className:"h-6 w-6 text-purple-600"}):e.jsx(Wr,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:g.nome}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx("span",{children:g.tipo==="medico"?`${g.especialidade} - ${g.crm}`:`${g.cnpj} - ${g.responsavel}`}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(g.dataEnvio).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[u(g.urgencia),p(g.status),g.status==="pending"&&e.jsx(Z,{size:"sm",className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800",asChild:!0,children:e.jsx(Je,{to:`/admin/solicitacoes/${g.id}`,children:"Revisar"})})]})]},g.id))})})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[e.jsx(he,{children:e.jsxs(xe,{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[e.jsx(ra,{className:"h-5 w-5 text-green-600"}),"Aprovações desta Semana"]})}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-4xl font-bold text-green-700 dark:text-green-300 mb-2",children:t.aprovacoesSemana}),e.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:[t.aprovadosMedicosSemana," médicos e ",t.aprovadasClinicasSemana," clínicas aprovados"]})]})]}),e.jsxs(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950/50 dark:to-red-900/50",children:[e.jsx(he,{children:e.jsxs(xe,{className:"flex items-center gap-2 text-red-800 dark:text-red-200",children:[e.jsx(na,{className:"h-5 w-5 text-red-600"}),"Rejeições desta Semana"]})}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-4xl font-bold text-red-700 dark:text-red-300 mb-2",children:t.rejeicoesSemana}),e.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:[t.rejeitadosMedicosSemana," médicos e ",t.rejeitadasClinicasSemana," clínicas rejeitados"]})]})]}),e.jsxs(ne,{className:"border-0 shadow-lg",children:[e.jsx(he,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:e.jsxs(xe,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[e.jsx(yc,{className:"h-5 w-5 text-purple-600"}),"Configurações"]})}),e.jsxs(ie,{className:"p-6 space-y-3",children:[e.jsx(Z,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:e.jsxs(Je,{to:"/admin/configuracoes",children:[e.jsx(yc,{className:"h-4 w-4"}),"Configurações do Sistema"]})}),e.jsx(Z,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:e.jsxs(Je,{to:"/admin/logs",children:[e.jsx(Js,{className:"h-4 w-4"}),"Logs do Sistema"]})}),e.jsx(Z,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:e.jsxs(Je,{to:"/admin/backup",children:[e.jsx(Ha,{className:"h-4 w-4"}),"Backup e Segurança"]})})]})]})]})]})]})}function hA(){const[t,a]=x.useState(""),[r,o]=x.useState("all"),[i,c]=x.useState("all"),[d,p]=x.useState("all"),[u,g]=x.useState(!1),[f,h]=x.useState([]),v=x.useRef(null),{toast:w}=ts(),y=x.useMemo(()=>({search:t.trim(),status:r,tipo:i,urgencia:d}),[t,r,i,d]);x.useEffect(()=>{g(!0);const R=setTimeout(async()=>{if(v.current)try{v.current.abort()}catch{}const I=new AbortController;v.current=I;try{const L={};y.status!=="all"&&(L.status=y.status),y.tipo!=="all"&&(L.tipo=y.tipo),y.urgencia!=="all"&&(L.urgencia=y.urgencia),y.search&&(L.search=y.search);const B=await Ut.getSolicitacoes(L,{signal:I.signal}),G=Array.isArray(B==null?void 0:B.results)?B.results:Array.isArray(B)?B:[];h(G)}catch(L){(L==null?void 0:L.name)!=="AbortError"&&h([])}finally{g(!1)}},400);return()=>clearTimeout(R)},[y]);const j=async R=>{g(!0);try{const I=await Ut.aprovarSolicitacao(R);h(L=>L.map(B=>B.id===R?{...B,status:"approved",aprovadoPor:(I==null?void 0:I.approved_by)||B.aprovadoPor||"",dataAprovacao:(I==null?void 0:I.approved_at)||B.dataAprovacao||new Date().toISOString(),rejeitadoPor:"",dataRejeicao:null,motivoRejeicao:""}:B)),w({title:"Solicitação aprovada",description:"A solicitação foi aprovada com sucesso."})}catch{w({title:"Erro ao aprovar",description:"Não foi possível aprovar a solicitação.",variant:"destructive"})}finally{g(!1)}},N=async R=>{const I=window.prompt("Informe o motivo da rejeição:");if(I!==null){g(!0);try{const L=await Ut.rejeitarSolicitacao(R,(I||"").trim());h(B=>B.map(G=>G.id===R?{...G,status:"rejected",rejeitadoPor:(L==null?void 0:L.rejected_by)||G.rejeitadoPor||"",dataRejeicao:(L==null?void 0:L.rejected_at)||G.dataRejeicao||new Date().toISOString(),motivoRejeicao:(L==null?void 0:L.rejection_reason)||I||G.motivoRejeicao||"",aprovadoPor:"",dataAprovacao:null}:G)),w({title:"Solicitação rejeitada",description:"A solicitação foi rejeitada."})}catch{w({title:"Erro ao rejeitar",description:"Não foi possível rejeitar a solicitação.",variant:"destructive"})}finally{g(!1)}}},P=R=>{switch(R){case"pending":return e.jsxs(ft,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[e.jsx(lt,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return e.jsxs(ft,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(ra,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(ft,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(na,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},C=R=>{switch(R){case"alta":return e.jsxs(ft,{variant:"destructive",className:"text-xs",children:[e.jsx(fi,{className:"mr-1 h-2 w-2"}),"Alta"]});case"normal":return e.jsx(ft,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return e.jsx(ft,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}},_=f.filter(R=>{const I=(R.nome||"").toLowerCase().includes(t.toLowerCase())||(R.email||"").toLowerCase().includes(t.toLowerCase())||R.crm&&String(R.crm).toLowerCase().includes(t.toLowerCase())||R.cnpj&&String(R.cnpj).includes(t),L=r==="all"||R.status===r,B=i==="all"||R.tipo===i,G=d==="all"||R.urgencia===d;return I&&L&&B&&G}),E=_.filter(R=>R.status==="pending"),k=_.filter(R=>R.status==="approved"),A=_.filter(R=>R.status==="rejected"),T=({solicitacao:R})=>e.jsxs(ne,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg hover:shadow-xl transition-all duration-300 rounded-2xl group",children:[e.jsx(he,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl transition-all duration-300 group-hover:scale-110 ${R.tipo==="medico"?"bg-gradient-to-br from-blue-100 to-indigo-100 text-blue-600":"bg-gradient-to-br from-purple-100 to-pink-100 text-purple-600"}`,children:R.tipo==="medico"?e.jsx(xt,{className:"h-6 w-6"}):e.jsx(Wr,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-xl font-bold text-gray-800 group-hover:text-blue-600 transition-colors",children:R.nome}),e.jsx(Xe,{className:"text-gray-600 font-medium",children:R.email})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[C(R.urgencia),P(R.status)]})]})}),e.jsx(ie,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"font-semibold text-gray-600 text-sm mb-1",children:R.tipo==="medico"?"Especialidade":"CNPJ"}),e.jsx("p",{className:"text-gray-800 font-medium",children:R.tipo==="medico"?R.especialidade:R.cnpj})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"font-semibold text-gray-600 text-sm mb-1",children:R.tipo==="medico"?"CRM":"Responsável"}),e.jsx("p",{className:"text-gray-800 font-medium",children:R.tipo==="medico"?R.crm:R.responsavel})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 rounded-xl border border-blue-100",children:[e.jsx("p",{className:"font-semibold text-blue-600 text-sm mb-1",children:"Data de Envio"}),e.jsxs("p",{className:"flex items-center gap-2 text-blue-800 font-medium",children:[e.jsx(Qe,{className:"h-4 w-4"}),e.jsxs("span",{children:[new Date(R.dataEnvio).toLocaleDateString()," às"," ",new Date(R.dataEnvio).toLocaleTimeString()]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-xl border border-green-100",children:[e.jsx("p",{className:"font-semibold text-green-600 text-sm mb-1",children:"Documentos"}),e.jsxs("p",{className:"text-green-800 font-medium",children:[Array.isArray(R.documentos)?R.documentos.length:0," arquivo(s)"]})]})]}),R.observacoes&&e.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 border border-amber-200 p-4 rounded-xl",children:e.jsx("p",{className:"text-amber-800 text-sm font-medium",children:R.observacoes})}),R.status==="approved"&&e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 p-4 rounded-xl",children:e.jsxs("p",{className:"text-green-800 text-sm font-medium",children:[e.jsx("strong",{children:"Aprovado em:"})," ",R.dataAprovacao?new Date(R.dataAprovacao).toLocaleDateString():"—",R.aprovadoPor?e.jsxs(e.Fragment,{children:[" por ",R.aprovadoPor]}):null]})}),R.status==="rejected"&&R.motivoRejeicao&&e.jsx("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 border border-red-200 p-4 rounded-xl",children:e.jsxs("p",{className:"text-red-800 text-sm font-medium",children:[e.jsx("strong",{children:"Rejeitado:"})," ",R.motivoRejeicao,R.rejeitadoPor&&e.jsxs(e.Fragment,{children:[" por ",R.rejeitadoPor]})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(Z,{variant:"outline",size:"sm",asChild:!0,className:"bg-white hover:bg-blue-50 border-blue-200 text-blue-600 hover:text-blue-700 hover:border-blue-300 transition-all duration-200",children:e.jsxs(Je,{to:`/admin/solicitacoes/${R.id}`,children:[e.jsx(Ea,{className:"mr-2 h-4 w-4"})," Ver detalhes"]})}),R.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(Z,{size:"sm",onClick:()=>j(R.id),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-md hover:shadow-lg transition-all duration-200",disabled:u,children:[e.jsx(ra,{className:"mr-2 h-4 w-4"}),"Aprovar"]}),e.jsxs(Z,{variant:"destructive",size:"sm",onClick:()=>N(R.id),className:"bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 shadow-md hover:shadow-lg transition-all duration-200",disabled:u,children:[e.jsx(na,{className:"mr-2 h-4 w-4"}),"Rejeitar"]})]})]})]})})]});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white",children:e.jsx("div",{className:"container mx-auto px-6 py-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Solicitações"}),e.jsx("p",{className:"text-blue-100",children:"Gerencie solicitações de médicos e clínicas"})]}),e.jsx("div",{className:"hidden md:flex items-center gap-4",children:e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold",children:_.length}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Total"})]})})]})})}),e.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(ne,{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 hover:shadow-lg transition-all duration-300",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-amber-600 text-sm font-medium",children:"Pendentes"}),e.jsx("p",{className:"text-2xl font-bold text-amber-700",children:E.length})]}),e.jsx("div",{className:"bg-amber-100 p-3 rounded-full",children:e.jsx(lt,{className:"h-6 w-6 text-amber-600"})})]})})}),e.jsx(ne,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 hover:shadow-lg transition-all duration-300",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-600 text-sm font-medium",children:"Aprovadas"}),e.jsx("p",{className:"text-2xl font-bold text-green-700",children:k.length})]}),e.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:e.jsx(ra,{className:"h-6 w-6 text-green-600"})})]})})}),e.jsx(ne,{className:"bg-gradient-to-br from-red-50 to-rose-50 border-red-200 hover:shadow-lg transition-all duration-300",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-red-600 text-sm font-medium",children:"Rejeitadas"}),e.jsx("p",{className:"text-2xl font-bold text-red-700",children:A.length})]}),e.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:e.jsx(na,{className:"h-6 w-6 text-red-600"})})]})})}),e.jsx(ne,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 hover:shadow-lg transition-all duration-300",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:_.length})]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:e.jsx(so,{className:"h-6 w-6 text-blue-600"})})]})})})]}),e.jsxs(ne,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-xl rounded-2xl",children:[e.jsx(he,{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-t-2xl border-b",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:e.jsx(so,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-xl",children:"Filtros Avançados"}),e.jsx(Xe,{children:"Use os filtros para refinar sua busca"})]})]})}),e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar por nome, e-mail, CRM ou CNPJ",className:"pl-9 bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",value:t,onChange:R=>a(R.target.value)})]}),e.jsx("div",{children:e.jsxs(Et,{value:r,onValueChange:o,children:[e.jsx(Ct,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:e.jsx(Rt,{placeholder:"Status"})}),e.jsxs(_t,{children:[e.jsx(Ne,{value:"all",children:"Todos"}),e.jsx(Ne,{value:"pending",children:"Pendente"}),e.jsx(Ne,{value:"approved",children:"Aprovado"}),e.jsx(Ne,{value:"rejected",children:"Rejeitado"})]})]})}),e.jsx("div",{children:e.jsxs(Et,{value:i,onValueChange:c,children:[e.jsx(Ct,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:e.jsx(Rt,{placeholder:"Tipo"})}),e.jsxs(_t,{children:[e.jsx(Ne,{value:"all",children:"Todos"}),e.jsx(Ne,{value:"medico",children:"Médicos"}),e.jsx(Ne,{value:"clinica",children:"Clínicas"})]})]})}),e.jsx("div",{children:e.jsxs(Et,{value:d,onValueChange:p,children:[e.jsx(Ct,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:e.jsx(Rt,{placeholder:"Urgência"})}),e.jsxs(_t,{children:[e.jsx(Ne,{value:"all",children:"Todas"}),e.jsx(Ne,{value:"alta",children:"Alta"}),e.jsx(Ne,{value:"normal",children:"Normal"}),e.jsx(Ne,{value:"baixa",children:"Baixa"})]})]})})]})})]}),e.jsx(ne,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-xl rounded-2xl",children:e.jsxs(Ma,{defaultValue:"todas",className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-t-2xl p-6 border-b",children:e.jsxs(Da,{className:"bg-white/80 backdrop-blur-sm border shadow-sm rounded-xl p-1",children:[e.jsxs(wt,{value:"todas",className:"gap-2 data-[state=active]:bg-blue-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[e.jsx(so,{className:"h-4 w-4"})," Todas"]}),e.jsxs(wt,{value:"pendentes",className:"gap-2 data-[state=active]:bg-amber-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[e.jsx(lt,{className:"h-4 w-4"})," Pendentes"]}),e.jsxs(wt,{value:"aprovadas",className:"gap-2 data-[state=active]:bg-green-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[e.jsx(ra,{className:"h-4 w-4"})," Aprovadas"]}),e.jsxs(wt,{value:"rejeitadas",className:"gap-2 data-[state=active]:bg-red-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[e.jsx(na,{className:"h-4 w-4"})," Rejeitadas"]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx(Tt,{value:"todas",children:u?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."})]})}):_.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-gray-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:e.jsx(Ms,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação encontrada."})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:_.map(R=>e.jsx(T,{solicitacao:R},R.id))})}),e.jsx(Tt,{value:"pendentes",children:u?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."})]})}):E.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-amber-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:e.jsx(lt,{className:"h-8 w-8 text-amber-600"})}),e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação pendente."})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:E.map(R=>e.jsx(T,{solicitacao:R},R.id))})}),e.jsx(Tt,{value:"aprovadas",children:u?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."})]})}):k.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-green-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:e.jsx(ra,{className:"h-8 w-8 text-green-600"})}),e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação aprovada."})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:k.map(R=>e.jsx(T,{solicitacao:R},R.id))})}),e.jsx(Tt,{value:"rejeitadas",children:u?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."})]})}):A.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:e.jsx(na,{className:"h-8 w-8 text-red-600"})}),e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação rejeitada."})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:A.map(R=>e.jsx(T,{solicitacao:R},R.id))})})]})]})})]})]})}function pA(){var P;const{id:t}=wn(),a=Ds(),{toast:r}=ts(),[o,i]=x.useState(!1),[c,d]=x.useState(""),[p,u]=x.useState(""),[g,f]=x.useState(!0),[h,v]=x.useState(null);if(x.useEffect(()=>{let C=!0;return(async()=>{try{const E=await Ut.getSolicitacao(t);C&&v(E)}catch{r({title:"Erro ao carregar",description:"Não foi possível carregar a solicitação.",variant:"destructive"}),a("/admin/solicitacoes")}finally{C&&f(!1)}})(),()=>{C=!1}},[t]),g)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Z,{variant:"ghost",onClick:()=>a("/admin/solicitacoes"),children:[e.jsx(hi,{className:"mr-2 h-4 w-4"}),"Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Carregando..."}),e.jsx("p",{className:"text-muted-foreground",children:"Buscando detalhes da solicitação"})]})]})});if(!h)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Z,{variant:"ghost",onClick:()=>a("/admin/solicitacoes"),children:[e.jsx(hi,{className:"mr-2 h-4 w-4"}),"Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Solicitação não encontrada"}),e.jsx("p",{className:"text-muted-foreground",children:"Tente novamente mais tarde."})]})]})});const w=async()=>{i(!0);try{await Ut.aprovarSolicitacao(t,c||""),r({title:"Solicitação aprovada!",description:`${(h==null?void 0:h.nome)||"Solicitação"} aprovada com sucesso.`}),a("/admin/solicitacoes")}catch{r({title:"Erro",description:"Não foi possível aprovar a solicitação.",variant:"destructive"})}finally{i(!1)}},y=async()=>{if(!p.trim()){r({title:"Motivo obrigatório",description:"Por favor, informe o motivo da rejeição.",variant:"destructive"});return}i(!0);try{await Ut.rejeitarSolicitacao(t,p.trim()),r({title:"Solicitação rejeitada",description:`A solicitação de ${(h==null?void 0:h.nome)||""} foi rejeitada.`}),a("/admin/solicitacoes")}catch{r({title:"Erro",description:"Não foi possível rejeitar a solicitação.",variant:"destructive"})}finally{i(!1)}},j=C=>{switch(C){case"pending":return e.jsxs(ft,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[e.jsx(fi,{className:"mr-1 h-3 w-3"}),"Aguardando Análise"]});case"approved":return e.jsxs(ft,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(ra,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(ft,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(na,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},N=(h==null?void 0:h.endereco)||{};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Z,{variant:"ghost",onClick:()=>a("/admin/solicitacoes"),children:[e.jsx(hi,{className:"mr-2 h-4 w-4"}),"Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Detalhes da Solicitação"}),e.jsx("p",{className:"text-muted-foreground",children:"Análise completa da solicitação de cadastro"})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(ne,{children:[e.jsx(he,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`app-quick-icon ${h.tipo==="medico"?"info":"primary"} h-12 w-12`,children:h.tipo==="medico"?e.jsx(xt,{className:"h-6 w-6"}):e.jsx(Wr,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-xl",children:h.nome}),e.jsx(Xe,{children:h.tipo==="medico"?"Solicitação de Cadastro Médico":"Solicitação de Cadastro de Clínica"})]})]}),j(h.status)]})}),e.jsxs(ie,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fr,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:h.email})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:h.telefone})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:h.tipo==="medico"?"Especialidade":"CNPJ"}),e.jsx("span",{children:h.especialidade})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:h.tipo==="medico"?"CRM":"Responsável Técnico"}),e.jsx("span",{children:h.crm})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Data de Envio"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[new Date(h.dataEnvio||h.created_at).toLocaleDateString()," às"," ",new Date(h.dataEnvio||h.created_at).toLocaleTimeString()]})]})]})]}),e.jsx(Ls,{}),h.tipo==="medico"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Formação Acadêmica"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Instituição de Formação"}),e.jsx("span",{children:h.instituicaoFormacao})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Ano de Formação"}),e.jsx("span",{children:h.anoFormacao})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Residência"}),e.jsx("span",{children:h.residencia})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Instituição da Residência"}),e.jsx("span",{children:h.instituicaoResidencia})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Ano da Residência"}),e.jsx("span",{children:h.anoResidencia})]})]})]}),e.jsx(Ls,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Experiência Profissional"}),e.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm",children:h.experiencia})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Motivação"}),e.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm",children:h.motivacao})})]}),e.jsx(Ls,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Endereço"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"CEP"}),e.jsx("span",{children:N.cep||"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Logradouro"}),e.jsx("span",{children:N.logradouro||"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Bairro"}),e.jsx("span",{children:N.bairro||"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Cidade/Estado"}),e.jsxs("span",{children:[N.cidade||"—","/",N.estado||"—"]})]})]})]})]})]}),e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(cs,{className:"h-5 w-5"}),"Documentos Enviados"]}),e.jsxs(Xe,{children:[((P=h.documentos)==null?void 0:P.length)||0," documento(s) anexado(s)"]})]}),e.jsx(ie,{children:e.jsx("div",{className:"space-y-3",children:(h.documentos||[]).map((C,_)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(cs,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:C.nome}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[C.tamanho," • Enviado em ",new Date(C.dataUpload).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Z,{variant:"outline",size:"sm",children:[e.jsx(Ea,{className:"mr-2 h-4 w-4"}),"Visualizar"]}),e.jsxs(Z,{variant:"outline",size:"sm",children:[e.jsx(mr,{className:"mr-2 h-4 w-4"}),"Baixar"]})]})]},_))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[h.status==="pending"&&e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsx(xe,{children:"Ações"}),e.jsx(Xe,{children:"Aprovar ou rejeitar esta solicitação"})]}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"observacoes",children:"Observações (opcional)"}),e.jsx(pt,{id:"observacoes",placeholder:"Adicione observações sobre esta solicitação...",value:c,onChange:C=>d(C.target.value)})]}),e.jsxs(Z,{variant:"default",className:"w-full",onClick:w,disabled:o,children:[e.jsx(ra,{className:"mr-2 h-4 w-4"}),o?"Aprovando...":"Aprovar Solicitação"]}),e.jsx(Ls,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"motivoRejeicao",children:"Motivo da Rejeição"}),e.jsx(pt,{id:"motivoRejeicao",placeholder:"Informe o motivo da rejeição...",value:p,onChange:C=>u(C.target.value)})]}),e.jsxs(Z,{variant:"destructive",className:"w-full",onClick:y,disabled:o,children:[e.jsx(na,{className:"mr-2 h-4 w-4"}),o?"Rejeitando...":"Rejeitar Solicitação"]})]})]}),e.jsxs(ne,{children:[e.jsx(he,{children:e.jsx(xe,{children:"Informações do Sistema"})}),e.jsxs(ie,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"ID da Solicitação:"}),e.jsxs("span",{className:"font-mono",children:["#",h.id.toString().padStart(6,"0")]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Tipo:"}),e.jsx("span",{className:"capitalize",children:h.tipo})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Urgência:"}),e.jsx(ft,{variant:h.urgencia==="alta"?"destructive":"secondary",className:"text-xs",children:h.urgencia})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"}),j(h.status)]})]})]})]})]})]})}const Bg=[{value:"7",label:"Últimos 7 dias"},{value:"30",label:"Últimos 30 dias"},{value:"90",label:"Últimos 90 dias"}];function xA(t){const a=new Date(t);return a.setHours(0,0,0,0),a}function gA(t){const a=new Date(t);return a.setHours(23,59,59,999),a}function vA(t){const a=new Date(t),r=a.getFullYear(),o=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");return`${r}-${o}-${i}`}function jA(){var h;const[t,a]=x.useState("30"),[r,o]=x.useState("all"),[i,c]=x.useState(!1),[d,p]=x.useState(null),[u,g]=x.useState([]),f=x.useMemo(()=>{if(!u.length)return{total:0,aprovadas:0,rejeitadas:0,pendentes:0,aprovMed:0,aprovCli:0,rejMed:0,rejCli:0,byDay:[],maxDay:0};const v=u.length,w=u.filter(T=>T.status==="aprovada").length,y=u.filter(T=>T.status==="rejeitada").length,j=u.filter(T=>T.status==="pendente").length,N=u.filter(T=>T.status==="aprovada"&&T.tipo==="medico").length,P=u.filter(T=>T.status==="aprovada"&&T.tipo==="clinica").length,C=u.filter(T=>T.status==="rejeitada"&&T.tipo==="medico").length,_=u.filter(T=>T.status==="rejeitada"&&T.tipo==="clinica").length,E={};u.forEach(T=>{const R=vA(T.createdAt);E[R]||(E[R]={ymd:R,aprov:0,rej:0}),T.status==="aprovada"&&E[R].aprov++,T.status==="rejeitada"&&E[R].rej++});const k=Object.values(E).sort((T,R)=>T.ymd.localeCompare(R.ymd)),A=Math.max(...k.map(T=>Math.max(T.aprov,T.rej)),1);return{total:v,aprovadas:w,rejeitadas:y,pendentes:j,aprovMed:N,aprovCli:P,rejMed:C,rejCli:_,byDay:k,maxDay:A}},[u]);return x.useEffect(()=>{(async()=>{c(!0),p(null);try{const w=new Date,y=parseInt(t,10),j=new Date(w.getTime()-y*24*60*60*1e3),N={startDate:xA(j).toISOString(),endDate:gA(w).toISOString()};r!=="all"&&(N.tipo=r);const P=await ue.get("/admin/solicitacoes",{params:N});g(P.data||[])}catch(w){console.error("Erro ao buscar dados:",w),p(w)}finally{c(!1)}})()},[t,r]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6 space-y-8",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsx(ji,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Relatórios Administrativos"}),e.jsx("p",{className:"text-blue-100 mt-1",children:"Análise detalhada de solicitações e métricas do sistema"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(xo,{className:"h-5 w-5 text-green-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Total"})]}),e.jsx("div",{className:"text-2xl font-bold",children:f.total})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ra,{className:"h-5 w-5 text-green-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Aprovadas"})]}),e.jsx("div",{className:"text-2xl font-bold text-green-300",children:f.aprovadas})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(na,{className:"h-5 w-5 text-red-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Rejeitadas"})]}),e.jsx("div",{className:"text-2xl font-bold text-red-300",children:f.rejeitadas})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(lt,{className:"h-5 w-5 text-amber-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Pendentes"})]}),e.jsx("div",{className:"text-2xl font-bold text-amber-300",children:f.pendentes})]})]})]})]}),e.jsx(ne,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:e.jsxs(he,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(so,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-slate-800",children:"Filtros Avançados"}),e.jsx(Xe,{className:"text-slate-600",children:"Configure o período e tipo de análise"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Período"}),e.jsxs(Et,{value:t,onValueChange:a,children:[e.jsx(Ct,{className:"w-48 bg-white border-slate-200 focus:border-blue-500 focus:ring-blue-500/20",children:e.jsx(Rt,{})}),e.jsx(_t,{children:Bg.map(v=>e.jsx(Ne,{value:v.value,children:v.label},v.value))})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Tipo"}),e.jsxs(Et,{value:r,onValueChange:o,children:[e.jsx(Ct,{className:"w-48 bg-white border-slate-200 focus:border-blue-500 focus:ring-blue-500/20",children:e.jsx(Rt,{})}),e.jsxs(_t,{children:[e.jsx(Ne,{value:"all",children:"Todos"}),e.jsx(Ne,{value:"medico",children:"Médico"}),e.jsx(Ne,{value:"clinica",children:"Clínica"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ações"}),e.jsxs(Z,{variant:"outline",size:"sm",disabled:i,onClick:()=>a(t),className:"bg-white border-slate-200 hover:bg-slate-50 hover:border-blue-300 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:border-blue-400 transition-all duration-200",children:[e.jsx($0,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),"Atualizar"]})]})]})]})}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ne,{className:"border-0 shadow-xl bg-gradient-to-br from-white to-slate-50 hover:shadow-2xl transition-all duration-300 group",children:[e.jsx(he,{className:"pb-3",children:e.jsx(xe,{className:"text-sm font-medium text-slate-600 group-hover:text-slate-800 transition-colors",children:"Total no Período"})}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-slate-800 mb-2",children:f.total}),e.jsx("p",{className:"text-sm text-slate-500",children:(h=Bg.find(v=>v.value===t))==null?void 0:h.label})]})]}),e.jsxs(ne,{className:"border-0 shadow-xl bg-gradient-to-br from-green-50 to-emerald-50 hover:shadow-2xl transition-all duration-300 group",children:[e.jsx(he,{className:"pb-3",children:e.jsxs(xe,{className:"text-sm font-medium flex items-center gap-2 text-green-700 group-hover:text-green-800 transition-colors",children:[e.jsx(ra,{className:"h-4 w-4"}),"Aprovadas"]})}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:f.aprovadas}),e.jsxs("p",{className:"text-sm text-green-600/70",children:[f.aprovMed," médicos • ",f.aprovCli," clínicas"]})]})]}),e.jsxs(ne,{className:"border-0 shadow-xl bg-gradient-to-br from-red-50 to-rose-50 hover:shadow-2xl transition-all duration-300 group",children:[e.jsx(he,{className:"pb-3",children:e.jsxs(xe,{className:"text-sm font-medium flex items-center gap-2 text-red-700 group-hover:text-red-800 transition-colors",children:[e.jsx(na,{className:"h-4 w-4"}),"Rejeitadas"]})}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:f.rejeitadas}),e.jsxs("p",{className:"text-sm text-red-600/70",children:[f.rejMed," médicos • ",f.rejCli," clínicas"]})]})]}),e.jsxs(ne,{className:"border-0 shadow-xl bg-gradient-to-br from-amber-50 to-yellow-50 hover:shadow-2xl transition-all duration-300 group",children:[e.jsx(he,{className:"pb-3",children:e.jsxs(xe,{className:"text-sm font-medium flex items-center gap-2 text-amber-700 group-hover:text-amber-800 transition-colors",children:[e.jsx(lt,{className:"h-4 w-4"}),"Pendentes"]})}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-amber-600 mb-2",children:f.pendentes}),e.jsx("p",{className:"text-sm text-amber-600/70",children:"Aguardando revisão"})]})]})]}),e.jsxs(ne,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsxs(he,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:[e.jsx(xe,{className:"text-slate-800",children:"Série diária (Aprovadas x Rejeitadas)"}),e.jsx(Xe,{className:"text-slate-600",children:"Distribuição por dia no período filtrado"})]}),e.jsxs(ie,{className:"space-y-4 p-6",children:[f.byDay.map(v=>{const w=Math.round(v.aprov/f.maxDay*100),y=Math.round(v.rej/f.maxDay*100);return e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600 mb-2",children:[e.jsx("span",{className:"font-medium",children:v.ymd}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ft,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:["Aprovadas: ",v.aprov]}),e.jsxs(ft,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:["Rejeitadas: ",v.rej]})]})]}),e.jsxs("div",{className:"h-4 w-full rounded-lg bg-slate-100 overflow-hidden shadow-inner",children:[e.jsx("div",{className:"h-4 bg-gradient-to-r from-green-400 to-green-500 inline-block transition-all duration-500 group-hover:from-green-500 group-hover:to-green-600",style:{width:`${w}%`},title:`Aprovadas: ${v.aprov}`}),e.jsx("div",{className:"h-4 bg-gradient-to-r from-red-400 to-red-500 inline-block transition-all duration-500 group-hover:from-red-500 group-hover:to-red-600",style:{width:`${y}%`},title:`Rejeitadas: ${v.rej}`})]})]},v.ymd)}),!f.byDay.length&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-slate-400 text-lg mb-2",children:"📊"}),e.jsx("div",{className:"text-sm text-slate-500",children:"Sem dados no período escolhido."})]})]})]}),i&&e.jsx(ne,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:e.jsx(ie,{className:"p-8",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gradient-to-r from-slate-200 to-slate-300 rounded-lg w-1/3"}),e.jsx("div",{className:"h-32 bg-gradient-to-r from-slate-200 to-slate-300 rounded-lg"})]})})}),d&&e.jsx(ne,{className:"border-0 shadow-xl bg-gradient-to-br from-red-50 to-rose-50",children:e.jsxs(ie,{className:"p-8 text-center",children:[e.jsx("div",{className:"text-red-400 text-4xl mb-4",children:"⚠️"}),e.jsx("p",{className:"text-red-600 font-medium",children:"Erro ao carregar dados"}),e.jsx("p",{className:"text-red-500 text-sm mt-2",children:String(d)})]})})]})}function yA(){const[t,a]=x.useState([]),[r,o]=x.useState(!1),[i,c]=x.useState(null),[d,p]=x.useState(null),[u,g]=x.useState(null),[f,h]=x.useState(""),[v,w]=x.useState(""),[y,j]=x.useState(""),[N,P]=x.useState(""),[C,_]=x.useState(""),[E,k]=x.useState(""),[A,T]=x.useState(""),R=x.useMemo(()=>{const L={ordering:"-created_at",limit:20};return f&&(L.action=f),v&&(L.entity=v),y&&(L.status=y),N&&(L.user=N),C&&(L.created_at__gte=new Date(C).toISOString()),E&&(L.created_at__lte=new Date(E).toISOString()),A&&(L.search=A),L},[f,v,y,N,C,E,A]),I=async L=>{var B,G,F,M;o(!0),c(null);try{const K=typeof L=="string"?await ue.get(L):await Ut.getAuditoria(L),$=(K==null?void 0:K.data)??K,z=Array.isArray($==null?void 0:$.results)?$.results:Array.isArray($)?$:[];a(z),p(($==null?void 0:$.next)||null),g(($==null?void 0:$.previous)||null)}catch(K){const $=(B=K==null?void 0:K.response)==null?void 0:B.status,q=(typeof((G=K==null?void 0:K.response)==null?void 0:G.data)=="string"?null:(M=(F=K==null?void 0:K.response)==null?void 0:F.data)==null?void 0:M.detail)||(K==null?void 0:K.message)||"Falha ao carregar auditoria";c($?`Erro ${$}: ${q}`:q)}finally{o(!1)}};return x.useEffect(()=>{I(R)},[R]),e.jsxs("div",{className:"space-y-8 p-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-red-700 to-red-800 rounded-2xl p-8 text-white shadow-2xl",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsx(Ha,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold",children:"Auditoria"}),e.jsx("p",{className:"text-red-100 text-lg",children:"Acompanhe registros de ações do sistema"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-8",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Js,{className:"h-6 w-6 text-red-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-100 text-sm",children:"Total de Registros"}),e.jsx("p",{className:"text-2xl font-bold",children:t.length})]})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(is,{className:"h-6 w-6 text-red-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-100 text-sm",children:"Usuários Únicos"}),e.jsx("p",{className:"text-2xl font-bold",children:new Set(t.map(L=>{var B;return(B=L.user)==null?void 0:B.id})).size})]})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Qe,{className:"h-6 w-6 text-red-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-100 text-sm",children:"Hoje"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(L=>new Date(L.created_at).toDateString()===new Date().toDateString()).length})]})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ea,{className:"h-6 w-6 text-red-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-100 text-sm",children:"Sucessos"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(L=>L.status==="success").length})]})]})})]})]}),e.jsxs(ne,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[e.jsx(he,{className:"pb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg",children:e.jsx(so,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-xl font-semibold text-gray-900",children:"Filtros Avançados"}),e.jsx(Xe,{className:"text-gray-600",children:"Refine a busca por período, usuário e tipo de ação"})]})]})}),e.jsxs(ie,{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Data de Início"}),e.jsx(fe,{type:"date",value:C,onChange:L=>_(L.target.value),className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Data de Fim"}),e.jsx(fe,{type:"date",value:E,onChange:L=>k(L.target.value),className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),e.jsxs(Et,{value:y,onValueChange:L=>j(L==="all"?"":L),children:[e.jsx(Ct,{className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",children:e.jsx(Rt,{placeholder:"Selecionar status"})}),e.jsxs(_t,{children:[e.jsx(Ne,{value:"all",children:"Todos"}),e.jsx(Ne,{value:"success",children:"Sucesso"}),e.jsx(Ne,{value:"fail",children:"Falha"})]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Usuário (UUID)"}),e.jsx(fe,{value:N,onChange:L=>P(L.target.value),placeholder:"ID do usuário",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ação"}),e.jsx(fe,{value:f,onChange:L=>h(L.target.value),placeholder:"ex: login, create, update",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Entidade"}),e.jsx(fe,{value:v,onChange:L=>w(L.target.value),placeholder:"ex: Consulta, Paciente",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Busca Geral"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(fe,{value:A,onChange:L=>T(L.target.value),placeholder:"Buscar por ação, entidade, IP ou usuário...",className:"pl-10 h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),e.jsxs(Z,{onClick:()=>I(R),className:"h-11 px-6 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(Ms,{className:"mr-2 h-4 w-4"}),"Buscar"]}),e.jsxs(Z,{variant:"outline",onClick:()=>{h(""),w(""),j(""),P(""),_(""),k(""),T("")},className:"h-11 px-6 bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:[e.jsx($0,{className:"mr-2 h-4 w-4"}),"Limpar"]})]})]})]})]}),e.jsxs(ne,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[e.jsxs(he,{className:"flex flex-row items-center justify-between pb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg",children:e.jsx(Js,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-xl font-semibold text-gray-900",children:"Registros de Auditoria"}),e.jsx(Xe,{className:"text-gray-600",children:"Resultados paginados (20 por página)"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{variant:"outline",size:"sm",disabled:!u||r,onClick:()=>I(u),className:"bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:e.jsx(M0,{className:"h-4 w-4"})}),e.jsx(Z,{variant:"outline",size:"sm",disabled:!d||r,onClick:()=>I(d),className:"bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:e.jsx(ka,{className:"h-4 w-4"})})]})]}),e.jsxs(ie,{children:[i&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:e.jsx("p",{className:"text-red-700 font-medium",children:i})}),e.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Data"}),e.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Usuário"}),e.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Ação"}),e.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Entidade"}),e.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"ID"}),e.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"IP"}),e.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Status"})]})}),e.jsxs("tbody",{children:[!r&&t.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gray-100 rounded-full",children:e.jsx(Js,{className:"h-6 w-6 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhum registro encontrado"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Tente ajustar os filtros de busca"})]})})}),t.map((L,B)=>{var G,F;return e.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-purple-50/50 transition-all duration-200 ${B%2===0?"bg-white":"bg-gray-50/30"}`,children:[e.jsx("td",{className:"py-4 px-6 text-sm text-gray-900 font-medium whitespace-nowrap",children:new Date(L.created_at).toLocaleString("pt-BR")}),e.jsx("td",{className:"py-4 px-6 text-sm text-gray-700",children:((G=L.user)==null?void 0:G.username)||((F=L.user)==null?void 0:F.email)||"-"}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:L.action})}),e.jsx("td",{className:"py-4 px-6 text-sm text-gray-700",children:L.entity||"-"}),e.jsx("td",{className:"py-4 px-6 text-sm text-gray-700 font-mono",children:L.entity_id||"-"}),e.jsx("td",{className:"py-4 px-6 text-sm text-gray-700 font-mono",children:L.ip_address||"-"}),e.jsx("td",{className:"py-4 px-6",children:L.status==="success"?e.jsx(ft,{className:"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200",variant:"outline",children:"Sucesso"}):e.jsx(ft,{className:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",variant:"outline",children:"Falha"})})]},L.id)})]})]})})]})]})]})}function bA(){const{activeRole:t,toggleRole:a}=Ga(),{user:r}=xr(),o=Ds();if(!((r==null?void 0:r.role)==="medico"||(r==null?void 0:r.is_medico)||(r==null?void 0:r.isMedico)||!1))return null;const c=()=>{a(),o(t==="medico"?"/paciente/perfil":"/medico/dashboard")};return e.jsx(Z,{variant:"outline",size:"sm",onClick:c,className:"flex items-center gap-2 transition-all duration-200 hover:shadow-md",children:t==="medico"?e.jsxs(e.Fragment,{children:[e.jsx(is,{className:"h-4 w-4"}),e.jsx("span",{children:"Mudar para Paciente"})]}):e.jsxs(e.Fragment,{children:[e.jsx(xt,{className:"h-4 w-4"}),e.jsx("span",{children:"Mudar para Médico"})]})})}function wA(){const{isAuthenticated:t}=Ga();return e.jsxs("div",{className:"flex min-h-screen flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"container flex h-14 items-center",children:[e.jsx("div",{className:"mr-4 flex",children:e.jsx(Je,{to:"/",className:"mr-6 flex items-center space-x-2",children:e.jsx("span",{className:"font-bold",children:"Portal Médico"})})}),e.jsx("div",{className:"flex flex-1 items-center justify-end space-x-2",children:e.jsxs("nav",{className:"flex items-center space-x-2",children:[e.jsx(Bf,{}),t&&e.jsx(bA,{})]})})]})}),e.jsx("main",{className:"flex-1",children:e.jsx("section",{className:"w-full py-12 md:py-24 lg:py-32",children:e.jsx("div",{className:"container px-4 md:px-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-8 text-center",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl",children:"Bem-vindo ao Portal Médico"}),e.jsx("p",{className:"mx-auto max-w-[700px] text-gray-500 md:text-xl dark:text-gray-400",children:"Conectando médicos e pacientes para uma experiência de saúde integrada."}),e.jsx("p",{className:"mx-auto max-w-[700px] text-gray-500 md:text-lg dark:text-gray-400",children:"Nossa plataforma oferece uma solução completa para gerenciamento de consultas, prontuários e histórico médico, facilitando a comunicação entre profissionais de saúde e pacientes."})]}),t?e.jsxs("div",{className:"space-x-4",children:[e.jsx(Je,{to:"/medico/dashboard",children:e.jsx(Z,{children:"Acessar como Médico"})}),e.jsx(Je,{to:"/paciente/perfil",children:e.jsx(Z,{variant:"outline",children:"Acessar como Paciente"})})]}):e.jsx("div",{className:"w-full max-w-md mx-auto mt-8",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx(Je,{to:"/login",className:"w-full",children:e.jsx(Z,{className:"w-full h-12 rounded-xl bg-app-gradient text-white font-semibold shadow-app hover:opacity-90",children:"Entrar"})}),e.jsx(Je,{to:"/registrar",className:"w-full",children:e.jsx(Z,{variant:"outline",className:"w-full h-12 rounded-xl border-slate-300 bg-white/90 text-slate-700 shadow-sm hover:bg-white hover:shadow-md",children:"Criar Conta"})})]})})]})})})})]})}function NA(){var A,T,R,I,L,B,G,F,M,K;const[t,a]=x.useState(!1),[r,o]=x.useState("none"),{toast:i}=ts();Ds();const{setActiveRole:c,setUserPermissions:d}=Ga(),p=((A=ht.getCurrentUser)==null?void 0:A.call(ht))||null,g=`medicoApplicationStatus:${p&&(p.id||p.pk||p.email||p.username)||"anon"}`;x.useEffect(()=>{try{const $=localStorage.getItem("medicoApplicationStatus");$&&!localStorage.getItem(g)&&(localStorage.setItem(g,$),localStorage.removeItem("medicoApplicationStatus"));const z=JSON.parse(localStorage.getItem(g)||"{}");z!=null&&z.status&&o(z.status)}catch{}},[g]);const[f,h]=x.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),v=$=>String($||"").replace(/\D/g,"").slice(0,7),w=$=>{const{name:z,value:q}=$.target,Y=z==="crm"?v(q):q;h({...f,[z]:Y})},y=($,z)=>{h({...f,[$]:z})},j=($,z)=>{h({...f,documentos:{...f.documentos,[$]:z}})},N=x.useRef(null),P=x.useRef(null),C=x.useRef(null),_=($,z)=>{h(q=>({...q,documentos:{...q.documentos,[$]:null}})),z!=null&&z.current&&(z.current.value="")},E=async $=>{var z,q,Y,ee;if($.preventDefault(),a(!0),!((z=f.documentos)!=null&&z.diplomaMedicina)){i({title:"Arquivo obrigatório",description:"Anexe o Diploma de Medicina antes de enviar.",variant:"destructive"}),a(!1);return}try{const{solicitacaoService:D}=await vi(async()=>{const{solicitacaoService:H}=await Promise.resolve().then(()=>gb);return{solicitacaoService:H}},void 0);await D.criarSolicitacaoMedico(f),o("pending"),localStorage.setItem(g,JSON.stringify({status:"pending",at:new Date().toISOString()})),d(H=>({...H,medicoStatus:"pending"})),i({title:"Solicitação enviada!",description:"Sua solicitação para se tornar médico foi enviada para análise."})}catch(D){const H=(q=D==null?void 0:D.response)==null?void 0:q.status;if(H===404)o("pending"),localStorage.setItem(g,JSON.stringify({status:"pending",at:new Date().toISOString(),simulated:!0})),d(ae=>({...ae,medicoStatus:"pending"})),i({title:"Solicitação registrada (modo teste)",description:"Sem endpoint de backend disponível. Status salvo localmente."});else if(H===405){const ae=((Y=D==null?void 0:D.config)==null?void 0:Y.url)||"(desconhecido)";console.warn("Endpoint não aceita POST (405). URL usada:",ae),i({title:"Método não permitido (405)",description:`O backend não aceita POST neste endpoint: ${ae}. Verifique a variável de ambiente do endpoint de solicitações do médico ou me informe a rota correta de criação.`,variant:"destructive"})}else{const ae=(ee=D==null?void 0:D.response)==null?void 0:ee.data;console.error("[MedicoRegistration] criarSolicitacaoMedico falhou:",D,ae),i({title:"Erro ao enviar",description:typeof ae=="string"?ae:"Não foi possível enviar a solicitação. Verifique os campos e tente novamente.",variant:"destructive"})}}finally{a(!1)}},k=()=>{switch(r){case"pending":return e.jsxs(ft,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[e.jsx(lt,{className:"mr-1 h-3 w-3"}),"Aguardando Aprovação"]});case"approved":return e.jsxs(ft,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(ra,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(ft,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(na,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}};return r==="approved"?e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-5 w-5 text-green-600"}),e.jsx(xe,{className:"text-green-700",children:"Parabéns! Você é um médico aprovado"})]}),e.jsx(Xe,{children:"Sua solicitação foi aprovada. Agora você pode acessar todas as funcionalidades médicas."})]}),e.jsx(ie,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Você agora pode alternar entre os perfis de paciente e médico usando o botão no menu lateral."})}),e.jsx(Z,{className:"w-full",children:"Acessar Área Médica"})]})})]}):r==="pending"?e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-5 w-5"}),e.jsx(xe,{children:"Solicitação de Cadastro Médico"})]}),k()]}),e.jsx(Xe,{children:"Sua solicitação está sendo analisada pela equipe administrativa."})]}),e.jsx(ie,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[e.jsx("strong",{children:"Status:"})," Aguardando aprovação",e.jsx("br",{}),e.jsx("strong",{children:"Enviado em:"})," ",new Date().toLocaleDateString(),e.jsx("br",{}),e.jsx("strong",{children:"Tempo estimado:"})," 2-5 dias úteis"]})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Você receberá um email quando sua solicitação for processada. Enquanto isso, você pode continuar usando o sistema como paciente."})]})})]}):r==="rejected"?e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-5 w-5"}),e.jsx(xe,{children:"Solicitação de Cadastro Médico"})]}),k()]}),e.jsx(Xe,{children:"Sua solicitação foi rejeitada. Veja os motivos abaixo."})]}),e.jsx(ie,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[e.jsx("strong",{children:"Motivos da rejeição:"}),e.jsx("br",{}),"• Documentação incompleta",e.jsx("br",{}),"• CRM não encontrado no sistema do CFM",e.jsx("br",{}),"• Informações inconsistentes"]})}),e.jsx(Z,{variant:"outline",className:"w-full bg-transparent",onClick:()=>o("none"),children:"Enviar Nova Solicitação"})]})})]}):e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-5 w-5"}),e.jsx(xe,{children:"Cadastro como Médico"})]}),e.jsx(Xe,{children:"Preencha os dados abaixo para solicitar acesso às funcionalidades médicas"})]}),e.jsx(ie,{children:e.jsxs("form",{onSubmit:E,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Dados Profissionais"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"crm",children:"CRM *"}),e.jsx(fe,{id:"crm",name:"crm",placeholder:"Ex: CRM/SP 123456",value:f.crm,onChange:w,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"especialidade",children:"Especialidade *"}),e.jsxs(Et,{onValueChange:$=>y("especialidade",$),children:[e.jsx(Ct,{children:e.jsx(Rt,{placeholder:"Selecione sua especialidade"})}),e.jsxs(_t,{children:[e.jsx(Ne,{value:"clinica-geral",children:"Clínica Geral"}),e.jsx(Ne,{value:"cardiologia",children:"Cardiologia"}),e.jsx(Ne,{value:"dermatologia",children:"Dermatologia"}),e.jsx(Ne,{value:"endocrinologia",children:"Endocrinologia"}),e.jsx(Ne,{value:"ginecologia",children:"Ginecologia"}),e.jsx(Ne,{value:"neurologia",children:"Neurologia"}),e.jsx(Ne,{value:"ortopedia",children:"Ortopedia"}),e.jsx(Ne,{value:"pediatria",children:"Pediatria"}),e.jsx(Ne,{value:"psiquiatria",children:"Psiquiatria"}),e.jsx(Ne,{value:"urologia",children:"Urologia"}),e.jsx(Ne,{value:"outras",children:"Outras"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Formação Acadêmica"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"instituicaoFormacao",children:"Instituição de Formação *"}),e.jsx(fe,{id:"instituicaoFormacao",name:"instituicaoFormacao",placeholder:"Ex: USP, UNIFESP, etc.",value:f.instituicaoFormacao,onChange:w,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"anoFormacao",children:"Ano de Formação *"}),e.jsx(fe,{id:"anoFormacao",name:"anoFormacao",type:"number",placeholder:"Ex: 2015",min:"1950",max:new Date().getFullYear(),value:f.anoFormacao,onChange:w,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"residencia",children:"Residência Médica"}),e.jsx(fe,{id:"residencia",name:"residencia",placeholder:"Ex: Cardiologia",value:f.residencia,onChange:w})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"instituicaoResidencia",children:"Instituição da Residência"}),e.jsx(fe,{id:"instituicaoResidencia",name:"instituicaoResidencia",placeholder:"Ex: Hospital das Clínicas",value:f.instituicaoResidencia,onChange:w})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"anoResidencia",children:"Ano de Conclusão da Residência"}),e.jsx(fe,{id:"anoResidencia",name:"anoResidencia",type:"number",placeholder:"Ex: 2018",min:"1950",max:new Date().getFullYear(),value:f.anoResidencia,onChange:w})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Experiência Profissional"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"experiencia",children:"Descreva sua experiência profissional *"}),e.jsx(pt,{id:"experiencia",name:"experiencia",placeholder:"Descreva onde trabalhou, por quanto tempo, principais atividades...",className:"min-h-[100px]",value:f.experiencia,onChange:w,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"motivacao",children:"Por que deseja usar nossa plataforma? *"}),e.jsx(pt,{id:"motivacao",name:"motivacao",placeholder:"Conte-nos sobre suas motivações e como pretende usar a plataforma...",className:"min-h-[100px]",value:f.motivacao,onChange:w,required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Documentos Obrigatórios"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Diploma de Medicina *"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var $;return($=N.current)==null?void 0:$.click()},onDragOver:$=>$.preventDefault(),onDrop:$=>{var q;$.preventDefault();const z=(q=$.dataTransfer.files)==null?void 0:q[0];z&&j("diplomaMedicina",z)},children:[e.jsx(Zu,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:(T=f.documentos)!=null&&T.diplomaMedicina?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(R=f.documentos)!=null&&R.diplomaMedicina?f.documentos.diplomaMedicina.name:"PDF, JPG ou PNG até 5MB"}),e.jsx(fe,{ref:N,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:$=>j("diplomaMedicina",$.target.files[0])}),((I=f.documentos)==null?void 0:I.diplomaMedicina)&&e.jsx("div",{className:"mt-2",children:e.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>_("diplomaMedicina",N),children:"Remover arquivo"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Certificado de Residência (se aplicável)"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var $;return($=P.current)==null?void 0:$.click()},onDragOver:$=>$.preventDefault(),onDrop:$=>{var q;$.preventDefault();const z=(q=$.dataTransfer.files)==null?void 0:q[0];z&&j("certificadoResidencia",z)},children:[e.jsx(Zu,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:(L=f.documentos)!=null&&L.certificadoResidencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(B=f.documentos)!=null&&B.certificadoResidencia?f.documentos.certificadoResidencia.name:"PDF, JPG ou PNG até 5MB"}),e.jsx(fe,{ref:P,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:$=>j("certificadoResidencia",$.target.files[0])}),((G=f.documentos)==null?void 0:G.certificadoResidencia)&&e.jsx("div",{className:"mt-2",children:e.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>_("certificadoResidencia",P),children:"Remover arquivo"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Comprovante de Experiência"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var $;return($=C.current)==null?void 0:$.click()},onDragOver:$=>$.preventDefault(),onDrop:$=>{var q;$.preventDefault();const z=(q=$.dataTransfer.files)==null?void 0:q[0];z&&j("comprovanteExperiencia",z)},children:[e.jsx(Zu,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:(F=f.documentos)!=null&&F.comprovanteExperiencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(M=f.documentos)!=null&&M.comprovanteExperiencia?f.documentos.comprovanteExperiencia.name:"PDF, JPG ou PNG até 5MB"}),e.jsx(fe,{ref:C,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:$=>j("comprovanteExperiencia",$.target.files[0])}),((K=f.documentos)==null?void 0:K.comprovanteExperiencia)&&e.jsx("div",{className:"mt-2",children:e.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>_("comprovanteExperiencia",C),children:"Remover arquivo"})})]})]})]})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Importante:"})," Sua solicitação será analisada por nossa equipe administrativa. O processo pode levar de 2 a 5 dias úteis. Você receberá um email com o resultado da análise."]})}),e.jsx(Z,{type:"submit",className:"w-full",disabled:t,children:t?"Enviando solicitação...":"Enviar Solicitação"})]})})]})}function vm(){const{activeRole:t}=Ga(),a=fs(),r=a.pathname.startsWith("/paciente/"),o=a.pathname.startsWith("/medico/"),{toast:i}=ts(),[c,d]=x.useState(!0),[p,u]=x.useState(!1),[g,f]=x.useState(null),[h,v]=x.useState(null),[w,y]=x.useState(null),[j,N]=x.useState({first_name:"",last_name:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:""}),[P,C]=x.useState({atual:"",nova:"",confirmar:""}),[_,E]=x.useState(!1),[k,A]=x.useState({email:!0,lembretes:!0,exames:!0,push:!1}),[T,R]=x.useState(!1),[I,L]=x.useState({tipo_sanguineo:"",alergias:"",condicoes_cronicas:"",contato_emergencia_nome:"",contato_emergencia_telefone:"",plano_saude:"",numero_carteirinha:"",peso:"",altura:""}),[B,G]=x.useState(!1),F=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}],[M,K]=x.useState(!1),[$,z]=x.useState(null),[q,Y]=x.useState(!1),[ee,D]=x.useState(!1),{ephemeralCertFile:H,setEphemeralCertFile:ae,ephemeralCertPassword:V,setEphemeralCertPassword:U}=Ga(),[Q,te]=x.useState(H||null),[oe,ge]=x.useState(V||"");x.useEffect(()=>{ae(Q)},[Q]),x.useEffect(()=>{U(oe)},[oe]);const[be,Ee]=x.useState(null),[Ae,We]=x.useState("Assinatura de documento médico"),[rt,kt]=x.useState("Hospital"),[jt,Lt]=x.useState(!1),dt=async()=>{var Ce,Ie;if(!be){i.error("Selecione um PDF para assinar.");return}if(!Q){i.error("Selecione um certificado (.pfx/.p12) para assinar o PDF.");return}if(!(oe&&oe.trim())){i.error("Informe a senha do certificado (.pfx/.p12).");return}const Pe=new FormData;Pe.append("file",be),Pe.append("pfx",Q),Pe.append("certificado",Q),Pe.append("pkcs12",Q),Pe.append("pfx_password",oe.trim()),Pe.append("senha",oe.trim()),Pe.append("password",oe.trim()),Pe.append("no_persist","true"),Pe.append("ephemeral","true"),Ae&&Pe.append("reason",Ae),rt&&Pe.append("location",rt);try{Lt(!0);const{filename:gt,blob:$e}=await at.signDocumento(Pe,{reason:Ae,location:rt}),Ge=window.URL.createObjectURL($e),Dt=document.createElement("a");Dt.href=Ge,Dt.download=gt||"documento_assinado.pdf",document.body.appendChild(Dt),Dt.click(),Dt.remove(),window.URL.revokeObjectURL(Ge),i.success("Documento assinado com sucesso.")}catch(gt){const $e=((Ie=(Ce=gt==null?void 0:gt.response)==null?void 0:Ce.data)==null?void 0:Ie.message)||(gt==null?void 0:gt.message)||"Falha ao assinar o documento.";i.error($e)}finally{Lt(!1)}};x.useEffect(()=>{let Pe=!0;return(async()=>{var Ce;try{d(!0);const[Ie,gt]=await Promise.allSettled([bt.getPerfil(),bt.getPacienteDoUsuario()]);if(!Pe)return;const $e=Ie.status==="fulfilled"?Ie.value:null,Ge=gt.status==="fulfilled"?gt.value:null;v($e),y(Ge),N(Dt=>({...Dt,first_name:($e==null?void 0:$e.first_name)||"",last_name:($e==null?void 0:$e.last_name)||"",email:($e==null?void 0:$e.email)||"",cpf:($e==null?void 0:$e.cpf)||"",telefone:($e==null?void 0:$e.telefone)||"",data_nascimento:($e==null?void 0:$e.data_nascimento)||"",endereco:typeof($e==null?void 0:$e.endereco)=="string"?$e.endereco:$e!=null&&$e.endereco?`${$e.endereco.logradouro||""} ${$e.endereco.numero||""} ${$e.endereco.bairro||""} ${$e.endereco.cidade||""} ${$e.endereco.estado||""}`.trim():""})),L({tipo_sanguineo:(Ge==null?void 0:Ge.tipo_sanguineo)||"",alergias:(Ge==null?void 0:Ge.alergias)||"",condicoes_cronicas:(Ge==null?void 0:Ge.condicoes_cronicas)||"",contato_emergencia_nome:(Ge==null?void 0:Ge.contato_emergencia_nome)||"",contato_emergencia_telefone:(Ge==null?void 0:Ge.contato_emergencia_telefone)||"",plano_saude:(Ge==null?void 0:Ge.plano_saude)||"",numero_carteirinha:(Ge==null?void 0:Ge.numero_carteirinha)||"",peso:(Ge==null?void 0:Ge.peso)??"",altura:(Ge==null?void 0:Ge.altura)??""});try{const Dt=localStorage.getItem("notification_prefs");if(Dt){const ja=JSON.parse(Dt);A(ze=>({...ze,...ja}))}}catch{}}catch(Ie){const gt=(Ce=Ie==null?void 0:Ie.response)==null?void 0:Ce.status;f(gt===401?"Sessão inválida. Faça login novamente.":"Não foi possível carregar os dados.")}finally{Pe&&d(!1)}})(),()=>{Pe=!1}},[]),x.useEffect(()=>{o&&It()},[o]);const At=Pe=>{const{name:Ce,value:Ie}=Pe.target;N(gt=>({...gt,[Ce]:Ie}))},Gt=Pe=>{const{name:Ce,value:Ie}=Pe.target;L(gt=>({...gt,[Ce]:Ie}))};async function ke(){var Pe;u(!0);try{const Ce={first_name:j.first_name||"",last_name:j.last_name||"",telefone:j.telefone||"",data_nascimento:j.data_nascimento||"",endereco:j.endereco||""},Ie=await bt.atualizarPerfil(Ce);v(Ie),i({title:"Perfil atualizado",description:"Suas informações pessoais foram salvas."})}catch(Ce){const Ie=(Pe=Ce==null?void 0:Ce.response)!=null&&Pe.data?JSON.stringify(Ce.response.data):"Não foi possível salvar o perfil.";i({title:"Erro ao salvar",description:Ie,variant:"destructive"})}finally{u(!1)}}async function hs(){var Pe;G(!0);try{const Ce=await bt.atualizarPaciente(I);y(Ie=>({...Ie||{},...Ce||{}})),i({title:"Informações do paciente salvas",description:"Dados atualizados com sucesso."})}catch(Ce){const Ie=(Pe=Ce==null?void 0:Ce.response)!=null&&Pe.data?JSON.stringify(Ce.response.data):"Não foi possível salvar os dados do paciente.";i({title:"Erro ao salvar",description:Ie,variant:"destructive"})}finally{G(!1)}}const Qs=async()=>{var Pe,Ce;if(!P.nova||P.nova.length<6){i({title:"Senha inválida",description:"A nova senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}if(P.nova!==P.confirmar){i({title:"Confirmação incorreta",description:"A confirmação da nova senha não confere.",variant:"destructive"});return}E(!0);try{await ue.post("/auth/change-password/",{old_password:P.atual,new_password:P.nova}),C({atual:"",nova:"",confirmar:""}),i({title:"Senha alterada",description:"Sua senha foi atualizada com sucesso."})}catch(Ie){const $e=((Pe=Ie==null?void 0:Ie.response)==null?void 0:Pe.status)===404?"Endpoint de alteração de senha não encontrado. Verifique o backend.":(Ce=Ie==null?void 0:Ie.response)!=null&&Ce.data?JSON.stringify(Ie.response.data):"Não foi possível alterar a senha.";i({title:"Erro ao alterar senha",description:$e,variant:"destructive"})}finally{E(!1)}},tt=Pe=>{A(Ce=>({...Ce,[Pe]:!Ce[Pe]}))},ia=()=>{R(!0);try{localStorage.setItem("notification_prefs",JSON.stringify(k)),i({title:"Preferências salvas",description:"Suas preferências de notificação foram atualizadas."})}finally{R(!1)}};async function It(){Y(!0);try{const Pe=await at.getCertificadoInfo();z(Pe||null)}catch{z(null)}finally{Y(!1)}}async function Ss(){var Ie,gt;if(!Q){i({title:"Selecione um arquivo",description:"Escolha um arquivo .pfx, .p12, .crt, .cer ou .pem.",variant:"destructive"});return}const Pe=15*1024*1024;if(Q.size>Pe){i({title:"Arquivo muito grande",description:"O limite é de 15MB.",variant:"destructive"});return}const Ce=new FormData;Ce.append("file",Q),Ce.append("certificado",Q),Ce.append("arquivo",Q),Ce.append("pfx",Q),oe&&(Ce.append("password",oe),Ce.append("senha",oe),Ce.append("passphrase",oe),Ce.append("pfx_password",oe)),Ce.append("no_persist","true"),Ce.append("ephemeral","true"),Ce.append("save_public_only","true"),D(!0);try{const $e=await at.uploadCertificado(Ce);z($e||null);const Ge=$e!=null&&$e.public_cert_saved?"Certificado público extraído e salvo para validações. O PFX não foi armazenado.":"Certificado processado. O PFX não foi armazenado.";i({title:"Processamento concluído",description:Ge}),te(null)}catch($e){const Ge=(Ie=$e==null?void 0:$e.response)==null?void 0:Ie.status,Dt=(gt=$e==null?void 0:$e.response)==null?void 0:gt.data;i({title:"Falha no processamento",description:Ge===404?"Endpoint de upload não encontrado no backend. Configure a variável VITE_MEDICO_CERTIFICADO_ENDPOINT.":typeof Dt=="string"?Dt:"Não foi possível processar o certificado.",variant:"destructive"})}finally{D(!1),ge("")}}const Ft=(()=>{const Pe=($==null?void 0:$.valid_to)||($==null?void 0:$.validade_fim)||($==null?void 0:$.validade)||($==null?void 0:$.valid_to_date);if(!Pe)return null;const Ce=new Date(Pe);return Math.ceil((Ce-new Date)/(1e3*60*60*24))})(),ss=!!($&&($.exists??$.id??$.valid_to??$.subject)),[Vt,va]=x.useState({nome:"",crm:"",especialidade:"",telefone:"",endereco:""}),[gr,En]=x.useState(!1);x.useEffect(()=>{o&&(async()=>{var Pe,Ce,Ie,gt,$e,Ge,Dt,ja,ze,Ue,qe,Te;try{const pe=await at.getPerfil();if(!pe)return;const ut=(pe==null?void 0:pe.nome)||((Pe=pe==null?void 0:pe.user)!=null&&Pe.first_name||(Ce=pe==null?void 0:pe.user)!=null&&Ce.last_name?`${((Ie=pe==null?void 0:pe.user)==null?void 0:Ie.first_name)||""} ${((gt=pe==null?void 0:pe.user)==null?void 0:gt.last_name)||""}`.trim():(($e=pe==null?void 0:pe.user)==null?void 0:$e.nome)||((Ge=pe==null?void 0:pe.user)==null?void 0:Ge.name)||"")||"",as=(pe==null?void 0:pe.crm)||(pe==null?void 0:pe.crm_numero)||(pe==null?void 0:pe.crm_registro)||((Dt=pe==null?void 0:pe.user)==null?void 0:Dt.crm)||"";let rs="";typeof(pe==null?void 0:pe.especialidade)=="string"?rs=pe.especialidade:pe!=null&&pe.especialidade&&typeof pe.especialidade=="object"&&(rs=pe.especialidade.nome||pe.especialidade.label||pe.especialidade.titulo||"");const vt=(pe==null?void 0:pe.telefone)||(pe==null?void 0:pe.celular)||((ja=pe==null?void 0:pe.user)==null?void 0:ja.phone)||((ze=pe==null?void 0:pe.user)==null?void 0:ze.telefone)||((Ue=pe==null?void 0:pe.contato)==null?void 0:Ue.telefone)||"";let ot=(pe==null?void 0:pe.endereco)||((qe=pe==null?void 0:pe.user)==null?void 0:qe.endereco)||((Te=pe==null?void 0:pe.clinica)==null?void 0:Te.endereco)||"",Xt="";typeof ot=="string"?Xt=ot:ot&&typeof ot=="object"&&(Xt=`${ot.logradouro||ot.rua||""} ${ot.numero||""} ${ot.bairro||""} ${ot.cidade||""} ${ot.estado||""}`.trim()),va({nome:ut,crm:as,especialidade:rs,telefone:vt,endereco:Xt})}catch{}})()},[o]);const sr=Pe=>{const{name:Ce,value:Ie}=Pe.target;va(gt=>({...gt,[Ce]:Ie}))},Bi=async()=>{var Pe;En(!0);try{const Ce={telefone:Vt.telefone||"",endereco:Vt.endereco||"",especialidade:Vt.especialidade||""},Ie=await at.updatePerfilMedico(Ce);if(Ie){const gt=Ie.telefone||Ie.celular||Vt.telefone;let $e=Ie.endereco||Vt.endereco;$e&&typeof $e=="object"&&($e=`${$e.logradouro||$e.rua||""} ${$e.numero||""} ${$e.bairro||""} ${$e.cidade||""} ${$e.estado||""}`.trim());let Ge=Vt.especialidade;typeof(Ie==null?void 0:Ie.especialidade)=="string"?Ge=Ie.especialidade:Ie!=null&&Ie.especialidade&&typeof Ie.especialidade=="object"&&(Ge=Ie.especialidade.nome||Ie.especialidade.label||Ie.especialidade.titulo||Ge),va(Dt=>({...Dt,telefone:gt,endereco:$e,especialidade:Ge}))}i({title:"Dados do médico atualizados",description:"Telefone, endereço e especialidade foram salvos."})}catch(Ce){const Ie=(Pe=Ce==null?void 0:Ce.response)!=null&&Pe.data?JSON.stringify(Ce.response.data):"Não foi possível salvar os dados do médico.";i({title:"Erro ao salvar",description:Ie,variant:"destructive"})}finally{En(!1)}};return e.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configurações"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas informações pessoais e preferências da conta"})]}),r&&e.jsx(ga,{tabs:F,basePath:"/paciente"}),!r&&t==="secretaria"&&!(w!=null&&w.id)&&e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsx(xe,{children:"Criar perfil de paciente"}),e.jsx(Xe,{children:"Para acessar as funcionalidades de paciente com esta conta, crie seu perfil de paciente."})]}),e.jsxs(ie,{className:"flex items-center justify-between gap-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum perfil de paciente encontrado para esta conta."}),e.jsx(Z,{onClick:async()=>{var Pe;K(!0);try{const Ce=await bt.garantirPacienteDoUsuario({});y(Ce),i({title:"Perfil de paciente criado",description:"Você já pode acessar a área do paciente."})}catch(Ce){const Ie=(Pe=Ce==null?void 0:Ce.response)!=null&&Pe.data?JSON.stringify(Ce.response.data):"Não foi possível criar o perfil.";i({title:"Erro",description:Ie,variant:"destructive"})}finally{K(!1)}},disabled:M,children:M?"Criando...":"Criar meu perfil de paciente"})]})]}),e.jsxs(Ma,{defaultValue:"perfil",className:"space-y-6",children:[e.jsxs(Da,{className:`grid w-full ${o?"grid-cols-5":"grid-cols-3"}`,children:[e.jsxs(wt,{value:"perfil",className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-4 w-4"}),"Perfil"]}),e.jsxs(wt,{value:"seguranca",className:"flex items-center gap-2",children:[e.jsx(O0,{className:"h-4 w-4"}),"Segurança"]}),e.jsxs(wt,{value:"notificacoes",className:"flex items-center gap-2",children:[e.jsx(lf,{className:"h-4 w-4"}),"Notificações"]}),o&&e.jsxs(e.Fragment,{children:[e.jsxs(wt,{value:"certificado",className:"flex items-center gap-2",children:[e.jsx(Ha,{className:"h-4 w-4"}),"Certificado Digital"]}),e.jsxs(wt,{value:"dados_medico",className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-4 w-4"}),"Dados do Médico"]})]})]}),e.jsx(Tt,{value:"perfil",children:e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsx(xe,{children:"Informações Pessoais"}),e.jsx(Xe,{children:"Atualize suas informações pessoais e de contato"})]}),e.jsx(ie,{className:"space-y-6",children:c?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):g?e.jsx("p",{className:"text-destructive",children:g}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"first_name",children:"Nome"}),e.jsx(fe,{id:"first_name",name:"first_name",value:j.first_name,onChange:At})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"last_name",children:"Sobrenome"}),e.jsx(fe,{id:"last_name",name:"last_name",value:j.last_name,onChange:At})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"email",children:"Email"}),e.jsx(fe,{id:"email",name:"email",value:j.email,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"cpf",children:"CPF"}),e.jsx(fe,{id:"cpf",name:"cpf",value:j.cpf,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"telefone",children:"Telefone"}),e.jsx(fe,{id:"telefone",name:"telefone",value:j.telefone,onChange:At})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"data_nascimento",children:"Data de Nascimento"}),e.jsx(fe,{id:"data_nascimento",name:"data_nascimento",type:"date",value:j.data_nascimento||"",onChange:At})]})]}),e.jsx(Ls,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"endereco",children:"Endereço"}),e.jsx(pt,{id:"endereco",name:"endereco",placeholder:"Rua, número, bairro, cidade, estado",value:j.endereco,onChange:At})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(Z,{onClick:ke,disabled:p,children:p?"Salvando...":"Salvar Alterações"})}),e.jsx(Ls,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Mais Informações do Paciente"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Esses dados ajudam médicos a entender melhor seu histórico."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"tipo_sanguineo",children:"Tipo Sanguíneo"}),e.jsx(fe,{id:"tipo_sanguineo",name:"tipo_sanguineo",value:I.tipo_sanguineo,onChange:Gt,placeholder:"Ex.: O+, A-, B+, AB+"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"plano_saude",children:"Plano de Saúde"}),e.jsx(fe,{id:"plano_saude",name:"plano_saude",value:I.plano_saude,onChange:Gt})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"numero_carteirinha",children:"Número da Carteirinha"}),e.jsx(fe,{id:"numero_carteirinha",name:"numero_carteirinha",value:I.numero_carteirinha,onChange:Gt})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"contato_emergencia_nome",children:"Contato de Emergência (Nome)"}),e.jsx(fe,{id:"contato_emergencia_nome",name:"contato_emergencia_nome",value:I.contato_emergencia_nome,onChange:Gt})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"contato_emergencia_telefone",children:"Contato de Emergência (Telefone)"}),e.jsx(fe,{id:"contato_emergencia_telefone",name:"contato_emergencia_telefone",value:I.contato_emergencia_telefone,onChange:Gt})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"peso",children:"Peso (kg)"}),e.jsx(fe,{id:"peso",name:"peso",type:"number",step:"0.1",value:I.peso,onChange:Gt})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"altura",children:"Altura (cm)"}),e.jsx(fe,{id:"altura",name:"altura",type:"number",step:"0.1",value:I.altura,onChange:Gt})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(me,{htmlFor:"alergias",children:"Alergias"}),e.jsx(pt,{id:"alergias",name:"alergias",rows:3,value:I.alergias,onChange:Gt,placeholder:"Ex.: Dipirona, poeira, frutos do mar"})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(me,{htmlFor:"condicoes_cronicas",children:"Condições Crônicas"}),e.jsx(pt,{id:"condicoes_cronicas",name:"condicoes_cronicas",rows:3,value:I.condicoes_cronicas,onChange:Gt,placeholder:"Ex.: Hipertensão, Diabetes, Asma"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(Z,{onClick:hs,disabled:B,variant:"outline",children:B?"Salvando...":"Salvar Informações do Paciente"})})]})]})})]})}),e.jsx(Tt,{value:"seguranca",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsx(xe,{children:"Alterar Senha"}),e.jsx(Xe,{children:"Mantenha sua conta segura com uma senha forte"})]}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"senha-atual",children:"Senha Atual"}),e.jsx(fe,{id:"senha-atual",type:"password",value:P.atual,onChange:Pe=>C(Ce=>({...Ce,atual:Pe.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"nova-senha",children:"Nova Senha"}),e.jsx(fe,{id:"nova-senha",type:"password",value:P.nova,onChange:Pe=>C(Ce=>({...Ce,nova:Pe.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"confirmar-senha",children:"Confirmar Nova Senha"}),e.jsx(fe,{id:"confirmar-senha",type:"password",value:P.confirmar,onChange:Pe=>C(Ce=>({...Ce,confirmar:Pe.target.value}))})]}),e.jsx(Z,{onClick:Qs,disabled:_,children:_?"Alterando...":"Alterar Senha"})]})]}),e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsx(xe,{children:"Autenticação de Dois Fatores"}),e.jsx(Xe,{children:"Adicione uma camada extra de segurança à sua conta"})]}),e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Autenticação de Dois Fatores"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Não configurada"})]}),e.jsx(Z,{variant:"outline",disabled:!0,children:"Em breve"})]})})]})]})}),e.jsx(Tt,{value:"notificacoes",children:e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsx(xe,{children:"Preferências de Notificação"}),e.jsx(Xe,{children:"Configure como você deseja receber notificações"})]}),e.jsxs(ie,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificações por Email"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizações importantes por email"})]}),e.jsx(Z,{variant:"outline",size:"sm",onClick:()=>tt("email"),children:k.email?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Lembretes de Consulta"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba lembretes antes das consultas"})]}),e.jsx(Z,{variant:"outline",size:"sm",onClick:()=>tt("lembretes"),children:k.lembretes?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Resultados de Exames"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Seja notificado quando exames ficarem prontos"})]}),e.jsx(Z,{variant:"outline",size:"sm",onClick:()=>tt("exames"),children:k.exames?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificações Push"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificações no navegador"})]}),e.jsx(Z,{variant:"outline",size:"sm",onClick:()=>tt("push"),children:k.push?"Ativado":"Desativado"})]})]}),e.jsx(Z,{onClick:ia,disabled:T,children:T?"Salvando...":"Salvar Preferências"})]})]})}),o&&e.jsx(Tt,{value:"certificado",children:e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsx(xe,{children:"Configuração de Certificado Digital"}),e.jsx(Xe,{children:"Envie seu certificado (.pfx/.p12 ou .crt/.cer/.pem). O arquivo é enviado com segurança ao servidor."})]}),e.jsxs(ie,{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-lg border p-4 bg-white",children:[q?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600 mr-3"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando informações do certificado..."})]}):ss?e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium text-green-700",children:"Certificado cadastrado"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Titular: ",($==null?void 0:$.subject_name)||($==null?void 0:$.subject)||($==null?void 0:$.nome)||"—"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Emitente: ",($==null?void 0:$.issuer)||($==null?void 0:$.issuer_name)||($==null?void 0:$.emitente)||"—"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Validade: ",($==null?void 0:$.valid_from)||($==null?void 0:$.validade_inicio)||"?"," — ",($==null?void 0:$.valid_to)||($==null?void 0:$.validade_fim)||"?"]}),Ft!=null&&e.jsx("p",{className:`text-sm ${Ft<=0?"text-destructive":Ft<30?"text-amber-600":"text-emerald-600"}`,children:Ft<=0?"Expirado":`Expira em ${Ft} dia(s)`})]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum certificado cadastrado para este médico."}),e.jsx("div",{className:"mt-3",children:e.jsx(Z,{variant:"outline",size:"sm",onClick:It,disabled:q,children:q?"Validando...":"Validar agora"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-gray-700",children:"Arquivo do certificado"}),e.jsx(fe,{type:"file",accept:".pfx,.p12,.crt,.cer,.pem",onChange:Pe=>{var Ce;return te(((Ce=Pe.target.files)==null?void 0:Ce[0])||null)},className:"border-gray-200 focus:border-indigo-500 focus:ring-indigo-500"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Aceita: .pfx, .p12, .crt, .cer, .pem. Tamanho máximo: 15MB."}),Q&&e.jsxs("p",{className:"text-xs",children:["Selecionado: ",Q.name," (",Math.ceil(Q.size/1024)," KB)"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-gray-700",children:"Senha do certificado (se aplicável)"}),e.jsx(Yv,{delayDuration:0,children:e.jsxs(Jv,{children:[e.jsx(Qv,{asChild:!0,children:e.jsx(WS,{size:16,className:"text-muted-foreground cursor-help"})}),e.jsx(Af,{side:"top",children:"Certificados PKCS#12 (.pfx/.p12) contendo chave privada. O arquivo não é persistido."})]})}),e.jsx(fe,{type:"password",value:oe,onChange:Pe=>ge(Pe.target.value),placeholder:"Senha do .pfx (opcional)"}),(!oe||!oe.trim())&&e.jsx("p",{className:"text-xs text-red-600",children:"Senha obrigatória para assinatura."}),oe&&oe.trim().length<4&&e.jsx("p",{className:"text-xs text-yellow-600",children:"A senha parece curta. Verifique se está correta."}),oe&&oe.trim()&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Dica: se a senha falhar, confirme maiúsculas/minúsculas, layout do teclado e se o certificado corresponde ao seu CRM."}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Aceitamos certificados no formato PKCS#12 (.pfx/.p12). A senha não é persistida e é usada somente em memória durante a assinatura."})]}),e.jsx("div",{className:"flex gap-2 justify-end",children:e.jsx(Z,{onClick:Ss,disabled:ee,children:ee?"Enviando...":"Enviar Certificado"})}),e.jsx(Ls,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Arquivo PDF para assinar"}),e.jsx(fe,{type:"file",accept:".pdf",onChange:Pe=>{var Ce;return Ee(((Ce=Pe.target.files)==null?void 0:Ce[0])||null)}}),be&&e.jsxs("p",{className:"text-xs",children:["Selecionado: ",be.name," (",Math.ceil(be.size/1024)," KB)"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Motivo (opcional)"}),e.jsx(fe,{value:Ae,onChange:Pe=>We(Pe.target.value),placeholder:"Ex.: Assinatura de prescrição"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Local (opcional)"}),e.jsx(fe,{value:rt,onChange:Pe=>kt(Pe.target.value),placeholder:"Ex.: São Paulo - SP"})]})]}),e.jsx("div",{className:"flex gap-2 justify-end",children:e.jsx(Z,{onClick:dt,disabled:jt||!be,children:jt?"Assinando...":"Assinar e Baixar"})})]})]})]})}),o&&e.jsx(Tt,{value:"dados_medico",children:e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsx(xe,{children:"Dados do Médico"}),e.jsx(Xe,{children:"Atualize seu telefone, endereço e especialidade."})]}),e.jsxs(ie,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Nome"}),e.jsx(fe,{value:Vt.nome||"",disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"CRM"}),e.jsx(fe,{value:Vt.crm||"",disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"especialidade",children:"Especialidade"}),e.jsx(fe,{id:"especialidade",name:"especialidade",value:Vt.especialidade||"",onChange:sr})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"telefone",children:"Telefone"}),e.jsx(fe,{id:"telefone",name:"telefone",value:Vt.telefone||"",onChange:sr})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(me,{htmlFor:"endereco",children:"Endereço"}),e.jsx(pt,{id:"endereco",name:"endereco",value:Vt.endereco||"",onChange:sr})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("p",{children:"Nome e CRM são gerenciados pela administração."}),e.jsx("div",{className:"flex gap-2",children:e.jsx(Z,{onClick:Bi,disabled:gr,children:gr?"Salvando...":"Salvar Dados do Médico"})})]})]})]})}),r&&e.jsx(Tt,{value:"medico",children:e.jsx(NA,{})})]})]})})}function SA({children:t}){const{user:a,isAuthenticated:r,loading:o}=xr(),i=fs(),{userPermissions:c}=Ga();if(o)return null;if(!r)return e.jsx($t,{to:"/login",state:{from:i},replace:!0});const d=(a==null?void 0:a.role)||(a==null?void 0:a.tipo),p=(c==null?void 0:c.medicoStatus)==="approved";return d!=="medico"&&d!=="admin"&&!p?d==="paciente"?e.jsx($t,{to:"/paciente/perfil",replace:!0}):d==="clinica"?e.jsx($t,{to:"/clinica/dashboard",replace:!0}):e.jsx($t,{to:"/",replace:!0}):t}function CA({children:t}){const{user:a,isAuthenticated:r,loading:o}=xr(),i=fs();if(o)return null;if(!r)return e.jsx($t,{to:"/login",state:{from:i},replace:!0});const c=(a==null?void 0:a.role)||(a==null?void 0:a.tipo);return c!=="clinica"&&c!=="admin"?c==="paciente"?e.jsx($t,{to:"/paciente/perfil",replace:!0}):c==="medico"?e.jsx($t,{to:"/medico/dashboard",replace:!0}):e.jsx($t,{to:"/",replace:!0}):t}function _A({children:t}){const{user:a,isAuthenticated:r,loading:o}=xr(),i=fs(),[c,d]=x.useState(!1),[p,u]=x.useState(!1);if(x.useEffect(()=>{let f=!0;async function h(){if(!r)return;if(((a==null?void 0:a.role)||(a==null?void 0:a.tipo))==="secretaria"){d(!0);try{const w=await bt.getPacienteDoUsuario();if(!f)return;u(!!(w!=null&&w.id))}catch{if(!f)return;u(!1)}finally{f&&d(!1)}}}return h(),()=>{f=!1}},[r,a==null?void 0:a.role,a==null?void 0:a.tipo]),o||c)return null;if(!r)return e.jsx($t,{to:"/login",state:{from:i},replace:!0});const g=(a==null?void 0:a.role)||(a==null?void 0:a.tipo);return g!=="paciente"&&g!=="admin"?g==="secretaria"&&p?t:g==="medico"?e.jsx($t,{to:"/medico/dashboard",replace:!0}):g==="clinica"?e.jsx($t,{to:"/clinica/dashboard",replace:!0}):e.jsx($t,{to:"/",replace:!0}):t}function kA({children:t}){const{user:a,isAuthenticated:r,loading:o}=xr(),i=fs();if(o)return null;if(!r)return e.jsx($t,{to:"/login",state:{from:i},replace:!0});const c=(a==null?void 0:a.role)||(a==null?void 0:a.tipo);return c!=="admin"?c==="paciente"?e.jsx($t,{to:"/paciente/perfil",replace:!0}):c==="medico"?e.jsx($t,{to:"/medico/dashboard",replace:!0}):c==="clinica"?e.jsx($t,{to:"/clinica/dashboard",replace:!0}):e.jsx($t,{to:"/",replace:!0}):t}const EA=t=>{var r;const a=o=>(o==null?void 0:o.nome)||(o==null?void 0:o.titulo)||(o==null?void 0:o.name)||(o==null?void 0:o.descricao)||(o==null?void 0:o.description);if(Array.isArray(t==null?void 0:t.especialidades)&&t.especialidades.length){const o=t.especialidades.map(i=>a(i)||(typeof i=="string"?i:null)).filter(Boolean);if(o.length)return o.join(", ")}if(t!=null&&t.especialidade&&typeof t.especialidade=="object"){const o=a(t.especialidade);if(o)return o}return typeof(t==null?void 0:t.especialidade)=="string"&&t.especialidade.trim()?t.especialidade.trim():typeof(t==null?void 0:t.especialidade_nome)=="string"&&t.especialidade_nome.trim()?t.especialidade_nome.trim():typeof(t==null?void 0:t.specialty)=="string"&&t.specialty.trim()?t.specialty.trim():typeof(t==null?void 0:t.area)=="string"&&t.area.trim()?t.area.trim():typeof((r=t==null?void 0:t.user)==null?void 0:r.especialidade)=="string"&&t.user.especialidade.trim()?t.user.especialidade.trim():null};function RA(){const[t,a]=x.useState([]),[r,o]=x.useState(!0),[i,c]=x.useState(!1),[d,p]=x.useState(null),{toast:u}=ts(),g=Ds(),[f,h]=x.useState({medico:"",data:"",hora:"",modalidade:"online",local:"",tipo:"primeira_consulta",motivo:"",observacoes:""}),[v,w]=x.useState([]),y=k=>k?typeof k=="string"?k:[k.logradouro,k.numero,k.bairro,k.cidade,k.estado].filter(Boolean).join(" ").trim()||null:null,j=k=>{var A,T,R;return(k==null?void 0:k.local_atendimento)||(k==null?void 0:k.local)||y(k==null?void 0:k.endereco)||y((A=k==null?void 0:k.user)==null?void 0:A.endereco)||y((T=k==null?void 0:k.clinica)==null?void 0:T.endereco)||((R=k==null?void 0:k.clinica)==null?void 0:R.nome)||null},N=(k,A)=>{const T=[],R=L=>{if(!L)return;const[B,G]=String(L).split(":");B!=null&&G!=null&&T.push(`${String(B).padStart(2,"0")}:${String(G).padStart(2,"0")}`)},I=(L,B)=>{const G=new Date(L),F=new Date(B),M=new Date(G);for(;M<F;){const K=String(M.getHours()).padStart(2,"0"),$=String(M.getMinutes()).padStart(2,"0");T.push(`${K}:${$}`),M.setMinutes(M.getMinutes()+30)}};return k.forEach(L=>{if(L!=null&&L.data_hora_inicio&&(L!=null&&L.data_hora_fim)){I(L.data_hora_inicio,L.data_hora_fim);return}if(L!=null&&L.inicio&&(L!=null&&L.fim)){I(L.inicio,L.fim);return}if(L!=null&&L.start&&(L!=null&&L.end)){I(L.start,L.end);return}if(Array.isArray(L==null?void 0:L.horarios)){L.horarios.forEach(B=>{R(typeof B=="string"?B.slice(0,5):(B==null?void 0:B.hora)||B)});return}if(L!=null&&L.hora){R(String(L.hora).slice(0,5));return}if(L!=null&&L.horario){R(String(L.horario).slice(0,5));return}if(L!=null&&L.data_hora){const B=new Date(L.data_hora);if(B.toISOString().slice(0,10)===A){const F=String(B.getHours()).padStart(2,"0"),M=String(B.getMinutes()).padStart(2,"0");T.push(`${F}:${M}`)}}}),Array.from(new Set(T)).sort()};x.useEffect(()=>{let k=!0;return(async()=>{o(!0),p(null);try{const A=await bt.getMedicos(),T=Array.isArray(A)?A:(A==null?void 0:A.results)||[];a(T)}catch(A){console.error("Erro ao buscar médicos:",A),p("Não foi possível carregar a lista de médicos.")}finally{k&&o(!1)}})(),()=>{k=!1}},[]),x.useEffect(()=>{(async()=>{if(!f.medico||!f.data){w([]);return}try{const A=await bt.getAgendaMedico({medico:f.medico,date:f.data,apenas_disponiveis:!0}),T=Array.isArray(A)?A:(A==null?void 0:A.results)||[],R=N(T,f.data);w(R),f.hora&&!R.includes(f.hora)&&h(I=>({...I,hora:""}))}catch(A){console.error("Erro ao carregar agenda do médico:",A),w([])}})()},[f.medico,f.data]),x.useEffect(()=>{if(f.modalidade!=="presencial"){f.local&&h(T=>({...T,local:""}));return}const k=t.find(T=>{var R;return String(T.id||((R=T==null?void 0:T.user)==null?void 0:R.id))===String(f.medico)}),A=k?j(k):"";h(T=>({...T,local:A||""}))},[f.medico,f.modalidade,t]);const P=k=>A=>{const T=A!=null&&A.target?A.target.value:A;h(R=>({...R,[k]:T}))},C=()=>f.medico?f.data?f.hora?f.motivo?f.modalidade==="presencial"&&!f.local?"Este médico não possui um local de atendimento definido.":null:"Informe o motivo da consulta.":"Selecione um horário disponível.":"Selecione uma data.":"Selecione um médico.",_=async k=>{var T,R,I,L,B,G,F;k.preventDefault();const A=C();if(A){u({title:"Validação",description:A,variant:"destructive"});return}c(!0),p(null);try{await bt.agendarConsulta({medico:f.medico,data:f.data,hora:f.hora,modalidade:f.modalidade,local:f.modalidade==="presencial"?f.local:void 0,tipo:f.tipo,motivo:f.motivo,observacoes:f.observacoes}),u({title:"Consulta agendada!",description:"Sua consulta foi marcada com sucesso."}),g("/paciente/consultas")}catch(M){console.error("Erro ao agendar consulta:",((T=M==null?void 0:M.response)==null?void 0:T.data)||M);const K=((I=(R=M==null?void 0:M.response)==null?void 0:R.data)==null?void 0:I.error)||((B=(L=M==null?void 0:M.response)==null?void 0:L.data)==null?void 0:B.detail)||((F=(G=M==null?void 0:M.response)==null?void 0:G.data)==null?void 0:F.message)||"Não foi possível agendar a consulta.";p(K),u({title:"Erro",description:K,variant:"destructive"})}finally{c(!1)}},E=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Agendar Consulta"})]}),e.jsx(ga,{tabs:E,basePath:"/paciente"}),e.jsxs(ne,{children:[e.jsx(he,{children:e.jsx(xe,{children:"Dados da Consulta"})}),e.jsx(ie,{children:e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Médico"}),e.jsxs(Et,{value:f.medico,onValueChange:k=>h(A=>({...A,medico:k})),disabled:r,children:[e.jsx(Ct,{children:e.jsx(Rt,{placeholder:r?"Carregando...":"Selecione um médico"})}),e.jsx(_t,{children:t.length===0?e.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Nenhum médico disponível"}):t.map(k=>{var R,I,L;const A=(k==null?void 0:k.nome)||[(R=k==null?void 0:k.user)==null?void 0:R.first_name,(I=k==null?void 0:k.user)==null?void 0:I.last_name].filter(Boolean).join(" ")||(k==null?void 0:k.username)||(k==null?void 0:k.email)||`Médico #${(k==null?void 0:k.id)||""}`,T=EA(k);return e.jsxs(Ne,{value:String(k.id||((L=k==null?void 0:k.user)==null?void 0:L.id)||A),children:[A,T?` - ${T}`:""]},k.id||A)})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Tipo"}),e.jsxs(Et,{value:f.tipo,onValueChange:k=>h(A=>({...A,tipo:k})),children:[e.jsx(Ct,{children:e.jsx(Rt,{placeholder:"Selecione o tipo"})}),e.jsxs(_t,{children:[e.jsx(Ne,{value:"primeira_consulta",children:"Primeira consulta"}),e.jsx(Ne,{value:"retorno",children:"Retorno"}),e.jsx(Ne,{value:"urgencia",children:"Urgência"}),e.jsx(Ne,{value:"rotina",children:"Rotina"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Data"}),e.jsx(fe,{type:"date",value:f.data,onChange:P("data")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Hora"}),v.length>0?e.jsxs(Et,{value:f.hora,onValueChange:k=>h(A=>({...A,hora:k})),children:[e.jsx(Ct,{children:e.jsx(Rt,{placeholder:"Selecione um horário"})}),e.jsx(_t,{children:v.map(k=>e.jsx(Ne,{value:k,children:k},k))})]}):e.jsx(fe,{type:"time",value:f.hora,onChange:k=>h(A=>({...A,hora:k.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Modalidade"}),e.jsxs(Et,{value:f.modalidade,onValueChange:k=>h(A=>({...A,modalidade:k})),children:[e.jsx(Ct,{children:e.jsx(Rt,{placeholder:"Selecione a modalidade"})}),e.jsxs(_t,{children:[e.jsx(Ne,{value:"online",children:"Online"}),e.jsx(Ne,{value:"presencial",children:"Presencial"})]})]})]}),f.modalidade==="presencial"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Local"}),e.jsxs("div",{className:"relative",children:[e.jsx(jc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{className:"pl-9",placeholder:"Local de atendimento definido pelo médico",value:f.local,readOnly:!0,disabled:!0})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"O local é definido pelo médico e preenchido automaticamente."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Motivo"}),e.jsx(pt,{rows:3,placeholder:"Descreva o motivo principal da consulta (obrigatório)",value:f.motivo,onChange:P("motivo")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Obrigatório. Ex: dor de cabeça, retorno de exame, etc."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Observações"}),e.jsx(pt,{rows:4,placeholder:"Opcional: descreva sintomas, preferências, etc.",value:f.observacoes,onChange:P("observacoes")})]}),d&&e.jsx("p",{className:"text-sm text-red-500",children:d}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(Z,{type:"button",variant:"outline",onClick:()=>g("/paciente/consultas"),disabled:i,children:"Cancelar"}),e.jsx(Z,{type:"submit",disabled:i,children:i?"Agendando...":"Agendar Consulta"})]})]})})]})]})}function PA(){const[t,a]=x.useState(!1),[r,o]=x.useState(""),[i,c]=x.useState([]),[d,p]=x.useState(0),[u,g]=x.useState(""),[f,h]=x.useState(1),[v]=x.useState(10);x.useEffect(()=>{let V=!0;const U=setTimeout(async()=>{a(!0),o("");try{const Q={search:u||void 0,page:f,limit:v},te=await Ut.getUsuarios(Q),oe=Array.isArray(te==null?void 0:te.results)?te.results:Array.isArray(te)?te:[],ge=typeof(te==null?void 0:te.count)=="number"?te.count:oe.length;if(!V)return;c(oe),p(ge)}catch{if(!V)return;o("Não foi possível carregar os usuários.")}finally{V&&a(!1)}},300);return()=>{V=!1,clearTimeout(U)}},[u,f,v]);const w=x.useMemo(()=>Math.max(1,Math.ceil(d/v)),[d,v]),[y,j]=x.useState(new Set),[N,P]=x.useState(!1),[C,_]=x.useState(!1),[E,k]=x.useState(!1),[A,T]=x.useState(""),[R,I]=x.useState(null),[L,B]=x.useState(!1),[G,F]=x.useState(!1),[M,K]=x.useState(""),[$,z]=x.useState({first_name:"",last_name:"",email:"",password:"",role:""}),q=()=>{if(i.length===0)return;const V=i.map(Q=>Q==null?void 0:Q.id).filter(Boolean),U=V.every(Q=>y.has(Q));j(U?new Set:new Set(V))},Y=V=>{V&&j(U=>{const Q=new Set(U);return Q.has(V)?Q.delete(V):Q.add(V),Q})},ee=async()=>{const V=Array.from(y);if(V.length===0){window.alert("Selecione ao menos um usuário com ID válido.");return}if(window.confirm(`Confirma excluir ${V.length} usuário(s)?`))try{P(!0),await Ut.removerUsuariosEmMassa(V),j(new Set),a(!0),o("");const U={search:u||void 0,page:f,limit:v},Q=await Ut.getUsuarios(U),te=Array.isArray(Q==null?void 0:Q.results)?Q.results:Array.isArray(Q)?Q:[],oe=typeof(Q==null?void 0:Q.count)=="number"?Q.count:te.length;c(te),p(oe)}catch{window.alert("Falha ao excluir usuários selecionados.")}finally{P(!1),a(!1)}},D=V=>{if(!V)return;const U=V.first_name||V.firstName||"",Q=V.last_name||V.lastName||"",te=V.email||"",oe=(V.role||V.tipo||"").toString().toLowerCase(),ge=V.is_active??V.ativo??!0;I({id:V.id,first_name:U,last_name:Q,email:te,role:oe,is_active:ge}),T(""),_(!0)},H=async()=>{if(!(R!=null&&R.id)){T("ID do usuário indisponível.");return}try{k(!0),T("");const V={first_name:R.first_name,last_name:R.last_name,email:R.email,role:R.role,is_active:!!R.is_active};await Ut.updateUsuario(R.id,V),_(!1),a(!0),o("");const U={search:u||void 0,page:f,limit:v},Q=await Ut.getUsuarios(U),te=Array.isArray(Q==null?void 0:Q.results)?Q.results:Array.isArray(Q)?Q:[],oe=typeof(Q==null?void 0:Q.count)=="number"?Q.count:te.length;c(te),p(oe)}catch{T("Não foi possível salvar as alterações.")}finally{k(!1),a(!1)}},ae=async()=>{var V;if(!$.email||!$.password||!$.role){K("Preencha e-mail, senha e tipo.");return}try{F(!0),K("");const U={first_name:$.first_name,last_name:$.last_name,email:$.email,password:$.password,role:$.role};await Ut.createUsuario(U),B(!1),z({first_name:"",last_name:"",email:"",password:"",role:""}),a(!0),o("");const Q={search:u||void 0,page:f,limit:v},te=await Ut.getUsuarios(Q),oe=Array.isArray(te==null?void 0:te.results)?te.results:Array.isArray(te)?te:[],ge=typeof(te==null?void 0:te.count)=="number"?te.count:oe.length;c(oe),p(ge)}catch(U){const Q=(V=U==null?void 0:U.response)!=null&&V.data?JSON.stringify(U.response.data):"Não foi possível criar o usuário.";K(Q)}finally{F(!1),a(!1)}};return e.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Usuários"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie todos os usuários do sistema"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nome, email...",value:u,onChange:V=>{h(1),g(V.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t?"Carregando...":`${d} usuário(s)`}),e.jsxs("div",{className:"ml-auto flex gap-2",children:[e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:()=>{K(""),z({first_name:"",last_name:"",email:"",password:"",role:""}),B(!0)},disabled:t,children:"Novo usuário"}),e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-red-600 text-white disabled:opacity-50",onClick:ee,disabled:N||y.size===0||t,title:y.size===0?"Selecione usuários":"Excluir selecionados",children:N?"Excluindo...":`Excluir selecionados (${y.size})`})]})]}),r&&e.jsx("div",{className:"text-sm text-red-600",children:r}),e.jsx("div",{className:"overflow-auto rounded-md border",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:e.jsx("input",{type:"checkbox",checked:i.length>0&&i.map(V=>V==null?void 0:V.id).filter(Boolean).every(V=>y.has(V)),onChange:q})}),e.jsx("th",{className:"text-left p-3",children:"Nome"}),e.jsx("th",{className:"text-left p-3",children:"Email"}),e.jsx("th",{className:"text-left p-3",children:"Tipo"}),e.jsx("th",{className:"text-left p-3",children:"Status"}),e.jsx("th",{className:"text-left p-3",children:"Ações"})]})}),e.jsxs("tbody",{children:[i.length===0&&!t&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-4 text-center text-muted-foreground",children:"Nenhum usuário encontrado"})}),i.map(V=>{const U=(V==null?void 0:V.nome)||[V==null?void 0:V.first_name,V==null?void 0:V.last_name].filter(Boolean).join(" ")||(V==null?void 0:V.name)||(V==null?void 0:V.username)||"-",Q=(V==null?void 0:V.email)||"-",te=(V==null?void 0:V.tipo)||(V==null?void 0:V.role)||(V==null?void 0:V.perfil)||"-",oe=(V==null?void 0:V.is_active)??(V==null?void 0:V.ativo)??(V==null?void 0:V.status)??null,ge=oe===!0?"Ativo":oe===!1?"Inativo":String(oe??"-");return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3",children:e.jsx("input",{type:"checkbox",disabled:!(V!=null&&V.id),checked:V!=null&&V.id?y.has(V.id):!1,onChange:()=>Y(V==null?void 0:V.id)})}),e.jsx("td",{className:"p-3",children:U}),e.jsx("td",{className:"p-3",children:Q}),e.jsx("td",{className:"p-3 capitalize",children:String(te).toLowerCase()}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${oe===!0?"bg-emerald-100 text-emerald-700":oe===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:ge})}),e.jsx("td",{className:"p-3",children:e.jsx("button",{className:"px-3 py-1 border rounded-md text-xs",onClick:()=>D(V),disabled:!(V!=null&&V.id),title:V!=null&&V.id?"Editar usuário":"ID indisponível",children:"Editar"})})]},(V==null?void 0:V.id)||`${Q}-${U}`)})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(V=>Math.max(1,V-1)),disabled:f<=1||t,children:"Anterior"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Página ",f," de ",w]}),e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(V=>Math.min(w,V+1)),disabled:f>=w||t,children:"Próxima"})]}),C&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Editar usuário"}),A&&e.jsx("div",{className:"text-sm text-red-600 mb-2",children:A}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Nome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(R==null?void 0:R.first_name)||"",onChange:V=>I(U=>({...U,first_name:V.target.value})),disabled:E})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Sobrenome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(R==null?void 0:R.last_name)||"",onChange:V=>I(U=>({...U,last_name:V.target.value})),disabled:E})]}),e.jsxs("div",{className:"space-y-1 md:col-span-2",children:[e.jsx("label",{className:"text-sm",children:"E-mail"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(R==null?void 0:R.email)||"",onChange:V=>I(U=>({...U,email:V.target.value})),disabled:E})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Tipo"}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(R==null?void 0:R.role)||"",onChange:V=>I(U=>({...U,role:V.target.value})),disabled:E,children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"paciente",children:"Paciente"}),e.jsx("option",{value:"medico",children:"Médico"}),e.jsx("option",{value:"clinica",children:"Clínica"}),e.jsx("option",{value:"secretaria",children:"Secretaria"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Ativo"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!(R!=null&&R.is_active),onChange:V=>I(U=>({...U,is_active:V.target.checked})),disabled:E}),e.jsx("span",{className:"text-sm",children:R!=null&&R.is_active?"Ativo":"Inativo"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>_(!1),disabled:E,children:"Cancelar"}),e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:H,disabled:E,children:E?"Salvando...":"Salvar"})]})]})}),L&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Novo usuário"}),M&&e.jsx("div",{className:"text-sm text-red-600 mb-2",children:M}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Nome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:$.first_name,onChange:V=>z(U=>({...U,first_name:V.target.value})),disabled:G})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Sobrenome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:$.last_name,onChange:V=>z(U=>({...U,last_name:V.target.value})),disabled:G})]}),e.jsxs("div",{className:"space-y-1 md:col-span-2",children:[e.jsx("label",{className:"text-sm",children:"E-mail"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:$.email,onChange:V=>z(U=>({...U,email:V.target.value})),disabled:G})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Senha"}),e.jsx("input",{type:"password",className:"w-full px-3 py-2 border rounded-md bg-background",value:$.password,onChange:V=>z(U=>({...U,password:V.target.value})),disabled:G})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Tipo"}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:$.role,onChange:V=>z(U=>({...U,role:V.target.value})),disabled:G,children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"paciente",children:"Paciente"}),e.jsx("option",{value:"medico",children:"Médico"}),e.jsx("option",{value:"clinica",children:"Clínica"}),e.jsx("option",{value:"secretaria",children:"Secretaria"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>B(!1),disabled:G,children:"Cancelar"}),e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:ae,disabled:G,children:G?"Criando...":"Criar"})]})]})})]})}function AA(){const[t,a]=x.useState(!1),[r,o]=x.useState(""),[i,c]=x.useState([]),[d,p]=x.useState(0),[u,g]=x.useState(""),[f,h]=x.useState(1),[v]=x.useState(10);x.useEffect(()=>{let y=!0;const j=setTimeout(async()=>{a(!0),o("");try{const N={search:u||void 0,page:f,limit:v},P=await Ut.getClinicas(N),C=Array.isArray(P==null?void 0:P.results)?P.results:Array.isArray(P)?P:[],_=typeof(P==null?void 0:P.count)=="number"?P.count:C.length;if(!y)return;c(C),p(_)}catch{if(!y)return;o("Não foi possível carregar as clínicas.")}finally{y&&a(!1)}},300);return()=>{y=!1,clearTimeout(j)}},[u,f,v]);const w=x.useMemo(()=>Math.max(1,Math.ceil(d/v)),[d,v]);return e.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Clínicas"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie os cadastros de clínicas"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nome, CNPJ...",value:u,onChange:y=>{h(1),g(y.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t?"Carregando...":`${d} clínica(s)`})]}),r&&e.jsx("div",{className:"text-sm text-red-600",children:r}),e.jsx("div",{className:"overflow-auto rounded-md border",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Nome"}),e.jsx("th",{className:"text-left p-3",children:"CNPJ"}),e.jsx("th",{className:"text-left p-3",children:"Email"}),e.jsx("th",{className:"text-left p-3",children:"Status"})]})}),e.jsxs("tbody",{children:[i.length===0&&!t&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-4 text-center text-muted-foreground",children:"Nenhuma clínica encontrada"})}),i.map(y=>{const j=(y==null?void 0:y.razao_social)||(y==null?void 0:y.nome)||(y==null?void 0:y.name)||"-",N=(y==null?void 0:y.cnpj)||"-",P=(y==null?void 0:y.email)||(y==null?void 0:y.contato_email)||"-",C=(y==null?void 0:y.is_active)??(y==null?void 0:y.ativo)??(y==null?void 0:y.status)??null,_=C===!0?"Ativa":C===!1?"Inativa":String(C??"-");return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3",children:j}),e.jsx("td",{className:"p-3",children:N}),e.jsx("td",{className:"p-3",children:P}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${C===!0?"bg-emerald-100 text-emerald-700":C===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:_})})]},(y==null?void 0:y.id)||`${j}-${N}`)})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(y=>Math.max(1,y-1)),disabled:f<=1||t,children:"Anterior"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Página ",f," de ",w]}),e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(y=>Math.min(w,y+1)),disabled:f>=w||t,children:"Próxima"})]})]})}function TA(){const{toast:t}=ts(),[a,r]=x.useState(!0),[o,i]=x.useState(!1),[c,d]=x.useState(""),[p,u]=x.useState({first_name:"",last_name:"",email:"",telefone:""}),[g,f]=x.useState({atual:"",nova:"",confirmar:""}),[h,v]=x.useState(!1),[w,y]=x.useState({email:!0,sistema:!0,auditoria:!0,push:!1}),[j,N]=x.useState(!1),[P,C]=x.useState(()=>localStorage.getItem("admin_lang")||"pt-BR"),_=I=>y(L=>({...L,[I]:!L[I]}));x.useEffect(()=>{let I=!0;return(async()=>{var L;try{r(!0),d("");const B=await bt.getPerfil();if(!I)return;u({first_name:(B==null?void 0:B.first_name)||"",last_name:(B==null?void 0:B.last_name)||"",email:(B==null?void 0:B.email)||"",telefone:(B==null?void 0:B.telefone)||""});try{const G=localStorage.getItem("admin_notification_prefs");G&&y(F=>({...F,...JSON.parse(G)}))}catch{}}catch(B){if(!I)return;const G=(L=B==null?void 0:B.response)==null?void 0:L.status;d(G===401?"Sessão inválida. Faça login novamente.":"Não foi possível carregar seu perfil.")}finally{I&&r(!1)}})(),()=>{I=!1}},[]);const E=I=>{const{name:L,value:B}=I.target;u(G=>({...G,[L]:B}))},k=async()=>{var I;i(!0),d("");try{await bt.atualizarPerfil({first_name:p.first_name,last_name:p.last_name,email:p.email,telefone:p.telefone}),t({title:"Perfil atualizado",description:"As informações foram salvas com sucesso."})}catch(L){const G=((I=L==null?void 0:L.response)==null?void 0:I.status)===400?"Dados inválidos. Verifique os campos.":"Não foi possível salvar as alterações.";d(G),t({title:"Erro",description:G,variant:"destructive"})}finally{i(!1)}},A=async()=>{if(!g.atual||!g.nova||!g.confirmar){t({title:"Validação",description:"Preencha todos os campos de senha.",variant:"destructive"});return}if(g.nova!==g.confirmar){t({title:"Validação",description:"A confirmação da nova senha não confere.",variant:"destructive"});return}v(!0);try{await new Promise(I=>setTimeout(I,600)),t({title:"Em breve",description:"Alteração de senha será integrada ao backend.",variant:"default"}),f({atual:"",nova:"",confirmar:""})}finally{v(!1)}},T=async()=>{N(!0);try{localStorage.setItem("admin_notification_prefs",JSON.stringify(w)),t({title:"Notificações salvas",description:"Preferências armazenadas neste dispositivo."})}catch{t({title:"Erro",description:"Não foi possível salvar as preferências.",variant:"destructive"})}finally{N(!1)}},R=()=>{localStorage.setItem("admin_lang",P),t({title:"Idioma atualizado",description:`Idioma definido para ${P}.`})};return e.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configurações (Admin)"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie seu perfil e preferências administrativas"})]}),e.jsxs(Ma,{defaultValue:"perfil",className:"space-y-6",children:[e.jsxs(Da,{className:"grid w-full grid-cols-4",children:[e.jsx(wt,{value:"perfil",children:"Perfil"}),e.jsx(wt,{value:"seguranca",children:"Segurança"}),e.jsx(wt,{value:"notificacoes",children:"Notificações"}),e.jsx(wt,{value:"sistema",children:"Sistema"})]}),e.jsx(Tt,{value:"perfil",children:e.jsxs(ne,{children:[e.jsx(he,{children:e.jsx(xe,{children:"Informações do Perfil"})}),e.jsxs(ie,{className:"space-y-4",children:[c&&e.jsx("p",{className:"text-sm text-red-500",children:c}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"first_name",children:"Nome"}),e.jsx(fe,{id:"first_name",name:"first_name",value:p.first_name,onChange:E,disabled:a||o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"last_name",children:"Sobrenome"}),e.jsx(fe,{id:"last_name",name:"last_name",value:p.last_name,onChange:E,disabled:a||o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"email",children:"E-mail"}),e.jsx(fe,{id:"email",name:"email",type:"email",value:p.email,onChange:E,disabled:a||o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"telefone",children:"Telefone"}),e.jsx(fe,{id:"telefone",name:"telefone",value:p.telefone,onChange:E,disabled:a||o})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(Z,{onClick:k,disabled:a||o,children:o?"Salvando...":"Salvar alterações"})})]})]})}),e.jsx(Tt,{value:"seguranca",children:e.jsxs(ne,{children:[e.jsx(he,{children:e.jsx(xe,{children:"Segurança"})}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"pwd_atual",children:"Senha atual"}),e.jsx(fe,{id:"pwd_atual",type:"password",value:g.atual,onChange:I=>f(L=>({...L,atual:I.target.value})),disabled:h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"pwd_nova",children:"Nova senha"}),e.jsx(fe,{id:"pwd_nova",type:"password",value:g.nova,onChange:I=>f(L=>({...L,nova:I.target.value})),disabled:h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"pwd_confirmar",children:"Confirmar nova senha"}),e.jsx(fe,{id:"pwd_confirmar",type:"password",value:g.confirmar,onChange:I=>f(L=>({...L,confirmar:I.target.value})),disabled:h})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(Z,{onClick:A,disabled:h,children:h?"Processando...":"Alterar senha"})})]})]})}),e.jsx(Tt,{value:"notificacoes",children:e.jsxs(ne,{children:[e.jsxs(he,{children:[e.jsx(xe,{children:"Preferências de Notificação"}),e.jsx(Xe,{children:"Configure como você deseja receber notificações"})]}),e.jsxs(ie,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificações por Email"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizações importantes por email"})]}),e.jsx(Z,{variant:"outline",size:"sm",onClick:()=>_("email"),disabled:j,children:w.email?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Eventos do Sistema"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avisos sobre operações e eventos administrativos"})]}),e.jsx(Z,{variant:"outline",size:"sm",onClick:()=>_("sistema"),disabled:j,children:w.sistema?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Alterações e Auditoria"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifique mudanças críticas e logs de auditoria"})]}),e.jsx(Z,{variant:"outline",size:"sm",onClick:()=>_("auditoria"),disabled:j,children:w.auditoria?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificações Push"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificações no navegador"})]}),e.jsx(Z,{variant:"outline",size:"sm",onClick:()=>_("push"),disabled:j,children:w.push?"Ativado":"Desativado"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(Z,{onClick:T,disabled:j,children:j?"Salvando...":"Salvar Preferências"})})]})]})}),e.jsx(Tt,{value:"sistema",children:e.jsxs(ne,{children:[e.jsx(he,{children:e.jsx(xe,{children:"Sistema"})}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Tema"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Bf,{}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Alterne entre claro/escuro"})]})]}),e.jsx(Ls,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Idioma"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{className:"border rounded px-2 py-1",value:P,onChange:I=>C(I.target.value),children:[e.jsx("option",{value:"pt-BR",children:"Português (Brasil)"}),e.jsx("option",{value:"en-US",children:"English (US)"})]}),e.jsx(Z,{variant:"outline",onClick:R,children:"Aplicar"})]})]})]})]})})]})]})}const ha={async getPerfil(){const{data:t}=await ue.get("/secretarias/me/");return t},async listarMedicos(){const{data:t}=await ue.get("/medicos/");return Array.isArray(t==null?void 0:t.results)?t.results:t},async listarClinicas(){const{data:t}=await ue.get("/clinicas/");return Array.isArray(t==null?void 0:t.results)?t.results:t},async getConsultasDoMedico(t,a={}){const r="/consultas/",o=t?`${r}?medico=${t}`:r,{data:i}=await ue.get(o,{params:a});return i},async agendarConsulta(t){const a="/agendamentos/",{data:r}=await ue.post(a,t);return r},async atualizarConsulta(t,a){const r=`/agendamentos/${t}/`,{data:o}=await ue.patch(r,a);return o},async atualizarStatus(t,a){const r=`/agendamentos/${t}/`,{data:o}=await ue.patch(r,{status:a});return o},async confirmarConsulta(t){const a=`/agendamentos/${t}/confirmar/`,{data:r}=await ue.post(a);return r},async cancelarConsulta(t,a){const r=`/agendamentos/${t}/cancelar/`,{data:o}=await ue.post(r,{motivo:a});return o},async registrarPresenca(t){const a=`/agendamentos/${t}/presenca/`,{data:r}=await ue.post(a);return r},async registrarPaciente(t){const a="/auth/register/",r=String((t==null?void 0:t.nome)||"").trim(),[o,...i]=r.split(/\s+/),c=i.join(" "),d=String((t==null?void 0:t.email)||"").trim(),p=String((t==null?void 0:t.senha)||(t==null?void 0:t.password)||""),f={username:`${(d.split("@")[0]||o||"paciente").toLowerCase().replace(/[^a-z0-9]/g,"")}${Math.floor(Math.random()*1e4)}`,email:d,password:p,first_name:o,last_name:c,role:"paciente",cpf:(t==null?void 0:t.cpf)||"",telefone:(t==null?void 0:t.telefone)||"",data_nascimento:(t==null?void 0:t.data_nascimento)||"",endereco:(t==null?void 0:t.endereco)||""},{data:h}=await ue.post(a,f,{});return h}};function MA(){const[t,a]=x.useState([]),[r,o]=x.useState(null),[i,c]=x.useState(!0),[d,p]=x.useState(!1),[u,g]=x.useState([]),{toast:f}=ts(),[h,v]=x.useState("todas"),[w,y]=x.useState(""),[j,N]=x.useState(!1),[P,C]=x.useState(!1),[_,E]=x.useState({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),[k,A]=x.useState(""),[T,R]=x.useState(!1),[I,L]=x.useState([]);x.useEffect(()=>{let D=!0;return(async()=>{c(!0);try{const H=await ha.listarMedicos();if(!D)return;a(Array.isArray(H)?H:[]);const ae=localStorage.getItem("secretaria.medicoId");ae&&(H==null?void 0:H.some(U=>String(U.id)===String(ae)))?o(ae):(H==null?void 0:H.length)>0&&o(String(H[0].id))}catch(H){console.error("Erro ao carregar médicos:",H)}finally{D&&c(!1)}})(),()=>{D=!1}},[]),x.useEffect(()=>{if(!r)return;let D=!0;return(async()=>{p(!0);try{const H=await ha.listarConsultasHoje(r);if(!D)return;g(Array.isArray(H)?H:[]),localStorage.setItem("secretaria.medicoId",r)}catch(H){console.error("Erro ao carregar consultas:",H)}finally{D&&p(!1)}})(),()=>{D=!1}},[r]);const B=x.useMemo(()=>t.map(D=>({value:String(D.id),label:D.nome})),[t]),G=x.useMemo(()=>{let D=u;if(h!=="todas"&&(D=D.filter(H=>H.status===h)),w.trim()){const H=w.toLowerCase();D=D.filter(ae=>{var V;return(V=ae.pacienteNome)==null?void 0:V.toLowerCase().includes(H)})}return D},[u,h,w]),F=D=>{try{const H=new Date(D);if(!isNaN(H.getTime()))return H.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof D=="string"&&/^\d{2}:\d{2}/.test(D))return D.slice(0,5)}catch{}return"-"},M=(D,H)=>{g(ae=>ae.map(V=>V.id===D?{...V,status:H}:V))},K=async D=>{try{await ha.confirmarConsulta(D.id),M(D.id,"Confirmada"),f({title:"Consulta confirmada",description:`Paciente ${D.pacienteNome} às ${F(D.dataHora)}`})}catch{f({title:"Erro",description:"Não foi possível confirmar a consulta.",variant:"destructive"})}},$=async D=>{try{await ha.cancelarConsulta(D.id),M(D.id,"Cancelada"),f({title:"Consulta cancelada",description:`Paciente ${D.pacienteNome} às ${F(D.dataHora)}`})}catch{f({title:"Erro",description:"Não foi possível cancelar a consulta.",variant:"destructive"})}},z=async D=>{try{await ha.registrarPresenca(D.id),M(D.id,"Realizada"),f({title:"Presença registrada",description:`Paciente ${D.pacienteNome} às ${F(D.dataHora)}`})}catch{f({title:"Erro",description:"Não foi possível registrar a presença.",variant:"destructive"})}},q=async D=>{if(D.preventDefault(),!_.pacienteId||!_.data||!_.hora||!r){f({title:"Erro",description:"Preencha todos os campos obrigatórios.",variant:"destructive"});return}C(!0);try{if(await ha.agendarConsulta({pacienteId:_.pacienteId,medicoId:r,data:_.data,hora:_.hora,tipo:_.tipo,motivo:_.motivo,observacoes:_.observacoes}),f({title:"Sucesso",description:"Consulta agendada com sucesso!"}),N(!1),E({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),A(""),L([]),r){const H=await ha.listarConsultasHoje(r);g(Array.isArray(H)?H:[])}}catch{f({title:"Erro",description:"Não foi possível agendar a consulta.",variant:"destructive"})}finally{C(!1)}},Y=async D=>{if(!D.trim()){L([]);return}R(!0);try{const H=await ha.buscarPacientes(D);L(Array.isArray(H)?H:[])}catch(H){console.error("Erro ao buscar pacientes:",H),L([])}finally{R(!1)}};x.useEffect(()=>{const D=setTimeout(()=>Y(k),300);return()=>clearTimeout(D)},[k]);const ee=x.useMemo(()=>{const D=u.length,H=u.filter(U=>U.status==="Confirmada").length,ae=u.filter(U=>U.status==="Agendada").length,V=u.filter(U=>U.status==="Realizada").length;return{total:D,confirmadas:H,pendentes:ae,realizadas:V}},[u]);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Dashboard Secretária"}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie consultas e acompanhe a agenda dos médicos."})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 min-w-fit",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Qe,{className:"h-5 w-5 text-blue-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Total"})]}),e.jsx("div",{className:"text-2xl font-bold",children:ee.total})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ur,{className:"h-5 w-5 text-green-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Confirmadas"})]}),e.jsx("div",{className:"text-2xl font-bold text-green-300",children:ee.confirmadas})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(lt,{className:"h-5 w-5 text-orange-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Pendentes"})]}),e.jsx("div",{className:"text-2xl font-bold text-orange-300",children:ee.pendentes})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Js,{className:"h-5 w-5 text-purple-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Realizadas"})]}),e.jsx("div",{className:"text-2xl font-bold text-purple-300",children:ee.realizadas})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[e.jsx(Z,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30 backdrop-blur-sm transition-all duration-200",asChild:!0,children:e.jsxs(Je,{to:"/secretaria/pacientes",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Ver Pacientes"]})}),e.jsxs(wo,{open:j,onOpenChange:N,children:[e.jsx(fb,{asChild:!0,children:e.jsxs(Z,{className:"bg-white text-blue-600 hover:bg-blue-50 transition-all duration-200",children:[e.jsx(Ic,{className:"h-4 w-4 mr-2"}),"Agendar Consulta"]})}),e.jsxs(Cn,{children:[e.jsx(_n,{children:e.jsx(kn,{children:"Novo agendamento"})}),e.jsxs("form",{onSubmit:q,className:"px-6 pb-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Médico"}),e.jsxs(Et,{value:r??void 0,onValueChange:o,children:[e.jsx(Ct,{children:e.jsx(Rt,{placeholder:"Escolha um médico"})}),e.jsx(_t,{children:B.map(D=>e.jsx(Ne,{value:D.value,children:D.label},D.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Tipo"}),e.jsxs(Et,{value:_.tipo,onValueChange:D=>E(H=>({...H,tipo:D})),children:[e.jsx(Ct,{children:e.jsx(Rt,{})}),e.jsxs(_t,{children:[e.jsx(Ne,{value:"primeira",children:"Primeira consulta"}),e.jsx(Ne,{value:"retorno",children:"Retorno"}),e.jsx(Ne,{value:"urgencia",children:"Urgência"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),e.jsx(fe,{type:"date",value:_.data,onChange:D=>E(H=>({...H,data:D.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Hora"}),e.jsx(fe,{type:"time",value:_.hora,onChange:D=>E(H=>({...H,hora:D.target.value}))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Paciente"}),e.jsx(fe,{placeholder:"Digite o nome do paciente...",value:k,onChange:D=>A(D.target.value)}),T&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Buscando..."}),I.length>0&&e.jsx("div",{className:"mt-2 border rounded-md max-h-32 overflow-y-auto",children:I.map(D=>e.jsxs("div",{className:"p-2 hover:bg-muted cursor-pointer text-sm",onClick:()=>{E(H=>({...H,pacienteId:D.id})),A(D.nome),L([])},children:[D.nome," - ",D.cpf]},D.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Motivo"}),e.jsx(fe,{placeholder:"Motivo da consulta",value:_.motivo,onChange:D=>E(H=>({...H,motivo:D.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Observações"}),e.jsx(pt,{placeholder:"Observações adicionais",value:_.observacoes,onChange:D=>E(H=>({...H,observacoes:D.target.value}))})]}),e.jsxs(No,{children:[e.jsx(Z,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Cancelar"}),e.jsx(Z,{type:"submit",disabled:P,children:P?"Agendando...":"Agendar"})]})]})]})]})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50",children:[e.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(xe,{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"Total Consultas"}),e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx(Qe,{className:"h-4 w-4 text-white"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:ee.total}),e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"Consultas hoje"})]})]}),e.jsxs(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[e.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(xe,{className:"text-sm font-semibold text-green-700 dark:text-green-300",children:"Confirmadas"}),e.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:e.jsx(ur,{className:"h-4 w-4 text-white"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:ee.confirmadas}),e.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"Consultas confirmadas"})]})]}),e.jsxs(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950/50 dark:to-orange-900/50",children:[e.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(xe,{className:"text-sm font-semibold text-orange-700 dark:text-orange-300",children:"Pendentes"}),e.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:e.jsx(lt,{className:"h-4 w-4 text-white"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-orange-900 dark:text-orange-100",children:ee.pendentes}),e.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:"Aguardando confirmação"})]})]}),e.jsxs(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50",children:[e.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(xe,{className:"text-sm font-semibold text-purple-700 dark:text-purple-300",children:"Realizadas"}),e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:e.jsx(Js,{className:"h-4 w-4 text-white"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:ee.realizadas}),e.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"Consultas finalizadas"})]})]})]}),e.jsxs(ne,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(he,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(xt,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-slate-800",children:"Selecione o médico"}),e.jsx(Xe,{className:"text-slate-600",children:"Visualize rapidamente as consultas de hoje do médico selecionado."})]})]})}),e.jsx(ie,{className:"p-6",children:i?e.jsx(it,{className:"h-10 w-72"}):e.jsx("div",{className:"w-72",children:e.jsxs(Et,{value:r??void 0,onValueChange:D=>o(D),children:[e.jsx(Ct,{className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:e.jsx(Rt,{placeholder:"Escolha um médico"})}),e.jsx(_t,{children:B.map(D=>e.jsx(Ne,{value:D.value,children:D.label},D.value))})]})})})]}),e.jsxs(ne,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(he,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:e.jsx("div",{className:"flex items-center justify-between gap-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Qe,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-slate-800",children:"Consultas de hoje"}),e.jsx(Xe,{className:"text-slate-600",children:d?"Carregando...":`${G.length} consulta(s) encontrada(s)`})]})]})})}),e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"flex-1",children:e.jsx(fe,{placeholder:"Buscar por paciente...",value:w,onChange:D=>y(D.target.value),className:"max-w-sm bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700"})}),e.jsxs(Et,{value:h,onValueChange:v,children:[e.jsx(Ct,{className:"w-48 bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:e.jsx(Rt,{})}),e.jsxs(_t,{children:[e.jsx(Ne,{value:"todas",children:"Todas"}),e.jsx(Ne,{value:"Agendada",children:"Agendadas"}),e.jsx(Ne,{value:"Confirmada",children:"Confirmadas"}),e.jsx(Ne,{value:"Realizada",children:"Realizadas"}),e.jsx(Ne,{value:"Cancelada",children:"Canceladas"})]})]})]}),d?e.jsx("div",{className:"space-y-3",children:[...Array(3)].map((D,H)=>e.jsx(it,{className:"h-16 w-full"},H))}):G.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(Qe,{className:"h-8 w-8 text-slate-400"})}),e.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Nenhuma consulta encontrada"}),e.jsx("p",{className:"text-slate-500 text-sm",children:r?"Não há consultas para o médico selecionado hoje":"Selecione um médico para ver as consultas"})]}):e.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:e.jsxs(Za,{children:[e.jsx(er,{children:e.jsxs(es,{className:"bg-slate-50 hover:bg-slate-50",children:[e.jsx(ct,{className:"font-semibold text-slate-700",children:"Horário"}),e.jsx(ct,{className:"font-semibold text-slate-700",children:"Paciente"}),e.jsx(ct,{className:"font-semibold text-slate-700",children:"Tipo"}),e.jsx(ct,{className:"font-semibold text-slate-700",children:"Status"}),e.jsx(ct,{className:"font-semibold text-slate-700",children:"Ações"})]})}),e.jsx(tr,{children:G.map(D=>{const H=D.status==="Agendada",ae=["Agendada","Confirmada"].includes(D.status),V=D.status==="Confirmada";return e.jsxs(es,{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 border-b border-slate-100",children:[e.jsx(st,{className:"font-medium text-slate-900",children:F(D.dataHora)}),e.jsx(st,{className:"text-slate-700",children:D.pacienteNome}),e.jsx(st,{className:"text-slate-600",children:D.tipo||"Consulta"}),e.jsx(st,{children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${D.status==="Confirmada"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":D.status==="Agendada"?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400":D.status==="Realizada"?"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:D.status})}),e.jsx(st,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Z,{size:"sm",variant:"outline",disabled:!H,onClick:()=>K(D),className:"bg-green-50 border-green-200 text-green-700 hover:bg-green-100 disabled:opacity-50",children:[e.jsx(ur,{className:"h-4 w-4 mr-1"})," Confirmar"]}),e.jsxs(Z,{size:"sm",variant:"outline",disabled:!ae,onClick:()=>$(D),className:"bg-red-50 border-red-200 text-red-700 hover:bg-red-100 disabled:opacity-50",children:[e.jsx(na,{className:"h-4 w-4 mr-1"})," Cancelar"]}),e.jsxs(Z,{size:"sm",variant:"outline",disabled:!V,onClick:()=>z(D),className:"bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100 disabled:opacity-50",children:[e.jsx(OS,{className:"h-4 w-4 mr-1"})," Presença"]})]})})]},D.id)})})]})})]})]})]})}function DA(t={}){var c,d,p;const a=t.paciente_nome||((c=t==null?void 0:t.paciente)==null?void 0:c.nome)||((d=t==null?void 0:t.paciente)!=null&&d.user?[t.paciente.user.first_name,t.paciente.user.last_name].filter(Boolean).join(" "):null)||"Paciente",r=t.data_hora||t.horario||t.inicio||t.data||t.start_time||"",o=t.status||"Agendada",i=t.clinica_nome||((p=t==null?void 0:t.clinica)==null?void 0:p.nome)||t.local||"—";return{id:t.id||t.consulta_id||Math.random().toString(36).slice(2),pacienteNome:a,dataHora:r,status:o,clinica:i,tipo:t.tipo||t.modalidade||"Consulta"}}function OA(){const[t,a]=x.useState([]),[r,o]=x.useState(""),[i,c]=x.useState(""),[d,p]=x.useState(""),[u,g]=x.useState(!1),[f,h]=x.useState([]);x.useEffect(()=>{let y=!0;return(async()=>{try{const j=await ha.listarMedicos();if(!y)return;a(Array.isArray(j)?j:[]);const N=localStorage.getItem("secretaria.medicoId");N&&o(String(N))}catch{}})(),()=>{y=!1}},[]);const v=async()=>{if(!r)return h([]);g(!0);try{localStorage.setItem("secretaria.medicoId",String(r));const y={};d&&(y.date=d);const j=await at.getConsultasDoMedico({...y,medico:r}),P=(Array.isArray(j)?j:Array.isArray(j==null?void 0:j.results)?j.results:[]).map(DA);h(i?P.filter(C=>C.pacienteNome.toLowerCase().includes(i.toLowerCase())):P)}catch{h([])}finally{g(!1)}};x.useEffect(()=>{v()},[r]);const w=x.useMemo(()=>t.map(y=>{var j;return{value:String(y.id),label:y.nome||((j=y==null?void 0:y.user)==null?void 0:j.first_name)||`Médico #${y.id}`}}),[t]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Qe,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Consultas"})]}),e.jsxs(ne,{children:[e.jsx(he,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-5 w-5"})," Filtros"]})}),e.jsx(ie,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Médico"}),e.jsxs(Et,{value:r||void 0,onValueChange:y=>o(y),children:[e.jsx(Ct,{children:e.jsx(Rt,{placeholder:"Escolha um médico"})}),e.jsx(_t,{children:w.map(y=>e.jsx(Ne,{value:y.value,children:y.label},y.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),e.jsx(fe,{type:"date",value:d,onChange:y=>p(y.target.value)})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar por paciente"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{placeholder:"Nome do paciente",value:i,onChange:y=>c(y.target.value)}),e.jsxs(Z,{onClick:v,children:[e.jsx(Ms,{className:"h-4 w-4 mr-2"}),"Buscar"]})]})]})]})})]}),e.jsxs(ne,{children:[e.jsx(he,{children:e.jsx(xe,{children:"Resultados"})}),e.jsx(ie,{children:u?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):f.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma consulta encontrada."}):e.jsxs(Za,{children:[e.jsx(er,{children:e.jsxs(es,{children:[e.jsx(ct,{children:"Paciente"}),e.jsx(ct,{children:"Data/Hora"}),e.jsx(ct,{children:"Tipo"}),e.jsx(ct,{children:"Status"}),e.jsx(ct,{children:"Clínica"})]})}),e.jsx(tr,{children:f.map(y=>e.jsxs(es,{children:[e.jsx(st,{children:y.pacienteNome}),e.jsx(st,{children:y.dataHora||"—"}),e.jsx(st,{children:y.tipo}),e.jsx(st,{children:y.status}),e.jsx(st,{children:y.clinica})]},y.id))})]})})]})]})}function Ug(t={}){const a=(t==null?void 0:t.user)||{};return(t==null?void 0:t.nome)||[a.first_name,a.last_name].filter(Boolean).join(" ")||a.username||`Paciente #${(t==null?void 0:t.id)||"?"}`}function $A(){const[t,a]=x.useState([]),[r,o]=x.useState(""),[i,c]=x.useState(""),[d,p]=x.useState(!1),[u,g]=x.useState([]),{toast:f}=ts(),[h,v]=x.useState(!1),[w,y]=x.useState(!1),[j,N]=x.useState({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""}),P=A=>{const T=String(A||"").replace(/\D/g,"").slice(0,11),R=T.slice(0,3),I=T.slice(3,6),L=T.slice(6,9),B=T.slice(9,11);return T.length>9?`${R}.${I}.${L}-${B}`:T.length>6?`${R}.${I}.${L}`:T.length>3?`${R}.${I}`:R},C=A=>{const{name:T,value:R}=A.target;if(T==="cpf")return N(I=>({...I,cpf:P(R)}));N(I=>({...I,[T]:R}))};x.useEffect(()=>{let A=!0;return(async()=>{try{const T=await ha.listarMedicos();if(!A)return;a(Array.isArray(T)?T:[]);const R=localStorage.getItem("secretaria.medicoId");R&&o(String(R))}catch{}})(),()=>{A=!1}},[]);const _=async()=>{if(!r)return g([]);p(!0);try{const A=await at.getPacientesVinculados(r),T=Array.isArray(A)?A:Array.isArray(A==null?void 0:A.results)?A.results:[];g(T)}catch{g([])}finally{p(!1)}};x.useEffect(()=>{_()},[r]);const E=x.useMemo(()=>u.filter(A=>Ug(A).toLowerCase().includes(i.toLowerCase())),[u,i]),k=async A=>{var T,R;if((T=A==null?void 0:A.preventDefault)==null||T.call(A),!j.nome||!j.email||!j.senha||!j.confirmSenha){f({title:"Campos obrigatórios",description:"Preencha nome, email e senha.",variant:"destructive"});return}if(j.senha!==j.confirmSenha){f({title:"Senhas não conferem",description:"A confirmação deve ser igual à senha.",variant:"destructive"});return}y(!0);try{await ha.registrarPaciente(j),f({title:"Paciente cadastrado",description:"O paciente foi criado com sucesso. Ele aparecerá na lista do médico após o primeiro vínculo (ex.: agendamento de consulta)."}),v(!1),N({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""})}catch(I){const L=(R=I==null?void 0:I.response)!=null&&R.data?JSON.stringify(I.response.data):(I==null?void 0:I.message)||"Falha ao cadastrar";f({title:"Erro ao cadastrar",description:L,variant:"destructive"})}finally{y(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(gs,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Pacientes"})]}),e.jsxs(ne,{children:[e.jsx(he,{children:e.jsxs(xe,{className:"flex items-center gap-2 justify-between",children:[e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx(Ms,{className:"h-5 w-5"})," Filtros"]}),e.jsxs(wo,{open:h,onOpenChange:v,children:[e.jsx(fb,{asChild:!0,children:e.jsxs("button",{className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[e.jsx(oo,{className:"h-4 w-4 mr-2"})," Cadastrar Paciente"]})}),e.jsxs(Cn,{className:"max-w-lg",children:[e.jsxs(_n,{children:[e.jsx(kn,{children:"Novo Paciente"}),e.jsx(Fi,{children:"Preencha os dados básicos para criar a conta do paciente."})]}),e.jsxs("form",{className:"space-y-3",onSubmit:k,children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Nome completo"}),e.jsx(fe,{name:"nome",value:j.nome,onChange:C,placeholder:"Ex.: Maria Silva"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"E-mail"}),e.jsx(fe,{name:"email",value:j.email,onChange:C,type:"email",placeholder:"email@exemplo.com"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"CPF"}),e.jsx(fe,{name:"cpf",value:j.cpf,onChange:C,placeholder:"000.000.000-00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Telefone"}),e.jsx(fe,{name:"telefone",value:j.telefone,onChange:C,placeholder:"(00) 00000-0000"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Data de nascimento"}),e.jsx(fe,{name:"data_nascimento",type:"date",value:j.data_nascimento,onChange:C})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Endereço"}),e.jsx(fe,{name:"endereco",value:j.endereco,onChange:C,placeholder:"Rua, número, bairro"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Senha"}),e.jsx(fe,{name:"senha",type:"password",value:j.senha,onChange:C})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Confirmar senha"}),e.jsx(fe,{name:"confirmSenha",type:"password",value:j.confirmSenha,onChange:C})]})]}),e.jsxs(No,{children:[e.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-3 py-2 rounded-md text-sm border mr-2",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:w,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 disabled:opacity-50",children:w?"Salvando...":"Criar"})]})]})]})]})]})}),e.jsx(ie,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Médico"}),e.jsxs(Et,{value:r||void 0,onValueChange:A=>{o(A);try{localStorage.setItem("secretaria.medicoId",String(A))}catch{}},children:[e.jsx(Ct,{children:e.jsx(Rt,{placeholder:"Escolha um médico"})}),e.jsx(_t,{children:t.map(A=>{var R,I;const T=(A==null?void 0:A.nome)||[(R=A==null?void 0:A.user)==null?void 0:R.first_name,(I=A==null?void 0:A.user)==null?void 0:I.last_name].filter(Boolean).join(" ")||`Médico #${A==null?void 0:A.id}`;return e.jsx(Ne,{value:String(A.id),children:T},A.id)})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar"}),e.jsx(fe,{placeholder:"Nome do paciente",value:i,onChange:A=>c(A.target.value)})]}),e.jsx("div",{className:"flex items-end gap-2",children:e.jsxs("button",{onClick:_,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[e.jsx(xt,{className:"h-4 w-4 mr-2"})," Buscar"]})})]})})]}),e.jsxs(ne,{children:[e.jsx(he,{children:e.jsx(xe,{children:"Lista"})}),e.jsx(ie,{children:d?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):E.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhum paciente encontrado."}):e.jsxs(Za,{children:[e.jsx(er,{children:e.jsxs(es,{children:[e.jsx(ct,{children:"Nome"}),e.jsx(ct,{children:"Contato"})]})}),e.jsx(tr,{children:E.map(A=>{var T,R;return e.jsxs(es,{children:[e.jsx(st,{children:Ug(A)}),e.jsxs(st,{className:"text-sm text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx(Hr,{className:"inline h-4 w-4 mr-1"})," ",((T=A==null?void 0:A.user)==null?void 0:T.phone)||"—"]}),e.jsxs("div",{children:[e.jsx(fr,{className:"inline h-4 w-4 mr-1"})," ",((R=A==null?void 0:A.user)==null?void 0:R.email)||"—"]})]})]},A.id)})})]})})]})]})}function Vg(t){const a=(t==null?void 0:t.user)||{};return(t==null?void 0:t.nome)||[a.first_name,a.last_name].filter(Boolean).join(" ")||a.username||`Médico #${(t==null?void 0:t.id)||"?"}`}function LA(){const[t,a]=x.useState(""),[r,o]=x.useState([]),[i,c]=x.useState(!0);x.useEffect(()=>{let p=!0;return(async()=>{c(!0);try{const u=await ha.listarMedicos();if(!p)return;o(Array.isArray(u)?u:[])}finally{p&&c(!1)}})(),()=>{p=!1}},[]);const d=x.useMemo(()=>r.filter(p=>Vg(p).toLowerCase().includes(t.toLowerCase())),[r,t]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(xt,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Médicos"})]}),e.jsxs(ne,{children:[e.jsx(he,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"h-5 w-5"})," Buscar"]})}),e.jsx(ie,{children:e.jsx(fe,{placeholder:"Digite o nome do médico",value:t,onChange:p=>a(p.target.value)})})]}),e.jsxs(ne,{children:[e.jsx(he,{children:e.jsx(xe,{children:"Resultados"})}),e.jsx(ie,{children:i?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):d.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhum médico encontrado."}):e.jsxs(Za,{children:[e.jsx(er,{children:e.jsxs(es,{children:[e.jsx(ct,{children:"Nome"}),e.jsx(ct,{children:"CRM"}),e.jsx(ct,{children:"Especialidade"}),e.jsx(ct,{children:"Contato"})]})}),e.jsx(tr,{children:d.map(p=>{var u,g;return e.jsxs(es,{children:[e.jsxs(st,{className:"font-medium flex items-center gap-2",children:[e.jsx(is,{className:"h-4 w-4"})," ",Vg(p)]}),e.jsx(st,{children:p.crm||"—"}),e.jsx(st,{children:p.especialidade||"—"}),e.jsxs(st,{className:"text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hr,{className:"h-4 w-4"})," ",p.telefone||((u=p==null?void 0:p.user)==null?void 0:u.phone)||"—"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fr,{className:"h-4 w-4"})," ",((g=p==null?void 0:p.user)==null?void 0:g.email)||"—"]})]})]},p.id)})})]})})]})]})}function IA(){return e.jsx(SS,{children:e.jsx(CS,{children:e.jsx($1,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsxs(E1,{children:[e.jsx(He,{path:"/",element:e.jsx(wA,{})}),e.jsx(He,{path:"/login",element:e.jsx(LR,{})}),e.jsx(He,{path:"/registrar",element:e.jsx(IR,{})}),e.jsx(He,{path:"/esqueci-senha",element:e.jsx(FR,{})}),e.jsxs(He,{path:"/paciente",element:e.jsx(_A,{children:e.jsx(_R,{})}),children:[e.jsx(He,{index:!0,element:e.jsx($t,{to:"perfil",replace:!0})}),e.jsx(He,{path:"perfil",element:e.jsx(UR,{})}),e.jsx(He,{path:"prontuario",element:e.jsx(VR,{})}),e.jsx(He,{path:"consultas",element:e.jsx(NP,{})}),e.jsx(He,{path:"consultas/nova",element:e.jsx(RA,{})}),e.jsx(He,{path:"exames",element:e.jsx(SP,{})}),e.jsx(He,{path:"historico-medico",element:e.jsx(_P,{})}),e.jsx(He,{path:"medicos",element:e.jsx(kP,{})}),e.jsx(He,{path:"receitas",element:e.jsx(PP,{})}),e.jsx(He,{path:"configuracoes",element:e.jsx(vm,{})})]}),e.jsxs(He,{path:"/medico",element:e.jsx(SA,{children:e.jsx(kR,{})}),children:[e.jsx(He,{index:!0,element:e.jsx($t,{to:"dashboard",replace:!0})}),e.jsx(He,{path:"dashboard",element:e.jsx(MP,{})}),e.jsx(He,{path:"meus-pacientes",element:e.jsx(DP,{})}),e.jsx(He,{path:"minhas-consultas",element:e.jsx(OP,{})}),e.jsx(He,{path:"consultas/hoje",element:e.jsx(YP,{})}),e.jsx(He,{path:"paciente/:id/perfil",element:e.jsx($P,{})}),e.jsx(He,{path:"paciente/:id/prontuario",element:e.jsx(LP,{})}),e.jsx(He,{path:"paciente/:id/exames",element:e.jsx(IP,{})}),e.jsx(He,{path:"paciente/:id/iniciar-consulta",element:e.jsx(FP,{})}),e.jsx(He,{path:"paciente/:id/consulta/resumo",element:e.jsx(XP,{})}),e.jsx(He,{path:"paciente/:id/receita/preview",element:e.jsx(JP,{})}),e.jsx(He,{path:"paciente/:id/receita/confirmacao",element:e.jsx(QP,{})}),e.jsx(He,{path:"configuracoes",element:e.jsx(vm,{})})]}),e.jsxs(He,{path:"/clinica",element:e.jsx(CA,{children:e.jsx(Cy,{})}),children:[e.jsx(He,{index:!0,element:e.jsx($t,{to:"dashboard",replace:!0})}),e.jsx(He,{path:"dashboard",element:e.jsx(ZP,{})}),e.jsx(He,{path:"calendario",element:e.jsx(sA,{})}),e.jsx(He,{path:"disponibilidade",element:e.jsx(rA,{})}),e.jsx(He,{path:"exames",element:e.jsx(nA,{})}),e.jsx(He,{path:"pacientes",element:e.jsx(oA,{})}),e.jsx(He,{path:"medicos",element:e.jsx(iA,{})}),e.jsx(He,{path:"relatorios",element:e.jsx(lA,{})}),e.jsx(He,{path:"configuracoes",element:e.jsx(mA,{})})]}),e.jsxs(He,{path:"/admin",element:e.jsx(kA,{children:e.jsx(ER,{})}),children:[e.jsx(He,{index:!0,element:e.jsx($t,{to:"dashboard",replace:!0})}),e.jsx(He,{path:"dashboard",element:e.jsx(fA,{})}),e.jsx(He,{path:"solicitacoes",element:e.jsx(hA,{})}),e.jsx(He,{path:"solicitacoes/:id",element:e.jsx(pA,{})}),e.jsx(He,{path:"relatorios",element:e.jsx(jA,{})}),e.jsx(He,{path:"auditoria",element:e.jsx(yA,{})}),e.jsx(He,{path:"usuarios",element:e.jsx(PA,{})}),e.jsx(He,{path:"clinicas",element:e.jsx(AA,{})}),e.jsx(He,{path:"configuracoes",element:e.jsx(TA,{})})]}),e.jsxs(He,{path:"/secretaria",element:e.jsx(zR,{children:e.jsx(BR,{})}),children:[e.jsx(He,{index:!0,element:e.jsx($t,{to:"dashboard",replace:!0})}),e.jsx(He,{path:"dashboard",element:e.jsx(MA,{})}),e.jsx(He,{path:"consultas",element:e.jsx(OA,{})}),e.jsx(He,{path:"pacientes",element:e.jsx($A,{})}),e.jsx(He,{path:"medicos",element:e.jsx(LA,{})}),e.jsx(He,{path:"configuracoes",element:e.jsx(vm,{})})]}),e.jsx(He,{path:"*",element:e.jsx("div",{children:"Página não encontrada"})})]})})})})}var qf="ToastProvider",[Wf,FA,zA]=td("Toast"),[jb,M5]=Ja("Toast",[zA]),[BA,cd]=jb(qf),yb=t=>{const{__scopeToast:a,label:r="Notification",duration:o=5e3,swipeDirection:i="right",swipeThreshold:c=50,children:d}=t,[p,u]=x.useState(null),[g,f]=x.useState(0),h=x.useRef(!1),v=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${qf}\`. Expected non-empty \`string\`.`),e.jsx(Wf.Provider,{scope:a,children:e.jsx(BA,{scope:a,label:r,duration:o,swipeDirection:i,swipeThreshold:c,toastCount:g,viewport:p,onViewportChange:u,onToastAdd:x.useCallback(()=>f(w=>w+1),[]),onToastRemove:x.useCallback(()=>f(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:v,children:d})})};yb.displayName=qf;var bb="ToastViewport",UA=["F8"],Jm="toast.viewportPause",Qm="toast.viewportResume",wb=x.forwardRef((t,a)=>{const{__scopeToast:r,hotkey:o=UA,label:i="Notifications ({hotkey})",...c}=t,d=cd(bb,r),p=FA(r),u=x.useRef(null),g=x.useRef(null),f=x.useRef(null),h=x.useRef(null),v=Pt(a,h,d.onViewportChange),w=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=d.toastCount>0;x.useEffect(()=>{const N=P=>{var _;o.length!==0&&o.every(E=>P[E]||P.code===E)&&((_=h.current)==null||_.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[o]),x.useEffect(()=>{const N=u.current,P=h.current;if(y&&N&&P){const C=()=>{if(!d.isClosePausedRef.current){const A=new CustomEvent(Jm);P.dispatchEvent(A),d.isClosePausedRef.current=!0}},_=()=>{if(d.isClosePausedRef.current){const A=new CustomEvent(Qm);P.dispatchEvent(A),d.isClosePausedRef.current=!1}},E=A=>{!N.contains(A.relatedTarget)&&_()},k=()=>{N.contains(document.activeElement)||_()};return N.addEventListener("focusin",C),N.addEventListener("focusout",E),N.addEventListener("pointermove",C),N.addEventListener("pointerleave",k),window.addEventListener("blur",C),window.addEventListener("focus",_),()=>{N.removeEventListener("focusin",C),N.removeEventListener("focusout",E),N.removeEventListener("pointermove",C),N.removeEventListener("pointerleave",k),window.removeEventListener("blur",C),window.removeEventListener("focus",_)}}},[y,d.isClosePausedRef]);const j=x.useCallback(({tabbingDirection:N})=>{const C=p().map(_=>{const E=_.ref.current,k=[E,...t5(E)];return N==="forwards"?k:k.reverse()});return(N==="forwards"?C.reverse():C).flat()},[p]);return x.useEffect(()=>{const N=h.current;if(N){const P=C=>{var k,A,T;const _=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!_){const R=document.activeElement,I=C.shiftKey;if(C.target===N&&I){(k=g.current)==null||k.focus();return}const G=j({tabbingDirection:I?"backwards":"forwards"}),F=G.findIndex(M=>M===R);jm(G.slice(F+1))?C.preventDefault():I?(A=g.current)==null||A.focus():(T=f.current)==null||T.focus()}};return N.addEventListener("keydown",P),()=>N.removeEventListener("keydown",P)}},[p,j]),e.jsxs(RC,{ref:u,role:"region","aria-label":i.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&e.jsx(Xm,{ref:g,onFocusFromOutsideViewport:()=>{const N=j({tabbingDirection:"forwards"});jm(N)}}),e.jsx(Wf.Slot,{scope:r,children:e.jsx(et.ol,{tabIndex:-1,...c,ref:v})}),y&&e.jsx(Xm,{ref:f,onFocusFromOutsideViewport:()=>{const N=j({tabbingDirection:"backwards"});jm(N)}})]})});wb.displayName=bb;var Nb="ToastFocusProxy",Xm=x.forwardRef((t,a)=>{const{__scopeToast:r,onFocusFromOutsideViewport:o,...i}=t,c=cd(Nb,r);return e.jsx(Jc,{tabIndex:0,...i,ref:a,style:{position:"fixed"},onFocus:d=>{var g;const p=d.relatedTarget;!((g=c.viewport)!=null&&g.contains(p))&&o()}})});Xm.displayName=Nb;var zi="Toast",VA="toast.swipeStart",HA="toast.swipeMove",qA="toast.swipeCancel",WA="toast.swipeEnd",Sb=x.forwardRef((t,a)=>{const{forceMount:r,open:o,defaultOpen:i,onOpenChange:c,...d}=t,[p,u]=gn({prop:o,defaultProp:i??!0,onChange:c,caller:zi});return e.jsx(Qa,{present:r||p,children:e.jsx(YA,{open:p,...d,ref:a,onClose:()=>u(!1),onPause:Is(t.onPause),onResume:Is(t.onResume),onSwipeStart:Me(t.onSwipeStart,g=>{g.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Me(t.onSwipeMove,g=>{const{x:f,y:h}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","move"),g.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Me(t.onSwipeCancel,g=>{g.currentTarget.setAttribute("data-swipe","cancel"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Me(t.onSwipeEnd,g=>{const{x:f,y:h}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","end"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),u(!1)})})})});Sb.displayName=zi;var[GA,KA]=jb(zi,{onClose(){}}),YA=x.forwardRef((t,a)=>{const{__scopeToast:r,type:o="foreground",duration:i,open:c,onClose:d,onEscapeKeyDown:p,onPause:u,onResume:g,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:v,onSwipeEnd:w,...y}=t,j=cd(zi,r),[N,P]=x.useState(null),C=Pt(a,M=>P(M)),_=x.useRef(null),E=x.useRef(null),k=i||j.duration,A=x.useRef(0),T=x.useRef(k),R=x.useRef(0),{onToastAdd:I,onToastRemove:L}=j,B=Is(()=>{var K;(N==null?void 0:N.contains(document.activeElement))&&((K=j.viewport)==null||K.focus()),d()}),G=x.useCallback(M=>{!M||M===1/0||(window.clearTimeout(R.current),A.current=new Date().getTime(),R.current=window.setTimeout(B,M))},[B]);x.useEffect(()=>{const M=j.viewport;if(M){const K=()=>{G(T.current),g==null||g()},$=()=>{const z=new Date().getTime()-A.current;T.current=T.current-z,window.clearTimeout(R.current),u==null||u()};return M.addEventListener(Jm,$),M.addEventListener(Qm,K),()=>{M.removeEventListener(Jm,$),M.removeEventListener(Qm,K)}}},[j.viewport,k,u,g,G]),x.useEffect(()=>{c&&!j.isClosePausedRef.current&&G(k)},[c,k,j.isClosePausedRef,G]),x.useEffect(()=>(I(),()=>L()),[I,L]);const F=x.useMemo(()=>N?Ab(N):null,[N]);return j.viewport?e.jsxs(e.Fragment,{children:[F&&e.jsx(JA,{__scopeToast:r,role:"status","aria-live":o==="foreground"?"assertive":"polite",children:F}),e.jsx(GA,{scope:r,onClose:B,children:co.createPortal(e.jsx(Wf.ItemSlot,{scope:r,children:e.jsx(EC,{asChild:!0,onEscapeKeyDown:Me(p,()=>{j.isFocusedToastEscapeKeyDownRef.current||B(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(et.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":j.swipeDirection,...y,ref:C,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Me(t.onKeyDown,M=>{M.key==="Escape"&&(p==null||p(M.nativeEvent),M.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:Me(t.onPointerDown,M=>{M.button===0&&(_.current={x:M.clientX,y:M.clientY})}),onPointerMove:Me(t.onPointerMove,M=>{if(!_.current)return;const K=M.clientX-_.current.x,$=M.clientY-_.current.y,z=!!E.current,q=["left","right"].includes(j.swipeDirection),Y=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,ee=q?Y(0,K):0,D=q?0:Y(0,$),H=M.pointerType==="touch"?10:2,ae={x:ee,y:D},V={originalEvent:M,delta:ae};z?(E.current=ae,oc(HA,h,V,{discrete:!1})):Hg(ae,j.swipeDirection,H)?(E.current=ae,oc(VA,f,V,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(K)>H||Math.abs($)>H)&&(_.current=null)}),onPointerUp:Me(t.onPointerUp,M=>{const K=E.current,$=M.target;if($.hasPointerCapture(M.pointerId)&&$.releasePointerCapture(M.pointerId),E.current=null,_.current=null,K){const z=M.currentTarget,q={originalEvent:M,delta:K};Hg(K,j.swipeDirection,j.swipeThreshold)?oc(WA,w,q,{discrete:!0}):oc(qA,v,q,{discrete:!0}),z.addEventListener("click",Y=>Y.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),JA=t=>{const{__scopeToast:a,children:r,...o}=t,i=cd(zi,a),[c,d]=x.useState(!1),[p,u]=x.useState(!1);return ZA(()=>d(!0)),x.useEffect(()=>{const g=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(g)},[]),p?null:e.jsx(Pi,{asChild:!0,children:e.jsx(Jc,{...o,children:c&&e.jsxs(e.Fragment,{children:[i.label," ",r]})})})},QA="ToastTitle",Cb=x.forwardRef((t,a)=>{const{__scopeToast:r,...o}=t;return e.jsx(et.div,{...o,ref:a})});Cb.displayName=QA;var XA="ToastDescription",_b=x.forwardRef((t,a)=>{const{__scopeToast:r,...o}=t;return e.jsx(et.div,{...o,ref:a})});_b.displayName=XA;var kb="ToastAction",Eb=x.forwardRef((t,a)=>{const{altText:r,...o}=t;return r.trim()?e.jsx(Pb,{altText:r,asChild:!0,children:e.jsx(Gf,{...o,ref:a})}):(console.error(`Invalid prop \`altText\` supplied to \`${kb}\`. Expected non-empty \`string\`.`),null)});Eb.displayName=kb;var Rb="ToastClose",Gf=x.forwardRef((t,a)=>{const{__scopeToast:r,...o}=t,i=KA(Rb,r);return e.jsx(Pb,{asChild:!0,children:e.jsx(et.button,{type:"button",...o,ref:a,onClick:Me(t.onClick,i.onClose)})})});Gf.displayName=Rb;var Pb=x.forwardRef((t,a)=>{const{__scopeToast:r,altText:o,...i}=t;return e.jsx(et.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...i,ref:a})});function Ab(t){const a=[];return Array.from(t.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&a.push(o.textContent),e5(o)){const i=o.ariaHidden||o.hidden||o.style.display==="none",c=o.dataset.radixToastAnnounceExclude==="";if(!i)if(c){const d=o.dataset.radixToastAnnounceAlt;d&&a.push(d)}else a.push(...Ab(o))}}),a}function oc(t,a,r,{discrete:o}){const i=r.originalEvent.currentTarget,c=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});a&&i.addEventListener(t,a,{once:!0}),o?uf(i,c):i.dispatchEvent(c)}var Hg=(t,a,r=0)=>{const o=Math.abs(t.x),i=Math.abs(t.y),c=o>i;return a==="left"||a==="right"?c&&o>r:!c&&i>r};function ZA(t=()=>{}){const a=Is(t);ms(()=>{let r=0,o=0;return r=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(a)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(o)}},[a])}function e5(t){return t.nodeType===t.ELEMENT_NODE}function t5(t){const a=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)a.push(r.currentNode);return a}function jm(t){const a=document.activeElement;return t.some(r=>r===a?!0:(r.focus(),document.activeElement!==a))}var s5=yb,Tb=wb,Mb=Sb,Db=Cb,Ob=_b,$b=Eb,Lb=Gf;const a5=s5,Ib=x.forwardRef(({className:t,...a},r)=>e.jsx(Tb,{ref:r,className:ye("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...a}));Ib.displayName=Tb.displayName;const r5=Lc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Fb=x.forwardRef(({className:t,variant:a,...r},o)=>e.jsx(Mb,{ref:o,className:ye(r5({variant:a}),t),...r}));Fb.displayName=Mb.displayName;const n5=x.forwardRef(({className:t,...a},r)=>e.jsx($b,{ref:r,className:ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...a}));n5.displayName=$b.displayName;const zb=x.forwardRef(({className:t,...a},r)=>e.jsx(Lb,{ref:r,className:ye("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...a,children:e.jsx(df,{className:"h-4 w-4"})}));zb.displayName=Lb.displayName;const Bb=x.forwardRef(({className:t,...a},r)=>e.jsx(Db,{ref:r,className:ye("text-sm font-semibold",t),...a}));Bb.displayName=Db.displayName;const Ub=x.forwardRef(({className:t,...a},r)=>e.jsx(Ob,{ref:r,className:ye("text-sm opacity-90",t),...a}));Ub.displayName=Ob.displayName;function o5(){const{toasts:t}=ts();return e.jsxs(a5,{children:[t.map(({id:a,title:r,description:o,action:i,...c})=>e.jsxs(Fb,{...c,children:[e.jsxs("div",{className:"grid gap-1",children:[r&&e.jsx(Bb,{children:r}),o&&e.jsx(Ub,{children:o})]}),i,e.jsx(zb,{})]},a)),e.jsx(Ib,{})]})}if(typeof window<"u"){const t=a=>{const r=a==null?void 0:a.reason,o=typeof r=="string"?r:r==null?void 0:r.message;o&&o.includes("A listener indicated an asynchronous response by returning true, but the message channel closed before a response was received")&&a.preventDefault()};window.addEventListener("unhandledrejection",t)}DN.createRoot(document.getElementById("root")).render(e.jsxs(qE,{defaultTheme:"system",storageKey:"medicinefront-theme",children:[e.jsx(IA,{}),e.jsx(o5,{})]}));export{qg as g};
