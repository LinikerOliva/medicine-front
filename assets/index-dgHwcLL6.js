var _D=Object.defineProperty;var ED=(e,r,t)=>r in e?_D(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var pt=(e,r,t)=>ED(e,typeof r!="symbol"?r+"":r,t);function FD(e,r){for(var t=0;t<r.length;t++){const a=r[t];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var cZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function A5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jv={exports:{}},Eh={},Nv={exports:{}},sa={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q2;function kD(){if(Q2)return sa;Q2=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function m(ee){return ee===null||typeof ee!="object"?null:(ee=h&&ee[h]||ee["@@iterator"],typeof ee=="function"?ee:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function w(ee,R,q){this.props=ee,this.context=R,this.refs=g,this.updater=q||p}w.prototype.isReactComponent={},w.prototype.setState=function(ee,R){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,R,"setState")},w.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function y(){}y.prototype=w.prototype;function N(ee,R,q){this.props=ee,this.context=R,this.refs=g,this.updater=q||p}var C=N.prototype=new y;C.constructor=N,v(C,w.prototype),C.isPureReactComponent=!0;var E=Array.isArray,U=Object.prototype.hasOwnProperty,D={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function L(ee,R,q){var te,F={},X=null,H=null;if(R!=null)for(te in R.ref!==void 0&&(H=R.ref),R.key!==void 0&&(X=""+R.key),R)U.call(R,te)&&!k.hasOwnProperty(te)&&(F[te]=R[te]);var V=arguments.length-2;if(V===1)F.children=q;else if(1<V){for(var ae=Array(V),fe=0;fe<V;fe++)ae[fe]=arguments[fe+2];F.children=ae}if(ee&&ee.defaultProps)for(te in V=ee.defaultProps,V)F[te]===void 0&&(F[te]=V[te]);return{$$typeof:e,type:ee,key:X,ref:H,props:F,_owner:D.current}}function _(ee,R){return{$$typeof:e,type:ee.type,key:R,ref:ee.ref,props:ee.props,_owner:ee._owner}}function Y(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===e}function I(ee){var R={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(q){return R[q]})}var $=/\/+/g;function J(ee,R){return typeof ee=="object"&&ee!==null&&ee.key!=null?I(""+ee.key):R.toString(36)}function M(ee,R,q,te,F){var X=typeof ee;(X==="undefined"||X==="boolean")&&(ee=null);var H=!1;if(ee===null)H=!0;else switch(X){case"string":case"number":H=!0;break;case"object":switch(ee.$$typeof){case e:case r:H=!0}}if(H)return H=ee,F=F(H),ee=te===""?"."+J(H,0):te,E(F)?(q="",ee!=null&&(q=ee.replace($,"$&/")+"/"),M(F,R,q,"",function(fe){return fe})):F!=null&&(Y(F)&&(F=_(F,q+(!F.key||H&&H.key===F.key?"":(""+F.key).replace($,"$&/")+"/")+ee)),R.push(F)),1;if(H=0,te=te===""?".":te+":",E(ee))for(var V=0;V<ee.length;V++){X=ee[V];var ae=te+J(X,V);H+=M(X,R,q,ae,F)}else if(ae=m(ee),typeof ae=="function")for(ee=ae.call(ee),V=0;!(X=ee.next()).done;)X=X.value,ae=te+J(X,V++),H+=M(X,R,q,ae,F);else if(X==="object")throw R=String(ee),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return H}function re(ee,R,q){if(ee==null)return ee;var te=[],F=0;return M(ee,te,"","",function(X){return R.call(q,X,F++)}),te}function K(ee){if(ee._status===-1){var R=ee._result;R=R(),R.then(function(q){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=q)},function(q){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=q)}),ee._status===-1&&(ee._status=0,ee._result=R)}if(ee._status===1)return ee._result.default;throw ee._result}var G={current:null},z={transition:null},Z={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:z,ReactCurrentOwner:D};function Ae(){throw Error("act(...) is not supported in production builds of React.")}return sa.Children={map:re,forEach:function(ee,R,q){re(ee,function(){R.apply(this,arguments)},q)},count:function(ee){var R=0;return re(ee,function(){R++}),R},toArray:function(ee){return re(ee,function(R){return R})||[]},only:function(ee){if(!Y(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},sa.Component=w,sa.Fragment=t,sa.Profiler=s,sa.PureComponent=N,sa.StrictMode=a,sa.Suspense=A,sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,sa.act=Ae,sa.cloneElement=function(ee,R,q){if(ee==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ee+".");var te=v({},ee.props),F=ee.key,X=ee.ref,H=ee._owner;if(R!=null){if(R.ref!==void 0&&(X=R.ref,H=D.current),R.key!==void 0&&(F=""+R.key),ee.type&&ee.type.defaultProps)var V=ee.type.defaultProps;for(ae in R)U.call(R,ae)&&!k.hasOwnProperty(ae)&&(te[ae]=R[ae]===void 0&&V!==void 0?V[ae]:R[ae])}var ae=arguments.length-2;if(ae===1)te.children=q;else if(1<ae){V=Array(ae);for(var fe=0;fe<ae;fe++)V[fe]=arguments[fe+2];te.children=V}return{$$typeof:e,type:ee.type,key:F,ref:X,props:te,_owner:H}},sa.createContext=function(ee){return ee={$$typeof:o,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ee.Provider={$$typeof:i,_context:ee},ee.Consumer=ee},sa.createElement=L,sa.createFactory=function(ee){var R=L.bind(null,ee);return R.type=ee,R},sa.createRef=function(){return{current:null}},sa.forwardRef=function(ee){return{$$typeof:l,render:ee}},sa.isValidElement=Y,sa.lazy=function(ee){return{$$typeof:f,_payload:{_status:-1,_result:ee},_init:K}},sa.memo=function(ee,R){return{$$typeof:d,type:ee,compare:R===void 0?null:R}},sa.startTransition=function(ee){var R=z.transition;z.transition={};try{ee()}finally{z.transition=R}},sa.unstable_act=Ae,sa.useCallback=function(ee,R){return G.current.useCallback(ee,R)},sa.useContext=function(ee){return G.current.useContext(ee)},sa.useDebugValue=function(){},sa.useDeferredValue=function(ee){return G.current.useDeferredValue(ee)},sa.useEffect=function(ee,R){return G.current.useEffect(ee,R)},sa.useId=function(){return G.current.useId()},sa.useImperativeHandle=function(ee,R,q){return G.current.useImperativeHandle(ee,R,q)},sa.useInsertionEffect=function(ee,R){return G.current.useInsertionEffect(ee,R)},sa.useLayoutEffect=function(ee,R){return G.current.useLayoutEffect(ee,R)},sa.useMemo=function(ee,R){return G.current.useMemo(ee,R)},sa.useReducer=function(ee,R,q){return G.current.useReducer(ee,R,q)},sa.useRef=function(ee){return G.current.useRef(ee)},sa.useState=function(ee){return G.current.useState(ee)},sa.useSyncExternalStore=function(ee,R,q){return G.current.useSyncExternalStore(ee,R,q)},sa.useTransition=function(){return G.current.useTransition()},sa.version="18.3.1",sa}var R2;function I0(){return R2||(R2=1,Nv.exports=kD()),Nv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M2;function DD(){if(M2)return Eh;M2=1;var e=I0(),r=Symbol.for("react.element"),t=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,A,d){var f,h={},m=null,p=null;d!==void 0&&(m=""+d),A.key!==void 0&&(m=""+A.key),A.ref!==void 0&&(p=A.ref);for(f in A)a.call(A,f)&&!i.hasOwnProperty(f)&&(h[f]=A[f]);if(l&&l.defaultProps)for(f in A=l.defaultProps,A)h[f]===void 0&&(h[f]=A[f]);return{$$typeof:r,type:l,key:m,ref:p,props:h,_owner:s.current}}return Eh.Fragment=t,Eh.jsx=o,Eh.jsxs=o,Eh}var T2;function UD(){return T2||(T2=1,jv.exports=DD()),jv.exports}var n=UD(),Cp={},Bv={exports:{}},Hi={},Cv={exports:{}},Sv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O2;function LD(){return O2||(O2=1,(function(e){function r(z,Z){var Ae=z.length;z.push(Z);e:for(;0<Ae;){var ee=Ae-1>>>1,R=z[ee];if(0<s(R,Z))z[ee]=Z,z[Ae]=R,Ae=ee;else break e}}function t(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var Z=z[0],Ae=z.pop();if(Ae!==Z){z[0]=Ae;e:for(var ee=0,R=z.length,q=R>>>1;ee<q;){var te=2*(ee+1)-1,F=z[te],X=te+1,H=z[X];if(0>s(F,Ae))X<R&&0>s(H,F)?(z[ee]=H,z[X]=Ae,ee=X):(z[ee]=F,z[te]=Ae,ee=te);else if(X<R&&0>s(H,Ae))z[ee]=H,z[X]=Ae,ee=X;else break e}}return Z}function s(z,Z){var Ae=z.sortIndex-Z.sortIndex;return Ae!==0?Ae:z.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var A=[],d=[],f=1,h=null,m=3,p=!1,v=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(z){for(var Z=t(d);Z!==null;){if(Z.callback===null)a(d);else if(Z.startTime<=z)a(d),Z.sortIndex=Z.expirationTime,r(A,Z);else break;Z=t(d)}}function E(z){if(g=!1,C(z),!v)if(t(A)!==null)v=!0,K(U);else{var Z=t(d);Z!==null&&G(E,Z.startTime-z)}}function U(z,Z){v=!1,g&&(g=!1,y(L),L=-1),p=!0;var Ae=m;try{for(C(Z),h=t(A);h!==null&&(!(h.expirationTime>Z)||z&&!I());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,m=h.priorityLevel;var R=ee(h.expirationTime<=Z);Z=e.unstable_now(),typeof R=="function"?h.callback=R:h===t(A)&&a(A),C(Z)}else a(A);h=t(A)}if(h!==null)var q=!0;else{var te=t(d);te!==null&&G(E,te.startTime-Z),q=!1}return q}finally{h=null,m=Ae,p=!1}}var D=!1,k=null,L=-1,_=5,Y=-1;function I(){return!(e.unstable_now()-Y<_)}function $(){if(k!==null){var z=e.unstable_now();Y=z;var Z=!0;try{Z=k(!0,z)}finally{Z?J():(D=!1,k=null)}}else D=!1}var J;if(typeof N=="function")J=function(){N($)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,re=M.port2;M.port1.onmessage=$,J=function(){re.postMessage(null)}}else J=function(){w($,0)};function K(z){k=z,D||(D=!0,J())}function G(z,Z){L=w(function(){z(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,K(U))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return t(A)},e.unstable_next=function(z){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var Ae=m;m=Z;try{return z()}finally{m=Ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,Z){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Ae=m;m=z;try{return Z()}finally{m=Ae}},e.unstable_scheduleCallback=function(z,Z,Ae){var ee=e.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?ee+Ae:ee):Ae=ee,z){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=Ae+R,z={id:f++,callback:Z,priorityLevel:z,startTime:Ae,expirationTime:R,sortIndex:-1},Ae>ee?(z.sortIndex=Ae,r(d,z),t(A)===null&&z===t(d)&&(g?(y(L),L=-1):g=!0,G(E,Ae-ee))):(z.sortIndex=R,r(A,z),v||p||(v=!0,K(U))),z},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(z){var Z=m;return function(){var Ae=m;m=Z;try{return z.apply(this,arguments)}finally{m=Ae}}}})(Sv)),Sv}var H2;function ID(){return H2||(H2=1,Cv.exports=LD()),Cv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2;function PD(){if($2)return Hi;$2=1;var e=I0(),r=ID();function t(c){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+c,x=1;x<arguments.length;x++)u+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(c,u){o(c,u),o(c+"Capture",u)}function o(c,u){for(s[c]=u,c=0;c<u.length;c++)a.add(u[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),A=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(c){return A.call(h,c)?!0:A.call(f,c)?!1:d.test(c)?h[c]=!0:(f[c]=!0,!1)}function p(c,u,x,B){if(x!==null&&x.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return B?!1:x!==null?!x.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function v(c,u,x,B){if(u===null||typeof u>"u"||p(c,u,x,B))return!0;if(B)return!1;if(x!==null)switch(x.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function g(c,u,x,B,Q,O,oe){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=B,this.attributeNamespace=Q,this.mustUseProperty=x,this.propertyName=c,this.type=u,this.sanitizeURL=O,this.removeEmptyString=oe}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){w[c]=new g(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var u=c[0];w[u]=new g(u,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){w[c]=new g(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){w[c]=new g(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){w[c]=new g(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){w[c]=new g(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){w[c]=new g(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){w[c]=new g(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){w[c]=new g(c,5,!1,c.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function N(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var u=c.replace(y,N);w[u]=new g(u,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var u=c.replace(y,N);w[u]=new g(u,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var u=c.replace(y,N);w[u]=new g(u,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){w[c]=new g(c,1,!1,c.toLowerCase(),null,!1,!1)}),w.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){w[c]=new g(c,1,!1,c.toLowerCase(),null,!0,!0)});function C(c,u,x,B){var Q=w.hasOwnProperty(u)?w[u]:null;(Q!==null?Q.type!==0:B||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(v(u,x,Q,B)&&(x=null),B||Q===null?m(u)&&(x===null?c.removeAttribute(u):c.setAttribute(u,""+x)):Q.mustUseProperty?c[Q.propertyName]=x===null?Q.type===3?!1:"":x:(u=Q.attributeName,B=Q.attributeNamespace,x===null?c.removeAttribute(u):(Q=Q.type,x=Q===3||Q===4&&x===!0?"":""+x,B?c.setAttributeNS(B,u,x):c.setAttribute(u,x))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),I=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),z=Symbol.iterator;function Z(c){return c===null||typeof c!="object"?null:(c=z&&c[z]||c["@@iterator"],typeof c=="function"?c:null)}var Ae=Object.assign,ee;function R(c){if(ee===void 0)try{throw Error()}catch(x){var u=x.stack.trim().match(/\n( *(at )?)/);ee=u&&u[1]||""}return`
`+ee+c}var q=!1;function te(c,u){if(!c||q)return"";q=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Te){var B=Te}Reflect.construct(c,[],u)}else{try{u.call()}catch(Te){B=Te}c.call(u.prototype)}else{try{throw Error()}catch(Te){B=Te}c()}}catch(Te){if(Te&&B&&typeof Te.stack=="string"){for(var Q=Te.stack.split(`
`),O=B.stack.split(`
`),oe=Q.length-1,ge=O.length-1;1<=oe&&0<=ge&&Q[oe]!==O[ge];)ge--;for(;1<=oe&&0<=ge;oe--,ge--)if(Q[oe]!==O[ge]){if(oe!==1||ge!==1)do if(oe--,ge--,0>ge||Q[oe]!==O[ge]){var Ne=`
`+Q[oe].replace(" at new "," at ");return c.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",c.displayName)),Ne}while(1<=oe&&0<=ge);break}}}finally{q=!1,Error.prepareStackTrace=x}return(c=c?c.displayName||c.name:"")?R(c):""}function F(c){switch(c.tag){case 5:return R(c.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return c=te(c.type,!1),c;case 11:return c=te(c.type.render,!1),c;case 1:return c=te(c.type,!0),c;default:return""}}function X(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case k:return"Fragment";case D:return"Portal";case _:return"Profiler";case L:return"StrictMode";case J:return"Suspense";case M:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case I:return(c.displayName||"Context")+".Consumer";case Y:return(c._context.displayName||"Context")+".Provider";case $:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case re:return u=c.displayName||null,u!==null?u:X(c.type)||"Memo";case K:u=c._payload,c=c._init;try{return X(c(u))}catch{}}return null}function H(c){var u=c.type;switch(c.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=u.render,c=c.displayName||c.name||"",u.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X(u);case 8:return u===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function V(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function ae(c){var u=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function fe(c){var u=ae(c)?"checked":"value",x=Object.getOwnPropertyDescriptor(c.constructor.prototype,u),B=""+c[u];if(!c.hasOwnProperty(u)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var Q=x.get,O=x.set;return Object.defineProperty(c,u,{configurable:!0,get:function(){return Q.call(this)},set:function(oe){B=""+oe,O.call(this,oe)}}),Object.defineProperty(c,u,{enumerable:x.enumerable}),{getValue:function(){return B},setValue:function(oe){B=""+oe},stopTracking:function(){c._valueTracker=null,delete c[u]}}}}function ve(c){c._valueTracker||(c._valueTracker=fe(c))}function Be(c){if(!c)return!1;var u=c._valueTracker;if(!u)return!0;var x=u.getValue(),B="";return c&&(B=ae(c)?c.checked?"true":"false":c.value),c=B,c!==x?(u.setValue(c),!0):!1}function ke(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function xe(c,u){var x=u.checked;return Ae({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??c._wrapperState.initialChecked})}function ie(c,u){var x=u.defaultValue==null?"":u.defaultValue,B=u.checked!=null?u.checked:u.defaultChecked;x=V(u.value!=null?u.value:x),c._wrapperState={initialChecked:B,initialValue:x,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function lt(c,u){u=u.checked,u!=null&&C(c,"checked",u,!1)}function mt(c,u){lt(c,u);var x=V(u.value),B=u.type;if(x!=null)B==="number"?(x===0&&c.value===""||c.value!=x)&&(c.value=""+x):c.value!==""+x&&(c.value=""+x);else if(B==="submit"||B==="reset"){c.removeAttribute("value");return}u.hasOwnProperty("value")?Ee(c,u.type,x):u.hasOwnProperty("defaultValue")&&Ee(c,u.type,V(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(c.defaultChecked=!!u.defaultChecked)}function at(c,u,x){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var B=u.type;if(!(B!=="submit"&&B!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+c._wrapperState.initialValue,x||u===c.value||(c.value=u),c.defaultValue=u}x=c.name,x!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,x!==""&&(c.name=x)}function Ee(c,u,x){(u!=="number"||ke(c.ownerDocument)!==c)&&(x==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+x&&(c.defaultValue=""+x))}var At=Array.isArray;function st(c,u,x,B){if(c=c.options,u){u={};for(var Q=0;Q<x.length;Q++)u["$"+x[Q]]=!0;for(x=0;x<c.length;x++)Q=u.hasOwnProperty("$"+c[x].value),c[x].selected!==Q&&(c[x].selected=Q),Q&&B&&(c[x].defaultSelected=!0)}else{for(x=""+V(x),u=null,Q=0;Q<c.length;Q++){if(c[Q].value===x){c[Q].selected=!0,B&&(c[Q].defaultSelected=!0);return}u!==null||c[Q].disabled||(u=c[Q])}u!==null&&(u.selected=!0)}}function Mt(c,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return Ae({},u,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function kt(c,u){var x=u.value;if(x==null){if(x=u.children,u=u.defaultValue,x!=null){if(u!=null)throw Error(t(92));if(At(x)){if(1<x.length)throw Error(t(93));x=x[0]}u=x}u==null&&(u=""),x=u}c._wrapperState={initialValue:V(x)}}function Nt(c,u){var x=V(u.value),B=V(u.defaultValue);x!=null&&(x=""+x,x!==c.value&&(c.value=x),u.defaultValue==null&&c.defaultValue!==x&&(c.defaultValue=x)),B!=null&&(c.defaultValue=""+B)}function ut(c){var u=c.textContent;u===c._wrapperState.initialValue&&u!==""&&u!==null&&(c.value=u)}function Pt(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dt(c,u){return c==null||c==="http://www.w3.org/1999/xhtml"?Pt(u):c==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var Et,vt=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,x,B,Q){MSApp.execUnsafeLocalFunction(function(){return c(u,x,B,Q)})}:c})(function(c,u){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=u;else{for(Et=Et||document.createElement("div"),Et.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Et.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;u.firstChild;)c.appendChild(u.firstChild)}});function bt(c,u){if(u){var x=c.firstChild;if(x&&x===c.lastChild&&x.nodeType===3){x.nodeValue=u;return}}c.textContent=u}var St={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tr=["Webkit","ms","Moz","O"];Object.keys(St).forEach(function(c){Tr.forEach(function(u){u=u+c.charAt(0).toUpperCase()+c.substring(1),St[u]=St[c]})});function jr(c,u,x){return u==null||typeof u=="boolean"||u===""?"":x||typeof u!="number"||u===0||St.hasOwnProperty(c)&&St[c]?(""+u).trim():u+"px"}function Qt(c,u){c=c.style;for(var x in u)if(u.hasOwnProperty(x)){var B=x.indexOf("--")===0,Q=jr(x,u[x],B);x==="float"&&(x="cssFloat"),B?c.setProperty(x,Q):c[x]=Q}}var gr=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wr(c,u){if(u){if(gr[c]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,c));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function jt(c,u){if(c.indexOf("-")===-1)return typeof u.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xr=null;function Ar(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Xr=null,ga=null,Ze=null;function We(c){if(c=kA(c)){if(typeof Xr!="function")throw Error(t(280));var u=c.stateNode;u&&(u=Rd(u),Xr(c.stateNode,c.type,u))}}function Me(c){ga?Ze?Ze.push(c):Ze=[c]:ga=c}function Fr(){if(ga){var c=ga,u=Ze;if(Ze=ga=null,We(c),u)for(c=0;c<u.length;c++)We(u[c])}}function yt(c,u){return c(u)}function rr(){}var ca=!1;function er(c,u,x){if(ca)return c(u,x);ca=!0;try{return yt(c,u,x)}finally{ca=!1,(ga!==null||Ze!==null)&&(rr(),Fr())}}function Nn(c,u){var x=c.stateNode;if(x===null)return null;var B=Rd(x);if(B===null)return null;x=B[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(B=!B.disabled)||(c=c.type,B=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!B;break e;default:c=!1}if(c)return null;if(x&&typeof x!="function")throw Error(t(231,u,typeof x));return x}var gs=!1;if(l)try{var hn={};Object.defineProperty(hn,"passive",{get:function(){gs=!0}}),window.addEventListener("test",hn,hn),window.removeEventListener("test",hn,hn)}catch{gs=!1}function ns(c,u,x,B,Q,O,oe,ge,Ne){var Te=Array.prototype.slice.call(arguments,3);try{u.apply(x,Te)}catch(ht){this.onError(ht)}}var ft=!1,Va=null,Ya=!1,Ns=null,fi={onError:function(c){ft=!0,Va=c}};function Xa(c,u,x,B,Q,O,oe,ge,Ne){ft=!1,Va=null,ns.apply(fi,arguments)}function $e(c,u,x,B,Q,O,oe,ge,Ne){if(Xa.apply(this,arguments),ft){if(ft){var Te=Va;ft=!1,Va=null}else throw Error(t(198));Ya||(Ya=!0,Ns=Te)}}function et(c){var u=c,x=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,(u.flags&4098)!==0&&(x=u.return),c=u.return;while(c)}return u.tag===3?x:null}function Ft(c){if(c.tag===13){var u=c.memoizedState;if(u===null&&(c=c.alternate,c!==null&&(u=c.memoizedState)),u!==null)return u.dehydrated}return null}function it(c){if(et(c)!==c)throw Error(t(188))}function Ht(c){var u=c.alternate;if(!u){if(u=et(c),u===null)throw Error(t(188));return u!==c?null:c}for(var x=c,B=u;;){var Q=x.return;if(Q===null)break;var O=Q.alternate;if(O===null){if(B=Q.return,B!==null){x=B;continue}break}if(Q.child===O.child){for(O=Q.child;O;){if(O===x)return it(Q),c;if(O===B)return it(Q),u;O=O.sibling}throw Error(t(188))}if(x.return!==B.return)x=Q,B=O;else{for(var oe=!1,ge=Q.child;ge;){if(ge===x){oe=!0,x=Q,B=O;break}if(ge===B){oe=!0,B=Q,x=O;break}ge=ge.sibling}if(!oe){for(ge=O.child;ge;){if(ge===x){oe=!0,x=O,B=Q;break}if(ge===B){oe=!0,B=O,x=Q;break}ge=ge.sibling}if(!oe)throw Error(t(189))}}if(x.alternate!==B)throw Error(t(190))}if(x.tag!==3)throw Error(t(188));return x.stateNode.current===x?c:u}function mr(c){return c=Ht(c),c!==null?$t(c):null}function $t(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var u=$t(c);if(u!==null)return u;c=c.sibling}return null}var Ur=r.unstable_scheduleCallback,Kr=r.unstable_cancelCallback,ar=r.unstable_shouldYield,Lr=r.unstable_requestPaint,zt=r.unstable_now,ma=r.unstable_getCurrentPriorityLevel,fr=r.unstable_ImmediatePriority,hr=r.unstable_UserBlockingPriority,qt=r.unstable_NormalPriority,Qr=r.unstable_LowPriority,sn=r.unstable_IdlePriority,ss=null,en=null;function Wo(c){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(ss,c,void 0,(c.current.flags&128)===128)}catch{}}var Ca=Math.clz32?Math.clz32:vc,Go=Math.log,on=Math.LN2;function vc(c){return c>>>=0,c===0?32:31-(Go(c)/on|0)|0}var yo=64,xt=4194304;function Ge(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Jr(c,u){var x=c.pendingLanes;if(x===0)return 0;var B=0,Q=c.suspendedLanes,O=c.pingedLanes,oe=x&268435455;if(oe!==0){var ge=oe&~Q;ge!==0?B=Ge(ge):(O&=oe,O!==0&&(B=Ge(O)))}else oe=x&~Q,oe!==0?B=Ge(oe):O!==0&&(B=Ge(O));if(B===0)return 0;if(u!==0&&u!==B&&(u&Q)===0&&(Q=B&-B,O=u&-u,Q>=O||Q===16&&(O&4194240)!==0))return u;if((B&4)!==0&&(B|=x&16),u=c.entangledLanes,u!==0)for(c=c.entanglements,u&=B;0<u;)x=31-Ca(u),Q=1<<x,B|=c[x],u&=~Q;return B}function Bt(c,u){switch(c){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ia(c,u){for(var x=c.suspendedLanes,B=c.pingedLanes,Q=c.expirationTimes,O=c.pendingLanes;0<O;){var oe=31-Ca(O),ge=1<<oe,Ne=Q[oe];Ne===-1?((ge&x)===0||(ge&B)!==0)&&(Q[oe]=Bt(ge,u)):Ne<=u&&(c.expiredLanes|=ge),O&=~ge}}function xa(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Bn(){var c=yo;return yo<<=1,(yo&4194240)===0&&(yo=64),c}function Zr(c){for(var u=[],x=0;31>x;x++)u.push(c);return u}function ln(c,u,x){c.pendingLanes|=u,u!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,u=31-Ca(u),c[u]=x}function Sa(c,u){var x=c.pendingLanes&~u;c.pendingLanes=u,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=u,c.mutableReadLanes&=u,c.entangledLanes&=u,u=c.entanglements;var B=c.eventTimes;for(c=c.expirationTimes;0<x;){var Q=31-Ca(x),O=1<<Q;u[Q]=0,B[Q]=-1,c[Q]=-1,x&=~O}}function Yi(c,u){var x=c.entangledLanes|=u;for(c=c.entanglements;x;){var B=31-Ca(x),Q=1<<B;Q&u|c[B]&u&&(c[B]|=u),x&=~Q}}var Aa=0;function mn(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var pA,yd,Eu,Fu,gA,Yo=!1,Xi=[],bo=null,zs=null,Ei=null,Nr=new Map,wc=new Map,jo=[],nh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ku(c,u){switch(c){case"focusin":case"focusout":bo=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":Nr.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(u.pointerId)}}function hi(c,u,x,B,Q,O){return c===null||c.nativeEvent!==O?(c={blockedOn:u,domEventName:x,eventSystemFlags:B,nativeEvent:O,targetContainers:[Q]},u!==null&&(u=kA(u),u!==null&&yd(u)),c):(c.eventSystemFlags|=B,u=c.targetContainers,Q!==null&&u.indexOf(Q)===-1&&u.push(Q),c)}function Xo(c,u,x,B,Q){switch(u){case"focusin":return bo=hi(bo,c,u,x,B,Q),!0;case"dragenter":return zs=hi(zs,c,u,x,B,Q),!0;case"mouseover":return Ei=hi(Ei,c,u,x,B,Q),!0;case"pointerover":var O=Q.pointerId;return Nr.set(O,hi(Nr.get(O)||null,c,u,x,B,Q)),!0;case"gotpointercapture":return O=Q.pointerId,wc.set(O,hi(wc.get(O)||null,c,u,x,B,Q)),!0}return!1}function Du(c){var u=Rl(c.target);if(u!==null){var x=et(u);if(x!==null){if(u=x.tag,u===13){if(u=Ft(x),u!==null){c.blockedOn=u,gA(c.priority,function(){Eu(x)});return}}else if(u===3&&x.stateNode.current.memoizedState.isDehydrated){c.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}c.blockedOn=null}function xA(c){if(c.blockedOn!==null)return!1;for(var u=c.targetContainers;0<u.length;){var x=bc(c.domEventName,c.eventSystemFlags,u[0],c.nativeEvent);if(x===null){x=c.nativeEvent;var B=new x.constructor(x.type,x);xr=B,x.target.dispatchEvent(B),xr=null}else return u=kA(x),u!==null&&yd(u),c.blockedOn=x,!1;u.shift()}return!0}function yc(c,u,x){xA(c)&&x.delete(u)}function bd(){Yo=!1,bo!==null&&xA(bo)&&(bo=null),zs!==null&&xA(zs)&&(zs=null),Ei!==null&&xA(Ei)&&(Ei=null),Nr.forEach(yc),wc.forEach(yc)}function Ji(c,u){c.blockedOn===u&&(c.blockedOn=null,Yo||(Yo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bd)))}function No(c){function u(Q){return Ji(Q,c)}if(0<Xi.length){Ji(Xi[0],c);for(var x=1;x<Xi.length;x++){var B=Xi[x];B.blockedOn===c&&(B.blockedOn=null)}}for(bo!==null&&Ji(bo,c),zs!==null&&Ji(zs,c),Ei!==null&&Ji(Ei,c),Nr.forEach(u),wc.forEach(u),x=0;x<jo.length;x++)B=jo[x],B.blockedOn===c&&(B.blockedOn=null);for(;0<jo.length&&(x=jo[0],x.blockedOn===null);)Du(x),x.blockedOn===null&&jo.shift()}var Zi=E.ReactCurrentBatchConfig,vA=!0;function jd(c,u,x,B){var Q=Aa,O=Zi.transition;Zi.transition=null;try{Aa=1,Jo(c,u,x,B)}finally{Aa=Q,Zi.transition=O}}function Nd(c,u,x,B){var Q=Aa,O=Zi.transition;Zi.transition=null;try{Aa=4,Jo(c,u,x,B)}finally{Aa=Q,Zi.transition=O}}function Jo(c,u,x,B){if(vA){var Q=bc(c,u,x,B);if(Q===null)Id(c,u,B,Bo,x),ku(c,B);else if(Xo(Q,c,u,x,B))B.stopPropagation();else if(ku(c,B),u&4&&-1<nh.indexOf(c)){for(;Q!==null;){var O=kA(Q);if(O!==null&&pA(O),O=bc(c,u,x,B),O===null&&Id(c,u,B,Bo,x),O===Q)break;Q=O}Q!==null&&B.stopPropagation()}else Id(c,u,B,null,x)}}var Bo=null;function bc(c,u,x,B){if(Bo=null,c=Ar(B),c=Rl(c),c!==null)if(u=et(c),u===null)c=null;else if(x=u.tag,x===13){if(c=Ft(u),c!==null)return c;c=null}else if(x===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;c=null}else u!==c&&(c=null);return Bo=c,null}function jc(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ma()){case fr:return 1;case hr:return 4;case qt:case Qr:return 16;case sn:return 536870912;default:return 16}default:return 16}}var Fi=null,Zo=null,Nc=null;function Bd(){if(Nc)return Nc;var c,u=Zo,x=u.length,B,Q="value"in Fi?Fi.value:Fi.textContent,O=Q.length;for(c=0;c<x&&u[c]===Q[c];c++);var oe=x-c;for(B=1;B<=oe&&u[x-B]===Q[O-B];B++);return Nc=Q.slice(c,1<B?1-B:void 0)}function ki(c){var u=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&u===13&&(c=13)):c=u,c===10&&(c=13),32<=c||c===13?c:0}function Di(){return!0}function Cd(){return!1}function Bs(c){function u(x,B,Q,O,oe){this._reactName=x,this._targetInst=Q,this.type=B,this.nativeEvent=O,this.target=oe,this.currentTarget=null;for(var ge in c)c.hasOwnProperty(ge)&&(x=c[ge],this[ge]=x?x(O):O[ge]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Di:Cd,this.isPropagationStopped=Cd,this}return Ae(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),u}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wA=Bs(Ui),P=Ae({},Ui,{view:0,detail:0}),se=Bs(P),pe,be,_e,Je=Ae({},P,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:El,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==_e&&(_e&&c.type==="mousemove"?(pe=c.screenX-_e.screenX,be=c.screenY-_e.screenY):be=pe=0,_e=c),pe)},movementY:function(c){return"movementY"in c?c.movementY:be}}),ot=Bs(Je),Gt=Ae({},Je,{dataTransfer:0}),nr=Bs(Gt),Sr=Ae({},P,{relatedTarget:0}),_r=Bs(Sr),va=Ae({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),cn=Bs(va),Ln=Ae({},Ui,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),za=Bs(Ln),Kn=Ae({},Ui,{data:0}),Cn=Bs(Kn),xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Li={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uu(c){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(c):(c=qs[c])?!!u[c]:!1}function El(){return Uu}var Bc=Ae({},P,{key:function(c){if(c.key){var u=xs[c.key]||c.key;if(u!=="Unidentified")return u}return c.type==="keypress"?(c=ki(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Li[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:El,charCode:function(c){return c.type==="keypress"?ki(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?ki(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Fl=Bs(Bc),Cc=Ae({},Je,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kl=Bs(Cc),Sc=Ae({},P,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:El}),Cs=Bs(Sc),_c=Ae({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ec=Bs(_c),Sd=Ae({},Je,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),_d=Bs(Sd),pn=[9,13,27,32],eo=l&&"CompositionEvent"in window,Co=null;l&&"documentMode"in document&&(Co=document.documentMode);var Lu=l&&"TextEvent"in window&&!Co,mi=l&&(!eo||Co&&8<Co&&11>=Co),Dl=" ",yA=!1;function bA(c,u){switch(c){case"keyup":return pn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function el(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Ii=!1;function pi(c,u){switch(c){case"compositionend":return el(u);case"keypress":return u.which!==32?null:(yA=!0,Dl);case"textInput":return c=u.data,c===Dl&&yA?null:c;default:return null}}function gi(c,u){if(Ii)return c==="compositionend"||!eo&&bA(c,u)?(c=Bd(),Nc=Zo=Fi=null,Ii=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return mi&&u.locale!=="ko"?null:u.data;default:return null}}var Ul={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function So(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u==="input"?!!Ul[c.type]:u==="textarea"}function tl(c,u,x,B){Me(B),u=Mu(u,"onChange"),0<u.length&&(x=new wA("onChange","change",null,x,B),c.push({event:x,listeners:u}))}var rl=null,_o=null;function Sn(c){Ud(c,0)}function Fc(c){var u=Tc(c);if(Be(u))return c}function Eo(c,u){if(c==="change")return u}var to=!1;if(l){var kc;if(l){var Dc="oninput"in document;if(!Dc){var jA=document.createElement("div");jA.setAttribute("oninput","return;"),Dc=typeof jA.oninput=="function"}kc=Dc}else kc=!1;to=kc&&(!document.documentMode||9<document.documentMode)}function NA(){rl&&(rl.detachEvent("onpropertychange",al),_o=rl=null)}function al(c){if(c.propertyName==="value"&&Fc(_o)){var u=[];tl(u,_o,c,Ar(c)),er(Sn,u)}}function Ll(c,u,x){c==="focusin"?(NA(),rl=u,_o=x,rl.attachEvent("onpropertychange",al)):c==="focusout"&&NA()}function Il(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Fc(_o)}function Uc(c,u){if(c==="click")return Fc(u)}function Pl(c,u){if(c==="input"||c==="change")return Fc(u)}function Lc(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var gn=typeof Object.is=="function"?Object.is:Lc;function Ws(c,u){if(gn(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var x=Object.keys(c),B=Object.keys(u);if(x.length!==B.length)return!1;for(B=0;B<x.length;B++){var Q=x[B];if(!A.call(u,Q)||!gn(c[Q],u[Q]))return!1}return!0}function wa(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function ka(c,u){var x=wa(c);c=0;for(var B;x;){if(x.nodeType===3){if(B=c+x.textContent.length,c<=u&&B>=u)return{node:x,offset:u-c};c=B}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=wa(x)}}function xn(c,u){return c&&u?c===u?!0:c&&c.nodeType===3?!1:u&&u.nodeType===3?xn(c,u.parentNode):"contains"in c?c.contains(u):c.compareDocumentPosition?!!(c.compareDocumentPosition(u)&16):!1:!1}function In(){for(var c=window,u=ke();u instanceof c.HTMLIFrameElement;){try{var x=typeof u.contentWindow.location.href=="string"}catch{x=!1}if(x)c=u.contentWindow;else break;u=ke(c.document)}return u}function ro(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u&&(u==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||u==="textarea"||c.contentEditable==="true")}function Ed(c){var u=In(),x=c.focusedElem,B=c.selectionRange;if(u!==x&&x&&x.ownerDocument&&xn(x.ownerDocument.documentElement,x)){if(B!==null&&ro(x)){if(u=B.start,c=B.end,c===void 0&&(c=u),"selectionStart"in x)x.selectionStart=u,x.selectionEnd=Math.min(c,x.value.length);else if(c=(u=x.ownerDocument||document)&&u.defaultView||window,c.getSelection){c=c.getSelection();var Q=x.textContent.length,O=Math.min(B.start,Q);B=B.end===void 0?O:Math.min(B.end,Q),!c.extend&&O>B&&(Q=B,B=O,O=Q),Q=ka(x,O);var oe=ka(x,B);Q&&oe&&(c.rangeCount!==1||c.anchorNode!==Q.node||c.anchorOffset!==Q.offset||c.focusNode!==oe.node||c.focusOffset!==oe.offset)&&(u=u.createRange(),u.setStart(Q.node,Q.offset),c.removeAllRanges(),O>B?(c.addRange(u),c.extend(oe.node,oe.offset)):(u.setEnd(oe.node,oe.offset),c.addRange(u)))}}for(u=[],c=x;c=c.parentNode;)c.nodeType===1&&u.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<u.length;x++)c=u[x],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var BA=l&&"documentMode"in document&&11>=document.documentMode,nl=null,Iu=null,CA=null,Pu=!1;function sh(c,u,x){var B=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Pu||nl==null||nl!==ke(B)||(B=nl,"selectionStart"in B&&ro(B)?B={start:B.selectionStart,end:B.selectionEnd}:(B=(B.ownerDocument&&B.ownerDocument.defaultView||window).getSelection(),B={anchorNode:B.anchorNode,anchorOffset:B.anchorOffset,focusNode:B.focusNode,focusOffset:B.focusOffset}),CA&&Ws(CA,B)||(CA=B,B=Mu(Iu,"onSelect"),0<B.length&&(u=new wA("onSelect","select",null,u,x),c.push({event:u,listeners:B}),u.target=nl)))}function Fd(c,u){var x={};return x[c.toLowerCase()]=u.toLowerCase(),x["Webkit"+c]="webkit"+u,x["Moz"+c]="moz"+u,x}var Ic={animationend:Fd("Animation","AnimationEnd"),animationiteration:Fd("Animation","AnimationIteration"),animationstart:Fd("Animation","AnimationStart"),transitionend:Fd("Transition","TransitionEnd")},Pc={},ih={};l&&(ih=document.createElement("div").style,"AnimationEvent"in window||(delete Ic.animationend.animation,delete Ic.animationiteration.animation,delete Ic.animationstart.animation),"TransitionEvent"in window||delete Ic.transitionend.transition);function kd(c){if(Pc[c])return Pc[c];if(!Ic[c])return c;var u=Ic[c],x;for(x in u)if(u.hasOwnProperty(x)&&x in ih)return Pc[c]=u[x];return c}var oh=kd("animationend"),lh=kd("animationiteration"),ch=kd("animationstart"),Ah=kd("transitionend"),dh=new Map,uh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fo(c,u){dh.set(c,u),i(u,[c])}for(var SA=0;SA<uh.length;SA++){var Rs=uh[SA],Pi=Rs.toLowerCase(),Qu=Rs[0].toUpperCase()+Rs.slice(1);Fo(Pi,"on"+Qu)}Fo(oh,"onAnimationEnd"),Fo(lh,"onAnimationIteration"),Fo(ch,"onAnimationStart"),Fo("dblclick","onDoubleClick"),Fo("focusin","onFocus"),Fo("focusout","onBlur"),Fo(Ah,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function Dd(c,u,x){var B=c.type||"unknown-event";c.currentTarget=x,$e(B,u,void 0,c),c.currentTarget=null}function Ud(c,u){u=(u&4)!==0;for(var x=0;x<c.length;x++){var B=c[x],Q=B.event;B=B.listeners;e:{var O=void 0;if(u)for(var oe=B.length-1;0<=oe;oe--){var ge=B[oe],Ne=ge.instance,Te=ge.currentTarget;if(ge=ge.listener,Ne!==O&&Q.isPropagationStopped())break e;Dd(Q,ge,Te),O=Ne}else for(oe=0;oe<B.length;oe++){if(ge=B[oe],Ne=ge.instance,Te=ge.currentTarget,ge=ge.listener,Ne!==O&&Q.isPropagationStopped())break e;Dd(Q,ge,Te),O=Ne}}}if(Ya)throw c=Ns,Ya=!1,Ns=null,c}function Qa(c,u){var x=u[Ys];x===void 0&&(x=u[Ys]=new Set);var B=c+"__bubble";x.has(B)||(Ld(u,c,2,!1),x.add(B))}function Ru(c,u,x){var B=0;u&&(B|=4),Ld(x,c,B,u)}var _A="_reactListening"+Math.random().toString(36).slice(2);function Qc(c){if(!c[_A]){c[_A]=!0,a.forEach(function(x){x!=="selectionchange"&&(zm.has(x)||Ru(x,!1,c),Ru(x,!0,c))});var u=c.nodeType===9?c:c.ownerDocument;u===null||u[_A]||(u[_A]=!0,Ru("selectionchange",!1,u))}}function Ld(c,u,x,B){switch(jc(u)){case 1:var Q=jd;break;case 4:Q=Nd;break;default:Q=Jo}x=Q.bind(null,u,x,c),Q=void 0,!gs||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(Q=!0),B?Q!==void 0?c.addEventListener(u,x,{capture:!0,passive:Q}):c.addEventListener(u,x,!0):Q!==void 0?c.addEventListener(u,x,{passive:Q}):c.addEventListener(u,x,!1)}function Id(c,u,x,B,Q){var O=B;if((u&1)===0&&(u&2)===0&&B!==null)e:for(;;){if(B===null)return;var oe=B.tag;if(oe===3||oe===4){var ge=B.stateNode.containerInfo;if(ge===Q||ge.nodeType===8&&ge.parentNode===Q)break;if(oe===4)for(oe=B.return;oe!==null;){var Ne=oe.tag;if((Ne===3||Ne===4)&&(Ne=oe.stateNode.containerInfo,Ne===Q||Ne.nodeType===8&&Ne.parentNode===Q))return;oe=oe.return}for(;ge!==null;){if(oe=Rl(ge),oe===null)return;if(Ne=oe.tag,Ne===5||Ne===6){B=O=oe;continue e}ge=ge.parentNode}}B=B.return}er(function(){var Te=O,ht=Ar(x),gt=[];e:{var dt=dh.get(c);if(dt!==void 0){var Rt=wA,Jt=c;switch(c){case"keypress":if(ki(x)===0)break e;case"keydown":case"keyup":Rt=Fl;break;case"focusin":Jt="focus",Rt=_r;break;case"focusout":Jt="blur",Rt=_r;break;case"beforeblur":case"afterblur":Rt=_r;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Rt=ot;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Rt=nr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Rt=Cs;break;case oh:case lh:case ch:Rt=cn;break;case Ah:Rt=Ec;break;case"scroll":Rt=se;break;case"wheel":Rt=_d;break;case"copy":case"cut":case"paste":Rt=za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Rt=kl}var tr=(u&4)!==0,qn=!tr&&c==="scroll",Pe=tr?dt!==null?dt+"Capture":null:dt;tr=[];for(var Se=Te,Re;Se!==null;){Re=Se;var wt=Re.stateNode;if(Re.tag===5&&wt!==null&&(Re=wt,Pe!==null&&(wt=Nn(Se,Pe),wt!=null&&tr.push(Pd(Se,wt,Re)))),qn)break;Se=Se.return}0<tr.length&&(dt=new Rt(dt,Jt,null,x,ht),gt.push({event:dt,listeners:tr}))}}if((u&7)===0){e:{if(dt=c==="mouseover"||c==="pointerover",Rt=c==="mouseout"||c==="pointerout",dt&&x!==xr&&(Jt=x.relatedTarget||x.fromElement)&&(Rl(Jt)||Jt[Ss]))break e;if((Rt||dt)&&(dt=ht.window===ht?ht:(dt=ht.ownerDocument)?dt.defaultView||dt.parentWindow:window,Rt?(Jt=x.relatedTarget||x.toElement,Rt=Te,Jt=Jt?Rl(Jt):null,Jt!==null&&(qn=et(Jt),Jt!==qn||Jt.tag!==5&&Jt.tag!==6)&&(Jt=null)):(Rt=null,Jt=Te),Rt!==Jt)){if(tr=ot,wt="onMouseLeave",Pe="onMouseEnter",Se="mouse",(c==="pointerout"||c==="pointerover")&&(tr=kl,wt="onPointerLeave",Pe="onPointerEnter",Se="pointer"),qn=Rt==null?dt:Tc(Rt),Re=Jt==null?dt:Tc(Jt),dt=new tr(wt,Se+"leave",Rt,x,ht),dt.target=qn,dt.relatedTarget=Re,wt=null,Rl(ht)===Te&&(tr=new tr(Pe,Se+"enter",Jt,x,ht),tr.target=Re,tr.relatedTarget=qn,wt=tr),qn=wt,Rt&&Jt)t:{for(tr=Rt,Pe=Jt,Se=0,Re=tr;Re;Re=Rc(Re))Se++;for(Re=0,wt=Pe;wt;wt=Rc(wt))Re++;for(;0<Se-Re;)tr=Rc(tr),Se--;for(;0<Re-Se;)Pe=Rc(Pe),Re--;for(;Se--;){if(tr===Pe||Pe!==null&&tr===Pe.alternate)break t;tr=Rc(tr),Pe=Rc(Pe)}tr=null}else tr=null;Rt!==null&&qm(gt,dt,Rt,tr,!1),Jt!==null&&qn!==null&&qm(gt,qn,Jt,tr,!0)}}e:{if(dt=Te?Tc(Te):window,Rt=dt.nodeName&&dt.nodeName.toLowerCase(),Rt==="select"||Rt==="input"&&dt.type==="file")var or=Eo;else if(So(dt))if(to)or=Pl;else{or=Il;var wr=Ll}else(Rt=dt.nodeName)&&Rt.toLowerCase()==="input"&&(dt.type==="checkbox"||dt.type==="radio")&&(or=Uc);if(or&&(or=or(c,Te))){tl(gt,or,x,ht);break e}wr&&wr(c,dt,Te),c==="focusout"&&(wr=dt._wrapperState)&&wr.controlled&&dt.type==="number"&&Ee(dt,"number",dt.value)}switch(wr=Te?Tc(Te):window,c){case"focusin":(So(wr)||wr.contentEditable==="true")&&(nl=wr,Iu=Te,CA=null);break;case"focusout":CA=Iu=nl=null;break;case"mousedown":Pu=!0;break;case"contextmenu":case"mouseup":case"dragend":Pu=!1,sh(gt,x,ht);break;case"selectionchange":if(BA)break;case"keydown":case"keyup":sh(gt,x,ht)}var yr;if(eo)e:{switch(c){case"compositionstart":var kr="onCompositionStart";break e;case"compositionend":kr="onCompositionEnd";break e;case"compositionupdate":kr="onCompositionUpdate";break e}kr=void 0}else Ii?bA(c,x)&&(kr="onCompositionEnd"):c==="keydown"&&x.keyCode===229&&(kr="onCompositionStart");kr&&(mi&&x.locale!=="ko"&&(Ii||kr!=="onCompositionStart"?kr==="onCompositionEnd"&&Ii&&(yr=Bd()):(Fi=ht,Zo="value"in Fi?Fi.value:Fi.textContent,Ii=!0)),wr=Mu(Te,kr),0<wr.length&&(kr=new Cn(kr,c,null,x,ht),gt.push({event:kr,listeners:wr}),yr?kr.data=yr:(yr=el(x),yr!==null&&(kr.data=yr)))),(yr=Lu?pi(c,x):gi(c,x))&&(Te=Mu(Te,"onBeforeInput"),0<Te.length&&(ht=new Cn("onBeforeInput","beforeinput",null,x,ht),gt.push({event:ht,listeners:Te}),ht.data=yr))}Ud(gt,u)})}function Pd(c,u,x){return{instance:c,listener:u,currentTarget:x}}function Mu(c,u){for(var x=u+"Capture",B=[];c!==null;){var Q=c,O=Q.stateNode;Q.tag===5&&O!==null&&(Q=O,O=Nn(c,x),O!=null&&B.unshift(Pd(c,O,Q)),O=Nn(c,u),O!=null&&B.push(Pd(c,O,Q))),c=c.return}return B}function Rc(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function qm(c,u,x,B,Q){for(var O=u._reactName,oe=[];x!==null&&x!==B;){var ge=x,Ne=ge.alternate,Te=ge.stateNode;if(Ne!==null&&Ne===B)break;ge.tag===5&&Te!==null&&(ge=Te,Q?(Ne=Nn(x,O),Ne!=null&&oe.unshift(Pd(x,Ne,ge))):Q||(Ne=Nn(x,O),Ne!=null&&oe.push(Pd(x,Ne,ge)))),x=x.return}oe.length!==0&&c.push({event:u,listeners:oe})}var Qx=/\r\n?/g,Rx=/\u0000|\uFFFD/g;function Wm(c){return(typeof c=="string"?c:""+c).replace(Qx,`
`).replace(Rx,"")}function Tu(c,u,x){if(u=Wm(u),Wm(c)!==u&&x)throw Error(t(425))}function EA(){}var Qd=null,Mc=null;function fh(c,u){return c==="textarea"||c==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var hh=typeof setTimeout=="function"?setTimeout:void 0,Gm=typeof clearTimeout=="function"?clearTimeout:void 0,Ym=typeof Promise=="function"?Promise:void 0,Mx=typeof queueMicrotask=="function"?queueMicrotask:typeof Ym<"u"?function(c){return Ym.resolve(null).then(c).catch(Tx)}:hh;function Tx(c){setTimeout(function(){throw c})}function mh(c,u){var x=u,B=0;do{var Q=x.nextSibling;if(c.removeChild(x),Q&&Q.nodeType===8)if(x=Q.data,x==="/$"){if(B===0){c.removeChild(Q),No(u);return}B--}else x!=="$"&&x!=="$?"&&x!=="$!"||B++;x=Q}while(x);No(u)}function Ms(c){for(;c!=null;c=c.nextSibling){var u=c.nodeType;if(u===1||u===3)break;if(u===8){if(u=c.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return c}function Qi(c){c=c.previousSibling;for(var u=0;c;){if(c.nodeType===8){var x=c.data;if(x==="$"||x==="$!"||x==="$?"){if(u===0)return c;u--}else x==="/$"&&u++}c=c.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),ko="__reactFiber$"+Gs,FA="__reactProps$"+Gs,Ss="__reactContainer$"+Gs,Ys="__reactEvents$"+Gs,Ox="__reactListeners$"+Gs,Hx="__reactHandles$"+Gs;function Rl(c){var u=c[ko];if(u)return u;for(var x=c.parentNode;x;){if(u=x[Ss]||x[ko]){if(x=u.alternate,u.child!==null||x!==null&&x.child!==null)for(c=Qi(c);c!==null;){if(x=c[ko])return x;c=Qi(c)}return u}c=x,x=c.parentNode}return null}function kA(c){return c=c[ko]||c[Ss],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Tc(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(t(33))}function Rd(c){return c[FA]||null}var ph=[],sl=-1;function ao(c){return{current:c}}function _a(c){0>sl||(c.current=ph[sl],ph[sl]=null,sl--)}function Da(c,u){sl++,ph[sl]=c.current,c.current=u}var Ml={},vs=ao(Ml),Xs=ao(!1),Oc=Ml;function DA(c,u){var x=c.type.contextTypes;if(!x)return Ml;var B=c.stateNode;if(B&&B.__reactInternalMemoizedUnmaskedChildContext===u)return B.__reactInternalMemoizedMaskedChildContext;var Q={},O;for(O in x)Q[O]=u[O];return B&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=u,c.__reactInternalMemoizedMaskedChildContext=Q),Q}function Js(c){return c=c.childContextTypes,c!=null}function Ou(){_a(Xs),_a(vs)}function Xm(c,u,x){if(vs.current!==Ml)throw Error(t(168));Da(vs,u),Da(Xs,x)}function gh(c,u,x){var B=c.stateNode;if(u=u.childContextTypes,typeof B.getChildContext!="function")return x;B=B.getChildContext();for(var Q in B)if(!(Q in u))throw Error(t(108,H(c)||"Unknown",Q));return Ae({},x,B)}function Hc(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Ml,Oc=vs.current,Da(vs,c),Da(Xs,Xs.current),!0}function Jm(c,u,x){var B=c.stateNode;if(!B)throw Error(t(169));x?(c=gh(c,u,Oc),B.__reactInternalMemoizedMergedChildContext=c,_a(Xs),_a(vs),Da(vs,c)):_a(Xs),Da(Xs,x)}var il=null,Md=!1,j=!1;function S(c){il===null?il=[c]:il.push(c)}function T(c){Md=!0,S(c)}function W(){if(!j&&il!==null){j=!0;var c=0,u=Aa;try{var x=il;for(Aa=1;c<x.length;c++){var B=x[c];do B=B(!0);while(B!==null)}il=null,Md=!1}catch(Q){throw il!==null&&(il=il.slice(c+1)),Ur(fr,W),Q}finally{Aa=u,j=!1}}return null}var ne=[],le=0,ce=null,de=0,ue=[],he=0,je=null,Ie=1,me="";function Ce(c,u){ne[le++]=de,ne[le++]=ce,ce=c,de=u}function Ue(c,u,x){ue[he++]=Ie,ue[he++]=me,ue[he++]=je,je=c;var B=Ie;c=me;var Q=32-Ca(B)-1;B&=~(1<<Q),x+=1;var O=32-Ca(u)+Q;if(30<O){var oe=Q-Q%5;O=(B&(1<<oe)-1).toString(32),B>>=oe,Q-=oe,Ie=1<<32-Ca(u)+Q|x<<Q|B,me=O+c}else Ie=1<<O|x<<Q|B,me=c}function Ye(c){c.return!==null&&(Ce(c,1),Ue(c,1,0))}function Qe(c){for(;c===ce;)ce=ne[--le],ne[le]=null,de=ne[--le],ne[le]=null;for(;c===je;)je=ue[--he],ue[he]=null,me=ue[--he],ue[he]=null,Ie=ue[--he],ue[he]=null}var Ke=null,qe=null,tt=!1,rt=null;function sr(c,u){var x=Po(5,null,null,0);x.elementType="DELETED",x.stateNode=u,x.return=c,u=c.deletions,u===null?(c.deletions=[x],c.flags|=16):u.push(x)}function Kt(c,u){switch(c.tag){case 5:var x=c.type;return u=u.nodeType!==1||x.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(c.stateNode=u,Ke=c,qe=Ms(u.firstChild),!0):!1;case 6:return u=c.pendingProps===""||u.nodeType!==3?null:u,u!==null?(c.stateNode=u,Ke=c,qe=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(x=je!==null?{id:Ie,overflow:me}:null,c.memoizedState={dehydrated:u,treeContext:x,retryLane:1073741824},x=Po(18,null,null,0),x.stateNode=u,x.return=c,c.child=x,Ke=c,qe=null,!0):!1;default:return!1}}function Ir(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Yt(c){if(tt){var u=qe;if(u){var x=u;if(!Kt(c,u)){if(Ir(c))throw Error(t(418));u=Ms(x.nextSibling);var B=Ke;u&&Kt(c,u)?sr(B,x):(c.flags=c.flags&-4097|2,tt=!1,Ke=c)}}else{if(Ir(c))throw Error(t(418));c.flags=c.flags&-4097|2,tt=!1,Ke=c}}}function na(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Ke=c}function vn(c){if(c!==Ke)return!1;if(!tt)return na(c),tt=!0,!1;var u;if((u=c.tag!==3)&&!(u=c.tag!==5)&&(u=c.type,u=u!=="head"&&u!=="body"&&!fh(c.type,c.memoizedProps)),u&&(u=qe)){if(Ir(c))throw Rr(),Error(t(418));for(;u;)sr(c,u),u=Ms(u.nextSibling)}if(na(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(t(317));e:{for(c=c.nextSibling,u=0;c;){if(c.nodeType===8){var x=c.data;if(x==="/$"){if(u===0){qe=Ms(c.nextSibling);break e}u--}else x!=="$"&&x!=="$!"&&x!=="$?"||u++}c=c.nextSibling}qe=null}}else qe=Ke?Ms(c.stateNode.nextSibling):null;return!0}function Rr(){for(var c=qe;c;)c=Ms(c.nextSibling)}function Vt(){qe=Ke=null,tt=!1}function Ct(c){rt===null?rt=[c]:rt.push(c)}var _n=E.ReactCurrentBatchConfig;function Br(c,u,x){if(c=x.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(t(309));var B=x.stateNode}if(!B)throw Error(t(147,c));var Q=B,O=""+c;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===O?u.ref:(u=function(oe){var ge=Q.refs;oe===null?delete ge[O]:ge[O]=oe},u._stringRef=O,u)}if(typeof c!="string")throw Error(t(284));if(!x._owner)throw Error(t(290,c))}return c}function ea(c,u){throw c=Object.prototype.toString.call(u),Error(t(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c))}function qa(c){var u=c._init;return u(c._payload)}function is(c){function u(Pe,Se){if(c){var Re=Pe.deletions;Re===null?(Pe.deletions=[Se],Pe.flags|=16):Re.push(Se)}}function x(Pe,Se){if(!c)return null;for(;Se!==null;)u(Pe,Se),Se=Se.sibling;return null}function B(Pe,Se){for(Pe=new Map;Se!==null;)Se.key!==null?Pe.set(Se.key,Se):Pe.set(Se.index,Se),Se=Se.sibling;return Pe}function Q(Pe,Se){return Pe=HA(Pe,Se),Pe.index=0,Pe.sibling=null,Pe}function O(Pe,Se,Re){return Pe.index=Re,c?(Re=Pe.alternate,Re!==null?(Re=Re.index,Re<Se?(Pe.flags|=2,Se):Re):(Pe.flags|=2,Se)):(Pe.flags|=1048576,Se)}function oe(Pe){return c&&Pe.alternate===null&&(Pe.flags|=2),Pe}function ge(Pe,Se,Re,wt){return Se===null||Se.tag!==6?(Se=gv(Re,Pe.mode,wt),Se.return=Pe,Se):(Se=Q(Se,Re),Se.return=Pe,Se)}function Ne(Pe,Se,Re,wt){var or=Re.type;return or===k?ht(Pe,Se,Re.props.children,wt,Re.key):Se!==null&&(Se.elementType===or||typeof or=="object"&&or!==null&&or.$$typeof===K&&qa(or)===Se.type)?(wt=Q(Se,Re.props),wt.ref=Br(Pe,Se,Re),wt.return=Pe,wt):(wt=xp(Re.type,Re.key,Re.props,null,Pe.mode,wt),wt.ref=Br(Pe,Se,Re),wt.return=Pe,wt)}function Te(Pe,Se,Re,wt){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Re.containerInfo||Se.stateNode.implementation!==Re.implementation?(Se=xv(Re,Pe.mode,wt),Se.return=Pe,Se):(Se=Q(Se,Re.children||[]),Se.return=Pe,Se)}function ht(Pe,Se,Re,wt,or){return Se===null||Se.tag!==7?(Se=qd(Re,Pe.mode,wt,or),Se.return=Pe,Se):(Se=Q(Se,Re),Se.return=Pe,Se)}function gt(Pe,Se,Re){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Se=gv(""+Se,Pe.mode,Re),Se.return=Pe,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case U:return Re=xp(Se.type,Se.key,Se.props,null,Pe.mode,Re),Re.ref=Br(Pe,null,Se),Re.return=Pe,Re;case D:return Se=xv(Se,Pe.mode,Re),Se.return=Pe,Se;case K:var wt=Se._init;return gt(Pe,wt(Se._payload),Re)}if(At(Se)||Z(Se))return Se=qd(Se,Pe.mode,Re,null),Se.return=Pe,Se;ea(Pe,Se)}return null}function dt(Pe,Se,Re,wt){var or=Se!==null?Se.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number")return or!==null?null:ge(Pe,Se,""+Re,wt);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case U:return Re.key===or?Ne(Pe,Se,Re,wt):null;case D:return Re.key===or?Te(Pe,Se,Re,wt):null;case K:return or=Re._init,dt(Pe,Se,or(Re._payload),wt)}if(At(Re)||Z(Re))return or!==null?null:ht(Pe,Se,Re,wt,null);ea(Pe,Re)}return null}function Rt(Pe,Se,Re,wt,or){if(typeof wt=="string"&&wt!==""||typeof wt=="number")return Pe=Pe.get(Re)||null,ge(Se,Pe,""+wt,or);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case U:return Pe=Pe.get(wt.key===null?Re:wt.key)||null,Ne(Se,Pe,wt,or);case D:return Pe=Pe.get(wt.key===null?Re:wt.key)||null,Te(Se,Pe,wt,or);case K:var wr=wt._init;return Rt(Pe,Se,Re,wr(wt._payload),or)}if(At(wt)||Z(wt))return Pe=Pe.get(Re)||null,ht(Se,Pe,wt,or,null);ea(Se,wt)}return null}function Jt(Pe,Se,Re,wt){for(var or=null,wr=null,yr=Se,kr=Se=0,Ds=null;yr!==null&&kr<Re.length;kr++){yr.index>kr?(Ds=yr,yr=null):Ds=yr.sibling;var Ba=dt(Pe,yr,Re[kr],wt);if(Ba===null){yr===null&&(yr=Ds);break}c&&yr&&Ba.alternate===null&&u(Pe,yr),Se=O(Ba,Se,kr),wr===null?or=Ba:wr.sibling=Ba,wr=Ba,yr=Ds}if(kr===Re.length)return x(Pe,yr),tt&&Ce(Pe,kr),or;if(yr===null){for(;kr<Re.length;kr++)yr=gt(Pe,Re[kr],wt),yr!==null&&(Se=O(yr,Se,kr),wr===null?or=yr:wr.sibling=yr,wr=yr);return tt&&Ce(Pe,kr),or}for(yr=B(Pe,yr);kr<Re.length;kr++)Ds=Rt(yr,Pe,kr,Re[kr],wt),Ds!==null&&(c&&Ds.alternate!==null&&yr.delete(Ds.key===null?kr:Ds.key),Se=O(Ds,Se,kr),wr===null?or=Ds:wr.sibling=Ds,wr=Ds);return c&&yr.forEach(function($A){return u(Pe,$A)}),tt&&Ce(Pe,kr),or}function tr(Pe,Se,Re,wt){var or=Z(Re);if(typeof or!="function")throw Error(t(150));if(Re=or.call(Re),Re==null)throw Error(t(151));for(var wr=or=null,yr=Se,kr=Se=0,Ds=null,Ba=Re.next();yr!==null&&!Ba.done;kr++,Ba=Re.next()){yr.index>kr?(Ds=yr,yr=null):Ds=yr.sibling;var $A=dt(Pe,yr,Ba.value,wt);if($A===null){yr===null&&(yr=Ds);break}c&&yr&&$A.alternate===null&&u(Pe,yr),Se=O($A,Se,kr),wr===null?or=$A:wr.sibling=$A,wr=$A,yr=Ds}if(Ba.done)return x(Pe,yr),tt&&Ce(Pe,kr),or;if(yr===null){for(;!Ba.done;kr++,Ba=Re.next())Ba=gt(Pe,Ba.value,wt),Ba!==null&&(Se=O(Ba,Se,kr),wr===null?or=Ba:wr.sibling=Ba,wr=Ba);return tt&&Ce(Pe,kr),or}for(yr=B(Pe,yr);!Ba.done;kr++,Ba=Re.next())Ba=Rt(yr,Pe,kr,Ba.value,wt),Ba!==null&&(c&&Ba.alternate!==null&&yr.delete(Ba.key===null?kr:Ba.key),Se=O(Ba,Se,kr),wr===null?or=Ba:wr.sibling=Ba,wr=Ba);return c&&yr.forEach(function(SD){return u(Pe,SD)}),tt&&Ce(Pe,kr),or}function qn(Pe,Se,Re,wt){if(typeof Re=="object"&&Re!==null&&Re.type===k&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case U:e:{for(var or=Re.key,wr=Se;wr!==null;){if(wr.key===or){if(or=Re.type,or===k){if(wr.tag===7){x(Pe,wr.sibling),Se=Q(wr,Re.props.children),Se.return=Pe,Pe=Se;break e}}else if(wr.elementType===or||typeof or=="object"&&or!==null&&or.$$typeof===K&&qa(or)===wr.type){x(Pe,wr.sibling),Se=Q(wr,Re.props),Se.ref=Br(Pe,wr,Re),Se.return=Pe,Pe=Se;break e}x(Pe,wr);break}else u(Pe,wr);wr=wr.sibling}Re.type===k?(Se=qd(Re.props.children,Pe.mode,wt,Re.key),Se.return=Pe,Pe=Se):(wt=xp(Re.type,Re.key,Re.props,null,Pe.mode,wt),wt.ref=Br(Pe,Se,Re),wt.return=Pe,Pe=wt)}return oe(Pe);case D:e:{for(wr=Re.key;Se!==null;){if(Se.key===wr)if(Se.tag===4&&Se.stateNode.containerInfo===Re.containerInfo&&Se.stateNode.implementation===Re.implementation){x(Pe,Se.sibling),Se=Q(Se,Re.children||[]),Se.return=Pe,Pe=Se;break e}else{x(Pe,Se);break}else u(Pe,Se);Se=Se.sibling}Se=xv(Re,Pe.mode,wt),Se.return=Pe,Pe=Se}return oe(Pe);case K:return wr=Re._init,qn(Pe,Se,wr(Re._payload),wt)}if(At(Re))return Jt(Pe,Se,Re,wt);if(Z(Re))return tr(Pe,Se,Re,wt);ea(Pe,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"?(Re=""+Re,Se!==null&&Se.tag===6?(x(Pe,Se.sibling),Se=Q(Se,Re),Se.return=Pe,Pe=Se):(x(Pe,Se),Se=gv(Re,Pe.mode,wt),Se.return=Pe,Pe=Se),oe(Pe)):x(Pe,Se)}return qn}var Pn=is(!0),An=is(!1),Vn=ao(null),os=null,tn=null,oa=null;function ya(){oa=tn=os=null}function rn(c){var u=Vn.current;_a(Vn),c._currentValue=u}function ba(c,u,x){for(;c!==null;){var B=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,B!==null&&(B.childLanes|=u)):B!==null&&(B.childLanes&u)!==u&&(B.childLanes|=u),c===x)break;c=c.return}}function wn(c,u){os=c,oa=tn=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&u)!==0&&(Mi=!0),c.firstContext=null)}function yn(c){var u=c._currentValue;if(oa!==c)if(c={context:c,memoizedValue:u,next:null},tn===null){if(os===null)throw Error(t(308));tn=c,os.dependencies={lanes:0,firstContext:c}}else tn=tn.next=c;return u}var Ra=null;function _s(c){Ra===null?Ra=[c]:Ra.push(c)}function Ua(c,u,x,B){var Q=u.interleaved;return Q===null?(x.next=x,_s(u)):(x.next=Q.next,Q.next=x),u.interleaved=x,Ma(c,B)}function Ma(c,u){c.lanes|=u;var x=c.alternate;for(x!==null&&(x.lanes|=u),x=c,c=c.return;c!==null;)c.childLanes|=u,x=c.alternate,x!==null&&(x.childLanes|=u),x=c,c=c.return;return x.tag===3?x.stateNode:null}var Qn=!1;function ws(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zs(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function En(c,u){return{eventTime:c,lane:u,tag:0,payload:null,callback:null,next:null}}function Fn(c,u,x){var B=c.updateQueue;if(B===null)return null;if(B=B.shared,(ja&2)!==0){var Q=B.pending;return Q===null?u.next=u:(u.next=Q.next,Q.next=u),B.pending=u,Ma(c,x)}return Q=B.interleaved,Q===null?(u.next=u,_s(B)):(u.next=Q.next,Q.next=u),B.interleaved=u,Ma(c,x)}function Es(c,u,x){if(u=u.updateQueue,u!==null&&(u=u.shared,(x&4194240)!==0)){var B=u.lanes;B&=c.pendingLanes,x|=B,u.lanes=x,Yi(c,x)}}function Ta(c,u){var x=c.updateQueue,B=c.alternate;if(B!==null&&(B=B.updateQueue,x===B)){var Q=null,O=null;if(x=x.firstBaseUpdate,x!==null){do{var oe={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};O===null?Q=O=oe:O=O.next=oe,x=x.next}while(x!==null);O===null?Q=O=u:O=O.next=u}else Q=O=u;x={baseState:B.baseState,firstBaseUpdate:Q,lastBaseUpdate:O,shared:B.shared,effects:B.effects},c.updateQueue=x;return}c=x.lastBaseUpdate,c===null?x.firstBaseUpdate=u:c.next=u,x.lastBaseUpdate=u}function Fs(c,u,x,B){var Q=c.updateQueue;Qn=!1;var O=Q.firstBaseUpdate,oe=Q.lastBaseUpdate,ge=Q.shared.pending;if(ge!==null){Q.shared.pending=null;var Ne=ge,Te=Ne.next;Ne.next=null,oe===null?O=Te:oe.next=Te,oe=Ne;var ht=c.alternate;ht!==null&&(ht=ht.updateQueue,ge=ht.lastBaseUpdate,ge!==oe&&(ge===null?ht.firstBaseUpdate=Te:ge.next=Te,ht.lastBaseUpdate=Ne))}if(O!==null){var gt=Q.baseState;oe=0,ht=Te=Ne=null,ge=O;do{var dt=ge.lane,Rt=ge.eventTime;if((B&dt)===dt){ht!==null&&(ht=ht.next={eventTime:Rt,lane:0,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null});e:{var Jt=c,tr=ge;switch(dt=u,Rt=x,tr.tag){case 1:if(Jt=tr.payload,typeof Jt=="function"){gt=Jt.call(Rt,gt,dt);break e}gt=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=tr.payload,dt=typeof Jt=="function"?Jt.call(Rt,gt,dt):Jt,dt==null)break e;gt=Ae({},gt,dt);break e;case 2:Qn=!0}}ge.callback!==null&&ge.lane!==0&&(c.flags|=64,dt=Q.effects,dt===null?Q.effects=[ge]:dt.push(ge))}else Rt={eventTime:Rt,lane:dt,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},ht===null?(Te=ht=Rt,Ne=gt):ht=ht.next=Rt,oe|=dt;if(ge=ge.next,ge===null){if(ge=Q.shared.pending,ge===null)break;dt=ge,ge=dt.next,dt.next=null,Q.lastBaseUpdate=dt,Q.shared.pending=null}}while(!0);if(ht===null&&(Ne=gt),Q.baseState=Ne,Q.firstBaseUpdate=Te,Q.lastBaseUpdate=ht,u=Q.shared.interleaved,u!==null){Q=u;do oe|=Q.lane,Q=Q.next;while(Q!==u)}else O===null&&(Q.shared.lanes=0);$d|=oe,c.lanes=oe,c.memoizedState=gt}}function Ri(c,u,x){if(c=u.effects,u.effects=null,c!==null)for(u=0;u<c.length;u++){var B=c[u],Q=B.callback;if(Q!==null){if(B.callback=null,B=x,typeof Q!="function")throw Error(t(191,Q));Q.call(B)}}}var no={},ls=ao(no),kn=ao(no),Tl=ao(no);function ol(c){if(c===no)throw Error(t(174));return c}function UA(c,u){switch(Da(Tl,u),Da(kn,c),Da(ls,no),c=u.nodeType,c){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Dt(null,"");break;default:c=c===8?u.parentNode:u,u=c.namespaceURI||null,c=c.tagName,u=Dt(u,c)}_a(ls),Da(ls,u)}function Do(){_a(ls),_a(kn),_a(Tl)}function Zm(c){ol(Tl.current);var u=ol(ls.current),x=Dt(u,c.type);u!==x&&(Da(kn,c),Da(ls,x))}function xh(c){kn.current===c&&(_a(ls),_a(kn))}var Ja=ao(0);function so(c){for(var u=c;u!==null;){if(u.tag===13){var x=u.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var vh=[];function wh(){for(var c=0;c<vh.length;c++)vh[c]._workInProgressVersionPrimary=null;vh.length=0}var Hu=E.ReactCurrentDispatcher,$u=E.ReactCurrentBatchConfig,Uo=0,an=null,Rn=null,Dn=null,LA=!1,ll=!1,IA=0,$x=0;function zn(){throw Error(t(321))}function Ku(c,u){if(u===null)return!1;for(var x=0;x<u.length&&x<c.length;x++)if(!gn(c[x],u[x]))return!1;return!0}function Td(c,u,x,B,Q,O){if(Uo=O,an=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Hu.current=c===null||c.memoizedState===null?Zk:eD,c=x(B,Q),ll){O=0;do{if(ll=!1,IA=0,25<=O)throw Error(t(301));O+=1,Dn=Rn=null,u.updateQueue=null,Hu.current=tD,c=x(B,Q)}while(ll)}if(Hu.current=np,u=Rn!==null&&Rn.next!==null,Uo=0,Dn=Rn=an=null,LA=!1,u)throw Error(t(300));return c}function Lo(){var c=IA!==0;return IA=0,c}function io(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?an.memoizedState=Dn=c:Dn=Dn.next=c,Dn}function xi(){if(Rn===null){var c=an.alternate;c=c!==null?c.memoizedState:null}else c=Rn.next;var u=Dn===null?an.memoizedState:Dn.next;if(u!==null)Dn=u,Rn=c;else{if(c===null)throw Error(t(310));Rn=c,c={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},Dn===null?an.memoizedState=Dn=c:Dn=Dn.next=c}return Dn}function Od(c,u){return typeof u=="function"?u(c):u}function Vu(c){var u=xi(),x=u.queue;if(x===null)throw Error(t(311));x.lastRenderedReducer=c;var B=Rn,Q=B.baseQueue,O=x.pending;if(O!==null){if(Q!==null){var oe=Q.next;Q.next=O.next,O.next=oe}B.baseQueue=Q=O,x.pending=null}if(Q!==null){O=Q.next,B=B.baseState;var ge=oe=null,Ne=null,Te=O;do{var ht=Te.lane;if((Uo&ht)===ht)Ne!==null&&(Ne=Ne.next={lane:0,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),B=Te.hasEagerState?Te.eagerState:c(B,Te.action);else{var gt={lane:ht,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null};Ne===null?(ge=Ne=gt,oe=B):Ne=Ne.next=gt,an.lanes|=ht,$d|=ht}Te=Te.next}while(Te!==null&&Te!==O);Ne===null?oe=B:Ne.next=ge,gn(B,u.memoizedState)||(Mi=!0),u.memoizedState=B,u.baseState=oe,u.baseQueue=Ne,x.lastRenderedState=B}if(c=x.interleaved,c!==null){Q=c;do O=Q.lane,an.lanes|=O,$d|=O,Q=Q.next;while(Q!==c)}else Q===null&&(x.lanes=0);return[u.memoizedState,x.dispatch]}function Ol(c){var u=xi(),x=u.queue;if(x===null)throw Error(t(311));x.lastRenderedReducer=c;var B=x.dispatch,Q=x.pending,O=u.memoizedState;if(Q!==null){x.pending=null;var oe=Q=Q.next;do O=c(O,oe.action),oe=oe.next;while(oe!==Q);gn(O,u.memoizedState)||(Mi=!0),u.memoizedState=O,u.baseQueue===null&&(u.baseState=O),x.lastRenderedState=O}return[O,B]}function ep(){}function yh(c,u){var x=an,B=xi(),Q=u(),O=!gn(B.memoizedState,Q);if(O&&(B.memoizedState=Q,Mi=!0),B=B.queue,Wu(rp.bind(null,x,B,c),[c]),B.getSnapshot!==u||O||Dn!==null&&Dn.memoizedState.tag&1){if(x.flags|=2048,vi(9,bh.bind(null,x,B,Q,u),void 0,null),ks===null)throw Error(t(349));(Uo&30)!==0||tp(x,u,Q)}return Q}function tp(c,u,x){c.flags|=16384,c={getSnapshot:u,value:x},u=an.updateQueue,u===null?(u={lastEffect:null,stores:null},an.updateQueue=u,u.stores=[c]):(x=u.stores,x===null?u.stores=[c]:x.push(c))}function bh(c,u,x,B){u.value=x,u.getSnapshot=B,PA(u)&&zu(c)}function rp(c,u,x){return x(function(){PA(u)&&zu(c)})}function PA(c){var u=c.getSnapshot;c=c.value;try{var x=u();return!gn(c,x)}catch{return!0}}function zu(c){var u=Ma(c,1);u!==null&&fl(u,c,1,-1)}function Hd(c){var u=io();return typeof c=="function"&&(c=c()),u.memoizedState=u.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Od,lastRenderedState:c},u.queue=c,c=c.dispatch=Jk.bind(null,an,c),[u.memoizedState,c]}function vi(c,u,x,B){return c={tag:c,create:u,destroy:x,deps:B,next:null},u=an.updateQueue,u===null?(u={lastEffect:null,stores:null},an.updateQueue=u,u.lastEffect=c.next=c):(x=u.lastEffect,x===null?u.lastEffect=c.next=c:(B=x.next,x.next=c,c.next=B,u.lastEffect=c)),c}function cl(){return xi().memoizedState}function oo(c,u,x,B){var Q=io();an.flags|=c,Q.memoizedState=vi(1|u,x,void 0,B===void 0?null:B)}function $c(c,u,x,B){var Q=xi();B=B===void 0?null:B;var O=void 0;if(Rn!==null){var oe=Rn.memoizedState;if(O=oe.destroy,B!==null&&Ku(B,oe.deps)){Q.memoizedState=vi(u,x,O,B);return}}an.flags|=c,Q.memoizedState=vi(1|u,x,O,B)}function qu(c,u){return oo(8390656,8,c,u)}function Wu(c,u){return $c(2048,8,c,u)}function ap(c,u){return $c(4,2,c,u)}function Gu(c,u){return $c(4,4,c,u)}function Yu(c,u){if(typeof u=="function")return c=c(),u(c),function(){u(null)};if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function Ib(c,u,x){return x=x!=null?x.concat([c]):null,$c(4,4,Yu.bind(null,u,c),x)}function Kx(){}function Pb(c,u){var x=xi();u=u===void 0?null:u;var B=x.memoizedState;return B!==null&&u!==null&&Ku(u,B[1])?B[0]:(x.memoizedState=[c,u],c)}function Qb(c,u){var x=xi();u=u===void 0?null:u;var B=x.memoizedState;return B!==null&&u!==null&&Ku(u,B[1])?B[0]:(c=c(),x.memoizedState=[c,u],c)}function Rb(c,u,x){return(Uo&21)===0?(c.baseState&&(c.baseState=!1,Mi=!0),c.memoizedState=x):(gn(x,u)||(x=Bn(),an.lanes|=x,$d|=x,c.baseState=!0),u)}function Yk(c,u){var x=Aa;Aa=x!==0&&4>x?x:4,c(!0);var B=$u.transition;$u.transition={};try{c(!1),u()}finally{Aa=x,$u.transition=B}}function Mb(){return xi().memoizedState}function Xk(c,u,x){var B=TA(c);if(x={lane:B,action:x,hasEagerState:!1,eagerState:null,next:null},Tb(c))Ob(u,x);else if(x=Ua(c,u,x,B),x!==null){var Q=yi();fl(x,c,B,Q),Hb(x,u,B)}}function Jk(c,u,x){var B=TA(c),Q={lane:B,action:x,hasEagerState:!1,eagerState:null,next:null};if(Tb(c))Ob(u,Q);else{var O=c.alternate;if(c.lanes===0&&(O===null||O.lanes===0)&&(O=u.lastRenderedReducer,O!==null))try{var oe=u.lastRenderedState,ge=O(oe,x);if(Q.hasEagerState=!0,Q.eagerState=ge,gn(ge,oe)){var Ne=u.interleaved;Ne===null?(Q.next=Q,_s(u)):(Q.next=Ne.next,Ne.next=Q),u.interleaved=Q;return}}catch{}finally{}x=Ua(c,u,Q,B),x!==null&&(Q=yi(),fl(x,c,B,Q),Hb(x,u,B))}}function Tb(c){var u=c.alternate;return c===an||u!==null&&u===an}function Ob(c,u){ll=LA=!0;var x=c.pending;x===null?u.next=u:(u.next=x.next,x.next=u),c.pending=u}function Hb(c,u,x){if((x&4194240)!==0){var B=u.lanes;B&=c.pendingLanes,x|=B,u.lanes=x,Yi(c,x)}}var np={readContext:yn,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useInsertionEffect:zn,useLayoutEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useMutableSource:zn,useSyncExternalStore:zn,useId:zn,unstable_isNewReconciler:!1},Zk={readContext:yn,useCallback:function(c,u){return io().memoizedState=[c,u===void 0?null:u],c},useContext:yn,useEffect:qu,useImperativeHandle:function(c,u,x){return x=x!=null?x.concat([c]):null,oo(4194308,4,Yu.bind(null,u,c),x)},useLayoutEffect:function(c,u){return oo(4194308,4,c,u)},useInsertionEffect:function(c,u){return oo(4,2,c,u)},useMemo:function(c,u){var x=io();return u=u===void 0?null:u,c=c(),x.memoizedState=[c,u],c},useReducer:function(c,u,x){var B=io();return u=x!==void 0?x(u):u,B.memoizedState=B.baseState=u,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:u},B.queue=c,c=c.dispatch=Xk.bind(null,an,c),[B.memoizedState,c]},useRef:function(c){var u=io();return c={current:c},u.memoizedState=c},useState:Hd,useDebugValue:Kx,useDeferredValue:function(c){return io().memoizedState=c},useTransition:function(){var c=Hd(!1),u=c[0];return c=Yk.bind(null,c[1]),io().memoizedState=c,[u,c]},useMutableSource:function(){},useSyncExternalStore:function(c,u,x){var B=an,Q=io();if(tt){if(x===void 0)throw Error(t(407));x=x()}else{if(x=u(),ks===null)throw Error(t(349));(Uo&30)!==0||tp(B,u,x)}Q.memoizedState=x;var O={value:x,getSnapshot:u};return Q.queue=O,qu(rp.bind(null,B,O,c),[c]),B.flags|=2048,vi(9,bh.bind(null,B,O,x,u),void 0,null),x},useId:function(){var c=io(),u=ks.identifierPrefix;if(tt){var x=me,B=Ie;x=(B&~(1<<32-Ca(B)-1)).toString(32)+x,u=":"+u+"R"+x,x=IA++,0<x&&(u+="H"+x.toString(32)),u+=":"}else x=$x++,u=":"+u+"r"+x.toString(32)+":";return c.memoizedState=u},unstable_isNewReconciler:!1},eD={readContext:yn,useCallback:Pb,useContext:yn,useEffect:Wu,useImperativeHandle:Ib,useInsertionEffect:ap,useLayoutEffect:Gu,useMemo:Qb,useReducer:Vu,useRef:cl,useState:function(){return Vu(Od)},useDebugValue:Kx,useDeferredValue:function(c){var u=xi();return Rb(u,Rn.memoizedState,c)},useTransition:function(){var c=Vu(Od)[0],u=xi().memoizedState;return[c,u]},useMutableSource:ep,useSyncExternalStore:yh,useId:Mb,unstable_isNewReconciler:!1},tD={readContext:yn,useCallback:Pb,useContext:yn,useEffect:Wu,useImperativeHandle:Ib,useInsertionEffect:ap,useLayoutEffect:Gu,useMemo:Qb,useReducer:Ol,useRef:cl,useState:function(){return Ol(Od)},useDebugValue:Kx,useDeferredValue:function(c){var u=xi();return Rn===null?u.memoizedState=c:Rb(u,Rn.memoizedState,c)},useTransition:function(){var c=Ol(Od)[0],u=xi().memoizedState;return[c,u]},useMutableSource:ep,useSyncExternalStore:yh,useId:Mb,unstable_isNewReconciler:!1};function Al(c,u){if(c&&c.defaultProps){u=Ae({},u),c=c.defaultProps;for(var x in c)u[x]===void 0&&(u[x]=c[x]);return u}return u}function Vx(c,u,x,B){u=c.memoizedState,x=x(B,u),x=x==null?u:Ae({},u,x),c.memoizedState=x,c.lanes===0&&(c.updateQueue.baseState=x)}var sp={isMounted:function(c){return(c=c._reactInternals)?et(c)===c:!1},enqueueSetState:function(c,u,x){c=c._reactInternals;var B=yi(),Q=TA(c),O=En(B,Q);O.payload=u,x!=null&&(O.callback=x),u=Fn(c,O,Q),u!==null&&(fl(u,c,Q,B),Es(u,c,Q))},enqueueReplaceState:function(c,u,x){c=c._reactInternals;var B=yi(),Q=TA(c),O=En(B,Q);O.tag=1,O.payload=u,x!=null&&(O.callback=x),u=Fn(c,O,Q),u!==null&&(fl(u,c,Q,B),Es(u,c,Q))},enqueueForceUpdate:function(c,u){c=c._reactInternals;var x=yi(),B=TA(c),Q=En(x,B);Q.tag=2,u!=null&&(Q.callback=u),u=Fn(c,Q,B),u!==null&&(fl(u,c,B,x),Es(u,c,B))}};function $b(c,u,x,B,Q,O,oe){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(B,O,oe):u.prototype&&u.prototype.isPureReactComponent?!Ws(x,B)||!Ws(Q,O):!0}function Kb(c,u,x){var B=!1,Q=Ml,O=u.contextType;return typeof O=="object"&&O!==null?O=yn(O):(Q=Js(u)?Oc:vs.current,B=u.contextTypes,O=(B=B!=null)?DA(c,Q):Ml),u=new u(x,O),c.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=sp,c.stateNode=u,u._reactInternals=c,B&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=Q,c.__reactInternalMemoizedMaskedChildContext=O),u}function Vb(c,u,x,B){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(x,B),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(x,B),u.state!==c&&sp.enqueueReplaceState(u,u.state,null)}function zx(c,u,x,B){var Q=c.stateNode;Q.props=x,Q.state=c.memoizedState,Q.refs={},ws(c);var O=u.contextType;typeof O=="object"&&O!==null?Q.context=yn(O):(O=Js(u)?Oc:vs.current,Q.context=DA(c,O)),Q.state=c.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Vx(c,u,O,x),Q.state=c.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof Q.getSnapshotBeforeUpdate=="function"||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(u=Q.state,typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount(),u!==Q.state&&sp.enqueueReplaceState(Q,Q.state,null),Fs(c,x,Q,B),Q.state=c.memoizedState),typeof Q.componentDidMount=="function"&&(c.flags|=4194308)}function Xu(c,u){try{var x="",B=u;do x+=F(B),B=B.return;while(B);var Q=x}catch(O){Q=`
Error generating stack: `+O.message+`
`+O.stack}return{value:c,source:u,stack:Q,digest:null}}function qx(c,u,x){return{value:c,source:null,stack:x??null,digest:u??null}}function Wx(c,u){try{console.error(u.value)}catch(x){setTimeout(function(){throw x})}}var rD=typeof WeakMap=="function"?WeakMap:Map;function zb(c,u,x){x=En(-1,x),x.tag=3,x.payload={element:null};var B=u.value;return x.callback=function(){up||(up=!0,cv=B),Wx(c,u)},x}function qb(c,u,x){x=En(-1,x),x.tag=3;var B=c.type.getDerivedStateFromError;if(typeof B=="function"){var Q=u.value;x.payload=function(){return B(Q)},x.callback=function(){Wx(c,u)}}var O=c.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(x.callback=function(){Wx(c,u),typeof B!="function"&&(RA===null?RA=new Set([this]):RA.add(this));var oe=u.stack;this.componentDidCatch(u.value,{componentStack:oe!==null?oe:""})}),x}function Wb(c,u,x){var B=c.pingCache;if(B===null){B=c.pingCache=new rD;var Q=new Set;B.set(u,Q)}else Q=B.get(u),Q===void 0&&(Q=new Set,B.set(u,Q));Q.has(x)||(Q.add(x),c=pD.bind(null,c,u,x),u.then(c,c))}function Gb(c){do{var u;if((u=c.tag===13)&&(u=c.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return c;c=c.return}while(c!==null);return null}function Yb(c,u,x,B,Q){return(c.mode&1)===0?(c===u?c.flags|=65536:(c.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(u=En(-1,1),u.tag=2,Fn(x,u,1))),x.lanes|=1),c):(c.flags|=65536,c.lanes=Q,c)}var aD=E.ReactCurrentOwner,Mi=!1;function wi(c,u,x,B){u.child=c===null?An(u,null,x,B):Pn(u,c.child,x,B)}function Xb(c,u,x,B,Q){x=x.render;var O=u.ref;return wn(u,Q),B=Td(c,u,x,B,O,Q),x=Lo(),c!==null&&!Mi?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~Q,Kc(c,u,Q)):(tt&&x&&Ye(u),u.flags|=1,wi(c,u,B,Q),u.child)}function Jb(c,u,x,B,Q){if(c===null){var O=x.type;return typeof O=="function"&&!pv(O)&&O.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(u.tag=15,u.type=O,Zb(c,u,O,B,Q)):(c=xp(x.type,null,B,u,u.mode,Q),c.ref=u.ref,c.return=u,u.child=c)}if(O=c.child,(c.lanes&Q)===0){var oe=O.memoizedProps;if(x=x.compare,x=x!==null?x:Ws,x(oe,B)&&c.ref===u.ref)return Kc(c,u,Q)}return u.flags|=1,c=HA(O,B),c.ref=u.ref,c.return=u,u.child=c}function Zb(c,u,x,B,Q){if(c!==null){var O=c.memoizedProps;if(Ws(O,B)&&c.ref===u.ref)if(Mi=!1,u.pendingProps=B=O,(c.lanes&Q)!==0)(c.flags&131072)!==0&&(Mi=!0);else return u.lanes=c.lanes,Kc(c,u,Q)}return Gx(c,u,x,B,Q)}function e2(c,u,x){var B=u.pendingProps,Q=B.children,O=c!==null?c.memoizedState:null;if(B.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Da(Zu,lo),lo|=x;else{if((x&1073741824)===0)return c=O!==null?O.baseLanes|x:x,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:c,cachePool:null,transitions:null},u.updateQueue=null,Da(Zu,lo),lo|=c,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},B=O!==null?O.baseLanes:x,Da(Zu,lo),lo|=B}else O!==null?(B=O.baseLanes|x,u.memoizedState=null):B=x,Da(Zu,lo),lo|=B;return wi(c,u,Q,x),u.child}function t2(c,u){var x=u.ref;(c===null&&x!==null||c!==null&&c.ref!==x)&&(u.flags|=512,u.flags|=2097152)}function Gx(c,u,x,B,Q){var O=Js(x)?Oc:vs.current;return O=DA(u,O),wn(u,Q),x=Td(c,u,x,B,O,Q),B=Lo(),c!==null&&!Mi?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~Q,Kc(c,u,Q)):(tt&&B&&Ye(u),u.flags|=1,wi(c,u,x,Q),u.child)}function r2(c,u,x,B,Q){if(Js(x)){var O=!0;Hc(u)}else O=!1;if(wn(u,Q),u.stateNode===null)op(c,u),Kb(u,x,B),zx(u,x,B,Q),B=!0;else if(c===null){var oe=u.stateNode,ge=u.memoizedProps;oe.props=ge;var Ne=oe.context,Te=x.contextType;typeof Te=="object"&&Te!==null?Te=yn(Te):(Te=Js(x)?Oc:vs.current,Te=DA(u,Te));var ht=x.getDerivedStateFromProps,gt=typeof ht=="function"||typeof oe.getSnapshotBeforeUpdate=="function";gt||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(ge!==B||Ne!==Te)&&Vb(u,oe,B,Te),Qn=!1;var dt=u.memoizedState;oe.state=dt,Fs(u,B,oe,Q),Ne=u.memoizedState,ge!==B||dt!==Ne||Xs.current||Qn?(typeof ht=="function"&&(Vx(u,x,ht,B),Ne=u.memoizedState),(ge=Qn||$b(u,x,ge,B,dt,Ne,Te))?(gt||typeof oe.UNSAFE_componentWillMount!="function"&&typeof oe.componentWillMount!="function"||(typeof oe.componentWillMount=="function"&&oe.componentWillMount(),typeof oe.UNSAFE_componentWillMount=="function"&&oe.UNSAFE_componentWillMount()),typeof oe.componentDidMount=="function"&&(u.flags|=4194308)):(typeof oe.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=B,u.memoizedState=Ne),oe.props=B,oe.state=Ne,oe.context=Te,B=ge):(typeof oe.componentDidMount=="function"&&(u.flags|=4194308),B=!1)}else{oe=u.stateNode,Zs(c,u),ge=u.memoizedProps,Te=u.type===u.elementType?ge:Al(u.type,ge),oe.props=Te,gt=u.pendingProps,dt=oe.context,Ne=x.contextType,typeof Ne=="object"&&Ne!==null?Ne=yn(Ne):(Ne=Js(x)?Oc:vs.current,Ne=DA(u,Ne));var Rt=x.getDerivedStateFromProps;(ht=typeof Rt=="function"||typeof oe.getSnapshotBeforeUpdate=="function")||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(ge!==gt||dt!==Ne)&&Vb(u,oe,B,Ne),Qn=!1,dt=u.memoizedState,oe.state=dt,Fs(u,B,oe,Q);var Jt=u.memoizedState;ge!==gt||dt!==Jt||Xs.current||Qn?(typeof Rt=="function"&&(Vx(u,x,Rt,B),Jt=u.memoizedState),(Te=Qn||$b(u,x,Te,B,dt,Jt,Ne)||!1)?(ht||typeof oe.UNSAFE_componentWillUpdate!="function"&&typeof oe.componentWillUpdate!="function"||(typeof oe.componentWillUpdate=="function"&&oe.componentWillUpdate(B,Jt,Ne),typeof oe.UNSAFE_componentWillUpdate=="function"&&oe.UNSAFE_componentWillUpdate(B,Jt,Ne)),typeof oe.componentDidUpdate=="function"&&(u.flags|=4),typeof oe.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof oe.componentDidUpdate!="function"||ge===c.memoizedProps&&dt===c.memoizedState||(u.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||ge===c.memoizedProps&&dt===c.memoizedState||(u.flags|=1024),u.memoizedProps=B,u.memoizedState=Jt),oe.props=B,oe.state=Jt,oe.context=Ne,B=Te):(typeof oe.componentDidUpdate!="function"||ge===c.memoizedProps&&dt===c.memoizedState||(u.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||ge===c.memoizedProps&&dt===c.memoizedState||(u.flags|=1024),B=!1)}return Yx(c,u,x,B,O,Q)}function Yx(c,u,x,B,Q,O){t2(c,u);var oe=(u.flags&128)!==0;if(!B&&!oe)return Q&&Jm(u,x,!1),Kc(c,u,O);B=u.stateNode,aD.current=u;var ge=oe&&typeof x.getDerivedStateFromError!="function"?null:B.render();return u.flags|=1,c!==null&&oe?(u.child=Pn(u,c.child,null,O),u.child=Pn(u,null,ge,O)):wi(c,u,ge,O),u.memoizedState=B.state,Q&&Jm(u,x,!0),u.child}function a2(c){var u=c.stateNode;u.pendingContext?Xm(c,u.pendingContext,u.pendingContext!==u.context):u.context&&Xm(c,u.context,!1),UA(c,u.containerInfo)}function n2(c,u,x,B,Q){return Vt(),Ct(Q),u.flags|=256,wi(c,u,x,B),u.child}var Xx={dehydrated:null,treeContext:null,retryLane:0};function Jx(c){return{baseLanes:c,cachePool:null,transitions:null}}function s2(c,u,x){var B=u.pendingProps,Q=Ja.current,O=!1,oe=(u.flags&128)!==0,ge;if((ge=oe)||(ge=c!==null&&c.memoizedState===null?!1:(Q&2)!==0),ge?(O=!0,u.flags&=-129):(c===null||c.memoizedState!==null)&&(Q|=1),Da(Ja,Q&1),c===null)return Yt(u),c=u.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((u.mode&1)===0?u.lanes=1:c.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(oe=B.children,c=B.fallback,O?(B=u.mode,O=u.child,oe={mode:"hidden",children:oe},(B&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=oe):O=vp(oe,B,0,null),c=qd(c,B,x,null),O.return=u,c.return=u,O.sibling=c,u.child=O,u.child.memoizedState=Jx(x),u.memoizedState=Xx,c):Zx(u,oe));if(Q=c.memoizedState,Q!==null&&(ge=Q.dehydrated,ge!==null))return nD(c,u,oe,B,ge,Q,x);if(O){O=B.fallback,oe=u.mode,Q=c.child,ge=Q.sibling;var Ne={mode:"hidden",children:B.children};return(oe&1)===0&&u.child!==Q?(B=u.child,B.childLanes=0,B.pendingProps=Ne,u.deletions=null):(B=HA(Q,Ne),B.subtreeFlags=Q.subtreeFlags&14680064),ge!==null?O=HA(ge,O):(O=qd(O,oe,x,null),O.flags|=2),O.return=u,B.return=u,B.sibling=O,u.child=B,B=O,O=u.child,oe=c.child.memoizedState,oe=oe===null?Jx(x):{baseLanes:oe.baseLanes|x,cachePool:null,transitions:oe.transitions},O.memoizedState=oe,O.childLanes=c.childLanes&~x,u.memoizedState=Xx,B}return O=c.child,c=O.sibling,B=HA(O,{mode:"visible",children:B.children}),(u.mode&1)===0&&(B.lanes=x),B.return=u,B.sibling=null,c!==null&&(x=u.deletions,x===null?(u.deletions=[c],u.flags|=16):x.push(c)),u.child=B,u.memoizedState=null,B}function Zx(c,u){return u=vp({mode:"visible",children:u},c.mode,0,null),u.return=c,c.child=u}function ip(c,u,x,B){return B!==null&&Ct(B),Pn(u,c.child,null,x),c=Zx(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function nD(c,u,x,B,Q,O,oe){if(x)return u.flags&256?(u.flags&=-257,B=qx(Error(t(422))),ip(c,u,oe,B)):u.memoizedState!==null?(u.child=c.child,u.flags|=128,null):(O=B.fallback,Q=u.mode,B=vp({mode:"visible",children:B.children},Q,0,null),O=qd(O,Q,oe,null),O.flags|=2,B.return=u,O.return=u,B.sibling=O,u.child=B,(u.mode&1)!==0&&Pn(u,c.child,null,oe),u.child.memoizedState=Jx(oe),u.memoizedState=Xx,O);if((u.mode&1)===0)return ip(c,u,oe,null);if(Q.data==="$!"){if(B=Q.nextSibling&&Q.nextSibling.dataset,B)var ge=B.dgst;return B=ge,O=Error(t(419)),B=qx(O,B,void 0),ip(c,u,oe,B)}if(ge=(oe&c.childLanes)!==0,Mi||ge){if(B=ks,B!==null){switch(oe&-oe){case 4:Q=2;break;case 16:Q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Q=32;break;case 536870912:Q=268435456;break;default:Q=0}Q=(Q&(B.suspendedLanes|oe))!==0?0:Q,Q!==0&&Q!==O.retryLane&&(O.retryLane=Q,Ma(c,Q),fl(B,c,Q,-1))}return mv(),B=qx(Error(t(421))),ip(c,u,oe,B)}return Q.data==="$?"?(u.flags|=128,u.child=c.child,u=gD.bind(null,c),Q._reactRetry=u,null):(c=O.treeContext,qe=Ms(Q.nextSibling),Ke=u,tt=!0,rt=null,c!==null&&(ue[he++]=Ie,ue[he++]=me,ue[he++]=je,Ie=c.id,me=c.overflow,je=u),u=Zx(u,B.children),u.flags|=4096,u)}function i2(c,u,x){c.lanes|=u;var B=c.alternate;B!==null&&(B.lanes|=u),ba(c.return,u,x)}function ev(c,u,x,B,Q){var O=c.memoizedState;O===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:B,tail:x,tailMode:Q}:(O.isBackwards=u,O.rendering=null,O.renderingStartTime=0,O.last=B,O.tail=x,O.tailMode=Q)}function o2(c,u,x){var B=u.pendingProps,Q=B.revealOrder,O=B.tail;if(wi(c,u,B.children,x),B=Ja.current,(B&2)!==0)B=B&1|2,u.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&i2(c,x,u);else if(c.tag===19)i2(c,x,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}B&=1}if(Da(Ja,B),(u.mode&1)===0)u.memoizedState=null;else switch(Q){case"forwards":for(x=u.child,Q=null;x!==null;)c=x.alternate,c!==null&&so(c)===null&&(Q=x),x=x.sibling;x=Q,x===null?(Q=u.child,u.child=null):(Q=x.sibling,x.sibling=null),ev(u,!1,Q,x,O);break;case"backwards":for(x=null,Q=u.child,u.child=null;Q!==null;){if(c=Q.alternate,c!==null&&so(c)===null){u.child=Q;break}c=Q.sibling,Q.sibling=x,x=Q,Q=c}ev(u,!0,x,null,O);break;case"together":ev(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function op(c,u){(u.mode&1)===0&&c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2)}function Kc(c,u,x){if(c!==null&&(u.dependencies=c.dependencies),$d|=u.lanes,(x&u.childLanes)===0)return null;if(c!==null&&u.child!==c.child)throw Error(t(153));if(u.child!==null){for(c=u.child,x=HA(c,c.pendingProps),u.child=x,x.return=u;c.sibling!==null;)c=c.sibling,x=x.sibling=HA(c,c.pendingProps),x.return=u;x.sibling=null}return u.child}function sD(c,u,x){switch(u.tag){case 3:a2(u),Vt();break;case 5:Zm(u);break;case 1:Js(u.type)&&Hc(u);break;case 4:UA(u,u.stateNode.containerInfo);break;case 10:var B=u.type._context,Q=u.memoizedProps.value;Da(Vn,B._currentValue),B._currentValue=Q;break;case 13:if(B=u.memoizedState,B!==null)return B.dehydrated!==null?(Da(Ja,Ja.current&1),u.flags|=128,null):(x&u.child.childLanes)!==0?s2(c,u,x):(Da(Ja,Ja.current&1),c=Kc(c,u,x),c!==null?c.sibling:null);Da(Ja,Ja.current&1);break;case 19:if(B=(x&u.childLanes)!==0,(c.flags&128)!==0){if(B)return o2(c,u,x);u.flags|=128}if(Q=u.memoizedState,Q!==null&&(Q.rendering=null,Q.tail=null,Q.lastEffect=null),Da(Ja,Ja.current),B)break;return null;case 22:case 23:return u.lanes=0,e2(c,u,x)}return Kc(c,u,x)}var l2,tv,c2,A2;l2=function(c,u){for(var x=u.child;x!==null;){if(x.tag===5||x.tag===6)c.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},tv=function(){},c2=function(c,u,x,B){var Q=c.memoizedProps;if(Q!==B){c=u.stateNode,ol(ls.current);var O=null;switch(x){case"input":Q=xe(c,Q),B=xe(c,B),O=[];break;case"select":Q=Ae({},Q,{value:void 0}),B=Ae({},B,{value:void 0}),O=[];break;case"textarea":Q=Mt(c,Q),B=Mt(c,B),O=[];break;default:typeof Q.onClick!="function"&&typeof B.onClick=="function"&&(c.onclick=EA)}Wr(x,B);var oe;x=null;for(Te in Q)if(!B.hasOwnProperty(Te)&&Q.hasOwnProperty(Te)&&Q[Te]!=null)if(Te==="style"){var ge=Q[Te];for(oe in ge)ge.hasOwnProperty(oe)&&(x||(x={}),x[oe]="")}else Te!=="dangerouslySetInnerHTML"&&Te!=="children"&&Te!=="suppressContentEditableWarning"&&Te!=="suppressHydrationWarning"&&Te!=="autoFocus"&&(s.hasOwnProperty(Te)?O||(O=[]):(O=O||[]).push(Te,null));for(Te in B){var Ne=B[Te];if(ge=Q!=null?Q[Te]:void 0,B.hasOwnProperty(Te)&&Ne!==ge&&(Ne!=null||ge!=null))if(Te==="style")if(ge){for(oe in ge)!ge.hasOwnProperty(oe)||Ne&&Ne.hasOwnProperty(oe)||(x||(x={}),x[oe]="");for(oe in Ne)Ne.hasOwnProperty(oe)&&ge[oe]!==Ne[oe]&&(x||(x={}),x[oe]=Ne[oe])}else x||(O||(O=[]),O.push(Te,x)),x=Ne;else Te==="dangerouslySetInnerHTML"?(Ne=Ne?Ne.__html:void 0,ge=ge?ge.__html:void 0,Ne!=null&&ge!==Ne&&(O=O||[]).push(Te,Ne)):Te==="children"?typeof Ne!="string"&&typeof Ne!="number"||(O=O||[]).push(Te,""+Ne):Te!=="suppressContentEditableWarning"&&Te!=="suppressHydrationWarning"&&(s.hasOwnProperty(Te)?(Ne!=null&&Te==="onScroll"&&Qa("scroll",c),O||ge===Ne||(O=[])):(O=O||[]).push(Te,Ne))}x&&(O=O||[]).push("style",x);var Te=O;(u.updateQueue=Te)&&(u.flags|=4)}},A2=function(c,u,x,B){x!==B&&(u.flags|=4)};function jh(c,u){if(!tt)switch(c.tailMode){case"hidden":u=c.tail;for(var x=null;u!==null;)u.alternate!==null&&(x=u),u=u.sibling;x===null?c.tail=null:x.sibling=null;break;case"collapsed":x=c.tail;for(var B=null;x!==null;)x.alternate!==null&&(B=x),x=x.sibling;B===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:B.sibling=null}}function ei(c){var u=c.alternate!==null&&c.alternate.child===c.child,x=0,B=0;if(u)for(var Q=c.child;Q!==null;)x|=Q.lanes|Q.childLanes,B|=Q.subtreeFlags&14680064,B|=Q.flags&14680064,Q.return=c,Q=Q.sibling;else for(Q=c.child;Q!==null;)x|=Q.lanes|Q.childLanes,B|=Q.subtreeFlags,B|=Q.flags,Q.return=c,Q=Q.sibling;return c.subtreeFlags|=B,c.childLanes=x,u}function iD(c,u,x){var B=u.pendingProps;switch(Qe(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ei(u),null;case 1:return Js(u.type)&&Ou(),ei(u),null;case 3:return B=u.stateNode,Do(),_a(Xs),_a(vs),wh(),B.pendingContext&&(B.context=B.pendingContext,B.pendingContext=null),(c===null||c.child===null)&&(vn(u)?u.flags|=4:c===null||c.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,rt!==null&&(uv(rt),rt=null))),tv(c,u),ei(u),null;case 5:xh(u);var Q=ol(Tl.current);if(x=u.type,c!==null&&u.stateNode!=null)c2(c,u,x,B,Q),c.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!B){if(u.stateNode===null)throw Error(t(166));return ei(u),null}if(c=ol(ls.current),vn(u)){B=u.stateNode,x=u.type;var O=u.memoizedProps;switch(B[ko]=u,B[FA]=O,c=(u.mode&1)!==0,x){case"dialog":Qa("cancel",B),Qa("close",B);break;case"iframe":case"object":case"embed":Qa("load",B);break;case"video":case"audio":for(Q=0;Q<Ql.length;Q++)Qa(Ql[Q],B);break;case"source":Qa("error",B);break;case"img":case"image":case"link":Qa("error",B),Qa("load",B);break;case"details":Qa("toggle",B);break;case"input":ie(B,O),Qa("invalid",B);break;case"select":B._wrapperState={wasMultiple:!!O.multiple},Qa("invalid",B);break;case"textarea":kt(B,O),Qa("invalid",B)}Wr(x,O),Q=null;for(var oe in O)if(O.hasOwnProperty(oe)){var ge=O[oe];oe==="children"?typeof ge=="string"?B.textContent!==ge&&(O.suppressHydrationWarning!==!0&&Tu(B.textContent,ge,c),Q=["children",ge]):typeof ge=="number"&&B.textContent!==""+ge&&(O.suppressHydrationWarning!==!0&&Tu(B.textContent,ge,c),Q=["children",""+ge]):s.hasOwnProperty(oe)&&ge!=null&&oe==="onScroll"&&Qa("scroll",B)}switch(x){case"input":ve(B),at(B,O,!0);break;case"textarea":ve(B),ut(B);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(B.onclick=EA)}B=Q,u.updateQueue=B,B!==null&&(u.flags|=4)}else{oe=Q.nodeType===9?Q:Q.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Pt(x)),c==="http://www.w3.org/1999/xhtml"?x==="script"?(c=oe.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof B.is=="string"?c=oe.createElement(x,{is:B.is}):(c=oe.createElement(x),x==="select"&&(oe=c,B.multiple?oe.multiple=!0:B.size&&(oe.size=B.size))):c=oe.createElementNS(c,x),c[ko]=u,c[FA]=B,l2(c,u,!1,!1),u.stateNode=c;e:{switch(oe=jt(x,B),x){case"dialog":Qa("cancel",c),Qa("close",c),Q=B;break;case"iframe":case"object":case"embed":Qa("load",c),Q=B;break;case"video":case"audio":for(Q=0;Q<Ql.length;Q++)Qa(Ql[Q],c);Q=B;break;case"source":Qa("error",c),Q=B;break;case"img":case"image":case"link":Qa("error",c),Qa("load",c),Q=B;break;case"details":Qa("toggle",c),Q=B;break;case"input":ie(c,B),Q=xe(c,B),Qa("invalid",c);break;case"option":Q=B;break;case"select":c._wrapperState={wasMultiple:!!B.multiple},Q=Ae({},B,{value:void 0}),Qa("invalid",c);break;case"textarea":kt(c,B),Q=Mt(c,B),Qa("invalid",c);break;default:Q=B}Wr(x,Q),ge=Q;for(O in ge)if(ge.hasOwnProperty(O)){var Ne=ge[O];O==="style"?Qt(c,Ne):O==="dangerouslySetInnerHTML"?(Ne=Ne?Ne.__html:void 0,Ne!=null&&vt(c,Ne)):O==="children"?typeof Ne=="string"?(x!=="textarea"||Ne!=="")&&bt(c,Ne):typeof Ne=="number"&&bt(c,""+Ne):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(s.hasOwnProperty(O)?Ne!=null&&O==="onScroll"&&Qa("scroll",c):Ne!=null&&C(c,O,Ne,oe))}switch(x){case"input":ve(c),at(c,B,!1);break;case"textarea":ve(c),ut(c);break;case"option":B.value!=null&&c.setAttribute("value",""+V(B.value));break;case"select":c.multiple=!!B.multiple,O=B.value,O!=null?st(c,!!B.multiple,O,!1):B.defaultValue!=null&&st(c,!!B.multiple,B.defaultValue,!0);break;default:typeof Q.onClick=="function"&&(c.onclick=EA)}switch(x){case"button":case"input":case"select":case"textarea":B=!!B.autoFocus;break e;case"img":B=!0;break e;default:B=!1}}B&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return ei(u),null;case 6:if(c&&u.stateNode!=null)A2(c,u,c.memoizedProps,B);else{if(typeof B!="string"&&u.stateNode===null)throw Error(t(166));if(x=ol(Tl.current),ol(ls.current),vn(u)){if(B=u.stateNode,x=u.memoizedProps,B[ko]=u,(O=B.nodeValue!==x)&&(c=Ke,c!==null))switch(c.tag){case 3:Tu(B.nodeValue,x,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Tu(B.nodeValue,x,(c.mode&1)!==0)}O&&(u.flags|=4)}else B=(x.nodeType===9?x:x.ownerDocument).createTextNode(B),B[ko]=u,u.stateNode=B}return ei(u),null;case 13:if(_a(Ja),B=u.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(tt&&qe!==null&&(u.mode&1)!==0&&(u.flags&128)===0)Rr(),Vt(),u.flags|=98560,O=!1;else if(O=vn(u),B!==null&&B.dehydrated!==null){if(c===null){if(!O)throw Error(t(318));if(O=u.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(t(317));O[ko]=u}else Vt(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;ei(u),O=!1}else rt!==null&&(uv(rt),rt=null),O=!0;if(!O)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=x,u):(B=B!==null,B!==(c!==null&&c.memoizedState!==null)&&B&&(u.child.flags|=8192,(u.mode&1)!==0&&(c===null||(Ja.current&1)!==0?ys===0&&(ys=3):mv())),u.updateQueue!==null&&(u.flags|=4),ei(u),null);case 4:return Do(),tv(c,u),c===null&&Qc(u.stateNode.containerInfo),ei(u),null;case 10:return rn(u.type._context),ei(u),null;case 17:return Js(u.type)&&Ou(),ei(u),null;case 19:if(_a(Ja),O=u.memoizedState,O===null)return ei(u),null;if(B=(u.flags&128)!==0,oe=O.rendering,oe===null)if(B)jh(O,!1);else{if(ys!==0||c!==null&&(c.flags&128)!==0)for(c=u.child;c!==null;){if(oe=so(c),oe!==null){for(u.flags|=128,jh(O,!1),B=oe.updateQueue,B!==null&&(u.updateQueue=B,u.flags|=4),u.subtreeFlags=0,B=x,x=u.child;x!==null;)O=x,c=B,O.flags&=14680066,oe=O.alternate,oe===null?(O.childLanes=0,O.lanes=c,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=oe.childLanes,O.lanes=oe.lanes,O.child=oe.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=oe.memoizedProps,O.memoizedState=oe.memoizedState,O.updateQueue=oe.updateQueue,O.type=oe.type,c=oe.dependencies,O.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),x=x.sibling;return Da(Ja,Ja.current&1|2),u.child}c=c.sibling}O.tail!==null&&zt()>ef&&(u.flags|=128,B=!0,jh(O,!1),u.lanes=4194304)}else{if(!B)if(c=so(oe),c!==null){if(u.flags|=128,B=!0,x=c.updateQueue,x!==null&&(u.updateQueue=x,u.flags|=4),jh(O,!0),O.tail===null&&O.tailMode==="hidden"&&!oe.alternate&&!tt)return ei(u),null}else 2*zt()-O.renderingStartTime>ef&&x!==1073741824&&(u.flags|=128,B=!0,jh(O,!1),u.lanes=4194304);O.isBackwards?(oe.sibling=u.child,u.child=oe):(x=O.last,x!==null?x.sibling=oe:u.child=oe,O.last=oe)}return O.tail!==null?(u=O.tail,O.rendering=u,O.tail=u.sibling,O.renderingStartTime=zt(),u.sibling=null,x=Ja.current,Da(Ja,B?x&1|2:x&1),u):(ei(u),null);case 22:case 23:return hv(),B=u.memoizedState!==null,c!==null&&c.memoizedState!==null!==B&&(u.flags|=8192),B&&(u.mode&1)!==0?(lo&1073741824)!==0&&(ei(u),u.subtreeFlags&6&&(u.flags|=8192)):ei(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function oD(c,u){switch(Qe(u),u.tag){case 1:return Js(u.type)&&Ou(),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return Do(),_a(Xs),_a(vs),wh(),c=u.flags,(c&65536)!==0&&(c&128)===0?(u.flags=c&-65537|128,u):null;case 5:return xh(u),null;case 13:if(_a(Ja),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(t(340));Vt()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return _a(Ja),null;case 4:return Do(),null;case 10:return rn(u.type._context),null;case 22:case 23:return hv(),null;case 24:return null;default:return null}}var lp=!1,ti=!1,lD=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function Ju(c,u){var x=c.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(B){Mn(c,u,B)}else x.current=null}function rv(c,u,x){try{x()}catch(B){Mn(c,u,B)}}var d2=!1;function cD(c,u){if(Qd=vA,c=In(),ro(c)){if("selectionStart"in c)var x={start:c.selectionStart,end:c.selectionEnd};else e:{x=(x=c.ownerDocument)&&x.defaultView||window;var B=x.getSelection&&x.getSelection();if(B&&B.rangeCount!==0){x=B.anchorNode;var Q=B.anchorOffset,O=B.focusNode;B=B.focusOffset;try{x.nodeType,O.nodeType}catch{x=null;break e}var oe=0,ge=-1,Ne=-1,Te=0,ht=0,gt=c,dt=null;t:for(;;){for(var Rt;gt!==x||Q!==0&&gt.nodeType!==3||(ge=oe+Q),gt!==O||B!==0&&gt.nodeType!==3||(Ne=oe+B),gt.nodeType===3&&(oe+=gt.nodeValue.length),(Rt=gt.firstChild)!==null;)dt=gt,gt=Rt;for(;;){if(gt===c)break t;if(dt===x&&++Te===Q&&(ge=oe),dt===O&&++ht===B&&(Ne=oe),(Rt=gt.nextSibling)!==null)break;gt=dt,dt=gt.parentNode}gt=Rt}x=ge===-1||Ne===-1?null:{start:ge,end:Ne}}else x=null}x=x||{start:0,end:0}}else x=null;for(Mc={focusedElem:c,selectionRange:x},vA=!1,Wt=u;Wt!==null;)if(u=Wt,c=u.child,(u.subtreeFlags&1028)!==0&&c!==null)c.return=u,Wt=c;else for(;Wt!==null;){u=Wt;try{var Jt=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Jt!==null){var tr=Jt.memoizedProps,qn=Jt.memoizedState,Pe=u.stateNode,Se=Pe.getSnapshotBeforeUpdate(u.elementType===u.type?tr:Al(u.type,tr),qn);Pe.__reactInternalSnapshotBeforeUpdate=Se}break;case 3:var Re=u.stateNode.containerInfo;Re.nodeType===1?Re.textContent="":Re.nodeType===9&&Re.documentElement&&Re.removeChild(Re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(wt){Mn(u,u.return,wt)}if(c=u.sibling,c!==null){c.return=u.return,Wt=c;break}Wt=u.return}return Jt=d2,d2=!1,Jt}function Nh(c,u,x){var B=u.updateQueue;if(B=B!==null?B.lastEffect:null,B!==null){var Q=B=B.next;do{if((Q.tag&c)===c){var O=Q.destroy;Q.destroy=void 0,O!==void 0&&rv(u,x,O)}Q=Q.next}while(Q!==B)}}function cp(c,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var x=u=u.next;do{if((x.tag&c)===c){var B=x.create;x.destroy=B()}x=x.next}while(x!==u)}}function av(c){var u=c.ref;if(u!==null){var x=c.stateNode;switch(c.tag){case 5:c=x;break;default:c=x}typeof u=="function"?u(c):u.current=c}}function u2(c){var u=c.alternate;u!==null&&(c.alternate=null,u2(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&(delete u[ko],delete u[FA],delete u[Ys],delete u[Ox],delete u[Hx])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function f2(c){return c.tag===5||c.tag===3||c.tag===4}function h2(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||f2(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function nv(c,u,x){var B=c.tag;if(B===5||B===6)c=c.stateNode,u?x.nodeType===8?x.parentNode.insertBefore(c,u):x.insertBefore(c,u):(x.nodeType===8?(u=x.parentNode,u.insertBefore(c,x)):(u=x,u.appendChild(c)),x=x._reactRootContainer,x!=null||u.onclick!==null||(u.onclick=EA));else if(B!==4&&(c=c.child,c!==null))for(nv(c,u,x),c=c.sibling;c!==null;)nv(c,u,x),c=c.sibling}function sv(c,u,x){var B=c.tag;if(B===5||B===6)c=c.stateNode,u?x.insertBefore(c,u):x.appendChild(c);else if(B!==4&&(c=c.child,c!==null))for(sv(c,u,x),c=c.sibling;c!==null;)sv(c,u,x),c=c.sibling}var Ts=null,dl=!1;function QA(c,u,x){for(x=x.child;x!==null;)m2(c,u,x),x=x.sibling}function m2(c,u,x){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(ss,x)}catch{}switch(x.tag){case 5:ti||Ju(x,u);case 6:var B=Ts,Q=dl;Ts=null,QA(c,u,x),Ts=B,dl=Q,Ts!==null&&(dl?(c=Ts,x=x.stateNode,c.nodeType===8?c.parentNode.removeChild(x):c.removeChild(x)):Ts.removeChild(x.stateNode));break;case 18:Ts!==null&&(dl?(c=Ts,x=x.stateNode,c.nodeType===8?mh(c.parentNode,x):c.nodeType===1&&mh(c,x),No(c)):mh(Ts,x.stateNode));break;case 4:B=Ts,Q=dl,Ts=x.stateNode.containerInfo,dl=!0,QA(c,u,x),Ts=B,dl=Q;break;case 0:case 11:case 14:case 15:if(!ti&&(B=x.updateQueue,B!==null&&(B=B.lastEffect,B!==null))){Q=B=B.next;do{var O=Q,oe=O.destroy;O=O.tag,oe!==void 0&&((O&2)!==0||(O&4)!==0)&&rv(x,u,oe),Q=Q.next}while(Q!==B)}QA(c,u,x);break;case 1:if(!ti&&(Ju(x,u),B=x.stateNode,typeof B.componentWillUnmount=="function"))try{B.props=x.memoizedProps,B.state=x.memoizedState,B.componentWillUnmount()}catch(ge){Mn(x,u,ge)}QA(c,u,x);break;case 21:QA(c,u,x);break;case 22:x.mode&1?(ti=(B=ti)||x.memoizedState!==null,QA(c,u,x),ti=B):QA(c,u,x);break;default:QA(c,u,x)}}function p2(c){var u=c.updateQueue;if(u!==null){c.updateQueue=null;var x=c.stateNode;x===null&&(x=c.stateNode=new lD),u.forEach(function(B){var Q=xD.bind(null,c,B);x.has(B)||(x.add(B),B.then(Q,Q))})}}function ul(c,u){var x=u.deletions;if(x!==null)for(var B=0;B<x.length;B++){var Q=x[B];try{var O=c,oe=u,ge=oe;e:for(;ge!==null;){switch(ge.tag){case 5:Ts=ge.stateNode,dl=!1;break e;case 3:Ts=ge.stateNode.containerInfo,dl=!0;break e;case 4:Ts=ge.stateNode.containerInfo,dl=!0;break e}ge=ge.return}if(Ts===null)throw Error(t(160));m2(O,oe,Q),Ts=null,dl=!1;var Ne=Q.alternate;Ne!==null&&(Ne.return=null),Q.return=null}catch(Te){Mn(Q,u,Te)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)g2(u,c),u=u.sibling}function g2(c,u){var x=c.alternate,B=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(ul(u,c),Hl(c),B&4){try{Nh(3,c,c.return),cp(3,c)}catch(tr){Mn(c,c.return,tr)}try{Nh(5,c,c.return)}catch(tr){Mn(c,c.return,tr)}}break;case 1:ul(u,c),Hl(c),B&512&&x!==null&&Ju(x,x.return);break;case 5:if(ul(u,c),Hl(c),B&512&&x!==null&&Ju(x,x.return),c.flags&32){var Q=c.stateNode;try{bt(Q,"")}catch(tr){Mn(c,c.return,tr)}}if(B&4&&(Q=c.stateNode,Q!=null)){var O=c.memoizedProps,oe=x!==null?x.memoizedProps:O,ge=c.type,Ne=c.updateQueue;if(c.updateQueue=null,Ne!==null)try{ge==="input"&&O.type==="radio"&&O.name!=null&&lt(Q,O),jt(ge,oe);var Te=jt(ge,O);for(oe=0;oe<Ne.length;oe+=2){var ht=Ne[oe],gt=Ne[oe+1];ht==="style"?Qt(Q,gt):ht==="dangerouslySetInnerHTML"?vt(Q,gt):ht==="children"?bt(Q,gt):C(Q,ht,gt,Te)}switch(ge){case"input":mt(Q,O);break;case"textarea":Nt(Q,O);break;case"select":var dt=Q._wrapperState.wasMultiple;Q._wrapperState.wasMultiple=!!O.multiple;var Rt=O.value;Rt!=null?st(Q,!!O.multiple,Rt,!1):dt!==!!O.multiple&&(O.defaultValue!=null?st(Q,!!O.multiple,O.defaultValue,!0):st(Q,!!O.multiple,O.multiple?[]:"",!1))}Q[FA]=O}catch(tr){Mn(c,c.return,tr)}}break;case 6:if(ul(u,c),Hl(c),B&4){if(c.stateNode===null)throw Error(t(162));Q=c.stateNode,O=c.memoizedProps;try{Q.nodeValue=O}catch(tr){Mn(c,c.return,tr)}}break;case 3:if(ul(u,c),Hl(c),B&4&&x!==null&&x.memoizedState.isDehydrated)try{No(u.containerInfo)}catch(tr){Mn(c,c.return,tr)}break;case 4:ul(u,c),Hl(c);break;case 13:ul(u,c),Hl(c),Q=c.child,Q.flags&8192&&(O=Q.memoizedState!==null,Q.stateNode.isHidden=O,!O||Q.alternate!==null&&Q.alternate.memoizedState!==null||(lv=zt())),B&4&&p2(c);break;case 22:if(ht=x!==null&&x.memoizedState!==null,c.mode&1?(ti=(Te=ti)||ht,ul(u,c),ti=Te):ul(u,c),Hl(c),B&8192){if(Te=c.memoizedState!==null,(c.stateNode.isHidden=Te)&&!ht&&(c.mode&1)!==0)for(Wt=c,ht=c.child;ht!==null;){for(gt=Wt=ht;Wt!==null;){switch(dt=Wt,Rt=dt.child,dt.tag){case 0:case 11:case 14:case 15:Nh(4,dt,dt.return);break;case 1:Ju(dt,dt.return);var Jt=dt.stateNode;if(typeof Jt.componentWillUnmount=="function"){B=dt,x=dt.return;try{u=B,Jt.props=u.memoizedProps,Jt.state=u.memoizedState,Jt.componentWillUnmount()}catch(tr){Mn(B,x,tr)}}break;case 5:Ju(dt,dt.return);break;case 22:if(dt.memoizedState!==null){w2(gt);continue}}Rt!==null?(Rt.return=dt,Wt=Rt):w2(gt)}ht=ht.sibling}e:for(ht=null,gt=c;;){if(gt.tag===5){if(ht===null){ht=gt;try{Q=gt.stateNode,Te?(O=Q.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(ge=gt.stateNode,Ne=gt.memoizedProps.style,oe=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null,ge.style.display=jr("display",oe))}catch(tr){Mn(c,c.return,tr)}}}else if(gt.tag===6){if(ht===null)try{gt.stateNode.nodeValue=Te?"":gt.memoizedProps}catch(tr){Mn(c,c.return,tr)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===c)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===c)break e;for(;gt.sibling===null;){if(gt.return===null||gt.return===c)break e;ht===gt&&(ht=null),gt=gt.return}ht===gt&&(ht=null),gt.sibling.return=gt.return,gt=gt.sibling}}break;case 19:ul(u,c),Hl(c),B&4&&p2(c);break;case 21:break;default:ul(u,c),Hl(c)}}function Hl(c){var u=c.flags;if(u&2){try{e:{for(var x=c.return;x!==null;){if(f2(x)){var B=x;break e}x=x.return}throw Error(t(160))}switch(B.tag){case 5:var Q=B.stateNode;B.flags&32&&(bt(Q,""),B.flags&=-33);var O=h2(c);sv(c,O,Q);break;case 3:case 4:var oe=B.stateNode.containerInfo,ge=h2(c);nv(c,ge,oe);break;default:throw Error(t(161))}}catch(Ne){Mn(c,c.return,Ne)}c.flags&=-3}u&4096&&(c.flags&=-4097)}function AD(c,u,x){Wt=c,x2(c)}function x2(c,u,x){for(var B=(c.mode&1)!==0;Wt!==null;){var Q=Wt,O=Q.child;if(Q.tag===22&&B){var oe=Q.memoizedState!==null||lp;if(!oe){var ge=Q.alternate,Ne=ge!==null&&ge.memoizedState!==null||ti;ge=lp;var Te=ti;if(lp=oe,(ti=Ne)&&!Te)for(Wt=Q;Wt!==null;)oe=Wt,Ne=oe.child,oe.tag===22&&oe.memoizedState!==null?y2(Q):Ne!==null?(Ne.return=oe,Wt=Ne):y2(Q);for(;O!==null;)Wt=O,x2(O),O=O.sibling;Wt=Q,lp=ge,ti=Te}v2(c)}else(Q.subtreeFlags&8772)!==0&&O!==null?(O.return=Q,Wt=O):v2(c)}}function v2(c){for(;Wt!==null;){var u=Wt;if((u.flags&8772)!==0){var x=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:ti||cp(5,u);break;case 1:var B=u.stateNode;if(u.flags&4&&!ti)if(x===null)B.componentDidMount();else{var Q=u.elementType===u.type?x.memoizedProps:Al(u.type,x.memoizedProps);B.componentDidUpdate(Q,x.memoizedState,B.__reactInternalSnapshotBeforeUpdate)}var O=u.updateQueue;O!==null&&Ri(u,O,B);break;case 3:var oe=u.updateQueue;if(oe!==null){if(x=null,u.child!==null)switch(u.child.tag){case 5:x=u.child.stateNode;break;case 1:x=u.child.stateNode}Ri(u,oe,x)}break;case 5:var ge=u.stateNode;if(x===null&&u.flags&4){x=ge;var Ne=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":Ne.autoFocus&&x.focus();break;case"img":Ne.src&&(x.src=Ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Te=u.alternate;if(Te!==null){var ht=Te.memoizedState;if(ht!==null){var gt=ht.dehydrated;gt!==null&&No(gt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ti||u.flags&512&&av(u)}catch(dt){Mn(u,u.return,dt)}}if(u===c){Wt=null;break}if(x=u.sibling,x!==null){x.return=u.return,Wt=x;break}Wt=u.return}}function w2(c){for(;Wt!==null;){var u=Wt;if(u===c){Wt=null;break}var x=u.sibling;if(x!==null){x.return=u.return,Wt=x;break}Wt=u.return}}function y2(c){for(;Wt!==null;){var u=Wt;try{switch(u.tag){case 0:case 11:case 15:var x=u.return;try{cp(4,u)}catch(Ne){Mn(u,x,Ne)}break;case 1:var B=u.stateNode;if(typeof B.componentDidMount=="function"){var Q=u.return;try{B.componentDidMount()}catch(Ne){Mn(u,Q,Ne)}}var O=u.return;try{av(u)}catch(Ne){Mn(u,O,Ne)}break;case 5:var oe=u.return;try{av(u)}catch(Ne){Mn(u,oe,Ne)}}}catch(Ne){Mn(u,u.return,Ne)}if(u===c){Wt=null;break}var ge=u.sibling;if(ge!==null){ge.return=u.return,Wt=ge;break}Wt=u.return}}var dD=Math.ceil,Ap=E.ReactCurrentDispatcher,iv=E.ReactCurrentOwner,Io=E.ReactCurrentBatchConfig,ja=0,ks=null,cs=null,Os=0,lo=0,Zu=ao(0),ys=0,Bh=null,$d=0,dp=0,ov=0,Ch=null,Ti=null,lv=0,ef=1/0,Vc=null,up=!1,cv=null,RA=null,fp=!1,MA=null,hp=0,Sh=0,Av=null,mp=-1,pp=0;function yi(){return(ja&6)!==0?zt():mp!==-1?mp:mp=zt()}function TA(c){return(c.mode&1)===0?1:(ja&2)!==0&&Os!==0?Os&-Os:_n.transition!==null?(pp===0&&(pp=Bn()),pp):(c=Aa,c!==0||(c=window.event,c=c===void 0?16:jc(c.type)),c)}function fl(c,u,x,B){if(50<Sh)throw Sh=0,Av=null,Error(t(185));ln(c,x,B),((ja&2)===0||c!==ks)&&(c===ks&&((ja&2)===0&&(dp|=x),ys===4&&OA(c,Os)),Oi(c,B),x===1&&ja===0&&(u.mode&1)===0&&(ef=zt()+500,Md&&W()))}function Oi(c,u){var x=c.callbackNode;ia(c,u);var B=Jr(c,c===ks?Os:0);if(B===0)x!==null&&Kr(x),c.callbackNode=null,c.callbackPriority=0;else if(u=B&-B,c.callbackPriority!==u){if(x!=null&&Kr(x),u===1)c.tag===0?T(j2.bind(null,c)):S(j2.bind(null,c)),Mx(function(){(ja&6)===0&&W()}),x=null;else{switch(mn(B)){case 1:x=fr;break;case 4:x=hr;break;case 16:x=qt;break;case 536870912:x=sn;break;default:x=qt}x=k2(x,b2.bind(null,c))}c.callbackPriority=u,c.callbackNode=x}}function b2(c,u){if(mp=-1,pp=0,(ja&6)!==0)throw Error(t(327));var x=c.callbackNode;if(tf()&&c.callbackNode!==x)return null;var B=Jr(c,c===ks?Os:0);if(B===0)return null;if((B&30)!==0||(B&c.expiredLanes)!==0||u)u=gp(c,B);else{u=B;var Q=ja;ja|=2;var O=B2();(ks!==c||Os!==u)&&(Vc=null,ef=zt()+500,Vd(c,u));do try{hD();break}catch(ge){N2(c,ge)}while(!0);ya(),Ap.current=O,ja=Q,cs!==null?u=0:(ks=null,Os=0,u=ys)}if(u!==0){if(u===2&&(Q=xa(c),Q!==0&&(B=Q,u=dv(c,Q))),u===1)throw x=Bh,Vd(c,0),OA(c,B),Oi(c,zt()),x;if(u===6)OA(c,B);else{if(Q=c.current.alternate,(B&30)===0&&!uD(Q)&&(u=gp(c,B),u===2&&(O=xa(c),O!==0&&(B=O,u=dv(c,O))),u===1))throw x=Bh,Vd(c,0),OA(c,B),Oi(c,zt()),x;switch(c.finishedWork=Q,c.finishedLanes=B,u){case 0:case 1:throw Error(t(345));case 2:zd(c,Ti,Vc);break;case 3:if(OA(c,B),(B&130023424)===B&&(u=lv+500-zt(),10<u)){if(Jr(c,0)!==0)break;if(Q=c.suspendedLanes,(Q&B)!==B){yi(),c.pingedLanes|=c.suspendedLanes&Q;break}c.timeoutHandle=hh(zd.bind(null,c,Ti,Vc),u);break}zd(c,Ti,Vc);break;case 4:if(OA(c,B),(B&4194240)===B)break;for(u=c.eventTimes,Q=-1;0<B;){var oe=31-Ca(B);O=1<<oe,oe=u[oe],oe>Q&&(Q=oe),B&=~O}if(B=Q,B=zt()-B,B=(120>B?120:480>B?480:1080>B?1080:1920>B?1920:3e3>B?3e3:4320>B?4320:1960*dD(B/1960))-B,10<B){c.timeoutHandle=hh(zd.bind(null,c,Ti,Vc),B);break}zd(c,Ti,Vc);break;case 5:zd(c,Ti,Vc);break;default:throw Error(t(329))}}}return Oi(c,zt()),c.callbackNode===x?b2.bind(null,c):null}function dv(c,u){var x=Ch;return c.current.memoizedState.isDehydrated&&(Vd(c,u).flags|=256),c=gp(c,u),c!==2&&(u=Ti,Ti=x,u!==null&&uv(u)),c}function uv(c){Ti===null?Ti=c:Ti.push.apply(Ti,c)}function uD(c){for(var u=c;;){if(u.flags&16384){var x=u.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var B=0;B<x.length;B++){var Q=x[B],O=Q.getSnapshot;Q=Q.value;try{if(!gn(O(),Q))return!1}catch{return!1}}}if(x=u.child,u.subtreeFlags&16384&&x!==null)x.return=u,u=x;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function OA(c,u){for(u&=~ov,u&=~dp,c.suspendedLanes|=u,c.pingedLanes&=~u,c=c.expirationTimes;0<u;){var x=31-Ca(u),B=1<<x;c[x]=-1,u&=~B}}function j2(c){if((ja&6)!==0)throw Error(t(327));tf();var u=Jr(c,0);if((u&1)===0)return Oi(c,zt()),null;var x=gp(c,u);if(c.tag!==0&&x===2){var B=xa(c);B!==0&&(u=B,x=dv(c,B))}if(x===1)throw x=Bh,Vd(c,0),OA(c,u),Oi(c,zt()),x;if(x===6)throw Error(t(345));return c.finishedWork=c.current.alternate,c.finishedLanes=u,zd(c,Ti,Vc),Oi(c,zt()),null}function fv(c,u){var x=ja;ja|=1;try{return c(u)}finally{ja=x,ja===0&&(ef=zt()+500,Md&&W())}}function Kd(c){MA!==null&&MA.tag===0&&(ja&6)===0&&tf();var u=ja;ja|=1;var x=Io.transition,B=Aa;try{if(Io.transition=null,Aa=1,c)return c()}finally{Aa=B,Io.transition=x,ja=u,(ja&6)===0&&W()}}function hv(){lo=Zu.current,_a(Zu)}function Vd(c,u){c.finishedWork=null,c.finishedLanes=0;var x=c.timeoutHandle;if(x!==-1&&(c.timeoutHandle=-1,Gm(x)),cs!==null)for(x=cs.return;x!==null;){var B=x;switch(Qe(B),B.tag){case 1:B=B.type.childContextTypes,B!=null&&Ou();break;case 3:Do(),_a(Xs),_a(vs),wh();break;case 5:xh(B);break;case 4:Do();break;case 13:_a(Ja);break;case 19:_a(Ja);break;case 10:rn(B.type._context);break;case 22:case 23:hv()}x=x.return}if(ks=c,cs=c=HA(c.current,null),Os=lo=u,ys=0,Bh=null,ov=dp=$d=0,Ti=Ch=null,Ra!==null){for(u=0;u<Ra.length;u++)if(x=Ra[u],B=x.interleaved,B!==null){x.interleaved=null;var Q=B.next,O=x.pending;if(O!==null){var oe=O.next;O.next=Q,B.next=oe}x.pending=B}Ra=null}return c}function N2(c,u){do{var x=cs;try{if(ya(),Hu.current=np,LA){for(var B=an.memoizedState;B!==null;){var Q=B.queue;Q!==null&&(Q.pending=null),B=B.next}LA=!1}if(Uo=0,Dn=Rn=an=null,ll=!1,IA=0,iv.current=null,x===null||x.return===null){ys=1,Bh=u,cs=null;break}e:{var O=c,oe=x.return,ge=x,Ne=u;if(u=Os,ge.flags|=32768,Ne!==null&&typeof Ne=="object"&&typeof Ne.then=="function"){var Te=Ne,ht=ge,gt=ht.tag;if((ht.mode&1)===0&&(gt===0||gt===11||gt===15)){var dt=ht.alternate;dt?(ht.updateQueue=dt.updateQueue,ht.memoizedState=dt.memoizedState,ht.lanes=dt.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var Rt=Gb(oe);if(Rt!==null){Rt.flags&=-257,Yb(Rt,oe,ge,O,u),Rt.mode&1&&Wb(O,Te,u),u=Rt,Ne=Te;var Jt=u.updateQueue;if(Jt===null){var tr=new Set;tr.add(Ne),u.updateQueue=tr}else Jt.add(Ne);break e}else{if((u&1)===0){Wb(O,Te,u),mv();break e}Ne=Error(t(426))}}else if(tt&&ge.mode&1){var qn=Gb(oe);if(qn!==null){(qn.flags&65536)===0&&(qn.flags|=256),Yb(qn,oe,ge,O,u),Ct(Xu(Ne,ge));break e}}O=Ne=Xu(Ne,ge),ys!==4&&(ys=2),Ch===null?Ch=[O]:Ch.push(O),O=oe;do{switch(O.tag){case 3:O.flags|=65536,u&=-u,O.lanes|=u;var Pe=zb(O,Ne,u);Ta(O,Pe);break e;case 1:ge=Ne;var Se=O.type,Re=O.stateNode;if((O.flags&128)===0&&(typeof Se.getDerivedStateFromError=="function"||Re!==null&&typeof Re.componentDidCatch=="function"&&(RA===null||!RA.has(Re)))){O.flags|=65536,u&=-u,O.lanes|=u;var wt=qb(O,ge,u);Ta(O,wt);break e}}O=O.return}while(O!==null)}S2(x)}catch(or){u=or,cs===x&&x!==null&&(cs=x=x.return);continue}break}while(!0)}function B2(){var c=Ap.current;return Ap.current=np,c===null?np:c}function mv(){(ys===0||ys===3||ys===2)&&(ys=4),ks===null||($d&268435455)===0&&(dp&268435455)===0||OA(ks,Os)}function gp(c,u){var x=ja;ja|=2;var B=B2();(ks!==c||Os!==u)&&(Vc=null,Vd(c,u));do try{fD();break}catch(Q){N2(c,Q)}while(!0);if(ya(),ja=x,Ap.current=B,cs!==null)throw Error(t(261));return ks=null,Os=0,ys}function fD(){for(;cs!==null;)C2(cs)}function hD(){for(;cs!==null&&!ar();)C2(cs)}function C2(c){var u=F2(c.alternate,c,lo);c.memoizedProps=c.pendingProps,u===null?S2(c):cs=u,iv.current=null}function S2(c){var u=c;do{var x=u.alternate;if(c=u.return,(u.flags&32768)===0){if(x=iD(x,u,lo),x!==null){cs=x;return}}else{if(x=oD(x,u),x!==null){x.flags&=32767,cs=x;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{ys=6,cs=null;return}}if(u=u.sibling,u!==null){cs=u;return}cs=u=c}while(u!==null);ys===0&&(ys=5)}function zd(c,u,x){var B=Aa,Q=Io.transition;try{Io.transition=null,Aa=1,mD(c,u,x,B)}finally{Io.transition=Q,Aa=B}return null}function mD(c,u,x,B){do tf();while(MA!==null);if((ja&6)!==0)throw Error(t(327));x=c.finishedWork;var Q=c.finishedLanes;if(x===null)return null;if(c.finishedWork=null,c.finishedLanes=0,x===c.current)throw Error(t(177));c.callbackNode=null,c.callbackPriority=0;var O=x.lanes|x.childLanes;if(Sa(c,O),c===ks&&(cs=ks=null,Os=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||fp||(fp=!0,k2(qt,function(){return tf(),null})),O=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||O){O=Io.transition,Io.transition=null;var oe=Aa;Aa=1;var ge=ja;ja|=4,iv.current=null,cD(c,x),g2(x,c),Ed(Mc),vA=!!Qd,Mc=Qd=null,c.current=x,AD(x),Lr(),ja=ge,Aa=oe,Io.transition=O}else c.current=x;if(fp&&(fp=!1,MA=c,hp=Q),O=c.pendingLanes,O===0&&(RA=null),Wo(x.stateNode),Oi(c,zt()),u!==null)for(B=c.onRecoverableError,x=0;x<u.length;x++)Q=u[x],B(Q.value,{componentStack:Q.stack,digest:Q.digest});if(up)throw up=!1,c=cv,cv=null,c;return(hp&1)!==0&&c.tag!==0&&tf(),O=c.pendingLanes,(O&1)!==0?c===Av?Sh++:(Sh=0,Av=c):Sh=0,W(),null}function tf(){if(MA!==null){var c=mn(hp),u=Io.transition,x=Aa;try{if(Io.transition=null,Aa=16>c?16:c,MA===null)var B=!1;else{if(c=MA,MA=null,hp=0,(ja&6)!==0)throw Error(t(331));var Q=ja;for(ja|=4,Wt=c.current;Wt!==null;){var O=Wt,oe=O.child;if((Wt.flags&16)!==0){var ge=O.deletions;if(ge!==null){for(var Ne=0;Ne<ge.length;Ne++){var Te=ge[Ne];for(Wt=Te;Wt!==null;){var ht=Wt;switch(ht.tag){case 0:case 11:case 15:Nh(8,ht,O)}var gt=ht.child;if(gt!==null)gt.return=ht,Wt=gt;else for(;Wt!==null;){ht=Wt;var dt=ht.sibling,Rt=ht.return;if(u2(ht),ht===Te){Wt=null;break}if(dt!==null){dt.return=Rt,Wt=dt;break}Wt=Rt}}}var Jt=O.alternate;if(Jt!==null){var tr=Jt.child;if(tr!==null){Jt.child=null;do{var qn=tr.sibling;tr.sibling=null,tr=qn}while(tr!==null)}}Wt=O}}if((O.subtreeFlags&2064)!==0&&oe!==null)oe.return=O,Wt=oe;else e:for(;Wt!==null;){if(O=Wt,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:Nh(9,O,O.return)}var Pe=O.sibling;if(Pe!==null){Pe.return=O.return,Wt=Pe;break e}Wt=O.return}}var Se=c.current;for(Wt=Se;Wt!==null;){oe=Wt;var Re=oe.child;if((oe.subtreeFlags&2064)!==0&&Re!==null)Re.return=oe,Wt=Re;else e:for(oe=Se;Wt!==null;){if(ge=Wt,(ge.flags&2048)!==0)try{switch(ge.tag){case 0:case 11:case 15:cp(9,ge)}}catch(or){Mn(ge,ge.return,or)}if(ge===oe){Wt=null;break e}var wt=ge.sibling;if(wt!==null){wt.return=ge.return,Wt=wt;break e}Wt=ge.return}}if(ja=Q,W(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(ss,c)}catch{}B=!0}return B}finally{Aa=x,Io.transition=u}}return!1}function _2(c,u,x){u=Xu(x,u),u=zb(c,u,1),c=Fn(c,u,1),u=yi(),c!==null&&(ln(c,1,u),Oi(c,u))}function Mn(c,u,x){if(c.tag===3)_2(c,c,x);else for(;u!==null;){if(u.tag===3){_2(u,c,x);break}else if(u.tag===1){var B=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof B.componentDidCatch=="function"&&(RA===null||!RA.has(B))){c=Xu(x,c),c=qb(u,c,1),u=Fn(u,c,1),c=yi(),u!==null&&(ln(u,1,c),Oi(u,c));break}}u=u.return}}function pD(c,u,x){var B=c.pingCache;B!==null&&B.delete(u),u=yi(),c.pingedLanes|=c.suspendedLanes&x,ks===c&&(Os&x)===x&&(ys===4||ys===3&&(Os&130023424)===Os&&500>zt()-lv?Vd(c,0):ov|=x),Oi(c,u)}function E2(c,u){u===0&&((c.mode&1)===0?u=1:(u=xt,xt<<=1,(xt&130023424)===0&&(xt=4194304)));var x=yi();c=Ma(c,u),c!==null&&(ln(c,u,x),Oi(c,x))}function gD(c){var u=c.memoizedState,x=0;u!==null&&(x=u.retryLane),E2(c,x)}function xD(c,u){var x=0;switch(c.tag){case 13:var B=c.stateNode,Q=c.memoizedState;Q!==null&&(x=Q.retryLane);break;case 19:B=c.stateNode;break;default:throw Error(t(314))}B!==null&&B.delete(u),E2(c,x)}var F2;F2=function(c,u,x){if(c!==null)if(c.memoizedProps!==u.pendingProps||Xs.current)Mi=!0;else{if((c.lanes&x)===0&&(u.flags&128)===0)return Mi=!1,sD(c,u,x);Mi=(c.flags&131072)!==0}else Mi=!1,tt&&(u.flags&1048576)!==0&&Ue(u,de,u.index);switch(u.lanes=0,u.tag){case 2:var B=u.type;op(c,u),c=u.pendingProps;var Q=DA(u,vs.current);wn(u,x),Q=Td(null,u,B,c,Q,x);var O=Lo();return u.flags|=1,typeof Q=="object"&&Q!==null&&typeof Q.render=="function"&&Q.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Js(B)?(O=!0,Hc(u)):O=!1,u.memoizedState=Q.state!==null&&Q.state!==void 0?Q.state:null,ws(u),Q.updater=sp,u.stateNode=Q,Q._reactInternals=u,zx(u,B,c,x),u=Yx(null,u,B,!0,O,x)):(u.tag=0,tt&&O&&Ye(u),wi(null,u,Q,x),u=u.child),u;case 16:B=u.elementType;e:{switch(op(c,u),c=u.pendingProps,Q=B._init,B=Q(B._payload),u.type=B,Q=u.tag=wD(B),c=Al(B,c),Q){case 0:u=Gx(null,u,B,c,x);break e;case 1:u=r2(null,u,B,c,x);break e;case 11:u=Xb(null,u,B,c,x);break e;case 14:u=Jb(null,u,B,Al(B.type,c),x);break e}throw Error(t(306,B,""))}return u;case 0:return B=u.type,Q=u.pendingProps,Q=u.elementType===B?Q:Al(B,Q),Gx(c,u,B,Q,x);case 1:return B=u.type,Q=u.pendingProps,Q=u.elementType===B?Q:Al(B,Q),r2(c,u,B,Q,x);case 3:e:{if(a2(u),c===null)throw Error(t(387));B=u.pendingProps,O=u.memoizedState,Q=O.element,Zs(c,u),Fs(u,B,null,x);var oe=u.memoizedState;if(B=oe.element,O.isDehydrated)if(O={element:B,isDehydrated:!1,cache:oe.cache,pendingSuspenseBoundaries:oe.pendingSuspenseBoundaries,transitions:oe.transitions},u.updateQueue.baseState=O,u.memoizedState=O,u.flags&256){Q=Xu(Error(t(423)),u),u=n2(c,u,B,x,Q);break e}else if(B!==Q){Q=Xu(Error(t(424)),u),u=n2(c,u,B,x,Q);break e}else for(qe=Ms(u.stateNode.containerInfo.firstChild),Ke=u,tt=!0,rt=null,x=An(u,null,B,x),u.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Vt(),B===Q){u=Kc(c,u,x);break e}wi(c,u,B,x)}u=u.child}return u;case 5:return Zm(u),c===null&&Yt(u),B=u.type,Q=u.pendingProps,O=c!==null?c.memoizedProps:null,oe=Q.children,fh(B,Q)?oe=null:O!==null&&fh(B,O)&&(u.flags|=32),t2(c,u),wi(c,u,oe,x),u.child;case 6:return c===null&&Yt(u),null;case 13:return s2(c,u,x);case 4:return UA(u,u.stateNode.containerInfo),B=u.pendingProps,c===null?u.child=Pn(u,null,B,x):wi(c,u,B,x),u.child;case 11:return B=u.type,Q=u.pendingProps,Q=u.elementType===B?Q:Al(B,Q),Xb(c,u,B,Q,x);case 7:return wi(c,u,u.pendingProps,x),u.child;case 8:return wi(c,u,u.pendingProps.children,x),u.child;case 12:return wi(c,u,u.pendingProps.children,x),u.child;case 10:e:{if(B=u.type._context,Q=u.pendingProps,O=u.memoizedProps,oe=Q.value,Da(Vn,B._currentValue),B._currentValue=oe,O!==null)if(gn(O.value,oe)){if(O.children===Q.children&&!Xs.current){u=Kc(c,u,x);break e}}else for(O=u.child,O!==null&&(O.return=u);O!==null;){var ge=O.dependencies;if(ge!==null){oe=O.child;for(var Ne=ge.firstContext;Ne!==null;){if(Ne.context===B){if(O.tag===1){Ne=En(-1,x&-x),Ne.tag=2;var Te=O.updateQueue;if(Te!==null){Te=Te.shared;var ht=Te.pending;ht===null?Ne.next=Ne:(Ne.next=ht.next,ht.next=Ne),Te.pending=Ne}}O.lanes|=x,Ne=O.alternate,Ne!==null&&(Ne.lanes|=x),ba(O.return,x,u),ge.lanes|=x;break}Ne=Ne.next}}else if(O.tag===10)oe=O.type===u.type?null:O.child;else if(O.tag===18){if(oe=O.return,oe===null)throw Error(t(341));oe.lanes|=x,ge=oe.alternate,ge!==null&&(ge.lanes|=x),ba(oe,x,u),oe=O.sibling}else oe=O.child;if(oe!==null)oe.return=O;else for(oe=O;oe!==null;){if(oe===u){oe=null;break}if(O=oe.sibling,O!==null){O.return=oe.return,oe=O;break}oe=oe.return}O=oe}wi(c,u,Q.children,x),u=u.child}return u;case 9:return Q=u.type,B=u.pendingProps.children,wn(u,x),Q=yn(Q),B=B(Q),u.flags|=1,wi(c,u,B,x),u.child;case 14:return B=u.type,Q=Al(B,u.pendingProps),Q=Al(B.type,Q),Jb(c,u,B,Q,x);case 15:return Zb(c,u,u.type,u.pendingProps,x);case 17:return B=u.type,Q=u.pendingProps,Q=u.elementType===B?Q:Al(B,Q),op(c,u),u.tag=1,Js(B)?(c=!0,Hc(u)):c=!1,wn(u,x),Kb(u,B,Q),zx(u,B,Q,x),Yx(null,u,B,!0,c,x);case 19:return o2(c,u,x);case 22:return e2(c,u,x)}throw Error(t(156,u.tag))};function k2(c,u){return Ur(c,u)}function vD(c,u,x,B){this.tag=c,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=B,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Po(c,u,x,B){return new vD(c,u,x,B)}function pv(c){return c=c.prototype,!(!c||!c.isReactComponent)}function wD(c){if(typeof c=="function")return pv(c)?1:0;if(c!=null){if(c=c.$$typeof,c===$)return 11;if(c===re)return 14}return 2}function HA(c,u){var x=c.alternate;return x===null?(x=Po(c.tag,u,c.key,c.mode),x.elementType=c.elementType,x.type=c.type,x.stateNode=c.stateNode,x.alternate=c,c.alternate=x):(x.pendingProps=u,x.type=c.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=c.flags&14680064,x.childLanes=c.childLanes,x.lanes=c.lanes,x.child=c.child,x.memoizedProps=c.memoizedProps,x.memoizedState=c.memoizedState,x.updateQueue=c.updateQueue,u=c.dependencies,x.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},x.sibling=c.sibling,x.index=c.index,x.ref=c.ref,x}function xp(c,u,x,B,Q,O){var oe=2;if(B=c,typeof c=="function")pv(c)&&(oe=1);else if(typeof c=="string")oe=5;else e:switch(c){case k:return qd(x.children,Q,O,u);case L:oe=8,Q|=8;break;case _:return c=Po(12,x,u,Q|2),c.elementType=_,c.lanes=O,c;case J:return c=Po(13,x,u,Q),c.elementType=J,c.lanes=O,c;case M:return c=Po(19,x,u,Q),c.elementType=M,c.lanes=O,c;case G:return vp(x,Q,O,u);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case Y:oe=10;break e;case I:oe=9;break e;case $:oe=11;break e;case re:oe=14;break e;case K:oe=16,B=null;break e}throw Error(t(130,c==null?c:typeof c,""))}return u=Po(oe,x,u,Q),u.elementType=c,u.type=B,u.lanes=O,u}function qd(c,u,x,B){return c=Po(7,c,B,u),c.lanes=x,c}function vp(c,u,x,B){return c=Po(22,c,B,u),c.elementType=G,c.lanes=x,c.stateNode={isHidden:!1},c}function gv(c,u,x){return c=Po(6,c,null,u),c.lanes=x,c}function xv(c,u,x){return u=Po(4,c.children!==null?c.children:[],c.key,u),u.lanes=x,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}function yD(c,u,x,B,Q){this.tag=u,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zr(0),this.expirationTimes=Zr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zr(0),this.identifierPrefix=B,this.onRecoverableError=Q,this.mutableSourceEagerHydrationData=null}function vv(c,u,x,B,Q,O,oe,ge,Ne){return c=new yD(c,u,x,ge,Ne),u===1?(u=1,O===!0&&(u|=8)):u=0,O=Po(3,null,null,u),c.current=O,O.stateNode=c,O.memoizedState={element:B,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},ws(O),c}function bD(c,u,x){var B=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:B==null?null:""+B,children:c,containerInfo:u,implementation:x}}function D2(c){if(!c)return Ml;c=c._reactInternals;e:{if(et(c)!==c||c.tag!==1)throw Error(t(170));var u=c;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Js(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(c.tag===1){var x=c.type;if(Js(x))return gh(c,x,u)}return u}function U2(c,u,x,B,Q,O,oe,ge,Ne){return c=vv(x,B,!0,c,Q,O,oe,ge,Ne),c.context=D2(null),x=c.current,B=yi(),Q=TA(x),O=En(B,Q),O.callback=u??null,Fn(x,O,Q),c.current.lanes=Q,ln(c,Q,B),Oi(c,B),c}function wp(c,u,x,B){var Q=u.current,O=yi(),oe=TA(Q);return x=D2(x),u.context===null?u.context=x:u.pendingContext=x,u=En(O,oe),u.payload={element:c},B=B===void 0?null:B,B!==null&&(u.callback=B),c=Fn(Q,u,oe),c!==null&&(fl(c,Q,oe,O),Es(c,Q,oe)),oe}function yp(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function L2(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var x=c.retryLane;c.retryLane=x!==0&&x<u?x:u}}function wv(c,u){L2(c,u),(c=c.alternate)&&L2(c,u)}function jD(){return null}var I2=typeof reportError=="function"?reportError:function(c){console.error(c)};function yv(c){this._internalRoot=c}bp.prototype.render=yv.prototype.render=function(c){var u=this._internalRoot;if(u===null)throw Error(t(409));wp(c,u,null,null)},bp.prototype.unmount=yv.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var u=c.containerInfo;Kd(function(){wp(null,c,null,null)}),u[Ss]=null}};function bp(c){this._internalRoot=c}bp.prototype.unstable_scheduleHydration=function(c){if(c){var u=Fu();c={blockedOn:null,target:c,priority:u};for(var x=0;x<jo.length&&u!==0&&u<jo[x].priority;x++);jo.splice(x,0,c),x===0&&Du(c)}};function bv(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function jp(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function P2(){}function ND(c,u,x,B,Q){if(Q){if(typeof B=="function"){var O=B;B=function(){var Te=yp(oe);O.call(Te)}}var oe=U2(u,B,c,0,null,!1,!1,"",P2);return c._reactRootContainer=oe,c[Ss]=oe.current,Qc(c.nodeType===8?c.parentNode:c),Kd(),oe}for(;Q=c.lastChild;)c.removeChild(Q);if(typeof B=="function"){var ge=B;B=function(){var Te=yp(Ne);ge.call(Te)}}var Ne=vv(c,0,!1,null,null,!1,!1,"",P2);return c._reactRootContainer=Ne,c[Ss]=Ne.current,Qc(c.nodeType===8?c.parentNode:c),Kd(function(){wp(u,Ne,x,B)}),Ne}function Np(c,u,x,B,Q){var O=x._reactRootContainer;if(O){var oe=O;if(typeof Q=="function"){var ge=Q;Q=function(){var Ne=yp(oe);ge.call(Ne)}}wp(u,oe,c,Q)}else oe=ND(x,u,c,Q,B);return yp(oe)}pA=function(c){switch(c.tag){case 3:var u=c.stateNode;if(u.current.memoizedState.isDehydrated){var x=Ge(u.pendingLanes);x!==0&&(Yi(u,x|1),Oi(u,zt()),(ja&6)===0&&(ef=zt()+500,W()))}break;case 13:Kd(function(){var B=Ma(c,1);if(B!==null){var Q=yi();fl(B,c,1,Q)}}),wv(c,1)}},yd=function(c){if(c.tag===13){var u=Ma(c,134217728);if(u!==null){var x=yi();fl(u,c,134217728,x)}wv(c,134217728)}},Eu=function(c){if(c.tag===13){var u=TA(c),x=Ma(c,u);if(x!==null){var B=yi();fl(x,c,u,B)}wv(c,u)}},Fu=function(){return Aa},gA=function(c,u){var x=Aa;try{return Aa=c,u()}finally{Aa=x}},Xr=function(c,u,x){switch(u){case"input":if(mt(c,x),u=x.name,x.type==="radio"&&u!=null){for(x=c;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<x.length;u++){var B=x[u];if(B!==c&&B.form===c.form){var Q=Rd(B);if(!Q)throw Error(t(90));Be(B),mt(B,Q)}}}break;case"textarea":Nt(c,x);break;case"select":u=x.value,u!=null&&st(c,!!x.multiple,u,!1)}},yt=fv,rr=Kd;var BD={usingClientEntryPoint:!1,Events:[kA,Tc,Rd,Me,Fr,fv]},_h={findFiberByHostInstance:Rl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CD={bundleType:_h.bundleType,version:_h.version,rendererPackageName:_h.rendererPackageName,rendererConfig:_h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=mr(c),c===null?null:c.stateNode},findFiberByHostInstance:_h.findFiberByHostInstance||jD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{ss=Bp.inject(CD),en=Bp}catch{}}return Hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BD,Hi.createPortal=function(c,u){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bv(u))throw Error(t(200));return bD(c,u,null,x)},Hi.createRoot=function(c,u){if(!bv(c))throw Error(t(299));var x=!1,B="",Q=I2;return u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(B=u.identifierPrefix),u.onRecoverableError!==void 0&&(Q=u.onRecoverableError)),u=vv(c,1,!1,null,null,x,!1,B,Q),c[Ss]=u.current,Qc(c.nodeType===8?c.parentNode:c),new yv(u)},Hi.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(t(188)):(c=Object.keys(c).join(","),Error(t(268,c)));return c=mr(u),c=c===null?null:c.stateNode,c},Hi.flushSync=function(c){return Kd(c)},Hi.hydrate=function(c,u,x){if(!jp(u))throw Error(t(200));return Np(null,c,u,!0,x)},Hi.hydrateRoot=function(c,u,x){if(!bv(c))throw Error(t(405));var B=x!=null&&x.hydratedSources||null,Q=!1,O="",oe=I2;if(x!=null&&(x.unstable_strictMode===!0&&(Q=!0),x.identifierPrefix!==void 0&&(O=x.identifierPrefix),x.onRecoverableError!==void 0&&(oe=x.onRecoverableError)),u=U2(u,null,c,1,x??null,Q,!1,O,oe),c[Ss]=u.current,Qc(c),B)for(c=0;c<B.length;c++)x=B[c],Q=x._getVersion,Q=Q(x._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[x,Q]:u.mutableSourceEagerHydrationData.push(x,Q);return new bp(u)},Hi.render=function(c,u,x){if(!jp(u))throw Error(t(200));return Np(null,c,u,!1,x)},Hi.unmountComponentAtNode=function(c){if(!jp(c))throw Error(t(40));return c._reactRootContainer?(Kd(function(){Np(null,null,c,!1,function(){c._reactRootContainer=null,c[Ss]=null})}),!0):!1},Hi.unstable_batchedUpdates=fv,Hi.unstable_renderSubtreeIntoContainer=function(c,u,x,B){if(!jp(x))throw Error(t(200));if(c==null||c._reactInternals===void 0)throw Error(t(38));return Np(c,u,x,!1,B)},Hi.version="18.3.1-next-f1338f8080-20240426",Hi}var K2;function d5(){if(K2)return Bv.exports;K2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Bv.exports=PD(),Bv.exports}var V2;function QD(){if(V2)return Cp;V2=1;var e=d5();return Cp.createRoot=e.createRoot,Cp.hydrateRoot=e.hydrateRoot,Cp}var u5=QD(),b=I0();const ze=A5(b),bm=FD({__proto__:null,default:ze},[b]);var Vf=d5();const f5=A5(Vf);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function im(){return im=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},im.apply(this,arguments)}var ed;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ed||(ed={}));const z2="popstate";function RD(e){e===void 0&&(e={});function r(s,i){let{pathname:o="/",search:l="",hash:A=""}=ju(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Xw("",{pathname:o,search:l,hash:A},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let A=s.location.href,d=A.indexOf("#");l=d===-1?A:A.slice(0,d)}return l+"#"+(typeof i=="string"?i:zg(i))}function a(s,i){v1(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return TD(r,t,a,e)}function ts(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function v1(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function MD(){return Math.random().toString(36).substr(2,8)}function q2(e,r){return{usr:e.state,key:e.key,idx:r}}function Xw(e,r,t,a){return t===void 0&&(t=null),im({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?ju(r):r,{state:t,key:r&&r.key||a||MD()})}function zg(e){let{pathname:r="/",search:t="",hash:a=""}=e;return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function ju(e){let r={};if(e){let t=e.indexOf("#");t>=0&&(r.hash=e.substr(t),e=e.substr(0,t));let a=e.indexOf("?");a>=0&&(r.search=e.substr(a),e=e.substr(0,a)),e&&(r.pathname=e)}return r}function TD(e,r,t,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,l=ed.Pop,A=null,d=f();d==null&&(d=0,o.replaceState(im({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function h(){l=ed.Pop;let w=f(),y=w==null?null:w-d;d=w,A&&A({action:l,location:g.location,delta:y})}function m(w,y){l=ed.Push;let N=Xw(g.location,w,y);t&&t(N,w),d=f()+1;let C=q2(N,d),E=g.createHref(N);try{o.pushState(C,"",E)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;s.location.assign(E)}i&&A&&A({action:l,location:g.location,delta:1})}function p(w,y){l=ed.Replace;let N=Xw(g.location,w,y);t&&t(N,w),d=f();let C=q2(N,d),E=g.createHref(N);o.replaceState(C,"",E),i&&A&&A({action:l,location:g.location,delta:0})}function v(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,N=typeof w=="string"?w:zg(w);return N=N.replace(/ $/,"%20"),ts(y,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,y)}let g={get action(){return l},get location(){return e(s,o)},listen(w){if(A)throw new Error("A history only accepts one active listener");return s.addEventListener(z2,h),A=w,()=>{s.removeEventListener(z2,h),A=null}},createHref(w){return r(s,w)},createURL:v,encodeLocation(w){let y=v(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(w){return o.go(w)}};return g}var W2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(W2||(W2={}));function OD(e,r,t){return t===void 0&&(t="/"),HD(e,r,t)}function HD(e,r,t,a){let s=typeof r=="string"?ju(r):r,i=w1(s.pathname||"/",t);if(i==null)return null;let o=h5(e);$D(o);let l=null;for(let A=0;l==null&&A<o.length;++A){let d=tU(i);l=JD(o[A],d)}return l}function h5(e,r,t,a){r===void 0&&(r=[]),t===void 0&&(t=[]),a===void 0&&(a="");let s=(i,o,l)=>{let A={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};A.relativePath.startsWith("/")&&(ts(A.relativePath.startsWith(a),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(a.length));let d=id([a,A.relativePath]),f=t.concat(A);i.children&&i.children.length>0&&(ts(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),h5(i.children,r,f,d)),!(i.path==null&&!i.index)&&r.push({path:d,score:YD(d,i.index),routesMeta:f})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let A of m5(i.path))s(i,o,A)}),r}function m5(e){let r=e.split("/");if(r.length===0)return[];let[t,...a]=r,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let o=m5(a.join("/")),l=[];return l.push(...o.map(A=>A===""?i:[i,A].join("/"))),s&&l.push(...o),l.map(A=>e.startsWith("/")&&A===""?"/":A)}function $D(e){e.sort((r,t)=>r.score!==t.score?t.score-r.score:XD(r.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}const KD=/^:[\w-]+$/,VD=3,zD=2,qD=1,WD=10,GD=-2,G2=e=>e==="*";function YD(e,r){let t=e.split("/"),a=t.length;return t.some(G2)&&(a+=GD),r&&(a+=zD),t.filter(s=>!G2(s)).reduce((s,i)=>s+(KD.test(i)?VD:i===""?qD:WD),a)}function XD(e,r){return e.length===r.length&&e.slice(0,-1).every((a,s)=>a===r[s])?e[e.length-1]-r[r.length-1]:0}function JD(e,r,t){let{routesMeta:a}=e,s={},i="/",o=[];for(let l=0;l<a.length;++l){let A=a[l],d=l===a.length-1,f=i==="/"?r:r.slice(i.length)||"/",h=ZD({path:A.relativePath,caseSensitive:A.caseSensitive,end:d},f),m=A.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:id([i,h.pathname]),pathnameBase:sU(id([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=id([i,h.pathnameBase]))}return o}function ZD(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,a]=eU(e.path,e.caseSensitive,e.end),s=r.match(t);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((d,f,h)=>{let{paramName:m,isOptional:p}=f;if(m==="*"){let g=l[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const v=l[h];return p&&!v?d[m]=void 0:d[m]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function eU(e,r,t){r===void 0&&(r=!1),t===void 0&&(t=!0),v1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,A)=>(a.push({paramName:l,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,r?void 0:"i"),a]}function tU(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return v1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function w1(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let t=r.endsWith("/")?r.length-1:r.length,a=e.charAt(t);return a&&a!=="/"?null:e.slice(t)||"/"}function rU(e,r){r===void 0&&(r="/");let{pathname:t,search:a="",hash:s=""}=typeof e=="string"?ju(e):e;return{pathname:t?t.startsWith("/")?t:aU(t,r):r,search:iU(a),hash:oU(s)}}function aU(e,r){let t=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function _v(e,r,t,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nU(e){return e.filter((r,t)=>t===0||r.route.path&&r.route.path.length>0)}function y1(e,r){let t=nU(e);return r?t.map((a,s)=>s===t.length-1?a.pathname:a.pathnameBase):t.map(a=>a.pathnameBase)}function b1(e,r,t,a){a===void 0&&(a=!1);let s;typeof e=="string"?s=ju(e):(s=im({},e),ts(!s.pathname||!s.pathname.includes("?"),_v("?","pathname","search",s)),ts(!s.pathname||!s.pathname.includes("#"),_v("#","pathname","hash",s)),ts(!s.search||!s.search.includes("#"),_v("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=t;else{let h=r.length-1;if(!a&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?r[h]:"/"}let A=rU(s,l),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&t.endsWith("/");return!A.pathname.endsWith("/")&&(d||f)&&(A.pathname+="/"),A}const id=e=>e.join("/").replace(/\/\/+/g,"/"),sU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const p5=["post","put","patch","delete"];new Set(p5);const cU=["get",...p5];new Set(cU);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function om(){return om=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},om.apply(this,arguments)}const j1=b.createContext(null),AU=b.createContext(null),xd=b.createContext(null),P0=b.createContext(null),fc=b.createContext({outlet:null,matches:[],isDataRoute:!1}),g5=b.createContext(null);function dU(e,r){let{relative:t}=r===void 0?{}:r;zf()||ts(!1);let{basename:a,navigator:s}=b.useContext(xd),{hash:i,pathname:o,search:l}=v5(e,{relative:t}),A=o;return a!=="/"&&(A=o==="/"?a:id([a,o])),s.createHref({pathname:A,search:l,hash:i})}function zf(){return b.useContext(P0)!=null}function as(){return zf()||ts(!1),b.useContext(P0).location}function x5(e){b.useContext(xd).static||b.useLayoutEffect(e)}function $n(){let{isDataRoute:e}=b.useContext(fc);return e?CU():uU()}function uU(){zf()||ts(!1);let e=b.useContext(j1),{basename:r,future:t,navigator:a}=b.useContext(xd),{matches:s}=b.useContext(fc),{pathname:i}=as(),o=JSON.stringify(y1(s,t.v7_relativeSplatPath)),l=b.useRef(!1);return x5(()=>{l.current=!0}),b.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){a.go(d);return}let h=b1(d,JSON.parse(o),i,f.relative==="path");e==null&&r!=="/"&&(h.pathname=h.pathname==="/"?r:id([r,h.pathname])),(f.replace?a.replace:a.push)(h,f.state,f)},[r,a,o,i,e])}const fU=b.createContext(null);function hU(e){let r=b.useContext(fc).outlet;return r&&b.createElement(fU.Provider,{value:e},r)}function zo(){let{matches:e}=b.useContext(fc),r=e[e.length-1];return r?r.params:{}}function v5(e,r){let{relative:t}=r===void 0?{}:r,{future:a}=b.useContext(xd),{matches:s}=b.useContext(fc),{pathname:i}=as(),o=JSON.stringify(y1(s,a.v7_relativeSplatPath));return b.useMemo(()=>b1(e,JSON.parse(o),i,t==="path"),[e,o,i,t])}function mU(e,r){return pU(e,r)}function pU(e,r,t,a){zf()||ts(!1);let{navigator:s}=b.useContext(xd),{matches:i}=b.useContext(fc),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let A=o?o.pathnameBase:"/";o&&o.route;let d=as(),f;if(r){var h;let w=typeof r=="string"?ju(r):r;A==="/"||(h=w.pathname)!=null&&h.startsWith(A)||ts(!1),f=w}else f=d;let m=f.pathname||"/",p=m;if(A!=="/"){let w=A.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=OD(e,{pathname:p}),g=yU(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:id([A,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?A:id([A,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,t,a);return r&&g?b.createElement(P0.Provider,{value:{location:om({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ed.Pop}},g):g}function gU(){let e=BU(),r=lU(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},r),t?b.createElement("pre",{style:s},t):null,null)}const xU=b.createElement(gU,null);class vU extends b.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?b.createElement(fc.Provider,{value:this.props.routeContext},b.createElement(g5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wU(e){let{routeContext:r,match:t,children:a}=e,s=b.useContext(j1);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(fc.Provider,{value:r},a)}function yU(e,r,t,a){var s;if(r===void 0&&(r=[]),t===void 0&&(t=null),a===void 0&&(a=null),e==null){var i;if(!t)return null;if(t.errors)e=t.matches;else if((i=a)!=null&&i.v7_partialHydration&&r.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let o=e,l=(s=t)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);f>=0||ts(!1),o=o.slice(0,Math.min(o.length,f+1))}let A=!1,d=-1;if(t&&a&&a.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:m,errors:p}=t,v=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){A=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,h,m)=>{let p,v=!1,g=null,w=null;t&&(p=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||xU,A&&(d<0&&m===0?(SU("route-fallback"),v=!0,w=null):d===m&&(v=!0,w=h.route.hydrateFallbackElement||null)));let y=r.concat(o.slice(0,m+1)),N=()=>{let C;return p?C=g:v?C=w:h.route.Component?C=b.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=f,b.createElement(wU,{match:h,routeContext:{outlet:f,matches:y,isDataRoute:t!=null},children:C})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?b.createElement(vU,{location:t.location,revalidation:t.revalidation,component:g,error:p,children:N(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):N()},null)}var w5=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(w5||{}),y5=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(y5||{});function bU(e){let r=b.useContext(j1);return r||ts(!1),r}function jU(e){let r=b.useContext(AU);return r||ts(!1),r}function NU(e){let r=b.useContext(fc);return r||ts(!1),r}function b5(e){let r=NU(),t=r.matches[r.matches.length-1];return t.route.id||ts(!1),t.route.id}function BU(){var e;let r=b.useContext(g5),t=jU(),a=b5();return r!==void 0?r:(e=t.errors)==null?void 0:e[a]}function CU(){let{router:e}=bU(w5.UseNavigateStable),r=b5(y5.UseNavigateStable),t=b.useRef(!1);return x5(()=>{t.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,om({fromRouteId:r},i)))},[e,r])}const Y2={};function SU(e,r,t){Y2[e]||(Y2[e]=!0)}function _U(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ea(e){let{to:r,replace:t,state:a,relative:s}=e;zf()||ts(!1);let{future:i,static:o}=b.useContext(xd),{matches:l}=b.useContext(fc),{pathname:A}=as(),d=$n(),f=b1(r,y1(l,i.v7_relativeSplatPath),A,s==="path"),h=JSON.stringify(f);return b.useEffect(()=>d(JSON.parse(h),{replace:t,state:a,relative:s}),[d,h,s,t,a]),null}function jm(e){return hU(e.context)}function Tt(e){ts(!1)}function EU(e){let{basename:r="/",children:t=null,location:a,navigationType:s=ed.Pop,navigator:i,static:o=!1,future:l}=e;zf()&&ts(!1);let A=r.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:A,navigator:i,static:o,future:om({v7_relativeSplatPath:!1},l)}),[A,l,i,o]);typeof a=="string"&&(a=ju(a));let{pathname:f="/",search:h="",hash:m="",state:p=null,key:v="default"}=a,g=b.useMemo(()=>{let w=w1(f,A);return w==null?null:{location:{pathname:w,search:h,hash:m,state:p,key:v},navigationType:s}},[A,f,h,m,p,v,s]);return g==null?null:b.createElement(xd.Provider,{value:d},b.createElement(P0.Provider,{children:t,value:g}))}function FU(e){let{children:r,location:t}=e;return mU(Jw(r),t)}new Promise(()=>{});function Jw(e,r){r===void 0&&(r=[]);let t=[];return b.Children.forEach(e,(a,s)=>{if(!b.isValidElement(a))return;let i=[...r,s];if(a.type===b.Fragment){t.push.apply(t,Jw(a.props.children,i));return}a.type!==Tt&&ts(!1),!a.props.index||!a.props.children||ts(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=Jw(a.props.children,i)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Zw.apply(this,arguments)}function kU(e,r){if(e==null)return{};var t={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(r.indexOf(s)>=0)&&(t[s]=e[s]);return t}function DU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function UU(e,r){return e.button===0&&(!r||r==="_self")&&!DU(e)}function ey(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,t)=>{let a=e[t];return r.concat(Array.isArray(a)?a.map(s=>[t,s]):[[t,a]])},[]))}function LU(e,r){let t=ey(e);return r&&r.forEach((a,s)=>{t.has(s)||r.getAll(s).forEach(i=>{t.append(s,i)})}),t}const IU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PU="6";try{window.__reactRouterVersion=PU}catch{}const QU="startTransition",X2=bm[QU];function RU(e){let{basename:r,children:t,future:a,window:s}=e,i=b.useRef();i.current==null&&(i.current=RD({window:s,v5Compat:!0}));let o=i.current,[l,A]=b.useState({action:o.action,location:o.location}),{v7_startTransition:d}=a||{},f=b.useCallback(h=>{d&&X2?X2(()=>A(h)):A(h)},[A,d]);return b.useLayoutEffect(()=>o.listen(f),[o,f]),b.useEffect(()=>_U(a),[a]),b.createElement(EU,{basename:r,children:t,location:l.location,navigationType:l.action,navigator:o,future:a})}const MU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pr=b.forwardRef(function(r,t){let{onClick:a,relative:s,reloadDocument:i,replace:o,state:l,target:A,to:d,preventScrollReset:f,viewTransition:h}=r,m=kU(r,IU),{basename:p}=b.useContext(xd),v,g=!1;if(typeof d=="string"&&TU.test(d)&&(v=d,MU))try{let C=new URL(window.location.href),E=d.startsWith("//")?new URL(C.protocol+d):new URL(d),U=w1(E.pathname,p);E.origin===C.origin&&U!=null?d=U+E.search+E.hash:g=!0}catch{}let w=dU(d,{relative:s}),y=OU(d,{replace:o,state:l,target:A,preventScrollReset:f,relative:s,viewTransition:h});function N(C){a&&a(C),C.defaultPrevented||y(C)}return b.createElement("a",Zw({},m,{href:v||w,onClick:g||i?a:N,ref:t,target:A}))});var J2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(J2||(J2={}));var Z2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Z2||(Z2={}));function OU(e,r){let{target:t,replace:a,state:s,preventScrollReset:i,relative:o,viewTransition:l}=r===void 0?{}:r,A=$n(),d=as(),f=v5(e,{relative:o});return b.useCallback(h=>{if(UU(h,t)){h.preventDefault();let m=a!==void 0?a:zg(d)===zg(f);A(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,A,f,a,s,t,e,i,o,l])}function HU(e){let r=b.useRef(ey(e)),t=b.useRef(!1),a=as(),s=b.useMemo(()=>LU(a.search,t.current?null:r.current),[a.search]),i=$n(),o=b.useCallback((l,A)=>{const d=ey(typeof l=="function"?l(s):l);t.current=!0,i("?"+d,A)},[i,s]);return[s,o]}function j5(e,r){return function(){return e.apply(r,arguments)}}const{toString:$U}=Object.prototype,{getPrototypeOf:N1}=Object,{iterator:Q0,toStringTag:N5}=Symbol,R0=(e=>r=>{const t=$U.call(r);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),jl=e=>(e=e.toLowerCase(),r=>R0(r)===e),M0=e=>r=>typeof r===e,{isArray:qf}=Array,Pf=M0("undefined");function Nm(e){return e!==null&&!Pf(e)&&e.constructor!==null&&!Pf(e.constructor)&&Ki(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const B5=jl("ArrayBuffer");function KU(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&B5(e.buffer),r}const VU=M0("string"),Ki=M0("function"),C5=M0("number"),Bm=e=>e!==null&&typeof e=="object",zU=e=>e===!0||e===!1,wg=e=>{if(R0(e)!=="object")return!1;const r=N1(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(N5 in e)&&!(Q0 in e)},qU=e=>{if(!Bm(e)||Nm(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},WU=jl("Date"),GU=jl("File"),YU=jl("Blob"),XU=jl("FileList"),JU=e=>Bm(e)&&Ki(e.pipe),ZU=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||Ki(e.append)&&((r=R0(e))==="formdata"||r==="object"&&Ki(e.toString)&&e.toString()==="[object FormData]"))},eL=jl("URLSearchParams"),[tL,rL,aL,nL]=["ReadableStream","Request","Response","Headers"].map(jl),sL=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cm(e,r,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),qf(e))for(a=0,s=e.length;a<s;a++)r.call(null,e[a],a,e);else{if(Nm(e))return;const i=t?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(a=0;a<o;a++)l=i[a],r.call(null,e[l],l,e)}}function S5(e,r){if(Nm(e))return null;r=r.toLowerCase();const t=Object.keys(e);let a=t.length,s;for(;a-- >0;)if(s=t[a],r===s.toLowerCase())return s;return null}const tu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_5=e=>!Pf(e)&&e!==tu;function ty(){const{caseless:e,skipUndefined:r}=_5(this)&&this||{},t={},a=(s,i)=>{const o=e&&S5(t,i)||i;wg(t[o])&&wg(s)?t[o]=ty(t[o],s):wg(s)?t[o]=ty({},s):qf(s)?t[o]=s.slice():(!r||!Pf(s))&&(t[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Cm(arguments[s],a);return t}const iL=(e,r,t,{allOwnKeys:a}={})=>(Cm(r,(s,i)=>{t&&Ki(s)?e[i]=j5(s,t):e[i]=s},{allOwnKeys:a}),e),oL=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),lL=(e,r,t,a)=>{e.prototype=Object.create(r.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),t&&Object.assign(e.prototype,t)},cL=(e,r,t,a)=>{let s,i,o;const l={};if(r=r||{},e==null)return r;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!a||a(o,e,r))&&!l[o]&&(r[o]=e[o],l[o]=!0);e=t!==!1&&N1(e)}while(e&&(!t||t(e,r))&&e!==Object.prototype);return r},AL=(e,r,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=r.length;const a=e.indexOf(r,t);return a!==-1&&a===t},dL=e=>{if(!e)return null;if(qf(e))return e;let r=e.length;if(!C5(r))return null;const t=new Array(r);for(;r-- >0;)t[r]=e[r];return t},uL=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&N1(Uint8Array)),fL=(e,r)=>{const a=(e&&e[Q0]).call(e);let s;for(;(s=a.next())&&!s.done;){const i=s.value;r.call(e,i[0],i[1])}},hL=(e,r)=>{let t;const a=[];for(;(t=e.exec(r))!==null;)a.push(t);return a},mL=jl("HTMLFormElement"),pL=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,a,s){return a.toUpperCase()+s}),ej=(({hasOwnProperty:e})=>(r,t)=>e.call(r,t))(Object.prototype),gL=jl("RegExp"),E5=(e,r)=>{const t=Object.getOwnPropertyDescriptors(e),a={};Cm(t,(s,i)=>{let o;(o=r(s,i,e))!==!1&&(a[i]=o||s)}),Object.defineProperties(e,a)},xL=e=>{E5(e,(r,t)=>{if(Ki(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const a=e[t];if(Ki(a)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},vL=(e,r)=>{const t={},a=s=>{s.forEach(i=>{t[i]=!0})};return qf(e)?a(e):a(String(e).split(r)),t},wL=()=>{},yL=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function bL(e){return!!(e&&Ki(e.append)&&e[N5]==="FormData"&&e[Q0])}const jL=e=>{const r=new Array(10),t=(a,s)=>{if(Bm(a)){if(r.indexOf(a)>=0)return;if(Nm(a))return a;if(!("toJSON"in a)){r[s]=a;const i=qf(a)?[]:{};return Cm(a,(o,l)=>{const A=t(o,s+1);!Pf(A)&&(i[l]=A)}),r[s]=void 0,i}}return a};return t(e,0)},NL=jl("AsyncFunction"),BL=e=>e&&(Bm(e)||Ki(e))&&Ki(e.then)&&Ki(e.catch),F5=((e,r)=>e?setImmediate:r?((t,a)=>(tu.addEventListener("message",({source:s,data:i})=>{s===tu&&i===t&&a.length&&a.shift()()},!1),s=>{a.push(s),tu.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Ki(tu.postMessage)),CL=typeof queueMicrotask<"u"?queueMicrotask.bind(tu):typeof process<"u"&&process.nextTick||F5,SL=e=>e!=null&&Ki(e[Q0]),He={isArray:qf,isArrayBuffer:B5,isBuffer:Nm,isFormData:ZU,isArrayBufferView:KU,isString:VU,isNumber:C5,isBoolean:zU,isObject:Bm,isPlainObject:wg,isEmptyObject:qU,isReadableStream:tL,isRequest:rL,isResponse:aL,isHeaders:nL,isUndefined:Pf,isDate:WU,isFile:GU,isBlob:YU,isRegExp:gL,isFunction:Ki,isStream:JU,isURLSearchParams:eL,isTypedArray:uL,isFileList:XU,forEach:Cm,merge:ty,extend:iL,trim:sL,stripBOM:oL,inherits:lL,toFlatObject:cL,kindOf:R0,kindOfTest:jl,endsWith:AL,toArray:dL,forEachEntry:fL,matchAll:hL,isHTMLForm:mL,hasOwnProperty:ej,hasOwnProp:ej,reduceDescriptors:E5,freezeMethods:xL,toObjectSet:vL,toCamelCase:pL,noop:wL,toFiniteNumber:yL,findKey:S5,global:tu,isContextDefined:_5,isSpecCompliantForm:bL,toJSONObject:jL,isAsyncFn:NL,isThenable:BL,setImmediate:F5,asap:CL,isIterable:SL};function Or(e,r,t,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),t&&(this.config=t),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}He.inherits(Or,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:He.toJSONObject(this.config),code:this.code,status:this.status}}});const k5=Or.prototype,D5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{D5[e]={value:e}});Object.defineProperties(Or,D5);Object.defineProperty(k5,"isAxiosError",{value:!0});Or.from=(e,r,t,a,s,i)=>{const o=Object.create(k5);He.toFlatObject(e,o,function(f){return f!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",A=r==null&&e?e.code:r;return Or.call(o,l,A,t,a,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const _L=null;function ry(e){return He.isPlainObject(e)||He.isArray(e)}function U5(e){return He.endsWith(e,"[]")?e.slice(0,-2):e}function tj(e,r,t){return e?e.concat(r).map(function(s,i){return s=U5(s),!t&&i?"["+s+"]":s}).join(t?".":""):r}function EL(e){return He.isArray(e)&&!e.some(ry)}const FL=He.toFlatObject(He,{},null,function(r){return/^is[A-Z]/.test(r)});function T0(e,r,t){if(!He.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,t=He.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,w){return!He.isUndefined(w[g])});const a=t.metaTokens,s=t.visitor||f,i=t.dots,o=t.indexes,A=(t.Blob||typeof Blob<"u"&&Blob)&&He.isSpecCompliantForm(r);if(!He.isFunction(s))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(He.isDate(v))return v.toISOString();if(He.isBoolean(v))return v.toString();if(!A&&He.isBlob(v))throw new Or("Blob is not supported. Use a Buffer instead.");return He.isArrayBuffer(v)||He.isTypedArray(v)?A&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,g,w){let y=v;if(v&&!w&&typeof v=="object"){if(He.endsWith(g,"{}"))g=a?g:g.slice(0,-2),v=JSON.stringify(v);else if(He.isArray(v)&&EL(v)||(He.isFileList(v)||He.endsWith(g,"[]"))&&(y=He.toArray(v)))return g=U5(g),y.forEach(function(C,E){!(He.isUndefined(C)||C===null)&&r.append(o===!0?tj([g],E,i):o===null?g:g+"[]",d(C))}),!1}return ry(v)?!0:(r.append(tj(w,g,i),d(v)),!1)}const h=[],m=Object.assign(FL,{defaultVisitor:f,convertValue:d,isVisitable:ry});function p(v,g){if(!He.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(v),He.forEach(v,function(y,N){(!(He.isUndefined(y)||y===null)&&s.call(r,y,He.isString(N)?N.trim():N,g,m))===!0&&p(y,g?g.concat(N):[N])}),h.pop()}}if(!He.isObject(e))throw new TypeError("data must be an object");return p(e),r}function rj(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return r[a]})}function B1(e,r){this._pairs=[],e&&T0(e,this,r)}const L5=B1.prototype;L5.append=function(r,t){this._pairs.push([r,t])};L5.toString=function(r){const t=r?function(a){return r.call(this,a,rj)}:rj;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function kL(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function I5(e,r,t){if(!r)return e;const a=t&&t.encode||kL;He.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let i;if(s?i=s(r,t):i=He.isURLSearchParams(r)?r.toString():new B1(r,t).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class aj{constructor(){this.handlers=[]}use(r,t,a){return this.handlers.push({fulfilled:r,rejected:t,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){He.forEach(this.handlers,function(a){a!==null&&r(a)})}}const P5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},DL=typeof URLSearchParams<"u"?URLSearchParams:B1,UL=typeof FormData<"u"?FormData:null,LL=typeof Blob<"u"?Blob:null,IL={isBrowser:!0,classes:{URLSearchParams:DL,FormData:UL,Blob:LL},protocols:["http","https","file","blob","url","data"]},C1=typeof window<"u"&&typeof document<"u",ay=typeof navigator=="object"&&navigator||void 0,PL=C1&&(!ay||["ReactNative","NativeScript","NS"].indexOf(ay.product)<0),QL=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",RL=C1&&window.location.href||"http://localhost",ML=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:C1,hasStandardBrowserEnv:PL,hasStandardBrowserWebWorkerEnv:QL,navigator:ay,origin:RL},Symbol.toStringTag,{value:"Module"})),Ai={...ML,...IL};function TL(e,r){return T0(e,new Ai.classes.URLSearchParams,{visitor:function(t,a,s,i){return Ai.isNode&&He.isBuffer(t)?(this.append(a,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function OL(e){return He.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function HL(e){const r={},t=Object.keys(e);let a;const s=t.length;let i;for(a=0;a<s;a++)i=t[a],r[i]=e[i];return r}function Q5(e){function r(t,a,s,i){let o=t[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),A=i>=t.length;return o=!o&&He.isArray(s)?s.length:o,A?(He.hasOwnProp(s,o)?s[o]=[s[o],a]:s[o]=a,!l):((!s[o]||!He.isObject(s[o]))&&(s[o]=[]),r(t,a,s[o],i)&&He.isArray(s[o])&&(s[o]=HL(s[o])),!l)}if(He.isFormData(e)&&He.isFunction(e.entries)){const t={};return He.forEachEntry(e,(a,s)=>{r(OL(a),s,t,0)}),t}return null}function $L(e,r,t){if(He.isString(e))try{return(r||JSON.parse)(e),He.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(t||JSON.stringify)(e)}const Sm={transitional:P5,adapter:["xhr","http","fetch"],transformRequest:[function(r,t){const a=t.getContentType()||"",s=a.indexOf("application/json")>-1,i=He.isObject(r);if(i&&He.isHTMLForm(r)&&(r=new FormData(r)),He.isFormData(r))return s?JSON.stringify(Q5(r)):r;if(He.isArrayBuffer(r)||He.isBuffer(r)||He.isStream(r)||He.isFile(r)||He.isBlob(r)||He.isReadableStream(r))return r;if(He.isArrayBufferView(r))return r.buffer;if(He.isURLSearchParams(r))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return TL(r,this.formSerializer).toString();if((l=He.isFileList(r))||a.indexOf("multipart/form-data")>-1){const A=this.env&&this.env.FormData;return T0(l?{"files[]":r}:r,A&&new A,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),$L(r)):r}],transformResponse:[function(r){const t=this.transitional||Sm.transitional,a=t&&t.forcedJSONParsing,s=this.responseType==="json";if(He.isResponse(r)||He.isReadableStream(r))return r;if(r&&He.isString(r)&&(a&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(r,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Or.from(l,Or.ERR_BAD_RESPONSE,this,null,this.response):l}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ai.classes.FormData,Blob:Ai.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};He.forEach(["delete","get","head","post","put","patch"],e=>{Sm.headers[e]={}});const KL=He.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),VL=e=>{const r={};let t,a,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),a=o.substring(s+1).trim(),!(!t||r[t]&&KL[t])&&(t==="set-cookie"?r[t]?r[t].push(a):r[t]=[a]:r[t]=r[t]?r[t]+", "+a:a)}),r},nj=Symbol("internals");function Fh(e){return e&&String(e).trim().toLowerCase()}function yg(e){return e===!1||e==null?e:He.isArray(e)?e.map(yg):String(e)}function zL(e){const r=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=t.exec(e);)r[a[1]]=a[2];return r}const qL=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ev(e,r,t,a,s){if(He.isFunction(a))return a.call(this,r,t);if(s&&(r=t),!!He.isString(r)){if(He.isString(a))return r.indexOf(a)!==-1;if(He.isRegExp(a))return a.test(r)}}function WL(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,t,a)=>t.toUpperCase()+a)}function GL(e,r){const t=He.toCamelCase(" "+r);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+t,{value:function(s,i,o){return this[a].call(this,r,s,i,o)},configurable:!0})})}let Vi=class{constructor(r){r&&this.set(r)}set(r,t,a){const s=this;function i(l,A,d){const f=Fh(A);if(!f)throw new Error("header name must be a non-empty string");const h=He.findKey(s,f);(!h||s[h]===void 0||d===!0||d===void 0&&s[h]!==!1)&&(s[h||A]=yg(l))}const o=(l,A)=>He.forEach(l,(d,f)=>i(d,f,A));if(He.isPlainObject(r)||r instanceof this.constructor)o(r,t);else if(He.isString(r)&&(r=r.trim())&&!qL(r))o(VL(r),t);else if(He.isObject(r)&&He.isIterable(r)){let l={},A,d;for(const f of r){if(!He.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[d=f[0]]=(A=l[d])?He.isArray(A)?[...A,f[1]]:[A,f[1]]:f[1]}o(l,t)}else r!=null&&i(t,r,a);return this}get(r,t){if(r=Fh(r),r){const a=He.findKey(this,r);if(a){const s=this[a];if(!t)return s;if(t===!0)return zL(s);if(He.isFunction(t))return t.call(this,s,a);if(He.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,t){if(r=Fh(r),r){const a=He.findKey(this,r);return!!(a&&this[a]!==void 0&&(!t||Ev(this,this[a],a,t)))}return!1}delete(r,t){const a=this;let s=!1;function i(o){if(o=Fh(o),o){const l=He.findKey(a,o);l&&(!t||Ev(a,a[l],l,t))&&(delete a[l],s=!0)}}return He.isArray(r)?r.forEach(i):i(r),s}clear(r){const t=Object.keys(this);let a=t.length,s=!1;for(;a--;){const i=t[a];(!r||Ev(this,this[i],i,r,!0))&&(delete this[i],s=!0)}return s}normalize(r){const t=this,a={};return He.forEach(this,(s,i)=>{const o=He.findKey(a,i);if(o){t[o]=yg(s),delete t[i];return}const l=r?WL(i):String(i).trim();l!==i&&delete t[i],t[l]=yg(s),a[l]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const t=Object.create(null);return He.forEach(this,(a,s)=>{a!=null&&a!==!1&&(t[s]=r&&He.isArray(a)?a.join(", "):a)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,t])=>r+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...t){const a=new this(r);return t.forEach(s=>a.set(s)),a}static accessor(r){const a=(this[nj]=this[nj]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Fh(o);a[l]||(GL(s,o),a[l]=!0)}return He.isArray(r)?r.forEach(i):i(r),this}};Vi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);He.reduceDescriptors(Vi.prototype,({value:e},r)=>{let t=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(a){this[t]=a}}});He.freezeMethods(Vi);function Fv(e,r){const t=this||Sm,a=r||t,s=Vi.from(a.headers);let i=a.data;return He.forEach(e,function(l){i=l.call(t,i,s.normalize(),r?r.status:void 0)}),s.normalize(),i}function R5(e){return!!(e&&e.__CANCEL__)}function Wf(e,r,t){Or.call(this,e??"canceled",Or.ERR_CANCELED,r,t),this.name="CanceledError"}He.inherits(Wf,Or,{__CANCEL__:!0});function M5(e,r,t){const a=t.config.validateStatus;!t.status||!a||a(t.status)?e(t):r(new Or("Request failed with status code "+t.status,[Or.ERR_BAD_REQUEST,Or.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function YL(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function XL(e,r){e=e||10;const t=new Array(e),a=new Array(e);let s=0,i=0,o;return r=r!==void 0?r:1e3,function(A){const d=Date.now(),f=a[i];o||(o=d),t[s]=A,a[s]=d;let h=i,m=0;for(;h!==s;)m+=t[h++],h=h%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),d-o<r)return;const p=f&&d-f;return p?Math.round(m*1e3/p):void 0}}function JL(e,r){let t=0,a=1e3/r,s,i;const o=(d,f=Date.now())=>{t=f,s=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const f=Date.now(),h=f-t;h>=a?o(d,f):(s=d,i||(i=setTimeout(()=>{i=null,o(s)},a-h)))},()=>s&&o(s)]}const qg=(e,r,t=3)=>{let a=0;const s=XL(50,250);return JL(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,A=o-a,d=s(A),f=o<=l;a=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:A,rate:d||void 0,estimated:d&&l&&f?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[r?"download":"upload"]:!0};e(h)},t)},sj=(e,r)=>{const t=e!=null;return[a=>r[0]({lengthComputable:t,total:e,loaded:a}),r[1]]},ij=e=>(...r)=>He.asap(()=>e(...r)),ZL=Ai.hasStandardBrowserEnv?((e,r)=>t=>(t=new URL(t,Ai.origin),e.protocol===t.protocol&&e.host===t.host&&(r||e.port===t.port)))(new URL(Ai.origin),Ai.navigator&&/(msie|trident)/i.test(Ai.navigator.userAgent)):()=>!0,e6=Ai.hasStandardBrowserEnv?{write(e,r,t,a,s,i){const o=[e+"="+encodeURIComponent(r)];He.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),He.isString(a)&&o.push("path="+a),He.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function t6(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function r6(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function T5(e,r,t){let a=!t6(r);return e&&(a||t==!1)?r6(e,r):r}const oj=e=>e instanceof Vi?{...e}:e;function uu(e,r){r=r||{};const t={};function a(d,f,h,m){return He.isPlainObject(d)&&He.isPlainObject(f)?He.merge.call({caseless:m},d,f):He.isPlainObject(f)?He.merge({},f):He.isArray(f)?f.slice():f}function s(d,f,h,m){if(He.isUndefined(f)){if(!He.isUndefined(d))return a(void 0,d,h,m)}else return a(d,f,h,m)}function i(d,f){if(!He.isUndefined(f))return a(void 0,f)}function o(d,f){if(He.isUndefined(f)){if(!He.isUndefined(d))return a(void 0,d)}else return a(void 0,f)}function l(d,f,h){if(h in r)return a(d,f);if(h in e)return a(void 0,d)}const A={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,f,h)=>s(oj(d),oj(f),h,!0)};return He.forEach(Object.keys({...e,...r}),function(f){const h=A[f]||s,m=h(e[f],r[f],f);He.isUndefined(m)&&h!==l||(t[f]=m)}),t}const O5=e=>{const r=uu({},e);let{data:t,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=r;if(r.headers=o=Vi.from(o),r.url=I5(T5(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),He.isFormData(t)){if(Ai.hasStandardBrowserEnv||Ai.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(He.isFunction(t.getHeaders)){const A=t.getHeaders(),d=["content-type","content-length"];Object.entries(A).forEach(([f,h])=>{d.includes(f.toLowerCase())&&o.set(f,h)})}}if(Ai.hasStandardBrowserEnv&&(a&&He.isFunction(a)&&(a=a(r)),a||a!==!1&&ZL(r.url))){const A=s&&i&&e6.read(i);A&&o.set(s,A)}return r},a6=typeof XMLHttpRequest<"u",n6=a6&&function(e){return new Promise(function(t,a){const s=O5(e);let i=s.data;const o=Vi.from(s.headers).normalize();let{responseType:l,onUploadProgress:A,onDownloadProgress:d}=s,f,h,m,p,v;function g(){p&&p(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function y(){if(!w)return;const C=Vi.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),U={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:C,config:e,request:w};M5(function(k){t(k),g()},function(k){a(k),g()},U),w=null}"onloadend"in w?w.onloadend=y:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(y)},w.onabort=function(){w&&(a(new Or("Request aborted",Or.ECONNABORTED,e,w)),w=null)},w.onerror=function(E){const U=E&&E.message?E.message:"Network Error",D=new Or(U,Or.ERR_NETWORK,e,w);D.event=E||null,a(D),w=null},w.ontimeout=function(){let E=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const U=s.transitional||P5;s.timeoutErrorMessage&&(E=s.timeoutErrorMessage),a(new Or(E,U.clarifyTimeoutError?Or.ETIMEDOUT:Or.ECONNABORTED,e,w)),w=null},i===void 0&&o.setContentType(null),"setRequestHeader"in w&&He.forEach(o.toJSON(),function(E,U){w.setRequestHeader(U,E)}),He.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),l&&l!=="json"&&(w.responseType=s.responseType),d&&([m,v]=qg(d,!0),w.addEventListener("progress",m)),A&&w.upload&&([h,p]=qg(A),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(f=C=>{w&&(a(!C||C.type?new Wf(null,e,w):C),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const N=YL(s.url);if(N&&Ai.protocols.indexOf(N)===-1){a(new Or("Unsupported protocol "+N+":",Or.ERR_BAD_REQUEST,e));return}w.send(i||null)})},s6=(e,r)=>{const{length:t}=e=e?e.filter(Boolean):[];if(r||t){let a=new AbortController,s;const i=function(d){if(!s){s=!0,l();const f=d instanceof Error?d:this.reason;a.abort(f instanceof Or?f:new Wf(f instanceof Error?f.message:f))}};let o=r&&setTimeout(()=>{o=null,i(new Or(`timeout ${r} of ms exceeded`,Or.ETIMEDOUT))},r);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:A}=a;return A.unsubscribe=()=>He.asap(l),A}},i6=function*(e,r){let t=e.byteLength;if(t<r){yield e;return}let a=0,s;for(;a<t;)s=a+r,yield e.slice(a,s),a=s},o6=async function*(e,r){for await(const t of l6(e))yield*i6(t,r)},l6=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:t,value:a}=await r.read();if(t)break;yield a}}finally{await r.cancel()}},lj=(e,r,t,a)=>{const s=o6(e,r);let i=0,o,l=A=>{o||(o=!0,a&&a(A))};return new ReadableStream({async pull(A){try{const{done:d,value:f}=await s.next();if(d){l(),A.close();return}let h=f.byteLength;if(t){let m=i+=h;t(m)}A.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(A){return l(A),s.return()}},{highWaterMark:2})},cj=64*1024,{isFunction:Sp}=He,c6=(({Request:e,Response:r})=>({Request:e,Response:r}))(He.global),{ReadableStream:Aj,TextEncoder:dj}=He.global,uj=(e,...r)=>{try{return!!e(...r)}catch{return!1}},A6=e=>{e=He.merge.call({skipUndefined:!0},c6,e);const{fetch:r,Request:t,Response:a}=e,s=r?Sp(r):typeof fetch=="function",i=Sp(t),o=Sp(a);if(!s)return!1;const l=s&&Sp(Aj),A=s&&(typeof dj=="function"?(v=>g=>v.encode(g))(new dj):async v=>new Uint8Array(await new t(v).arrayBuffer())),d=i&&l&&uj(()=>{let v=!1;const g=new t(Ai.origin,{body:new Aj,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!g}),f=o&&l&&uj(()=>He.isReadableStream(new a("").body)),h={stream:f&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!h[v]&&(h[v]=(g,w)=>{let y=g&&g[v];if(y)return y.call(g);throw new Or(`Response type '${v}' is not supported`,Or.ERR_NOT_SUPPORT,w)})});const m=async v=>{if(v==null)return 0;if(He.isBlob(v))return v.size;if(He.isSpecCompliantForm(v))return(await new t(Ai.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(He.isArrayBufferView(v)||He.isArrayBuffer(v))return v.byteLength;if(He.isURLSearchParams(v)&&(v=v+""),He.isString(v))return(await A(v)).byteLength},p=async(v,g)=>{const w=He.toFiniteNumber(v.getContentLength());return w??m(g)};return async v=>{let{url:g,method:w,data:y,signal:N,cancelToken:C,timeout:E,onDownloadProgress:U,onUploadProgress:D,responseType:k,headers:L,withCredentials:_="same-origin",fetchOptions:Y}=O5(v),I=r||fetch;k=k?(k+"").toLowerCase():"text";let $=s6([N,C&&C.toAbortSignal()],E),J=null;const M=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let re;try{if(D&&d&&w!=="get"&&w!=="head"&&(re=await p(L,y))!==0){let ee=new t(g,{method:"POST",body:y,duplex:"half"}),R;if(He.isFormData(y)&&(R=ee.headers.get("content-type"))&&L.setContentType(R),ee.body){const[q,te]=sj(re,qg(ij(D)));y=lj(ee.body,cj,q,te)}}He.isString(_)||(_=_?"include":"omit");const K=i&&"credentials"in t.prototype,G={...Y,signal:$,method:w.toUpperCase(),headers:L.normalize().toJSON(),body:y,duplex:"half",credentials:K?_:void 0};J=i&&new t(g,G);let z=await(i?I(J,Y):I(g,G));const Z=f&&(k==="stream"||k==="response");if(f&&(U||Z&&M)){const ee={};["status","statusText","headers"].forEach(F=>{ee[F]=z[F]});const R=He.toFiniteNumber(z.headers.get("content-length")),[q,te]=U&&sj(R,qg(ij(U),!0))||[];z=new a(lj(z.body,cj,q,()=>{te&&te(),M&&M()}),ee)}k=k||"text";let Ae=await h[He.findKey(h,k)||"text"](z,v);return!Z&&M&&M(),await new Promise((ee,R)=>{M5(ee,R,{data:Ae,headers:Vi.from(z.headers),status:z.status,statusText:z.statusText,config:v,request:J})})}catch(K){throw M&&M(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new Or("Network Error",Or.ERR_NETWORK,v,J),{cause:K.cause||K}):Or.from(K,K&&K.code,v,J)}}},d6=new Map,H5=e=>{let r=e?e.env:{};const{fetch:t,Request:a,Response:s}=r,i=[a,s,t];let o=i.length,l=o,A,d,f=d6;for(;l--;)A=i[l],d=f.get(A),d===void 0&&f.set(A,d=l?new Map:A6(r)),f=d;return d};H5();const ny={http:_L,xhr:n6,fetch:{get:H5}};He.forEach(ny,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const fj=e=>`- ${e}`,u6=e=>He.isFunction(e)||e===null||e===!1,$5={getAdapter:(e,r)=>{e=He.isArray(e)?e:[e];const{length:t}=e;let a,s;const i={};for(let o=0;o<t;o++){a=e[o];let l;if(s=a,!u6(a)&&(s=ny[(l=String(a)).toLowerCase()],s===void 0))throw new Or(`Unknown adapter '${l}'`);if(s&&(He.isFunction(s)||(s=s.get(r))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([A,d])=>`adapter ${A} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=t?o.length>1?`since :
`+o.map(fj).join(`
`):" "+fj(o[0]):"as no adapter specified";throw new Or("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:ny};function kv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Wf(null,e)}function hj(e){return kv(e),e.headers=Vi.from(e.headers),e.data=Fv.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),$5.getAdapter(e.adapter||Sm.adapter,e)(e).then(function(a){return kv(e),a.data=Fv.call(e,e.transformResponse,a),a.headers=Vi.from(a.headers),a},function(a){return R5(a)||(kv(e),a&&a.response&&(a.response.data=Fv.call(e,e.transformResponse,a.response),a.response.headers=Vi.from(a.response.headers))),Promise.reject(a)})}const K5="1.12.2",O0={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{O0[e]=function(a){return typeof a===e||"a"+(r<1?"n ":" ")+e}});const mj={};O0.transitional=function(r,t,a){function s(i,o){return"[Axios v"+K5+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(r===!1)throw new Or(s(o," has been removed"+(t?" in "+t:"")),Or.ERR_DEPRECATED);return t&&!mj[o]&&(mj[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),r?r(i,o,l):!0}};O0.spelling=function(r){return(t,a)=>(console.warn(`${a} is likely a misspelling of ${r}`),!0)};function f6(e,r,t){if(typeof e!="object")throw new Or("options must be an object",Or.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const i=a[s],o=r[i];if(o){const l=e[i],A=l===void 0||o(l,i,e);if(A!==!0)throw new Or("option "+i+" must be "+A,Or.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Or("Unknown option "+i,Or.ERR_BAD_OPTION)}}const bg={assertOptions:f6,validators:O0},$l=bg.validators;let su=class{constructor(r){this.defaults=r||{},this.interceptors={request:new aj,response:new aj}}async request(r,t){try{return await this._request(r,t)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(r,t){typeof r=="string"?(t=t||{},t.url=r):t=r||{},t=uu(this.defaults,t);const{transitional:a,paramsSerializer:s,headers:i}=t;a!==void 0&&bg.assertOptions(a,{silentJSONParsing:$l.transitional($l.boolean),forcedJSONParsing:$l.transitional($l.boolean),clarifyTimeoutError:$l.transitional($l.boolean)},!1),s!=null&&(He.isFunction(s)?t.paramsSerializer={serialize:s}:bg.assertOptions(s,{encode:$l.function,serialize:$l.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),bg.assertOptions(t,{baseUrl:$l.spelling("baseURL"),withXsrfToken:$l.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&He.merge(i.common,i[t.method]);i&&He.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),t.headers=Vi.concat(o,i);const l=[];let A=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(A=A&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let f,h=0,m;if(!A){const v=[hj.bind(this),void 0];for(v.unshift(...l),v.push(...d),m=v.length,f=Promise.resolve(t);h<m;)f=f.then(v[h++],v[h++]);return f}m=l.length;let p=t;for(;h<m;){const v=l[h++],g=l[h++];try{p=v(p)}catch(w){g.call(this,w);break}}try{f=hj.call(this,p)}catch(v){return Promise.reject(v)}for(h=0,m=d.length;h<m;)f=f.then(d[h++],d[h++]);return f}getUri(r){r=uu(this.defaults,r);const t=T5(r.baseURL,r.url,r.allowAbsoluteUrls);return I5(t,r.params,r.paramsSerializer)}};He.forEach(["delete","get","head","options"],function(r){su.prototype[r]=function(t,a){return this.request(uu(a||{},{method:r,url:t,data:(a||{}).data}))}});He.forEach(["post","put","patch"],function(r){function t(a){return function(i,o,l){return this.request(uu(l||{},{method:r,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}su.prototype[r]=t(),su.prototype[r+"Form"]=t(!0)});let h6=class V5{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const a=this;this.promise.then(s=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](s);a._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(s);return o.cancel=function(){a.unsubscribe(i)},o},r(function(i,o,l){a.reason||(a.reason=new Wf(i,o,l),t(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const t=this._listeners.indexOf(r);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const r=new AbortController,t=a=>{r.abort(a)};return this.subscribe(t),r.signal.unsubscribe=()=>this.unsubscribe(t),r.signal}static source(){let r;return{token:new V5(function(s){r=s}),cancel:r}}};function m6(e){return function(t){return e.apply(null,t)}}function p6(e){return He.isObject(e)&&e.isAxiosError===!0}const sy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sy).forEach(([e,r])=>{sy[r]=e});function z5(e){const r=new su(e),t=j5(su.prototype.request,r);return He.extend(t,su.prototype,r,{allOwnKeys:!0}),He.extend(t,r,null,{allOwnKeys:!0}),t.create=function(s){return z5(uu(e,s))},t}const rs=z5(Sm);rs.Axios=su;rs.CanceledError=Wf;rs.CancelToken=h6;rs.isCancel=R5;rs.VERSION=K5;rs.toFormData=T0;rs.AxiosError=Or;rs.Cancel=rs.CanceledError;rs.all=function(r){return Promise.all(r)};rs.spread=m6;rs.isAxiosError=p6;rs.mergeConfig=uu;rs.AxiosHeaders=Vi;rs.formToJSON=e=>Q5(He.isHTMLForm(e)?new FormData(e):e);rs.getAdapter=$5.getAdapter;rs.HttpStatusCode=sy;rs.default=rs;const{Axios:uZ,AxiosError:fZ,CanceledError:hZ,isCancel:mZ,CancelToken:pZ,VERSION:gZ,all:xZ,Cancel:vZ,isAxiosError:wZ,spread:yZ,toFormData:bZ,AxiosHeaders:jZ,HttpStatusCode:NZ,formToJSON:BZ,getAdapter:CZ,mergeConfig:SZ}=rs;function g6(e){if(!e)return"";try{const t=Math.random().toString(36).substring(2,15)+"|"+e;return btoa(t).split("").reverse().join("")}catch(r){return console.warn("Erro na criptografia, usando texto plano:",r),e}}function x6(e){if(!e)return"";try{const r=atob(e.split("").reverse().join("")),t=r.split("|");return t.length>1?t.slice(1).join("|"):r}catch(r){return console.warn("Erro na descriptografia, retornando texto original:",r),e}}const ta={setItem(e,r){try{const t=g6(typeof r=="string"?r:JSON.stringify(r));return localStorage.setItem(`secure_${e}`,t),!0}catch(t){return console.error("Erro ao armazenar item seguro:",t),!1}},getItem(e){try{const r=localStorage.getItem(`secure_${e}`);if(!r)return null;const t=x6(r);try{return JSON.parse(t)}catch{return t}}catch(r){return console.error("Erro ao recuperar item seguro:",r),null}},removeItem(e){try{return localStorage.removeItem(`secure_${e}`),!0}catch(r){return console.error("Erro ao remover item seguro:",r),!1}},clear(){try{return Object.keys(localStorage).filter(r=>r.startsWith("secure_")).forEach(r=>localStorage.removeItem(r)),!0}catch(e){return console.error("Erro ao limpar armazenamento seguro:",e),!1}},migrateFromPlainStorage(e,r=e){try{const t=localStorage.getItem(e);return t?(this.setItem(r,t),localStorage.removeItem(e),!0):!1}catch(t){return console.error("Erro na migrao:",t),!1}}},v6="https://tcc-back-ktwy.onrender.com".replace(/\/$/,""),ye=rs.create({baseURL:v6,headers:{"Content-Type":"application/json"},timeout:3e4});ye.interceptors.request.use(e=>{const r=ta.getItem("access_token");r&&(e.headers.Authorization=`Token ${r}`),e.data instanceof FormData&&delete e.headers["Content-Type"];try{const t=String(e.url||""),a=/^https?:\/\//i.test(t),s=t.startsWith("/"),i=t.startsWith("/api/")||t==="/api";if(!a&&!i){const o=s?t:`/${t}`;e.url=`/api${o}`}}catch{}return e});ye.interceptors.response.use(e=>e,e=>Promise.reject(e));const Dv="true".toLowerCase()==="true",KA="false".toLowerCase()==="true",q5={async criarSolicitacaoMedico(e,r={}){var p,v,g,w,y,N,C,E,U;const t=new FormData,a=(D,k,L=[])=>{if(k==null)return;const _=[D,...L].filter(Boolean);for(const Y of _)t.append(Y,k)};a("crm",e.crm,["crm_numero"]),a("especialidade",e.especialidade),a("instituicaoFormacao",e.instituicaoFormacao,["instituicao_formacao"]),a("anoFormacao",e.anoFormacao,["ano_formacao"]),a("residencia",e.residencia??""),a("instituicaoResidencia",e.instituicaoResidencia??"",["instituicao_residencia"]),a("anoResidencia",e.anoResidencia??"",["ano_residencia"]),a("experiencia",e.experiencia),a("motivacao",e.motivacao,["motivo","justificativa"]),a("nome",e.nome,["nome_completo"]),a("email",e.email),a("cpf",e.cpf),a("tipo",e.tipo||"medico"),(p=e.documentos)!=null&&p.diplomaMedicina&&a("diplomaMedicina",e.documentos.diplomaMedicina,["diploma_medicina"]),(v=e.documentos)!=null&&v.certificadoResidencia&&a("certificadoResidencia",e.documentos.certificadoResidencia,["certificado_residencia"]),(g=e.documentos)!=null&&g.comprovanteExperiencia&&a("comprovanteExperiencia",e.documentos.comprovanteExperiencia,["comprovante_experiencia"]);let s;try{const D=(w=Vr.getCurrentUser)==null?void 0:w.call(Vr);s=(D==null?void 0:D.id)||(D==null?void 0:D.pk)||((y=D==null?void 0:D.user)==null?void 0:y.id),s&&a("user",s,["usuario","user_id","usuario_id"])}catch{}const i={crm:e.crm,crm_numero:e.crm,especialidade:e.especialidade,instituicaoFormacao:e.instituicaoFormacao,instituicao_formacao:e.instituicaoFormacao,anoFormacao:e.anoFormacao,ano_formacao:e.anoFormacao,residencia:e.residencia??"",instituicaoResidencia:e.instituicaoResidencia??"",instituicao_residencia:e.instituicaoResidencia??"",anoResidencia:e.anoResidencia??"",ano_residencia:e.anoResidencia??"",experiencia:e.experiencia,motivacao:e.motivacao,motivo:e.motivacao,justificativa:e.motivacao,nome:e.nome,nome_completo:e.nome_completo||e.nome,email:e.email,cpf:e.cpf,tipo:e.tipo||"medico"};s&&(i.user=s,i.usuario=s,i.user_id=s,i.usuario_id=s);const o="/api/solicitacaomedico/".trim(),l="/api/solicitacoes/".trim();let A=[];o&&A.push(o),l&&A.push(l),KA||A.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/solicitacoes/medico/","/medico/solicitacoes/","/medicos/solicitacao/","/solicitacao/medicos/","/users/medicos/solicitacoes/","/usuarios/medicos/solicitacoes/","/users/solicitacoes/medico/","/usuarios/solicitacoes/medico/","/app_medico/","/meu_app_medico/","/meui_app_solicitacaomedico/","/solicitacaomedico/","/solicitacao-medico/","/solicitacoes/solicitacao-medico/","/solicitacoes/solicitacaomedico/");const d=D=>{if(KA)return[D];const k=D.endsWith("/")?"":"/";return[D,`${D}${k}criar/`,`${D}${k}create/`,`${D}${k}novo/`,`${D}${k}nova/`,`${D}${k}add/`,`${D}${k}adicionar/`,`${D}${k}registrar/`,`${D}${k}enviar/`,`${D}${k}submit/`]},f=Array.from(new Set(A.flatMap(d))),h=[];let m;for(const D of f)try{return h.push(D),Dv&&console.debug("[solicitacaoService] Tentando endpoint:",D),(await ye.post(D,t,{headers:{"Content-Type":"multipart/form-data"},signal:r==null?void 0:r.signal})).data}catch(k){const L=(N=k==null?void 0:k.response)==null?void 0:N.status,_=((C=k==null?void 0:k.response)==null?void 0:C.data)&&JSON.stringify(k.response.data)||"";if(L===415||L===400&&/JSON|application\/json|parse/i.test(_))try{return(await ye.post(D,i,{headers:{"Content-Type":"application/json"},signal:r==null?void 0:r.signal})).data}catch(I){const $=(E=I==null?void 0:I.response)==null?void 0:E.status;if(($===404||$===405)&&!KA){m=I;continue}throw I}if((L===404||L===405)&&!KA){Dv&&console.debug("[solicitacaoService] Endpoint no aceitou mtodo (",L,"):",D),m=k;continue}throw k}throw m?(Dv&&console.warn("[solicitacaoService] Nenhum endpoint aceitou POST. ltimo status:",(U=m==null?void 0:m.response)==null?void 0:U.status,"URLs tentadas:",h),m):new Error("Nenhum endpoint de criao aceitou a solicitao. Configure VITE_SOLICITACOES_MEDICOS_ENDPOINT. URLs tentadas: "+h.join(", "))},async listarMinhasSolicitacoes(e={},r={}){var o,l;const t="/api/solicitacaomedico/".trim(),a="/api/solicitacoes/".trim(),s=[];t&&s.push(t),a&&s.push(a),KA||s.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/","/me/solicitacoes/","/minhas-solicitacoes/","/solicitacoes/me/","/solicitacoes/minhas/");const i={...e};i.limit!=null&&i.page_size==null&&(i.page_size=i.limit),i.page_size!=null&&i.limit==null&&(i.limit=i.page_size);for(const A of s){const d=pj(A);try{const f=await ye.get(d,{params:i,signal:r==null?void 0:r.signal});return Array.isArray((o=f.data)==null?void 0:o.results)?{...f.data,results:f.data.results.map(Uv)}:Array.isArray(f.data)?{results:f.data.map(Uv)}:f.data}catch(f){if(((l=f==null?void 0:f.response)==null?void 0:l.status)===404&&!KA)continue;throw f}}return{results:[]}},async getSolicitacaoMedico(e,r={}){var o;const t="/api/solicitacaomedico/".trim(),a="/api/solicitacoes/".trim(),s=[];t&&s.push(t),a&&s.push(a),KA||s.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/");let i;for(const l of s){const A=pj(l)+String(e)+"/";try{const d=await ye.get(A,{signal:r==null?void 0:r.signal});return Uv(d.data)}catch(d){if(((o=d==null?void 0:d.response)==null?void 0:o.status)===404&&!KA){i=d;continue}throw d}}throw i||new Error("Solicitao no encontrada")}};function pj(e){return e?e.endsWith("/")?e:e+"/":"/"}function Uv(e={}){return{id:e.id||e.pk,crm:e.crm||e.crm_numero,especialidade:e.especialidade,instituicaoFormacao:e.instituicaoFormacao||e.instituicao_formacao,anoFormacao:e.anoFormacao||e.ano_formacao,residencia:e.residencia,instituicaoResidencia:e.instituicaoResidencia||e.instituicao_residencia,anoResidencia:e.anoResidencia||e.ano_residencia,experiencia:e.experiencia,motivacao:e.motivacao||e.motivo||e.justificativa,nome:e.nome||e.nome_completo,email:e.email,cpf:e.cpf,status:e.status||e.situacao||e.aprovado,created_at:e.created_at||e.data_criacao}}const w6=Object.freeze(Object.defineProperty({__proto__:null,solicitacaoService:q5},Symbol.toStringTag,{value:"Module"})),y6="https://medicine-front-six.vercel.app".replace(/\/$/,"");class b6{constructor(){this.baseUrl="/api/notificacoes/",this.verbose="true".toLowerCase()==="true"}async enviarNotificacaoInterna({pacienteId:r,titulo:t,mensagem:a,tipo:s="receita",dados:i={},prioridade:o="normal"}){try{const l={destinatario_id:r,titulo:t,mensagem:a,tipo:s,dados:i,prioridade:o,canal:"interno"},A=await ye.post(`${this.baseUrl}enviar/`,l);return this.verbose&&console.log("[NotificationService] Notificao interna enviada:",A.data),A.data}catch(l){throw console.error("[NotificationService] Erro ao enviar notificao interna:",l),l}}async enviarReceitaPorEmail({pacienteId:r,email:t,receitaId:a,arquivo:s,nomeArquivo:i,assunto:o,mensagem:l,linkDownload:A}){var d,f;try{const h=new FormData;if(h.append("destinatario_id",r),h.append("email",t),h.append("receita_id",a),h.append("canal","email"),h.append("tipo","receita"),o&&h.append("assunto",o),l&&h.append("mensagem",l),s){const p=i||`receita_${a}.pdf`;h.append("arquivo",s,p)}A&&h.append("link_download",A);let m;try{m=await ye.post(`${this.baseUrl}enviar-email/`,h,{headers:{"Content-Type":"multipart/form-data"}})}catch(p){const v=(d=p==null?void 0:p.response)==null?void 0:d.status;if(v===401||v===403)throw p;const g=[`/api/receitas/${a}/enviar/`,"/api/receitas/enviar/"];let w=p;for(const y of g)try{m=await ye.post(y,h),w=null;break}catch(N){const C=(f=N==null?void 0:N.response)==null?void 0:f.status;if(C===401||C===403)throw N;w=N;continue}if(w)throw w}return this.verbose&&console.log("[NotificationService] E-mail enviado:",m.data),m.data}catch(h){throw console.error("[NotificationService] Erro ao enviar e-mail:",h),h}}async enviarEmail({email:r,assunto:t,mensagem:a,tipo:s="geral",dados:i={}}){var o;try{const l={email:r,assunto:t,mensagem:a,tipo:s,dados:i,canal:"email"},A=[`${this.baseUrl}enviar/`,"/api/notifications/enviar/","/notifications/email/"];let d=null;for(const f of A)try{const h=await ye.post(f,l);return this.verbose&&console.log("[NotificationService] E-mail genrico enviado:",h.data),h.data}catch(h){const m=(o=h==null?void 0:h.response)==null?void 0:o.status;if(m===401||m===403)throw h;d=h;continue}throw d||new Error("Nenhum endpoint de e-mail disponvel")}catch(l){throw console.error("[NotificationService] Erro ao enviar e-mail genrico:",l),l}}async enviarEmailBoasVindas({email:r,nome:t,role:a}){const s="Bem-vindo ao Portal Mdico",i=t?`Ol ${t},`:"Ol,",o=a?` como ${a}`:"",l=`${i}

Sua conta foi criada com sucesso${o}.
Voc j pode acessar o portal com suas credenciais.

Atenciosamente,
Equipe Clnica`;return this.enviarEmail({email:r,assunto:s,mensagem:l,tipo:"boas_vindas",dados:{role:a}})}async enviarReceitaPorSMS({pacienteId:r,telefone:t,receitaId:a,mensagem:s,linkDownload:i}){var o,l;try{const A=t==null?void 0:t.replace(/\D/g,"");if(!A||A.length<10)throw new Error("Nmero de telefone invlido. Deve conter pelo menos 10 dgitos.");let d=A;A.length===11&&A.startsWith("0")&&(d=A.substring(1)),A.length===10?d=`55${A}`:A.length===11&&(d=`55${A}`);const f={destinatario_id:r,telefone:d,telefone_original:t,receita_id:a,mensagem:s||`Nova receita mdica disponvel. Acesse: ${i||y6+"/paciente/receitas"}`,link_download:i,canal:"sms",tipo:"receita"},h=[`${this.baseUrl}enviar-sms/`,"/api/sms/enviar/","/sms/send/","/notifications/sms/","/receitas/sms/","/comunicacao/sms/"];let m=null;for(const p of h)try{this.verbose&&console.log(`[NotificationService] Tentando enviar SMS via: ${p}`,f);const v=await ye.post(p,f);return this.verbose&&console.log("[NotificationService] SMS enviado com sucesso:",v.data),{success:!0,data:v.data,message:"SMS enviado com sucesso",endpoint:p,telefone_usado:d}}catch(v){m=v;const g=(o=v.response)==null?void 0:o.status;if(this.verbose&&console.log(`[NotificationService] Falha no endpoint ${p}:`,v.message),g===401||g===403)throw v;continue}throw console.error("[NotificationService] Todos os endpoints de SMS falharam. ltimo erro:",m),m||new Error("Nenhum endpoint de SMS disponvel ou configurado")}catch(A){return console.error("[NotificationService] Erro ao enviar SMS:",A),{success:!1,error:((l=A.response)==null?void 0:l.data)||A.message,message:A.message||"Falha ao enviar SMS"}}}async enviarReceitaMulticanal({pacienteId:r,receitaId:t,arquivo:a,nomeArquivo:s,canais:i=["interno"],dadosPaciente:o={},configuracoes:l={}}){const A={interno:null,email:null,sms:null,erros:[]};if(i.includes("interno"))try{const d=l.tituloInterno||"Nova receita mdica disponvel",f=l.mensagemInterna||"Voc tem uma nova receita mdica disponvel. Acesse sua rea do paciente para visualizar.";A.interno=await this.enviarNotificacaoInterna({pacienteId:r,titulo:d,mensagem:f,tipo:"receita",dados:{receita_id:t},prioridade:"alta"})}catch(d){A.erros.push({canal:"interno",erro:d.message})}if(i.includes("email")&&o.email)try{const d=l.assuntoEmail||"Nova receita mdica",f=`Ol ${o.nome||""},

Voc tem uma nova receita mdica em anexo.

Atenciosamente,
Equipe Mdica`,h=`Ol ${o.nome||""},

Sua receita mdica est disponvel neste link: ${l.linkDownload}.

Atenciosamente,
Equipe Mdica`,m=l.mensagemEmail||(a?f:h);A.email=await this.enviarReceitaPorEmail({pacienteId:r,email:o.email,receitaId:t,arquivo:a,nomeArquivo:s,assunto:d,mensagem:m,linkDownload:l.linkDownload})}catch(d){A.erros.push({canal:"email",erro:d.message})}if(i.includes("sms")&&o.telefone)try{const d=l.mensagemSMS||`Nova receita mdica disponvel. Acesse: ${l.linkSite||window.location.origin}/paciente/receitas`,f=await this.enviarReceitaPorSMS({pacienteId:r,telefone:o.telefone,receitaId:t,mensagem:d,linkDownload:l.linkDownload});f.success?A.sms=f:A.erros.push({canal:"sms",erro:f.message||"Falha ao enviar SMS"})}catch(d){A.erros.push({canal:"sms",erro:d.message})}return A}async buscarNotificacoes({page:r=1,pageSize:t=20,tipo:a=null,lidas:s=null}){try{const i={page:r,page_size:t};return a&&(i.tipo=a),s!==null&&(i.lidas=s),(await ye.get(this.baseUrl,{params:i})).data}catch(i){throw console.error("[NotificationService] Erro ao buscar notificaes:",i),i}}async marcarComoLida(r){try{return(await ye.patch(`${this.baseUrl}${r}/`,{lida:!0,data_leitura:new Date().toISOString()})).data}catch(t){throw console.error("[NotificationService] Erro ao marcar notificao como lida:",t),t}}async marcarTodasComoLidas(){try{return(await ye.post(`${this.baseUrl}marcar-todas-lidas/`)).data}catch(r){throw console.error("[NotificationService] Erro ao marcar todas como lidas:",r),r}}async deletarNotificacao(r){try{return await ye.delete(`${this.baseUrl}${r}/`),!0}catch(t){throw console.error("[NotificationService] Erro ao deletar notificao:",t),t}}async buscarConfiguracoes(){try{return(await ye.get(`${this.baseUrl}configuracoes/`)).data}catch(r){return console.error("[NotificationService] Erro ao buscar configuraes:",r),{email_ativo:!0,sms_ativo:!1,push_ativo:!0,tipos_habilitados:["receita","consulta","exame"]}}}async atualizarConfiguracoes(r){try{return(await ye.put(`${this.baseUrl}configuracoes/`,r)).data}catch(t){throw console.error("[NotificationService] Erro ao atualizar configuraes:",t),t}}}const Nf=new b6,j6=e=>{if(!e)return"";try{const r=new Date(e);if(isNaN(r.getTime()))return"";const t=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${t}-${a}-${s}`}catch{return""}};function zc(e){return e?{id:e.id,username:e.username,email:e.email,first_name:e.first_name||"",last_name:e.last_name||"",is_staff:e.is_staff||!1,is_active:e.is_active!==!1,date_joined:e.date_joined,last_login:e.last_login,role:e.role||e.tipo||e.tipo_usuario||e.user_type||"",tipo:e.tipo||e.role||e.tipo_usuario||e.user_type||"",tipo_usuario:e.tipo_usuario||e.user_type||"",data_nascimento:j6(e.data_nascimento||e.birth_date),telefone:e.telefone||e.phone||"",endereco:e.endereco||e.address||"",crm:e.crm||"",especialidade:e.especialidade||e.specialty||""}:null}const Vr={async login(e){var r,t,a,s,i,o;try{const l=((t=(r=e.username)==null?void 0:r.trim)==null?void 0:t.call(r))||((s=(a=e.email)==null?void 0:a.trim)==null?void 0:s.call(a))||"",A=/^\d{11}$/.test(l),d={username:l||void 0,email:l||void 0,password:e.password};let f=l;if(A){const m=[`/api/users/?cpf=${l}`,`/api/pacientes/?cpf=${l}`,"/api/auth/users/?cpf="+l];for(const p of m)try{const v=await ye.get(p),g=v==null?void 0:v.data,w=Array.isArray(g)?g:Array.isArray(g==null?void 0:g.results)?g.results:[],y=w==null?void 0:w[0],N=(y==null?void 0:y.email)||((i=y==null?void 0:y.user)==null?void 0:i.email)||null,C=(y==null?void 0:y.username)||((o=y==null?void 0:y.user)==null?void 0:o.username)||null;if(N||C){f=N||C;break}}catch{}}let h;try{h=await ye.post("/auth/login/",{...d,username:f||d.username,email:f||d.email})}catch(m){if(A){const p={cpf:l,password:e.password},v=["/auth/login_cpf/","/auth/login/"];let g=m;for(const w of v)try{h=await ye.post(w,p);break}catch(y){g=y}if(!h)throw g}else throw m}if(h.data){ta.setItem("auth_scheme","Token");const p=h.data.access_token||h.data.access||h.data.token,v=h.data.refresh_token||h.data.refresh;p&&ta.setItem("access_token",p),v&&ta.setItem("refresh_token",v);try{if(!p&&!v){ta.setItem("auth_storage","cookie");try{ye.defaults.withCredentials=!0}catch{}}}catch{}try{const g=await kh();g?ta.setItem("user",zc(g)):ta.removeItem("user")}catch(g){console.warn("No foi possvel carregar dados do usurio:",g),ta.removeItem("user")}return h.data}throw new Error("Resposta de login invlida")}catch(l){throw console.error("Erro no login:",l),l}},async register(e,r={}){var t;try{const s=await ye.post("/auth/register/",e);let i=null;if(s.data&&!r.skipAutoLogin){ta.setItem("auth_scheme","Token");const A=s.data.access_token||s.data.access||s.data.token,d=s.data.refresh_token||s.data.refresh;A&&ta.setItem("access_token",A),d&&ta.setItem("refresh_token",d);try{if(!A&&!d){ta.setItem("auth_storage","cookie");try{ye.defaults.withCredentials=!0}catch{}}}catch{}try{i=await kh(),i?ta.setItem("user",zc(i)):ta.removeItem("user")}catch(f){if(console.warn("No foi possvel carregar dados do usurio aps registro:",f),ta.removeItem("user"),ta.getItem("access_token"))try{const m=await kh();i=m,m&&ta.setItem("user",zc(m))}catch(m){console.warn("Fallback para buscar usurio tambm falhou:",m)}}}try{const l=zc(i||ta.getItem("user")||{}),A=[l==null?void 0:l.first_name,l==null?void 0:l.last_name].filter(Boolean).join(" ")||(l==null?void 0:l.username)||"",d=(l==null?void 0:l.email)||(e==null?void 0:e.email);d&&await Nf.enviarEmailBoasVindas({email:d,nome:A,role:e==null?void 0:e.desired_role})}catch{}let o;try{const l=String((e==null?void 0:e.desired_role)||"").toLowerCase()==="medico",A=r==null?void 0:r.medicoData;if(l&&A){const d=zc(i||ta.getItem("user")||{}),f=[d==null?void 0:d.first_name,d==null?void 0:d.last_name].filter(Boolean).join(" ")||(d==null?void 0:d.username)||"",h={...A,nome:A.nome||f||(e==null?void 0:e.first_name)||"",email:A.email||(d==null?void 0:d.email)||(e==null?void 0:e.email)||"",cpf:A.cpf||(e==null?void 0:e.cpf)||"",tipo:A.tipo||"medico"};try{o={success:!0,data:await q5.criarSolicitacaoMedico(h)};try{const p=(d==null?void 0:d.id)||(i==null?void 0:i.id);p&&localStorage.setItem(`medicoApplicationStatus:${p}`,"pending")}catch{}}catch(m){o={success:!1,error:((t=m==null?void 0:m.response)==null?void 0:t.data)||(m==null?void 0:m.message)||"No foi possvel criar a solicitao de mdico."}}}}catch(l){o={success:!1,error:(l==null?void 0:l.message)||"Falha desconhecida ao criar solicitao."}}return o?{...s.data,medicoApplication:o}:s.data}catch(a){throw console.error("Erro no registro:",a),a}},async logout(){try{await ye.post("/api/auth/logout/")}catch(e){console.warn("Erro ao fazer logout no servidor:",e)}finally{ta.removeItem("access_token"),ta.removeItem("refresh_token"),ta.removeItem("user"),ta.removeItem("auth_scheme"),ta.removeItem("auth_storage")}},async forgotPassword(e){const t=await ye.post("/api/password_reset/",{email:e});return(t==null?void 0:t.data)??t},getCurrentUser(){try{const e=ta.getItem("user");return e?zc(e):null}catch(e){return console.error("Erro ao recuperar usurio atual:",e),null}},async refreshCurrentUser(){var e;try{const r=await kh();return r?(ta.setItem("user",zc(r)),zc(r)):(ta.removeItem("user"),null)}catch(r){if(((e=r==null?void 0:r.response)==null?void 0:e.status)===401)throw r;return console.error("Erro ao atualizar dados do usurio:",r),null}},isAuthenticated(){const e=ta.getItem("access_token"),r=String(ta.getItem("auth_storage")||void 0||"local").toLowerCase();return!!e||r==="cookie"},async loginWithGoogle(e){try{const t=await ye.post("/api/auth/google/",{credential:e});if(t.data){ta.setItem("auth_scheme","Token");const s=t.data.access_token||t.data.access||t.data.token,i=t.data.refresh_token||t.data.refresh;s&&ta.setItem("access_token",s),i&&ta.setItem("refresh_token",i);try{if(!s&&!i){ta.setItem("auth_storage","cookie");try{ye.defaults.withCredentials=!0}catch{}}}catch{}try{const o=await kh();o?ta.setItem("user",zc(o)):ta.removeItem("user")}catch(o){console.warn("No foi possvel carregar dados do usurio:",o),ta.removeItem("user")}return t.data}throw new Error("Resposta de login com Google invlida")}catch(r){throw console.error("Erro no login com Google:",r),r}}};async function kh(){return(await ye.get("/api/auth/users/me/")).data}const li={NETWORK:"NETWORK_ERROR",AUTHENTICATION:"AUTH_ERROR",AUTHORIZATION:"AUTHORIZATION_ERROR",VALIDATION:"VALIDATION_ERROR",SERVER:"SERVER_ERROR",CLIENT:"CLIENT_ERROR",UNKNOWN:"UNKNOWN_ERROR"},N6={[li.NETWORK]:"Erro de conexo. Verifique sua internet e tente novamente.",[li.AUTHENTICATION]:"Sesso expirada. Faa login novamente.",[li.AUTHORIZATION]:"Voc no tem permisso para realizar esta ao.",[li.VALIDATION]:"Dados invlidos. Verifique as informaes e tente novamente.",[li.SERVER]:"Erro interno do servidor. Tente novamente em alguns minutos.",[li.CLIENT]:"Erro na aplicao. Recarregue a pgina e tente novamente.",[li.UNKNOWN]:"Erro inesperado. Tente novamente."};function B6(e){if(!e.response&&e.code==="NETWORK_ERROR"||e.code==="ECONNABORTED")return li.NETWORK;if(e.response){const r=e.response.status;if(r===401)return li.AUTHENTICATION;if(r===403)return li.AUTHORIZATION;if(r>=400&&r<500)return li.VALIDATION;if(r>=500)return li.SERVER}return li.UNKNOWN}function C6(e){var s;const r=B6(e),t=N6[r];return{type:r,message:t,timestamp:new Date().toISOString(),status:((s=e.response)==null?void 0:s.status)||null}}const eu=class eu{constructor(){this.errorListeners=[],this.setupGlobalErrorHandlers()}static getInstance(){return eu.instance||(eu.instance=new eu),eu.instance}setupGlobalErrorHandlers(){window.addEventListener("error",r=>{try{r.preventDefault()}catch{}this.handleError(r.error,"GLOBAL_ERROR")}),window.addEventListener("unhandledrejection",r=>{try{r.preventDefault()}catch{}this.handleError(r.reason,"UNHANDLED_PROMISE")})}addErrorListener(r){this.errorListeners.push(r)}removeErrorListener(r){this.errorListeners=this.errorListeners.filter(t=>t!==r)}notifyListeners(r){this.errorListeners.forEach(t=>{try{t(r)}catch(a){console.error("Erro no listener de erro:",a)}})}handleError(r,t="UNKNOWN"){const a=C6(r);return a.context=t,this.notifyListeners(a),a}handleApiError(r,t="API_CALL"){const a=this.handleError(r,t);switch(a.type){case li.AUTHENTICATION:this.handleAuthenticationError();break;case li.NETWORK:this.handleNetworkError();break}return a}handleAuthenticationError(){try{const r=!!(ta.getItem("access_token")||ta.getItem("refresh_token")),t=String(ta.getItem("auth_storage")||void 0||"local").toLowerCase(),a=window.location.pathname.includes("/login");if(t==="cookie"||r)return;a||(window.location.href="/login")}catch{window.location.pathname.includes("/login")||(window.location.href="/login")}}handleNetworkError(){console.warn("Erro de rede detectado")}};pt(eu,"instance",null);let Wg=eu;function S6(){const e=Wg.getInstance(),r=b.useCallback((a,s)=>e.handleError(a,s),[]),t=b.useCallback((a,s)=>e.handleApiError(a,s),[]);return{handleError:r,handleApiError:t}}Wg.getInstance();const W5=b.createContext({});function _6({children:e}){const[r,t]=b.useState(null),[a,s]=b.useState(!0),{handleError:i}=S6(),o=()=>{try{window.location.href="/login"}catch{}},l=b.useCallback(async()=>{try{const v=Vr.getCurrentUser();if(v)t(v);else if(Vr.isAuthenticated())try{const g=await Vr.refreshCurrentUser();g?t(g):(await Vr.logout(),t(null),o())}catch{await Vr.logout(),t(null),o()}}catch(v){i(v,"Erro ao inicializar autenticao");try{await Vr.logout()}catch{}t(null),o()}finally{s(!1)}},[i]);b.useEffect(()=>{l()},[]);const A=b.useCallback(async v=>{try{const g=await Vr.login(v);if(g!=null&&g.user)t(g.user);else{const w=Vr.getCurrentUser();t(w)}return g}catch(g){throw i(g,"Erro ao fazer login"),g}},[i]),d=b.useCallback(async()=>{try{await Vr.logout(),t(null)}catch(v){i(v,"Erro ao fazer logout"),t(null)}},[i]),f=b.useCallback(async v=>{try{const g=await Vr.register(v);if(g!=null&&g.user)t(g.user);else{const w=Vr.getCurrentUser();w&&t(w)}return g}catch(g){throw i(g,"Erro ao registrar usurio"),g}},[i]),h=b.useCallback(async v=>{try{const g=await Vr.loginWithGoogle(v);return t(g.user),g}catch(g){throw i(g,"Erro ao fazer login com Google"),g}},[i]),m=b.useMemo(()=>Vr.isAuthenticated(),[r]),p=b.useMemo(()=>({user:r,login:A,logout:d,register:f,loading:a,isAuthenticated:!!r||m,loginWithGoogle:h}),[r,A,d,f,h,m,a]);return n.jsx(W5.Provider,{value:p,children:e})}const qo=()=>{const e=b.useContext(W5);if(!e)throw new Error("useAuth deve ser usado dentro de AuthProvider");return e},G5=b.createContext(void 0);function E6({children:e}){const[r,t]=b.useState("paciente"),[a,s]=b.useState(!1),[i,o]=b.useState({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"}),[l,A]=b.useState(null),[d,f]=b.useState(""),h=b.useCallback(()=>{A(null),f("")},[]),m=b.useCallback(()=>{i.isMedico&&i.medicoStatus==="approved"&&t(r==="medico"?"paciente":"medico")},[i.isMedico,i.medicoStatus,r]),p=b.useCallback((w="paciente",y={})=>{s(!0),t(w),o(y)},[]),v=b.useCallback(()=>{s(!1),t("paciente"),o({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"}),h()},[h]),g=b.useMemo(()=>({activeRole:r,setActiveRole:t,toggleRole:m,isAuthenticated:a,userPermissions:i,setUserPermissions:o,login:p,logout:v,ephemeralCertFile:l,setEphemeralCertFile:A,ephemeralCertPassword:d,setEphemeralCertPassword:f,clearEphemeralCert:h}),[r,m,a,i,p,v,l,d,h]);return n.jsx(G5.Provider,{value:g,children:e})}function lc(){const e=b.useContext(G5);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e}function gj(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function H0(...e){return r=>{let t=!1;const a=e.map(s=>{const i=gj(s,r);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():gj(e[s],null)}}}}function Na(...e){return b.useCallback(H0(...e),e)}function fu(e){const r=F6(e),t=b.forwardRef((a,s)=>{const{children:i,...o}=a,l=b.Children.toArray(i),A=l.find(D6);if(A){const d=A.props.children,f=l.map(h=>h===A?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:h);return n.jsx(r,{...o,ref:s,children:b.isValidElement(d)?b.cloneElement(d,void 0,f):null})}return n.jsx(r,{...o,ref:s,children:i})});return t.displayName=`${e}.Slot`,t}var Gf=fu("Slot");function F6(e){const r=b.forwardRef((t,a)=>{const{children:s,...i}=t;if(b.isValidElement(s)){const o=L6(s),l=U6(i,s.props);return s.type!==b.Fragment&&(l.ref=a?H0(a,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var Y5=Symbol("radix.slottable");function k6(e){const r=({children:t})=>n.jsx(n.Fragment,{children:t});return r.displayName=`${e}.Slottable`,r.__radixId=Y5,r}function D6(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Y5}function U6(e,r){const t={...r};for(const a in r){const s=e[a],i=r[a];/^on[A-Z]/.test(a)?s&&i?t[a]=(...l)=>{const A=i(...l);return s(...l),A}:s&&(t[a]=s):a==="style"?t[a]={...s,...i}:a==="className"&&(t[a]=[s,i].filter(Boolean).join(" "))}return{...e,...t}}function L6(e){var a,s;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}function X5(e){var r,t,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(r=0;r<s;r++)e[r]&&(t=X5(e[r]))&&(a&&(a+=" "),a+=t)}else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function Ps(){for(var e,r,t=0,a="",s=arguments.length;t<s;t++)(e=arguments[t])&&(r=X5(e))&&(a&&(a+=" "),a+=r);return a}const xj=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,vj=Ps,$0=(e,r)=>t=>{var a;if((r==null?void 0:r.variants)==null)return vj(e,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:i}=r,o=Object.keys(s).map(d=>{const f=t==null?void 0:t[d],h=i==null?void 0:i[d];if(f===null)return null;const m=xj(f)||xj(h);return s[d][m]}),l=t&&Object.entries(t).reduce((d,f)=>{let[h,m]=f;return m===void 0||(d[h]=m),d},{}),A=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((d,f)=>{let{class:h,className:m,...p}=f;return Object.entries(p).every(v=>{let[g,w]=v;return Array.isArray(w)?w.includes({...i,...l}[g]):{...i,...l}[g]===w})?[...d,h,m]:d},[]);return vj(e,o,A,t==null?void 0:t.class,t==null?void 0:t.className)};var I6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const P6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_t=(e,r)=>{const t=b.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...A},d)=>b.createElement("svg",{ref:d,...I6,width:s,height:s,stroke:a,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${P6(e)}`,...A},[...r.map(([f,h])=>b.createElement(f,h)),...(Array.isArray(l)?l:[l])||[]]));return t.displayName=`${e}`,t},Bi=_t("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),hu=_t("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),eA=_t("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),sc=_t("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Gg=_t("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),K0=_t("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),lm=_t("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Yf=_t("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),V0=_t("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),wj=_t("CalendarPlus",[["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["line",{x1:"19",x2:"19",y1:"16",y2:"22",key:"1ttwzi"}],["line",{x1:"16",x2:"22",y1:"19",y2:"19",key:"1g9955"}]]),br=_t("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),po=_t("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),us=_t("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),S1=_t("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),_1=_t("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),J5=_t("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),gl=_t("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Q6=_t("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),R6=_t("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]),M6=_t("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),tA=_t("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),$r=_t("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),T6=_t("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),xl=_t("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),yj=_t("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),O6=_t("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),H6=_t("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ci=_t("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),$6=_t("FileSignature",[["path",{d:"M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5",key:"kd5d3"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z",key:"johvi5"}]]),fn=_t("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),iu=_t("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),K6=_t("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),Yg=_t("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),V6=_t("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),E1=_t("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),bj=_t("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),z6=_t("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Lv=_t("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),q6=_t("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]),W6=_t("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),G6=_t("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),F1=_t("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Y6=_t("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),wl=_t("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Xg=_t("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),X6=_t("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),J6=_t("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Z6=_t("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),jj=_t("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Z5=_t("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),eI=_t("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),tI=_t("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),rI=_t("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),rA=_t("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Bf=_t("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),mu=_t("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),aI=_t("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),k1=_t("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),nI=_t("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),D1=_t("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),js=_t("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),cm=_t("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),sI=_t("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),$s=_t("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Nj=_t("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),iI=_t("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),oI=_t("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),aa=_t("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),Bj=_t("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),iy=_t("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),_m=_t("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),jg=_t("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Iv=_t("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),lI=_t("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),oy=_t("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),On=_t("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),As=_t("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Pv=_t("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),fs=_t("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),U1=_t("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function cI(){const[e,r]=b.useState(!1);return b.useEffect(()=>{const t=()=>{r(window.innerWidth<768)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),e}function ct(...e){return e.filter(Boolean).join(" ")}function AI(e){return e?e.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" "):""}const we=b.forwardRef(({className:e,variant:r="default",size:t="default",asChild:a=!1,...s},i)=>{const o=a?"slot":"button",l={default:"btn-medical-primary",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm",outline:"btn-medical-secondary",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 border border-border",ghost:"btn-medical-ghost",link:"text-primary underline-offset-4 hover:underline p-0 h-auto",medical:"btn-medical-primary",success:"bg-success text-success-foreground hover:bg-success/90 shadow-sm",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-sm",info:"bg-info text-info-foreground hover:bg-info/90 shadow-sm"},A={default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8 text-base",icon:"h-10 w-10","icon-sm":"h-8 w-8","icon-lg":"h-12 w-12"};return n.jsx(o,{className:ct("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-200","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","active:scale-[0.98]",l[r],A[t],e),ref:i,...s})});we.displayName="Button";const Oe=b.forwardRef(({className:e,type:r,...t},a)=>n.jsx("input",{type:r,className:ct("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));Oe.displayName="Input";var dI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Er=dI.reduce((e,r)=>{const t=fu(`Primitive.${r}`),a=b.forwardRef((s,i)=>{const{asChild:o,...l}=s,A=o?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(A,{...l,ref:i})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{});function L1(e,r){e&&Vf.flushSync(()=>e.dispatchEvent(r))}var uI="Separator",Cj="horizontal",fI=["horizontal","vertical"],eS=b.forwardRef((e,r)=>{const{decorative:t,orientation:a=Cj,...s}=e,i=hI(a)?a:Cj,l=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(Er.div,{"data-orientation":i,...l,...s,ref:r})});eS.displayName=uI;function hI(e){return fI.includes(e)}var tS=eS;const hs=b.forwardRef(({className:e,orientation:r="horizontal",decorative:t=!0,...a},s)=>n.jsx(tS,{ref:s,decorative:t,orientation:r,className:ct("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));hs.displayName=tS.displayName;function Lt(e,r,{checkForDefaultPrevented:t=!0}={}){return function(s){if(e==null||e(s),t===!1||!s.defaultPrevented)return r==null?void 0:r(s)}}function mI(e,r){const t=b.createContext(r),a=i=>{const{children:o,...l}=i,A=b.useMemo(()=>l,Object.values(l));return n.jsx(t.Provider,{value:A,children:o})};a.displayName=e+"Provider";function s(i){const o=b.useContext(t);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,s]}function Nl(e,r=[]){let t=[];function a(i,o){const l=b.createContext(o),A=t.length;t=[...t,o];const d=h=>{var y;const{scope:m,children:p,...v}=h,g=((y=m==null?void 0:m[e])==null?void 0:y[A])||l,w=b.useMemo(()=>v,Object.values(v));return n.jsx(g.Provider,{value:w,children:p})};d.displayName=i+"Provider";function f(h,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[A])||l,v=b.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,f]}const s=()=>{const i=t.map(o=>b.createContext(o));return function(l){const A=(l==null?void 0:l[e])||i;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:A}}),[l,A])}};return s.scopeName=e,[a,pI(s,...r)]}function pI(...e){const r=e[0];if(e.length===1)return r;const t=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:A,scopeName:d})=>{const h=A(i)[`__scope${d}`];return{...l,...h}},{});return b.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return t.scopeName=r.scopeName,t}var ps=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},gI=bm[" useId ".trim().toString()]||(()=>{}),xI=0;function ic(e){const[r,t]=b.useState(gI());return ps(()=>{t(a=>a??String(xI++))},[e]),e||(r?`radix-${r}`:"")}var vI=bm[" useInsertionEffect ".trim().toString()]||ps;function dd({prop:e,defaultProp:r,onChange:t=()=>{},caller:a}){const[s,i,o]=wI({defaultProp:r,onChange:t}),l=e!==void 0,A=l?e:s;{const f=b.useRef(e!==void 0);b.useEffect(()=>{const h=f.current;h!==l&&console.warn(`${a} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,a])}const d=b.useCallback(f=>{var h;if(l){const m=yI(f)?f(e):f;m!==e&&((h=o.current)==null||h.call(o,m))}else i(f)},[l,e,i,o]);return[A,d]}function wI({defaultProp:e,onChange:r}){const[t,a]=b.useState(e),s=b.useRef(t),i=b.useRef(r);return vI(()=>{i.current=r},[r]),b.useEffect(()=>{var o;s.current!==t&&((o=i.current)==null||o.call(i,t),s.current=t)},[t,s]),[t,a,i]}function yI(e){return typeof e=="function"}function Si(e){const r=b.useRef(e);return b.useEffect(()=>{r.current=e}),b.useMemo(()=>(...t)=>{var a;return(a=r.current)==null?void 0:a.call(r,...t)},[])}function bI(e,r=globalThis==null?void 0:globalThis.document){const t=Si(e);b.useEffect(()=>{const a=s=>{s.key==="Escape"&&t(s)};return r.addEventListener("keydown",a,{capture:!0}),()=>r.removeEventListener("keydown",a,{capture:!0})},[t,r])}var jI="DismissableLayer",ly="dismissableLayer.update",NI="dismissableLayer.pointerDownOutside",BI="dismissableLayer.focusOutside",Sj,rS=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xf=b.forwardRef((e,r)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...A}=e,d=b.useContext(rS),[f,h]=b.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=b.useState({}),v=Na(r,k=>h(k)),g=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(w),N=f?g.indexOf(f):-1,C=d.layersWithOutsidePointerEventsDisabled.size>0,E=N>=y,U=SI(k=>{const L=k.target,_=[...d.branches].some(Y=>Y.contains(L));!E||_||(s==null||s(k),o==null||o(k),k.defaultPrevented||l==null||l())},m),D=_I(k=>{const L=k.target;[...d.branches].some(Y=>Y.contains(L))||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},m);return bI(k=>{N===d.layers.size-1&&(a==null||a(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},m),b.useEffect(()=>{if(f)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Sj=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),_j(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Sj)}},[f,m,t,d]),b.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),_j())},[f,d]),b.useEffect(()=>{const k=()=>p({});return document.addEventListener(ly,k),()=>document.removeEventListener(ly,k)},[]),n.jsx(Er.div,{...A,ref:v,style:{pointerEvents:C?E?"auto":"none":void 0,...e.style},onFocusCapture:Lt(e.onFocusCapture,D.onFocusCapture),onBlurCapture:Lt(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Lt(e.onPointerDownCapture,U.onPointerDownCapture)})});Xf.displayName=jI;var CI="DismissableLayerBranch",aS=b.forwardRef((e,r)=>{const t=b.useContext(rS),a=b.useRef(null),s=Na(r,a);return b.useEffect(()=>{const i=a.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),n.jsx(Er.div,{...e,ref:s})});aS.displayName=CI;function SI(e,r=globalThis==null?void 0:globalThis.document){const t=Si(e),a=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let A=function(){nS(NI,t,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(r.removeEventListener("click",s.current),s.current=A,r.addEventListener("click",s.current,{once:!0})):A()}else r.removeEventListener("click",s.current);a.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",s.current)}},[r,t]),{onPointerDownCapture:()=>a.current=!0}}function _I(e,r=globalThis==null?void 0:globalThis.document){const t=Si(e),a=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!a.current&&nS(BI,t,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",s),()=>r.removeEventListener("focusin",s)},[r,t]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function _j(){const e=new CustomEvent(ly);document.dispatchEvent(e)}function nS(e,r,t,{discrete:a}){const s=t.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});r&&s.addEventListener(e,r,{once:!0}),a?L1(s,i):s.dispatchEvent(i)}var EI=Xf,FI=aS,Qv="focusScope.autoFocusOnMount",Rv="focusScope.autoFocusOnUnmount",Ej={bubbles:!1,cancelable:!0},kI="FocusScope",z0=b.forwardRef((e,r)=>{const{loop:t=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,A]=b.useState(null),d=Si(s),f=Si(i),h=b.useRef(null),m=Na(r,g=>A(g)),p=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(a){let g=function(C){if(p.paused||!l)return;const E=C.target;l.contains(E)?h.current=E:GA(h.current,{select:!0})},w=function(C){if(p.paused||!l)return;const E=C.relatedTarget;E!==null&&(l.contains(E)||GA(h.current,{select:!0}))},y=function(C){if(document.activeElement===document.body)for(const U of C)U.removedNodes.length>0&&GA(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const N=new MutationObserver(y);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),N.disconnect()}}},[a,l,p.paused]),b.useEffect(()=>{if(l){kj.add(p);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(Qv,Ej);l.addEventListener(Qv,d),l.dispatchEvent(y),y.defaultPrevented||(DI(QI(sS(l)),{select:!0}),document.activeElement===g&&GA(l))}return()=>{l.removeEventListener(Qv,d),setTimeout(()=>{const y=new CustomEvent(Rv,Ej);l.addEventListener(Rv,f),l.dispatchEvent(y),y.defaultPrevented||GA(g??document.body,{select:!0}),l.removeEventListener(Rv,f),kj.remove(p)},0)}}},[l,d,f,p]);const v=b.useCallback(g=>{if(!t&&!a||p.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(w&&y){const N=g.currentTarget,[C,E]=UI(N);C&&E?!g.shiftKey&&y===E?(g.preventDefault(),t&&GA(C,{select:!0})):g.shiftKey&&y===C&&(g.preventDefault(),t&&GA(E,{select:!0})):y===N&&g.preventDefault()}},[t,a,p.paused]);return n.jsx(Er.div,{tabIndex:-1,...o,ref:m,onKeyDown:v})});z0.displayName=kI;function DI(e,{select:r=!1}={}){const t=document.activeElement;for(const a of e)if(GA(a,{select:r}),document.activeElement!==t)return}function UI(e){const r=sS(e),t=Fj(r,e),a=Fj(r.reverse(),e);return[t,a]}function sS(e){const r=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)r.push(t.currentNode);return r}function Fj(e,r){for(const t of e)if(!LI(t,{upTo:r}))return t}function LI(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function II(e){return e instanceof HTMLInputElement&&"select"in e}function GA(e,{select:r=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&II(e)&&r&&e.select()}}var kj=PI();function PI(){let e=[];return{add(r){const t=e[0];r!==t&&(t==null||t.pause()),e=Dj(e,r),e.unshift(r)},remove(r){var t;e=Dj(e,r),(t=e[0])==null||t.resume()}}}function Dj(e,r){const t=[...e],a=t.indexOf(r);return a!==-1&&t.splice(a,1),t}function QI(e){return e.filter(r=>r.tagName!=="A")}var RI="Portal",Em=b.forwardRef((e,r)=>{var l;const{container:t,...a}=e,[s,i]=b.useState(!1);ps(()=>i(!0),[]);const o=t||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?f5.createPortal(n.jsx(Er.div,{...a,ref:r}),o):null});Em.displayName=RI;function MI(e,r){return b.useReducer((t,a)=>r[t][a]??t,e)}var hc=e=>{const{present:r,children:t}=e,a=TI(r),s=typeof t=="function"?t({present:a.isPresent}):b.Children.only(t),i=Na(a.ref,OI(s));return typeof t=="function"||a.isPresent?b.cloneElement(s,{ref:i}):null};hc.displayName="Presence";function TI(e){const[r,t]=b.useState(),a=b.useRef(null),s=b.useRef(e),i=b.useRef("none"),o=e?"mounted":"unmounted",[l,A]=MI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const d=_p(a.current);i.current=l==="mounted"?d:"none"},[l]),ps(()=>{const d=a.current,f=s.current;if(f!==e){const m=i.current,p=_p(d);e?A("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?A("UNMOUNT"):A(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,A]),ps(()=>{if(r){let d;const f=r.ownerDocument.defaultView??window,h=p=>{const g=_p(a.current).includes(CSS.escape(p.animationName));if(p.target===r&&g&&(A("ANIMATION_END"),!s.current)){const w=r.style.animationFillMode;r.style.animationFillMode="forwards",d=f.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=w)})}},m=p=>{p.target===r&&(i.current=_p(a.current))};return r.addEventListener("animationstart",m),r.addEventListener("animationcancel",h),r.addEventListener("animationend",h),()=>{f.clearTimeout(d),r.removeEventListener("animationstart",m),r.removeEventListener("animationcancel",h),r.removeEventListener("animationend",h)}}else A("ANIMATION_END")},[r,A]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(d=>{a.current=d?getComputedStyle(d):null,t(d)},[])}}function _p(e){return(e==null?void 0:e.animationName)||"none"}function OI(e){var a,s;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var Mv=0;function I1(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Uj()),document.body.insertAdjacentElement("beforeend",e[1]??Uj()),Mv++,()=>{Mv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Mv--}},[])}function Uj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Gl=function(){return Gl=Object.assign||function(r){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Gl.apply(this,arguments)};function iS(e,r){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]]);return t}function HI(e,r,t){if(t||arguments.length===2)for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}var Ng="right-scroll-bar-position",Bg="width-before-scroll-bar",$I="with-scroll-bars-hidden",KI="--removed-body-scroll-bar-size";function Tv(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function VI(e,r){var t=b.useState(function(){return{value:e,callback:r,facade:{get current(){return t.value},set current(a){var s=t.value;s!==a&&(t.value=a,t.callback(a,s))}}}})[0];return t.callback=r,t.facade}var zI=typeof window<"u"?b.useLayoutEffect:b.useEffect,Lj=new WeakMap;function qI(e,r){var t=VI(null,function(a){return e.forEach(function(s){return Tv(s,a)})});return zI(function(){var a=Lj.get(t);if(a){var s=new Set(a),i=new Set(e),o=t.current;s.forEach(function(l){i.has(l)||Tv(l,null)}),i.forEach(function(l){s.has(l)||Tv(l,o)})}Lj.set(t,e)},[e]),t}function WI(e){return e}function GI(e,r){r===void 0&&(r=WI);var t=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(i){var o=r(i,a);return t.push(o),function(){t=t.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(a=!0;t.length;){var o=t;t=[],o.forEach(i)}t={push:function(l){return i(l)},filter:function(){return t}}},assignMedium:function(i){a=!0;var o=[];if(t.length){var l=t;t=[],l.forEach(i),o=t}var A=function(){var f=o;o=[],f.forEach(i)},d=function(){return Promise.resolve().then(A)};d(),t={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),t}}}};return s}function YI(e){e===void 0&&(e={});var r=GI(null);return r.options=Gl({async:!0,ssr:!1},e),r}var oS=function(e){var r=e.sideCar,t=iS(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return b.createElement(a,Gl({},t))};oS.isSideCarExport=!0;function XI(e,r){return e.useMedium(r),oS}var lS=YI(),Ov=function(){},q0=b.forwardRef(function(e,r){var t=b.useRef(null),a=b.useState({onScrollCapture:Ov,onWheelCapture:Ov,onTouchMoveCapture:Ov}),s=a[0],i=a[1],o=e.forwardProps,l=e.children,A=e.className,d=e.removeScrollBar,f=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,v=e.noIsolation,g=e.inert,w=e.allowPinchZoom,y=e.as,N=y===void 0?"div":y,C=e.gapMode,E=iS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),U=m,D=qI([t,r]),k=Gl(Gl({},E),s);return b.createElement(b.Fragment,null,f&&b.createElement(U,{sideCar:lS,removeScrollBar:d,shards:h,noRelative:p,noIsolation:v,inert:g,setCallbacks:i,allowPinchZoom:!!w,lockRef:t,gapMode:C}),o?b.cloneElement(b.Children.only(l),Gl(Gl({},k),{ref:D})):b.createElement(N,Gl({},k,{className:A,ref:D}),l))});q0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};q0.classNames={fullWidth:Bg,zeroRight:Ng};var JI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ZI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=JI();return r&&e.setAttribute("nonce",r),e}function eP(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function tP(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var rP=function(){var e=0,r=null;return{add:function(t){e==0&&(r=ZI())&&(eP(r,t),tP(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},aP=function(){var e=rP();return function(r,t){b.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&t])}},cS=function(){var e=aP(),r=function(t){var a=t.styles,s=t.dynamic;return e(a,s),null};return r},nP={left:0,top:0,right:0,gap:0},Hv=function(e){return parseInt(e||"",10)||0},sP=function(e){var r=window.getComputedStyle(document.body),t=r[e==="padding"?"paddingLeft":"marginLeft"],a=r[e==="padding"?"paddingTop":"marginTop"],s=r[e==="padding"?"paddingRight":"marginRight"];return[Hv(t),Hv(a),Hv(s)]},iP=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return nP;var r=sP(e),t=document.documentElement.clientWidth,a=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,a-t+r[2]-r[0])}},oP=cS(),Cf="data-scroll-locked",lP=function(e,r,t,a){var s=e.left,i=e.top,o=e.right,l=e.gap;return t===void 0&&(t="margin"),`
  .`.concat($I,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(Cf,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(a,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),t==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ng,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Bg,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Ng," .").concat(Ng,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Bg," .").concat(Bg,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Cf,`] {
    `).concat(KI,": ").concat(l,`px;
  }
`)},Ij=function(){var e=parseInt(document.body.getAttribute(Cf)||"0",10);return isFinite(e)?e:0},cP=function(){b.useEffect(function(){return document.body.setAttribute(Cf,(Ij()+1).toString()),function(){var e=Ij()-1;e<=0?document.body.removeAttribute(Cf):document.body.setAttribute(Cf,e.toString())}},[])},AP=function(e){var r=e.noRelative,t=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;cP();var i=b.useMemo(function(){return iP(s)},[s]);return b.createElement(oP,{styles:lP(i,!r,s,t?"":"!important")})},cy=!1;if(typeof window<"u")try{var Ep=Object.defineProperty({},"passive",{get:function(){return cy=!0,!0}});window.addEventListener("test",Ep,Ep),window.removeEventListener("test",Ep,Ep)}catch{cy=!1}var rf=cy?{passive:!1}:!1,dP=function(e){return e.tagName==="TEXTAREA"},AS=function(e,r){if(!(e instanceof Element))return!1;var t=window.getComputedStyle(e);return t[r]!=="hidden"&&!(t.overflowY===t.overflowX&&!dP(e)&&t[r]==="visible")},uP=function(e){return AS(e,"overflowY")},fP=function(e){return AS(e,"overflowX")},Pj=function(e,r){var t=r.ownerDocument,a=r;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=dS(e,a);if(s){var i=uS(e,a),o=i[1],l=i[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==t.body);return!1},hP=function(e){var r=e.scrollTop,t=e.scrollHeight,a=e.clientHeight;return[r,t,a]},mP=function(e){var r=e.scrollLeft,t=e.scrollWidth,a=e.clientWidth;return[r,t,a]},dS=function(e,r){return e==="v"?uP(r):fP(r)},uS=function(e,r){return e==="v"?hP(r):mP(r)},pP=function(e,r){return e==="h"&&r==="rtl"?-1:1},gP=function(e,r,t,a,s){var i=pP(e,window.getComputedStyle(r).direction),o=i*a,l=t.target,A=r.contains(l),d=!1,f=o>0,h=0,m=0;do{if(!l)break;var p=uS(e,l),v=p[0],g=p[1],w=p[2],y=g-w-i*v;(v||y)&&dS(e,l)&&(h+=y,m+=v);var N=l.parentNode;l=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!A&&l!==document.body||A&&(r.contains(l)||r===l));return(f&&Math.abs(h)<1||!f&&Math.abs(m)<1)&&(d=!0),d},Fp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Qj=function(e){return[e.deltaX,e.deltaY]},Rj=function(e){return e&&"current"in e?e.current:e},xP=function(e,r){return e[0]===r[0]&&e[1]===r[1]},vP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wP=0,af=[];function yP(e){var r=b.useRef([]),t=b.useRef([0,0]),a=b.useRef(),s=b.useState(wP++)[0],i=b.useState(cS)[0],o=b.useRef(e);b.useEffect(function(){o.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=HI([e.lockRef.current],(e.shards||[]).map(Rj),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=b.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=Fp(g),N=t.current,C="deltaX"in g?g.deltaX:N[0]-y[0],E="deltaY"in g?g.deltaY:N[1]-y[1],U,D=g.target,k=Math.abs(C)>Math.abs(E)?"h":"v";if("touches"in g&&k==="h"&&D.type==="range")return!1;var L=Pj(k,D);if(!L)return!0;if(L?U=k:(U=k==="v"?"h":"v",L=Pj(k,D)),!L)return!1;if(!a.current&&"changedTouches"in g&&(C||E)&&(a.current=U),!U)return!0;var _=a.current||U;return gP(_,w,g,_==="h"?C:E)},[]),A=b.useCallback(function(g){var w=g;if(!(!af.length||af[af.length-1]!==i)){var y="deltaY"in w?Qj(w):Fp(w),N=r.current.filter(function(U){return U.name===w.type&&(U.target===w.target||w.target===U.shadowParent)&&xP(U.delta,y)})[0];if(N&&N.should){w.cancelable&&w.preventDefault();return}if(!N){var C=(o.current.shards||[]).map(Rj).filter(Boolean).filter(function(U){return U.contains(w.target)}),E=C.length>0?l(w,C[0]):!o.current.noIsolation;E&&w.cancelable&&w.preventDefault()}}},[]),d=b.useCallback(function(g,w,y,N){var C={name:g,delta:w,target:y,should:N,shadowParent:bP(y)};r.current.push(C),setTimeout(function(){r.current=r.current.filter(function(E){return E!==C})},1)},[]),f=b.useCallback(function(g){t.current=Fp(g),a.current=void 0},[]),h=b.useCallback(function(g){d(g.type,Qj(g),g.target,l(g,e.lockRef.current))},[]),m=b.useCallback(function(g){d(g.type,Fp(g),g.target,l(g,e.lockRef.current))},[]);b.useEffect(function(){return af.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",A,rf),document.addEventListener("touchmove",A,rf),document.addEventListener("touchstart",f,rf),function(){af=af.filter(function(g){return g!==i}),document.removeEventListener("wheel",A,rf),document.removeEventListener("touchmove",A,rf),document.removeEventListener("touchstart",f,rf)}},[]);var p=e.removeScrollBar,v=e.inert;return b.createElement(b.Fragment,null,v?b.createElement(i,{styles:vP(s)}):null,p?b.createElement(AP,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function bP(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const jP=XI(lS,yP);var W0=b.forwardRef(function(e,r){return b.createElement(q0,Gl({},e,{ref:r,sideCar:jP}))});W0.classNames=q0.classNames;var NP=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},nf=new WeakMap,kp=new WeakMap,Dp={},$v=0,fS=function(e){return e&&(e.host||fS(e.parentNode))},BP=function(e,r){return r.map(function(t){if(e.contains(t))return t;var a=fS(t);return a&&e.contains(a)?a:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},CP=function(e,r,t,a){var s=BP(r,Array.isArray(e)?e:[e]);Dp[t]||(Dp[t]=new WeakMap);var i=Dp[t],o=[],l=new Set,A=new Set(s),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};s.forEach(d);var f=function(h){!h||A.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))f(m);else try{var p=m.getAttribute(a),v=p!==null&&p!=="false",g=(nf.get(m)||0)+1,w=(i.get(m)||0)+1;nf.set(m,g),i.set(m,w),o.push(m),g===1&&v&&kp.set(m,!0),w===1&&m.setAttribute(t,"true"),v||m.setAttribute(a,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return f(r),l.clear(),$v++,function(){o.forEach(function(h){var m=nf.get(h)-1,p=i.get(h)-1;nf.set(h,m),i.set(h,p),m||(kp.has(h)||h.removeAttribute(a),kp.delete(h)),p||h.removeAttribute(t)}),$v--,$v||(nf=new WeakMap,nf=new WeakMap,kp=new WeakMap,Dp={})}},P1=function(e,r,t){t===void 0&&(t="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=NP(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live], script"))),CP(a,s,t,"aria-hidden")):function(){return null}},G0="Dialog",[hS,_Z]=Nl(G0),[SP,Bl]=hS(G0),mS=e=>{const{__scopeDialog:r,children:t,open:a,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=b.useRef(null),A=b.useRef(null),[d,f]=dd({prop:a,defaultProp:s??!1,onChange:i,caller:G0});return n.jsx(SP,{scope:r,triggerRef:l,contentRef:A,contentId:ic(),titleId:ic(),descriptionId:ic(),open:d,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(h=>!h),[f]),modal:o,children:t})};mS.displayName=G0;var pS="DialogTrigger",gS=b.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=Bl(pS,t),i=Na(r,s.triggerRef);return n.jsx(Er.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":M1(s.open),...a,ref:i,onClick:Lt(e.onClick,s.onOpenToggle)})});gS.displayName=pS;var Q1="DialogPortal",[_P,xS]=hS(Q1,{forceMount:void 0}),vS=e=>{const{__scopeDialog:r,forceMount:t,children:a,container:s}=e,i=Bl(Q1,r);return n.jsx(_P,{scope:r,forceMount:t,children:b.Children.map(a,o=>n.jsx(hc,{present:t||i.open,children:n.jsx(Em,{asChild:!0,container:s,children:o})}))})};vS.displayName=Q1;var Jg="DialogOverlay",wS=b.forwardRef((e,r)=>{const t=xS(Jg,e.__scopeDialog),{forceMount:a=t.forceMount,...s}=e,i=Bl(Jg,e.__scopeDialog);return i.modal?n.jsx(hc,{present:a||i.open,children:n.jsx(FP,{...s,ref:r})}):null});wS.displayName=Jg;var EP=fu("DialogOverlay.RemoveScroll"),FP=b.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=Bl(Jg,t);return n.jsx(W0,{as:EP,allowPinchZoom:!0,shards:[s.contentRef],children:n.jsx(Er.div,{"data-state":M1(s.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),pu="DialogContent",yS=b.forwardRef((e,r)=>{const t=xS(pu,e.__scopeDialog),{forceMount:a=t.forceMount,...s}=e,i=Bl(pu,e.__scopeDialog);return n.jsx(hc,{present:a||i.open,children:i.modal?n.jsx(kP,{...s,ref:r}):n.jsx(DP,{...s,ref:r})})});yS.displayName=pu;var kP=b.forwardRef((e,r)=>{const t=Bl(pu,e.__scopeDialog),a=b.useRef(null),s=Na(r,t.contentRef,a);return b.useEffect(()=>{const i=a.current;if(i)return P1(i)},[]),n.jsx(bS,{...e,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Lt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Lt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Lt(e.onFocusOutside,i=>i.preventDefault())})}),DP=b.forwardRef((e,r)=>{const t=Bl(pu,e.__scopeDialog),a=b.useRef(!1),s=b.useRef(!1);return n.jsx(bS,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=t.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{var A,d;(A=e.onInteractOutside)==null||A.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=t.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),bS=b.forwardRef((e,r)=>{const{__scopeDialog:t,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Bl(pu,t),A=b.useRef(null),d=Na(r,A);return I1(),n.jsxs(n.Fragment,{children:[n.jsx(z0,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:n.jsx(Xf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":M1(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(UP,{titleId:l.titleId}),n.jsx(IP,{contentRef:A,descriptionId:l.descriptionId})]})]})}),R1="DialogTitle",jS=b.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=Bl(R1,t);return n.jsx(Er.h2,{id:s.titleId,...a,ref:r})});jS.displayName=R1;var NS="DialogDescription",BS=b.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=Bl(NS,t);return n.jsx(Er.p,{id:s.descriptionId,...a,ref:r})});BS.displayName=NS;var CS="DialogClose",SS=b.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=Bl(CS,t);return n.jsx(Er.button,{type:"button",...a,ref:r,onClick:Lt(e.onClick,()=>s.onOpenChange(!1))})});SS.displayName=CS;function M1(e){return e?"open":"closed"}var _S="DialogTitleWarning",[EZ,ES]=mI(_S,{contentName:pu,titleName:R1,docsSlug:"dialog"}),UP=({titleId:e})=>{const r=ES(_S),t=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},LP="DialogDescriptionWarning",IP=({contentRef:e,descriptionId:r})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ES(LP).contentName}}.`;return b.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");r&&s&&(document.getElementById(r)||console.warn(a))},[a,e,r]),null},FS=mS,PP=gS,kS=vS,Y0=wS,X0=yS,J0=jS,Z0=BS,DS=SS;const QP=FS,RP=kS,US=b.forwardRef(({className:e,...r},t)=>n.jsx(Y0,{className:ct("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:t}));US.displayName=Y0.displayName;const MP=$0("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),LS=b.forwardRef(({side:e="right",className:r,children:t,...a},s)=>n.jsxs(RP,{children:[n.jsx(US,{}),n.jsxs(X0,{ref:s,className:ct(MP({side:e}),r),...a,children:[t,n.jsxs(DS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(U1,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));LS.displayName=X0.displayName;const TP=b.forwardRef(({className:e,...r},t)=>n.jsx(J0,{ref:t,className:ct("text-lg font-semibold text-foreground",e),...r}));TP.displayName=J0.displayName;const OP=b.forwardRef(({className:e,...r},t)=>n.jsx(Z0,{ref:t,className:ct("text-sm text-muted-foreground",e),...r}));OP.displayName=Z0.displayName;function Cr({className:e,...r}){return n.jsx("div",{className:ct("animate-pulse rounded-md bg-muted",e),...r})}const HP=["top","right","bottom","left"],ud=Math.min,ho=Math.max,Zg=Math.round,Up=Math.floor,oc=e=>({x:e,y:e}),$P={left:"right",right:"left",bottom:"top",top:"bottom"},KP={start:"end",end:"start"};function Ay(e,r,t){return ho(e,ud(r,t))}function cA(e,r){return typeof e=="function"?e(r):e}function AA(e){return e.split("-")[0]}function Jf(e){return e.split("-")[1]}function T1(e){return e==="x"?"y":"x"}function O1(e){return e==="y"?"height":"width"}const VP=new Set(["top","bottom"]);function tc(e){return VP.has(AA(e))?"y":"x"}function H1(e){return T1(tc(e))}function zP(e,r,t){t===void 0&&(t=!1);const a=Jf(e),s=H1(e),i=O1(s);let o=s==="x"?a===(t?"end":"start")?"right":"left":a==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(o=e0(o)),[o,e0(o)]}function qP(e){const r=e0(e);return[dy(e),r,dy(r)]}function dy(e){return e.replace(/start|end/g,r=>KP[r])}const Mj=["left","right"],Tj=["right","left"],WP=["top","bottom"],GP=["bottom","top"];function YP(e,r,t){switch(e){case"top":case"bottom":return t?r?Tj:Mj:r?Mj:Tj;case"left":case"right":return r?WP:GP;default:return[]}}function XP(e,r,t,a){const s=Jf(e);let i=YP(AA(e),t==="start",a);return s&&(i=i.map(o=>o+"-"+s),r&&(i=i.concat(i.map(dy)))),i}function e0(e){return e.replace(/left|right|bottom|top/g,r=>$P[r])}function JP(e){return{top:0,right:0,bottom:0,left:0,...e}}function IS(e){return typeof e!="number"?JP(e):{top:e,right:e,bottom:e,left:e}}function t0(e){const{x:r,y:t,width:a,height:s}=e;return{width:a,height:s,top:t,left:r,right:r+a,bottom:t+s,x:r,y:t}}function Oj(e,r,t){let{reference:a,floating:s}=e;const i=tc(r),o=H1(r),l=O1(o),A=AA(r),d=i==="y",f=a.x+a.width/2-s.width/2,h=a.y+a.height/2-s.height/2,m=a[l]/2-s[l]/2;let p;switch(A){case"top":p={x:f,y:a.y-s.height};break;case"bottom":p={x:f,y:a.y+a.height};break;case"right":p={x:a.x+a.width,y:h};break;case"left":p={x:a.x-s.width,y:h};break;default:p={x:a.x,y:a.y}}switch(Jf(r)){case"start":p[o]-=m*(t&&d?-1:1);break;case"end":p[o]+=m*(t&&d?-1:1);break}return p}const ZP=async(e,r,t)=>{const{placement:a="bottom",strategy:s="absolute",middleware:i=[],platform:o}=t,l=i.filter(Boolean),A=await(o.isRTL==null?void 0:o.isRTL(r));let d=await o.getElementRects({reference:e,floating:r,strategy:s}),{x:f,y:h}=Oj(d,a,A),m=a,p={},v=0;for(let g=0;g<l.length;g++){const{name:w,fn:y}=l[g],{x:N,y:C,data:E,reset:U}=await y({x:f,y:h,initialPlacement:a,placement:m,strategy:s,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:r}});f=N??f,h=C??h,p={...p,[w]:{...p[w],...E}},U&&v<=50&&(v++,typeof U=="object"&&(U.placement&&(m=U.placement),U.rects&&(d=U.rects===!0?await o.getElementRects({reference:e,floating:r,strategy:s}):U.rects),{x:f,y:h}=Oj(d,m,A)),g=-1)}return{x:f,y:h,placement:m,strategy:s,middlewareData:p}};async function Am(e,r){var t;r===void 0&&(r={});const{x:a,y:s,platform:i,rects:o,elements:l,strategy:A}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=cA(r,e),v=IS(p),w=l[m?h==="floating"?"reference":"floating":h],y=t0(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(w)))==null||t?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:A})),N=h==="floating"?{x:a,y:s,width:o.floating.width,height:o.floating.height}:o.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),E=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},U=t0(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:N,offsetParent:C,strategy:A}):N);return{top:(y.top-U.top+v.top)/E.y,bottom:(U.bottom-y.bottom+v.bottom)/E.y,left:(y.left-U.left+v.left)/E.x,right:(U.right-y.right+v.right)/E.x}}const eQ=e=>({name:"arrow",options:e,async fn(r){const{x:t,y:a,placement:s,rects:i,platform:o,elements:l,middlewareData:A}=r,{element:d,padding:f=0}=cA(e,r)||{};if(d==null)return{};const h=IS(f),m={x:t,y:a},p=H1(s),v=O1(p),g=await o.getDimensions(d),w=p==="y",y=w?"top":"left",N=w?"bottom":"right",C=w?"clientHeight":"clientWidth",E=i.reference[v]+i.reference[p]-m[p]-i.floating[v],U=m[p]-i.reference[p],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=D?D[C]:0;(!k||!await(o.isElement==null?void 0:o.isElement(D)))&&(k=l.floating[C]||i.floating[v]);const L=E/2-U/2,_=k/2-g[v]/2-1,Y=ud(h[y],_),I=ud(h[N],_),$=Y,J=k-g[v]-I,M=k/2-g[v]/2+L,re=Ay($,M,J),K=!A.arrow&&Jf(s)!=null&&M!==re&&i.reference[v]/2-(M<$?Y:I)-g[v]/2<0,G=K?M<$?M-$:M-J:0;return{[p]:m[p]+G,data:{[p]:re,centerOffset:M-re-G,...K&&{alignmentOffset:G}},reset:K}}}),tQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var t,a;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:A,elements:d}=r,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...w}=cA(e,r);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const y=AA(s),N=tc(l),C=AA(l)===l,E=await(A.isRTL==null?void 0:A.isRTL(d.floating)),U=m||(C||!g?[e0(l)]:qP(l)),D=v!=="none";!m&&D&&U.push(...XP(l,g,v,E));const k=[l,...U],L=await Am(r,w),_=[];let Y=((a=i.flip)==null?void 0:a.overflows)||[];if(f&&_.push(L[y]),h){const M=zP(s,o,E);_.push(L[M[0]],L[M[1]])}if(Y=[...Y,{placement:s,overflows:_}],!_.every(M=>M<=0)){var I,$;const M=(((I=i.flip)==null?void 0:I.index)||0)+1,re=k[M];if(re&&(!(h==="alignment"?N!==tc(re):!1)||Y.every(z=>tc(z.placement)===N?z.overflows[0]>0:!0)))return{data:{index:M,overflows:Y},reset:{placement:re}};let K=($=Y.filter(G=>G.overflows[0]<=0).sort((G,z)=>G.overflows[1]-z.overflows[1])[0])==null?void 0:$.placement;if(!K)switch(p){case"bestFit":{var J;const G=(J=Y.filter(z=>{if(D){const Z=tc(z.placement);return Z===N||Z==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(Z=>Z>0).reduce((Z,Ae)=>Z+Ae,0)]).sort((z,Z)=>z[1]-Z[1])[0])==null?void 0:J[0];G&&(K=G);break}case"initialPlacement":K=l;break}if(s!==K)return{reset:{placement:K}}}return{}}}};function Hj(e,r){return{top:e.top-r.height,right:e.right-r.width,bottom:e.bottom-r.height,left:e.left-r.width}}function $j(e){return HP.some(r=>e[r]>=0)}const rQ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(r){const{rects:t}=r,{strategy:a="referenceHidden",...s}=cA(e,r);switch(a){case"referenceHidden":{const i=await Am(r,{...s,elementContext:"reference"}),o=Hj(i,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:$j(o)}}}case"escaped":{const i=await Am(r,{...s,altBoundary:!0}),o=Hj(i,t.floating);return{data:{escapedOffsets:o,escaped:$j(o)}}}default:return{}}}}},PS=new Set(["left","top"]);async function aQ(e,r){const{placement:t,platform:a,elements:s}=e,i=await(a.isRTL==null?void 0:a.isRTL(s.floating)),o=AA(t),l=Jf(t),A=tc(t)==="y",d=PS.has(o)?-1:1,f=i&&A?-1:1,h=cA(r,e);let{mainAxis:m,crossAxis:p,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),A?{x:p*f,y:m*d}:{x:m*d,y:p*f}}const nQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var t,a;const{x:s,y:i,placement:o,middlewareData:l}=r,A=await aQ(r,e);return o===((t=l.offset)==null?void 0:t.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:s+A.x,y:i+A.y,data:{...A,placement:o}}}}},sQ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:t,y:a,placement:s}=r,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:y,y:N}=w;return{x:y,y:N}}},...A}=cA(e,r),d={x:t,y:a},f=await Am(r,A),h=tc(AA(s)),m=T1(h);let p=d[m],v=d[h];if(i){const w=m==="y"?"top":"left",y=m==="y"?"bottom":"right",N=p+f[w],C=p-f[y];p=Ay(N,p,C)}if(o){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",N=v+f[w],C=v-f[y];v=Ay(N,v,C)}const g=l.fn({...r,[m]:p,[h]:v});return{...g,data:{x:g.x-t,y:g.y-a,enabled:{[m]:i,[h]:o}}}}}},iQ=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:t,y:a,placement:s,rects:i,middlewareData:o}=r,{offset:l=0,mainAxis:A=!0,crossAxis:d=!0}=cA(e,r),f={x:t,y:a},h=tc(s),m=T1(h);let p=f[m],v=f[h];const g=cA(l,r),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(A){const C=m==="y"?"height":"width",E=i.reference[m]-i.floating[C]+w.mainAxis,U=i.reference[m]+i.reference[C]-w.mainAxis;p<E?p=E:p>U&&(p=U)}if(d){var y,N;const C=m==="y"?"width":"height",E=PS.has(AA(s)),U=i.reference[h]-i.floating[C]+(E&&((y=o.offset)==null?void 0:y[h])||0)+(E?0:w.crossAxis),D=i.reference[h]+i.reference[C]+(E?0:((N=o.offset)==null?void 0:N[h])||0)-(E?w.crossAxis:0);v<U?v=U:v>D&&(v=D)}return{[m]:p,[h]:v}}}},oQ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(r){var t,a;const{placement:s,rects:i,platform:o,elements:l}=r,{apply:A=()=>{},...d}=cA(e,r),f=await Am(r,d),h=AA(s),m=Jf(s),p=tc(s)==="y",{width:v,height:g}=i.floating;let w,y;h==="top"||h==="bottom"?(w=h,y=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,w=m==="end"?"top":"bottom");const N=g-f.top-f.bottom,C=v-f.left-f.right,E=ud(g-f[w],N),U=ud(v-f[y],C),D=!r.middlewareData.shift;let k=E,L=U;if((t=r.middlewareData.shift)!=null&&t.enabled.x&&(L=C),(a=r.middlewareData.shift)!=null&&a.enabled.y&&(k=N),D&&!m){const Y=ho(f.left,0),I=ho(f.right,0),$=ho(f.top,0),J=ho(f.bottom,0);p?L=v-2*(Y!==0||I!==0?Y+I:ho(f.left,f.right)):k=g-2*($!==0||J!==0?$+J:ho(f.top,f.bottom))}await A({...r,availableWidth:L,availableHeight:k});const _=await o.getDimensions(l.floating);return v!==_.width||g!==_.height?{reset:{rects:!0}}:{}}}};function ex(){return typeof window<"u"}function Zf(e){return QS(e)?(e.nodeName||"").toLowerCase():"#document"}function go(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function mc(e){var r;return(r=(QS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function QS(e){return ex()?e instanceof Node||e instanceof go(e).Node:!1}function Ni(e){return ex()?e instanceof Element||e instanceof go(e).Element:!1}function cc(e){return ex()?e instanceof HTMLElement||e instanceof go(e).HTMLElement:!1}function Kj(e){return!ex()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof go(e).ShadowRoot}const lQ=new Set(["inline","contents"]);function Fm(e){const{overflow:r,overflowX:t,overflowY:a,display:s}=Ko(e);return/auto|scroll|overlay|hidden|clip/.test(r+a+t)&&!lQ.has(s)}const cQ=new Set(["table","td","th"]);function AQ(e){return cQ.has(Zf(e))}const dQ=[":popover-open",":modal"];function tx(e){return dQ.some(r=>{try{return e.matches(r)}catch{return!1}})}const uQ=["transform","translate","scale","rotate","perspective"],fQ=["transform","translate","scale","rotate","perspective","filter"],hQ=["paint","layout","strict","content"];function $1(e){const r=K1(),t=Ni(e)?Ko(e):e;return uQ.some(a=>t[a]?t[a]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!r&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!r&&(t.filter?t.filter!=="none":!1)||fQ.some(a=>(t.willChange||"").includes(a))||hQ.some(a=>(t.contain||"").includes(a))}function mQ(e){let r=fd(e);for(;cc(r)&&!Qf(r);){if($1(r))return r;if(tx(r))return null;r=fd(r)}return null}function K1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pQ=new Set(["html","body","#document"]);function Qf(e){return pQ.has(Zf(e))}function Ko(e){return go(e).getComputedStyle(e)}function rx(e){return Ni(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function fd(e){if(Zf(e)==="html")return e;const r=e.assignedSlot||e.parentNode||Kj(e)&&e.host||mc(e);return Kj(r)?r.host:r}function RS(e){const r=fd(e);return Qf(r)?e.ownerDocument?e.ownerDocument.body:e.body:cc(r)&&Fm(r)?r:RS(r)}function dm(e,r,t){var a;r===void 0&&(r=[]),t===void 0&&(t=!0);const s=RS(e),i=s===((a=e.ownerDocument)==null?void 0:a.body),o=go(s);if(i){const l=uy(o);return r.concat(o,o.visualViewport||[],Fm(s)?s:[],l&&t?dm(l):[])}return r.concat(s,dm(s,[],t))}function uy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function MS(e){const r=Ko(e);let t=parseFloat(r.width)||0,a=parseFloat(r.height)||0;const s=cc(e),i=s?e.offsetWidth:t,o=s?e.offsetHeight:a,l=Zg(t)!==i||Zg(a)!==o;return l&&(t=i,a=o),{width:t,height:a,$:l}}function V1(e){return Ni(e)?e:e.contextElement}function Sf(e){const r=V1(e);if(!cc(r))return oc(1);const t=r.getBoundingClientRect(),{width:a,height:s,$:i}=MS(r);let o=(i?Zg(t.width):t.width)/a,l=(i?Zg(t.height):t.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const gQ=oc(0);function TS(e){const r=go(e);return!K1()||!r.visualViewport?gQ:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function xQ(e,r,t){return r===void 0&&(r=!1),!t||r&&t!==go(e)?!1:r}function gu(e,r,t,a){r===void 0&&(r=!1),t===void 0&&(t=!1);const s=e.getBoundingClientRect(),i=V1(e);let o=oc(1);r&&(a?Ni(a)&&(o=Sf(a)):o=Sf(e));const l=xQ(i,t,a)?TS(i):oc(0);let A=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,f=s.width/o.x,h=s.height/o.y;if(i){const m=go(i),p=a&&Ni(a)?go(a):a;let v=m,g=uy(v);for(;g&&a&&p!==v;){const w=Sf(g),y=g.getBoundingClientRect(),N=Ko(g),C=y.left+(g.clientLeft+parseFloat(N.paddingLeft))*w.x,E=y.top+(g.clientTop+parseFloat(N.paddingTop))*w.y;A*=w.x,d*=w.y,f*=w.x,h*=w.y,A+=C,d+=E,v=go(g),g=uy(v)}}return t0({width:f,height:h,x:A,y:d})}function ax(e,r){const t=rx(e).scrollLeft;return r?r.left+t:gu(mc(e)).left+t}function OS(e,r){const t=e.getBoundingClientRect(),a=t.left+r.scrollLeft-ax(e,t),s=t.top+r.scrollTop;return{x:a,y:s}}function vQ(e){let{elements:r,rect:t,offsetParent:a,strategy:s}=e;const i=s==="fixed",o=mc(a),l=r?tx(r.floating):!1;if(a===o||l&&i)return t;let A={scrollLeft:0,scrollTop:0},d=oc(1);const f=oc(0),h=cc(a);if((h||!h&&!i)&&((Zf(a)!=="body"||Fm(o))&&(A=rx(a)),cc(a))){const p=gu(a);d=Sf(a),f.x=p.x+a.clientLeft,f.y=p.y+a.clientTop}const m=o&&!h&&!i?OS(o,A):oc(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-A.scrollLeft*d.x+f.x+m.x,y:t.y*d.y-A.scrollTop*d.y+f.y+m.y}}function wQ(e){return Array.from(e.getClientRects())}function yQ(e){const r=mc(e),t=rx(e),a=e.ownerDocument.body,s=ho(r.scrollWidth,r.clientWidth,a.scrollWidth,a.clientWidth),i=ho(r.scrollHeight,r.clientHeight,a.scrollHeight,a.clientHeight);let o=-t.scrollLeft+ax(e);const l=-t.scrollTop;return Ko(a).direction==="rtl"&&(o+=ho(r.clientWidth,a.clientWidth)-s),{width:s,height:i,x:o,y:l}}const Vj=25;function bQ(e,r){const t=go(e),a=mc(e),s=t.visualViewport;let i=a.clientWidth,o=a.clientHeight,l=0,A=0;if(s){i=s.width,o=s.height;const f=K1();(!f||f&&r==="fixed")&&(l=s.offsetLeft,A=s.offsetTop)}const d=ax(a);if(d<=0){const f=a.ownerDocument,h=f.body,m=getComputedStyle(h),p=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,v=Math.abs(a.clientWidth-h.clientWidth-p);v<=Vj&&(i-=v)}else d<=Vj&&(i+=d);return{width:i,height:o,x:l,y:A}}const jQ=new Set(["absolute","fixed"]);function NQ(e,r){const t=gu(e,!0,r==="fixed"),a=t.top+e.clientTop,s=t.left+e.clientLeft,i=cc(e)?Sf(e):oc(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,A=s*i.x,d=a*i.y;return{width:o,height:l,x:A,y:d}}function zj(e,r,t){let a;if(r==="viewport")a=bQ(e,t);else if(r==="document")a=yQ(mc(e));else if(Ni(r))a=NQ(r,t);else{const s=TS(e);a={x:r.x-s.x,y:r.y-s.y,width:r.width,height:r.height}}return t0(a)}function HS(e,r){const t=fd(e);return t===r||!Ni(t)||Qf(t)?!1:Ko(t).position==="fixed"||HS(t,r)}function BQ(e,r){const t=r.get(e);if(t)return t;let a=dm(e,[],!1).filter(l=>Ni(l)&&Zf(l)!=="body"),s=null;const i=Ko(e).position==="fixed";let o=i?fd(e):e;for(;Ni(o)&&!Qf(o);){const l=Ko(o),A=$1(o);!A&&l.position==="fixed"&&(s=null),(i?!A&&!s:!A&&l.position==="static"&&!!s&&jQ.has(s.position)||Fm(o)&&!A&&HS(e,o))?a=a.filter(f=>f!==o):s=l,o=fd(o)}return r.set(e,a),a}function CQ(e){let{element:r,boundary:t,rootBoundary:a,strategy:s}=e;const o=[...t==="clippingAncestors"?tx(r)?[]:BQ(r,this._c):[].concat(t),a],l=o[0],A=o.reduce((d,f)=>{const h=zj(r,f,s);return d.top=ho(h.top,d.top),d.right=ud(h.right,d.right),d.bottom=ud(h.bottom,d.bottom),d.left=ho(h.left,d.left),d},zj(r,l,s));return{width:A.right-A.left,height:A.bottom-A.top,x:A.left,y:A.top}}function SQ(e){const{width:r,height:t}=MS(e);return{width:r,height:t}}function _Q(e,r,t){const a=cc(r),s=mc(r),i=t==="fixed",o=gu(e,!0,i,r);let l={scrollLeft:0,scrollTop:0};const A=oc(0);function d(){A.x=ax(s)}if(a||!a&&!i)if((Zf(r)!=="body"||Fm(s))&&(l=rx(r)),a){const p=gu(r,!0,i,r);A.x=p.x+r.clientLeft,A.y=p.y+r.clientTop}else s&&d();i&&!a&&s&&d();const f=s&&!a&&!i?OS(s,l):oc(0),h=o.left+l.scrollLeft-A.x-f.x,m=o.top+l.scrollTop-A.y-f.y;return{x:h,y:m,width:o.width,height:o.height}}function Kv(e){return Ko(e).position==="static"}function qj(e,r){if(!cc(e)||Ko(e).position==="fixed")return null;if(r)return r(e);let t=e.offsetParent;return mc(e)===t&&(t=t.ownerDocument.body),t}function $S(e,r){const t=go(e);if(tx(e))return t;if(!cc(e)){let s=fd(e);for(;s&&!Qf(s);){if(Ni(s)&&!Kv(s))return s;s=fd(s)}return t}let a=qj(e,r);for(;a&&AQ(a)&&Kv(a);)a=qj(a,r);return a&&Qf(a)&&Kv(a)&&!$1(a)?t:a||mQ(e)||t}const EQ=async function(e){const r=this.getOffsetParent||$S,t=this.getDimensions,a=await t(e.floating);return{reference:_Q(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function FQ(e){return Ko(e).direction==="rtl"}const kQ={convertOffsetParentRelativeRectToViewportRelativeRect:vQ,getDocumentElement:mc,getClippingRect:CQ,getOffsetParent:$S,getElementRects:EQ,getClientRects:wQ,getDimensions:SQ,getScale:Sf,isElement:Ni,isRTL:FQ};function KS(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function DQ(e,r){let t=null,a;const s=mc(e);function i(){var l;clearTimeout(a),(l=t)==null||l.disconnect(),t=null}function o(l,A){l===void 0&&(l=!1),A===void 0&&(A=1),i();const d=e.getBoundingClientRect(),{left:f,top:h,width:m,height:p}=d;if(l||r(),!m||!p)return;const v=Up(h),g=Up(s.clientWidth-(f+m)),w=Up(s.clientHeight-(h+p)),y=Up(f),C={rootMargin:-v+"px "+-g+"px "+-w+"px "+-y+"px",threshold:ho(0,ud(1,A))||1};let E=!0;function U(D){const k=D[0].intersectionRatio;if(k!==A){if(!E)return o();k?o(!1,k):a=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!KS(d,e.getBoundingClientRect())&&o(),E=!1}try{t=new IntersectionObserver(U,{...C,root:s.ownerDocument})}catch{t=new IntersectionObserver(U,C)}t.observe(e)}return o(!0),i}function VS(e,r,t,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:A=!1}=a,d=V1(e),f=s||i?[...d?dm(d):[],...dm(r)]:[];f.forEach(y=>{s&&y.addEventListener("scroll",t,{passive:!0}),i&&y.addEventListener("resize",t)});const h=d&&l?DQ(d,t):null;let m=-1,p=null;o&&(p=new ResizeObserver(y=>{let[N]=y;N&&N.target===d&&p&&(p.unobserve(r),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var C;(C=p)==null||C.observe(r)})),t()}),d&&!A&&p.observe(d),p.observe(r));let v,g=A?gu(e):null;A&&w();function w(){const y=gu(e);g&&!KS(g,y)&&t(),g=y,v=requestAnimationFrame(w)}return t(),()=>{var y;f.forEach(N=>{s&&N.removeEventListener("scroll",t),i&&N.removeEventListener("resize",t)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,A&&cancelAnimationFrame(v)}}const UQ=nQ,LQ=sQ,IQ=tQ,PQ=oQ,QQ=rQ,Wj=eQ,RQ=iQ,MQ=(e,r,t)=>{const a=new Map,s={platform:kQ,...t},i={...s.platform,_c:a};return ZP(e,r,{...s,platform:i})};var TQ=typeof document<"u",OQ=function(){},Cg=TQ?b.useLayoutEffect:OQ;function r0(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let t,a,s;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==r.length)return!1;for(a=t;a--!==0;)if(!r0(e[a],r[a]))return!1;return!0}if(s=Object.keys(e),t=s.length,t!==Object.keys(r).length)return!1;for(a=t;a--!==0;)if(!{}.hasOwnProperty.call(r,s[a]))return!1;for(a=t;a--!==0;){const i=s[a];if(!(i==="_owner"&&e.$$typeof)&&!r0(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}function zS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Gj(e,r){const t=zS(e);return Math.round(r*t)/t}function Vv(e){const r=b.useRef(e);return Cg(()=>{r.current=e}),r}function qS(e){e===void 0&&(e={});const{placement:r="bottom",strategy:t="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:A,open:d}=e,[f,h]=b.useState({x:0,y:0,strategy:t,placement:r,middlewareData:{},isPositioned:!1}),[m,p]=b.useState(a);r0(m,a)||p(a);const[v,g]=b.useState(null),[w,y]=b.useState(null),N=b.useCallback(z=>{z!==D.current&&(D.current=z,g(z))},[]),C=b.useCallback(z=>{z!==k.current&&(k.current=z,y(z))},[]),E=i||v,U=o||w,D=b.useRef(null),k=b.useRef(null),L=b.useRef(f),_=A!=null,Y=Vv(A),I=Vv(s),$=Vv(d),J=b.useCallback(()=>{if(!D.current||!k.current)return;const z={placement:r,strategy:t,middleware:m};I.current&&(z.platform=I.current),MQ(D.current,k.current,z).then(Z=>{const Ae={...Z,isPositioned:$.current!==!1};M.current&&!r0(L.current,Ae)&&(L.current=Ae,Vf.flushSync(()=>{h(Ae)}))})},[m,r,t,I,$]);Cg(()=>{d===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[d]);const M=b.useRef(!1);Cg(()=>(M.current=!0,()=>{M.current=!1}),[]),Cg(()=>{if(E&&(D.current=E),U&&(k.current=U),E&&U){if(Y.current)return Y.current(E,U,J);J()}},[E,U,J,Y,_]);const re=b.useMemo(()=>({reference:D,floating:k,setReference:N,setFloating:C}),[N,C]),K=b.useMemo(()=>({reference:E,floating:U}),[E,U]),G=b.useMemo(()=>{const z={position:t,left:0,top:0};if(!K.floating)return z;const Z=Gj(K.floating,f.x),Ae=Gj(K.floating,f.y);return l?{...z,transform:"translate("+Z+"px, "+Ae+"px)",...zS(K.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Z,top:Ae}},[t,l,K.floating,f.x,f.y]);return b.useMemo(()=>({...f,update:J,refs:re,elements:K,floatingStyles:G}),[f,J,re,K,G])}const HQ=e=>{function r(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:a,padding:s}=typeof e=="function"?e(t):e;return a&&r(a)?a.current!=null?Wj({element:a.current,padding:s}).fn(t):{}:a?Wj({element:a,padding:s}).fn(t):{}}}},WS=(e,r)=>({...UQ(e),options:[e,r]}),$Q=(e,r)=>({...LQ(e),options:[e,r]}),KQ=(e,r)=>({...RQ(e),options:[e,r]}),GS=(e,r)=>({...IQ(e),options:[e,r]}),VQ=(e,r)=>({...PQ(e),options:[e,r]}),zQ=(e,r)=>({...QQ(e),options:[e,r]}),YS=(e,r)=>({...HQ(e),options:[e,r]});var qQ="Arrow",XS=b.forwardRef((e,r)=>{const{children:t,width:a=10,height:s=5,...i}=e;return n.jsx(Er.svg,{...i,ref:r,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?t:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});XS.displayName=qQ;var WQ=XS;function JS(e){const[r,t]=b.useState(void 0);return ps(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const A=i.borderBoxSize,d=Array.isArray(A)?A[0]:A;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;t({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else t(void 0)},[e]),r}var z1="Popper",[ZS,eh]=Nl(z1),[GQ,e4]=ZS(z1),t4=e=>{const{__scopePopper:r,children:t}=e,[a,s]=b.useState(null);return n.jsx(GQ,{scope:r,anchor:a,onAnchorChange:s,children:t})};t4.displayName=z1;var r4="PopperAnchor",a4=b.forwardRef((e,r)=>{const{__scopePopper:t,virtualRef:a,...s}=e,i=e4(r4,t),o=b.useRef(null),l=Na(r,o),A=b.useRef(null);return b.useEffect(()=>{const d=A.current;A.current=(a==null?void 0:a.current)||o.current,d!==A.current&&i.onAnchorChange(A.current)}),a?null:n.jsx(Er.div,{...s,ref:l})});a4.displayName=r4;var q1="PopperContent",[YQ,XQ]=ZS(q1),n4=b.forwardRef((e,r)=>{var H,V,ae,fe,ve,Be;const{__scopePopper:t,side:a="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:A=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:v,...g}=e,w=e4(q1,t),[y,N]=b.useState(null),C=Na(r,ke=>N(ke)),[E,U]=b.useState(null),D=JS(E),k=(D==null?void 0:D.width)??0,L=(D==null?void 0:D.height)??0,_=a+(i!=="center"?"-"+i:""),Y=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},I=Array.isArray(d)?d:[d],$=I.length>0,J={padding:Y,boundary:I.filter(ZQ),altBoundary:$},{refs:M,floatingStyles:re,placement:K,isPositioned:G,middlewareData:z}=qS({strategy:"fixed",placement:_,whileElementsMounted:(...ke)=>VS(...ke,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[WS({mainAxis:s+L,alignmentAxis:o}),A&&$Q({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?KQ():void 0,...J}),A&&GS({...J}),VQ({...J,apply:({elements:ke,rects:xe,availableWidth:ie,availableHeight:lt})=>{const{width:mt,height:at}=xe.reference,Ee=ke.floating.style;Ee.setProperty("--radix-popper-available-width",`${ie}px`),Ee.setProperty("--radix-popper-available-height",`${lt}px`),Ee.setProperty("--radix-popper-anchor-width",`${mt}px`),Ee.setProperty("--radix-popper-anchor-height",`${at}px`)}}),E&&YS({element:E,padding:l}),eR({arrowWidth:k,arrowHeight:L}),m&&zQ({strategy:"referenceHidden",...J})]}),[Z,Ae]=o4(K),ee=Si(v);ps(()=>{G&&(ee==null||ee())},[G,ee]);const R=(H=z.arrow)==null?void 0:H.x,q=(V=z.arrow)==null?void 0:V.y,te=((ae=z.arrow)==null?void 0:ae.centerOffset)!==0,[F,X]=b.useState();return ps(()=>{y&&X(window.getComputedStyle(y).zIndex)},[y]),n.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:G?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:F,"--radix-popper-transform-origin":[(fe=z.transformOrigin)==null?void 0:fe.x,(ve=z.transformOrigin)==null?void 0:ve.y].join(" "),...((Be=z.hide)==null?void 0:Be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(YQ,{scope:t,placedSide:Z,onArrowChange:U,arrowX:R,arrowY:q,shouldHideArrow:te,children:n.jsx(Er.div,{"data-side":Z,"data-align":Ae,...g,ref:C,style:{...g.style,animation:G?void 0:"none"}})})})});n4.displayName=q1;var s4="PopperArrow",JQ={top:"bottom",right:"left",bottom:"top",left:"right"},i4=b.forwardRef(function(r,t){const{__scopePopper:a,...s}=r,i=XQ(s4,a),o=JQ[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(WQ,{...s,ref:t,style:{...s.style,display:"block"}})})});i4.displayName=s4;function ZQ(e){return e!==null}var eR=e=>({name:"transformOrigin",options:e,fn(r){var w,y,N;const{placement:t,rects:a,middlewareData:s}=r,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,A=o?0:e.arrowHeight,[d,f]=o4(t),h={start:"0%",center:"50%",end:"100%"}[f],m=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((N=s.arrow)==null?void 0:N.y)??0)+A/2;let v="",g="";return d==="bottom"?(v=o?h:`${m}px`,g=`${-A}px`):d==="top"?(v=o?h:`${m}px`,g=`${a.floating.height+A}px`):d==="right"?(v=`${-A}px`,g=o?h:`${p}px`):d==="left"&&(v=`${a.floating.width+A}px`,g=o?h:`${p}px`),{data:{x:v,y:g}}}});function o4(e){const[r,t="center"]=e.split("-");return[r,t]}var W1=t4,G1=a4,Y1=n4,X1=i4,l4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),tR="VisuallyHidden",nx=b.forwardRef((e,r)=>n.jsx(Er.span,{...e,ref:r,style:{...l4,...e.style}}));nx.displayName=tR;var rR=nx,[sx,FZ]=Nl("Tooltip",[eh]),ix=eh(),c4="TooltipProvider",aR=700,fy="tooltip.open",[nR,J1]=sx(c4),A4=e=>{const{__scopeTooltip:r,delayDuration:t=aR,skipDelayDuration:a=300,disableHoverableContent:s=!1,children:i}=e,o=b.useRef(!0),l=b.useRef(!1),A=b.useRef(0);return b.useEffect(()=>{const d=A.current;return()=>window.clearTimeout(d)},[]),n.jsx(nR,{scope:r,isOpenDelayedRef:o,delayDuration:t,onOpen:b.useCallback(()=>{window.clearTimeout(A.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(A.current),A.current=window.setTimeout(()=>o.current=!0,a)},[a]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};A4.displayName=c4;var um="Tooltip",[sR,ox]=sx(um),d4=e=>{const{__scopeTooltip:r,children:t,open:a,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,A=J1(um,e.__scopeTooltip),d=ix(r),[f,h]=b.useState(null),m=ic(),p=b.useRef(0),v=o??A.disableHoverableContent,g=l??A.delayDuration,w=b.useRef(!1),[y,N]=dd({prop:a,defaultProp:s??!1,onChange:k=>{k?(A.onOpen(),document.dispatchEvent(new CustomEvent(fy))):A.onClose(),i==null||i(k)},caller:um}),C=b.useMemo(()=>y?w.current?"delayed-open":"instant-open":"closed",[y]),E=b.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w.current=!1,N(!0)},[N]),U=b.useCallback(()=>{window.clearTimeout(p.current),p.current=0,N(!1)},[N]),D=b.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{w.current=!0,N(!0),p.current=0},g)},[g,N]);return b.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),n.jsx(W1,{...d,children:n.jsx(sR,{scope:r,contentId:m,open:y,stateAttribute:C,trigger:f,onTriggerChange:h,onTriggerEnter:b.useCallback(()=>{A.isOpenDelayedRef.current?D():E()},[A.isOpenDelayedRef,D,E]),onTriggerLeave:b.useCallback(()=>{v?U():(window.clearTimeout(p.current),p.current=0)},[U,v]),onOpen:E,onClose:U,disableHoverableContent:v,children:t})})};d4.displayName=um;var hy="TooltipTrigger",u4=b.forwardRef((e,r)=>{const{__scopeTooltip:t,...a}=e,s=ox(hy,t),i=J1(hy,t),o=ix(t),l=b.useRef(null),A=Na(r,l,s.onTriggerChange),d=b.useRef(!1),f=b.useRef(!1),h=b.useCallback(()=>d.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),n.jsx(G1,{asChild:!0,...o,children:n.jsx(Er.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...a,ref:A,onPointerMove:Lt(e.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:Lt(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:Lt(e.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Lt(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:Lt(e.onBlur,s.onClose),onClick:Lt(e.onClick,s.onClose)})})});u4.displayName=hy;var iR="TooltipPortal",[kZ,oR]=sx(iR,{forceMount:void 0}),Rf="TooltipContent",f4=b.forwardRef((e,r)=>{const t=oR(Rf,e.__scopeTooltip),{forceMount:a=t.forceMount,side:s="top",...i}=e,o=ox(Rf,e.__scopeTooltip);return n.jsx(hc,{present:a||o.open,children:o.disableHoverableContent?n.jsx(h4,{side:s,...i,ref:r}):n.jsx(lR,{side:s,...i,ref:r})})}),lR=b.forwardRef((e,r)=>{const t=ox(Rf,e.__scopeTooltip),a=J1(Rf,e.__scopeTooltip),s=b.useRef(null),i=Na(r,s),[o,l]=b.useState(null),{trigger:A,onClose:d}=t,f=s.current,{onPointerInTransitChange:h}=a,m=b.useCallback(()=>{l(null),h(!1)},[h]),p=b.useCallback((v,g)=>{const w=v.currentTarget,y={x:v.clientX,y:v.clientY},N=fR(y,w.getBoundingClientRect()),C=hR(y,N),E=mR(g.getBoundingClientRect()),U=gR([...C,...E]);l(U),h(!0)},[h]);return b.useEffect(()=>()=>m(),[m]),b.useEffect(()=>{if(A&&f){const v=w=>p(w,f),g=w=>p(w,A);return A.addEventListener("pointerleave",v),f.addEventListener("pointerleave",g),()=>{A.removeEventListener("pointerleave",v),f.removeEventListener("pointerleave",g)}}},[A,f,p,m]),b.useEffect(()=>{if(o){const v=g=>{const w=g.target,y={x:g.clientX,y:g.clientY},N=(A==null?void 0:A.contains(w))||(f==null?void 0:f.contains(w)),C=!pR(y,o);N?m():C&&(m(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[A,f,o,d,m]),n.jsx(h4,{...e,ref:i})}),[cR,AR]=sx(um,{isInside:!1}),dR=k6("TooltipContent"),h4=b.forwardRef((e,r)=>{const{__scopeTooltip:t,children:a,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,A=ox(Rf,t),d=ix(t),{onClose:f}=A;return b.useEffect(()=>(document.addEventListener(fy,f),()=>document.removeEventListener(fy,f)),[f]),b.useEffect(()=>{if(A.trigger){const h=m=>{const p=m.target;p!=null&&p.contains(A.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[A.trigger,f]),n.jsx(Xf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:n.jsxs(Y1,{"data-state":A.stateAttribute,...d,...l,ref:r,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(dR,{children:a}),n.jsx(cR,{scope:t,isInside:!0,children:n.jsx(rR,{id:A.contentId,role:"tooltip",children:s||a})})]})})});f4.displayName=Rf;var m4="TooltipArrow",uR=b.forwardRef((e,r)=>{const{__scopeTooltip:t,...a}=e,s=ix(t);return AR(m4,t).isInside?null:n.jsx(X1,{...s,...a,ref:r})});uR.displayName=m4;function fR(e,r){const t=Math.abs(r.top-e.y),a=Math.abs(r.bottom-e.y),s=Math.abs(r.right-e.x),i=Math.abs(r.left-e.x);switch(Math.min(t,a,s,i)){case i:return"left";case s:return"right";case t:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function hR(e,r,t=5){const a=[];switch(r){case"top":a.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":a.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":a.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":a.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return a}function mR(e){const{top:r,right:t,bottom:a,left:s}=e;return[{x:s,y:r},{x:t,y:r},{x:t,y:a},{x:s,y:a}]}function pR(e,r){const{x:t,y:a}=e;let s=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],A=r[o],d=l.x,f=l.y,h=A.x,m=A.y;f>a!=m>a&&t<(h-d)*(a-f)/(m-f)+d&&(s=!s)}return s}function gR(e){const r=e.slice();return r.sort((t,a)=>t.x<a.x?-1:t.x>a.x?1:t.y<a.y?-1:t.y>a.y?1:0),xR(r)}function xR(e){if(e.length<=1)return e.slice();const r=[];for(let a=0;a<e.length;a++){const s=e[a];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}r.pop();const t=[];for(let a=e.length-1;a>=0;a--){const s=e[a];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}return t.pop(),r.length===1&&t.length===1&&r[0].x===t[0].x&&r[0].y===t[0].y?r:r.concat(t)}var vR=A4,wR=d4,yR=u4,p4=f4;const a0=vR,Yh=wR,Xh=yR,_f=b.forwardRef(({className:e,sideOffset:r=4,...t},a)=>n.jsx(p4,{ref:a,sideOffset:r,className:ct("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));_f.displayName=p4.displayName;const bR="sidebar:state",jR=3600*24*7,NR="16rem",BR="18rem",CR="3rem",SR="b",g4=b.createContext(null);function lx(){const e=b.useContext(g4);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const x4=b.forwardRef(({defaultOpen:e=!0,open:r,onOpenChange:t,className:a,style:s,children:i,...o},l)=>{const A=cI(),[d,f]=b.useState(!1),[h,m]=b.useState(e),p=r??h,v=b.useCallback(N=>{const C=typeof N=="function"?N(p):N;t?t(C):m(C),document.cookie=`${bR}=${C}; path=/; max-age=${jR}`},[t,p]),g=b.useCallback(()=>A?f(N=>!N):v(N=>!N),[A,v,f]);b.useEffect(()=>{const N=C=>{C.key===SR&&(C.metaKey||C.ctrlKey)&&(C.preventDefault(),g())};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[g]);const w=p?"expanded":"collapsed",y=b.useMemo(()=>({state:w,open:p,setOpen:v,isMobile:A,openMobile:d,setOpenMobile:f,toggleSidebar:g}),[w,p,v,A,d,f,g]);return n.jsx(g4.Provider,{value:y,children:n.jsx(a0,{delayDuration:0,children:n.jsx("div",{style:{"--sidebar-width":NR,"--sidebar-width-icon":CR,...s},className:ct("group/sidebar-wrapper flex min-h-svh w-full bg-background",a),ref:l,...o,children:i})})})});x4.displayName="SidebarProvider";const v4=b.forwardRef(({side:e="left",variant:r="sidebar",collapsible:t="offcanvas",className:a,children:s,...i},o)=>{const{isMobile:l,state:A,openMobile:d,setOpenMobile:f}=lx();return t==="none"?n.jsx("div",{className:ct("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",a),ref:o,...i,children:s}):l?n.jsx(QP,{open:d,onOpenChange:f,...i,children:n.jsx(LS,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":BR},side:e,children:n.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):n.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":A,"data-collapsible":A==="collapsed"?t:"","data-variant":r,"data-side":e,children:[n.jsx("div",{className:ct("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",r==="floating"||r==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),n.jsx("div",{className:ct("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",r==="floating"||r==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",a),...i,children:n.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});v4.displayName="Sidebar";const w4=b.forwardRef(({className:e,onClick:r,...t},a)=>{const{toggleSidebar:s}=lx();return n.jsxs(we,{ref:a,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ct("h-7 w-7",e),onClick:i=>{r==null||r(i),s()},...t,children:[n.jsx(eI,{}),n.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});w4.displayName="SidebarTrigger";const _R=b.forwardRef(({className:e,...r},t)=>{const{toggleSidebar:a}=lx();return n.jsx("button",{ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:a,title:"Toggle Sidebar",className:ct("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...r})});_R.displayName="SidebarRail";const y4=b.forwardRef(({className:e,...r},t)=>n.jsx("main",{ref:t,className:ct("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...r}));y4.displayName="SidebarInset";const ER=b.forwardRef(({className:e,...r},t)=>n.jsx(Oe,{ref:t,"data-sidebar":"input",className:ct("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...r}));ER.displayName="SidebarInput";const b4=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"header",className:ct("flex flex-col gap-2 p-2",e),...r}));b4.displayName="SidebarHeader";const j4=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"footer",className:ct("flex flex-col gap-2 p-2",e),...r}));j4.displayName="SidebarFooter";const FR=b.forwardRef(({className:e,...r},t)=>n.jsx(hs,{ref:t,"data-sidebar":"separator",className:ct("mx-2 w-auto bg-sidebar-border",e),...r}));FR.displayName="SidebarSeparator";const N4=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"content",className:ct("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...r}));N4.displayName="SidebarContent";const my=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"group",className:ct("relative flex w-full min-w-0 flex-col p-2",e),...r}));my.displayName="SidebarGroup";const py=b.forwardRef(({className:e,asChild:r=!1,...t},a)=>{const s=r?Gf:"div";return n.jsx(s,{ref:a,"data-sidebar":"group-label",className:ct("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...t})});py.displayName="SidebarGroupLabel";const kR=b.forwardRef(({className:e,asChild:r=!1,...t},a)=>{const s=r?Gf:"button";return n.jsx(s,{ref:a,"data-sidebar":"group-action",className:ct("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...t})});kR.displayName="SidebarGroupAction";const gy=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"group-content",className:ct("w-full text-sm",e),...r}));gy.displayName="SidebarGroupContent";const xy=b.forwardRef(({className:e,...r},t)=>n.jsx("ul",{ref:t,"data-sidebar":"menu",className:ct("flex w-full min-w-0 flex-col gap-1",e),...r}));xy.displayName="SidebarMenu";const vy=b.forwardRef(({className:e,...r},t)=>n.jsx("li",{ref:t,"data-sidebar":"menu-item",className:ct("group/menu-item relative",e),...r}));vy.displayName="SidebarMenuItem";const DR=$0("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),wy=b.forwardRef(({asChild:e=!1,isActive:r=!1,variant:t="default",size:a="default",tooltip:s,className:i,...o},l)=>{const A=e?Gf:"button",{isMobile:d,state:f}=lx(),h=n.jsx(A,{ref:l,"data-sidebar":"menu-button","data-size":a,"data-active":r,className:ct(DR({variant:t,size:a}),i),...o});return s?(typeof s=="string"&&(s={children:s}),n.jsxs(Yh,{children:[n.jsx(Xh,{asChild:!0,children:h}),n.jsx(_f,{side:"right",align:"center",hidden:f!=="collapsed"||d,...s})]})):h});wy.displayName="SidebarMenuButton";const UR=b.forwardRef(({className:e,asChild:r=!1,showOnHover:t=!1,...a},s)=>{const i=r?Gf:"button";return n.jsx(i,{ref:s,"data-sidebar":"menu-action",className:ct("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...a})});UR.displayName="SidebarMenuAction";const LR=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"menu-badge",className:ct("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...r}));LR.displayName="SidebarMenuBadge";const IR=b.forwardRef(({className:e,showIcon:r=!1,...t},a)=>{const s=b.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return n.jsxs("div",{ref:a,"data-sidebar":"menu-skeleton",className:ct("rounded-md h-8 flex gap-2 px-2 items-center",e),...t,children:[r&&n.jsx(Cr,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),n.jsx(Cr,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});IR.displayName="SidebarMenuSkeleton";const PR=b.forwardRef(({className:e,...r},t)=>n.jsx("ul",{ref:t,"data-sidebar":"menu-sub",className:ct("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...r}));PR.displayName="SidebarMenuSub";const QR=b.forwardRef(({...e},r)=>n.jsx("li",{ref:r,...e}));QR.displayName="SidebarMenuSubItem";const RR=b.forwardRef(({asChild:e=!1,size:r="md",isActive:t,className:a,...s},i)=>{const o=e?Gf:"a";return n.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":r,"data-active":t,className:ct("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",r==="sm"&&"text-xs",r==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",a),...s})});RR.displayName="SidebarMenuSubButton";const MR={theme:"system",setTheme:()=>null},B4=b.createContext(MR);function TR({children:e,defaultTheme:r="system",storageKey:t="vite-ui-theme",...a}){const[s,i]=b.useState(()=>(typeof window<"u"?localStorage.getItem(t):null)||r);b.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),s==="system"){const A=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(A);return}l.classList.add(s)},[s]);const o={theme:s,setTheme:l=>{localStorage.setItem(t,l),i(l)}};return n.jsx(B4.Provider,{...a,value:o,children:e})}const C4=()=>{const e=b.useContext(B4);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};function cx(e){const r=e+"CollectionProvider",[t,a]=Nl(r),[s,i]=t(r,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:y}=g,N=ze.useRef(null),C=ze.useRef(new Map).current;return n.jsx(s,{scope:w,itemMap:C,collectionRef:N,children:y})};o.displayName=r;const l=e+"CollectionSlot",A=fu(l),d=ze.forwardRef((g,w)=>{const{scope:y,children:N}=g,C=i(l,y),E=Na(w,C.collectionRef);return n.jsx(A,{ref:E,children:N})});d.displayName=l;const f=e+"CollectionItemSlot",h="data-radix-collection-item",m=fu(f),p=ze.forwardRef((g,w)=>{const{scope:y,children:N,...C}=g,E=ze.useRef(null),U=Na(w,E),D=i(f,y);return ze.useEffect(()=>(D.itemMap.set(E,{ref:E,...C}),()=>void D.itemMap.delete(E))),n.jsx(m,{[h]:"",ref:U,children:N})});p.displayName=f;function v(g){const w=i(e+"CollectionConsumer",g);return ze.useCallback(()=>{const N=w.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((D,k)=>C.indexOf(D.ref.current)-C.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},v,a]}var OR=b.createContext(void 0);function Z1(e){const r=b.useContext(OR);return e||r||"ltr"}var zv="rovingFocusGroup.onEntryFocus",HR={bubbles:!1,cancelable:!0},km="RovingFocusGroup",[yy,S4,$R]=cx(km),[KR,_4]=Nl(km,[$R]),[VR,zR]=KR(km),E4=b.forwardRef((e,r)=>n.jsx(yy.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(yy.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(qR,{...e,ref:r})})}));E4.displayName=km;var qR=b.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:t,orientation:a,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:A,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...h}=e,m=b.useRef(null),p=Na(r,m),v=Z1(i),[g,w]=dd({prop:o,defaultProp:l??null,onChange:A,caller:km}),[y,N]=b.useState(!1),C=Si(d),E=S4(t),U=b.useRef(!1),[D,k]=b.useState(0);return b.useEffect(()=>{const L=m.current;if(L)return L.addEventListener(zv,C),()=>L.removeEventListener(zv,C)},[C]),n.jsx(VR,{scope:t,orientation:a,dir:v,loop:s,currentTabStopId:g,onItemFocus:b.useCallback(L=>w(L),[w]),onItemShiftTab:b.useCallback(()=>N(!0),[]),onFocusableItemAdd:b.useCallback(()=>k(L=>L+1),[]),onFocusableItemRemove:b.useCallback(()=>k(L=>L-1),[]),children:n.jsx(Er.div,{tabIndex:y||D===0?-1:0,"data-orientation":a,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:Lt(e.onMouseDown,()=>{U.current=!0}),onFocus:Lt(e.onFocus,L=>{const _=!U.current;if(L.target===L.currentTarget&&_&&!y){const Y=new CustomEvent(zv,HR);if(L.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const I=E().filter(K=>K.focusable),$=I.find(K=>K.active),J=I.find(K=>K.id===g),re=[$,J,...I].filter(Boolean).map(K=>K.ref.current);D4(re,f)}}U.current=!1}),onBlur:Lt(e.onBlur,()=>N(!1))})})}),F4="RovingFocusGroupItem",k4=b.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:t,focusable:a=!0,active:s=!1,tabStopId:i,children:o,...l}=e,A=ic(),d=i||A,f=zR(F4,t),h=f.currentTabStopId===d,m=S4(t),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:g}=f;return b.useEffect(()=>{if(a)return p(),()=>v()},[a,p,v]),n.jsx(yy.ItemSlot,{scope:t,id:d,focusable:a,active:s,children:n.jsx(Er.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...l,ref:r,onMouseDown:Lt(e.onMouseDown,w=>{a?f.onItemFocus(d):w.preventDefault()}),onFocus:Lt(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:Lt(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=YR(w,f.orientation,f.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let C=m().filter(E=>E.focusable).map(E=>E.ref.current);if(y==="last")C.reverse();else if(y==="prev"||y==="next"){y==="prev"&&C.reverse();const E=C.indexOf(w.currentTarget);C=f.loop?XR(C,E+1):C.slice(E+1)}setTimeout(()=>D4(C))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});k4.displayName=F4;var WR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function GR(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function YR(e,r,t){const a=GR(e.key,t);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return WR[a]}function D4(e,r=!1){const t=document.activeElement;for(const a of e)if(a===t||(a.focus({preventScroll:r}),document.activeElement!==t))return}function XR(e,r){return e.map((t,a)=>e[(r+a)%e.length])}var JR=E4,ZR=k4,by=["Enter"," "],eM=["ArrowDown","PageUp","Home"],U4=["ArrowUp","PageDown","End"],tM=[...eM,...U4],rM={ltr:[...by,"ArrowRight"],rtl:[...by,"ArrowLeft"]},aM={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Dm="Menu",[fm,nM,sM]=cx(Dm),[Nu,L4]=Nl(Dm,[sM,eh,_4]),Ax=eh(),I4=_4(),[iM,Bu]=Nu(Dm),[oM,Um]=Nu(Dm),P4=e=>{const{__scopeMenu:r,open:t=!1,children:a,dir:s,onOpenChange:i,modal:o=!0}=e,l=Ax(r),[A,d]=b.useState(null),f=b.useRef(!1),h=Si(i),m=Z1(s);return b.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),n.jsx(W1,{...l,children:n.jsx(iM,{scope:r,open:t,onOpenChange:h,content:A,onContentChange:d,children:n.jsx(oM,{scope:r,onClose:b.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:m,modal:o,children:a})})})};P4.displayName=Dm;var lM="MenuAnchor",eb=b.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e,s=Ax(t);return n.jsx(G1,{...s,...a,ref:r})});eb.displayName=lM;var tb="MenuPortal",[cM,Q4]=Nu(tb,{forceMount:void 0}),R4=e=>{const{__scopeMenu:r,forceMount:t,children:a,container:s}=e,i=Bu(tb,r);return n.jsx(cM,{scope:r,forceMount:t,children:n.jsx(hc,{present:t||i.open,children:n.jsx(Em,{asChild:!0,container:s,children:a})})})};R4.displayName=tb;var $o="MenuContent",[AM,rb]=Nu($o),M4=b.forwardRef((e,r)=>{const t=Q4($o,e.__scopeMenu),{forceMount:a=t.forceMount,...s}=e,i=Bu($o,e.__scopeMenu),o=Um($o,e.__scopeMenu);return n.jsx(fm.Provider,{scope:e.__scopeMenu,children:n.jsx(hc,{present:a||i.open,children:n.jsx(fm.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(dM,{...s,ref:r}):n.jsx(uM,{...s,ref:r})})})})}),dM=b.forwardRef((e,r)=>{const t=Bu($o,e.__scopeMenu),a=b.useRef(null),s=Na(r,a);return b.useEffect(()=>{const i=a.current;if(i)return P1(i)},[]),n.jsx(ab,{...e,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Lt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),uM=b.forwardRef((e,r)=>{const t=Bu($o,e.__scopeMenu);return n.jsx(ab,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),fM=fu("MenuContent.ScrollLock"),ab=b.forwardRef((e,r)=>{const{__scopeMenu:t,loop:a=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:A,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:v,...g}=e,w=Bu($o,t),y=Um($o,t),N=Ax(t),C=I4(t),E=nM(t),[U,D]=b.useState(null),k=b.useRef(null),L=Na(r,k,w.onContentChange),_=b.useRef(0),Y=b.useRef(""),I=b.useRef(0),$=b.useRef(null),J=b.useRef("right"),M=b.useRef(0),re=v?W0:b.Fragment,K=v?{as:fM,allowPinchZoom:!0}:void 0,G=Z=>{var H,V;const Ae=Y.current+Z,ee=E().filter(ae=>!ae.disabled),R=document.activeElement,q=(H=ee.find(ae=>ae.ref.current===R))==null?void 0:H.textValue,te=ee.map(ae=>ae.textValue),F=BM(te,Ae,q),X=(V=ee.find(ae=>ae.textValue===F))==null?void 0:V.ref.current;(function ae(fe){Y.current=fe,window.clearTimeout(_.current),fe!==""&&(_.current=window.setTimeout(()=>ae(""),1e3))})(Ae),X&&setTimeout(()=>X.focus())};b.useEffect(()=>()=>window.clearTimeout(_.current),[]),I1();const z=b.useCallback(Z=>{var ee,R;return J.current===((ee=$.current)==null?void 0:ee.side)&&SM(Z,(R=$.current)==null?void 0:R.area)},[]);return n.jsx(AM,{scope:t,searchRef:Y,onItemEnter:b.useCallback(Z=>{z(Z)&&Z.preventDefault()},[z]),onItemLeave:b.useCallback(Z=>{var Ae;z(Z)||((Ae=k.current)==null||Ae.focus(),D(null))},[z]),onTriggerLeave:b.useCallback(Z=>{z(Z)&&Z.preventDefault()},[z]),pointerGraceTimerRef:I,onPointerGraceIntentChange:b.useCallback(Z=>{$.current=Z},[]),children:n.jsx(re,{...K,children:n.jsx(z0,{asChild:!0,trapped:s,onMountAutoFocus:Lt(i,Z=>{var Ae;Z.preventDefault(),(Ae=k.current)==null||Ae.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(Xf,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:n.jsx(JR,{asChild:!0,...C,dir:y.dir,orientation:"vertical",loop:a,currentTabStopId:U,onCurrentTabStopIdChange:D,onEntryFocus:Lt(A,Z=>{y.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(Y1,{role:"menu","aria-orientation":"vertical","data-state":t_(w.open),"data-radix-menu-content":"",dir:y.dir,...N,...g,ref:L,style:{outline:"none",...g.style},onKeyDown:Lt(g.onKeyDown,Z=>{const ee=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,R=Z.ctrlKey||Z.altKey||Z.metaKey,q=Z.key.length===1;ee&&(Z.key==="Tab"&&Z.preventDefault(),!R&&q&&G(Z.key));const te=k.current;if(Z.target!==te||!tM.includes(Z.key))return;Z.preventDefault();const X=E().filter(H=>!H.disabled).map(H=>H.ref.current);U4.includes(Z.key)&&X.reverse(),jM(X)}),onBlur:Lt(e.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(_.current),Y.current="")}),onPointerMove:Lt(e.onPointerMove,hm(Z=>{const Ae=Z.target,ee=M.current!==Z.clientX;if(Z.currentTarget.contains(Ae)&&ee){const R=Z.clientX>M.current?"right":"left";J.current=R,M.current=Z.clientX}}))})})})})})})});M4.displayName=$o;var hM="MenuGroup",nb=b.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e;return n.jsx(Er.div,{role:"group",...a,ref:r})});nb.displayName=hM;var mM="MenuLabel",T4=b.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e;return n.jsx(Er.div,{...a,ref:r})});T4.displayName=mM;var n0="MenuItem",Yj="menu.itemSelect",dx=b.forwardRef((e,r)=>{const{disabled:t=!1,onSelect:a,...s}=e,i=b.useRef(null),o=Um(n0,e.__scopeMenu),l=rb(n0,e.__scopeMenu),A=Na(r,i),d=b.useRef(!1),f=()=>{const h=i.current;if(!t&&h){const m=new CustomEvent(Yj,{bubbles:!0,cancelable:!0});h.addEventListener(Yj,p=>a==null?void 0:a(p),{once:!0}),L1(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(O4,{...s,ref:A,disabled:t,onClick:Lt(e.onClick,f),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),d.current=!0},onPointerUp:Lt(e.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:Lt(e.onKeyDown,h=>{const m=l.searchRef.current!=="";t||m&&h.key===" "||by.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});dx.displayName=n0;var O4=b.forwardRef((e,r)=>{const{__scopeMenu:t,disabled:a=!1,textValue:s,...i}=e,o=rb(n0,t),l=I4(t),A=b.useRef(null),d=Na(r,A),[f,h]=b.useState(!1),[m,p]=b.useState("");return b.useEffect(()=>{const v=A.current;v&&p((v.textContent??"").trim())},[i.children]),n.jsx(fm.ItemSlot,{scope:t,disabled:a,textValue:s??m,children:n.jsx(ZR,{asChild:!0,...l,focusable:!a,children:n.jsx(Er.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:d,onPointerMove:Lt(e.onPointerMove,hm(v=>{a?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Lt(e.onPointerLeave,hm(v=>o.onItemLeave(v))),onFocus:Lt(e.onFocus,()=>h(!0)),onBlur:Lt(e.onBlur,()=>h(!1))})})})}),pM="MenuCheckboxItem",H4=b.forwardRef((e,r)=>{const{checked:t=!1,onCheckedChange:a,...s}=e;return n.jsx(q4,{scope:e.__scopeMenu,checked:t,children:n.jsx(dx,{role:"menuitemcheckbox","aria-checked":s0(t)?"mixed":t,...s,ref:r,"data-state":ib(t),onSelect:Lt(s.onSelect,()=>a==null?void 0:a(s0(t)?!0:!t),{checkForDefaultPrevented:!1})})})});H4.displayName=pM;var $4="MenuRadioGroup",[gM,xM]=Nu($4,{value:void 0,onValueChange:()=>{}}),K4=b.forwardRef((e,r)=>{const{value:t,onValueChange:a,...s}=e,i=Si(a);return n.jsx(gM,{scope:e.__scopeMenu,value:t,onValueChange:i,children:n.jsx(nb,{...s,ref:r})})});K4.displayName=$4;var V4="MenuRadioItem",z4=b.forwardRef((e,r)=>{const{value:t,...a}=e,s=xM(V4,e.__scopeMenu),i=t===s.value;return n.jsx(q4,{scope:e.__scopeMenu,checked:i,children:n.jsx(dx,{role:"menuitemradio","aria-checked":i,...a,ref:r,"data-state":ib(i),onSelect:Lt(a.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,t)},{checkForDefaultPrevented:!1})})})});z4.displayName=V4;var sb="MenuItemIndicator",[q4,vM]=Nu(sb,{checked:!1}),W4=b.forwardRef((e,r)=>{const{__scopeMenu:t,forceMount:a,...s}=e,i=vM(sb,t);return n.jsx(hc,{present:a||s0(i.checked)||i.checked===!0,children:n.jsx(Er.span,{...s,ref:r,"data-state":ib(i.checked)})})});W4.displayName=sb;var wM="MenuSeparator",G4=b.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e;return n.jsx(Er.div,{role:"separator","aria-orientation":"horizontal",...a,ref:r})});G4.displayName=wM;var yM="MenuArrow",Y4=b.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e,s=Ax(t);return n.jsx(X1,{...s,...a,ref:r})});Y4.displayName=yM;var bM="MenuSub",[DZ,X4]=Nu(bM),Th="MenuSubTrigger",J4=b.forwardRef((e,r)=>{const t=Bu(Th,e.__scopeMenu),a=Um(Th,e.__scopeMenu),s=X4(Th,e.__scopeMenu),i=rb(Th,e.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:A}=i,d={__scopeMenu:e.__scopeMenu},f=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>f,[f]),b.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),A(null)}},[l,A]),n.jsx(eb,{asChild:!0,...d,children:n.jsx(O4,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":t_(t.open),...e,ref:H0(r,s.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Lt(e.onPointerMove,hm(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!t.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),f()},100))})),onPointerLeave:Lt(e.onPointerLeave,hm(h=>{var p,v;f();const m=(p=t.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(v=t.content)==null?void 0:v.dataset.side,w=g==="right",y=w?-5:5,N=m[w?"left":"right"],C=m[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:N,y:m.top},{x:C,y:m.top},{x:C,y:m.bottom},{x:N,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Lt(e.onKeyDown,h=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&h.key===" "||rM[a.dir].includes(h.key)&&(t.onOpenChange(!0),(p=t.content)==null||p.focus(),h.preventDefault())})})})});J4.displayName=Th;var Z4="MenuSubContent",e_=b.forwardRef((e,r)=>{const t=Q4($o,e.__scopeMenu),{forceMount:a=t.forceMount,...s}=e,i=Bu($o,e.__scopeMenu),o=Um($o,e.__scopeMenu),l=X4(Z4,e.__scopeMenu),A=b.useRef(null),d=Na(r,A);return n.jsx(fm.Provider,{scope:e.__scopeMenu,children:n.jsx(hc,{present:a||i.open,children:n.jsx(fm.Slot,{scope:e.__scopeMenu,children:n.jsx(ab,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;o.isUsingKeyboardRef.current&&((h=A.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Lt(e.onFocusOutside,f=>{f.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Lt(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Lt(e.onKeyDown,f=>{var p;const h=f.currentTarget.contains(f.target),m=aM[o.dir].includes(f.key);h&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),f.preventDefault())})})})})})});e_.displayName=Z4;function t_(e){return e?"open":"closed"}function s0(e){return e==="indeterminate"}function ib(e){return s0(e)?"indeterminate":e?"checked":"unchecked"}function jM(e){const r=document.activeElement;for(const t of e)if(t===r||(t.focus(),document.activeElement!==r))return}function NM(e,r){return e.map((t,a)=>e[(r+a)%e.length])}function BM(e,r,t){const s=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=t?e.indexOf(t):-1;let o=NM(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==t));const A=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return A!==t?A:void 0}function CM(e,r){const{x:t,y:a}=e;let s=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],A=r[o],d=l.x,f=l.y,h=A.x,m=A.y;f>a!=m>a&&t<(h-d)*(a-f)/(m-f)+d&&(s=!s)}return s}function SM(e,r){if(!r)return!1;const t={x:e.clientX,y:e.clientY};return CM(t,r)}function hm(e){return r=>r.pointerType==="mouse"?e(r):void 0}var _M=P4,EM=eb,FM=R4,kM=M4,DM=nb,UM=T4,LM=dx,IM=H4,PM=K4,QM=z4,RM=W4,MM=G4,TM=Y4,OM=J4,HM=e_,ux="DropdownMenu",[$M,UZ]=Nl(ux,[L4]),_i=L4(),[KM,r_]=$M(ux),a_=e=>{const{__scopeDropdownMenu:r,children:t,dir:a,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,A=_i(r),d=b.useRef(null),[f,h]=dd({prop:s,defaultProp:i??!1,onChange:o,caller:ux});return n.jsx(KM,{scope:r,triggerId:ic(),triggerRef:d,contentId:ic(),open:f,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(m=>!m),[h]),modal:l,children:n.jsx(_M,{...A,open:f,onOpenChange:h,dir:a,modal:l,children:t})})};a_.displayName=ux;var n_="DropdownMenuTrigger",s_=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,disabled:a=!1,...s}=e,i=r_(n_,t),o=_i(t);return n.jsx(EM,{asChild:!0,...o,children:n.jsx(Er.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:H0(r,i.triggerRef),onPointerDown:Lt(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Lt(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});s_.displayName=n_;var VM="DropdownMenuPortal",i_=e=>{const{__scopeDropdownMenu:r,...t}=e,a=_i(r);return n.jsx(FM,{...a,...t})};i_.displayName=VM;var o_="DropdownMenuContent",l_=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=r_(o_,t),i=_i(t),o=b.useRef(!1);return n.jsx(kM,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...a,ref:r,onCloseAutoFocus:Lt(e.onCloseAutoFocus,l=>{var A;o.current||(A=s.triggerRef.current)==null||A.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Lt(e.onInteractOutside,l=>{const A=l.detail.originalEvent,d=A.button===0&&A.ctrlKey===!0,f=A.button===2||d;(!s.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});l_.displayName=o_;var zM="DropdownMenuGroup",qM=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(DM,{...s,...a,ref:r})});qM.displayName=zM;var WM="DropdownMenuLabel",c_=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(UM,{...s,...a,ref:r})});c_.displayName=WM;var GM="DropdownMenuItem",A_=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(LM,{...s,...a,ref:r})});A_.displayName=GM;var YM="DropdownMenuCheckboxItem",d_=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(IM,{...s,...a,ref:r})});d_.displayName=YM;var XM="DropdownMenuRadioGroup",JM=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(PM,{...s,...a,ref:r})});JM.displayName=XM;var ZM="DropdownMenuRadioItem",u_=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(QM,{...s,...a,ref:r})});u_.displayName=ZM;var eT="DropdownMenuItemIndicator",f_=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(RM,{...s,...a,ref:r})});f_.displayName=eT;var tT="DropdownMenuSeparator",h_=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(MM,{...s,...a,ref:r})});h_.displayName=tT;var rT="DropdownMenuArrow",aT=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(TM,{...s,...a,ref:r})});aT.displayName=rT;var nT="DropdownMenuSubTrigger",m_=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(OM,{...s,...a,ref:r})});m_.displayName=nT;var sT="DropdownMenuSubContent",p_=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(HM,{...s,...a,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});p_.displayName=sT;var iT=a_,oT=s_,lT=i_,g_=l_,x_=c_,v_=A_,w_=d_,y_=u_,b_=f_,j_=h_,N_=m_,B_=p_;const C_=iT,S_=oT,cT=b.forwardRef(({className:e,inset:r,children:t,...a},s)=>n.jsxs(N_,{ref:s,className:ct("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",e),...a,children:[t,n.jsx(gl,{className:"ml-auto h-4 w-4"})]}));cT.displayName=N_.displayName;const AT=b.forwardRef(({className:e,...r},t)=>n.jsx(B_,{ref:t,className:ct("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));AT.displayName=B_.displayName;const ob=b.forwardRef(({className:e,sideOffset:r=4,...t},a)=>n.jsx(lT,{children:n.jsx(g_,{ref:a,sideOffset:r,className:ct("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));ob.displayName=g_.displayName;const Jc=b.forwardRef(({className:e,inset:r,...t},a)=>n.jsx(v_,{ref:a,className:ct("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",e),...t}));Jc.displayName=v_.displayName;const dT=b.forwardRef(({className:e,children:r,checked:t,...a},s)=>n.jsxs(w_,{ref:s,className:ct("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...a,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(b_,{children:n.jsx(S1,{className:"h-4 w-4"})})}),r]}));dT.displayName=w_.displayName;const uT=b.forwardRef(({className:e,children:r,...t},a)=>n.jsxs(y_,{ref:a,className:ct("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(b_,{children:n.jsx(M6,{className:"h-2 w-2 fill-current"})})}),r]}));uT.displayName=y_.displayName;const __=b.forwardRef(({className:e,inset:r,...t},a)=>n.jsx(x_,{ref:a,className:ct("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",e),...t}));__.displayName=x_.displayName;const jy=b.forwardRef(({className:e,...r},t)=>n.jsx(j_,{ref:t,className:ct("-mx-1 my-1 h-px bg-muted",e),...r}));jy.displayName=j_.displayName;function lb(){const{setTheme:e,theme:r}=C4();return n.jsxs(C_,{children:[n.jsx(S_,{asChild:!0,children:n.jsxs(we,{variant:"secondary",size:"icon",className:"relative bg-white/80 text-slate-700 border border-black/10 shadow-sm backdrop-blur hover:bg-white/90 dark:bg-slate-900/60 dark:text-slate-100 dark:border-white/10 dark:hover:bg-slate-900/70","aria-label":"Alternar tema",children:[n.jsx(Bj,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),n.jsx(jj,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),n.jsx("span",{className:"sr-only",children:"Alternar tema"})]})}),n.jsxs(ob,{align:"end",sideOffset:8,children:[n.jsxs(Jc,{onClick:()=>e("light"),className:"cursor-pointer",children:[n.jsx(Bj,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Claro"}),r==="light"&&n.jsx("span",{className:"ml-auto",children:""})]}),n.jsxs(Jc,{onClick:()=>e("dark"),className:"cursor-pointer",children:[n.jsx(jj,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Escuro"}),r==="dark"&&n.jsx("span",{className:"ml-auto",children:""})]}),n.jsxs(Jc,{onClick:()=>e("system"),className:"cursor-pointer",children:[n.jsx(Z6,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Sistema"}),r==="system"&&n.jsx("span",{className:"ml-auto",children:""})]})]})]})}var qv={exports:{}},Wv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xj;function fT(){if(Xj)return Wv;Xj=1;var e=I0();function r(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var t=typeof Object.is=="function"?Object.is:r,a=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(h,m){var p=m(),v=a({inst:{value:p,getSnapshot:m}}),g=v[0].inst,w=v[1];return i(function(){g.value=p,g.getSnapshot=m,A(g)&&w({inst:g})},[h,p,m]),s(function(){return A(g)&&w({inst:g}),h(function(){A(g)&&w({inst:g})})},[h]),o(p),p}function A(h){var m=h.getSnapshot;h=h.value;try{var p=m();return!t(h,p)}catch{return!0}}function d(h,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Wv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Wv}var Jj;function hT(){return Jj||(Jj=1,qv.exports=fT()),qv.exports}var mT=hT();function pT(){return mT.useSyncExternalStore(gT,()=>!0,()=>!1)}function gT(){return()=>{}}var cb="Avatar",[xT,LZ]=Nl(cb),[vT,E_]=xT(cb),F_=b.forwardRef((e,r)=>{const{__scopeAvatar:t,...a}=e,[s,i]=b.useState("idle");return n.jsx(vT,{scope:t,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:n.jsx(Er.span,{...a,ref:r})})});F_.displayName=cb;var k_="AvatarImage",D_=b.forwardRef((e,r)=>{const{__scopeAvatar:t,src:a,onLoadingStatusChange:s=()=>{},...i}=e,o=E_(k_,t),l=wT(a,i),A=Si(d=>{s(d),o.onImageLoadingStatusChange(d)});return ps(()=>{l!=="idle"&&A(l)},[l,A]),l==="loaded"?n.jsx(Er.img,{...i,ref:r,src:a}):null});D_.displayName=k_;var U_="AvatarFallback",L_=b.forwardRef((e,r)=>{const{__scopeAvatar:t,delayMs:a,...s}=e,i=E_(U_,t),[o,l]=b.useState(a===void 0);return b.useEffect(()=>{if(a!==void 0){const A=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(A)}},[a]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(Er.span,{...s,ref:r}):null});L_.displayName=U_;function Zj(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function wT(e,{referrerPolicy:r,crossOrigin:t}){const a=pT(),s=b.useRef(null),i=a?(s.current||(s.current=new window.Image),s.current):null,[o,l]=b.useState(()=>Zj(i,e));return ps(()=>{l(Zj(i,e))},[i,e]),ps(()=>{const A=h=>()=>{l(h)};if(!i)return;const d=A("loaded"),f=A("error");return i.addEventListener("load",d),i.addEventListener("error",f),r&&(i.referrerPolicy=r),typeof t=="string"&&(i.crossOrigin=t),()=>{i.removeEventListener("load",d),i.removeEventListener("error",f)}},[i,t,r]),o}var I_=F_,P_=D_,Q_=L_;const Lm=b.forwardRef(({className:e,...r},t)=>n.jsx(I_,{ref:t,className:ct("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));Lm.displayName=I_.displayName;const fx=b.forwardRef(({className:e,...r},t)=>n.jsx(P_,{ref:t,className:ct("aspect-square h-full w-full",e),...r}));fx.displayName=P_.displayName;const Im=b.forwardRef(({className:e,...r},t)=>n.jsx(Q_,{ref:t,className:ct("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));Im.displayName=Q_.displayName;const R_=b.forwardRef(({...e},r)=>n.jsx("nav",{ref:r,"aria-label":"breadcrumb",...e}));R_.displayName="Breadcrumb";const M_=b.forwardRef(({className:e,...r},t)=>n.jsx("ol",{ref:t,className:ct("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...r}));M_.displayName="BreadcrumbList";const T_=b.forwardRef(({className:e,...r},t)=>n.jsx("li",{ref:t,className:ct("inline-flex items-center gap-1.5",e),...r}));T_.displayName="BreadcrumbItem";const O_=b.forwardRef(({asChild:e,className:r,...t},a)=>{const s=e?Gf:"a";return n.jsx(s,{ref:a,className:ct("hover:text-foreground transition-colors focus-visible:outline-none focus-visible:underline",r),...t})});O_.displayName="BreadcrumbLink";const H_=b.forwardRef(({className:e,...r},t)=>n.jsx("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:ct("text-foreground font-medium",e),...r}));H_.displayName="BreadcrumbPage";const $_=({children:e,className:r,...t})=>n.jsx("li",{role:"presentation","aria-hidden":"true",className:ct("[&>svg]:size-3.5",r),...t,children:e||n.jsx(gl,{className:"h-4 w-4"})});$_.displayName="BreadcrumbSeparator";function Pm({children:e,sidebar:r,breadcrumbs:t=[]}){var d;const{activeRole:a}=lc(),{user:s}=qo(),{userData:i}=lc(),o=$n(),l=(i==null?void 0:i.nome)||(s==null?void 0:s.nome)||"Usurio",A=()=>{const f=(()=>{const h=(a||(s==null?void 0:s.role)||(s==null?void 0:s.tipo)||"").toLowerCase();return h==="medico"?"/medico/dashboard":h==="paciente"?"/paciente/perfil":h==="clinica"?"/clinica/dashboard":h==="secretaria"?"/secretaria/dashboard":h==="admin"?"/admin/dashboard":"/inicio"})();try{window.history.length>1?o(-1):o(f,{replace:!0})}catch{o(f,{replace:!0})}};return n.jsxs(x4,{children:[n.jsx(r,{}),n.jsxs(y4,{children:[n.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-950/80 backdrop-blur-xl",children:n.jsxs("div",{className:"flex h-16 items-center gap-4 px-6",children:[n.jsx(we,{variant:"ghost",size:"sm",onClick:A,className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100",children:n.jsx(sc,{className:"size-4"})}),n.jsx(w4,{className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100"}),n.jsx(hs,{orientation:"vertical",className:"h-6 bg-slate-200 dark:bg-slate-700"}),t.length>0&&n.jsx(R_,{className:"flex-1",children:n.jsx(M_,{children:t.map((f,h)=>n.jsxs("div",{className:"flex items-center",children:[h>0&&n.jsx($_,{className:"text-slate-400"}),n.jsx(T_,{children:f.href?n.jsx(O_,{href:f.href,className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100 font-medium",children:f.label}):n.jsx(H_,{className:"text-slate-900 dark:text-slate-100 font-semibold",children:f.label})})]},h))})}),n.jsxs("div",{className:"relative hidden md:flex items-center max-w-sm",children:[n.jsx(js,{className:"absolute left-3 size-4 text-slate-400"}),n.jsx(Oe,{placeholder:"Buscar...",className:"pl-10 input-medical-primary bg-slate-100 dark:bg-slate-800"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(we,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100",children:n.jsx(lm,{className:"size-4"})}),n.jsx(lb,{}),n.jsx(hs,{orientation:"vertical",className:"h-6 bg-slate-200 dark:bg-slate-700"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Lm,{className:"size-8",children:[n.jsx(fx,{src:""}),n.jsx(Im,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white text-sm font-semibold",children:(d=l==null?void 0:l.charAt(0))==null?void 0:d.toUpperCase()})]}),n.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 hidden sm:block",children:l})]})]})]})}),n.jsx("main",{className:"flex-1 p-6 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 min-h-[calc(100vh-4rem)]",children:n.jsx("div",{className:"mx-auto max-w-7xl",children:e})})]})]})}function lr({className:e,variant:r="default",size:t="default",...a}){const s={default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input hover:bg-accent hover:text-accent-foreground",success:"bg-success text-success-foreground hover:bg-success/80 border-success/20",warning:"bg-warning text-warning-foreground hover:bg-warning/80 border-warning/20",info:"bg-info text-info-foreground hover:bg-info/80 border-info/20",normal:"status-normal",attention:"status-attention",critical:"status-critical",urgent:"status-urgent","priority-low":"bg-medical-gray/10 text-medical-gray border-medical-gray/20 hover:bg-medical-gray/20","priority-medium":"bg-medical-orange/10 text-medical-orange border-medical-orange/20 hover:bg-medical-orange/20","priority-high":"bg-medical-red/10 text-medical-red border-medical-red/20 hover:bg-medical-red/20","medical-primary":"bg-medical-primary/10 text-medical-primary border-medical-primary/20 hover:bg-medical-primary/20","medical-secondary":"bg-medical-secondary/10 text-medical-secondary border-medical-secondary/20 hover:bg-medical-secondary/20","medical-accent":"bg-medical-accent/10 text-medical-accent border-medical-accent/20 hover:bg-medical-accent/20"},i={sm:"px-2 py-0.5 text-xs",default:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"};return n.jsx("div",{className:ct("inline-flex items-center rounded-full border font-medium transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2","active:scale-95",s[r],i[t],e),...a})}function K_({status:e,className:r,...t}){const a={active:{variant:"success",text:"Ativo"},inactive:{variant:"secondary",text:"Inativo"},pending:{variant:"warning",text:"Pendente"},critical:{variant:"critical",text:"Crtico"},urgent:{variant:"urgent",text:"Urgente"}},s=a[e]||a.active;return n.jsx(lr,{variant:s.variant,className:ct("font-medium",r),...t,children:s.text})}function yT({priority:e,className:r,...t}){const a={low:{variant:"priority-low",text:"Baixa"},medium:{variant:"priority-medium",text:"Mdia"},high:{variant:"priority-high",text:"Alta"}},s=a[e]||a.low;return n.jsx(lr,{variant:s.variant,className:ct("font-medium",r),...t,children:s.text})}const eN={paciente:{header:{title:"Trathea",subtitle:"Paciente",icon:On},sections:[{label:"Menu Principal",items:[{label:"Perfil",path:"/paciente/perfil",icon:On},{label:"Pronturio",path:"/paciente/prontuario",icon:fn},{label:"Consultas",path:"/paciente/consultas",icon:br},{label:"Exames",path:"/paciente/exames",icon:tA},{label:"Receitas",path:"/paciente/receitas",icon:tA},{label:"Histrico Mdico",path:"/paciente/historico-medico",icon:E1},{label:"Mdicos Vinculados",path:"/paciente/medicos",icon:As}]}]},medico:{header:{title:"Trathea",subtitle:"Mdico",icon:aa},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/medico/dashboard",icon:Lv},{label:"Consultas de Hoje",path:"/medico/consultas/hoje",icon:br},{label:"Meus Pacientes",path:"/medico/meus-pacientes",icon:As},{label:"Solicitaes",path:"/medico/solicitacoes",icon:Iv}]}]},clinica:{header:{title:"",subtitle:"",icon:V0},sections:[{label:"",items:[]}]},secretaria:{header:{title:"Trathea",subtitle:"Secretaria",icon:As},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/secretaria/dashboard",icon:Lv},{label:"Consultas",path:"/secretaria/consultas",icon:br},{label:"Pacientes",path:"/secretaria/pacientes",icon:As},{label:"Mdicos",path:"/secretaria/medicos",icon:aa},{label:"Solicitaes",path:"/secretaria/solicitacoes",icon:Iv}]}]},admin:{header:{title:"Trathea",subtitle:"Admin",icon:$s},sections:[{label:"Painel",items:[{label:"Dashboard",path:"/admin/dashboard",icon:Lv},{label:"Relatrios",path:"/admin/relatorios",icon:K0},{label:"Auditoria",path:"/admin/auditoria",icon:$s}]},{label:"Gerenciar",items:[{label:"Solicitaes",path:"/admin/solicitacoes",icon:Iv},{label:"Usurios",path:"/admin/usuarios",icon:As}]},{label:"Telas",items:[{label:"Paciente",path:"/paciente/perfil",icon:On},{label:"Mdico",path:"/medico/dashboard",icon:aa},{label:"Secretaria",path:"/secretaria/dashboard",icon:As},{label:"Admin",path:"/admin/dashboard",icon:$s}]}]}},bT="modulepreload",jT=function(e){return"/"+e},tN={},Qs=function(r,t,a){let s=Promise.resolve();if(t&&t.length>0){let o=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),A=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=o(t.map(d=>{if(d=jT(d),d in tN)return;tN[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":bT,f||(m.as="script"),m.crossOrigin="",m.href=d,A&&m.setAttribute("nonce",A),document.head.appendChild(m),f)return new Promise((p,v)=>{m.addEventListener("load",p),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return r().catch(i)})},NT="1.0.0",ha={async getPerfil(){var e,r;try{const t="/api/users/",a=Vr.getCurrentUser();if(!(a!=null&&a.id))throw new Error("Usurio no encontrado na sesso. Faa login novamente.");const s=t.endsWith("/")?t:`${t}/`;console.log("[DEBUG] Buscando perfil do usurio via:",`${s}${a.id}/`);const i=await ye.get(`${s}${a.id}/`);return console.log("[DEBUG] Perfil do usurio carregado:",i.data),i.data}catch(t){console.error("[DEBUG] Erro ao buscar perfil do usurio:",(e=t==null?void 0:t.response)==null?void 0:e.status,(r=t==null?void 0:t.response)==null?void 0:r.data);const a=Vr.getCurrentUser();if(a)return console.log("[DEBUG] Usando dados do usurio do storage como fallback:",a),a;throw t}},async atualizarPerfil(e){var r,t;try{const a="/api/users/",s=Vr.getCurrentUser();if(!(s!=null&&s.id))throw new Error("Usurio no encontrado na sesso. Faa login novamente.");const i=a.endsWith("/")?a:`${a}/`,o={...e};o.first_name===void 0&&o.nome&&(o.first_name=String(o.nome).split(" ")[0]||""),o.last_name===void 0&&o.nome&&(o.last_name=String(o.nome).split(" ").slice(1).join(" ")||""),o.telefone===void 0&&o.phone&&(o.telefone=o.phone),o.endereco===void 0&&o.address&&(o.endereco=o.address),delete o.nome,delete o.phone,delete o.address,Object.keys(o).forEach(d=>{o[d]===void 0&&delete o[d]});const l=[`${i}${s.id}/`,`${i}me/`,"/users/me/","/auth/user/","/api/auth/users/me/","/api/users/me/"];let A=null;for(const d of l)try{return(await ye.patch(d,o)).data}catch(f){A=f;continue}throw A||new Error("Falha ao atualizar perfil do usurio.")}catch(a){throw console.error("[DEBUG] Erro ao atualizar perfil do usurio:",(r=a==null?void 0:a.response)==null?void 0:r.status,(t=a==null?void 0:a.response)==null?void 0:t.data),a}},async getConsultas(e={}){var r,t;try{const a="/api/consultas/";console.log("[DEBUG] Endpoint de consultas:",a);const s=await this.getPacienteDoUsuario();console.log("[DEBUG] Paciente encontrado:",s);const i={...e};if(s!=null&&s.id&&!i.paciente&&(i.paciente=s.id),console.log("[DEBUG] Query params:",i),!(s!=null&&s.id)&&Object.keys(i).length===0)return console.log("[DEBUG] Sem paciente e sem filtros, retornando array vazio"),{results:[]};console.log("[DEBUG] Fazendo requisio para:",a,"com params:",i);const o=await ye.get(a,{params:i});return console.log("[DEBUG] Resposta da API recebida:",o.data),o.data}catch(a){return console.warn("[pacienteService] getConsultas falhou:",(r=a==null?void 0:a.response)==null?void 0:r.status,(t=a==null?void 0:a.response)==null?void 0:t.data),console.error("[DEBUG] Erro completo:",a),{results:[]}}},async getExames(e={}){var r;try{const t="/api/exames/",a=await this.getPacienteDoUsuario().catch(()=>null),s={...e};return a!=null&&a.id&&!s.paciente&&(s.paciente=a.id),!(a!=null&&a.id)&&Object.keys(s).length===0?{results:[]}:(await ye.get(t,{params:s})).data}catch(t){return console.warn("[pacienteService] getExames falhou:",(r=t==null?void 0:t.response)==null?void 0:r.status),{results:[]}}},async getProntuario(e={}){var r;try{const t="/prontuarios/",a=await this.getPacienteDoUsuario().catch(()=>null),s={...e};return a!=null&&a.id&&!s.paciente&&(s.paciente=a.id),!(a!=null&&a.id)&&Object.keys(s).length===0?{results:[]}:(await ye.get(t,{params:s})).data}catch(t){return console.warn("[pacienteService] getProntuario falhou:",(r=t==null?void 0:t.response)==null?void 0:r.status),{results:[]}}},async getMedicos(e={}){return(await ye.get("/api/medicos/",{params:e})).data},async getMedicoById(e){const r="/api/medicos/",t=r.endsWith("/")?r:`${r}/`;return(await ye.get(`${t}${e}/`)).data},async agendarConsulta({medico:e,data:r,hora:t,modalidade:a,local:s,observacoes:i,tipo:o,motivo:l}){var N,C;const A="/agendamentos/".replace(/\/?$/,"/"),d="/api/consultas/".replace(/\/?$/,"/"),f=await this.getPacienteDoUsuario(),h=r?`${r}${t?`T${t}:00`:"T00:00:00"}`:void 0,p=(E=>{const U=String(E||"").toLowerCase().trim();return{"primeira consulta":"inicial",primeira:"inicial","consulta inicial":"inicial",inicial:"inicial",retorno:"retorno","follow-up":"retorno",rotina:"rotina",checkup:"rotina"}[U]||U||void 0})(o),v={medico:e,medico_id:e,paciente:f==null?void 0:f.id,data:r,hora:t,data_hora:h,inicio:h,horario:t,modalidade:a,local:s,observacoes:i,tipo:p,motivo:l},g={};Object.entries(v).forEach(([E,U])=>{U!=null&&(typeof U=="string"&&U.trim()===""||(g[E]=U))});const w=[A,d];let y=null;for(const E of w)try{const U=E.endsWith("/")?E:`${E}/`,D=await ye.post(U,{...g,paciente:f==null?void 0:f.id,paciente_id:f==null?void 0:f.id,status:"PENDENTE",situacao:"PENDENTE",state:"PENDENTE"});try{const{secretariaService:k}=await Qs(async()=>{const{secretariaService:L}=await Promise.resolve().then(()=>sm);return{secretariaService:L}},void 0);await k.registrarSolicitacao({medico:g.medico||g.medico_id,paciente:f==null?void 0:f.id,paciente_id:f==null?void 0:f.id,data:g.data,hora:g.hora,modalidade:g.modalidade,tipo:g.tipo,motivo:g.motivo,observacoes:g.observacoes,status:"pendente"})}catch{}return D.data}catch(U){y=U}try{const E=(N=y==null?void 0:y.response)==null?void 0:N.status,U=(C=y==null?void 0:y.response)==null?void 0:C.data,D=U&&(U.tipo||typeof(U==null?void 0:U.detail)=="string"&&U.detail.toLowerCase().includes("tipo"));if(E&&[400,422].includes(E)&&D){for(const k of w)try{const L=k.endsWith("/")?k:`${k}/`,_=await ye.post(L,{...g,tipo:"rotina",paciente:f==null?void 0:f.id,paciente_id:f==null?void 0:f.id,status:"PENDENTE",situacao:"PENDENTE",state:"PENDENTE"});try{const{secretariaService:Y}=await Qs(async()=>{const{secretariaService:I}=await Promise.resolve().then(()=>sm);return{secretariaService:I}},void 0);await Y.registrarSolicitacao({...g,tipo:"rotina",paciente:f==null?void 0:f.id,paciente_id:f==null?void 0:f.id,status:"PENDENTE"})}catch{}return _.data}catch{}for(const k of w)try{const L=k.endsWith("/")?k:`${k}/`,{tipo:_,...Y}=g,I=await ye.post(L,{...Y,paciente:f==null?void 0:f.id,paciente_id:f==null?void 0:f.id,status:"PENDENTE",situacao:"PENDENTE",state:"PENDENTE"});try{const{secretariaService:$}=await Qs(async()=>{const{secretariaService:J}=await Promise.resolve().then(()=>sm);return{secretariaService:J}},void 0);await $.registrarSolicitacao({...Y,paciente:f==null?void 0:f.id,paciente_id:f==null?void 0:f.id,status:"PENDENTE"})}catch{}return I.data}catch{}}throw y}catch(E){throw E}},async getAgendaMedico({medico:e,date:r,apenas_disponiveis:t=!0}){const a="/api/medicos/",s=a.endsWith("/")?a:`${a}/`,i={};r&&(i.date=r),t&&(i.apenas_disponiveis=!0);const o=await ye.get(`${s}${e}/agenda/`,{params:i}),l=(o==null?void 0:o.data)||[];return Array.isArray(l)?l:Array.isArray(l==null?void 0:l.results)?l.results:[]},async getPacienteDoUsuario(){var a,s;const e="/api/pacientes/me/";{const i=e.endsWith("/")?e:`${e}/`;try{return(await ye.get(i)).data}catch(o){if(((a=o==null?void 0:o.response)==null?void 0:a.status)===401)throw o}}const r="/api/pacientes/",t=r.endsWith("/")?r:`${r}/`;try{const i=Vr.getCurrentUser(),o=(i==null?void 0:i.id)||(i==null?void 0:i.user_id);if(o){const l=await ye.get(t,{params:{user:o,user_id:o}}),A=Array.isArray(l==null?void 0:l.data)?l.data:Array.isArray((s=l==null?void 0:l.data)==null?void 0:s.results)?l.data.results:[],d=(A==null?void 0:A[0])||null;if(d)return d}}catch{}try{return(await ye.get(`${t}me/`)).data}catch{}throw new Error("Paciente no encontrado para o usurio atual.")},async atualizarPaciente(e){var s,i;const r="/api/pacientes/",t=r.endsWith("/")?r:`${r}/`,a={};if(e==null||typeof e!="object")throw new Error("Dados invlidos para atualizao do paciente");if("nome"in e&&(a.nome=String(e.nome||"").trim()),"first_name"in e&&(a.first_name=String(e.first_name||"").trim()),"last_name"in e&&(a.last_name=String(e.last_name||"").trim()),"telefone"in e&&(a.telefone=((i=(s=e.telefone)==null?void 0:s.trim)==null?void 0:i.call(s))||""),"data_nascimento"in e&&(a.data_nascimento=e.data_nascimento),"tipo_sanguineo"in e&&(a.tipo_sanguineo=String(e.tipo_sanguineo||"").trim()),"alergias"in e&&(a.alergias=String(e.alergias||"").trim()),"condicoes_cronicas"in e&&(a.condicoes_cronicas=String(e.condicoes_cronicas||"").trim()),"contato_emergencia_nome"in e&&(a.contato_emergencia_nome=String(e.contato_emergencia_nome||"").trim()),"contato_emergencia_telefone"in e&&(a.contato_emergencia_telefone=String(e.contato_emergencia_telefone||"").trim()),"plano_saude"in e&&(a.plano_saude=String(e.plano_saude||"").trim()),"numero_carteirinha"in e&&(a.numero_carteirinha=String(e.numero_carteirinha||"").trim()),"peso"in e){const o=e.peso;a.peso=typeof o=="number"?o:String(o||"").trim()?Number(String(o).replace(",",".")):null}if("altura"in e){const o=e.altura;a.altura=typeof o=="number"?o:String(o||"").trim()?Number(String(o).replace(",",".")):null}Object.keys(a).forEach(o=>{a[o]===void 0&&delete a[o]});try{return(await ye.patch(`${t}me/`,a)).data}catch{const l=await this.getPacienteDoUsuario();if(!(l!=null&&l.id))throw new Error("Paciente no identificado para atualizao.");const A=[`${t}${l.id}/`,`${t}${l.id}/atualizar/`,`${t}${l.id}/update/`];let d=null;for(const f of A)try{return(await ye.patch(f,a)).data}catch(h){d=h;continue}throw d||new Error("Falha ao atualizar dados do paciente.")}},async getReceitas(e={}){var l;const r="/api/receitas/".trim(),t=r.endsWith("/")?r:`${r}/`,{__propagateErrors:a,...s}=e||{},i={...s};let o=null;try{const A=await this.getPacienteDoUsuario().catch(()=>null);if(A!=null&&A.id){o=A.id;const d=A.id;i.paciente=d,i.paciente_id=d,i.consulta__paciente=d}}catch{}try{if(o){const y="/api/pacientes/",N=y.endsWith("/")?y:`${y}/`;try{const C=await ye.get(`${N}${o}/receitas/`),E=C==null?void 0:C.data;let U=Array.isArray(E)?E:Array.isArray(E==null?void 0:E.results)?E.results:[];if(U.length)return{results:U}}catch{}}const A=[t];!t.startsWith("/api/")&&t.startsWith("/")&&A.push(`/api${t}`),A.includes("/receitas/")||A.push("/receitas/");let d=null,f=null;for(const y of A)try{const N=await ye.get(y,{params:i});d=N==null?void 0:N.data;break}catch(N){f=N;continue}if(!d&&f)throw f;let h=Array.isArray(d)?d:Array.isArray(d==null?void 0:d.results)?d.results:[];if(o&&Array.isArray(h)&&h.length){try{console.debug(`[${NT}] Filtrando receitas por paciente`,o)}catch{}h=h.filter(y=>{var E,U,D,k;const N=((E=y==null?void 0:y.paciente)==null?void 0:E.id)||(y==null?void 0:y.paciente),C=((D=(U=y==null?void 0:y.consulta)==null?void 0:U.paciente)==null?void 0:D.id)||((k=y==null?void 0:y.consulta)==null?void 0:k.paciente);return String(N||C||"")===String(o)})}const m="/api/receitaitem/".trim();if(m&&h.length>0){const y=m.endsWith("/")?m:`${m}/`;for(let N of h)try{const C=await ye.get(y,{params:{receita:N.id}}),E=C==null?void 0:C.data,U=Array.isArray(E)?E:Array.isArray(E==null?void 0:E.results)?E.results:[];N.itens=U}catch(C){console.warn(`Erro ao carregar itens da receita ${N.id}:`,C),N.itens=[]}}const p=new Map;[...h].forEach(y=>{if(!y)return;const N=y.id??`${y.created_at}-${y.medicamentos}`;p.has(N)||p.set(N,y)});const v=Array.from(p.values()),g=y=>{if(!y||/^https?:\/\//i.test(y)||/^(data|blob):/i.test(y))return y;const C=((()=>{var U;try{return window.__API_BASE_URL||((U=window.localStorage)==null?void 0:U.getItem("api_url"))||null}catch{return null}})()||"https://tcc-back-ktwy.onrender.com").replace(/\/$/,""),E=y.startsWith("/")?y:`/${y}`;return`${C}${E}`};return{results:v.map(y=>{var C;const N=y.arquivo_assinado||y.arquivoAssinado||((C=y==null?void 0:y.arquivo)==null?void 0:C.url)||(y==null?void 0:y.pdf_url)||(y==null?void 0:y.download_url);return N&&!y.arquivo_assinado?{...y,arquivo_assinado:g(N)}:y.arquivo_assinado?{...y,arquivo_assinado:g(y.arquivo_assinado)}:y})}}catch(A){const d=(l=A==null?void 0:A.response)==null?void 0:l.status;if(a===!0&&d&&![404,405,500].includes(d))throw A;return{results:[]}}},async getMedicosVinculados(){const e="/api/pacientes/",r=e.endsWith("/")?e:`${e}/`,t=await this.getPacienteDoUsuario();if(!(t!=null&&t.id))return[];const a=await ye.get(`${r}${t.id}/medicos/`);return Array.isArray(a.data)?a.data:[]},async solicitarReceita({medico:e,mensagem:r,receita:t}){const a="/api/pacientes/",s=a.endsWith("/")?a:`${a}/`,i=await this.getPacienteDoUsuario();if(!(i!=null&&i.id))throw new Error("Paciente no identificado.");const o={medico:e,...r?{mensagem:r}:{},...t?{receita:t,receita_id:t}:{}};return(await ye.post(`${s}${i.id}/solicitar_receita/`,o)).data},async solicitarRenovacao({medico:e,mensagem:r,receita:t}){var d;const a="/api/pacientes/",s=a.endsWith("/")?a:`${a}/`,i=await this.getPacienteDoUsuario();if(!(i!=null&&i.id))throw new Error("Paciente no identificado.");const o={medico:e,tipo:"renovacao",...r?{mensagem:r}:{},...t?{receita:t,receita_id:t}:{}},l=[`${s}${i.id}/solicitar_renovacao/`,`${s}${i.id}/solicitacoes/renovacao/`,`${s}${i.id}/renovar_receita/`,`${s}${i.id}/solicitacao/receita/renovacao/`];let A;for(const f of l)try{return(await ye.post(f,o)).data}catch(h){A=h;const m=(d=h==null?void 0:h.response)==null?void 0:d.status;if(m&&![404,405].includes(m))break}throw A||new Error("No foi possvel enviar a solicitao de renovao.")},async getDashboard(){var e;try{const r=new Date,t=N=>Array.isArray(N==null?void 0:N.results)?N.results:Array.isArray(N)?N:[],[a,s,i,o]=await Promise.all([this.getConsultas().catch(()=>({results:[]})),this.getExames().catch(()=>({results:[]})),this.getReceitas().catch(()=>({results:[]})),this.getMedicosVinculados().catch(()=>[])]),l=t(a),A=t(s),d=t(i),f=N=>{const C=new Date(N),E=C.getMonth(),U=C.getFullYear();return E===r.getMonth()&&U===r.getFullYear()},h=l.map(N=>{var C,E;return{id:N.id||N.consulta_id,data_hora:N.data_hora||N.horario||N.inicio||N.data||N.start_time||null,status:N.status||"Agendada",tipo:N.tipo||N.modalidade||"Consulta",especialidade:N.especialidade||N.medico_especialidade||null,medico_nome:N.medico_nome||((C=N==null?void 0:N.medico)==null?void 0:C.nome)||((E=N==null?void 0:N.medico)!=null&&E.user?[N.medico.user.first_name,N.medico.user.last_name].filter(Boolean).join(" ").trim():void 0)}}),m=h.filter(N=>N.data_hora&&new Date(N.data_hora)>=r).sort((N,C)=>new Date(N.data_hora)-new Date(C.data_hora)).slice(0,5),p=h.filter(N=>N.data_hora&&f(N.data_hora)).length,v=A.map(N=>({id:N.id,tipo:N.tipo||N.nome||N.categoria||"Exame",status:N.status||N.situacao||"Pendente",data_agendamento:N.data_agendamento||N.agendamento||N.data||null,medico_solicitante:N.medico_solicitante||N.medico||void 0})),g=v.filter(N=>N.data_agendamento&&new Date(N.data_agendamento)>=r).sort((N,C)=>new Date(N.data_agendamento)-new Date(C.data_agendamento)).slice(0,5),w=v.filter(N=>f(N.data_agendamento)&&["realizado","concluido","concludo","finalizado"].includes(String(N.status).toLowerCase())).length,y=t(d).filter(N=>["ativa","valida","vlida"].includes(String(N.status||N.situacao||"").toLowerCase())).length;return{consultasMes:p,consultasProximas:m.length,examesPendentes:v.filter(N=>String(N.status).toLowerCase()==="pendente").length,examesRealizadosMes:w,receitasAtivas:y,medicosVinculados:Array.isArray(o)?o.length:0,proximasConsultas:m,proximosExames:g}}catch(r){return console.warn("[pacienteService] getDashboard fallback falhou:",(e=r==null?void 0:r.response)==null?void 0:e.status),null}},async garantirPacienteDoUsuario(e={}){var s,i;try{const o=await this.getPacienteDoUsuario();if(o!=null&&o.id)return o}catch{}const r="/api/pacientes/",t=r.endsWith("/")?r:`${r}/`,a={...e};Object.keys(a).forEach(o=>{a[o]===void 0&&delete a[o]});try{return(await ye.post(`${t}me/`,a)).data}catch(o){console.debug("[pacienteService] POST /pacientes/me/ falhou:",(s=o==null?void 0:o.response)==null?void 0:s.status)}try{const o=await ye.post(t,a);if(o!=null&&o.data)return o.data}catch(o){console.debug("[pacienteService] POST /pacientes/ falhou:",(i=o==null?void 0:o.response)==null?void 0:i.status)}try{const o=await this.getPacienteDoUsuario();if(o!=null&&o.id)return o}catch{}throw new Error("No foi possvel criar o perfil de paciente para o usurio atual.")}},Ab="/assets/logoTrathea-DJjsJI48.jpg";function Qm({role:e="paciente"}){var _,Y;const r=as(),t=$n(),{user:a,logout:s}=qo(),{logout:i}=lc(),o=(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.tipo)==="admin",l=eN[e]||eN.paciente,[A,d]=b.useState(""),[f,h]=b.useState(3),[m,p]=b.useState(!1),[v,g]=b.useState(null),[w,y]=b.useState(e==="paciente");b.useEffect(()=>{let I=!0;if(e!=="paciente"){g(null),y(!1);return}return(async()=>{try{const $=await ha.getPacienteDoUsuario();I&&g($||null)}catch{I&&g(null)}finally{I&&y(!1)}})(),()=>{I=!1}},[e]);const N=[{title:"Paciente",path:"/paciente/perfil",icon:On},{title:"Mdico",path:"/medico/dashboard",icon:aa},{title:"Secretaria",path:"/secretaria/dashboard",icon:lI},{title:"Admin",path:"/admin/dashboard",icon:$s}],C=async()=>{try{await s(),await i(),t("/login")}catch(I){console.error("Erro ao fazer logout:",I)}},E=b.useMemo(()=>w?"Carregando...":e==="paciente"&&v?v.nome||"Paciente":(a==null?void 0:a.nome)||(a==null?void 0:a.name)||"Usurio",[a,v,w,e]),U=b.useMemo(()=>w?"...":e==="paciente"&&v?v.cpf?`CPF: ${v.cpf}`:"Paciente":(a==null?void 0:a.email)||l.header.subtitle,[a,v,w,e,l]),D=b.useMemo(()=>e==="paciente"&&(v!=null&&v.foto)?v.foto:(a==null?void 0:a.avatar)||(a==null?void 0:a.foto)||null,[a,v,e]),k=l.header.icon,L=Ab;return n.jsxs(v4,{className:"medical-sidebar group border-r border-medical-border/20 bg-gradient-to-b from-medical-background to-medical-background/95 backdrop-blur-xl",children:[n.jsxs(b4,{className:"border-b border-medical-border/10 bg-gradient-to-r from-medical-primary/5 to-medical-secondary/5 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl overflow-hidden shadow-lg",children:n.jsx("img",{src:L,alt:"Trathea",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("h1",{className:"text-lg font-bold text-medical-primary bg-gradient-to-r from-medical-primary to-medical-secondary bg-clip-text text-transparent",children:l.header.title}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(k,{className:"size-3 text-medical-secondary"}),n.jsx("span",{className:"text-xs font-medium text-medical-secondary uppercase tracking-wider",children:l.header.subtitle})]})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(js,{className:ct("absolute left-3 top-1/2 -translate-y-1/2 size-4 transition-colors duration-200",m?"text-medical-primary":"text-muted-foreground")}),n.jsx(Oe,{placeholder:"Buscar pacientes, exames...",value:A,onChange:I=>d(I.target.value),onFocus:()=>p(!0),onBlur:()=>p(!1),className:ct("pl-10 pr-4 h-10 bg-medical-background/50 border-medical-border/30","focus:border-medical-primary/50 focus:ring-medical-primary/20","placeholder:text-muted-foreground/70")})]}),n.jsx("div",{className:"flex items-center justify-end mt-4",children:n.jsxs(we,{size:"sm",variant:"ghost",className:"relative h-8 w-8 p-0 hover:bg-medical-primary/10",children:[n.jsx(lm,{className:"size-4"}),f>0&&n.jsx("span",{className:"absolute -top-1 -right-1 size-4 bg-medical-red text-white text-xs rounded-full flex items-center justify-center animate-pulse",children:f})]})})]}),n.jsxs(N4,{className:"px-3 py-4 space-y-6",children:[e==="paciente"&&v&&n.jsxs("div",{className:"px-3 py-4 rounded-xl bg-gradient-to-r from-medical-primary/5 to-medical-secondary/5 border border-medical-border/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-medical-primary",children:"Status do Paciente"}),n.jsx(K_,{status:"active",size:"sm"})]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["ltima consulta: ",new Date().toLocaleDateString()]})]}),l.sections.map((I,$)=>n.jsxs(my,{className:"space-y-3",children:[I.label&&n.jsxs(py,{className:"text-medical-secondary/80 text-xs font-semibold uppercase tracking-wider flex items-center gap-2 px-3",children:[n.jsx(Bi,{className:"size-3"}),I.label]}),n.jsx(gy,{children:n.jsx(xy,{className:"space-y-1",children:(I.items||[]).map((J,M)=>{const re=J.icon,K=r.pathname===J.path;return n.jsx(vy,{children:n.jsx(wy,{asChild:!0,isActive:K,className:ct("group relative h-11 px-3 rounded-xl transition-all duration-200","hover:bg-medical-primary/10 hover:shadow-sm",K&&["bg-gradient-to-r from-medical-primary/15 to-medical-secondary/10","border-l-4 border-medical-primary shadow-sm","text-medical-primary font-medium"]),children:n.jsxs(pr,{to:J.path,className:"flex items-center gap-3 w-full",children:[re&&n.jsx("div",{className:ct("flex items-center justify-center size-8 rounded-lg transition-all duration-200",K?"bg-medical-primary/20 text-medical-primary":"bg-medical-background/50 text-muted-foreground group-hover:bg-medical-primary/10 group-hover:text-medical-primary"),children:n.jsx(re,{className:"size-4"})}),n.jsx("span",{className:"font-medium flex-1",children:J.label}),J.badge&&n.jsx(lr,{variant:"medical-secondary",size:"sm",className:"ml-auto animate-pulse",children:J.badge})]})})},`${J.label}-${M}`)})})})]},`${I.label}-${$}`)),o&&e!=="admin"&&n.jsxs(my,{className:"space-y-3",children:[n.jsxs(py,{className:"text-amber-600/80 text-xs font-semibold uppercase tracking-wider flex items-center gap-2 px-3",children:[n.jsx($s,{className:"size-3"}),"Acesso Administrativo"]}),n.jsx(gy,{children:n.jsx(xy,{className:"space-y-1",children:N.map((I,$)=>{const J=I.icon,M=r.pathname===I.path;return n.jsx(vy,{children:n.jsx(wy,{asChild:!0,isActive:M,className:ct("group relative h-11 px-3 rounded-xl transition-all duration-200","hover:bg-amber-500/10 hover:shadow-sm",M&&["bg-gradient-to-r from-amber-500/15 to-orange-500/10","border-l-4 border-amber-500 shadow-sm","text-amber-600 font-medium"]),children:n.jsxs(pr,{to:I.path,className:"flex items-center gap-3 w-full",children:[J&&n.jsx("div",{className:ct("flex items-center justify-center size-8 rounded-lg transition-all duration-200",M?"bg-amber-500/20 text-amber-600":"bg-amber-50 text-amber-600/70 group-hover:bg-amber-500/10 group-hover:text-amber-600"),children:n.jsx(J,{className:"size-4"})}),n.jsx("span",{className:"font-medium flex-1",children:I.title}),n.jsx(lr,{variant:"warning",size:"sm",className:"ml-auto",children:"Admin"})]})})},`admin-${I.title}-${$}`)})})})]})]}),n.jsxs(j4,{className:"border-t border-medical-border/20 bg-gradient-to-r from-medical-background/80 to-medical-background/60 backdrop-blur-xl p-4",children:[n.jsxs(C_,{children:[n.jsx(S_,{asChild:!0,children:n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-medical-background/50 to-medical-background/30 hover:from-medical-primary/5 hover:to-medical-secondary/5 transition-all duration-300 cursor-pointer group hover:shadow-lg border border-medical-border/10 hover:border-medical-primary/20",children:[n.jsxs(Lm,{className:"size-10 ring-2 ring-medical-border/20 group-hover:ring-medical-primary/30 transition-all duration-300",children:[n.jsx(fx,{src:D}),n.jsx(Im,{className:"bg-gradient-to-br from-medical-primary via-medical-secondary to-medical-accent text-white font-semibold",children:(Y=(_=E||"U")==null?void 0:_.charAt(0))==null?void 0:Y.toUpperCase()})]}),n.jsxs("div",{className:"flex flex-col gap-0.5 leading-tight flex-1 min-w-0",children:[n.jsx("span",{className:"text-sm font-semibold text-medical-primary truncate group-hover:text-medical-primary/80 transition-colors",children:E}),n.jsx("span",{className:"text-xs text-muted-foreground truncate group-hover:text-medical-secondary transition-colors",children:U})]}),n.jsx(_1,{className:"size-4 text-muted-foreground group-hover:text-medical-primary transition-all duration-300 group-hover:rotate-180"})]})}),n.jsxs(ob,{align:"end",className:"w-64 bg-medical-background/95 backdrop-blur-xl border-medical-border/20",children:[n.jsx(__,{className:"text-medical-primary font-semibold",children:"Minha Conta"}),n.jsx(jy,{className:"bg-medical-border/20"}),n.jsxs(Jc,{onClick:()=>{const I=(a==null?void 0:a.role)||(a==null?void 0:a.tipo);t(I==="admin"?"/admin/dashboard":I==="medico"?"/medico/dashboard":I==="clinica"?"/clinica/dashboard":"/paciente/perfil")},className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[n.jsx(On,{className:"size-4 mr-2 text-medical-primary"}),"Perfil"]}),n.jsxs(Jc,{onClick:()=>t(`/${e}/configuracoes`),className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[n.jsx(cm,{className:"size-4 mr-2 text-medical-primary"}),"Configuraes"]}),n.jsxs(Jc,{onClick:()=>window.alert("Em breve"),className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[n.jsx(Z5,{className:"size-4 mr-2 text-medical-primary"}),"Tema"]}),n.jsxs(Jc,{onClick:()=>window.alert("Em breve"),className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[n.jsx(V6,{className:"size-4 mr-2 text-medical-primary"}),"Ajuda"]}),n.jsx(jy,{className:"bg-medical-border/20"}),n.jsxs(Jc,{onClick:C,className:"text-medical-red hover:bg-medical-red/10 focus:bg-medical-red/10",children:[n.jsx(Y6,{className:"size-4 mr-2"}),"Sair"]})]})]}),n.jsx(hs,{className:"bg-medical-border/20"}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground px-3 py-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"size-2 bg-medical-green rounded-full animate-pulse"}),n.jsx("span",{children:"Sistema Online"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($r,{className:"size-3"}),n.jsx("span",{children:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]})]})]})}function BT(){const e=as(),r=$n(),[t,a]=b.useState(null),[s,i]=b.useState(!0),o=b.useRef(!1),l=async()=>{try{const h=await ha.getPerfil();a(h)}catch{}finally{i(!1)}};b.useEffect(()=>{let h=!0;return(async()=>h&&(i(!0),await l()))(),()=>{h=!1}},[]);const A=!!t&&(!(t!=null&&t.data_nascimento)||!(t!=null&&t.endereco)||!(t!=null&&t.telefone));b.useEffect(()=>((async()=>e.pathname!=="/paciente/perfil"&&(o.current=!0,i(!0),await l(),o.current=!1))(),()=>{}),[e.pathname]),b.useEffect(()=>{o.current||!s&&A&&e.pathname!=="/paciente/perfil"&&r("/paciente/perfil",{replace:!0})},[s,A,e.pathname,r]);const d=b.useMemo(()=>{const h=e.pathname,m={"/paciente/perfil":"Perfil","/paciente/prontuario":"Pronturio","/paciente/consultas":"Consultas","/paciente/exames":"Exames","/paciente/receitas":"Receitas","/paciente/historico-medico":"Histrico Mdico","/paciente/medicos":"Mdicos Vinculados","/paciente/configuracoes":"Configuraes"},p=m[h]||Object.keys(m).find(v=>h.startsWith(v))&&m[Object.keys(m).find(v=>h.startsWith(v))]||"Perfil";return[{label:"rea do Paciente",href:"/paciente/perfil"},{label:p}]},[e.pathname]),f=()=>n.jsx(Qm,{role:"paciente"});return n.jsx(Pm,{sidebar:f,breadcrumbs:d,children:n.jsx(jm,{})})}function CT(){const e=()=>n.jsx(Qm,{role:"medico"});return n.jsx(Pm,{sidebar:e,children:n.jsx(jm,{})})}function V_({breadcrumbs:e}){const r=()=>n.jsx(Qm,{role:"clinica"});return n.jsx(Pm,{sidebar:r,breadcrumbs:e,children:n.jsx(jm,{})})}function ST(){const e=()=>n.jsx(Qm,{role:"admin"});return n.jsx(Pm,{sidebar:e,children:n.jsx(jm,{})})}var _T="Label",z_=b.forwardRef((e,r)=>n.jsx(Er.label,{...e,ref:r,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));z_.displayName=_T;var ET=z_;const FT=$0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fe=b.forwardRef(({className:e,...r},t)=>n.jsx(ET,{ref:t,className:ct(FT(),e),...r}));Fe.displayName="Label";const De=b.forwardRef(({className:e,variant:r="default",...t},a)=>{const s={default:"card-medical",elevated:"card-elevated",medical:"card-medical",priority:"card-medical"};return n.jsx("div",{ref:a,className:ct("animate-fade-in",s[r],e),...t})});De.displayName="Card";const Ve=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:ct("flex flex-col space-y-2 p-6 pb-4",e),...r}));Ve.displayName="CardHeader";const Xe=b.forwardRef(({className:e,level:r="h3",...t},a)=>{const s=r;return n.jsx(s,{ref:a,className:ct("text-xl font-semibold leading-tight tracking-tight text-heading-foreground","flex items-center gap-2",e),...t})});Xe.displayName="CardTitle";const vr=b.forwardRef(({className:e,...r},t)=>n.jsx("p",{ref:t,className:ct("text-sm text-muted-foreground leading-relaxed",e),...r}));vr.displayName="CardDescription";const Le=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:ct("p-6 pt-0 space-y-4",e),...r}));Le.displayName="CardContent";const kT=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:ct("flex items-center justify-between p-6 pt-0 border-t border-border/50 mt-4",e),...r}));kT.displayName="CardFooter";const DT=b.forwardRef(({className:e,status:r="normal",children:t,...a},s)=>{const i={normal:"status-normal",attention:"status-attention",critical:"status-critical",urgent:"status-urgent"};return n.jsx("div",{ref:s,className:ct("status-badge",i[r],e),...a,children:t})});DT.displayName="CardStatus";const UT=b.forwardRef(({className:e,priority:r="low",children:t,...a},s)=>{const i={low:"card-priority-low",medium:"card-priority-medium",high:"card-priority-high"};return n.jsx("div",{ref:s,className:ct("card-medical",i[r],e),...a,children:t})});UT.displayName="CardPriority";const LT=5;let Gv=0;function IT(){return Gv=(Gv+1)%Number.MAX_SAFE_INTEGER,Gv.toString()}const td={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},Sg=[];let _g={toasts:[]};function Eg(e){_g=PT(_g,e),Sg.forEach(r=>{r(_g)})}function PT(e,r){switch(r.type){case td.ADD_TOAST:return{...e,toasts:[r.toast,...e.toasts].slice(0,LT)};case td.UPDATE_TOAST:return{...e,toasts:e.toasts.map(t=>t.id===r.toast.id?{...t,...r.toast}:t)};case td.DISMISS_TOAST:return{...e,toasts:e.toasts.map(t=>t.id===r.toastId||r.toastId===void 0?{...t,open:!1}:t)};case td.REMOVE_TOAST:return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(t=>t.id!==r.toastId)}}}function QT({...e}){const r=IT(),t=s=>Eg({type:td.UPDATE_TOAST,toast:{...s,id:r}}),a=()=>Eg({type:td.DISMISS_TOAST,toastId:r});return Eg({type:td.ADD_TOAST,toast:{...e,id:r,open:!0,onOpenChange:s=>{s||a()}}}),{id:r,dismiss:a,update:t}}function Ka(){const[e,r]=b.useState(_g);return b.useEffect(()=>(Sg.push(r),()=>{const t=Sg.indexOf(r);t>-1&&Sg.splice(t,1)}),[e]),{...e,toast:QT,dismiss:t=>Eg({type:td.DISMISS_TOAST,toastId:t})}}const hx={EMAIL:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,PASSWORD:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,NAME:/^[a-zA-Z-\s]{2,50}$/};function hd(e){return typeof e!="string"?e:e.replace(/<\/?(?:script|iframe|object|embed|form|input|button|link|meta|style|base|applet)[^>]*>/gi,"").replace(/\s*on\w+\s*=\s*["'][^"']*["']/gi,"").replace(/javascript:|vbscript:|data:/gi,"").replace(/[\x00-\x1F\x7F]/g,"").slice(0,1e4)}function i0(e){if(!e||typeof e!="string")return{isValid:!1,error:"Email  obrigatrio"};const r=hd(e.trim().toLowerCase());return hx.EMAIL.test(r)?r.length>254?{isValid:!1,error:"Email muito longo"}:{isValid:!0,value:r}:{isValid:!1,error:"Email invlido"}}function o0(e){if(!e||typeof e!="string")return{isValid:!1,error:"CPF  obrigatrio"};const r=hd(e.replace(/\D/g,""));if(r.length!==11)return{isValid:!1,error:"CPF deve ter 11 dgitos"};if(/^(\d)\1{10}$/.test(r))return{isValid:!1,error:"CPF invlido"};let t=0;for(let s=0;s<9;s++)t+=parseInt(r.charAt(s))*(10-s);let a=t*10%11;if((a===10||a===11)&&(a=0),a!==parseInt(r.charAt(9)))return{isValid:!1,error:"CPF invlido"};t=0;for(let s=0;s<10;s++)t+=parseInt(r.charAt(s))*(11-s);return a=t*10%11,(a===10||a===11)&&(a=0),a!==parseInt(r.charAt(10))?{isValid:!1,error:"CPF invlido"}:{isValid:!0,value:r}}function q_(e){return!e||typeof e!="string"?{isValid:!1,error:"Senha  obrigatria"}:e.length<8?{isValid:!1,error:"Senha deve ter pelo menos 8 caracteres"}:e.length>128?{isValid:!1,error:"Senha muito longa"}:hx.PASSWORD.test(e)?{isValid:!0,value:e}:{isValid:!1,error:"Senha deve conter pelo menos: 1 letra minscula, 1 maiscula, 1 nmero e 1 caractere especial"}}function W_(e){return!e||typeof e!="string"?{isValid:!1,error:"Senha  obrigatria"}:e.length<1?{isValid:!1,error:"Senha  obrigatria"}:e.length>128?{isValid:!1,error:"Senha muito longa"}:{isValid:!0,value:e}}function G_(e){if(!e||typeof e!="string")return{isValid:!1,error:"Nome  obrigatrio"};const r=hd(e.trim());return r.length<2?{isValid:!1,error:"Nome deve ter pelo menos 2 caracteres"}:r.length>100?{isValid:!1,error:"Nome muito longo"}:hx.NAME.test(r)?{isValid:!0,value:r}:{isValid:!1,error:"Nome contm caracteres invlidos"}}function Y_(e,r=1e3){if(!e||typeof e!="string")return{isValid:!1,error:"Texto  obrigatrio"};const t=hd(e.trim());return t.length===0?{isValid:!1,error:"Texto no pode estar vazio"}:t.length>r?{isValid:!1,error:`Texto deve ter no mximo ${r} caracteres`}:{isValid:!0,value:t}}function X_(e){const r=String(e||"").trim(),t=r.toLowerCase(),a=["bom dia","boa tarde","boa noite","o que te traz aqui","tudo bem","ola doutor","ol doutor","oi"];for(const s of a)if(t.includes(s)&&r.length<100){let i=r.replace(/^[\-\*\s]+/,"");return i=i.replace(new RegExp(s,"i"),"").replace(/\?+/g,"").trim(),i.length<5?"":i}if(t.startsWith("bom dia")){let s=r.replace(/^[\-\*\s]+/,"");return s=s.slice(7).replace(/tudo bem\??/i,"").trim(),s.replace(/^[,\.\s]+/,"")}return r}const RT=Object.freeze(Object.defineProperty({__proto__:null,VALIDATION_PATTERNS:hx,cleanGreeting:X_,sanitizeString:hd,validateCPF:o0,validateEmail:i0,validateLoginPassword:W_,validateName:G_,validatePassword:q_,validateText:Y_},Symbol.toStringTag,{value:"Module"}));function MT(){const[e,r]=b.useState({email:"",password:""}),[t,a]=b.useState(!1),[s,i]=b.useState(!1),[o,l]=b.useState({}),{login:A,loginWithGoogle:d,isAuthenticated:f,user:h,loading:m}=qo(),{toast:p}=Ka(),v=$n(),g=(()=>{const _=(h==null?void 0:h.role)||(h==null?void 0:h.tipo);return _==="admin"?"/admin/dashboard":_==="medico"?"/medico/dashboard":_==="clinica"?"/clinica/dashboard":"/paciente/perfil"})();if(m)return null;if(f)return n.jsx(Ea,{to:g,replace:!0});const w=()=>{const _={},Y=i0(e.email),I=o0(e.email);!Y.isValid&&!I.isValid&&(_.email="Informe um e-mail vlido ou CPF vlido");const $=W_(e.password);return $.isValid||(_.password=$.error),l(_),Object.keys(_).length===0},y=async _=>{var Y,I,$,J,M,re,K,G,z,Z,Ae;if(_.preventDefault(),!w()){p({title:"Dados invlidos",description:"Por favor, corrija os erros no formulrio",variant:"destructive"});return}a(!0);try{const ee=i0(e.email),R=o0(e.email),q=ee.isValid?ee.value:R.isValid?R.value:e.email,te=await A({email:q,username:q,password:e.password});switch(p({title:"Login realizado com sucesso!",description:`Bem-vindo, ${((Y=te.user)==null?void 0:Y.first_name)||((I=te.user)==null?void 0:I.username)||(($=te.user)==null?void 0:$.email)||"usurio"}!`}),((J=te.user)==null?void 0:J.role)||((M=te.user)==null?void 0:M.tipo)){case"medico":v("/medico/dashboard");break;case"paciente":v("/paciente/perfil");break;case"clinica":v("/clinica/dashboard");break;case"admin":v("/admin/dashboard");break;default:v("/")}}catch(ee){const R=((K=(re=ee.response)==null?void 0:re.data)==null?void 0:K.error)||((z=(G=ee.response)==null?void 0:G.data)==null?void 0:z.detail)||((Ae=(Z=ee.response)==null?void 0:Z.data)==null?void 0:Ae.message);p({title:"Erro no login",description:R||"Credenciais invlidas",variant:"destructive"})}finally{a(!1)}},N=_=>{const{name:Y,value:I}=_.target;r($=>({...$,[Y]:I})),o[Y]&&l($=>{const J={...$};return delete J[Y],J})},[C,E]=b.useState(!1),U=b.useRef(null),{setTheme:D,theme:k}=C4(),L=b.useRef(null);return b.useEffect(()=>(L.current=k,D("light"),()=>{L.current&&D(L.current)}),[k,D]),b.useEffect(()=>{if(window.google&&U.current)try{window.google.accounts.id.initialize({client_id:"SEU_CLIENT_ID_REAL.apps.googleusercontent.com",callback:async _=>{var I,$,J,M,re,K,G,z;const Y=_==null?void 0:_.credential;if(Y){E(!0);try{const Z=await d(Y);switch(p({title:"Login com Google realizado!",description:`Bem-vindo, ${((I=Z.user)==null?void 0:I.nome)||(($=Z.user)==null?void 0:$.first_name)||((J=Z.user)==null?void 0:J.username)||((M=Z.user)==null?void 0:M.email)||"usurio"}!`}),((re=Z.user)==null?void 0:re.role)||((K=Z.user)==null?void 0:K.tipo)){case"medico":v("/medico/dashboard");break;case"paciente":v("/paciente/perfil");break;case"clinica":v("/clinica/dashboard");break;case"admin":v("/admin/dashboard");break;default:v("/")}}catch(Z){p({title:"Erro no login com Google",description:((z=(G=Z.response)==null?void 0:G.data)==null?void 0:z.message)||"No foi possvel autenticar",variant:"destructive"})}finally{E(!1)}}}}),window.google.accounts.id.renderButton(U.current,{theme:"outline",size:"large",shape:"pill",text:"continue_with",width:320})}catch{}},[d,v,p]),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 flex items-center justify-center p-4 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-600/20 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-indigo-400/20 to-blue-600/20 rounded-full blur-3xl"})]}),n.jsxs(De,{className:"w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 relative z-10",children:[n.jsxs(Ve,{className:"space-y-1 text-center pb-8",children:[n.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl overflow-hidden mb-6 shadow-lg",children:n.jsx("img",{src:Ab,alt:"Trathea",className:"w-full h-full object-cover"})}),n.jsx(Xe,{className:"text-3xl font-bold text-medical-primary mx-auto text-center",children:"Trathea"}),n.jsx(vr,{className:"text-slate-600 text-base",children:"Acesse sua conta para continuar"})]}),n.jsxs(Le,{className:"space-y-6 px-8 pb-8",children:[n.jsxs("form",{onSubmit:y,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Fe,{htmlFor:"email",className:"text-slate-700 font-medium flex items-center gap-2",children:[n.jsx(wl,{className:"w-4 h-4"}),"E-mail ou CPF"]}),n.jsx(Oe,{id:"email",name:"email",type:"text",placeholder:"seu@email.com ou 52959459873",value:e.email,onChange:N,required:!0,className:`h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200 ${o.email?"border-red-500 focus:border-red-500":""}`}),o.email&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:o.email})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Fe,{htmlFor:"password",className:"text-slate-700 font-medium flex items-center gap-2",children:[n.jsx(F1,{className:"w-4 h-4"}),"Senha"]}),n.jsxs("div",{className:"relative",children:[n.jsx(Oe,{id:"password",name:"password",type:s?"text":"password",placeholder:"",value:e.password,onChange:N,required:!0,className:`h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200 pr-12 ${o.password?"border-red-500 focus:border-red-500":""}`}),n.jsx(we,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-12 px-3 hover:bg-transparent",onClick:()=>i(!s),children:s?n.jsx(H6,{className:"h-4 w-4 text-slate-400"}):n.jsx(Ci,{className:"h-4 w-4 text-slate-400"})})]}),o.password&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:o.password})]}),n.jsx(we,{type:"submit",className:"w-full h-12 btn-medical-primary font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",disabled:t,children:t?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Entrando..."]}):"Entrar"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"}),n.jsx("span",{className:"text-sm text-slate-500 font-medium bg-white px-2",children:"ou"}),n.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{ref:U,className:"w-full flex justify-center"})}),!window.google&&n.jsx(we,{type:"button",variant:"outline",className:"w-full h-12 border-slate-200 hover:bg-slate-50 bg-white/80 backdrop-blur-sm transition-all duration-200",disabled:!0,children:C?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-slate-400/30 border-t-slate-400 rounded-full animate-spin"}),"Conectando..."]}):"Continuar com Google"}),n.jsxs("div",{className:"text-center space-y-3 pt-4",children:[n.jsx(pr,{to:"/esqueci-senha",className:"text-sm text-blue-600 hover:text-blue-700 hover:underline font-medium transition-colors duration-200",children:"Esqueceu sua senha?"}),n.jsxs("div",{className:"text-sm text-slate-600",children:["No tem uma conta?"," ",n.jsx(pr,{to:"/registrar",className:"text-blue-600 hover:text-blue-700 hover:underline font-medium transition-colors duration-200",children:"Cadastre-se"})]})]}),n.jsx("div",{className:"mt-6 flex justify-center",children:n.jsx(we,{type:"button",variant:"outline",className:"rounded-xl",onClick:()=>{h!=null&&h.role||(h==null||h.tipo),v(f?"/inicio":"/")},children:"Voltar ao incio"})})]})]})]})}function TT(){const e=$n(),{toast:r}=Ka(),[t,a]=b.useState(!1),[s,i]=b.useState("paciente"),[o,l]=b.useState({}),[A,d]=b.useState(!1),[f,h]=b.useState(!1),[m,p]=b.useState({nome:"",email:"",senha:"",confirmSenha:"",cpf:"",nomeClinica:"",cnpj:""}),v=K=>{const G=K.replace(/\D/g,"").slice(0,11),z=G.slice(0,3),Z=G.slice(3,6),Ae=G.slice(6,9),ee=G.slice(9,11);return G.length>9?`${z}.${Z}.${Ae}-${ee}`:G.length>6?`${z}.${Z}.${Ae}`:G.length>3?`${z}.${Z}`:z},g=K=>{const G=String(K||"").replace(/\D/g,"").slice(0,14),z=G.slice(0,2),Z=G.slice(2,5),Ae=G.slice(5,8),ee=G.slice(8,12),R=G.slice(12,14);return G.length>12?`${z}.${Z}.${Ae}/${ee}-${R}`:G.length>8?`${z}.${Z}.${Ae}/${ee}`:G.length>5?`${z}.${Z}.${Ae}`:G.length>2?`${z}.${Z}`:z},w=K=>String(K||"").replace(/\D/g,"").slice(0,7),y=K=>{const{name:G,value:z}=K.target;if(o[G]&&l(Z=>({...Z,[G]:void 0})),G==="cpf"){p({...m,cpf:v(z)});return}if(G==="cnpj"){p({...m,cnpj:g(z)});return}p({...m,[G]:z})},N=K=>String(K||"").trim().replace(/\s+/g," ").split(" ").filter(Boolean).map(G=>G.charAt(0).toUpperCase()+G.slice(1).toLowerCase()).join(" "),[C,E]=b.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),U=b.useRef(null),D=b.useRef(null),k=b.useRef(null),L=K=>{const{name:G,value:z}=K.target;o[G]&&l(Z=>({...Z,[G]:void 0})),E(G==="crm"?Z=>({...Z,crm:w(z)}):Z=>({...Z,[G]:z}))},_=(K,G)=>{o[K]&&l(z=>({...z,[K]:void 0})),E(z=>({...z,documentos:{...z.documentos,[K]:G}}))},Y=(K,G)=>{E(z=>({...z,documentos:{...z.documentos,[K]:null}})),G!=null&&G.current&&(G.current.value="")},I=K=>{if(!K&&K!==0)return"";const G=["Bytes","KB","MB","GB"];if(K===0)return"0 Byte";const z=Math.floor(Math.log(K)/Math.log(1024));return`${(K/Math.pow(1024,z)).toFixed(1)} ${G[z]}`},$=({label:K,required:G=!1,icon:z="",accept:Z=".pdf,image/*",file:Ae,onFile:ee,onRemove:R,inputRef:q})=>{const[te,F]=b.useState(!1),X=H=>{var ae;H.preventDefault(),F(!1);const V=(ae=H.dataTransfer.files)==null?void 0:ae[0];V&&ee(V)};return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-base",children:z}),n.jsxs("label",{className:"text-sm font-medium text-slate-700",children:[K," ",G?n.jsx("span",{className:"text-rose-600",children:"*"}):n.jsx("span",{className:"text-slate-400",children:"(opcional)"})]})]}),n.jsx("input",{ref:q,type:"file",accept:Z,className:"hidden",onChange:H=>{var V;return ee(((V=H.target.files)==null?void 0:V[0])||null)}}),n.jsxs("div",{onDragOver:H=>{H.preventDefault(),F(!0)},onDragLeave:()=>F(!1),onDrop:X,className:`rounded-lg border-2 p-3 flex items-center justify-between gap-3 transition
            ${te?"border-sky-400 bg-sky-50":"border-dashed border-slate-300 bg-white"}`,children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx("div",{className:"h-10 w-10 rounded-md bg-slate-100 flex items-center justify-center text-lg",children:z}),Ae?n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:Ae.name}),n.jsxs("p",{className:"text-xs text-slate-500",children:[Ae.type||"Arquivo","  ",I(Ae.size)]})]}):n.jsxs("div",{className:"text-sm text-slate-600",children:["Arraste e solte aqui ou"," ",n.jsx("button",{type:"button",onClick:()=>{var H;return(H=q==null?void 0:q.current)==null?void 0:H.click()},className:"underline text-sky-700 hover:text-sky-800",children:"procurar"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[!Ae&&n.jsx("button",{type:"button",onClick:()=>{var H;return(H=q==null?void 0:q.current)==null?void 0:H.click()},className:"px-3 py-2 rounded-md bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800",children:"Escolher arquivo"}),Ae&&n.jsx("button",{type:"button",onClick:R,className:"px-3 py-2 rounded-md bg-rose-50 text-rose-700 text-xs font-semibold hover:bg-rose-100",children:"Remover"})]})]})]})};m.email.length===0||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email);const J=()=>{const K={},G=G_(m.nome);G.isValid||(K.nome=G.error);const z=i0(m.email);z.isValid||(K.email=z.error);const Z=q_(m.senha);Z.isValid||(K.senha=Z.error),m.senha!==m.confirmSenha&&(K.confirmSenha="As senhas no conferem");const Ae=o0(m.cpf);return Ae.isValid||(K.cpf=Ae.error),s==="clinica"&&(m.nomeClinica.trim()||(K.nomeClinica="Nome da clnica  obrigatrio"),m.cnpj.trim()||(K.cnpj="CNPJ  obrigatrio")),s==="medico"&&(C.crm.trim()||(K.crm="CRM  obrigatrio"),C.especialidade.trim()||(K.especialidade="Especialidade  obrigatria"),C.documentos.diplomaMedicina||(K.diplomaMedicina="Diploma de Medicina  obrigatrio")),K},M=m.confirmSenha.length===0||m.senha.length>0&&m.senha===m.confirmSenha,re=async K=>{var z,Z,Ae,ee,R,q,te,F,X,H;K.preventDefault();const G=J();if(l(G),Object.keys(G).length>0){r({title:"Erro de validao",description:"Por favor, corrija os erros no formulrio.",variant:"destructive"});return}a(!0);try{const V=String(m.nome||"").trim().replace(/\s+/g," "),ae=N(V),[fe,...ve]=ae.split(" "),Be=ve.join(" "),ke={username:m.nome.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").replace(/[^a-z0-9@.+_-]/g,""),first_name:fe||"",last_name:Be||"",email:m.email,password:m.senha,password_confirm:m.confirmSenha,role:s==="medico"?"paciente":s,desired_role:s,cpf:m.cpf||""};s==="clinica"&&(ke.nome_clinica=m.nomeClinica,ke.cnpj=m.cnpj);const xe=await Vr.register(ke,{medicoData:s==="medico"?C:void 0});if(s==="medico"){const ie=xe==null?void 0:xe.medicoApplication;ie!=null&&ie.success?r({title:"Solicitao enviada!",description:"Seus dados de mdico foram enviados para anlise."}):ie&&ie.success===!1&&(console.error("[RegisterForm] criarSolicitacaoMedico via authService falhou:",ie.error),r({title:"Solicitao pendente",description:"Sua conta foi criada, mas no foi possvel enviar a solicitao de mdico agora. Voc poder concluir depois."}))}r({title:"Registro realizado com sucesso!",description:"Sua conta foi criada. Voc pode fazer login agora."}),e("/login")}catch(V){console.error("Erro no registro:",V),console.error("Status do erro:",(z=V.response)==null?void 0:z.status),console.error("Detalhes do erro:",(Z=V.response)==null?void 0:Z.data),console.error("Headers da resposta:",(Ae=V.response)==null?void 0:Ae.headers);let ae="Erro interno do servidor. Tente novamente.",fe=!1,ve=!1,Be=!1;try{const ke=(ee=V.response)==null?void 0:ee.status,xe=((R=V.response)==null?void 0:R.headers)||{},ie=xe["content-type"]||xe["Content-Type"]||"",lt=(q=V.response)==null?void 0:q.data,at=((typeof lt=="string"?lt:"")||"").toLowerCase(),Ee=At=>{At==="crm"?ae="CRM j cadastrado no sistema. Utilize outro nmero de CRM.":At==="email"?ae="E-mail j cadastrado no sistema.":At==="cpf"?ae="CPF j cadastrado no sistema.":ae="Algum campo nico j est cadastrado (ex.: CRM, e-mail ou CPF)."};ke===409&&(Ee("unknown"),ve=!0),fe=String(ie).includes("text/html"),(fe||at.includes("unique constraint")||at.includes("integrityerror"))&&(at.includes("crm")?(Ee("crm"),ve=!0,Be=!0):at.includes("email")?(Ee("email"),ve=!0):at.includes("cpf")&&(Ee("cpf"),ve=!0))}catch{}if((te=V.response)!=null&&te.data){const ke=V.response.data;if(console.log("Tipo do errorData:",typeof ke),console.log("ErrorData completo:",JSON.stringify(ke,null,2)),typeof ke=="object"){const xe=[];for(const[ie,lt]of Object.entries(ke))Array.isArray(lt)?xe.push(`${ie}: ${lt.join(", ")}`):xe.push(`${ie}: ${lt}`);xe.length&&(ae=xe.join(`
`))}typeof ke=="string"?/<\/?(html|body|head|table|div|span|style|script)[^>]*>/i.test(ke)||(ae=ke):ke.message?ae=ke.message:ke.email?ae=`Email: ${ke.email[0]}`:ke.password&&(ae=`Senha: ${ke.password[0]}`)}try{const ke=(F=V.response)==null?void 0:F.status,xe=((X=V.response)==null?void 0:X.headers)||{},ie=xe["content-type"]||xe["Content-Type"]||"",lt=(H=V.response)==null?void 0:H.data,at=((typeof lt=="string"?lt:"")||"").toLowerCase(),Ee=ve||ke===409||at.includes("unique constraint")||at.includes("integrityerror"),At=fe||String(ie).includes("text/html"),st=Be||at.includes("crm")||at.includes("medico");if(Ee&&(At||st)){try{await Vr.login({email:m.email,password:m.senha}),await Vr.logout(),r({title:"Conta criada",description:"Sua conta foi criada, mas houve um problema com os dados de mdico (CRM). Faa login para continuar."}),e("/login");return}catch{}r({title:"Conta possivelmente criada",description:ae+"  Tente fazer login com seu e-mail e senha."}),e("/login");return}}catch{}r({title:"Erro no registro",description:ae,variant:"destructive"})}finally{a(!1)}};return n.jsx("div",{className:"min-h-screen bg-app-soft flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md bg-white/95 backdrop-blur shadow-app-lg rounded-2xl border border-slate-100 overflow-hidden",children:[n.jsxs("div",{className:"px-6 pt-6 pb-4 bg-app-gradient text-white",children:[n.jsx("h1",{className:"text-xl font-semibold",children:"Criar conta"}),n.jsx("p",{className:"text-white/90 text-sm",children:s==="paciente"?"Como paciente":s==="clinica"?"Como clnica":"Como mdico"})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"bg-slate-100 rounded-lg p-1 grid grid-cols-3 gap-1",children:[n.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${s==="paciente"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>i("paciente"),children:" Paciente"}),n.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${s==="clinica"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>i("clinica"),children:" Clnica"}),n.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${s==="medico"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>i("medico"),children:" Mdico"})]}),n.jsxs("form",{className:"space-y-4",onSubmit:re,children:[s!=="clinica"?n.jsx(n.Fragment,{children:n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome completo"}),n.jsx("input",{type:"text",name:"nome",placeholder:"Seu nome",value:m.nome,onChange:y,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.nome?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.nome&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.nome})]})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome da clnica"}),n.jsx("input",{type:"text",name:"nomeClinica",placeholder:"Ex.: Clnica Vida",value:m.nomeClinica,onChange:y,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.nomeClinica?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.nomeClinica&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.nomeClinica})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CNPJ"}),n.jsx("input",{type:"text",name:"cnpj",placeholder:"00.000.000/0000-00",value:m.cnpj,onChange:y,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.cnpj?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.cnpj&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.cnpj})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"E-mail"}),n.jsx("input",{type:"email",name:"email",placeholder:"seu@email.com",value:m.email,onChange:y,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.email?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.email&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CPF *"}),n.jsx("input",{type:"text",name:"cpf",placeholder:"000.000.000-00",value:m.cpf,onChange:y,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.cpf?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.cpf&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.cpf})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Senha"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:A?"text":"password",name:"senha",placeholder:"Crie uma senha",value:m.senha,onChange:y,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.senha?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),n.jsx("button",{type:"button",onClick:()=>d(K=>!K),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":A?"Ocultar senha":"Mostrar senha",children:A?"Ocultar":"Mostrar"})]}),o.senha&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.senha})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Confirmar senha"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:f?"text":"password",name:"confirmSenha",placeholder:"Repita a senha",value:m.confirmSenha,onChange:y,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 transition ${o.confirmSenha?"border-rose-300 focus:ring-rose-500":M?"border-slate-200 focus:ring-sky-500 focus:border-sky-500":"border-amber-300 focus:ring-amber-400"}`}),n.jsx("button",{type:"button",onClick:()=>h(K=>!K),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":f?"Ocultar senha":"Mostrar senha",children:f?"Ocultar":"Mostrar"})]}),o.confirmSenha?n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.confirmSenha}):m.confirmSenha.length>0&&n.jsx("p",{className:`mt-1 text-xs ${m.senha===m.confirmSenha?"text-emerald-600":"text-amber-600"}`,children:m.senha===m.confirmSenha?"Senhas conferem.":"As senhas no conferem."})]}),s==="medico"&&n.jsxs("div",{className:"space-y-4 border rounded-lg p-4",children:[n.jsx("p",{className:"font-semibold",children:"Dados do Mdico"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CRM"}),n.jsx("input",{type:"text",name:"crm",placeholder:"CRM",value:C.crm,onChange:L,maxLength:7,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 ${o.crm?"border-rose-300 focus:ring-rose-500":"border-slate-200"}`}),o.crm&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.crm})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Especialidade"}),n.jsx("input",{type:"text",name:"especialidade",placeholder:"Ex.: Cardiologia",value:C.especialidade,onChange:L,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 ${o.especialidade?"border-rose-300 focus:ring-rose-500":"border-slate-200"}`}),o.especialidade&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.especialidade})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituio de Formao"}),n.jsx("input",{type:"text",name:"instituicaoFormacao",placeholder:"Universidade",value:C.instituicaoFormacao,onChange:L,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano de Formao"}),n.jsx("input",{type:"number",name:"anoFormacao",placeholder:"YYYY",value:C.anoFormacao,onChange:L,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Residncia (se aplicvel)"}),n.jsx("input",{type:"text",name:"residencia",placeholder:"Residncia Mdica",value:C.residencia,onChange:L,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituio da Residncia"}),n.jsx("input",{type:"text",name:"instituicaoResidencia",placeholder:"Instituio",value:C.instituicaoResidencia,onChange:L,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano da Residncia"}),n.jsx("input",{type:"number",name:"anoResidencia",placeholder:"YYYY",value:C.anoResidencia,onChange:L,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Experincia"}),n.jsx("textarea",{name:"experiencia",placeholder:"Resumo da experincia",value:C.experiencia,onChange:L,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Motivao"}),n.jsx("textarea",{name:"motivacao",placeholder:"Por que deseja se cadastrar como mdico na plataforma?",value:C.motivacao,onChange:L,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"font-medium",children:"Documentos"}),n.jsx($,{label:"Diploma de Medicina",required:!0,icon:"",accept:".pdf,image/*",file:C.documentos.diplomaMedicina,inputRef:U,onFile:K=>_("diplomaMedicina",K),onRemove:()=>Y("diplomaMedicina",U)}),o.diplomaMedicina&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.diplomaMedicina}),n.jsx($,{label:"Certificado de Residncia",icon:"",accept:".pdf,image/*",file:C.documentos.certificadoResidencia,inputRef:D,onFile:K=>_("certificadoResidencia",K),onRemove:()=>Y("certificadoResidencia",D)}),n.jsx($,{label:"Comprovante de Experincia",icon:"",accept:".pdf,image/*",file:C.documentos.comprovanteExperiencia,inputRef:k,onFile:K=>_("comprovanteExperiencia",K),onRemove:()=>Y("comprovanteExperiencia",k)})]})]}),n.jsx("button",{type:"submit",disabled:t,className:"w-full py-3 rounded-lg font-semibold bg-blue-600 text-white hover:bg-blue-700 focus-visible:ring-2 focus-visible:ring-blue-400 shadow-app transition disabled:opacity-70 disabled:cursor-not-allowed",children:t?"Registrando...":`Registrar ${s==="paciente"?"Paciente":s==="clinica"?"Clnica":s==="medico"?"Mdico":"Usurio"}`})]})]})]})})}const J_=b.createContext(null);function Z_(){const e=b.useContext(J_);if(!e)throw new Error("Tabs components must be used within <Tabs>");return e}const zi=b.forwardRef(({className:e,value:r,defaultValue:t="",onValueChange:a,children:s,...i},o)=>{const[l,A]=b.useState(t),d=r!==void 0,f=d?r:l,h=m=>{d||A(m),a==null||a(m)};return n.jsx(J_.Provider,{value:{value:f,setValue:h},children:n.jsx("div",{ref:o,className:ct("",e),...i,children:s})})});zi.displayName="Tabs";const qi=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:ct("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));qi.displayName="TabsList";const Pr=b.forwardRef(({className:e,value:r,onClick:t,...a},s)=>{const{value:i,setValue:o}=Z_(),l=i===r,A=d=>{t==null||t(d),o(r)};return n.jsx("button",{ref:s,"data-state":l?"active":"inactive",className:ct("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",l?"bg-background text-foreground shadow-sm":"hover:bg-background/50 hover:text-foreground",e),onClick:A,...a})});Pr.displayName="TabsTrigger";const Hr=b.forwardRef(({className:e,value:r,forceMount:t=!1,...a},s)=>{const{value:i}=Z_();return!t&&i!==r?null:n.jsx("div",{ref:s,className:ct("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a})});Hr.displayName="TabsContent";function OT(){const[e,r]=b.useState(""),[t,a]=b.useState(!1),[s,i]=b.useState(!1),[o,l]=b.useState("paciente"),A=$n(),d=as(),{toast:f}=Ka();b.useEffect(()=>{const p=new URLSearchParams(d.search).get("role");(p==="clinica"||p==="paciente")&&l(p)},[d]);const h=async m=>{var p,v,g,w;m.preventDefault(),a(!0);try{await Vr.forgotPassword(e),i(!0),f({title:"Email enviado!",description:"Verifique sua caixa de entrada para redefinir sua senha."})}catch(y){const N=((v=(p=y==null?void 0:y.response)==null?void 0:p.data)==null?void 0:v.detail)||((w=(g=y==null?void 0:y.response)==null?void 0:g.data)==null?void 0:w.message)||(y==null?void 0:y.message);f({title:"Erro",description:N||"No foi possvel enviar o email. Tente novamente.",variant:"destructive"})}finally{a(!1)}};return s?n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),n.jsxs(De,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[n.jsxs(Ve,{className:"space-y-1 text-center pb-8",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mb-6 shadow-lg",children:n.jsx(us,{className:"h-8 w-8 text-white"})}),n.jsx(Xe,{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Email Enviado!"}),n.jsxs(vr,{className:"text-lg text-gray-600",children:["Enviamos um link para redefinir sua senha para ",n.jsx("strong",{className:"text-gray-900",children:e})]})]}),n.jsxs(Le,{className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-xl border border-blue-100",children:n.jsx("p",{className:"text-sm text-gray-700 text-center font-medium",children:"Verifique sua caixa de entrada e spam. O link expira em 24 horas."})}),n.jsx(we,{variant:"outline",className:"w-full h-12 bg-white/50 hover:bg-white/80 border-gray-200 hover:border-gray-300 transition-all duration-200",onClick:()=>i(!1),children:"Enviar para outro email"}),n.jsxs(we,{variant:"ghost",className:"w-full h-12 text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-all duration-200",onClick:()=>A(`/login?role=${o}`),children:[n.jsx(sc,{className:"mr-2 h-4 w-4"}),"Voltar ao login"]})]})]})]}):n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),n.jsxs(De,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[n.jsxs(Ve,{className:"space-y-1 pb-8",children:[n.jsx(Xe,{className:"text-3xl font-bold text-center bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Esqueceu sua senha?"}),n.jsx(vr,{className:"text-center text-lg text-gray-600",children:"Digite seu email para receber um link de redefinio"})]}),n.jsxs(Le,{children:[n.jsx(zi,{value:o,onValueChange:l,className:"mb-8",children:n.jsxs(qi,{className:"grid w-full grid-cols-2 bg-gray-100/80 p-1 rounded-xl",children:[n.jsxs(Pr,{value:"paciente",className:"flex items-center justify-center gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-md transition-all duration-200",children:[n.jsx(On,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Paciente"})]}),n.jsxs(Pr,{value:"clinica",className:"flex items-center justify-center gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-md transition-all duration-200",children:[n.jsx(Yf,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Clnica"})]})]})}),n.jsxs("form",{onSubmit:h,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(Fe,{htmlFor:"email",className:"text-sm font-semibold text-gray-700",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(wl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(Oe,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:m=>r(m.target.value),className:"pl-10 h-12 input-medical-primary bg-white/50 transition-all duration-200",required:!0})]})]}),n.jsx(we,{type:"submit",className:"w-full h-12 btn-medical-primary font-semibold shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-[1.02]",disabled:t,children:t?n.jsxs(n.Fragment,{children:[n.jsx(G6,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):"Enviar Link de Redefinio"})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs(pr,{to:`/login?role=${o}`,className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 font-medium transition-colors duration-200 group",children:[n.jsx(sc,{className:"h-4 w-4 group-hover:-translate-x-1 transition-transform duration-200"}),"Voltar ao login"]})})]})]})]})}function HT({children:e}){const{user:r,isAuthenticated:t,loading:a}=qo(),s=as();if(a)return null;if(!t)return n.jsx(Ea,{to:"/login",state:{from:s},replace:!0});const i=(r==null?void 0:r.role)||(r==null?void 0:r.tipo);return i!=="secretaria"&&i!=="admin"?i==="paciente"?n.jsx(Ea,{to:"/paciente/perfil",replace:!0}):i==="medico"?n.jsx(Ea,{to:"/medico/dashboard",replace:!0}):i==="clinica"?n.jsx(Ea,{to:"/clinica/dashboard",replace:!0}):n.jsx(Ea,{to:"/",replace:!0}):e}function $T(){const e=()=>n.jsx(Qm,{role:"secretaria"});return n.jsx(Pm,{sidebar:e,children:n.jsx(jm,{})})}function KT(){const{uid:e,token:r}=zo(),t=$n(),{toast:a}=Ka(),[s,i]=b.useState(""),[o,l]=b.useState(""),[A,d]=b.useState(!1),f=b.useMemo(()=>String("https://tcc-back-ktwy.onrender.com").replace(/\/$/,""),[]),h="/api/auth/password_reset_confirm/",m=`${f}/reset/${e}/${r}/`,p=()=>!s||s.length<8?(a({title:"Senha muito curta",description:"Use pelo menos 8 caracteres.",variant:"destructive"}),!1):s!==o?(a({title:"Confirmao",description:"A confirmao no confere com a nova senha.",variant:"destructive"}),!1):!0,v=async g=>{var w,y,N,C,E;if((w=g==null?void 0:g.preventDefault)==null||w.call(g),!!p()){d(!0);try{h&&(await ye.post(h,{uid:e,token:r,new_password:s}),a({title:"Senha redefinida!",description:"Voc j pode fazer login."}),t("/login"))}catch(U){const D=((N=(y=U==null?void 0:U.response)==null?void 0:y.data)==null?void 0:N.detail)||((E=(C=U==null?void 0:U.response)==null?void 0:C.data)==null?void 0:E.message)||(U==null?void 0:U.message);a({title:"No foi possvel redefinir",description:D||"Tente novamente.",variant:"destructive"})}finally{d(!1)}}};return n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),n.jsxs(De,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[n.jsxs(Ve,{className:"space-y-1 text-center pb-8",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-medical-primary rounded-2xl flex items-center justify-center mb-6 shadow-lg",children:n.jsx(sI,{className:"w-8 h-8 text-white"})}),n.jsx(Xe,{className:"text-3xl font-bold text-medical-primary",children:"Redefinir senha"}),n.jsx(vr,{className:"text-slate-600 text-base",children:"Crie uma nova senha para sua conta."})]}),n.jsxs(Le,{className:"space-y-6 px-8 pb-8",children:[n.jsxs("form",{onSubmit:v,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Fe,{htmlFor:"password",className:"text-slate-700 font-medium flex items-center gap-2",children:[n.jsx(F1,{className:"w-4 h-4"}),"Nova senha"]}),n.jsx(Oe,{id:"password",type:"password",placeholder:"",value:s,onChange:g=>i(g.target.value),className:"h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Fe,{htmlFor:"confirm",className:"text-slate-700 font-medium flex items-center gap-2",children:[n.jsx(po,{className:"w-4 h-4"}),"Confirmar nova senha"]}),n.jsx(Oe,{id:"confirm",type:"password",placeholder:"",value:o,onChange:g=>l(g.target.value),className:"h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200",required:!0})]}),n.jsx(we,{type:"submit",className:"w-full h-12 btn-medical-primary text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200",disabled:A,children:A?"Processando...":"Redefinir minha senha"})]}),n.jsxs(we,{variant:"ghost",className:"w-full h-12 text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-all duration-200 mt-2",onClick:()=>t("/login"),children:[n.jsx(sc,{className:"mr-2 h-4 w-4"})," Voltar ao login"]})]})]})]})}function rN(e,[r,t]){return Math.min(t,Math.max(r,e))}function eE(e){const r=b.useRef({value:e,previous:e});return b.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var VT=[" ","Enter","ArrowUp","ArrowDown"],zT=[" ","Enter"],xu="Select",[mx,px,qT]=cx(xu),[th,IZ]=Nl(xu,[qT,eh]),gx=eh(),[WT,vd]=th(xu),[GT,YT]=th(xu),tE=e=>{const{__scopeSelect:r,children:t,open:a,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:A,dir:d,name:f,autoComplete:h,disabled:m,required:p,form:v}=e,g=gx(r),[w,y]=b.useState(null),[N,C]=b.useState(null),[E,U]=b.useState(!1),D=Z1(d),[k,L]=dd({prop:a,defaultProp:s??!1,onChange:i,caller:xu}),[_,Y]=dd({prop:o,defaultProp:l,onChange:A,caller:xu}),I=b.useRef(null),$=w?v||!!w.closest("form"):!0,[J,M]=b.useState(new Set),re=Array.from(J).map(K=>K.props.value).join(";");return n.jsx(W1,{...g,children:n.jsxs(WT,{required:p,scope:r,trigger:w,onTriggerChange:y,valueNode:N,onValueNodeChange:C,valueNodeHasChildren:E,onValueNodeHasChildrenChange:U,contentId:ic(),value:_,onValueChange:Y,open:k,onOpenChange:L,dir:D,triggerPointerDownPosRef:I,disabled:m,children:[n.jsx(mx.Provider,{scope:r,children:n.jsx(GT,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(K=>{M(G=>new Set(G).add(K))},[]),onNativeOptionRemove:b.useCallback(K=>{M(G=>{const z=new Set(G);return z.delete(K),z})},[]),children:t})}),$?n.jsxs(BE,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:h,value:_,onChange:K=>Y(K.target.value),disabled:m,form:v,children:[_===void 0?n.jsx("option",{value:""}):null,Array.from(J)]},re):null]})})};tE.displayName=xu;var rE="SelectTrigger",aE=b.forwardRef((e,r)=>{const{__scopeSelect:t,disabled:a=!1,...s}=e,i=gx(t),o=vd(rE,t),l=o.disabled||a,A=Na(r,o.onTriggerChange),d=px(t),f=b.useRef("touch"),[h,m,p]=SE(g=>{const w=d().filter(C=>!C.disabled),y=w.find(C=>C.value===o.value),N=_E(w,g,y);N!==void 0&&o.onValueChange(N.value)}),v=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return n.jsx(G1,{asChild:!0,...i,children:n.jsx(Er.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":CE(o.value)?"":void 0,...s,ref:A,onClick:Lt(s.onClick,g=>{g.currentTarget.focus(),f.current!=="mouse"&&v(g)}),onPointerDown:Lt(s.onPointerDown,g=>{f.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:Lt(s.onKeyDown,g=>{const w=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(w&&g.key===" ")&&VT.includes(g.key)&&(v(),g.preventDefault())})})})});aE.displayName=rE;var nE="SelectValue",sE=b.forwardRef((e,r)=>{const{__scopeSelect:t,className:a,style:s,children:i,placeholder:o="",...l}=e,A=vd(nE,t),{onValueNodeHasChildrenChange:d}=A,f=i!==void 0,h=Na(r,A.onValueNodeChange);return ps(()=>{d(f)},[d,f]),n.jsx(Er.span,{...l,ref:h,style:{pointerEvents:"none"},children:CE(A.value)?n.jsx(n.Fragment,{children:o}):i})});sE.displayName=nE;var XT="SelectIcon",iE=b.forwardRef((e,r)=>{const{__scopeSelect:t,children:a,...s}=e;return n.jsx(Er.span,{"aria-hidden":!0,...s,ref:r,children:a||""})});iE.displayName=XT;var JT="SelectPortal",oE=e=>n.jsx(Em,{asChild:!0,...e});oE.displayName=JT;var vu="SelectContent",lE=b.forwardRef((e,r)=>{const t=vd(vu,e.__scopeSelect),[a,s]=b.useState();if(ps(()=>{s(new DocumentFragment)},[]),!t.open){const i=a;return i?Vf.createPortal(n.jsx(cE,{scope:e.__scopeSelect,children:n.jsx(mx.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(AE,{...e,ref:r})});lE.displayName=vu;var pl=10,[cE,wd]=th(vu),ZT="SelectContentImpl",e8=fu("SelectContent.RemoveScroll"),AE=b.forwardRef((e,r)=>{const{__scopeSelect:t,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:A,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:w,...y}=e,N=vd(vu,t),[C,E]=b.useState(null),[U,D]=b.useState(null),k=Na(r,H=>E(H)),[L,_]=b.useState(null),[Y,I]=b.useState(null),$=px(t),[J,M]=b.useState(!1),re=b.useRef(!1);b.useEffect(()=>{if(C)return P1(C)},[C]),I1();const K=b.useCallback(H=>{const[V,...ae]=$().map(Be=>Be.ref.current),[fe]=ae.slice(-1),ve=document.activeElement;for(const Be of H)if(Be===ve||(Be==null||Be.scrollIntoView({block:"nearest"}),Be===V&&U&&(U.scrollTop=0),Be===fe&&U&&(U.scrollTop=U.scrollHeight),Be==null||Be.focus(),document.activeElement!==ve))return},[$,U]),G=b.useCallback(()=>K([L,C]),[K,L,C]);b.useEffect(()=>{J&&G()},[J,G]);const{onOpenChange:z,triggerPointerDownPosRef:Z}=N;b.useEffect(()=>{if(C){let H={x:0,y:0};const V=fe=>{var ve,Be;H={x:Math.abs(Math.round(fe.pageX)-(((ve=Z.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((Be=Z.current)==null?void 0:Be.y)??0))}},ae=fe=>{H.x<=10&&H.y<=10?fe.preventDefault():C.contains(fe.target)||z(!1),document.removeEventListener("pointermove",V),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",V),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",ae,{capture:!0})}}},[C,z,Z]),b.useEffect(()=>{const H=()=>z(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[z]);const[Ae,ee]=SE(H=>{const V=$().filter(ve=>!ve.disabled),ae=V.find(ve=>ve.ref.current===document.activeElement),fe=_E(V,H,ae);fe&&setTimeout(()=>fe.ref.current.focus())}),R=b.useCallback((H,V,ae)=>{const fe=!re.current&&!ae;(N.value!==void 0&&N.value===V||fe)&&(_(H),fe&&(re.current=!0))},[N.value]),q=b.useCallback(()=>C==null?void 0:C.focus(),[C]),te=b.useCallback((H,V,ae)=>{const fe=!re.current&&!ae;(N.value!==void 0&&N.value===V||fe)&&I(H)},[N.value]),F=a==="popper"?Ny:dE,X=F===Ny?{side:l,sideOffset:A,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:w}:{};return n.jsx(cE,{scope:t,content:C,viewport:U,onViewportChange:D,itemRefCallback:R,selectedItem:L,onItemLeave:q,itemTextRefCallback:te,focusSelectedItem:G,selectedItemText:Y,position:a,isPositioned:J,searchRef:Ae,children:n.jsx(W0,{as:e8,allowPinchZoom:!0,children:n.jsx(z0,{asChild:!0,trapped:N.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:Lt(s,H=>{var V;(V=N.trigger)==null||V.focus({preventScroll:!0}),H.preventDefault()}),children:n.jsx(Xf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:n.jsx(F,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:H=>H.preventDefault(),...y,...X,onPlaced:()=>M(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Lt(y.onKeyDown,H=>{const V=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!V&&H.key.length===1&&ee(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let fe=$().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(H.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const ve=H.target,Be=fe.indexOf(ve);fe=fe.slice(Be+1)}setTimeout(()=>K(fe)),H.preventDefault()}})})})})})})});AE.displayName=ZT;var t8="SelectItemAlignedPosition",dE=b.forwardRef((e,r)=>{const{__scopeSelect:t,onPlaced:a,...s}=e,i=vd(vu,t),o=wd(vu,t),[l,A]=b.useState(null),[d,f]=b.useState(null),h=Na(r,k=>f(k)),m=px(t),p=b.useRef(!1),v=b.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:y,focusSelectedItem:N}=o,C=b.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&w&&y){const k=i.trigger.getBoundingClientRect(),L=d.getBoundingClientRect(),_=i.valueNode.getBoundingClientRect(),Y=y.getBoundingClientRect();if(i.dir!=="rtl"){const ve=Y.left-L.left,Be=_.left-ve,ke=k.left-Be,xe=k.width+ke,ie=Math.max(xe,L.width),lt=window.innerWidth-pl,mt=rN(Be,[pl,Math.max(pl,lt-ie)]);l.style.minWidth=xe+"px",l.style.left=mt+"px"}else{const ve=L.right-Y.right,Be=window.innerWidth-_.right-ve,ke=window.innerWidth-k.right-Be,xe=k.width+ke,ie=Math.max(xe,L.width),lt=window.innerWidth-pl,mt=rN(Be,[pl,Math.max(pl,lt-ie)]);l.style.minWidth=xe+"px",l.style.right=mt+"px"}const I=m(),$=window.innerHeight-pl*2,J=g.scrollHeight,M=window.getComputedStyle(d),re=parseInt(M.borderTopWidth,10),K=parseInt(M.paddingTop,10),G=parseInt(M.borderBottomWidth,10),z=parseInt(M.paddingBottom,10),Z=re+K+J+z+G,Ae=Math.min(w.offsetHeight*5,Z),ee=window.getComputedStyle(g),R=parseInt(ee.paddingTop,10),q=parseInt(ee.paddingBottom,10),te=k.top+k.height/2-pl,F=$-te,X=w.offsetHeight/2,H=w.offsetTop+X,V=re+K+H,ae=Z-V;if(V<=te){const ve=I.length>0&&w===I[I.length-1].ref.current;l.style.bottom="0px";const Be=d.clientHeight-g.offsetTop-g.offsetHeight,ke=Math.max(F,X+(ve?q:0)+Be+G),xe=V+ke;l.style.height=xe+"px"}else{const ve=I.length>0&&w===I[0].ref.current;l.style.top="0px";const ke=Math.max(te,re+g.offsetTop+(ve?R:0)+X)+ae;l.style.height=ke+"px",g.scrollTop=V-te+g.offsetTop}l.style.margin=`${pl}px 0`,l.style.minHeight=Ae+"px",l.style.maxHeight=$+"px",a==null||a(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,g,w,y,i.dir,a]);ps(()=>C(),[C]);const[E,U]=b.useState();ps(()=>{d&&U(window.getComputedStyle(d).zIndex)},[d]);const D=b.useCallback(k=>{k&&v.current===!0&&(C(),N==null||N(),v.current=!1)},[C,N]);return n.jsx(a8,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:D,children:n.jsx("div",{ref:A,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:n.jsx(Er.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});dE.displayName=t8;var r8="SelectPopperPosition",Ny=b.forwardRef((e,r)=>{const{__scopeSelect:t,align:a="start",collisionPadding:s=pl,...i}=e,o=gx(t);return n.jsx(Y1,{...o,...i,ref:r,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ny.displayName=r8;var[a8,db]=th(vu,{}),By="SelectViewport",uE=b.forwardRef((e,r)=>{const{__scopeSelect:t,nonce:a,...s}=e,i=wd(By,t),o=db(By,t),l=Na(r,i.onViewportChange),A=b.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(mx.Slot,{scope:t,children:n.jsx(Er.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Lt(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const p=Math.abs(A.current-f.scrollTop);if(p>0){const v=window.innerHeight-pl*2,g=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),y=Math.max(g,w);if(y<v){const N=y+p,C=Math.min(v,N),E=N-C;h.style.height=C+"px",h.style.bottom==="0px"&&(f.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}A.current=f.scrollTop})})})]})});uE.displayName=By;var fE="SelectGroup",[n8,s8]=th(fE),i8=b.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e,s=ic();return n.jsx(n8,{scope:t,id:s,children:n.jsx(Er.div,{role:"group","aria-labelledby":s,...a,ref:r})})});i8.displayName=fE;var hE="SelectLabel",mE=b.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e,s=s8(hE,t);return n.jsx(Er.div,{id:s.id,...a,ref:r})});mE.displayName=hE;var l0="SelectItem",[o8,pE]=th(l0),gE=b.forwardRef((e,r)=>{const{__scopeSelect:t,value:a,disabled:s=!1,textValue:i,...o}=e,l=vd(l0,t),A=wd(l0,t),d=l.value===a,[f,h]=b.useState(i??""),[m,p]=b.useState(!1),v=Na(r,N=>{var C;return(C=A.itemRefCallback)==null?void 0:C.call(A,N,a,s)}),g=ic(),w=b.useRef("touch"),y=()=>{s||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(o8,{scope:t,value:a,disabled:s,textId:g,isSelected:d,onItemTextChange:b.useCallback(N=>{h(C=>C||((N==null?void 0:N.textContent)??"").trim())},[]),children:n.jsx(mx.ItemSlot,{scope:t,value:a,disabled:s,textValue:f,children:n.jsx(Er.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:Lt(o.onFocus,()=>p(!0)),onBlur:Lt(o.onBlur,()=>p(!1)),onClick:Lt(o.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:Lt(o.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:Lt(o.onPointerDown,N=>{w.current=N.pointerType}),onPointerMove:Lt(o.onPointerMove,N=>{var C;w.current=N.pointerType,s?(C=A.onItemLeave)==null||C.call(A):w.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Lt(o.onPointerLeave,N=>{var C;N.currentTarget===document.activeElement&&((C=A.onItemLeave)==null||C.call(A))}),onKeyDown:Lt(o.onKeyDown,N=>{var E;((E=A.searchRef)==null?void 0:E.current)!==""&&N.key===" "||(zT.includes(N.key)&&y(),N.key===" "&&N.preventDefault())})})})})});gE.displayName=l0;var Oh="SelectItemText",xE=b.forwardRef((e,r)=>{const{__scopeSelect:t,className:a,style:s,...i}=e,o=vd(Oh,t),l=wd(Oh,t),A=pE(Oh,t),d=YT(Oh,t),[f,h]=b.useState(null),m=Na(r,y=>h(y),A.onItemTextChange,y=>{var N;return(N=l.itemTextRefCallback)==null?void 0:N.call(l,y,A.value,A.disabled)}),p=f==null?void 0:f.textContent,v=b.useMemo(()=>n.jsx("option",{value:A.value,disabled:A.disabled,children:p},A.value),[A.disabled,A.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=d;return ps(()=>(g(v),()=>w(v)),[g,w,v]),n.jsxs(n.Fragment,{children:[n.jsx(Er.span,{id:A.textId,...i,ref:m}),A.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Vf.createPortal(i.children,o.valueNode):null]})});xE.displayName=Oh;var vE="SelectItemIndicator",wE=b.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e;return pE(vE,t).isSelected?n.jsx(Er.span,{"aria-hidden":!0,...a,ref:r}):null});wE.displayName=vE;var Cy="SelectScrollUpButton",yE=b.forwardRef((e,r)=>{const t=wd(Cy,e.__scopeSelect),a=db(Cy,e.__scopeSelect),[s,i]=b.useState(!1),o=Na(r,a.onScrollButtonChange);return ps(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=A.scrollTop>0;i(d)};const A=t.viewport;return l(),A.addEventListener("scroll",l),()=>A.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),s?n.jsx(jE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:A}=t;l&&A&&(l.scrollTop=l.scrollTop-A.offsetHeight)}}):null});yE.displayName=Cy;var Sy="SelectScrollDownButton",bE=b.forwardRef((e,r)=>{const t=wd(Sy,e.__scopeSelect),a=db(Sy,e.__scopeSelect),[s,i]=b.useState(!1),o=Na(r,a.onScrollButtonChange);return ps(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=A.scrollHeight-A.clientHeight,f=Math.ceil(A.scrollTop)<d;i(f)};const A=t.viewport;return l(),A.addEventListener("scroll",l),()=>A.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),s?n.jsx(jE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:A}=t;l&&A&&(l.scrollTop=l.scrollTop+A.offsetHeight)}}):null});bE.displayName=Sy;var jE=b.forwardRef((e,r)=>{const{__scopeSelect:t,onAutoScroll:a,...s}=e,i=wd("SelectScrollButton",t),o=b.useRef(null),l=px(t),A=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>A(),[A]),ps(()=>{var f;const d=l().find(h=>h.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),n.jsx(Er.div,{"aria-hidden":!0,...s,ref:r,style:{flexShrink:0,...s.style},onPointerDown:Lt(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:Lt(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:Lt(s.onPointerLeave,()=>{A()})})}),l8="SelectSeparator",NE=b.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e;return n.jsx(Er.div,{"aria-hidden":!0,...a,ref:r})});NE.displayName=l8;var _y="SelectArrow",c8=b.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e,s=gx(t),i=vd(_y,t),o=wd(_y,t);return i.open&&o.position==="popper"?n.jsx(X1,{...s,...a,ref:r}):null});c8.displayName=_y;var A8="SelectBubbleInput",BE=b.forwardRef(({__scopeSelect:e,value:r,...t},a)=>{const s=b.useRef(null),i=Na(a,s),o=eE(r);return b.useEffect(()=>{const l=s.current;if(!l)return;const A=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(A,"value").set;if(o!==r&&f){const h=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(h)}},[o,r]),n.jsx(Er.select,{...t,style:{...l4,...t.style},ref:i,defaultValue:r})});BE.displayName=A8;function CE(e){return e===""||e===void 0}function SE(e){const r=Si(e),t=b.useRef(""),a=b.useRef(0),s=b.useCallback(o=>{const l=t.current+o;r(l),(function A(d){t.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>A(""),1e3))})(l)},[r]),i=b.useCallback(()=>{t.current="",window.clearTimeout(a.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(a.current),[]),[t,s,i]}function _E(e,r,t){const s=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=t?e.indexOf(t):-1;let o=d8(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==t));const A=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return A!==t?A:void 0}function d8(e,r){return e.map((t,a)=>e[(r+a)%e.length])}var u8=tE,EE=aE,f8=sE,h8=iE,m8=oE,FE=lE,p8=uE,kE=mE,DE=gE,g8=xE,x8=wE,UE=yE,LE=bE,IE=NE;const Gr=u8,Yr=f8,zr=b.forwardRef(({className:e,children:r,...t},a)=>n.jsxs(EE,{ref:a,className:ct("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[r,n.jsx(h8,{asChild:!0,children:n.jsx(_1,{className:"h-4 w-4 opacity-50"})})]}));zr.displayName=EE.displayName;const PE=b.forwardRef(({className:e,...r},t)=>n.jsx(UE,{ref:t,className:ct("flex cursor-default items-center justify-center py-1",e),...r,children:n.jsx(Q6,{className:"h-4 w-4"})}));PE.displayName=UE.displayName;const QE=b.forwardRef(({className:e,...r},t)=>n.jsx(LE,{ref:t,className:ct("flex cursor-default items-center justify-center py-1",e),...r,children:n.jsx(_1,{className:"h-4 w-4"})}));QE.displayName=LE.displayName;const qr=b.forwardRef(({className:e,children:r,position:t="popper",...a},s)=>n.jsx(m8,{children:n.jsxs(FE,{ref:s,className:ct("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...a,children:[n.jsx(PE,{}),n.jsx(p8,{className:ct("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),n.jsx(QE,{})]})}));qr.displayName=FE.displayName;const RE=b.forwardRef(({className:e,...r},t)=>n.jsx(kE,{ref:t,className:ct("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...r}));RE.displayName=kE.displayName;const nt=b.forwardRef(({className:e,children:r,...t},a)=>n.jsxs(DE,{ref:a,className:ct("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(x8,{children:n.jsx(S1,{className:"h-4 w-4"})})}),n.jsx(g8,{children:r})]}));nt.displayName=DE.displayName;const v8=b.forwardRef(({className:e,...r},t)=>n.jsx(IE,{ref:t,className:ct("-mx-1 my-1 h-px bg-muted",e),...r}));v8.displayName=IE.displayName;const ri=!1,pa={async getDashboard(){return(await ye.get("/admin/dashboard/")).data},async getSolicitacoes(e={},r={}){var s;const t=sf(),a=Xv(Yv(e));for(const i of t){const l=[Qo(i)],A=[];A.push(a),Object.keys(a).length&&A.push({});for(const d of l)for(const f of A)try{const m=(await ye.get(d,{params:f,signal:r==null?void 0:r.signal})).data;return(Array.isArray(m==null?void 0:m.results)?m.results:Array.isArray(m)?m:[]).map(ME)}catch(h){const m=(s=h==null?void 0:h.response)==null?void 0:s.status;if(m===401||m===403)throw h;continue}}return[]},async getSolicitacao(e){var a;const r=sf();let t;for(const s of r){const i=Qo(s)+`${e}/`;try{const o=await ye.get(i);return y8(o.data||{})}catch(o){const l=(a=o==null?void 0:o.response)==null?void 0:a.status;if(l===401||l===403)throw o;t=o;continue}}throw t||new Error("Nenhum endpoint para detalhe de solicitao foi encontrado.")},async aprovarSolicitacao(e,r=""){var a,s,i;const t=sf();for(const o of t){const l=Qo(o),A=[{method:"post",url:`${l}${e}/aprovar/`,body:{observacoes:r}},{method:"post",url:`${l}${e}/approve/`,body:{notes:r}},{method:"post",url:`${l}${e}/aprovacao/`,body:{observacoes:r}},{method:"post",url:`${l}${e}/status/`,body:{status:"approved",observacoes:r}},{method:"patch",url:`${l}${e}/`,body:{status:"approved",observacoes:r}},{method:"put",url:`${l}${e}/`,body:{status:"approved",observacoes:r}}];for(const d of A)try{const f=await ye[d.method](d.url,d.body);(async()=>{try{await pa.registrarAuditoria({action:"approve",entity:"SolicitacaoMedico",entity_id:e,status:"success",metadata:{observacoes:r}})}catch{}})();const h=f.data;try{let m=((a=h==null?void 0:h.medico)==null?void 0:a.id)||(h==null?void 0:h.medico_id)||(h==null?void 0:h.medico)||null;if(!m)try{const p=await pa.getSolicitacao(e).catch(()=>null);m=((s=p==null?void 0:p.medico)==null?void 0:s.id)||(p==null?void 0:p.medico_id)||(p==null?void 0:p.medico)||null}catch{}if(m){const p="/api/medicos/",v=p.endsWith("/")?p:`${p}/`,g={status:"active",situacao:"active",state:"active"},w=[{m:"patch",u:`${v}${m}/`,b:g},{m:"put",u:`${v}${m}/`,b:g}];for(const N of w)try{await ye[N.m](N.u,N.b);break}catch{}const y=[`${v}${m}/perfil/`,"/perfil-medico/","/perfil/medico/"];for(const N of y){const C=N.endsWith("/")?N:`${N}/`;try{await ye.patch(C,g);break}catch{}}}}catch{}return(async()=>{try{await pa.registrarAuditoria({action:"approve",entity:"SolicitacaoMedico",entity_id:e,status:"success",metadata:{observacoes:r}})}catch{}})(),h}catch(f){const h=(i=f==null?void 0:f.response)==null?void 0:i.status;if(h===401||h===403)throw f;continue}}},async rejeitarSolicitacao(e,r){var a,s,i;const t=sf();for(const o of t){const l=Qo(o),A=[{method:"post",url:`${l}${e}/rejeitar/`,body:{motivo:r}},{method:"post",url:`${l}${e}/reject/`,body:{reason:r}},{method:"post",url:`${l}${e}/status/`,body:{status:"rejected",motivo:r}},{method:"patch",url:`${l}${e}/`,body:{status:"rejected",motivo:r}},{method:"put",url:`${l}${e}/`,body:{status:"rejected",motivo:r}}];for(const d of A)try{const f=await ye[d.method](d.url,d.body);(async()=>{try{await pa.registrarAuditoria({action:"reject",entity:"SolicitacaoMedico",entity_id:e,status:"success",metadata:{motivo:r}})}catch{}})();const h=f.data;try{let m=((a=h==null?void 0:h.medico)==null?void 0:a.id)||(h==null?void 0:h.medico_id)||(h==null?void 0:h.medico)||null;if(!m)try{const p=await pa.getSolicitacao(e).catch(()=>null);m=((s=p==null?void 0:p.medico)==null?void 0:s.id)||(p==null?void 0:p.medico_id)||(p==null?void 0:p.medico)||null}catch{}if(m){const p="/api/medicos/",v=p.endsWith("/")?p:`${p}/`,g={status:"rejected",situacao:"rejected",state:"rejected"},w=[{m:"patch",u:`${v}${m}/`,b:g},{m:"put",u:`${v}${m}/`,b:g}];for(const N of w)try{await ye[N.m](N.u,N.b);break}catch{}const y=[`${v}${m}/perfil/`,"/perfil-medico/","/perfil/medico/"];for(const N of y){const C=N.endsWith("/")?N:`${N}/`;try{await ye.patch(C,g);break}catch{}}}}catch{}return(async()=>{try{await pa.registrarAuditoria({action:"reject",entity:"SolicitacaoMedico",entity_id:e,status:"success",metadata:{motivo:r}})}catch{}})(),h}catch(f){const h=(i=f==null?void 0:f.response)==null?void 0:i.status;if(h===401||h===403)throw f;continue}}},async visualizarDocumento(e){try{if(e.startsWith("http")){window.open(e,"_blank");return}const r=sf();let t;for(const a of r){const s=[`${Qo(a)}documentos/visualizar/${e}`,`${Qo(a)}documentos/${e}`,`/media/documentos/${e}`,`/static/documentos/${e}`,e];for(const i of s)try{if((await ye.head(i)).status===200){window.open(i,"_blank");return}}catch(o){t=o;continue}}throw t||new Error("Documento no encontrado")}catch(r){throw console.error("Erro ao visualizar documento:",r),new Error("No foi possvel visualizar o documento")}},async baixarDocumento(e,r="documento"){try{if(e.startsWith("http")){const s=document.createElement("a");s.href=e,s.download=r,document.body.appendChild(s),s.click(),document.body.removeChild(s);return}const t=sf();let a;for(const s of t){const i=[`${Qo(s)}documentos/download/${e}`,`${Qo(s)}documentos/${e}`,`/media/documentos/${e}`,`/static/documentos/${e}`,e];for(const o of i)try{const l=await ye.get(o,{responseType:"blob"});if(l.status===200){const A=new Blob([l.data]),d=window.URL.createObjectURL(A),f=document.createElement("a");f.href=d,f.download=r,document.body.appendChild(f),f.click(),document.body.removeChild(f),window.URL.revokeObjectURL(d);return}}catch(l){a=l;continue}}throw a||new Error("Documento no encontrado")}catch(t){throw console.error("Erro ao baixar documento:",t),new Error("No foi possvel baixar o documento")}},async getAuditoria(e={}){return(await ye.get("/admin/auditoria/",{params:e})).data},async registrarAuditoria(e={}){const r=await Vr.getCurrentUser(),t=e.action||e.acao||e.type,a=e.entity||e.entidade||"",s=e.entity_id||e.id||e.solicitacao_id||e.target_id||"",i=e.status||"success",o=typeof e.metadata=="object"&&e.metadata!==null?e.metadata:{},l=typeof e.detalhes=="object"&&e.detalhes!==null?e.detalhes:{},A={...o,...l,actor:(r==null?void 0:r.id)||(r==null?void 0:r.username)||"system",source:"frontend"},d={action:t,entity:a,entity_id:s,status:i,metadata:A};try{await ye.post("/admin/auditoria/",d)}catch{}},async getUsuarios(e={}){var a;const r=Xv(Yv(e)),t=Jv();for(const s of t){const i=Qo(s);try{const l=(await ye.get(i,{params:r})).data,d=(Array.isArray(l==null?void 0:l.results)?l.results:Array.isArray(l)?l:[]).map(h=>({...h,id:(h==null?void 0:h.id)??(h==null?void 0:h.pk)??(h==null?void 0:h.uuid)??(h==null?void 0:h.user_id)??(h==null?void 0:h.usuario_id)??null})),f=typeof(l==null?void 0:l.count)=="number"?l.count:d.length;return{results:d,count:f}}catch(o){if(((a=o==null?void 0:o.response)==null?void 0:a.status)===401)throw o;continue}}return{results:[],count:0}},async getClinicas(e={}){var a;const r=w8(),t=Xv(Yv(e));for(const s of r){const o=[Qo(s)],l=[];l.push(t),Object.keys(t).length&&l.push({});for(const A of o)for(const d of l)try{const h=(await ye.get(A,{params:d})).data,m=Array.isArray(h==null?void 0:h.results)?h.results:Array.isArray(h)?h:[],p=typeof(h==null?void 0:h.count)=="number"?h.count:m.length;return{results:m,count:p}}catch(f){if(((a=f==null?void 0:f.response)==null?void 0:a.status)===401)throw f;continue}}return{results:[],count:0}},async updateUsuario(e,r={}){var o,l,A,d;const t=e||(r==null?void 0:r.id);if(!t)throw new Error("ID do usurio  obrigatrio para atualizao");const a={...r};a.role&&a.tipo==null&&(a.tipo=a.role),a.is_active!=null&&a.ativo==null&&(a.ativo=!!a.is_active),(a.first_name||a.last_name)&&a.nome==null&&(a.nome=[a.first_name||"",a.last_name||""].filter(Boolean).join(" ").trim()||void 0);const s=Jv();let i=null;for(const f of s){const h=Qo(f);try{return(await ye.patch(`${h}${t}/`,a)).data}catch(m){if(((o=m==null?void 0:m.response)==null?void 0:o.status)===401)throw m;i=m}try{return(await ye.put(`${h}${t}/`,a)).data}catch(m){if(((l=m==null?void 0:m.response)==null?void 0:l.status)===401)throw m;i=m}try{return(await ye.patch(h,{id:t,...a})).data}catch(m){if(((A=m==null?void 0:m.response)==null?void 0:A.status)===401)throw m;i=m}for(const m of["update/","editar/","edicao/"]){const p=h+m;try{return(await ye.post(p,{id:t,...a})).data}catch(v){if(((d=v==null?void 0:v.response)==null?void 0:d.status)===401)throw v;i=v}}}throw i||new Error("Falha ao atualizar usurio: nenhum endpoint aceitou a requisio.")},async removerUsuariosEmMassa(e=[]){var i,o,l,A;const r=(Array.isArray(e)?e:[e]).filter(Boolean);if(r.length===0)return{success:!0,deleted:[],detail:"no-op"};const t=Jv();let a=null;const s=[{suffix:"remover/",method:"post",bodyKey:"ids"},{suffix:"delete/",method:"post",bodyKey:"ids"},{suffix:"bulk_delete/",method:"post",bodyKey:"ids"},{suffix:"bulk-delete/",method:"post",bodyKey:"ids"},{suffix:"excluir/",method:"post",bodyKey:"ids"}];for(const d of t){const f=Qo(d);for(const m of s){const p=f+m.suffix;try{return(await ye.post(p,{[m.bodyKey]:r})).data}catch(v){if(((i=v==null?void 0:v.response)==null?void 0:i.status)===401)throw v;a=v}}try{const m=f;return(await ye.delete(m,{data:{ids:r}})).data}catch(m){if(((o=m==null?void 0:m.response)==null?void 0:o.status)===401)throw m;a=m}try{const m=encodeURIComponent(r.join(",")),p=`${f}?ids=${m}`;return(await ye.delete(p)).data}catch(m){if(((l=m==null?void 0:m.response)==null?void 0:l.status)===401)throw m;a=m}let h=!1;for(const m of r){const p=[`${f}${m}/`,`${f}delete/${m}/`,`${f}remover/${m}/`];let v=!1;for(const g of p)try{await ye.delete(g),v=!0;break}catch(w){if(((A=w==null?void 0:w.response)==null?void 0:A.status)===401)throw w;a=w}if(v)h=!0;else try{await ye.patch(`${f}${m}/`,{action:"delete"}),h=!0}catch{}}if(h)return{success:!0}}throw a||new Error("Falha ao excluir usurios: nenhum endpoint aceitou a requisio.")},async createUsuario(e={}){return(await ye.post("/admin/usuarios/",e)).data}};function Qo(e){if(!e)return"/";const r=String(e);return r.endsWith("/")?r:r+"/"}function Yv(e={}){const r={...e};return r.limit!=null&&r.page_size==null&&(r.page_size=r.limit),r.page_size!=null&&r.limit==null&&(r.limit=r.page_size),Object.keys(r).forEach(t=>{(r[t]===void 0||r[t]===null||r[t]==="")&&delete r[t]}),r}function Xv(e={}){const r=new Set(["status","ordering","search","limit","page","page_size","offset","clinica","especialidade","tipo","urgencia"]),t={};for(const[a,s]of Object.entries(e||{}))r.has(a)&&(t[a]=s);return t}function sf(){const e="/api/solicitacaomedico/".trim(),r="/api/solicitacaomedico/".trim(),t="/api/solicitacoes/".trim(),a=Array.from(new Set([e,r,t].filter(Boolean))),s=["/solicitacaomedico/","/solicitacao-medico/","/solicitacaomedicomodel/","/solicitacao-medico-model/","/admin/solicitacoes/"],i=["/medicos/solicitacoes/","/solicitacoes/medicos/","/solicitacoes/solicitacaomedico/","/solicitacoes/solicitacao-medico/","/solicitacoes/solicitacaomedicomodel/","/solicitacoes/solicitacao-medico-model/","/meu_app/solicitacaomedico/","/meu_app/solicitacao-medico/"];return Array.from(new Set([...s,...a,...i].filter(Boolean)))}function Jv(){const e="".trim(),r="".trim(),t="/api/users/".trim(),a=Array.from(new Set([e,r,t].filter(Boolean))),s=["/admin/usuarios/","/usuarios/","/admin/users/","/users/","/api/users/"];return Array.from(new Set([...a,...s].filter(Boolean)))}function w8(){const e="".trim(),r="".trim(),t=Array.from(new Set([e,r].filter(Boolean))),a=["/admin/clinicas/","/clinicas/","/admin/clinica/","/clinica/"];return Array.from(new Set([...t,...a].filter(Boolean)))}function ME(e={}){var r,t,a,s,i,o,l,A,d,f,h,m,p,v,g,w,y,N,C,E,U,D,k;return{id:e.id||e.pk||e.uuid||e.codigo||e.codigo_id||0,tipo:String(e.tipo||e.type||e.kind||"medico").toLowerCase(),nome:e.nome||e.name||((r=e.usuario)==null?void 0:r.nome)||((t=e.user)==null?void 0:t.name)||((a=e.medico)==null?void 0:a.nome)||((s=e.clinica)==null?void 0:s.nome)||"",email:e.email||((i=e.usuario)==null?void 0:i.email)||((o=e.user)==null?void 0:o.email)||((A=(l=e.medico)==null?void 0:l.user)==null?void 0:A.email)||((d=e.clinica)==null?void 0:d.email)||"",telefone:e.telefone||e.phone||e.celular||((f=e.usuario)==null?void 0:f.telefone)||((h=e.user)==null?void 0:h.telefone)||((m=e.medico)==null?void 0:m.telefone)||((v=(p=e.medico)==null?void 0:p.contato)==null?void 0:v.telefone)||((w=(g=e.medico)==null?void 0:g.user)==null?void 0:w.telefone)||((y=e.clinica)==null?void 0:y.telefone)||"",crm:e.crm||((N=e.medico)==null?void 0:N.crm)||e.crm_numero||"",cnpj:e.cnpj||((C=e.clinica)==null?void 0:C.cnpj)||"",responsavel:e.responsavel||e.responsavel_tecnico||((E=e.clinica)==null?void 0:E.responsavel)||"",status:(()=>{const L=(e.status||e.situacao||e.state||"pending").toString().toLowerCase();return{pendente:"pending","em anlise":"pending","em analise":"pending",em_analise:"pending",aprovado:"approved",aprovada:"approved",rejeitado:"rejected",rejeitada:"rejected",reprovado:"rejected",reprovada:"rejected"}[L]||L})(),dataEnvio:e.dataEnvio||e.created_at||e.createdAt||e.data_criacao||e.submitted_at||new Date().toISOString(),dataAprovacao:e.dataAprovacao||e.aprovado_em||e.data_aprovacao||e.approved_at||null,dataRejeicao:e.dataRejeicao||e.rejeitado_em||e.data_rejeicao||e.rejected_at||null,documentos:Array.isArray(e.documentos)?e.documentos:e.documents||[],urgencia:String(e.urgencia||e.priority||"normal").toLowerCase(),observacoes:e.observacoes||e.notes||e.comentarios||"",aprovadoPor:e.aprovadoPor||e.approved_by||"",rejeitadoPor:e.rejeitadoPor||e.rejected_by||"",motivoRejeicao:e.motivoRejeicao||e.motivo||e.reason||"",especialidade:e.especialidade||e.especialidade_nome||((D=(U=e.medico)==null?void 0:U.especialidade)==null?void 0:D.nome)||((k=e.medico)==null?void 0:k.especialidade)||""}}function y8(e={}){var N,C,E,U,D,k,L,_,Y,I,$,J,M,re,K,G,z,Z,Ae,ee,R;const r=ME(e),t=e.dataAprovacao||e.aprovado_em||e.data_aprovacao||e.approved_at||e.dataAprovado||null,a=e.dataRejeicao||e.rejeitado_em||e.data_rejeicao||e.rejected_at||e.dataRejeitado||null,s=[],i=q=>{q&&(Array.isArray(q)?s.push(...q.filter(Boolean)):typeof q=="object"?s.push(...Object.values(q).filter(Boolean)):typeof q=="string"&&s.push(q))};i(e.documentos),i(e.docs),i(e.arquivos),i(e.attachments),i(e.files);const o=[e.diplomaMedicina,e.certificadoResidencia,e.comprovanteExperiencia,e.documento_identidade,e.comprovante_endereco,e.diploma_medicina,e.certificado_residencia,e.comprovante_experiencia,e.rg,e.cpf].filter(Boolean);s.push(...o);const l=q=>{if(!q)return null;if(typeof q=="string")return{nome:(q.split("/").pop()||"Documento").trim(),tamanho:"",dataUpload:e.dataEnvio||e.created_at||e.createdAt||e.submitted_at||new Date().toISOString(),url:q};const te=q.nome||q.name||q.filename||q.file_name||q.titulo||q.tipo||"Documento",F=q.tamanho||q.size||q.file_size||"",X=q.dataUpload||q.data_upload||q.uploaded_at||q.created_at||r.dataEnvio||new Date().toISOString(),H=q.url||q.link||q.path||q.file||q.arquivo||q.location||"";return{nome:te,tamanho:F,dataUpload:X,url:H}},A=s.map(l).filter(Boolean),d=e.endereco||((N=e.medico)==null?void 0:N.endereco)||((C=e.clinica)==null?void 0:C.endereco)||{},f=typeof d=="string"?{cep:e.cep||"",logradouro:d,bairro:"",cidade:"",estado:""}:{cep:d.cep||e.cep||"",logradouro:d.logradouro||d.rua||d.endereco||"",bairro:d.bairro||"",cidade:d.cidade||d.municipio||"",estado:d.estado||d.uf||""},h=e.instituicaoFormacao||e.instituicao_formacao||((E=e.formacao)==null?void 0:E.instituicao)||((D=(U=e.medico)==null?void 0:U.formacao)==null?void 0:D.instituicao)||"",m=e.anoFormacao||e.ano_formacao||((k=e.formacao)==null?void 0:k.ano)||((_=(L=e.medico)==null?void 0:L.formacao)==null?void 0:_.ano)||"",p=e.residencia||((I=(Y=e.formacao)==null?void 0:Y.residencia)==null?void 0:I.nome)||((J=($=e.medico)==null?void 0:$.residencia)==null?void 0:J.nome)||"",v=e.instituicaoResidencia||e.instituicao_residencia||((re=(M=e.formacao)==null?void 0:M.residencia)==null?void 0:re.instituicao)||((G=(K=e.medico)==null?void 0:K.residencia)==null?void 0:G.instituicao)||"",g=e.anoResidencia||e.ano_residencia||((Z=(z=e.formacao)==null?void 0:z.residencia)==null?void 0:Z.ano)||((ee=(Ae=e.medico)==null?void 0:Ae.residencia)==null?void 0:ee.ano)||"",w=e.experiencia||e.experiencias||((R=e.medico)==null?void 0:R.experiencia)||"",y=e.motivacao||e.motivo||e.justificativa||e.reason||"";return{...r,dataAprovacao:t,dataRejeicao:a,documentos:A.length?A:r.documentos,endereco:f,instituicaoFormacao:h,anoFormacao:m,residencia:p,instituicaoResidencia:v,anoResidencia:g,experiencia:w,motivacao:y}}function TE(e,r=300){const[t,a]=b.useState(e);return b.useEffect(()=>{const s=setTimeout(()=>{a(e)},r);return()=>{clearTimeout(s)}},[e,r]),t}function b8(){const[e,r]=b.useState(""),[t,a]=b.useState("all"),[s,i]=b.useState("all"),[o,l]=b.useState("all"),[A,d]=b.useState(!1),[f,h]=b.useState([]),m=b.useRef(null),{toast:p}=Ka(),v=TE(e,500),g=b.useMemo(()=>({search:hd(v.trim()),status:t,tipo:s,urgencia:o}),[v,t,s,o]),w=b.useCallback(async(k,L)=>{try{const _=await pa.getSolicitacoes(k,{signal:L});return Array.isArray(_==null?void 0:_.results)?_.results:Array.isArray(_)?_:[]}catch(_){throw(_==null?void 0:_.name)!=="AbortError"&&console.error("Erro ao buscar solicitaes:",_),_}},[]);b.useEffect(()=>{d(!0);const k=setTimeout(async()=>{if(m.current)try{m.current.abort()}catch{}const L=new AbortController;m.current=L;try{const _={};g.status!=="all"&&(_.status=g.status),g.tipo!=="all"&&(_.tipo=g.tipo),g.urgencia!=="all"&&(_.urgencia=g.urgencia),g.search&&(_.search=g.search);const Y=await w(_,L.signal);h(Y)}catch(_){(_==null?void 0:_.name)!=="AbortError"&&h([])}finally{d(!1)}},200);return()=>clearTimeout(k)},[g,w]);const y=b.useCallback(async k=>{var L;d(!0);try{const _=await pa.aprovarSolicitacao(k);h(Y=>Y.map(I=>I.id===k?{...I,status:"approved",aprovadoPor:(_==null?void 0:_.approved_by)||I.aprovadoPor||"",dataAprovacao:(_==null?void 0:_.approved_at)||I.dataAprovacao||new Date().toISOString(),rejeitadoPor:"",dataRejeicao:null,motivoRejeicao:""}:I)),p({title:"Solicitao aprovada",description:"A solicitao foi aprovada com sucesso."})}catch(_){const Y=(L=_==null?void 0:_.response)==null?void 0:L.status;p({title:Y===403?"Sem permisso":"Erro ao aprovar",description:Y===403?"Seu perfil no possui permisso para aprovar.":"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{d(!1)}},[p]),N=b.useCallback(async k=>{var L;d(!0);try{const _=await pa.rejeitarSolicitacao(k,"Rejeitada pela Secretaria");h(Y=>Y.map(I=>I.id===k?{...I,status:"rejected",rejeitadoPor:(_==null?void 0:_.rejected_by)||I.rejeitadoPor||"",dataRejeicao:(_==null?void 0:_.rejected_at)||I.dataRejeicao||new Date().toISOString(),motivoRejeicao:(_==null?void 0:_.reason)||I.motivoRejeicao||"Rejeitada pela Secretaria"}:I)),p({title:"Solicitao rejeitada",description:"A solicitao foi rejeitada."})}catch(_){const Y=(L=_==null?void 0:_.response)==null?void 0:L.status;p({title:Y===403?"Sem permisso":"Erro ao rejeitar",description:Y===403?"Seu perfil no possui permisso para rejeitar.":"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{d(!1)}},[p]),C=({status:k})=>{const L=String(k||"pending").toLowerCase();return L==="approved"?n.jsx(lr,{variant:"success",children:"Aprovada"}):L==="rejected"?n.jsx(lr,{variant:"destructive",children:"Rejeitada"}):n.jsx(lr,{variant:"warning",children:"Pendente"})},E=({solicitacao:k})=>n.jsxs("div",{className:"p-4 rounded-xl border bg-white shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[k.tipo==="medico"?n.jsx(aa,{className:"h-5 w-5 text-medical-primary"}):n.jsx(Yf,{className:"h-5 w-5 text-medical-primary"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-medical-primary",children:k.nome||""}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Enviada em ",new Date(k.dataEnvio).toLocaleDateString()]})]})]}),n.jsx(C,{status:k.status})]}),n.jsxs("div",{className:"mt-3 text-sm text-muted-foreground flex items-center gap-2",children:[n.jsx(br,{className:"h-4 w-4"}),k.especialidade?n.jsxs("span",{children:["Especialidade: ",k.especialidade]}):n.jsxs("span",{children:["Tipo: ",k.tipo]})]}),k.status==="rejected"&&k.motivoRejeicao&&n.jsx("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 border border-red-200 p-3 rounded-lg mt-3",children:n.jsxs("p",{className:"text-red-800 text-xs font-medium",children:[n.jsx("strong",{children:"Rejeitado:"})," ",k.motivoRejeicao,k.rejeitadoPor&&n.jsxs(n.Fragment,{children:[" por ",k.rejeitadoPor]})]})}),n.jsxs("div",{className:"flex gap-3 pt-3",children:[n.jsx(we,{variant:"outline",size:"sm",asChild:!0,className:"bg-white hover:bg-blue-50 border-blue-200 text-blue-600 hover:text-blue-700 hover:border-blue-300 transition-all duration-200",children:n.jsxs(pr,{to:`/secretaria/solicitacoes/${k.id}`,children:[n.jsx(Ci,{className:"mr-2 h-4 w-4"})," Ver detalhes"]})}),k.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs(we,{size:"sm",onClick:()=>y(k.id),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-md hover:shadow-lg transition-all duration-200",disabled:A,children:[n.jsx(us,{className:"mr-2 h-4 w-4"}),"Aprovar"]}),n.jsxs(we,{variant:"destructive",size:"sm",onClick:()=>N(k.id),className:"bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 shadow-md hover:shadow-lg transition-all duration-200",disabled:A,children:[n.jsx(fs,{className:"mr-2 h-4 w-4"}),"Rejeitar"]})]})]})]}),U=b.useMemo(()=>f.filter(k=>{var $,J;const L=t==="all"||k.status===t,_=s==="all"||k.tipo===s,Y=o==="all"||String(k.urgencia||"normal").toLowerCase()===o,I=!g.search||(($=k.nome)==null?void 0:$.toLowerCase().includes(g.search.toLowerCase()))||((J=k.email)==null?void 0:J.toLowerCase().includes(g.search.toLowerCase()));return L&&_&&Y&&I}),[f,t,s,o,g.search]),D=b.useMemo(()=>({pending:U.filter(k=>k.status==="pending"),approved:U.filter(k=>k.status==="approved"),rejected:U.filter(k=>k.status==="rejected")}),[U]);return n.jsxs("div",{className:"px-6 py-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx(eA,{className:"h-6 w-6 text-medical-primary"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Solicitaes"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie solicitaes recebidas (mdicos e clnicas)"})]})]}),n.jsxs(De,{className:"border-0 shadow-md",children:[n.jsxs(Ve,{children:[n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(iu,{className:"h-5 w-5"})," Filtros"]}),n.jsx(vr,{children:"Refine a busca por status, tipo e urgncia"})]}),n.jsx(Le,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Oe,{placeholder:"Buscar por nome ou email",value:e,onChange:k=>r(k.target.value),className:"pl-9"})]}),n.jsxs(Gr,{value:t,onValueChange:a,children:[n.jsx(zr,{children:n.jsx(Yr,{placeholder:"Status"})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"all",children:"Todos"}),n.jsx(nt,{value:"pending",children:"Pendentes"}),n.jsx(nt,{value:"approved",children:"Aprovadas"}),n.jsx(nt,{value:"rejected",children:"Rejeitadas"})]})]}),n.jsxs(Gr,{value:s,onValueChange:i,children:[n.jsx(zr,{children:n.jsx(Yr,{placeholder:"Tipo"})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"all",children:"Todos"}),n.jsx(nt,{value:"medico",children:"Mdico"}),n.jsx(nt,{value:"clinica",children:"Clnica"})]})]}),n.jsxs(Gr,{value:o,onValueChange:l,children:[n.jsx(zr,{children:n.jsx(Yr,{placeholder:"Urgncia"})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"all",children:"Todas"}),n.jsx(nt,{value:"normal",children:"Normal"}),n.jsx(nt,{value:"alta",children:"Alta"}),n.jsx(nt,{value:"critica",children:"Crtica"})]})]})]})})]}),n.jsx("div",{className:"mt-6",children:n.jsxs(zi,{defaultValue:"todas",className:"space-y-6",children:[n.jsxs(qi,{children:[n.jsx(Pr,{value:"todas",children:"Todas"}),n.jsx(Pr,{value:"pendentes",children:"Pendentes"}),n.jsx(Pr,{value:"aprovadas",children:"Aprovadas"}),n.jsx(Pr,{value:"rejeitadas",children:"Rejeitadas"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(Hr,{value:"todas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):U.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-gray-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(js,{className:"h-8 w-8 text-gray-400"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao encontrada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:U.map(k=>n.jsx(E,{solicitacao:k},k.id))})}),n.jsx(Hr,{value:"pendentes",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):D.pending.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-amber-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx($r,{className:"h-8 w-8 text-amber-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao pendente."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:D.pending.map(k=>n.jsx(E,{solicitacao:k},k.id))})}),n.jsx(Hr,{value:"aprovadas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):D.approved.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-green-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(us,{className:"h-8 w-8 text-green-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao aprovada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:D.approved.map(k=>n.jsx(E,{solicitacao:k},k.id))})}),n.jsx(Hr,{value:"rejeitadas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):D.rejected.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(fs,{className:"h-8 w-8 text-red-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao rejeitada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:D.rejected.map(k=>n.jsx(E,{solicitacao:k},k.id))})})]})]})})]})}const la=b.forwardRef(({className:e,...r},t)=>n.jsx("textarea",{className:ct("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...r}));la.displayName="Textarea";function j8(){const{id:e}=zo(),r=$n(),{toast:t}=Ka(),[a,s]=b.useState(!1),[i,o]=b.useState(""),[l,A]=b.useState(!0),[d,f]=b.useState(null);b.useEffect(()=>{let g=!0;return(async()=>{try{const y=await pa.getSolicitacao(e);g&&f(y)}catch{t({title:"Erro ao carregar",description:"No foi possvel carregar a solicitao.",variant:"destructive"}),r("/secretaria/solicitacoes")}finally{g&&A(!1)}})(),()=>{g=!1}},[e]);const h=async()=>{var g;s(!0);try{await pa.aprovarSolicitacao(e,"Aprovada pela Secretaria"),t({title:"Solicitao aprovada!",description:"Solicitao aprovada com sucesso."}),r("/secretaria/solicitacoes")}catch(w){const y=(g=w==null?void 0:w.response)==null?void 0:g.status;t({title:y===403?"Sem permisso":"Erro",description:y===403?"Seu perfil no possui permisso para aprovar.":"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{s(!1)}},m=async()=>{var g;if(!i.trim()){t({title:"Motivo obrigatrio",description:"Por favor, informe o motivo da rejeio.",variant:"destructive"});return}s(!0);try{await pa.rejeitarSolicitacao(e,i.trim()),t({title:"Solicitao rejeitada",description:"A solicitao foi rejeitada."}),r("/secretaria/solicitacoes")}catch(w){const y=(g=w==null?void 0:w.response)==null?void 0:g.status;t({title:y===403?"Sem permisso":"Erro",description:y===403?"Seu perfil no possui permisso para rejeitar.":"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{s(!1)}},p=g=>{switch(g){case"pending":return n.jsxs(lr,{variant:"warning",className:"",children:[n.jsx(eA,{className:"mr-1 h-3 w-3"})," Aguardando Anlise"]});case"approved":return n.jsxs(lr,{variant:"success",className:"",children:[n.jsx(us,{className:"mr-1 h-3 w-3"})," Aprovado"]});case"rejected":return n.jsxs(lr,{variant:"destructive",className:"",children:[n.jsx(fs,{className:"mr-1 h-3 w-3"})," Rejeitado"]});default:return null}};if(l)return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(we,{variant:"ghost",onClick:()=>r("/secretaria/solicitacoes"),children:[n.jsx(sc,{className:"mr-2 h-4 w-4"})," Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Carregando..."}),n.jsx("p",{className:"text-muted-foreground",children:"Buscando detalhes da solicitao"})]})]})});if(!d)return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(we,{variant:"ghost",onClick:()=>r("/secretaria/solicitacoes"),children:[n.jsx(sc,{className:"mr-2 h-4 w-4"})," Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Solicitao no encontrada"}),n.jsx("p",{className:"text-muted-foreground",children:"Tente novamente mais tarde."})]})]})});const v=(d==null?void 0:d.endereco)||{};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(we,{variant:"ghost",onClick:()=>r("/secretaria/solicitacoes"),children:[n.jsx(sc,{className:"mr-2 h-4 w-4"})," Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Detalhes da Solicitao"}),n.jsx("p",{className:"text-muted-foreground",children:"Anlise da solicitao recebida"})]})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsx("div",{className:"lg:col-span-2 space-y-6",children:n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`app-quick-icon ${d.tipo==="medico"?"info":"primary"} h-12 w-12`,children:d.tipo==="medico"?n.jsx(aa,{className:"h-6 w-6"}):n.jsx(Yf,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-xl",children:d.nome}),n.jsx(vr,{children:d.tipo==="medico"?"Solicitao de Cadastro Mdico":"Solicitao de Cadastro de Clnica"})]})]}),p(d.status)]})}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:d.email||""})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rA,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:d.telefone||d.celular||""})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Especialidade / Tipo"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(br,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:d.especialidade||d.tipo})]})]})]}),n.jsx(hs,{}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Endereo"}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsxs("div",{children:[v==null?void 0:v.logradouro," ",v==null?void 0:v.numero]}),n.jsx("div",{children:v==null?void 0:v.bairro}),n.jsxs("div",{children:[v==null?void 0:v.cidade," - ",v==null?void 0:v.estado]}),n.jsx("div",{children:v==null?void 0:v.cep})]})]})})]})]})}),n.jsx("div",{className:"space-y-6",children:n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsx(Xe,{children:"Aes"}),n.jsx(vr,{children:"Tomar deciso sobre a solicitao"})]}),n.jsx(Le,{className:"space-y-4",children:d.status==="pending"?n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(we,{onClick:h,disabled:a,className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white",children:[n.jsx(us,{className:"mr-2 h-4 w-4"})," Aprovar"]}),n.jsxs(we,{variant:"destructive",onClick:m,disabled:a,children:[n.jsx(fs,{className:"mr-2 h-4 w-4"})," Rejeitar"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Motivo da Rejeio"}),n.jsx(la,{placeholder:"Informe o motivo da rejeio",value:i,onChange:g=>o(g.target.value)})]})]}):d.status==="approved"?n.jsx(lr,{variant:"success",className:"",children:"Aprovado"}):n.jsxs("div",{className:"space-y-2",children:[n.jsx(lr,{variant:"destructive",children:"Rejeitado"}),d.motivoRejeicao&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Motivo: ",d.motivoRejeicao]})]})})]})})]})]})}function Wi({tabs:e,basePath:r}){const t=as();return n.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg border border-gray-200/50 dark:border-gray-700/50 shadow-lg mb-6",children:n.jsx("nav",{className:"flex space-x-1 p-2",children:e.map(a=>{const s=t.pathname===a.href;return n.jsx(pr,{to:a.href,className:ct("flex items-center px-4 py-3 text-sm font-medium transition-all duration-200 rounded-md",s?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-700 hover:text-gray-900 hover:bg-gray-100/80 dark:text-gray-200 dark:hover:text-white dark:hover:bg-gray-700/70"),children:a.label},a.href)})})})}const OE=6048e5,N8=864e5,xx=6e4,vx=36e5,B8=1e3,aN=Symbol.for("constructDateFrom");function $a(e,r){return typeof e=="function"?e(r):e&&typeof e=="object"&&aN in e?e[aN](r):e instanceof Date?new e.constructor(r):new Date(r)}function cr(e,r){return $a(r||e,e)}function vl(e,r,t){const a=cr(e,t==null?void 0:t.in);return isNaN(r)?$a((t==null?void 0:t.in)||e,NaN):(r&&a.setDate(a.getDate()+r),a)}function yl(e,r,t){const a=cr(e,t==null?void 0:t.in);if(isNaN(r))return $a(e,NaN);if(!r)return a;const s=a.getDate(),i=$a(e,a.getTime());i.setMonth(a.getMonth()+r+1,0);const o=i.getDate();return s>=o?i:(a.setFullYear(i.getFullYear(),i.getMonth(),s),a)}function HE(e,r,t){return $a(e,+cr(e)+r)}function C8(e,r,t){return HE(e,r*vx)}let S8={};function Cu(){return S8}function dA(e,r){var l,A,d,f;const t=Cu(),a=(r==null?void 0:r.weekStartsOn)??((A=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:A.weekStartsOn)??t.weekStartsOn??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=cr(e,r==null?void 0:r.in),i=s.getDay(),o=(i<a?7:0)+i-a;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Mf(e,r){return dA(e,{...r,weekStartsOn:1})}function $E(e,r){const t=cr(e,r==null?void 0:r.in),a=t.getFullYear(),s=$a(t,0);s.setFullYear(a+1,0,4),s.setHours(0,0,0,0);const i=Mf(s),o=$a(t,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const l=Mf(o);return t.getTime()>=i.getTime()?a+1:t.getTime()>=l.getTime()?a:a-1}function c0(e){const r=cr(e),t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),+e-+t}function mA(e,...r){const t=$a.bind(null,r.find(a=>typeof a=="object"));return r.map(t)}function wu(e,r){const t=cr(e,r==null?void 0:r.in);return t.setHours(0,0,0,0),t}function Tf(e,r,t){const[a,s]=mA(t==null?void 0:t.in,e,r),i=wu(a),o=wu(s),l=+i-c0(i),A=+o-c0(o);return Math.round((l-A)/N8)}function _8(e,r){const t=$E(e,r),a=$a(e,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),Mf(a)}function Ey(e,r,t){const a=cr(e,t==null?void 0:t.in);return a.setTime(a.getTime()+r*xx),a}function ub(e,r,t){return yl(e,r*3,t)}function E8(e,r,t){return HE(e,r*1e3)}function A0(e,r,t){return vl(e,r*7,t)}function aA(e,r,t){return yl(e,r*12,t)}function nN(e,r){let t,a=r==null?void 0:r.in;return e.forEach(s=>{!a&&typeof s=="object"&&(a=$a.bind(null,s));const i=cr(s,a);(!t||t<i||isNaN(+i))&&(t=i)}),$a(a,t||NaN)}function sN(e,r){let t,a=r==null?void 0:r.in;return e.forEach(s=>{!a&&typeof s=="object"&&(a=$a.bind(null,s));const i=cr(s,a);(!t||t>i||isNaN(+i))&&(t=i)}),$a(a,t||NaN)}function F8(e,r,t){const[a,s]=mA(t==null?void 0:t.in,e,r);return+wu(a)==+wu(s)}function nA(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function d0(e){return!(!nA(e)&&typeof e!="number"||isNaN(+cr(e)))}function u0(e,r,t){const[a,s]=mA(t==null?void 0:t.in,e,r),i=a.getFullYear()-s.getFullYear(),o=a.getMonth()-s.getMonth();return i*12+o}function ou(e,r){const t=cr(e,r==null?void 0:r.in);return Math.trunc(t.getMonth()/3)+1}function f0(e,r,t){const[a,s]=mA(t==null?void 0:t.in,e,r),i=a.getFullYear()-s.getFullYear(),o=ou(a)-ou(s);return i*4+o}function h0(e,r,t){const[a,s]=mA(t==null?void 0:t.in,e,r);return a.getFullYear()-s.getFullYear()}function k8(e,r,t){const[a,s]=mA(t==null?void 0:t.in,e,r),i=iN(a,s),o=Math.abs(Tf(a,s));a.setDate(a.getDate()-i*o);const l=+(iN(a,s)===-i),A=i*(o-l);return A===0?0:A}function iN(e,r){const t=e.getFullYear()-r.getFullYear()||e.getMonth()-r.getMonth()||e.getDate()-r.getDate()||e.getHours()-r.getHours()||e.getMinutes()-r.getMinutes()||e.getSeconds()-r.getSeconds()||e.getMilliseconds()-r.getMilliseconds();return t<0?-1:t>0?1:t}function KE(e,r){const t=cr(e,r==null?void 0:r.in);return t.setHours(23,59,59,999),t}function VE(e,r){const t=cr(e,r==null?void 0:r.in),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}function Fy(e,r){const t=cr(e,r==null?void 0:r.in),a=t.getMonth(),s=a-a%3;return t.setMonth(s,1),t.setHours(0,0,0,0),t}function zE(e,r){const t=cr(e,r==null?void 0:r.in);return t.setDate(1),t.setHours(0,0,0,0),t}function qE(e,r){const t=cr(e,r==null?void 0:r.in),a=t.getFullYear();return t.setFullYear(a+1,0,0),t.setHours(23,59,59,999),t}function wx(e,r){const t=cr(e,r==null?void 0:r.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function D8(e,r){var l,A;const t=Cu(),a=t.weekStartsOn??((A=(l=t.locale)==null?void 0:l.options)==null?void 0:A.weekStartsOn)??0,s=cr(e,r==null?void 0:r.in),i=s.getDay(),o=(i<a?-7:0)+6-(i-a);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}const U8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},L8=(e,r,t)=>{let a;const s=U8[e];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+a:a+" ago":a};function Ef(e){return(r={})=>{const t=r.width?String(r.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const I8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},P8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Q8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},R8={date:Ef({formats:I8,defaultWidth:"full"}),time:Ef({formats:P8,defaultWidth:"full"}),dateTime:Ef({formats:Q8,defaultWidth:"full"})},M8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},T8=(e,r,t,a)=>M8[e];function Yl(e){return(r,t)=>{const a=t!=null&&t.context?String(t.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=t!=null&&t.width?String(t.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=t!=null&&t.width?String(t.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(r):r;return s[i]}}const O8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},H8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},K8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},V8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},z8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},q8=(e,r)=>{const t=Number(e),a=t%100;if(a>20||a<10)switch(a%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},W8={ordinalNumber:q8,era:Yl({values:O8,defaultWidth:"wide"}),quarter:Yl({values:H8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Yl({values:$8,defaultWidth:"wide"}),day:Yl({values:K8,defaultWidth:"wide"}),dayPeriod:Yl({values:V8,defaultWidth:"wide",formattingValues:z8,defaultFormattingWidth:"wide"})};function Xl(e){return(r,t={})=>{const a=t.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=r.match(s);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],A=Array.isArray(l)?Y8(l,h=>h.test(o)):G8(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(A):A,d=t.valueCallback?t.valueCallback(d):d;const f=r.slice(o.length);return{value:d,rest:f}}}function G8(e,r){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&r(e[t]))return t}function Y8(e,r){for(let t=0;t<e.length;t++)if(r(e[t]))return t}function WE(e){return(r,t={})=>{const a=r.match(e.matchPattern);if(!a)return null;const s=a[0],i=r.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;const l=r.slice(s.length);return{value:o,rest:l}}}const X8=/^(\d+)(th|st|nd|rd)?/i,J8=/\d+/i,Z8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eO={any:[/^b/i,/^(a|c)/i]},tO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rO={any:[/1/i,/2/i,/3/i,/4/i]},aO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},oO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cO={ordinalNumber:WE({matchPattern:X8,parsePattern:J8,valueCallback:e=>parseInt(e,10)}),era:Xl({matchPatterns:Z8,defaultMatchWidth:"wide",parsePatterns:eO,defaultParseWidth:"any"}),quarter:Xl({matchPatterns:tO,defaultMatchWidth:"wide",parsePatterns:rO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Xl({matchPatterns:aO,defaultMatchWidth:"wide",parsePatterns:nO,defaultParseWidth:"any"}),day:Xl({matchPatterns:sO,defaultMatchWidth:"wide",parsePatterns:iO,defaultParseWidth:"any"}),dayPeriod:Xl({matchPatterns:oO,defaultMatchWidth:"any",parsePatterns:lO,defaultParseWidth:"any"})},GE={code:"en-US",formatDistance:L8,formatLong:R8,formatRelative:T8,localize:W8,match:cO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function AO(e,r){const t=cr(e,r==null?void 0:r.in);return Tf(t,wx(t))+1}function fb(e,r){const t=cr(e,r==null?void 0:r.in),a=+Mf(t)-+_8(t);return Math.round(a/OE)+1}function hb(e,r){var f,h,m,p;const t=cr(e,r==null?void 0:r.in),a=t.getFullYear(),s=Cu(),i=(r==null?void 0:r.firstWeekContainsDate)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=$a((r==null?void 0:r.in)||e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=dA(o,r),A=$a((r==null?void 0:r.in)||e,0);A.setFullYear(a,0,i),A.setHours(0,0,0,0);const d=dA(A,r);return+t>=+l?a+1:+t>=+d?a:a-1}function dO(e,r){var l,A,d,f;const t=Cu(),a=(r==null?void 0:r.firstWeekContainsDate)??((A=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:A.firstWeekContainsDate)??t.firstWeekContainsDate??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,s=hb(e,r),i=$a((r==null?void 0:r.in)||e,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),dA(i,r)}function YE(e,r){const t=cr(e,r==null?void 0:r.in),a=+dA(t,r)-+dO(t,r);return Math.round(a/OE)+1}function Oa(e,r){const t=e<0?"-":"",a=Math.abs(e).toString().padStart(r,"0");return t+a}const VA={y(e,r){const t=e.getFullYear(),a=t>0?t:1-t;return Oa(r==="yy"?a%100:a,r.length)},M(e,r){const t=e.getMonth();return r==="M"?String(t+1):Oa(t+1,2)},d(e,r){return Oa(e.getDate(),r.length)},a(e,r){const t=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,r){return Oa(e.getHours()%12||12,r.length)},H(e,r){return Oa(e.getHours(),r.length)},m(e,r){return Oa(e.getMinutes(),r.length)},s(e,r){return Oa(e.getSeconds(),r.length)},S(e,r){const t=r.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,t-3));return Oa(s,r.length)}},of={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},oN={G:function(e,r,t){const a=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(a,{width:"abbreviated"});case"GGGGG":return t.era(a,{width:"narrow"});case"GGGG":default:return t.era(a,{width:"wide"})}},y:function(e,r,t){if(r==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return t.ordinalNumber(s,{unit:"year"})}return VA.y(e,r)},Y:function(e,r,t,a){const s=hb(e,a),i=s>0?s:1-s;if(r==="YY"){const o=i%100;return Oa(o,2)}return r==="Yo"?t.ordinalNumber(i,{unit:"year"}):Oa(i,r.length)},R:function(e,r){const t=$E(e);return Oa(t,r.length)},u:function(e,r){const t=e.getFullYear();return Oa(t,r.length)},Q:function(e,r,t){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Oa(a,2);case"Qo":return t.ordinalNumber(a,{unit:"quarter"});case"QQQ":return t.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,t){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Oa(a,2);case"qo":return t.ordinalNumber(a,{unit:"quarter"});case"qqq":return t.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,t){const a=e.getMonth();switch(r){case"M":case"MM":return VA.M(e,r);case"Mo":return t.ordinalNumber(a+1,{unit:"month"});case"MMM":return t.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,t){const a=e.getMonth();switch(r){case"L":return String(a+1);case"LL":return Oa(a+1,2);case"Lo":return t.ordinalNumber(a+1,{unit:"month"});case"LLL":return t.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,t,a){const s=YE(e,a);return r==="wo"?t.ordinalNumber(s,{unit:"week"}):Oa(s,r.length)},I:function(e,r,t){const a=fb(e);return r==="Io"?t.ordinalNumber(a,{unit:"week"}):Oa(a,r.length)},d:function(e,r,t){return r==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):VA.d(e,r)},D:function(e,r,t){const a=AO(e);return r==="Do"?t.ordinalNumber(a,{unit:"dayOfYear"}):Oa(a,r.length)},E:function(e,r,t){const a=e.getDay();switch(r){case"E":case"EE":case"EEE":return t.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(a,{width:"short",context:"formatting"});case"EEEE":default:return t.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,t,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return Oa(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(e,r,t,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return Oa(i,r.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(e,r,t){const a=e.getDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return Oa(s,r.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(a,{width:"short",context:"formatting"});case"iiii":default:return t.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,t){const s=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,r,t){const a=e.getHours();let s;switch(a===12?s=of.noon:a===0?s=of.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,r,t){const a=e.getHours();let s;switch(a>=17?s=of.evening:a>=12?s=of.afternoon:a>=4?s=of.morning:s=of.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,r,t){if(r==="ho"){let a=e.getHours()%12;return a===0&&(a=12),t.ordinalNumber(a,{unit:"hour"})}return VA.h(e,r)},H:function(e,r,t){return r==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):VA.H(e,r)},K:function(e,r,t){const a=e.getHours()%12;return r==="Ko"?t.ordinalNumber(a,{unit:"hour"}):Oa(a,r.length)},k:function(e,r,t){let a=e.getHours();return a===0&&(a=24),r==="ko"?t.ordinalNumber(a,{unit:"hour"}):Oa(a,r.length)},m:function(e,r,t){return r==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):VA.m(e,r)},s:function(e,r,t){return r==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):VA.s(e,r)},S:function(e,r){return VA.S(e,r)},X:function(e,r,t){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return cN(a);case"XXXX":case"XX":return Gd(a);case"XXXXX":case"XXX":default:return Gd(a,":")}},x:function(e,r,t){const a=e.getTimezoneOffset();switch(r){case"x":return cN(a);case"xxxx":case"xx":return Gd(a);case"xxxxx":case"xxx":default:return Gd(a,":")}},O:function(e,r,t){const a=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+lN(a,":");case"OOOO":default:return"GMT"+Gd(a,":")}},z:function(e,r,t){const a=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+lN(a,":");case"zzzz":default:return"GMT"+Gd(a,":")}},t:function(e,r,t){const a=Math.trunc(+e/1e3);return Oa(a,r.length)},T:function(e,r,t){return Oa(+e,r.length)}};function lN(e,r=""){const t=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),i=a%60;return i===0?t+String(s):t+String(s)+r+Oa(i,2)}function cN(e,r){return e%60===0?(e>0?"-":"+")+Oa(Math.abs(e)/60,2):Gd(e,r)}function Gd(e,r=""){const t=e>0?"-":"+",a=Math.abs(e),s=Oa(Math.trunc(a/60),2),i=Oa(a%60,2);return t+s+r+i}const AN=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},XE=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},uO=(e,r)=>{const t=e.match(/(P+)(p+)?/)||[],a=t[1],s=t[2];if(!s)return AN(e,r);let i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",AN(a,r)).replace("{{time}}",XE(s,r))},ky={p:XE,P:uO},fO=/^D+$/,hO=/^Y+$/,mO=["D","DD","YY","YYYY"];function pO(e){return fO.test(e)}function gO(e){return hO.test(e)}function xO(e,r,t){const a=vO(e,r,t);if(console.warn(a),mO.includes(e))throw new RangeError(a)}function vO(e,r,t){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${a} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bO=/^'([^]*?)'?$/,jO=/''/g,NO=/[a-zA-Z]/;function ZA(e,r,t){var f,h,m,p,v,g,w,y;const a=Cu(),s=(t==null?void 0:t.locale)??a.locale??GE,i=(t==null?void 0:t.firstWeekContainsDate)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=(t==null?void 0:t.weekStartsOn)??((g=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??a.weekStartsOn??((y=(w=a.locale)==null?void 0:w.options)==null?void 0:y.weekStartsOn)??0,l=cr(e,t==null?void 0:t.in);if(!d0(l))throw new RangeError("Invalid time value");let A=r.match(yO).map(N=>{const C=N[0];if(C==="p"||C==="P"){const E=ky[C];return E(N,s.formatLong)}return N}).join("").match(wO).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const C=N[0];if(C==="'")return{isToken:!1,value:BO(N)};if(oN[C])return{isToken:!0,value:N};if(C.match(NO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:N}});s.localize.preprocessor&&(A=s.localize.preprocessor(l,A));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return A.map(N=>{if(!N.isToken)return N.value;const C=N.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&gO(C)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&pO(C))&&xO(C,r,String(e));const E=oN[C[0]];return E(l,C,s.localize,d)}).join("")}function BO(e){const r=e.match(bO);return r?r[1].replace(jO,"'"):e}function dN(e,r){return cr(e,r==null?void 0:r.in).getDate()}function CO(e,r){return cr(e,r==null?void 0:r.in).getDay()}function SO(e,r){const t=cr(e,r==null?void 0:r.in),a=t.getFullYear(),s=t.getMonth(),i=$a(t,0);return i.setFullYear(a,s+1,0),i.setHours(0,0,0,0),i.getDate()}function _O(){return Object.assign({},Cu())}function sA(e,r){return cr(e,r==null?void 0:r.in).getHours()}function EO(e,r){const t=cr(e,r==null?void 0:r.in).getDay();return t===0?7:t}function iA(e,r){return cr(e,r==null?void 0:r.in).getMinutes()}function di(e,r){return cr(e,r==null?void 0:r.in).getMonth()}function od(e){return cr(e).getSeconds()}function Dy(e){return+cr(e)}function ra(e,r){return cr(e,r==null?void 0:r.in).getFullYear()}function md(e,r){return+cr(e)>+cr(r)}function rc(e,r){return+cr(e)<+cr(r)}function FO(e,r){return+cr(e)==+cr(r)}function kO(e,r){const t=DO(r)?new r(0):$a(r,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}function DO(e){var r;return typeof e=="function"&&((r=e.prototype)==null?void 0:r.constructor)===e}const UO=10;class JE{constructor(){pt(this,"subPriority",0)}validate(r,t){return!0}}class LO extends JE{constructor(r,t,a,s,i){super(),this.value=r,this.validateValue=t,this.setValue=a,this.priority=s,i&&(this.subPriority=i)}validate(r,t){return this.validateValue(r,this.value,t)}set(r,t,a){return this.setValue(r,t,this.value,a)}}class IO extends JE{constructor(t,a){super();pt(this,"priority",UO);pt(this,"subPriority",-1);this.context=t||(s=>$a(a,s))}set(t,a){return a.timestampIsSet?t:$a(t,kO(t,this.context))}}let Fa=class{run(r,t,a,s){const i=this.parse(r,t,a,s);return i?{setter:new LO(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(r,t,a){return!0}};class PO extends Fa{constructor(){super(...arguments);pt(this,"priority",140);pt(this,"incompatibleTokens",["R","u","t","T"])}parse(t,a,s){switch(a){case"G":case"GG":case"GGG":return s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"});case"GGGGG":return s.era(t,{width:"narrow"});case"GGGG":default:return s.era(t,{width:"wide"})||s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"})}}set(t,a,s){return a.era=s,t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}const Zn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Jl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function es(e,r){return e&&{value:r(e.value),rest:e.rest}}function Un(e,r){const t=r.match(e);return t?{value:parseInt(t[0],10),rest:r.slice(t[0].length)}:null}function Zl(e,r){const t=r.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:r.slice(1)};const a=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,i=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:a*(s*vx+i*xx+o*B8),rest:r.slice(t[0].length)}}function ZE(e){return Un(Zn.anyDigitsSigned,e)}function Hn(e,r){switch(e){case 1:return Un(Zn.singleDigit,r);case 2:return Un(Zn.twoDigits,r);case 3:return Un(Zn.threeDigits,r);case 4:return Un(Zn.fourDigits,r);default:return Un(new RegExp("^\\d{1,"+e+"}"),r)}}function m0(e,r){switch(e){case 1:return Un(Zn.singleDigitSigned,r);case 2:return Un(Zn.twoDigitsSigned,r);case 3:return Un(Zn.threeDigitsSigned,r);case 4:return Un(Zn.fourDigitsSigned,r);default:return Un(new RegExp("^-?\\d{1,"+e+"}"),r)}}function mb(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function eF(e,r){const t=r>0,a=t?r:1-r;let s;if(a<=50)s=e||100;else{const i=a+50,o=Math.trunc(i/100)*100,l=e>=i%100;s=e+o-(l?100:0)}return t?s:1-s}function tF(e){return e%400===0||e%4===0&&e%100!==0}class QO extends Fa{constructor(){super(...arguments);pt(this,"priority",130);pt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,a,s){const i=o=>({year:o,isTwoDigitYear:a==="yy"});switch(a){case"y":return es(Hn(4,t),i);case"yo":return es(s.ordinalNumber(t,{unit:"year"}),i);default:return es(Hn(a.length,t),i)}}validate(t,a){return a.isTwoDigitYear||a.year>0}set(t,a,s){const i=t.getFullYear();if(s.isTwoDigitYear){const l=eF(s.year,i);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const o=!("era"in a)||a.era===1?s.year:1-s.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class RO extends Fa{constructor(){super(...arguments);pt(this,"priority",130);pt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,a,s){const i=o=>({year:o,isTwoDigitYear:a==="YY"});switch(a){case"Y":return es(Hn(4,t),i);case"Yo":return es(s.ordinalNumber(t,{unit:"year"}),i);default:return es(Hn(a.length,t),i)}}validate(t,a){return a.isTwoDigitYear||a.year>0}set(t,a,s,i){const o=hb(t,i);if(s.isTwoDigitYear){const A=eF(s.year,o);return t.setFullYear(A,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),dA(t,i)}const l=!("era"in a)||a.era===1?s.year:1-s.year;return t.setFullYear(l,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),dA(t,i)}}class MO extends Fa{constructor(){super(...arguments);pt(this,"priority",130);pt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,a){return m0(a==="R"?4:a.length,t)}set(t,a,s){const i=$a(t,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),Mf(i)}}class TO extends Fa{constructor(){super(...arguments);pt(this,"priority",130);pt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,a){return m0(a==="u"?4:a.length,t)}set(t,a,s){return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class OO extends Fa{constructor(){super(...arguments);pt(this,"priority",120);pt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,a,s){switch(a){case"Q":case"QQ":return Hn(a.length,t);case"Qo":return s.ordinalNumber(t,{unit:"quarter"});case"QQQ":return s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(t,{width:"wide",context:"formatting"})||s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,a){return a>=1&&a<=4}set(t,a,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class HO extends Fa{constructor(){super(...arguments);pt(this,"priority",120);pt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,a,s){switch(a){case"q":case"qq":return Hn(a.length,t);case"qo":return s.ordinalNumber(t,{unit:"quarter"});case"qqq":return s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(t,{width:"wide",context:"standalone"})||s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,a){return a>=1&&a<=4}set(t,a,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class $O extends Fa{constructor(){super(...arguments);pt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);pt(this,"priority",110)}parse(t,a,s){const i=o=>o-1;switch(a){case"M":return es(Un(Zn.month,t),i);case"MM":return es(Hn(2,t),i);case"Mo":return es(s.ordinalNumber(t,{unit:"month"}),i);case"MMM":return s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(t,{width:"wide",context:"formatting"})||s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"})}}validate(t,a){return a>=0&&a<=11}set(t,a,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}class KO extends Fa{constructor(){super(...arguments);pt(this,"priority",110);pt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,a,s){const i=o=>o-1;switch(a){case"L":return es(Un(Zn.month,t),i);case"LL":return es(Hn(2,t),i);case"Lo":return es(s.ordinalNumber(t,{unit:"month"}),i);case"LLL":return s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(t,{width:"wide",context:"standalone"})||s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"})}}validate(t,a){return a>=0&&a<=11}set(t,a,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}function VO(e,r,t){const a=cr(e,t==null?void 0:t.in),s=YE(a,t)-r;return a.setDate(a.getDate()-s*7),cr(a,t==null?void 0:t.in)}class zO extends Fa{constructor(){super(...arguments);pt(this,"priority",100);pt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,a,s){switch(a){case"w":return Un(Zn.week,t);case"wo":return s.ordinalNumber(t,{unit:"week"});default:return Hn(a.length,t)}}validate(t,a){return a>=1&&a<=53}set(t,a,s,i){return dA(VO(t,s,i),i)}}function qO(e,r,t){const a=cr(e,t==null?void 0:t.in),s=fb(a,t)-r;return a.setDate(a.getDate()-s*7),a}class WO extends Fa{constructor(){super(...arguments);pt(this,"priority",100);pt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,a,s){switch(a){case"I":return Un(Zn.week,t);case"Io":return s.ordinalNumber(t,{unit:"week"});default:return Hn(a.length,t)}}validate(t,a){return a>=1&&a<=53}set(t,a,s){return Mf(qO(t,s))}}const GO=[31,28,31,30,31,30,31,31,30,31,30,31],YO=[31,29,31,30,31,30,31,31,30,31,30,31];class XO extends Fa{constructor(){super(...arguments);pt(this,"priority",90);pt(this,"subPriority",1);pt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,a,s){switch(a){case"d":return Un(Zn.date,t);case"do":return s.ordinalNumber(t,{unit:"date"});default:return Hn(a.length,t)}}validate(t,a){const s=t.getFullYear(),i=tF(s),o=t.getMonth();return i?a>=1&&a<=YO[o]:a>=1&&a<=GO[o]}set(t,a,s){return t.setDate(s),t.setHours(0,0,0,0),t}}class JO extends Fa{constructor(){super(...arguments);pt(this,"priority",90);pt(this,"subpriority",1);pt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,a,s){switch(a){case"D":case"DD":return Un(Zn.dayOfYear,t);case"Do":return s.ordinalNumber(t,{unit:"date"});default:return Hn(a.length,t)}}validate(t,a){const s=t.getFullYear();return tF(s)?a>=1&&a<=366:a>=1&&a<=365}set(t,a,s){return t.setMonth(0,s),t.setHours(0,0,0,0),t}}function pb(e,r,t){var h,m,p,v;const a=Cu(),s=(t==null?void 0:t.weekStartsOn)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??a.weekStartsOn??((v=(p=a.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,i=cr(e,t==null?void 0:t.in),o=i.getDay(),A=(r%7+7)%7,d=7-s,f=r<0||r>6?r-(o+d)%7:(A+d)%7-(o+d)%7;return vl(i,f,t)}class ZO extends Fa{constructor(){super(...arguments);pt(this,"priority",90);pt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,a,s){switch(a){case"E":case"EE":case"EEE":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,a){return a>=0&&a<=6}set(t,a,s,i){return t=pb(t,s,i),t.setHours(0,0,0,0),t}}class eH extends Fa{constructor(){super(...arguments);pt(this,"priority",90);pt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,a,s,i){const o=l=>{const A=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+A};switch(a){case"e":case"ee":return es(Hn(a.length,t),o);case"eo":return es(s.ordinalNumber(t,{unit:"day"}),o);case"eee":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeeee":return s.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,a){return a>=0&&a<=6}set(t,a,s,i){return t=pb(t,s,i),t.setHours(0,0,0,0),t}}class tH extends Fa{constructor(){super(...arguments);pt(this,"priority",90);pt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,a,s,i){const o=l=>{const A=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+A};switch(a){case"c":case"cc":return es(Hn(a.length,t),o);case"co":return es(s.ordinalNumber(t,{unit:"day"}),o);case"ccc":return s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"ccccc":return s.day(t,{width:"narrow",context:"standalone"});case"cccccc":return s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(t,{width:"wide",context:"standalone"})||s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"})}}validate(t,a){return a>=0&&a<=6}set(t,a,s,i){return t=pb(t,s,i),t.setHours(0,0,0,0),t}}function rH(e,r,t){const a=cr(e,t==null?void 0:t.in),s=EO(a,t),i=r-s;return vl(a,i,t)}class aH extends Fa{constructor(){super(...arguments);pt(this,"priority",90);pt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,a,s){const i=o=>o===0?7:o;switch(a){case"i":case"ii":return Hn(a.length,t);case"io":return s.ordinalNumber(t,{unit:"day"});case"iii":return es(s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return es(s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return es(s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiii":default:return es(s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,a){return a>=1&&a<=7}set(t,a,s){return t=rH(t,s),t.setHours(0,0,0,0),t}}class nH extends Fa{constructor(){super(...arguments);pt(this,"priority",80);pt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,a,s){switch(a){case"a":case"aa":case"aaa":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,a,s){return t.setHours(mb(s),0,0,0),t}}class sH extends Fa{constructor(){super(...arguments);pt(this,"priority",80);pt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,a,s){switch(a){case"b":case"bb":case"bbb":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,a,s){return t.setHours(mb(s),0,0,0),t}}class iH extends Fa{constructor(){super(...arguments);pt(this,"priority",80);pt(this,"incompatibleTokens",["a","b","t","T"])}parse(t,a,s){switch(a){case"B":case"BB":case"BBB":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,a,s){return t.setHours(mb(s),0,0,0),t}}class oH extends Fa{constructor(){super(...arguments);pt(this,"priority",70);pt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,a,s){switch(a){case"h":return Un(Zn.hour12h,t);case"ho":return s.ordinalNumber(t,{unit:"hour"});default:return Hn(a.length,t)}}validate(t,a){return a>=1&&a<=12}set(t,a,s){const i=t.getHours()>=12;return i&&s<12?t.setHours(s+12,0,0,0):!i&&s===12?t.setHours(0,0,0,0):t.setHours(s,0,0,0),t}}class lH extends Fa{constructor(){super(...arguments);pt(this,"priority",70);pt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,a,s){switch(a){case"H":return Un(Zn.hour23h,t);case"Ho":return s.ordinalNumber(t,{unit:"hour"});default:return Hn(a.length,t)}}validate(t,a){return a>=0&&a<=23}set(t,a,s){return t.setHours(s,0,0,0),t}}class cH extends Fa{constructor(){super(...arguments);pt(this,"priority",70);pt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,a,s){switch(a){case"K":return Un(Zn.hour11h,t);case"Ko":return s.ordinalNumber(t,{unit:"hour"});default:return Hn(a.length,t)}}validate(t,a){return a>=0&&a<=11}set(t,a,s){return t.getHours()>=12&&s<12?t.setHours(s+12,0,0,0):t.setHours(s,0,0,0),t}}class AH extends Fa{constructor(){super(...arguments);pt(this,"priority",70);pt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,a,s){switch(a){case"k":return Un(Zn.hour24h,t);case"ko":return s.ordinalNumber(t,{unit:"hour"});default:return Hn(a.length,t)}}validate(t,a){return a>=1&&a<=24}set(t,a,s){const i=s<=24?s%24:s;return t.setHours(i,0,0,0),t}}class dH extends Fa{constructor(){super(...arguments);pt(this,"priority",60);pt(this,"incompatibleTokens",["t","T"])}parse(t,a,s){switch(a){case"m":return Un(Zn.minute,t);case"mo":return s.ordinalNumber(t,{unit:"minute"});default:return Hn(a.length,t)}}validate(t,a){return a>=0&&a<=59}set(t,a,s){return t.setMinutes(s,0,0),t}}class uH extends Fa{constructor(){super(...arguments);pt(this,"priority",50);pt(this,"incompatibleTokens",["t","T"])}parse(t,a,s){switch(a){case"s":return Un(Zn.second,t);case"so":return s.ordinalNumber(t,{unit:"second"});default:return Hn(a.length,t)}}validate(t,a){return a>=0&&a<=59}set(t,a,s){return t.setSeconds(s,0),t}}class fH extends Fa{constructor(){super(...arguments);pt(this,"priority",30);pt(this,"incompatibleTokens",["t","T"])}parse(t,a){const s=i=>Math.trunc(i*Math.pow(10,-a.length+3));return es(Hn(a.length,t),s)}set(t,a,s){return t.setMilliseconds(s),t}}class hH extends Fa{constructor(){super(...arguments);pt(this,"priority",10);pt(this,"incompatibleTokens",["t","T","x"])}parse(t,a){switch(a){case"X":return Zl(Jl.basicOptionalMinutes,t);case"XX":return Zl(Jl.basic,t);case"XXXX":return Zl(Jl.basicOptionalSeconds,t);case"XXXXX":return Zl(Jl.extendedOptionalSeconds,t);case"XXX":default:return Zl(Jl.extended,t)}}set(t,a,s){return a.timestampIsSet?t:$a(t,t.getTime()-c0(t)-s)}}class mH extends Fa{constructor(){super(...arguments);pt(this,"priority",10);pt(this,"incompatibleTokens",["t","T","X"])}parse(t,a){switch(a){case"x":return Zl(Jl.basicOptionalMinutes,t);case"xx":return Zl(Jl.basic,t);case"xxxx":return Zl(Jl.basicOptionalSeconds,t);case"xxxxx":return Zl(Jl.extendedOptionalSeconds,t);case"xxx":default:return Zl(Jl.extended,t)}}set(t,a,s){return a.timestampIsSet?t:$a(t,t.getTime()-c0(t)-s)}}class pH extends Fa{constructor(){super(...arguments);pt(this,"priority",40);pt(this,"incompatibleTokens","*")}parse(t){return ZE(t)}set(t,a,s){return[$a(t,s*1e3),{timestampIsSet:!0}]}}class gH extends Fa{constructor(){super(...arguments);pt(this,"priority",20);pt(this,"incompatibleTokens","*")}parse(t){return ZE(t)}set(t,a,s){return[$a(t,s),{timestampIsSet:!0}]}}const xH={G:new PO,y:new QO,Y:new RO,R:new MO,u:new TO,Q:new OO,q:new HO,M:new $O,L:new KO,w:new zO,I:new WO,d:new XO,D:new JO,E:new ZO,e:new eH,c:new tH,i:new aH,a:new nH,b:new sH,B:new iH,h:new oH,H:new lH,K:new cH,k:new AH,m:new dH,s:new uH,S:new fH,X:new hH,x:new mH,t:new pH,T:new gH},vH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yH=/^'([^]*?)'?$/,bH=/''/g,jH=/\S/,NH=/[a-zA-Z]/;function BH(e,r,t,a){var w,y,N,C,E,U,D,k;const s=()=>$a((a==null?void 0:a.in)||t,NaN),i=_O(),o=(a==null?void 0:a.locale)??i.locale??GE,l=(a==null?void 0:a.firstWeekContainsDate)??((y=(w=a==null?void 0:a.locale)==null?void 0:w.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((C=(N=i.locale)==null?void 0:N.options)==null?void 0:C.firstWeekContainsDate)??1,A=(a==null?void 0:a.weekStartsOn)??((U=(E=a==null?void 0:a.locale)==null?void 0:E.options)==null?void 0:U.weekStartsOn)??i.weekStartsOn??((k=(D=i.locale)==null?void 0:D.options)==null?void 0:k.weekStartsOn)??0;if(!r)return e?s():cr(t,a==null?void 0:a.in);const d={firstWeekContainsDate:l,weekStartsOn:A,locale:o},f=[new IO(a==null?void 0:a.in,t)],h=r.match(wH).map(L=>{const _=L[0];if(_ in ky){const Y=ky[_];return Y(L,o.formatLong)}return L}).join("").match(vH),m=[];for(let L of h){const _=L[0],Y=xH[_];if(Y){const{incompatibleTokens:I}=Y;if(Array.isArray(I)){const J=m.find(M=>I.includes(M.token)||M.token===_);if(J)throw new RangeError(`The format string mustn't contain \`${J.fullToken}\` and \`${L}\` at the same time`)}else if(Y.incompatibleTokens==="*"&&m.length>0)throw new RangeError(`The format string mustn't contain \`${L}\` and any other token at the same time`);m.push({token:_,fullToken:L});const $=Y.run(e,L,o.match,d);if(!$)return s();f.push($.setter),e=$.rest}else{if(_.match(NH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");if(L==="''"?L="'":_==="'"&&(L=CH(L)),e.indexOf(L)===0)e=e.slice(L.length);else return s()}}if(e.length>0&&jH.test(e))return s();const p=f.map(L=>L.priority).sort((L,_)=>_-L).filter((L,_,Y)=>Y.indexOf(L)===_).map(L=>f.filter(_=>_.priority===L).sort((_,Y)=>Y.subPriority-_.subPriority)).map(L=>L[0]);let v=cr(t,a==null?void 0:a.in);if(isNaN(+v))return s();const g={};for(const L of p){if(!L.validate(v,d))return s();const _=L.set(v,g,d);Array.isArray(_)?(v=_[0],Object.assign(g,_[1])):v=_}return v}function CH(e){return e.match(yH)[1].replace(bH,"'")}function SH(e,r,t){const[a,s]=mA(t==null?void 0:t.in,e,r);return a.getFullYear()===s.getFullYear()&&a.getMonth()===s.getMonth()}function _H(e,r,t){const[a,s]=mA(t==null?void 0:t.in,e,r);return+Fy(a)==+Fy(s)}function EH(e,r,t){const[a,s]=mA(t==null?void 0:t.in,e,r);return a.getFullYear()===s.getFullYear()}function mm(e,r,t){const a=+cr(e,t==null?void 0:t.in),[s,i]=[+cr(r.start,t==null?void 0:t.in),+cr(r.end,t==null?void 0:t.in)].sort((o,l)=>o-l);return a>=s&&a<=i}function FH(e,r,t){return vl(e,-1,t)}function rF(e,r){const t=()=>$a(r==null?void 0:r.in,NaN),s=LH(e);let i;if(s.date){const d=IH(s.date,2);i=PH(d.restDateString,d.year)}if(!i||isNaN(+i))return t();const o=+i;let l=0,A;if(s.time&&(l=QH(s.time),isNaN(l)))return t();if(s.timezone){if(A=RH(s.timezone),isNaN(A))return t()}else{const d=new Date(o+l),f=cr(0,r==null?void 0:r.in);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return cr(o+l+A,r==null?void 0:r.in)}const Lp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},kH=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,DH=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,UH=/^([+-])(\d{2})(?::?(\d{2}))?$/;function LH(e){const r={},t=e.split(Lp.dateTimeDelimiter);let a;if(t.length>2)return r;if(/:/.test(t[0])?a=t[0]:(r.date=t[0],a=t[1],Lp.timeZoneDelimiter.test(r.date)&&(r.date=e.split(Lp.timeZoneDelimiter)[0],a=e.substr(r.date.length,e.length))),a){const s=Lp.timezone.exec(a);s?(r.time=a.replace(s[1],""),r.timezone=s[1]):r.time=a}return r}function IH(e,r){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),a=e.match(t);if(!a)return{year:NaN,restDateString:""};const s=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((a[1]||a[2]).length)}}function PH(e,r){if(r===null)return new Date(NaN);const t=e.match(kH);if(!t)return new Date(NaN);const a=!!t[4],s=Dh(t[1]),i=Dh(t[2])-1,o=Dh(t[3]),l=Dh(t[4]),A=Dh(t[5])-1;if(a)return $H(r,l,A)?MH(r,l,A):new Date(NaN);{const d=new Date(0);return!OH(r,i,o)||!HH(r,s)?new Date(NaN):(d.setUTCFullYear(r,i,Math.max(s,o)),d)}}function Dh(e){return e?parseInt(e):1}function QH(e){const r=e.match(DH);if(!r)return NaN;const t=Zv(r[1]),a=Zv(r[2]),s=Zv(r[3]);return KH(t,a,s)?t*vx+a*xx+s*1e3:NaN}function Zv(e){return e&&parseFloat(e.replace(",","."))||0}function RH(e){if(e==="Z")return 0;const r=e.match(UH);if(!r)return 0;const t=r[1]==="+"?-1:1,a=parseInt(r[2]),s=r[3]&&parseInt(r[3])||0;return VH(a,s)?t*(a*vx+s*xx):NaN}function MH(e,r,t){const a=new Date(0);a.setUTCFullYear(e,0,4);const s=a.getUTCDay()||7,i=(r-1)*7+t+1-s;return a.setUTCDate(a.getUTCDate()+i),a}const TH=[31,null,31,30,31,30,31,31,30,31,30,31];function aF(e){return e%400===0||e%4===0&&e%100!==0}function OH(e,r,t){return r>=0&&r<=11&&t>=1&&t<=(TH[r]||(aF(e)?29:28))}function HH(e,r){return r>=1&&r<=(aF(e)?366:365)}function $H(e,r,t){return r>=1&&r<=53&&t>=0&&t<=6}function KH(e,r,t){return e===24?r===0&&t===0:t>=0&&t<60&&r>=0&&r<60&&e>=0&&e<25}function VH(e,r){return r>=0&&r<=59}function fo(e,r,t){const a=cr(e,t==null?void 0:t.in),s=a.getFullYear(),i=a.getDate(),o=$a(e,0);o.setFullYear(s,r,15),o.setHours(0,0,0,0);const l=SO(o);return a.setMonth(r,Math.min(i,l)),a}function Fg(e,r,t){const a=cr(e,t==null?void 0:t.in);return a.setHours(r),a}function kg(e,r,t){const a=cr(e,t==null?void 0:t.in);return a.setMinutes(r),a}function gf(e,r,t){const a=cr(e,t==null?void 0:t.in),s=Math.trunc(a.getMonth()/3)+1,i=r-s;return fo(a,a.getMonth()+i*3)}function Dg(e,r,t){const a=cr(e,t==null?void 0:t.in);return a.setSeconds(r),a}function ql(e,r,t){const a=cr(e,t==null?void 0:t.in);return isNaN(+a)?$a(e,NaN):(a.setFullYear(r),a)}function lu(e,r,t){return yl(e,-r,t)}function nF(e,r,t){return ub(e,-1,t)}function uN(e,r,t){return A0(e,-1,t)}function Of(e,r,t){return aA(e,-r,t)}var zH=typeof document<"u",qH=function(){},p0=zH?b.useLayoutEffect:qH;const WH={...bm},GH=WH.useInsertionEffect,YH=GH||(e=>e());function XH(e){const r=b.useRef(()=>{});return YH(()=>{r.current=e}),b.useCallback(function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return r.current==null?void 0:r.current(...a)},[])}const JH={...bm};let fN=!1,ZH=0;const hN=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ZH++;function e7(){const[e,r]=b.useState(()=>fN?hN():void 0);return p0(()=>{e==null&&r(hN())},[]),b.useEffect(()=>{fN=!0},[]),e}const t7=JH.useId,sF=t7||e7,r7=b.forwardRef(function(r,t){const{context:{placement:a,elements:{floating:s},middlewareData:{arrow:i,shift:o}},width:l=14,height:A=7,tipRadius:d=0,strokeWidth:f=0,staticOffset:h,stroke:m,d:p,style:{transform:v,...g}={},...w}=r,y=sF(),[N,C]=b.useState(!1);if(p0(()=>{if(!s)return;Ko(s).direction==="rtl"&&C(!0)},[s]),!s)return null;const[E,U]=a.split("-"),D=E==="top"||E==="bottom";let k=h;(D&&o!=null&&o.x||!D&&o!=null&&o.y)&&(k=null);const L=f*2,_=L/2,Y=l/2*(d/-8+1),I=A/2*d/4,$=!!p,J=k&&U==="end"?"bottom":"top";let M=k&&U==="end"?"right":"left";k&&N&&(M=U==="end"?"left":"right");const re=(i==null?void 0:i.x)!=null?k||i.x:"",K=(i==null?void 0:i.y)!=null?k||i.y:"",G=p||"M0,0"+(" H"+l)+(" L"+(l-Y)+","+(A-I))+(" Q"+l/2+","+A+" "+Y+","+(A-I))+" Z",z={top:$?"rotate(180deg)":"",left:$?"rotate(90deg)":"rotate(-90deg)",bottom:$?"":"rotate(180deg)",right:$?"rotate(-90deg)":"rotate(90deg)"}[E];return n.jsxs("svg",{...w,"aria-hidden":!0,ref:t,width:$?l:l+L,height:l,viewBox:"0 0 "+l+" "+(A>l?A:l),style:{position:"absolute",pointerEvents:"none",[M]:re,[J]:K,[E]:D||$?"100%":"calc(100% - "+L/2+"px)",transform:[z,v].filter(Z=>!!Z).join(" "),...g},children:[L>0&&n.jsx("path",{clipPath:"url(#"+y+")",fill:"none",stroke:m,strokeWidth:L+(p?0:1),d:G}),n.jsx("path",{stroke:L&&!p?w.fill:"none",d:G}),n.jsx("clipPath",{id:y,children:n.jsx("rect",{x:-_,y:_*($?-1:1),width:l+L,height:l})})]})});function a7(){const e=new Map;return{emit(r,t){var a;(a=e.get(r))==null||a.forEach(s=>s(t))},on(r,t){e.has(r)||e.set(r,new Set),e.get(r).add(t)},off(r,t){var a;(a=e.get(r))==null||a.delete(t)}}}const n7=b.createContext(null),s7=b.createContext(null),i7=()=>{var e;return((e=b.useContext(n7))==null?void 0:e.id)||null},o7=()=>b.useContext(s7);function l7(e){const{open:r=!1,onOpenChange:t,elements:a}=e,s=sF(),i=b.useRef({}),[o]=b.useState(()=>a7()),l=i7()!=null,[A,d]=b.useState(a.reference),f=XH((p,v,g)=>{i.current.openEvent=p?v:void 0,o.emit("openchange",{open:p,event:v,reason:g,nested:l}),t==null||t(p,v,g)}),h=b.useMemo(()=>({setPositionReference:d}),[]),m=b.useMemo(()=>({reference:A||a.reference||null,floating:a.floating||null,domReference:a.reference}),[A,a.reference,a.floating]);return b.useMemo(()=>({dataRef:i,open:r,onOpenChange:f,elements:m,events:o,floatingId:s,refs:h}),[r,f,m,o,s,h])}function c7(e){e===void 0&&(e={});const{nodeId:r}=e,t=l7({...e,elements:{reference:null,floating:null,...e.elements}}),a=e.rootContext||t,s=a.elements,[i,o]=b.useState(null),[l,A]=b.useState(null),f=(s==null?void 0:s.domReference)||i,h=b.useRef(null),m=o7();p0(()=>{f&&(h.current=f)},[f]);const p=qS({...e,elements:{...s,...l&&{reference:l}}}),v=b.useCallback(C=>{const E=Ni(C)?{getBoundingClientRect:()=>C.getBoundingClientRect(),getClientRects:()=>C.getClientRects(),contextElement:C}:C;A(E),p.refs.setReference(E)},[p.refs]),g=b.useCallback(C=>{(Ni(C)||C===null)&&(h.current=C,o(C)),(Ni(p.refs.reference.current)||p.refs.reference.current===null||C!==null&&!Ni(C))&&p.refs.setReference(C)},[p.refs]),w=b.useMemo(()=>({...p.refs,setReference:g,setPositionReference:v,domReference:h}),[p.refs,g,v]),y=b.useMemo(()=>({...p.elements,domReference:f}),[p.elements,f]),N=b.useMemo(()=>({...p,...a,refs:w,elements:y,nodeId:r}),[p,w,y,r,a]);return p0(()=>{a.dataRef.current.floatingContext=N;const C=m==null?void 0:m.nodesRef.current.find(E=>E.id===r);C&&(C.context=N)}),b.useMemo(()=>({...p,context:N,refs:w,elements:y}),[p,w,y,N])}/*!
  react-datepicker v8.8.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Uy=function(r,t){return Uy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},Uy(r,t)};function Vs(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Uy(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var fa=function(){return fa=Object.assign||function(t){for(var a,s=1,i=arguments.length;s<i;s++){a=arguments[s];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},fa.apply(this,arguments)};function ac(e,r,t){if(t||arguments.length===2)for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}var A7=function(e){var r=e.showTimeSelectOnly,t=r===void 0?!1:r,a=e.showTime,s=a===void 0?!1:a,i=e.className,o=e.children,l=t?"Choose Time":"Choose Date".concat(s?" and Time":"");return ze.createElement("div",{className:i,role:"dialog","aria-label":l,"aria-modal":"true"},o)},d7=function(e,r){var t=b.useRef(null),a=b.useRef(e);a.current=e;var s=b.useCallback(function(i){var o,l=i.composed&&i.composedPath&&i.composedPath().find(function(A){return A instanceof Node})||i.target;t.current&&!t.current.contains(l)&&(r&&l instanceof HTMLElement&&l.classList.contains(r)||(o=a.current)===null||o===void 0||o.call(a,i))},[r]);return b.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),t},yx=function(e){var r=e.children,t=e.onClickOutside,a=e.className,s=e.containerRef,i=e.style,o=e.ignoreClass,l=d7(t,o);return ze.createElement("div",{className:a,style:i,ref:function(A){l.current=A,s&&(s.current=A)}},r)},Ut;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Ut||(Ut={}));function iF(){var e=typeof window<"u"?window:globalThis;return e}var Rm=12;function Pa(e){if(e==null)return new Date;var r=typeof e=="string"?rF(e):cr(e);return bx(r)?r:new Date}function ew(e,r,t,a,s){s===void 0&&(s=Pa());for(var i=Hf(t)||Hf(gb()),o=Array.isArray(r)?r:[r],l=0,A=o;l<A.length;l++){var d=A[l],f=BH(e,d,s,{locale:i});if(bx(f)&&(!a||e===un(f,d,t)))return f}return null}function bx(e,r){return d0(e)&&!rc(e,new Date("1/1/1800"))}function un(e,r,t){if(t==="en")return ZA(e,r,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var a=t?Hf(t):void 0;return t&&!a&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),a=a||Hf(gb()),ZA(e,r,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function uo(e,r){var t=r.dateFormat,a=r.locale,s=Array.isArray(t)&&t.length>0?t[0]:t;return e&&un(e,s,a)||""}var oF=" - ";function u7(e,r,t){if(!e&&!r)return"";var a=e?uo(e,t):"",s=r?uo(r,t):"",i=t.rangeSeparator||oF;return"".concat(a).concat(i).concat(s)}function f7(e,r){if(!(e!=null&&e.length))return"";var t=e[0]?uo(e[0],r):"";if(e.length===1)return t;if(e.length===2&&e[1]){var a=uo(e[1],r);return"".concat(t,", ").concat(a)}var s=e.length-1;return"".concat(t," (+").concat(s,")")}function tw(e,r){var t=r.hour,a=t===void 0?0:t,s=r.minute,i=s===void 0?0:s,o=r.second,l=o===void 0?0:o;return Fg(kg(Dg(e,l),i),a)}function h7(e){return fb(e)}function m7(e,r){return un(e,"ddd",r)}function Ug(e){return wu(e)}function ld(e,r,t){var a=Hf(r||gb());return dA(e,{locale:a,weekStartsOn:t})}function oA(e){return zE(e)}function Hh(e){return wx(e)}function mN(e){return Fy(e)}function pN(){return wu(Pa())}function gN(e){return KE(e)}function p7(e){return D8(e)}function g7(e){return VE(e)}function Wl(e,r){return e&&r?EH(e,r):!e&&!r}function ji(e,r){return e&&r?SH(e,r):!e&&!r}function g0(e,r){return e&&r?_H(e,r):!e&&!r}function ua(e,r){return e&&r?F8(e,r):!e&&!r}function ru(e,r){return e&&r?FO(e,r):!e&&!r}function Yd(e,r,t){var a,s=wu(r),i=KE(t);try{a=mm(e,{start:s,end:i})}catch{a=!1}return a}function gb(){var e=iF();return e.__localeId__}function Hf(e){if(typeof e=="string"){var r=iF();return r.__localeData__?r.__localeData__[e]:void 0}else return e}function x7(e,r,t){return r(un(e,"EEEE",t))}function v7(e,r){return un(e,"EEEEEE",r)}function w7(e,r){return un(e,"EEE",r)}function xb(e,r){return un(fo(Pa(),e),"LLLL",r)}function lF(e,r){return un(fo(Pa(),e),"LLL",r)}function y7(e,r){return un(gf(Pa(),e),"QQQ",r)}function Mo(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.excludeDateIntervals,l=t.includeDates,A=t.includeDateIntervals,d=t.filterDate,f=t.disabled;return f?!0:Mm(e,{minDate:a,maxDate:s})||i&&i.some(function(h){return h instanceof Date?ua(e,h):ua(e,h.date)})||o&&o.some(function(h){var m=h.start,p=h.end;return mm(e,{start:m,end:p})})||l&&!l.some(function(h){return ua(e,h)})||A&&!A.some(function(h){var m=h.start,p=h.end;return mm(e,{start:m,end:p})})||d&&!d(Pa(e))||!1}function vb(e,r){var t=r===void 0?{}:r,a=t.excludeDates,s=t.excludeDateIntervals;return s&&s.length>0?s.some(function(i){var o=i.start,l=i.end;return mm(e,{start:o,end:l})}):a&&a.some(function(i){var o;return i instanceof Date?ua(e,i):ua(e,(o=i.date)!==null&&o!==void 0?o:new Date)})||!1}function cF(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,l=t.filterDate;return Mm(e,{minDate:a?zE(a):void 0,maxDate:s?VE(s):void 0})||(i==null?void 0:i.some(function(A){return ji(e,A instanceof Date?A:A.date)}))||o&&!o.some(function(A){return ji(e,A)})||l&&!l(Pa(e))||!1}function Ip(e,r,t,a){var s=ra(e),i=di(e),o=ra(r),l=di(r),A=ra(a);return s===o&&s===A?i<=t&&t<=l:s<o?A===s&&i<=t||A===o&&l>=t||A<o&&A>s:!1}function b7(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates;return Mm(e,{minDate:a,maxDate:s})||i&&i.some(function(l){return ji(l instanceof Date?l:l.date,e)})||o&&!o.some(function(l){return ji(l,e)})||!1}function Pp(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,l=t.filterDate,A=t.disabled;return A?!0:Mm(e,{minDate:a,maxDate:s})||(i==null?void 0:i.some(function(d){return g0(e,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return g0(e,d)})||l&&!l(Pa(e))||!1}function Qp(e,r,t){if(!r||!t||!d0(r)||!d0(t))return!1;var a=ra(r),s=ra(t);return a<=e&&s>=e}function Lg(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,l=t.filterDate,A=t.disabled;if(A)return!0;var d=new Date(e,0,1);return Mm(d,{minDate:a?wx(a):void 0,maxDate:s?qE(s):void 0})||(i==null?void 0:i.some(function(f){return Wl(d,f instanceof Date?f:f.date)}))||o&&!o.some(function(f){return Wl(d,f)})||l&&!l(Pa(d))||!1}function Rp(e,r,t,a){var s=ra(e),i=ou(e),o=ra(r),l=ou(r),A=ra(a);return s===o&&s===A?i<=t&&t<=l:s<o?A===s&&i<=t||A===o&&l>=t||A<o&&A>s:!1}function Mm(e,r){var t,a=r===void 0?{}:r,s=a.minDate,i=a.maxDate;return(t=s&&Tf(e,s)<0||i&&Tf(e,i)>0)!==null&&t!==void 0?t:!1}function xN(e,r){return r.some(function(t){return sA(t)===sA(e)&&iA(t)===iA(e)&&od(t)===od(e)})}function vN(e,r){var t=r===void 0?{}:r,a=t.excludeTimes,s=t.includeTimes,i=t.filterTime;return a&&xN(e,a)||s&&!xN(e,s)||i&&!i(e)||!1}function wN(e,r){var t=r.minTime,a=r.maxTime;if(!t||!a)throw new Error("Both minTime and maxTime props required");var s=Pa();s=Fg(s,sA(e)),s=kg(s,iA(e)),s=Dg(s,od(e));var i=Pa();i=Fg(i,sA(t)),i=kg(i,iA(t)),i=Dg(i,od(t));var o=Pa();o=Fg(o,sA(a)),o=kg(o,iA(a)),o=Dg(o,od(a));var l;try{l=!mm(s,{start:i,end:o})}catch{l=!1}return l}function yN(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.includeDates,i=lu(e,1);return a&&u0(a,i)>0||s&&s.every(function(o){return u0(o,i)>0})||!1}function bN(e,r){var t=r===void 0?{}:r,a=t.maxDate,s=t.includeDates,i=yl(e,1);return a&&u0(i,a)>0||s&&s.every(function(o){return u0(i,o)>0})||!1}function j7(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.includeDates,i=wx(e),o=nF(i);return a&&f0(a,o)>0||s&&s.every(function(l){return f0(l,o)>0})||!1}function N7(e,r){var t=r===void 0?{}:r,a=t.maxDate,s=t.includeDates,i=qE(e),o=ub(i,1);return a&&f0(o,a)>0||s&&s.every(function(l){return f0(o,l)>0})||!1}function jN(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.includeDates,i=Of(e,1);return a&&h0(a,i)>0||s&&s.every(function(o){return h0(o,i)>0})||!1}function B7(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.yearItemNumber,i=s===void 0?Rm:s,o=Hh(Of(e,i)),l=Zc(o,i).endPeriod,A=a&&ra(a);return A&&A>l||!1}function NN(e,r){var t=r===void 0?{}:r,a=t.maxDate,s=t.includeDates,i=aA(e,1);return a&&h0(i,a)>0||s&&s.every(function(o){return h0(i,o)>0})||!1}function C7(e,r){var t=r===void 0?{}:r,a=t.maxDate,s=t.yearItemNumber,i=s===void 0?Rm:s,o=aA(e,i),l=Zc(o,i).startPeriod,A=a&&ra(a);return A&&A<l||!1}function AF(e){var r=e.minDate,t=e.includeDates;if(t&&r){var a=t.filter(function(s){return Tf(s,r)>=0});return sN(a)}else return t?sN(t):r}function dF(e){var r=e.maxDate,t=e.includeDates;if(t&&r){var a=t.filter(function(s){return Tf(s,r)<=0});return nN(a)}else return t?nN(t):r}function BN(e,r){var t;e===void 0&&(e=[]),r===void 0&&(r="react-datepicker__day--highlighted");for(var a=new Map,s=0,i=e.length;s<i;s++){var o=e[s];if(nA(o)){var l=un(o,"MM.dd.yyyy"),A=a.get(l)||[];A.includes(r)||(A.push(r),a.set(l,A))}else if(typeof o=="object"){var d=Object.keys(o),f=(t=d[0])!==null&&t!==void 0?t:"",h=o[f];if(typeof f=="string"&&Array.isArray(h))for(var m=0,p=h.length;m<p;m++){var v=h[m];if(v){var l=un(v,"MM.dd.yyyy"),A=a.get(l)||[];A.includes(f)||(A.push(f),a.set(l,A))}}}}return a}function S7(e,r){return e.length!==r.length?!1:e.every(function(t,a){return t===r[a]})}function _7(e,r){e===void 0&&(e=[]),r===void 0&&(r="react-datepicker__day--holidays");var t=new Map;return e.forEach(function(a){var s=a.date,i=a.holidayName;if(nA(s)){var o=un(s,"MM.dd.yyyy"),l=t.get(o)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===r&&S7(l.holidayNames,[i]))){l.className=r;var A=l.holidayNames;l.holidayNames=A?ac(ac([],A,!0),[i],!1):[i],t.set(o,l)}}}),t}function E7(e,r,t,a,s){for(var i=s.length,o=[],l=0;l<i;l++){var A=e,d=s[l];d&&(A=C8(A,sA(d)),A=Ey(A,iA(d)),A=E8(A,od(d)));var f=Ey(e,(t+1)*a);md(A,r)&&rc(A,f)&&d!=null&&o.push(d)}return o}function CN(e){return e<10?"0".concat(e):"".concat(e)}function Zc(e,r){r===void 0&&(r=Rm);var t=Math.ceil(ra(e)/r)*r,a=t-(r-1);return{startPeriod:a,endPeriod:t}}function F7(e){var r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+t-+r)/36e5)}function SN(e){var r=e.getSeconds(),t=e.getMilliseconds();return cr(e.getTime()-r*1e3-t)}function k7(e,r){return SN(e).getTime()===SN(r).getTime()}function _N(e){if(!nA(e))throw new Error("Invalid date");var r=new Date(e);return r.setHours(0,0,0,0),r}function rw(e,r){if(!nA(e)||!nA(r))throw new Error("Invalid date received");var t=_N(e),a=_N(r);return rc(t,a)}function uF(e){return e.key===Ut.Space}var D7=(function(e){Vs(r,e);function r(t){var a=e.call(this,t)||this;return a.inputRef=ze.createRef(),a.onTimeChange=function(s){var i,o;a.setState({time:s});var l=a.props.date,A=l instanceof Date&&!isNaN(+l),d=A?l:new Date;if(s!=null&&s.includes(":")){var f=s.split(":"),h=f[0],m=f[1];d.setHours(Number(h)),d.setMinutes(Number(m))}(o=(i=a.props).onChange)===null||o===void 0||o.call(i,d)},a.renderTimeInput=function(){var s=a.state.time,i=a.props,o=i.date,l=i.timeString,A=i.customTimeInput;return A?b.cloneElement(A,{date:o,value:s,onChange:a.onTimeChange}):ze.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:a.inputRef,onClick:function(){var d;(d=a.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:s,onChange:function(d){a.onTimeChange(d.target.value||l)}})},a.state={time:a.props.timeString},a}return r.getDerivedStateFromProps=function(t,a){return t.timeString!==a.time?{time:t.timeString}:null},r.prototype.render=function(){return ze.createElement("div",{className:"react-datepicker__input-time-container"},ze.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ze.createElement("div",{className:"react-datepicker-time__input-container"},ze.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},r})(b.Component),U7=(function(e){Vs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.dayEl=b.createRef(),t.handleClick=function(a){!t.isDisabled()&&t.props.onClick&&t.props.onClick(a)},t.handleMouseEnter=function(a){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(a)},t.handleOnKeyDown=function(a){var s,i,o=a.key;o===Ut.Space&&(a.preventDefault(),a.key=Ut.Enter),(i=(s=t.props).handleOnKeyDown)===null||i===void 0||i.call(s,a)},t.isSameDay=function(a){return ua(t.props.day,a)},t.isKeyboardSelected=function(){var a;if(t.props.disabledKeyboardNavigation)return!1;var s=t.props.selectsMultiple?(a=t.props.selectedDates)===null||a===void 0?void 0:a.some(function(o){return t.isSameDayOrWeek(o)}):t.isSameDayOrWeek(t.props.selected),i=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!s&&t.isSameDayOrWeek(t.props.preSelection)&&!i},t.isDisabled=function(a){return a===void 0&&(a=t.props.day),Mo(a,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return vb(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return ua(t.props.day,ld(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(a){return t.props.showWeekPicker&&ua(a,ld(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(a){return t.isSameDay(a)||t.isSameWeek(a)},t.getHighLightedClass=function(){var a=t.props,s=a.day,i=a.highlightDates;if(!i)return!1;var o=un(s,"MM.dd.yyyy");return i.get(o)},t.getHolidaysClass=function(){var a,s=t.props,i=s.day,o=s.holidays;if(!o)return[void 0];var l=un(i,"MM.dd.yyyy");return o.has(l)?[(a=o.get(l))===null||a===void 0?void 0:a.className]:[void 0]},t.isInRange=function(){var a=t.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:Yd(s,i,o)},t.isInSelectingRange=function(){var a,s=t.props,i=s.day,o=s.selectsStart,l=s.selectsEnd,A=s.selectsRange,d=s.selectsDisabledDaysInRange,f=s.startDate,h=s.swapRange,m=s.endDate,p=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;if(!(o||l||A)||!p||!d&&t.isDisabled())return!1;if(o&&m&&(rc(p,m)||ru(p,m)))return Yd(i,p,m);if(l&&f&&(md(p,f)||ru(p,f)))return Yd(i,f,p);if(A&&f&&!m){if(ru(p,f)||md(p,f))return Yd(i,f,p);if(h&&rc(p,f))return Yd(i,p,f)}return!1},t.isSelectingRangeStart=function(){var a;if(!t.isInSelectingRange())return!1;var s=t.props,i=s.day,o=s.startDate,l=s.selectsStart,A=s.swapRange,d=s.selectsRange,f=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return l?ua(i,f):d&&A&&o&&f?ua(i,rc(f,o)?f:o):ua(i,o)},t.isSelectingRangeEnd=function(){var a;if(!t.isInSelectingRange())return!1;var s=t.props,i=s.day,o=s.endDate,l=s.selectsEnd,A=s.selectsRange,d=s.swapRange,f=s.startDate,h=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return l?ua(i,h):A&&d&&f&&h?ua(i,rc(h,f)?f:h):A?ua(i,h):ua(i,o)},t.isRangeStart=function(){var a=t.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:ua(i,s)},t.isRangeEnd=function(){var a=t.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:ua(o,s)},t.isWeekend=function(){var a=CO(t.props.day);return a===0||a===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===di(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(di(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Pa())},t.isSelected=function(){var a;return t.props.selectsMultiple?(a=t.props.selectedDates)===null||a===void 0?void 0:a.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(a){var s=t.props.dayClassName?t.props.dayClassName(a):void 0;return Ps("react-datepicker__day",s,"react-datepicker__day--"+m7(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var a=t.props,s=a.day,i=a.ariaLabelPrefixWhenEnabled,o=i===void 0?"Choose":i,l=a.ariaLabelPrefixWhenDisabled,A=l===void 0?"Not available":l,d=t.isDisabled()||t.isExcluded()?A:o;return"".concat(d," ").concat(un(s,"PPPP",t.props.locale))},t.getTitle=function(){var a=t.props,s=a.day,i=a.holidays,o=i===void 0?new Map:i,l=a.excludeDates,A=un(s,"MM.dd.yyyy"),d=[];return o.has(A)&&d.push.apply(d,o.get(A).holidayNames),t.isExcluded()&&d.push(l==null?void 0:l.filter(function(f){return f instanceof Date?ua(f,s):ua(f==null?void 0:f.date,s)}).map(function(f){if(!(f instanceof Date))return f==null?void 0:f.message})),d.join(", ")},t.getTabIndex=function(){var a=t.props.selected,s=t.props.preSelection,i=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(a)&&ua(s,a))?0:-1;return i},t.handleFocusDay=function(){var a;t.shouldFocusDay()&&((a=t.dayEl.current)===null||a===void 0||a.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(dN(t.props.day),t.props.day):dN(t.props.day)},t.render=function(){return ze.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&ze.createElement("span",{className:"overlay"},t.getTitle()))},t}return r.prototype.componentDidMount=function(){this.handleFocusDay()},r.prototype.componentDidUpdate=function(){this.handleFocusDay()},r.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},r.prototype.isDayActiveElement=function(){var t,a,s;return((a=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||a===void 0?void 0:a.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},r.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},r})(b.Component),L7=(function(e){Vs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.weekNumberEl=b.createRef(),t.handleClick=function(a){t.props.onClick&&t.props.onClick(a)},t.handleOnKeyDown=function(a){var s,i,o=a.key;o===Ut.Space&&(a.preventDefault(),a.key=Ut.Enter),(i=(s=t.props).handleOnKeyDown)===null||i===void 0||i.call(s,a)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!ua(t.props.date,t.props.selected)&&ua(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||ua(t.props.date,t.props.selected)&&ua(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(a){var s=!1;t.getTabIndex()===0&&!(a!=null&&a.isInputFocused)&&ua(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(s=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},r.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},r.prototype.render=function(){var t=this.props,a=t.weekNumber,s=t.isWeekDisabled,i=t.ariaLabelPrefix,o=i===void 0?r.defaultProps.ariaLabelPrefix:i,l=t.onClick,A={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!s,"react-datepicker__week-number--selected":!!l&&ua(this.props.date,this.props.selected)};return ze.createElement("div",{ref:this.weekNumberEl,className:Ps(A),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},a)},r})(b.Component),I7=(function(e){Vs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isDisabled=function(a){return Mo(a,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(a,s){t.props.onDayClick&&t.props.onDayClick(a,s)},t.handleDayMouseEnter=function(a){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(a)},t.handleWeekClick=function(a,s,i){for(var o,l,A,d=new Date(a),f=0;f<7;f++){var h=new Date(a);h.setDate(h.getDate()+f);var m=!t.isDisabled(h);if(m){d=h;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,s,i),t.props.showWeekPicker&&t.handleDayClick(d,i),((o=t.props.shouldCloseOnSelect)!==null&&o!==void 0?o:r.defaultProps.shouldCloseOnSelect)&&((A=(l=t.props).setOpen)===null||A===void 0||A.call(l,!1))},t.formatWeekNumber=function(a){return t.props.formatWeekNumber?t.props.formatWeekNumber(a):h7(a)},t.isWeekDisabled=function(){for(var a=t.startOfWeek(),s=vl(a,6),i=new Date(a);i<=s;){if(!t.isDisabled(i))return!1;i=vl(i,1)}return!0},t.renderDays=function(){var a=t.startOfWeek(),s=[],i=t.formatWeekNumber(a);if(t.props.showWeekNumber){var o=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,a,i):void 0;s.push(ze.createElement(L7,fa({key:"W"},r.defaultProps,t.props,{weekNumber:i,isWeekDisabled:t.isWeekDisabled(),date:a,onClick:o})))}return s.concat([0,1,2,3,4,5,6].map(function(l){var A=vl(a,l);return ze.createElement(U7,fa({},r.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:A.valueOf(),day:A,onClick:t.handleDayClick.bind(t,A),onMouseEnter:t.handleDayMouseEnter.bind(t,A)}))}))},t.startOfWeek=function(){return ld(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!ua(t.startOfWeek(),t.props.selected)&&ua(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":ua(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},a=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return ze.createElement("div",{className:Ps(t,a),role:"row"},this.renderDays())},r})(b.Component),Uh,P7=6,Ff={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},aw=(Uh={},Uh[Ff.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Uh[Ff.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Uh[Ff.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Uh),Mp=1;function EN(e,r){return e?Ff.FOUR_COLUMNS:r?Ff.TWO_COLUMNS:Ff.THREE_COLUMNS}var Q7=(function(e){Vs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.MONTH_REFS=ac([],Array(12),!0).map(function(){return b.createRef()}),t.QUARTER_REFS=ac([],Array(4),!0).map(function(){return b.createRef()}),t.isDisabled=function(a){return Mo(a,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(a){return vb(a,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(a,s){var i,o;(o=(i=t.props).onDayClick)===null||o===void 0||o.call(i,a,s,t.props.orderInDisplay)},t.handleDayMouseEnter=function(a){var s,i;(i=(s=t.props).onDayMouseEnter)===null||i===void 0||i.call(s,a)},t.handleMouseLeave=function(){var a,s;(s=(a=t.props).onMouseLeave)===null||s===void 0||s.call(a)},t.isRangeStartMonth=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:ji(fo(i,a),o)},t.isRangeStartQuarter=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:g0(gf(i,a),o)},t.isRangeEndMonth=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:ji(fo(i,a),l)},t.isRangeEndQuarter=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:g0(gf(i,a),l)},t.isInSelectingRangeMonth=function(a){var s,i=t.props,o=i.day,l=i.selectsStart,A=i.selectsEnd,d=i.selectsRange,f=i.startDate,h=i.endDate,m=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(l||A||d)||!m?!1:l&&h?Ip(m,h,a,o):A&&f||d&&f&&!h?Ip(f,m,a,o):!1},t.isSelectingMonthRangeStart=function(a){var s;if(!t.isInSelectingRangeMonth(a))return!1;var i=t.props,o=i.day,l=i.startDate,A=i.selectsStart,d=fo(o,a),f=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return A?ji(d,f):ji(d,l)},t.isSelectingMonthRangeEnd=function(a){var s;if(!t.isInSelectingRangeMonth(a))return!1;var i=t.props,o=i.day,l=i.endDate,A=i.selectsEnd,d=i.selectsRange,f=fo(o,a),h=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return A||d?ji(f,h):ji(f,l)},t.isInSelectingRangeQuarter=function(a){var s,i=t.props,o=i.day,l=i.selectsStart,A=i.selectsEnd,d=i.selectsRange,f=i.startDate,h=i.endDate,m=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(l||A||d)||!m?!1:l&&h?Rp(m,h,a,o):A&&f||d&&f&&!h?Rp(f,m,a,o):!1},t.isWeekInMonth=function(a){var s=t.props.day,i=vl(a,6);return ji(a,s)||ji(i,s)},t.isCurrentMonth=function(a,s){return ra(a)===ra(Pa())&&s===di(Pa())},t.isCurrentQuarter=function(a,s){return ra(a)===ra(Pa())&&s===ou(Pa())},t.isSelectedMonth=function(a,s,i){return di(i)===s&&ra(a)===ra(i)},t.isSelectMonthInList=function(a,s,i){return i.some(function(o){return t.isSelectedMonth(a,s,o)})},t.isSelectedQuarter=function(a,s,i){return ou(a)===s&&ra(a)===ra(i)},t.isMonthSelected=function(){var a=t.props,s=a.day,i=a.selected,o=a.selectedDates,l=a.selectsMultiple,A=di(s);return l?o==null?void 0:o.some(function(d){return t.isSelectedMonth(s,A,d)}):!!i&&t.isSelectedMonth(s,A,i)},t.renderWeeks=function(){for(var a=[],s=t.props.fixedHeight,i=0,o=!1,l=ld(oA(t.props.day),t.props.locale,t.props.calendarStartDay),A=function(v){return t.props.showWeekPicker?ld(v,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(v){return t.props.showWeekPicker?ld(v,t.props.locale,t.props.calendarStartDay):t.props.selected},f=t.props.selected?d(t.props.selected):void 0,h=t.props.preSelection?A(t.props.preSelection):void 0;a.push(ze.createElement(I7,fa({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:i,day:l,month:di(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:f,preSelection:h,showWeekNumber:t.props.showWeekNumbers}))),!o;){i++,l=A0(l,1);var m=s&&i>=P7,p=!s&&!t.isWeekInMonth(l);if(m||p)if(t.props.peekNextMonth)o=!0;else break}return a},t.onMonthClick=function(a,s){var i=t.isMonthDisabledForLabelDate(s),o=i.isDisabled,l=i.labelDate;o||t.handleDayClick(oA(l),a)},t.onMonthMouseEnter=function(a){var s=t.isMonthDisabledForLabelDate(a),i=s.isDisabled,o=s.labelDate;i||t.handleDayMouseEnter(oA(o))},t.handleMonthNavigation=function(a,s){var i,o,l,A;(o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,s),(A=(l=t.MONTH_REFS[a])===null||l===void 0?void 0:l.current)===null||A===void 0||A.focus()},t.handleKeyboardNavigation=function(a,s,i){var o,l=t.props,A=l.selected,d=l.preSelection,f=l.setPreSelection,h=l.minDate,m=l.maxDate,p=l.showFourColumnMonthYearPicker,v=l.showTwoColumnMonthYearPicker;if(d){var g=EN(p,v),w=t.getVerticalOffset(g),y=(o=aw[g])===null||o===void 0?void 0:o.grid,N=function(k,L,_){var Y,I,$=L,J=_;switch(k){case Ut.ArrowRight:$=yl(L,Mp),J=_===11?0:_+Mp;break;case Ut.ArrowLeft:$=lu(L,Mp),J=_===0?11:_-Mp;break;case Ut.ArrowUp:$=lu(L,w),J=!((Y=y==null?void 0:y[0])===null||Y===void 0)&&Y.includes(_)?_+12-w:_-w;break;case Ut.ArrowDown:$=yl(L,w),J=!((I=y==null?void 0:y[y.length-1])===null||I===void 0)&&I.includes(_)?_-12+w:_+w;break}return{newCalculatedDate:$,newCalculatedMonth:J}},C=function(k,L,_){for(var Y=40,I=k,$=!1,J=0,M=N(I,L,_),re=M.newCalculatedDate,K=M.newCalculatedMonth;!$;){if(J>=Y){re=L,K=_;break}if(h&&re<h){I=Ut.ArrowRight;var G=N(I,re,K);re=G.newCalculatedDate,K=G.newCalculatedMonth}if(m&&re>m){I=Ut.ArrowLeft;var G=N(I,re,K);re=G.newCalculatedDate,K=G.newCalculatedMonth}if(b7(re,t.props)){var G=N(I,re,K);re=G.newCalculatedDate,K=G.newCalculatedMonth}else $=!0;J++}return{newCalculatedDate:re,newCalculatedMonth:K}};if(s===Ut.Enter){t.isMonthDisabled(i)||(t.onMonthClick(a,i),f==null||f(A));return}var E=C(s,d,i),U=E.newCalculatedDate,D=E.newCalculatedMonth;switch(s){case Ut.ArrowRight:case Ut.ArrowLeft:case Ut.ArrowUp:case Ut.ArrowDown:t.handleMonthNavigation(D,U);break}}},t.getVerticalOffset=function(a){var s,i;return(i=(s=aw[a])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&i!==void 0?i:0},t.onMonthKeyDown=function(a,s){var i=t.props,o=i.disabledKeyboardNavigation,l=i.handleOnMonthKeyDown,A=a.key;A!==Ut.Tab&&a.preventDefault(),o||t.handleKeyboardNavigation(a,A,s),l&&l(a)},t.onQuarterClick=function(a,s){var i=gf(t.props.day,s);Pp(i,t.props)||t.handleDayClick(mN(i),a)},t.onQuarterMouseEnter=function(a){var s=gf(t.props.day,a);Pp(s,t.props)||t.handleDayMouseEnter(mN(s))},t.handleQuarterNavigation=function(a,s){var i,o,l,A;t.isDisabled(s)||t.isExcluded(s)||((o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,s),(A=(l=t.QUARTER_REFS[a-1])===null||l===void 0?void 0:l.current)===null||A===void 0||A.focus())},t.onQuarterKeyDown=function(a,s){var i,o,l=a.key;if(!t.props.disabledKeyboardNavigation)switch(l){case Ut.Enter:t.onQuarterClick(a,s),(o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,t.props.selected);break;case Ut.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===4?1:s+1,ub(t.props.preSelection,1));break;case Ut.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===1?4:s-1,nF(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(a){var s,i=t.props,o=i.day,l=i.disabled,A=i.minDate,d=i.maxDate,f=i.excludeDates,h=i.includeDates,m=fo(o,a);return l?{isDisabled:!0,labelDate:fo(o,a)}:{isDisabled:(s=(A||d||f||h)&&cF(m,t.props))!==null&&s!==void 0?s:!1,labelDate:m}},t.isMonthDisabled=function(a){var s=t.isMonthDisabledForLabelDate(a).isDisabled;return s},t.getMonthClassNames=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate,A=s.preSelection,d=s.monthClassName,f=d?d(fo(i,a)):void 0,h=t.getSelection();return Ps("react-datepicker__month-text","react-datepicker__month-".concat(a),f,{"react-datepicker__month-text--disabled":t.isMonthDisabled(a),"react-datepicker__month-text--selected":h?t.isSelectMonthInList(i,a,h):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&A&&t.isSelectedMonth(i,a,A)&&!t.isMonthSelected()&&!t.isMonthDisabled(a),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(a),"react-datepicker__month-text--in-range":o&&l?Ip(o,l,a,i):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(a),"react-datepicker__month-text--range-end":t.isRangeEndMonth(a),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(a),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(a),"react-datepicker__month-text--today":t.isCurrentMonth(i,a)})},t.getTabIndex=function(a){if(t.props.preSelection==null)return"-1";var s=di(t.props.preSelection),i=t.isMonthDisabledForLabelDate(s).isDisabled,o=a===s&&!(i||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getQuarterTabIndex=function(a){if(t.props.preSelection==null)return"-1";var s=ou(t.props.preSelection),i=Pp(t.props.day,t.props),o=a===s&&!(i||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getAriaLabel=function(a){var s=t.props,i=s.chooseDayAriaLabelPrefix,o=i===void 0?"Choose":i,l=s.disabledDayAriaLabelPrefix,A=l===void 0?"Not available":l,d=s.day,f=s.locale,h=fo(d,a),m=t.isDisabled(h)||t.isExcluded(h)?A:o;return"".concat(m," ").concat(un(h,"MMMM yyyy",f))},t.getQuarterClassNames=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate,A=s.selected,d=s.minDate,f=s.maxDate,h=s.excludeDates,m=s.includeDates,p=s.filterDate,v=s.preSelection,g=s.disabledKeyboardNavigation,w=s.disabled,y=(d||f||h||m||p||w)&&Pp(gf(i,a),t.props);return Ps("react-datepicker__quarter-text","react-datepicker__quarter-".concat(a),{"react-datepicker__quarter-text--disabled":y,"react-datepicker__quarter-text--selected":A?t.isSelectedQuarter(i,a,A):void 0,"react-datepicker__quarter-text--keyboard-selected":!g&&v&&t.isSelectedQuarter(i,a,v)&&!y,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(a),"react-datepicker__quarter-text--in-range":o&&l?Rp(o,l,a,i):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(a),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(a),"react-datepicker__quarter-text--today":t.isCurrentQuarter(i,a)})},t.getMonthContent=function(a){var s=t.props,i=s.showFullMonthYearPicker,o=s.renderMonthContent,l=s.locale,A=s.day,d=lF(a,l),f=xb(a,l);return o?o(a,d,f,A):i?f:d},t.getQuarterContent=function(a){var s,i=t.props,o=i.renderQuarterContent,l=i.locale,A=y7(a,l);return(s=o==null?void 0:o(a,A))!==null&&s!==void 0?s:A},t.renderMonths=function(){var a,s=t.props,i=s.showTwoColumnMonthYearPicker,o=s.showFourColumnMonthYearPicker,l=s.day,A=s.selected,d=(a=aw[EN(o,i)])===null||a===void 0?void 0:a.grid;return d==null?void 0:d.map(function(f,h){return ze.createElement("div",{className:"react-datepicker__month-wrapper",key:h},f.map(function(m,p){return ze.createElement("div",{ref:t.MONTH_REFS[m],key:p,onClick:function(v){t.onMonthClick(v,m)},onKeyDown:function(v){uF(v)&&(v.preventDefault(),v.key=Ut.Enter),t.onMonthKeyDown(v,m)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(m)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(m)}:void 0,tabIndex:Number(t.getTabIndex(m)),className:t.getMonthClassNames(m),"aria-disabled":t.isMonthDisabled(m),role:"option","aria-label":t.getAriaLabel(m),"aria-current":t.isCurrentMonth(l,m)?"date":void 0,"aria-selected":A?t.isSelectedMonth(l,m,A):void 0},t.getMonthContent(m))}))})},t.renderQuarters=function(){var a=t.props,s=a.day,i=a.selected,o=[1,2,3,4];return ze.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(l,A){return ze.createElement("div",{key:A,ref:t.QUARTER_REFS[A],role:"option",onClick:function(d){t.onQuarterClick(d,l)},onKeyDown:function(d){t.onQuarterKeyDown(d,l)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(l)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(l)}:void 0,className:t.getQuarterClassNames(l),"aria-selected":i?t.isSelectedQuarter(s,l,i):void 0,tabIndex:Number(t.getQuarterTabIndex(l)),"aria-current":t.isCurrentQuarter(s,l)?"date":void 0},t.getQuarterContent(l))}))},t.getClassNames=function(){var a=t.props,s=a.selectingDate,i=a.selectsStart,o=a.selectsEnd,l=a.showMonthYearPicker,A=a.showQuarterYearPicker,d=a.showWeekPicker;return Ps("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(i||o)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":A},{"react-datepicker__weekPicker":d})},t}return r.prototype.getSelection=function(){var t=this.props,a=t.selected,s=t.selectedDates,i=t.selectsMultiple;if(i)return s;if(a)return[a]},r.prototype.render=function(){var t=this.props,a=t.showMonthYearPicker,s=t.showQuarterYearPicker,i=t.day,o=t.ariaLabelPrefix,l=o===void 0?"Month ":o,A=l?l.trim()+" ":"",d=a||s;return d?ze.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(A).concat(un(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},a?this.renderMonths():this.renderQuarters()):ze.createElement("div",{role:"table"},this.props.dayNamesHeader&&ze.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),ze.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(A).concat(un(i,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},r})(b.Component),R7=(function(e){Vs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(a){return t.props.month===a},t.handleOptionKeyDown=function(a,s){var i;switch(s.key){case"Enter":s.preventDefault(),t.onChange(a);break;case"Escape":s.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{s.preventDefault();var o=(a+(s.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(i=t.monthOptionButtonsRef[o])===null||i===void 0||i.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(a,s){return ze.createElement("div",{ref:function(i){t.monthOptionButtonsRef[s]=i,t.isSelectedMonth(s)&&(i==null||i.focus())},role:"button",tabIndex:0,className:t.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:a,onClick:t.onChange.bind(t,s),onKeyDown:t.handleOptionKeyDown.bind(t,s),"aria-selected":t.isSelectedMonth(s)?"true":void 0},t.isSelectedMonth(s)?ze.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",a)})},t.onChange=function(a){return t.props.onChange(a)},t.handleClickOutside=function(){return t.props.onCancel()},t}return r.prototype.render=function(){return ze.createElement(yx,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},r})(b.Component),M7=(function(e){Vs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(a){return a.map(function(s,i){return ze.createElement("option",{key:s,value:i},s)})},t.renderSelectMode=function(a){return ze.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(s){return t.onChange(parseInt(s.target.value))}},t.renderSelectOptions(a))},t.renderReadView=function(a,s){return ze.createElement("button",{key:"read",type:"button",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},ze.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ze.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[t.props.month]))},t.renderDropdown=function(a){return ze.createElement(R7,fa({key:"dropdown"},t.props,{monthNames:a,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(a){var s=t.state.dropdownVisible,i=[t.renderReadView(!s,a)];return s&&i.unshift(t.renderDropdown(a)),i},t.onChange=function(a){t.toggleDropdown(),a!==t.props.month&&t.props.onChange(a)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return r.prototype.render=function(){var t=this,a=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return lF(i,t.props.locale)}:function(i){return xb(i,t.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(a);break;case"select":s=this.renderSelectMode(a);break}return ze.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},r})(b.Component);function T7(e,r){for(var t=[],a=oA(e),s=oA(r);!md(a,s);)t.push(Pa(a)),a=yl(a,1);return t}var O7=(function(e){Vs(r,e);function r(t){var a=e.call(this,t)||this;return a.renderOptions=function(){return a.state.monthYearsList.map(function(s){var i=Dy(s),o=Wl(a.props.date,s)&&ji(a.props.date,s);return ze.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:a.onChange.bind(a,i),"aria-selected":o?"true":void 0},o?ze.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",un(s,a.props.dateFormat,a.props.locale))})},a.onChange=function(s){return a.props.onChange(s)},a.handleClickOutside=function(){a.props.onCancel()},a.state={monthYearsList:T7(a.props.minDate,a.props.maxDate)},a}return r.prototype.render=function(){var t=Ps({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ze.createElement(yx,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},r})(b.Component),H7=(function(e){Vs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var a=oA(t.props.minDate),s=oA(t.props.maxDate),i=[];!md(a,s);){var o=Dy(a);i.push(ze.createElement("option",{key:o,value:o},un(a,t.props.dateFormat,t.props.locale))),a=yl(a,1)}return i},t.onSelectChange=function(a){t.onChange(parseInt(a.target.value))},t.renderSelectMode=function(){return ze.createElement("select",{value:Dy(oA(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(a){var s=un(t.props.date,t.props.dateFormat,t.props.locale);return ze.createElement("div",{key:"read",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},ze.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ze.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},t.renderDropdown=function(){return ze.createElement(O7,fa({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var a=t.state.dropdownVisible,s=[t.renderReadView(!a)];return a&&s.unshift(t.renderDropdown()),s},t.onChange=function(a){t.toggleDropdown();var s=Pa(a);Wl(t.props.date,s)&&ji(t.props.date,s)||t.props.onChange(s)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return r.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ze.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},r})(b.Component),$7=(function(e){Vs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var a,s,i;t.list&&(t.list.scrollTop=(i=t.centerLi&&r.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((s=(a=t.header)===null||a===void 0?void 0:a.clientHeight)!==null&&s!==void 0?s:0):t.list.clientHeight,t.centerLi))!==null&&i!==void 0?i:0)})},t.handleClick=function(a){var s,i;(t.props.minTime||t.props.maxTime)&&wN(a,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&vN(a,t.props)||(i=(s=t.props).onChange)===null||i===void 0||i.call(s,a)},t.isSelectedTime=function(a){return t.props.selected&&k7(t.props.selected,a)},t.isDisabledTime=function(a){return(t.props.minTime||t.props.maxTime)&&wN(a,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&vN(a,t.props)},t.liClasses=function(a){var s,i=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(a):void 0];return t.isSelectedTime(a)&&i.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(a)&&i.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(sA(a)*3600+iA(a)*60+od(a))%(((s=t.props.intervals)!==null&&s!==void 0?s:r.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},t.handleOnKeyDown=function(a,s){var i,o;a.key===Ut.Space&&(a.preventDefault(),a.key=Ut.Enter),(a.key===Ut.ArrowUp||a.key===Ut.ArrowLeft)&&a.target instanceof HTMLElement&&a.target.previousSibling&&(a.preventDefault(),a.target.previousSibling instanceof HTMLElement&&a.target.previousSibling.focus()),(a.key===Ut.ArrowDown||a.key===Ut.ArrowRight)&&a.target instanceof HTMLElement&&a.target.nextSibling&&(a.preventDefault(),a.target.nextSibling instanceof HTMLElement&&a.target.nextSibling.focus()),a.key===Ut.Enter&&t.handleClick(s),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,a)},t.renderTimes=function(){for(var a,s=[],i=typeof t.props.format=="string"?t.props.format:"p",o=(a=t.props.intervals)!==null&&a!==void 0?a:r.defaultProps.intervals,l=t.props.selected||t.props.openToDate||Pa(),A=Ug(l),d=t.props.injectTimes&&t.props.injectTimes.sort(function(w,y){return w.getTime()-y.getTime()}),f=60*F7(l),h=f/o,m=0;m<h;m++){var p=Ey(A,m*o);if(s.push(p),d){var v=E7(A,p,m,o,d);s=s.concat(v)}}var g=s.reduce(function(w,y){return y.getTime()<=l.getTime()?y:w},s[0]);return s.map(function(w){return ze.createElement("li",{key:w.valueOf(),onClick:t.handleClick.bind(t,w),className:t.liClasses(w),ref:function(y){w===g&&(t.centerLi=y)},onKeyDown:function(y){t.handleOnKeyDown(y,w)},tabIndex:w===g?0:-1,role:"option","aria-selected":t.isSelectedTime(w)?"true":void 0,"aria-disabled":t.isDisabledTime(w)?"true":void 0},un(w,i,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?ze.createElement(ze.Fragment,null):ze.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(a){t.header=a}},ze.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},r.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},r.prototype.observeDatePickerHeightChanges=function(){var t=this,a=this.props.monthRef;this.updateContainerHeight(),a&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(a))},r.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},r.prototype.render=function(){var t=this,a,s=this.state.height;return ze.createElement("div",{className:"react-datepicker__time-container ".concat(((a=this.props.todayButton)!==null&&a!==void 0?a:r.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ze.createElement("div",{className:"react-datepicker__time"},ze.createElement("div",{className:"react-datepicker__time-box"},ze.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){t.list=i},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},r.calcCenterPosition=function(t,a){return a.offsetTop-(t/2-a.clientHeight/2)},r})(b.Component),FN=3,K7=(function(e){Vs(r,e);function r(t){var a=e.call(this,t)||this;return a.YEAR_REFS=ac([],Array(a.props.yearItemNumber),!0).map(function(){return b.createRef()}),a.isDisabled=function(s){return Mo(s,{minDate:a.props.minDate,maxDate:a.props.maxDate,excludeDates:a.props.excludeDates,includeDates:a.props.includeDates,filterDate:a.props.filterDate})},a.isExcluded=function(s){return vb(s,{excludeDates:a.props.excludeDates})},a.selectingDate=function(){var s;return(s=a.props.selectingDate)!==null&&s!==void 0?s:a.props.preSelection},a.updateFocusOnPaginate=function(s){var i=function(){var o,l;(l=(o=a.YEAR_REFS[s])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(i)},a.handleYearClick=function(s,i){a.props.onDayClick&&a.props.onDayClick(s,i)},a.handleYearNavigation=function(s,i){var o,l,A,d,f=a.props,h=f.date,m=f.yearItemNumber;if(!(h===void 0||m===void 0)){var p=Zc(h,m).startPeriod;a.isDisabled(i)||a.isExcluded(i)||((l=(o=a.props).setPreSelection)===null||l===void 0||l.call(o,i),s-p<0?a.updateFocusOnPaginate(m-(p-s)):s-p>=m?a.updateFocusOnPaginate(Math.abs(m-(s-p))):(d=(A=a.YEAR_REFS[s-p])===null||A===void 0?void 0:A.current)===null||d===void 0||d.focus())}},a.isSameDay=function(s,i){return ua(s,i)},a.isCurrentYear=function(s){return s===ra(Pa())},a.isRangeStart=function(s){return a.props.startDate&&a.props.endDate&&Wl(ql(Pa(),s),a.props.startDate)},a.isRangeEnd=function(s){return a.props.startDate&&a.props.endDate&&Wl(ql(Pa(),s),a.props.endDate)},a.isInRange=function(s){return Qp(s,a.props.startDate,a.props.endDate)},a.isInSelectingRange=function(s){var i=a.props,o=i.selectsStart,l=i.selectsEnd,A=i.selectsRange,d=i.startDate,f=i.endDate;return!(o||l||A)||!a.selectingDate()?!1:o&&f?Qp(s,a.selectingDate(),f):l&&d||A&&d&&!f?Qp(s,d,a.selectingDate()):!1},a.isSelectingRangeStart=function(s){var i;if(!a.isInSelectingRange(s))return!1;var o=a.props,l=o.startDate,A=o.selectsStart,d=ql(Pa(),s);return A?Wl(d,(i=a.selectingDate())!==null&&i!==void 0?i:null):Wl(d,l??null)},a.isSelectingRangeEnd=function(s){var i;if(!a.isInSelectingRange(s))return!1;var o=a.props,l=o.endDate,A=o.selectsEnd,d=o.selectsRange,f=ql(Pa(),s);return A||d?Wl(f,(i=a.selectingDate())!==null&&i!==void 0?i:null):Wl(f,l??null)},a.isKeyboardSelected=function(s){if(!(a.props.disabledKeyboardNavigation||a.props.date===void 0||a.props.preSelection==null)){var i=a.props,o=i.minDate,l=i.maxDate,A=i.excludeDates,d=i.includeDates,f=i.filterDate,h=i.selected,m=Hh(ql(a.props.date,s)),p=(o||l||A||d||f)&&Lg(s,a.props),v=!!h&&ua(m,Hh(h)),g=ua(m,Hh(a.props.preSelection));return!a.props.inline&&!v&&g&&!p}},a.isSelectedYear=function(s){var i=a.props,o=i.selectsMultiple,l=i.selected,A=i.selectedDates;return o?A==null?void 0:A.some(function(d){return s===ra(d)}):!!l&&s===ra(l)},a.onYearClick=function(s,i){var o=a.props.date;o!==void 0&&a.handleYearClick(Hh(ql(o,i)),s)},a.onYearKeyDown=function(s,i){var o,l,A=s.key,d=a.props,f=d.date,h=d.yearItemNumber,m=d.handleOnKeyDown;if(A!==Ut.Tab&&s.preventDefault(),!a.props.disabledKeyboardNavigation)switch(A){case Ut.Enter:if(a.props.selected==null)break;a.onYearClick(s,i),(l=(o=a.props).setPreSelection)===null||l===void 0||l.call(o,a.props.selected);break;case Ut.ArrowRight:if(a.props.preSelection==null)break;a.handleYearNavigation(i+1,aA(a.props.preSelection,1));break;case Ut.ArrowLeft:if(a.props.preSelection==null)break;a.handleYearNavigation(i-1,Of(a.props.preSelection,1));break;case Ut.ArrowUp:{if(f===void 0||h===void 0||a.props.preSelection==null)break;var p=Zc(f,h).startPeriod,v=FN,g=i-v;if(g<p){var w=h%v;i>=p&&i<p+w?v=w:v+=w,g=i-v}a.handleYearNavigation(g,Of(a.props.preSelection,v));break}case Ut.ArrowDown:{if(f===void 0||h===void 0||a.props.preSelection==null)break;var y=Zc(f,h).endPeriod,v=FN,g=i+v;if(g>y){var w=h%v;i<=y&&i>y-w?v=w:v+=w,g=i+v}a.handleYearNavigation(g,aA(a.props.preSelection,v));break}}m&&m(s)},a.getYearClassNames=function(s){var i=a.props,o=i.date,l=i.disabled,A=i.minDate,d=i.maxDate,f=i.excludeDates,h=i.includeDates,m=i.filterDate,p=i.yearClassName;return Ps("react-datepicker__year-text","react-datepicker__year-".concat(s),o?p==null?void 0:p(ql(o,s)):void 0,{"react-datepicker__year-text--selected":a.isSelectedYear(s),"react-datepicker__year-text--disabled":(A||d||f||h||m||l)&&Lg(s,a.props),"react-datepicker__year-text--keyboard-selected":a.isKeyboardSelected(s),"react-datepicker__year-text--range-start":a.isRangeStart(s),"react-datepicker__year-text--range-end":a.isRangeEnd(s),"react-datepicker__year-text--in-range":a.isInRange(s),"react-datepicker__year-text--in-selecting-range":a.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":a.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":a.isSelectingRangeEnd(s),"react-datepicker__year-text--today":a.isCurrentYear(s)})},a.getYearTabIndex=function(s){if(a.props.disabledKeyboardNavigation||a.props.preSelection==null)return"-1";var i=ra(a.props.preSelection),o=Lg(s,a.props);return s===i&&!o?"0":"-1"},a.getYearContent=function(s){return a.props.renderYearContent?a.props.renderYearContent(s):s},a}return r.prototype.render=function(){var t=this,a=[],s=this.props,i=s.date,o=s.yearItemNumber,l=s.onYearMouseEnter,A=s.onYearMouseLeave;if(i===void 0)return null;for(var d=Zc(i,o),f=d.startPeriod,h=d.endPeriod,m=function(g){a.push(ze.createElement("div",{ref:p.YEAR_REFS[g-f],onClick:function(w){t.onYearClick(w,g)},onKeyDown:function(w){uF(w)&&(w.preventDefault(),w.key=Ut.Enter),t.onYearKeyDown(w,g)},tabIndex:Number(p.getYearTabIndex(g)),className:p.getYearClassNames(g),onMouseEnter:p.props.usePointerEvent?void 0:function(w){return l(w,g)},onPointerEnter:p.props.usePointerEvent?function(w){return l(w,g)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(w){return A(w,g)},onPointerLeave:p.props.usePointerEvent?function(w){return A(w,g)}:void 0,key:g,"aria-current":p.isCurrentYear(g)?"date":void 0},p.getYearContent(g)))},p=this,v=f;v<=h;v++)m(v);return ze.createElement("div",{className:"react-datepicker__year"},ze.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},a))},r})(b.Component);function V7(e,r,t,a){for(var s=[],i=0;i<2*r+1;i++){var o=e+r-i,l=!0;t&&(l=ra(t)<=o),a&&l&&(l=ra(a)>=o),l&&s.push(o)}return s}var z7=(function(e){Vs(r,e);function r(t){var a=e.call(this,t)||this;a.yearOptionButtonsRef={},a.handleOptionKeyDown=function(l,A){var d;switch(A.key){case"Enter":A.preventDefault(),a.onChange(l);break;case"Escape":A.preventDefault(),a.props.onCancel();break;case"ArrowUp":case"ArrowDown":{A.preventDefault();var f=l+(A.key==="ArrowUp"?1:-1);a.yearOptionButtonsRef[f]&&((d=a.yearOptionButtonsRef[f])===null||d===void 0||d.focus());break}}},a.renderOptions=function(){a.yearOptionButtonsRef={};var l=a.props.year,A=a.state.yearsList.map(function(h){return ze.createElement("div",{ref:function(m){a.yearOptionButtonsRef[h]=m,h===l&&(m==null||m.focus())},role:"button",tabIndex:0,className:l===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:a.onChange.bind(a,h),onKeyDown:a.handleOptionKeyDown.bind(a,h),"aria-selected":l===h?"true":void 0},l===h?ze.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",h)}),d=a.props.minDate?ra(a.props.minDate):null,f=a.props.maxDate?ra(a.props.maxDate):null;return(!f||!a.state.yearsList.find(function(h){return h===f}))&&A.unshift(ze.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:a.incrementYears},ze.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!a.state.yearsList.find(function(h){return h===d}))&&A.push(ze.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:a.decrementYears},ze.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),A},a.onChange=function(l){a.props.onChange(l)},a.handleClickOutside=function(){a.props.onCancel()},a.shiftYears=function(l){var A=a.state.yearsList.map(function(d){return d+l});a.setState({yearsList:A})},a.incrementYears=function(){return a.shiftYears(1)},a.decrementYears=function(){return a.shiftYears(-1)};var s=t.yearDropdownItemNumber,i=t.scrollableYearDropdown,o=s||(i?10:5);return a.state={yearsList:V7(a.props.year,o,a.props.minDate,a.props.maxDate)},a.dropdownRef=b.createRef(),a}return r.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var a=t.children?Array.from(t.children):null,s=a?a.find(function(i){return i.ariaSelected}):null;t.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},r.prototype.render=function(){var t=Ps({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ze.createElement(yx,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},r})(b.Component),q7=(function(e){Vs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var a=t.props.minDate?ra(t.props.minDate):1900,s=t.props.maxDate?ra(t.props.maxDate):2100,i=[],o=a;o<=s;o++)i.push(ze.createElement("option",{key:o,value:o},o));return i},t.onSelectChange=function(a){t.onChange(parseInt(a.target.value))},t.renderSelectMode=function(){return ze.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(a){return ze.createElement("button",{key:"read",type:"button",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},ze.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ze.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return ze.createElement(z7,fa({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var a=t.state.dropdownVisible,s=[t.renderReadView(!a)];return a&&s.unshift(t.renderDropdown()),s},t.onChange=function(a){t.toggleDropdown(),a!==t.props.year&&t.props.onChange(a)},t.toggleDropdown=function(a){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,a)})},t.handleYearChange=function(a,s){var i;(i=t.onSelect)===null||i===void 0||i.call(t,a,s),t.setOpen()},t.onSelect=function(a,s){var i,o;(o=(i=t.props).onSelect)===null||o===void 0||o.call(i,a,s)},t.setOpen=function(){var a,s;(s=(a=t.props).setOpen)===null||s===void 0||s.call(a,!0)},t}return r.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ze.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},r})(b.Component),W7=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],fF="react-datepicker-ignore-onclickoutside",G7=function(e){var r=(e.className||"").split(/\s+/);return W7.some(function(t){return r.indexOf(t)>=0})},Y7=(function(e){Vs(r,e);function r(t){var a=e.call(this,t)||this;return a.monthContainer=void 0,a.handleClickOutside=function(s){a.props.onClickOutside(s)},a.setClickOutsideRef=function(){return a.containerRef.current},a.handleDropdownFocus=function(s){var i,o;G7(s.target)&&((o=(i=a.props).onDropdownFocus)===null||o===void 0||o.call(i,s))},a.getDateInView=function(){var s=a.props,i=s.preSelection,o=s.selected,l=s.openToDate,A=AF(a.props),d=dF(a.props),f=Pa(),h=l||o||i;return h||(A&&rc(f,A)?A:d&&md(f,d)?d:f)},a.increaseMonth=function(){a.setState(function(s){var i=s.date;return{date:yl(i,1)}},function(){return a.handleMonthChange(a.state.date)})},a.decreaseMonth=function(){a.setState(function(s){var i=s.date;return{date:lu(i,1)}},function(){return a.handleMonthChange(a.state.date)})},a.handleDayClick=function(s,i,o){a.props.onSelect(s,i,o),a.props.setPreSelection&&a.props.setPreSelection(s)},a.handleDayMouseEnter=function(s){a.setState({selectingDate:s}),a.props.onDayMouseEnter&&a.props.onDayMouseEnter(s)},a.handleMonthMouseLeave=function(){a.setState({selectingDate:void 0}),a.props.onMonthMouseLeave&&a.props.onMonthMouseLeave()},a.handleYearMouseEnter=function(s,i){a.setState({selectingDate:ql(Pa(),i)}),a.props.onYearMouseEnter&&a.props.onYearMouseEnter(s,i)},a.handleYearMouseLeave=function(s,i){a.props.onYearMouseLeave&&a.props.onYearMouseLeave(s,i)},a.handleYearChange=function(s){var i,o,l,A;(o=(i=a.props).onYearChange)===null||o===void 0||o.call(i,s),a.setState({isRenderAriaLiveMessage:!0}),a.props.adjustDateOnChange&&(a.props.onSelect(s),(A=(l=a.props).setOpen)===null||A===void 0||A.call(l,!0)),a.props.setPreSelection&&a.props.setPreSelection(s)},a.getEnabledPreSelectionDateForMonth=function(s){if(!Mo(s,a.props))return s;for(var i=oA(s),o=g7(s),l=k8(o,i),A=null,d=0;d<=l;d++){var f=vl(i,d);if(!Mo(f,a.props)){A=f;break}}return A},a.handleMonthChange=function(s){var i,o,l,A=(i=a.getEnabledPreSelectionDateForMonth(s))!==null&&i!==void 0?i:s;a.handleCustomMonthChange(A),a.props.adjustDateOnChange&&(a.props.onSelect(A),(l=(o=a.props).setOpen)===null||l===void 0||l.call(o,!0)),a.props.setPreSelection&&a.props.setPreSelection(A)},a.handleCustomMonthChange=function(s){var i,o;(o=(i=a.props).onMonthChange)===null||o===void 0||o.call(i,s),a.setState({isRenderAriaLiveMessage:!0})},a.handleMonthYearChange=function(s){a.handleYearChange(s),a.handleMonthChange(s)},a.changeYear=function(s){a.setState(function(i){var o=i.date;return{date:ql(o,Number(s))}},function(){return a.handleYearChange(a.state.date)})},a.changeMonth=function(s){a.setState(function(i){var o=i.date;return{date:fo(o,Number(s))}},function(){return a.handleMonthChange(a.state.date)})},a.changeMonthYear=function(s){a.setState(function(i){var o=i.date;return{date:ql(fo(o,di(s)),ra(s))}},function(){return a.handleMonthYearChange(a.state.date)})},a.header=function(s){s===void 0&&(s=a.state.date);var i=a.props.disabled,o=ld(s,a.props.locale,a.props.calendarStartDay),l=[];return a.props.showWeekNumbers&&l.push(ze.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(i?"react-datepicker__day-name--disabled":""),role:"columnheader"},ze.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),ze.createElement("span",{"aria-hidden":"true"},a.props.weekLabel||"#"))),l.concat([0,1,2,3,4,5,6].map(function(A){var d=vl(o,A),f=a.formatWeekday(d,a.props.locale),h=a.props.weekDayClassName?a.props.weekDayClassName(d):void 0;return ze.createElement("div",{key:A,role:"columnheader",className:Ps("react-datepicker__day-name",h,i?"react-datepicker__day-name--disabled":"")},ze.createElement("span",{className:"react-datepicker__sr-only"},un(d,"EEEE",a.props.locale)),ze.createElement("span",{"aria-hidden":"true"},f))}))},a.formatWeekday=function(s,i){return a.props.formatWeekDay?x7(s,a.props.formatWeekDay,i):a.props.useWeekdaysShort?w7(s,i):v7(s,i)},a.decreaseYear=function(){a.setState(function(s){var i,o=s.date;return{date:Of(o,a.props.showYearPicker?(i=a.props.yearItemNumber)!==null&&i!==void 0?i:r.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.clearSelectingDate=function(){a.setState({selectingDate:void 0})},a.renderPreviousButton=function(){var s,i,o;if(!a.props.renderCustomHeader){var l=(s=a.props.monthsShown)!==null&&s!==void 0?s:r.defaultProps.monthsShown,A=a.props.showPreviousMonths?l-1:0,d=(i=a.props.monthSelectedIn)!==null&&i!==void 0?i:A,f=lu(a.state.date,d),h;switch(!0){case a.props.disabled:h=!0;break;case a.props.showMonthYearPicker:h=jN(a.state.date,a.props);break;case a.props.showYearPicker:h=B7(a.state.date,a.props);break;case a.props.showQuarterYearPicker:h=j7(a.state.date,a.props);break;default:h=yN(f,a.props);break}if(!(!((o=a.props.forceShowMonthNavigation)!==null&&o!==void 0?o:r.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&h||a.props.showTimeSelectOnly)){var m=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],p=["react-datepicker__navigation","react-datepicker__navigation--previous"],v=a.decreaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(v=a.decreaseYear),h&&a.props.showDisabledMonthNavigation&&(p.push("react-datepicker__navigation--previous--disabled"),v=void 0);var g=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,w=a.props,y=w.previousMonthButtonLabel,N=y===void 0?r.defaultProps.previousMonthButtonLabel:y,C=w.previousYearButtonLabel,E=C===void 0?r.defaultProps.previousYearButtonLabel:C,U=a.props,D=U.previousMonthAriaLabel,k=D===void 0?typeof N=="string"?N:"Previous Month":D,L=U.previousYearAriaLabel,_=L===void 0?typeof E=="string"?E:"Previous Year":L;return ze.createElement("button",{type:"button",className:p.join(" "),onClick:v,onKeyDown:a.props.handleOnKeyDown,"aria-label":g?_:k},ze.createElement("span",{className:m.join(" ")},g?E:N))}}},a.increaseYear=function(){a.setState(function(s){var i,o=s.date;return{date:aA(o,a.props.showYearPicker?(i=a.props.yearItemNumber)!==null&&i!==void 0?i:r.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.renderNextButton=function(){var s;if(!a.props.renderCustomHeader){var i;switch(!0){case a.props.disabled:i=!0;break;case a.props.showMonthYearPicker:i=NN(a.state.date,a.props);break;case a.props.showYearPicker:i=C7(a.state.date,a.props);break;case a.props.showQuarterYearPicker:i=N7(a.state.date,a.props);break;default:i=bN(a.state.date,a.props);break}if(!(!((s=a.props.forceShowMonthNavigation)!==null&&s!==void 0?s:r.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&i||a.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];a.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),a.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var A=a.increaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(A=a.increaseYear),i&&a.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),A=void 0);var d=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,f=a.props,h=f.nextMonthButtonLabel,m=h===void 0?r.defaultProps.nextMonthButtonLabel:h,p=f.nextYearButtonLabel,v=p===void 0?r.defaultProps.nextYearButtonLabel:p,g=a.props,w=g.nextMonthAriaLabel,y=w===void 0?typeof m=="string"?m:"Next Month":w,N=g.nextYearAriaLabel,C=N===void 0?typeof v=="string"?v:"Next Year":N;return ze.createElement("button",{type:"button",className:o.join(" "),onClick:A,onKeyDown:a.props.handleOnKeyDown,"aria-label":d?C:y},ze.createElement("span",{className:l.join(" ")},d?v:m))}}},a.renderCurrentMonth=function(s){s===void 0&&(s=a.state.date);var i=["react-datepicker__current-month"];return a.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),a.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),a.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),ze.createElement("h2",{className:i.join(" ")},un(s,a.props.dateFormat,a.props.locale))},a.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!a.props.showYearDropdown||s))return ze.createElement(q7,fa({},r.defaultProps,a.props,{date:a.state.date,onChange:a.changeYear,year:ra(a.state.date)}))},a.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!a.props.showMonthDropdown||s))return ze.createElement(M7,fa({},r.defaultProps,a.props,{month:di(a.state.date),onChange:a.changeMonth}))},a.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!a.props.showMonthYearDropdown||s))return ze.createElement(H7,fa({},r.defaultProps,a.props,{date:a.state.date,onChange:a.changeMonthYear}))},a.handleTodayButtonClick=function(s){a.props.onSelect(pN(),s),a.props.setPreSelection&&a.props.setPreSelection(pN())},a.renderTodayButton=function(){if(!(!a.props.todayButton||a.props.showTimeSelectOnly))return ze.createElement("div",{className:"react-datepicker__today-button",onClick:a.handleTodayButtonClick},a.props.todayButton)},a.renderDayNamesHeader=function(s){return ze.createElement("div",{className:"react-datepicker__day-names",role:"row"},a.header(s))},a.renderDefaultHeader=function(s){var i=s.monthDate,o=s.i;return ze.createElement("div",{className:"react-datepicker__header ".concat(a.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},a.renderCurrentMonth(i),ze.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(a.props.dropdownMode),onFocus:a.handleDropdownFocus},a.renderMonthDropdown(o!==0),a.renderMonthYearDropdown(o!==0),a.renderYearDropdown(o!==0)))},a.renderCustomHeader=function(s){var i,o,l=s.monthDate,A=s.i;if(a.props.showTimeSelect&&!a.state.monthContainer||a.props.showTimeSelectOnly)return null;var d=a.props,f=d.showYearPicker,h=d.yearItemNumber,m;if(f){var p=Zc(l,h),v=p.startPeriod,g=p.endPeriod;m={startYear:v,endYear:g}}var w=yN(a.state.date,a.props),y=bN(a.state.date,a.props),N=jN(a.state.date,a.props),C=NN(a.state.date,a.props);return ze.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:a.props.onDropdownFocus},(o=(i=a.props).renderCustomHeader)===null||o===void 0?void 0:o.call(i,fa(fa(fa({},a.state),f&&{visibleYearsRange:m}),{customHeaderCount:A,monthDate:l,changeMonth:a.changeMonth,changeYear:a.changeYear,decreaseMonth:a.decreaseMonth,increaseMonth:a.increaseMonth,decreaseYear:a.decreaseYear,increaseYear:a.increaseYear,prevMonthButtonDisabled:w,nextMonthButtonDisabled:y,prevYearButtonDisabled:N,nextYearButtonDisabled:C})))},a.renderYearHeader=function(s){var i=s.monthDate,o=a.props,l=o.showYearPicker,A=o.yearItemNumber,d=A===void 0?r.defaultProps.yearItemNumber:A,f=Zc(i,d),h=f.startPeriod,m=f.endPeriod;return ze.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(h," - ").concat(m):ra(i))},a.renderHeader=function(s){var i=s.monthDate,o=s.i,l=o===void 0?0:o,A={monthDate:i,i:l};switch(!0){case a.props.renderCustomHeader!==void 0:return a.renderCustomHeader(A);case(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker):return a.renderYearHeader(A);default:return a.renderDefaultHeader(A)}},a.renderMonths=function(){var s,i;if(!(a.props.showTimeSelectOnly||a.props.showYearPicker)){for(var o=[],l=(s=a.props.monthsShown)!==null&&s!==void 0?s:r.defaultProps.monthsShown,A=a.props.showPreviousMonths?l-1:0,d=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?aA(a.state.date,A):lu(a.state.date,A),f=(i=a.props.monthSelectedIn)!==null&&i!==void 0?i:A,h=0;h<l;++h){var m=h-f+A,p=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?aA(d,m):yl(d,m),v="month-".concat(h),g=h<l-1,w=h>0;o.push(ze.createElement("div",{key:v,ref:function(y){a.monthContainer=y??void 0},className:"react-datepicker__month-container"},a.renderHeader({monthDate:p,i:h}),ze.createElement(Q7,fa({},r.defaultProps,a.props,{containerRef:a.containerRef,ariaLabelPrefix:a.props.monthAriaLabelPrefix,day:p,onDayClick:a.handleDayClick,handleOnKeyDown:a.props.handleOnDayKeyDown,handleOnMonthKeyDown:a.props.handleOnKeyDown,onDayMouseEnter:a.handleDayMouseEnter,onMouseLeave:a.handleMonthMouseLeave,orderInDisplay:h,selectingDate:a.state.selectingDate,monthShowsDuplicateDaysEnd:g,monthShowsDuplicateDaysStart:w,dayNamesHeader:a.renderDayNamesHeader(p)}))))}return o}},a.renderYears=function(){if(!a.props.showTimeSelectOnly&&a.props.showYearPicker)return ze.createElement("div",{className:"react-datepicker__year--container"},a.renderHeader({monthDate:a.state.date}),ze.createElement(K7,fa({},r.defaultProps,a.props,{selectingDate:a.state.selectingDate,date:a.state.date,onDayClick:a.handleDayClick,clearSelectingDate:a.clearSelectingDate,onYearMouseEnter:a.handleYearMouseEnter,onYearMouseLeave:a.handleYearMouseLeave})))},a.renderTimeSection=function(){if(a.props.showTimeSelect&&(a.state.monthContainer||a.props.showTimeSelectOnly))return ze.createElement($7,fa({},r.defaultProps,a.props,{onChange:a.props.onTimeChange,format:a.props.timeFormat,intervals:a.props.timeIntervals,monthRef:a.state.monthContainer}))},a.renderInputTimeSection=function(){var s=a.props.selected?new Date(a.props.selected):void 0,i=s&&bx(s)&&!!a.props.selected,o=i?"".concat(CN(s.getHours()),":").concat(CN(s.getMinutes())):"";if(a.props.showTimeInput)return ze.createElement(D7,fa({},r.defaultProps,a.props,{date:s,timeString:o,onChange:a.props.onTimeChange}))},a.renderAriaLiveRegion=function(){var s,i=Zc(a.state.date,(s=a.props.yearItemNumber)!==null&&s!==void 0?s:r.defaultProps.yearItemNumber),o=i.startPeriod,l=i.endPeriod,A;return a.props.showYearPicker?A="".concat(o," - ").concat(l):a.props.showMonthYearPicker||a.props.showQuarterYearPicker?A=ra(a.state.date):A="".concat(xb(di(a.state.date),a.props.locale)," ").concat(ra(a.state.date)),ze.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},a.state.isRenderAriaLiveMessage&&A)},a.renderChildren=function(){if(a.props.children)return ze.createElement("div",{className:"react-datepicker__children-container"},a.props.children)},a.containerRef=b.createRef(),a.state={date:a.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},a}return Object.defineProperty(r,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:fF,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Rm}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},r.prototype.componentDidUpdate=function(t){var a=this;if(this.props.preSelection&&(!ua(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var s=!ji(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&a.handleCustomMonthChange(a.state.date)})}else this.props.openToDate&&!ua(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},r.prototype.render=function(){var t=this.props.container||A7;return ze.createElement(yx,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ze.createElement("div",{style:{display:"contents"},ref:this.containerRef},ze.createElement(t,{className:Ps("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},r})(b.Component),X7=function(e){var r=e.icon,t=e.className,a=t===void 0?"":t,s=e.onClick,i="react-datepicker__calendar-icon";if(typeof r=="string")return ze.createElement("i",{className:"".concat(i," ").concat(r," ").concat(a),"aria-hidden":"true",onClick:s});if(ze.isValidElement(r)){var o=r;return ze.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(i," ").concat(a),onClick:function(l){typeof o.props.onClick=="function"&&o.props.onClick(l),typeof s=="function"&&s(l)}})}return ze.createElement("svg",{className:"".concat(i," ").concat(a),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},ze.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},hF=(function(e){Vs(r,e);function r(t){var a=e.call(this,t)||this;return a.portalRoot=null,a.el=document.createElement("div"),a}return r.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},r.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},r.prototype.render=function(){return f5.createPortal(this.props.children,this.el)},r})(b.Component),J7="[tabindex], a, button, input, select, textarea",Z7=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},mF=(function(e){Vs(r,e);function r(t){var a=e.call(this,t)||this;return a.getTabChildren=function(){var s;return Array.prototype.slice.call((s=a.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(J7),1,-1).filter(Z7)},a.handleFocusStart=function(){var s=a.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},a.handleFocusEnd=function(){var s=a.getTabChildren();s&&s.length>1&&s[0].focus()},a.tabLoopRef=b.createRef(),a}return r.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:r.defaultProps.enableTabLoop)?ze.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ze.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ze.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},r.defaultProps={enableTabLoop:!0},r})(b.Component);function e$(e){function r(t){var a,s=typeof t.hidePopper=="boolean"?t.hidePopper:!0,i=b.useRef(null),o=c7(fa({open:!s,whileElementsMounted:VS,placement:t.popperPlacement,middleware:ac([GS({padding:15}),WS(10),YS({element:i})],(a=t.popperModifiers)!==null&&a!==void 0?a:[],!0)},t.popperProps)),l=fa(fa({},t),{hidePopper:s,popperProps:fa(fa({},o),{arrowRef:i})});return ze.createElement(e,fa({},l))}return r.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),r}var t$=function(e){var r=e.className,t=e.wrapperClassName,a=e.hidePopper,s=a===void 0?!0:a,i=e.popperComponent,o=e.targetComponent,l=e.enableTabLoop,A=e.popperOnKeyDown,d=e.portalId,f=e.portalHost,h=e.popperProps,m=e.showArrow,p=void 0;if(!s){var v=Ps("react-datepicker-popper",r);p=ze.createElement(mF,{enableTabLoop:l},ze.createElement("div",{ref:h.refs.setFloating,style:h.floatingStyles,className:v,"data-placement":h.placement,onKeyDown:A},i,m&&ze.createElement(r7,{ref:h.arrowRef,context:h.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(p=b.createElement(e.popperContainer,{},p)),d&&!s&&(p=ze.createElement(hF,{portalId:d,portalHost:f},p));var g=Ps("react-datepicker-wrapper",t);return ze.createElement(ze.Fragment,null,ze.createElement("div",{ref:h.refs.setReference,className:g},o),p)},r$=e$(t$);function a$(e,r){return e&&r?di(e)!==di(r)||ra(e)!==ra(r):e!==r}var nw="Date input not valid.",n$=(function(e){Vs(r,e);function r(t){var a=e.call(this,t)||this;return a.calendar=null,a.input=null,a.getPreSelection=function(){return a.props.openToDate?a.props.openToDate:a.props.selectsEnd&&a.props.startDate?a.props.startDate:a.props.selectsStart&&a.props.endDate?a.props.endDate:Pa()},a.modifyHolidays=function(){var s;return(s=a.props.holidays)===null||s===void 0?void 0:s.reduce(function(i,o){var l=new Date(o.date);return bx(l)?ac(ac([],i,!0),[fa(fa({},o),{date:l})],!1):i},[])},a.calcInitialState=function(){var s,i=a.getPreSelection(),o=AF(a.props),l=dF(a.props),A=o&&rc(i,Ug(o))?o:l&&md(i,gN(l))?l:i;return{open:a.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=a.props.selectsRange?a.props.startDate:a.props.selected)!==null&&s!==void 0?s:A,highlightDates:BN(a.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},a.getInputValue=function(){var s,i=a.props,o=i.locale,l=i.startDate,A=i.endDate,d=i.rangeSeparator,f=i.selected,h=i.selectedDates,m=i.selectsMultiple,p=i.selectsRange,v=i.value,g=(s=a.props.dateFormat)!==null&&s!==void 0?s:r.defaultProps.dateFormat,w=a.state.inputValue;return typeof v=="string"?v:typeof w=="string"?w:p?u7(l,A,{dateFormat:g,locale:o,rangeSeparator:d}):m?f7(h??[],{dateFormat:g,locale:o}):uo(f,{dateFormat:g,locale:o})},a.resetHiddenStatus=function(){a.setState(fa(fa({},a.state),{wasHidden:!1}))},a.setHiddenStatus=function(){a.setState(fa(fa({},a.state),{wasHidden:!0}))},a.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&a.setHiddenStatus()},a.clearPreventFocusTimeout=function(){a.preventFocusTimeout&&clearTimeout(a.preventFocusTimeout)},a.setFocus=function(){var s,i;(i=(s=a.input)===null||s===void 0?void 0:s.focus)===null||i===void 0||i.call(s,{preventScroll:!0})},a.setBlur=function(){var s,i;(i=(s=a.input)===null||s===void 0?void 0:s.blur)===null||i===void 0||i.call(s),a.cancelFocusInput()},a.deferBlur=function(){requestAnimationFrame(function(){a.setBlur()})},a.setOpen=function(s,i){i===void 0&&(i=!1),a.setState({open:s,preSelection:s&&a.state.open?a.state.preSelection:a.calcInitialState().preSelection,lastPreSelectChange:sw},function(){s||a.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&a.deferBlur(),a.setState({inputValue:null})})})},a.inputOk=function(){return nA(a.state.preSelection)},a.isCalendarOpen=function(){return a.props.open===void 0?a.state.open&&!a.props.disabled&&!a.props.readOnly:a.props.open},a.handleFocus=function(s){var i,o,l=a.state.wasHidden,A=l?a.state.open:!0;l&&a.resetHiddenStatus(),a.state.preventFocus||((o=(i=a.props).onFocus)===null||o===void 0||o.call(i,s),A&&!a.props.preventOpenOnFocus&&!a.props.readOnly&&a.setOpen(!0)),a.setState({focused:!0})},a.sendFocusBackToInput=function(){a.preventFocusTimeout&&a.clearPreventFocusTimeout(),a.setState({preventFocus:!0},function(){a.preventFocusTimeout=setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})})},a.cancelFocusInput=function(){clearTimeout(a.inputFocusTimeout),a.inputFocusTimeout=void 0},a.deferFocusInput=function(){a.cancelFocusInput(),a.inputFocusTimeout=setTimeout(function(){return a.setFocus()},1)},a.handleDropdownFocus=function(){a.cancelFocusInput()},a.resetInputValue=function(){a.setState(fa(fa({},a.state),{inputValue:null}))},a.handleBlur=function(s){var i,o;(!a.state.open||a.props.withPortal||a.props.showTimeInput)&&((o=(i=a.props).onBlur)===null||o===void 0||o.call(i,s)),a.resetInputValue(),a.state.open&&a.props.open===!1&&a.setOpen(!1),a.setState({focused:!1})},a.handleCalendarClickOutside=function(s){var i,o;a.props.inline||a.setOpen(!1),(o=(i=a.props).onClickOutside)===null||o===void 0||o.call(i,s),a.props.withPortal&&s.preventDefault()},a.handleChange=function(){for(var s,i,o,l,A,d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var h=d[0];if(!(a.props.onChangeRaw&&(a.props.onChangeRaw.apply(a,d),!h||typeof h.isDefaultPrevented!="function"||h.isDefaultPrevented()))){a.setState({inputValue:(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:null,lastPreSelectChange:s$});var m=a.props,p=m.selectsRange,v=m.startDate,g=m.endDate,w=(s=a.props.dateFormat)!==null&&s!==void 0?s:r.defaultProps.dateFormat,y=(i=a.props.strictParsing)!==null&&i!==void 0?i:r.defaultProps.strictParsing,N=(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:"";if(p){var C=a.props.rangeSeparator,E=C.trim(),U=N.split(w.includes(E)?C:E,2).map(function(J){return J.trim()}),D=U[0],k=U[1],L=ew(D??"",w,a.props.locale,y),_=L?ew(k??"",w,a.props.locale,y):null,Y=(v==null?void 0:v.getTime())!==(L==null?void 0:L.getTime()),I=(g==null?void 0:g.getTime())!==(_==null?void 0:_.getTime());if(!Y&&!I||L&&Mo(L,a.props)||_&&Mo(_,a.props))return;(l=(o=a.props).onChange)===null||l===void 0||l.call(o,[L,_],h)}else{var $=ew(N,w,a.props.locale,y,(A=a.props.selected)!==null&&A!==void 0?A:void 0);($||!N)&&a.setSelected($,h,!0)}}},a.handleSelect=function(s,i,o){var l;if(!a.props.readOnly){var A=a.props,d=A.selectsRange,f=A.startDate,h=A.endDate,m=A.locale,p=A.swapRange,v=(l=a.props.dateFormat)!==null&&l!==void 0?l:r.defaultProps.dateFormat,g=!d||f&&!h&&(p||!rw(s,f));if(a.props.shouldCloseOnSelect&&!a.props.showTimeSelect&&g&&a.sendFocusBackToInput(),a.props.onChangeRaw){var w=uo(s,{dateFormat:v,locale:m});a.props.onChangeRaw(i,{date:s,formattedDate:w})}a.setSelected(s,i,!1,o),a.props.showDateSelect&&a.setState({isRenderAriaLiveMessage:!0}),!a.props.shouldCloseOnSelect||a.props.showTimeSelect?a.setPreSelection(s):g&&a.setOpen(!1)}},a.setSelected=function(s,i,o,l){var A,d,f=s;if(a.props.showYearPicker){if(f!==null&&Lg(ra(f),a.props))return}else if(a.props.showMonthYearPicker){if(f!==null&&cF(f,a.props))return}else if(f!==null&&Mo(f,a.props))return;var h=a.props,m=h.onChange,p=h.selectsRange,v=h.startDate,g=h.endDate,w=h.selectsMultiple,y=h.selectedDates,N=h.minTime,C=h.swapRange;if(!ru(a.props.selected,f)||a.props.allowSameDay||p||w)if(f!==null&&(a.props.selected&&(!o||!a.props.showTimeSelect&&!a.props.showTimeSelectOnly&&!a.props.showTimeInput)&&(f=tw(f,{hour:sA(a.props.selected),minute:iA(a.props.selected),second:od(a.props.selected)})),!o&&(a.props.showTimeSelect||a.props.showTimeSelectOnly)&&N&&(f=tw(f,{hour:N.getHours(),minute:N.getMinutes(),second:N.getSeconds()})),a.props.inline||a.setState({preSelection:f}),a.props.focusSelectedMonth||a.setState({monthSelectedIn:l})),p){var E=!v&&!g,U=v&&!g,D=!v&&!!g,k=v&&g;E?m==null||m([f,null],i):U?f===null?m==null||m([null,null],i):rw(f,v)?C?m==null||m([f,v],i):m==null||m([f,null],i):m==null||m([v,f],i):D&&(f&&rw(f,g)?m==null||m([f,g],i):m==null||m([f,null],i)),k&&(m==null||m([f,null],i))}else if(w){if(f!==null)if(!(y!=null&&y.length))m==null||m([f],i);else{var L=y.some(function(Y){return ua(Y,f)});if(L){var _=y.filter(function(Y){return!ua(Y,f)});m==null||m(_,i)}else m==null||m(ac(ac([],y,!0),[f],!1),i)}}else m==null||m(f,i);o||((d=(A=a.props).onSelect)===null||d===void 0||d.call(A,f,i),a.setState({inputValue:null}))},a.setPreSelection=function(s){if(!a.props.readOnly){var i=nA(a.props.minDate),o=nA(a.props.maxDate),l=!0;if(s){var A=Ug(s);if(i&&o)l=Yd(s,a.props.minDate,a.props.maxDate);else if(i){var d=Ug(a.props.minDate);l=md(s,d)||ru(A,d)}else if(o){var f=gN(a.props.maxDate);l=rc(s,f)||ru(A,f)}}l&&a.setState({preSelection:s})}},a.toggleCalendar=function(){a.setOpen(!a.state.open)},a.handleTimeChange=function(s){var i,o;if(!(a.props.selectsRange||a.props.selectsMultiple)){var l=a.props.selected?a.props.selected:a.getPreSelection(),A=a.props.selected?s:tw(l,{hour:sA(s),minute:iA(s)});a.setState({preSelection:A}),(o=(i=a.props).onChange)===null||o===void 0||o.call(i,A),a.props.shouldCloseOnSelect&&!a.props.showTimeInput&&(a.sendFocusBackToInput(),a.setOpen(!1)),a.props.showTimeInput&&a.setOpen(!0),(a.props.showTimeSelectOnly||a.props.showTimeSelect)&&a.setState({isRenderAriaLiveMessage:!0}),a.setState({inputValue:null})}},a.onInputClick=function(){var s,i;!a.props.disabled&&!a.props.readOnly&&a.setOpen(!0),(i=(s=a.props).onInputClick)===null||i===void 0||i.call(s)},a.onInputKeyDown=function(s){var i,o,l,A,d,f;(o=(i=a.props).onKeyDown)===null||o===void 0||o.call(i,s);var h=s.key;if(!a.state.open&&!a.props.inline&&!a.props.preventOpenOnFocus){(h===Ut.ArrowDown||h===Ut.ArrowUp||h===Ut.Enter)&&((l=a.onInputClick)===null||l===void 0||l.call(a));return}if(a.state.open){if(h===Ut.ArrowDown||h===Ut.ArrowUp){s.preventDefault();var m=a.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":a.props.showWeekPicker&&a.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':a.props.showFullMonthYearPicker||a.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((A=a.calendar)===null||A===void 0?void 0:A.containerRef.current)instanceof Element&&a.calendar.containerRef.current.querySelector(m);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var v=Pa(a.state.preSelection);h===Ut.Enter?(s.preventDefault(),s.target.blur(),a.inputOk()&&a.state.lastPreSelectChange===sw?(a.handleSelect(v,s),!a.props.shouldCloseOnSelect&&a.setPreSelection(v)):a.setOpen(!1)):h===Ut.Escape?(s.preventDefault(),s.target.blur(),a.sendFocusBackToInput(),a.setOpen(!1)):h===Ut.Tab&&a.setOpen(!1),a.inputOk()||(f=(d=a.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:nw})}},a.onPortalKeyDown=function(s){var i=s.key;i===Ut.Escape&&(s.preventDefault(),a.setState({preventFocus:!0},function(){a.setOpen(!1),setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})}))},a.onDayKeyDown=function(s){var i,o,l,A,d,f,h=a.props,m=h.minDate,p=h.maxDate,v=h.disabledKeyboardNavigation,g=h.showWeekPicker,w=h.shouldCloseOnSelect,y=h.locale,N=h.calendarStartDay,C=h.adjustDateOnChange,E=h.inline;if((o=(i=a.props).onKeyDown)===null||o===void 0||o.call(i,s),!v){var U=s.key,D=s.shiftKey,k=Pa(a.state.preSelection),L=function(re,K){var G=K;switch(re){case Ut.ArrowRight:G=g?A0(K,1):vl(K,1);break;case Ut.ArrowLeft:G=g?uN(K):FH(K);break;case Ut.ArrowUp:G=uN(K);break;case Ut.ArrowDown:G=A0(K,1);break;case Ut.PageUp:G=D?Of(K,1):lu(K,1);break;case Ut.PageDown:G=D?aA(K,1):yl(K,1);break;case Ut.Home:G=ld(K,y,N);break;case Ut.End:G=p7(K);break}return G},_=function(re,K){for(var G=40,z=re,Z=!1,Ae=0,ee=L(re,K);!Z;){if(Ae>=G){ee=K;break}m&&ee<m&&(z=Ut.ArrowRight,ee=Mo(m,a.props)?L(z,ee):m),p&&ee>p&&(z=Ut.ArrowLeft,ee=Mo(p,a.props)?L(z,ee):p),Mo(ee,a.props)?((z===Ut.PageUp||z===Ut.Home)&&(z=Ut.ArrowRight),(z===Ut.PageDown||z===Ut.End)&&(z=Ut.ArrowLeft),ee=L(z,ee)):Z=!0,Ae++}return ee};if(U===Ut.Enter){s.preventDefault(),a.handleSelect(k,s),!w&&a.setPreSelection(k);return}else if(U===Ut.Escape){s.preventDefault(),a.setOpen(!1),a.inputOk()||(A=(l=a.props).onInputError)===null||A===void 0||A.call(l,{code:1,msg:nw});return}var Y=null;switch(U){case Ut.ArrowLeft:case Ut.ArrowRight:case Ut.ArrowUp:case Ut.ArrowDown:case Ut.PageUp:case Ut.PageDown:case Ut.Home:case Ut.End:Y=_(U,k);break}if(!Y){(f=(d=a.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:nw});return}if(s.preventDefault(),a.setState({lastPreSelectChange:sw}),C&&a.setSelected(Y),a.setPreSelection(Y),E){var I=di(k),$=di(Y),J=ra(k),M=ra(Y);I!==$||J!==M?a.setState({shouldFocusDayInline:!0}):a.setState({shouldFocusDayInline:!1})}}},a.onPopperKeyDown=function(s){var i=s.key;i===Ut.Escape&&(s.preventDefault(),a.sendFocusBackToInput(),a.setOpen(!1))},a.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),a.sendFocusBackToInput();var i=a.props,o=i.selectsRange,l=i.onChange;o?l==null||l([null,null],s):l==null||l(null,s),a.setState({inputValue:null})},a.clear=function(){a.onClearClick()},a.onScroll=function(s){typeof a.props.closeOnScroll=="boolean"&&a.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&a.setOpen(!1):typeof a.props.closeOnScroll=="function"&&a.props.closeOnScroll(s)&&a.setOpen(!1)},a.renderCalendar=function(){var s,i;return!a.props.inline&&!a.isCalendarOpen()?null:ze.createElement(Y7,fa({showMonthYearDropdown:void 0,ref:function(o){a.calendar=o}},a.props,a.state,{setOpen:a.setOpen,dateFormat:(s=a.props.dateFormatCalendar)!==null&&s!==void 0?s:r.defaultProps.dateFormatCalendar,onSelect:a.handleSelect,onClickOutside:a.handleCalendarClickOutside,holidays:_7(a.modifyHolidays()),outsideClickIgnoreClass:a.props.outsideClickIgnoreClass,onDropdownFocus:a.handleDropdownFocus,onTimeChange:a.handleTimeChange,className:a.props.calendarClassName,container:a.props.calendarContainer,handleOnKeyDown:a.props.onKeyDown,handleOnDayKeyDown:a.onDayKeyDown,setPreSelection:a.setPreSelection,dropdownMode:(i=a.props.dropdownMode)!==null&&i!==void 0?i:r.defaultProps.dropdownMode}),a.props.children)},a.renderAriaLiveRegion=function(){var s,i=a.props.locale,o=(s=a.props.dateFormat)!==null&&s!==void 0?s:r.defaultProps.dateFormat,l=a.props.showTimeInput||a.props.showTimeSelect,A=l?"PPPPp":"PPPP",d;return a.props.selectsRange?d="Selected start date: ".concat(uo(a.props.startDate,{dateFormat:A,locale:i}),". ").concat(a.props.endDate?"End date: "+uo(a.props.endDate,{dateFormat:A,locale:i}):""):a.props.showTimeSelectOnly?d="Selected time: ".concat(uo(a.props.selected,{dateFormat:o,locale:i})):a.props.showYearPicker?d="Selected year: ".concat(uo(a.props.selected,{dateFormat:"yyyy",locale:i})):a.props.showMonthYearPicker?d="Selected month: ".concat(uo(a.props.selected,{dateFormat:"MMMM yyyy",locale:i})):a.props.showQuarterYearPicker?d="Selected quarter: ".concat(uo(a.props.selected,{dateFormat:"yyyy, QQQ",locale:i})):d="Selected date: ".concat(uo(a.props.selected,{dateFormat:A,locale:i})),ze.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},a.renderDateInput=function(){var s,i,o=Ps(a.props.className,(s={},s[a.props.outsideClickIgnoreClass||r.defaultProps.outsideClickIgnoreClass]=a.state.open,s)),l=a.props.customInput||ze.createElement("input",{type:"text"}),A=a.props.customInputRef||"ref";return b.cloneElement(l,(i={},i[A]=function(d){a.input=d},i.value=a.getInputValue(),i.onBlur=a.handleBlur,i.onChange=a.handleChange,i.onClick=a.onInputClick,i.onFocus=a.handleFocus,i.onKeyDown=a.onInputKeyDown,i.id=a.props.id,i.name=a.props.name,i.form=a.props.form,i.autoFocus=a.props.autoFocus,i.placeholder=a.props.placeholderText,i.disabled=a.props.disabled,i.autoComplete=a.props.autoComplete,i.className=Ps(l.props.className,o),i.title=a.props.title,i.readOnly=a.props.readOnly,i.required=a.props.required,i.tabIndex=a.props.tabIndex,i["aria-describedby"]=a.props.ariaDescribedBy,i["aria-invalid"]=a.props.ariaInvalid,i["aria-labelledby"]=a.props.ariaLabelledBy,i["aria-required"]=a.props.ariaRequired,i))},a.renderClearButton=function(){var s=a.props,i=s.isClearable,o=s.disabled,l=s.selected,A=s.startDate,d=s.endDate,f=s.clearButtonTitle,h=s.clearButtonClassName,m=h===void 0?"":h,p=s.ariaLabelClose,v=p===void 0?"Close":p,g=s.selectedDates,w=s.readOnly;return i&&!w&&(l!=null||A!=null||d!=null||g!=null&&g.length)?ze.createElement("button",{type:"button",className:Ps("react-datepicker__close-icon",m,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":v,onClick:a.onClearClick,title:f,tabIndex:-1}):null},a.state=a.calcInitialState(),a.preventFocusTimeout=void 0,a}return Object.defineProperty(r,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:fF,readOnly:!1,rangeSeparator:oF,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Rm,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.componentDidUpdate=function(t,a){var s,i,o,l;t.inline&&a$(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:BN(this.props.highlightDates)}),!a.focused&&!ru(t.selected,this.props.selected)&&this.setState({inputValue:null}),a.open!==this.state.open&&(a.open===!1&&this.state.open===!0&&((i=(s=this.props).onCalendarOpen)===null||i===void 0||i.call(s)),a.open===!0&&this.state.open===!1&&((l=(o=this.props).onCalendarClose)===null||l===void 0||l.call(o)))},r.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.renderInputContainer=function(){var t=this.props,a=t.showIcon,s=t.icon,i=t.calendarIconClassname,o=t.calendarIconClassName,l=t.toggleCalendarOnIconClick,A=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ze.createElement("div",{className:"react-datepicker__input-container".concat(a?" react-datepicker__view-calendar-icon":"")},a&&ze.createElement(X7,fa({icon:s,className:Ps(o,!o&&i,A&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},r.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var a=this.state.open?ze.createElement(mF,{enableTabLoop:this.props.enableTabLoop},ze.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(a=ze.createElement(hF,fa({portalId:this.props.portalId},this.props),a)),ze.createElement("div",null,this.renderInputContainer(),a)}return ze.createElement(r$,fa({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},r})(b.Component),s$="input",sw="navigate";const pF=b.forwardRef(({value:e,onClick:r,placeholder:t,className:a,id:s,name:i},o)=>n.jsxs("div",{className:"relative",children:[n.jsx(Oe,{id:s,name:i,ref:o,value:e||"",onClick:r,readOnly:!0,placeholder:t||"DD/MM/AAAA",className:ct("pr-10",a)}),n.jsx(br,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}));pF.displayName="DateInput";function ms({id:e,name:r,value:t,onChange:a,className:s,minDate:i,maxDate:o,required:l}){const A=t?rF(`${t}`):null;return n.jsx(n$,{selected:A,onChange:d=>{if(!d){a==null||a("");return}a==null||a(ZA(d,"yyyy-MM-dd"))},customInput:n.jsx(pF,{id:e,name:r,className:s}),dateFormat:"dd/MM/yyyy",placeholderText:"DD/MM/AAAA",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",minDate:i,maxDate:o,calendarClassName:"dp-modern",popperClassName:"dp-popper",required:l})}function i$(){const[e,r]=b.useState(null),[t,a]=b.useState(null),[s,i]=b.useState(!0),[o,l]=b.useState(null),[A,d]=b.useState([]),[f,h]=b.useState(!0),[m,p]=b.useState({data_nascimento:"",endereco:"",telefone:"",tipo_sanguineo:"",alergias:"",condicoes_cronicas:""}),[v,g]=b.useState(!1),{toast:w}=Ka();b.useEffect(()=>{let L=!0;return(async()=>{var _,Y,I,$;try{const[J,M]=await Promise.allSettled([ha.getPerfil(),ha.getPacienteDoUsuario()]);if(!L)return;if(J.status==="fulfilled"&&r(J.value),M.status==="fulfilled"&&a(M.value),J.status==="rejected"&&M.status==="rejected"){const re=((Y=(_=J.reason)==null?void 0:_.response)==null?void 0:Y.status)||(($=(I=M.reason)==null?void 0:I.response)==null?void 0:$.status);l(re===401?"Sua sesso no  vlida. Verifique o login e o tipo de autenticao (Bearer/JWT/Token).":"No foi possvel carregar seu perfil.")}}finally{L&&i(!1)}})(),()=>{L=!1}},[]),b.useEffect(()=>{let L=!0;return(async()=>{try{h(!0);const _=await ha.getConsultas();if(L){const I=(Array.isArray(_)?_:(_==null?void 0:_.results)||[]).map(M=>{var z,Z,Ae,ee,R,q,te,F,X,H,V;const re=((Z=(z=M.medico)==null?void 0:z.user)==null?void 0:Z.first_name)||((Ae=M.medico)==null?void 0:Ae.first_name)||((ee=M.medico)==null?void 0:ee.nome)||"",K=((q=(R=M.medico)==null?void 0:R.user)==null?void 0:q.last_name)||((te=M.medico)==null?void 0:te.last_name)||"",G=[re,K].filter(Boolean).join(" ").trim()||((F=M.medico)==null?void 0:F.nome)||"";return{id:M.id,data:M.data||M.data_hora,medico:{nome:G,especialidade:((V=(H=(X=M.medico)==null?void 0:X.especialidades)==null?void 0:H[0])==null?void 0:V.nome)||M.especialidade||"No especificada"},status:M.status,local:M.local||M.localizacao||M.observacoes||"Local no especificado",tipo:M.tipo||M.motivo||"Consulta"}}),$=new Date,J=I.filter(M=>{const K=(M.status||"").toLowerCase().includes("agend"),G=M.data?new Date(M.data)>$:!1;return K||G});d(J.slice(0,3))}}catch(_){console.error("Erro ao buscar consultas:",_)}finally{L&&h(!1)}})(),()=>{L=!1}},[]),b.useEffect(()=>{t&&e&&p({data_nascimento:e.data_nascimento||"",endereco:e.endereco||"",telefone:e.telefone||"",tipo_sanguineo:t.tipo_sanguineo||"",alergias:t.alergias||"",condicoes_cronicas:t.condicoes_cronicas||""})},[t,e]);const y=L=>{const{name:_,value:Y}=L.target;p(I=>({...I,[_]:Y}))},N=async L=>{L.preventDefault(),g(!0);try{await ha.atualizarPerfil({data_nascimento:m.data_nascimento,endereco:m.endereco,telefone:m.telefone}),await ha.atualizarPaciente({tipo_sanguineo:m.tipo_sanguineo,alergias:m.alergias,condicoes_cronicas:m.condicoes_cronicas});const[_,Y]=await Promise.allSettled([ha.getPerfil(),ha.getPacienteDoUsuario()]);_.status==="fulfilled"&&r(_.value),Y.status==="fulfilled"&&a(Y.value),w({title:"Perfil atualizado",description:"Suas informaes foram salvas com sucesso."})}catch(_){console.error("Erro ao salvar perfil:",_),w({title:"Erro ao salvar",description:"No foi possvel atualizar seu perfil. Tente novamente.",variant:"destructive"})}finally{g(!1)}},C=L=>L?([L.first_name,L.last_name].filter(Boolean).join(" ")||L.username||"Usurio").split(" ").map(Y=>Y[0]).join("").toUpperCase().slice(0,2):"?",E=L=>L?L.length>50?L.substring(0,50)+"...":L:"No informado",U=e&&(!e.data_nascimento||!e.endereco||!e.telefone),D=[{label:"Perfil",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"}],k=[{title:"Contato com mdico",description:"Solicite um horrio",href:"/paciente/consultas/nova",icon:br,color:"blue"},{title:"Ver Pronturio",description:"Acesse seu histrico mdico",href:"/paciente/prontuario",icon:fn,color:"green"},{title:"Exames",description:"Visualize seus exames",href:"/paciente/exames",icon:tA,color:"purple"},{title:"Receitas",description:"Suas receitas mdicas",href:"/paciente/receitas",icon:Yg,color:"red"}];return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950",children:n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 p-8 shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/95 via-indigo-600/95 to-purple-600/95"}),n.jsx("div",{className:"absolute -top-4 -right-4 h-24 w-24 rounded-full bg-white/10 blur-xl"}),n.jsx("div",{className:"absolute -bottom-4 -left-4 h-32 w-32 rounded-full bg-white/5 blur-2xl"}),n.jsxs("div",{className:"relative flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Lm,{className:"h-24 w-24 ring-4 ring-white/40 shadow-xl",children:n.jsx(Im,{className:"bg-gradient-to-br from-white to-blue-100 text-blue-700 text-2xl font-bold shadow-inner",children:s?"...":C(e)})}),n.jsx("div",{className:"absolute -bottom-1 -right-1 h-6 w-6 rounded-full bg-emerald-400 border-3 border-white shadow-lg"})]}),n.jsxs("div",{className:"text-white",children:[n.jsx("h1",{className:"text-4xl font-bold mb-2 drop-shadow-sm",children:s?n.jsx(Cr,{className:"h-10 w-64 bg-white/20"}):[e==null?void 0:e.first_name,e==null?void 0:e.last_name].filter(Boolean).join(" ")||(e==null?void 0:e.username)||"Usurio"}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx($s,{className:"h-5 w-5 text-blue-100"}),n.jsx("p",{className:"text-blue-50 text-lg font-medium",children:"Paciente Verificado"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[(e==null?void 0:e.cpf)&&n.jsxs(lr,{className:"bg-white/25 text-white border-white/40 hover:bg-white/35 font-medium px-3 py-1 shadow-sm",children:["CPF: ",e.cpf]}),(t==null?void 0:t.tipo_sanguineo)&&n.jsxs(lr,{className:"bg-red-500/30 text-red-50 border-red-200/40 hover:bg-red-500/40 font-medium px-3 py-1 shadow-sm",children:[n.jsx(yj,{className:"h-4 w-4 mr-1"}),t.tipo_sanguineo]})]})]})]}),n.jsxs(we,{className:"bg-white/25 hover:bg-white/35 text-white border-white/40 backdrop-blur-sm shadow-lg font-medium",children:[n.jsx(tI,{className:"h-4 w-4 mr-2"}),"Editar Perfil"]})]})]}),n.jsx(Wi,{tabs:D,basePath:"/paciente"}),!s&&!o&&U&&n.jsxs(De,{className:"border-amber-300 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/30 dark:to-orange-900/30 shadow-lg dark:border-amber-600",children:[n.jsx(Ve,{className:"pb-4",children:n.jsxs(Xe,{className:"flex items-center gap-3 text-amber-800 dark:text-amber-200",children:[n.jsx("div",{className:"p-2 rounded-full bg-amber-200 dark:bg-amber-700",children:n.jsx(eA,{className:"h-5 w-5 text-amber-700 dark:text-amber-200"})}),"Complete seu perfil para uma experincia completa"]})}),n.jsx(Le,{children:n.jsxs("form",{className:"space-y-6",onSubmit:N,children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"data_nascimento",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Data de Nascimento"}),n.jsx(ms,{id:"data_nascimento",name:"data_nascimento",value:m.data_nascimento,onChange:L=>p(_=>({..._,data_nascimento:L})),className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",maxDate:new Date,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"telefone",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Telefone"}),n.jsx(Oe,{id:"telefone",name:"telefone",type:"tel",placeholder:"(11) 99999-9999",value:m.telefone,onChange:y,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"endereco",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Endereo"}),n.jsx(la,{id:"endereco",name:"endereco",placeholder:"Rua, nmero, bairro, cidade, estado",value:m.endereco,onChange:y,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"tipo_sanguineo",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Tipo Sanguneo"}),n.jsx(Oe,{id:"tipo_sanguineo",name:"tipo_sanguineo",placeholder:"Ex: O+, A-, B+, AB-",value:m.tipo_sanguineo,onChange:y,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"alergias",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Alergias"}),n.jsx(Oe,{id:"alergias",name:"alergias",placeholder:"Ex: Penicilina, Amendoim",value:m.alergias,onChange:y,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"condicoes_cronicas",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Condies Crnicas"}),n.jsx(la,{id:"condicoes_cronicas",name:"condicoes_cronicas",placeholder:"Ex: Hipertenso, Diabetes",value:m.condicoes_cronicas,onChange:y,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]}),n.jsx(we,{type:"submit",disabled:v,className:"w-full btn-medical-primary shadow-lg font-medium",children:v?"Salvando...":"Salvar Informaes"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-2 space-y-6",children:n.jsxs(De,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[n.jsx(Ve,{className:"pb-6",children:n.jsxs(Xe,{className:"flex items-center gap-3 text-2xl text-gray-800 dark:text-gray-100",children:[n.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:n.jsx(On,{className:"h-6 w-6"})}),"Informaes Pessoais"]})}),n.jsx(Le,{children:s?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Cr,{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700"}),n.jsx(Cr,{className:"h-16 w-full bg-gray-200 dark:bg-gray-700"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Cr,{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700"}),n.jsx(Cr,{className:"h-16 w-full bg-gray-200 dark:bg-gray-700"})]})]}):o?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(eA,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium",children:o})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/40 dark:to-indigo-900/40 border border-blue-200 dark:border-blue-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-blue-500 text-white shadow-md",children:n.jsx(br,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-blue-800 dark:text-blue-200",children:"Data de Nascimento"})]}),n.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:(e==null?void 0:e.data_nascimento)||"No informado"})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-emerald-50 to-green-100 dark:from-emerald-900/40 dark:to-green-900/40 border border-emerald-200 dark:border-emerald-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-emerald-500 text-white shadow-md",children:n.jsx(rA,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-emerald-800 dark:text-emerald-200",children:"Telefone"})]}),n.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:(e==null?void 0:e.telefone)||"No informado"})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-purple-50 to-violet-100 dark:from-purple-900/40 dark:to-violet-900/40 border border-purple-200 dark:border-purple-700 hover:shadow-lg transition-all duration-300 md:col-span-2",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-purple-500 text-white shadow-md",children:n.jsx(Xg,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-purple-800 dark:text-purple-200",children:"Endereo"})]}),n.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:E(e==null?void 0:e.endereco)})]})]}),n.jsx(hs,{className:"my-8 bg-gray-200 dark:bg-gray-700"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[n.jsx(Bi,{className:"h-5 w-5 text-red-500"}),"Informaes Mdicas"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-red-50 to-pink-100 dark:from-red-900/40 dark:to-pink-900/40 border border-red-200 dark:border-red-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-red-500 text-white shadow-md",children:n.jsx(yj,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-200",children:"Tipo Sanguneo"})]}),n.jsx("p",{className:"text-red-900 dark:text-red-100 font-bold text-2xl",children:(t==null?void 0:t.tipo_sanguineo)||"No informado"})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-amber-50 to-yellow-100 dark:from-amber-900/40 dark:to-yellow-900/40 border border-amber-200 dark:border-amber-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-amber-500 text-white shadow-md",children:n.jsx(eA,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-amber-700 dark:text-amber-200",children:"Alergias"})]}),n.jsx("p",{className:"text-amber-800 dark:text-amber-200 font-medium",children:(t==null?void 0:t.alergias)||"Nenhuma alergia conhecida"})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-teal-50 to-cyan-100 dark:from-teal-900/40 dark:to-cyan-900/40 border border-teal-200 dark:border-teal-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-teal-500 text-white shadow-md",children:n.jsx(Yg,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-teal-800 dark:text-teal-200",children:"Condies Crnicas"})]}),n.jsx("p",{className:"text-teal-800 dark:text-teal-200 font-medium",children:(t==null?void 0:t.condicoes_cronicas)||"Nenhuma condio crnica"})]})]})]})]})})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(De,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[n.jsx(Ve,{className:"pb-4",children:n.jsxs(Xe,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[n.jsx(oI,{className:"h-5 w-5 text-yellow-500"}),"Aes Rpidas"]})}),n.jsx(Le,{className:"space-y-3",children:k.map((L,_)=>{const Y=L.icon;return n.jsx(pr,{to:L.href,children:n.jsx("div",{className:"group p-4 rounded-xl bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 hover:from-blue-50 hover:to-indigo-50 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30 border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-300 hover:shadow-lg cursor-pointer",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`p-3 rounded-full bg-gradient-to-br ${L.color==="blue"?"from-blue-500 to-blue-600":L.color==="green"?"from-emerald-500 to-green-600":L.color==="purple"?"from-purple-500 to-violet-600":"from-red-500 to-pink-600"} text-white shadow-lg group-hover:scale-110 transition-transform duration-300`,children:n.jsx(Y,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors",children:L.title}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:L.description})]}),n.jsx(gl,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 group-hover:text-blue-500 group-hover:translate-x-1 transition-all duration-300"})]})})},_)})})]}),n.jsxs(De,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[n.jsx(Ve,{className:"pb-3",children:n.jsxs(Xe,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[n.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:n.jsx(br,{className:"h-4 w-4"})}),"Prximas Consultas"]})}),n.jsx(Le,{children:f?n.jsxs("div",{className:"space-y-3",children:[n.jsx(Cr,{className:"h-16 w-full rounded-xl bg-gray-200 dark:bg-gray-700"}),n.jsx(Cr,{className:"h-16 w-full rounded-xl bg-gray-200 dark:bg-gray-700"})]}):A.length>0?n.jsxs("div",{className:"space-y-3",children:[A.map(L=>n.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-100 dark:from-blue-900/40 dark:to-indigo-900/40 border border-blue-200 dark:border-blue-700 hover:shadow-md transition-all duration-300",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-blue-500 text-white shadow-md",children:n.jsx(br,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-semibold text-blue-900 dark:text-blue-100",children:[new Date(L.data).toLocaleDateString("pt-BR")," ",new Date(L.data).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]}),n.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-200 font-medium",children:L.medico.nome}),n.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300",children:L.medico.especialidade})]})]})},L.id)),n.jsx(we,{variant:"outline",size:"sm",asChild:!0,className:"w-full mt-3 border-blue-300 text-blue-700 hover:bg-blue-50 dark:border-blue-600 dark:text-blue-300 dark:hover:bg-blue-900/20",children:n.jsxs(pr,{to:"/paciente/consultas",children:["Ver Todas as Consultas",n.jsx(gl,{className:"h-3 w-3 ml-1"})]})})]}):n.jsxs("div",{className:"text-center py-6",children:[n.jsx("div",{className:"p-4 rounded-full bg-gray-100 dark:bg-gray-700 w-fit mx-auto mb-3",children:n.jsx(br,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-3",children:"Nenhuma consulta agendada"}),n.jsx(we,{variant:"outline",size:"sm",asChild:!0,className:"border-blue-300 text-blue-700 hover:bg-blue-50 dark:border-blue-600 dark:text-blue-300 dark:hover:bg-blue-900/20",children:n.jsxs(pr,{to:"/paciente/consultas",children:["Entrar em contato",n.jsx(gl,{className:"h-3 w-3 ml-1"})]})})]})})]}),n.jsxs(De,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[n.jsx(Ve,{className:"pb-3",children:n.jsxs(Xe,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[n.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-emerald-500 to-green-600 text-white shadow-lg",children:n.jsx(tA,{className:"h-4 w-4"})}),"Exames Recentes"]})}),n.jsx(Le,{children:n.jsxs("div",{className:"text-center py-6",children:[n.jsx("div",{className:"p-4 rounded-full bg-gray-100 dark:bg-gray-700 w-fit mx-auto mb-3",children:n.jsx(tA,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-3",children:"Nenhum exame recente"}),n.jsx(we,{variant:"outline",size:"sm",asChild:!0,className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50 dark:border-emerald-600 dark:text-emerald-300 dark:hover:bg-emerald-900/20",children:n.jsxs(pr,{to:"/paciente/exames",children:["Ver Todos os Exames",n.jsx(gl,{className:"h-3 w-3 ml-1"})]})})]})})]})]})]})]})})}var jx="Switch",[o$,QZ]=Nl(jx),[l$,c$]=o$(jx),gF=b.forwardRef((e,r)=>{const{__scopeSwitch:t,name:a,checked:s,defaultChecked:i,required:o,disabled:l,value:A="on",onCheckedChange:d,form:f,...h}=e,[m,p]=b.useState(null),v=Na(r,C=>p(C)),g=b.useRef(!1),w=m?f||!!m.closest("form"):!0,[y,N]=dd({prop:s,defaultProp:i??!1,onChange:d,caller:jx});return n.jsxs(l$,{scope:t,checked:y,disabled:l,children:[n.jsx(Er.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":yF(y),"data-disabled":l?"":void 0,disabled:l,value:A,...h,ref:v,onClick:Lt(e.onClick,C=>{N(E=>!E),w&&(g.current=C.isPropagationStopped(),g.current||C.stopPropagation())})}),w&&n.jsx(wF,{control:m,bubbles:!g.current,name:a,value:A,checked:y,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});gF.displayName=jx;var xF="SwitchThumb",vF=b.forwardRef((e,r)=>{const{__scopeSwitch:t,...a}=e,s=c$(xF,t);return n.jsx(Er.span,{"data-state":yF(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:r})});vF.displayName=xF;var A$="SwitchBubbleInput",wF=b.forwardRef(({__scopeSwitch:e,control:r,checked:t,bubbles:a=!0,...s},i)=>{const o=b.useRef(null),l=Na(o,i),A=eE(t),d=JS(r);return b.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(A!==t&&p){const v=new Event("click",{bubbles:a});p.call(f,t),f.dispatchEvent(v)}},[A,t,a]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});wF.displayName=A$;function yF(e){return e?"checked":"unchecked"}var bF=gF,d$=vF;const au=b.forwardRef(({className:e,...r},t)=>n.jsx(bF,{className:ct("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...r,ref:t,children:n.jsx(d$,{className:ct("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));au.displayName=bF.displayName;function u$(){const[e,r]=b.useState(null),[t,a]=b.useState(!0),[s,i]=b.useState(null),[o,l]=b.useState(!1),[A,d]=b.useState(!1),{toast:f}=Ka(),h=y=>Array.isArray(y)?y.filter(N=>N!=null&&N!==""):typeof y=="string"?y.split(/[\n;,]+/).map(N=>N.trim()).filter(Boolean):y==null?[]:[y],m=y=>{let N="",C="",E="";if(typeof y=="string"){const U=y.split(/[-;|]/).map(D=>D.trim()).filter(Boolean);if(U.length&&(N=U[0]),U[1]&&(C=U[1]),U[2]&&(E=U.slice(2).join("  ")),!C){const D=y.match(/\b(\d+(\.\d+)?\s?(mg|ml|mcg|g|gotas|ui))\b/i);D&&(C=D[0])}if(!E){const D=y.match(/\b(\d+x\s?\/\s?dia|[1-9]\s?x\/dia|a\s?cada\s?\d+\s?h|de\s?\d+\s?em\s?\d+\s?h)\b/i);D&&(E=D[0])}}else y&&typeof y=="object"&&(N=y.nome||y.medicamento||y.nome_medicamento||y.name||y.descricao||"",C=y.dose||y.dosagem||y.dosage||"",E=y.posologia||y.frequencia||y.intervalo||y.schedule||"");return{name:N||(typeof y=="string"?y:JSON.stringify(y)),dose:C||"",schedule:E||""}},p=y=>{const N=h(y);return N.length>0?n.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:N.map((C,E)=>{const U=m(C);return n.jsx("div",{className:"rounded-xl border bg-card p-3 shadow-sm hover:shadow-md transition-shadow",role:"group","aria-label":`Medicao ${U.name}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-0.5 rounded-md bg-primary/10 p-2 text-primary",children:n.jsx(Bf,{className:"h-5 w-5","aria-hidden":"true"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"text-base md:text-lg font-semibold leading-snug break-words",children:U.name}),U.dose&&n.jsx("div",{className:"text-sm md:text-base text-muted-foreground mt-0.5 break-words",children:U.dose}),U.schedule&&n.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 rounded-full bg-muted/60 px-2 py-1 text-xs md:text-sm text-foreground/80",children:[n.jsx($r,{className:"h-3.5 w-3.5","aria-hidden":"true"}),n.jsx("span",{className:"break-words",children:U.schedule})]})]})]})},E)})}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})};b.useEffect(()=>{let y=!0;const N=E=>{var Y,I;const U=Array.isArray(E)?E[0]:Array.isArray(E==null?void 0:E.results)?E.results[0]:E||{},D=U.alergias??U.allergies??U.alergia,k=U.condicoes??U.condicoes_cronicas??U.condicoesCronicas,L=U.medicacoes??U.medicamentos??U.medicacoes_em_uso??U.medicamentos_em_uso??U.medicamentos_uso??U.em_uso??U.medicacoesEmUso??U.medicamentosEmUso??U.medications??U.current_medications??((Y=U.prontuario)==null?void 0:Y.medicacoes)??((I=U.prontuario)==null?void 0:I.medicamentos),_=U.observacoes??U.observacao??U.notes??U.anotacoes;return{alergias:h(D),condicoes:h(k),medicacoes:h(L),observacoes:_??""}},C=E=>E?{alergias:h(E.alergias),condicoes:h(E.condicoes_cronicas??E.condicoes),medicacoes:h(E.medicacoes??E.medicamentos??E.medicacoes_em_uso??E.medicamentos_em_uso??E.medicamentos_uso??E.em_uso??E.medicacoesEmUso??E.medicamentosEmUso??E.medications??E.current_medications),observacoes:E.observacoes??""}:null;return(async()=>{const[E,U]=await Promise.allSettled([ha.getProntuario(),ha.getPacienteDoUsuario()]);let D=null;try{E.status==="fulfilled"&&(D=N(E.value))}catch{}if((!D||h(D==null?void 0:D.alergias).length===0&&h(D==null?void 0:D.condicoes).length===0&&h(D==null?void 0:D.medicacoes).length===0&&(!(D!=null&&D.observacoes)||(D==null?void 0:D.observacoes)===""))&&U.status==="fulfilled")try{const L=C(U.value);L&&(D=L)}catch{}y&&(r(D||{alergias:[],condicoes:[],medicacoes:[],observacoes:""}),i(null),a(!1))})(),()=>{y=!1}},[]),b.useEffect(()=>{let y=!0;return(async()=>{try{const N=await Nf.buscarConfiguracoes(),E=(Array.isArray(N==null?void 0:N.tipos_habilitados)?N.tipos_habilitados:[]).map(U=>String(U).toLowerCase()).includes("medicamento");y&&l(E)}catch{try{const C=JSON.parse(localStorage.getItem("notif_pref_medication")||"null");C!=null&&y&&l(!!C)}catch{}}})(),()=>{y=!1}},[]);const v=async y=>{var N;d(!0);try{const C=await Nf.buscarConfiguracoes().catch(()=>({})),E=Array.isArray(C==null?void 0:C.tipos_habilitados)?C.tipos_habilitados.map(String):[],U=E.map(k=>k.toLowerCase());let D=[...E];y?U.includes("medicamento")||D.push("medicamento"):D=D.filter(k=>String(k).toLowerCase()!=="medicamento"),await Nf.atualizarConfiguracoes({...C,tipos_habilitados:D}),l(y),f({title:y?"Notificaes ativadas":"Notificaes desativadas",description:"Preferncia de medicamento atualizada."})}catch(C){l(y);try{localStorage.setItem("notif_pref_medication",JSON.stringify(y))}catch{}const E=(N=C==null?void 0:C.response)!=null&&N.data?JSON.stringify(C.response.data):(C==null?void 0:C.message)||"Preferncia salva localmente";f({title:"Ajuste de notificao",description:E})}finally{d(!1)}},g=y=>{const N=h(y);return N.length>0?n.jsx("div",{className:"flex flex-wrap gap-2",children:N.map((C,E)=>{const U=typeof C=="string"?C:(C==null?void 0:C.nome)||(C==null?void 0:C.medicamento)||(C==null?void 0:C.nome_medicamento)||[C==null?void 0:C.descricao,(C==null?void 0:C.dose)||(C==null?void 0:C.dosagem),(C==null?void 0:C.posologia)||(C==null?void 0:C.frequencia)].filter(Boolean).join("  ")||JSON.stringify(C);return n.jsx(lr,{variant:"secondary",className:"px-2.5 py-1 text-xs",children:U},E)})}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})},w=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}];return n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fn,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Pronturio"})]}),n.jsx(Wi,{tabs:w,basePath:"/paciente"}),t?n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[n.jsxs(De,{className:"lg:col-span-2",children:[n.jsx(Ve,{children:n.jsx(Cr,{className:"h-5 w-40"})}),n.jsxs(Le,{className:"space-y-2",children:[n.jsx(Cr,{className:"h-4 w-full"}),n.jsx(Cr,{className:"h-4 w-5/6"}),n.jsx(Cr,{className:"h-4 w-2/3"})]})]}),n.jsx("div",{className:"space-y-6",children:[...Array(3)].map((y,N)=>n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Cr,{className:"h-5 w-40"})}),n.jsxs(Le,{className:"space-y-2",children:[n.jsx(Cr,{className:"h-4 w-full"}),n.jsx(Cr,{className:"h-4 w-2/3"})]})]},N))})]}):s?n.jsx("p",{className:"text-sm text-red-500",children:s}):n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[n.jsxs(De,{className:"lg:col-span-2 min-h-[320px]",children:[n.jsxs(Ve,{className:"flex flex-row items-center justify-between",children:[n.jsx(Xe,{children:"Medicaes"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Notificao"}),n.jsx(au,{checked:o,onCheckedChange:v,disabled:A})]})]}),n.jsx(Le,{children:p(e==null?void 0:e.medicacoes)})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Alergias"})}),n.jsx(Le,{children:g(e==null?void 0:e.alergias)})]}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Condies"})}),n.jsx(Le,{children:g(e==null?void 0:e.condicoes)})]}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Observaes"})}),n.jsx(Le,{children:e!=null&&e.observacoes&&(e==null?void 0:e.observacoes)!==""?n.jsx("div",{className:"rounded-md bg-muted/40 p-3 text-sm leading-relaxed whitespace-pre-wrap",children:e==null?void 0:e.observacoes}):n.jsx("p",{className:"text-sm text-muted-foreground",children:""})})]})]})]})]})}const uA=FS,jF=PP,f$=({className:e,children:r,...t})=>n.jsx(kS,{className:ct(e),...t,children:n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:r})}),NF=b.forwardRef(({className:e,...r},t)=>n.jsx(Y0,{ref:t,className:ct("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0",e),...r}));NF.displayName=Y0.displayName;const Ac=b.forwardRef(({className:e,children:r,...t},a)=>n.jsxs(f$,{children:[n.jsx(NF,{}),n.jsxs(X0,{ref:a,className:ct("fixed z-50 grid w-full max-w-xl gap-4 rounded-xl border bg-background p-0 shadow-xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0","data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95","left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",e),...t,children:[r,n.jsxs(DS,{className:"absolute right-4 top-4 rounded-md opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[n.jsx(U1,{className:"h-5 w-5"}),n.jsx("span",{className:"sr-only",children:"Fechar"})]})]})]}));Ac.displayName=X0.displayName;const dc=({className:e,...r})=>n.jsx("div",{className:ct("px-6 pt-5 pb-3 flex flex-col space-y-1.5",e),...r});dc.displayName="DialogHeader";const fA=({className:e,...r})=>n.jsx("div",{className:ct("px-6 pb-5 pt-2 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});fA.displayName="DialogFooter";const uc=b.forwardRef(({className:e,...r},t)=>n.jsx(J0,{ref:t,className:ct("text-lg font-semibold leading-none tracking-tight",e),...r}));uc.displayName=J0.displayName;const Tm=b.forwardRef(({className:e,...r},t)=>n.jsx(Z0,{ref:t,className:ct("text-sm text-muted-foreground",e),...r}));Tm.displayName=Z0.displayName;const xo=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:t,className:ct("w-full caption-bottom text-sm",e),...r})}));xo.displayName="Table";const vo=b.forwardRef(({className:e,...r},t)=>n.jsx("thead",{ref:t,className:ct("[&_tr]:border-b",e),...r}));vo.displayName="TableHeader";const wo=b.forwardRef(({className:e,...r},t)=>n.jsx("tbody",{ref:t,className:ct("[&_tr:last-child]:border-0",e),...r}));wo.displayName="TableBody";const h$=b.forwardRef(({className:e,...r},t)=>n.jsx("tfoot",{ref:t,className:ct("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r}));h$.displayName="TableFooter";const Ga=b.forwardRef(({className:e,...r},t)=>n.jsx("tr",{ref:t,className:ct("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));Ga.displayName="TableRow";const ur=b.forwardRef(({className:e,...r},t)=>n.jsx("th",{ref:t,className:ct("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));ur.displayName="TableHead";const ir=b.forwardRef(({className:e,...r},t)=>n.jsx("td",{ref:t,className:ct("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));ir.displayName="TableCell";const m$=b.forwardRef(({className:e,...r},t)=>n.jsx("caption",{ref:t,className:ct("mt-4 text-sm text-muted-foreground",e),...r}));m$.displayName="TableCaption";var l5,c5;const p$=(((c5=(l5=import.meta)==null?void 0:l5.env)==null?void 0:c5.VITE_TIMEZONE)||"America/Sao_Paulo").trim();function BF(e,r={}){try{return new Intl.DateTimeFormat("pt-BR",{timeZone:p$,...r}).format(e)}catch{return""}}const CF=e=>{if(!e)return"";try{let r;if(typeof e=="string"&&e.match(/^\d{4}-\d{2}-\d{2}$/)){const[t,a,s]=e.split("-");return`${s}/${a}/${t}`}else r=new Date(e);return isNaN(r.getTime())?"":BF(r,{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return""}},g$=e=>{if(!e)return"";try{const r=new Date(e);return isNaN(r.getTime())?"":BF(r,{hour:"2-digit",minute:"2-digit"})}catch{return""}},x$=e=>{if(!e)return null;try{let r;if(typeof e=="string"&&e.match(/^\d{4}-\d{2}-\d{2}$/)){const[d,f,h]=e.split("-").map(Number);r=new Date(d,f-1,h)}else r=new Date(e);if(isNaN(r.getTime()))return null;const t=new Date;let a=t.getFullYear()-r.getFullYear();const s=t.getMonth()-r.getMonth(),i=t.getDate()-r.getDate();(s<0||s===0&&i<0)&&a--;let o=new Date(t.getFullYear(),r.getMonth(),r.getDate());o>t&&(o=new Date(t.getFullYear()-1,r.getMonth(),r.getDate()));const l=1440*60*1e3,A=Math.floor((t-o)/l);return`${a} anos e ${A} dias`}catch{return null}},kN=e=>{var t,a,s;if(!e)return null;const r=[(t=e==null?void 0:e.user)==null?void 0:t.first_name,(a=e==null?void 0:e.user)==null?void 0:a.last_name].filter(Boolean).join(" ");return(e==null?void 0:e.nome)||(e==null?void 0:e.name)||((s=e==null?void 0:e.usuario)==null?void 0:s.nome)||r||(e==null?void 0:e.username)||(e==null?void 0:e.email)||null},DN=e=>{var t;const r=a=>(a==null?void 0:a.nome)||(a==null?void 0:a.titulo)||(a==null?void 0:a.name)||(a==null?void 0:a.descricao)||(a==null?void 0:a.description);if(Array.isArray(e==null?void 0:e.especialidades)&&e.especialidades.length){const a=e.especialidades.map(s=>r(s)||(typeof s=="string"?s:null)).filter(Boolean);if(a.length)return a.join(", ")}if(e!=null&&e.especialidade&&typeof e.especialidade=="object"){const a=r(e.especialidade);if(a)return a}return typeof(e==null?void 0:e.especialidade)=="string"&&e.especialidade.trim()?e.especialidade.trim():typeof(e==null?void 0:e.especialidade_nome)=="string"&&e.especialidade_nome.trim()?e.especialidade_nome.trim():typeof(e==null?void 0:e.specialty)=="string"&&e.specialty.trim()?e.specialty.trim():typeof(e==null?void 0:e.area)=="string"&&e.area.trim()?e.area.trim():typeof((t=e==null?void 0:e.user)==null?void 0:t.especialidade)=="string"&&e.user.especialidade.trim()?e.user.especialidade.trim():null};function v$(){var L,_,Y;const[e,r]=b.useState([]),[t,a]=b.useState(!0),[s,i]=b.useState(""),[o,l]=b.useState(""),[A,d]=b.useState("todas"),[f,h]=b.useState(!1),[m,p]=b.useState(null),v=I=>{p(I),h(!0)};b.useEffect(()=>{let I=!0;return(async()=>{var J;try{console.log("[DEBUG] Consultas - Iniciando carregamento...");const M=await ha.getConsultas();if(console.log("[DEBUG] Consultas - Resposta da API:",M),!I)return;let re=[];M.results?re=M.results:(J=M.data)!=null&&J.results?re=M.data.results:M.data&&Array.isArray(M.data)?re=M.data:Array.isArray(M)&&(re=M);let K=re.map(G=>{var Ae,ee,R;const z=G.data||G.date||G.dia||G.data_consulta||G.data_hora||G.horario||G.data_hora_inicio||G.agendamento||G.data_agendamento||G.inicio||G.start||null,Z={id:G.id,data:z,local:G.local||G.endereco||((Ae=G.clinica)==null?void 0:Ae.endereco)||((ee=G.medico)==null?void 0:ee.local_atendimento)||"Local no informado",tipo:G.tipo||G.tipo_consulta||"Presencial",status:G.status||"Agendada",medico:null};if(G.medico)if(typeof G.medico=="object"){const q=kN(G.medico),te=DN(G.medico)||G.especialidade||G.specialty||"Especialidade no informada";Z.medico={id:G.medico.id||((R=G.medico.user)==null?void 0:R.id)||null,nome:q||"Mdico no informado",especialidade:te}}else Z.medico={id:G.medico,nome:G.medico_nome||G.doctor_name||"Mdico no informado",especialidade:G.especialidade||G.specialty||"Especialidade no informada"};else G.medico_nome||G.doctor_name?Z.medico={id:G.medico_id||null,nome:G.medico_nome||G.doctor_name,especialidade:G.especialidade||G.specialty||"Especialidade no informada"}:G.medico_id&&(Z.medico={id:G.medico_id,nome:"Mdico no informado",especialidade:G.especialidade||G.specialty||"Especialidade no informada"});return Z});try{const G=Array.from(new Set(K.filter(z=>{var Z;return!((Z=z.medico)!=null&&Z.nome)||z.medico.nome==="Mdico no informado"}).map(z=>{var Z;return(Z=z.medico)==null?void 0:Z.id}).filter(Boolean)));if(G.length){const z=await Promise.all(G.map(Ae=>ha.getMedicoById(Ae).catch(()=>null))),Z={};z.forEach((Ae,ee)=>{const R=G[ee];Ae&&(Z[R]={id:Ae.id||R,nome:kN(Ae)||Ae.nome||"Mdico",especialidade:DN(Ae)||Ae.especialidade||"Especialidade no informada"})}),K=K.map(Ae=>{var R;const ee=(R=Ae.medico)==null?void 0:R.id;return ee&&Z[ee]?{...Ae,medico:Z[ee]}:Ae})}}catch{}r(K)}catch(M){if(!I)return;console.error("Erro ao carregar consultas:",M),i("Erro ao carregar consultas. Tente novamente.")}finally{I&&a(!1)}})(),()=>{I=!1}},[]);const g=e.filter(I=>{var J,M,re,K,G,z,Z;const $=String(I.status||"").toLowerCase();if(A==="agendadas"&&!($.includes("agend")||$.includes("confirm"))||A==="realizadas"&&!($.includes("conclu")||$.includes("realiz")||$.includes("final")))return!1;if(o){const Ae=o.toLowerCase();return((M=(J=I.medico)==null?void 0:J.nome)==null?void 0:M.toLowerCase().includes(Ae))||((G=(K=(re=I.medico)==null?void 0:re.especialidade)==null?void 0:K.toLowerCase)==null?void 0:G.call(K).includes(Ae))||((z=I.local)==null?void 0:z.toLowerCase().includes(Ae))||((Z=I.tipo)==null?void 0:Z.toLowerCase().includes(Ae))}return!0}),w=new Date,y=g.filter(I=>{const $=(I.status||"").toLowerCase(),J=$.includes("agend")||$.includes("confirm"),M=I.data?new Date(I.data)>w:!1;return J||M}).sort((I,$)=>new Date(I.data)-new Date($.data)),N=g.filter(I=>{const $=(I.status||"").toLowerCase(),J=$.includes("conclu")||$.includes("realiz")||$.includes("final"),M=I.data?new Date(I.data)<w:!1;return J||M}).sort((I,$)=>new Date($.data)-new Date(I.data)),C=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],E=e.length,U=e.filter(I=>I.data&&new Date(I.data).getFullYear()===new Date().getFullYear()).length,D=y.length,k=N.length;return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-indigo-900/10",children:n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 p-8 text-white shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:n.jsx(br,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Minhas Consultas"}),n.jsx("p",{className:"text-blue-100",children:"Gerencie suas consultas mdicas"})]})]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(we,{variant:"secondary",className:"bg-white/20 text-white border-white/30 hover:bg-white/30 backdrop-blur-sm dark:bg-gray-800/80 dark:hover:bg-gray-700/80 dark:border-gray-600/50 dark:text-gray-200",asChild:!0,children:n.jsxs("a",{href:"/paciente/medicos",className:"inline-flex items-center gap-2",children:[n.jsx(aa,{className:"h-4 w-4"}),"Mdicos"]})}),n.jsx(we,{className:"bg-white text-blue-600 hover:bg-blue-50 font-semibold shadow-lg dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700",asChild:!0,children:n.jsxs("a",{href:"/paciente/consultas/nova",className:"inline-flex items-center gap-2",children:[n.jsx(wj,{className:"h-4 w-4"}),"Entrar em contato"]})})]})]})})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsx(De,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total de Consultas"}),n.jsx("p",{className:"text-3xl font-bold",children:E})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(br,{className:"h-6 w-6"})})]})})}),n.jsx(De,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-green-500 to-green-600 text-white shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Prximas Consultas"}),n.jsx("p",{className:"text-3xl font-bold",children:D})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx($r,{className:"h-6 w-6"})})]})})}),n.jsx(De,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-purple-500 to-purple-600 text-white shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Consultas Concludas"}),n.jsx("p",{className:"text-3xl font-bold",children:k})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Bi,{className:"h-6 w-6"})})]})})}),n.jsx(De,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-orange-500 to-orange-600 text-white shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Este Ano"}),n.jsx("p",{className:"text-3xl font-bold",children:U})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(fn,{className:"h-6 w-6"})})]})})})]}),n.jsx(Wi,{tabs:C,basePath:"/paciente"}),n.jsx(De,{className:"border-0 shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(js,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Oe,{placeholder:"Buscar por mdico, especialidade ou local...",className:"pl-10 border-0 bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-400",value:o,onChange:I=>l(I.target.value)})]}),n.jsx("div",{className:"flex gap-3",children:n.jsxs(Gr,{value:A,onValueChange:d,children:[n.jsx(zr,{className:"w-[180px] border-0 bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200",children:n.jsx(Yr,{placeholder:"Filtrar por status"})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"todas",children:"Todas as consultas"}),n.jsx(nt,{value:"agendadas",children:"Agendadas"}),n.jsx(nt,{value:"realizadas",children:"Realizadas"})]})]})})]})})}),n.jsxs(zi,{defaultValue:"agendadas",className:"w-full",children:[n.jsxs(qi,{className:"grid w-full grid-cols-2 bg-white dark:bg-gray-800 shadow-lg border-0",children:[n.jsx(Pr,{value:"agendadas",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:"Consultas Agendadas"}),n.jsx(Pr,{value:"realizadas",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:"Histrico de Consultas"})]}),n.jsx(Hr,{value:"agendadas",children:n.jsxs(De,{className:"border-0 shadow-lg",children:[n.jsx(Ve,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20",children:n.jsxs(Xe,{className:"flex items-center gap-2 text-blue-700 dark:text-blue-300",children:[n.jsx(br,{className:"h-5 w-5"}),"Prximas Consultas"]})}),n.jsx(Le,{className:"p-6",children:t?n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((I,$)=>n.jsxs("div",{className:"rounded-xl border p-4 space-y-3",children:[n.jsx(Cr,{className:"h-4 w-1/3"}),n.jsx(Cr,{className:"h-4 w-1/2"}),n.jsx(Cr,{className:"h-4 w-1/4"})]},$))}):s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"rounded-full bg-red-100 dark:bg-red-900/20 p-3 w-fit mx-auto mb-4",children:n.jsx(br,{className:"h-8 w-8 text-red-500"})}),n.jsx("p",{className:"text-red-500 font-medium",children:s})]}):y.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"rounded-full bg-blue-100 dark:bg-blue-900/20 p-4 w-fit mx-auto mb-4",children:n.jsx(br,{className:"h-12 w-12 text-blue-500"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Nenhuma consulta agendada"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Voc no possui consultas agendadas no momento."}),n.jsx(we,{className:"btn-medical-primary shadow-lg",asChild:!0,children:n.jsxs("a",{href:"/paciente/consultas/nova",className:"inline-flex items-center gap-2",children:[n.jsx(wj,{className:"h-4 w-4"}),"Entrar em contato"]})})]}):n.jsx("div",{className:"space-y-4",children:y.map(I=>{var $,J,M;return n.jsx("div",{className:"group relative overflow-hidden rounded-xl border-0 bg-gradient-to-r from-white to-blue-50/50 dark:from-gray-800 dark:to-blue-900/10 p-6 shadow-lg transition-all hover:shadow-xl hover:scale-[1.02]",children:n.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[n.jsx("div",{className:"flex-1 space-y-4",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"rounded-full bg-gradient-to-r from-blue-500 to-purple-600 p-3 text-white shadow-lg",children:n.jsx(On,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-gray-100",children:(($=I.medico)==null?void 0:$.nome)||"Mdico no informado"}),n.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium",children:((J=I.medico)==null?void 0:J.especialidade)||"Especialidade no informada"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[n.jsx($r,{className:"h-4 w-4"}),n.jsxs("span",{className:"font-medium",children:[I.data?CF(I.data):"Data no informada"," s ",I.data?g$(I.data):"--:--"]})]})]}),n.jsxs("div",{className:"mt-3 flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[n.jsx(Xg,{className:"h-4 w-4"}),n.jsx("span",{children:I.local})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 px-3 py-1 text-xs font-medium text-white",children:[I.tipo==="Online"?n.jsx(Pv,{className:"h-3 w-3"}):I.tipo==="Telefone"?n.jsx(rA,{className:"h-3 w-3"}):n.jsx(aa,{className:"h-3 w-3"}),I.tipo]}),n.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-3 py-1 text-xs font-medium text-green-700 dark:text-green-300",children:I.status||""})]})]})]})}),n.jsx("div",{className:"flex gap-3",children:n.jsx(we,{size:"sm",className:"btn-medical-primary shadow-lg",asChild:!0,children:n.jsx("a",{href:`/paciente/consultas/nova${(M=I.medico)!=null&&M.id?`?medico=${I.medico.id}`:""}`,children:"Contato p/ agendar"})})})]})},I.id)})})})]})}),n.jsx(Hr,{value:"realizadas",children:n.jsxs(De,{className:"border-0 shadow-lg",children:[n.jsx(Ve,{className:"bg-gradient-to-r from-gray-50 to-slate-50 dark:from-gray-900/20 dark:to-slate-900/20",children:n.jsxs(Xe,{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[n.jsx($r,{className:"h-5 w-5"}),"Histrico de Consultas"]})}),n.jsx(Le,{className:"p-6",children:t?n.jsx("div",{className:"space-y-2",children:[...Array(5)].map((I,$)=>n.jsx(Cr,{className:"h-12 w-full"},$))}):s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"rounded-full bg-red-100 dark:bg-red-900/20 p-3 w-fit mx-auto mb-4",children:n.jsx($r,{className:"h-8 w-8 text-red-500"})}),n.jsx("p",{className:"text-red-500 font-medium",children:s})]}):N.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"rounded-full bg-gray-100 dark:bg-gray-800 p-4 w-fit mx-auto mb-4",children:n.jsx($r,{className:"h-12 w-12 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Voc no possui consultas realizadas no histrico."})]}):n.jsx("div",{className:"overflow-hidden rounded-xl border-0 bg-white dark:bg-gray-800 shadow-lg",children:n.jsxs(xo,{children:[n.jsx(vo,{className:"bg-gray-50 dark:bg-gray-900/50",children:n.jsxs(Ga,{className:"border-0",children:[n.jsx(ur,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Data"}),n.jsx(ur,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Mdico"}),n.jsx(ur,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Especialidade"}),n.jsx(ur,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Tipo"}),n.jsx(ur,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Status"}),n.jsx(ur,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Aes"})]})}),n.jsx(wo,{children:N.map(I=>{var $,J;return n.jsxs(Ga,{className:"border-0 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[n.jsx(ir,{className:"font-medium",children:I.data?new Date(I.data).toLocaleDateString():""}),n.jsx(ir,{children:(($=I.medico)==null?void 0:$.nome)||""}),n.jsx(ir,{children:((J=I.medico)==null?void 0:J.especialidade)||""}),n.jsx(ir,{children:n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-100 dark:bg-blue-900/30 px-2 py-1 text-xs font-medium text-blue-700 dark:text-blue-300",children:[I.tipo==="Online"?n.jsx(Pv,{className:"h-3 w-3"}):I.tipo==="Telefone"?n.jsx(rA,{className:"h-3 w-3"}):n.jsx(aa,{className:"h-3 w-3"}),I.tipo||""]})}),n.jsx(ir,{children:n.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-2 py-1 text-xs font-medium text-green-700 dark:text-green-300",children:I.status||""})}),n.jsx(ir,{children:n.jsx(we,{variant:"ghost",size:"sm",onClick:()=>v(I),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20",children:"Ver Detalhes"})})]},I.id)})})]})})})]})})]}),n.jsx(uA,{open:f,onOpenChange:h,children:n.jsxs(Ac,{className:"max-w-2xl border-0 shadow-2xl",children:[n.jsxs(dc,{className:"pb-6",children:[n.jsx(uc,{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Detalhes da Consulta"}),n.jsx(Tm,{className:"text-gray-600 dark:text-gray-400",children:"Informaes completas da consulta selecionada"})]}),m?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start gap-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 p-6",children:[n.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold text-lg shadow-lg",children:(((L=m.medico)==null?void 0:L.nome)||"").split(" ").map(I=>I==null?void 0:I[0]).filter(Boolean).slice(0,2).join("").toUpperCase()}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-bold text-xl text-gray-900 dark:text-gray-100",children:((_=m.medico)==null?void 0:_.nome)||""}),n.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium",children:((Y=m.medico)==null?void 0:Y.especialidade)||"Especialidade no informada"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Data"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:m.data?new Date(m.data).toLocaleDateString():""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Hora"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:m.data?new Date(m.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Tipo"}),n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 px-3 py-1 text-sm font-medium text-white",children:[m.tipo==="Online"?n.jsx(Pv,{className:"h-3 w-3"}):m.tipo==="Telefone"?n.jsx(rA,{className:"h-3 w-3"}):n.jsx(aa,{className:"h-3 w-3"}),m.tipo]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),n.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-3 py-1 text-sm font-medium text-green-700 dark:text-green-300",children:m.status})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Local"}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-gray-100",children:[n.jsx(Xg,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{children:m.local})]})]})]}):null]})})]})})}function w$(){const[e,r]=b.useState([]),[t,a]=b.useState(!0),[s,i]=b.useState(null),[o,l]=b.useState("todas"),[A,d]=b.useState(""),f=U=>{var D;return((D=U==null?void 0:U.tipo_exame)==null?void 0:D.nome)||(U==null?void 0:U.tipo_exame_nome)||(U==null?void 0:U.nome_exame)||(typeof(U==null?void 0:U.tipo_exame)=="string"?U.tipo_exame:null)||(U==null?void 0:U.nome)||(U==null?void 0:U.tipo)||(U==null?void 0:U.exame)||"Exame"},h=U=>{const D=U==null?void 0:U.user;return[D==null?void 0:D.first_name,D==null?void 0:D.last_name].filter(Boolean).join(" ").trim()||(D==null?void 0:D.nome)||(D==null?void 0:D.username)||(U==null?void 0:U.nome)||""},m=U=>{var L;const D=(U==null?void 0:U.resultado_url)||(U==null?void 0:U.arquivo_resultado)||((L=U==null?void 0:U.resultado)==null?void 0:L.arquivo)||(U==null?void 0:U.arquivo_url)||(U==null?void 0:U.documento_url);return D?/^https?:\/\//i.test(D)?D:`${"https://tcc-back-ktwy.onrender.com".replace(/\/$/,"")}${D.startsWith("/")?"":"/"}${D}`:null};b.useEffect(()=>{let U=!0;return(async()=>{try{const D=await ha.getExames();if(U){const L=(Array.isArray(D)?D:(D==null?void 0:D.results)||[]).map(_=>({id:_.id,data:_.data_agendamento||_.data_solicitacao||_.data||_.data_hora||null,nome:f(_),medico:{nome:h((_==null?void 0:_.medico_solicitante)||(_==null?void 0:_.medico))},status:_.status||_.situacao||"Pendente",local:_.local_realizacao||_.local||_.localizacao||_.unidade||"",resultado_url:m(_)}));r(L)}}catch{i("No foi possvel carregar os exames.")}finally{U&&a(!1)}})(),()=>{U=!1}},[]);const p=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],v=e.filter(U=>{var D;if(o==="agendados"){const k=U.data?new Date(U.data)>new Date:!1;if(!k&&(U.status||"").toLowerCase().includes("conclu")||!k&&(U.status||"").toLowerCase()==="realizado")return!1}if(o==="realizados"&&!((U.status||"").toLowerCase().includes("conclu")||(U.status||"").toLowerCase()==="realizado"||(U.data?new Date(U.data)<new Date:!1)))return!1;if(A){const k=A.toLowerCase();return(U.nome||"").toLowerCase().includes(k)||(((D=U.medico)==null?void 0:D.nome)||"").toLowerCase().includes(k)||(U.local||"").toLowerCase().includes(k)}return!0}),g=v.filter(U=>{const D=U.data?new Date(U.data)>new Date:!1,k=(U.status||"").toLowerCase();return D||k==="agendado"||k==="pendente"||k==="solicitado"}).sort((U,D)=>new Date(U.data||0)-new Date(D.data||0)),w=v.filter(U=>{const D=(U.status||"").toLowerCase();return(U.data?new Date(U.data)<new Date:!1)||D.includes("conclu")||D==="realizado"}).sort((U,D)=>new Date(D.data||0)-new Date(U.data||0)),y=e.length,N=g.length,C=w.length,E=e.filter(U=>U.data?new Date(U.data).getFullYear()===new Date().getFullYear():!1).length;return n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-medical-primary/90 via-medical-primary to-medical-secondary p-8 text-white shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:n.jsx(tA,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Meus Exames"}),n.jsx("p",{className:"text-white/90",children:"Gerencie seus exames e resultados"})]})]})}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs(we,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[n.jsx(aa,{className:"mr-2 h-4 w-4"}),"Mdicos"]}),n.jsxs(we,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[n.jsx(br,{className:"mr-2 h-4 w-4"}),"Agendar Exame"]})]})]})}),n.jsx("div",{className:"absolute -right-20 -top-20 h-40 w-40 rounded-full bg-white/10"}),n.jsx("div",{className:"absolute -bottom-16 -left-16 h-32 w-32 rounded-full bg-white/10"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsx(De,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-medical-primary/80 to-medical-primary text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Total de Exames"}),n.jsx("p",{className:"text-3xl font-bold",children:y})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(fn,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(De,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-status-attention/80 to-status-attention text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Prximos Exames"}),n.jsx("p",{className:"text-3xl font-bold",children:N})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx($r,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(De,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-medical-secondary/80 to-medical-secondary text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Concludos"}),n.jsx("p",{className:"text-3xl font-bold",children:C})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(po,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(De,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-medical-primary/60 to-medical-primary/80 text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Este Ano"}),n.jsx("p",{className:"text-3xl font-bold",children:E})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(_m,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})})]}),n.jsx(Wi,{tabs:p,basePath:"/paciente"}),n.jsx(De,{className:"border-0 shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(js,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Oe,{placeholder:"Buscar por exame, mdico ou local...",value:A,onChange:U=>d(U.target.value),className:"pl-10"})]}),n.jsx("div",{className:"w-full md:w-[220px]",children:n.jsxs(Gr,{value:o,onValueChange:l,children:[n.jsx(zr,{children:n.jsx(Yr,{placeholder:"Filtrar por status"})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"todas",children:"Todos os exames"}),n.jsx(nt,{value:"agendados",children:"Agendados"}),n.jsx(nt,{value:"realizados",children:"Realizados"})]})]})})]})})}),n.jsxs(zi,{defaultValue:"agendados",className:"w-full",children:[n.jsxs(qi,{className:"grid w-full grid-cols-2 h-12 bg-muted/50",children:[n.jsxs(Pr,{value:"agendados",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[n.jsx($r,{className:"mr-2 h-4 w-4"}),"Exames Agendados"]}),n.jsxs(Pr,{value:"realizados",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[n.jsx(po,{className:"mr-2 h-4 w-4"}),"Histrico de Exames"]})]}),n.jsx(Hr,{value:"agendados",className:"mt-6",children:n.jsxs(De,{className:"border-0 shadow-lg",children:[n.jsx(Ve,{className:"pb-4",children:n.jsxs(Xe,{className:"flex items-center gap-2 text-xl",children:[n.jsx($r,{className:"h-5 w-5 text-amber-500"}),"Prximos Exames"]})}),n.jsx(Le,{children:t?n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((U,D)=>n.jsxs("div",{className:"rounded-lg border p-4",children:[n.jsx(Cr,{className:"h-6 w-3/4 mb-2"}),n.jsx(Cr,{className:"h-4 w-1/2 mb-2"}),n.jsx(Cr,{className:"h-4 w-1/4"})]},D))}):s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(hu,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-red-500 font-medium",children:s})]}):g.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(br,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhum exame agendado"}),n.jsx("p",{className:"text-muted-foreground",children:"Voc no possui exames agendados no momento."})]}):n.jsx("div",{className:"space-y-4",children:g.map(U=>{var D;return n.jsx("div",{className:"group rounded-xl border border-border/50 bg-gradient-to-r from-background to-muted/20 p-6 transition-all hover:shadow-lg hover:border-border",children:n.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg text-foreground group-hover:text-primary transition-colors",children:U.nome}),n.jsxs("p",{className:"text-muted-foreground flex items-center gap-2 mt-1",children:[n.jsx(aa,{className:"h-4 w-4"}),((D=U.medico)==null?void 0:D.nome)||""]})]}),n.jsx(lr,{variant:"secondary",className:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:U.status})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(br,{className:"h-4 w-4"}),n.jsxs("span",{children:[U.data?new Date(U.data).toLocaleDateString():""," ",U.data?`s ${new Date(U.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:""]})]}),U.local&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Bi,{className:"h-4 w-4"}),n.jsx("span",{children:U.local})]})]})]})})},U.id||`${U.data}-${U.nome}`)})})})]})}),n.jsx(Hr,{value:"realizados",className:"mt-6",children:n.jsxs(De,{className:"border-0 shadow-lg",children:[n.jsx(Ve,{className:"pb-4",children:n.jsxs(Xe,{className:"flex items-center gap-2 text-xl",children:[n.jsx(po,{className:"h-5 w-5 text-emerald-500"}),"Histrico de Exames"]})}),n.jsx(Le,{children:t?n.jsx("div",{className:"space-y-2",children:[...Array(5)].map((U,D)=>n.jsx(Cr,{className:"h-16 w-full"},D))}):s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(hu,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-red-500 font-medium",children:s})]}):w.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(fn,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhum exame no histrico"}),n.jsx("p",{className:"text-muted-foreground",children:"Voc no possui exames realizados no histrico."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ga,{className:"border-border/50",children:[n.jsx(ur,{className:"font-semibold",children:"Data"}),n.jsx(ur,{className:"font-semibold",children:"Exame"}),n.jsx(ur,{className:"font-semibold",children:"Mdico"}),n.jsx(ur,{className:"font-semibold",children:"Status"}),n.jsx(ur,{className:"font-semibold text-right",children:"Aes"})]})}),n.jsx(wo,{children:v.map(U=>{var D;return n.jsxs(Ga,{className:"border-border/50 hover:bg-muted/30 transition-colors",children:[n.jsx(ir,{className:"font-medium",children:U.data?new Date(U.data).toLocaleDateString():""}),n.jsx(ir,{children:n.jsx("div",{className:"font-medium",children:U.nome})}),n.jsx(ir,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(aa,{className:"h-4 w-4 text-muted-foreground"}),((D=U.medico)==null?void 0:D.nome)||""]})}),n.jsx(ir,{children:n.jsx(lr,{variant:(U.status||"").toLowerCase().includes("conclu")||(U.status||"").toLowerCase()==="realizado"?"default":"secondary",className:(U.status||"").toLowerCase().includes("conclu")||(U.status||"").toLowerCase()==="realizado"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-300":"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:U.status||""})}),n.jsx(ir,{children:n.jsx("div",{className:"flex items-center justify-end gap-2",children:U.resultado_url?n.jsxs(n.Fragment,{children:[n.jsxs(we,{variant:"outline",size:"sm",className:"group border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 text-emerald-700 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-800 dark:text-emerald-300 dark:hover:text-emerald-100",onClick:()=>window.open(U.resultado_url,"_blank"),children:[n.jsx(Ci,{className:"h-4 w-4 mr-1"}),"Ver"]}),n.jsxs(we,{variant:"outline",size:"sm",className:"group border-blue-500/60 bg-gradient-to-b from-blue-500/10 to-blue-600/10 text-blue-700 hover:from-blue-500/20 hover:to-blue-600/20 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-100",onClick:()=>void y$(U),children:[n.jsx(xl,{className:"h-4 w-4 mr-1"}),"Baixar"]})]}):n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem resultado"}),n.jsxs(we,{variant:"outline",size:"sm",disabled:!0,className:"opacity-50 cursor-not-allowed",children:[n.jsx(xl,{className:"h-4 w-4 mr-1"}),"Baixar"]})]})})})]},U.id)})})]})})})]})})]})]})}const y$=async e=>{var r;try{let t=e==null?void 0:e.resultado_url;if(!t)return;/^https?:\/\//i.test(t)||(t=`${"https://tcc-back-ktwy.onrender.com".replace(/\/$/,"")}${t.startsWith("/")?"":"/"}${t}`);const a=await ye.get(t,{responseType:"blob",baseURL:""}),s=new Blob([a.data],{type:a.headers["content-type"]||"application/octet-stream"}),i=a.headers["content-disposition"]||"",o=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(i),l=decodeURIComponent((o==null?void 0:o[1])||(o==null?void 0:o[2])||`${e.nome||"resultado"}.pdf`),A=document.createElement("a");A.href=URL.createObjectURL(s),A.download=l,document.body.appendChild(A),A.click(),A.remove(),setTimeout(()=>URL.revokeObjectURL(A.href),2e3)}catch(t){console.warn("[Exames] download falhou:",(r=t==null?void 0:t.response)==null?void 0:r.status),alert("No foi possvel baixar o resultado. Tente novamente.")}};function b$(){const[e,r]=b.useState([]),[t,a]=b.useState(!0),[s,i]=b.useState(null),[o,l]=b.useState("todos"),[A,d]=b.useState("todos"),[f,h]=b.useState(""),m=C=>{var E;return((E=C==null?void 0:C.tipo_exame)==null?void 0:E.nome)||(C==null?void 0:C.tipo_exame_nome)||(C==null?void 0:C.nome_exame)||(typeof(C==null?void 0:C.tipo_exame)=="string"?C.tipo_exame:null)||(C==null?void 0:C.nome)||(C==null?void 0:C.tipo)||(C==null?void 0:C.exame)||"Exame"},p=C=>{const E=C==null?void 0:C.user;return[E==null?void 0:E.first_name,E==null?void 0:E.last_name].filter(Boolean).join(" ").trim()||(E==null?void 0:E.nome)||(E==null?void 0:E.username)||(C==null?void 0:C.nome)||""},v=C=>{var D;const E=(C==null?void 0:C.resultado_url)||(C==null?void 0:C.arquivo_resultado)||((D=C==null?void 0:C.resultado)==null?void 0:D.arquivo)||(C==null?void 0:C.arquivo_url)||(C==null?void 0:C.documento_url);return E?/^https?:\/\//i.test(E)?E:`${"https://tcc-back-ktwy.onrender.com".replace(/\/$/,"")}${E.startsWith("/")?"":"/"}${E}`:null},g=C=>{if(!C)return"sem-data";const E=new Date(C);return Number.isNaN(E.getTime())?"sem-data":E.toISOString().slice(0,10)},w=C=>{try{return new Date(C).toLocaleString()}catch{return C||""}};b.useEffect(()=>{let C=!0;return(async()=>{var E,U,D;try{const[k,L,_]=await Promise.allSettled([ha.getConsultas(),ha.getExames(),ha.getReceitas()]),Y=k.status==="fulfilled"?(Array.isArray(k.value)?k.value:(E=k.value)==null?void 0:E.results)||[]:[],I=L.status==="fulfilled"?(Array.isArray(L.value)?L.value:(U=L.value)==null?void 0:U.results)||[]:[],$=_.status==="fulfilled"?(Array.isArray(_.value)?_.value:(D=_.value)==null?void 0:D.results)||[]:[],J=I.map(G=>({id:G.id||Math.random(),tipo:"exame",data:G.data_agendamento||G.data_solicitacao||G.data||G.data_hora||null,titulo:`Exame - ${m(G)}`.trim(),detalhe:p((G==null?void 0:G.medico_solicitante)||(G==null?void 0:G.medico)),status:G.status||G.situacao||"pendente",resultado_url:v(G),nome:m(G)})),M=Y.map(G=>{var z,Z;return{id:G.id||Math.random(),tipo:"consulta",data:G.data_hora||G.data||null,titulo:`Consulta - ${G.especialidade||((z=G.medico)==null?void 0:z.especialidade)||""}`.trim(),detalhe:((Z=G.medico)==null?void 0:Z.nome)||p(G==null?void 0:G.medico)||"",status:G.status||"pendente"}}),re=$.map(G=>{var Ae;const z=G.medico||((Ae=G.consulta)==null?void 0:Ae.medico),Z=Array.isArray(G.itens)&&G.itens.length?G.itens.map(ee=>{var R;return((R=ee==null?void 0:ee.medicamento)==null?void 0:R.nome)||(ee==null?void 0:ee.medicamento)||""}).filter(Boolean).join(", "):G.medicamentos||"Prescrio";return{id:G.id||Math.random(),tipo:"receita",data:G.created_at||G.data||G.emissao||G.data_emissao||null,titulo:`Receita - ${Z}`.trim(),detalhe:p(z),status:G.status||(G.arquivo_assinado?"assinada":"emitida"),resultado_url:G.arquivo_assinado||null,nome:"Receita"}}),K=[...M,...J,...re].filter(G=>G.data).sort((G,z)=>new Date(z.data||0)-new Date(G.data||0));C&&r(K)}catch{i("No foi possvel carregar o histrico.")}finally{C&&a(!1)}})(),()=>{C=!1}},[]);const y=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],N=b.useMemo(()=>{let C=e;if(o!=="todos"){const D={consultas:"consulta",exames:"exame",receitas:"receita"};C=C.filter(k=>k.tipo===(D[o]||o))}if(A!=="todos"&&(C=C.filter(D=>(D.status||"").toLowerCase()===A.toLowerCase())),f.trim()){const D=f.toLowerCase();C=C.filter(k=>{var L,_;return((L=k.titulo)==null?void 0:L.toLowerCase().includes(D))||((_=k.detalhe)==null?void 0:_.toLowerCase().includes(D))||(k.status||"").toLowerCase().includes(D)})}const E={};for(const D of C){const k=g(D.data);E[k]||(E[k]=[]),E[k].push(D)}const U=Object.keys(E).sort((D,k)=>D<k?1:-1);return{groups:E,orderedKeys:U}},[e,o,A,f]);return n.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(E1,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Histrico Mdico"})]}),n.jsx(Wi,{tabs:y,basePath:"/paciente"}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[n.jsx("div",{className:"flex-1 relative",children:n.jsx(Oe,{placeholder:"Buscar por ttulo, mdico, status...",value:f,onChange:C=>h(C.target.value),className:"w-full"})}),n.jsxs(Gr,{value:o,onValueChange:l,children:[n.jsx(zr,{className:"w-[180px]",children:n.jsx(Yr,{placeholder:"Tipo"})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"todos",children:"Todos"}),n.jsx(nt,{value:"consultas",children:"Consultas"}),n.jsx(nt,{value:"exames",children:"Exames"}),n.jsx(nt,{value:"receitas",children:"Receitas"})]})]}),n.jsxs(Gr,{value:A,onValueChange:d,children:[n.jsx(zr,{className:"w-[180px]",children:n.jsx(Yr,{placeholder:"Status"})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"todos",children:"Todos"}),n.jsx(nt,{value:"solicitado",children:"Solicitado"}),n.jsx(nt,{value:"agendado",children:"Agendado"}),n.jsx(nt,{value:"realizado",children:"Realizado"}),n.jsx(nt,{value:"cancelado",children:"Cancelado"}),n.jsx(nt,{value:"pendente",children:"Pendente"})]})]})]}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Linha do Tempo"})}),n.jsx(Le,{children:t?n.jsx("div",{className:"space-y-3",children:[...Array(6)].map((C,E)=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Cr,{className:"h-4 w-4 rounded-full"}),n.jsx(Cr,{className:"h-6 w-2/3"})]},E))}):s?n.jsx("p",{className:"text-sm text-red-500",children:s}):N.orderedKeys.length===0?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum evento encontrado."}):n.jsx("div",{className:"space-y-8",children:N.orderedKeys.map(C=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-muted-foreground",children:[n.jsx(br,{className:"h-4 w-4"}),n.jsx("span",{children:C==="sem-data"?"Sem data":new Date(C).toLocaleDateString()})]}),n.jsxs("div",{className:"relative pl-6",children:[n.jsx("div",{className:"absolute left-1 top-0 bottom-0 w-px bg-border"}),n.jsx("ul",{className:"space-y-4",children:N.groups[C].map(E=>n.jsxs("li",{className:"relative",children:[n.jsx("span",{className:`absolute -left-[7px] top-1 inline-flex items-center justify-center h-4 w-4 rounded-full ${E.tipo==="consulta"?"bg-primary":E.tipo==="exame"?"bg-emerald-500":"bg-indigo-500"}`,title:E.tipo==="consulta"?"Consulta":E.tipo==="exame"?"Exame":"Receita"}),n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-0.5 text-muted-foreground",children:E.tipo==="consulta"?n.jsx(aa,{className:"h-4 w-4"}):E.tipo==="exame"?n.jsx(K6,{className:"h-4 w-4 text-emerald-400"}):n.jsx(Bf,{className:"h-4 w-4 text-indigo-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:E.titulo}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.detalhe||""," ",E.status?` ${E.status}`:""]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:w(E.data)})]})]}),E.tipo==="exame"&&n.jsx("div",{className:"flex items-center gap-2",children:E.resultado_url?n.jsxs(n.Fragment,{children:[n.jsxs("a",{href:E.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-2 rounded-lg border border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",title:"Abrir resultado em nova aba",children:[n.jsx(Ci,{className:"h-4 w-4 transition-transform group-hover:-translate-y-0.5"}),n.jsx("span",{children:"Ver"})]}),n.jsxs(we,{variant:"outline",className:"group inline-flex items-center gap-2 rounded-lg border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",onClick:()=>void UN(E),title:"Baixar arquivo",children:[n.jsx(xl,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),n.jsx("span",{children:"Baixar"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem arquivo"}),n.jsxs(we,{variant:"outline",disabled:!0,className:"inline-flex items-center gap-2 rounded-lg border-emerald-500/30 bg-gradient-to-b from-emerald-500/5 to-emerald-600/5 px-3 py-1.5 text-emerald-400/50 disabled:opacity-60 disabled:cursor-not-allowed",title:"Resultado ainda no disponvel",children:[n.jsx(xl,{className:"h-4 w-4"}),n.jsx("span",{children:"Baixar"})]})]})}),E.tipo==="receita"&&n.jsx("div",{className:"flex items-center gap-2",children:E.resultado_url?n.jsxs(n.Fragment,{children:[n.jsxs("a",{href:E.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-lg border border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",title:"Abrir receita em nova aba",children:[n.jsx(Ci,{className:"h-4 w-4"}),n.jsx("span",{children:"Ver"})]}),n.jsxs(we,{variant:"outline",className:"inline-flex items-center gap-2 rounded-lg border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",onClick:()=>void UN(E),title:"Baixar PDF",children:[n.jsx(xl,{className:"h-4 w-4"}),n.jsx("span",{children:"Baixar"})]})]}):n.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem PDF assinado"})})]})]},E.id))})]})]},C))})})]})]})}const UN=async e=>{var r;try{let t=e==null?void 0:e.resultado_url;if(!t)return;if(/^(data|blob):/i.test(t)){const d=document.createElement("a");d.href=t,d.download=`${e.nome||"resultado"}.pdf`,document.body.appendChild(d),d.click(),d.remove();return}/^https?:\/\//i.test(t)||(t=`${"https://tcc-back-ktwy.onrender.com".replace(/\/$/,"")}${t.startsWith("/")?"":"/"}${t}`);const a=await ye.get(t,{responseType:"blob",baseURL:""}),s=new Blob([a.data],{type:a.headers["content-type"]||"application/octet-stream"}),i=a.headers["content-disposition"]||"",o=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(i),l=decodeURIComponent((o==null?void 0:o[1])||(o==null?void 0:o[2])||`${e.nome||"resultado"}.pdf`),A=document.createElement("a");A.href=URL.createObjectURL(s),A.download=l,document.body.appendChild(A),A.click(),A.remove(),setTimeout(()=>URL.revokeObjectURL(A.href),2e3)}catch(t){console.warn("[Historico Medico] download falhou:",(r=t==null?void 0:t.response)==null?void 0:r.status),alert("No foi possvel baixar o resultado. Tente novamente.")}};function j$(){const[e,r]=b.useState([]),[t,a]=b.useState(!0),[s,i]=b.useState(null);b.useEffect(()=>{let l=!0;return(async()=>{try{const A=await ha.getMedicos();l&&r(Array.isArray(A)?A:(A==null?void 0:A.results)||[])}catch{i("No foi possvel carregar os mdicos vinculados.")}finally{l&&a(!1)}})(),()=>{l=!1}},[]);const o=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}];return n.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(aa,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Mdicos Vinculados"})]}),n.jsx(Wi,{tabs:o,basePath:"/paciente"}),t?n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:[...Array(4)].map((l,A)=>n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Cr,{className:"h-5 w-48"})}),n.jsxs(Le,{className:"space-y-2",children:[n.jsx(Cr,{className:"h-4 w-56"}),n.jsx(Cr,{className:"h-4 w-32"})]})]},A))}):s?n.jsx("p",{className:"text-sm text-red-500",children:s}):e.length===0?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum mdico vinculado."}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:e.map(l=>{var A,d;return n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(On,{className:"h-5 w-5"}),N$(l)]})}),n.jsxs(Le,{className:"space-y-2 text-sm",children:[n.jsx("div",{className:"text-muted-foreground",children:B$(l)}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(aa,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:["CRM: ",PN(l)||""]})]}),LN(l)&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rA,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:LN(l)})]}),IN(l)&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:IN(l)})]})]})]},l.id||PN(l)||((A=l.user)==null?void 0:A.id)||((d=l.user)==null?void 0:d.email))})})]})}const N$=e=>{const r=(e==null?void 0:e.user)||{};return[r.first_name,r.last_name].filter(Boolean).join(" ").trim()||r.nome||r.name||r.username||(e==null?void 0:e.nome)||(e==null?void 0:e.name)||(e==null?void 0:e.full_name)||"Mdico"},B$=e=>{var t;const r=a=>(a==null?void 0:a.nome)||(a==null?void 0:a.titulo)||(a==null?void 0:a.name)||(a==null?void 0:a.descricao)||(a==null?void 0:a.description);if(Array.isArray(e==null?void 0:e.especialidades)&&e.especialidades.length){const a=e.especialidades.map(s=>r(s)||(typeof s=="string"?s:null)).filter(Boolean);if(a.length)return a.join(", ")}if(e!=null&&e.especialidade&&typeof e.especialidade=="object"){const a=r(e.especialidade);if(a)return a}return typeof(e==null?void 0:e.especialidade)=="string"&&e.especialidade.trim()?e.especialidade.trim():typeof(e==null?void 0:e.especialidade_nome)=="string"&&e.especialidade_nome.trim()?e.especialidade_nome.trim():typeof(e==null?void 0:e.specialty)=="string"&&e.specialty.trim()?e.specialty.trim():typeof(e==null?void 0:e.area)=="string"&&e.area.trim()?e.area.trim():typeof((t=e==null?void 0:e.user)==null?void 0:t.especialidade)=="string"&&e.user.especialidade.trim()?e.user.especialidade.trim():"Especialidade no informada"},LN=e=>{var r;return(e==null?void 0:e.telefone)||(e==null?void 0:e.phone)||(e==null?void 0:e.celular)||((r=e==null?void 0:e.user)==null?void 0:r.phone)||null},IN=e=>{var r;return(e==null?void 0:e.email)||((r=e==null?void 0:e.user)==null?void 0:r.email)||null},PN=e=>(e==null?void 0:e.crm)||(e==null?void 0:e.crm_numero)||(e==null?void 0:e.crmNumber)||(e==null?void 0:e.crm_registro)||null,ec={CLASSIC:"classic",MODERN:"modern",MINIMAL:"minimal",CUSTOM:"custom"},Ls={type:ec.CLASSIC,layout:{pageSize:"A4",orientation:"portrait",margins:{top:50,bottom:50,left:50,right:50}},header:{showLogo:!0,logoPosition:"left",logoSize:{width:80,height:80},showDoctorInfo:!0,doctorInfoPosition:"right",backgroundColor:"#ffffff",borderBottom:!0,borderColor:"#e5e7eb"},content:{fontSize:{title:16,subtitle:14,body:12,small:10},fontFamily:"Helvetica",colors:{primary:"#1f2937",secondary:"#6b7280",accent:"#3b82f6"},spacing:{sectionGap:20,lineHeight:1.5}},footer:{showSignature:!0,showDate:!0,showPageNumber:!1,customText:"",backgroundColor:"#ffffff",borderTop:!0,borderColor:"#e5e7eb"},branding:{primaryColor:"#3b82f6",secondaryColor:"#6b7280",logoUrl:null,clinicName:"",clinicAddress:"",clinicPhone:"",clinicEmail:""}},QN={[ec.CLASSIC]:{...Ls,name:"Clssico",description:"Layout tradicional com cabealho formal",preview:"/templates/classic-preview.svg"},[ec.MODERN]:{...Ls,type:ec.MODERN,name:"Moderno",description:"Design contemporneo com elementos visuais modernos",header:{...Ls.header,backgroundColor:"#f8fafc",logoPosition:"center"},content:{...Ls.content,colors:{primary:"#0f172a",secondary:"#475569",accent:"#0ea5e9"}},branding:{...Ls.branding,primaryColor:"#0ea5e9"},preview:"/templates/modern-preview.svg"},[ec.MINIMAL]:{...Ls,type:ec.MINIMAL,name:"Minimalista",description:"Layout limpo e simples",header:{...Ls.header,showLogo:!1,borderBottom:!1},content:{...Ls.content,fontSize:{title:14,subtitle:12,body:11,small:9}},footer:{...Ls.footer,borderTop:!1},preview:"/templates/minimal-preview.svg"}},RN=(e,r)=>{try{const t=`pdf_template_config_${e}`,a=`template_config_${e}`,s=JSON.stringify(r);return localStorage.setItem(t,s),localStorage.setItem(a,s),!0}catch(t){return console.error("Erro ao salvar configurao de template:",t),!1}},pm=e=>{try{const r=`pdf_template_config_${e}`,t=`template_config_${e}`,a=localStorage.getItem(r),s=localStorage.getItem(t),i=Ls;if(a)try{return{...i,...JSON.parse(a)}}catch{}if(s)try{return{...i,...JSON.parse(s)}}catch{}return Ls}catch(r){return console.error("Erro ao carregar configurao de template:",r),Ls}},x0=(e,r)=>new Promise((t,a)=>{try{if(!r){t(null);return}const s=`doctor_logo_${e}`;if(typeof r=="object"&&(r!=null&&r.data)&&typeof r.data=="string"){const i={data:r.data,name:r.name||"logo.png",type:r.type||"image/png",size:r.size||void 0,lastModified:r.lastModified||Date.now()};localStorage.setItem(s,JSON.stringify(i)),t(i);return}if(typeof r=="string"&&r.startsWith("data:")){const i=r.slice(5,r.indexOf(";"))||"image/png",o={data:r,name:"logo.png",type:i,size:void 0,lastModified:Date.now()};localStorage.setItem(s,JSON.stringify(o)),t(o);return}if(r instanceof File||r instanceof Blob){const i=new FileReader;i.onload=o=>{try{const l={data:o.target.result,name:r.name||"logo.png",type:r.type||"image/png",size:r.size,lastModified:r.lastModified||Date.now()};localStorage.setItem(s,JSON.stringify(l)),t(l)}catch(l){a(l)}},i.onerror=a,i.readAsDataURL(r);return}a(new Error("Formato de logo invlido"))}catch(s){a(s)}}),$f=e=>{try{const r=`doctor_logo_${e}`,t=localStorage.getItem(r);if(t)try{const a=JSON.parse(t);if(a&&typeof a=="object"&&typeof a.data=="string")return a}catch{if(typeof t=="string"&&t.startsWith("data:")){const a=t.slice(5,t.indexOf(";"))||"image/png";return{data:t,type:a,name:"logo.png"}}}return null}catch(r){return console.error("Erro ao carregar logo do mdico:",r),null}},MN=e=>{try{const r=`doctor_logo_${e}`;return localStorage.removeItem(r),!0}catch(r){return console.error("Erro ao remover logo do mdico:",r),!1}},C$=e=>{var t,a,s;const r=[];return(!e.type||!Object.values(ec).includes(e.type))&&r.push("Tipo de template invlido"),(t=e.layout)!=null&&t.pageSize||r.push("Tamanho da pgina  obrigatrio"),(!((s=(a=e.content)==null?void 0:a.fontSize)!=null&&s.body)||e.content.fontSize.body<8)&&r.push("Tamanho da fonte do corpo deve ser pelo menos 8pt"),{isValid:r.length===0,errors:r}},S$=(e,r)=>{var t,a;return{...e,...r,layout:{...e.layout,...r.layout},header:{...e.header,...r.header},content:{...e.content,...r.content,fontSize:{...e.content.fontSize,...(t=r.content)==null?void 0:t.fontSize},colors:{...e.content.colors,...(a=r.content)==null?void 0:a.colors}},footer:{...e.footer,...r.footer},branding:{...e.branding,...r.branding}}},_$=e=>({...e,isPreview:!0,content:{...e.content,sampleData:{doctorName:"Dr. Joo Silva",crm:"CRM/SP 123456",specialty:"Cardiologia",patientName:"Maria Santos",date:new Date().toLocaleDateString("pt-BR"),medications:"Losartana 50mg - 1 comprimido pela manh",instructions:"Tomar com gua, preferencialmente no mesmo horrio todos os dias."}}});function E$({id:e="receita-preview",templateConfig:r,doctorLogo:t,medico:a="",crm:s="",especialidade:i="",endereco_consultorio:o="",telefone_consultorio:l="",email_medico:A="",nome_paciente:d="",idade:f="",cpf:h="",data_nascimento:m="",data_emissao:p="",validade_receita:v="",isSigned:g=!1,certInfo:w=null,signDate:y=null,hasStructuredItems:N=!1,receitaItems:C=[],medicamento:E="",posologia:U="",observacoes:D=""}){var _,Y,I,$,J,M,re,K,G,z,Z,Ae,ee,R,q,te;const k=r||Ls,L={titleSize:`${((Y=(_=k==null?void 0:k.content)==null?void 0:_.fontSize)==null?void 0:Y.title)??16}px`,smallSize:`${(($=(I=k==null?void 0:k.content)==null?void 0:I.fontSize)==null?void 0:$.small)??12}px`,primaryColor:((M=(J=k==null?void 0:k.content)==null?void 0:J.colors)==null?void 0:M.primary)??"#1f2937",secondaryColor:((K=(re=k==null?void 0:k.content)==null?void 0:re.colors)==null?void 0:K.secondary)??"#6b7280",accentBorderColor:((G=k==null?void 0:k.header)==null?void 0:G.borderColor)??"#e5e7eb",showLogo:((z=k==null?void 0:k.header)==null?void 0:z.showLogo)!==!1};return n.jsxs("div",{id:e,className:"mx-auto bg-white shadow-md border rounded-md p-6 max-w-[800px] aspect-[1/1.414] overflow-auto",children:[n.jsxs("div",{className:"flex items-center justify-between border-b pb-3",style:{borderBottomColor:L.accentBorderColor},children:[L.showLogo&&(t!=null&&t.data)?n.jsx("img",{src:t.data,alt:"Logo",className:"max-h-20 max-w-[150px] object-contain"}):null,n.jsxs("div",{className:"text-right flex-1 ml-4",children:[n.jsx("div",{className:"font-bold",style:{fontSize:L.titleSize,color:L.primaryColor},children:((Z=k==null?void 0:k.branding)==null?void 0:Z.clinicName)||a||"Consultrio Mdico"}),((Ae=k==null?void 0:k.header)==null?void 0:Ae.showDoctorInfo)&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"font-semibold",style:{color:L.primaryColor},children:a}),s&&n.jsxs("div",{style:{fontSize:L.smallSize,color:L.secondaryColor},children:["CRM: ",s]})]}),n.jsx("div",{className:"text-sm",style:{fontSize:L.smallSize,color:L.secondaryColor},children:((ee=k==null?void 0:k.branding)==null?void 0:ee.clinicAddress)||o}),n.jsxs("div",{className:"text-sm",style:{fontSize:L.smallSize,color:L.secondaryColor},children:["Telefone: ",((R=k==null?void 0:k.branding)==null?void 0:R.clinicPhone)||l]}),(q=k==null?void 0:k.branding)!=null&&q.clinicEmail||A?n.jsxs("div",{className:"text-sm",style:{fontSize:L.smallSize,color:L.secondaryColor},children:["E-mail: ",((te=k==null?void 0:k.branding)==null?void 0:te.clinicEmail)||A]}):null]})]}),n.jsxs("div",{className:"text-center my-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Nome do Paciente: "}),d]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Idade: "}),f]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"CPF: "}),h]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Data de Nascimento: "}),m]})]}),n.jsxs("div",{className:"text-center text-xl font-semibold my-4",children:["Prescrio Mdica",g&&n.jsx("div",{className:"text-sm text-green-600 font-normal mt-1",children:" Assinada Digitalmente"}),!g&&n.jsx("div",{className:"text-sm text-orange-600 font-normal mt-1",children:" Aguardando Assinatura Digital"})]}),n.jsx("div",{className:"text-center",children:N?n.jsx("div",{className:"space-y-4",children:Array.isArray(C)&&C.map((F,X)=>{var xe,ie;const H=((xe=F==null?void 0:F.medicamento)==null?void 0:xe.nome)||(F==null?void 0:F.descricao)||`Medicamento ${X+1}`,V=(ie=F==null?void 0:F.medicamento)==null?void 0:ie.apresentacao,ae=(F==null?void 0:F.dose)||(F==null?void 0:F.dosagem),fe=F==null?void 0:F.frequencia,ve=F==null?void 0:F.duracao,Be=[ae,fe,ve].filter(Boolean).join("  "),ke=F==null?void 0:F.observacoes;return n.jsxs("div",{className:"border-b border-muted pb-3 last:border-b-0",children:[n.jsx("div",{className:"font-semibold",children:H}),V&&n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:V}),Be&&n.jsx("div",{className:"mt-2",children:Be}),ke&&n.jsx("div",{className:"text-sm text-muted-foreground mt-1 italic",children:ke})]},X)})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"whitespace-pre-wrap font-semibold",children:E}),U?n.jsx("div",{className:"mt-2 whitespace-pre-wrap",children:U}):null,D?n.jsx("div",{className:"mt-2 whitespace-pre-wrap italic text-muted-foreground",children:D}):null]})}),n.jsxs("div",{className:"text-center my-6",children:[n.jsxs("div",{children:["Data de Emisso: ",p]}),n.jsxs("div",{children:["Validade da Receita: ",v||""]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-start mt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-64 border-t pt-1",children:""}),a&&n.jsxs("div",{children:["Dr(a). ",a,s?`  CRM ${s}`:""]}),g?n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Assinado digitalmente conforme ICP-Brasil",w!=null&&w.subject_name||w!=null&&w.nome||w!=null&&w.subject?n.jsxs(n.Fragment,{children:["  Titular: ",(w==null?void 0:w.subject_name)||(w==null?void 0:w.nome)||(w==null?void 0:w.subject)]}):null,s?n.jsxs(n.Fragment,{children:["  CRM: ",s]}):null,h?n.jsxs(n.Fragment,{children:["  CPF: ",h]}):null,w!=null&&w.algorithm?n.jsxs(n.Fragment,{children:["  Algoritmo: ",w.algorithm]}):n.jsx(n.Fragment,{children:"  Algoritmo: SHA256-RSA"}),y?n.jsxs(n.Fragment,{children:["  Carimbo: ",new Date(y).toLocaleString()]}):null,w!=null&&w.valid_to||w!=null&&w.not_after||w!=null&&w.valid_until?n.jsxs(n.Fragment,{children:["  Vlido at: ",new Date((w==null?void 0:w.valid_to)||(w==null?void 0:w.not_after)||(w==null?void 0:w.valid_until)).toLocaleDateString()]}):null]}):n.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Documento gerado. Assine para exibir o selo de assinatura digital."})]})})]})}function F$(){const{toast:e}=Ka(),[r,t]=b.useState(!0),[a,s]=b.useState(""),[i,o]=b.useState([]),[l,A]=b.useState([]),[d,f]=b.useState(!1),[h,m]=b.useState({medico:"",observacoes:""}),[p,v]=b.useState(!1),[g,w]=b.useState(""),[y,N]=b.useState("todas"),[C,E]=b.useState(""),[U,D]=b.useState(!1),k=b.useMemo(()=>[{id:"exemplo-1",created_at:"2024-01-15T10:30:00Z",medicamentos:"Paracetamol 750mg - 1 comprimido de 8/8h se dor",posologia:"Conforme prescrio mdica",observacoes:"Tomar com gua, aps as refeies",validade:"2024-07-15",status:"ativa",situacao:"finalizada",arquivo_assinado:null,medico:{id:1,nome:"Dr. Joo Silva",especialidade:"Clnico Geral",crm:"12345-SP"},consulta:{id:1,data:"2024-01-15",paciente_id:1}},{id:"exemplo-2",created_at:"2023-12-10T14:20:00Z",medicamentos:"Amoxicilina 500mg - 1 cpsula de 8/8h por 7 dias",posologia:"Via oral",observacoes:"Completar todo o tratamento mesmo com melhora dos sintomas",validade:"2024-06-10",status:"expirada",situacao:"finalizada",arquivo_assinado:null,medico:{id:2,nome:"Dra. Maria Santos",especialidade:"Pediatra",crm:"67890-SP"},consulta:{id:2,data:"2023-12-10",paciente_id:1}}],[]);b.useMemo(()=>[{id:1,nome:"Dr. Joo Silva",especialidade:"Clnico Geral",crm:"12345-SP"},{id:2,nome:"Dra. Maria Santos",especialidade:"Pediatra",crm:"67890-SP"}],[]);const L=b.useMemo(()=>Array.isArray(l)?l.filter(F=>F&&String(F.id??"").trim()!==""):[],[l]),_=F=>{const X=F==null?void 0:F.user;return[X==null?void 0:X.first_name,X==null?void 0:X.last_name].filter(Boolean).join(" ").trim()||(X==null?void 0:X.nome)||(X==null?void 0:X.username)||(F==null?void 0:F.nome)||(F==null?void 0:F.name)||(F==null?void 0:F.full_name)||(F==null?void 0:F.medico_nome)||(F==null?void 0:F.doctor_name)||"Mdico"},Y=b.useMemo(()=>(Array.isArray(i)?i:Array.isArray(i==null?void 0:i.results)?i.results:[]).sort((X,H)=>new Date(H.created_at||0)-new Date(X.created_at||0)),[i]),I=b.useMemo(()=>Y.length>0,[Y]),$=b.useMemo(()=>{let F=Y;if(y==="todas"?F=Y:y==="ativas"?F=F.filter(X=>{const H=X.validade||X.validade_receita;return H?new Date(H)>=new Date:!0}):y==="historico"&&(F=F.filter(X=>{const H=X.validade||X.validade_receita;return H?new Date(H)<new Date:!1})),g){const X=g.toLowerCase();F=F.filter(H=>{var ve;const V=_(H.medico)||_((ve=H.consulta)==null?void 0:ve.medico)||"",ae=H.medicamentos||"",fe=H.observacoes||"";return V.toLowerCase().includes(X)||ae.toLowerCase().includes(X)||fe.toLowerCase().includes(X)})}return F},[Y,y,g]),J=F=>{const X=F.validade||F.validade_receita;return X?new Date(X)>=new Date?"ativa":"expirada":(F.status||F.situacao||"ativa").toLowerCase()},M=F=>{switch(F){case"ativa":case"valida":case"vlida":return"bg-green-100 text-green-800 border-green-200";case"expirada":case"vencida":case"inativa":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},re=b.useMemo(()=>Y.filter(F=>J(F)==="ativa").length,[Y]),K=b.useMemo(()=>Y.filter(F=>J(F)==="expirada").length,[Y]);b.useEffect(()=>{let F=!0;return(async()=>{t(!0),s("");try{let H=[];try{const ae=await ha.getReceitas();H=Array.isArray(ae)?ae:(ae==null?void 0:ae.results)||[]}catch(ae){console.error("Erro ao carregar receitas:",ae.message)}let V=[];try{const ae=await ha.getMedicosVinculados();V=Array.isArray(ae)?ae:(ae==null?void 0:ae.results)||[]}catch(ae){console.error("Erro ao carregar mdicos vinculados:",ae.message)}if(!F)return;if(o(H),A(V),V.length===0)try{const ae=await ha.getMedicos({limit:50}),fe=Array.isArray(ae)?ae:(ae==null?void 0:ae.results)||[];F&&fe.length>0&&A(fe)}catch(ae){console.error("Erro no fallback de mdicos:",ae.message)}H.length===0?(o(k),E("Exibindo dados de exemplo. Conecte-se  API para ver suas receitas reais."),D(!0)):D(!1)}catch(H){if(console.error("Erro ao carregar dados:",H.message),!F)return;o(k),E("Exibindo dados de exemplo. Conecte-se  API para ver suas receitas reais."),D(!0)}finally{F&&t(!1)}})(),()=>{F=!1}},[]);const G=async F=>{var X,H;if(F.preventDefault(),!h.medico){e({title:"Selecione um mdico",description:"Escolha o mdico para enviar a solicitao."});return}v(!0);try{h.renovacao?(await ha.solicitarRenovacao({medico:h.medico,mensagem:h.mensagem,receita:h.receita}),e({title:"Renovao enviada",description:"Seu pedido de renovao foi enviado ao mdico."})):(await ha.solicitarReceita({medico:h.medico,mensagem:h.mensagem,receita:h.receita}),e({title:"Solicitao enviada",description:"Seu pedido de receita foi enviado ao mdico."})),f(!1),m({medico:"",mensagem:"",receita:null,renovacao:!1})}catch(V){console.error("Erro ao solicitar receita:",V),e({title:"Erro ao solicitar",description:((H=(X=V==null?void 0:V.response)==null?void 0:X.data)==null?void 0:H.detail)||(V==null?void 0:V.message)||"No foi possvel enviar a solicitao.",variant:"destructive"})}finally{v(!1)}},z=async(F,X)=>{var H;try{if(!F)return;const V=(ie,lt)=>{const mt=document.createElement("a"),at=URL.createObjectURL(ie);mt.href=at,mt.download=decodeURIComponent(lt),document.body.appendChild(mt),mt.click(),mt.remove(),setTimeout(()=>URL.revokeObjectURL(at),2e3)},ae=(ie,lt="Receita_Medica.pdf")=>{let mt=ie||lt;return/\.[a-z0-9]+$/i.test(mt)||(mt+=".pdf"),mt};if(/^data:/i.test(F))try{const ie=F.split(","),lt=ie[0]||"",mt=ie.slice(1).join(","),at=(lt.match(/data:([^;]+)/i)||[])[1]||"application/pdf",Ee=atob(mt),At=Ee.length,st=new Uint8Array(At);for(let ut=0;ut<At;ut++)st[ut]=Ee.charCodeAt(ut);const Mt=new Blob([st],{type:at}),kt=`Receita_${(X==null?void 0:X.id)||"documento"}`,Nt=ae(kt);V(Mt,Nt);return}catch(ie){console.error("[Receitas] Falha ao processar data URL:",ie),e({title:"Falha no download",description:"Arquivo invlido ou corrompido.",variant:"destructive"});return}if(/^blob:/i.test(F))try{const lt=await(await fetch(F)).blob(),mt=`Receita_${(X==null?void 0:X.id)||"documento"}`,at=ae(mt);V(lt,at);return}catch(ie){console.error("[Receitas] Blob URL indisponvel (provavelmente de outra aba/sesso):",ie),e({title:"Arquivo indisponvel",description:"Essa receita foi gerada em outra aba/sesso. Gere novamente para baixar.",variant:"destructive"});return}/^https?:\/\//i.test(F)||(F=`${"https://tcc-back-ktwy.onrender.com".replace(/\/$/,"")}${F.startsWith("/")?"":"/"}${F}`);const fe=await ye.get(F,{responseType:"blob",baseURL:""}),ve=new Blob([fe.data],{type:fe.headers["content-type"]||"application/pdf"}),Be=fe.headers["content-disposition"]||"",ke=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(Be);let xe=(ke==null?void 0:ke[1])||(ke==null?void 0:ke[2]);if(!xe)try{const ie=new URL(F);xe=decodeURIComponent(ie.pathname.split("/").pop()||"")}catch{xe=""}xe||(xe=`Receita_${(X==null?void 0:X.id)||"documento"}.pdf`),xe=ae(xe),V(ve,xe)}catch(V){console.error("[Receitas] Falha ao baixar PDF assinado:",((H=V==null?void 0:V.response)==null?void 0:H.status)||V),e({title:"Falha no download",description:"No foi possvel baixar o arquivo. Tente novamente.",variant:"destructive"})}},Z=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],Ae=Y.length,ee=Y.filter(F=>F.arquivo_assinado).length,R=Y.filter(F=>F.created_at?new Date(F.created_at).getFullYear()===new Date().getFullYear():!1).length,q=Y.filter(F=>{if(!F.created_at)return!1;const X=new Date(F.created_at),H=new Date;return H.setDate(H.getDate()-30),X>=H}).length;async function te(F){var X,H,V,ae,fe,ve,Be,ke,xe,ie,lt;try{const{pdfTemplateService:mt}=await Qs(async()=>{const{pdfTemplateService:Me}=await Promise.resolve().then(()=>jk);return{pdfTemplateService:Me}},void 0),at=((X=F==null?void 0:F.medico)==null?void 0:X.id)||(F==null?void 0:F.medico_id)||"default",Ee=pm(at),At=$f(at),st=(F==null?void 0:F.medico)&&(F.medico.nome||((H=F.medico.user)==null?void 0:H.first_name)&&`${F.medico.user.first_name} ${F.medico.user.last_name}`)||(F==null?void 0:F.medico_nome)||(F==null?void 0:F.medico)||"Mdico",Mt=((V=F==null?void 0:F.medico)==null?void 0:V.crm)||(F==null?void 0:F.medico_crm)||(F==null?void 0:F.crm)||"",kt=((ae=F==null?void 0:F.medico)==null?void 0:ae.especialidade)||(F==null?void 0:F.especialidade)||(F==null?void 0:F.medico_especialidade)||"",Nt=((fe=F==null?void 0:F.medico)==null?void 0:fe.endereco_consultorio)||(F==null?void 0:F.medico_endereco)||"",ut=((ve=F==null?void 0:F.medico)==null?void 0:ve.telefone_consultorio)||((Be=F==null?void 0:F.medico)==null?void 0:Be.telefone)||(F==null?void 0:F.medico_telefone)||"",Pt=((ke=F==null?void 0:F.medico)==null?void 0:ke.email)||(F==null?void 0:F.email_medico)||"",Dt=((xe=F==null?void 0:F.paciente)==null?void 0:xe.nome)||(F==null?void 0:F.paciente_nome)||(F==null?void 0:F.paciente)||"Paciente",Et=((ie=F==null?void 0:F.paciente)==null?void 0:ie.cpf)||(F==null?void 0:F.cpf)||"",vt=((lt=F==null?void 0:F.paciente)==null?void 0:lt.data_nascimento)||(F==null?void 0:F.data_nascimento)||"",bt=(F==null?void 0:F.idade)||"",St=(()=>{const Me=(F==null?void 0:F.created_at)||(F==null?void 0:F.data_emissao)||new Date().toISOString();try{return new Date(Me).toLocaleDateString()}catch{return String(Me)}})(),Tr=(F==null?void 0:F.validade)||(F==null?void 0:F.validade_receita)||"",jr=!!(F!=null&&F.arquivo_assinado),gr=((Array.isArray(F==null?void 0:F.itens)&&F.itens.length?F.itens:Array.isArray(F==null?void 0:F.itens_estruturados)?F.itens_estruturados:[])||[]).map(Me=>({descricao:(Me==null?void 0:Me.descricao)||(Me==null?void 0:Me.medicamento)||(Me==null?void 0:Me.nome)||"",dosagem:(Me==null?void 0:Me.dosagem)||(Me==null?void 0:Me.dose)||"",frequencia:(Me==null?void 0:Me.frequencia)||"",duracao:(Me==null?void 0:Me.duracao)||"",observacoes:(Me==null?void 0:Me.observacoes)||"",medicamento:typeof(Me==null?void 0:Me.medicamento)=="object"?Me.medicamento:void 0})),Wr=gr.length>0,jt=(F==null?void 0:F.medicamentos)||(F==null?void 0:F.itens)||(F==null?void 0:F.descricao)||"",xr=(F==null?void 0:F.posologia)||(F==null?void 0:F.orientacoes)||"",Ar=(F==null?void 0:F.observacoes)||"",Xr=document.createElement("div");Xr.style.position="absolute",Xr.style.left="-9999px",Xr.style.top="-9999px",document.body.appendChild(Xr);const ga=u5.createRoot(Xr);ga.render(n.jsx(E$,{id:"receita-preview-paciente",templateConfig:Ee,doctorLogo:At,medico:st,crm:Mt,especialidade:kt,endereco_consultorio:Nt,telefone_consultorio:ut,email_medico:Pt,nome_paciente:Dt,idade:bt,cpf:Et,data_nascimento:vt,data_emissao:St,validade_receita:Tr,isSigned:jr,hasStructuredItems:Wr,receitaItems:gr,medicamento:jt,posologia:xr,observacoes:Ar})),await new Promise(Me=>setTimeout(Me,100));const Ze=await mt.generatePDFFromElement(Xr,{pageSize:"a4",orientation:"portrait",scale:2});try{ga.unmount()}catch{}document.body.removeChild(Xr);const We=`Receita_${Dt.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;mt.savePDF(Ze,We);return}catch(mt){console.error("Erro ao gerar PDF com template personalizado:",mt);try{const{PDFDocument:at,StandardFonts:Ee,rgb:At}=await Qs(async()=>{const{PDFDocument:Tr,StandardFonts:jr,rgb:Qt}=await import("./index-Cwbr6lO_.js");return{PDFDocument:Tr,StandardFonts:jr,rgb:Qt}},[]),st=await at.create(),Mt=st.addPage([595.28,841.89]),kt=await st.embedFont(Ee.Helvetica),Nt=(Tr,jr,Qt,gr=12,Wr=At(0,0,0))=>{Mt.drawText(String(Tr||""),{x:jr,y:Qt,size:gr,font:kt,color:Wr})};let ut=800;Nt("Receita Mdica",50,ut,16),ut-=30;const Pt=(Tr,jr)=>`${Tr}: ${jr??""}`;Nt(Pt("Emitida em",(F==null?void 0:F.created_at)||(F==null?void 0:F.data_emissao)||""),50,ut),ut-=18,Nt(Pt("Mdico",(F==null?void 0:F.medico_nome)||(F==null?void 0:F.medico)||(F==null?void 0:F.medico_id)||""),50,ut),ut-=18,Nt(Pt("Paciente",(F==null?void 0:F.paciente_nome)||(F==null?void 0:F.paciente)||(F==null?void 0:F.paciente_id)||""),50,ut),ut-=24,Nt("Medicamentos",50,ut,14),ut-=18,Nt(String((F==null?void 0:F.medicamentos)||(F==null?void 0:F.itens)||(F==null?void 0:F.descricao)||""),50,ut),ut-=36,Nt("Posologia",50,ut,14),ut-=18,Nt(String((F==null?void 0:F.posologia)||(F==null?void 0:F.orientacoes)||""),50,ut),ut-=36,F!=null&&F.observacoes&&(Nt("Observaes",50,ut,14),ut-=18,Nt(String(F==null?void 0:F.observacoes),50,ut),ut-=36),Array.isArray(F==null?void 0:F.itens_estruturados)&&F.itens_estruturados.length&&(Nt("Itens estruturados",50,ut,14),ut-=18,F.itens_estruturados.forEach(Tr=>{const jr=Object.values(Tr||{}).filter(Boolean).join("  ");Nt(` ${jr}`,60,ut),ut-=16}),ut-=10);const Dt=await st.save(),Et=new Blob([Dt],{type:"application/pdf"}),vt=`Receita_${(F==null?void 0:F.id)||"documento"}.pdf`,bt=document.createElement("a"),St=URL.createObjectURL(Et);bt.href=St,bt.download=vt,document.body.appendChild(bt),bt.click(),bt.remove(),setTimeout(()=>URL.revokeObjectURL(St),2e3)}catch(at){console.error("[Receitas] Falha ao gerar PDF local:",at),e({title:"Falha ao gerar PDF",description:"Tente novamente.",variant:"destructive"})}}}return r?n.jsx("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(Cr,{className:"h-32 w-full rounded-2xl"}),n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((F,X)=>n.jsx(Cr,{className:"h-32 w-full rounded-xl"},X))}),n.jsx(Cr,{className:"h-16 w-full"}),n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((F,X)=>n.jsx(Cr,{className:"h-48 w-full rounded-xl"},X))})]})}):n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-emerald-600 via-teal-600 to-cyan-700 p-8 text-white shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/20"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:n.jsx(Bf,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Minhas Receitas"}),n.jsx("p",{className:"text-emerald-100",children:"Gerencie suas receitas mdicas"})]})]})}),n.jsx("div",{className:"flex flex-wrap gap-3",children:n.jsxs(we,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[n.jsx(aa,{className:"mr-2 h-4 w-4"}),"Mdicos"]})})]})}),n.jsx("div",{className:"absolute -right-20 -top-20 h-40 w-40 rounded-full bg-white/10"}),n.jsx("div",{className:"absolute -bottom-16 -left-16 h-32 w-32 rounded-full bg-white/10"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsx(De,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-emerald-100 text-sm font-medium",children:"Total de Receitas"}),n.jsx("p",{className:"text-3xl font-bold",children:Ae})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(fn,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(De,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Assinadas"}),n.jsx("p",{className:"text-3xl font-bold",children:ee})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(po,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(De,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-amber-500 to-orange-600 text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-amber-100 text-sm font-medium",children:"ltimos 30 dias"}),n.jsx("p",{className:"text-3xl font-bold",children:q})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx($r,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(De,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-purple-500 to-indigo-600 text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Este Ano"}),n.jsx("p",{className:"text-3xl font-bold",children:R})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(_m,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})})]}),n.jsx(Wi,{tabs:Z,basePath:"/paciente"}),n.jsx(De,{className:"border-0 shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsx("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(js,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Oe,{placeholder:"Buscar por mdico ou medicamento...",value:g,onChange:F=>w(F.target.value),className:"pl-10"})]})})})}),n.jsx(De,{className:"border-0 shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsxs(zi,{value:y,onValueChange:N,className:"w-full",children:[n.jsxs(qi,{className:"grid w-full grid-cols-3",children:[n.jsxs(Pr,{value:"ativas",className:"flex items-center gap-2",children:[n.jsx(us,{className:"h-4 w-4"}),"Ativas (",re,")"]}),n.jsxs(Pr,{value:"historico",className:"flex items-center gap-2",children:[n.jsx(E1,{className:"h-4 w-4"}),"Histrico (",K,")"]}),n.jsxs(Pr,{value:"todas",className:"flex items-center gap-2",children:[n.jsx(fn,{className:"h-4 w-4"}),"Todas (",Ae,")"]})]}),n.jsx(Hr,{value:y,className:"mt-6",children:I?$.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(js,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhuma receita encontrada"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Tente ajustar os filtros de busca."})]}):n.jsxs("div",{className:"grid gap-6",children:[n.jsxs(De,{className:"border-0 shadow-sm",children:[n.jsx(Ve,{className:"pb-2",children:n.jsx(Xe,{className:"text-base",children:"Tabela de Receitas"})}),n.jsx(Le,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ga,{children:[n.jsx(ur,{children:"ID"}),n.jsx(ur,{children:"Data"}),n.jsx(ur,{children:"Mdico"}),n.jsx(ur,{children:"Medicamentos"}),n.jsx(ur,{children:"Status"}),n.jsx(ur,{children:"PDF"})]})}),n.jsx(wo,{children:$.map(F=>{var fe;const X=_(F.medico)||_((fe=F.consulta)==null?void 0:fe.medico)||"Mdico",H=(()=>{const ve=(F==null?void 0:F.created_at)||(F==null?void 0:F.data_emissao)||"";try{return ve?new Date(ve).toLocaleDateString():""}catch{return String(ve||"")}})(),V=J(F),ae=String((F==null?void 0:F.medicamentos)||"").split(`
`)[0];return n.jsxs(Ga,{children:[n.jsx(ir,{className:"whitespace-nowrap",children:F.id}),n.jsx(ir,{className:"whitespace-nowrap",children:H}),n.jsx(ir,{className:"min-w-[160px]",children:X}),n.jsx(ir,{className:"truncate max-w-[260px]",title:(F==null?void 0:F.medicamentos)||"",children:ae||""}),n.jsx(ir,{children:n.jsx(lr,{className:M(V),variant:"outline",children:V})}),n.jsx(ir,{children:F.arquivo_assinado?n.jsx(we,{size:"sm",variant:"outline",onClick:()=>z(F.arquivo_assinado,F),children:"Baixar"}):n.jsx(we,{size:"sm",variant:"outline",onClick:()=>te(F),children:"Gerar"})})]},`row-${F.id}`)})})]})})})]}),$.map(F=>{var ae;const X=F.consulta,H=_(F.medico)||_(X==null?void 0:X.medico)||F.medico_nome||F.medicoName||"Mdico",V=((ae=X==null?void 0:X.paciente)!=null&&ae.user?`${X.paciente.user.first_name||""} ${X.paciente.user.last_name||""}`.trim():"Paciente")||"Paciente";return n.jsxs(De,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[n.jsx(Ve,{className:"pb-4",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-lg bg-emerald-100 p-2 dark:bg-emerald-900",children:n.jsx(Bf,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-lg",children:"Receita Mdica"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Emitida em ",new Date(F.created_at).toLocaleDateString()," s ",new Date(F.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(lr,{variant:F.arquivo_assinado?"default":"secondary",className:F.arquivo_assinado?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-300":"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:F.arquivo_assinado?"Assinada":"No assinada"}),F.validade&&n.jsxs(lr,{variant:"outline",className:"text-xs",children:["Vlida at ",F.validade]})]})]})}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[n.jsx(aa,{className:"h-4 w-4"}),"Mdico"]}),n.jsx("p",{className:"font-medium",children:H})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[n.jsx(On,{className:"h-4 w-4"}),"Paciente"]}),n.jsx("p",{className:"font-medium",children:V})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:"Medicamentos"}),n.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:n.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:F.medicamentos})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:"Posologia"}),n.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:n.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:F.posologia})})]}),F.observacoes&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:"Observaes"}),n.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:n.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:F.observacoes})})]}),Array.isArray(F.itens)&&F.itens.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:"Itens estruturados"}),n.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:n.jsx("ul",{className:"space-y-2",children:F.itens.map(fe=>{var ve;return n.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[n.jsx("div",{className:"mt-1.5 h-1.5 w-1.5 rounded-full bg-emerald-500 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:((ve=fe.medicamento)==null?void 0:ve.nome)||"Medicamento"}),fe.dose&&n.jsxs("span",{className:"text-muted-foreground",children:[" - ",fe.dose]}),fe.frequencia&&n.jsxs("span",{className:"text-muted-foreground",children:[" | ",fe.frequencia]}),fe.duracao&&n.jsxs("span",{className:"text-muted-foreground",children:[" | ",fe.duracao]}),fe.observacoes&&n.jsx("div",{className:"text-muted-foreground text-xs mt-1",children:fe.observacoes})]})]},fe.id)})})})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[F.arquivo_assinado?n.jsxs(n.Fragment,{children:[n.jsxs(we,{variant:"outline",size:"sm",className:"group border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 text-emerald-700 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-800 dark:text-emerald-300 dark:hover:text-emerald-100",onClick:()=>window.open(F.arquivo_assinado,"_blank"),children:[n.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Visualizar PDF"]}),n.jsxs(we,{variant:"outline",size:"sm",className:"group border-blue-500/60 bg-gradient-to-b from-blue-500/10 to-blue-600/10 text-blue-700 hover:from-blue-500/20 hover:to-blue-600/20 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-100",onClick:()=>z(F.arquivo_assinado,F),children:[n.jsx(xl,{className:"h-4 w-4 mr-2"}),"Baixar PDF Assinado"]})]}):n.jsxs(n.Fragment,{children:[n.jsxs(we,{variant:"outline",size:"sm",className:"group border-amber-500/60 bg-gradient-to-b from-amber-500/10 to-amber-600/10 text-amber-700 hover:from-amber-500/20 hover:to-amber-600/20 hover:text-amber-800 dark:text-amber-300 dark:hover:text-amber-100",onClick:()=>te(F),children:[n.jsx(xl,{className:"h-4 w-4 mr-2"}),"Baixar PDF (Gerado)"]}),n.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[n.jsx(hu,{className:"h-3 w-3"}),"Receita no assinada digitalmente"]})]}),n.jsxs(we,{variant:"secondary",size:"sm",onClick:()=>{var ve,Be,ke;const fe=((ve=F==null?void 0:F.medico)==null?void 0:ve.id)||((ke=(Be=F==null?void 0:F.consulta)==null?void 0:Be.medico)==null?void 0:ke.id)||(F==null?void 0:F.medico_id)||"";m({medico:String(fe||""),mensagem:"",receita:(F==null?void 0:F.id)||null,renovacao:!1}),f(!0)},children:[n.jsx(mu,{className:"h-4 w-4 mr-2"}),"Solicitar Receita"]}),n.jsxs(we,{variant:"secondary",size:"sm",onClick:()=>{var Be,ke,xe;const fe=((Be=F==null?void 0:F.medico)==null?void 0:Be.id)||((xe=(ke=F==null?void 0:F.consulta)==null?void 0:ke.medico)==null?void 0:xe.id)||(F==null?void 0:F.medico_id)||"",ve=`Solicito renovao da receita #${(F==null?void 0:F.id)??""}`.trim();m({medico:String(fe||""),mensagem:ve,receita:(F==null?void 0:F.id)||null,renovacao:!0}),f(!0)},children:[n.jsx(k1,{className:"h-4 w-4 mr-2"}),"Pedir Renovao"]})]})]})]},F.id)})]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Bf,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhuma receita encontrada"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:C||(y==="ativas"?"Voc no possui receitas ativas no momento.":y==="historico"?"Voc no possui receitas no histrico.":"Voc ainda no possui receitas mdicas.")})]})})]})})}),d?n.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-card text-card-foreground border rounded-lg p-6 w-full max-w-lg shadow-lg",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:h.renovacao?"Pedir Renovao de Receita":"Solicitar Receita"}),n.jsxs("form",{onSubmit:G,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Fe,{className:"mb-1 block",children:"Mdico"}),n.jsxs(Gr,{value:h.medico,onValueChange:F=>m(X=>({...X,medico:F})),children:[n.jsx(zr,{className:"w-full",children:n.jsx(Yr,{placeholder:r?"Carregando...":L.length?"Selecione...":"Nenhum mdico disponvel"})}),n.jsx(qr,{children:L.length===0?n.jsx(RE,{children:"Nenhum mdico disponvel"}):L.map(F=>{const X=(F!=null&&F.user?`${F.user.first_name||""} ${F.user.last_name||""}`.trim():F==null?void 0:F.nome)||"Mdico";return n.jsxs(nt,{value:String(F.id),children:[X," ",F.crm?`- CRM ${F.crm}`:""]},String(F.id))})})]})]}),n.jsxs("div",{children:[n.jsx(Fe,{className:"mb-1 block",children:"Mensagem (opcional)"}),n.jsx(la,{rows:3,placeholder:h.renovacao?"Explique sua necessidade de renovao (uso contnuo, desabastecimento, etc.)":"Descreva sua necessidade (ex: nova receita de medicamento)",value:h.mensagem,onChange:F=>m(X=>({...X,mensagem:F.target.value}))})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[n.jsx(we,{type:"button",variant:"outline",onClick:()=>{f(!1),m({medico:"",mensagem:"",receita:null,renovacao:!1})},children:"Cancelar"}),n.jsx(we,{type:"submit",disabled:p,children:p?"Enviando...":h.renovacao?"Enviar pedido de renovao":"Enviar solicitao"})]})]})]})}):null]})}function SF(e,r=[]){const[t,a]=b.useState(null),[s,i]=b.useState(!0),[o,l]=b.useState(null);return b.useEffect(()=>{let d=!0;return(async()=>{var h,m;try{i(!0),l(null);const p=await e();d&&a(p)}catch(p){d&&l(((m=(h=p.response)==null?void 0:h.data)==null?void 0:m.message)||"Erro ao carregar dados")}finally{d&&i(!1)}})(),()=>{d=!1}},r),{data:t,loading:s,error:o,refetch:async()=>{var d,f;try{i(!0),l(null);const h=await e();a(h)}catch(h){l(((f=(d=h.response)==null?void 0:d.data)==null?void 0:f.message)||"Erro ao carregar dados")}finally{i(!1)}}}}function Ha(e){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ha(e)}var bl=Uint8Array,mo=Uint16Array,wb=Int32Array,yb=new bl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),bb=new bl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),TN=new bl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_F=function(e,r){for(var t=new mo(31),a=0;a<31;++a)t[a]=r+=1<<e[a-1];for(var s=new wb(t[30]),a=1;a<30;++a)for(var i=t[a];i<t[a+1];++i)s[i]=i-t[a]<<5|a;return{b:t,r:s}},EF=_F(yb,2),k$=EF.b,Ly=EF.r;k$[28]=258,Ly[258]=28;var D$=_F(bb,0),ON=D$.r,Iy=new mo(32768);for(var dn=0;dn<32768;++dn){var zA=(dn&43690)>>1|(dn&21845)<<1;zA=(zA&52428)>>2|(zA&13107)<<2,zA=(zA&61680)>>4|(zA&3855)<<4,Iy[dn]=((zA&65280)>>8|(zA&255)<<8)>>1}var Jh=(function(e,r,t){for(var a=e.length,s=0,i=new mo(r);s<a;++s)e[s]&&++i[e[s]-1];var o=new mo(r);for(s=1;s<r;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(t){l=new mo(1<<r);var A=15-r;for(s=0;s<a;++s)if(e[s])for(var d=s<<4|e[s],f=r-e[s],h=o[e[s]-1]++<<f,m=h|(1<<f)-1;h<=m;++h)l[Iy[h]>>A]=d}else for(l=new mo(a),s=0;s<a;++s)e[s]&&(l[s]=Iy[o[e[s]-1]++]>>15-e[s]);return l}),yu=new bl(288);for(var dn=0;dn<144;++dn)yu[dn]=8;for(var dn=144;dn<256;++dn)yu[dn]=9;for(var dn=256;dn<280;++dn)yu[dn]=7;for(var dn=280;dn<288;++dn)yu[dn]=8;var v0=new bl(32);for(var dn=0;dn<32;++dn)v0[dn]=5;var U$=Jh(yu,9,0),L$=Jh(v0,5,0),FF=function(e){return(e+7)/8|0},I$=function(e,r,t){return(t==null||t>e.length)&&(t=e.length),new bl(e.subarray(r,t))},qc=function(e,r,t){t<<=r&7;var a=r/8|0;e[a]|=t,e[a+1]|=t>>8},Lh=function(e,r,t){t<<=r&7;var a=r/8|0;e[a]|=t,e[a+1]|=t>>8,e[a+2]|=t>>16},iw=function(e,r){for(var t=[],a=0;a<e.length;++a)e[a]&&t.push({s:a,f:e[a]});var s=t.length,i=t.slice();if(!s)return{t:DF,l:0};if(s==1){var o=new bl(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(U,D){return U.f-D.f}),t.push({s:-1,f:25001});var l=t[0],A=t[1],d=0,f=1,h=2;for(t[0]={s:-1,f:l.f+A.f,l,r:A};f!=s-1;)l=t[t[d].f<t[h].f?d++:h++],A=t[d!=f&&t[d].f<t[h].f?d++:h++],t[f++]={s:-1,f:l.f+A.f,l,r:A};for(var m=i[0].s,a=1;a<s;++a)i[a].s>m&&(m=i[a].s);var p=new mo(m+1),v=Py(t[f-1],p,0);if(v>r){var a=0,g=0,w=v-r,y=1<<w;for(i.sort(function(D,k){return p[k.s]-p[D.s]||D.f-k.f});a<s;++a){var N=i[a].s;if(p[N]>r)g+=y-(1<<v-p[N]),p[N]=r;else break}for(g>>=w;g>0;){var C=i[a].s;p[C]<r?g-=1<<r-p[C]++-1:++a}for(;a>=0&&g;--a){var E=i[a].s;p[E]==r&&(--p[E],++g)}v=r}return{t:new bl(p),l:v}},Py=function(e,r,t){return e.s==-1?Math.max(Py(e.l,r,t+1),Py(e.r,r,t+1)):r[e.s]=t},HN=function(e){for(var r=e.length;r&&!e[--r];);for(var t=new mo(++r),a=0,s=e[0],i=1,o=function(A){t[a++]=A},l=1;l<=r;++l)if(e[l]==s&&l!=r)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[l]}return{c:t.subarray(0,a),n:r}},Ih=function(e,r){for(var t=0,a=0;a<r.length;++a)t+=e[a]*r[a];return t},kF=function(e,r,t){var a=t.length,s=FF(r+2);e[s]=a&255,e[s+1]=a>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<a;++i)e[s+i+4]=t[i];return(s+4+a)*8},$N=function(e,r,t,a,s,i,o,l,A,d,f){qc(r,f++,t),++s[256];for(var h=iw(s,15),m=h.t,p=h.l,v=iw(i,15),g=v.t,w=v.l,y=HN(m),N=y.c,C=y.n,E=HN(g),U=E.c,D=E.n,k=new mo(19),L=0;L<N.length;++L)++k[N[L]&31];for(var L=0;L<U.length;++L)++k[U[L]&31];for(var _=iw(k,7),Y=_.t,I=_.l,$=19;$>4&&!Y[TN[$-1]];--$);var J=d+5<<3,M=Ih(s,yu)+Ih(i,v0)+o,re=Ih(s,m)+Ih(i,g)+o+14+3*$+Ih(k,Y)+2*k[16]+3*k[17]+7*k[18];if(A>=0&&J<=M&&J<=re)return kF(r,f,e.subarray(A,A+d));var K,G,z,Z;if(qc(r,f,1+(re<M)),f+=2,re<M){K=Jh(m,p,0),G=m,z=Jh(g,w,0),Z=g;var Ae=Jh(Y,I,0);qc(r,f,C-257),qc(r,f+5,D-1),qc(r,f+10,$-4),f+=14;for(var L=0;L<$;++L)qc(r,f+3*L,Y[TN[L]]);f+=3*$;for(var ee=[N,U],R=0;R<2;++R)for(var q=ee[R],L=0;L<q.length;++L){var te=q[L]&31;qc(r,f,Ae[te]),f+=Y[te],te>15&&(qc(r,f,q[L]>>5&127),f+=q[L]>>12)}}else K=U$,G=yu,z=L$,Z=v0;for(var L=0;L<l;++L){var F=a[L];if(F>255){var te=F>>18&31;Lh(r,f,K[te+257]),f+=G[te+257],te>7&&(qc(r,f,F>>23&31),f+=yb[te]);var X=F&31;Lh(r,f,z[X]),f+=Z[X],X>3&&(Lh(r,f,F>>5&8191),f+=bb[X])}else Lh(r,f,K[F]),f+=G[F]}return Lh(r,f,K[256]),f+G[256]},P$=new wb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),DF=new bl(0),Q$=function(e,r,t,a,s,i){var o=i.z||e.length,l=new bl(a+o+5*(1+Math.ceil(o/7e3))+s),A=l.subarray(a,l.length-s),d=i.l,f=(i.r||0)&7;if(r){f&&(A[0]=i.r>>3);for(var h=P$[r-1],m=h>>13,p=h&8191,v=(1<<t)-1,g=i.p||new mo(32768),w=i.h||new mo(v+1),y=Math.ceil(t/3),N=2*y,C=function(xe){return(e[xe]^e[xe+1]<<y^e[xe+2]<<N)&v},E=new wb(25e3),U=new mo(288),D=new mo(32),k=0,L=0,_=i.i||0,Y=0,I=i.w||0,$=0;_+2<o;++_){var J=C(_),M=_&32767,re=w[J];if(g[M]=re,w[J]=M,I<=_){var K=o-_;if((k>7e3||Y>24576)&&(K>423||!d)){f=$N(e,A,0,E,U,D,L,Y,$,_-$,f),Y=k=L=0,$=_;for(var G=0;G<286;++G)U[G]=0;for(var G=0;G<30;++G)D[G]=0}var z=2,Z=0,Ae=p,ee=M-re&32767;if(K>2&&J==C(_-ee))for(var R=Math.min(m,K)-1,q=Math.min(32767,_),te=Math.min(258,K);ee<=q&&--Ae&&M!=re;){if(e[_+z]==e[_+z-ee]){for(var F=0;F<te&&e[_+F]==e[_+F-ee];++F);if(F>z){if(z=F,Z=ee,F>R)break;for(var X=Math.min(ee,F-2),H=0,G=0;G<X;++G){var V=_-ee+G&32767,ae=g[V],fe=V-ae&32767;fe>H&&(H=fe,re=V)}}}M=re,re=g[M],ee+=M-re&32767}if(Z){E[Y++]=268435456|Ly[z]<<18|ON[Z];var ve=Ly[z]&31,Be=ON[Z]&31;L+=yb[ve]+bb[Be],++U[257+ve],++D[Be],I=_+z,++k}else E[Y++]=e[_],++U[e[_]]}}for(_=Math.max(_,I);_<o;++_)E[Y++]=e[_],++U[e[_]];f=$N(e,A,d,E,U,D,L,Y,$,_-$,f),d||(i.r=f&7|A[f/8|0]<<3,f-=7,i.h=w,i.p=g,i.i=_,i.w=I)}else{for(var _=i.w||0;_<o+d;_+=65535){var ke=_+65535;ke>=o&&(A[f/8|0]=d,ke=o),f=kF(A,f+1,e.subarray(_,ke))}i.i=o}return I$(l,0,a+FF(f)+s)},UF=function(){var e=1,r=0;return{p:function(t){for(var a=e,s=r,i=t.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=a+=t[o];a=(a&65535)+15*(a>>16),s=(s&65535)+15*(s>>16)}e=a,r=s},d:function(){return e%=65521,r%=65521,(e&255)<<24|(e&65280)<<8|(r&255)<<8|r>>8}}},R$=function(e,r,t,a,s){if(!s&&(s={l:1},r.dictionary)){var i=r.dictionary.subarray(-32768),o=new bl(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return Q$(e,r.level==null?6:r.level,r.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+r.mem,t,a,s)},LF=function(e,r,t){for(;t;++r)e[r]=t,t>>>=8},M$=function(e,r){var t=r.level,a=t==0?0:t<6?1:t==9?3:2;if(e[0]=120,e[1]=a<<6|(r.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,r.dictionary){var s=UF();s.p(r.dictionary),LF(e,2,s.d())}};function Qy(e,r){r||(r={});var t=UF();t.p(e);var a=R$(e,r,r.dictionary?6:2,4);return M$(a,r),LF(a,a.length-4,t.d()),a}var T$=typeof TextDecoder<"u"&&new TextDecoder,O$=0;try{T$.decode(DF,{stream:!0}),O$=1}catch{}function H$(e){if(Array.isArray(e))return e}function $$(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var a,s,i,o,l=[],A=!0,d=!1;try{if(i=(t=t.call(e)).next,r!==0)for(;!(A=(a=i.call(t)).done)&&(l.push(a.value),l.length!==r);A=!0);}catch(f){d=!0,s=f}finally{try{if(!A&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function KN(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,a=Array(r);t<r;t++)a[t]=e[t];return a}function K$(e,r){if(e){if(typeof e=="string")return KN(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?KN(e,r):void 0}}function V$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VN(e,r){return H$(e)||$$(e,r)||K$(e,r)||V$()}function zN(e,r="utf8"){return new TextDecoder(r).decode(e)}const z$=new TextEncoder;function q$(e){return z$.encode(e)}const W$=1024*8,G$=(()=>{const e=new Uint8Array(4),r=new Uint32Array(e.buffer);return!((r[0]=1)&e[0])})(),ow={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class jb{constructor(r=W$,t={}){pt(this,"buffer");pt(this,"byteLength");pt(this,"byteOffset");pt(this,"length");pt(this,"offset");pt(this,"lastWrittenByte");pt(this,"littleEndian");pt(this,"_data");pt(this,"_mark");pt(this,"_marks");let a=!1;typeof r=="number"?r=new ArrayBuffer(r):(a=!0,this.lastWrittenByte=r.byteLength);const s=t.offset?t.offset>>>0:0,i=r.byteLength-s;let o=s;(ArrayBuffer.isView(r)||r instanceof jb)&&(r.byteLength!==r.buffer.byteLength&&(o=r.byteOffset+s),r=r.buffer),a?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=r,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(r=1){return this.offset+r<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(r=1){return this.offset+=r,this}back(r=1){return this.offset-=r,this}seek(r){return this.offset=r,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const r=this._marks.pop();if(r===void 0)throw new Error("Mark stack empty");return this.seek(r),this}rewind(){return this.offset=0,this}ensureAvailable(r=1){if(!this.available(r)){const a=(this.offset+r)*2,s=new Uint8Array(a);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(r=1){return this.readArray(r,"uint8")}readArray(r,t){const a=ow[t].BYTES_PER_ELEMENT*r,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+a);if(this.littleEndian===G$&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+a));l.reverse();const A=new ow[t](l.buffer);return this.offset+=a,A.reverse(),A}const o=new ow[t](i);return this.offset+=a,o}readInt16(){const r=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,r}readUint16(){const r=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,r}readInt32(){const r=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,r}readUint32(){const r=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,r}readFloat32(){const r=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,r}readFloat64(){const r=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,r}readBigInt64(){const r=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,r}readBigUint64(){const r=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,r}readChar(){return String.fromCharCode(this.readInt8())}readChars(r=1){let t="";for(let a=0;a<r;a++)t+=this.readChar();return t}readUtf8(r=1){return zN(this.readBytes(r))}decodeText(r=1,t="utf8"){return zN(this.readBytes(r),t)}writeBoolean(r){return this.writeUint8(r?255:0),this}writeInt8(r){return this.ensureAvailable(1),this._data.setInt8(this.offset++,r),this._updateLastWrittenByte(),this}writeUint8(r){return this.ensureAvailable(1),this._data.setUint8(this.offset++,r),this._updateLastWrittenByte(),this}writeByte(r){return this.writeUint8(r)}writeBytes(r){this.ensureAvailable(r.length);for(let t=0;t<r.length;t++)this._data.setUint8(this.offset++,r[t]);return this._updateLastWrittenByte(),this}writeInt16(r){return this.ensureAvailable(2),this._data.setInt16(this.offset,r,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(r){return this.ensureAvailable(2),this._data.setUint16(this.offset,r,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(r){return this.ensureAvailable(4),this._data.setInt32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(r){return this.ensureAvailable(4),this._data.setUint32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(r){return this.ensureAvailable(4),this._data.setFloat32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(r){return this.ensureAvailable(8),this._data.setFloat64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(r){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(r){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(r){return this.writeUint8(r.charCodeAt(0))}writeChars(r){for(let t=0;t<r.length;t++)this.writeUint8(r.charCodeAt(t));return this}writeUtf8(r){return this.writeBytes(q$(r))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function rh(e){let r=e.length;for(;--r>=0;)e[r]=0}const Y$=3,X$=258,IF=29,J$=256,Z$=J$+1+IF,PF=30,e9=512,t9=new Array((Z$+2)*2);rh(t9);const r9=new Array(PF*2);rh(r9);const a9=new Array(e9);rh(a9);const n9=new Array(X$-Y$+1);rh(n9);const s9=new Array(IF);rh(s9);const i9=new Array(PF);rh(i9);const o9=(e,r,t,a)=>{let s=e&65535|0,i=e>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do s=s+r[a++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var Ry=o9;const l9=()=>{let e,r=[];for(var t=0;t<256;t++){e=t;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;r[t]=e}return r},c9=new Uint32Array(l9()),A9=(e,r,t,a)=>{const s=c9,i=a+t;e^=-1;for(let o=a;o<i;o++)e=e>>>8^s[(e^r[o])&255];return e^-1};var Kl=A9,My={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},QF={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const d9=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var u9=function(e){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const t=r.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const a in t)d9(t,a)&&(e[a]=t[a])}}return e},f9=e=>{let r=0;for(let a=0,s=e.length;a<s;a++)r+=e[a].length;const t=new Uint8Array(r);for(let a=0,s=0,i=e.length;a<i;a++){let o=e[a];t.set(o,s),s+=o.length}return t},RF={assign:u9,flattenChunks:f9};let MF=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{MF=!1}const gm=new Uint8Array(256);for(let e=0;e<256;e++)gm[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;gm[254]=gm[254]=1;var h9=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let r,t,a,s,i,o=e.length,l=0;for(s=0;s<o;s++)t=e.charCodeAt(s),(t&64512)===55296&&s+1<o&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(t=65536+(t-55296<<10)+(a-56320),s++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(r=new Uint8Array(l),i=0,s=0;i<l;s++)t=e.charCodeAt(s),(t&64512)===55296&&s+1<o&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(t=65536+(t-55296<<10)+(a-56320),s++)),t<128?r[i++]=t:t<2048?(r[i++]=192|t>>>6,r[i++]=128|t&63):t<65536?(r[i++]=224|t>>>12,r[i++]=128|t>>>6&63,r[i++]=128|t&63):(r[i++]=240|t>>>18,r[i++]=128|t>>>12&63,r[i++]=128|t>>>6&63,r[i++]=128|t&63);return r};const m9=(e,r)=>{if(r<65534&&e.subarray&&MF)return String.fromCharCode.apply(null,e.length===r?e:e.subarray(0,r));let t="";for(let a=0;a<r;a++)t+=String.fromCharCode(e[a]);return t};var p9=(e,r)=>{const t=r||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,r));let a,s;const i=new Array(t*2);for(s=0,a=0;a<t;){let o=e[a++];if(o<128){i[s++]=o;continue}let l=gm[o];if(l>4){i[s++]=65533,a+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&a<t;)o=o<<6|e[a++]&63,l--;if(l>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return m9(i,s)},g9=(e,r)=>{r=r||e.length,r>e.length&&(r=e.length);let t=r-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?r:t+gm[e[t]]>r?t:r},Ty={string2buf:h9,buf2string:p9,utf8border:g9};function x9(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var v9=x9;const Tp=16209,w9=16191;var y9=function(r,t){let a,s,i,o,l,A,d,f,h,m,p,v,g,w,y,N,C,E,U,D,k,L,_,Y;const I=r.state;a=r.next_in,_=r.input,s=a+(r.avail_in-5),i=r.next_out,Y=r.output,o=i-(t-r.avail_out),l=i+(r.avail_out-257),A=I.dmax,d=I.wsize,f=I.whave,h=I.wnext,m=I.window,p=I.hold,v=I.bits,g=I.lencode,w=I.distcode,y=(1<<I.lenbits)-1,N=(1<<I.distbits)-1;e:do{v<15&&(p+=_[a++]<<v,v+=8,p+=_[a++]<<v,v+=8),C=g[p&y];t:for(;;){if(E=C>>>24,p>>>=E,v-=E,E=C>>>16&255,E===0)Y[i++]=C&65535;else if(E&16){U=C&65535,E&=15,E&&(v<E&&(p+=_[a++]<<v,v+=8),U+=p&(1<<E)-1,p>>>=E,v-=E),v<15&&(p+=_[a++]<<v,v+=8,p+=_[a++]<<v,v+=8),C=w[p&N];r:for(;;){if(E=C>>>24,p>>>=E,v-=E,E=C>>>16&255,E&16){if(D=C&65535,E&=15,v<E&&(p+=_[a++]<<v,v+=8,v<E&&(p+=_[a++]<<v,v+=8)),D+=p&(1<<E)-1,D>A){r.msg="invalid distance too far back",I.mode=Tp;break e}if(p>>>=E,v-=E,E=i-o,D>E){if(E=D-E,E>f&&I.sane){r.msg="invalid distance too far back",I.mode=Tp;break e}if(k=0,L=m,h===0){if(k+=d-E,E<U){U-=E;do Y[i++]=m[k++];while(--E);k=i-D,L=Y}}else if(h<E){if(k+=d+h-E,E-=h,E<U){U-=E;do Y[i++]=m[k++];while(--E);if(k=0,h<U){E=h,U-=E;do Y[i++]=m[k++];while(--E);k=i-D,L=Y}}}else if(k+=h-E,E<U){U-=E;do Y[i++]=m[k++];while(--E);k=i-D,L=Y}for(;U>2;)Y[i++]=L[k++],Y[i++]=L[k++],Y[i++]=L[k++],U-=3;U&&(Y[i++]=L[k++],U>1&&(Y[i++]=L[k++]))}else{k=i-D;do Y[i++]=Y[k++],Y[i++]=Y[k++],Y[i++]=Y[k++],U-=3;while(U>2);U&&(Y[i++]=Y[k++],U>1&&(Y[i++]=Y[k++]))}}else if((E&64)===0){C=w[(C&65535)+(p&(1<<E)-1)];continue r}else{r.msg="invalid distance code",I.mode=Tp;break e}break}}else if((E&64)===0){C=g[(C&65535)+(p&(1<<E)-1)];continue t}else if(E&32){I.mode=w9;break e}else{r.msg="invalid literal/length code",I.mode=Tp;break e}break}}while(a<s&&i<l);U=v>>3,a-=U,v-=U<<3,p&=(1<<v)-1,r.next_in=a,r.next_out=i,r.avail_in=a<s?5+(s-a):5-(a-s),r.avail_out=i<l?257+(l-i):257-(i-l),I.hold=p,I.bits=v};const lf=15,qN=852,WN=592,GN=0,lw=1,YN=2,b9=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),j9=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),N9=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),B9=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),C9=(e,r,t,a,s,i,o,l)=>{const A=l.bits;let d=0,f=0,h=0,m=0,p=0,v=0,g=0,w=0,y=0,N=0,C,E,U,D,k,L=null,_;const Y=new Uint16Array(lf+1),I=new Uint16Array(lf+1);let $=null,J,M,re;for(d=0;d<=lf;d++)Y[d]=0;for(f=0;f<a;f++)Y[r[t+f]]++;for(p=A,m=lf;m>=1&&Y[m]===0;m--);if(p>m&&(p=m),m===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<m&&Y[h]===0;h++);for(p<h&&(p=h),w=1,d=1;d<=lf;d++)if(w<<=1,w-=Y[d],w<0)return-1;if(w>0&&(e===GN||m!==1))return-1;for(I[1]=0,d=1;d<lf;d++)I[d+1]=I[d]+Y[d];for(f=0;f<a;f++)r[t+f]!==0&&(o[I[r[t+f]]++]=f);if(e===GN?(L=$=o,_=20):e===lw?(L=b9,$=j9,_=257):(L=N9,$=B9,_=0),N=0,f=0,d=h,k=i,v=p,g=0,U=-1,y=1<<p,D=y-1,e===lw&&y>qN||e===YN&&y>WN)return 1;for(;;){J=d-g,o[f]+1<_?(M=0,re=o[f]):o[f]>=_?(M=$[o[f]-_],re=L[o[f]-_]):(M=96,re=0),C=1<<d-g,E=1<<v,h=E;do E-=C,s[k+(N>>g)+E]=J<<24|M<<16|re|0;while(E!==0);for(C=1<<d-1;N&C;)C>>=1;if(C!==0?(N&=C-1,N+=C):N=0,f++,--Y[d]===0){if(d===m)break;d=r[t+o[f]]}if(d>p&&(N&D)!==U){for(g===0&&(g=p),k+=h,v=d-g,w=1<<v;v+g<m&&(w-=Y[v+g],!(w<=0));)v++,w<<=1;if(y+=1<<v,e===lw&&y>qN||e===YN&&y>WN)return 1;U=N&D,s[U]=p<<24|v<<16|k-i|0}}return N!==0&&(s[k+N]=d-g<<24|64<<16|0),l.bits=p,0};var Zh=C9;const S9=0,TF=1,OF=2,{Z_FINISH:XN,Z_BLOCK:_9,Z_TREES:Op,Z_OK:bu,Z_STREAM_END:E9,Z_NEED_DICT:F9,Z_STREAM_ERROR:Vo,Z_DATA_ERROR:HF,Z_MEM_ERROR:$F,Z_BUF_ERROR:k9,Z_DEFLATED:JN}=QF,Nx=16180,ZN=16181,eB=16182,tB=16183,rB=16184,aB=16185,nB=16186,sB=16187,iB=16188,oB=16189,w0=16190,Wc=16191,cw=16192,lB=16193,Aw=16194,cB=16195,AB=16196,dB=16197,uB=16198,Hp=16199,$p=16200,fB=16201,hB=16202,mB=16203,pB=16204,gB=16205,dw=16206,xB=16207,vB=16208,bn=16209,KF=16210,VF=16211,D9=852,U9=592,L9=15,I9=L9,wB=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function P9(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Su=e=>{if(!e)return 1;const r=e.state;return!r||r.strm!==e||r.mode<Nx||r.mode>VF?1:0},zF=e=>{if(Su(e))return Vo;const r=e.state;return e.total_in=e.total_out=r.total=0,e.msg="",r.wrap&&(e.adler=r.wrap&1),r.mode=Nx,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(D9),r.distcode=r.distdyn=new Int32Array(U9),r.sane=1,r.back=-1,bu},qF=e=>{if(Su(e))return Vo;const r=e.state;return r.wsize=0,r.whave=0,r.wnext=0,zF(e)},WF=(e,r)=>{let t;if(Su(e))return Vo;const a=e.state;return r<0?(t=0,r=-r):(t=(r>>4)+5,r<48&&(r&=15)),r&&(r<8||r>15)?Vo:(a.window!==null&&a.wbits!==r&&(a.window=null),a.wrap=t,a.wbits=r,qF(e))},GF=(e,r)=>{if(!e)return Vo;const t=new P9;e.state=t,t.strm=e,t.window=null,t.mode=Nx;const a=WF(e,r);return a!==bu&&(e.state=null),a},Q9=e=>GF(e,I9);let yB=!0,uw,fw;const R9=e=>{if(yB){uw=new Int32Array(512),fw=new Int32Array(32);let r=0;for(;r<144;)e.lens[r++]=8;for(;r<256;)e.lens[r++]=9;for(;r<280;)e.lens[r++]=7;for(;r<288;)e.lens[r++]=8;for(Zh(TF,e.lens,0,288,uw,0,e.work,{bits:9}),r=0;r<32;)e.lens[r++]=5;Zh(OF,e.lens,0,32,fw,0,e.work,{bits:5}),yB=!1}e.lencode=uw,e.lenbits=9,e.distcode=fw,e.distbits=5},YF=(e,r,t,a)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),a>=i.wsize?(i.window.set(r.subarray(t-i.wsize,t),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>a&&(s=a),i.window.set(r.subarray(t-a,t-a+s),i.wnext),a-=s,a?(i.window.set(r.subarray(t-a,t),0),i.wnext=a,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},M9=(e,r)=>{let t,a,s,i,o,l,A,d,f,h,m,p,v,g,w=0,y,N,C,E,U,D,k,L;const _=new Uint8Array(4);let Y,I;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Su(e)||!e.output||!e.input&&e.avail_in!==0)return Vo;t=e.state,t.mode===Wc&&(t.mode=cw),o=e.next_out,s=e.output,A=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,d=t.hold,f=t.bits,h=l,m=A,L=bu;e:for(;;)switch(t.mode){case Nx:if(t.wrap===0){t.mode=cw;break}for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,_[0]=d&255,_[1]=d>>>8&255,t.check=Kl(t.check,_,2,0),d=0,f=0,t.mode=ZN;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",t.mode=bn;break}if((d&15)!==JN){e.msg="unknown compression method",t.mode=bn;break}if(d>>>=4,f-=4,k=(d&15)+8,t.wbits===0&&(t.wbits=k),k>15||k>t.wbits){e.msg="invalid window size",t.mode=bn;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=d&512?oB:Wc,d=0,f=0;break;case ZN:for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.flags=d,(t.flags&255)!==JN){e.msg="unknown compression method",t.mode=bn;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=bn;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,t.check=Kl(t.check,_,2,0)),d=0,f=0,t.mode=eB;case eB:for(;f<32;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,_[2]=d>>>16&255,_[3]=d>>>24&255,t.check=Kl(t.check,_,4,0)),d=0,f=0,t.mode=tB;case tB:for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,t.check=Kl(t.check,_,2,0)),d=0,f=0,t.mode=rB;case rB:if(t.flags&1024){for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,t.check=Kl(t.check,_,2,0)),d=0,f=0}else t.head&&(t.head.extra=null);t.mode=aB;case aB:if(t.flags&1024&&(p=t.length,p>l&&(p=l),p&&(t.head&&(k=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(a.subarray(i,i+p),k)),t.flags&512&&t.wrap&4&&(t.check=Kl(t.check,a,p,i)),l-=p,i+=p,t.length-=p),t.length))break e;t.length=0,t.mode=nB;case nB:if(t.flags&2048){if(l===0)break e;p=0;do k=a[i+p++],t.head&&k&&t.length<65536&&(t.head.name+=String.fromCharCode(k));while(k&&p<l);if(t.flags&512&&t.wrap&4&&(t.check=Kl(t.check,a,p,i)),l-=p,i+=p,k)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=sB;case sB:if(t.flags&4096){if(l===0)break e;p=0;do k=a[i+p++],t.head&&k&&t.length<65536&&(t.head.comment+=String.fromCharCode(k));while(k&&p<l);if(t.flags&512&&t.wrap&4&&(t.check=Kl(t.check,a,p,i)),l-=p,i+=p,k)break e}else t.head&&(t.head.comment=null);t.mode=iB;case iB:if(t.flags&512){for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.wrap&4&&d!==(t.check&65535)){e.msg="header crc mismatch",t.mode=bn;break}d=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=Wc;break;case oB:for(;f<32;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}e.adler=t.check=wB(d),d=0,f=0,t.mode=w0;case w0:if(t.havedict===0)return e.next_out=o,e.avail_out=A,e.next_in=i,e.avail_in=l,t.hold=d,t.bits=f,F9;e.adler=t.check=1,t.mode=Wc;case Wc:if(r===_9||r===Op)break e;case cw:if(t.last){d>>>=f&7,f-=f&7,t.mode=dw;break}for(;f<3;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}switch(t.last=d&1,d>>>=1,f-=1,d&3){case 0:t.mode=lB;break;case 1:if(R9(t),t.mode=Hp,r===Op){d>>>=2,f-=2;break e}break;case 2:t.mode=AB;break;case 3:e.msg="invalid block type",t.mode=bn}d>>>=2,f-=2;break;case lB:for(d>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",t.mode=bn;break}if(t.length=d&65535,d=0,f=0,t.mode=Aw,r===Op)break e;case Aw:t.mode=cB;case cB:if(p=t.length,p){if(p>l&&(p=l),p>A&&(p=A),p===0)break e;s.set(a.subarray(i,i+p),o),l-=p,i+=p,A-=p,o+=p,t.length-=p;break}t.mode=Wc;break;case AB:for(;f<14;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.nlen=(d&31)+257,d>>>=5,f-=5,t.ndist=(d&31)+1,d>>>=5,f-=5,t.ncode=(d&15)+4,d>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=bn;break}t.have=0,t.mode=dB;case dB:for(;t.have<t.ncode;){for(;f<3;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.lens[$[t.have++]]=d&7,d>>>=3,f-=3}for(;t.have<19;)t.lens[$[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Y={bits:t.lenbits},L=Zh(S9,t.lens,0,19,t.lencode,0,t.work,Y),t.lenbits=Y.bits,L){e.msg="invalid code lengths set",t.mode=bn;break}t.have=0,t.mode=uB;case uB:for(;t.have<t.nlen+t.ndist;){for(;w=t.lencode[d&(1<<t.lenbits)-1],y=w>>>24,N=w>>>16&255,C=w&65535,!(y<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(C<16)d>>>=y,f-=y,t.lens[t.have++]=C;else{if(C===16){for(I=y+2;f<I;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(d>>>=y,f-=y,t.have===0){e.msg="invalid bit length repeat",t.mode=bn;break}k=t.lens[t.have-1],p=3+(d&3),d>>>=2,f-=2}else if(C===17){for(I=y+3;f<I;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}d>>>=y,f-=y,k=0,p=3+(d&7),d>>>=3,f-=3}else{for(I=y+7;f<I;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}d>>>=y,f-=y,k=0,p=11+(d&127),d>>>=7,f-=7}if(t.have+p>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=bn;break}for(;p--;)t.lens[t.have++]=k}}if(t.mode===bn)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=bn;break}if(t.lenbits=9,Y={bits:t.lenbits},L=Zh(TF,t.lens,0,t.nlen,t.lencode,0,t.work,Y),t.lenbits=Y.bits,L){e.msg="invalid literal/lengths set",t.mode=bn;break}if(t.distbits=6,t.distcode=t.distdyn,Y={bits:t.distbits},L=Zh(OF,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Y),t.distbits=Y.bits,L){e.msg="invalid distances set",t.mode=bn;break}if(t.mode=Hp,r===Op)break e;case Hp:t.mode=$p;case $p:if(l>=6&&A>=258){e.next_out=o,e.avail_out=A,e.next_in=i,e.avail_in=l,t.hold=d,t.bits=f,y9(e,m),o=e.next_out,s=e.output,A=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,d=t.hold,f=t.bits,t.mode===Wc&&(t.back=-1);break}for(t.back=0;w=t.lencode[d&(1<<t.lenbits)-1],y=w>>>24,N=w>>>16&255,C=w&65535,!(y<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(N&&(N&240)===0){for(E=y,U=N,D=C;w=t.lencode[D+((d&(1<<E+U)-1)>>E)],y=w>>>24,N=w>>>16&255,C=w&65535,!(E+y<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}d>>>=E,f-=E,t.back+=E}if(d>>>=y,f-=y,t.back+=y,t.length=C,N===0){t.mode=gB;break}if(N&32){t.back=-1,t.mode=Wc;break}if(N&64){e.msg="invalid literal/length code",t.mode=bn;break}t.extra=N&15,t.mode=fB;case fB:if(t.extra){for(I=t.extra;f<I;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=hB;case hB:for(;w=t.distcode[d&(1<<t.distbits)-1],y=w>>>24,N=w>>>16&255,C=w&65535,!(y<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if((N&240)===0){for(E=y,U=N,D=C;w=t.distcode[D+((d&(1<<E+U)-1)>>E)],y=w>>>24,N=w>>>16&255,C=w&65535,!(E+y<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}d>>>=E,f-=E,t.back+=E}if(d>>>=y,f-=y,t.back+=y,N&64){e.msg="invalid distance code",t.mode=bn;break}t.offset=C,t.extra=N&15,t.mode=mB;case mB:if(t.extra){for(I=t.extra;f<I;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=bn;break}t.mode=pB;case pB:if(A===0)break e;if(p=m-A,t.offset>p){if(p=t.offset-p,p>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=bn;break}p>t.wnext?(p-=t.wnext,v=t.wsize-p):v=t.wnext-p,p>t.length&&(p=t.length),g=t.window}else g=s,v=o-t.offset,p=t.length;p>A&&(p=A),A-=p,t.length-=p;do s[o++]=g[v++];while(--p);t.length===0&&(t.mode=$p);break;case gB:if(A===0)break e;s[o++]=t.length,A--,t.mode=$p;break;case dw:if(t.wrap){for(;f<32;){if(l===0)break e;l--,d|=a[i++]<<f,f+=8}if(m-=A,e.total_out+=m,t.total+=m,t.wrap&4&&m&&(e.adler=t.check=t.flags?Kl(t.check,s,m,o-m):Ry(t.check,s,m,o-m)),m=A,t.wrap&4&&(t.flags?d:wB(d))!==t.check){e.msg="incorrect data check",t.mode=bn;break}d=0,f=0}t.mode=xB;case xB:if(t.wrap&&t.flags){for(;f<32;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.wrap&4&&d!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=bn;break}d=0,f=0}t.mode=vB;case vB:L=E9;break e;case bn:L=HF;break e;case KF:return $F;case VF:default:return Vo}return e.next_out=o,e.avail_out=A,e.next_in=i,e.avail_in=l,t.hold=d,t.bits=f,(t.wsize||m!==e.avail_out&&t.mode<bn&&(t.mode<dw||r!==XN))&&YF(e,e.output,e.next_out,m-e.avail_out),h-=e.avail_in,m-=e.avail_out,e.total_in+=h,e.total_out+=m,t.total+=m,t.wrap&4&&m&&(e.adler=t.check=t.flags?Kl(t.check,s,m,e.next_out-m):Ry(t.check,s,m,e.next_out-m)),e.data_type=t.bits+(t.last?64:0)+(t.mode===Wc?128:0)+(t.mode===Hp||t.mode===Aw?256:0),(h===0&&m===0||r===XN)&&L===bu&&(L=k9),L},T9=e=>{if(Su(e))return Vo;let r=e.state;return r.window&&(r.window=null),e.state=null,bu},O9=(e,r)=>{if(Su(e))return Vo;const t=e.state;return(t.wrap&2)===0?Vo:(t.head=r,r.done=!1,bu)},H9=(e,r)=>{const t=r.length;let a,s,i;return Su(e)||(a=e.state,a.wrap!==0&&a.mode!==w0)?Vo:a.mode===w0&&(s=1,s=Ry(s,r,t,0),s!==a.check)?HF:(i=YF(e,r,t,t),i?(a.mode=KF,$F):(a.havedict=1,bu))};var $9=qF,K9=WF,V9=zF,z9=Q9,q9=GF,W9=M9,G9=T9,Y9=O9,X9=H9,J9="pako inflate (from Nodeca project)",Xc={inflateReset:$9,inflateReset2:K9,inflateResetKeep:V9,inflateInit:z9,inflateInit2:q9,inflate:W9,inflateEnd:G9,inflateGetHeader:Y9,inflateSetDictionary:X9,inflateInfo:J9};function Z9(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var eK=Z9;const XF=Object.prototype.toString,{Z_NO_FLUSH:tK,Z_FINISH:rK,Z_OK:xm,Z_STREAM_END:hw,Z_NEED_DICT:mw,Z_STREAM_ERROR:aK,Z_DATA_ERROR:bB,Z_MEM_ERROR:nK}=QF;function Om(e){this.options=RF.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(e&&e.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15)===0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v9,this.strm.avail_out=0;let t=Xc.inflateInit2(this.strm,r.windowBits);if(t!==xm)throw new Error(My[t]);if(this.header=new eK,Xc.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=Ty.string2buf(r.dictionary):XF.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(t=Xc.inflateSetDictionary(this.strm,r.dictionary),t!==xm)))throw new Error(My[t])}Om.prototype.push=function(e,r){const t=this.strm,a=this.options.chunkSize,s=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(r===~~r?o=r:o=r===!0?rK:tK,XF.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(a),t.next_out=0,t.avail_out=a),i=Xc.inflate(t,o),i===mw&&s&&(i=Xc.inflateSetDictionary(t,s),i===xm?i=Xc.inflate(t,o):i===bB&&(i=mw));t.avail_in>0&&i===hw&&t.state.wrap>0&&e[t.next_in]!==0;)Xc.inflateReset(t),i=Xc.inflate(t,o);switch(i){case aK:case bB:case mw:case nK:return this.onEnd(i),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||i===hw))if(this.options.to==="string"){let A=Ty.utf8border(t.output,t.next_out),d=t.next_out-A,f=Ty.buf2string(t.output,A);t.next_out=d,t.avail_out=a-d,d&&t.output.set(t.output.subarray(A,A+d),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(i===xm&&l===0)){if(i===hw)return i=Xc.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Om.prototype.onData=function(e){this.chunks.push(e)};Om.prototype.onEnd=function(e){e===xm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=RF.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function sK(e,r){const t=new Om(r);if(t.push(e),t.err)throw t.msg||My[t.err];return t.result}var iK=Om,oK=sK,lK={Inflate:iK,inflate:oK};const{Inflate:cK,inflate:AK}=lK;var jB=cK,dK=AK;const JF=[];for(let e=0;e<256;e++){let r=e;for(let t=0;t<8;t++)r&1?r=3988292384^r>>>1:r=r>>>1;JF[e]=r}const NB=4294967295;function uK(e,r,t){let a=e;for(let s=0;s<t;s++)a=JF[(a^r[s])&255]^a>>>8;return a}function fK(e,r){return(uK(NB,e,r)^NB)>>>0}function BB(e,r,t){const a=e.readUint32(),s=fK(new Uint8Array(e.buffer,e.byteOffset+e.offset-r-4,r),r);if(s!==a)throw new Error(`CRC mismatch for chunk ${t}. Expected ${a}, found ${s}`)}function ZF(e,r,t){for(let a=0;a<t;a++)r[a]=e[a]}function e3(e,r,t,a){let s=0;for(;s<a;s++)r[s]=e[s];for(;s<t;s++)r[s]=e[s]+r[s-a]&255}function t3(e,r,t,a){let s=0;if(t.length===0)for(;s<a;s++)r[s]=e[s];else for(;s<a;s++)r[s]=e[s]+t[s]&255}function r3(e,r,t,a,s){let i=0;if(t.length===0){for(;i<s;i++)r[i]=e[i];for(;i<a;i++)r[i]=e[i]+(r[i-s]>>1)&255}else{for(;i<s;i++)r[i]=e[i]+(t[i]>>1)&255;for(;i<a;i++)r[i]=e[i]+(r[i-s]+t[i]>>1)&255}}function a3(e,r,t,a,s){let i=0;if(t.length===0){for(;i<s;i++)r[i]=e[i];for(;i<a;i++)r[i]=e[i]+r[i-s]&255}else{for(;i<s;i++)r[i]=e[i]+t[i]&255;for(;i<a;i++)r[i]=e[i]+hK(r[i-s],t[i],t[i-s])&255}}function hK(e,r,t){const a=e+r-t,s=Math.abs(a-e),i=Math.abs(a-r),o=Math.abs(a-t);return s<=i&&s<=o?e:i<=o?r:t}function mK(e,r,t,a,s,i){switch(e){case 0:ZF(r,t,s);break;case 1:e3(r,t,s,i);break;case 2:t3(r,t,a,s);break;case 3:r3(r,t,a,s,i);break;case 4:a3(r,t,a,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const pK=new Uint16Array([255]),gK=new Uint8Array(pK.buffer),xK=gK[0]===255;function vK(e){const{data:r,width:t,height:a,channels:s,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,A=new Uint8Array(a*t*l);let d=0;for(let f=0;f<7;f++){const h=o[f],m=Math.ceil((t-h.x)/h.xStep),p=Math.ceil((a-h.y)/h.yStep);if(m<=0||p<=0)continue;const v=m*l,g=new Uint8Array(v);for(let w=0;w<p;w++){const y=r[d++],N=r.subarray(d,d+v);d+=v;const C=new Uint8Array(v);mK(y,N,C,g,v,l),g.set(C);for(let E=0;E<m;E++){const U=h.x+E*h.xStep,D=h.y+w*h.yStep;if(!(U>=t||D>=a))for(let k=0;k<l;k++)A[(D*t+U)*l+k]=C[E*l+k]}}}if(i===16){const f=new Uint16Array(A.buffer);if(xK)for(let h=0;h<f.length;h++)f[h]=wK(f[h]);return f}else return A}function wK(e){return(e&255)<<8|e>>8&255}const yK=new Uint16Array([255]),bK=new Uint8Array(yK.buffer),jK=bK[0]===255,NK=new Uint8Array(0);function CB(e){const{data:r,width:t,height:a,channels:s,depth:i}=e,o=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*t),A=new Uint8Array(a*l);let d=NK,f=0,h,m;for(let p=0;p<a;p++){switch(h=r.subarray(f+1,f+1+l),m=A.subarray(p*l,(p+1)*l),r[f]){case 0:ZF(h,m,l);break;case 1:e3(h,m,l,o);break;case 2:t3(h,m,d,l);break;case 3:r3(h,m,d,l,o);break;case 4:a3(h,m,d,l,o);break;default:throw new Error(`Unsupported filter: ${r[f]}`)}d=m,f+=l+1}if(i===16){const p=new Uint16Array(A.buffer);if(jK)for(let v=0;v<p.length;v++)p[v]=BK(p[v]);return p}else return A}function BK(e){return(e&255)<<8|e>>8&255}const Ig=Uint8Array.of(137,80,78,71,13,10,26,10);function SB(e){if(!CK(e.readBytes(Ig.length)))throw new Error("wrong PNG signature")}function CK(e){if(e.length<Ig.length)return!1;for(let r=0;r<Ig.length;r++)if(e[r]!==Ig[r])return!1;return!0}const SK="tEXt",_K=0,n3=new TextDecoder("latin1");function EK(e){if(kK(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const FK=/^[\u0000-\u00FF]*$/;function kK(e){if(!FK.test(e))throw new Error("invalid latin1 text")}function DK(e,r,t){const a=s3(r);e[a]=UK(r,t-a.length-1)}function s3(e){for(e.mark();e.readByte()!==_K;);const r=e.offset;e.reset();const t=n3.decode(e.readBytes(r-e.offset-1));return e.skip(1),EK(t),t}function UK(e,r){return n3.decode(e.readBytes(r))}const co={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},pw={UNKNOWN:-1,DEFLATE:0},_B={UNKNOWN:-1,ADAPTIVE:0},gw={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Kp={NONE:0,BACKGROUND:1,PREVIOUS:2},xw={SOURCE:0,OVER:1};class LK extends jb{constructor(t,a={}){super(t);pt(this,"_checkCrc");pt(this,"_inflator");pt(this,"_png");pt(this,"_apng");pt(this,"_end");pt(this,"_hasPalette");pt(this,"_palette");pt(this,"_hasTransparency");pt(this,"_transparency");pt(this,"_compressionMethod");pt(this,"_filterMethod");pt(this,"_interlaceMethod");pt(this,"_colorType");pt(this,"_isAnimated");pt(this,"_numberOfFrames");pt(this,"_numberOfPlays");pt(this,"_frames");pt(this,"_writingDataChunks");const{checkCrc:s=!1}=a;this._checkCrc=s,this._inflator=new jB,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=pw.UNKNOWN,this._filterMethod=_B.UNKNOWN,this._interlaceMethod=gw.UNKNOWN,this._colorType=co.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(SB(this);!this._end;){const t=this.readUint32(),a=this.readChars(4);this.decodeChunk(t,a)}return this.decodeImage(),this._png}decodeApng(){for(SB(this);!this._end;){const t=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(t,a)}return this.decodeApngImage(),this._apng}decodeChunk(t,a){const s=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case SK:DK(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?BB(this,t+4,a):this.skip(4)}decodeApngChunk(t,a){const s=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,a),this.offset=s+t;break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?BB(this,t+4,a):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=IK(this.readUint8());const a=this.readUint8();this._colorType=a;let s;switch(a){case co.GREYSCALE:s=1;break;case co.TRUECOLOUR:s=3;break;case co.INDEXED_COLOUR:s=1;break;case co.GREYSCALE_ALPHA:s=2;break;case co.TRUECOLOUR_ALPHA:s=4;break;case co.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==pw.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const a=t/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<a;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const a=t,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let a=t,s=this.offset+this.byteOffset;if(s+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case co.GREYSCALE:case co.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let a=0;a<t/2;a++)this._transparency[a]=this.readUint16();break}case co.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let a=0;for(;a<t;a++){const s=this.readByte();this._palette[a].push(s)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case co.UNKNOWN:case co.GREYSCALE_ALPHA:case co.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const a=s3(this),s=this.readUint8();if(s!==pw.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(t-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:dK(i)}}decodepHYs(){const t=this.readUint32(),a=this.readUint32(),s=this.readByte();this._png.resolution={x:t,y:a,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const a={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(t);if(s){if(s.data=CB({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)a.data=s.data;else{const i=this._apng.frames.at(t-1);this.disposeFrame(s,i,a),this.addFrameDataToCanvas(a,s)}this._apng.frames.push(a)}}return this._apng}disposeFrame(t,a,s){switch(t.disposeOp){case Kp.NONE:break;case Kp.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*t.width+o)*this._png.channels;for(let A=0;A<this._png.channels;A++)s.data[l+A]=0}break;case Kp.PREVIOUS:s.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,a){const s=1<<this._png.depth,i=(o,l)=>{const A=((o+a.yOffset)*this._png.width+a.xOffset+l)*this._png.channels,d=(o*a.width+l)*this._png.channels;return{index:A,frameIndex:d}};switch(a.blendOp){case xw.SOURCE:for(let o=0;o<a.height;o++)for(let l=0;l<a.width;l++){const{index:A,frameIndex:d}=i(o,l);for(let f=0;f<this._png.channels;f++)t.data[A+f]=a.data[d+f]}break;case xw.OVER:for(let o=0;o<a.height;o++)for(let l=0;l<a.width;l++){const{index:A,frameIndex:d}=i(o,l);for(let f=0;f<this._png.channels;f++){const h=a.data[d+this._png.channels-1]/s,m=f%(this._png.channels-1)===0?1:a.data[d+f],p=Math.floor(h*m+(1-h)*t.data[A+f]);t.data[A+f]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var a;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((a=this._frames)==null?void 0:a.at(0)).data:this._inflator.result;if(this._filterMethod!==_B.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===gw.NO_INTERLACE)this._png.data=CB({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===gw.ADAM7)this._png.data=vK({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,a=this._frames.at(-1);a?a.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Kp.NONE,blendOp:xw.SOURCE,data:t}),this._inflator=new jB,this._writingDataChunks=!1}}function IK(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var EB;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(EB||(EB={}));function PK(e,r){return new LK(e,r).decode()}var Dr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function vw(){Dr.console&&typeof Dr.console.log=="function"&&Dr.console.log.apply(Dr.console,arguments)}var Za={log:vw,warn:function(e){Dr.console&&(typeof Dr.console.warn=="function"?Dr.console.warn.apply(Dr.console,arguments):vw.call(null,arguments))},error:function(e){Dr.console&&(typeof Dr.console.error=="function"?Dr.console.error.apply(Dr.console,arguments):vw(e))}};function ww(e,r,t){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){Xd(a.response,r,t)},a.onerror=function(){Za.error("could not download file")},a.send()}function FB(e){var r=new XMLHttpRequest;r.open("HEAD",e,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function Vp(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(r)}}var Xd=Dr.saveAs||((typeof window>"u"?"undefined":Ha(window))!=="object"||window!==Dr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,r,t){var a=Dr.URL||Dr.webkitURL,s=document.createElement("a");r=r||e.name||"download",s.download=r,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?FB(s.href)?ww(e,r,t):Vp(s,s.target="_blank"):Vp(s)):(s.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(s.href)},4e4),setTimeout(function(){Vp(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,r,t){if(r=r||e.name||"download",typeof e=="string")if(FB(e))ww(e,r,t);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){Vp(a)})}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:Ha(i)!=="object"&&(Za.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(e,t),r)}:function(e,r,t,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return ww(e,r,t);var s=e.type==="application/octet-stream",i=/constructor/i.test(Dr.HTMLElement)||Dr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":Ha(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=f:location=f,a=null},l.readAsDataURL(e)}else{var A=Dr.URL||Dr.webkitURL,d=A.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout(function(){A.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function i3(e){var r;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],a=0;a<t.length;a++){var s=t[a].re,i=t[a].process,o=s.exec(e);o&&(r=i(o),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),A=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),A.length==1&&(A="0"+A),d.length==1&&(d="0"+d),"#"+l+A+d}}var Pg=Dr.atob.bind(Dr),kB=Dr.btoa.bind(Dr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function yw(e,r){var t=e[0],a=e[1],s=e[2],i=e[3];t=ai(t,a,s,i,r[0],7,-680876936),i=ai(i,t,a,s,r[1],12,-389564586),s=ai(s,i,t,a,r[2],17,606105819),a=ai(a,s,i,t,r[3],22,-1044525330),t=ai(t,a,s,i,r[4],7,-176418897),i=ai(i,t,a,s,r[5],12,1200080426),s=ai(s,i,t,a,r[6],17,-1473231341),a=ai(a,s,i,t,r[7],22,-45705983),t=ai(t,a,s,i,r[8],7,1770035416),i=ai(i,t,a,s,r[9],12,-1958414417),s=ai(s,i,t,a,r[10],17,-42063),a=ai(a,s,i,t,r[11],22,-1990404162),t=ai(t,a,s,i,r[12],7,1804603682),i=ai(i,t,a,s,r[13],12,-40341101),s=ai(s,i,t,a,r[14],17,-1502002290),t=ni(t,a=ai(a,s,i,t,r[15],22,1236535329),s,i,r[1],5,-165796510),i=ni(i,t,a,s,r[6],9,-1069501632),s=ni(s,i,t,a,r[11],14,643717713),a=ni(a,s,i,t,r[0],20,-373897302),t=ni(t,a,s,i,r[5],5,-701558691),i=ni(i,t,a,s,r[10],9,38016083),s=ni(s,i,t,a,r[15],14,-660478335),a=ni(a,s,i,t,r[4],20,-405537848),t=ni(t,a,s,i,r[9],5,568446438),i=ni(i,t,a,s,r[14],9,-1019803690),s=ni(s,i,t,a,r[3],14,-187363961),a=ni(a,s,i,t,r[8],20,1163531501),t=ni(t,a,s,i,r[13],5,-1444681467),i=ni(i,t,a,s,r[2],9,-51403784),s=ni(s,i,t,a,r[7],14,1735328473),t=si(t,a=ni(a,s,i,t,r[12],20,-1926607734),s,i,r[5],4,-378558),i=si(i,t,a,s,r[8],11,-2022574463),s=si(s,i,t,a,r[11],16,1839030562),a=si(a,s,i,t,r[14],23,-35309556),t=si(t,a,s,i,r[1],4,-1530992060),i=si(i,t,a,s,r[4],11,1272893353),s=si(s,i,t,a,r[7],16,-155497632),a=si(a,s,i,t,r[10],23,-1094730640),t=si(t,a,s,i,r[13],4,681279174),i=si(i,t,a,s,r[0],11,-358537222),s=si(s,i,t,a,r[3],16,-722521979),a=si(a,s,i,t,r[6],23,76029189),t=si(t,a,s,i,r[9],4,-640364487),i=si(i,t,a,s,r[12],11,-421815835),s=si(s,i,t,a,r[15],16,530742520),t=ii(t,a=si(a,s,i,t,r[2],23,-995338651),s,i,r[0],6,-198630844),i=ii(i,t,a,s,r[7],10,1126891415),s=ii(s,i,t,a,r[14],15,-1416354905),a=ii(a,s,i,t,r[5],21,-57434055),t=ii(t,a,s,i,r[12],6,1700485571),i=ii(i,t,a,s,r[3],10,-1894986606),s=ii(s,i,t,a,r[10],15,-1051523),a=ii(a,s,i,t,r[1],21,-2054922799),t=ii(t,a,s,i,r[8],6,1873313359),i=ii(i,t,a,s,r[15],10,-30611744),s=ii(s,i,t,a,r[6],15,-1560198380),a=ii(a,s,i,t,r[13],21,1309151649),t=ii(t,a,s,i,r[4],6,-145523070),i=ii(i,t,a,s,r[11],10,-1120210379),s=ii(s,i,t,a,r[2],15,718787259),a=ii(a,s,i,t,r[9],21,-343485551),e[0]=rd(t,e[0]),e[1]=rd(a,e[1]),e[2]=rd(s,e[2]),e[3]=rd(i,e[3])}function Bx(e,r,t,a,s,i){return r=rd(rd(r,e),rd(a,i)),rd(r<<s|r>>>32-s,t)}function ai(e,r,t,a,s,i,o){return Bx(r&t|~r&a,e,r,s,i,o)}function ni(e,r,t,a,s,i,o){return Bx(r&a|t&~a,e,r,s,i,o)}function si(e,r,t,a,s,i,o){return Bx(r^t^a,e,r,s,i,o)}function ii(e,r,t,a,s,i,o){return Bx(t^(r|~a),e,r,s,i,o)}function o3(e){var r,t=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=e.length;r+=64)yw(a,QK(e.substring(r-64,r)));e=e.substring(r-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<e.length;r++)s[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(s[r>>2]|=128<<(r%4<<3),r>55)for(yw(a,s),r=0;r<16;r++)s[r]=0;return s[14]=8*t,yw(a,s),a}function QK(e){var r,t=[];for(r=0;r<64;r+=4)t[r>>2]=e.charCodeAt(r)+(e.charCodeAt(r+1)<<8)+(e.charCodeAt(r+2)<<16)+(e.charCodeAt(r+3)<<24);return t}var DB="0123456789abcdef".split("");function RK(e){for(var r="",t=0;t<4;t++)r+=DB[e>>8*t+4&15]+DB[e>>8*t&15];return r}function MK(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Oy(e){return o3(e).map(MK).join("")}var TK=(function(e){for(var r=0;r<e.length;r++)e[r]=RK(e[r]);return e.join("")})(o3("hello"))!="5d41402abc4b2a76b9719d911017c592";function rd(e,r){if(TK){var t=(65535&e)+(65535&r);return(e>>16)+(r>>16)+(t>>16)<<16|65535&t}return e+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Hy(e,r){var t,a,s,i;if(e!==t){for(var o=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),l=[],A=0;A<256;A++)l[A]=A;var d=0;for(A=0;A<256;A++){var f=l[A];d=(d+f+o.charCodeAt(A))%256,l[A]=l[d],l[d]=f}t=e,a=l}else l=a;var h=r.length,m=0,p=0,v="";for(A=0;A<h;A++)p=(p+(f=l[m=(m+1)%256]))%256,l[m]=l[p],l[p]=f,o=l[(l[m]+l[p])%256],v+=String.fromCharCode(r.charCodeAt(A)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var UB={print:4,modify:8,copy:16,"annot-forms":32};function xf(e,r,t,a){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(UB.perm!==void 0)throw new Error("Invalid permission: "+l);s+=UB[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(r+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=Oy(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=Hy(this.encryptionKey,this.padding)}function vf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var r="",t=e.length,a=0;a<t;a++){var s=e.charCodeAt(a);r+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[a]}return r}function LB(e){if(Ha(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(t,a,s){if(s=s||!1,typeof t!="string"||typeof a!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(t)||(r[t]={});var i=Math.random().toString(35);return r[t][i]=[a,!!s],i},this.unsubscribe=function(t){for(var a in r)if(r[a][t])return delete r[a][t],Object.keys(r[a]).length===0&&delete r[a],!0;return!1},this.publish=function(t){if(r.hasOwnProperty(t)){var a=Array.prototype.slice.call(arguments,1),s=[];for(var i in r[t]){var o=r[t][i];try{o[0].apply(e,a)}catch(l){Dr.console&&Za.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function y0(e){if(!(this instanceof y0))return new y0(e);var r="opacity,stroke-opacity".split(",");for(var t in e)e.hasOwnProperty(t)&&r.indexOf(t)>=0&&(this[t]=e[t]);this.id="",this.objectNumber=-1}function l3(e,r){this.gState=e,this.matrix=r,this.id="",this.objectNumber=-1}function Jd(e,r,t,a,s){if(!(this instanceof Jd))return new Jd(e,r,t,a,s);this.type=e==="axial"?2:3,this.coords=r,this.colors=t,l3.call(this,a,s)}function bf(e,r,t,a,s){if(!(this instanceof bf))return new bf(e,r,t,a,s);this.boundingBox=e,this.xStep=r,this.yStep=t,this.stream="",this.cloneIndex=0,l3.call(this,a,s)}function dr(e){var r,t=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,A=16,d="S",f=null;Ha(e=e||{})==="object"&&(t=e.orientation,a=e.unit||a,s=e.format||s,i=e.compress||e.compressPdf||i,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(r=e.precision),e.floatPrecision!==void 0&&(A=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),a=a||"mm",t=(""+(t||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=LB;var v="1.3",g=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(P){v=P};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return w};var y=p.__private__.getPageFormat=function(P){return w[P]};s=s||"a4";var N="compat",C="advanced",E=N;function U(){this.saveGraphicsState(),ie(new er(bt,0,0,-bt,0,Ui()*bt).toString()+" cm"),this.setFontSize(this.getFontSize()/bt),d="n",E=C}function D(){this.restoreGraphicsState(),d="S",E=N}var k=p.__private__.combineFontStyleAndFontWeight=function(P,se){if(P=="bold"&&se=="normal"||P=="bold"&&se==400||P=="normal"&&se=="italic"||P=="bold"&&se=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return se&&(P=se==400||se==="normal"?P==="italic"?"italic":"normal":se!=700&&se!=="bold"||P!=="normal"?(se==700?"bold":se)+""+P:"bold"),P};p.advancedAPI=function(P){var se=E===N;return se&&U.call(this),typeof P!="function"||(P(this),se&&D.call(this)),this},p.compatAPI=function(P){var se=E===C;return se&&D.call(this),typeof P!="function"||(P(this),se&&U.call(this)),this},p.isAdvancedAPI=function(){return E===C};var L,_=function(P){if(E!==C)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Y=p.roundToPrecision=p.__private__.roundToPrecision=function(P,se){var pe=r||se;if(isNaN(P)||isNaN(pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(pe).replace(/0+$/,"")};L=p.hpf=p.__private__.hpf=typeof A=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(P,A)}:A==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(P,16)};var I=p.f2=p.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return Y(P,2)},$=p.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return Y(P,3)},J=p.scale=p.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return E===N?P*bt:E===C?P:void 0},M=function(P){return J((function(se){return E===N?Ui()-se:E===C?se:void 0})(P))};p.__private__.setPrecision=p.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(r=parseInt(P,10))};var re,K="00000000000000000000000000000000",G=p.__private__.getFileId=function(){return K},z=p.__private__.setFileId=function(P){return K=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(ia=new xf(f.userPermissions,f.userPassword,f.ownerPassword,K)),K};p.setFileId=function(P){return z(P),this},p.getFileId=function(){return G()};var Z=p.__private__.convertDateToPDFDate=function(P){var se=P.getTimezoneOffset(),pe=se<0?"+":"-",be=Math.floor(Math.abs(se/60)),_e=Math.abs(se%60),Je=[pe,te(be),"'",te(_e),"'"].join("");return["D:",P.getFullYear(),te(P.getMonth()+1),te(P.getDate()),te(P.getHours()),te(P.getMinutes()),te(P.getSeconds()),Je].join("")},Ae=p.__private__.convertPDFDateToDate=function(P){var se=parseInt(P.substr(2,4),10),pe=parseInt(P.substr(6,2),10)-1,be=parseInt(P.substr(8,2),10),_e=parseInt(P.substr(10,2),10),Je=parseInt(P.substr(12,2),10),ot=parseInt(P.substr(14,2),10);return new Date(se,pe,be,_e,Je,ot,0)},ee=p.__private__.setCreationDate=function(P){var se;if(P===void 0&&(P=new Date),P instanceof Date)se=Z(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");se=P}return re=se},R=p.__private__.getCreationDate=function(P){var se=re;return P==="jsDate"&&(se=Ae(re)),se};p.setCreationDate=function(P){return ee(P),this},p.getCreationDate=function(P){return R(P)};var q,te=p.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},F=p.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},X=0,H=[],V=[],ae=0,fe=[],ve=[],Be=!1,ke=V;p.__private__.setCustomOutputDestination=function(P){Be=!0,ke=P};var xe=function(P){Be||(ke=P)};p.__private__.resetCustomOutputDestination=function(){Be=!1,ke=V};var ie=p.__private__.out=function(P){return P=P.toString(),ae+=P.length+1,ke.push(P),ke},lt=p.__private__.write=function(P){return ie(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},mt=p.__private__.getArrayBuffer=function(P){for(var se=P.length,pe=new ArrayBuffer(se),be=new Uint8Array(pe);se--;)be[se]=P.charCodeAt(se);return pe},at=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return at};var Ee=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(P){return Ee=E===C?P/bt:P,this};var At,st=p.__private__.getFontSize=p.getFontSize=function(){return E===N?Ee:Ee*bt},Mt=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(P){return Mt=P,this},p.__private__.getR2L=p.getR2L=function(){return Mt};var kt,Nt=p.__private__.setZoomMode=function(P){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))At=P;else if(isNaN(P)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');At=P}else At=parseInt(P,10)};p.__private__.getZoomMode=function(){return At};var ut,Pt=p.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');kt=P};p.__private__.getPageMode=function(){return kt};var Dt=p.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');ut=P};p.__private__.getLayoutMode=function(){return ut},p.__private__.setDisplayMode=p.setDisplayMode=function(P,se,pe){return Nt(P),Dt(se),Pt(pe),this};var Et={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(P){if(Object.keys(Et).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Et[P]},p.__private__.getDocumentProperties=function(){return Et},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(P){for(var se in Et)Et.hasOwnProperty(se)&&P[se]&&(Et[se]=P[se]);return this},p.__private__.setDocumentProperty=function(P,se){if(Object.keys(Et).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Et[P]=se};var vt,bt,St,Tr,jr,Qt={},gr={},Wr=[],jt={},xr={},Ar={},Xr={},ga=null,Ze=0,We=[],Me=new LB(p),Fr=e.hotfixes||[],yt={},rr={},ca=[],er=function P(se,pe,be,_e,Je,ot){if(!(this instanceof P))return new P(se,pe,be,_e,Je,ot);isNaN(se)&&(se=1),isNaN(pe)&&(pe=0),isNaN(be)&&(be=0),isNaN(_e)&&(_e=1),isNaN(Je)&&(Je=0),isNaN(ot)&&(ot=0),this._matrix=[se,pe,be,_e,Je,ot]};Object.defineProperty(er.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(er.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(er.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(er.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(er.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(er.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(er.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(er.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(er.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(er.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(er.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(er.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(er.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(er.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(er.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(er.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),er.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(P)},er.prototype.multiply=function(P){var se=P.sx*this.sx+P.shy*this.shx,pe=P.sx*this.shy+P.shy*this.sy,be=P.shx*this.sx+P.sy*this.shx,_e=P.shx*this.shy+P.sy*this.sy,Je=P.tx*this.sx+P.ty*this.shx+this.tx,ot=P.tx*this.shy+P.ty*this.sy+this.ty;return new er(se,pe,be,_e,Je,ot)},er.prototype.decompose=function(){var P=this.sx,se=this.shy,pe=this.shx,be=this.sy,_e=this.tx,Je=this.ty,ot=Math.sqrt(P*P+se*se),Gt=(P/=ot)*pe+(se/=ot)*be;pe-=P*Gt,be-=se*Gt;var nr=Math.sqrt(pe*pe+be*be);return Gt/=nr,P*(be/=nr)<se*(pe/=nr)&&(P=-P,se=-se,Gt=-Gt,ot=-ot),{scale:new er(ot,0,0,nr,0,0),translate:new er(1,0,0,1,_e,Je),rotate:new er(P,se,-se,P,0,0),skew:new er(1,0,Gt,1,0,0)}},er.prototype.toString=function(P){return this.join(" ")},er.prototype.inversed=function(){var P=this.sx,se=this.shy,pe=this.shx,be=this.sy,_e=this.tx,Je=this.ty,ot=1/(P*be-se*pe),Gt=be*ot,nr=-se*ot,Sr=-pe*ot,_r=P*ot;return new er(Gt,nr,Sr,_r,-Gt*_e-Sr*Je,-nr*_e-_r*Je)},er.prototype.applyToPoint=function(P){var se=P.x*this.sx+P.y*this.shx+this.tx,pe=P.x*this.shy+P.y*this.sy+this.ty;return new Bo(se,pe)},er.prototype.applyToRectangle=function(P){var se=this.applyToPoint(P),pe=this.applyToPoint(new Bo(P.x+P.w,P.y+P.h));return new bc(se.x,se.y,pe.x-se.x,pe.y-se.y)},er.prototype.clone=function(){var P=this.sx,se=this.shy,pe=this.shx,be=this.sy,_e=this.tx,Je=this.ty;return new er(P,se,pe,be,_e,Je)},p.Matrix=er;var Nn=p.matrixMult=function(P,se){return se.multiply(P)},gs=new er(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=gs;var hn=function(P,se){if(!xr[P]){var pe=(se instanceof Jd?"Sh":"P")+(Object.keys(jt).length+1).toString(10);se.id=pe,xr[P]=pe,jt[pe]=se,Me.publish("addPattern",se)}};p.ShadingPattern=Jd,p.TilingPattern=bf,p.addShadingPattern=function(P,se){return _("addShadingPattern()"),hn(P,se),this},p.beginTilingPattern=function(P){_("beginTilingPattern()"),Fi(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},p.endTilingPattern=function(P,se){_("endTilingPattern()"),se.stream=ve[q].join(`
`),hn(P,se),Me.publish("endTilingPattern",se),ca.pop().restore()};var ns,ft=p.__private__.newObject=function(){var P=Va();return Ya(P,!0),P},Va=p.__private__.newObjectDeferred=function(){return X++,H[X]=function(){return ae},X},Ya=function(P,se){return se=typeof se=="boolean"&&se,H[P]=ae,se&&ie(P+" 0 obj"),P},Ns=p.__private__.newAdditionalObject=function(){var P={objId:Va(),content:""};return fe.push(P),P},fi=Va(),Xa=Va(),$e=p.__private__.decodeColorString=function(P){var se=P.split(" ");if(se.length!==2||se[1]!=="g"&&se[1]!=="G")se.length!==5||se[4]!=="k"&&se[4]!=="K"||(se=[(1-se[0])*(1-se[3]),(1-se[1])*(1-se[3]),(1-se[2])*(1-se[3]),"r"]);else{var pe=parseFloat(se[0]);se=[pe,pe,pe,"r"]}for(var be="#",_e=0;_e<3;_e++)be+=("0"+Math.floor(255*parseFloat(se[_e])).toString(16)).slice(-2);return be},et=p.__private__.encodeColorString=function(P){var se;typeof P=="string"&&(P={ch1:P});var pe=P.ch1,be=P.ch2,_e=P.ch3,Je=P.ch4,ot=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof pe=="string"&&pe.charAt(0)!=="#"){var Gt=new i3(pe);if(Gt.ok)pe=Gt.toHex();else if(!/^\d*\.?\d*$/.test(pe))throw new Error('Invalid color "'+pe+'" passed to jsPDF.encodeColorString.')}if(typeof pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(pe)&&(pe="#"+pe[1]+pe[1]+pe[2]+pe[2]+pe[3]+pe[3]),typeof pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(pe)){var nr=parseInt(pe.substr(1),16);pe=nr>>16&255,be=nr>>8&255,_e=255&nr}if(be===void 0||Je===void 0&&pe===be&&be===_e)se=typeof pe=="string"?pe+" "+ot[0]:P.precision===2?I(pe/255)+" "+ot[0]:$(pe/255)+" "+ot[0];else if(Je===void 0||Ha(Je)==="object"){if(Je&&!isNaN(Je.a)&&Je.a===0)return["1.","1.","1.",ot[1]].join(" ");se=typeof pe=="string"?[pe,be,_e,ot[1]].join(" "):P.precision===2?[I(pe/255),I(be/255),I(_e/255),ot[1]].join(" "):[$(pe/255),$(be/255),$(_e/255),ot[1]].join(" ")}else se=typeof pe=="string"?[pe,be,_e,Je,ot[2]].join(" "):P.precision===2?[I(pe),I(be),I(_e),I(Je),ot[2]].join(" "):[$(pe),$(be),$(_e),$(Je),ot[2]].join(" ");return se},Ft=p.__private__.getFilters=function(){return o},it=p.__private__.putStream=function(P){var se=(P=P||{}).data||"",pe=P.filters||Ft(),be=P.alreadyAppliedFilters||[],_e=P.addLength1||!1,Je=se.length,ot=P.objectId,Gt=function(Kn){return Kn};if(f!==null&&ot===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Gt=ia.encryptor(ot,0));var nr={};pe===!0&&(pe=["FlateEncode"]);var Sr=P.additionalKeyValues||[],_r=(nr=dr.API.processDataByFilters!==void 0?dr.API.processDataByFilters(se,pe):{data:se,reverseChain:[]}).reverseChain+(Array.isArray(be)?be.join(" "):be.toString());if(nr.data.length!==0&&(Sr.push({key:"Length",value:nr.data.length}),_e===!0&&Sr.push({key:"Length1",value:Je})),_r.length!=0)if(_r.split("/").length-1==1)Sr.push({key:"Filter",value:_r});else{Sr.push({key:"Filter",value:"["+_r+"]"});for(var va=0;va<Sr.length;va+=1)if(Sr[va].key==="DecodeParms"){for(var cn=[],Ln=0;Ln<nr.reverseChain.split("/").length-1;Ln+=1)cn.push("null");cn.push(Sr[va].value),Sr[va].value="["+cn.join(" ")+"]"}}ie("<<");for(var za=0;za<Sr.length;za++)ie("/"+Sr[za].key+" "+Sr[za].value);ie(">>"),nr.data.length!==0&&(ie("stream"),ie(Gt(nr.data)),ie("endstream"))},Ht=p.__private__.putPage=function(P){var se=P.number,pe=P.data,be=P.objId,_e=P.contentsObjId;Ya(be,!0),ie("<</Type /Page"),ie("/Parent "+P.rootDictionaryObjId+" 0 R"),ie("/Resources "+P.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(L(P.mediaBox.bottomLeftX))+" "+parseFloat(L(P.mediaBox.bottomLeftY))+" "+L(P.mediaBox.topRightX)+" "+L(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&ie("/CropBox ["+L(P.cropBox.bottomLeftX)+" "+L(P.cropBox.bottomLeftY)+" "+L(P.cropBox.topRightX)+" "+L(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&ie("/BleedBox ["+L(P.bleedBox.bottomLeftX)+" "+L(P.bleedBox.bottomLeftY)+" "+L(P.bleedBox.topRightX)+" "+L(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&ie("/TrimBox ["+L(P.trimBox.bottomLeftX)+" "+L(P.trimBox.bottomLeftY)+" "+L(P.trimBox.topRightX)+" "+L(P.trimBox.topRightY)+"]"),P.artBox!==null&&ie("/ArtBox ["+L(P.artBox.bottomLeftX)+" "+L(P.artBox.bottomLeftY)+" "+L(P.artBox.topRightX)+" "+L(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&ie("/UserUnit "+P.userUnit),Me.publish("putPage",{objId:be,pageContext:We[se],pageNumber:se,page:pe}),ie("/Contents "+_e+" 0 R"),ie(">>"),ie("endobj");var Je=pe.join(`
`);return E===C&&(Je+=`
Q`),Ya(_e,!0),it({data:Je,filters:Ft(),objectId:_e}),ie("endobj"),be},mr=p.__private__.putPages=function(){var P,se,pe=[];for(P=1;P<=Ze;P++)We[P].objId=Va(),We[P].contentsObjId=Va();for(P=1;P<=Ze;P++)pe.push(Ht({number:P,data:ve[P],objId:We[P].objId,contentsObjId:We[P].contentsObjId,mediaBox:We[P].mediaBox,cropBox:We[P].cropBox,bleedBox:We[P].bleedBox,trimBox:We[P].trimBox,artBox:We[P].artBox,userUnit:We[P].userUnit,rootDictionaryObjId:fi,resourceDictionaryObjId:Xa}));Ya(fi,!0),ie("<</Type /Pages");var be="/Kids [";for(se=0;se<Ze;se++)be+=pe[se]+" 0 R ";ie(be+"]"),ie("/Count "+Ze),ie(">>"),ie("endobj"),Me.publish("postPutPages")},$t=function(P){Me.publish("putFont",{font:P,out:ie,newObject:ft,putStream:it}),P.isAlreadyPutted!==!0&&(P.objectNumber=ft(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+vf(P.postScriptName)),ie("/Subtype /Type1"),typeof P.encoding=="string"&&ie("/Encoding /"+P.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},Ur=function(P){P.objectNumber=ft();var se=[];se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Form"}),se.push({key:"BBox",value:"["+[L(P.x),L(P.y),L(P.x+P.width),L(P.y+P.height)].join(" ")+"]"}),se.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var pe=P.pages[1].join(`
`);it({data:pe,additionalKeyValues:se,objectId:P.objectNumber}),ie("endobj")},Kr=function(P,se){se||(se=21);var pe=ft(),be=(function(ot,Gt){var nr,Sr=[],_r=1/(Gt-1);for(nr=0;nr<1;nr+=_r)Sr.push(nr);if(Sr.push(1),ot[0].offset!=0){var va={offset:0,color:ot[0].color};ot.unshift(va)}if(ot[ot.length-1].offset!=1){var cn={offset:1,color:ot[ot.length-1].color};ot.push(cn)}for(var Ln="",za=0,Kn=0;Kn<Sr.length;Kn++){for(nr=Sr[Kn];nr>ot[za+1].offset;)za++;var Cn=ot[za].offset,xs=(nr-Cn)/(ot[za+1].offset-Cn),Li=ot[za].color,qs=ot[za+1].color;Ln+=F(Math.round((1-xs)*Li[0]+xs*qs[0]).toString(16))+F(Math.round((1-xs)*Li[1]+xs*qs[1]).toString(16))+F(Math.round((1-xs)*Li[2]+xs*qs[2]).toString(16))}return Ln.trim()})(P.colors,se),_e=[];_e.push({key:"FunctionType",value:"0"}),_e.push({key:"Domain",value:"[0.0 1.0]"}),_e.push({key:"Size",value:"["+se+"]"}),_e.push({key:"BitsPerSample",value:"8"}),_e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),it({data:be,additionalKeyValues:_e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pe}),ie("endobj"),P.objectNumber=ft(),ie("<< /ShadingType "+P.type),ie("/ColorSpace /DeviceRGB");var Je="/Coords ["+L(parseFloat(P.coords[0]))+" "+L(parseFloat(P.coords[1]))+" ";P.type===2?Je+=L(parseFloat(P.coords[2]))+" "+L(parseFloat(P.coords[3])):Je+=L(parseFloat(P.coords[2]))+" "+L(parseFloat(P.coords[3]))+" "+L(parseFloat(P.coords[4]))+" "+L(parseFloat(P.coords[5])),ie(Je+="]"),P.matrix&&ie("/Matrix ["+P.matrix.toString()+"]"),ie("/Function "+pe+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},ar=function(P,se){var pe=Va(),be=ft();se.push({resourcesOid:pe,objectOid:be}),P.objectNumber=be;var _e=[];_e.push({key:"Type",value:"/Pattern"}),_e.push({key:"PatternType",value:"1"}),_e.push({key:"PaintType",value:"1"}),_e.push({key:"TilingType",value:"1"}),_e.push({key:"BBox",value:"["+P.boundingBox.map(L).join(" ")+"]"}),_e.push({key:"XStep",value:L(P.xStep)}),_e.push({key:"YStep",value:L(P.yStep)}),_e.push({key:"Resources",value:pe+" 0 R"}),P.matrix&&_e.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),it({data:P.stream,additionalKeyValues:_e,objectId:P.objectNumber}),ie("endobj")},Lr=function(P){for(var se in P.objectNumber=ft(),ie("<<"),P)switch(se){case"opacity":ie("/ca "+I(P[se]));break;case"stroke-opacity":ie("/CA "+I(P[se]))}ie(">>"),ie("endobj")},zt=function(P){Ya(P.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var se in ie("/Font <<"),Qt)Qt.hasOwnProperty(se)&&(h===!1||h===!0&&m.hasOwnProperty(se))&&ie("/"+se+" "+Qt[se].objectNumber+" 0 R");ie(">>")})(),(function(){if(Object.keys(jt).length>0){for(var se in ie("/Shading <<"),jt)jt.hasOwnProperty(se)&&jt[se]instanceof Jd&&jt[se].objectNumber>=0&&ie("/"+se+" "+jt[se].objectNumber+" 0 R");Me.publish("putShadingPatternDict"),ie(">>")}})(),(function(se){if(Object.keys(jt).length>0){for(var pe in ie("/Pattern <<"),jt)jt.hasOwnProperty(pe)&&jt[pe]instanceof p.TilingPattern&&jt[pe].objectNumber>=0&&jt[pe].objectNumber<se&&ie("/"+pe+" "+jt[pe].objectNumber+" 0 R");Me.publish("putTilingPatternDict"),ie(">>")}})(P.objectOid),(function(){if(Object.keys(Ar).length>0){var se;for(se in ie("/ExtGState <<"),Ar)Ar.hasOwnProperty(se)&&Ar[se].objectNumber>=0&&ie("/"+se+" "+Ar[se].objectNumber+" 0 R");Me.publish("putGStateDict"),ie(">>")}})(),(function(){for(var se in ie("/XObject <<"),yt)yt.hasOwnProperty(se)&&yt[se].objectNumber>=0&&ie("/"+se+" "+yt[se].objectNumber+" 0 R");Me.publish("putXobjectDict"),ie(">>")})(),ie(">>"),ie("endobj")},ma=function(P){gr[P.fontName]=gr[P.fontName]||{},gr[P.fontName][P.fontStyle]=P.id},fr=function(P,se,pe,be,_e){var Je={id:"F"+(Object.keys(Qt).length+1).toString(10),postScriptName:P,fontName:se,fontStyle:pe,encoding:be,isStandardFont:_e||!1,metadata:{}};return Me.publish("addFont",{font:Je,instance:this}),Qt[Je.id]=Je,ma(Je),Je.id},hr=p.__private__.pdfEscape=p.pdfEscape=function(P,se){return(function(pe,be){var _e,Je,ot,Gt,nr,Sr,_r,va,cn;if(ot=(be=be||{}).sourceEncoding||"Unicode",nr=be.outputEncoding,(be.autoencode||nr)&&Qt[vt].metadata&&Qt[vt].metadata[ot]&&Qt[vt].metadata[ot].encoding&&(Gt=Qt[vt].metadata[ot].encoding,!nr&&Qt[vt].encoding&&(nr=Qt[vt].encoding),!nr&&Gt.codePages&&(nr=Gt.codePages[0]),typeof nr=="string"&&(nr=Gt[nr]),nr)){for(_r=!1,Sr=[],_e=0,Je=pe.length;_e<Je;_e++)(va=nr[pe.charCodeAt(_e)])?Sr.push(String.fromCharCode(va)):Sr.push(pe[_e]),Sr[_e].charCodeAt(0)>>8&&(_r=!0);pe=Sr.join("")}for(_e=pe.length;_r===void 0&&_e!==0;)pe.charCodeAt(_e-1)>>8&&(_r=!0),_e--;if(!_r)return pe;for(Sr=be.noBOM?[]:[254,255],_e=0,Je=pe.length;_e<Je;_e++){if((cn=(va=pe.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+pe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Sr.push(cn),Sr.push(va-(cn<<8))}return String.fromCharCode.apply(void 0,Sr)})(P,se).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qt=p.__private__.beginPage=function(P){ve[++Ze]=[],We[Ze]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},ss(Ze),xe(ve[q])},Qr=function(P,se){var pe,be,_e;switch(t=se||t,typeof P=="string"&&(pe=y(P.toLowerCase()),Array.isArray(pe)&&(be=pe[0],_e=pe[1])),Array.isArray(P)&&(be=P[0]*bt,_e=P[1]*bt),isNaN(be)&&(be=s[0],_e=s[1]),(be>14400||_e>14400)&&(Za.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),be=Math.min(14400,be),_e=Math.min(14400,_e)),s=[be,_e],t.substr(0,1)){case"l":_e>be&&(s=[_e,be]);break;case"p":be>_e&&(s=[_e,be])}qt(s),wc(Ei),ie(yc),jd!==0&&ie(jd+" J"),Nd!==0&&ie(Nd+" j"),Me.publish("addPage",{pageNumber:Ze})},sn=function(P){P>0&&P<=Ze&&(ve.splice(P,1),We.splice(P,1),Ze--,q>Ze&&(q=Ze),this.setPage(q))},ss=function(P){P>0&&P<=Ze&&(q=P)},en=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ve.length-1},Wo=function(P,se,pe){var be,_e=void 0;return pe=pe||{},P=P!==void 0?P:Qt[vt].fontName,se=se!==void 0?se:Qt[vt].fontStyle,be=P.toLowerCase(),gr[be]!==void 0&&gr[be][se]!==void 0?_e=gr[be][se]:gr[P]!==void 0&&gr[P][se]!==void 0?_e=gr[P][se]:pe.disableWarning===!1&&Za.warn("Unable to look up font label for font '"+P+"', '"+se+"'. Refer to getFontList() for available fonts."),_e||pe.noFallback||(_e=gr.times[se])==null&&(_e=gr.times.normal),_e},Ca=p.__private__.putInfo=function(){var P=ft(),se=function(be){return be};for(var pe in f!==null&&(se=ia.encryptor(P,0)),ie("<<"),ie("/Producer ("+hr(se("jsPDF "+dr.version))+")"),Et)Et.hasOwnProperty(pe)&&Et[pe]&&ie("/"+pe.substr(0,1).toUpperCase()+pe.substr(1)+" ("+hr(se(Et[pe]))+")");ie("/CreationDate ("+hr(se(re))+")"),ie(">>"),ie("endobj")},Go=p.__private__.putCatalog=function(P){var se=(P=P||{}).rootDictionaryObjId||fi;switch(ft(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+se+" 0 R"),At||(At="fullwidth"),At){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pe=""+At;pe.substr(pe.length-1)==="%"&&(At=parseInt(At)/100),typeof At=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+I(At)+"]")}switch(ut||(ut="continuous"),ut){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}kt&&ie("/PageMode /"+kt),Me.publish("putCatalog"),ie(">>"),ie("endobj")},on=p.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(X+1)),ie("/Root "+X+" 0 R"),ie("/Info "+(X-1)+" 0 R"),f!==null&&ie("/Encrypt "+ia.oid+" 0 R"),ie("/ID [ <"+K+"> <"+K+"> ]"),ie(">>")},vc=p.__private__.putHeader=function(){ie("%PDF-"+v),ie("%")},yo=p.__private__.putXRef=function(){var P="0000000000";ie("xref"),ie("0 "+(X+1)),ie("0000000000 65535 f ");for(var se=1;se<=X;se++)typeof H[se]=="function"?ie((P+H[se]()).slice(-10)+" 00000 n "):H[se]!==void 0?ie((P+H[se]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},xt=p.__private__.buildDocument=function(){var P;X=0,ae=0,V=[],H=[],fe=[],fi=Va(),Xa=Va(),xe(V),Me.publish("buildDocument"),vc(),mr(),(function(){Me.publish("putAdditionalObjects");for(var pe=0;pe<fe.length;pe++){var be=fe[pe];Ya(be.objId,!0),ie(be.content),ie("endobj")}Me.publish("postPutAdditionalObjects")})(),P=[],(function(){for(var pe in Qt)Qt.hasOwnProperty(pe)&&(h===!1||h===!0&&m.hasOwnProperty(pe))&&$t(Qt[pe])})(),(function(){var pe;for(pe in Ar)Ar.hasOwnProperty(pe)&&Lr(Ar[pe])})(),(function(){for(var pe in yt)yt.hasOwnProperty(pe)&&Ur(yt[pe])})(),(function(pe){var be;for(be in jt)jt.hasOwnProperty(be)&&(jt[be]instanceof Jd?Kr(jt[be]):jt[be]instanceof bf&&ar(jt[be],pe))})(P),Me.publish("putResources"),P.forEach(zt),zt({resourcesOid:Xa,objectOid:Number.MAX_SAFE_INTEGER}),Me.publish("postPutResources"),f!==null&&(ia.oid=ft(),ie("<<"),ie("/Filter /Standard"),ie("/V "+ia.v),ie("/R "+ia.r),ie("/U <"+ia.toHexString(ia.U)+">"),ie("/O <"+ia.toHexString(ia.O)+">"),ie("/P "+ia.P),ie(">>"),ie("endobj")),Ca(),Go();var se=ae;return yo(),on(),ie("startxref"),ie(""+se),ie("%%EOF"),xe(ve[q]),V.join(`
`)},Ge=p.__private__.getBlob=function(P){return new Blob([mt(P)],{type:"application/pdf"})},Jr=p.output=p.__private__.output=(ns=function(P,se){switch(typeof(se=se||{})=="string"?se={filename:se}:se.filename=se.filename||"generated.pdf",P){case void 0:return xt();case"save":p.save(se.filename);break;case"arraybuffer":return mt(xt());case"blob":return Ge(xt());case"bloburi":case"bloburl":if(Dr.URL!==void 0&&typeof Dr.URL.createObjectURL=="function")return Dr.URL&&Dr.URL.createObjectURL(Ge(xt()))||void 0;Za.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pe="",be=xt();try{pe=kB(be)}catch{pe=kB(unescape(encodeURIComponent(be)))}return"data:application/pdf;filename="+se.filename+";base64,"+pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Dr)==="[object Window]"){var _e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';se.pdfObjectUrl&&(_e=se.pdfObjectUrl,Je="");var ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_e+'"'+Je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(se)+");<\/script></body></html>",Gt=Dr.open();return Gt!==null&&Gt.document.write(ot),Gt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Dr)==="[object Window]"){var nr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(se.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+se.filename+'" width="500px" height="400px" /></body></html>',Sr=Dr.open();if(Sr!==null){Sr.document.write(nr);var _r=this;Sr.document.documentElement.querySelector("#pdfViewer").onload=function(){Sr.document.title=se.filename,Sr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(_r.output("bloburl"))}}return Sr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Dr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var va='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",se)+'"></iframe></body></html>',cn=Dr.open();if(cn!==null&&(cn.document.write(va),cn.document.title=se.filename),cn||typeof safari>"u")return cn;break;case"datauri":case"dataurl":return Dr.document.location.href=this.output("datauristring",se);default:return null}},ns.foo=function(){try{return ns.apply(this,arguments)}catch(pe){var P=pe.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var se="Error in function "+P.split(`
`)[0].split("<")[0]+": "+pe.message;if(!Dr.console)throw new Error(se);Dr.console.error(se,pe),Dr.alert&&alert(se)}},ns.foo.bar=ns,ns.foo),Bt=function(P){return Array.isArray(Fr)===!0&&Fr.indexOf(P)>-1};switch(a){case"pt":bt=1;break;case"mm":bt=72/25.4;break;case"cm":bt=72/2.54;break;case"in":bt=72;break;case"px":bt=Bt("px_scaling")==1?.75:96/72;break;case"pc":case"em":bt=12;break;case"ex":bt=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);bt=a}var ia=null;ee(),z();var xa=p.__private__.getPageInfo=p.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:We[P].objId,pageNumber:P,pageContext:We[P]}},Bn=p.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var se in We)if(We[se].objId===P)break;return xa(se)},Zr=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:We[q].objId,pageNumber:q,pageContext:We[q]}};p.addPage=function(){return Qr.apply(this,arguments),this},p.setPage=function(){return ss.apply(this,arguments),xe.call(this,ve[q]),this},p.insertPage=function(P){return this.addPage(),this.movePage(q,P),this},p.movePage=function(P,se){var pe,be;if(P>se){pe=ve[P],be=We[P];for(var _e=P;_e>se;_e--)ve[_e]=ve[_e-1],We[_e]=We[_e-1];ve[se]=pe,We[se]=be,this.setPage(se)}else if(P<se){pe=ve[P],be=We[P];for(var Je=P;Je<se;Je++)ve[Je]=ve[Je+1],We[Je]=We[Je+1];ve[se]=pe,We[se]=be,this.setPage(se)}return this},p.deletePage=function(){return sn.apply(this,arguments),this},p.__private__.text=p.text=function(P,se,pe,be,_e){var Je,ot,Gt,nr,Sr,_r,va,cn,Ln,za=(be=be||{}).scope||this;if(typeof P=="number"&&typeof se=="number"&&(typeof pe=="string"||Array.isArray(pe))){var Kn=pe;pe=se,se=P,P=Kn}if(arguments[3]instanceof er==0?(Gt=arguments[4],nr=arguments[5],Ha(va=arguments[3])==="object"&&va!==null||(typeof Gt=="string"&&(nr=Gt,Gt=null),typeof va=="string"&&(nr=va,va=null),typeof va=="number"&&(Gt=va,va=null),be={flags:va,angle:Gt,align:nr})):(_("The transform parameter of text() with a Matrix value"),Ln=_e),isNaN(se)||isNaN(pe)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return za;var Cn,xs="",Li=typeof be.lineHeightFactor=="number"?be.lineHeightFactor:zs,qs=za.internal.scaleFactor;function Uu(wa){return wa=wa.split("	").join(Array(be.TabLen||9).join(" ")),hr(wa,va)}function El(wa){for(var ka,xn=wa.concat(),In=[],ro=xn.length;ro--;)typeof(ka=xn.shift())=="string"?In.push(ka):Array.isArray(wa)&&(ka.length===1||ka[1]===void 0&&ka[2]===void 0)?In.push(ka[0]):In.push([ka[0],ka[1],ka[2]]);return In}function Bc(wa,ka){var xn;if(typeof wa=="string")xn=ka(wa)[0];else if(Array.isArray(wa)){for(var In,ro,Ed=wa.concat(),BA=[],nl=Ed.length;nl--;)typeof(In=Ed.shift())=="string"?BA.push(ka(In)[0]):Array.isArray(In)&&typeof In[0]=="string"&&(ro=ka(In[0],In[1],In[2]),BA.push([ro[0],ro[1],ro[2]]));xn=BA}return xn}var Fl=!1,Cc=!0;if(typeof P=="string")Fl=!0;else if(Array.isArray(P)){var kl=P.concat();ot=[];for(var Sc,Cs=kl.length;Cs--;)(typeof(Sc=kl.shift())!="string"||Array.isArray(Sc)&&typeof Sc[0]!="string")&&(Cc=!1);Fl=Cc}if(Fl===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var _c=Ee/za.internal.scaleFactor,Ec=_c*(Li-1);switch(be.baseline){case"bottom":pe-=Ec;break;case"top":pe+=_c-Ec;break;case"hanging":pe+=_c-2*Ec;break;case"middle":pe+=_c/2-Ec}if((_r=be.maxWidth||0)>0&&(typeof P=="string"?P=za.splitTextToSize(P,_r):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(wa,ka){return wa.concat(za.splitTextToSize(ka,_r))},[]))),Je={text:P,x:se,y:pe,options:be,mutex:{pdfEscape:hr,activeFontKey:vt,fonts:Qt,activeFontSize:Ee}},Me.publish("preProcessText",Je),P=Je.text,Gt=(be=Je.options).angle,Ln instanceof er==0&&Gt&&typeof Gt=="number"){Gt*=Math.PI/180,be.rotationDirection===0&&(Gt=-Gt),E===C&&(Gt=-Gt);var Sd=Math.cos(Gt),_d=Math.sin(Gt);Ln=new er(Sd,_d,-_d,Sd,0,0)}else Gt&&Gt instanceof er&&(Ln=Gt);E!==C||Ln||(Ln=gs),(Sr=be.charSpace||Zi)!==void 0&&(xs+=L(J(Sr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(cn=be.horizontalScale)!==void 0&&(xs+=L(100*cn)+` Tz
`),be.lang;var pn=-1,eo=be.renderingMode!==void 0?be.renderingMode:be.stroke,Co=za.internal.getCurrentPageInfo().pageContext;switch(eo){case 0:case!1:case"fill":pn=0;break;case 1:case!0:case"stroke":pn=1;break;case 2:case"fillThenStroke":pn=2;break;case 3:case"invisible":pn=3;break;case 4:case"fillAndAddForClipping":pn=4;break;case 5:case"strokeAndAddPathForClipping":pn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":pn=6;break;case 7:case"addToPathForClipping":pn=7}var Lu=Co.usedRenderingMode!==void 0?Co.usedRenderingMode:-1;pn!==-1?xs+=pn+` Tr
`:Lu!==-1&&(xs+=`0 Tr
`),pn!==-1&&(Co.usedRenderingMode=pn),nr=be.align||"left";var mi,Dl=Ee*Li,yA=za.internal.pageSize.getWidth(),bA=Qt[vt];Sr=be.charSpace||Zi,_r=be.maxWidth||0,va=Object.assign({autoencode:!0,noBOM:!0},be.flags);var el=[],Ii=function(wa){return za.getStringUnitWidth(wa,{font:bA,charSpace:Sr,fontSize:Ee,doKerning:!1})*Ee/qs};if(Object.prototype.toString.call(P)==="[object Array]"){var pi;ot=El(P),nr!=="left"&&(mi=ot.map(Ii));var gi,Ul=0;if(nr==="right"){se-=mi[0],P=[],Cs=ot.length;for(var So=0;So<Cs;So++)So===0?(gi=hi(se),pi=Xo(pe)):(gi=J(Ul-mi[So]),pi=-Dl),P.push([ot[So],gi,pi]),Ul=mi[So]}else if(nr==="center"){se-=mi[0]/2,P=[],Cs=ot.length;for(var tl=0;tl<Cs;tl++)tl===0?(gi=hi(se),pi=Xo(pe)):(gi=J((Ul-mi[tl])/2),pi=-Dl),P.push([ot[tl],gi,pi]),Ul=mi[tl]}else if(nr==="left"){P=[],Cs=ot.length;for(var rl=0;rl<Cs;rl++)P.push(ot[rl])}else if(nr==="justify"&&bA.encoding==="Identity-H"){P=[],Cs=ot.length,_r=_r!==0?_r:yA;for(var _o=0,Sn=0;Sn<Cs;Sn++)if(pi=Sn===0?Xo(pe):-Dl,gi=Sn===0?hi(se):_o,Sn<Cs-1){var Fc=J((_r-mi[Sn])/(ot[Sn].split(" ").length-1)),Eo=ot[Sn].split(" ");P.push([Eo[0]+" ",gi,pi]),_o=0;for(var to=1;to<Eo.length;to++){var kc=(Ii(Eo[to-1]+" "+Eo[to])-Ii(Eo[to]))*qs+Fc;to==Eo.length-1?P.push([Eo[to],kc,0]):P.push([Eo[to]+" ",kc,0]),_o-=kc}}else P.push([ot[Sn],gi,pi]);P.push(["",_o,0])}else{if(nr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],Cs=ot.length,_r=_r!==0?_r:yA,Sn=0;Sn<Cs;Sn++){pi=Sn===0?Xo(pe):-Dl,gi=Sn===0?hi(se):0;var Dc=ot[Sn].split(" ").length-1,jA=Dc>0?(_r-mi[Sn])/Dc:0;Sn<Cs-1?el.push(L(J(jA))):el.push(0),P.push([ot[Sn],gi,pi])}}}(typeof be.R2L=="boolean"?be.R2L:Mt)===!0&&(P=Bc(P,function(wa,ka,xn){return[wa.split("").reverse().join(""),ka,xn]})),Je={text:P,x:se,y:pe,options:be,mutex:{pdfEscape:hr,activeFontKey:vt,fonts:Qt,activeFontSize:Ee}},Me.publish("postProcessText",Je),P=Je.text,Cn=Je.mutex.isHex||!1;var NA=Qt[vt].encoding;NA!=="WinAnsiEncoding"&&NA!=="StandardEncoding"||(P=Bc(P,function(wa,ka,xn){return[Uu(wa),ka,xn]})),ot=El(P),P=[];for(var al,Ll,Il,Uc=Array.isArray(ot[0])?1:0,Pl="",Lc=function(wa,ka,xn){var In="";return xn instanceof er?(xn=typeof be.angle=="number"?Nn(xn,new er(1,0,0,1,wa,ka)):Nn(new er(1,0,0,1,wa,ka),xn),E===C&&(xn=Nn(new er(1,0,0,-1,0,0),xn)),In=xn.join(" ")+` Tm
`):In=L(wa)+" "+L(ka)+` Td
`,In},gn=0;gn<ot.length;gn++){switch(Pl="",Uc){case 1:Il=(Cn?"<":"(")+ot[gn][0]+(Cn?">":")"),al=parseFloat(ot[gn][1]),Ll=parseFloat(ot[gn][2]);break;case 0:Il=(Cn?"<":"(")+ot[gn]+(Cn?">":")"),al=hi(se),Ll=Xo(pe)}el!==void 0&&el[gn]!==void 0&&(Pl=el[gn]+` Tw
`),gn===0?P.push(Pl+Lc(al,Ll,Ln)+Il):Uc===0?P.push(Pl+Il):Uc===1&&P.push(Pl+Lc(al,Ll,Ln)+Il)}P=Uc===0?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var Ws=`BT
/`;return Ws+=vt+" "+Ee+` Tf
`,Ws+=L(Ee*Li)+` TL
`,Ws+=Ji+`
`,Ws+=xs,Ws+=P,ie(Ws+="ET"),m[vt]=!0,za};var ln=p.__private__.clip=p.clip=function(P){return ie(P==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return ln("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ie("n"),this};var Sa=p.__private__.isValidStyle=function(P){var se=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(se=!0),se};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(P){return Sa(P)&&(d=P),this};var Yi=p.__private__.getStyle=p.getStyle=function(P){var se=d;switch(P){case"D":case"S":se="S";break;case"F":se="f";break;case"FD":case"DF":se="B";break;case"f":case"f*":case"B":case"B*":se=P}return se},Aa=p.close=function(){return ie("h"),this};p.stroke=function(){return ie("S"),this},p.fill=function(P){return mn("f",P),this},p.fillEvenOdd=function(P){return mn("f*",P),this},p.fillStroke=function(P){return mn("B",P),this},p.fillStrokeEvenOdd=function(P){return mn("B*",P),this};var mn=function(P,se){Ha(se)==="object"?Eu(se,P):ie(P)},pA=function(P){P===null||E===C&&P===void 0||(P=Yi(P),ie(P))};function yd(P,se,pe,be,_e){var Je=new bf(se||this.boundingBox,pe||this.xStep,be||this.yStep,this.gState,_e||this.matrix);Je.stream=this.stream;var ot=P+"$$"+this.cloneIndex+++"$$";return hn(ot,Je),Je}var Eu=function(P,se){var pe=xr[P.key],be=jt[pe];if(be instanceof Jd)ie("q"),ie(Fu(se)),be.gState&&p.setGState(be.gState),ie(P.matrix.toString()+" cm"),ie("/"+pe+" sh"),ie("Q");else if(be instanceof bf){var _e=new er(1,0,0,-1,0,Ui());P.matrix&&(_e=_e.multiply(P.matrix||gs),pe=yd.call(be,P.key,P.boundingBox,P.xStep,P.yStep,_e).id),ie("q"),ie("/Pattern cs"),ie("/"+pe+" scn"),be.gState&&p.setGState(be.gState),ie(se),ie("Q")}},Fu=function(P){switch(P){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},gA=p.moveTo=function(P,se){return ie(L(J(P))+" "+L(M(se))+" m"),this},Yo=p.lineTo=function(P,se){return ie(L(J(P))+" "+L(M(se))+" l"),this},Xi=p.curveTo=function(P,se,pe,be,_e,Je){return ie([L(J(P)),L(M(se)),L(J(pe)),L(M(be)),L(J(_e)),L(M(Je)),"c"].join(" ")),this};p.__private__.line=p.line=function(P,se,pe,be,_e){if(isNaN(P)||isNaN(se)||isNaN(pe)||isNaN(be)||!Sa(_e))throw new Error("Invalid arguments passed to jsPDF.line");return E===N?this.lines([[pe-P,be-se]],P,se,[1,1],_e||"S"):this.lines([[pe-P,be-se]],P,se,[1,1]).stroke()},p.__private__.lines=p.lines=function(P,se,pe,be,_e,Je){var ot,Gt,nr,Sr,_r,va,cn,Ln,za,Kn,Cn,xs;if(typeof P=="number"&&(xs=pe,pe=se,se=P,P=xs),be=be||[1,1],Je=Je||!1,isNaN(se)||isNaN(pe)||!Array.isArray(P)||!Array.isArray(be)||!Sa(_e)||typeof Je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(gA(se,pe),ot=be[0],Gt=be[1],Sr=P.length,Kn=se,Cn=pe,nr=0;nr<Sr;nr++)(_r=P[nr]).length===2?(Kn=_r[0]*ot+Kn,Cn=_r[1]*Gt+Cn,Yo(Kn,Cn)):(va=_r[0]*ot+Kn,cn=_r[1]*Gt+Cn,Ln=_r[2]*ot+Kn,za=_r[3]*Gt+Cn,Kn=_r[4]*ot+Kn,Cn=_r[5]*Gt+Cn,Xi(va,cn,Ln,za,Kn,Cn));return Je&&Aa(),pA(_e),this},p.path=function(P){for(var se=0;se<P.length;se++){var pe=P[se],be=pe.c;switch(pe.op){case"m":gA(be[0],be[1]);break;case"l":Yo(be[0],be[1]);break;case"c":Xi.apply(this,be);break;case"h":Aa()}}return this},p.__private__.rect=p.rect=function(P,se,pe,be,_e){if(isNaN(P)||isNaN(se)||isNaN(pe)||isNaN(be)||!Sa(_e))throw new Error("Invalid arguments passed to jsPDF.rect");return E===N&&(be=-be),ie([L(J(P)),L(M(se)),L(J(pe)),L(J(be)),"re"].join(" ")),pA(_e),this},p.__private__.triangle=p.triangle=function(P,se,pe,be,_e,Je,ot){if(isNaN(P)||isNaN(se)||isNaN(pe)||isNaN(be)||isNaN(_e)||isNaN(Je)||!Sa(ot))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pe-P,be-se],[_e-pe,Je-be],[P-_e,se-Je]],P,se,[1,1],ot,!0),this},p.__private__.roundedRect=p.roundedRect=function(P,se,pe,be,_e,Je,ot){if(isNaN(P)||isNaN(se)||isNaN(pe)||isNaN(be)||isNaN(_e)||isNaN(Je)||!Sa(ot))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Gt=4/3*(Math.SQRT2-1);return _e=Math.min(_e,.5*pe),Je=Math.min(Je,.5*be),this.lines([[pe-2*_e,0],[_e*Gt,0,_e,Je-Je*Gt,_e,Je],[0,be-2*Je],[0,Je*Gt,-_e*Gt,Je,-_e,Je],[2*_e-pe,0],[-_e*Gt,0,-_e,-Je*Gt,-_e,-Je],[0,2*Je-be],[0,-Je*Gt,_e*Gt,-Je,_e,-Je]],P+_e,se,[1,1],ot,!0),this},p.__private__.ellipse=p.ellipse=function(P,se,pe,be,_e){if(isNaN(P)||isNaN(se)||isNaN(pe)||isNaN(be)||!Sa(_e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Je=4/3*(Math.SQRT2-1)*pe,ot=4/3*(Math.SQRT2-1)*be;return gA(P+pe,se),Xi(P+pe,se-ot,P+Je,se-be,P,se-be),Xi(P-Je,se-be,P-pe,se-ot,P-pe,se),Xi(P-pe,se+ot,P-Je,se+be,P,se+be),Xi(P+Je,se+be,P+pe,se+ot,P+pe,se),pA(_e),this},p.__private__.circle=p.circle=function(P,se,pe,be){if(isNaN(P)||isNaN(se)||isNaN(pe)||!Sa(be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,se,pe,pe,be)},p.setFont=function(P,se,pe){return pe&&(se=k(se,pe)),vt=Wo(P,se,{disableWarning:!1}),this};var bo=p.__private__.getFont=p.getFont=function(){return Qt[Wo.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var P,se,pe={};for(P in gr)if(gr.hasOwnProperty(P))for(se in pe[P]=[],gr[P])gr[P].hasOwnProperty(se)&&pe[P].push(se);return pe},p.addFont=function(P,se,pe,be,_e){var Je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Je.indexOf(arguments[3])!==-1?_e=arguments[3]:arguments[3]&&Je.indexOf(arguments[3])==-1&&(pe=k(pe,be)),fr.call(this,P,se,pe,_e=_e||"Identity-H")};var zs,Ei=e.lineWidth||.200025,Nr=p.__private__.getLineWidth=p.getLineWidth=function(){return Ei},wc=p.__private__.setLineWidth=p.setLineWidth=function(P){return Ei=P,ie(L(J(P))+" w"),this};p.__private__.setLineDash=dr.API.setLineDash=dr.API.setLineDashPattern=function(P,se){if(P=P||[],se=se||0,isNaN(se)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(pe){return L(J(pe))}).join(" "),se=L(J(se)),ie("["+P+"] "+se+" d"),this};var jo=p.__private__.getLineHeight=p.getLineHeight=function(){return Ee*zs};p.__private__.getLineHeight=p.getLineHeight=function(){return Ee*zs};var nh=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(zs=P),this},ku=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return zs};nh(e.lineHeight);var hi=p.__private__.getHorizontalCoordinate=function(P){return J(P)},Xo=p.__private__.getVerticalCoordinate=function(P){return E===C?P:We[q].mediaBox.topRightY-We[q].mediaBox.bottomLeftY-J(P)},Du=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(P){return L(hi(P))},xA=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(P){return L(Xo(P))},yc=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return $e(yc)},p.__private__.setStrokeColor=p.setDrawColor=function(P,se,pe,be){return yc=et({ch1:P,ch2:se,ch3:pe,ch4:be,pdfColorType:"draw",precision:2}),ie(yc),this};var bd=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return $e(bd)},p.__private__.setFillColor=p.setFillColor=function(P,se,pe,be){return bd=et({ch1:P,ch2:se,ch3:pe,ch4:be,pdfColorType:"fill",precision:2}),ie(bd),this};var Ji=e.textColor||"0 g",No=p.__private__.getTextColor=p.getTextColor=function(){return $e(Ji)};p.__private__.setTextColor=p.setTextColor=function(P,se,pe,be){return Ji=et({ch1:P,ch2:se,ch3:pe,ch4:be,pdfColorType:"text",precision:3}),this};var Zi=e.charSpace,vA=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Zi||0)};p.__private__.setCharSpace=p.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Zi=P,this};var jd=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(P){var se=p.CapJoinStyles[P];if(se===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return jd=se,ie(se+" J"),this};var Nd=0;p.__private__.setLineJoin=p.setLineJoin=function(P){var se=p.CapJoinStyles[P];if(se===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nd=se,ie(se+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(L(J(P))+" M"),this},p.GState=y0,p.setGState=function(P){(P=typeof P=="string"?Ar[Xr[P]]:Jo(null,P)).equals(ga)||(ie("/"+P.id+" gs"),ga=P)};var Jo=function(P,se){if(!P||!Xr[P]){var pe=!1;for(var be in Ar)if(Ar.hasOwnProperty(be)&&Ar[be].equals(se)){pe=!0;break}if(pe)se=Ar[be];else{var _e="GS"+(Object.keys(Ar).length+1).toString(10);Ar[_e]=se,se.id=_e}return P&&(Xr[P]=se.id),Me.publish("addGState",se),se}};p.addGState=function(P,se){return Jo(P,se),this},p.saveGraphicsState=function(){return ie("q"),Wr.push({key:vt,size:Ee,color:Ji}),this},p.restoreGraphicsState=function(){ie("Q");var P=Wr.pop();return vt=P.key,Ee=P.size,Ji=P.color,ga=null,this},p.setCurrentTransformationMatrix=function(P){return ie(P.toString()+" cm"),this},p.comment=function(P){return ie("#"+P),this};var Bo=function(P,se){var pe=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pe},set:function(Je){isNaN(Je)||(pe=parseFloat(Je))}});var be=se||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return be},set:function(Je){isNaN(Je)||(be=parseFloat(Je))}});var _e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _e},set:function(Je){_e=Je.toString()}}),this},bc=function(P,se,pe,be){Bo.call(this,P,se),this.type="rect";var _e=pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _e},set:function(ot){isNaN(ot)||(_e=parseFloat(ot))}});var Je=be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Je},set:function(ot){isNaN(ot)||(Je=parseFloat(ot))}}),this},jc=function(){this.page=Ze,this.currentPage=q,this.pages=ve.slice(0),this.pagesContext=We.slice(0),this.x=St,this.y=Tr,this.matrix=jr,this.width=Nc(q),this.height=ki(q),this.outputDestination=ke,this.id="",this.objectNumber=-1};jc.prototype.restore=function(){Ze=this.page,q=this.currentPage,We=this.pagesContext,ve=this.pages,St=this.x,Tr=this.y,jr=this.matrix,Bd(q,this.width),Di(q,this.height),ke=this.outputDestination};var Fi=function(P,se,pe,be,_e){ca.push(new jc),Ze=q=0,ve=[],St=P,Tr=se,jr=_e,qt([pe,be])};for(var Zo in p.beginFormObject=function(P,se,pe,be,_e){return Fi(P,se,pe,be,_e),this},p.endFormObject=function(P){return(function(se){if(rr[se])ca.pop().restore();else{var pe=new jc,be="Xo"+(Object.keys(yt).length+1).toString(10);pe.id=be,rr[se]=be,yt[be]=pe,Me.publish("addFormObject",pe),ca.pop().restore()}})(P),this},p.doFormObject=function(P,se){var pe=yt[rr[P]];return ie("q"),ie(se.toString()+" cm"),ie("/"+pe.id+" Do"),ie("Q"),this},p.getFormObject=function(P){var se=yt[rr[P]];return{x:se.x,y:se.y,width:se.width,height:se.height,matrix:se.matrix}},p.save=function(P,se){return P=P||"generated.pdf",(se=se||{}).returnPromise=se.returnPromise||!1,se.returnPromise===!1?(Xd(Ge(xt()),P),typeof Xd.unload=="function"&&Dr.setTimeout&&setTimeout(Xd.unload,911),this):new Promise(function(pe,be){try{var _e=Xd(Ge(xt()),P);typeof Xd.unload=="function"&&Dr.setTimeout&&setTimeout(Xd.unload,911),pe(_e)}catch(Je){be(Je.message)}})},dr.API)dr.API.hasOwnProperty(Zo)&&(Zo==="events"&&dr.API.events.length?(function(P,se){var pe,be,_e;for(_e=se.length-1;_e!==-1;_e--)pe=se[_e][0],be=se[_e][1],P.subscribe.apply(P,[pe].concat(typeof be=="function"?[be]:be))})(Me,dr.API.events):p[Zo]=dr.API[Zo]);function Nc(P){return We[P].mediaBox.topRightX-We[P].mediaBox.bottomLeftX}function Bd(P,se){We[P].mediaBox.topRightX=se+We[P].mediaBox.bottomLeftX}function ki(P){return We[P].mediaBox.topRightY-We[P].mediaBox.bottomLeftY}function Di(P,se){We[P].mediaBox.topRightY=se+We[P].mediaBox.bottomLeftY}var Cd=p.getPageWidth=function(P){return Nc(P=P||q)/bt},Bs=p.setPageWidth=function(P,se){Bd(P,se*bt)},Ui=p.getPageHeight=function(P){return ki(P=P||q)/bt},wA=p.setPageHeight=function(P,se){Di(P,se*bt)};return p.internal={pdfEscape:hr,getStyle:Yi,getFont:bo,getFontSize:st,getCharSpace:vA,getTextColor:No,getLineHeight:jo,getLineHeightFactor:ku,getLineWidth:Nr,write:lt,getHorizontalCoordinate:hi,getVerticalCoordinate:Xo,getCoordinateString:Du,getVerticalCoordinateString:xA,collections:{},newObject:ft,newAdditionalObject:Ns,newObjectDeferred:Va,newObjectDeferredBegin:Ya,getFilters:Ft,putStream:it,events:Me,scaleFactor:bt,pageSize:{getWidth:function(){return Cd(q)},setWidth:function(P){Bs(q,P)},getHeight:function(){return Ui(q)},setHeight:function(P){wA(q,P)}},encryptionOptions:f,encryption:ia,getEncryptor:function(P){return f!==null?ia.encryptor(P,0):function(se){return se}},output:Jr,getNumberOfPages:en,pages:ve,out:ie,f2:I,f3:$,getPageInfo:xa,getPageInfoByObjId:Bn,getCurrentPageInfo:Zr,getPDFVersion:g,Point:Bo,Rectangle:bc,Matrix:er,hasHotfix:Bt},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Cd(q)},set:function(P){Bs(q,P)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ui(q)},set:function(P){wA(q,P)},enumerable:!0,configurable:!0}),(function(P){for(var se=0,pe=at.length;se<pe;se++){var be=fr.call(this,P[se][0],P[se][1],P[se][2],at[se][3],!0);h===!1&&(m[be]=!0);var _e=P[se][0].split("-");ma({id:be,fontName:_e[0],fontStyle:_e[1]||""})}Me.publish("addFonts",{fonts:Qt,dictionary:gr})}).call(p,at),vt="F1",Qr(s,t),Me.publish("initialized"),p}xf.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},xf.prototype.toHexString=function(e){return e.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},xf.prototype.hexToBytes=function(e){for(var r=[],t=0;t<e.length;t+=2)r.push(String.fromCharCode(parseInt(e.substr(t,2),16)));return r.join("")},xf.prototype.processOwnerPassword=function(e,r){return Hy(Oy(r).substr(0,5),e)},xf.prototype.encryptor=function(e,r){var t=Oy(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&r,r>>8&255)).substr(0,10);return function(a){return Hy(t,a)}},y0.prototype.equals=function(e){var r,t="id,objectNumber,equals";if(!e||Ha(e)!==Ha(this))return!1;var a=0;for(r in this)if(!(t.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!e.hasOwnProperty(r)||this[r]!==e[r])return!1;a++}for(r in e)e.hasOwnProperty(r)&&t.indexOf(r)<0&&a--;return a===0},dr.API={events:[]},dr.version="3.0.3";var Tn=dr.API,Nb=1,_u=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cf=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Mr=function(e){return e.toFixed(2)},qA=function(e){return e.toFixed(5)};Tn.__acroform__={};var Gi=function(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e},IB=function(e){return e*Nb},zl=function(e){var r=new A3,t=Zt.internal.getHeight(e)||0,a=Zt.internal.getWidth(e)||0;return r.BBox=[0,0,Number(Mr(a)),Number(Mr(t))],r},OK=Tn.__acroform__.setBit=function(e,r){if(e=e||0,r=r||0,isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<r},HK=Tn.__acroform__.clearBit=function(e,r){if(e=e||0,r=r||0,isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<r)},$K=Tn.__acroform__.getBit=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<r?1:0},Yn=Tn.__acroform__.getBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return $K(e,r-1)},Xn=Tn.__acroform__.setBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return OK(e,r-1)},Jn=Tn.__acroform__.clearBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return HK(e,r-1)},KK=Tn.__acroform__.calculateCoordinates=function(e,r){var t=r.internal.getHorizontalCoordinate,a=r.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],l=e[3],A={};return A.lowerLeft_X=t(s)||0,A.lowerLeft_Y=a(i+l)||0,A.upperRight_X=t(s+o)||0,A.upperRight_Y=a(i)||0,[Number(Mr(A.lowerLeft_X)),Number(Mr(A.lowerLeft_Y)),Number(Mr(A.upperRight_X)),Number(Mr(A.upperRight_Y))]},VK=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var r=[],t=e._V||e.DV,a=$y(e,t),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(e.scope.__private__.encodeColorString(e.color)),r.push("/"+s+" "+Mr(a.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC");var i=zl(e);return i.scope=e.scope,i.stream=r.join(`
`),i}},$y=function(e,r){var t=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},s=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");s=e.multiline?s.map(function(I){return I.split(`
`)}):s.map(function(I){return[I]});var i=t,o=Zt.internal.getHeight(e)||0;o=o<0?-o:o;var l=Zt.internal.getWidth(e)||0;l=l<0?-l:l;var A=function(I,$,J){if(I+1<s.length){var M=$+" "+s[I+1][0];return zp(M,e,J).width<=l-4}return!1};i++;e:for(;i>0;){r="",i--;var d,f,h=zp("3",e,i).height,m=e.multiline?o-i:(o-h)/2,p=m+=2,v=0,g=0,w=0;if(i<=0){r=`(...) Tj
`,r+="% Width of Text: "+zp(r,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var y="",N=0,C=0;C<s.length;C++)if(s.hasOwnProperty(C)){var E=!1;if(s[C].length!==1&&w!==s[C].length-1){if((h+2)*(N+2)+2>o)continue e;y+=s[C][w],E=!0,g=C,C--}else{y=(y+=s[C][w]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var U=parseInt(C),D=A(U,y,i),k=C>=s.length-1;if(D&&!k){y+=" ",w=0;continue}if(D||k){if(k)g=U;else if(e.multiline&&(h+2)*(N+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(N+2)+2>o)continue e;g=U}}for(var L="",_=v;_<=g;_++){var Y=s[_];if(e.multiline){if(_===g){L+=Y[w]+" ",w=(w+1)%Y.length;continue}if(_===v){L+=Y[Y.length-1]+" ";continue}}L+=Y[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,f=zp(L,e,i).width,e.textAlign){case"right":d=l-f-2;break;case"center":d=(l-f)/2;break;default:d=2}r+=Mr(d)+" "+Mr(p)+` Td
`,r+="("+_u(L)+`) Tj
`,r+=-Mr(d)+` 0 Td
`,p=-(i+2),f=0,v=E?g:g+1,N++,y=""}break}return a.text=r,a.fontSize=i,a},zp=function(e,r,t){var a=r.scope.internal.getFont(r.fontName,r.fontStyle),s=r.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:r.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},zK={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qK=function(e,r){var t={type:"reference",object:e};r.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===t.type&&a.object===t.object})===void 0&&r.internal.getPageInfo(e.page).pageContext.annotations.push(t)},WK=function(e,r){if(r.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Cl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(zK)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Nb=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new d3,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in a)if(a.hasOwnProperty(s)){var i=a[s];i.objId=void 0,i.hasAnnotation&&qK(i,t)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(t){(function(a,s){var i=!a;for(var o in a||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(o)){var l=a[o],A=[],d=l.Rect;if(l.Rect&&(l.Rect=KK(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Zt.createDefaultAppearanceStream(l),Ha(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(A=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=VK(l);A.push({key:"AP",value:"<</N "+f+">>"}),s.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var h="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var p=l.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var v=p[o];typeof v=="function"&&(v=v.call(s,l)),h+="/"+o+" "+v+" ",s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(s,l)),h+="/"+o+" "+v,s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v);h+=">>"}A.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:A,objectId:l.objId}),s.internal.out("endobj")}i&&(function(g,w){for(var y in g)if(g.hasOwnProperty(y)){var N=y,C=g[y];w.internal.newObjectDeferredBegin(C.objId,!0),Ha(C)==="object"&&typeof C.putStream=="function"&&C.putStream(),delete g[N]}})(s.internal.acroformPlugin.xForms,s)})(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},c3=Tn.__acroform__.arrayToPdfArray=function(e,r,t){var a=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),Ha(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(r!==void 0&&t&&(a=t.internal.getEncryptor(r)),s+="("+_u(a(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},bw=function(e,r,t){var a=function(s){return s};return r!==void 0&&t&&(a=t.internal.getEncryptor(r)),(e=e||"").toString(),"("+_u(a(e))+")"},nc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};nc.prototype.toString=function(){return this.objId+" 0 R"},nc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},nc.prototype.getKeyValueListForStream=function(){var e=[],r=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in r)if(Object.getOwnPropertyDescriptor(this,r[t]).configurable===!1){var a=r[t],s=this[a];s&&(Array.isArray(s)?e.push({key:a,value:c3(s,this.objId,this.scope)}):s instanceof nc?(s.scope=this.scope,e.push({key:a,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:a,value:s}))}return e};var A3=function(){nc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Gi(A3,nc);var d3=function(){nc.call(this);var e,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(a){return a};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+_u(t(e))+")"}},set:function(t){e=t}})};Gi(d3,nc);var Cl=function e(){nc.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');r=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Yn(r,3)},set:function(y){y?this.F=Xn(r,3):this.F=Jn(r,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');t=y}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(y){a=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(y){a[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(y){a[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(y){a[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(y){a[3]=y}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof b0)return;i="FieldObject"+e.FieldNum++}var y=function(N){return N};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+_u(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(y){A=y}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Nb:d},set:function(y){d=y}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(y){f=y}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof b0||this instanceof cu))return bw(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=y}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Is==0?bw(m,this.objId,this.scope):m},set:function(y){y=y.toString(),m=this instanceof Is==0?y.substr(0,1)==="("?cf(y.substr(1,y.length-2)):cf(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Is==1?cf(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof Is==1?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Is==0?bw(p,this.objId,this.scope):p},set:function(y){y=y.toString(),p=this instanceof Is==0?y.substr(0,1)==="("?cf(y.substr(1,y.length-2)):cf(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Is==1?cf(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof Is==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(y){y=!!y,g=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(y){v=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,1)},set:function(y){y?this.Ff=Xn(this.Ff,1):this.Ff=Jn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,2)},set:function(y){y?this.Ff=Xn(this.Ff,2):this.Ff=Jn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,3)},set:function(y){y?this.Ff=Xn(this.Ff,3):this.Ff=Jn(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');w=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(w){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};Gi(Cl,nc);var kf=function(){Cl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return c3(r,this.objId,this.scope)},set:function(t){var a,s;s=[],typeof(a=t)=="string"&&(s=(function(i,o,l){l||(l=1);for(var A,d=[];A=o.exec(i);)d.push(A[l]);return d})(a,/\((.*?)\)/g)),r=s}}),this.getOptions=function(){return r},this.setOptions=function(t){r=t,this.sort&&r.sort()},this.addOption=function(t){t=(t=t||"").toString(),r.push(t),this.sort&&r.sort()},this.removeOption=function(t,a){for(a=a||!1,t=(t=t||"").toString();r.indexOf(t)!==-1&&(r.splice(r.indexOf(t),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,18)},set:function(t){t?this.Ff=Xn(this.Ff,18):this.Ff=Jn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Xn(this.Ff,19):this.Ff=Jn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,20)},set:function(t){t?(this.Ff=Xn(this.Ff,20),r.sort()):this.Ff=Jn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,22)},set:function(t){t?this.Ff=Xn(this.Ff,22):this.Ff=Jn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(t){t?this.Ff=Xn(this.Ff,23):this.Ff=Jn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,27)},set:function(t){t?this.Ff=Xn(this.Ff,27):this.Ff=Jn(this.Ff,27)}}),this.hasAppearanceStream=!1};Gi(kf,Cl);var Df=function(){kf.call(this),this.fontName="helvetica",this.combo=!1};Gi(Df,kf);var Uf=function(){Df.call(this),this.combo=!0};Gi(Uf,Df);var Qg=function(){Uf.call(this),this.edit=!0};Gi(Qg,Uf);var Is=function(){Cl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,15)},set:function(t){t?this.Ff=Xn(this.Ff,15):this.Ff=Jn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,16)},set:function(t){t?this.Ff=Xn(this.Ff,16):this.Ff=Jn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,17)},set:function(t){t?this.Ff=Xn(this.Ff,17):this.Ff=Jn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(t){t?this.Ff=Xn(this.Ff,26):this.Ff=Jn(this.Ff,26)}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+_u(t(r[a]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){Ha(t)==="object"&&(r=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(t){typeof t=="string"&&(r.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Gi(Is,Cl);var Rg=function(){Is.call(this),this.pushButton=!0};Gi(Rg,Is);var Lf=function(){Is.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r!==void 0?r:[]}})};Gi(Lf,Is);var b0=function(){var e,r;Cl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(s){r=s}});var t,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),a)o.push("/"+i+" ("+_u(s(a[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){Ha(s)==="object"&&(a=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(s){typeof s=="string"&&(a.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Zt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Gi(b0,Cl),Lf.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var t=this.Kids[r];t.appearanceStreamContent=e.createAppearanceStream(t.optionName),t.caption=e.getCA()}},Lf.prototype.createOption=function(e){var r=new b0;return r.Parent=this,r.optionName=e,this.Kids.push(r),GK.call(this.scope,r),r};var Mg=function(){Is.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Zt.CheckBox.createAppearanceStream()};Gi(Mg,Is);var cu=function(){Cl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,13)},set:function(r){r?this.Ff=Xn(this.Ff,13):this.Ff=Jn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,21)},set:function(r){r?this.Ff=Xn(this.Ff,21):this.Ff=Jn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(r){r?this.Ff=Xn(this.Ff,23):this.Ff=Jn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,24)},set:function(r){r?this.Ff=Xn(this.Ff,24):this.Ff=Jn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,25)},set:function(r){r?this.Ff=Xn(this.Ff,25):this.Ff=Jn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(r){r?this.Ff=Xn(this.Ff,26):this.Ff=Jn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){Number.isInteger(r)&&(e=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Gi(cu,Cl);var Tg=function(){cu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,14)},set:function(e){e?this.Ff=Xn(this.Ff,14):this.Ff=Jn(this.Ff,14)}}),this.password=!0};Gi(Tg,cu);var Zt={CheckBox:{createAppearanceStream:function(){return{N:{On:Zt.CheckBox.YesNormal},D:{On:Zt.CheckBox.YesPushDown,Off:Zt.CheckBox.OffPushDown}}},YesPushDown:function(e){var r=zl(e);r.scope=e.scope;var t=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=$y(e,e.caption);return t.push("0.749023 g"),t.push("0 0 "+Mr(Zt.internal.getWidth(e))+" "+Mr(Zt.internal.getHeight(e))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+a+" "+Mr(i.fontSize)+" Tf "+s),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),r.stream=t.join(`
`),r},YesNormal:function(e){var r=zl(e);r.scope=e.scope;var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=[],i=Zt.internal.getHeight(e),o=Zt.internal.getWidth(e),l=$y(e,e.caption);return s.push("1 g"),s.push("0 0 "+Mr(o)+" "+Mr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Mr(o-1)+" "+Mr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Mr(l.fontSize)+" Tf "+a),s.push(l.text),s.push("ET"),s.push("Q"),r.stream=s.join(`
`),r},OffPushDown:function(e){var r=zl(e);r.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Mr(Zt.internal.getWidth(e))+" "+Mr(Zt.internal.getHeight(e))+" re"),t.push("f"),r.stream=t.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(e){var r={D:{Off:Zt.RadioButton.Circle.OffPushDown},N:{}};return r.N[e]=Zt.RadioButton.Circle.YesNormal,r.D[e]=Zt.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(e){var r=zl(e);r.scope=e.scope;var t=[],a=Zt.internal.getWidth(e)<=Zt.internal.getHeight(e)?Zt.internal.getWidth(e)/4:Zt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Zt.internal.Bezier_C,i=Number((a*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+qA(Zt.internal.getWidth(e)/2)+" "+qA(Zt.internal.getHeight(e)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),t.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),t.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),t.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r},YesPushDown:function(e){var r=zl(e);r.scope=e.scope;var t=[],a=Zt.internal.getWidth(e)<=Zt.internal.getHeight(e)?Zt.internal.getWidth(e)/4:Zt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*Zt.internal.Bezier_C).toFixed(5)),o=Number((a*Zt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+qA(Zt.internal.getWidth(e)/2)+" "+qA(Zt.internal.getHeight(e)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+qA(Zt.internal.getWidth(e)/2)+" "+qA(Zt.internal.getHeight(e)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r},OffPushDown:function(e){var r=zl(e);r.scope=e.scope;var t=[],a=Zt.internal.getWidth(e)<=Zt.internal.getHeight(e)?Zt.internal.getWidth(e)/4:Zt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*Zt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+qA(Zt.internal.getWidth(e)/2)+" "+qA(Zt.internal.getHeight(e)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r}},Cross:{createAppearanceStream:function(e){var r={D:{Off:Zt.RadioButton.Cross.OffPushDown},N:{}};return r.N[e]=Zt.RadioButton.Cross.YesNormal,r.D[e]=Zt.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(e){var r=zl(e);r.scope=e.scope;var t=[],a=Zt.internal.calculateCross(e);return t.push("q"),t.push("1 1 "+Mr(Zt.internal.getWidth(e)-2)+" "+Mr(Zt.internal.getHeight(e)-2)+" re"),t.push("W"),t.push("n"),t.push(Mr(a.x1.x)+" "+Mr(a.x1.y)+" m"),t.push(Mr(a.x2.x)+" "+Mr(a.x2.y)+" l"),t.push(Mr(a.x4.x)+" "+Mr(a.x4.y)+" m"),t.push(Mr(a.x3.x)+" "+Mr(a.x3.y)+" l"),t.push("s"),t.push("Q"),r.stream=t.join(`
`),r},YesPushDown:function(e){var r=zl(e);r.scope=e.scope;var t=Zt.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+Mr(Zt.internal.getWidth(e))+" "+Mr(Zt.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Mr(Zt.internal.getWidth(e)-2)+" "+Mr(Zt.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(Mr(t.x1.x)+" "+Mr(t.x1.y)+" m"),a.push(Mr(t.x2.x)+" "+Mr(t.x2.y)+" l"),a.push(Mr(t.x4.x)+" "+Mr(t.x4.y)+" m"),a.push(Mr(t.x3.x)+" "+Mr(t.x3.y)+" l"),a.push("s"),a.push("Q"),r.stream=a.join(`
`),r},OffPushDown:function(e){var r=zl(e);r.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Mr(Zt.internal.getWidth(e))+" "+Mr(Zt.internal.getHeight(e))+" re"),t.push("f"),r.stream=t.join(`
`),r}}},createDefaultAppearanceStream:function(e){var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,t=e.scope.__private__.encodeColorString(e.color);return"/"+r+" "+e.fontSize+" Tf "+t}};Zt.internal={Bezier_C:.551915024494,calculateCross:function(e){var r=Zt.internal.getWidth(e),t=Zt.internal.getHeight(e),a=Math.min(r,t);return{x1:{x:(r-a)/2,y:(t-a)/2+a},x2:{x:(r-a)/2+a,y:(t-a)/2},x3:{x:(r-a)/2,y:(t-a)/2},x4:{x:(r-a)/2+a,y:(t-a)/2+a}}}},Zt.internal.getWidth=function(e){var r=0;return Ha(e)==="object"&&(r=IB(e.Rect[2])),r},Zt.internal.getHeight=function(e){var r=0;return Ha(e)==="object"&&(r=IB(e.Rect[3])),r};var GK=Tn.addField=function(e){if(WK(this,e),!(e instanceof Cl))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=e).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Tn.AcroFormChoiceField=kf,Tn.AcroFormListBox=Df,Tn.AcroFormComboBox=Uf,Tn.AcroFormEditBox=Qg,Tn.AcroFormButton=Is,Tn.AcroFormPushButton=Rg,Tn.AcroFormRadioButton=Lf,Tn.AcroFormCheckBox=Mg,Tn.AcroFormTextField=cu,Tn.AcroFormPasswordField=Tg,Tn.AcroFormAppearance=Zt,Tn.AcroForm={ChoiceField:kf,ListBox:Df,ComboBox:Uf,EditBox:Qg,Button:Is,PushButton:Rg,RadioButton:Lf,CheckBox:Mg,TextField:cu,PasswordField:Tg,Appearance:Zt},dr.AcroForm={ChoiceField:kf,ListBox:Df,ComboBox:Uf,EditBox:Qg,Button:Is,PushButton:Rg,RadioButton:Lf,CheckBox:Mg,TextField:cu,PasswordField:Tg,Appearance:Zt};dr.AcroForm;function u3(e){return e.reduce(function(r,t,a){return r[t]=a,r},{})}(function(e){var r="addImage_";e.__addimage__={};var t="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(I,$){var J,M,re,K,G,z=t;if(($=$||t)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(D(I))for(G in a)for(re=a[G],J=0;J<re.length;J+=1){for(K=!0,M=0;M<re[J].length;M+=1)if(re[J][M]!==void 0&&re[J][M]!==I[M]){K=!1;break}if(K===!0){z=G;break}}else for(G in a)for(re=a[G],J=0;J<re.length;J+=1){for(K=!0,M=0;M<re[J].length;M+=1)if(re[J][M]!==void 0&&re[J][M]!==I.charCodeAt(M)){K=!1;break}if(K===!0){z=G;break}}return z===t&&$!==t&&(z=$),z},i=function I($){for(var J=this.internal.write,M=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);$.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:$.width}),K.push({key:"Height",value:$.height}),$.colorSpace===y.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+($.palette.length/3-1)+" "+("sMask"in $&&$.sMask!==void 0?$.objectId+2:$.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+$.colorSpace}),$.colorSpace===y.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:$.bitsPerComponent}),"decodeParameters"in $&&$.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+$.decodeParameters+">>"}),"transparency"in $&&Array.isArray($.transparency)&&$.transparency.length>0){for(var G="",z=0,Z=$.transparency.length;z<Z;z++)G+=$.transparency[z]+" "+$.transparency[z]+" ";K.push({key:"Mask",value:"["+G+"]"})}$.sMask!==void 0&&K.push({key:"SMask",value:$.objectId+1+" 0 R"});var Ae=$.filter!==void 0?["/"+$.filter]:void 0;if(M({data:$.data,additionalKeyValues:K,alreadyAppliedFilters:Ae,objectId:$.objectId}),J("endobj"),"sMask"in $&&$.sMask!==void 0){var ee,R=(ee=$.sMaskBitsPerComponent)!==null&&ee!==void 0?ee:$.bitsPerComponent,q={width:$.width,height:$.height,colorSpace:"DeviceGray",bitsPerComponent:R,data:$.sMask};"filter"in $&&(q.decodeParameters="/Predictor ".concat($.predictor," /Colors 1 /BitsPerComponent ").concat(R," /Columns ").concat($.width),q.filter=$.filter),I.call(this,q)}if($.colorSpace===y.INDEXED){var te=this.internal.newObject();M({data:L(new Uint8Array($.palette)),objectId:te}),J("endobj")}},o=function(){var I=this.internal.collections[r+"images"];for(var $ in I)i.call(this,I[$])},l=function(){var I,$=this.internal.collections[r+"images"],J=this.internal.write;for(var M in $)J("/I"+(I=$[M]).index,I.objectId,"0","R")},A=function(){this.internal.collections[r+"images"]||(this.internal.collections[r+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var I=this.internal.collections[r+"images"];return A.call(this),I},f=function(){return Object.keys(this.internal.collections[r+"images"]).length},h=function(I){return typeof e["process"+I.toUpperCase()]=="function"},m=function(I){return Ha(I)==="object"&&I.nodeType===1},p=function(I,$){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var J=""+I.getAttribute("src");if(J.indexOf("data:image/")===0)return Pg(unescape(J).split("base64,").pop());var M=e.loadFile(J,!0);if(M!==void 0)return M}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var re;switch($){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;default:re="image/jpeg"}return Pg(I.toDataURL(re,1).split("base64,").pop())}},v=function(I){var $=this.internal.collections[r+"images"];if($){for(var J in $)if(I===$[J].alias)return $[J]}},g=function(I,$,J){return I||$||(I=-96,$=-96),I<0&&(I=-1*J.width*72/I/this.internal.scaleFactor),$<0&&($=-1*J.height*72/$/this.internal.scaleFactor),I===0&&(I=$*J.width/J.height),$===0&&($=I*J.height/J.width),[I,$]},w=function(I,$,J,M,re,K){var G=g.call(this,J,M,re),z=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,Ae=d.call(this);if(J=G[0],M=G[1],Ae[re.index]=re,K){K*=Math.PI/180;var ee=Math.cos(K),R=Math.sin(K),q=function(F){return F.toFixed(4)},te=[q(ee),q(R),q(-1*R),q(ee),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,z(I),Z($+M),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([z(J),"0","0",z(M),"0","0","cm"].join(" "))):this.internal.write([z(J),"0","0",z(M),z(I),Z($+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(I){var $,J,M=0;if(typeof I=="string")for(J=I.length,$=0;$<J;$++)M=(M<<5)-M+I.charCodeAt($),M|=0;else if(D(I))for(J=I.byteLength/2,$=0;$<J;$++)M=(M<<5)-M+I[$],M|=0;return M},E=e.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var $=!0;return I.length===0&&($=!1),I.length%4!=0&&($=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&($=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&($=!1),$},U=e.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var $=I.indexOf(",");return $<0?null:I.substring(0,$).trim().endsWith("base64")?I.substring($+1):null};e.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},k=e.__addimage__.binaryStringToUint8Array=function(I){for(var $=I.length,J=new Uint8Array($),M=0;M<$;M++)J[M]=I.charCodeAt(M);return J},L=e.__addimage__.arrayBufferToBinaryString=function(I){for(var $="",J=D(I)?I:new Uint8Array(I),M=0;M<J.length;M+=8192)$+=String.fromCharCode.apply(null,J.subarray(M,M+8192));return $};e.addImage=function(){var I,$,J,M,re,K,G,z,Z;if(typeof arguments[1]=="number"?($=t,J=arguments[1],M=arguments[2],re=arguments[3],K=arguments[4],G=arguments[5],z=arguments[6],Z=arguments[7]):($=arguments[1],J=arguments[2],M=arguments[3],re=arguments[4],K=arguments[5],G=arguments[6],z=arguments[7],Z=arguments[8]),Ha(I=arguments[0])==="object"&&!m(I)&&"imageData"in I){var Ae=I;I=Ae.imageData,$=Ae.format||$||t,J=Ae.x||J||0,M=Ae.y||M||0,re=Ae.w||Ae.width||re,K=Ae.h||Ae.height||K,G=Ae.alias||G,z=Ae.compression||z,Z=Ae.rotation||Ae.angle||Z}var ee=this.internal.getFilters();if(z===void 0&&ee.indexOf("FlateEncode")!==-1&&(z="SLOW"),isNaN(J)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");A.call(this);var R=_.call(this,I,$,G,z);return w.call(this,J,M,re,K,R,Z),this};var _=function(I,$,J,M){var re,K,G;if(typeof I=="string"&&s(I)===t){I=unescape(I);var z=Y(I,!1);(z!==""||(z=e.loadFile(I,!0))!==void 0)&&(I=z)}if(m(I)&&(I=p(I,$)),$=s(I,$),!h($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(((G=J)==null||G.length===0)&&(J=(function(Z){return typeof Z=="string"||D(Z)?C(Z):D(Z.data)?C(Z.data):null})(I)),(re=v.call(this,J))||(I instanceof Uint8Array||$==="RGBA"||(K=I,I=k(I)),re=this["process"+$.toUpperCase()](I,f.call(this),J,(function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in e.image_compression?Z:N.NONE})(M),K)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},Y=e.__addimage__.convertBase64ToBinaryString=function(I,$){$=typeof $!="boolean"||$;var J,M="";if(typeof I=="string"){var re;J=(re=U(I))!==null&&re!==void 0?re:I;try{M=Pg(J)}catch(K){if($)throw E(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return M};e.getImageProperties=function(I){var $,J,M="";if(m(I)&&(I=p(I)),typeof I=="string"&&s(I)===t&&((M=Y(I,!1))===""&&(M=e.loadFile(I)||""),I=M),J=s(I),!h(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(I instanceof Uint8Array||(I=k(I)),!($=this["process"+J.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return $.fileType=J,$}})(dr.API),(function(e){var r=function(t){if(t!==void 0&&t!="")return!0};dr.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(t){for(var a,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,A=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,f=!1,h=0;h<d.length&&!f;h++)switch((a=d[h]).type){case"link":(r(a.options.url)||r(a.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var m=0;m<d.length;m++){a=d[m];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(t.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(g.objId),N=a.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y)+"] ")+"/Contents ("+p(y(a.contents))+")",i+=" /Popup "+w.objId+" 0 R",i+=" /P "+A.objId+" 0 R",i+=" /T ("+p(y(N))+") >>",g.content=i;var C=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(a.bounds.x+30)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w+30)+" "+l(a.bounds.y)+"] ")+" /Parent "+C,a.open&&(i+=" /Open true"),i+=" >>",w.content=i,this.internal.write(g.objId,"0 R",w.objId,"0 R");break;case"freetext":s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y+a.bounds.h)+"] ";var E=a.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(v(a.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(a.options.name){var U=this.annotations._nameMap[a.options.name];a.options.pageNumber=U.page,a.options.top=U.y}else a.options.top||(a.options.top=0);if(s="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",i="",a.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(a.options.url))+") >>";else if(a.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,i+=" /FitV "+a.options.left+"]";break;default:var D=l(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),i+=" /XYZ "+a.options.left+" "+D+" "+a.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(t){var a=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":a.pageContext.annotations.push(t)}},e.link=function(t,a,s,i,o){var l=this.internal.getCurrentPageInfo(),A=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:A(t),y:d(a),w:A(t+s),h:d(a+i)},options:o,type:"link"})},e.textWithLink=function(t,a,s,i){var o,l,A=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var f=this.splitTextToSize(t,l).length;o=Math.ceil(d*f)}else l=A,o=d;return this.text(t,a,s,i),s+=.2*d,i.align==="center"&&(a-=A/2),i.align==="right"&&(a-=A),this.link(a,s-d,l,o,i),A},e.getTextWidth=function(t){var a=this.internal.getFontSize();return this.getStringUnitWidth(t)*a/this.internal.scaleFactor}})(dr.API),(function(e){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return r[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&r[g.charCodeAt(0)].length<=2},A=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&s.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&r[g.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&r[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&r[g.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&r[g.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(g){var w=0,y=t,N="",C=0;for(w=0;w<g.length;w+=1)y[g.charCodeAt(w)]!==void 0?(C++,typeof(y=y[g.charCodeAt(w)])=="number"&&(N+=String.fromCharCode(y),y=t,C=0),w===g.length-1&&(y=t,N+=g.charAt(w-(C-1)),w-=C-1,C=0)):(y=t,N+=g.charAt(w-C),w-=C,C=0);return N};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&a[g.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(g,w,y){return o(g)?i(g)===!1?-1:!d(g)||!o(w)&&!o(y)||!o(y)&&l(w)||l(g)&&!o(w)||l(g)&&A(w)||l(g)&&l(w)?0:f(g)&&o(w)&&!l(w)&&o(y)&&d(y)?3:l(g)||!o(y)?1:2:-1},p=function(g){var w=0,y=0,N=0,C="",E="",U="",D=(g=g||"").split("\\s+"),k=[];for(w=0;w<D.length;w+=1){for(k.push(""),y=0;y<D[w].length;y+=1)C=D[w][y],E=D[w][y-1],U=D[w][y+1],o(C)?(N=m(C,E,U),k[w]+=N!==-1?String.fromCharCode(r[C.charCodeAt(0)][N]):C):k[w]+=C;k[w]=h(k[w])}return k.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var g,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(w)){var N=0;for(y=[],N=0;N<w.length;N+=1)Array.isArray(w[N])?y.push([p(w[N][0]),w[N][1],w[N][2]]):y.push([p(w[N])]);g=y}else g=p(w);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",v])})(dr.API),dr.API.autoPrint=function(e){var r;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})),this},(function(e){var r=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(t,a){var s;if((t=t||"2d")!=="2d")return null;for(s in a)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=a[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])})(dr.API),(function(e){var r={left:0,top:0,bottom:0,right:0},t=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var A=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return A},set:function(g){A=g}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(g){v=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(A){return a.call(this),this.internal.__cell__.headerFunction=typeof A=="function"?A:void 0,this},e.getTextDimensions=function(A,d){a.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),m=d.scaleFactor||this.internal.scaleFactor,p=0,v=0,g=0,w=this;if(!Array.isArray(A)&&typeof A!="string"){if(typeof A!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");A=String(A)}var y=d.maxWidth;y>0?typeof A=="string"?A=this.splitTextToSize(A,y):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(C,E){return C.concat(w.splitTextToSize(E,y))},[])):A=Array.isArray(A)?A:[A];for(var N=0;N<A.length;N++)p<(g=this.getStringUnitWidth(A[N],{font:h})*f)&&(p=g);return p!==0&&(v=A.length),{w:p/=m,h:Math.max((v*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var A=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new i(A.left,A.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var A;A=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||r,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===A.lineNumber?(A.x=(d.x||0)+(d.width||0),A.y=d.y||0):d.y+d.height+A.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),A.y=h.top,p&&m&&(this.printHeaderRow(A.lineNumber,!0),A.y+=m[0].height)):A.y=d.y+d.height||A.y),A.text[0]!==void 0&&(this.rect(A.x,A.y,A.width,A.height,t===!0?"FD":void 0),A.align==="right"?this.text(A.text,A.x+A.width-f,A.y+f,{align:"right",baseline:"top"}):A.align==="center"?this.text(A.text,A.x+A.width/2,A.y+f,{align:"center",baseline:"top",maxWidth:A.width-f-f}):this.text(A.text,A.x+f,A.y+f,{align:"left",baseline:"top",maxWidth:A.width-f-f})),this.internal.__cell__.lastCell=A,this};e.table=function(A,d,f,h,m){if(a.call(this),!f)throw new Error("No data for PDF table.");var p,v,g,w,y=[],N=[],C=[],E={},U={},D=[],k=[],L=(m=m||{}).autoSize||!1,_=m.printHeaders!==!1,Y=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,I=m.margins||Object.assign({width:this.getPageWidth()},r),$=typeof m.padding=="number"?m.padding:3,J=m.headerBackgroundColor||"#c8c8c8",M=m.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=Y,this.internal.__cell__.padding=$,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=M,this.setFontSize(Y),h==null)N=y=Object.keys(f[0]),C=y.map(function(){return"left"});else if(Array.isArray(h)&&Ha(h[0])==="object")for(y=h.map(function(Ae){return Ae.name}),N=h.map(function(Ae){return Ae.prompt||Ae.name||""}),C=h.map(function(Ae){return Ae.align||"left"}),p=0;p<h.length;p+=1)U[h[p].name]=.7499990551181103*h[p].width;else Array.isArray(h)&&typeof h[0]=="string"&&(N=y=h,C=y.map(function(){return"left"}));if(L||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<y.length;p+=1){for(E[w=y[p]]=f.map(function(Ae){return Ae[w]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(N[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=E[w],this.setFont(void 0,"normal"),g=0;g<v.length;g+=1)D.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);U[w]=Math.max.apply(null,D)+$+$,D=[]}if(_){var re={};for(p=0;p<y.length;p+=1)re[y[p]]={},re[y[p]].text=N[p],re[y[p]].align=C[p];var K=l.call(this,re,U);k=y.map(function(Ae){return new i(A,d,U[Ae],K,re[Ae].text,void 0,re[Ae].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var G=h.reduce(function(Ae,ee){return Ae[ee.name]=ee.align,Ae},{});for(p=0;p<f.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:f[p]},this);var z=l.call(this,f[p],U);for(g=0;g<y.length;g+=1){var Z=f[p][y[g]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:g,data:Z},this),o.call(this,new i(A,d,U[y[g]],z,Z,p+2,G[y[g]]))}}return this.internal.__cell__.table_x=A,this.internal.__cell__.table_y=d,this};var l=function(A,d){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(A).map(function(p){var v=A[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,d[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/m+f+f},this).reduce(function(p,v){return Math.max(p,v)},0)};e.setTableHeaderRow=function(A){a.call(this),this.internal.__cell__.tableHeaderRow=A},e.printHeaderRow=function(A,d){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,m.push(f)),f.lineNumber=A;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(v)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),t=!1}})(dr.API);var f3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},h3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ky=u3(h3),m3=[100,200,300,400,500,600,700,800,900],YK=u3(m3);function jw(e){var r=e.family.replace(/"|'/g,"").toLowerCase(),t=(function(i){return f3[i=i||"normal"]?i:"normal"})(e.style),a=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),s=(function(i){return typeof Ky[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:r,style:t,weight:a,stretch:s,src:e.src||[],ref:e.ref||{name:r,style:[s,t,a].join(" ")}}}function PB(e,r,t,a){var s;for(s=t;s>=0&&s<r.length;s+=a)if(e[r[s]])return e[r[s]];for(s=t;s>=0&&s<r.length;s-=a)if(e[r[s]])return e[r[s]]}var XK={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},QB={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function RB(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function MB(e){return e.trimLeft()}function JK(e,r){for(var t=0;t<e.length;){if(e.charAt(t)===r)return[e.substring(0,t),e.substring(t+1)];t+=1}return null}function ZK(e){var r=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],e.substring(r[0].length)]}var qp,TB,OB,Af,Wp,HB,$B,KB,Nw=["times"];function VB(e,r,t,a,s){var i=4,o=qB;switch(s){case dr.API.image_compression.FAST:i=1,o=zB;break;case dr.API.image_compression.MEDIUM:i=6,o=WB;break;case dr.API.image_compression.SLOW:i=9,o=GB}e=(function(A,d,f,h){for(var m,p=A.length/d,v=new Uint8Array(A.length+p),g=[eV,zB,qB,WB,GB],w=0;w<p;w+=1){var y=w*d,N=A.subarray(y,y+d);if(h)v.set(h(N,f,m),y+w);else{for(var C=g.length,E=[],U=0;U<C;U+=1)E[U]=g[U](N,f,m);var D=rV(E.concat());v.set(E[D],y+w)}m=N}return v})(e,r,Math.ceil(t*a/8),o);var l=Qy(e,{level:i});return dr.API.__addimage__.arrayBufferToBinaryString(l)}function eV(e){var r=Array.apply([],e);return r.unshift(0),r}function zB(e,r){var t=e.length,a=[];a[0]=1;for(var s=0;s<t;s+=1){var i=e[s-r]||0;a[s+1]=e[s]-i+256&255}return a}function qB(e,r,t){var a=e.length,s=[];s[0]=2;for(var i=0;i<a;i+=1){var o=t&&t[i]||0;s[i+1]=e[i]-o+256&255}return s}function WB(e,r,t){var a=e.length,s=[];s[0]=3;for(var i=0;i<a;i+=1){var o=e[i-r]||0,l=t&&t[i]||0;s[i+1]=e[i]+256-(o+l>>>1)&255}return s}function GB(e,r,t){var a=e.length,s=[];s[0]=4;for(var i=0;i<a;i+=1){var o=tV(e[i-r]||0,t&&t[i]||0,t&&t[i-r]||0);s[i+1]=e[i]-o+256&255}return s}function tV(e,r,t){if(e===r&&r===t)return e;var a=Math.abs(r-t),s=Math.abs(e-t),i=Math.abs(e+r-t-t);return a<=s&&a<=i?e:s<=i?r:t}function rV(e){var r=e.map(function(t){return t.reduce(function(a,s){return a+Math.abs(s)},0)});return r.indexOf(Math.min.apply(null,r))}function Bw(e,r,t){var a=r*t,s=Math.floor(a/8),i=16-(a-8*s+t),o=(1<<t)-1;return p3(e,s)>>i&o}function YB(e,r,t,a){var s=t*a,i=Math.floor(s/8),o=16-(s-8*i+a),l=(1<<a)-1,A=(r&l)<<o;(function(d,f,h){if(f+1<d.byteLength)d.setUint16(f,h,!1);else{var m=h>>8&255;d.setUint8(f,m)}})(e,i,p3(e,i)&~(l<<o)&65535|A)}function p3(e,r){return r+1<e.byteLength?e.getUint16(r,!1):e.getUint8(r)<<8}function aV(e){var r=0;if(e[r++]!==71||e[r++]!==73||e[r++]!==70||e[r++]!==56||(e[r++]+1&253)!=56||e[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=e[r++]|e[r++]<<8,a=e[r++]|e[r++]<<8,s=e[r++],i=s>>7,o=1<<1+(7&s);e[r++],e[r++];var l=null,A=null;i&&(l=r,A=o,r+=3*o);var d=!0,f=[],h=0,m=null,p=0,v=null;for(this.width=t,this.height=a;d&&r<e.length;)switch(e[r++]){case 33:switch(e[r++]){case 255:if(e[r]!==11||e[r+1]==78&&e[r+2]==69&&e[r+3]==84&&e[r+4]==83&&e[r+5]==67&&e[r+6]==65&&e[r+7]==80&&e[r+8]==69&&e[r+9]==50&&e[r+10]==46&&e[r+11]==48&&e[r+12]==3&&e[r+13]==1&&e[r+16]==0)r+=14,v=e[r++]|e[r++]<<8,r++;else for(r+=12;;){if(!((I=e[r++])>=0))throw Error("Invalid block size");if(I===0)break;r+=I}break;case 249:if(e[r++]!==4||e[r+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[r++];h=e[r++]|e[r++]<<8,m=e[r++],1&g||(m=null),p=g>>2&7,r++;break;case 254:for(;;){if(!((I=e[r++])>=0))throw Error("Invalid block size");if(I===0)break;r+=I}break;default:throw new Error("Unknown graphic control label: 0x"+e[r-1].toString(16))}break;case 44:var w=e[r++]|e[r++]<<8,y=e[r++]|e[r++]<<8,N=e[r++]|e[r++]<<8,C=e[r++]|e[r++]<<8,E=e[r++],U=E>>6&1,D=1<<1+(7&E),k=l,L=A,_=!1;E>>7&&(_=!0,k=r,L=D,r+=3*D);var Y=r;for(r++;;){var I;if(!((I=e[r++])>=0))throw Error("Invalid block size");if(I===0)break;r+=I}f.push({x:w,y,width:N,height:C,has_local_palette:_,palette_offset:k,palette_size:L,data_offset:Y,data_length:r-Y,transparent_index:m,interlaced:!!U,delay:h,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[r-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return v},this.frameInfo=function($){if($<0||$>=f.length)throw new Error("Frame index out of range.");return f[$]},this.decodeAndBlitFrameBGRA=function($,J){var M=this.frameInfo($),re=M.width*M.height,K=new Uint8Array(re);XB(e,M.data_offset,K,re);var G=M.palette_offset,z=M.transparent_index;z===null&&(z=256);var Z=M.width,Ae=t-Z,ee=Z,R=4*(M.y*t+M.x),q=4*((M.y+M.height)*t+M.x),te=R,F=4*Ae;M.interlaced===!0&&(F+=4*t*7);for(var X=8,H=0,V=K.length;H<V;++H){var ae=K[H];if(ee===0&&(ee=Z,(te+=F)>=q&&(F=4*Ae+4*t*(X-1),te=R+(Z+Ae)*(X<<1),X>>=1)),ae===z)te+=4;else{var fe=e[G+3*ae],ve=e[G+3*ae+1],Be=e[G+3*ae+2];J[te++]=Be,J[te++]=ve,J[te++]=fe,J[te++]=255}--ee}},this.decodeAndBlitFrameRGBA=function($,J){var M=this.frameInfo($),re=M.width*M.height,K=new Uint8Array(re);XB(e,M.data_offset,K,re);var G=M.palette_offset,z=M.transparent_index;z===null&&(z=256);var Z=M.width,Ae=t-Z,ee=Z,R=4*(M.y*t+M.x),q=4*((M.y+M.height)*t+M.x),te=R,F=4*Ae;M.interlaced===!0&&(F+=4*t*7);for(var X=8,H=0,V=K.length;H<V;++H){var ae=K[H];if(ee===0&&(ee=Z,(te+=F)>=q&&(F=4*Ae+4*t*(X-1),te=R+(Z+Ae)*(X<<1),X>>=1)),ae===z)te+=4;else{var fe=e[G+3*ae],ve=e[G+3*ae+1],Be=e[G+3*ae+2];J[te++]=fe,J[te++]=ve,J[te++]=Be,J[te++]=255}--ee}}}function XB(e,r,t,a){for(var s=e[r++],i=1<<s,o=i+1,l=o+1,A=s+1,d=(1<<A)-1,f=0,h=0,m=0,p=e[r++],v=new Int32Array(4096),g=null;;){for(;f<16&&p!==0;)h|=e[r++]<<f,f+=8,p===1?p=e[r++]:--p;if(f<A)break;var w=h&d;if(h>>=A,f-=A,w!==i){if(w===o)break;for(var y=w<l?w:g,N=0,C=y;C>i;)C=v[C]>>8,++N;var E=C;if(m+N+(y!==w?1:0)>a)return void Za.log("Warning, gif stream longer than expected.");t[m++]=E;var U=m+=N;for(y!==w&&(t[m++]=E),C=y;N--;)C=v[C],t[--U]=255&C,C>>=8;g!==null&&l<4096&&(v[l++]=g<<8|E,l>=d+1&&A<12&&(++A,d=d<<1|1)),g=w}else l=o+1,d=(1<<(A=s+1))-1,g=null}return m!==a&&Za.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Cw(e){var r,t,a,s,i,o=Math.floor,l=new Array(64),A=new Array(64),d=new Array(64),f=new Array(64),h=new Array(65535),m=new Array(65535),p=new Array(64),v=new Array(64),g=[],w=0,y=7,N=new Array(64),C=new Array(64),E=new Array(64),U=new Array(256),D=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],$=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(R,q){for(var te=0,F=0,X=new Array,H=1;H<=16;H++){for(var V=1;V<=R[H];V++)X[q[F]]=[],X[q[F]][0]=te,X[q[F]][1]=H,F++,te++;te*=2}return X}function G(R){for(var q=R[0],te=R[1]-1;te>=0;)q&1<<te&&(w|=1<<y),te--,--y<0&&(w==255?(z(255),z(0)):z(w),y=7,w=0)}function z(R){g.push(R)}function Z(R){z(R>>8&255),z(255&R)}function Ae(R,q,te,F,X){for(var H,V=X[0],ae=X[240],fe=(function(Ee,At){var st,Mt,kt,Nt,ut,Pt,Dt,Et,vt,bt,St=0;for(vt=0;vt<8;++vt){st=Ee[St],Mt=Ee[St+1],kt=Ee[St+2],Nt=Ee[St+3],ut=Ee[St+4],Pt=Ee[St+5],Dt=Ee[St+6];var Tr=st+(Et=Ee[St+7]),jr=st-Et,Qt=Mt+Dt,gr=Mt-Dt,Wr=kt+Pt,jt=kt-Pt,xr=Nt+ut,Ar=Nt-ut,Xr=Tr+xr,ga=Tr-xr,Ze=Qt+Wr,We=Qt-Wr;Ee[St]=Xr+Ze,Ee[St+4]=Xr-Ze;var Me=.707106781*(We+ga);Ee[St+2]=ga+Me,Ee[St+6]=ga-Me;var Fr=.382683433*((Xr=Ar+jt)-(We=gr+jr)),yt=.5411961*Xr+Fr,rr=1.306562965*We+Fr,ca=.707106781*(Ze=jt+gr),er=jr+ca,Nn=jr-ca;Ee[St+5]=Nn+yt,Ee[St+3]=Nn-yt,Ee[St+1]=er+rr,Ee[St+7]=er-rr,St+=8}for(St=0,vt=0;vt<8;++vt){st=Ee[St],Mt=Ee[St+8],kt=Ee[St+16],Nt=Ee[St+24],ut=Ee[St+32],Pt=Ee[St+40],Dt=Ee[St+48];var gs=st+(Et=Ee[St+56]),hn=st-Et,ns=Mt+Dt,ft=Mt-Dt,Va=kt+Pt,Ya=kt-Pt,Ns=Nt+ut,fi=Nt-ut,Xa=gs+Ns,$e=gs-Ns,et=ns+Va,Ft=ns-Va;Ee[St]=Xa+et,Ee[St+32]=Xa-et;var it=.707106781*(Ft+$e);Ee[St+16]=$e+it,Ee[St+48]=$e-it;var Ht=.382683433*((Xa=fi+Ya)-(Ft=ft+hn)),mr=.5411961*Xa+Ht,$t=1.306562965*Ft+Ht,Ur=.707106781*(et=Ya+ft),Kr=hn+Ur,ar=hn-Ur;Ee[St+40]=ar+mr,Ee[St+24]=ar-mr,Ee[St+8]=Kr+$t,Ee[St+56]=Kr-$t,St++}for(vt=0;vt<64;++vt)bt=Ee[vt]*At[vt],p[vt]=bt>0?bt+.5|0:bt-.5|0;return p})(R,q),ve=0;ve<64;++ve)v[k[ve]]=fe[ve];var Be=v[0]-te;te=v[0],Be==0?G(F[0]):(G(F[m[H=32767+Be]]),G(h[H]));for(var ke=63;ke>0&&v[ke]==0;)ke--;if(ke==0)return G(V),te;for(var xe,ie=1;ie<=ke;){for(var lt=ie;v[ie]==0&&ie<=ke;)++ie;var mt=ie-lt;if(mt>=16){xe=mt>>4;for(var at=1;at<=xe;++at)G(ae);mt&=15}H=32767+v[ie],G(X[(mt<<4)+m[H]]),G(h[H]),ie++}return ke!=63&&G(V),te}function ee(R){R=Math.min(Math.max(R,1),100),i!=R&&((function(q){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],F=0;F<64;F++){var X=o((te[F]*q+50)/100);X=Math.min(Math.max(X,1),255),l[k[F]]=X}for(var H=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],V=0;V<64;V++){var ae=o((H[V]*q+50)/100);ae=Math.min(Math.max(ae,1),255),A[k[V]]=ae}for(var fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ve=0,Be=0;Be<8;Be++)for(var ke=0;ke<8;ke++)d[ve]=1/(l[k[ve]]*fe[Be]*fe[ke]*8),f[ve]=1/(A[k[ve]]*fe[Be]*fe[ke]*8),ve++})(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),i=R)}this.encode=function(R,q){q&&ee(q),g=new Array,w=0,y=7,Z(65496),Z(65504),Z(16),z(74),z(70),z(73),z(70),z(0),z(1),z(1),z(0),Z(1),Z(1),z(0),z(0),(function(){Z(65499),Z(132),z(0);for(var Mt=0;Mt<64;Mt++)z(l[Mt]);z(1);for(var kt=0;kt<64;kt++)z(A[kt])})(),(function(Mt,kt){Z(65472),Z(17),z(8),Z(kt),Z(Mt),z(3),z(1),z(17),z(0),z(2),z(17),z(1),z(3),z(17),z(1)})(R.width,R.height),(function(){Z(65476),Z(418),z(0);for(var Mt=0;Mt<16;Mt++)z(L[Mt+1]);for(var kt=0;kt<=11;kt++)z(_[kt]);z(16);for(var Nt=0;Nt<16;Nt++)z(Y[Nt+1]);for(var ut=0;ut<=161;ut++)z(I[ut]);z(1);for(var Pt=0;Pt<16;Pt++)z($[Pt+1]);for(var Dt=0;Dt<=11;Dt++)z(J[Dt]);z(17);for(var Et=0;Et<16;Et++)z(M[Et+1]);for(var vt=0;vt<=161;vt++)z(re[vt])})(),Z(65498),Z(12),z(3),z(1),z(0),z(2),z(17),z(3),z(17),z(0),z(63),z(0);var te=0,F=0,X=0;w=0,y=7,this.encode.displayName="_encode_";for(var H,V,ae,fe,ve,Be,ke,xe,ie,lt=R.data,mt=R.width,at=R.height,Ee=4*mt,At=0;At<at;){for(H=0;H<Ee;){for(ve=Ee*At+H,ke=-1,xe=0,ie=0;ie<64;ie++)Be=ve+(xe=ie>>3)*Ee+(ke=4*(7&ie)),At+xe>=at&&(Be-=Ee*(At+1+xe-at)),H+ke>=Ee&&(Be-=H+ke-Ee+4),V=lt[Be++],ae=lt[Be++],fe=lt[Be++],N[ie]=(D[V]+D[ae+256|0]+D[fe+512|0]>>16)-128,C[ie]=(D[V+768|0]+D[ae+1024|0]+D[fe+1280|0]>>16)-128,E[ie]=(D[V+1280|0]+D[ae+1536|0]+D[fe+1792|0]>>16)-128;te=Ae(N,d,te,r,a),F=Ae(C,f,F,t,s),X=Ae(E,f,X,t,s),H+=32}At+=8}if(y>=0){var st=[];st[1]=y+1,st[0]=(1<<y+1)-1,G(st)}return Z(65497),new Uint8Array(g)},e=e||50,(function(){for(var R=String.fromCharCode,q=0;q<256;q++)U[q]=R(q)})(),r=K(L,_),t=K($,J),a=K(Y,I),s=K(M,re),(function(){for(var R=1,q=2,te=1;te<=15;te++){for(var F=R;F<q;F++)m[32767+F]=te,h[32767+F]=[],h[32767+F][1]=te,h[32767+F][0]=F;for(var X=-(q-1);X<=-R;X++)m[32767+X]=te,h[32767+X]=[],h[32767+X][1]=te,h[32767+X][0]=q-1+X;R<<=1,q<<=1}})(),(function(){for(var R=0;R<256;R++)D[R]=19595*R,D[R+256|0]=38470*R,D[R+512|0]=7471*R+32768,D[R+768|0]=-11059*R,D[R+1024|0]=-21709*R,D[R+1280|0]=32768*R+8421375,D[R+1536|0]=-27439*R,D[R+1792|0]=-5329*R})(),ee(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function hl(e,r){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function JB(e){function r(_){if(!_)throw Error("assert :P")}function t(_,Y,I){for(var $=0;4>$;$++)if(_[Y+$]!=I.charCodeAt($))return!0;return!1}function a(_,Y,I,$,J){for(var M=0;M<J;M++)_[Y+M]=I[$+M]}function s(_,Y,I,$){for(var J=0;J<$;J++)_[Y+J]=I}function i(_){return new Int32Array(_)}function o(_,Y){for(var I=[],$=0;$<_;$++)I.push(new Y);return I}function l(_,Y){var I=[];return(function $(J,M,re){for(var K=re[M],G=0;G<K&&(J.push(re.length>M+1?[]:new Y),!(re.length<M+1));G++)$(J[G],M+1,re)})(I,0,_),I}var A=function(){var _=this;function Y(j,S){for(var T=1<<S-1>>>0;j&T;)T>>>=1;return T?(j&T-1)+T:j}function I(j,S,T,W,ne){r(!(W%T));do j[S+(W-=T)]=ne;while(0<W)}function $(j,S,T,W,ne){if(r(2328>=ne),512>=ne)var le=i(512);else if((le=i(ne))==null)return 0;return(function(ce,de,ue,he,je,Ie){var me,Ce,Ue=de,Ye=1<<ue,Qe=i(16),Ke=i(16);for(r(je!=0),r(he!=null),r(ce!=null),r(0<ue),Ce=0;Ce<je;++Ce){if(15<he[Ce])return 0;++Qe[he[Ce]]}if(Qe[0]==je)return 0;for(Ke[1]=0,me=1;15>me;++me){if(Qe[me]>1<<me)return 0;Ke[me+1]=Ke[me]+Qe[me]}for(Ce=0;Ce<je;++Ce)me=he[Ce],0<he[Ce]&&(Ie[Ke[me]++]=Ce);if(Ke[15]==1)return(he=new J).g=0,he.value=Ie[0],I(ce,Ue,1,Ye,he),Ye;var qe,tt=-1,rt=Ye-1,sr=0,Kt=1,Ir=1,Yt=1<<ue;for(Ce=0,me=1,je=2;me<=ue;++me,je<<=1){if(Kt+=Ir<<=1,0>(Ir-=Qe[me]))return 0;for(;0<Qe[me];--Qe[me])(he=new J).g=me,he.value=Ie[Ce++],I(ce,Ue+sr,je,Yt,he),sr=Y(sr,me)}for(me=ue+1,je=2;15>=me;++me,je<<=1){if(Kt+=Ir<<=1,0>(Ir-=Qe[me]))return 0;for(;0<Qe[me];--Qe[me]){if(he=new J,(sr&rt)!=tt){for(Ue+=Yt,qe=1<<(tt=me)-ue;15>tt&&!(0>=(qe-=Qe[tt]));)++tt,qe<<=1;Ye+=Yt=1<<(qe=tt-ue),ce[de+(tt=sr&rt)].g=qe+ue,ce[de+tt].value=Ue-de-tt}he.g=me-ue,he.value=Ie[Ce++],I(ce,Ue+(sr>>ue),je,Yt,he),sr=Y(sr,me)}}return Kt!=2*Ke[15]-1?0:Ye})(j,S,T,W,ne,le)}function J(){this.value=this.g=0}function M(){this.value=this.g=0}function re(){this.G=o(5,J),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ii,M)}function K(j,S,T,W){r(j!=null),r(S!=null),r(2147483648>W),j.Ca=254,j.I=0,j.b=-8,j.Ka=0,j.oa=S,j.pa=T,j.Jd=S,j.Yc=T+W,j.Zc=4<=W?T+W-4+1:T,V(j)}function G(j,S){for(var T=0;0<S--;)T|=fe(j,128)<<S;return T}function z(j,S){var T=G(j,S);return ae(j)?-T:T}function Z(j,S,T,W){var ne,le=0;for(r(j!=null),r(S!=null),r(4294967288>W),j.Sb=W,j.Ra=0,j.u=0,j.h=0,4<W&&(W=4),ne=0;ne<W;++ne)le+=S[T+ne]<<8*ne;j.Ra=le,j.bb=W,j.oa=S,j.pa=T}function Ae(j){for(;8<=j.u&&j.bb<j.Sb;)j.Ra>>>=8,j.Ra+=j.oa[j.pa+j.bb]<<Ul-8>>>0,++j.bb,j.u-=8;F(j)&&(j.h=1,j.u=0)}function ee(j,S){if(r(0<=S),!j.h&&S<=gi){var T=te(j)&pi[S];return j.u+=S,Ae(j),T}return j.h=1,j.u=0}function R(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(j){return j.Ra>>>(j.u&Ul-1)>>>0}function F(j){return r(j.bb<=j.Sb),j.h||j.bb==j.Sb&&j.u>Ul}function X(j,S){j.u=S,j.h=F(j)}function H(j){j.u>=So&&(r(j.u>=So),Ae(j))}function V(j){r(j!=null&&j.oa!=null),j.pa<j.Zc?(j.I=(j.oa[j.pa++]|j.I<<8)>>>0,j.b+=8):(r(j!=null&&j.oa!=null),j.pa<j.Yc?(j.b+=8,j.I=j.oa[j.pa++]|j.I<<8):j.Ka?j.b=0:(j.I<<=8,j.b+=8,j.Ka=1))}function ae(j){return G(j,1)}function fe(j,S){var T=j.Ca;0>j.b&&V(j);var W=j.b,ne=T*S>>>8,le=(j.I>>>W>ne)+0;for(le?(T-=ne,j.I-=ne+1<<W>>>0):T=ne+1,W=T,ne=0;256<=W;)ne+=8,W>>=8;return W=7^ne+tl[W],j.b-=W,j.Ca=(T<<W)-1,le}function ve(j,S,T){j[S+0]=T>>24&255,j[S+1]=T>>16&255,j[S+2]=T>>8&255,j[S+3]=255&T}function Be(j,S){return j[S+0]|j[S+1]<<8}function ke(j,S){return Be(j,S)|j[S+2]<<16}function xe(j,S){return Be(j,S)|Be(j,S+2)<<16}function ie(j,S){var T=1<<S;return r(j!=null),r(0<S),j.X=i(T),j.X==null?0:(j.Mb=32-S,j.Xa=S,1)}function lt(j,S){r(j!=null),r(S!=null),r(j.Xa==S.Xa),a(S.X,0,j.X,0,1<<S.Xa)}function mt(){this.X=[],this.Xa=this.Mb=0}function at(j,S,T,W){r(T!=null),r(W!=null);var ne=T[0],le=W[0];return ne==0&&(ne=(j*le+S/2)/S),le==0&&(le=(S*ne+j/2)/j),0>=ne||0>=le?0:(T[0]=ne,W[0]=le,1)}function Ee(j,S){return j+(1<<S)-1>>>S}function At(j,S){return((4278255360&j)+(4278255360&S)>>>0&4278255360)+((16711935&j)+(16711935&S)>>>0&16711935)>>>0}function st(j,S){_[S]=function(T,W,ne,le,ce,de,ue){var he;for(he=0;he<ce;++he){var je=_[j](de[ue+he-1],ne,le+he);de[ue+he]=At(T[W+he],je)}}}function Mt(){this.ud=this.hd=this.jd=0}function kt(j,S){return((4278124286&(j^S))>>>1)+(j&S)>>>0}function Nt(j){return 0<=j&&256>j?j:0>j?0:255<j?255:void 0}function ut(j,S){return Nt(j+(j-S+.5>>1))}function Pt(j,S,T){return Math.abs(S-T)-Math.abs(j-T)}function Dt(j,S,T,W,ne,le,ce){for(W=le[ce-1],T=0;T<ne;++T)le[ce+T]=W=At(j[S+T],W)}function Et(j,S,T,W,ne){var le;for(le=0;le<T;++le){var ce=j[S+le],de=ce>>8&255,ue=16711935&(ue=(ue=16711935&ce)+((de<<16)+de));W[ne+le]=(4278255360&ce)+ue>>>0}}function vt(j,S){S.jd=255&j,S.hd=j>>8&255,S.ud=j>>16&255}function bt(j,S,T,W,ne,le){var ce;for(ce=0;ce<W;++ce){var de=S[T+ce],ue=de>>>8,he=de,je=255&(je=(je=de>>>16)+((j.jd<<24>>24)*(ue<<24>>24)>>>5));he=255&(he=(he+=(j.hd<<24>>24)*(ue<<24>>24)>>>5)+((j.ud<<24>>24)*(je<<24>>24)>>>5)),ne[le+ce]=(4278255360&de)+(je<<16)+he}}function St(j,S,T,W,ne){_[S]=function(le,ce,de,ue,he,je,Ie,me,Ce){for(ue=Ie;ue<me;++ue)for(Ie=0;Ie<Ce;++Ie)he[je++]=ne(de[W(le[ce++])])},_[j]=function(le,ce,de,ue,he,je,Ie){var me=8>>le.b,Ce=le.Ea,Ue=le.K[0],Ye=le.w;if(8>me)for(le=(1<<le.b)-1,Ye=(1<<me)-1;ce<de;++ce){var Qe,Ke=0;for(Qe=0;Qe<Ce;++Qe)Qe&le||(Ke=W(ue[he++])),je[Ie++]=ne(Ue[Ke&Ye]),Ke>>=me}else _["VP8LMapColor"+T](ue,he,Ue,Ye,je,Ie,ce,de,Ce)}}function Tr(j,S,T,W,ne){for(T=S+T;S<T;){var le=j[S++];W[ne++]=le>>16&255,W[ne++]=le>>8&255,W[ne++]=255&le}}function jr(j,S,T,W,ne){for(T=S+T;S<T;){var le=j[S++];W[ne++]=le>>16&255,W[ne++]=le>>8&255,W[ne++]=255&le,W[ne++]=le>>24&255}}function Qt(j,S,T,W,ne){for(T=S+T;S<T;){var le=(ce=j[S++])>>16&240|ce>>12&15,ce=240&ce|ce>>28&15;W[ne++]=le,W[ne++]=ce}}function gr(j,S,T,W,ne){for(T=S+T;S<T;){var le=(ce=j[S++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;W[ne++]=le,W[ne++]=ce}}function Wr(j,S,T,W,ne){for(T=S+T;S<T;){var le=j[S++];W[ne++]=255&le,W[ne++]=le>>8&255,W[ne++]=le>>16&255}}function jt(j,S,T,W,ne,le){if(le==0)for(T=S+T;S<T;)ve(W,((le=j[S++])[0]>>24|le[1]>>8&65280|le[2]<<8&16711680|le[3]<<24)>>>0),ne+=32;else a(W,ne,j,S,T)}function xr(j,S){_[S][0]=_[j+"0"],_[S][1]=_[j+"1"],_[S][2]=_[j+"2"],_[S][3]=_[j+"3"],_[S][4]=_[j+"4"],_[S][5]=_[j+"5"],_[S][6]=_[j+"6"],_[S][7]=_[j+"7"],_[S][8]=_[j+"8"],_[S][9]=_[j+"9"],_[S][10]=_[j+"10"],_[S][11]=_[j+"11"],_[S][12]=_[j+"12"],_[S][13]=_[j+"13"],_[S][14]=_[j+"0"],_[S][15]=_[j+"0"]}function Ar(j){return j==_A||j==Qc||j==Ld||j==Id}function Xr(){this.eb=[],this.size=this.A=this.fb=0}function ga(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ze(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Xr,this.f.kb=new ga,this.sd=null}function We(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Me(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Fr(j){return alert("todo:WebPSamplerProcessPlane"),j.T}function yt(j,S){var T=j.T,W=S.ba.f.RGBA,ne=W.eb,le=W.fb+j.ka*W.A,ce=Ys[S.ba.S],de=j.y,ue=j.O,he=j.f,je=j.N,Ie=j.ea,me=j.W,Ce=S.cc,Ue=S.dc,Ye=S.Mc,Qe=S.Nc,Ke=j.ka,qe=j.ka+j.T,tt=j.U,rt=tt+1>>1;for(Ke==0?ce(de,ue,null,null,he,je,Ie,me,he,je,Ie,me,ne,le,null,null,tt):(ce(S.ec,S.fc,de,ue,Ce,Ue,Ye,Qe,he,je,Ie,me,ne,le-W.A,ne,le,tt),++T);Ke+2<qe;Ke+=2)Ce=he,Ue=je,Ye=Ie,Qe=me,je+=j.Rc,me+=j.Rc,le+=2*W.A,ce(de,(ue+=2*j.fa)-j.fa,de,ue,Ce,Ue,Ye,Qe,he,je,Ie,me,ne,le-W.A,ne,le,tt);return ue+=j.fa,j.j+qe<j.o?(a(S.ec,S.fc,de,ue,tt),a(S.cc,S.dc,he,je,rt),a(S.Mc,S.Nc,Ie,me,rt),T--):1&qe||ce(de,ue,null,null,he,je,Ie,me,he,je,Ie,me,ne,le+W.A,null,null,tt),T}function rr(j,S,T){var W=j.F,ne=[j.J];if(W!=null){var le=j.U,ce=S.ba.S,de=ce==Ud||ce==Ld;S=S.ba.f.RGBA;var ue=[0],he=j.ka;ue[0]=j.T,j.Kb&&(he==0?--ue[0]:(--he,ne[0]-=j.width),j.j+j.ka+j.T==j.o&&(ue[0]=j.o-j.j-he));var je=S.eb;he=S.fb+he*S.A,j=kd(W,ne[0],j.width,le,ue,je,he+(de?0:3),S.A),r(T==ue),j&&Ar(ce)&&Pc(je,he,de,le,ue,S.A)}return 0}function ca(j){var S=j.ma,T=S.ba.S,W=11>T,ne=T==Ql||T==Dd||T==Ud||T==Qa||T==12||Ar(T);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!yA(S.Oa,j,ne?11:12))return 0;if(ne&&Ar(T)&&Uu(),j.da)alert("todo:use_scaling");else{if(W){if(S.Ib=Fr,j.Kb){if(T=j.U+1>>1,S.memory=i(j.U+2*T),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+j.U,S.Mc=S.cc,S.Nc=S.dc+T,S.Ib=yt,Uu()}}else alert("todo:EmitYUV");ne&&(S.Jb=rr,W&&Li())}if(W&&!vs){for(j=0;256>j;++j)Xs[j]=89858*(j-128)+ao>>sl,Js[j]=-22014*(j-128)+ao,DA[j]=-45773*(j-128),Oc[j]=113618*(j-128)+ao>>sl;for(j=_a;j<Da;++j)S=76283*(j-16)+ao>>sl,Ou[j-_a]=pn(S,255),Xm[j-_a]=pn(S+8>>4,15);vs=1}return 1}function er(j){var S=j.ma,T=j.U,W=j.T;return r(!(1&j.ka)),0>=T||0>=W?0:(T=S.Ib(j,S),S.Jb!=null&&S.Jb(j,S,T),S.Dc+=T,1)}function Nn(j){j.ma.memory=null}function gs(j,S,T,W){return ee(j,8)!=47?0:(S[0]=ee(j,14)+1,T[0]=ee(j,14)+1,W[0]=ee(j,1),ee(j,3)!=0?0:!j.h)}function hn(j,S){if(4>j)return j+1;var T=j-2>>1;return(2+(1&j)<<T)+ee(S,T)+1}function ns(j,S){return 120<S?S-120:1<=(T=((T=Rx[S-1])>>4)*j+(8-(15&T)))?T:1;var T}function ft(j,S,T){var W=te(T),ne=j[S+=255&W].g-8;return 0<ne&&(X(T,T.u+8),W=te(T),S+=j[S].value,S+=W&(1<<ne)-1),X(T,T.u+j[S].g),j[S].value}function Va(j,S,T){return T.g+=j.g,T.value+=j.value<<S>>>0,r(8>=T.g),j.g}function Ya(j,S,T){var W=j.xc;return r((S=W==0?0:j.vc[j.md*(T>>W)+(S>>W)])<j.Wb),j.Ya[S]}function Ns(j,S,T,W){var ne=j.ab,le=j.c*S,ce=j.C;S=ce+S;var de=T,ue=W;for(W=j.Ta,T=j.Ua;0<ne--;){var he=j.gc[ne],je=ce,Ie=S,me=de,Ce=ue,Ue=(ue=W,de=T,he.Ea);switch(r(je<Ie),r(Ie<=he.nc),he.hc){case 2:Sn(me,Ce,(Ie-je)*Ue,ue,de);break;case 0:var Ye=je,Qe=Ie,Ke=ue,qe=de,tt=(Yt=he).Ea;Ye==0&&(rl(me,Ce,null,null,1,Ke,qe),Dt(me,Ce+1,0,0,tt-1,Ke,qe+1),Ce+=tt,qe+=tt,++Ye);for(var rt=1<<Yt.b,sr=rt-1,Kt=Ee(tt,Yt.b),Ir=Yt.K,Yt=Yt.w+(Ye>>Yt.b)*Kt;Ye<Qe;){var na=Ir,vn=Yt,Rr=1;for(_o(me,Ce,Ke,qe-tt,1,Ke,qe);Rr<tt;){var Vt=(Rr&~sr)+rt;Vt>tt&&(Vt=tt),(0,Dc[na[vn++]>>8&15])(me,Ce+ +Rr,Ke,qe+Rr-tt,Vt-Rr,Ke,qe+Rr),Rr=Vt}Ce+=tt,qe+=tt,++Ye&sr||(Yt+=Kt)}Ie!=he.nc&&a(ue,de-Ue,ue,de+(Ie-je-1)*Ue,Ue);break;case 1:for(Ue=me,Qe=Ce,tt=(me=he.Ea)-(qe=me&~(Ke=(Ce=1<<he.b)-1)),Ye=Ee(me,he.b),rt=he.K,he=he.w+(je>>he.b)*Ye;je<Ie;){for(sr=rt,Kt=he,Ir=new Mt,Yt=Qe+qe,na=Qe+me;Qe<Yt;)vt(sr[Kt++],Ir),jA(Ir,Ue,Qe,Ce,ue,de),Qe+=Ce,de+=Ce;Qe<na&&(vt(sr[Kt++],Ir),jA(Ir,Ue,Qe,tt,ue,de),Qe+=tt,de+=tt),++je&Ke||(he+=Ye)}break;case 3:if(me==ue&&Ce==de&&0<he.b){for(Qe=ue,me=Ue=de+(Ie-je)*Ue-(qe=(Ie-je)*Ee(he.Ea,he.b)),Ce=ue,Ke=de,Ye=[],qe=(tt=qe)-1;0<=qe;--qe)Ye[qe]=Ce[Ke+qe];for(qe=tt-1;0<=qe;--qe)Qe[me+qe]=Ye[qe];Fc(he,je,Ie,ue,Ue,ue,de)}else Fc(he,je,Ie,me,Ce,ue,de)}de=W,ue=T}ue!=T&&a(W,T,de,ue,le)}function fi(j,S){var T=j.V,W=j.Ba+j.c*j.C,ne=S-j.C;if(r(S<=j.l.o),r(16>=ne),0<ne){var le=j.l,ce=j.Ta,de=j.Ua,ue=le.width;if(Ns(j,ne,T,W),ne=de=[de],r((T=j.C)<(W=S)),r(le.v<le.va),W>le.o&&(W=le.o),T<le.j){var he=le.j-T;T=le.j,ne[0]+=he*ue}if(T>=W?T=0:(ne[0]+=4*le.v,le.ka=T-le.j,le.U=le.va-le.v,le.T=W-T,T=1),T){if(de=de[0],11>(T=j.ca).S){var je=T.f.RGBA,Ie=(W=T.S,ne=le.U,le=le.T,he=je.eb,je.A),me=le;for(je=je.fb+j.Ma*je.A;0<me--;){var Ce=ce,Ue=de,Ye=ne,Qe=he,Ke=je;switch(W){case Qu:NA(Ce,Ue,Ye,Qe,Ke);break;case Ql:al(Ce,Ue,Ye,Qe,Ke);break;case _A:al(Ce,Ue,Ye,Qe,Ke),Pc(Qe,Ke,0,Ye,1,0);break;case zm:Uc(Ce,Ue,Ye,Qe,Ke);break;case Dd:jt(Ce,Ue,Ye,Qe,Ke,1);break;case Qc:jt(Ce,Ue,Ye,Qe,Ke,1),Pc(Qe,Ke,0,Ye,1,0);break;case Ud:jt(Ce,Ue,Ye,Qe,Ke,0);break;case Ld:jt(Ce,Ue,Ye,Qe,Ke,0),Pc(Qe,Ke,1,Ye,1,0);break;case Qa:Ll(Ce,Ue,Ye,Qe,Ke);break;case Id:Ll(Ce,Ue,Ye,Qe,Ke),ih(Qe,Ke,Ye,1,0);break;case Ru:Il(Ce,Ue,Ye,Qe,Ke);break;default:r(0)}de+=ue,je+=Ie}j.Ma+=le}else alert("todo:EmitRescaledRowsYUVA");r(j.Ma<=T.height)}}j.C=S,r(j.C<=j.i)}function Xa(j){var S;if(0<j.ua)return 0;for(S=0;S<j.Wb;++S){var T=j.Ya[S].G,W=j.Ya[S].H;if(0<T[1][W[1]+0].g||0<T[2][W[2]+0].g||0<T[3][W[3]+0].g)return 0}return 1}function $e(j,S,T,W,ne,le){if(j.Z!=0){var ce=j.qd,de=j.rd;for(r(Ss[j.Z]!=null);S<T;++S)Ss[j.Z](ce,de,W,ne,W,ne,le),ce=W,de=ne,ne+=le;j.qd=ce,j.rd=de}}function et(j,S){var T=j.l.ma,W=T.Z==0||T.Z==1?j.l.j:j.C;if(W=j.C<W?W:j.C,r(S<=j.l.o),S>W){var ne=j.l.width,le=T.ca,ce=T.tb+ne*W,de=j.V,ue=j.Ba+j.c*W,he=j.gc;r(j.ab==1),r(he[0].hc==3),to(he[0],W,S,de,ue,le,ce),$e(T,W,S,le,ce,ne)}j.C=j.Ma=S}function Ft(j,S,T,W,ne,le,ce){var de=j.$/W,ue=j.$%W,he=j.m,je=j.s,Ie=T+j.$,me=Ie;ne=T+W*ne;var Ce=T+W*le,Ue=280+je.ua,Ye=j.Pb?de:16777216,Qe=0<je.ua?je.Wa:null,Ke=je.wc,qe=Ie<Ce?Ya(je,ue,de):null;r(j.C<le),r(Ce<=ne);var tt=!1;e:for(;;){for(;tt||Ie<Ce;){var rt=0;if(de>=Ye){var sr=Ie-T;r((Ye=j).Pb),Ye.wd=Ye.m,Ye.xd=sr,0<Ye.s.ua&&lt(Ye.s.Wa,Ye.s.vb),Ye=de+Tu}if(ue&Ke||(qe=Ya(je,ue,de)),r(qe!=null),qe.Qb&&(S[Ie]=qe.qb,tt=!0),!tt)if(H(he),qe.jc){rt=he,sr=S;var Kt=Ie,Ir=qe.pd[te(rt)&Ii-1];r(qe.jc),256>Ir.g?(X(rt,rt.u+Ir.g),sr[Kt]=Ir.value,rt=0):(X(rt,rt.u+Ir.g-256),r(256<=Ir.value),rt=Ir.value),rt==0&&(tt=!0)}else rt=ft(qe.G[0],qe.H[0],he);if(he.h)break;if(tt||256>rt){if(!tt)if(qe.nd)S[Ie]=(qe.qb|rt<<8)>>>0;else{if(H(he),tt=ft(qe.G[1],qe.H[1],he),H(he),sr=ft(qe.G[2],qe.H[2],he),Kt=ft(qe.G[3],qe.H[3],he),he.h)break;S[Ie]=(Kt<<24|tt<<16|rt<<8|sr)>>>0}if(tt=!1,++Ie,++ue>=W&&(ue=0,++de,ce!=null&&de<=le&&!(de%16)&&ce(j,de),Qe!=null))for(;me<Ie;)rt=S[me++],Qe.X[(506832829*rt&4294967295)>>>Qe.Mb]=rt}else if(280>rt){if(rt=hn(rt-256,he),sr=ft(qe.G[4],qe.H[4],he),H(he),sr=ns(W,sr=hn(sr,he)),he.h)break;if(Ie-T<sr||ne-Ie<rt)break e;for(Kt=0;Kt<rt;++Kt)S[Ie+Kt]=S[Ie+Kt-sr];for(Ie+=rt,ue+=rt;ue>=W;)ue-=W,++de,ce!=null&&de<=le&&!(de%16)&&ce(j,de);if(r(Ie<=ne),ue&Ke&&(qe=Ya(je,ue,de)),Qe!=null)for(;me<Ie;)rt=S[me++],Qe.X[(506832829*rt&4294967295)>>>Qe.Mb]=rt}else{if(!(rt<Ue))break e;for(tt=rt-280,r(Qe!=null);me<Ie;)rt=S[me++],Qe.X[(506832829*rt&4294967295)>>>Qe.Mb]=rt;rt=Ie,r(!(tt>>>(sr=Qe).Xa)),S[rt]=sr.X[tt],tt=!0}tt||r(he.h==F(he))}if(j.Pb&&he.h&&Ie<ne)r(j.m.h),j.a=5,j.m=j.wd,j.$=j.xd,0<j.s.ua&&lt(j.s.vb,j.s.Wa);else{if(he.h)break e;ce!=null&&ce(j,de>le?le:de),j.a=0,j.$=Ie-T}return 1}return j.a=3,0}function it(j){r(j!=null),j.vc=null,j.yc=null,j.Ya=null;var S=j.Wa;S!=null&&(S.X=null),j.vb=null,r(j!=null)}function Ht(){var j=new nr;return j==null?null:(j.a=0,j.xb=FA,xr("Predictor","VP8LPredictors"),xr("Predictor","VP8LPredictors_C"),xr("PredictorAdd","VP8LPredictorsAdd"),xr("PredictorAdd","VP8LPredictorsAdd_C"),Sn=Et,jA=bt,NA=Tr,al=jr,Ll=Qt,Il=gr,Uc=Wr,_.VP8LMapColor32b=Eo,_.VP8LMapColor8b=kc,j)}function mr(j,S,T,W,ne){var le=1,ce=[j],de=[S],ue=W.m,he=W.s,je=null,Ie=0;e:for(;;){if(T)for(;le&&ee(ue,1);){var me=ce,Ce=de,Ue=W,Ye=1,Qe=Ue.m,Ke=Ue.gc[Ue.ab],qe=ee(Qe,2);if(Ue.Oc&1<<qe)le=0;else{switch(Ue.Oc|=1<<qe,Ke.hc=qe,Ke.Ea=me[0],Ke.nc=Ce[0],Ke.K=[null],++Ue.ab,r(4>=Ue.ab),qe){case 0:case 1:Ke.b=ee(Qe,3)+2,Ye=mr(Ee(Ke.Ea,Ke.b),Ee(Ke.nc,Ke.b),0,Ue,Ke.K),Ke.K=Ke.K[0];break;case 3:var tt,rt=ee(Qe,8)+1,sr=16<rt?0:4<rt?1:2<rt?2:3;if(me[0]=Ee(Ke.Ea,sr),Ke.b=sr,tt=Ye=mr(rt,1,0,Ue,Ke.K)){var Kt,Ir=rt,Yt=Ke,na=1<<(8>>Yt.b),vn=i(na);if(vn==null)tt=0;else{var Rr=Yt.K[0],Vt=Yt.w;for(vn[0]=Yt.K[0][0],Kt=1;Kt<1*Ir;++Kt)vn[Kt]=At(Rr[Vt+Kt],vn[Kt-1]);for(;Kt<4*na;++Kt)vn[Kt]=0;Yt.K[0]=null,Yt.K[0]=vn,tt=1}}Ye=tt;break;case 2:break;default:r(0)}le=Ye}}if(ce=ce[0],de=de[0],le&&ee(ue,1)&&!(le=1<=(Ie=ee(ue,4))&&11>=Ie)){W.a=3;break e}var Ct;if(Ct=le)t:{var _n,Br,ea,qa=W,is=ce,Pn=de,An=Ie,Vn=T,os=qa.m,tn=qa.s,oa=[null],ya=1,rn=0,ba=Wm[An];r:for(;;){if(Vn&&ee(os,1)){var wn=ee(os,3)+2,yn=Ee(is,wn),Ra=Ee(Pn,wn),_s=yn*Ra;if(!mr(yn,Ra,0,qa,oa))break r;for(oa=oa[0],tn.xc=wn,_n=0;_n<_s;++_n){var Ua=oa[_n]>>8&65535;oa[_n]=Ua,Ua>=ya&&(ya=Ua+1)}}if(os.h)break r;for(Br=0;5>Br;++Br){var Ma=Rc[Br];!Br&&0<An&&(Ma+=1<<An),rn<Ma&&(rn=Ma)}var Qn=o(ya*ba,J),ws=ya,Zs=o(ws,re);if(Zs==null)var En=null;else r(65536>=ws),En=Zs;var Fn=i(rn);if(En==null||Fn==null||Qn==null){qa.a=1;break r}var Es=Qn;for(_n=ea=0;_n<ya;++_n){var Ta=En[_n],Fs=Ta.G,Ri=Ta.H,no=0,ls=1,kn=0;for(Br=0;5>Br;++Br){Ma=Rc[Br],Fs[Br]=Es,Ri[Br]=ea,!Br&&0<An&&(Ma+=1<<An);n:{var Tl,ol=Ma,UA=qa,Do=Fn,Zm=Es,xh=ea,Ja=0,so=UA.m,vh=ee(so,1);if(s(Do,0,0,ol),vh){var wh=ee(so,1)+1,Hu=ee(so,1),$u=ee(so,Hu==0?1:8);Do[$u]=1,wh==2&&(Do[$u=ee(so,8)]=1);var Uo=1}else{var an=i(19),Rn=ee(so,4)+4;if(19<Rn){UA.a=3;var Dn=0;break n}for(Tl=0;Tl<Rn;++Tl)an[Qx[Tl]]=ee(so,3);var LA=void 0,ll=void 0,IA=UA,$x=an,zn=ol,Ku=Do,Td=0,Lo=IA.m,io=8,xi=o(128,J);a:for(;$(xi,0,7,$x,19);){if(ee(Lo,1)){var Od=2+2*ee(Lo,3);if((LA=2+ee(Lo,Od))>zn)break a}else LA=zn;for(ll=0;ll<zn&&LA--;){H(Lo);var Vu=xi[0+(127&te(Lo))];X(Lo,Lo.u+Vu.g);var Ol=Vu.value;if(16>Ol)Ku[ll++]=Ol,Ol!=0&&(io=Ol);else{var ep=Ol==16,yh=Ol-16,tp=Mu[yh],bh=ee(Lo,Pd[yh])+tp;if(ll+bh>zn)break a;for(var rp=ep?io:0;0<bh--;)Ku[ll++]=rp}}Td=1;break a}Td||(IA.a=3),Uo=Td}(Uo=Uo&&!so.h)&&(Ja=$(Zm,xh,8,Do,ol)),Uo&&Ja!=0?Dn=Ja:(UA.a=3,Dn=0)}if(Dn==0)break r;if(ls&&qm[Br]==1&&(ls=Es[ea].g==0),no+=Es[ea].g,ea+=Dn,3>=Br){var PA,zu=Fn[0];for(PA=1;PA<Ma;++PA)Fn[PA]>zu&&(zu=Fn[PA]);kn+=zu}}if(Ta.nd=ls,Ta.Qb=0,ls&&(Ta.qb=(Fs[3][Ri[3]+0].value<<24|Fs[1][Ri[1]+0].value<<16|Fs[2][Ri[2]+0].value)>>>0,no==0&&256>Fs[0][Ri[0]+0].value&&(Ta.Qb=1,Ta.qb+=Fs[0][Ri[0]+0].value<<8)),Ta.jc=!Ta.Qb&&6>kn,Ta.jc){var Hd,vi=Ta;for(Hd=0;Hd<Ii;++Hd){var cl=Hd,oo=vi.pd[cl],$c=vi.G[0][vi.H[0]+cl];256<=$c.value?(oo.g=$c.g+256,oo.value=$c.value):(oo.g=0,oo.value=0,cl>>=Va($c,8,oo),cl>>=Va(vi.G[1][vi.H[1]+cl],16,oo),cl>>=Va(vi.G[2][vi.H[2]+cl],0,oo),Va(vi.G[3][vi.H[3]+cl],24,oo))}}}tn.vc=oa,tn.Wb=ya,tn.Ya=En,tn.yc=Qn,Ct=1;break t}Ct=0}if(!(le=Ct)){W.a=3;break e}if(0<Ie){if(he.ua=1<<Ie,!ie(he.Wa,Ie)){W.a=1,le=0;break e}}else he.ua=0;var qu=W,Wu=ce,ap=de,Gu=qu.s,Yu=Gu.xc;if(qu.c=Wu,qu.i=ap,Gu.md=Ee(Wu,Yu),Gu.wc=Yu==0?-1:(1<<Yu)-1,T){W.xb=ko;break e}if((je=i(ce*de))==null){W.a=1,le=0;break e}le=(le=Ft(W,je,0,ce,de,de,null))&&!ue.h;break e}return le?(ne!=null?ne[0]=je:(r(je==null),r(T)),W.$=0,T||it(he)):it(he),le}function $t(j,S){var T=j.c*j.i,W=T+S+16*S;return r(j.c<=S),j.V=i(W),j.V==null?(j.Ta=null,j.Ua=0,j.a=1,0):(j.Ta=j.V,j.Ua=j.Ba+T+S,1)}function Ur(j,S){var T=j.C,W=S-T,ne=j.V,le=j.Ba+j.c*T;for(r(S<=j.l.o);0<W;){var ce=16<W?16:W,de=j.l.ma,ue=j.l.width,he=ue*ce,je=de.ca,Ie=de.tb+ue*T,me=j.Ta,Ce=j.Ua;Ns(j,ce,ne,le),oh(me,Ce,je,Ie,he),$e(de,T,T+ce,je,Ie,ue),W-=ce,ne+=ce*j.c,T+=ce}r(T==S),j.C=j.Ma=S}function Kr(){this.ub=this.yd=this.td=this.Rb=0}function ar(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Lr(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function zt(){this.Yb=(function(){var j=[];return(function S(T,W,ne){for(var le=ne[W],ce=0;ce<le&&(T.push(ne.length>W+1?[]:0),!(ne.length<W+1));ce++)S(T[ce],W+1,ne)})(j,0,[3,11]),j})()}function ma(){this.jb=i(3),this.Wc=l([4,8],zt),this.Xc=l([4,17],zt)}function fr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function hr(){this.ld=this.La=this.dd=this.tc=0}function qt(){this.Na=this.la=0}function Qr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function sn(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ss(){this.uc=this.M=this.Nb=0,this.wa=Array(new hr),this.Y=0,this.ya=Array(new sn),this.aa=0,this.l=new Ca}function en(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Wo(){this.cb=this.a=0,this.sc="",this.m=new R,this.Od=new Kr,this.Kc=new ar,this.ed=new fr,this.Qa=new Lr,this.Ic=this.$c=this.Aa=0,this.D=new ss,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,R),this.ia=0,this.pb=o(4,Qr),this.Pa=new ma,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new en),this.Hd=0,this.rb=Array(new qt),this.sb=0,this.wa=Array(new hr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new sn),this.L=this.aa=0,this.gd=l([4,2],hr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ca(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Go(){var j=new Wo;return j!=null&&(j.a=0,j.sc="OK",j.cb=0,j.Xb=0,Mc||(Mc=xt)),j}function on(j,S,T){return j.a==0&&(j.a=S,j.sc=T,j.cb=0),0}function vc(j,S,T){return 3<=T&&j[S+0]==157&&j[S+1]==1&&j[S+2]==42}function yo(j,S){if(j==null)return 0;if(j.a=0,j.sc="OK",S==null)return on(j,2,"null VP8Io passed to VP8GetHeaders()");var T=S.data,W=S.w,ne=S.ha;if(4>ne)return on(j,7,"Truncated header.");var le=T[W+0]|T[W+1]<<8|T[W+2]<<16,ce=j.Od;if(ce.Rb=!(1&le),ce.td=le>>1&7,ce.yd=le>>4&1,ce.ub=le>>5,3<ce.td)return on(j,3,"Incorrect keyframe parameters.");if(!ce.yd)return on(j,4,"Frame not displayable.");W+=3,ne-=3;var de=j.Kc;if(ce.Rb){if(7>ne)return on(j,7,"cannot parse picture header");if(!vc(T,W,ne))return on(j,3,"Bad code word");de.c=16383&(T[W+4]<<8|T[W+3]),de.Td=T[W+4]>>6,de.i=16383&(T[W+6]<<8|T[W+5]),de.Ud=T[W+6]>>6,W+=7,ne-=7,j.za=de.c+15>>4,j.Ub=de.i+15>>4,S.width=de.c,S.height=de.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,s((le=j.Pa).jb,0,255,le.jb.length),r((le=j.Qa)!=null),le.Cb=0,le.Bb=0,le.Fb=1,s(le.Zb,0,0,le.Zb.length),s(le.Lb,0,0,le.Lb)}if(ce.ub>ne)return on(j,7,"bad partition length");K(le=j.m,T,W,ce.ub),W+=ce.ub,ne-=ce.ub,ce.Rb&&(de.Ld=ae(le),de.Kd=ae(le)),de=j.Qa;var ue,he=j.Pa;if(r(le!=null),r(de!=null),de.Cb=ae(le),de.Cb){if(de.Bb=ae(le),ae(le)){for(de.Fb=ae(le),ue=0;4>ue;++ue)de.Zb[ue]=ae(le)?z(le,7):0;for(ue=0;4>ue;++ue)de.Lb[ue]=ae(le)?z(le,6):0}if(de.Bb)for(ue=0;3>ue;++ue)he.jb[ue]=ae(le)?G(le,8):255}else de.Bb=0;if(le.Ka)return on(j,3,"cannot parse segment header");if((de=j.ed).zd=ae(le),de.Tb=G(le,6),de.wb=G(le,3),de.Pc=ae(le),de.Pc&&ae(le)){for(he=0;4>he;++he)ae(le)&&(de.vd[he]=z(le,6));for(he=0;4>he;++he)ae(le)&&(de.od[he]=z(le,6))}if(j.L=de.Tb==0?0:de.zd?1:2,le.Ka)return on(j,3,"cannot parse filter header");var je=ne;if(ne=ue=W,W=ue+je,de=je,j.Xb=(1<<G(j.m,2))-1,je<3*(he=j.Xb))T=7;else{for(ue+=3*he,de-=3*he,je=0;je<he;++je){var Ie=T[ne+0]|T[ne+1]<<8|T[ne+2]<<16;Ie>de&&(Ie=de),K(j.Jc[+je],T,ue,Ie),ue+=Ie,de-=Ie,ne+=3}K(j.Jc[+he],T,ue,de),T=ue<W?0:5}if(T!=0)return on(j,T,"cannot parse partitions");for(T=G(ue=j.m,7),ne=ae(ue)?z(ue,4):0,W=ae(ue)?z(ue,4):0,de=ae(ue)?z(ue,4):0,he=ae(ue)?z(ue,4):0,ue=ae(ue)?z(ue,4):0,je=j.Qa,Ie=0;4>Ie;++Ie){if(je.Cb){var me=je.Zb[Ie];je.Fb||(me+=T)}else{if(0<Ie){j.pb[Ie]=j.pb[0];continue}me=T}var Ce=j.pb[Ie];Ce.Sc[0]=EA[pn(me+ne,127)],Ce.Sc[1]=Qd[pn(me+0,127)],Ce.Eb[0]=2*EA[pn(me+W,127)],Ce.Eb[1]=101581*Qd[pn(me+de,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=EA[pn(me+he,117)],Ce.Qc[1]=Qd[pn(me+ue,127)],Ce.lc=me+ue}if(!ce.Rb)return on(j,4,"Not a key frame.");for(ae(le),ce=j.Pa,T=0;4>T;++T){for(ne=0;8>ne;++ne)for(W=0;3>W;++W)for(de=0;11>de;++de)he=fe(le,Tx[T][ne][W][de])?G(le,8):Ym[T][ne][W][de],ce.Wc[T][ne].Yb[W][de]=he;for(ne=0;17>ne;++ne)ce.Xc[T][ne]=ce.Wc[T][mh[ne]]}return j.kc=ae(le),j.kc&&(j.Bd=G(le,8)),j.cb=1}function xt(j,S,T,W,ne,le,ce){var de=S[ne].Yb[T];for(T=0;16>ne;++ne){if(!fe(j,de[T+0]))return ne;for(;!fe(j,de[T+1]);)if(de=S[++ne].Yb[0],T=0,ne==16)return 16;var ue=S[ne+1].Yb;if(fe(j,de[T+2])){var he=j,je=0;if(fe(he,(me=de)[(Ie=T)+3]))if(fe(he,me[Ie+6])){for(de=0,Ie=2*(je=fe(he,me[Ie+8]))+(me=fe(he,me[Ie+9+je])),je=0,me=fh[Ie];me[de];++de)je+=je+fe(he,me[de]);je+=3+(8<<Ie)}else fe(he,me[Ie+7])?(je=7+2*fe(he,165),je+=fe(he,145)):je=5+fe(he,159);else je=fe(he,me[Ie+4])?3+fe(he,me[Ie+5]):2;de=ue[2]}else je=1,de=ue[1];ue=ce+hh[ne],0>(he=j).b&&V(he);var Ie,me=he.b,Ce=(Ie=he.Ca>>1)-(he.I>>me)>>31;--he.b,he.Ca+=Ce,he.Ca|=1,he.I-=(Ie+1&Ce)<<me,le[ue]=((je^Ce)-Ce)*W[(0<ne)+0]}return 16}function Ge(j){var S=j.rb[j.sb-1];S.la=0,S.Na=0,s(j.zc,0,0,j.zc.length),j.ja=0}function Jr(j,S,T,W,ne){ne=j[S+T+32*W]+(ne>>3),j[S+T+32*W]=-256&ne?0>ne?0:255:ne}function Bt(j,S,T,W,ne,le){Jr(j,S,0,T,W+ne),Jr(j,S,1,T,W+le),Jr(j,S,2,T,W-le),Jr(j,S,3,T,W-ne)}function ia(j){return(20091*j>>16)+j}function xa(j,S,T,W){var ne,le=0,ce=i(16);for(ne=0;4>ne;++ne){var de=j[S+0]+j[S+8],ue=j[S+0]-j[S+8],he=(35468*j[S+4]>>16)-ia(j[S+12]),je=ia(j[S+4])+(35468*j[S+12]>>16);ce[le+0]=de+je,ce[le+1]=ue+he,ce[le+2]=ue-he,ce[le+3]=de-je,le+=4,S++}for(ne=le=0;4>ne;++ne)de=(j=ce[le+0]+4)+ce[le+8],ue=j-ce[le+8],he=(35468*ce[le+4]>>16)-ia(ce[le+12]),Jr(T,W,0,0,de+(je=ia(ce[le+4])+(35468*ce[le+12]>>16))),Jr(T,W,1,0,ue+he),Jr(T,W,2,0,ue-he),Jr(T,W,3,0,de-je),le++,W+=32}function Bn(j,S,T,W){var ne=j[S+0]+4,le=35468*j[S+4]>>16,ce=ia(j[S+4]),de=35468*j[S+1]>>16;Bt(T,W,0,ne+ce,j=ia(j[S+1]),de),Bt(T,W,1,ne+le,j,de),Bt(T,W,2,ne-le,j,de),Bt(T,W,3,ne-ce,j,de)}function Zr(j,S,T,W,ne){xa(j,S,T,W),ne&&xa(j,S+16,T,W+4)}function ln(j,S,T,W){Lc(j,S+0,T,W,1),Lc(j,S+32,T,W+128,1)}function Sa(j,S,T,W){var ne;for(j=j[S+0]+4,ne=0;4>ne;++ne)for(S=0;4>S;++S)Jr(T,W,S,ne,j)}function Yi(j,S,T,W){j[S+0]&&wa(j,S+0,T,W),j[S+16]&&wa(j,S+16,T,W+4),j[S+32]&&wa(j,S+32,T,W+128),j[S+48]&&wa(j,S+48,T,W+128+4)}function Aa(j,S,T,W){var ne,le=i(16);for(ne=0;4>ne;++ne){var ce=j[S+0+ne]+j[S+12+ne],de=j[S+4+ne]+j[S+8+ne],ue=j[S+4+ne]-j[S+8+ne],he=j[S+0+ne]-j[S+12+ne];le[0+ne]=ce+de,le[8+ne]=ce-de,le[4+ne]=he+ue,le[12+ne]=he-ue}for(ne=0;4>ne;++ne)ce=(j=le[0+4*ne]+3)+le[3+4*ne],de=le[1+4*ne]+le[2+4*ne],ue=le[1+4*ne]-le[2+4*ne],he=j-le[3+4*ne],T[W+0]=ce+de>>3,T[W+16]=he+ue>>3,T[W+32]=ce-de>>3,T[W+48]=he-ue>>3,W+=64}function mn(j,S,T){var W,ne=S-32,le=Rs,ce=255-j[ne-1];for(W=0;W<T;++W){var de,ue=le,he=ce+j[S-1];for(de=0;de<T;++de)j[S+de]=ue[he+j[ne+de]];S+=32}}function pA(j,S){mn(j,S,4)}function yd(j,S){mn(j,S,8)}function Eu(j,S){mn(j,S,16)}function Fu(j,S){var T;for(T=0;16>T;++T)a(j,S+32*T,j,S-32,16)}function gA(j,S){var T;for(T=16;0<T;--T)s(j,S,j[S-1],16),S+=32}function Yo(j,S,T){var W;for(W=0;16>W;++W)s(S,T+32*W,j,16)}function Xi(j,S){var T,W=16;for(T=0;16>T;++T)W+=j[S-1+32*T]+j[S+T-32];Yo(W>>5,j,S)}function bo(j,S){var T,W=8;for(T=0;16>T;++T)W+=j[S-1+32*T];Yo(W>>4,j,S)}function zs(j,S){var T,W=8;for(T=0;16>T;++T)W+=j[S+T-32];Yo(W>>4,j,S)}function Ei(j,S){Yo(128,j,S)}function Nr(j,S,T){return j+2*S+T+2>>2}function wc(j,S){var T,W=S-32;for(W=new Uint8Array([Nr(j[W-1],j[W+0],j[W+1]),Nr(j[W+0],j[W+1],j[W+2]),Nr(j[W+1],j[W+2],j[W+3]),Nr(j[W+2],j[W+3],j[W+4])]),T=0;4>T;++T)a(j,S+32*T,W,0,W.length)}function jo(j,S){var T=j[S-1],W=j[S-1+32],ne=j[S-1+64],le=j[S-1+96];ve(j,S+0,16843009*Nr(j[S-1-32],T,W)),ve(j,S+32,16843009*Nr(T,W,ne)),ve(j,S+64,16843009*Nr(W,ne,le)),ve(j,S+96,16843009*Nr(ne,le,le))}function nh(j,S){var T,W=4;for(T=0;4>T;++T)W+=j[S+T-32]+j[S-1+32*T];for(W>>=3,T=0;4>T;++T)s(j,S+32*T,W,4)}function ku(j,S){var T=j[S-1+0],W=j[S-1+32],ne=j[S-1+64],le=j[S-1-32],ce=j[S+0-32],de=j[S+1-32],ue=j[S+2-32],he=j[S+3-32];j[S+0+96]=Nr(W,ne,j[S-1+96]),j[S+1+96]=j[S+0+64]=Nr(T,W,ne),j[S+2+96]=j[S+1+64]=j[S+0+32]=Nr(le,T,W),j[S+3+96]=j[S+2+64]=j[S+1+32]=j[S+0+0]=Nr(ce,le,T),j[S+3+64]=j[S+2+32]=j[S+1+0]=Nr(de,ce,le),j[S+3+32]=j[S+2+0]=Nr(ue,de,ce),j[S+3+0]=Nr(he,ue,de)}function hi(j,S){var T=j[S+1-32],W=j[S+2-32],ne=j[S+3-32],le=j[S+4-32],ce=j[S+5-32],de=j[S+6-32],ue=j[S+7-32];j[S+0+0]=Nr(j[S+0-32],T,W),j[S+1+0]=j[S+0+32]=Nr(T,W,ne),j[S+2+0]=j[S+1+32]=j[S+0+64]=Nr(W,ne,le),j[S+3+0]=j[S+2+32]=j[S+1+64]=j[S+0+96]=Nr(ne,le,ce),j[S+3+32]=j[S+2+64]=j[S+1+96]=Nr(le,ce,de),j[S+3+64]=j[S+2+96]=Nr(ce,de,ue),j[S+3+96]=Nr(de,ue,ue)}function Xo(j,S){var T=j[S-1+0],W=j[S-1+32],ne=j[S-1+64],le=j[S-1-32],ce=j[S+0-32],de=j[S+1-32],ue=j[S+2-32],he=j[S+3-32];j[S+0+0]=j[S+1+64]=le+ce+1>>1,j[S+1+0]=j[S+2+64]=ce+de+1>>1,j[S+2+0]=j[S+3+64]=de+ue+1>>1,j[S+3+0]=ue+he+1>>1,j[S+0+96]=Nr(ne,W,T),j[S+0+64]=Nr(W,T,le),j[S+0+32]=j[S+1+96]=Nr(T,le,ce),j[S+1+32]=j[S+2+96]=Nr(le,ce,de),j[S+2+32]=j[S+3+96]=Nr(ce,de,ue),j[S+3+32]=Nr(de,ue,he)}function Du(j,S){var T=j[S+0-32],W=j[S+1-32],ne=j[S+2-32],le=j[S+3-32],ce=j[S+4-32],de=j[S+5-32],ue=j[S+6-32],he=j[S+7-32];j[S+0+0]=T+W+1>>1,j[S+1+0]=j[S+0+64]=W+ne+1>>1,j[S+2+0]=j[S+1+64]=ne+le+1>>1,j[S+3+0]=j[S+2+64]=le+ce+1>>1,j[S+0+32]=Nr(T,W,ne),j[S+1+32]=j[S+0+96]=Nr(W,ne,le),j[S+2+32]=j[S+1+96]=Nr(ne,le,ce),j[S+3+32]=j[S+2+96]=Nr(le,ce,de),j[S+3+64]=Nr(ce,de,ue),j[S+3+96]=Nr(de,ue,he)}function xA(j,S){var T=j[S-1+0],W=j[S-1+32],ne=j[S-1+64],le=j[S-1+96];j[S+0+0]=T+W+1>>1,j[S+2+0]=j[S+0+32]=W+ne+1>>1,j[S+2+32]=j[S+0+64]=ne+le+1>>1,j[S+1+0]=Nr(T,W,ne),j[S+3+0]=j[S+1+32]=Nr(W,ne,le),j[S+3+32]=j[S+1+64]=Nr(ne,le,le),j[S+3+64]=j[S+2+64]=j[S+0+96]=j[S+1+96]=j[S+2+96]=j[S+3+96]=le}function yc(j,S){var T=j[S-1+0],W=j[S-1+32],ne=j[S-1+64],le=j[S-1+96],ce=j[S-1-32],de=j[S+0-32],ue=j[S+1-32],he=j[S+2-32];j[S+0+0]=j[S+2+32]=T+ce+1>>1,j[S+0+32]=j[S+2+64]=W+T+1>>1,j[S+0+64]=j[S+2+96]=ne+W+1>>1,j[S+0+96]=le+ne+1>>1,j[S+3+0]=Nr(de,ue,he),j[S+2+0]=Nr(ce,de,ue),j[S+1+0]=j[S+3+32]=Nr(T,ce,de),j[S+1+32]=j[S+3+64]=Nr(W,T,ce),j[S+1+64]=j[S+3+96]=Nr(ne,W,T),j[S+1+96]=Nr(le,ne,W)}function bd(j,S){var T;for(T=0;8>T;++T)a(j,S+32*T,j,S-32,8)}function Ji(j,S){var T;for(T=0;8>T;++T)s(j,S,j[S-1],8),S+=32}function No(j,S,T){var W;for(W=0;8>W;++W)s(S,T+32*W,j,8)}function Zi(j,S){var T,W=8;for(T=0;8>T;++T)W+=j[S+T-32]+j[S-1+32*T];No(W>>4,j,S)}function vA(j,S){var T,W=4;for(T=0;8>T;++T)W+=j[S+T-32];No(W>>3,j,S)}function jd(j,S){var T,W=4;for(T=0;8>T;++T)W+=j[S-1+32*T];No(W>>3,j,S)}function Nd(j,S){No(128,j,S)}function Jo(j,S,T){var W=j[S-T],ne=j[S+0],le=3*(ne-W)+Fo[1020+j[S-2*T]-j[S+T]],ce=SA[112+(le+4>>3)];j[S-T]=Rs[255+W+SA[112+(le+3>>3)]],j[S+0]=Rs[255+ne-ce]}function Bo(j,S,T,W){var ne=j[S+0],le=j[S+T];return Pi[255+j[S-2*T]-j[S-T]]>W||Pi[255+le-ne]>W}function bc(j,S,T,W){return 4*Pi[255+j[S-T]-j[S+0]]+Pi[255+j[S-2*T]-j[S+T]]<=W}function jc(j,S,T,W,ne){var le=j[S-3*T],ce=j[S-2*T],de=j[S-T],ue=j[S+0],he=j[S+T],je=j[S+2*T],Ie=j[S+3*T];return 4*Pi[255+de-ue]+Pi[255+ce-he]>W?0:Pi[255+j[S-4*T]-le]<=ne&&Pi[255+le-ce]<=ne&&Pi[255+ce-de]<=ne&&Pi[255+Ie-je]<=ne&&Pi[255+je-he]<=ne&&Pi[255+he-ue]<=ne}function Fi(j,S,T,W){var ne=2*W+1;for(W=0;16>W;++W)bc(j,S+W,T,ne)&&Jo(j,S+W,T)}function Zo(j,S,T,W){var ne=2*W+1;for(W=0;16>W;++W)bc(j,S+W*T,1,ne)&&Jo(j,S+W*T,1)}function Nc(j,S,T,W){var ne;for(ne=3;0<ne;--ne)Fi(j,S+=4*T,T,W)}function Bd(j,S,T,W){var ne;for(ne=3;0<ne;--ne)Zo(j,S+=4,T,W)}function ki(j,S,T,W,ne,le,ce,de){for(le=2*le+1;0<ne--;){if(jc(j,S,T,le,ce))if(Bo(j,S,T,de))Jo(j,S,T);else{var ue=j,he=S,je=T,Ie=ue[he-2*je],me=ue[he-je],Ce=ue[he+0],Ue=ue[he+je],Ye=ue[he+2*je],Qe=27*(qe=Fo[1020+3*(Ce-me)+Fo[1020+Ie-Ue]])+63>>7,Ke=18*qe+63>>7,qe=9*qe+63>>7;ue[he-3*je]=Rs[255+ue[he-3*je]+qe],ue[he-2*je]=Rs[255+Ie+Ke],ue[he-je]=Rs[255+me+Qe],ue[he+0]=Rs[255+Ce-Qe],ue[he+je]=Rs[255+Ue-Ke],ue[he+2*je]=Rs[255+Ye-qe]}S+=W}}function Di(j,S,T,W,ne,le,ce,de){for(le=2*le+1;0<ne--;){if(jc(j,S,T,le,ce))if(Bo(j,S,T,de))Jo(j,S,T);else{var ue=j,he=S,je=T,Ie=ue[he-je],me=ue[he+0],Ce=ue[he+je],Ue=SA[112+(4+(Ye=3*(me-Ie))>>3)],Ye=SA[112+(Ye+3>>3)],Qe=Ue+1>>1;ue[he-2*je]=Rs[255+ue[he-2*je]+Qe],ue[he-je]=Rs[255+Ie+Ye],ue[he+0]=Rs[255+me-Ue],ue[he+je]=Rs[255+Ce-Qe]}S+=W}}function Cd(j,S,T,W,ne,le){ki(j,S,T,1,16,W,ne,le)}function Bs(j,S,T,W,ne,le){ki(j,S,1,T,16,W,ne,le)}function Ui(j,S,T,W,ne,le){var ce;for(ce=3;0<ce;--ce)Di(j,S+=4*T,T,1,16,W,ne,le)}function wA(j,S,T,W,ne,le){var ce;for(ce=3;0<ce;--ce)Di(j,S+=4,1,T,16,W,ne,le)}function P(j,S,T,W,ne,le,ce,de){ki(j,S,ne,1,8,le,ce,de),ki(T,W,ne,1,8,le,ce,de)}function se(j,S,T,W,ne,le,ce,de){ki(j,S,1,ne,8,le,ce,de),ki(T,W,1,ne,8,le,ce,de)}function pe(j,S,T,W,ne,le,ce,de){Di(j,S+4*ne,ne,1,8,le,ce,de),Di(T,W+4*ne,ne,1,8,le,ce,de)}function be(j,S,T,W,ne,le,ce,de){Di(j,S+4,1,ne,8,le,ce,de),Di(T,W+4,1,ne,8,le,ce,de)}function _e(){this.ba=new Ze,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Me,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Je(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ot(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Gt(){this.ua=0,this.Wa=new mt,this.vb=new mt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new J}function nr(){this.xb=this.a=0,this.l=new Ca,this.ca=new Ze,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Gt,this.ab=0,this.gc=o(4,ot),this.Oc=0}function Sr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ca,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _r(j,S,T,W,ne,le,ce){for(j=j==null?0:j[S+0],S=0;S<ce;++S)ne[le+S]=j+T[W+S]&255,j=ne[le+S]}function va(j,S,T,W,ne,le,ce){var de;if(j==null)_r(null,null,T,W,ne,le,ce);else for(de=0;de<ce;++de)ne[le+de]=j[S+de]+T[W+de]&255}function cn(j,S,T,W,ne,le,ce){if(j==null)_r(null,null,T,W,ne,le,ce);else{var de,ue=j[S+0],he=ue,je=ue;for(de=0;de<ce;++de)he=je+(ue=j[S+de])-he,je=T[W+de]+(-256&he?0>he?0:255:he)&255,he=ue,ne[le+de]=je}}function Ln(j,S,T,W){var ne=S.width,le=S.o;if(r(j!=null&&S!=null),0>T||0>=W||T+W>le)return null;if(!j.Cc){if(j.ga==null){var ce;if(j.ga=new Sr,(ce=j.ga==null)||(ce=S.width*S.o,r(j.Gb.length==0),j.Gb=i(ce),j.Uc=0,j.Gb==null?ce=0:(j.mb=j.Gb,j.nb=j.Uc,j.rc=null,ce=1),ce=!ce),!ce){ce=j.ga;var de=j.Fa,ue=j.P,he=j.qc,je=j.mb,Ie=j.nb,me=ue+1,Ce=he-1,Ue=ce.l;if(r(de!=null&&je!=null&&S!=null),Ss[0]=null,Ss[1]=_r,Ss[2]=va,Ss[3]=cn,ce.ca=je,ce.tb=Ie,ce.c=S.width,ce.i=S.height,r(0<ce.c&&0<ce.i),1>=he)S=0;else if(ce.$a=3&de[ue+0],ce.Z=de[ue+0]>>2&3,ce.Lc=de[ue+0]>>4&3,ue=de[ue+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||ue)S=0;else if(Ue.put=er,Ue.ac=ca,Ue.bc=Nn,Ue.ma=ce,Ue.width=S.width,Ue.height=S.height,Ue.Da=S.Da,Ue.v=S.v,Ue.va=S.va,Ue.j=S.j,Ue.o=S.o,ce.$a)e:{r(ce.$a==1),S=Ht();t:for(;;){if(S==null){S=0;break e}if(r(ce!=null),ce.mc=S,S.c=ce.c,S.i=ce.i,S.l=ce.l,S.l.ma=ce,S.l.width=ce.c,S.l.height=ce.i,S.a=0,Z(S.m,de,me,Ce),!mr(ce.c,ce.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&Xa(S.s)?(ce.ic=1,de=S.c*S.i,S.Ta=null,S.Ua=0,S.V=i(de),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(ce.ic=0,S=$t(S,ce.c)),!S))break t;S=1;break e}ce.mc=null,S=0}else S=Ce>=ce.c*ce.i;ce=!S}if(ce)return null;j.ga.Lc!=1?j.Ga=0:W=le-T}r(j.ga!=null),r(T+W<=le);e:{if(S=(de=j.ga).c,le=de.l.o,de.$a==0){if(me=j.rc,Ce=j.Vc,Ue=j.Fa,ue=j.P+1+T*S,he=j.mb,je=j.nb+T*S,r(ue<=j.P+j.qc),de.Z!=0)for(r(Ss[de.Z]!=null),ce=0;ce<W;++ce)Ss[de.Z](me,Ce,Ue,ue,he,je,S),me=he,Ce=je,je+=S,ue+=S;else for(ce=0;ce<W;++ce)a(he,je,Ue,ue,S),me=he,Ce=je,je+=S,ue+=S;j.rc=me,j.Vc=Ce}else{if(r(de.mc!=null),S=T+W,r((ce=de.mc)!=null),r(S<=ce.i),ce.C>=S)S=1;else if(de.ic||Li(),de.ic){de=ce.V,me=ce.Ba,Ce=ce.c;var Ye=ce.i,Qe=(Ue=1,ue=ce.$/Ce,he=ce.$%Ce,je=ce.m,Ie=ce.s,ce.$),Ke=Ce*Ye,qe=Ce*S,tt=Ie.wc,rt=Qe<qe?Ya(Ie,he,ue):null;r(Qe<=Ke),r(S<=Ye),r(Xa(Ie));t:for(;;){for(;!je.h&&Qe<qe;){if(he&tt||(rt=Ya(Ie,he,ue)),r(rt!=null),H(je),256>(Ye=ft(rt.G[0],rt.H[0],je)))de[me+Qe]=Ye,++Qe,++he>=Ce&&(he=0,++ue<=S&&!(ue%16)&&et(ce,ue));else{if(!(280>Ye)){Ue=0;break t}Ye=hn(Ye-256,je);var sr,Kt=ft(rt.G[4],rt.H[4],je);if(H(je),!(Qe>=(Kt=ns(Ce,Kt=hn(Kt,je)))&&Ke-Qe>=Ye)){Ue=0;break t}for(sr=0;sr<Ye;++sr)de[me+Qe+sr]=de[me+Qe+sr-Kt];for(Qe+=Ye,he+=Ye;he>=Ce;)he-=Ce,++ue<=S&&!(ue%16)&&et(ce,ue);Qe<qe&&he&tt&&(rt=Ya(Ie,he,ue))}r(je.h==F(je))}et(ce,ue>S?S:ue);break t}!Ue||je.h&&Qe<Ke?(Ue=0,ce.a=je.h?5:3):ce.$=Qe,S=Ue}else S=Ft(ce,ce.V,ce.Ba,ce.c,ce.i,S,Ur);if(!S){W=0;break e}}T+W>=le&&(j.Cc=1),W=1}if(!W)return null;if(j.Cc&&((W=j.ga)!=null&&(W.mc=null),j.ga=null,0<j.Ga))return alert("todo:WebPDequantizeLevels"),null}return j.nb+T*ne}function za(j,S,T,W,ne,le){for(;0<ne--;){var ce,de=j,ue=S+(T?1:0),he=j,je=S+(T?0:3);for(ce=0;ce<W;++ce){var Ie=he[je+4*ce];Ie!=255&&(Ie*=32897,de[ue+4*ce+0]=de[ue+4*ce+0]*Ie>>23,de[ue+4*ce+1]=de[ue+4*ce+1]*Ie>>23,de[ue+4*ce+2]=de[ue+4*ce+2]*Ie>>23)}S+=le}}function Kn(j,S,T,W,ne){for(;0<W--;){var le;for(le=0;le<T;++le){var ce=j[S+2*le+0],de=15&(he=j[S+2*le+1]),ue=4369*de,he=(240&he|he>>4)*ue>>16;j[S+2*le+0]=(240&ce|ce>>4)*ue>>16&240|(15&ce|ce<<4)*ue>>16>>4&15,j[S+2*le+1]=240&he|de}S+=ne}}function Cn(j,S,T,W,ne,le,ce,de){var ue,he,je=255;for(he=0;he<ne;++he){for(ue=0;ue<W;++ue){var Ie=j[S+ue];le[ce+4*ue]=Ie,je&=Ie}S+=T,ce+=de}return je!=255}function xs(j,S,T,W,ne){var le;for(le=0;le<ne;++le)T[W+le]=j[S+le]>>8}function Li(){Pc=za,ih=Kn,kd=Cn,oh=xs}function qs(j,S,T){_[j]=function(W,ne,le,ce,de,ue,he,je,Ie,me,Ce,Ue,Ye,Qe,Ke,qe,tt){var rt,sr=tt-1>>1,Kt=de[ue+0]|he[je+0]<<16,Ir=Ie[me+0]|Ce[Ue+0]<<16;r(W!=null);var Yt=3*Kt+Ir+131074>>2;for(S(W[ne+0],255&Yt,Yt>>16,Ye,Qe),le!=null&&(Yt=3*Ir+Kt+131074>>2,S(le[ce+0],255&Yt,Yt>>16,Ke,qe)),rt=1;rt<=sr;++rt){var na=de[ue+rt]|he[je+rt]<<16,vn=Ie[me+rt]|Ce[Ue+rt]<<16,Rr=Kt+na+Ir+vn+524296,Vt=Rr+2*(na+Ir)>>3;Yt=Vt+Kt>>1,Kt=(Rr=Rr+2*(Kt+vn)>>3)+na>>1,S(W[ne+2*rt-1],255&Yt,Yt>>16,Ye,Qe+(2*rt-1)*T),S(W[ne+2*rt-0],255&Kt,Kt>>16,Ye,Qe+(2*rt-0)*T),le!=null&&(Yt=Rr+Ir>>1,Kt=Vt+vn>>1,S(le[ce+2*rt-1],255&Yt,Yt>>16,Ke,qe+(2*rt-1)*T),S(le[ce+2*rt+0],255&Kt,Kt>>16,Ke,qe+(2*rt+0)*T)),Kt=na,Ir=vn}1&tt||(Yt=3*Kt+Ir+131074>>2,S(W[ne+tt-1],255&Yt,Yt>>16,Ye,Qe+(tt-1)*T),le!=null&&(Yt=3*Ir+Kt+131074>>2,S(le[ce+tt-1],255&Yt,Yt>>16,Ke,qe+(tt-1)*T)))}}function Uu(){Ys[Qu]=Ox,Ys[Ql]=Rl,Ys[zm]=Hx,Ys[Dd]=kA,Ys[Ud]=Tc,Ys[Qa]=Rd,Ys[Ru]=ph,Ys[_A]=Rl,Ys[Qc]=kA,Ys[Ld]=Tc,Ys[Id]=Rd}function El(j){return j&-16384?0>j?0:255:j>>Ml}function Bc(j,S){return El((19077*j>>8)+(26149*S>>8)-14234)}function Fl(j,S,T){return El((19077*j>>8)-(6419*S>>8)-(13320*T>>8)+8708)}function Cc(j,S){return El((19077*j>>8)+(33050*S>>8)-17685)}function kl(j,S,T,W,ne){W[ne+0]=Bc(j,T),W[ne+1]=Fl(j,S,T),W[ne+2]=Cc(j,S)}function Sc(j,S,T,W,ne){W[ne+0]=Cc(j,S),W[ne+1]=Fl(j,S,T),W[ne+2]=Bc(j,T)}function Cs(j,S,T,W,ne){var le=Fl(j,S,T);S=le<<3&224|Cc(j,S)>>3,W[ne+0]=248&Bc(j,T)|le>>5,W[ne+1]=S}function _c(j,S,T,W,ne){var le=240&Cc(j,S)|15;W[ne+0]=240&Bc(j,T)|Fl(j,S,T)>>4,W[ne+1]=le}function Ec(j,S,T,W,ne){W[ne+0]=255,kl(j,S,T,W,ne+1)}function Sd(j,S,T,W,ne){Sc(j,S,T,W,ne),W[ne+3]=255}function _d(j,S,T,W,ne){kl(j,S,T,W,ne),W[ne+3]=255}function pn(j,S){return 0>j?0:j>S?S:j}function eo(j,S,T){_[j]=function(W,ne,le,ce,de,ue,he,je,Ie){for(var me=je+(-2&Ie)*T;je!=me;)S(W[ne+0],le[ce+0],de[ue+0],he,je),S(W[ne+1],le[ce+0],de[ue+0],he,je+T),ne+=2,++ce,++ue,je+=2*T;1&Ie&&S(W[ne+0],le[ce+0],de[ue+0],he,je)}}function Co(j,S,T){return T==0?j==0?S==0?6:5:S==0?4:0:T}function Lu(j,S,T,W,ne){switch(j>>>30){case 3:Lc(S,T,W,ne,0);break;case 2:gn(S,T,W,ne);break;case 1:wa(S,T,W,ne)}}function mi(j,S){var T,W,ne=S.M,le=S.Nb,ce=j.oc,de=j.pc+40,ue=j.oc,he=j.pc+584,je=j.oc,Ie=j.pc+600;for(T=0;16>T;++T)ce[de+32*T-1]=129;for(T=0;8>T;++T)ue[he+32*T-1]=129,je[Ie+32*T-1]=129;for(0<ne?ce[de-1-32]=ue[he-1-32]=je[Ie-1-32]=129:(s(ce,de-32-1,127,21),s(ue,he-32-1,127,9),s(je,Ie-32-1,127,9)),W=0;W<j.za;++W){var me=S.ya[S.aa+W];if(0<W){for(T=-1;16>T;++T)a(ce,de+32*T-4,ce,de+32*T+12,4);for(T=-1;8>T;++T)a(ue,he+32*T-4,ue,he+32*T+4,4),a(je,Ie+32*T-4,je,Ie+32*T+4,4)}var Ce=j.Gd,Ue=j.Hd+W,Ye=me.ad,Qe=me.Hc;if(0<ne&&(a(ce,de-32,Ce[Ue].y,0,16),a(ue,he-32,Ce[Ue].f,0,8),a(je,Ie-32,Ce[Ue].ea,0,8)),me.Za){var Ke=ce,qe=de-32+16;for(0<ne&&(W>=j.za-1?s(Ke,qe,Ce[Ue].y[15],4):a(Ke,qe,Ce[Ue+1].y,0,4)),T=0;4>T;T++)Ke[qe+128+T]=Ke[qe+256+T]=Ke[qe+384+T]=Ke[qe+0+T];for(T=0;16>T;++T,Qe<<=2)Ke=ce,qe=de+gh[T],Qi[me.Ob[T]](Ke,qe),Lu(Qe,Ye,16*+T,Ke,qe)}else if(Ke=Co(W,ne,me.Ob[0]),Ms[Ke](ce,de),Qe!=0)for(T=0;16>T;++T,Qe<<=2)Lu(Qe,Ye,16*+T,ce,de+gh[T]);for(T=me.Gc,Ke=Co(W,ne,me.Dd),Gs[Ke](ue,he),Gs[Ke](je,Ie),Qe=Ye,Ke=ue,qe=he,255&(me=0|T)&&(170&me?Ws(Qe,256,Ke,qe):ka(Qe,256,Ke,qe)),me=je,Qe=Ie,255&(T>>=8)&&(170&T?Ws(Ye,320,me,Qe):ka(Ye,320,me,Qe)),ne<j.Ub-1&&(a(Ce[Ue].y,0,ce,de+480,16),a(Ce[Ue].f,0,ue,he+224,8),a(Ce[Ue].ea,0,je,Ie+224,8)),T=8*le*j.B,Ce=j.sa,Ue=j.ta+16*W+16*le*j.R,Ye=j.qa,me=j.ra+8*W+T,Qe=j.Ha,Ke=j.Ia+8*W+T,T=0;16>T;++T)a(Ce,Ue+T*j.R,ce,de+32*T,16);for(T=0;8>T;++T)a(Ye,me+T*j.B,ue,he+32*T,8),a(Qe,Ke+T*j.B,je,Ie+32*T,8)}}function Dl(j,S,T,W,ne,le,ce,de,ue){var he=[0],je=[0],Ie=0,me=ue!=null?ue.kd:0,Ce=ue??new Je;if(j==null||12>T)return 7;Ce.data=j,Ce.w=S,Ce.ha=T,S=[S],T=[T],Ce.gb=[Ce.gb];e:{var Ue=S,Ye=T,Qe=Ce.gb;if(r(j!=null),r(Ye!=null),r(Qe!=null),Qe[0]=0,12<=Ye[0]&&!t(j,Ue[0],"RIFF")){if(t(j,Ue[0]+8,"WEBP")){Qe=3;break e}var Ke=xe(j,Ue[0]+4);if(12>Ke||4294967286<Ke){Qe=3;break e}if(me&&Ke>Ye[0]-8){Qe=7;break e}Qe[0]=Ke,Ue[0]+=12,Ye[0]-=12}Qe=0}if(Qe!=0)return Qe;for(Ke=0<Ce.gb[0],T=T[0];;){e:{var qe=j;Ye=S,Qe=T;var tt=he,rt=je,sr=Ue=[0];if((Yt=Ie=[Ie])[0]=0,8>Qe[0])Qe=7;else{if(!t(qe,Ye[0],"VP8X")){if(xe(qe,Ye[0]+4)!=10){Qe=3;break e}if(18>Qe[0]){Qe=7;break e}var Kt=xe(qe,Ye[0]+8),Ir=1+ke(qe,Ye[0]+12);if(2147483648<=Ir*(qe=1+ke(qe,Ye[0]+15))){Qe=3;break e}sr!=null&&(sr[0]=Kt),tt!=null&&(tt[0]=Ir),rt!=null&&(rt[0]=qe),Ye[0]+=18,Qe[0]-=18,Yt[0]=1}Qe=0}}if(Ie=Ie[0],Ue=Ue[0],Qe!=0)return Qe;if(Ye=!!(2&Ue),!Ke&&Ie)return 3;if(le!=null&&(le[0]=!!(16&Ue)),ce!=null&&(ce[0]=Ye),de!=null&&(de[0]=0),ce=he[0],Ue=je[0],Ie&&Ye&&ue==null){Qe=0;break}if(4>T){Qe=7;break}if(Ke&&Ie||!Ke&&!Ie&&!t(j,S[0],"ALPH")){T=[T],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];e:{Kt=j,Qe=S,Ke=T;var Yt=Ce.gb;tt=Ce.na,rt=Ce.P,sr=Ce.Sa,Ir=22,r(Kt!=null),r(Ke!=null),qe=Qe[0];var na=Ke[0];for(r(tt!=null),r(sr!=null),tt[0]=null,rt[0]=null,sr[0]=0;;){if(Qe[0]=qe,Ke[0]=na,8>na){Qe=7;break e}var vn=xe(Kt,qe+4);if(4294967286<vn){Qe=3;break e}var Rr=8+vn+1&-2;if(Ir+=Rr,0<Yt&&Ir>Yt){Qe=3;break e}if(!t(Kt,qe,"VP8 ")||!t(Kt,qe,"VP8L")){Qe=0;break e}if(na[0]<Rr){Qe=7;break e}t(Kt,qe,"ALPH")||(tt[0]=Kt,rt[0]=qe+8,sr[0]=vn),qe+=Rr,na-=Rr}}if(T=T[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],Qe!=0)break}T=[T],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];e:if(Yt=j,Qe=S,Ke=T,tt=Ce.gb[0],rt=Ce.Ja,sr=Ce.xa,Kt=Qe[0],qe=!t(Yt,Kt,"VP8 "),Ir=!t(Yt,Kt,"VP8L"),r(Yt!=null),r(Ke!=null),r(rt!=null),r(sr!=null),8>Ke[0])Qe=7;else{if(qe||Ir){if(Yt=xe(Yt,Kt+4),12<=tt&&Yt>tt-12){Qe=3;break e}if(me&&Yt>Ke[0]-8){Qe=7;break e}rt[0]=Yt,Qe[0]+=8,Ke[0]-=8,sr[0]=Ir}else sr[0]=5<=Ke[0]&&Yt[Kt+0]==47&&!(Yt[Kt+4]>>5),rt[0]=Ke[0];Qe=0}if(T=T[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],S=S[0],Qe!=0)break;if(4294967286<Ce.Ja)return 3;if(de==null||Ye||(de[0]=Ce.xa?2:1),ce=[ce],Ue=[Ue],Ce.xa){if(5>T){Qe=7;break}de=ce,me=Ue,Ye=le,j==null||5>T?j=0:5<=T&&j[S+0]==47&&!(j[S+4]>>5)?(Ke=[0],Yt=[0],tt=[0],Z(rt=new q,j,S,T),gs(rt,Ke,Yt,tt)?(de!=null&&(de[0]=Ke[0]),me!=null&&(me[0]=Yt[0]),Ye!=null&&(Ye[0]=tt[0]),j=1):j=0):j=0}else{if(10>T){Qe=7;break}de=Ue,j==null||10>T||!vc(j,S+3,T-3)?j=0:(me=j[S+0]|j[S+1]<<8|j[S+2]<<16,Ye=16383&(j[S+7]<<8|j[S+6]),j=16383&(j[S+9]<<8|j[S+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=Ce.Ja||!Ye||!j?j=0:(ce&&(ce[0]=Ye),de&&(de[0]=j),j=1))}if(!j||(ce=ce[0],Ue=Ue[0],Ie&&(he[0]!=ce||je[0]!=Ue)))return 3;ue!=null&&(ue[0]=Ce,ue.offset=S-ue.w,r(4294967286>S-ue.w),r(ue.offset==ue.ha-T));break}return Qe==0||Qe==7&&Ie&&ue==null?(le!=null&&(le[0]|=Ce.na!=null&&0<Ce.na.length),W!=null&&(W[0]=ce),ne!=null&&(ne[0]=Ue),0):Qe}function yA(j,S,T){var W=S.width,ne=S.height,le=0,ce=0,de=W,ue=ne;if(S.Da=j!=null&&0<j.Da,S.Da&&(de=j.cd,ue=j.bd,le=j.v,ce=j.j,11>T||(le&=-2,ce&=-2),0>le||0>ce||0>=de||0>=ue||le+de>W||ce+ue>ne))return 0;if(S.v=le,S.j=ce,S.va=le+de,S.o=ce+ue,S.U=de,S.T=ue,S.da=j!=null&&0<j.da,S.da){if(!at(de,ue,T=[j.ib],le=[j.hb]))return 0;S.ib=T[0],S.hb=le[0]}return S.ob=j!=null&&j.ob,S.Kb=j==null||!j.Sd,S.da&&(S.ob=S.ib<3*W/4&&S.hb<3*ne/4,S.Kb=0),1}function bA(j){if(j==null)return 2;if(11>j.S){var S=j.f.RGBA;S.fb+=(j.height-1)*S.A,S.A=-S.A}else S=j.f.kb,j=j.height,S.O+=(j-1)*S.fa,S.fa=-S.fa,S.N+=(j-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(j-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(j-1)*S.lb,S.lb=-S.lb);return 0}function el(j,S,T,W){if(W==null||0>=j||0>=S)return 2;if(T!=null){if(T.Da){var ne=T.cd,le=T.bd,ce=-2&T.v,de=-2&T.j;if(0>ce||0>de||0>=ne||0>=le||ce+ne>j||de+le>S)return 2;j=ne,S=le}if(T.da){if(!at(j,S,ne=[T.ib],le=[T.hb]))return 2;j=ne[0],S=le[0]}}W.width=j,W.height=S;e:{var ue=W.width,he=W.height;if(j=W.S,0>=ue||0>=he||!(j>=Qu&&13>j))j=2;else{if(0>=W.Rd&&W.sd==null){ce=le=ne=S=0;var je=(de=ue*Md[j])*he;if(11>j||(le=(he+1)/2*(S=(ue+1)/2),j==12&&(ce=(ne=ue)*he)),(he=i(je+2*le+ce))==null){j=1;break e}W.sd=he,11>j?((ue=W.f.RGBA).eb=he,ue.fb=0,ue.A=de,ue.size=je):((ue=W.f.kb).y=he,ue.O=0,ue.fa=de,ue.Fd=je,ue.f=he,ue.N=0+je,ue.Ab=S,ue.Cd=le,ue.ea=he,ue.W=0+je+le,ue.Db=S,ue.Ed=le,j==12&&(ue.F=he,ue.J=0+je+2*le),ue.Tc=ce,ue.lb=ne)}if(S=1,ne=W.S,le=W.width,ce=W.height,ne>=Qu&&13>ne)if(11>ne)j=W.f.RGBA,S&=(de=Math.abs(j.A))*(ce-1)+le<=j.size,S&=de>=le*Md[ne],S&=j.eb!=null;else{j=W.f.kb,de=(le+1)/2,je=(ce+1)/2,ue=Math.abs(j.fa),he=Math.abs(j.Ab);var Ie=Math.abs(j.Db),me=Math.abs(j.lb),Ce=me*(ce-1)+le;S&=ue*(ce-1)+le<=j.Fd,S&=he*(je-1)+de<=j.Cd,S=(S&=Ie*(je-1)+de<=j.Ed)&ue>=le&he>=de&Ie>=de,S&=j.y!=null,S&=j.f!=null,S&=j.ea!=null,ne==12&&(S&=me>=le,S&=Ce<=j.Tc,S&=j.F!=null)}else S=0;j=S?0:2}}return j!=0||T!=null&&T.fd&&(j=bA(W)),j}var Ii=64,pi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],gi=24,Ul=32,So=8,tl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];st("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(j){return j},_.Predictor2=function(j,S,T){return S[T+0]},_.Predictor3=function(j,S,T){return S[T+1]},_.Predictor4=function(j,S,T){return S[T-1]},_.Predictor5=function(j,S,T){return kt(kt(j,S[T+1]),S[T+0])},_.Predictor6=function(j,S,T){return kt(j,S[T-1])},_.Predictor7=function(j,S,T){return kt(j,S[T+0])},_.Predictor8=function(j,S,T){return kt(S[T-1],S[T+0])},_.Predictor9=function(j,S,T){return kt(S[T+0],S[T+1])},_.Predictor10=function(j,S,T){return kt(kt(j,S[T-1]),kt(S[T+0],S[T+1]))},_.Predictor11=function(j,S,T){var W=S[T+0];return 0>=Pt(W>>24&255,j>>24&255,(S=S[T-1])>>24&255)+Pt(W>>16&255,j>>16&255,S>>16&255)+Pt(W>>8&255,j>>8&255,S>>8&255)+Pt(255&W,255&j,255&S)?W:j},_.Predictor12=function(j,S,T){var W=S[T+0];return(Nt((j>>24&255)+(W>>24&255)-((S=S[T-1])>>24&255))<<24|Nt((j>>16&255)+(W>>16&255)-(S>>16&255))<<16|Nt((j>>8&255)+(W>>8&255)-(S>>8&255))<<8|Nt((255&j)+(255&W)-(255&S)))>>>0},_.Predictor13=function(j,S,T){var W=S[T-1];return(ut((j=kt(j,S[T+0]))>>24&255,W>>24&255)<<24|ut(j>>16&255,W>>16&255)<<16|ut(j>>8&255,W>>8&255)<<8|ut(255&j,255&W))>>>0};var rl=_.PredictorAdd0;_.PredictorAdd1=Dt,st("Predictor2","PredictorAdd2"),st("Predictor3","PredictorAdd3"),st("Predictor4","PredictorAdd4"),st("Predictor5","PredictorAdd5"),st("Predictor6","PredictorAdd6"),st("Predictor7","PredictorAdd7"),st("Predictor8","PredictorAdd8"),st("Predictor9","PredictorAdd9"),st("Predictor10","PredictorAdd10"),st("Predictor11","PredictorAdd11"),st("Predictor12","PredictorAdd12"),st("Predictor13","PredictorAdd13");var _o=_.PredictorAdd2;St("ColorIndexInverseTransform","MapARGB","32b",function(j){return j>>8&255},function(j){return j}),St("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(j){return j},function(j){return j>>8&255});var Sn,Fc=_.ColorIndexInverseTransform,Eo=_.MapARGB,to=_.VP8LColorIndexInverseTransformAlpha,kc=_.MapAlpha,Dc=_.VP8LPredictorsAdd=[];Dc.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var jA,NA,al,Ll,Il,Uc,Pl,Lc,gn,Ws,wa,ka,xn,In,ro,Ed,BA,nl,Iu,CA,Pu,sh,Fd,Ic,Pc,ih,kd,oh,lh=i(511),ch=i(2041),Ah=i(225),dh=i(767),uh=0,Fo=ch,SA=Ah,Rs=dh,Pi=lh,Qu=0,Ql=1,zm=2,Dd=3,Ud=4,Qa=5,Ru=6,_A=7,Qc=8,Ld=9,Id=10,Pd=[2,3,7],Mu=[3,3,11],Rc=[280,256,256,256,40],qm=[0,1,1,1,0],Qx=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Rx=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Wm=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Tu=8,EA=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Qd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Mc=null,fh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ym=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Mx=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Tx=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],mh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ms=[],Qi=[],Gs=[],ko=1,FA=2,Ss=[],Ys=[];qs("UpsampleRgbLinePair",kl,3),qs("UpsampleBgrLinePair",Sc,3),qs("UpsampleRgbaLinePair",_d,4),qs("UpsampleBgraLinePair",Sd,4),qs("UpsampleArgbLinePair",Ec,4),qs("UpsampleRgba4444LinePair",_c,2),qs("UpsampleRgb565LinePair",Cs,2);var Ox=_.UpsampleRgbLinePair,Hx=_.UpsampleBgrLinePair,Rl=_.UpsampleRgbaLinePair,kA=_.UpsampleBgraLinePair,Tc=_.UpsampleArgbLinePair,Rd=_.UpsampleRgba4444LinePair,ph=_.UpsampleRgb565LinePair,sl=16,ao=1<<sl-1,_a=-227,Da=482,Ml=6,vs=0,Xs=i(256),Oc=i(256),DA=i(256),Js=i(256),Ou=i(Da-_a),Xm=i(Da-_a);eo("YuvToRgbRow",kl,3),eo("YuvToBgrRow",Sc,3),eo("YuvToRgbaRow",_d,4),eo("YuvToBgraRow",Sd,4),eo("YuvToArgbRow",Ec,4),eo("YuvToRgba4444Row",_c,2),eo("YuvToRgb565Row",Cs,2);var gh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Hc=[0,2,8],Jm=[8,7,6,4,4,2,2,2,1,1,1,1],il=1;this.WebPDecodeRGBA=function(j,S,T,W,ne){var le=Ql,ce=new _e,de=new Ze;ce.ba=de,de.S=le,de.width=[de.width],de.height=[de.height];var ue=de.width,he=de.height,je=new We;if(je==null||j==null)var Ie=2;else r(je!=null),Ie=Dl(j,S,T,je.width,je.height,je.Pd,je.Qd,je.format,null);if(Ie!=0?ue=0:(ue!=null&&(ue[0]=je.width[0]),he!=null&&(he[0]=je.height[0]),ue=1),ue){de.width=de.width[0],de.height=de.height[0],W!=null&&(W[0]=de.width),ne!=null&&(ne[0]=de.height);e:{if(W=new Ca,(ne=new Je).data=j,ne.w=S,ne.ha=T,ne.kd=1,S=[0],r(ne!=null),((j=Dl(ne.data,ne.w,ne.ha,null,null,null,S,null,ne))==0||j==7)&&S[0]&&(j=4),(S=j)==0){if(r(ce!=null),W.data=ne.data,W.w=ne.w+ne.offset,W.ha=ne.ha-ne.offset,W.put=er,W.ac=ca,W.bc=Nn,W.ma=ce,ne.xa){if((j=Ht())==null){ce=1;break e}if((function(me,Ce){var Ue=[0],Ye=[0],Qe=[0];t:for(;;){if(me==null)return 0;if(Ce==null)return me.a=2,0;if(me.l=Ce,me.a=0,Z(me.m,Ce.data,Ce.w,Ce.ha),!gs(me.m,Ue,Ye,Qe)){me.a=3;break t}if(me.xb=FA,Ce.width=Ue[0],Ce.height=Ye[0],!mr(Ue[0],Ye[0],1,me,null))break t;return 1}return r(me.a!=0),0})(j,W)){if(W=(S=el(W.width,W.height,ce.Oa,ce.ba))==0){t:{W=j;r:for(;;){if(W==null){W=0;break t}if(r(W.s.yc!=null),r(W.s.Ya!=null),r(0<W.s.Wb),r((T=W.l)!=null),r((ne=T.ma)!=null),W.xb!=0){if(W.ca=ne.ba,W.tb=ne.tb,r(W.ca!=null),!yA(ne.Oa,T,Dd)){W.a=2;break r}if(!$t(W,T.width)||T.da)break r;if((T.da||Ar(W.ca.S))&&Li(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&Li()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!ie(W.s.vb,W.s.Wa.Xa)){W.a=1;break r}W.xb=0}if(!Ft(W,W.V,W.Ba,W.c,W.i,T.o,fi))break r;ne.Dc=W.Ma,W=1;break t}r(W.a!=0),W=0}W=!W}W&&(S=j.a)}else S=j.a}else{if((j=new Go)==null){ce=1;break e}if(j.Fa=ne.na,j.P=ne.P,j.qc=ne.Sa,yo(j,W)){if((S=el(W.width,W.height,ce.Oa,ce.ba))==0){if(j.Aa=0,T=ce.Oa,r((ne=j)!=null),T!=null){if(0<(ue=0>(ue=T.Md)?0:100<ue?255:255*ue/100)){for(he=je=0;4>he;++he)12>(Ie=ne.pb[he]).lc&&(Ie.ia=ue*Jm[0>Ie.lc?0:Ie.lc]>>3),je|=Ie.ia;je&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=T.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}(function(me,Ce){if(me==null)return 0;if(Ce==null)return on(me,2,"NULL VP8Io parameter in VP8Decode().");if(!me.cb&&!yo(me,Ce))return 0;if(r(me.cb),Ce.ac==null||Ce.ac(Ce)){Ce.ob&&(me.L=0);var Ue=Hc[me.L];if(me.L==2?(me.yb=0,me.zb=0):(me.yb=Ce.v-Ue>>4,me.zb=Ce.j-Ue>>4,0>me.yb&&(me.yb=0),0>me.zb&&(me.zb=0)),me.Va=Ce.o+15+Ue>>4,me.Hb=Ce.va+15+Ue>>4,me.Hb>me.za&&(me.Hb=me.za),me.Va>me.Ub&&(me.Va=me.Ub),0<me.L){var Ye=me.ed;for(Ue=0;4>Ue;++Ue){var Qe;if(me.Qa.Cb){var Ke=me.Qa.Lb[Ue];me.Qa.Fb||(Ke+=Ye.Tb)}else Ke=Ye.Tb;for(Qe=0;1>=Qe;++Qe){var qe=me.gd[Ue][Qe],tt=Ke;if(Ye.Pc&&(tt+=Ye.vd[0],Qe&&(tt+=Ye.od[0])),0<(tt=0>tt?0:63<tt?63:tt)){var rt=tt;0<Ye.wb&&(rt=4<Ye.wb?rt>>2:rt>>1)>9-Ye.wb&&(rt=9-Ye.wb),1>rt&&(rt=1),qe.dd=rt,qe.tc=2*tt+rt,qe.ld=40<=tt?2:15<=tt?1:0}else qe.tc=0;qe.La=Qe}}}Ue=0}else on(me,6,"Frame setup failed"),Ue=me.a;if(Ue=Ue==0){if(Ue){me.$c=0,0<me.Aa||(me.Ic=il);t:{Ue=me.Ic,Ye=4*(rt=me.za);var sr=32*rt,Kt=rt+1,Ir=0<me.L?rt*(0<me.Aa?2:1):0,Yt=(me.Aa==2?2:1)*rt;if((qe=Ye+832+(Qe=3*(16*Ue+Hc[me.L])/2*sr)+(Ke=me.Fa!=null&&0<me.Fa.length?me.Kc.c*me.Kc.i:0))!=qe)Ue=0;else{if(qe>me.Vb){if(me.Vb=0,me.Ec=i(qe),me.Fc=0,me.Ec==null){Ue=on(me,1,"no memory during frame initialization.");break t}me.Vb=qe}qe=me.Ec,tt=me.Fc,me.Ac=qe,me.Bc=tt,tt+=Ye,me.Gd=o(sr,en),me.Hd=0,me.rb=o(Kt+1,qt),me.sb=1,me.wa=Ir?o(Ir,hr):null,me.Y=0,me.D.Nb=0,me.D.wa=me.wa,me.D.Y=me.Y,0<me.Aa&&(me.D.Y+=rt),r(!0),me.oc=qe,me.pc=tt,tt+=832,me.ya=o(Yt,sn),me.aa=0,me.D.ya=me.ya,me.D.aa=me.aa,me.Aa==2&&(me.D.aa+=rt),me.R=16*rt,me.B=8*rt,rt=(sr=Hc[me.L])*me.R,sr=sr/2*me.B,me.sa=qe,me.ta=tt+rt,me.qa=me.sa,me.ra=me.ta+16*Ue*me.R+sr,me.Ha=me.qa,me.Ia=me.ra+8*Ue*me.B+sr,me.$c=0,tt+=Qe,me.mb=Ke?qe:null,me.nb=Ke?tt:null,r(tt+Ke<=me.Fc+me.Vb),Ge(me),s(me.Ac,me.Bc,0,Ye),Ue=1}}if(Ue){if(Ce.ka=0,Ce.y=me.sa,Ce.O=me.ta,Ce.f=me.qa,Ce.N=me.ra,Ce.ea=me.Ha,Ce.Vd=me.Ia,Ce.fa=me.R,Ce.Rc=me.B,Ce.F=null,Ce.J=0,!uh){for(Ue=-255;255>=Ue;++Ue)lh[255+Ue]=0>Ue?-Ue:Ue;for(Ue=-1020;1020>=Ue;++Ue)ch[1020+Ue]=-128>Ue?-128:127<Ue?127:Ue;for(Ue=-112;112>=Ue;++Ue)Ah[112+Ue]=-16>Ue?-16:15<Ue?15:Ue;for(Ue=-255;510>=Ue;++Ue)dh[255+Ue]=0>Ue?0:255<Ue?255:Ue;uh=1}Pl=Aa,Lc=Zr,Ws=ln,wa=Sa,ka=Yi,gn=Bn,xn=Cd,In=Bs,ro=P,Ed=se,BA=Ui,nl=wA,Iu=pe,CA=be,Pu=Fi,sh=Zo,Fd=Nc,Ic=Bd,Qi[0]=nh,Qi[1]=pA,Qi[2]=wc,Qi[3]=jo,Qi[4]=ku,Qi[5]=Xo,Qi[6]=hi,Qi[7]=Du,Qi[8]=yc,Qi[9]=xA,Ms[0]=Xi,Ms[1]=Eu,Ms[2]=Fu,Ms[3]=gA,Ms[4]=bo,Ms[5]=zs,Ms[6]=Ei,Gs[0]=Zi,Gs[1]=yd,Gs[2]=bd,Gs[3]=Ji,Gs[4]=jd,Gs[5]=vA,Gs[6]=Nd,Ue=1}else Ue=0}Ue&&(Ue=(function(na,vn){for(na.M=0;na.M<na.Va;++na.M){var Rr,Vt=na.Jc[na.M&na.Xb],Ct=na.m,_n=na;for(Rr=0;Rr<_n.za;++Rr){var Br=Ct,ea=_n,qa=ea.Ac,is=ea.Bc+4*Rr,Pn=ea.zc,An=ea.ya[ea.aa+Rr];if(ea.Qa.Bb?An.$b=fe(Br,ea.Pa.jb[0])?2+fe(Br,ea.Pa.jb[2]):fe(Br,ea.Pa.jb[1]):An.$b=0,ea.kc&&(An.Ad=fe(Br,ea.Bd)),An.Za=!fe(Br,145)+0,An.Za){var Vn=An.Ob,os=0;for(ea=0;4>ea;++ea){var tn,oa=Pn[0+ea];for(tn=0;4>tn;++tn){oa=Mx[qa[is+tn]][oa];for(var ya=Gm[fe(Br,oa[0])];0<ya;)ya=Gm[2*ya+fe(Br,oa[ya])];oa=-ya,qa[is+tn]=oa}a(Vn,os,qa,is,4),os+=4,Pn[0+ea]=oa}}else oa=fe(Br,156)?fe(Br,128)?1:3:fe(Br,163)?2:0,An.Ob[0]=oa,s(qa,is,oa,4),s(Pn,0,oa,4);An.Dd=fe(Br,142)?fe(Br,114)?fe(Br,183)?1:3:2:0}if(_n.m.Ka)return on(na,7,"Premature end-of-partition0 encountered.");for(;na.ja<na.za;++na.ja){if(_n=Vt,Br=(Ct=na).rb[Ct.sb-1],qa=Ct.rb[Ct.sb+Ct.ja],Rr=Ct.ya[Ct.aa+Ct.ja],is=Ct.kc?Rr.Ad:0)Br.la=qa.la=0,Rr.Za||(Br.Na=qa.Na=0),Rr.Hc=0,Rr.Gc=0,Rr.ia=0;else{var rn,ba;if(Br=qa,qa=_n,is=Ct.Pa.Xc,Pn=Ct.ya[Ct.aa+Ct.ja],An=Ct.pb[Pn.$b],ea=Pn.ad,Vn=0,os=Ct.rb[Ct.sb-1],oa=tn=0,s(ea,Vn,0,384),Pn.Za)var wn=0,yn=is[3];else{ya=i(16);var Ra=Br.Na+os.Na;if(Ra=Mc(qa,is[1],Ra,An.Eb,0,ya,0),Br.Na=os.Na=(0<Ra)+0,1<Ra)Pl(ya,0,ea,Vn);else{var _s=ya[0]+3>>3;for(ya=0;256>ya;ya+=16)ea[Vn+ya]=_s}wn=1,yn=is[0]}var Ua=15&Br.la,Ma=15&os.la;for(ya=0;4>ya;++ya){var Qn=1&Ma;for(_s=ba=0;4>_s;++_s)Ua=Ua>>1|(Qn=(Ra=Mc(qa,yn,Ra=Qn+(1&Ua),An.Sc,wn,ea,Vn))>wn)<<7,ba=ba<<2|(3<Ra?3:1<Ra?2:ea[Vn+0]!=0),Vn+=16;Ua>>=4,Ma=Ma>>1|Qn<<7,tn=(tn<<8|ba)>>>0}for(yn=Ua,wn=Ma>>4,rn=0;4>rn;rn+=2){for(ba=0,Ua=Br.la>>4+rn,Ma=os.la>>4+rn,ya=0;2>ya;++ya){for(Qn=1&Ma,_s=0;2>_s;++_s)Ra=Qn+(1&Ua),Ua=Ua>>1|(Qn=0<(Ra=Mc(qa,is[2],Ra,An.Qc,0,ea,Vn)))<<3,ba=ba<<2|(3<Ra?3:1<Ra?2:ea[Vn+0]!=0),Vn+=16;Ua>>=2,Ma=Ma>>1|Qn<<5}oa|=ba<<4*rn,yn|=Ua<<4<<rn,wn|=(240&Ma)<<rn}Br.la=yn,os.la=wn,Pn.Hc=tn,Pn.Gc=oa,Pn.ia=43690&oa?0:An.ia,is=!(tn|oa)}if(0<Ct.L&&(Ct.wa[Ct.Y+Ct.ja]=Ct.gd[Rr.$b][Rr.Za],Ct.wa[Ct.Y+Ct.ja].La|=!is),_n.Ka)return on(na,7,"Premature end-of-file encountered.")}if(Ge(na),Ct=vn,_n=1,Rr=(Vt=na).D,Br=0<Vt.L&&Vt.M>=Vt.zb&&Vt.M<=Vt.Va,Vt.Aa==0)t:{if(Rr.M=Vt.M,Rr.uc=Br,mi(Vt,Rr),_n=1,Rr=(ba=Vt.D).Nb,Br=(oa=Hc[Vt.L])*Vt.R,qa=oa/2*Vt.B,ya=16*Rr*Vt.R,_s=8*Rr*Vt.B,is=Vt.sa,Pn=Vt.ta-Br+ya,An=Vt.qa,ea=Vt.ra-qa+_s,Vn=Vt.Ha,os=Vt.Ia-qa+_s,Ma=(Ua=ba.M)==0,tn=Ua>=Vt.Va-1,Vt.Aa==2&&mi(Vt,ba),ba.uc)for(Qn=(Ra=Vt).D.M,r(Ra.D.uc),ba=Ra.yb;ba<Ra.Hb;++ba){wn=ba,yn=Qn;var ws=(Zs=(kn=Ra).D).Nb;rn=kn.R;var Zs=Zs.wa[Zs.Y+wn],En=kn.sa,Fn=kn.ta+16*ws*rn+16*wn,Es=Zs.dd,Ta=Zs.tc;if(Ta!=0)if(r(3<=Ta),kn.L==1)0<wn&&sh(En,Fn,rn,Ta+4),Zs.La&&Ic(En,Fn,rn,Ta),0<yn&&Pu(En,Fn,rn,Ta+4),Zs.La&&Fd(En,Fn,rn,Ta);else{var Fs=kn.B,Ri=kn.qa,no=kn.ra+8*ws*Fs+8*wn,ls=kn.Ha,kn=kn.Ia+8*ws*Fs+8*wn;ws=Zs.ld,0<wn&&(In(En,Fn,rn,Ta+4,Es,ws),Ed(Ri,no,ls,kn,Fs,Ta+4,Es,ws)),Zs.La&&(nl(En,Fn,rn,Ta,Es,ws),CA(Ri,no,ls,kn,Fs,Ta,Es,ws)),0<yn&&(xn(En,Fn,rn,Ta+4,Es,ws),ro(Ri,no,ls,kn,Fs,Ta+4,Es,ws)),Zs.La&&(BA(En,Fn,rn,Ta,Es,ws),Iu(Ri,no,ls,kn,Fs,Ta,Es,ws))}}if(Vt.ia&&alert("todo:DitherRow"),Ct.put!=null){if(ba=16*Ua,Ua=16*(Ua+1),Ma?(Ct.y=Vt.sa,Ct.O=Vt.ta+ya,Ct.f=Vt.qa,Ct.N=Vt.ra+_s,Ct.ea=Vt.Ha,Ct.W=Vt.Ia+_s):(ba-=oa,Ct.y=is,Ct.O=Pn,Ct.f=An,Ct.N=ea,Ct.ea=Vn,Ct.W=os),tn||(Ua-=oa),Ua>Ct.o&&(Ua=Ct.o),Ct.F=null,Ct.J=null,Vt.Fa!=null&&0<Vt.Fa.length&&ba<Ua&&(Ct.J=Ln(Vt,Ct,ba,Ua-ba),Ct.F=Vt.mb,Ct.F==null&&Ct.F.length==0)){_n=on(Vt,3,"Could not decode alpha data.");break t}ba<Ct.j&&(oa=Ct.j-ba,ba=Ct.j,r(!(1&oa)),Ct.O+=Vt.R*oa,Ct.N+=Vt.B*(oa>>1),Ct.W+=Vt.B*(oa>>1),Ct.F!=null&&(Ct.J+=Ct.width*oa)),ba<Ua&&(Ct.O+=Ct.v,Ct.N+=Ct.v>>1,Ct.W+=Ct.v>>1,Ct.F!=null&&(Ct.J+=Ct.v),Ct.ka=ba-Ct.j,Ct.U=Ct.va-Ct.v,Ct.T=Ua-ba,_n=Ct.put(Ct))}Rr+1!=Vt.Ic||tn||(a(Vt.sa,Vt.ta-Br,is,Pn+16*Vt.R,Br),a(Vt.qa,Vt.ra-qa,An,ea+8*Vt.B,qa),a(Vt.Ha,Vt.Ia-qa,Vn,os+8*Vt.B,qa))}if(!_n)return on(na,6,"Output aborted.")}return 1})(me,Ce)),Ce.bc!=null&&Ce.bc(Ce),Ue&=1}return Ue?(me.cb=0,Ue):0})(j,W)||(S=j.a)}}else S=j.a}S==0&&ce.Oa!=null&&ce.Oa.fd&&(S=bA(ce.ba))}ce=S}le=ce!=0?null:11>le?de.f.RGBA.eb:de.f.kb.y}else le=null;return le};var Md=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(_,Y){for(var I="",$=0;$<4;$++)I+=String.fromCharCode(_[Y++]);return I}function f(_,Y){return _[Y+0]|_[Y+1]<<8}function h(_,Y){return(_[Y+0]|_[Y+1]<<8|_[Y+2]<<16)>>>0}function m(_,Y){return(_[Y+0]|_[Y+1]<<8|_[Y+2]<<16|_[Y+3]<<24)>>>0}new A;var p=[0],v=[0],g=[],w=new A,y=e,N=(function(_,Y){var I={},$=0,J=!1,M=0,re=0;if(I.frames=[],!(function(R,q){for(var te=0;te<4;te++)if(R[q+te]!="RIFF".charCodeAt(te))return!0;return!1})(_,Y)){for(m(_,Y+=4),Y+=8;Y<_.length;){var K=d(_,Y),G=m(_,Y+=4);Y+=4;var z=G+(1&G);switch(K){case"VP8 ":case"VP8L":I.frames[$]===void 0&&(I.frames[$]={}),(ee=I.frames[$]).src_off=J?re:Y-8,ee.src_size=M+G+8,$++,J&&(J=!1,M=0,re=0);break;case"VP8X":(ee=I.header={}).feature_flags=_[Y];var Z=Y+4;ee.canvas_width=1+h(_,Z),Z+=3,ee.canvas_height=1+h(_,Z),Z+=3;break;case"ALPH":J=!0,M=z+8,re=Y-8;break;case"ANIM":(ee=I.header).bgcolor=m(_,Y),Z=Y+4,ee.loop_count=f(_,Z),Z+=2;break;case"ANMF":var Ae,ee;(ee=I.frames[$]={}).offset_x=2*h(_,Y),Y+=3,ee.offset_y=2*h(_,Y),Y+=3,ee.width=1+h(_,Y),Y+=3,ee.height=1+h(_,Y),Y+=3,ee.duration=h(_,Y),Y+=3,Ae=_[Y++],ee.dispose=1&Ae,ee.blend=Ae>>1&1}K!="ANMF"&&(Y+=z)}return I}})(y,0);N.response=y,N.rgbaoutput=!0,N.dataurl=!1;var C=N.header?N.header:null,E=N.frames?N.frames:null;if(C){C.loop_counter=C.loop_count,p=[C.canvas_height],v=[C.canvas_width];for(var U=0;U<E.length&&E[U].blend!=0;U++);}var D=E[0],k=w.WebPDecodeRGBA(y,D.src_off,D.src_size,v,p);D.rgba=k,D.imgwidth=v[0],D.imgheight=p[0];for(var L=0;L<v[0]*p[0]*4;L++)g[L]=k[L];return this.width=v,this.height=p,this.data=g,this}(function(e){var r,t,a,s,i,o,l,A,d,f=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new A,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new o,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new o,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),r=this.internal.f2,t=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,A=this.internal.Matrix,d=new f}]);var h=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=R;Object.defineProperty(this,"pdf",{get:function(){return q}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(xe){te=!!xe}});var F=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return F},set:function(xe){F=!!xe}});var X=0;Object.defineProperty(this,"posX",{get:function(){return X},set:function(xe){isNaN(xe)||(X=xe)}});var H=0;Object.defineProperty(this,"posY",{get:function(){return H},set:function(xe){isNaN(xe)||(H=xe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(xe){var ie;typeof xe=="number"?ie=[xe,xe,xe,xe]:((ie=new Array(4))[0]=xe[0],ie[1]=xe.length>=2?xe[1]:ie[0],ie[2]=xe.length>=3?xe[2]:ie[0],ie[3]=xe.length>=4?xe[3]:ie[1]),d.margin=ie}});var V=!1;Object.defineProperty(this,"autoPaging",{get:function(){return V},set:function(xe){V=xe}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(xe){ae=xe}});var fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return fe},set:function(xe){fe=xe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(xe){xe instanceof f&&(d=xe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(xe){d.path=xe}});var ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return ve},set:function(xe){ve=xe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(xe){var ie;ie=m(xe),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(xe){var ie=m(xe);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(xe){["butt","round","square"].indexOf(xe)!==-1&&(this.ctx.lineCap=xe,this.pdf.setLineCap(xe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(xe){isNaN(xe)||(this.ctx.lineWidth=xe,this.pdf.setLineWidth(xe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(xe){["bevel","round","miter"].indexOf(xe)!==-1&&(this.ctx.lineJoin=xe,this.pdf.setLineJoin(xe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(xe){isNaN(xe)||(this.ctx.miterLimit=xe,this.pdf.setMiterLimit(xe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(xe){this.ctx.textBaseline=xe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(xe){["right","end","center","left","start"].indexOf(xe)!==-1&&(this.ctx.textAlign=xe)}});var Be=null,ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return ke},set:function(xe){Be=null,ke=xe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(xe){var ie;if(this.ctx.font=xe,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(xe))!==null){var lt=ie[1];ie[2];var mt=ie[3],at=ie[4];ie[5];var Ee=ie[6],At=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(at)[2];at=Math.floor(At==="px"?parseFloat(at)*this.pdf.internal.scaleFactor:At==="em"?parseFloat(at)*this.pdf.getFontSize():parseFloat(at)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(at);var st=(function(bt){var St,Tr,jr=[],Qt=bt.trim();if(Qt==="")return Nw;if(Qt in QB)return[QB[Qt]];for(;Qt!=="";){switch(Tr=null,St=(Qt=MB(Qt)).charAt(0)){case'"':case"'":Tr=JK(Qt.substring(1),St);break;default:Tr=ZK(Qt)}if(Tr===null||(jr.push(Tr[0]),(Qt=MB(Tr[1]))!==""&&Qt.charAt(0)!==","))return Nw;Qt=Qt.replace(/^,/,"")}return jr})(Ee);if(this.fontFaces){var Mt=(function(bt,St){if(Be===null){var Tr=(function(jr){var Qt=[];return Object.keys(jr).forEach(function(gr){jr[gr].forEach(function(Wr){var jt=null;switch(Wr){case"bold":jt={family:gr,weight:"bold"};break;case"italic":jt={family:gr,style:"italic"};break;case"bolditalic":jt={family:gr,weight:"bold",style:"italic"};break;case"":case"normal":jt={family:gr}}jt!==null&&(jt.ref={name:gr,style:Wr},Qt.push(jt))})}),Qt})(bt.getFontList());Be=(function(jr){for(var Qt={},gr=0;gr<jr.length;++gr){var Wr=jw(jr[gr]),jt=Wr.family,xr=Wr.stretch,Ar=Wr.style,Xr=Wr.weight;Qt[jt]=Qt[jt]||{},Qt[jt][xr]=Qt[jt][xr]||{},Qt[jt][xr][Ar]=Qt[jt][xr][Ar]||{},Qt[jt][xr][Ar][Xr]=Wr}return Qt})(Tr.concat(St))}return Be})(this.pdf,this.fontFaces),kt=st.map(function(bt){return{family:bt,stretch:"normal",weight:mt,style:lt}}),Nt=(function(bt,St,Tr){for(var jr=(Tr=Tr||{}).defaultFontFamily||"times",Qt=Object.assign({},XK,Tr.genericFontFamilies||{}),gr=null,Wr=null,jt=0;jt<St.length;++jt)if(Qt[(gr=jw(St[jt])).family]&&(gr.family=Qt[gr.family]),bt.hasOwnProperty(gr.family)){Wr=bt[gr.family];break}if(!(Wr=Wr||bt[jr]))throw new Error("Could not find a font-family for the rule '"+RB(gr)+"' and default family '"+jr+"'.");if(Wr=(function(xr,Ar){if(Ar[xr])return Ar[xr];var Xr=Ky[xr],ga=Xr<=Ky.normal?-1:1,Ze=PB(Ar,h3,Xr,ga);if(!Ze)throw new Error("Could not find a matching font-stretch value for "+xr);return Ze})(gr.stretch,Wr),Wr=(function(xr,Ar){if(Ar[xr])return Ar[xr];for(var Xr=f3[xr],ga=0;ga<Xr.length;++ga)if(Ar[Xr[ga]])return Ar[Xr[ga]];throw new Error("Could not find a matching font-style for "+xr)})(gr.style,Wr),!(Wr=(function(xr,Ar){if(Ar[xr])return Ar[xr];if(xr===400&&Ar[500])return Ar[500];if(xr===500&&Ar[400])return Ar[400];var Xr=YK[xr],ga=PB(Ar,m3,Xr,xr<400?-1:1);if(!ga)throw new Error("Could not find a matching font-weight for value "+xr);return ga})(gr.weight,Wr)))throw new Error("Failed to resolve a font for the rule '"+RB(gr)+"'.");return Wr})(Mt,kt);this.pdf.setFont(Nt.ref.name,Nt.ref.style)}else{var ut="";(mt==="bold"||parseInt(mt,10)>=700||lt==="bold")&&(ut="bold"),lt==="italic"&&(ut+="italic"),ut.length===0&&(ut="normal");for(var Pt="",Dt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Et=0;Et<st.length;Et++){if(this.pdf.internal.getFont(st[Et],ut,{noFallback:!0,disableWarning:!0})!==void 0){Pt=st[Et];break}if(ut==="bolditalic"&&this.pdf.internal.getFont(st[Et],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Pt=st[Et],ut="bold";else if(this.pdf.internal.getFont(st[Et],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Pt=st[Et],ut="normal";break}}if(Pt===""){for(var vt=0;vt<st.length;vt++)if(Dt[st[vt]]){Pt=Dt[st[vt]];break}}Pt=Pt===""?"Times":Pt,this.pdf.setFont(Pt,ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(xe){this.ctx.globalCompositeOperation=xe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(xe){this.ctx.globalAlpha=xe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(xe){this.ctx.lineDashOffset=xe,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(xe){this.ctx.lineDash=xe,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(xe){this.ctx.ignoreClearRect=!!xe}})};h.prototype.setLineDash=function(R){this.lineDash=R},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){E.call(this,"fill",!1)},h.prototype.stroke=function(){E.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(R,q){if(isNaN(R)||isNaN(q))throw Za.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new o(R,q));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(R,q)},h.prototype.closePath=function(){var R=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Ha(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){R=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(R.x,R.y)},h.prototype.lineTo=function(R,q){if(isNaN(R)||isNaN(q))throw Za.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new o(R,q));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},h.prototype.quadraticCurveTo=function(R,q,te,F){if(isNaN(te)||isNaN(F)||isNaN(R)||isNaN(q))throw Za.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var X=this.ctx.transform.applyToPoint(new o(te,F)),H=this.ctx.transform.applyToPoint(new o(R,q));this.path.push({type:"qct",x1:H.x,y1:H.y,x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},h.prototype.bezierCurveTo=function(R,q,te,F,X,H){if(isNaN(X)||isNaN(H)||isNaN(R)||isNaN(q)||isNaN(te)||isNaN(F))throw Za.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var V=this.ctx.transform.applyToPoint(new o(X,H)),ae=this.ctx.transform.applyToPoint(new o(R,q)),fe=this.ctx.transform.applyToPoint(new o(te,F));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:fe.x,y2:fe.y,x:V.x,y:V.y}),this.ctx.lastPoint=new o(V.x,V.y)},h.prototype.arc=function(R,q,te,F,X,H){if(isNaN(R)||isNaN(q)||isNaN(te)||isNaN(F)||isNaN(X))throw Za.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(H=!!H,!this.ctx.transform.isIdentity){var V=this.ctx.transform.applyToPoint(new o(R,q));R=V.x,q=V.y;var ae=this.ctx.transform.applyToPoint(new o(0,te)),fe=this.ctx.transform.applyToPoint(new o(0,0));te=Math.sqrt(Math.pow(ae.x-fe.x,2)+Math.pow(ae.y-fe.y,2))}Math.abs(X-F)>=2*Math.PI&&(F=0,X=2*Math.PI),this.path.push({type:"arc",x:R,y:q,radius:te,startAngle:F,endAngle:X,counterclockwise:H})},h.prototype.arcTo=function(R,q,te,F,X){throw new Error("arcTo not implemented.")},h.prototype.rect=function(R,q,te,F){if(isNaN(R)||isNaN(q)||isNaN(te)||isNaN(F))throw Za.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,q),this.lineTo(R+te,q),this.lineTo(R+te,q+F),this.lineTo(R,q+F),this.lineTo(R,q),this.lineTo(R+te,q),this.lineTo(R,q)},h.prototype.fillRect=function(R,q,te,F){if(isNaN(R)||isNaN(q)||isNaN(te)||isNaN(F))throw Za.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var X={};this.lineCap!=="butt"&&(X.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(X.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,q,te,F),this.fill(),X.hasOwnProperty("lineCap")&&(this.lineCap=X.lineCap),X.hasOwnProperty("lineJoin")&&(this.lineJoin=X.lineJoin)}},h.prototype.strokeRect=function(R,q,te,F){if(isNaN(R)||isNaN(q)||isNaN(te)||isNaN(F))throw Za.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(R,q,te,F),this.stroke())},h.prototype.clearRect=function(R,q,te,F){if(isNaN(R)||isNaN(q)||isNaN(te)||isNaN(F))throw Za.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,q,te,F))},h.prototype.save=function(R){R=typeof R!="boolean"||R;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var F=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=F}},h.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(q),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(R){var q,te,F,X;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))q=0,te=0,F=0,X=0;else{var H=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(H!==null)q=parseInt(H[1]),te=parseInt(H[2]),F=parseInt(H[3]),X=1;else if((H=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)q=parseInt(H[1]),te=parseInt(H[2]),F=parseInt(H[3]),X=parseFloat(H[4]);else{if(X=1,typeof R=="string"&&R.charAt(0)!=="#"){var V=new i3(R);R=V.ok?V.toHex():"#000000"}R.length===4?(q=R.substring(1,2),q+=q,te=R.substring(2,3),te+=te,F=R.substring(3,4),F+=F):(q=R.substring(1,3),te=R.substring(3,5),F=R.substring(5,7)),q=parseInt(q,16),te=parseInt(te,16),F=parseInt(F,16)}}return{r:q,g:te,b:F,a:X,style:R}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(R,q,te,F){if(isNaN(q)||isNaN(te)||typeof R!="string")throw Za.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(F=isNaN(F)?void 0:F,!p.call(this)){var X=z(this.ctx.transform.rotation),H=this.ctx.transform.scaleX;$.call(this,{text:R,x:q,y:te,scale:H,angle:X,align:this.textAlign,maxWidth:F})}},h.prototype.strokeText=function(R,q,te,F){if(isNaN(q)||isNaN(te)||typeof R!="string")throw Za.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){F=isNaN(F)?void 0:F;var X=z(this.ctx.transform.rotation),H=this.ctx.transform.scaleX;$.call(this,{text:R,x:q,y:te,scale:H,renderingMode:"stroke",angle:X,align:this.textAlign,maxWidth:F})}},h.prototype.measureText=function(R){if(typeof R!="string")throw Za.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,te=this.pdf.internal.scaleFactor,F=q.internal.getFontSize(),X=q.getStringUnitWidth(R)*F/q.internal.scaleFactor;return new function(H){var V=(H=H||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return V}}),this}({width:X*=Math.round(96*te/72*1e4)/1e4})},h.prototype.scale=function(R,q){if(isNaN(R)||isNaN(q))throw Za.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new A(R,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},h.prototype.rotate=function(R){if(isNaN(R))throw Za.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new A(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},h.prototype.translate=function(R,q){if(isNaN(R)||isNaN(q))throw Za.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new A(1,0,0,1,R,q);this.ctx.transform=this.ctx.transform.multiply(te)},h.prototype.transform=function(R,q,te,F,X,H){if(isNaN(R)||isNaN(q)||isNaN(te)||isNaN(F)||isNaN(X)||isNaN(H))throw Za.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var V=new A(R,q,te,F,X,H);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.setTransform=function(R,q,te,F,X,H){R=isNaN(R)?1:R,q=isNaN(q)?0:q,te=isNaN(te)?0:te,F=isNaN(F)?1:F,X=isNaN(X)?0:X,H=isNaN(H)?0:H,this.ctx.transform=new A(R,q,te,F,X,H)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(R,q,te,F,X,H,V,ae,fe){var ve=this.pdf.getImageProperties(R),Be=1,ke=1,xe=1,ie=1;F!==void 0&&ae!==void 0&&(xe=ae/F,ie=fe/X,Be=ve.width/F*ae/F,ke=ve.height/X*fe/X),H===void 0&&(H=q,V=te,q=0,te=0),F!==void 0&&ae===void 0&&(ae=F,fe=X),F===void 0&&ae===void 0&&(ae=ve.width,fe=ve.height);for(var lt,mt=this.ctx.transform.decompose(),at=z(mt.rotate.shx),Ee=new A,At=(Ee=(Ee=(Ee=Ee.multiply(mt.translate)).multiply(mt.skew)).multiply(mt.scale)).applyToRectangle(new l(H-q*xe,V-te*ie,F*Be,X*ke)),st=w.call(this,At),Mt=[],kt=0;kt<st.length;kt+=1)Mt.indexOf(st[kt])===-1&&Mt.push(st[kt]);if(C(Mt),this.autoPaging)for(var Nt=Mt[0],ut=Mt[Mt.length-1],Pt=Nt;Pt<ut+1;Pt++){this.pdf.setPage(Pt);var Dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Et=Pt===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=Pt===1?0:vt+(Pt-2)*bt;if(this.ctx.clip_path.length!==0){var Tr=this.path;lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(lt,this.posX+this.margin[3],-St+Et+this.ctx.prevPageLastElemOffset),U.call(this,"fill",!0),this.path=Tr}var jr=JSON.parse(JSON.stringify(At));jr=N([jr],this.posX+this.margin[3],-St+Et+this.ctx.prevPageLastElemOffset)[0];var Qt=(Pt>Nt||Pt<ut)&&g.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dt,bt,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",jr.x,jr.y,jr.w,jr.h,null,null,at),Qt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",At.x,At.y,At.w,At.h,null,null,at)};var w=function(R,q,te){var F=[];q=q||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var X=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":F.push(Math.floor((R.y+X)/te)+1);break;case"arc":F.push(Math.floor((R.y+X-R.radius)/te)+1),F.push(Math.floor((R.y+X+R.radius)/te)+1);break;case"qct":var H=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);F.push(Math.floor((H.y+X)/te)+1),F.push(Math.floor((H.y+H.h+X)/te)+1);break;case"bct":var V=Ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);F.push(Math.floor((V.y+X)/te)+1),F.push(Math.floor((V.y+V.h+X)/te)+1);break;case"rect":F.push(Math.floor((R.y+X)/te)+1),F.push(Math.floor((R.y+R.h+X)/te)+1)}for(var ae=0;ae<F.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<F[ae];)y.call(this);return F},y=function(){var R=this.fillStyle,q=this.strokeStyle,te=this.font,F=this.lineCap,X=this.lineWidth,H=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=q,this.font=te,this.lineCap=F,this.lineWidth=X,this.lineJoin=H},N=function(R,q,te){for(var F=0;F<R.length;F++)switch(R[F].type){case"bct":R[F].x2+=q,R[F].y2+=te;case"qct":R[F].x1+=q,R[F].y1+=te;default:R[F].x+=q,R[F].y+=te}return R},C=function(R){return R.sort(function(q,te){return q-te})},E=function(R,q){for(var te,F,X=this.fillStyle,H=this.strokeStyle,V=this.lineCap,ae=this.lineWidth,fe=Math.abs(ae*this.ctx.transform.scaleX),ve=this.lineJoin,Be=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),xe=[],ie=0;ie<ke.length;ie++)if(ke[ie].x!==void 0)for(var lt=w.call(this,ke[ie]),mt=0;mt<lt.length;mt+=1)xe.indexOf(lt[mt])===-1&&xe.push(lt[mt]);for(var at=0;at<xe.length;at++)for(;this.pdf.internal.getNumberOfPages()<xe[at];)y.call(this);if(C(xe),this.autoPaging)for(var Ee=xe[0],At=xe[xe.length-1],st=Ee;st<At+1;st++){this.pdf.setPage(st),this.fillStyle=X,this.strokeStyle=H,this.lineCap=V,this.lineWidth=fe,this.lineJoin=ve;var Mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=st===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pt=st===1?0:Nt+(st-2)*ut;if(this.ctx.clip_path.length!==0){var Dt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(te,this.posX+this.margin[3],-Pt+kt+this.ctx.prevPageLastElemOffset),U.call(this,R,!0),this.path=Dt}if(F=JSON.parse(JSON.stringify(Be)),this.path=N(F,this.posX+this.margin[3],-Pt+kt+this.ctx.prevPageLastElemOffset),q===!1||st===0){var Et=(st>Ee||st<At)&&g.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,ut,null).clip().discardPath()),U.call(this,R,q),Et&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}else this.lineWidth=fe,U.call(this,R,q),this.lineWidth=ae;this.path=Be},U=function(R,q){if((R!=="stroke"||q||!v.call(this))&&(R==="stroke"||q||!p.call(this))){for(var te,F,X=[],H=this.path,V=0;V<H.length;V++){var ae=H[V];switch(ae.type){case"begin":X.push({begin:!0});break;case"close":X.push({close:!0});break;case"mt":X.push({start:ae,deltas:[],abs:[]});break;case"lt":var fe=X.length;if(H[V-1]&&!isNaN(H[V-1].x)&&(te=[ae.x-H[V-1].x,ae.y-H[V-1].y],fe>0)){for(;fe>=0;fe--)if(X[fe-1].close!==!0&&X[fe-1].begin!==!0){X[fe-1].deltas.push(te),X[fe-1].abs.push(ae);break}}break;case"bct":te=[ae.x1-H[V-1].x,ae.y1-H[V-1].y,ae.x2-H[V-1].x,ae.y2-H[V-1].y,ae.x-H[V-1].x,ae.y-H[V-1].y],X[X.length-1].deltas.push(te);break;case"qct":var ve=H[V-1].x+2/3*(ae.x1-H[V-1].x),Be=H[V-1].y+2/3*(ae.y1-H[V-1].y),ke=ae.x+2/3*(ae.x1-ae.x),xe=ae.y+2/3*(ae.y1-ae.y),ie=ae.x,lt=ae.y;te=[ve-H[V-1].x,Be-H[V-1].y,ke-H[V-1].x,xe-H[V-1].y,ie-H[V-1].x,lt-H[V-1].y],X[X.length-1].deltas.push(te);break;case"arc":X.push({deltas:[],abs:[],arc:!0}),Array.isArray(X[X.length-1].abs)&&X[X.length-1].abs.push(ae)}}F=q?null:R==="stroke"?"stroke":"fill";for(var mt=!1,at=0;at<X.length;at++)if(X[at].arc)for(var Ee=X[at].abs,At=0;At<Ee.length;At++){var st=Ee[At];st.type==="arc"?L.call(this,st.x,st.y,st.radius,st.startAngle,st.endAngle,st.counterclockwise,void 0,q,!mt):J.call(this,st.x,st.y),mt=!0}else if(X[at].close===!0)this.pdf.internal.out("h"),mt=!1;else if(X[at].begin!==!0){var Mt=X[at].start.x,kt=X[at].start.y;M.call(this,X[at].deltas,Mt,kt),mt=!0}F&&_.call(this,F),q&&Y.call(this)}},D=function(R){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-te;case"top":return R+q-te;case"hanging":return R+q-2*te;case"middle":return R+q/2-te;default:return R}},k=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(q,te){this.colorStops.push([q,te])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(R,q,te,F,X,H,V,ae,fe){for(var ve=K.call(this,te,F,X,H),Be=0;Be<ve.length;Be++){var ke=ve[Be];Be===0&&(fe?I.call(this,ke.x1+R,ke.y1+q):J.call(this,ke.x1+R,ke.y1+q)),re.call(this,R,q,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}ae?Y.call(this):_.call(this,V)},_=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Y=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(R,q){this.pdf.internal.out(t(R)+" "+a(q)+" m")},$=function(R){var q;switch(R.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var te=this.pdf.getTextDimensions(R.text),F=D.call(this,R.y),X=k.call(this,F)-te.h,H=this.ctx.transform.applyToPoint(new o(R.x,F)),V=this.ctx.transform.decompose(),ae=new A;ae=(ae=(ae=ae.multiply(V.translate)).multiply(V.skew)).multiply(V.scale);for(var fe,ve,Be,ke=this.ctx.transform.applyToRectangle(new l(R.x,F,te.w,te.h)),xe=ae.applyToRectangle(new l(R.x,X,te.w,te.h)),ie=w.call(this,xe),lt=[],mt=0;mt<ie.length;mt+=1)lt.indexOf(ie[mt])===-1&&lt.push(ie[mt]);if(C(lt),this.autoPaging)for(var at=lt[0],Ee=lt[lt.length-1],At=at;At<Ee+1;At++){this.pdf.setPage(At);var st=At===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[2],Nt=kt-this.margin[0],ut=this.pdf.internal.pageSize.width-this.margin[1],Pt=ut-this.margin[3],Dt=At===1?0:Mt+(At-2)*Nt;if(this.ctx.clip_path.length!==0){var Et=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(fe,this.posX+this.margin[3],-1*Dt+st),U.call(this,"fill",!0),this.path=Et}var vt=N([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-Dt+st+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*R.scale),Be=this.lineWidth,this.lineWidth=Be*R.scale);var bt=this.autoPaging!=="text";if(bt||vt.y+vt.h<=kt){if(bt||vt.y>=st&&vt.x<=ut){var St=bt?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||ut-vt.x)[0],Tr=N([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-Dt+st+this.ctx.prevPageLastElemOffset)[0],jr=bt&&(At>at||At<Ee)&&g.call(this);jr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,Nt,null).clip().discardPath()),this.pdf.text(St,Tr.x,Tr.y,{angle:R.angle,align:q,renderingMode:R.renderingMode}),jr&&this.pdf.restoreGraphicsState()}}else vt.y<kt&&(this.ctx.prevPageLastElemOffset+=kt-vt.y);R.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=Be)}else R.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*R.scale),Be=this.lineWidth,this.lineWidth=Be*R.scale),this.pdf.text(R.text,H.x+this.posX,H.y+this.posY,{angle:R.angle,align:q,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=Be)},J=function(R,q,te,F){te=te||0,F=F||0,this.pdf.internal.out(t(R+te)+" "+a(q+F)+" l")},M=function(R,q,te){return this.pdf.lines(R,q,te,null,null)},re=function(R,q,te,F,X,H,V,ae){this.pdf.internal.out([r(s(te+R)),r(i(F+q)),r(s(X+R)),r(i(H+q)),r(s(V+R)),r(i(ae+q)),"c"].join(" "))},K=function(R,q,te,F){for(var X=2*Math.PI,H=Math.PI/2;q>te;)q-=X;var V=Math.abs(te-q);V<X&&F&&(V=X-V);for(var ae=[],fe=F?-1:1,ve=q;V>1e-5;){var Be=ve+fe*Math.min(V,H);ae.push(G.call(this,R,ve,Be)),V-=Math.abs(Be-ve),ve=Be}return ae},G=function(R,q,te){var F=(te-q)/2,X=R*Math.cos(F),H=R*Math.sin(F),V=X,ae=-H,fe=V*V+ae*ae,ve=fe+V*X+ae*H,Be=4/3*(Math.sqrt(2*fe*ve)-ve)/(V*H-ae*X),ke=V-Be*ae,xe=ae+Be*V,ie=ke,lt=-xe,mt=F+q,at=Math.cos(mt),Ee=Math.sin(mt);return{x1:R*Math.cos(q),y1:R*Math.sin(q),x2:ke*at-xe*Ee,y2:ke*Ee+xe*at,x3:ie*at-lt*Ee,y3:ie*Ee+lt*at,x4:R*Math.cos(te),y4:R*Math.sin(te)}},z=function(R){return 180*R/Math.PI},Z=function(R,q,te,F,X,H){var V=R+.5*(te-R),ae=q+.5*(F-q),fe=X+.5*(te-X),ve=H+.5*(F-H),Be=Math.min(R,X,V,fe),ke=Math.max(R,X,V,fe),xe=Math.min(q,H,ae,ve),ie=Math.max(q,H,ae,ve);return new l(Be,xe,ke-Be,ie-xe)},Ae=function(R,q,te,F,X,H,V,ae){var fe,ve,Be,ke,xe,ie,lt,mt,at,Ee,At,st,Mt,kt,Nt=te-R,ut=F-q,Pt=X-te,Dt=H-F,Et=V-X,vt=ae-H;for(ve=0;ve<41;ve++)at=(lt=(Be=R+(fe=ve/40)*Nt)+fe*((xe=te+fe*Pt)-Be))+fe*(xe+fe*(X+fe*Et-xe)-lt),Ee=(mt=(ke=q+fe*ut)+fe*((ie=F+fe*Dt)-ke))+fe*(ie+fe*(H+fe*vt-ie)-mt),ve==0?(At=at,st=Ee,Mt=at,kt=Ee):(At=Math.min(At,at),st=Math.min(st,Ee),Mt=Math.max(Mt,at),kt=Math.max(kt,Ee));return new l(Math.round(At),Math.round(st),Math.round(Mt-At),Math.round(kt-st))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,q,te=(R=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:q}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(dr.API),(function(e){var r=function(o){var l,A,d,f,h,m,p,v,g,w;for(A=[],d=0,f=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;f>d;d+=4)(h=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(m=(h=((h=((h=((h=(h-(w=h%85))/85)-(g=h%85))/85)-(v=h%85))/85)-(p=h%85))/85)%85,A.push(m+33,p+33,v+33,g+33,w+33)):A.push(122);return(function(y,N){for(var C=N;C>0;C--)y.pop()})(A,l.length),String.fromCharCode.apply(String,A)+"~>"},t=function(o){var l,A,d,f,h,m=String,p="length",v=255,g="charCodeAt",w="slice",y="replace";for(o[w](-2),o=o[w](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),d=[],f=0,h=(o+=l="uuuuu"[w](o[p]%5||5))[p];h>f;f+=5)A=52200625*(o[g](f)-33)+614125*(o[g](f+1)-33)+7225*(o[g](f+2)-33)+85*(o[g](f+3)-33)+(o[g](f+4)-33),d.push(v&A>>24,v&A>>16,v&A>>8,v&A);return(function(N,C){for(var E=C;E>0;E--)N.pop()})(d,l[p]),m.fromCharCode.apply(m,d)},a=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var A="",d=0;d<o.length;d+=2)A+=String.fromCharCode("0x"+(o[d]+o[d+1]));return A},i=function(o){for(var l=new Uint8Array(o.length),A=o.length;A--;)l[A]=o.charCodeAt(A);return(l=Qy(l)).reduce(function(d,f){return d+String.fromCharCode(f)},"")};e.processDataByFilters=function(o,l){var A=0,d=o||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),A=0;A<l.length;A+=1)switch(l[A]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=r(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=a(d),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[A]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}})(dr.API),(function(e){e.loadFile=function(r,t,a){return(function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(A,d,f){var h=new XMLHttpRequest,m=0,p=function(v){var g=v.length,w=[],y=String.fromCharCode;for(m=0;m<g;m+=1)w.push(y(255&v.charCodeAt(m)));return w.join("")};if(h.open("GET",A,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?f(p(this.responseText)):f(void 0)}),h.send(null),d&&h.status===200)return p(h.responseText)})(s,i,o)}catch{}return l})(r,t,a)},e.loadImageFile=e.loadFile})(dr.API),(function(e){function r(){return(Dr.html2canvas?Promise.resolve(Dr.html2canvas):Qs(()=>Promise.resolve().then(()=>$Y),void 0)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(Dr.DOMPurify?Promise.resolve(Dr.DOMPurify):Qs(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var a=function(l){var A=Ha(l);return A==="undefined"?"undefined":A==="string"||l instanceof String?"string":A==="number"||l instanceof Number?"number":A==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":A==="object"?"object":"unknown"},s=function(l,A){var d=document.createElement(l);for(var f in A.className&&(d.className=A.className),A.innerHTML&&A.dompurify&&(d.innerHTML=A.dompurify.sanitize(A.innerHTML)),A.style)d.style[f]=A.style[f];return d},i=function l(A,d){for(var f=A.nodeType===3?document.createTextNode(A.nodeValue):A.cloneNode(!1),h=A.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,d));return A.nodeType===1&&(A.nodeName==="CANVAS"?(f.width=A.width,f.height=A.height,f.getContext("2d").drawImage(A,0,0)):A.nodeName!=="TEXTAREA"&&A.nodeName!=="SELECT"||(f.value=A.value),f.addEventListener("load",function(){f.scrollTop=A.scrollTop,f.scrollLeft=A.scrollLeft},!0)),f},o=function l(A){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),d);return(f=f.setProgress(1,l,1,[l])).set(A)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,A){return l.__proto__=A||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,A){return this.then(function(){switch(A=A||(function(d){switch(a(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),A){case"string":return this.then(t).then(function(d){return this.set({src:s("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},A=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);A.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(A),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(r).then(function(A){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,A(this.prop.container,d)}).then(function(A){(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(r).then(function(A){var d=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var v=f[p],g=v.src.find(function(w){return w.format==="truetype"});g&&d.addFont(g.url,v.ref.name,v.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,d.context2d.save(!0),A(this.prop.container,m)}).then(function(A){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,A,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,A):this.outputPdf(l,A)},o.prototype.outputPdf=function(l,A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,A)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(a(l)!=="object")return this;var A=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(A)})},o.prototype.get=function(l,A){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return A?A(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(a(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function A(d,f){return Math.floor(d*f/72*96)}return this.then(function(){(l=l||dr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:A(l.inner.width,l.k),height:A(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,A,d,f){return l!=null&&(this.progress.val=l),A!=null&&(this.progress.state=A),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,A,d,f){return this.setProgress(l?this.progress.val+l:null,A||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(l,A){var d=this;return this.thenCore(l,A,function(f,h){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(m){return d.updateProgress(null,f),m}).then(f,h).then(function(m){return d.updateProgress(1),m})})},o.prototype.thenCore=function(l,A,d){d=d||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),A&&(A=A.bind(f));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),m=d.call(h,l,A);return o.convert(m,f.__proto__)},o.prototype.thenExternal=function(l,A){return Promise.prototype.then.call(this,l,A)},o.prototype.thenList=function(l){var A=this;return l.forEach(function(d){A=A.thenCore(d)}),A},o.prototype.catch=function(l){l&&(l=l.bind(this));var A=Promise.prototype.catch.call(this,l);return o.convert(A,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,dr.getPageSize=function(l,A,d){if(Ha(l)==="object"){var f=l;l=f.orientation,A=f.unit||A,d=f.format||d}A=A||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var h,m=(""+d).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+A}var v,g=0,w=0;if(p.hasOwnProperty(m))g=p[m][1]/h,w=p[m][0]/h;else try{g=d[1],w=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",w>g&&(v=w,w=g,g=v);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",g>w&&(v=w,w=g,g=v)}return{width:w,height:g,unit:A,k:h,orientation:l}},e.html=function(l,A){(A=A||{}).callback=A.callback||function(){},A.html2canvas=A.html2canvas||{},A.html2canvas.canvas=A.html2canvas.canvas||this.canvas,A.jsPDF=A.jsPDF||this,A.fontFaces=A.fontFaces?A.fontFaces.map(jw):null;var d=new o(A);return A.worker?d:d.from(l).doCallback()}})(dr.API),dr.API.addJS=function(e){return OB=e,this.internal.events.subscribe("postPutResources",function(){qp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(qp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),TB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+OB+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){qp!==void 0&&TB!==void 0&&this.internal.out("/Names <</JavaScript "+qp+" 0 R>>")}),this},(function(e){var r;e.events.push(["postPutResources",function(){var t=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=a.exec(o);if(l!=null){var A=l[1];t.internal.newObjectDeferredBegin(A,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(i=0;i<d;i++){var h=t.internal.newObject();f.push(h);var m=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<f.length;i++)t.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");t.internal.write(" ] >>","endobj"),r=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+r+" 0 R"))}]),e.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(a,s,i){var o={title:s,options:i,children:[]};return a==null&&(a=this.root),a.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(a){a.id=t.internal.newObjectDeferred();for(var s=0;s<a.children.length;s++)this.genIds_r(a.children[s])},t.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},t.outline.renderItems=function(a){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<a.children.length;i++){var o=a.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(a)),i>0&&this.line("/Prev "+this.makeRef(a.children[i-1])),i<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var A=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+A.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<a.children.length;d++)this.renderItems(a.children[d])},t.outline.line=function(a){this.ctx.val+=a+`\r
`},t.outline.makeRef=function(a){return a.id+" 0 R"},t.outline.makeString=function(a){return"("+t.internal.pdfEscape(a)+")"},t.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(a,s){for(var i=0;i<s.children.length;i++)a.count++,this.count_r(a,s.children[i]);return a.count}}])})(dr.API),(function(e){var r=[192,193,194,195,196,197,198,199];e.processJPEG=function(t,a,s,i,o,l){var A,d=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,A=(function(h){for(var m,p=256*h.charCodeAt(4)+h.charCodeAt(5),v=h.length,g={width:0,height:0,numcomponents:1},w=4;w<v;w+=2){if(w+=p,r.indexOf(h.charCodeAt(w+1))!==-1){m=256*h.charCodeAt(w+5)+h.charCodeAt(w+6),g={width:256*h.charCodeAt(w+7)+h.charCodeAt(w+8),height:m,numcomponents:h.charCodeAt(w+9)};break}p=256*h.charCodeAt(w+2)+h.charCodeAt(w+3)}return g})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),A.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:t,width:A.width,height:A.height,colorSpace:l,bitsPerComponent:8,filter:d,index:a,alias:s}}return f}})(dr.API),dr.API.processPNG=function(e,r,t,a){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=PK(e,{checkCrc:!0}),o=i.width,l=i.height,A=i.channels,d=i.palette,f=i.depth;s=d&&A===1?(function(L){for(var _=L.width,Y=L.height,I=L.data,$=L.palette,J=L.depth,M=!1,re=[],K=[],G=void 0,z=!1,Z=0,Ae=0;Ae<$.length;Ae++){var ee=VN($[Ae],4),R=ee[0],q=ee[1],te=ee[2],F=ee[3];re.push(R,q,te),F!=null&&(F===0?(Z++,K.length<1&&K.push(Ae)):F<255&&(z=!0))}if(z||Z>1){M=!0,K=void 0;var X=_*Y;G=new Uint8Array(X);for(var H=new DataView(I.buffer),V=0;V<X;V++){var ae=Bw(H,V,J),fe=VN($[ae],4)[3];G[V]=fe}}else Z===0&&(K=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:M?8:void 0,colorBytes:I,alphaBytes:G,needSMask:M,palette:re,mask:K}})(i):A===2||A===4?(function(L){for(var _=L.data,Y=L.width,I=L.height,$=L.channels,J=L.depth,M=$===2?"DeviceGray":"DeviceRGB",re=$-1,K=Y*I,G=re,z=K*G,Z=1*K,Ae=Math.ceil(z*J/8),ee=Math.ceil(Z*J/8),R=new Uint8Array(Ae),q=new Uint8Array(ee),te=new DataView(_.buffer),F=new DataView(R.buffer),X=new DataView(q.buffer),H=!1,V=0;V<K;V++){for(var ae=V*$,fe=0;fe<G;fe++)YB(F,Bw(te,ae+fe,J),V*G+fe,J);var ve=Bw(te,ae+G,J);ve<(1<<J)-1&&(H=!0),YB(X,ve,1*V,J)}return{colorSpace:M,colorsPerPixel:re,sMaskBitsPerComponent:H?J:void 0,colorBytes:R,alphaBytes:q,needSMask:H}})(i):(function(L){var _=L.data,Y=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Y,colorsPerPixel:Y==="DeviceGray"?1:3,colorBytes:_ instanceof Uint16Array?(function(I){for(var $=I.length,J=new Uint8Array(2*$),M=new DataView(J.buffer,J.byteOffset,J.byteLength),re=0;re<$;re++)M.setUint16(2*re,I[re],!1);return J})(_):_,needSMask:!1}})(i);var h,m,p,v=s,g=v.colorSpace,w=v.colorsPerPixel,y=v.sMaskBitsPerComponent,N=v.colorBytes,C=v.alphaBytes,E=v.needSMask,U=v.palette,D=v.mask,k=null;return a!==dr.API.image_compression.NONE&&typeof Qy=="function"?(k=(function(L){var _;switch(L){case dr.API.image_compression.FAST:_=11;break;case dr.API.image_compression.MEDIUM:_=13;break;case dr.API.image_compression.SLOW:_=14;break;default:_=12}return _})(a),h=this.decode.FLATE_DECODE,m="/Predictor ".concat(k," /Colors ").concat(w," /BitsPerComponent ").concat(f," /Columns ").concat(o),e=VB(N,Math.ceil(o*w*f/8),w,f,a),E&&(p=VB(C,Math.ceil(o*y/8),1,y,a))):(h=void 0,m=void 0,e=N,E&&(p=C)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:t,data:e,index:r,filter:h,decodeParameters:m,transparency:D,palette:U,sMask:p,predictor:k,width:o,height:l,bitsPerComponent:f,sMaskBitsPerComponent:y,colorSpace:g}}},(function(e){e.processGIF89A=function(r,t,a,s){var i=new aV(r),o=i.width,l=i.height,A=[];i.decodeAndBlitFrameRGBA(0,A);var d={data:A,width:o,height:l},f=new Cw(100).encode(d,100);return e.processJPEG.call(this,f,t,a,s)},e.processGIF87A=e.processGIF89A})(dr.API),hl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var r=0;r<e;r++){var t=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:s,green:a,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},hl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[e]()}catch(t){Za.log("bit decode error:"+t)}},hl.prototype.bit1=function(){var e,r=Math.ceil(this.width/8),t=r%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,s=0;s<r;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var A=this.palette[i>>7-l&1];this.data[o+4*l]=A.blue,this.data[o+4*l+1]=A.green,this.data[o+4*l+2]=A.red,this.data[o+4*l+3]=255}t!==0&&(this.pos+=4-t)}},hl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),r=e%4,t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+2*s*4,l=i>>4,A=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*s+1>=this.width)break;d=this.palette[A],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}r!==0&&(this.pos+=4-r)}},hl.prototype.bit8=function(){for(var e=this.width%4,r=this.height-1;r>=0;r--){for(var t=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*a;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},hl.prototype.bit15=function(){for(var e=this.width%3,r=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&r)/r*255|0,l=(i>>5&r)/r*255|0,A=(i>>10&r)/r*255|0,d=i>>15?255:0,f=a*this.width*4+4*s;this.data[f]=A,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=d}this.pos+=e}},hl.prototype.bit16=function(){for(var e=this.width%3,r=parseInt("11111",2),t=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&r)/r*255|0,A=(o>>5&t)/t*255|0,d=(o>>11)/r*255|0,f=s*this.width*4+4*i;this.data[f]=d,this.data[f+1]=A,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},hl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*t;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=a,this.data[o+3]=255}this.pos+=this.width%4}},hl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var r=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+4*t;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=a,this.data[l+3]=o}},hl.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(r,t,a,s){var i=new hl(r,!1),o=i.width,l=i.height,A={data:i.getData(),width:o,height:l},d=new Cw(100).encode(A,100);return e.processJPEG.call(this,d,t,a,s)}})(dr.API),JB.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(r,t,a,s){var i=new JB(r),o=i.width,l=i.height,A={data:i.getData(),width:o,height:l},d=new Cw(100).encode(A,100);return e.processJPEG.call(this,d,t,a,s)}})(dr.API),dr.API.processRGBA=function(e,r,t){for(var a=e.data,s=a.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,A=0,d=0;d<s;d+=4){var f=a[d],h=a[d+1],m=a[d+2],p=a[d+3];i[l++]=f,i[l++]=h,i[l++]=m,o[A++]=p}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:r,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},dr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Af=dr.API,Wp=Af.getCharWidthsArray=function(e,r){var t,a,s=(r=r||{}).font||this.internal.getFont(),i=r.fontSize||this.internal.getFontSize(),o=r.charSpace||this.internal.getCharSpace(),l=r.widths?r.widths:s.metadata.Unicode.widths,A=l.fof?l.fof:1,d=r.kerning?r.kerning:s.metadata.Unicode.kerning,f=d.fof?d.fof:1,h=r.doKerning!==!1,m=0,p=e.length,v=0,g=l[0]||A,w=[];for(t=0;t<p;t++)a=e.charCodeAt(t),typeof s.metadata.widthOfString=="function"?w.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(a))+o*(1e3/i)||0)/1e3):(m=h&&Ha(d[a])==="object"&&!isNaN(parseInt(d[a][v],10))?d[a][v]/f:0,w.push((l[a]||g)/A+m)),v=a;return w},HB=Af.getStringUnitWidth=function(e,r){var t=(r=r||{}).fontSize||this.internal.getFontSize(),a=r.font||this.internal.getFont(),s=r.charSpace||this.internal.getCharSpace();return Af.processArabic&&(e=Af.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,t,s)/t:Wp.apply(this,arguments).reduce(function(i,o){return i+o},0)},$B=function(e,r,t,a){for(var s=[],i=0,o=e.length,l=0;i!==o&&l+r[i]<t;)l+=r[i],i++;s.push(e.slice(0,i));var A=i;for(l=0;i!==o;)l+r[i]>a&&(s.push(e.slice(A,i)),l=0,A=i),l+=r[i],i++;return A!==i&&s.push(e.slice(A,i)),s},KB=function(e,r,t){t||(t={});var a,s,i,o,l,A,d,f=[],h=[f],m=t.textIndent||0,p=0,v=0,g=e.split(" "),w=Wp.apply(this,[" ",t])[0];if(A=t.lineIndent===-1?g[0].length+2:t.lineIndent||0){var y=Array(A).join(" "),N=[];g.map(function(E){(E=E.split(/\s*\n/)).length>1?N=N.concat(E.map(function(U,D){return(D&&U.length?`
`:"")+U})):N.push(E[0])}),g=N,A=HB.apply(this,[y,t])}for(i=0,o=g.length;i<o;i++){var C=0;if(a=g[i],A&&a[0]==`
`&&(a=a.substr(1),C=1),m+p+(v=(s=Wp.apply(this,[a,t])).reduce(function(E,U){return E+U},0))>r||C){if(v>r){for(l=$B.apply(this,[a,s,r-(m+p),r]),f.push(l.shift()),f=[l.pop()];l.length;)h.push([l.shift()]);v=s.slice(a.length-(f[0]?f[0].length:0)).reduce(function(E,U){return E+U},0)}else f=[a];h.push(f),m=v+A,p=w}else f.push(a),m+=p+v,p=w}return d=A?function(E,U){return(U?y:"")+E.join(" ")}:function(E){return E.join(" ")},h.map(d)},Af.splitTextToSize=function(e,r,t){var a,s=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle),m="Unicode";return h.metadata[m]?{widths:h.metadata[m].widths||{0:1},kerning:h.metadata[m].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*r/s;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=t.lineIndent;var l,A,d=[];for(l=0,A=a.length;l<A;l++)d=d.concat(KB.apply(this,[a[l],o,i]));return d},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var r="0123456789abcdef",t="klmnopqrstuvwxyz",a={},s={},i=0;i<16;i++)a[t[i]]=r[i],s[r[i]]=t[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=e.__fontmetrics__.compress=function(m){var p,v,g,w,y=["{"];for(var N in m){if(p=m[N],isNaN(parseInt(N,10))?v="'"+N+"'":(N=parseInt(N,10),v=(v=o(N).slice(2)).slice(0,-1)+s[v.slice(-1)]),typeof p=="number")p<0?(g=o(p).slice(3),w="-"):(g=o(p).slice(2),w=""),g=w+g.slice(0,-1)+s[g.slice(-1)];else{if(Ha(p)!=="object")throw new Error("Don't know what to do with value type "+Ha(p)+".");g=l(p)}y.push(v+g)}return y.push("}"),y.join("")},A=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,v,g,w,y={},N=1,C=y,E=[],U="",D="",k=m.length-1,L=1;L<k;L+=1)(w=m[L])=="'"?p?(g=p.join(""),p=void 0):p=[]:p?p.push(w):w=="{"?(E.push([C,g]),C={},g=void 0):w=="}"?((v=E.pop())[0][v[1]]=C,g=void 0,C=v[0]):w=="-"?N=-1:g===void 0?a.hasOwnProperty(w)?(U+=a[w],g=parseInt(U,16)*N,N=1,U=""):U+=w:a.hasOwnProperty(w)?(D+=a[w],C[g]=parseInt(D,16)*N,N=1,g=void 0,D=""):D+=w;return y},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:A("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},h={Unicode:{"Courier-Oblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":A("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":A("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:A("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:A("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":A("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":A("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var p=m.font,v=h.Unicode[p.postScriptName];v&&(p.metadata.Unicode={},p.metadata.Unicode.widths=v.widths,p.metadata.Unicode.kerning=v.kerning);var g=f.Unicode[p.postScriptName];g&&(p.metadata.Unicode.encoding=g,p.encoding=g.codePages[0])}])})(dr.API),(function(e){var r=function(t){for(var a=t.length,s=new Uint8Array(a),i=0;i<a;i++)s[i]=t.charCodeAt(i);return s};e.API.events.push(["addFont",function(t){var a=void 0,s=t.font,i=t.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(a=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?r(l):r(Pg(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,a)}}])})(dr),dr.API.addSvgAsImage=function(e,r,t,a,s,i,o,l){if(isNaN(r)||isNaN(t))throw Za.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Za.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=a,A.height=s;var d=A.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,A.width,A.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Dr.canvg?Promise.resolve(Dr.canvg):Qs(()=>import("./index.es-CKZB6Qs8.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(d,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(f)}).then(function(){h.addImage(A.toDataURL("image/jpeg",1),r,t,a,s,o,l)})},dr.API.putTotalPages=function(e){var r,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(e,"g"),t=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var s=0;s<this.internal.pages[a].length;s++)this.internal.pages[a][s]=this.internal.pages[a][s].replace(r,t);return this},dr.API.viewerPreferences=function(e,r){var t;e=e||{},r=r||!1;var a,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),A=[],d=0,f=0,h=0;function m(v,g){var w,y=!1;for(w=0;w<v.length;w+=1)v[w]===g&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,e==="reset"||r===!0){var p=l.length;for(h=0;h<p;h+=1)t[l[h]].value=t[l[h]].defaultValue,t[l[h]].explicitSet=!1}if(Ha(e)==="object"){for(s in e)if(i=e[s],m(l,s)&&i!==void 0){if(t[s].type==="boolean"&&typeof i=="boolean")t[s].value=i;else if(t[s].type==="name"&&m(t[s].valueSet,i))t[s].value=i;else if(t[s].type==="integer"&&Number.isInteger(i))t[s].value=i;else if(t[s].type==="array"){for(d=0;d<i.length;d+=1)if(a=!0,i[d].length===1&&typeof i[d][0]=="number")A.push(String(i[d]-1));else if(i[d].length>1){for(f=0;f<i[d].length;f+=1)typeof i[d][f]!="number"&&(a=!1);a===!0&&A.push([i[d][0]-1,i[d][1]-1].join(" "))}t[s].value="["+A.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,g=[];for(v in t)t[v].explicitSet===!0&&(t[v].type==="name"?g.push("/"+v+" /"+t[v].value):g.push("/"+v+" "+t[v].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(e){var r=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(a)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),A=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+s.length+A.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+A),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(a,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",r)),this}})(dr.API),(function(e){var r=e.API,t=r.pdfEscape16=function(i,o){for(var l,A=o.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],h=0,m=i.length;h<m;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),A.indexOf(l)==-1&&(A.push(l),A.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(d[4-l.length],l)}return f.join("")},a=function(i){var o,l,A,d,f,h,m;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,A=[],h=0,m=(l=Object.keys(i).sort(function(p,v){return p-v})).length;h<m;h++)o=l[h],A.length>=100&&(f+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar`,A=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),A.push("<"+o+"><"+d+">"));return A.length&&(f+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(i){(function(o){var l=o.font,A=o.out,d=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",v=0;v<m.length;v++)p+=String.fromCharCode(m[v]);var g=d();f({data:p,addLength1:!0,objectId:g}),A("endobj");var w=d();f({data:a(l.metadata.toUnicode),addLength1:!0,objectId:w}),A("endobj");var y=d();A("<<"),A("/Type /FontDescriptor"),A("/FontName /"+vf(l.fontName)),A("/FontFile2 "+g+" 0 R"),A("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),A("/Flags "+l.metadata.flags),A("/StemV "+l.metadata.stemV),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A(">>"),A("endobj");var N=d();A("<<"),A("/Type /Font"),A("/BaseFont /"+vf(l.fontName)),A("/FontDescriptor "+y+" 0 R"),A("/W "+e.API.PDFObject.convert(h)),A("/CIDToGIDMap /Identity"),A("/DW 1000"),A("/Subtype /CIDFontType2"),A("/CIDSystemInfo"),A("<<"),A("/Supplement 0"),A("/Registry (Adobe)"),A("/Ordering ("+l.encoding+")"),A(">>"),A(">>"),A("endobj"),l.objectNumber=d(),A("<<"),A("/Type /Font"),A("/Subtype /Type0"),A("/ToUnicode "+w+" 0 R"),A("/BaseFont /"+vf(l.fontName)),A("/Encoding /"+l.encoding),A("/DescendantFonts ["+N+" 0 R]"),A(">>"),A("endobj"),l.isAlreadyPutted=!0}})(i)}]),r.events.push(["putFont",function(i){(function(o){var l=o.font,A=o.out,d=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,m="",p=0;p<h.length;p++)m+=String.fromCharCode(h[p]);var v=d();f({data:m,addLength1:!0,objectId:v}),A("endobj");var g=d();f({data:a(l.metadata.toUnicode),addLength1:!0,objectId:g}),A("endobj");var w=d();A("<<"),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A("/StemV "+l.metadata.stemV),A("/Type /FontDescriptor"),A("/FontFile2 "+v+" 0 R"),A("/Flags 96"),A("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),A("/FontName /"+vf(l.fontName)),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A(">>"),A("endobj"),l.objectNumber=d();for(var y=0;y<l.metadata.hmtx.widths.length;y++)l.metadata.hmtx.widths[y]=parseInt(l.metadata.hmtx.widths[y]*(1e3/l.metadata.head.unitsPerEm));A("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+vf(l.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),A("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",A=i.x,d=i.y,f=i.options||{},h=i.mutex||{},m=h.pdfEscape,p=h.activeFontKey,v=h.fonts,g=p,w="",y=0,N="",C=v[g].encoding;if(v[g].encoding!=="Identity-H")return{text:l,x:A,y:d,options:f,mutex:h};for(N=l,g=p,Array.isArray(l)&&(N=l[0]),y=0;y<N.length;y+=1)v[g].metadata.hasOwnProperty("cmap")&&(o=v[g].metadata.cmap.unicode.codeMap[N[y].charCodeAt(0)]),o||N[y].charCodeAt(0)<256&&v[g].metadata.hasOwnProperty("Unicode")?w+=N[y]:w+="";var E="";return parseInt(g.slice(1))<14||C==="WinAnsiEncoding"?E=m(w,g).split("").map(function(U){return U.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(E=t(w,v[g])),h.isHex=!0,{text:E,x:A,y:d,options:f,mutex:h}};r.events.push(["postProcessText",function(i){var o=i.text||"",l=[],A={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([s(Object.assign({},A,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(s(Object.assign({},A,{text:o[d]})).text);i.text=l}else i.text=s(Object.assign({},A,{text:o})).text}])})(dr),(function(e){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(t){return r.call(this),this.internal.vFS[t]!==void 0},e.addFileToVFS=function(t,a){return r.call(this),this.internal.vFS[t]=a,this},e.getFileFromVFS=function(t){return r.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(dr.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var s,i,o,l,A,d,f,h=r,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,C=0;this.__bidiEngine__={};var E=function(I){var $=I.charCodeAt(),J=$>>8,M=g[J];return M!==void 0?h[256*M+(255&$)]:J===252||J===253?"AL":y.test(J)?"L":J===8?"R":"N"},U=function(I){for(var $,J=0;J<I.length;J++){if(($=E(I.charAt(J)))==="L")return!1;if($==="R")return!0}return!1},D=function(I,$,J,M){var re,K,G,z,Z=$[M];switch(Z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(Z="AN");break;case"AL":N=!0,Z="R";break;case"WS":case"BN":Z="N";break;case"CS":M<1||M+1>=$.length||(re=J[M-1])!=="EN"&&re!=="AN"||(K=$[M+1])!=="EN"&&K!=="AN"?Z="N":N&&(K="AN"),Z=K===re?K:"N";break;case"ES":Z=(re=M>0?J[M-1]:"B")==="EN"&&M+1<$.length&&$[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&J[M-1]==="EN"){Z="EN";break}if(N){Z="N";break}for(G=M+1,z=$.length;G<z&&$[G]==="ET";)G++;Z=G<z&&$[G]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(z=$.length,G=M+1;G<z&&$[G]==="NSM";)G++;if(G<z){var Ae=I[M],ee=Ae>=1425&&Ae<=2303||Ae===64286;if(re=$[G],ee&&(re==="R"||re==="AL")){Z="R";break}}}Z=M<1||(re=$[M-1])==="B"?"N":J[M-1];break;case"B":N=!1,s=!0,Z=C;break;case"S":i=!0,Z="N"}return Z},k=function(I,$,J){var M=I.split("");return J&&L(M,J,{hiLevel:C}),M.reverse(),$&&$.reverse(),M.join("")},L=function(I,$,J){var M,re,K,G,z,Z=-1,Ae=I.length,ee=0,R=[],q=C?p:m,te=[];for(N=!1,s=!1,i=!1,re=0;re<Ae;re++)te[re]=E(I[re]);for(K=0;K<Ae;K++){if(z=ee,R[K]=D(I,te,R,K),M=240&(ee=q[z][v[R[K]]]),ee&=15,$[K]=G=q[ee][5],M>0)if(M===16){for(re=Z;re<K;re++)$[re]=1;Z=-1}else Z=-1;if(q[ee][6])Z===-1&&(Z=K);else if(Z>-1){for(re=Z;re<K;re++)$[re]=G;Z=-1}te[K]==="B"&&($[K]=0),J.hiLevel|=G}i&&(function(F,X,H){for(var V=0;V<H;V++)if(F[V]==="S"){X[V]=C;for(var ae=V-1;ae>=0&&F[ae]==="WS";ae--)X[ae]=C}})(te,$,Ae)},_=function(I,$,J,M,re){if(!(re.hiLevel<I)){if(I===1&&C===1&&!s)return $.reverse(),void(J&&J.reverse());for(var K,G,z,Z,Ae=$.length,ee=0;ee<Ae;){if(M[ee]>=I){for(z=ee+1;z<Ae&&M[z]>=I;)z++;for(Z=ee,G=z-1;Z<G;Z++,G--)K=$[Z],$[Z]=$[G],$[G]=K,J&&(K=J[Z],J[Z]=J[G],J[G]=K);ee=z}ee++}}},Y=function(I,$,J){var M=I.split(""),re={hiLevel:C};return J||(J=[]),L(M,J,re),(function(K,G,z){if(z.hiLevel!==0&&f)for(var Z,Ae=0;Ae<K.length;Ae++)G[Ae]===1&&(Z=w.indexOf(K[Ae]))>=0&&(K[Ae]=w[Z+1])})(M,J,re),_(2,M,$,J,re),_(1,M,$,J,re),M.join("")};return this.__bidiEngine__.doBidiReorder=function(I,$,J){if((function(re,K){if(K)for(var G=0;G<re.length;G++)K[G]=G;l===void 0&&(l=U(re)),d===void 0&&(d=U(re))})(I,$),o||!A||d)if(o&&A&&l^d)C=l?1:0,I=k(I,$,J);else if(!o&&A&&d)C=l?1:0,I=Y(I,$,J),I=k(I,$);else if(!o||l||A||d){if(o&&!A&&l^d)I=k(I,$),l?(C=0,I=Y(I,$,J)):(C=1,I=Y(I,$,J),I=k(I,$));else if(o&&l&&!A&&d)C=1,I=Y(I,$,J),I=k(I,$);else if(!o&&!A&&l^d){var M=f;l?(C=1,I=Y(I,$,J),C=0,f=!1,I=Y(I,$,J),f=M):(C=0,I=Y(I,$,J),I=k(I,$),C=1,f=!1,I=Y(I,$,J),f=M,I=k(I,$))}}else C=0,I=Y(I,$,J);else C=l?1:0,I=Y(I,$,J);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,A=I.isOutputVisual,l=I.isInputRtl,d=I.isOutputRtl,f=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var s=a.text;a.x,a.y;var i=a.options||{};a.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([t.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([t.doBidiReorder(s[l])]);a.text=o}else a.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(dr),dr.API.TTFFont=(function(){function e(r){var t;if(this.rawData=r,t=this.contents=new pd(r),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new xV(this),this.registerTTF()}return e.open=function(r){return new e(r)},e.prototype.parse=function(){return this.directory=new nV(this.contents),this.head=new iV(this),this.name=new dV(this),this.cmap=new g3(this),this.toUnicode={},this.hhea=new oV(this),this.maxp=new uV(this),this.hmtx=new fV(this),this.post=new cV(this),this.os2=new lV(this),this.loca=new gV(this),this.glyf=new hV(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var r,t,a,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,A,d;for(d=[],o=0,l=(A=this.bbox).length;o<l;o++)r=A[o],d.push(Math.round(r*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(a=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(r){var t;return((t=this.cmap.unicode)!=null?t.codeMap[r]:void 0)||0},e.prototype.widthOfGlyph=function(r){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*t},e.prototype.widthOfString=function(r,t,a){var s,i,o,l;for(o=0,i=0,l=(r=""+r).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=r.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+a*(1e3/t)||0;return o*(t/1e3)},e.prototype.lineHeight=function(r,t){var a;return t==null&&(t=!1),a=t?this.lineGap:0,(this.ascender+a-this.decender)/1e3*r},e})();var Sl,pd=(function(){function e(r){this.data=r??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(r){return this.data[this.pos++]=r},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},e.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},e.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},e.prototype.readString=function(r){var t,a;for(a=[],t=0;0<=r?t<r:t>r;t=0<=r?++t:--t)a[t]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(r){var t,a,s;for(s=[],t=0,a=r.length;0<=a?t<a:t>a;t=0<=a?++t:--t)s.push(this.writeByte(r.charCodeAt(t)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(r){return this.writeInt16(r)},e.prototype.readLongLong=function(){var r,t,a,s,i,o,l,A;return r=this.readByte(),t=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),A=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^t)+1099511627776*(255^a)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^A)+1):72057594037927940*r+281474976710656*t+1099511627776*a+4294967296*s+16777216*i+65536*o+256*l+A},e.prototype.writeLongLong=function(r){var t,a;return t=Math.floor(r/4294967296),a=4294967295&r,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(r){return this.writeInt32(r)},e.prototype.read=function(r){var t,a;for(t=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)t.push(this.readByte());return t},e.prototype.write=function(r){var t,a,s,i;for(i=[],a=0,s=r.length;a<s;a++)t=r[a],i.push(this.writeByte(t));return i},e})(),nV=(function(){var e;function r(t){var a,s,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)a={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[a.tag]=a}return r.prototype.encode=function(t){var a,s,i,o,l,A,d,f,h,m,p,v,g;for(g in p=Object.keys(t).length,A=Math.log(2),h=16*Math.floor(Math.log(p)/A),o=Math.floor(h/A),f=16*p-h,(s=new pd).writeInt(this.scalarType),s.writeShort(p),s.writeShort(h),s.writeShort(o),s.writeShort(f),i=16*p,d=s.pos+i,l=null,v=[],t)for(m=t[g],s.writeString(g),s.writeInt(e(m)),s.writeInt(d),s.writeInt(m.length),v=v.concat(m),g==="head"&&(l=d),d+=m.length;d%4;)v.push(0),d++;return s.write(v),a=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(a),s.data},e=function(t){var a,s,i,o;for(t=x3.call(t);t.length%4;)t.push(0);for(i=new pd(t),s=0,a=0,o=t.length;a<o;a=a+=4)s+=i.readUInt32();return 4294967295&s},r})(),sV={}.hasOwnProperty,pc=function(e,r){for(var t in r)sV.call(r,t)&&(e[t]=r[t]);function a(){this.constructor=e}return a.prototype=r.prototype,e.prototype=new a,e.__super__=r.prototype,e};Sl=(function(){function e(r){var t;this.file=r,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var iV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pc(e,Sl),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var t;return(t=new pd).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(r),t.writeShort(this.glyphDataFormat),t.data},e})(),ZB=(function(){function e(r,t){var a,s,i,o,l,A,d,f,h,m,p,v,g,w,y,N,C;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=t+r.readInt(),h=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(A=0;A<256;++A)this.codeMap[A]=r.readByte();break;case 4:for(p=r.readUInt16(),m=p/2,r.pos+=6,i=(function(){var E,U;for(U=[],A=E=0;0<=m?E<m:E>m;A=0<=m?++E:--E)U.push(r.readUInt16());return U})(),r.pos+=2,g=(function(){var E,U;for(U=[],A=E=0;0<=m?E<m:E>m;A=0<=m?++E:--E)U.push(r.readUInt16());return U})(),d=(function(){var E,U;for(U=[],A=E=0;0<=m?E<m:E>m;A=0<=m?++E:--E)U.push(r.readUInt16());return U})(),f=(function(){var E,U;for(U=[],A=E=0;0<=m?E<m:E>m;A=0<=m?++E:--E)U.push(r.readUInt16());return U})(),s=(this.length-r.pos+this.offset)/2,l=(function(){var E,U;for(U=[],A=E=0;0<=s?E<s:E>s;A=0<=s?++E:--E)U.push(r.readUInt16());return U})(),A=y=0,C=i.length;y<C;A=++y)for(w=i[A],a=N=v=g[A];v<=w?N<=w:N>=w;a=v<=w?++N:--N)f[A]===0?o=a+d[A]:(o=l[f[A]/2+(a-v)-(m-A)]||0)!==0&&(o+=d[A]),this.codeMap[a]=65535&o}r.pos=h}return e.encode=function(r,t){var a,s,i,o,l,A,d,f,h,m,p,v,g,w,y,N,C,E,U,D,k,L,_,Y,I,$,J,M,re,K,G,z,Z,Ae,ee,R,q,te,F,X,H,V,ae,fe,ve,Be;switch(M=new pd,o=Object.keys(r).sort(function(ke,xe){return ke-xe}),t){case"macroman":for(g=0,w=(function(){var ke=[];for(v=0;v<256;++v)ke.push(0);return ke})(),N={0:0},i={},re=0,Z=o.length;re<Z;re++)N[ae=r[s=o[re]]]==null&&(N[ae]=++g),i[s]={old:r[s],new:N[r[s]]},w[s]=N[r[s]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(w),{charMap:i,subtable:M.data,maxGlyphID:g+1};case"unicode":for($=[],h=[],C=0,N={},a={},y=d=null,K=0,Ae=o.length;K<Ae;K++)N[U=r[s=o[K]]]==null&&(N[U]=++C),a[s]={old:U,new:N[U]},l=N[U]-s,y!=null&&l===d||(y&&h.push(y),$.push(s),d=l),y=s;for(y&&h.push(y),h.push(65535),$.push(65535),Y=2*(_=$.length),L=2*Math.pow(Math.log(_)/Math.LN2,2),m=Math.log(L/2)/Math.LN2,k=2*_-L,A=[],D=[],p=[],v=G=0,ee=$.length;G<ee;v=++G){if(I=$[v],f=h[v],I===65535){A.push(0),D.push(0);break}if(I-(J=a[I].new)>=32768)for(A.push(0),D.push(2*(p.length+_-v)),s=z=I;I<=f?z<=f:z>=f;s=I<=f?++z:--z)p.push(a[s].new);else A.push(J-I),D.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*_+2*p.length),M.writeUInt16(0),M.writeUInt16(Y),M.writeUInt16(L),M.writeUInt16(m),M.writeUInt16(k),H=0,R=h.length;H<R;H++)s=h[H],M.writeUInt16(s);for(M.writeUInt16(0),V=0,q=$.length;V<q;V++)s=$[V],M.writeUInt16(s);for(fe=0,te=A.length;fe<te;fe++)l=A[fe],M.writeUInt16(l);for(ve=0,F=D.length;ve<F;ve++)E=D[ve],M.writeUInt16(E);for(Be=0,X=p.length;Be<X;Be++)g=p[Be],M.writeUInt16(g);return{charMap:a,subtable:M.data,maxGlyphID:C+1}}},e})(),g3=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pc(e,Sl),e.prototype.tag="cmap",e.prototype.parse=function(r){var t,a,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)t=new ZB(r,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},e.encode=function(r,t){var a,s;return t==null&&(t="macroman"),a=ZB.encode(r,t),(s=new pd).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},e})(),oV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pc(e,Sl),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e})(),lV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pc(e,Sl),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=(function(){var t,a;for(a=[],t=0;t<10;++t)a.push(r.readByte());return a})(),this.charRange=(function(){var t,a;for(a=[],t=0;t<4;++t)a.push(r.readInt());return a})(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=(function(){var t,a;for(a=[],t=0;t<2;t=++t)a.push(r.readInt());return a})(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e})(),cV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pc(e,Sl),e.prototype.tag="post",e.prototype.parse=function(r){var t,a,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(a=r.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)t=r.readByte(),s.push(this.names.push(r.readString(t)));return s;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 262144:return this.map=(function(){var o,l,A;for(A=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)A.push(r.readUInt32());return A}).call(this)}},e})(),AV=function(e,r){this.raw=e,this.length=e.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},dV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pc(e,Sl),e.prototype.tag="name",e.prototype.parse=function(r){var t,a,s,i,o,l,A,d,f,h,m;for(r.pos=this.offset,r.readShort(),t=r.readShort(),l=r.readShort(),a=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(A={},i=f=0,h=a.length;f<h;i=++f)s=a[i],r.pos=s.offset,d=r.readString(s.length),o=new AV(d,s),A[m=s.nameID]==null&&(A[m]=[]),A[s.nameID].push(o);this.strings=A,this.copyright=A[0],this.fontFamily=A[1],this.fontSubfamily=A[2],this.uniqueSubfamily=A[3],this.fontName=A[4],this.version=A[5];try{this.postscriptName=A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=A[7],this.manufacturer=A[8],this.designer=A[9],this.description=A[10],this.vendorUrl=A[11],this.designerUrl=A[12],this.license=A[13],this.licenseUrl=A[14],this.preferredFamily=A[15],this.preferredSubfamily=A[17],this.compatibleFull=A[18],this.sampleText=A[19]},e})(),uV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pc(e,Sl),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e})(),fV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pc(e,Sl),e.prototype.tag="hmtx",e.prototype.parse=function(r){var t,a,s,i,o,l,A;for(r.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,f;for(f=[],t=d=0;0<=s?d<s:d>s;t=0<=s?++d:--d)f.push(r.readInt16());return f})(),this.widths=(function(){var d,f,h,m;for(m=[],d=0,f=(h=this.metrics).length;d<f;d++)i=h[d],m.push(i.advance);return m}).call(this),a=this.widths[this.widths.length-1],A=[],t=o=0;0<=s?o<s:o>s;t=0<=s?++o:--o)A.push(this.widths.push(a));return A},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e})(),x3=[].slice,hV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pc(e,Sl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var t,a,s,i,o,l,A,d,f,h;return r in this.cache?this.cache[r]:(i=this.file.loca,t=this.file.contents,a=i.indexOf(r),(s=i.lengthOf(r))===0?this.cache[r]=null:(t.pos=this.offset+a,o=(l=new pd(t.read(s))).readShort(),d=l.readShort(),h=l.readShort(),A=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new pV(l,d,h,A,f):new mV(l,o,d,h,A,f),this.cache[r]))},e.prototype.encode=function(r,t,a){var s,i,o,l,A;for(o=[],i=[],l=0,A=t.length;l<A;l++)s=r[t[l]],i.push(o.length),s&&(o=o.concat(s.encode(a)));return i.push(o.length),{table:o,offsets:i}},e})(),mV=(function(){function e(r,t,a,s,i,o){this.raw=r,this.numberOfContours=t,this.xMin=a,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),pV=(function(){function e(r,t,a,s,i){var o,l;for(this.raw=r,this.xMin=t,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var r,t,a;for(t=new pd(x3.call(this.raw.data)),r=0,a=this.glyphIDs.length;r<a;++r)t.pos=this.glyphOffsets[r];return t.data},e})(),gV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pc(e,Sl),e.prototype.tag="loca",e.prototype.parse=function(r){var t,a;return r.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=2)i.push(2*r.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=4)i.push(r.readUInt32());return i}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,t){for(var a=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<a.length;++o)if(a[o]=s,i<t.length&&t[i]==o){++i,a[o]=s;var l=this.offsets[o],A=this.offsets[o+1]-l;A>0&&(s+=A)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},e})(),xV=(function(){function e(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var r,t,a,s,i;for(t in s=this.font.cmap.tables[0].codeMap,r={},i=this.subset)a=i[t],r[t]=s[a];return r},e.prototype.glyphsFor=function(r){var t,a,s,i,o,l,A;for(s={},o=0,l=r.length;o<l;o++)s[i=r[o]]=this.font.glyf.glyphFor(i);for(i in t=[],s)(a=s[i])!=null&&a.compound&&t.push.apply(t,a.glyphIDs);if(t.length>0)for(i in A=this.glyphsFor(t))a=A[i],s[i]=a;return s},e.prototype.encode=function(r,t){var a,s,i,o,l,A,d,f,h,m,p,v,g,w,y;for(s in a=g3.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(r),p={0:0},y=a.charMap)p[(A=y[s]).old]=A.new;for(v in m=a.maxGlyphID,o)v in p||(p[v]=m++);return f=(function(N){var C,E;for(C in E={},N)E[N[C]]=C;return E})(p),h=Object.keys(f).sort(function(N,C){return N-C}),g=(function(){var N,C,E;for(E=[],N=0,C=h.length;N<C;N++)l=h[N],E.push(f[l]);return E})(),i=this.font.glyf.encode(o,g,p),d=this.font.loca.encode(i.offsets,g),w={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},e})();dr.API.PDFObject=(function(){var e;function r(){}return e=function(t,a){return(Array(a+1).join("0")+t).slice(-a)},r.convert=function(t){var a,s,i,o;if(Array.isArray(t))return"["+(function(){var l,A,d;for(d=[],l=0,A=t.length;l<A;l++)a=t[l],d.push(r.convert(a));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+e(t.getUTCFullYear(),4)+e(t.getUTCMonth(),2)+e(t.getUTCDate(),2)+e(t.getUTCHours(),2)+e(t.getUTCMinutes(),2)+e(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in i=["<<"],t)o=t[s],i.push("/"+s+" "+r.convert(o));return i.push(">>"),i.join(`
`)}return""+t},r})();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Vy=function(e,r){return Vy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},Vy(e,r)};function _l(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Vy(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var zy=function(){return zy=Object.assign||function(r){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},zy.apply(this,arguments)};function bi(e,r,t,a){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(f){try{d(a.next(f))}catch(h){o(h)}}function A(f){try{d(a.throw(f))}catch(h){o(h)}}function d(f){f.done?i(f.value):s(f.value).then(l,A)}d((a=a.apply(e,[])).next())})}function oi(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(f){return A([d,f])}}function A(d){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,s=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){t.label=d[1];break}if(d[0]===6&&t.label<i[1]){t.label=i[1],i=d;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(d);break}i[2]&&t.ops.pop(),t.trys.pop();continue}d=r.call(e,t)}catch(f){d=[6,f],s=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Gp(e,r,t){if(arguments.length===2)for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||r)}var hA=(function(){function e(r,t,a,s){this.left=r,this.top=t,this.width=a,this.height=s}return e.prototype.add=function(r,t,a,s){return new e(this.left+r,this.top+t,this.width+a,this.height+s)},e.fromClientRect=function(r,t){return new e(t.left+r.windowBounds.left,t.top+r.windowBounds.top,t.width,t.height)},e.fromDOMRectList=function(r,t){var a=Array.from(t).find(function(s){return s.width!==0});return a?new e(a.left+r.windowBounds.left,a.top+r.windowBounds.top,a.width,a.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e})(),Cx=function(e,r){return hA.fromClientRect(e,r.getBoundingClientRect())},vV=function(e){var r=e.body,t=e.documentElement;if(!r||!t)throw new Error("Unable to get document size");var a=Math.max(Math.max(r.scrollWidth,t.scrollWidth),Math.max(r.offsetWidth,t.offsetWidth),Math.max(r.clientWidth,t.clientWidth)),s=Math.max(Math.max(r.scrollHeight,t.scrollHeight),Math.max(r.offsetHeight,t.offsetHeight),Math.max(r.clientHeight,t.clientHeight));return new hA(0,0,a,s)},Sx=function(e){for(var r=[],t=0,a=e.length;t<a;){var s=e.charCodeAt(t++);if(s>=55296&&s<=56319&&t<a){var i=e.charCodeAt(t++);(i&64512)===56320?r.push(((s&1023)<<10)+(i&1023)+65536):(r.push(s),t--)}else r.push(s)}return r},Gn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var a=[],s=-1,i="";++s<t;){var o=e[s];o<=65535?a.push(o):(o-=65536,a.push((o>>10)+55296,o%1024+56320)),(s+1===t||a.length>16384)&&(i+=String.fromCharCode.apply(String,a),a.length=0)}return i},eC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wV=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Yp=0;Yp<eC.length;Yp++)wV[eC.charCodeAt(Yp)]=Yp;var tC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$h=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Xp=0;Xp<tC.length;Xp++)$h[tC.charCodeAt(Xp)]=Xp;var yV=function(e){var r=e.length*.75,t=e.length,a,s=0,i,o,l,A;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(r):new Array(r),f=Array.isArray(d)?d:new Uint8Array(d);for(a=0;a<t;a+=4)i=$h[e.charCodeAt(a)],o=$h[e.charCodeAt(a+1)],l=$h[e.charCodeAt(a+2)],A=$h[e.charCodeAt(a+3)],f[s++]=i<<2|o>>4,f[s++]=(o&15)<<4|l>>2,f[s++]=(l&3)<<6|A&63;return d},bV=function(e){for(var r=e.length,t=[],a=0;a<r;a+=2)t.push(e[a+1]<<8|e[a]);return t},jV=function(e){for(var r=e.length,t=[],a=0;a<r;a+=4)t.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return t},Au=5,Bb=11,Sw=2,NV=Bb-Au,v3=65536>>Au,BV=1<<Au,_w=BV-1,CV=1024>>Au,SV=v3+CV,_V=SV,EV=32,FV=_V+EV,kV=65536>>Bb,DV=1<<NV,UV=DV-1,rC=function(e,r,t){return e.slice?e.slice(r,t):new Uint16Array(Array.prototype.slice.call(e,r,t))},LV=function(e,r,t){return e.slice?e.slice(r,t):new Uint32Array(Array.prototype.slice.call(e,r,t))},IV=function(e,r){var t=yV(e),a=Array.isArray(t)?jV(t):new Uint32Array(t),s=Array.isArray(t)?bV(t):new Uint16Array(t),i=24,o=rC(s,i/2,a[4]/2),l=a[5]===2?rC(s,(i+a[4])/2):LV(a,Math.ceil((i+a[4])/4));return new PV(a[0],a[1],a[2],a[3],o,l)},PV=(function(){function e(r,t,a,s,i,o){this.initialValue=r,this.errorValue=t,this.highStart=a,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(r){var t;if(r>=0){if(r<55296||r>56319&&r<=65535)return t=this.index[r>>Au],t=(t<<Sw)+(r&_w),this.data[t];if(r<=65535)return t=this.index[v3+(r-55296>>Au)],t=(t<<Sw)+(r&_w),this.data[t];if(r<this.highStart)return t=FV-kV+(r>>Bb),t=this.index[t],t+=r>>Au&UV,t=this.index[t],t=(t<<Sw)+(r&_w),this.data[t];if(r<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),aC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",QV=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Jp=0;Jp<aC.length;Jp++)QV[aC.charCodeAt(Jp)]=Jp;var RV="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",nC=50,MV=1,w3=2,y3=3,TV=4,OV=5,sC=7,b3=8,iC=9,ad=10,qy=11,oC=12,Wy=13,HV=14,Kh=15,Gy=16,Zp=17,Ph=18,$V=19,lC=20,Yy=21,Qh=22,Ew=23,df=24,Ao=25,Vh=26,zh=27,uf=28,KV=29,Zd=30,VV=31,eg=32,tg=33,Xy=34,Jy=35,Zy=36,vm=37,e1=38,Og=39,Hg=40,Fw=41,j3=42,zV=43,qV=[9001,65288],N3="!",da="",rg="",t1=IV(RV),Gc=[Zd,Zy],r1=[MV,w3,y3,OV],B3=[ad,b3],cC=[zh,Vh],WV=r1.concat(B3),AC=[e1,Og,Hg,Xy,Jy],GV=[Kh,Wy],YV=function(e,r){r===void 0&&(r="strict");var t=[],a=[],s=[];return e.forEach(function(i,o){var l=t1.get(i);if(l>nC?(s.push(!0),l-=nC):s.push(!1),["normal","auto","loose"].indexOf(r)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return a.push(o),t.push(Gy);if(l===TV||l===qy){if(o===0)return a.push(o),t.push(Zd);var A=t[o-1];return WV.indexOf(A)===-1?(a.push(a[o-1]),t.push(A)):(a.push(o),t.push(Zd))}if(a.push(o),l===VV)return t.push(r==="strict"?Yy:vm);if(l===j3||l===KV)return t.push(Zd);if(l===zV)return i>=131072&&i<=196605||i>=196608&&i<=262141?t.push(vm):t.push(Zd);t.push(l)}),[a,t,s]},kw=function(e,r,t,a){var s=a[t];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var i=t;i<=a.length;){i++;var o=a[i];if(o===r)return!0;if(o!==ad)break}if(s===ad)for(var i=t;i>0;){i--;var l=a[i];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var A=t;A<=a.length;){A++;var o=a[A];if(o===r)return!0;if(o!==ad)break}if(l!==ad)break}return!1},dC=function(e,r){for(var t=e;t>=0;){var a=r[t];if(a===ad)t--;else return a}return 0},XV=function(e,r,t,a,s){if(t[a]===0)return da;var i=a-1;if(Array.isArray(s)&&s[i]===!0)return da;var o=i-1,l=i+1,A=r[i],d=o>=0?r[o]:0,f=r[l];if(A===w3&&f===y3)return da;if(r1.indexOf(A)!==-1)return N3;if(r1.indexOf(f)!==-1||B3.indexOf(f)!==-1)return da;if(dC(i,r)===b3)return rg;if(t1.get(e[i])===qy||(A===eg||A===tg)&&t1.get(e[l])===qy||A===sC||f===sC||A===iC||[ad,Wy,Kh].indexOf(A)===-1&&f===iC||[Zp,Ph,$V,df,uf].indexOf(f)!==-1||dC(i,r)===Qh||kw(Ew,Qh,i,r)||kw([Zp,Ph],Yy,i,r)||kw(oC,oC,i,r))return da;if(A===ad)return rg;if(A===Ew||f===Ew)return da;if(f===Gy||A===Gy)return rg;if([Wy,Kh,Yy].indexOf(f)!==-1||A===HV||d===Zy&&GV.indexOf(A)!==-1||A===uf&&f===Zy||f===lC||Gc.indexOf(f)!==-1&&A===Ao||Gc.indexOf(A)!==-1&&f===Ao||A===zh&&[vm,eg,tg].indexOf(f)!==-1||[vm,eg,tg].indexOf(A)!==-1&&f===Vh||Gc.indexOf(A)!==-1&&cC.indexOf(f)!==-1||cC.indexOf(A)!==-1&&Gc.indexOf(f)!==-1||[zh,Vh].indexOf(A)!==-1&&(f===Ao||[Qh,Kh].indexOf(f)!==-1&&r[l+1]===Ao)||[Qh,Kh].indexOf(A)!==-1&&f===Ao||A===Ao&&[Ao,uf,df].indexOf(f)!==-1)return da;if([Ao,uf,df,Zp,Ph].indexOf(f)!==-1)for(var h=i;h>=0;){var m=r[h];if(m===Ao)return da;if([uf,df].indexOf(m)!==-1)h--;else break}if([zh,Vh].indexOf(f)!==-1)for(var h=[Zp,Ph].indexOf(A)!==-1?o:i;h>=0;){var m=r[h];if(m===Ao)return da;if([uf,df].indexOf(m)!==-1)h--;else break}if(e1===A&&[e1,Og,Xy,Jy].indexOf(f)!==-1||[Og,Xy].indexOf(A)!==-1&&[Og,Hg].indexOf(f)!==-1||[Hg,Jy].indexOf(A)!==-1&&f===Hg||AC.indexOf(A)!==-1&&[lC,Vh].indexOf(f)!==-1||AC.indexOf(f)!==-1&&A===zh||Gc.indexOf(A)!==-1&&Gc.indexOf(f)!==-1||A===df&&Gc.indexOf(f)!==-1||Gc.concat(Ao).indexOf(A)!==-1&&f===Qh&&qV.indexOf(e[l])===-1||Gc.concat(Ao).indexOf(f)!==-1&&A===Ph)return da;if(A===Fw&&f===Fw){for(var p=t[i],v=1;p>0&&(p--,r[p]===Fw);)v++;if(v%2!==0)return da}return A===eg&&f===tg?da:rg},JV=function(e,r){r||(r={lineBreak:"normal",wordBreak:"normal"});var t=YV(e,r.lineBreak),a=t[0],s=t[1],i=t[2];(r.wordBreak==="break-all"||r.wordBreak==="break-word")&&(s=s.map(function(l){return[Ao,Zd,j3].indexOf(l)!==-1?vm:l}));var o=r.wordBreak==="keep-all"?i.map(function(l,A){return l&&e[A]>=19968&&e[A]<=40959}):void 0;return[a,s,o]},ZV=(function(){function e(r,t,a,s){this.codePoints=r,this.required=t===N3,this.start=a,this.end=s}return e.prototype.slice=function(){return Gn.apply(void 0,this.codePoints.slice(this.start,this.end))},e})(),ez=function(e,r){var t=Sx(e),a=JV(t,r),s=a[0],i=a[1],o=a[2],l=t.length,A=0,d=0;return{next:function(){if(d>=l)return{done:!0,value:null};for(var f=da;d<l&&(f=XV(t,i,s,++d,o))===da;);if(f!==da||d===l){var h=new ZV(t,f,A,d);return A=d,{value:h,done:!1}}return{done:!0,value:null}}}},tz=1,rz=2,Hm=4,uC=8,j0=10,fC=47,em=92,az=9,nz=32,ag=34,Rh=61,sz=35,iz=36,oz=37,ng=39,sg=40,Mh=41,lz=95,$i=45,cz=33,Az=60,dz=62,uz=64,fz=91,hz=93,mz=61,pz=123,ig=63,gz=125,hC=124,xz=126,vz=128,mC=65533,Dw=42,nu=43,wz=44,yz=58,bz=59,wm=46,jz=0,Nz=8,Bz=11,Cz=14,Sz=31,_z=127,Vl=-1,C3=48,S3=97,_3=101,Ez=102,Fz=117,kz=122,E3=65,F3=69,k3=70,Dz=85,Uz=90,ci=function(e){return e>=C3&&e<=57},Lz=function(e){return e>=55296&&e<=57343},ff=function(e){return ci(e)||e>=E3&&e<=k3||e>=S3&&e<=Ez},Iz=function(e){return e>=S3&&e<=kz},Pz=function(e){return e>=E3&&e<=Uz},Qz=function(e){return Iz(e)||Pz(e)},Rz=function(e){return e>=vz},og=function(e){return e===j0||e===az||e===nz},N0=function(e){return Qz(e)||Rz(e)||e===lz},pC=function(e){return N0(e)||ci(e)||e===$i},Mz=function(e){return e>=jz&&e<=Nz||e===Bz||e>=Cz&&e<=Sz||e===_z},JA=function(e,r){return e!==em?!1:r!==j0},lg=function(e,r,t){return e===$i?N0(r)||JA(r,t):N0(e)?!0:!!(e===em&&JA(e,r))},Uw=function(e,r,t){return e===nu||e===$i?ci(r)?!0:r===wm&&ci(t):ci(e===wm?r:e)},Tz=function(e){var r=0,t=1;(e[r]===nu||e[r]===$i)&&(e[r]===$i&&(t=-1),r++);for(var a=[];ci(e[r]);)a.push(e[r++]);var s=a.length?parseInt(Gn.apply(void 0,a),10):0;e[r]===wm&&r++;for(var i=[];ci(e[r]);)i.push(e[r++]);var o=i.length,l=o?parseInt(Gn.apply(void 0,i),10):0;(e[r]===F3||e[r]===_3)&&r++;var A=1;(e[r]===nu||e[r]===$i)&&(e[r]===$i&&(A=-1),r++);for(var d=[];ci(e[r]);)d.push(e[r++]);var f=d.length?parseInt(Gn.apply(void 0,d),10):0;return t*(s+l*Math.pow(10,-o))*Math.pow(10,A*f)},Oz={type:2},Hz={type:3},$z={type:4},Kz={type:13},Vz={type:8},zz={type:21},qz={type:9},Wz={type:10},Gz={type:11},Yz={type:12},Xz={type:14},cg={type:23},Jz={type:1},Zz={type:25},eq={type:24},tq={type:26},rq={type:27},aq={type:28},nq={type:29},sq={type:31},a1={type:32},D3=(function(){function e(){this._value=[]}return e.prototype.write=function(r){this._value=this._value.concat(Sx(r))},e.prototype.read=function(){for(var r=[],t=this.consumeToken();t!==a1;)r.push(t),t=this.consumeToken();return r},e.prototype.consumeToken=function(){var r=this.consumeCodePoint();switch(r){case ag:return this.consumeStringToken(ag);case sz:var t=this.peekCodePoint(0),a=this.peekCodePoint(1),s=this.peekCodePoint(2);if(pC(t)||JA(a,s)){var i=lg(t,a,s)?rz:tz,o=this.consumeName();return{type:5,value:o,flags:i}}break;case iz:if(this.peekCodePoint(0)===Rh)return this.consumeCodePoint(),Kz;break;case ng:return this.consumeStringToken(ng);case sg:return Oz;case Mh:return Hz;case Dw:if(this.peekCodePoint(0)===Rh)return this.consumeCodePoint(),Xz;break;case nu:if(Uw(r,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(r),this.consumeNumericToken();break;case wz:return $z;case $i:var l=r,A=this.peekCodePoint(0),d=this.peekCodePoint(1);if(Uw(l,A,d))return this.reconsumeCodePoint(r),this.consumeNumericToken();if(lg(l,A,d))return this.reconsumeCodePoint(r),this.consumeIdentLikeToken();if(A===$i&&d===dz)return this.consumeCodePoint(),this.consumeCodePoint(),eq;break;case wm:if(Uw(r,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(r),this.consumeNumericToken();break;case fC:if(this.peekCodePoint(0)===Dw)for(this.consumeCodePoint();;){var f=this.consumeCodePoint();if(f===Dw&&(f=this.consumeCodePoint(),f===fC))return this.consumeToken();if(f===Vl)return this.consumeToken()}break;case yz:return tq;case bz:return rq;case Az:if(this.peekCodePoint(0)===cz&&this.peekCodePoint(1)===$i&&this.peekCodePoint(2)===$i)return this.consumeCodePoint(),this.consumeCodePoint(),Zz;break;case uz:var h=this.peekCodePoint(0),m=this.peekCodePoint(1),p=this.peekCodePoint(2);if(lg(h,m,p)){var o=this.consumeName();return{type:7,value:o}}break;case fz:return aq;case em:if(JA(r,this.peekCodePoint(0)))return this.reconsumeCodePoint(r),this.consumeIdentLikeToken();break;case hz:return nq;case mz:if(this.peekCodePoint(0)===Rh)return this.consumeCodePoint(),Vz;break;case pz:return Gz;case gz:return Yz;case Fz:case Dz:var v=this.peekCodePoint(0),g=this.peekCodePoint(1);return v===nu&&(ff(g)||g===ig)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(r),this.consumeIdentLikeToken();case hC:if(this.peekCodePoint(0)===Rh)return this.consumeCodePoint(),qz;if(this.peekCodePoint(0)===hC)return this.consumeCodePoint(),zz;break;case xz:if(this.peekCodePoint(0)===Rh)return this.consumeCodePoint(),Wz;break;case Vl:return a1}return og(r)?(this.consumeWhiteSpace(),sq):ci(r)?(this.reconsumeCodePoint(r),this.consumeNumericToken()):N0(r)?(this.reconsumeCodePoint(r),this.consumeIdentLikeToken()):{type:6,value:Gn(r)}},e.prototype.consumeCodePoint=function(){var r=this._value.shift();return typeof r>"u"?-1:r},e.prototype.reconsumeCodePoint=function(r){this._value.unshift(r)},e.prototype.peekCodePoint=function(r){return r>=this._value.length?-1:this._value[r]},e.prototype.consumeUnicodeRangeToken=function(){for(var r=[],t=this.consumeCodePoint();ff(t)&&r.length<6;)r.push(t),t=this.consumeCodePoint();for(var a=!1;t===ig&&r.length<6;)r.push(t),t=this.consumeCodePoint(),a=!0;if(a){var s=parseInt(Gn.apply(void 0,r.map(function(A){return A===ig?C3:A})),16),i=parseInt(Gn.apply(void 0,r.map(function(A){return A===ig?k3:A})),16);return{type:30,start:s,end:i}}var o=parseInt(Gn.apply(void 0,r),16);if(this.peekCodePoint(0)===$i&&ff(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var l=[];ff(t)&&l.length<6;)l.push(t),t=this.consumeCodePoint();var i=parseInt(Gn.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var r=this.consumeName();return r.toLowerCase()==="url"&&this.peekCodePoint(0)===sg?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===sg?(this.consumeCodePoint(),{type:19,value:r}):{type:20,value:r}},e.prototype.consumeUrlToken=function(){var r=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Vl)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===ng||t===ag){var a=this.consumeStringToken(this.consumeCodePoint());return a.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Vl||this.peekCodePoint(0)===Mh)?(this.consumeCodePoint(),{type:22,value:a.value}):(this.consumeBadUrlRemnants(),cg)}for(;;){var s=this.consumeCodePoint();if(s===Vl||s===Mh)return{type:22,value:Gn.apply(void 0,r)};if(og(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Vl||this.peekCodePoint(0)===Mh?(this.consumeCodePoint(),{type:22,value:Gn.apply(void 0,r)}):(this.consumeBadUrlRemnants(),cg);if(s===ag||s===ng||s===sg||Mz(s))return this.consumeBadUrlRemnants(),cg;if(s===em)if(JA(s,this.peekCodePoint(0)))r.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),cg;else r.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;og(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var r=this.consumeCodePoint();if(r===Mh||r===Vl)return;JA(r,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(r){for(var t=5e4,a="";r>0;){var s=Math.min(t,r);a+=Gn.apply(void 0,this._value.splice(0,s)),r-=s}return this._value.shift(),a},e.prototype.consumeStringToken=function(r){var t="",a=0;do{var s=this._value[a];if(s===Vl||s===void 0||s===r)return t+=this.consumeStringSlice(a),{type:0,value:t};if(s===j0)return this._value.splice(0,a),Jz;if(s===em){var i=this._value[a+1];i!==Vl&&i!==void 0&&(i===j0?(t+=this.consumeStringSlice(a),a=-1,this._value.shift()):JA(s,i)&&(t+=this.consumeStringSlice(a),t+=Gn(this.consumeEscapedCodePoint()),a=-1))}a++}while(!0)},e.prototype.consumeNumber=function(){var r=[],t=Hm,a=this.peekCodePoint(0);for((a===nu||a===$i)&&r.push(this.consumeCodePoint());ci(this.peekCodePoint(0));)r.push(this.consumeCodePoint());a=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(a===wm&&ci(s))for(r.push(this.consumeCodePoint(),this.consumeCodePoint()),t=uC;ci(this.peekCodePoint(0));)r.push(this.consumeCodePoint());a=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((a===F3||a===_3)&&((s===nu||s===$i)&&ci(i)||ci(s)))for(r.push(this.consumeCodePoint(),this.consumeCodePoint()),t=uC;ci(this.peekCodePoint(0));)r.push(this.consumeCodePoint());return[Tz(r),t]},e.prototype.consumeNumericToken=function(){var r=this.consumeNumber(),t=r[0],a=r[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(lg(s,i,o)){var l=this.consumeName();return{type:15,number:t,flags:a,unit:l}}return s===oz?(this.consumeCodePoint(),{type:16,number:t,flags:a}):{type:17,number:t,flags:a}},e.prototype.consumeEscapedCodePoint=function(){var r=this.consumeCodePoint();if(ff(r)){for(var t=Gn(r);ff(this.peekCodePoint(0))&&t.length<6;)t+=Gn(this.consumeCodePoint());og(this.peekCodePoint(0))&&this.consumeCodePoint();var a=parseInt(t,16);return a===0||Lz(a)||a>1114111?mC:a}return r===Vl?mC:r},e.prototype.consumeName=function(){for(var r="";;){var t=this.consumeCodePoint();if(pC(t))r+=Gn(t);else if(JA(t,this.peekCodePoint(0)))r+=Gn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),r}},e})(),U3=(function(){function e(r){this._tokens=r}return e.create=function(r){var t=new D3;return t.write(r),new e(t.read())},e.parseValue=function(r){return e.create(r).parseComponentValue()},e.parseValues=function(r){return e.create(r).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var r=this.consumeToken();r.type===31;)r=this.consumeToken();if(r.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(r);var t=this.consumeComponentValue();do r=this.consumeToken();while(r.type===31);if(r.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var r=[];;){var t=this.consumeComponentValue();if(t.type===32)return r;r.push(t),r.push()}},e.prototype.consumeComponentValue=function(){var r=this.consumeToken();switch(r.type){case 11:case 28:case 2:return this.consumeSimpleBlock(r.type);case 19:return this.consumeFunction(r)}return r},e.prototype.consumeSimpleBlock=function(r){for(var t={type:r,values:[]},a=this.consumeToken();;){if(a.type===32||oq(a,r))return t;this.reconsumeToken(a),t.values.push(this.consumeComponentValue()),a=this.consumeToken()}},e.prototype.consumeFunction=function(r){for(var t={name:r.value,values:[],type:18};;){var a=this.consumeToken();if(a.type===32||a.type===3)return t;this.reconsumeToken(a),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var r=this._tokens.shift();return typeof r>"u"?a1:r},e.prototype.reconsumeToken=function(r){this._tokens.unshift(r)},e})(),$m=function(e){return e.type===15},ah=function(e){return e.type===17},Wa=function(e){return e.type===20},iq=function(e){return e.type===0},n1=function(e,r){return Wa(e)&&e.value===r},L3=function(e){return e.type!==31},Kf=function(e){return e.type!==31&&e.type!==4},gc=function(e){var r=[],t=[];return e.forEach(function(a){if(a.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");r.push(t),t=[];return}a.type!==31&&t.push(a)}),t.length&&r.push(t),r},oq=function(e,r){return r===11&&e.type===12||r===28&&e.type===29?!0:r===2&&e.type===3},gd=function(e){return e.type===17||e.type===15},ds=function(e){return e.type===16||gd(e)},I3=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Ks={type:17,number:0,flags:Hm},Cb={type:16,number:50,flags:Hm},nd={type:16,number:100,flags:Hm},qh=function(e,r,t){var a=e[0],s=e[1];return[nn(a,r),nn(typeof s<"u"?s:a,t)]},nn=function(e,r){if(e.type===16)return e.number/100*r;if($m(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},P3="deg",Q3="grad",R3="rad",M3="turn",_x={name:"angle",parse:function(e,r){if(r.type===15)switch(r.unit){case P3:return Math.PI*r.number/180;case Q3:return Math.PI/200*r.number;case R3:return r.number;case M3:return Math.PI*2*r.number}throw new Error("Unsupported angle type")}},T3=function(e){return e.type===15&&(e.unit===P3||e.unit===Q3||e.unit===R3||e.unit===M3)},O3=function(e){var r=e.filter(Wa).map(function(t){return t.value}).join(" ");switch(r){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ks,Ks];case"to top":case"bottom":return Oo(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ks,nd];case"to right":case"left":return Oo(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[nd,nd];case"to bottom":case"top":return Oo(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[nd,Ks];case"to left":case"right":return Oo(270)}return 0},Oo=function(e){return Math.PI*e/180},cd={name:"color",parse:function(e,r){if(r.type===18){var t=lq[r.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+r.name+'"');return t(e,r.values)}if(r.type===5){if(r.value.length===3){var a=r.value.substring(0,1),s=r.value.substring(1,2),i=r.value.substring(2,3);return sd(parseInt(a+a,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(r.value.length===4){var a=r.value.substring(0,1),s=r.value.substring(1,2),i=r.value.substring(2,3),o=r.value.substring(3,4);return sd(parseInt(a+a,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(r.value.length===6){var a=r.value.substring(0,2),s=r.value.substring(2,4),i=r.value.substring(4,6);return sd(parseInt(a,16),parseInt(s,16),parseInt(i,16),1)}if(r.value.length===8){var a=r.value.substring(0,2),s=r.value.substring(2,4),i=r.value.substring(4,6),o=r.value.substring(6,8);return sd(parseInt(a,16),parseInt(s,16),parseInt(i,16),parseInt(o,16)/255)}}if(r.type===20){var l=lA[r.value.toUpperCase()];if(typeof l<"u")return l}return lA.TRANSPARENT}},Ad=function(e){return(255&e)===0},Us=function(e){var r=255&e,t=255&e>>8,a=255&e>>16,s=255&e>>24;return r<255?"rgba("+s+","+a+","+t+","+r/255+")":"rgb("+s+","+a+","+t+")"},sd=function(e,r,t,a){return(e<<24|r<<16|t<<8|Math.round(a*255)<<0)>>>0},gC=function(e,r){if(e.type===17)return e.number;if(e.type===16){var t=r===3?1:255;return r===3?e.number/100*t:Math.round(e.number/100*t)}return 0},xC=function(e,r){var t=r.filter(Kf);if(t.length===3){var a=t.map(gC),s=a[0],i=a[1],o=a[2];return sd(s,i,o,1)}if(t.length===4){var l=t.map(gC),s=l[0],i=l[1],o=l[2],A=l[3];return sd(s,i,o,A)}return 0};function Lw(e,r,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(r-e)*t*6+e:t<1/2?r:t<2/3?(r-e)*6*(2/3-t)+e:e}var vC=function(e,r){var t=r.filter(Kf),a=t[0],s=t[1],i=t[2],o=t[3],l=(a.type===17?Oo(a.number):_x.parse(e,a))/(Math.PI*2),A=ds(s)?s.number/100:0,d=ds(i)?i.number/100:0,f=typeof o<"u"&&ds(o)?nn(o,1):1;if(A===0)return sd(d*255,d*255,d*255,1);var h=d<=.5?d*(A+1):d+A-d*A,m=d*2-h,p=Lw(m,h,l+1/3),v=Lw(m,h,l),g=Lw(m,h,l-1/3);return sd(p*255,v*255,g*255,f)},lq={hsl:vC,hsla:vC,rgb:xC,rgba:xC},tm=function(e,r){return cd.parse(e,U3.create(r).parseComponentValue())},lA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},cq={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,r){return r.map(function(t){if(Wa(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Aq={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ex=function(e,r){var t=cd.parse(e,r[0]),a=r[1];return a&&ds(a)?{color:t,stop:a}:{color:t,stop:null}},wC=function(e,r){var t=e[0],a=e[e.length-1];t.stop===null&&(t.stop=Ks),a.stop===null&&(a.stop=nd);for(var s=[],i=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var A=nn(l,r);A>i?s.push(A):s.push(i),i=A}else s.push(null)}for(var d=null,o=0;o<s.length;o++){var f=s[o];if(f===null)d===null&&(d=o);else if(d!==null){for(var h=o-d,m=s[d-1],p=(f-m)/(h+1),v=1;v<=h;v++)s[d+v-1]=p*v;d=null}}return e.map(function(g,w){var y=g.color;return{color:y,stop:Math.max(Math.min(1,s[w]/r),0)}})},dq=function(e,r,t){var a=r/2,s=t/2,i=nn(e[0],r)-a,o=s-nn(e[1],t);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},uq=function(e,r,t){var a=typeof e=="number"?e:dq(e,r,t),s=Math.abs(r*Math.sin(a))+Math.abs(t*Math.cos(a)),i=r/2,o=t/2,l=s/2,A=Math.sin(a-Math.PI/2)*l,d=Math.cos(a-Math.PI/2)*l;return[s,i-d,i+d,o-A,o+A]},ml=function(e,r){return Math.sqrt(e*e+r*r)},yC=function(e,r,t,a,s){var i=[[0,0],[0,r],[e,0],[e,r]];return i.reduce(function(o,l){var A=l[0],d=l[1],f=ml(t-A,a-d);return(s?f<o.optimumDistance:f>o.optimumDistance)?{optimumCorner:l,optimumDistance:f}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},fq=function(e,r,t,a,s){var i=0,o=0;switch(e.size){case 0:e.shape===0?i=o=Math.min(Math.abs(r),Math.abs(r-a),Math.abs(t),Math.abs(t-s)):e.shape===1&&(i=Math.min(Math.abs(r),Math.abs(r-a)),o=Math.min(Math.abs(t),Math.abs(t-s)));break;case 2:if(e.shape===0)i=o=Math.min(ml(r,t),ml(r,t-s),ml(r-a,t),ml(r-a,t-s));else if(e.shape===1){var l=Math.min(Math.abs(t),Math.abs(t-s))/Math.min(Math.abs(r),Math.abs(r-a)),A=yC(a,s,r,t,!0),d=A[0],f=A[1];i=ml(d-r,(f-t)/l),o=l*i}break;case 1:e.shape===0?i=o=Math.max(Math.abs(r),Math.abs(r-a),Math.abs(t),Math.abs(t-s)):e.shape===1&&(i=Math.max(Math.abs(r),Math.abs(r-a)),o=Math.max(Math.abs(t),Math.abs(t-s)));break;case 3:if(e.shape===0)i=o=Math.max(ml(r,t),ml(r,t-s),ml(r-a,t),ml(r-a,t-s));else if(e.shape===1){var l=Math.max(Math.abs(t),Math.abs(t-s))/Math.max(Math.abs(r),Math.abs(r-a)),h=yC(a,s,r,t,!1),d=h[0],f=h[1];i=ml(d-r,(f-t)/l),o=l*i}break}return Array.isArray(e.size)&&(i=nn(e.size[0],a),o=e.size.length===2?nn(e.size[1],s):i),[i,o]},hq=function(e,r){var t=Oo(180),a=[];return gc(r).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&o.value==="to"){t=O3(s);return}else if(T3(o)){t=_x.parse(e,o);return}}var l=Ex(e,s);a.push(l)}),{angle:t,stops:a,type:1}},Ag=function(e,r){var t=Oo(180),a=[];return gc(r).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){t=O3(s);return}else if(T3(o)){t=(_x.parse(e,o)+Oo(270))%Oo(360);return}}var l=Ex(e,s);a.push(l)}),{angle:t,stops:a,type:1}},mq=function(e,r){var t=Oo(180),a=[],s=1,i=0,o=3,l=[];return gc(r).forEach(function(A,d){var f=A[0];if(d===0){if(Wa(f)&&f.value==="linear"){s=1;return}else if(Wa(f)&&f.value==="radial"){s=2;return}}if(f.type===18){if(f.name==="from"){var h=cd.parse(e,f.values[0]);a.push({stop:Ks,color:h})}else if(f.name==="to"){var h=cd.parse(e,f.values[0]);a.push({stop:nd,color:h})}else if(f.name==="color-stop"){var m=f.values.filter(Kf);if(m.length===2){var h=cd.parse(e,m[1]),p=m[0];ah(p)&&a.push({stop:{type:16,number:p.number*100,flags:p.flags},color:h})}}}}),s===1?{angle:(t+Oo(180))%Oo(360),stops:a,type:s}:{size:o,shape:i,stops:a,position:l,type:s}},H3="closest-side",$3="farthest-side",K3="closest-corner",V3="farthest-corner",z3="circle",q3="ellipse",W3="cover",G3="contain",pq=function(e,r){var t=0,a=3,s=[],i=[];return gc(r).forEach(function(o,l){var A=!0;if(l===0){var d=!1;A=o.reduce(function(h,m){if(d)if(Wa(m))switch(m.value){case"center":return i.push(Cb),h;case"top":case"left":return i.push(Ks),h;case"right":case"bottom":return i.push(nd),h}else(ds(m)||gd(m))&&i.push(m);else if(Wa(m))switch(m.value){case z3:return t=0,!1;case q3:return t=1,!1;case"at":return d=!0,!1;case H3:return a=0,!1;case W3:case $3:return a=1,!1;case G3:case K3:return a=2,!1;case V3:return a=3,!1}else if(gd(m)||ds(m))return Array.isArray(a)||(a=[]),a.push(m),!1;return h},A)}if(A){var f=Ex(e,o);s.push(f)}}),{size:a,shape:t,stops:s,position:i,type:2}},dg=function(e,r){var t=0,a=3,s=[],i=[];return gc(r).forEach(function(o,l){var A=!0;if(l===0?A=o.reduce(function(f,h){if(Wa(h))switch(h.value){case"center":return i.push(Cb),!1;case"top":case"left":return i.push(Ks),!1;case"right":case"bottom":return i.push(nd),!1}else if(ds(h)||gd(h))return i.push(h),!1;return f},A):l===1&&(A=o.reduce(function(f,h){if(Wa(h))switch(h.value){case z3:return t=0,!1;case q3:return t=1,!1;case G3:case H3:return a=0,!1;case $3:return a=1,!1;case K3:return a=2,!1;case W3:case V3:return a=3,!1}else if(gd(h)||ds(h))return Array.isArray(a)||(a=[]),a.push(h),!1;return f},A)),A){var d=Ex(e,o);s.push(d)}}),{size:a,shape:t,stops:s,position:i,type:2}},gq=function(e){return e.type===1},xq=function(e){return e.type===2},Sb={name:"image",parse:function(e,r){if(r.type===22){var t={url:r.value,type:0};return e.cache.addImage(r.value),t}if(r.type===18){var a=Y3[r.name];if(typeof a>"u")throw new Error('Attempting to parse an unsupported image function "'+r.name+'"');return a(e,r.values)}throw new Error("Unsupported image type "+r.type)}};function vq(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!Y3[e.name])}var Y3={"linear-gradient":hq,"-moz-linear-gradient":Ag,"-ms-linear-gradient":Ag,"-o-linear-gradient":Ag,"-webkit-linear-gradient":Ag,"radial-gradient":pq,"-moz-radial-gradient":dg,"-ms-radial-gradient":dg,"-o-radial-gradient":dg,"-webkit-radial-gradient":dg,"-webkit-gradient":mq},wq={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,r){if(r.length===0)return[];var t=r[0];return t.type===20&&t.value==="none"?[]:r.filter(function(a){return Kf(a)&&vq(a)}).map(function(a){return Sb.parse(e,a)})}},yq={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,r){return r.map(function(t){if(Wa(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},bq={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,r){return gc(r).map(function(t){return t.filter(ds)}).map(I3)}},jq={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,r){return gc(r).map(function(t){return t.filter(Wa).map(function(a){return a.value}).join(" ")}).map(Nq)}},Nq=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},If;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(If||(If={}));var Bq={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,r){return gc(r).map(function(t){return t.filter(Cq)})}},Cq=function(e){return Wa(e)||ds(e)},Fx=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Sq=Fx("top"),_q=Fx("right"),Eq=Fx("bottom"),Fq=Fx("left"),kx=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(r,t){return I3(t.filter(ds))}}},kq=kx("top-left"),Dq=kx("top-right"),Uq=kx("bottom-right"),Lq=kx("bottom-left"),Dx=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(r,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Iq=Dx("top"),Pq=Dx("right"),Qq=Dx("bottom"),Rq=Dx("left"),Ux=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(r,t){return $m(t)?t.number:0}}},Mq=Ux("top"),Tq=Ux("right"),Oq=Ux("bottom"),Hq=Ux("left"),$q={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Kq={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,r){switch(r){case"rtl":return 1;case"ltr":default:return 0}}},Vq={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,r){return r.filter(Wa).reduce(function(t,a){return t|zq(a.value)},0)}},zq=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},qq={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,r){switch(r){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Wq={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,r){return r.type===20&&r.value==="normal"?0:r.type===17||r.type===15?r.number:0}},B0;(function(e){e.NORMAL="normal",e.STRICT="strict"})(B0||(B0={}));var Gq={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,r){switch(r){case"strict":return B0.STRICT;case"normal":default:return B0.NORMAL}}},Yq={name:"line-height",initialValue:"normal",prefix:!1,type:4},bC=function(e,r){return Wa(e)&&e.value==="normal"?1.2*r:e.type===17?r*e.number:ds(e)?nn(e,r):r},Xq={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,r){return r.type===20&&r.value==="none"?null:Sb.parse(e,r)}},Jq={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,r){switch(r){case"inside":return 0;case"outside":default:return 1}}},s1={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,r){switch(r){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Lx=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Zq=Lx("top"),eW=Lx("right"),tW=Lx("bottom"),rW=Lx("left"),aW={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,r){return r.filter(Wa).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},nW={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,r){switch(r){case"break-word":return"break-word";case"normal":default:return"normal"}}},Ix=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},sW=Ix("top"),iW=Ix("right"),oW=Ix("bottom"),lW=Ix("left"),cW={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,r){switch(r){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},AW={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,r){switch(r){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},dW={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,r){return r.length===1&&n1(r[0],"none")?[]:gc(r).map(function(t){for(var a={color:lA.TRANSPARENT,offsetX:Ks,offsetY:Ks,blur:Ks},s=0,i=0;i<t.length;i++){var o=t[i];gd(o)?(s===0?a.offsetX=o:s===1?a.offsetY=o:a.blur=o,s++):a.color=cd.parse(e,o)}return a})}},uW={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,r){switch(r){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},fW={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,r){if(r.type===20&&r.value==="none")return null;if(r.type===18){var t=pW[r.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+r.name+'"');return t(r.values)}return null}},hW=function(e){var r=e.filter(function(t){return t.type===17}).map(function(t){return t.number});return r.length===6?r:null},mW=function(e){var r=e.filter(function(A){return A.type===17}).map(function(A){return A.number}),t=r[0],a=r[1];r[2],r[3];var s=r[4],i=r[5];r[6],r[7],r[8],r[9],r[10],r[11];var o=r[12],l=r[13];return r[14],r[15],r.length===16?[t,a,s,i,o,l]:null},pW={matrix:hW,matrix3d:mW},jC={type:16,number:50,flags:Hm},gW=[jC,jC],xW={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,r){var t=r.filter(ds);return t.length!==2?gW:[t[0],t[1]]}},vW={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,r){switch(r){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},rm;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(rm||(rm={}));var wW={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,r){switch(r){case"break-all":return rm.BREAK_ALL;case"keep-all":return rm.KEEP_ALL;case"normal":default:return rm.NORMAL}}},yW={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,r){if(r.type===20)return{auto:!0,order:0};if(ah(r))return{auto:!1,order:r.number};throw new Error("Invalid z-index number parsed")}},X3={name:"time",parse:function(e,r){if(r.type===15)switch(r.unit.toLowerCase()){case"s":return 1e3*r.number;case"ms":return r.number}throw new Error("Unsupported time type")}},bW={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,r){return ah(r)?r.number:1}},jW={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},NW={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,r){return r.filter(Wa).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},BW={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,r){var t=[],a=[];return r.forEach(function(s){switch(s.type){case 20:case 0:t.push(s.value);break;case 17:t.push(s.number.toString());break;case 4:a.push(t.join(" ")),t.length=0;break}}),t.length&&a.push(t.join(" ")),a.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},CW={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},SW={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,r){if(ah(r))return r.number;if(Wa(r))switch(r.value){case"bold":return 700;case"normal":default:return 400}return 400}},_W={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,r){return r.filter(Wa).map(function(t){return t.value})}},EW={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,r){switch(r){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},bs=function(e,r){return(e&r)!==0},FW={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,r){if(r.length===0)return[];var t=r[0];return t.type===20&&t.value==="none"?[]:r}},kW={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,r){if(r.length===0)return null;var t=r[0];if(t.type===20&&t.value==="none")return null;for(var a=[],s=r.filter(L3),i=0;i<s.length;i++){var o=s[i],l=s[i+1];if(o.type===20){var A=l&&ah(l)?l.number:1;a.push({counter:o.value,increment:A})}}return a}},DW={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,r){if(r.length===0)return[];for(var t=[],a=r.filter(L3),s=0;s<a.length;s++){var i=a[s],o=a[s+1];if(Wa(i)&&i.value!=="none"){var l=o&&ah(o)?o.number:0;t.push({counter:i.value,reset:l})}}return t}},UW={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,r){return r.filter($m).map(function(t){return X3.parse(e,t)})}},LW={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,r){if(r.length===0)return null;var t=r[0];if(t.type===20&&t.value==="none")return null;var a=[],s=r.filter(iq);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var o=s[i].value,l=s[i+1].value;a.push({open:o,close:l})}return a}},NC=function(e,r,t){if(!e)return"";var a=e[Math.min(r,e.length-1)];return a?t?a.open:a.close:""},IW={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,r){return r.length===1&&n1(r[0],"none")?[]:gc(r).map(function(t){for(var a={color:255,offsetX:Ks,offsetY:Ks,blur:Ks,spread:Ks,inset:!1},s=0,i=0;i<t.length;i++){var o=t[i];n1(o,"inset")?a.inset=!0:gd(o)?(s===0?a.offsetX=o:s===1?a.offsetY=o:s===2?a.blur=o:a.spread=o,s++):a.color=cd.parse(e,o)}return a})}},PW={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,r){var t=[0,1,2],a=[];return r.filter(Wa).forEach(function(s){switch(s.value){case"stroke":a.push(1);break;case"fill":a.push(0);break;case"markers":a.push(2);break}}),t.forEach(function(s){a.indexOf(s)===-1&&a.push(s)}),a}},QW={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},RW={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return $m(r)?r.number:0}},MW=(function(){function e(r,t){var a,s;this.animationDuration=Ot(r,UW,t.animationDuration),this.backgroundClip=Ot(r,cq,t.backgroundClip),this.backgroundColor=Ot(r,Aq,t.backgroundColor),this.backgroundImage=Ot(r,wq,t.backgroundImage),this.backgroundOrigin=Ot(r,yq,t.backgroundOrigin),this.backgroundPosition=Ot(r,bq,t.backgroundPosition),this.backgroundRepeat=Ot(r,jq,t.backgroundRepeat),this.backgroundSize=Ot(r,Bq,t.backgroundSize),this.borderTopColor=Ot(r,Sq,t.borderTopColor),this.borderRightColor=Ot(r,_q,t.borderRightColor),this.borderBottomColor=Ot(r,Eq,t.borderBottomColor),this.borderLeftColor=Ot(r,Fq,t.borderLeftColor),this.borderTopLeftRadius=Ot(r,kq,t.borderTopLeftRadius),this.borderTopRightRadius=Ot(r,Dq,t.borderTopRightRadius),this.borderBottomRightRadius=Ot(r,Uq,t.borderBottomRightRadius),this.borderBottomLeftRadius=Ot(r,Lq,t.borderBottomLeftRadius),this.borderTopStyle=Ot(r,Iq,t.borderTopStyle),this.borderRightStyle=Ot(r,Pq,t.borderRightStyle),this.borderBottomStyle=Ot(r,Qq,t.borderBottomStyle),this.borderLeftStyle=Ot(r,Rq,t.borderLeftStyle),this.borderTopWidth=Ot(r,Mq,t.borderTopWidth),this.borderRightWidth=Ot(r,Tq,t.borderRightWidth),this.borderBottomWidth=Ot(r,Oq,t.borderBottomWidth),this.borderLeftWidth=Ot(r,Hq,t.borderLeftWidth),this.boxShadow=Ot(r,IW,t.boxShadow),this.color=Ot(r,$q,t.color),this.direction=Ot(r,Kq,t.direction),this.display=Ot(r,Vq,t.display),this.float=Ot(r,qq,t.cssFloat),this.fontFamily=Ot(r,BW,t.fontFamily),this.fontSize=Ot(r,CW,t.fontSize),this.fontStyle=Ot(r,EW,t.fontStyle),this.fontVariant=Ot(r,_W,t.fontVariant),this.fontWeight=Ot(r,SW,t.fontWeight),this.letterSpacing=Ot(r,Wq,t.letterSpacing),this.lineBreak=Ot(r,Gq,t.lineBreak),this.lineHeight=Ot(r,Yq,t.lineHeight),this.listStyleImage=Ot(r,Xq,t.listStyleImage),this.listStylePosition=Ot(r,Jq,t.listStylePosition),this.listStyleType=Ot(r,s1,t.listStyleType),this.marginTop=Ot(r,Zq,t.marginTop),this.marginRight=Ot(r,eW,t.marginRight),this.marginBottom=Ot(r,tW,t.marginBottom),this.marginLeft=Ot(r,rW,t.marginLeft),this.opacity=Ot(r,bW,t.opacity);var i=Ot(r,aW,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Ot(r,nW,t.overflowWrap),this.paddingTop=Ot(r,sW,t.paddingTop),this.paddingRight=Ot(r,iW,t.paddingRight),this.paddingBottom=Ot(r,oW,t.paddingBottom),this.paddingLeft=Ot(r,lW,t.paddingLeft),this.paintOrder=Ot(r,PW,t.paintOrder),this.position=Ot(r,AW,t.position),this.textAlign=Ot(r,cW,t.textAlign),this.textDecorationColor=Ot(r,jW,(a=t.textDecorationColor)!==null&&a!==void 0?a:t.color),this.textDecorationLine=Ot(r,NW,(s=t.textDecorationLine)!==null&&s!==void 0?s:t.textDecoration),this.textShadow=Ot(r,dW,t.textShadow),this.textTransform=Ot(r,uW,t.textTransform),this.transform=Ot(r,fW,t.transform),this.transformOrigin=Ot(r,xW,t.transformOrigin),this.visibility=Ot(r,vW,t.visibility),this.webkitTextStrokeColor=Ot(r,QW,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ot(r,RW,t.webkitTextStrokeWidth),this.wordBreak=Ot(r,wW,t.wordBreak),this.zIndex=Ot(r,yW,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Ad(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return bs(this.display,4)||bs(this.display,33554432)||bs(this.display,268435456)||bs(this.display,536870912)||bs(this.display,67108864)||bs(this.display,134217728)},e})(),TW=(function(){function e(r,t){this.content=Ot(r,FW,t.content),this.quotes=Ot(r,LW,t.quotes)}return e})(),BC=(function(){function e(r,t){this.counterIncrement=Ot(r,kW,t.counterIncrement),this.counterReset=Ot(r,DW,t.counterReset)}return e})(),Ot=function(e,r,t){var a=new D3,s=t!==null&&typeof t<"u"?t.toString():r.initialValue;a.write(s);var i=new U3(a.read());switch(r.type){case 2:var o=i.parseComponentValue();return r.parse(e,Wa(o)?o.value:r.initialValue);case 0:return r.parse(e,i.parseComponentValue());case 1:return r.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(r.format){case"angle":return _x.parse(e,i.parseComponentValue());case"color":return cd.parse(e,i.parseComponentValue());case"image":return Sb.parse(e,i.parseComponentValue());case"length":var l=i.parseComponentValue();return gd(l)?l:Ks;case"length-percentage":var A=i.parseComponentValue();return ds(A)?A:Ks;case"time":return X3.parse(e,i.parseComponentValue())}break}},OW="data-html2canvas-debug",HW=function(e){var r=e.getAttribute(OW);switch(r){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},i1=function(e,r){var t=HW(e);return t===1||r===t},xc=(function(){function e(r,t){if(this.context=r,this.textNodes=[],this.elements=[],this.flags=0,i1(t,3))debugger;this.styles=new MW(r,window.getComputedStyle(t,null)),c1(t)&&(this.styles.animationDuration.some(function(a){return a>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=Cx(this.context,t),i1(t,4)&&(this.flags|=16)}return e})(),$W="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",CC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ug=0;ug<CC.length;ug++)Wh[CC.charCodeAt(ug)]=ug;var KW=function(e){var r=e.length*.75,t=e.length,a,s=0,i,o,l,A;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(r):new Array(r),f=Array.isArray(d)?d:new Uint8Array(d);for(a=0;a<t;a+=4)i=Wh[e.charCodeAt(a)],o=Wh[e.charCodeAt(a+1)],l=Wh[e.charCodeAt(a+2)],A=Wh[e.charCodeAt(a+3)],f[s++]=i<<2|o>>4,f[s++]=(o&15)<<4|l>>2,f[s++]=(l&3)<<6|A&63;return d},VW=function(e){for(var r=e.length,t=[],a=0;a<r;a+=2)t.push(e[a+1]<<8|e[a]);return t},zW=function(e){for(var r=e.length,t=[],a=0;a<r;a+=4)t.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return t},du=5,_b=11,Iw=2,qW=_b-du,J3=65536>>du,WW=1<<du,Pw=WW-1,GW=1024>>du,YW=J3+GW,XW=YW,JW=32,ZW=XW+JW,eG=65536>>_b,tG=1<<qW,rG=tG-1,SC=function(e,r,t){return e.slice?e.slice(r,t):new Uint16Array(Array.prototype.slice.call(e,r,t))},aG=function(e,r,t){return e.slice?e.slice(r,t):new Uint32Array(Array.prototype.slice.call(e,r,t))},nG=function(e,r){var t=KW(e),a=Array.isArray(t)?zW(t):new Uint32Array(t),s=Array.isArray(t)?VW(t):new Uint16Array(t),i=24,o=SC(s,i/2,a[4]/2),l=a[5]===2?SC(s,(i+a[4])/2):aG(a,Math.ceil((i+a[4])/4));return new sG(a[0],a[1],a[2],a[3],o,l)},sG=(function(){function e(r,t,a,s,i,o){this.initialValue=r,this.errorValue=t,this.highStart=a,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(r){var t;if(r>=0){if(r<55296||r>56319&&r<=65535)return t=this.index[r>>du],t=(t<<Iw)+(r&Pw),this.data[t];if(r<=65535)return t=this.index[J3+(r-55296>>du)],t=(t<<Iw)+(r&Pw),this.data[t];if(r<this.highStart)return t=ZW-eG+(r>>_b),t=this.index[t],t+=r>>du&rG,t=this.index[t],t=(t<<Iw)+(r&Pw),this.data[t];if(r<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),_C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iG=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var fg=0;fg<_C.length;fg++)iG[_C.charCodeAt(fg)]=fg;var oG=1,Qw=2,Rw=3,EC=4,FC=5,lG=7,kC=8,Mw=9,Tw=10,DC=11,UC=12,LC=13,IC=14,Ow=15,cG=function(e){for(var r=[],t=0,a=e.length;t<a;){var s=e.charCodeAt(t++);if(s>=55296&&s<=56319&&t<a){var i=e.charCodeAt(t++);(i&64512)===56320?r.push(((s&1023)<<10)+(i&1023)+65536):(r.push(s),t--)}else r.push(s)}return r},AG=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var a=[],s=-1,i="";++s<t;){var o=e[s];o<=65535?a.push(o):(o-=65536,a.push((o>>10)+55296,o%1024+56320)),(s+1===t||a.length>16384)&&(i+=String.fromCharCode.apply(String,a),a.length=0)}return i},dG=nG($W),Ro="",Hw="",uG=function(e){return dG.get(e)},fG=function(e,r,t){var a=t-2,s=r[a],i=r[t-1],o=r[t];if(i===Qw&&o===Rw)return Ro;if(i===Qw||i===Rw||i===EC||o===Qw||o===Rw||o===EC)return Hw;if(i===kC&&[kC,Mw,DC,UC].indexOf(o)!==-1||(i===DC||i===Mw)&&(o===Mw||o===Tw)||(i===UC||i===Tw)&&o===Tw||o===LC||o===FC||o===lG||i===oG)return Ro;if(i===LC&&o===IC){for(;s===FC;)s=r[--a];if(s===IC)return Ro}if(i===Ow&&o===Ow){for(var l=0;s===Ow;)l++,s=r[--a];if(l%2===0)return Ro}return Hw},hG=function(e){var r=cG(e),t=r.length,a=0,s=0,i=r.map(uG);return{next:function(){if(a>=t)return{done:!0,value:null};for(var o=Ro;a<t&&(o=fG(r,i,++a))===Ro;);if(o!==Ro||a===t){var l=AG.apply(null,r.slice(s,a));return s=a,{value:l,done:!1}}return{done:!0,value:null}}}},mG=function(e){for(var r=hG(e),t=[],a;!(a=r.next()).done;)a.value&&t.push(a.value.slice());return t},pG=function(e){var r=123;if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var a=e.createElement("boundtest");a.style.height=r+"px",a.style.display="block",e.body.appendChild(a),t.selectNode(a);var s=t.getBoundingClientRect(),i=Math.round(s.height);if(e.body.removeChild(a),i===r)return!0}}return!1},gG=function(e){var r=e.createElement("boundtest");r.style.width="50px",r.style.display="block",r.style.fontSize="12px",r.style.letterSpacing="0px",r.style.wordSpacing="0px",e.body.appendChild(r);var t=e.createRange();r.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var a=r.firstChild,s=Sx(a.data).map(function(A){return Gn(A)}),i=0,o={},l=s.every(function(A,d){t.setStart(a,i),t.setEnd(a,i+A.length);var f=t.getBoundingClientRect();i+=A.length;var h=f.x>o.x||f.y>o.y;return o=f,d===0?!0:h});return e.body.removeChild(r),l},xG=function(){return typeof new Image().crossOrigin<"u"},vG=function(){return typeof new XMLHttpRequest().responseType=="string"},wG=function(e){var r=new Image,t=e.createElement("canvas"),a=t.getContext("2d");if(!a)return!1;r.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{a.drawImage(r,0,0),t.toDataURL()}catch{return!1}return!0},PC=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},yG=function(e){var r=e.createElement("canvas"),t=100;r.width=t,r.height=t;var a=r.getContext("2d");if(!a)return Promise.reject(!1);a.fillStyle="rgb(0, 255, 0)",a.fillRect(0,0,t,t);var s=new Image,i=r.toDataURL();s.src=i;var o=o1(t,t,0,0,s);return a.fillStyle="red",a.fillRect(0,0,t,t),QC(o).then(function(l){a.drawImage(l,0,0);var A=a.getImageData(0,0,t,t).data;a.fillStyle="red",a.fillRect(0,0,t,t);var d=e.createElement("div");return d.style.backgroundImage="url("+i+")",d.style.height=t+"px",PC(A)?QC(o1(t,t,0,0,d)):Promise.reject(!1)}).then(function(l){return a.drawImage(l,0,0),PC(a.getImageData(0,0,t,t).data)}).catch(function(){return!1})},o1=function(e,r,t,a,s){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",r.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",a.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(s),o},QC=function(e){return new Promise(function(r,t){var a=new Image;a.onload=function(){return r(a)},a.onerror=t,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Hs={get SUPPORT_RANGE_BOUNDS(){var e=pG(document);return Object.defineProperty(Hs,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Hs.SUPPORT_RANGE_BOUNDS&&gG(document);return Object.defineProperty(Hs,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=wG(document);return Object.defineProperty(Hs,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?yG(document):Promise.resolve(!1);return Object.defineProperty(Hs,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=xG();return Object.defineProperty(Hs,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=vG();return Object.defineProperty(Hs,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Hs,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Hs,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},am=(function(){function e(r,t){this.text=r,this.bounds=t}return e})(),bG=function(e,r,t,a){var s=BG(r,t),i=[],o=0;return s.forEach(function(l){if(t.textDecorationLine.length||l.trim().length>0)if(Hs.SUPPORT_RANGE_BOUNDS){var A=RC(a,o,l.length).getClientRects();if(A.length>1){var d=Eb(l),f=0;d.forEach(function(m){i.push(new am(m,hA.fromDOMRectList(e,RC(a,f+o,m.length).getClientRects()))),f+=m.length})}else i.push(new am(l,hA.fromDOMRectList(e,A)))}else{var h=a.splitText(l.length);i.push(new am(l,jG(e,a))),a=h}else Hs.SUPPORT_RANGE_BOUNDS||(a=a.splitText(l.length));o+=l.length}),i},jG=function(e,r){var t=r.ownerDocument;if(t){var a=t.createElement("html2canvaswrapper");a.appendChild(r.cloneNode(!0));var s=r.parentNode;if(s){s.replaceChild(a,r);var i=Cx(e,a);return a.firstChild&&s.replaceChild(a.firstChild,a),i}}return hA.EMPTY},RC=function(e,r,t){var a=e.ownerDocument;if(!a)throw new Error("Node has no owner document");var s=a.createRange();return s.setStart(e,r),s.setEnd(e,r+t),s},Eb=function(e){if(Hs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(r.segment(e)).map(function(t){return t.segment})}return mG(e)},NG=function(e,r){if(Hs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(e)).map(function(a){return a.segment})}return SG(e,r)},BG=function(e,r){return r.letterSpacing!==0?Eb(e):NG(e,r)},CG=[32,160,4961,65792,65793,4153,4241],SG=function(e,r){for(var t=ez(e,{lineBreak:r.lineBreak,wordBreak:r.overflowWrap==="break-word"?"break-word":r.wordBreak}),a=[],s,i=function(){if(s.value){var o=s.value.slice(),l=Sx(o),A="";l.forEach(function(d){CG.indexOf(d)===-1?A+=Gn(d):(A.length&&a.push(A),a.push(Gn(d)),A="")}),A.length&&a.push(A)}};!(s=t.next()).done;)i();return a},_G=(function(){function e(r,t,a){this.text=EG(t.data,a.textTransform),this.textBounds=bG(r,this.text,a,t)}return e})(),EG=function(e,r){switch(r){case 1:return e.toLowerCase();case 3:return e.replace(FG,kG);case 2:return e.toUpperCase();default:return e}},FG=/(^|\s|:|-|\(|\))([a-z])/g,kG=function(e,r,t){return e.length>0?r+t.toUpperCase():e},Z3=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.src=a.currentSrc||a.src,s.intrinsicWidth=a.naturalWidth,s.intrinsicHeight=a.naturalHeight,s.context.cache.addImage(s.src),s}return r})(xc),ek=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.canvas=a,s.intrinsicWidth=a.width,s.intrinsicHeight=a.height,s}return r})(xc),tk=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this,i=new XMLSerializer,o=Cx(t,a);return a.setAttribute("width",o.width+"px"),a.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(a)),s.intrinsicWidth=a.width.baseVal.value,s.intrinsicHeight=a.height.baseVal.value,s.context.cache.addImage(s.svg),s}return r})(xc),rk=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.value=a.value,s}return r})(xc),l1=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.start=a.start,s.reversed=typeof a.reversed=="boolean"&&a.reversed===!0,s}return r})(xc),DG=[{type:15,flags:0,unit:"px",number:3}],UG=[{type:16,flags:0,number:50}],LG=function(e){return e.width>e.height?new hA(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new hA(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},IG=function(e){var r=e.type===PG?new Array(e.value.length+1).join(""):e.value;return r.length===0?e.placeholder||"":r},C0="checkbox",S0="radio",PG="password",MC=707406591,Fb=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this;switch(s.type=a.type.toLowerCase(),s.checked=a.checked,s.value=IG(a),(s.type===C0||s.type===S0)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=LG(s.bounds)),s.type){case C0:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=DG;break;case S0:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=UG;break}return s}return r})(xc),ak=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this,i=a.options[a.selectedIndex||0];return s.value=i&&i.text||"",s}return r})(xc),nk=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.value=a.value,s}return r})(xc),sk=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this;s.src=a.src,s.width=parseInt(a.width,10)||0,s.height=parseInt(a.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(a.contentWindow&&a.contentWindow.document&&a.contentWindow.document.documentElement){s.tree=ok(t,a.contentWindow.document.documentElement);var i=a.contentWindow.document.documentElement?tm(t,getComputedStyle(a.contentWindow.document.documentElement).backgroundColor):lA.TRANSPARENT,o=a.contentWindow.document.body?tm(t,getComputedStyle(a.contentWindow.document.body).backgroundColor):lA.TRANSPARENT;s.backgroundColor=Ad(i)?Ad(o)?s.styles.backgroundColor:o:i}}catch{}return s}return r})(xc),QG=["OL","UL","MENU"],$g=function(e,r,t,a){for(var s=r.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,lk(s)&&s.data.trim().length>0)t.textNodes.push(new _G(e,s,t.styles));else if(jf(s))if(uk(s)&&s.assignedNodes)s.assignedNodes().forEach(function(l){return $g(e,l,t,a)});else{var o=ik(e,s);o.styles.isVisible()&&(RG(s,o,a)?o.flags|=4:MG(o.styles)&&(o.flags|=2),QG.indexOf(s.tagName)!==-1&&(o.flags|=8),t.elements.push(o),s.slot,s.shadowRoot?$g(e,s.shadowRoot,o,a):!_0(s)&&!ck(s)&&!E0(s)&&$g(e,s,o,a))}},ik=function(e,r){return A1(r)?new Z3(e,r):Ak(r)?new ek(e,r):ck(r)?new tk(e,r):TG(r)?new rk(e,r):OG(r)?new l1(e,r):HG(r)?new Fb(e,r):E0(r)?new ak(e,r):_0(r)?new nk(e,r):dk(r)?new sk(e,r):new xc(e,r)},ok=function(e,r){var t=ik(e,r);return t.flags|=4,$g(e,r,t,t),t},RG=function(e,r,t){return r.styles.isPositionedWithZIndex()||r.styles.opacity<1||r.styles.isTransformed()||kb(e)&&t.styles.isTransparent()},MG=function(e){return e.isPositioned()||e.isFloating()},lk=function(e){return e.nodeType===Node.TEXT_NODE},jf=function(e){return e.nodeType===Node.ELEMENT_NODE},c1=function(e){return jf(e)&&typeof e.style<"u"&&!Kg(e)},Kg=function(e){return typeof e.className=="object"},TG=function(e){return e.tagName==="LI"},OG=function(e){return e.tagName==="OL"},HG=function(e){return e.tagName==="INPUT"},$G=function(e){return e.tagName==="HTML"},ck=function(e){return e.tagName==="svg"},kb=function(e){return e.tagName==="BODY"},Ak=function(e){return e.tagName==="CANVAS"},TC=function(e){return e.tagName==="VIDEO"},A1=function(e){return e.tagName==="IMG"},dk=function(e){return e.tagName==="IFRAME"},OC=function(e){return e.tagName==="STYLE"},KG=function(e){return e.tagName==="SCRIPT"},_0=function(e){return e.tagName==="TEXTAREA"},E0=function(e){return e.tagName==="SELECT"},uk=function(e){return e.tagName==="SLOT"},HC=function(e){return e.tagName.indexOf("-")>0},VG=(function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(r){var t=this.counters[r];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(r){var t=this.counters[r];return t||[]},e.prototype.pop=function(r){var t=this;r.forEach(function(a){return t.counters[a].pop()})},e.prototype.parse=function(r){var t=this,a=r.counterIncrement,s=r.counterReset,i=!0;a!==null&&a.forEach(function(l){var A=t.counters[l.counter];A&&l.increment!==0&&(i=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=l.increment)});var o=[];return i&&s.forEach(function(l){var A=t.counters[l.counter];o.push(l.counter),A||(A=t.counters[l.counter]=[]),A.push(l.reset)}),o},e})(),$C={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},KC={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},zG={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qG={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},hf=function(e,r,t,a,s,i){return e<r||e>t?ym(e,s,i.length>0):a.integers.reduce(function(o,l,A){for(;e>=l;)e-=l,o+=a.values[A];return o},"")+i},fk=function(e,r,t,a){var s="";do t||e--,s=a(e)+s,e/=r;while(e*r>=r);return s},Wn=function(e,r,t,a,s){var i=t-r+1;return(e<0?"-":"")+(fk(Math.abs(e),i,a,function(o){return Gn(Math.floor(o%i)+r)})+s)},Wd=function(e,r,t){t===void 0&&(t=". ");var a=r.length;return fk(Math.abs(e),a,!1,function(s){return r[Math.floor(s%a)]})+t},wf=1,YA=2,XA=4,Gh=8,Yc=function(e,r,t,a,s,i){if(e<-9999||e>9999)return ym(e,4,s.length>0);var o=Math.abs(e),l=s;if(o===0)return r[0]+l;for(var A=0;o>0&&A<=4;A++){var d=o%10;d===0&&bs(i,wf)&&l!==""?l=r[d]+l:d>1||d===1&&A===0||d===1&&A===1&&bs(i,YA)||d===1&&A===1&&bs(i,XA)&&e>100||d===1&&A>1&&bs(i,Gh)?l=r[d]+(A>0?t[A-1]:"")+l:d===1&&A>0&&(l=t[A-1]+l),o=Math.floor(o/10)}return(e<0?a:"")+l},VC="",zC="",qC="",$w="",ym=function(e,r,t){var a=t?". ":"",s=t?"":"",i=t?", ":"",o=t?" ":"";switch(r){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=Wn(e,48,57,!0,a);return l.length<4?"0"+l:l;case 4:return Wd(e,"",s);case 6:return hf(e,1,3999,$C,3,a).toLowerCase();case 7:return hf(e,1,3999,$C,3,a);case 8:return Wn(e,945,969,!1,a);case 9:return Wn(e,97,122,!1,a);case 10:return Wn(e,65,90,!1,a);case 11:return Wn(e,1632,1641,!0,a);case 12:case 49:return hf(e,1,9999,KC,3,a);case 35:return hf(e,1,9999,KC,3,a).toLowerCase();case 13:return Wn(e,2534,2543,!0,a);case 14:case 30:return Wn(e,6112,6121,!0,a);case 15:return Wd(e,"",s);case 16:return Wd(e,"",s);case 17:case 48:return Yc(e,"",VC,"",s,YA|XA|Gh);case 47:return Yc(e,"",zC,"",s,wf|YA|XA|Gh);case 42:return Yc(e,"",VC,"",s,YA|XA|Gh);case 41:return Yc(e,"",zC,"",s,wf|YA|XA|Gh);case 26:return Yc(e,"","",qC,s,0);case 25:return Yc(e,"","",qC,s,wf|YA|XA);case 31:return Yc(e,"","",$w,i,wf|YA|XA);case 33:return Yc(e,"","",$w,i,0);case 32:return Yc(e,"","",$w,i,wf|YA|XA);case 18:return Wn(e,2406,2415,!0,a);case 20:return hf(e,1,19999,qG,3,a);case 21:return Wn(e,2790,2799,!0,a);case 22:return Wn(e,2662,2671,!0,a);case 22:return hf(e,1,10999,zG,3,a);case 23:return Wd(e,"");case 24:return Wd(e,"");case 27:return Wn(e,3302,3311,!0,a);case 28:return Wd(e,"",s);case 29:return Wd(e,"",s);case 34:return Wn(e,3792,3801,!0,a);case 37:return Wn(e,6160,6169,!0,a);case 38:return Wn(e,4160,4169,!0,a);case 39:return Wn(e,2918,2927,!0,a);case 40:return Wn(e,1776,1785,!0,a);case 43:return Wn(e,3046,3055,!0,a);case 44:return Wn(e,3174,3183,!0,a);case 45:return Wn(e,3664,3673,!0,a);case 46:return Wn(e,3872,3881,!0,a);case 3:default:return Wn(e,48,57,!0,a)}},hk="data-html2canvas-ignore",WC=(function(){function e(r,t,a){if(this.context=r,this.options=a,this.scrolledElements=[],this.referenceElement=t,this.counters=new VG,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(r,t){var a=this,s=WG(r,t);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=r.defaultView.pageXOffset,o=r.defaultView.pageYOffset,l=s.contentWindow,A=l.document,d=XG(s).then(function(){return bi(a,void 0,void 0,function(){var f,h;return oi(this,function(m){switch(m.label){case 0:return this.scrolledElements.forEach(tY),l&&(l.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==t.top||l.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),f=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:m.sent(),m.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,YG(A)]:[3,4];case 3:m.sent(),m.label=4;case 4:return typeof f=="function"?[2,Promise.resolve().then(function(){return f(A,h)}).then(function(){return s})]:[2,s]}})})});return A.open(),A.write(ZG(document.doctype)+"<html></html>"),eY(this.referenceElement.ownerDocument,i,o),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),d},e.prototype.createElementClone=function(r){if(i1(r,2))debugger;if(Ak(r))return this.createCanvasClone(r);if(TC(r))return this.createVideoClone(r);if(OC(r))return this.createStyleClone(r);var t=r.cloneNode(!1);return A1(t)&&(A1(r)&&r.currentSrc&&r.currentSrc!==r.src&&(t.src=r.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),HC(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(r){var t=document.createElement("html2canvascustomelement");return Kw(r.style,t),t},e.prototype.createStyleClone=function(r){try{var t=r.sheet;if(t&&t.cssRules){var a=[].slice.call(t.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),s=r.cloneNode(!1);return s.textContent=a,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return r.cloneNode(!1)},e.prototype.createCanvasClone=function(r){var t;if(this.options.inlineImages&&r.ownerDocument){var a=r.ownerDocument.createElement("img");try{return a.src=r.toDataURL(),a}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",r)}}var s=r.cloneNode(!1);try{s.width=r.width,s.height=r.height;var i=r.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,r.width,r.height),0,0);else{var l=(t=r.getContext("webgl2"))!==null&&t!==void 0?t:r.getContext("webgl");if(l){var A=l.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",r)}o.drawImage(r,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",r)}return s},e.prototype.createVideoClone=function(r){var t=r.ownerDocument.createElement("canvas");t.width=r.offsetWidth,t.height=r.offsetHeight;var a=t.getContext("2d");try{return a&&(a.drawImage(r,0,0,t.width,t.height),this.options.allowTaint||a.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",r)}var s=r.ownerDocument.createElement("canvas");return s.width=r.offsetWidth,s.height=r.offsetHeight,s},e.prototype.appendChildNode=function(r,t,a){(!jf(t)||!KG(t)&&!t.hasAttribute(hk)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!jf(t)||!OC(t))&&r.appendChild(this.cloneNode(t,a))},e.prototype.cloneChildNodes=function(r,t,a){for(var s=this,i=r.shadowRoot?r.shadowRoot.firstChild:r.firstChild;i;i=i.nextSibling)if(jf(i)&&uk(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return s.appendChildNode(t,l,a)})}else this.appendChildNode(t,i,a)},e.prototype.cloneNode=function(r,t){if(lk(r))return document.createTextNode(r.data);if(!r.ownerDocument)return r.cloneNode(!1);var a=r.ownerDocument.defaultView;if(a&&jf(r)&&(c1(r)||Kg(r))){var s=this.createElementClone(r);s.style.transitionProperty="none";var i=a.getComputedStyle(r),o=a.getComputedStyle(r,":before"),l=a.getComputedStyle(r,":after");this.referenceElement===r&&c1(s)&&(this.clonedReferenceElement=s),kb(s)&&nY(s);var A=this.counters.parse(new BC(this.context,i)),d=this.resolvePseudoContent(r,s,o,nm.BEFORE);HC(r)&&(t=!0),TC(r)||this.cloneChildNodes(r,s,t),d&&s.insertBefore(d,s.firstChild);var f=this.resolvePseudoContent(r,s,l,nm.AFTER);return f&&s.appendChild(f),this.counters.pop(A),(i&&(this.options.copyStyles||Kg(r))&&!dk(r)||t)&&Kw(i,s),(r.scrollTop!==0||r.scrollLeft!==0)&&this.scrolledElements.push([s,r.scrollLeft,r.scrollTop]),(_0(r)||E0(r))&&(_0(s)||E0(s))&&(s.value=r.value),s}return r.cloneNode(!1)},e.prototype.resolvePseudoContent=function(r,t,a,s){var i=this;if(a){var o=a.content,l=t.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||a.display==="none")){this.counters.parse(new BC(this.context,a));var A=new TW(this.context,a),d=l.createElement("html2canvaspseudoelement");Kw(a,d),A.content.forEach(function(h){if(h.type===0)d.appendChild(l.createTextNode(h.value));else if(h.type===22){var m=l.createElement("img");m.src=h.value,m.style.opacity="1",d.appendChild(m)}else if(h.type===18){if(h.name==="attr"){var p=h.values.filter(Wa);p.length&&d.appendChild(l.createTextNode(r.getAttribute(p[0].value)||""))}else if(h.name==="counter"){var v=h.values.filter(Kf),g=v[0],w=v[1];if(g&&Wa(g)){var y=i.counters.getCounterValue(g.value),N=w&&Wa(w)?s1.parse(i.context,w.value):3;d.appendChild(l.createTextNode(ym(y,N,!1)))}}else if(h.name==="counters"){var C=h.values.filter(Kf),g=C[0],E=C[1],w=C[2];if(g&&Wa(g)){var U=i.counters.getCounterValues(g.value),D=w&&Wa(w)?s1.parse(i.context,w.value):3,k=E&&E.type===0?E.value:"",L=U.map(function(I){return ym(I,D,!1)}).join(k);d.appendChild(l.createTextNode(L))}}}else if(h.type===20)switch(h.value){case"open-quote":d.appendChild(l.createTextNode(NC(A.quotes,i.quoteDepth++,!0)));break;case"close-quote":d.appendChild(l.createTextNode(NC(A.quotes,--i.quoteDepth,!1)));break;default:d.appendChild(l.createTextNode(h.value))}}),d.className=d1+" "+u1;var f=s===nm.BEFORE?" "+d1:" "+u1;return Kg(t)?t.className.baseValue+=f:t.className+=f,d}}},e.destroy=function(r){return r.parentNode?(r.parentNode.removeChild(r),!0):!1},e})(),nm;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(nm||(nm={}));var WG=function(e,r){var t=e.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=r.width.toString(),t.height=r.height.toString(),t.scrolling="no",t.setAttribute(hk,"true"),e.body.appendChild(t),t},GG=function(e){return new Promise(function(r){if(e.complete){r();return}if(!e.src){r();return}e.onload=r,e.onerror=r})},YG=function(e){return Promise.all([].slice.call(e.images,0).map(GG))},XG=function(e){return new Promise(function(r,t){var a=e.contentWindow;if(!a)return t("No window assigned for iframe");var s=a.document;a.onload=e.onload=function(){a.onload=e.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),r(e))},50)}})},JG=["all","d","content"],Kw=function(e,r){for(var t=e.length-1;t>=0;t--){var a=e.item(t);JG.indexOf(a)===-1&&r.style.setProperty(a,e.getPropertyValue(a))}return r},ZG=function(e){var r="";return e&&(r+="<!DOCTYPE ",e.name&&(r+=e.name),e.internalSubset&&(r+=e.internalSubset),e.publicId&&(r+='"'+e.publicId+'"'),e.systemId&&(r+='"'+e.systemId+'"'),r+=">"),r},eY=function(e,r,t){e&&e.defaultView&&(r!==e.defaultView.pageXOffset||t!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(r,t)},tY=function(e){var r=e[0],t=e[1],a=e[2];r.scrollLeft=t,r.scrollTop=a},rY=":before",aY=":after",d1="___html2canvas___pseudoelement_before",u1="___html2canvas___pseudoelement_after",GC=`{
    content: "" !important;
    display: none !important;
}`,nY=function(e){sY(e,"."+d1+rY+GC+`
         .`+u1+aY+GC)},sY=function(e,r){var t=e.ownerDocument;if(t){var a=t.createElement("style");a.textContent=r,e.appendChild(a)}},mk=(function(){function e(){}return e.getOrigin=function(r){var t=e._link;return t?(t.href=r,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},e.isSameOrigin=function(r){return e.getOrigin(r)===e._origin},e.setContext=function(r){e._link=r.document.createElement("a"),e._origin=e.getOrigin(r.location.href)},e._origin="about:blank",e})(),iY=(function(){function e(r,t){this.context=r,this._options=t,this._cache={}}return e.prototype.addImage=function(r){var t=Promise.resolve();return this.has(r)||(zw(r)||AY(r))&&(this._cache[r]=this.loadImage(r)).catch(function(){}),t},e.prototype.match=function(r){return this._cache[r]},e.prototype.loadImage=function(r){return bi(this,void 0,void 0,function(){var t,a,s,i,o=this;return oi(this,function(l){switch(l.label){case 0:return t=mk.isSameOrigin(r),a=!Vw(r)&&this._options.useCORS===!0&&Hs.SUPPORT_CORS_IMAGES&&!t,s=!Vw(r)&&!t&&!zw(r)&&typeof this._options.proxy=="string"&&Hs.SUPPORT_CORS_XHR&&!a,!t&&this._options.allowTaint===!1&&!Vw(r)&&!zw(r)&&!s&&!a?[2]:(i=r,s?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+r.substring(0,256)),[4,new Promise(function(A,d){var f=new Image;f.onload=function(){return A(f)},f.onerror=d,(dY(i)||a)&&(f.crossOrigin="anonymous"),f.src=i,f.complete===!0&&setTimeout(function(){return A(f)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(r){return typeof this._cache[r]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(r){var t=this,a=this._options.proxy;if(!a)throw new Error("No proxy defined");var s=r.substring(0,256);return new Promise(function(i,o){var l=Hs.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(l==="text")i(A.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(m){return o(m)},!1),h.readAsDataURL(A.response)}else o("Failed to proxy resource "+s+" with status code "+A.status)},A.onerror=o;var d=a.indexOf("?")>-1?"&":"?";if(A.open("GET",""+a+d+"url="+encodeURIComponent(r)+"&responseType="+l),l!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=l),t._options.imageTimeout){var f=t._options.imageTimeout;A.timeout=f,A.ontimeout=function(){return o("Timed out ("+f+"ms) proxying "+s)}}A.send()})},e})(),oY=/^data:image\/svg\+xml/i,lY=/^data:image\/.*;base64,/i,cY=/^data:image\/.*/i,AY=function(e){return Hs.SUPPORT_SVG_DRAWING||!uY(e)},Vw=function(e){return cY.test(e)},dY=function(e){return lY.test(e)},zw=function(e){return e.substr(0,4)==="blob"},uY=function(e){return e.substr(-3).toLowerCase()==="svg"||oY.test(e)},It=(function(){function e(r,t){this.type=0,this.x=r,this.y=t}return e.prototype.add=function(r,t){return new e(this.x+r,this.y+t)},e})(),mf=function(e,r,t){return new It(e.x+(r.x-e.x)*t,e.y+(r.y-e.y)*t)},hg=(function(){function e(r,t,a,s){this.type=1,this.start=r,this.startControl=t,this.endControl=a,this.end=s}return e.prototype.subdivide=function(r,t){var a=mf(this.start,this.startControl,r),s=mf(this.startControl,this.endControl,r),i=mf(this.endControl,this.end,r),o=mf(a,s,r),l=mf(s,i,r),A=mf(o,l,r);return t?new e(this.start,a,o,A):new e(A,l,i,this.end)},e.prototype.add=function(r,t){return new e(this.start.add(r,t),this.startControl.add(r,t),this.endControl.add(r,t),this.end.add(r,t))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e})(),To=function(e){return e.type===1},fY=(function(){function e(r){var t=r.styles,a=r.bounds,s=qh(t.borderTopLeftRadius,a.width,a.height),i=s[0],o=s[1],l=qh(t.borderTopRightRadius,a.width,a.height),A=l[0],d=l[1],f=qh(t.borderBottomRightRadius,a.width,a.height),h=f[0],m=f[1],p=qh(t.borderBottomLeftRadius,a.width,a.height),v=p[0],g=p[1],w=[];w.push((i+A)/a.width),w.push((v+h)/a.width),w.push((o+g)/a.height),w.push((d+m)/a.height);var y=Math.max.apply(Math,w);y>1&&(i/=y,o/=y,A/=y,d/=y,h/=y,m/=y,v/=y,g/=y);var N=a.width-A,C=a.height-m,E=a.width-h,U=a.height-g,D=t.borderTopWidth,k=t.borderRightWidth,L=t.borderBottomWidth,_=t.borderLeftWidth,Y=nn(t.paddingTop,r.bounds.width),I=nn(t.paddingRight,r.bounds.width),$=nn(t.paddingBottom,r.bounds.width),J=nn(t.paddingLeft,r.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?jn(a.left+_/3,a.top+D/3,i-_/3,o-D/3,La.TOP_LEFT):new It(a.left+_/3,a.top+D/3),this.topRightBorderDoubleOuterBox=i>0||o>0?jn(a.left+N,a.top+D/3,A-k/3,d-D/3,La.TOP_RIGHT):new It(a.left+a.width-k/3,a.top+D/3),this.bottomRightBorderDoubleOuterBox=h>0||m>0?jn(a.left+E,a.top+C,h-k/3,m-L/3,La.BOTTOM_RIGHT):new It(a.left+a.width-k/3,a.top+a.height-L/3),this.bottomLeftBorderDoubleOuterBox=v>0||g>0?jn(a.left+_/3,a.top+U,v-_/3,g-L/3,La.BOTTOM_LEFT):new It(a.left+_/3,a.top+a.height-L/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?jn(a.left+_*2/3,a.top+D*2/3,i-_*2/3,o-D*2/3,La.TOP_LEFT):new It(a.left+_*2/3,a.top+D*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?jn(a.left+N,a.top+D*2/3,A-k*2/3,d-D*2/3,La.TOP_RIGHT):new It(a.left+a.width-k*2/3,a.top+D*2/3),this.bottomRightBorderDoubleInnerBox=h>0||m>0?jn(a.left+E,a.top+C,h-k*2/3,m-L*2/3,La.BOTTOM_RIGHT):new It(a.left+a.width-k*2/3,a.top+a.height-L*2/3),this.bottomLeftBorderDoubleInnerBox=v>0||g>0?jn(a.left+_*2/3,a.top+U,v-_*2/3,g-L*2/3,La.BOTTOM_LEFT):new It(a.left+_*2/3,a.top+a.height-L*2/3),this.topLeftBorderStroke=i>0||o>0?jn(a.left+_/2,a.top+D/2,i-_/2,o-D/2,La.TOP_LEFT):new It(a.left+_/2,a.top+D/2),this.topRightBorderStroke=i>0||o>0?jn(a.left+N,a.top+D/2,A-k/2,d-D/2,La.TOP_RIGHT):new It(a.left+a.width-k/2,a.top+D/2),this.bottomRightBorderStroke=h>0||m>0?jn(a.left+E,a.top+C,h-k/2,m-L/2,La.BOTTOM_RIGHT):new It(a.left+a.width-k/2,a.top+a.height-L/2),this.bottomLeftBorderStroke=v>0||g>0?jn(a.left+_/2,a.top+U,v-_/2,g-L/2,La.BOTTOM_LEFT):new It(a.left+_/2,a.top+a.height-L/2),this.topLeftBorderBox=i>0||o>0?jn(a.left,a.top,i,o,La.TOP_LEFT):new It(a.left,a.top),this.topRightBorderBox=A>0||d>0?jn(a.left+N,a.top,A,d,La.TOP_RIGHT):new It(a.left+a.width,a.top),this.bottomRightBorderBox=h>0||m>0?jn(a.left+E,a.top+C,h,m,La.BOTTOM_RIGHT):new It(a.left+a.width,a.top+a.height),this.bottomLeftBorderBox=v>0||g>0?jn(a.left,a.top+U,v,g,La.BOTTOM_LEFT):new It(a.left,a.top+a.height),this.topLeftPaddingBox=i>0||o>0?jn(a.left+_,a.top+D,Math.max(0,i-_),Math.max(0,o-D),La.TOP_LEFT):new It(a.left+_,a.top+D),this.topRightPaddingBox=A>0||d>0?jn(a.left+Math.min(N,a.width-k),a.top+D,N>a.width+k?0:Math.max(0,A-k),Math.max(0,d-D),La.TOP_RIGHT):new It(a.left+a.width-k,a.top+D),this.bottomRightPaddingBox=h>0||m>0?jn(a.left+Math.min(E,a.width-_),a.top+Math.min(C,a.height-L),Math.max(0,h-k),Math.max(0,m-L),La.BOTTOM_RIGHT):new It(a.left+a.width-k,a.top+a.height-L),this.bottomLeftPaddingBox=v>0||g>0?jn(a.left+_,a.top+Math.min(U,a.height-L),Math.max(0,v-_),Math.max(0,g-L),La.BOTTOM_LEFT):new It(a.left+_,a.top+a.height-L),this.topLeftContentBox=i>0||o>0?jn(a.left+_+J,a.top+D+Y,Math.max(0,i-(_+J)),Math.max(0,o-(D+Y)),La.TOP_LEFT):new It(a.left+_+J,a.top+D+Y),this.topRightContentBox=A>0||d>0?jn(a.left+Math.min(N,a.width+_+J),a.top+D+Y,N>a.width+_+J?0:A-_+J,d-(D+Y),La.TOP_RIGHT):new It(a.left+a.width-(k+I),a.top+D+Y),this.bottomRightContentBox=h>0||m>0?jn(a.left+Math.min(E,a.width-(_+J)),a.top+Math.min(C,a.height+D+Y),Math.max(0,h-(k+I)),m-(L+$),La.BOTTOM_RIGHT):new It(a.left+a.width-(k+I),a.top+a.height-(L+$)),this.bottomLeftContentBox=v>0||g>0?jn(a.left+_+J,a.top+U,Math.max(0,v-(_+J)),g-(L+$),La.BOTTOM_LEFT):new It(a.left+_+J,a.top+a.height-(L+$))}return e})(),La;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(La||(La={}));var jn=function(e,r,t,a,s){var i=4*((Math.sqrt(2)-1)/3),o=t*i,l=a*i,A=e+t,d=r+a;switch(s){case La.TOP_LEFT:return new hg(new It(e,d),new It(e,d-l),new It(A-o,r),new It(A,r));case La.TOP_RIGHT:return new hg(new It(e,r),new It(e+o,r),new It(A,d-l),new It(A,d));case La.BOTTOM_RIGHT:return new hg(new It(A,r),new It(A,r+l),new It(e+o,d),new It(e,d));case La.BOTTOM_LEFT:default:return new hg(new It(A,d),new It(A-o,d),new It(e,r+l),new It(e,r))}},F0=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},hY=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},k0=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},mY=(function(){function e(r,t,a){this.offsetX=r,this.offsetY=t,this.matrix=a,this.type=0,this.target=6}return e})(),mg=(function(){function e(r,t){this.path=r,this.target=t,this.type=1}return e})(),pY=(function(){function e(r){this.opacity=r,this.type=2,this.target=6}return e})(),gY=function(e){return e.type===0},pk=function(e){return e.type===1},xY=function(e){return e.type===2},YC=function(e,r){return e.length===r.length?e.some(function(t,a){return t===r[a]}):!1},vY=function(e,r,t,a,s){return e.map(function(i,o){switch(o){case 0:return i.add(r,t);case 1:return i.add(r+a,t);case 2:return i.add(r+a,t+s);case 3:return i.add(r,t+s)}return i})},gk=(function(){function e(r){this.element=r,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e})(),xk=(function(){function e(r,t){if(this.container=r,this.parent=t,this.effects=[],this.curves=new fY(this.container),this.container.styles.opacity<1&&this.effects.push(new pY(this.container.styles.opacity)),this.container.styles.transform!==null){var a=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new mY(a,s,i))}if(this.container.styles.overflowX!==0){var o=F0(this.curves),l=k0(this.curves);YC(o,l)?this.effects.push(new mg(o,6)):(this.effects.push(new mg(o,2)),this.effects.push(new mg(l,4)))}}return e.prototype.getEffects=function(r){for(var t=[2,3].indexOf(this.container.styles.position)===-1,a=this.parent,s=this.effects.slice(0);a;){var i=a.effects.filter(function(A){return!pk(A)});if(t||a.container.styles.position!==0||!a.parent){if(s.unshift.apply(s,i),t=[2,3].indexOf(a.container.styles.position)===-1,a.container.styles.overflowX!==0){var o=F0(a.curves),l=k0(a.curves);YC(o,l)||s.unshift(new mg(l,6))}}else s.unshift.apply(s,i);a=a.parent}return s.filter(function(A){return bs(A.target,r)})},e})(),f1=function(e,r,t,a){e.container.elements.forEach(function(s){var i=bs(s.flags,4),o=bs(s.flags,2),l=new xk(s,e);bs(s.styles.display,2048)&&a.push(l);var A=bs(s.flags,8)?[]:a;if(i||o){var d=i||s.styles.isPositioned()?t:r,f=new gk(l);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var h=s.styles.zIndex.order;if(h<0){var m=0;d.negativeZIndex.some(function(v,g){return h>v.element.container.styles.zIndex.order?(m=g,!1):m>0}),d.negativeZIndex.splice(m,0,f)}else if(h>0){var p=0;d.positiveZIndex.some(function(v,g){return h>=v.element.container.styles.zIndex.order?(p=g+1,!1):p>0}),d.positiveZIndex.splice(p,0,f)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else s.styles.isFloating()?d.nonPositionedFloats.push(f):d.nonPositionedInlineLevel.push(f);f1(l,f,i?f:t,A)}else s.styles.isInlineLevel()?r.inlineLevel.push(l):r.nonInlineLevel.push(l),f1(l,r,t,A);bs(s.flags,8)&&vk(s,A)})},vk=function(e,r){for(var t=e instanceof l1?e.start:1,a=e instanceof l1?e.reversed:!1,s=0;s<r.length;s++){var i=r[s];i.container instanceof rk&&typeof i.container.value=="number"&&i.container.value!==0&&(t=i.container.value),i.listValue=ym(t,i.container.styles.listStyleType,!0),t+=a?-1:1}},wY=function(e){var r=new xk(e,null),t=new gk(r),a=[];return f1(r,t,t,a),vk(r.container,a),t},XC=function(e,r){switch(r){case 0:return Ho(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Ho(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Ho(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Ho(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},yY=function(e,r){switch(r){case 0:return Ho(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Ho(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Ho(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Ho(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},bY=function(e,r){switch(r){case 0:return Ho(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Ho(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Ho(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Ho(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},jY=function(e,r){switch(r){case 0:return pg(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return pg(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return pg(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return pg(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},pg=function(e,r){var t=[];return To(e)?t.push(e.subdivide(.5,!1)):t.push(e),To(r)?t.push(r.subdivide(.5,!0)):t.push(r),t},Ho=function(e,r,t,a){var s=[];return To(e)?s.push(e.subdivide(.5,!1)):s.push(e),To(t)?s.push(t.subdivide(.5,!0)):s.push(t),To(a)?s.push(a.subdivide(.5,!0).reverse()):s.push(a),To(r)?s.push(r.subdivide(.5,!1).reverse()):s.push(r),s},wk=function(e){var r=e.bounds,t=e.styles;return r.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},D0=function(e){var r=e.styles,t=e.bounds,a=nn(r.paddingLeft,t.width),s=nn(r.paddingRight,t.width),i=nn(r.paddingTop,t.width),o=nn(r.paddingBottom,t.width);return t.add(a+r.borderLeftWidth,i+r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth+a+s),-(r.borderTopWidth+r.borderBottomWidth+i+o))},NY=function(e,r){return e===0?r.bounds:e===2?D0(r):wk(r)},BY=function(e,r){return e===0?r.bounds:e===2?D0(r):wk(r)},qw=function(e,r,t){var a=NY(yf(e.styles.backgroundOrigin,r),e),s=BY(yf(e.styles.backgroundClip,r),e),i=CY(yf(e.styles.backgroundSize,r),t,a),o=i[0],l=i[1],A=qh(yf(e.styles.backgroundPosition,r),a.width-o,a.height-l),d=SY(yf(e.styles.backgroundRepeat,r),A,i,a,s),f=Math.round(a.left+A[0]),h=Math.round(a.top+A[1]);return[d,f,h,o,l]},pf=function(e){return Wa(e)&&e.value===If.AUTO},gg=function(e){return typeof e=="number"},CY=function(e,r,t){var a=r[0],s=r[1],i=r[2],o=e[0],l=e[1];if(!o)return[0,0];if(ds(o)&&l&&ds(l))return[nn(o,t.width),nn(l,t.height)];var A=gg(i);if(Wa(o)&&(o.value===If.CONTAIN||o.value===If.COVER)){if(gg(i)){var d=t.width/t.height;return d<i!=(o.value===If.COVER)?[t.width,t.width/i]:[t.height*i,t.height]}return[t.width,t.height]}var f=gg(a),h=gg(s),m=f||h;if(pf(o)&&(!l||pf(l))){if(f&&h)return[a,s];if(!A&&!m)return[t.width,t.height];if(m&&A){var p=f?a:s*i,v=h?s:a/i;return[p,v]}var g=f?a:t.width,w=h?s:t.height;return[g,w]}if(A){var y=0,N=0;return ds(o)?y=nn(o,t.width):ds(l)&&(N=nn(l,t.height)),pf(o)?y=N*i:(!l||pf(l))&&(N=y/i),[y,N]}var C=null,E=null;if(ds(o)?C=nn(o,t.width):l&&ds(l)&&(E=nn(l,t.height)),C!==null&&(!l||pf(l))&&(E=f&&h?C/a*s:t.height),E!==null&&pf(o)&&(C=f&&h?E/s*a:t.width),C!==null&&E!==null)return[C,E];throw new Error("Unable to calculate background-size for element")},yf=function(e,r){var t=e[r];return typeof t>"u"?e[0]:t},SY=function(e,r,t,a,s){var i=r[0],o=r[1],l=t[0],A=t[1];switch(e){case 2:return[new It(Math.round(a.left),Math.round(a.top+o)),new It(Math.round(a.left+a.width),Math.round(a.top+o)),new It(Math.round(a.left+a.width),Math.round(A+a.top+o)),new It(Math.round(a.left),Math.round(A+a.top+o))];case 3:return[new It(Math.round(a.left+i),Math.round(a.top)),new It(Math.round(a.left+i+l),Math.round(a.top)),new It(Math.round(a.left+i+l),Math.round(a.height+a.top)),new It(Math.round(a.left+i),Math.round(a.height+a.top))];case 1:return[new It(Math.round(a.left+i),Math.round(a.top+o)),new It(Math.round(a.left+i+l),Math.round(a.top+o)),new It(Math.round(a.left+i+l),Math.round(a.top+o+A)),new It(Math.round(a.left+i),Math.round(a.top+o+A))];default:return[new It(Math.round(s.left),Math.round(s.top)),new It(Math.round(s.left+s.width),Math.round(s.top)),new It(Math.round(s.left+s.width),Math.round(s.height+s.top)),new It(Math.round(s.left),Math.round(s.height+s.top))]}},_Y="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",JC="Hidden Text",EY=(function(){function e(r){this._data={},this._document=r}return e.prototype.parseMetrics=function(r,t){var a=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;a.style.visibility="hidden",a.style.fontFamily=r,a.style.fontSize=t,a.style.margin="0",a.style.padding="0",a.style.whiteSpace="nowrap",o.appendChild(a),s.src=_Y,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=r,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(JC)),a.appendChild(i),a.appendChild(s);var l=s.offsetTop-i.offsetTop+2;a.removeChild(i),a.appendChild(this._document.createTextNode(JC)),a.style.lineHeight="normal",s.style.verticalAlign="super";var A=s.offsetTop-a.offsetTop+2;return o.removeChild(a),{baseline:l,middle:A}},e.prototype.getMetrics=function(r,t){var a=r+" "+t;return typeof this._data[a]>"u"&&(this._data[a]=this.parseMetrics(r,t)),this._data[a]},e})(),yk=(function(){function e(r,t){this.context=r,this.options=t}return e})(),FY=1e4,kY=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s._activeEffects=[],s.canvas=a.canvas?a.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),a.canvas||(s.canvas.width=Math.floor(a.width*a.scale),s.canvas.height=Math.floor(a.height*a.scale),s.canvas.style.width=a.width+"px",s.canvas.style.height=a.height+"px"),s.fontMetrics=new EY(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-a.x,-a.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+a.width+"x"+a.height+") with scale "+a.scale),s}return r.prototype.applyEffects=function(t){for(var a=this;this._activeEffects.length;)this.popEffect();t.forEach(function(s){return a.applyEffect(s)})},r.prototype.applyEffect=function(t){this.ctx.save(),xY(t)&&(this.ctx.globalAlpha=t.opacity),gY(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),pk(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},r.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},r.prototype.renderStack=function(t){return bi(this,void 0,void 0,function(){var a;return oi(this,function(s){switch(s.label){case 0:return a=t.element.container.styles,a.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},r.prototype.renderNode=function(t){return bi(this,void 0,void 0,function(){return oi(this,function(a){switch(a.label){case 0:if(bs(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return a.sent(),[4,this.renderNodeContent(t)];case 2:a.sent(),a.label=3;case 3:return[2]}})})},r.prototype.renderTextWithLetterSpacing=function(t,a,s){var i=this;if(a===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+s);else{var o=Eb(t.text);o.reduce(function(l,A){return i.ctx.fillText(A,l,t.bounds.top+s),l+i.ctx.measureText(A).width},t.bounds.left)}},r.prototype.createFontStyle=function(t){var a=t.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=PY(t.fontFamily).join(", "),i=$m(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,a,t.fontWeight,i,s].join(" "),s,i]},r.prototype.renderTextNode=function(t,a){return bi(this,void 0,void 0,function(){var s,i,o,l,A,d,f,h,m=this;return oi(this,function(p){return s=this.createFontStyle(a),i=s[0],o=s[1],l=s[2],this.ctx.font=i,this.ctx.direction=a.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(o,l),d=A.baseline,f=A.middle,h=a.paintOrder,t.textBounds.forEach(function(v){h.forEach(function(g){switch(g){case 0:m.ctx.fillStyle=Us(a.color),m.renderTextWithLetterSpacing(v,a.letterSpacing,d);var w=a.textShadow;w.length&&v.text.trim().length&&(w.slice(0).reverse().forEach(function(y){m.ctx.shadowColor=Us(y.color),m.ctx.shadowOffsetX=y.offsetX.number*m.options.scale,m.ctx.shadowOffsetY=y.offsetY.number*m.options.scale,m.ctx.shadowBlur=y.blur.number,m.renderTextWithLetterSpacing(v,a.letterSpacing,d)}),m.ctx.shadowColor="",m.ctx.shadowOffsetX=0,m.ctx.shadowOffsetY=0,m.ctx.shadowBlur=0),a.textDecorationLine.length&&(m.ctx.fillStyle=Us(a.textDecorationColor||a.color),a.textDecorationLine.forEach(function(y){switch(y){case 1:m.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top+d),v.bounds.width,1);break;case 2:m.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top),v.bounds.width,1);break;case 3:m.ctx.fillRect(v.bounds.left,Math.ceil(v.bounds.top+f),v.bounds.width,1);break}}));break;case 1:a.webkitTextStrokeWidth&&v.text.trim().length&&(m.ctx.strokeStyle=Us(a.webkitTextStrokeColor),m.ctx.lineWidth=a.webkitTextStrokeWidth,m.ctx.lineJoin=window.chrome?"miter":"round",m.ctx.strokeText(v.text,v.bounds.left,v.bounds.top+d)),m.ctx.strokeStyle="",m.ctx.lineWidth=0,m.ctx.lineJoin="miter";break}})}),[2]})})},r.prototype.renderReplacedElement=function(t,a,s){if(s&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var i=D0(t),o=k0(a);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,t.intrinsicWidth,t.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},r.prototype.renderNodeContent=function(t){return bi(this,void 0,void 0,function(){var a,s,i,o,l,A,N,N,d,f,h,m,E,p,v,U,g,w,y,N,C,E,U;return oi(this,function(D){switch(D.label){case 0:this.applyEffects(t.getEffects(4)),a=t.container,s=t.curves,i=a.styles,o=0,l=a.textNodes,D.label=1;case 1:return o<l.length?(A=l[o],[4,this.renderTextNode(A,i)]):[3,4];case 2:D.sent(),D.label=3;case 3:return o++,[3,1];case 4:if(!(a instanceof Z3))return[3,8];D.label=5;case 5:return D.trys.push([5,7,,8]),[4,this.context.cache.match(a.src)];case 6:return N=D.sent(),this.renderReplacedElement(a,s,N),[3,8];case 7:return D.sent(),this.context.logger.error("Error loading image "+a.src),[3,8];case 8:if(a instanceof ek&&this.renderReplacedElement(a,s,a.canvas),!(a instanceof tk))return[3,12];D.label=9;case 9:return D.trys.push([9,11,,12]),[4,this.context.cache.match(a.svg)];case 10:return N=D.sent(),this.renderReplacedElement(a,s,N),[3,12];case 11:return D.sent(),this.context.logger.error("Error loading svg "+a.svg.substring(0,255)),[3,12];case 12:return a instanceof sk&&a.tree?(d=new r(this.context,{scale:this.options.scale,backgroundColor:a.backgroundColor,x:0,y:0,width:a.width,height:a.height}),[4,d.render(a.tree)]):[3,14];case 13:f=D.sent(),a.width&&a.height&&this.ctx.drawImage(f,0,0,a.width,a.height,a.bounds.left,a.bounds.top,a.bounds.width,a.bounds.height),D.label=14;case 14:if(a instanceof Fb&&(h=Math.min(a.bounds.width,a.bounds.height),a.type===C0?a.checked&&(this.ctx.save(),this.path([new It(a.bounds.left+h*.39363,a.bounds.top+h*.79),new It(a.bounds.left+h*.16,a.bounds.top+h*.5549),new It(a.bounds.left+h*.27347,a.bounds.top+h*.44071),new It(a.bounds.left+h*.39694,a.bounds.top+h*.5649),new It(a.bounds.left+h*.72983,a.bounds.top+h*.23),new It(a.bounds.left+h*.84,a.bounds.top+h*.34085),new It(a.bounds.left+h*.39363,a.bounds.top+h*.79)]),this.ctx.fillStyle=Us(MC),this.ctx.fill(),this.ctx.restore()):a.type===S0&&a.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(a.bounds.left+h/2,a.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Us(MC),this.ctx.fill(),this.ctx.restore())),DY(a)&&a.value.length){switch(m=this.createFontStyle(i),E=m[0],p=m[1],v=this.fontMetrics.getMetrics(E,p).baseline,this.ctx.font=E,this.ctx.fillStyle=Us(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=LY(a.styles.textAlign),U=D0(a),g=0,a.styles.textAlign){case 1:g+=U.width/2;break;case 2:g+=U.width;break}w=U.add(g,0,0,-U.height/2+1),this.ctx.save(),this.path([new It(U.left,U.top),new It(U.left+U.width,U.top),new It(U.left+U.width,U.top+U.height),new It(U.left,U.top+U.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new am(a.value,w),i.letterSpacing,v),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!bs(a.styles.display,2048))return[3,20];if(a.styles.listStyleImage===null)return[3,19];if(y=a.styles.listStyleImage,y.type!==0)return[3,18];N=void 0,C=y.url,D.label=15;case 15:return D.trys.push([15,17,,18]),[4,this.context.cache.match(C)];case 16:return N=D.sent(),this.ctx.drawImage(N,a.bounds.left-(N.width+10),a.bounds.top),[3,18];case 17:return D.sent(),this.context.logger.error("Error loading list-style-image "+C),[3,18];case 18:return[3,20];case 19:t.listValue&&a.styles.listStyleType!==-1&&(E=this.createFontStyle(i)[0],this.ctx.font=E,this.ctx.fillStyle=Us(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",U=new hA(a.bounds.left,a.bounds.top+nn(a.styles.paddingTop,a.bounds.width),a.bounds.width,bC(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new am(t.listValue,U),i.letterSpacing,bC(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),D.label=20;case 20:return[2]}})})},r.prototype.renderStackContent=function(t){return bi(this,void 0,void 0,function(){var a,s,y,i,o,y,l,A,y,d,f,y,h,m,y,p,v,y,g,w,y;return oi(this,function(N){switch(N.label){case 0:if(bs(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:N.sent(),a=0,s=t.negativeZIndex,N.label=2;case 2:return a<s.length?(y=s[a],[4,this.renderStack(y)]):[3,5];case 3:N.sent(),N.label=4;case 4:return a++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:N.sent(),i=0,o=t.nonInlineLevel,N.label=7;case 7:return i<o.length?(y=o[i],[4,this.renderNode(y)]):[3,10];case 8:N.sent(),N.label=9;case 9:return i++,[3,7];case 10:l=0,A=t.nonPositionedFloats,N.label=11;case 11:return l<A.length?(y=A[l],[4,this.renderStack(y)]):[3,14];case 12:N.sent(),N.label=13;case 13:return l++,[3,11];case 14:d=0,f=t.nonPositionedInlineLevel,N.label=15;case 15:return d<f.length?(y=f[d],[4,this.renderStack(y)]):[3,18];case 16:N.sent(),N.label=17;case 17:return d++,[3,15];case 18:h=0,m=t.inlineLevel,N.label=19;case 19:return h<m.length?(y=m[h],[4,this.renderNode(y)]):[3,22];case 20:N.sent(),N.label=21;case 21:return h++,[3,19];case 22:p=0,v=t.zeroOrAutoZIndexOrTransformedOrOpacity,N.label=23;case 23:return p<v.length?(y=v[p],[4,this.renderStack(y)]):[3,26];case 24:N.sent(),N.label=25;case 25:return p++,[3,23];case 26:g=0,w=t.positiveZIndex,N.label=27;case 27:return g<w.length?(y=w[g],[4,this.renderStack(y)]):[3,30];case 28:N.sent(),N.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},r.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},r.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},r.prototype.formatPath=function(t){var a=this;t.forEach(function(s,i){var o=To(s)?s.start:s;i===0?a.ctx.moveTo(o.x,o.y):a.ctx.lineTo(o.x,o.y),To(s)&&a.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},r.prototype.renderRepeat=function(t,a,s,i){this.path(t),this.ctx.fillStyle=a,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},r.prototype.resizeImage=function(t,a,s){var i;if(t.width===a&&t.height===s)return t;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,a),l.height=Math.max(1,s);var A=l.getContext("2d");return A.drawImage(t,0,0,t.width,t.height,0,0,a,s),l},r.prototype.renderBackgroundImage=function(t){return bi(this,void 0,void 0,function(){var a,s,i,o,l,A;return oi(this,function(d){switch(d.label){case 0:a=t.styles.backgroundImage.length-1,s=function(f){var h,m,p,Y,K,G,J,M,L,v,Y,K,G,J,M,g,w,y,N,C,E,U,D,k,L,_,Y,I,$,J,M,re,K,G,z,Z,Ae,ee,R,q,te,F;return oi(this,function(X){switch(X.label){case 0:if(f.type!==0)return[3,5];h=void 0,m=f.url,X.label=1;case 1:return X.trys.push([1,3,,4]),[4,i.context.cache.match(m)];case 2:return h=X.sent(),[3,4];case 3:return X.sent(),i.context.logger.error("Error loading background-image "+m),[3,4];case 4:return h&&(p=qw(t,a,[h.width,h.height,h.width/h.height]),Y=p[0],K=p[1],G=p[2],J=p[3],M=p[4],L=i.ctx.createPattern(i.resizeImage(h,J,M),"repeat"),i.renderRepeat(Y,L,K,G)),[3,6];case 5:gq(f)?(v=qw(t,a,[null,null,null]),Y=v[0],K=v[1],G=v[2],J=v[3],M=v[4],g=uq(f.angle,J,M),w=g[0],y=g[1],N=g[2],C=g[3],E=g[4],U=document.createElement("canvas"),U.width=J,U.height=M,D=U.getContext("2d"),k=D.createLinearGradient(y,C,N,E),wC(f.stops,w).forEach(function(H){return k.addColorStop(H.stop,Us(H.color))}),D.fillStyle=k,D.fillRect(0,0,J,M),J>0&&M>0&&(L=i.ctx.createPattern(U,"repeat"),i.renderRepeat(Y,L,K,G))):xq(f)&&(_=qw(t,a,[null,null,null]),Y=_[0],I=_[1],$=_[2],J=_[3],M=_[4],re=f.position.length===0?[Cb]:f.position,K=nn(re[0],J),G=nn(re[re.length-1],M),z=fq(f,K,G,J,M),Z=z[0],Ae=z[1],Z>0&&Ae>0&&(ee=i.ctx.createRadialGradient(I+K,$+G,0,I+K,$+G,Z),wC(f.stops,Z*2).forEach(function(H){return ee.addColorStop(H.stop,Us(H.color))}),i.path(Y),i.ctx.fillStyle=ee,Z!==Ae?(R=t.bounds.left+.5*t.bounds.width,q=t.bounds.top+.5*t.bounds.height,te=Ae/Z,F=1/te,i.ctx.save(),i.ctx.translate(R,q),i.ctx.transform(1,0,0,te,0,0),i.ctx.translate(-R,-q),i.ctx.fillRect(I,F*($-q)+q,J,M*F),i.ctx.restore()):i.ctx.fill())),X.label=6;case 6:return a--,[2]}})},i=this,o=0,l=t.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<l.length?(A=l[o],[5,s(A)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},r.prototype.renderSolidBorder=function(t,a,s){return bi(this,void 0,void 0,function(){return oi(this,function(i){return this.path(XC(s,a)),this.ctx.fillStyle=Us(t),this.ctx.fill(),[2]})})},r.prototype.renderDoubleBorder=function(t,a,s,i){return bi(this,void 0,void 0,function(){var o,l;return oi(this,function(A){switch(A.label){case 0:return a<3?[4,this.renderSolidBorder(t,s,i)]:[3,2];case 1:return A.sent(),[2];case 2:return o=yY(i,s),this.path(o),this.ctx.fillStyle=Us(t),this.ctx.fill(),l=bY(i,s),this.path(l),this.ctx.fill(),[2]}})})},r.prototype.renderNodeBackgroundAndBorders=function(t){return bi(this,void 0,void 0,function(){var a,s,i,o,l,A,d,f,h=this;return oi(this,function(m){switch(m.label){case 0:return this.applyEffects(t.getEffects(2)),a=t.container.styles,s=!Ad(a.backgroundColor)||a.backgroundImage.length,i=[{style:a.borderTopStyle,color:a.borderTopColor,width:a.borderTopWidth},{style:a.borderRightStyle,color:a.borderRightColor,width:a.borderRightWidth},{style:a.borderBottomStyle,color:a.borderBottomColor,width:a.borderBottomWidth},{style:a.borderLeftStyle,color:a.borderLeftColor,width:a.borderLeftWidth}],o=UY(yf(a.backgroundClip,0),t.curves),s||a.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Ad(a.backgroundColor)||(this.ctx.fillStyle=Us(a.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:m.sent(),this.ctx.restore(),a.boxShadow.slice(0).reverse().forEach(function(p){h.ctx.save();var v=F0(t.curves),g=p.inset?0:FY,w=vY(v,-g+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(h.path(v),h.ctx.clip(),h.mask(w)):(h.mask(v),h.ctx.clip(),h.path(w)),h.ctx.shadowOffsetX=p.offsetX.number+g,h.ctx.shadowOffsetY=p.offsetY.number,h.ctx.shadowColor=Us(p.color),h.ctx.shadowBlur=p.blur.number,h.ctx.fillStyle=p.inset?Us(p.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),m.label=2;case 2:l=0,A=0,d=i,m.label=3;case 3:return A<d.length?(f=d[A],f.style!==0&&!Ad(f.color)&&f.width>0?f.style!==2?[3,5]:[4,this.renderDashedDottedBorder(f.color,f.width,l,t.curves,2)]:[3,11]):[3,13];case 4:return m.sent(),[3,11];case 5:return f.style!==3?[3,7]:[4,this.renderDashedDottedBorder(f.color,f.width,l,t.curves,3)];case 6:return m.sent(),[3,11];case 7:return f.style!==4?[3,9]:[4,this.renderDoubleBorder(f.color,f.width,l,t.curves)];case 8:return m.sent(),[3,11];case 9:return[4,this.renderSolidBorder(f.color,l,t.curves)];case 10:m.sent(),m.label=11;case 11:l++,m.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},r.prototype.renderDashedDottedBorder=function(t,a,s,i,o){return bi(this,void 0,void 0,function(){var l,A,d,f,h,m,p,v,g,w,y,N,C,E,U,D,U,D;return oi(this,function(k){return this.ctx.save(),l=jY(i,s),A=XC(i,s),o===2&&(this.path(A),this.ctx.clip()),To(A[0])?(d=A[0].start.x,f=A[0].start.y):(d=A[0].x,f=A[0].y),To(A[1])?(h=A[1].end.x,m=A[1].end.y):(h=A[1].x,m=A[1].y),s===0||s===2?p=Math.abs(d-h):p=Math.abs(f-m),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(A.slice(0,2)),v=a<3?a*3:a*2,g=a<3?a*2:a,o===3&&(v=a,g=a),w=!0,p<=v*2?w=!1:p<=v*2+g?(y=p/(2*v+g),v*=y,g*=y):(N=Math.floor((p+g)/(v+g)),C=(p-N*v)/(N-1),E=(p-(N+1)*v)/N,g=E<=0||Math.abs(g-C)<Math.abs(g-E)?C:E),w&&(o===3?this.ctx.setLineDash([0,v+g]):this.ctx.setLineDash([v,g])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=a):this.ctx.lineWidth=a*2+1.1,this.ctx.strokeStyle=Us(t),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(To(A[0])&&(U=A[3],D=A[0],this.ctx.beginPath(),this.formatPath([new It(U.end.x,U.end.y),new It(D.start.x,D.start.y)]),this.ctx.stroke()),To(A[1])&&(U=A[1],D=A[2],this.ctx.beginPath(),this.formatPath([new It(U.end.x,U.end.y),new It(D.start.x,D.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},r.prototype.render=function(t){return bi(this,void 0,void 0,function(){var a;return oi(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Us(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),a=wY(t),[4,this.renderStack(a)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},r})(yk),DY=function(e){return e instanceof nk||e instanceof ak?!0:e instanceof Fb&&e.type!==S0&&e.type!==C0},UY=function(e,r){switch(e){case 0:return F0(r);case 2:return hY(r);case 1:default:return k0(r)}},LY=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},IY=["-apple-system","system-ui"],PY=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(r){return IY.indexOf(r)===-1}):e},QY=(function(e){_l(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.canvas=a.canvas?a.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=a,s.canvas.width=Math.floor(a.width*a.scale),s.canvas.height=Math.floor(a.height*a.scale),s.canvas.style.width=a.width+"px",s.canvas.style.height=a.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-a.x,-a.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+a.width+"x"+a.height+" at "+a.x+","+a.y+") with scale "+a.scale),s}return r.prototype.render=function(t){return bi(this,void 0,void 0,function(){var a,s;return oi(this,function(i){switch(i.label){case 0:return a=o1(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,RY(a)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Us(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},r})(yk),RY=function(e){return new Promise(function(r,t){var a=new Image;a.onload=function(){r(a)},a.onerror=t,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},MY=(function(){function e(r){var t=r.id,a=r.enabled;this.id=t,this.enabled=a,this.start=Date.now()}return e.prototype.debug=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Gp([this.id,this.getTime()+"ms"],r)):this.info.apply(this,r))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Gp([this.id,this.getTime()+"ms"],r))},e.prototype.warn=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Gp([this.id,this.getTime()+"ms"],r)):this.info.apply(this,r))},e.prototype.error=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Gp([this.id,this.getTime()+"ms"],r)):this.info.apply(this,r))},e.instances={},e})(),TY=(function(){function e(r,t){var a;this.windowBounds=t,this.instanceName="#"+e.instanceCount++,this.logger=new MY({id:this.instanceName,enabled:r.logging}),this.cache=(a=r.cache)!==null&&a!==void 0?a:new iY(this,r)}return e.instanceCount=1,e})(),h1=function(e,r){return r===void 0&&(r={}),OY(e,r)};typeof window<"u"&&mk.setContext(window);var OY=function(e,r){return bi(void 0,void 0,void 0,function(){var t,a,s,i,o,l,A,d,f,h,m,p,v,g,w,y,N,C,E,U,k,D,k,L,_,Y,I,$,J,M,re,K,G,z,Z,Ae,ee,R,q,te;return oi(this,function(F){switch(F.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=e.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(a=t.defaultView,!a)throw new Error("Document is not attached to a Window");return s={allowTaint:(L=r.allowTaint)!==null&&L!==void 0?L:!1,imageTimeout:(_=r.imageTimeout)!==null&&_!==void 0?_:15e3,proxy:r.proxy,useCORS:(Y=r.useCORS)!==null&&Y!==void 0?Y:!1},i=zy({logging:(I=r.logging)!==null&&I!==void 0?I:!0,cache:r.cache},s),o={windowWidth:($=r.windowWidth)!==null&&$!==void 0?$:a.innerWidth,windowHeight:(J=r.windowHeight)!==null&&J!==void 0?J:a.innerHeight,scrollX:(M=r.scrollX)!==null&&M!==void 0?M:a.pageXOffset,scrollY:(re=r.scrollY)!==null&&re!==void 0?re:a.pageYOffset},l=new hA(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),A=new TY(i,l),d=(K=r.foreignObjectRendering)!==null&&K!==void 0?K:!1,f={allowTaint:(G=r.allowTaint)!==null&&G!==void 0?G:!1,onclone:r.onclone,ignoreElements:r.ignoreElements,inlineImages:d,copyStyles:d},A.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),h=new WC(A,e,f),m=h.clonedReferenceElement,m?[4,h.toIFrame(t,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=F.sent(),v=kb(m)||$G(m)?vV(m.ownerDocument):Cx(A,m),g=v.width,w=v.height,y=v.left,N=v.top,C=HY(A,m,r.backgroundColor),E={canvas:r.canvas,backgroundColor:C,scale:(Z=(z=r.scale)!==null&&z!==void 0?z:a.devicePixelRatio)!==null&&Z!==void 0?Z:1,x:((Ae=r.x)!==null&&Ae!==void 0?Ae:0)+y,y:((ee=r.y)!==null&&ee!==void 0?ee:0)+N,width:(R=r.width)!==null&&R!==void 0?R:Math.ceil(g),height:(q=r.height)!==null&&q!==void 0?q:Math.ceil(w)},d?(A.logger.debug("Document cloned, using foreign object rendering"),k=new QY(A,E),[4,k.render(m)]):[3,3];case 2:return U=F.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+y+","+N+" with size "+g+"x"+w+" using computed rendering"),A.logger.debug("Starting DOM parsing"),D=ok(A,m),C===D.styles.backgroundColor&&(D.styles.backgroundColor=lA.TRANSPARENT),A.logger.debug("Starting renderer for element at "+E.x+","+E.y+" with size "+E.width+"x"+E.height),k=new kY(A,E),[4,k.render(D)];case 4:U=F.sent(),F.label=5;case 5:return(!((te=r.removeContainer)!==null&&te!==void 0)||te)&&(WC.destroy(p)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,U]}})})},HY=function(e,r,t){var a=r.ownerDocument,s=a.documentElement?tm(e,getComputedStyle(a.documentElement).backgroundColor):lA.TRANSPARENT,i=a.body?tm(e,getComputedStyle(a.body).backgroundColor):lA.TRANSPARENT,o=typeof t=="string"?tm(e,t):t===null?lA.TRANSPARENT:4294967295;return r===a.documentElement?Ad(s)?Ad(i)?o:i:s:o};const $Y=Object.freeze(Object.defineProperty({__proto__:null,default:h1},Symbol.toStringTag,{value:"Module"}));class bk{constructor(){this.defaultConfig=Ls}loadMedicoTemplate(r){const t=[r,typeof window<"u"?localStorage.getItem("medico_id"):null,"default"].filter(Boolean);for(const a of t)try{const s=pm(a);if(s)return s}catch(s){console.warn("Erro ao carregar template do mdico:",s)}return this.defaultConfig}async generatePDFFromElement(r,t={}){const a=(t.pageSize||"a4").toLowerCase(),s=(t.orientation||"portrait").toLowerCase()==="landscape"?"l":"p",i=Number(t.scale||2);let o=r;if(typeof r=="string"&&(o=document.querySelector(r)),!o)throw new Error("Elemento do preview no encontrado para gerar PDF.");const l=await h1(o,{scale:i,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",windowWidth:o.scrollWidth||o.clientWidth,windowHeight:o.scrollHeight||o.clientHeight}),A=new dr({orientation:s,unit:"mm",format:a}),d=l.toDataURL("image/png"),f=A.internal.pageSize.getWidth(),h=l.height*f/l.width;return A.addImage(d,"PNG",0,0,f,h),A.output("blob")}loadMedicoLogo(r){const t=[r,typeof window<"u"?localStorage.getItem("medico_id"):null].filter(Boolean);for(const a of t)try{const s=$f(a);if(s)return s}catch(s){console.warn("Erro ao carregar logo do mdico:",s)}return null}generateReceitaHTML(r,t,a,s){const i=this.loadMedicoTemplate(s),o=this.loadMedicoLogo(s),l=this.generateStyles(i),A=this.generateHeader(i,t,o),d=this.generateContent(r,a,i),f=this.generateFooter(i,t);return`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>Receita Mdica</title>
          <style>${l}</style>
        </head>
        <body>
          <div class="receita-container">
            ${A}
            ${d}
            ${f}
          </div>
        </body>
      </html>
    `}generateStyles(r){const{layout:t,content:a,branding:s}=r;return`
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: ${a.fontFamily};
        font-size: ${a.fontSize.body}pt;
        color: ${a.colors.primary};
        line-height: 1.6;
        background: white;
      }
      
      .receita-container {
        width: 100%;
        max-width: ${t.pageSize==="A4"?"210mm":"8.5in"};
        margin: 0 auto;
        padding: ${t.margins.top}px ${t.margins.right}px ${t.margins.bottom}px ${t.margins.left}px;
        min-height: ${t.pageSize==="A4"?"297mm":"11in"};
        position: relative;
      }
      
      .header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 2px solid ${a.colors.accent};
      }
      
      .header-logo {
        max-height: 80px;
        max-width: 150px;
        object-fit: contain;
      }
      
      .header-info {
        text-align: right;
        flex: 1;
        margin-left: 20px;
      }
      
      .clinic-name {
        font-size: ${a.fontSize.title}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        margin-bottom: 5px;
      }
      
      .clinic-details {
        font-size: ${a.fontSize.small}pt;
        color: ${a.colors.secondary};
        line-height: 1.4;
      }
      
      .doctor-info {
        margin-bottom: 30px;
        padding: 15px;
        background-color: #f8f9fa;
        border-radius: 8px;
        border-left: 4px solid ${a.colors.accent};
      }
      
      .doctor-name {
        font-size: ${a.fontSize.subtitle}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        margin-bottom: 5px;
      }
      
      .doctor-details {
        font-size: ${a.fontSize.small}pt;
        color: ${a.colors.secondary};
      }
      
      .patient-info {
        margin-bottom: 30px;
        padding: 15px;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
      }
      
      .patient-name {
        font-size: ${a.fontSize.subtitle}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        margin-bottom: 10px;
      }
      
      .patient-details {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        font-size: ${a.fontSize.small}pt;
        color: ${a.colors.secondary};
      }
      
      .prescription-title {
        font-size: ${a.fontSize.title}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        text-align: center;
        margin-bottom: 30px;
        text-transform: uppercase;
        letter-spacing: 1px;
      }
      
      .medications {
        margin-bottom: 40px;
      }
      
      .medication-item {
        margin-bottom: 20px;
        padding: 15px;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        background-color: #fafafa;
      }
      
      .medication-name {
        font-size: ${a.fontSize.subtitle}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        margin-bottom: 8px;
      }
      
      .medication-details {
        font-size: ${a.fontSize.body}pt;
        color: ${a.colors.secondary};
        margin-bottom: 5px;
      }
      
      .medication-instructions {
        font-size: ${a.fontSize.body}pt;
        color: ${a.colors.primary};
        font-style: italic;
        margin-top: 10px;
        padding: 10px;
        background-color: #f0f8ff;
        border-radius: 4px;
        border-left: 3px solid ${a.colors.accent};
      }
      
      .observations {
        margin-bottom: 40px;
        padding: 20px;
        background-color: #fff9e6;
        border-radius: 8px;
        border: 1px solid #ffd700;
      }
      
      .observations-title {
        font-size: ${a.fontSize.subtitle}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        margin-bottom: 10px;
      }
      
      .observations-text {
        font-size: ${a.fontSize.body}pt;
        color: ${a.colors.secondary};
        line-height: 1.6;
      }
      
      .footer {
        position: absolute;
        bottom: ${t.margins.bottom}px;
        left: ${t.margins.left}px;
        right: ${t.margins.right}px;
        text-align: center;
        padding-top: 20px;
        border-top: 1px solid #e0e0e0;
      }
      
      .signature-area {
        margin-top: 40px;
        text-align: center;
      }
      
      .signature-line {
        width: 300px;
        height: 1px;
        background-color: ${a.colors.secondary};
        margin: 40px auto 10px;
      }
      
      .signature-text {
        font-size: ${a.fontSize.small}pt;
        color: ${a.colors.secondary};
      }
      
      .date-location {
        margin-top: 30px;
        font-size: ${a.fontSize.small}pt;
        color: ${a.colors.secondary};
      }
      
      @media print {
        .receita-container {
          margin: 0;
          padding: 20px;
        }
        
        body {
          -webkit-print-color-adjust: exact;
          print-color-adjust: exact;
        }
      }
    `}generateHeader(r,t,a){const{header:s,branding:i}=r;if(!s.showLogo&&!s.showDoctorInfo)return"";let o="";s.showLogo&&(a!=null&&a.data)&&(o=`<img src="${a.data}" alt="Logo" class="header-logo" />`);let l="";return s.showDoctorInfo&&(l=`
        <div class="header-info">
          <div class="clinic-name">${i.clinicName||(t==null?void 0:t.nome)||"Clnica Mdica"}</div>
          <div class="clinic-details">
            ${i.clinicAddress?`<div>${i.clinicAddress}</div>`:""}
            ${i.clinicPhone?`<div>Tel: ${i.clinicPhone}</div>`:""}
            ${i.clinicEmail?`<div>Email: ${i.clinicEmail}</div>`:""}
          </div>
        </div>
      `),`
      <div class="header">
        ${o}
        ${l}
      </div>
    `}generateContent(r,t,a){const s=this.generateDoctorInfo(r.medico,a),i=this.generatePatientInfo(t,a),o=this.generateMedications(r.itens||[],a),l=this.generateObservations(r.observacoes,a);return`
      ${s}
      ${i}
      <div class="prescription-title">Receita Mdica</div>
      ${o}
      ${l}
    `}generateDoctorInfo(r,t){var a,s;return r?`
      <div class="doctor-info">
        <div class="doctor-name">Dr(a). ${r.nome||((a=r.user)==null?void 0:a.first_name)+" "+((s=r.user)==null?void 0:s.last_name)}</div>
        <div class="doctor-details">
          ${r.crm?`CRM: ${r.crm}`:""}
          ${r.especialidade?` | ${r.especialidade}`:""}
        </div>
      </div>
    `:""}generatePatientInfo(r,t){var s,i;if(!r)return"";const a=this.calculateAge(r.data_nascimento);return`
      <div class="patient-info">
        <div class="patient-name">Paciente: ${r.nome||((s=r.user)==null?void 0:s.first_name)+" "+((i=r.user)==null?void 0:i.last_name)}</div>
        <div class="patient-details">
          ${a?`<div>Idade: ${a} anos</div>`:""}
          ${r.cpf?`<div>CPF: ${r.cpf}</div>`:""}
          ${r.telefone?`<div>Telefone: ${r.telefone}</div>`:""}
          ${r.endereco?`<div>Endereo: ${r.endereco}</div>`:""}
        </div>
      </div>
    `}generateMedications(r,t){return!r||r.length===0?'<div class="medications"><p>Nenhum medicamento prescrito.</p></div>':`<div class="medications">${r.map((s,i)=>`
      <div class="medication-item">
        <div class="medication-name">${i+1}. ${s.medicamento||s.nome}</div>
        ${s.dosagem?`<div class="medication-details">Dosagem: ${s.dosagem}</div>`:""}
        ${s.frequencia?`<div class="medication-details">Frequncia: ${s.frequencia}</div>`:""}
        ${s.duracao?`<div class="medication-details">Durao: ${s.duracao}</div>`:""}
        ${s.instrucoes?`<div class="medication-instructions">${s.instrucoes}</div>`:""}
      </div>
    `).join("")}</div>`}generateObservations(r,t){return r?`
      <div class="observations">
        <div class="observations-title">Observaes:</div>
        <div class="observations-text">${r}</div>
      </div>
    `:""}generateFooter(r,t){var o,l;const{footer:a}=r;if(!a.showSignature&&!a.showDate)return"";let s="";a.showSignature&&(s=`
        <div class="signature-area">
          <div class="signature-line"></div>
          <div class="signature-text">
            Dr(a). ${(t==null?void 0:t.nome)||((o=t==null?void 0:t.user)==null?void 0:o.first_name)+" "+((l=t==null?void 0:t.user)==null?void 0:l.last_name)}
            ${t!=null&&t.crm?`<br>CRM: ${t.crm}`:""}
          </div>
        </div>
      `);let i="";return a.showDate&&(i=`<div class="date-location">Data: ${new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})}</div>`),`
      <div class="footer">
        ${s}
        ${i}
      </div>
    `}calculateAge(r){if(!r)return null;const t=new Date(r),a=new Date;let s=a.getFullYear()-t.getFullYear();const i=a.getMonth()-t.getMonth();return(i<0||i===0&&a.getDate()<t.getDate())&&s--,s}async generatePDF(r,t,a,s){try{const i=this.loadMedicoTemplate(s),o=this.generateReceitaHTML(r,t,a,s),l=document.createElement("div");l.innerHTML=o,l.style.position="absolute",l.style.left="-9999px",l.style.top="-9999px",document.body.appendChild(l);const A=i.layout.orientation==="landscape"?"l":"p",d=i.layout.pageSize.toLowerCase(),f=new dr({orientation:A,unit:"mm",format:d}),h=await h1(l.querySelector(".receita-container"),{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),m=h.toDataURL("image/png"),p=f.internal.pageSize.getWidth(),v=h.height*p/h.width;return f.addImage(m,"PNG",0,0,p,v),document.body.removeChild(l),f.output("blob")}catch(i){throw console.error("Erro ao gerar PDF:",i),new Error("Falha na gerao do PDF: "+i.message)}}savePDF(r,t="receita-medica.pdf"){const a=URL.createObjectURL(r),s=document.createElement("a");s.href=a,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}previewPDF(r){const t=URL.createObjectURL(r);window.open(t,"_blank")}}const U0=new bk,jk=Object.freeze(Object.defineProperty({__proto__:null,PdfTemplateService:bk,default:U0,pdfTemplateService:U0},Symbol.toStringTag,{value:"Module"})),m1={getAll:async(e={})=>{try{return(await ye.get("/medicamentos/",{params:e})).data}catch(r){throw console.error("Erro ao buscar medicamentos:",r),r}},getById:async e=>{try{return(await ye.get(`/medicamentos/${e}/`)).data}catch(r){throw console.error("Erro ao buscar medicamento:",r),r}},search:async e=>{try{const r=await ye.get("/medicamentos/",{params:{search:e,page_size:10}});return r.data.results||r.data}catch(r){throw console.error("Erro ao buscar medicamentos:",r),r}},create:async e=>{try{return(await ye.post("/medicamentos/",e)).data}catch(r){throw console.error("Erro ao criar medicamento:",r),r}},update:async(e,r)=>{try{return(await ye.put(`/medicamentos/${e}/`,r)).data}catch(t){throw console.error("Erro ao atualizar medicamento:",t),t}},delete:async e=>{try{return(await ye.patch(`/medicamentos/${e}/`,{ativo:!1})).data}catch(r){throw console.error("Erro ao deletar medicamento:",r),r}}},Xt={async getPerfil(){var o,l,A,d,f,h;const e="/api/medicos/",r=e.endsWith("/")?e:`${e}/`,t="".toLowerCase()==="true",a="".toLowerCase()==="true";let s=Vr.getCurrentUser();if(!(s!=null&&s.id))try{const m=await Vr.refreshCurrentUser();m!=null&&m.id&&(s=m)}catch{}if(s!=null&&s.id){const m="user,user__id,user_id,usuario,usuario_id".split(",").map(p=>p.trim()).filter(Boolean);for(const p of m)try{const v=await ye.get(r,{params:{[p]:s.id}}),g=Array.isArray((o=v.data)==null?void 0:o.results)?v.data.results:v.data;if(Array.isArray(g)){const w=g.find(y=>{var N,C;return((N=y==null?void 0:y.user)==null?void 0:N.id)===s.id||((C=y==null?void 0:y.usuario)==null?void 0:C.id)===s.id||(y==null?void 0:y.user)===s.id||(y==null?void 0:y.usuario)===s.id});if(w)return w;continue}if(g&&typeof g=="object"){const w=g;if(((l=w==null?void 0:w.user)==null?void 0:l.id)===s.id||((A=w==null?void 0:w.usuario)==null?void 0:A.id)===s.id||(w==null?void 0:w.user)===s.id||(w==null?void 0:w.usuario)===s.id)return w;continue}}catch{}}if(t)try{return(await ye.get(`${r}me/`)).data}catch(m){if(((d=m==null?void 0:m.response)==null?void 0:d.status)!==404)throw m}let i=null;if(a){const m=[],p="/api/users/".trim();if(p)if(p.includes("/me"))m.push(p);else{const v=p.endsWith("/")?p:`${p}/`;m.push(`${v}me/`)}m.push("/users/me/"),m.push("/auth/user/");for(const v of m)try{if(i=(await ye.get(v)).data,i&&!i.id){const w=Array.isArray(i==null?void 0:i.results)?i.results[0]:Array.isArray(i)?i[0]:null;w!=null&&w.id&&(i=w)}if(i!=null&&i.id)break}catch{}}try{const m=await ye.get(r),p=Array.isArray((f=m.data)==null?void 0:f.results)?m.data.results:m.data;if(Array.isArray(p)&&p.length){const v=(i==null?void 0:i.id)||((h=Vr.getCurrentUser())==null?void 0:h.id);if(v){const g=p.find(w=>{var y,N;return((y=w==null?void 0:w.user)==null?void 0:y.id)===v||((N=w==null?void 0:w.usuario)==null?void 0:N.id)===v});if(g)return g}return null}}catch{}return null},async getPacientes(e={}){return(await ye.get("/api/pacientes/",{params:e})).data},async getPacientesVinculados(e){const r="/api/medicos/",t=r.endsWith("/")?r:`${r}/`;return(await ye.get(`${t}${e}/pacientes/`)).data},async getMeusPacientes(e=null){var s;let r=e;if(!r)try{r=await this._resolveMedicoId()}catch{}const t=[],a=i=>{var l,A;const o=Array.isArray(i)?i:Array.isArray(i==null?void 0:i.results)?i.results:[];for(const d of o)(d!=null&&d.id||(l=d==null?void 0:d.user)!=null&&l.id||d!=null&&d.cpf||(A=d==null?void 0:d.user)!=null&&A.cpf||JSON.stringify(d))&&(t.some(h=>{var m,p;return((h==null?void 0:h.id)||((m=h==null?void 0:h.user)==null?void 0:m.id))===((d==null?void 0:d.id)||((p=d==null?void 0:d.user)==null?void 0:p.id))})||t.push(d))};try{if(r){const i="/api/medicos/",o=i.endsWith("/")?i:`${i}/`,l=await ye.get(`${o}${r}/pacientes/`);a(l==null?void 0:l.data)}}catch{}try{const i="/api/pacientes/",o=i.endsWith("/")?i:`${i}/`,l=["medico","medico_id","responsavel","doctor","doctor_id"];for(const A of l){const d=await ye.get(o,{params:r?{[A]:r,limit:200}:{limit:200}}).catch(()=>null);d!=null&&d.data&&a(d.data)}}catch{}try{const i="/api/consultas/",o=i.endsWith("/")?i:`${i}/`,l=r?{medico:r,medico_id:r,limit:200}:{limit:200},A=await ye.get(o,{params:l}).catch(()=>null),f=(Array.isArray((s=A==null?void 0:A.data)==null?void 0:s.results)?A.data.results:Array.isArray(A==null?void 0:A.data)?A.data:[]).map(h=>h==null?void 0:h.paciente).filter(Boolean);a(f)}catch{}return t},async getConsultas(e={}){return(await ye.get("/api/consultas/",{params:e})).data},async getConsultasDoMedico(e={}){var l,A,d,f;const r=await this.getPerfil();let t=null;if((l=r==null?void 0:r.medico)!=null&&l.id?t=r.medico.id:r&&typeof r=="object"&&"crm"in r&&(t=r.id),!t){const h=((A=r==null?void 0:r.user)==null?void 0:A.id)||(r==null?void 0:r.id);if(h)try{const m="/api/medicos/",p=m.endsWith("/")?m:`${m}/`,v="user,user__id,user_id,usuario,usuario_id".split(",").map(g=>g.trim()).filter(Boolean);for(const g of v)try{const w=await ye.get(p,{params:{[g]:h}}),y=Array.isArray((d=w.data)==null?void 0:d.results)?w.data.results:w.data;if((f=y==null?void 0:y[0])!=null&&f.id){t=y[0].id;break}}catch{}}catch{}}const a={...e};t&&!a.medico&&!a.medico_id&&(a.medico=t,a.medico_id=t);const s=a.date||a.data||a.dia;return s&&(a.date=s,a.data=s,a.dia=s,a.data__date=s),(await ye.get("/api/consultas/",{params:a})).data},async getConsultasHoje(e){var d,f,h,m;const r="/api/medicos/",t=r.endsWith("/")?r:`${r}/`;let a=e;if(!a){const p=await this.getPerfil();if((d=p==null?void 0:p.medico)!=null&&d.id?a=p.medico.id:p&&typeof p=="object"&&"crm"in p&&(a=p.id),!a){const v=((f=p==null?void 0:p.user)==null?void 0:f.id)||(p==null?void 0:p.id);if(v)try{const g="user,user__id,user_id,usuario,usuario_id".split(",").map(w=>w.trim()).filter(Boolean);for(const w of g)try{const y=await ye.get(t,{params:{[w]:v}}),N=Array.isArray((h=y.data)==null?void 0:h.results)?y.data.results:y.data;if((m=N==null?void 0:N[0])!=null&&m.id){a=N[0].id;break}}catch{}}catch{}}}const s="false".toLowerCase()==="true";if(a&&s)try{return(await ye.get(`${t}${a}/consultas_hoje/`)).data}catch{}const i=new Date,o=p=>String(p).padStart(2,"0"),l=`${i.getFullYear()}-${o(i.getMonth()+1)}-${o(i.getDate())}`;return await this.getConsultasDoMedico({date:l})},async getDashboard(){try{const e=new Date,r=o=>String(o).toString().padStart(2,"0"),t=`${e.getFullYear()}-${r(e.getMonth()+1)}-${r(e.getDate())}`,a=await this.getConsultasDoMedico({date:t}),s=Array.isArray(a)?a:Array.isArray(a==null?void 0:a.results)?a.results:[];return{proximas:Array.isArray(s)?s.map(o=>({id:o.id||o.consulta_id||o.uuid,paciente:o.paciente,data_hora:o.data_hora,status:o.status})):[]}}catch{return{proximas:[]}}},async iniciarConsulta(e){if(!e)throw new Error("consultaId  obrigatrio");const r="/consultas/",t=[{method:"post",url:`${r}${e}/iniciar/`,data:void 0},{method:"post",url:`${r}${e}/start/`,data:void 0},{method:"patch",url:`${r}${e}/`,data:{status:"em_andamento"}},{method:"put",url:`${r}${e}/iniciar/`,data:void 0}];let a=null;for(const s of t)try{return(await ye[s.method](s.url,s.data)).data}catch(i){a=i}throw a||new Error("No foi possvel iniciar a consulta")},async finalizarConsulta(e){if(!e)throw new Error("consultaId  obrigatrio");const t=`/consultas/${e}/finalizar/`;return(await ye.post(t)).data},async finalizarConsultaIA(e,r={}){if(!e)throw new Error("consultaId  obrigatrio");const t="/consultas/",a=[{method:"post",url:`${t}${e}/finalizar-ia/`,data:r},{method:"post",url:`/api/consultas/${e}/finalizar-ia/`,data:r},{method:"post",url:`${t}${e}/finalizar_ia/`,data:r}];let s=null;for(const i of a)try{return(await ye[i.method](i.url,i.data)).data}catch(o){s=o}throw s||new Error("Endpoint finalizar-ia no disponvel")},async processarTranscricaoConsulta({texto:e,consultaId:r,pacienteId:t,medicoId:a}={}){var A;if(!e)throw new Error("texto da transcrio  obrigatrio");const s="/consultas/processar_transcricao/".replace(/\/?$/,"/"),i={texto:e,consulta_id:r,consulta:r,paciente:t,paciente_id:t,medico:a,medico_id:a},o=[s,"/api/consultas/processar_transcricao/","/consultas/sumarizar_criar_receita/"];let l=null;for(const d of o)try{const{data:f}=await ye.post(d,i);return f}catch(f){if(((A=f==null?void 0:f.response)==null?void 0:A.status)===401)throw f;l=f;continue}throw l||new Error("Endpoint de processamento de transcrio indisponvel")},async getReceitaById(e){var s;if(!e)throw new Error("id da receita  obrigatrio");const t=[`${"/api/receitas/".replace(/\/?$/,"/")}${e}/`,`/api/receitas/${e}/`,`/meu_app_receita/${e}/`];let a=null;for(const i of t)try{const{data:o}=await ye.get(i);return o}catch(o){if(((s=o==null?void 0:o.response)==null?void 0:s.status)===401)throw o;a=o;continue}if(a)throw a;return null},async getReceitaItens(e){var s;if(!e)throw new Error("id da receita  obrigatrio");const r="/api/receitas/".replace(/\/?$/,"/"),t=[`${r}${e}/itens/`,`${r}${e}/items/`,`/api/receitas/${e}/itens/`,`/meu_app_receitaitem/?receita=${e}`];let a=null;for(const i of t)try{const{data:o}=await ye.get(i);return Array.isArray(o==null?void 0:o.results)?o.results:Array.isArray(o)?o:[]}catch(o){if(((s=o==null?void 0:o.response)==null?void 0:s.status)===401)throw o;a=o;continue}if(a)throw a;return[]},async sumarizarConsulta(e,r={}){if(!e)throw new Error("consultaId  obrigatrio");const t="/consultas/",a=[`${t}${e}/sumarizar/`,`${t}${e}/resumir/`,`${t}${e}/summary/`];let s=null;for(const i of a)try{const{data:o}=await ye.post(i,r);return o}catch(o){s=o}throw s||new Error("Endpoint de sumarizao no disponvel")},async criarProntuario(e){var A;const r="/api/prontuarios/".replace(/\/?$/,"/"),t={...e||{}},a={};for(const[d,f]of Object.entries(t))f!=null&&(typeof f=="string"&&f.trim()===""||(a[d]=typeof f=="string"?f.trim():f));const s=a.consulta_id||a.consulta;s&&(a.consulta_id=s,a.consulta=s);const i=[{method:"post",url:r},{method:"put",url:r},{method:"patch",url:r}],o=r.replace(/prontuarios\/?$/i,"prontuario/");o!==r&&(i.push({method:"post",url:o}),i.push({method:"put",url:o}),i.push({method:"patch",url:o}));let l=null;for(const d of i)try{const{data:f}=await ye[d.method](d.url,a);return f}catch(f){const h=(A=f==null?void 0:f.response)==null?void 0:A.status;if(h&&[400,422].includes(h)){const m={};s&&(m.consulta_id=s,m.consulta=s);const p=a.queixa_principal||a.queixa,v=a.historia_doenca_atual||a.historia,g=a.diagnostico_principal||a.diagnostico,w=a.conduta||a.plano,y=a.medicamentos_uso||a.medicamentos;p&&(m.queixa_principal=p),v&&(m.historia_doenca_atual=v),g&&(m.diagnostico_principal=g),w&&(m.conduta=w),y&&(m.medicamentos_uso=y),a.alergias&&(m.alergias=a.alergias),a.exames_solicitados&&(m.exames_solicitados=a.exames_solicitados),a.data_retorno&&(m.data_retorno=a.data_retorno);try{const{data:N}=await ye[d.method](d.url,m);return N}catch(N){l=N}}else if(h===405){l=f;continue}else if(h===404){l=f;continue}else{l=f;break}}throw l||new Error("Falha ao criar pronturio: nenhum endpoint compatvel encontrado.")},async criarReceita(e={}){var C,E,U,D,k,L,_,Y,I;if("false".toLowerCase()==="true"){try{console.debug("[medicoService.criarReceita] criao desabilitada por VITE_RECEITAS_CREATE_DISABLED=true")}catch{}return{ok:!1,disabled:!0}}const t="/api/receitas/".replace(/\/?$/,"/"),a="/api/pacientes/".replace(/\/?$/,"/"),s="/api/consultas/".replace(/\/?$/,"/"),i="true".toLowerCase()==="true",o={...e},l=o.paciente_id||o.paciente,A=o.consulta_id||o.consulta,d={...o};!d.paciente_id&&l&&(d.paciente_id=l),!d.paciente&&l&&(d.paciente=l),!d.consulta_id&&A&&(d.consulta_id=A),!d.consulta&&A&&(d.consulta=A),!d.medicamentos&&o.medicamento&&(d.medicamentos=o.medicamento),!d.medicamento&&o.medicamentos&&(d.medicamento=o.medicamentos),!d.validade&&o.validade_receita&&(d.validade=o.validade_receita),o.nome_paciente&&!d.paciente_nome&&(d.paciente_nome=o.nome_paciente),o.medico&&!d.medico_nome&&(d.medico_nome=o.medico),o.crm&&!d.medico_crm&&(d.medico_crm=o.crm);const f=new Date;!d.data_prescricao&&!d.data_emissao&&(d.data_prescricao=f.toISOString());const h=($,J)=>{const M=new Date($);M.setDate(M.getDate()+J);const re=M.getFullYear(),K=String(M.getMonth()+1).padStart(2,"0"),G=String(M.getDate()).padStart(2,"0");return`${re}-${K}-${G}`};!d.validade&&!d.validade_receita&&(d.validade=h(f,30)),d.status||(d.status="PENDENTE");try{const $=d.medico_id||d.medico||await this._resolveMedicoId().catch(()=>null);$&&(d.medico_id||(d.medico_id=$),d.medico||(d.medico=$))}catch{}if(!d.consulta_id&&!d.consulta&&(d.paciente_id||d.paciente))try{const $=d.paciente_id||d.paciente,J=d.medico_id||d.medico||null,M=(()=>{const K=new Date,G=K.getFullYear(),z=String(K.getMonth()+1).padStart(2,"0"),Z=String(K.getDate()).padStart(2,"0");return`${G}-${z}-${Z}`})(),re=await this._ensureConsultaId($,J,M);if(re&&(d.consulta_id=re,d.consulta=re,i))try{console.debug("[medicoService.criarReceita] consulta_id resolvido automaticamente:",re)}catch{}}catch($){if(i)try{console.warn("[medicoService.criarReceita] no foi possvel resolver consulta_id automaticamente",(C=$==null?void 0:$.response)==null?void 0:C.status)}catch{}}const m=[],p="/api/receitas/".trim();p&&m.push(p),m.push(t),m.push(`${t}criar/`),m.push(`${t}create/`);const v=t.replace(/receitas\/?$/i,"receita/"),g=Array.from(new Set([v,"/receita/","/meu_app_receita/","/meu_app_receitas/"].filter(Boolean)));for(const $ of g){const J=$.replace(/\/?$/,"/");m.push(J),m.push(`${J}criar/`),m.push(`${J}create/`)}if(A&&m.push(`${s}${A}/receitas/`),l&&m.push(`${a}${l}/receitas/`),i){try{console.debug("[medicoService.criarReceita] payload:",d)}catch{}try{console.debug("[medicoService.criarReceita] candidatos:",m)}catch{}}let w=null,y=null;const N=new Set;for(const $ of m){if(!$)continue;const J=$.endsWith("/")?$:`${$}/`,M=["post","put","patch"];for(const re of M){y=`${re.toUpperCase()} ${J}`;try{if(i)try{console.debug("[medicoService.criarReceita] tentando:",y)}catch{}const{data:K}=await ye[re](J,d);if(i)try{console.debug("[medicoService.criarReceita] sucesso:",y,"",K)}catch{}return K}catch(K){const G=(E=K==null?void 0:K.response)==null?void 0:E.status;if(i)try{console.warn("[medicoService.criarReceita] falhou:",y,"status=",G,"detail=",((U=K==null?void 0:K.response)==null?void 0:U.data)||(K==null?void 0:K.message))}catch{}if(G&&[400,422].includes(G)){const z=`${re}:${J}`;if(!N.has(z)){N.add(z);const Z={},Ae=d.paciente_id||d.paciente,ee=d.medico_id||d.medico,R=d.medicamentos||d.medicamento,q=d.validade||d.validade_receita;if(Ae&&(Z.paciente=Ae,Z.paciente_id=Ae),ee&&(Z.medico=ee,Z.medico_id=ee),R&&(Z.medicamentos=R,Z.medicamento=R),d.posologia&&(Z.posologia=d.posologia),q&&(Z.validade=q),d.observacoes&&(Z.observacoes=d.observacoes),d.consulta_id||d.consulta){const te=d.consulta_id||d.consulta;Z.consulta=te,Z.consulta_id=te}try{if(i)try{console.debug("[medicoService.criarReceita] retry minimal:",re.toUpperCase(),J,Z)}catch{}const te=await ye[re](J,Z),F=te==null?void 0:te.data;if(i)try{console.debug("[medicoService.criarReceita] sucesso (minimal):",re.toUpperCase(),J,F)}catch{}return F}catch(te){if(i)try{console.warn("[medicoService.criarReceita] falhou (minimal):",re.toUpperCase(),J,(D=te==null?void 0:te.response)==null?void 0:D.status,((k=te==null?void 0:te.response)==null?void 0:k.data)||(te==null?void 0:te.message))}catch{}try{const F=(L=te==null?void 0:te.response)==null?void 0:L.data,X=typeof F=="string"&&F||(F==null?void 0:F.detail)||(F==null?void 0:F.message)||(te==null?void 0:te.message)||"Erro desconhecido",H=F&&typeof F=="object"?` | body=${JSON.stringify(F)}`:typeof F=="string"?` | body=${F}`:"";te.message=`Falha ao criar receita (minimal, ltima tentativa: ${y||""})  [${G||""}] ${X}${H}`}catch{}w=te;continue}}try{const Z=(_=K==null?void 0:K.response)==null?void 0:_.data,Ae=typeof Z=="string"&&Z||(Z==null?void 0:Z.detail)||(Z==null?void 0:Z.message)||(K==null?void 0:K.message)||"Erro desconhecido",ee=Z&&typeof Z=="object"?` | body=${JSON.stringify(Z)}`:typeof Z=="string"?` | body=${Z}`:"";K.message=`Falha ao criar receita (ltima tentativa: ${y||""})  [${G||""}] ${Ae}${ee}`}catch{}continue}if(G===404){w=K;break}if(G===405){w=K;continue}if(G===401)throw K;if(G&&[400,422].includes(G)){w=K;continue}w=K;break}}}if(w){const $=(Y=w==null?void 0:w.response)==null?void 0:Y.status,J=(I=w==null?void 0:w.response)==null?void 0:I.data,M=typeof J=="string"&&J||(J==null?void 0:J.detail)||(J==null?void 0:J.message)||(w==null?void 0:w.message)||"Erro desconhecido",re=J&&typeof J=="object"?` | body=${JSON.stringify(J)}`:"";throw new Error(`Falha ao criar receita (ltima tentativa: ${y||""})  [${$||""}] ${M}${re}`)}throw new Error("Falha ao criar receita: nenhum endpoint compatvel encontrado.")},async salvarItensReceita(e,r=[]){var f,h;if(!e)throw new Error("receitaId  obrigatrio para salvar itens.");if(!Array.isArray(r)||r.length===0)return{count:0,results:[]};const t="true".toLowerCase()==="true",a="/api/receitas/".replace(/\/?$/,"/"),s="/api/receitaitem/".trim(),i=r.map(m=>{var g;const p=m.medicamento_id||((g=m.medicamento)==null?void 0:g.id)||m.medicamento;return{receita:e,receita_id:e,medicamento_id:p,medicamento:p,nome:m.nome||m.medicamento_nome||m.descricao||m.texto||m.medicamento||m.medicamentos,medicamento_nome:m.medicamento_nome||m.nome||m.descricao||m.texto,descricao:m.descricao||m.texto||m.nome||m.medicamento,posologia:m.posologia||m.instrucoes||m.indicacoes,dose:m.dose||m.dosagem,frequencia:m.frequencia||m.freq||m.intervalo,duracao:m.duracao||m.dias||m.periodo,observacoes:m.observacoes||m.obs||m.nota}});for(let m=0;m<i.length;m++){const p=i[m];if(!p.medicamento_id){const g=(p.nome||p.medicamento_nome||p.descricao||"").toString().trim();if(!g)continue;let w=null;try{const y=await m1.search(g).catch(()=>[]),N=Array.isArray(y)?y:Array.isArray(y==null?void 0:y.results)?y.results:[],C=N.find(E=>String((E==null?void 0:E.nome)||"").toLowerCase()===g.toLowerCase())||N[0];C&&C.id&&(w=C.id)}catch{}if(!w)try{const y=await m1.create({nome:g,ativo:!0});w=(y==null?void 0:y.id)||null}catch{}w&&(p.medicamento_id=w,p.medicamento=w)}}const o=[];s&&o.push(s),o.push(`${a}${e}/itens/`),o.push(`${a}${e}/items/`),o.push(`${a}${e}/receitaitens/`),o.push("/api/receitaitem/"),o.push("/receitaitem/"),o.push("/api/receitas/itens/"),o.push("/receitas/itens/"),o.push("/meu_app_receitaitem/");let l=null;for(const m of o){if(!m)continue;const p=m.endsWith("/")?m:`${m}/`;try{if(t)try{console.debug("[salvarItensReceita] POST bulk ->",p)}catch{}const v={itens:i,receita:e,receita_id:e},{data:g}=await ye.post(p,v);return g||{count:i.length,results:i}}catch(v){if(((f=v==null?void 0:v.response)==null?void 0:f.status)===401)throw v;l=v;continue}}const A=[s?s.replace(/\/?$/,"/"):null,"/api/receitaitem/","/receitaitem/","/api/receitas/itens/","/receitas/itens/","/meu_app_receitaitem/"].filter(Boolean),d=[];for(const m of i){let p=null,v=null;for(const g of A){const w=g.endsWith("/")?g:`${g}/`;try{if(t)try{console.debug("[salvarItensReceita] POST single ->",w,m)}catch{}const{data:y}=await ye.post(w,m);p=y||m;break}catch(y){if(((h=y==null?void 0:y.response)==null?void 0:h.status)===401)throw y;v=y;continue}}p?d.push(p):(v&&(l=v),d.push(m))}if(l&&d.length===0)throw l;return{count:d.length,results:d}},async salvarArquivoAssinado(e,r,t="receita_assinada.pdf"){var h;if(!e)throw new Error("receitaId  obrigatrio para salvar arquivo assinado.");if(!r)throw new Error("Arquivo assinado (Blob/File)  obrigatrio.");const a="true".toLowerCase()==="true",s="/api/receitas/",i=s.endsWith("/")?s:`${s}/`,o="".trim(),l=r instanceof File?r:new File([r],t,{type:"application/pdf"}),A=new FormData;A.append("arquivo_assinado",l,t),A.append("pdf_assinado",l,t),A.append("documento_assinado",l,t),A.append("file",l,t),A.append("pdf",l,t),A.append("documento",l,t),A.append("receita",e),A.append("receita_id",e),A.append("id",e);const d=[];o&&d.push(o),d.push(`${i}${e}/arquivo-assinado/`),d.push(`${i}${e}/arquivo/`),d.push(`${i}${e}/upload/`),d.push(`${i}${e}/anexos/`),d.push(`${i}${e}/`),d.push(`/api/receitas/${e}/`);let f=null;for(const m of d){if(!m)continue;const p=m.endsWith("/")?m:`${m}/`,v=["post","put","patch"];for(const g of v)try{if(a)try{console.debug(`[salvarArquivoAssinado] ${g.toUpperCase()} ->`,p)}catch{}const{data:w}=await ye[g](p,A);return w||{ok:!0}}catch(w){const y=(h=w==null?void 0:w.response)==null?void 0:h.status;if(y===401)throw w;if(y===404){f=w;break}if(y===405){f=w;continue}if(y&&[400,422].includes(y)){f=w;continue}f=w;break}}throw f||new Error("Falha ao salvar arquivo assinado: nenhum endpoint compatvel.")},async computeSHA256Hex(e){const t=await(e instanceof Blob?e:new Blob([e])).arrayBuffer(),a=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(a);return Array.from(s).map(o=>o.toString(16).padStart(2,"0")).join("")},async gerarDocumentoReceitaLocal(e={}){const r={...e},t=r.nome_paciente||r.paciente_nome||"",a=r.filename||`Receita_${t||"Medica"}.pdf`;try{const s=r.previewSelector||r.elementSelector||"#receita-preview",i=await U0.generatePDFFromElement(s,{pageSize:"a4",orientation:"portrait",scale:Number(r.scale||2)});return{filename:a,blob:i}}catch{const i={medicamento:r.medicamento||r.medicamentos,medicamentos:r.medicamentos||r.medicamento,posologia:r.posologia||r.orientacoes,observacoes:r.observacoes,validade_receita:r.validade_receita||r.validade,data_prescricao:r.data_prescricao||r.data_emissao||new Date().toISOString(),itens:r.itens||[]},o={nome:r.medico_nome||r.medico,crm:r.medico_crm||r.crm,especialidade:r.especialidade||"",endereco_consultorio:r.endereco_consultorio||"",telefone_consultorio:r.telefone_consultorio||"",email:r.email_medico||""},l={nome:t||r.paciente,idade:r.idade,cpf:r.cpf,data_nascimento:r.data_nascimento,endereco:r.endereco_paciente||"",telefone:r.telefone_paciente||""},A=r.medico_id||r.medico||await this._resolveMedicoId().catch(()=>"default"),d=await U0.generatePDF(i,o,l,A);return{filename:a,blob:d}}},async gerarDocumentoReceita(e={}){var v,g,w;const r="true".toLowerCase()==="true",t="/api/receitas/".replace(/\/?$/,"/"),a={...e},s=a.paciente_id||a.paciente,i=a.consulta_id||a.consulta,o=(a.formato||"pdf").toLowerCase(),l={...a};!l.paciente_id&&s&&(l.paciente_id=s),!l.paciente&&s&&(l.paciente=s),!l.consulta_id&&i&&(l.consulta_id=i),!l.consulta&&i&&(l.consulta=i),!l.medicamentos&&a.medicamento&&(l.medicamentos=a.medicamento),!l.medicamento&&a.medicamentos&&(l.medicamento=a.medicamentos),!l.validade&&a.validade_receita&&(l.validade=a.validade_receita),a.nome_paciente&&!l.paciente_nome&&(l.paciente_nome=a.nome_paciente),a.medico&&!l.medico_nome&&(l.medico_nome=a.medico),a.crm&&!l.medico_crm&&(l.medico_crm=a.crm),l.formato=o;try{const y=l.medico_id||l.medico||await this._resolveMedicoId().catch(()=>null);y&&(l.medico_id||(l.medico_id=y),l.medico||(l.medico=y))}catch{}const A=[],d="/api/receitas/gerar/".trim();d&&A.push(d),A.push(`${t}pdf/`),A.push(`${t}gerar/`),A.push(`${t}documento/`),A.push("/api/gerar-receita/"),(y=>{const N=y.replace(/\/?$/,"/");A.push(`${N}generate/`),A.push(`${N}preview/`)})(t);const h=t.replace(/receitas\/?$/i,"receita/");if(h!==t&&(A.push(`${h}pdf/`),A.push(`${h}gerar/`)),r)try{console.debug("[medicoService.gerarDocumentoReceita] candidatos:",A)}catch{}const m=async y=>{var D,k,L,_,Y,I,$;const N=((D=y.headers)==null?void 0:D["content-type"])||((L=(k=y.headers)==null?void 0:k.get)==null?void 0:L.call(k,"content-type"))||"",C=((_=y.headers)==null?void 0:_["content-disposition"])||((I=(Y=y.headers)==null?void 0:Y.get)==null?void 0:I.call(Y,"content-disposition"));let E=`receita.${o}`;if(C){const J=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(C);E=decodeURIComponent((J==null?void 0:J[1])||(J==null?void 0:J[2])||E)}if(N.includes("application/json"))try{const J=await new Response(y.data).text(),M=JSON.parse(J),re=M.file||M.url||M.pdf||M.documento||M.download_url||M.link;if(re){const K=await ye.get(re,{responseType:"blob"}),G=new Blob([K.data],{type:(($=K.headers)==null?void 0:$["content-type"])||(o==="pdf"?"application/pdf":"application/vnd.openxmlformats-officedocument.wordprocessingml.document")});return{filename:E||re.split("/").pop()||`receita.${o}`,blob:G}}}catch{}const U=new Blob([y.data],{type:N||(o==="pdf"?"application/pdf":"application/octet-stream")});return{filename:E,blob:U}};let p=null;for(const y of A){if(!y)continue;const N=y.endsWith("/")?y:`${y}/`;try{if(r)try{console.debug("[gerarDocumentoReceita] POST",N)}catch{}const C=await ye.post(N,l,{responseType:"blob"});return await m(C)}catch(C){if(((v=C==null?void 0:C.response)==null?void 0:v.status)===401)throw C;p=C}try{if(r)try{console.debug("[gerarDocumentoReceita] PUT",N)}catch{}const C=await ye.put(N,l,{responseType:"blob"});return await m(C)}catch(C){if(((g=C==null?void 0:C.response)==null?void 0:g.status)===401)throw C;p=C}try{if(r)try{console.debug("[gerarDocumentoReceita] GET",N)}catch{}const C=await ye.get(N,{params:l,responseType:"blob"});return await m(C)}catch(C){if(((w=C==null?void 0:C.response)==null?void 0:w.status)===401)throw C;p=C}}try{const{PDFDocument:y,StandardFonts:N,rgb:C}=await Qs(async()=>{const{PDFDocument:$,StandardFonts:J,rgb:M}=await import("./index-Cwbr6lO_.js");return{PDFDocument:$,StandardFonts:J,rgb:M}},[]),E=await y.create(),U=E.addPage([595.28,841.89]),D=await E.embedFont(N.Helvetica),k=($,J,M,re=12,K=C(0,0,0))=>{U.drawText(String($||""),{x:J,y:M,size:re,font:D,color:K})};let L=800;k("Receita Mdica",50,L,16),L-=30,k(`Paciente: ${l.nome_paciente||l.paciente_nome||l.paciente_id||""}`,50,L),L-=18,k(`Idade: ${l.idade||""}`,50,L),L-=18,k(`RG/CPF: ${l.rg||l.cpf||""}`,50,L),L-=18,k(`Nascimento: ${l.data_nascimento||""}`,50,L),L-=24,k("Medicamentos",50,L,14),L-=18,k(String(l.medicamentos||l.medicamento||""),50,L),L-=36,k("Posologia",50,L,14),L-=18,k(String(l.posologia||""),50,L),L-=36,l.observacoes&&(k("Observaes",50,L,14),L-=18,k(String(l.observacoes),50,L),L-=36),k(`Mdico: ${l.medico||""}`,50,L),L-=18,k(`CRM: ${l.crm||""}`,50,L),L-=18,k(`Endereo: ${l.endereco_consultorio||""}`,50,L),L-=18,k(`Telefone: ${l.telefone_consultorio||""}`,50,L),L-=24;const _=await E.save(),Y=new Blob([_],{type:"application/pdf"});return{filename:`receita.${o}`,blob:Y}}catch{throw p||new Error("Falha ao gerar documento de receita: nenhum endpoint compatvel e fallback local indisponvel.")}},async buscarPacientes(e){return(await ye.get("/api/pacientes/",{params:{search:e}})).data},async atualizarPacienteById(e,r){if(!e)throw new Error("id do paciente  obrigatrio");const t="/api/pacientes/",a=t.endsWith("/")?t:`${t}/`;return(await ye.patch(`${a}${e}/`,r)).data},async _resolveMedicoId(){var e,r,t,a,s,i;try{const o=await this.getPerfil();if((e=o==null?void 0:o.medico)!=null&&e.id)return o.medico.id;if(o!=null&&o.id&&(o.crm||o.matricula||o.especialidade))return o.id;const l=((r=o==null?void 0:o.user)==null?void 0:r.id)||((t=Vr.getCurrentUser())==null?void 0:t.id);if(!l)return null;const A="/api/medicos/",d=A.endsWith("/")?A:`${A}/`,f="user,user__id,user_id,usuario,usuario_id".split(",").map(h=>h.trim()).filter(Boolean);for(const h of f)try{const m=await ye.get(d,{params:{[h]:l}}),p=Array.isArray((a=m.data)==null?void 0:a.results)?m.data.results:m.data;if(Array.isArray(p)){const v=p.find(g=>{var w,y;return((w=g==null?void 0:g.user)==null?void 0:w.id)===l||((y=g==null?void 0:g.usuario)==null?void 0:y.id)===l||(g==null?void 0:g.user)===l||(g==null?void 0:g.usuario)===l});if(v!=null&&v.id)return v.id;continue}if(p&&typeof p=="object"){const v=p;if((((s=v==null?void 0:v.user)==null?void 0:s.id)===l||((i=v==null?void 0:v.usuario)==null?void 0:i.id)===l||(v==null?void 0:v.user)===l||(v==null?void 0:v.usuario)===l)&&(v!=null&&v.id))return v.id;continue}}catch{}}catch{}return null},async _ensureConsultaId(e,r=null,t=null){var a,s,i,o;try{if(!e)return null;const l="true".toLowerCase()==="true",A=(()=>{if(t&&/^\d{4}-\d{2}-\d{2}$/.test(String(t)))return t;const f=new Date,h=m=>String(m).padStart(2,"0");return`${f.getFullYear()}-${h(f.getMonth()+1)}-${h(f.getDate())}`})(),d="/api/consultas/".replace(/\/?$/,"/");try{const f={paciente:e,paciente_id:e,date:A,data:A,dia:A,data__date:A},h=r||await this._resolveMedicoId().catch(()=>null);h&&(f.medico=h,f.medico_id=h);const m=await ye.get(d,{params:f}),p=Array.isArray((a=m.data)==null?void 0:a.results)?m.data.results:m.data;if(Array.isArray(p)){const v=p.find(g=>(g==null?void 0:g.id)||(g==null?void 0:g.consulta_id)||(g==null?void 0:g.uuid));if(v){const g=v.id||v.consulta_id||v.uuid;if(l)try{console.debug("[_ensureConsultaId] encontrada consulta existente:",g)}catch{}return g}}}catch(f){if(l)try{console.warn("[_ensureConsultaId] falha ao buscar consulta existente:",(s=f==null?void 0:f.response)==null?void 0:s.status)}catch{}}try{const f=r||await this._resolveMedicoId().catch(()=>null);if(!f){if(l)try{console.warn("[_ensureConsultaId] mdico no resolvido; abortando criao da consulta")}catch{}return null}const h={medico:f,medico_id:f,paciente:e,paciente_id:e,data_hora:`${A}T00:00:00`,tipo:"rotina",motivo:"Emisso de receita automtica"},m=[d];for(const p of m){const v=p.endsWith("/")?p:`${p}/`;try{if(l)try{console.debug("[_ensureConsultaId] criando consulta em:",v,h)}catch{}const{data:g}=await ye.post(v,h),w=(g==null?void 0:g.id)||(g==null?void 0:g.consulta_id)||(g==null?void 0:g.uuid);if(w){if(l)try{console.debug("[_ensureConsultaId] consulta criada:",w)}catch{}return w}}catch(g){const w=(i=g==null?void 0:g.response)==null?void 0:i.status;if(l)try{console.warn("[_ensureConsultaId] falha ao criar em",v,w,((o=g==null?void 0:g.response)==null?void 0:o.data)||(g==null?void 0:g.message))}catch{}if([401,404,405].includes(w))continue}}}catch(f){if(l)try{console.warn("[_ensureConsultaId] erro inesperado na criao:",f==null?void 0:f.message)}catch{}}return null}catch{return null}},async getCertificadoInfo(){var o,l;const e=[],r="".trim();r&&e.push(r);const t="/api/medicos/",a=t.endsWith("/")?t:`${t}/`;e.push(`${a}me/certificado/`),e.push(`${a}certificado/`),e.push("/medico/certificado/"),e.push("/assinatura/certificado/"),e.push("/certificados/"),e.push("/api/medicos/me/certificado/"),e.push("/api/medicos/certificado/"),e.push("/api/certificados/");let s=null;try{s=await this._resolveMedicoId()}catch{}s&&(e.push(`${a}${s}/certificado/`),e.push(`${a}${s}/assinatura/`),e.push(`/api/medicos/${s}/certificado/`),e.push(`/api/medicos/${s}/assinatura/`));let i=null;for(const A of e){if(!A)continue;const d=A.endsWith("/")?A:`${A}/`;try{const{data:f}=await ye.get(d),h=Array.isArray(f==null?void 0:f.results)?(o=f.results)==null?void 0:o[0]:Array.isArray(f)?f[0]:f;return h||f||null}catch(f){const h=(l=f==null?void 0:f.response)==null?void 0:l.status;if(h===404){i=f;continue}if(h===401)throw f;i=f}}if(i)throw i;return null},async uploadCertificado(e){var A;let r;if(e instanceof FormData)r=e;else if(e&&e.name)r=new FormData,r.append("file",e),r.append("certificado",e),r.append("pfx",e);else throw new Error("Parmetro invlido:  esperado FormData ou File.");const t=[],a="/api/medicos/me/certificado/".trim();a&&t.push(a);const s="/api/medicos/",i=s.endsWith("/")?s:`${s}/`;t.push(`${i}me/certificado/`),t.push(`${i}certificado/`),t.push("/medico/certificado/"),t.push("/assinatura/certificado/"),t.push("/certificados/");let o=null;try{o=await this._resolveMedicoId()}catch{}o&&(t.push(`${i}${o}/certificado/`),t.push(`${i}${o}/assinatura/`));let l=null;for(const d of t){if(!d)continue;const f=d.endsWith("/")?d:`${d}/`,h=["post","put","patch"];for(const m of h)try{const{data:p}=await ye[m](f,r);return p}catch(p){const v=(A=p==null?void 0:p.response)==null?void 0:A.status;if(v===404){l=p;break}if(v===405){l=p;continue}if(v===401||v&&[400,422].includes(v))throw p;l=p;break}}throw l||new Error("Falha ao enviar certificado: nenhum endpoint compatvel.")},async enviarReceita({receitaId:e,pacienteId:r,email:t,formato:a="pdf",file:s,filename:i}){var v,g,w,y,N;if(!t&&!r&&!e&&!s)throw new Error("Fornea ao menos email, pacienteId, receitaId ou arquivo para envio.");const o="true".toLowerCase()==="true",l="/api/receitas/".replace(/\/?$/,"/"),A="/api/pacientes/".replace(/\/?$/,"/");if(!e&&r){const C=async D=>{var k;try{const L=await ye.get(l,{params:D}),_=L==null?void 0:L.data,Y=Array.isArray(_)?_:Array.isArray(_==null?void 0:_.results)?_.results:[],I=Y==null?void 0:Y[0],$=(I==null?void 0:I.id)||(I==null?void 0:I.pk)||(I==null?void 0:I.uuid)||((k=I==null?void 0:I.receita)==null?void 0:k.id);if($)return String($)}catch{}return null},E=[],U=["-created_at","-created","-data","-date","-id","-pk"];for(const D of U)E.push({paciente:r,ordering:D,page_size:1,limit:1}),E.push({paciente_id:r,ordering:D,page_size:1,limit:1});for(const D of E){const k=await C(D);if(k){e=k;break}}o&&e&&console.debug("[medicoService.enviarReceita] receitaId inferido via listagem:",e)}const d=new FormData;if(s){const C=i||s.name||`receita.${a||"pdf"}`;d.append("file",s,C),d.append("pdf",s,C),d.append("documento",s,C)}t&&(d.append("email",t),d.append("to",t),d.append("destinatario",t),d.append("paciente_email",t)),a&&d.append("formato",a),e&&(d.append("id",e),d.append("receita",e),d.append("receita_id",e)),r&&(d.append("paciente",r),d.append("paciente_id",r)),d.append("assinar","true");const f={email:t,to:t,destinatario:t,paciente_email:t,formato:a,id:e,receita:e,receita_id:e,paciente:r,paciente_id:r,assinar:!0},h=[],m="/api/receitas/enviar/".trim();m&&h.push(m),e&&(h.push(`${l}${e}/enviar/`),h.push(`${l}${e}/enviar-email/`),h.push(`${l}${e}/enviar_email/`),h.push(`${l}${e}/email/`),h.push(`${l}${e}/send-email/`),h.push(`${l}${e}/send/`)),h.push(`${l}enviar/`),h.push(`${l}enviar-email/`),h.push(`${l}enviar_email/`),h.push(`${l}email/`),h.push(`${l}send-email/`),h.push(`${l}send/`),h.push("/email/receitas/"),h.push("/receitas/email/"),h.push("/email/send/"),h.push("/send-email/"),r&&(h.push(`${A}${r}/receitas/enviar/`),h.push(`${A}${r}/receitas/email/`),h.push(`${A}${r}/receitas/send/`),e&&(h.push(`${A}${r}/receitas/${e}/enviar/`),h.push(`${A}${r}/receitas/${e}/enviar-email/`),h.push(`${A}${r}/receitas/${e}/enviar_email/`),h.push(`${A}${r}/receitas/${e}/email/`),h.push(`${A}${r}/receitas/${e}/send-email/`),h.push(`${A}${r}/receitas/${e}/send/`)));let p=null;for(const C of h){if(!C)continue;const E=C.endsWith("/")?C:`${C}/`,U=k=>{o&&console.debug(`[medicoService.enviarReceita] ${k} ->`,E,{receitaId:e,pacienteId:r,email:t,formato:a})};if(/\/(enviar|email|send(-email)?)\/?$/i.test(E)&&!s)try{U("GET");const k={email:t,formato:a,id:e,receita:e,receita_id:e,paciente:r,paciente_id:r,assinar:!0},{data:L}=await ye.get(E,{params:k});return L}catch(k){if(p=k,((v=k==null?void 0:k.response)==null?void 0:v.status)===401)throw k}try{U("POST multipart");const{data:k}=await ye.post(E,d);return k}catch(k){const L=(g=k==null?void 0:k.response)==null?void 0:g.status;if(L===401)throw k;L&&[400,422].includes(L),p=k}if(!s)try{U("POST json");const{data:k}=await ye.post(E,f);return k}catch(k){const L=(w=k==null?void 0:k.response)==null?void 0:w.status;if(L===401)throw k;L&&[400,422].includes(L),p=k}try{U("PUT multipart");const{data:k}=await ye.put(E,d);return k}catch(k){const L=(y=k==null?void 0:k.response)==null?void 0:y.status;if(L===401)throw k;L&&[400,422].includes(L),p=k}if(!s)try{U("GET fallback");const k={email:t,formato:a,id:e,receita:e,receita_id:e,paciente:r,paciente_id:r,assinar:!0},{data:L}=await ye.get(E,{params:k});return L}catch(k){if(((N=k==null?void 0:k.response)==null?void 0:N.status)===401)throw k;p=k}}throw p||new Error("Falha ao enviar receita: nenhum endpoint compatvel encontrado.")},async ensureMedicoRecord(e={}){var d;const r=Vr.getCurrentUser()||await Vr.refreshCurrentUser(),t=r==null?void 0:r.id;if(!t)throw new Error("Usurio no autenticado ou no disponvel.");try{const f=await this._resolveMedicoId();if(f){const h="/api/medicos/",m=h.endsWith("/")?h:`${h}/`;try{return(await ye.get(`${m}${f}/`)).data||{id:f}}catch{return{id:f}}}}catch{}const a="/api/medicos/",s=a.endsWith("/")?a:`${a}/`,i={...e};i.user=i.user||t,i.user_id=i.user_id||t,i.usuario=i.usuario||t,i.usuario_id=i.usuario_id||t;const o=String(i.status||i.situacao||i.state||"pending").toLowerCase();i.status=o,i.situacao=i.situacao||o,i.state=i.state||o;const l=[s,`${s}create/`,"/api/medicos/","/admin/medicos/"];let A=null;for(const f of l){const h=f.endsWith("/")?f:`${f}/`;try{const{data:m}=await ye.post(h,i),p=(m==null?void 0:m.id)||(m==null?void 0:m.pk)||(m==null?void 0:m.uuid);if(p)try{localStorage.setItem("medico_id",String(p))}catch{}try{t&&localStorage.setItem(`medicoApplicationStatus:${t}`,"pending")}catch{}return m}catch(m){const p=(d=m==null?void 0:m.response)==null?void 0:d.status;if(p===401)throw m;if(p===405){A=m;continue}if(A=m,Object.values(e||{}).some(g=>g instanceof File||g instanceof Blob))try{const g=new FormData;for(const[N,C]of Object.entries(i))C!=null&&(g.append(N,C),N==="user"&&(g.append("usuario",C),g.append("user_id",C),g.append("usuario_id",C)),N==="status"&&(g.append("situacao",C),g.append("state",C)));const{data:w}=await ye.post(h,g),y=(w==null?void 0:w.id)||(w==null?void 0:w.pk)||(w==null?void 0:w.uuid);if(y)try{localStorage.setItem("medico_id",String(y))}catch{}try{t&&localStorage.setItem(`medicoApplicationStatus:${t}`,"pending")}catch{}return w}catch(g){A=g;continue}}}throw A||new Error("Falha ao criar registro do mdico: nenhum endpoint compatvel.")},async ensurePerfilMedico(e={}){var f,h;try{const m=await this.getPerfil();if(m&&(m.id||m.user||m.medico))return m}catch{}const r=Vr.getCurrentUser()||await Vr.refreshCurrentUser(),t=r==null?void 0:r.id;if(!t)throw new Error("Usurio no autenticado ou no disponvel.");let a=e.medico_id||e.medico||null;if(!a){try{a=await this._resolveMedicoId()}catch{}if(!a)try{const m=await this.ensureMedicoRecord({});a=(m==null?void 0:m.id)||((f=m==null?void 0:m.medico)==null?void 0:f.id)||null}catch{}}const s={...e};s.user=s.user||t,s.user_id=s.user_id||t,s.usuario=s.usuario||t,s.usuario_id=s.usuario_id||t,a&&(s.medico=s.medico||a,s.medico_id=s.medico_id||a);const i=String(s.status||s.situacao||s.state||"pending").toLowerCase();s.status=i,s.situacao=s.situacao||i,s.state=s.state||i;const o=["/perfil-medico/","/perfil/medico/","/perfis/medico/","/profiles/medico/","/api/perfil-medico/","/api/perfil/medico/"],l="/api/medicos/",A=l.endsWith("/")?l:`${l}/`;a&&(o.push(`${A}${a}/perfil/`),o.push(`/api/medicos/${a}/perfil/`)),o.push(`${A}me/perfil/`);let d=null;for(const m of o){const p=m.endsWith("/")?m:`${m}/`,v=["post","put","patch"];for(const g of v)try{const{data:w}=await ye[g](p,s);try{t&&localStorage.setItem(`medicoApplicationStatus:${t}`,"pending")}catch{}return w}catch(w){const y=(h=w==null?void 0:w.response)==null?void 0:h.status;if(y===401)throw w;if(y===405){d=w;continue}if(y===404){d=w;break}d=w;break}}throw d||new Error("Falha ao criar perfil do mdico: nenhum endpoint compatvel.")},async ensureMedicoAndPerfil(e={},r={}){var l;const t=Vr.getCurrentUser()||await Vr.refreshCurrentUser(),a=t==null?void 0:t.id,s=await this.ensureMedicoRecord(e),i=(s==null?void 0:s.id)||((l=s==null?void 0:s.medico)==null?void 0:l.id)||null,o=await this.ensurePerfilMedico({...r,medico_id:r.medico_id||i});try{a&&localStorage.setItem(`medicoApplicationStatus:${a}`,"pending")}catch{}return{medico:s,perfil:o}},async updatePerfilMedico(e={}){var h,m;const r={...e},t=e.telefone||e.celular||e.phone||((h=e.contato)==null?void 0:h.telefone);t!=null&&(r.telefone=t,r.celular||(r.celular=t),r.phone||(r.phone=t),r.contato={...r.contato||{},telefone:t});let a=e.endereco||e.address||e.local;a&&typeof a=="object"&&(a=`${a.logradouro||a.rua||""} ${a.numero||""} ${a.bairro||""} ${a.cidade||""} ${a.estado||""}`.trim()),a!=null&&(r.endereco=a,r.address||(r.address=a),r.local||(r.local=a));const s=e.especialidade??e.especialidade_id??e.especialidade_nome??e.especialidade_label??e.especialidade_obj;if(s!=null){if(typeof s=="number")r.especialidade_id=s;else if(typeof s=="string")r.especialidade=s,r.especialidade_nome=s,r.especialidade_label=s;else if(typeof s=="object"){const p=s.nome||s.label||s.titulo,v=s.id;v!=null&&(r.especialidade_id=v),p&&(r.especialidade=p,r.especialidade_nome=p,r.especialidade_label=p)}}let i=null;try{i=await this._resolveMedicoId()}catch{}const o="/api/medicos/",l=o.endsWith("/")?o:`${o}/`,A=[],d="".trim();d&&A.push(d),A.push(`${l}me/`),i&&A.push(`${l}${i}/`),i&&A.push(`${l}${i}/perfil/`),A.push(`${l}me/perfil/`),A.push("/perfil-medico/"),A.push("/perfil/medico/"),A.push("/perfis/medico/"),A.push("/profiles/medico/"),A.push("/api/perfil-medico/"),A.push("/api/perfil/medico/");let f=null;for(const p of A){if(!p)continue;const v=p.endsWith("/")?p:`${p}/`,g=["patch","put","post"];for(const w of g)try{const{data:y}=await ye[w](v,r);return y}catch(y){const N=(m=y==null?void 0:y.response)==null?void 0:m.status;if(N===401)throw y;if(N===404){f=y;break}if(N===405){f=y;continue}if(N&&[400,422].includes(N))throw y;f=y;break}}throw f||new Error("Falha ao atualizar dados do mdico: nenhum endpoint compatvel.")},async _applySignatureStampToPdf(e,r={}){var t,a,s;try{const i=String(r.signerName||"Mdico(a)").trim(),o=String(r.dateString||(()=>{const J=new Date,M=re=>String(re).padStart(2,"0");return`${J.getFullYear()}.${M(J.getMonth()+1)}.${M(J.getDate())} ${M(J.getHours())}:${M(J.getMinutes())}:${M(J.getSeconds())}`})()),l=r.receitaId||null,A=r.verifyUrl||this.buildVerifyUrl(l),d=r.certInfo||null,{PDFDocument:f,StandardFonts:h,rgb:m}=await Qs(async()=>{const{PDFDocument:J,StandardFonts:M,rgb:re}=await import("./index-Cwbr6lO_.js");return{PDFDocument:J,StandardFonts:M,rgb:re}},[]),p=await Qs(()=>import("./browser-Dro9Jmf0.js").then(J=>J.b),[]),v=e instanceof Blob?e:new Blob([await((t=e.arrayBuffer)==null?void 0:t.call(e))]),g=new Uint8Array(await v.arrayBuffer()),w=await f.load(g),y=w.getPages(),N=y[y.length-1],C=await w.embedFont(h.Helvetica),E=await w.embedFont(h.HelveticaBold);let U;try{const M=(await p.default.toDataURL(String(A||""),{errorCorrectionLevel:"H",margin:1,width:256,color:{dark:"#000000",light:"#FFFFFF"}})||"").split(",")[1]||"",re=Uint8Array.from(atob(M),K=>K.charCodeAt(0));U=await w.embedPng(re)}catch{}const{width:D,height:k}=N.getSize(),L={x:80,y:80,w:200,h:80},_={x:D-150,y:80,w:80,h:80};N.drawRectangle({x:L.x,y:L.y,width:L.w,height:L.h,color:m(.98,.98,1),borderColor:m(.2,.2,.8),borderWidth:1}),N.drawText("ASSINATURA DIGITAL",{x:L.x+10,y:L.y+L.h-15,size:10,font:E,color:m(.2,.2,.8)});const Y=((a=d==null?void 0:d.subject)==null?void 0:a.commonName)||i;N.drawText(`${Y}`,{x:L.x+10,y:L.y+L.h-30,size:9,font:C,color:m(0,0,0)});let I=L.h-45;d!=null&&d.subject&&(d.subject.organizationName&&(N.drawText(`${d.subject.organizationName}`,{x:L.x+10,y:L.y+I,size:7,font:C,color:m(.3,.3,.3)}),I-=10),d.subject.emailAddress&&(N.drawText(`${d.subject.emailAddress}`,{x:L.x+10,y:L.y+I,size:7,font:C,color:m(.3,.3,.3)}),I-=10)),N.drawText(`${o}`,{x:L.x+10,y:L.y+I,size:8,font:C,color:m(0,0,0)}),N.drawText("Escaneie para verificar",{x:_.x,y:_.y-15,size:8,font:C,color:m(.5,.5,.5)}),U&&N.drawImage(U,{x:_.x,y:_.y,width:_.w,height:_.h});const $=await w.save();return new Blob([$],{type:"application/pdf"})}catch(i){try{console.warn("[medicoService] selo visual falhou:",(i==null?void 0:i.message)||i)}catch{}return e instanceof Blob?e:new Blob([await((s=e.arrayBuffer)==null?void 0:s.call(e))])}},buildVerifyUrl(e){var r;try{const t="https://tcc-back-ktwy.onrender.com/verificar/".trim();if(t){const s=t.replace(/\/?$/,"/");return e?`${s}${e}`:s}const a="https://tcc-back-ktwy.onrender.com".replace(/\/$/,"");return e?`${a}/receitas/${e}/verificar/`:a||((r=window==null?void 0:window.location)==null?void 0:r.origin)||""}catch{return""}},async applySignatureStamp(e,r={}){return await this._applySignatureStampToPdf(e,r)},async signDocumento(e,r={}){var Y,I,$,J,M,re,K,G,z,Z;let t;if(e instanceof FormData)t=e;else if(e&&e.name)t=new FormData,t.append("file",e),t.append("documento",e),t.append("pdf",e),t.append("arquivo",e);else throw new Error("Parmetro invlido:  esperado FormData ou File PDF.");try{if((r==null?void 0:r.visibleStamp)!==!1){let ee=t.get("file")||t.get("pdf")||t.get("documento");if(!ee&&e&&e.name&&(ee=e),ee){const R=(r==null?void 0:r.receitaId)||(r==null?void 0:r.id)||(r==null?void 0:r.receita)||null;let q=r==null?void 0:r.signerName;if(!q){const X=await this.getCertificadoInfo().catch(()=>null);q=(X==null?void 0:X.subject_name)||(X==null?void 0:X.subject)||(X==null?void 0:X.nome)||(r==null?void 0:r.medicoNome)||"Mdico(a)"}const te=await this._applySignatureStampToPdf(ee,{signerName:q,dateString:new Date().toLocaleString(),receitaId:R}),F=new File([te],ee.name||"documento.pdf",{type:"application/pdf"});["file","pdf","documento","arquivo"].forEach(X=>{t.has(X)&&t.set(X,F)})}}}catch{}const a=r.reason||r.motivo,s=r.location||r.local;a&&(t.append("reason",a),t.append("motivo",a)),s&&(t.append("location",s),t.append("local",s));try{t.append("formato","pdf"),t.append("format","pdf"),t.append("tipo","PADES"),t.append("assinar","true")}catch{}const i=Ae=>{const ee=t instanceof FormData?t.get(Ae):null;return typeof ee=="string"?ee==="true"||ee==="1"||ee.toLowerCase()==="yes":!!ee},o=!!(r.useToken||r.use_token||r.token||r.pkcs11||r.hardware||r.smartcard||i("useToken")||i("use_token")||i("token")||i("pkcs11")||i("hardware")||i("smartcard"));let l=null,A=null;t instanceof FormData&&(l=t.get("pfx")||t.get("certificado")||t.get("pkcs12"),A=t.get("pfx_password")||t.get("senha")||t.get("password"));const d=r&&r.pfxFile instanceof File?r.pfxFile:l,f=(typeof(r==null?void 0:r.pfxPassword)=="string"?r.pfxPassword.trim():"")||(typeof A=="string"?A:""),h=(r.pin||r.tokenPin||r.pin_code||(t instanceof FormData?t.get("pin")||t.get("token_pin")||t.get("pin_code"):"")||"").toString().trim();if(o)t.append("use_token","true"),t.append("pkcs11","true"),t.append("hardware","true"),h&&(t.append("pin",h),t.append("token_pin",h),t.append("pin_code",h)),r.subject&&t.append("subject",r.subject),r.serial&&t.append("serial",r.serial),r.slot&&t.append("slot",String(r.slot)),r.keyId&&t.append("key_id",r.keyId);else{if(!(d instanceof File))throw new Error("Certificado digital (.pfx/.p12)  obrigatrio para assinatura.");if(!f)throw new Error("Senha do certificado PFX/P12  obrigatria para assinatura.");t.append("pfx",d),t.append("certificado",d),t.append("pkcs12",d),t.append("arquivo_pfx",d),t.append("pfx_password",f),t.append("senha",f),t.append("password",f),t.append("senha_certificado",f),t.append("no_persist","true"),t.append("ephemeral","true")}const m=(r==null?void 0:r.receitaId)||(r==null?void 0:r.receita_id)||(r==null?void 0:r.id);m&&(t.append("receita",m),t.append("receita_id",m),t.append("id",m),t.append("id_receita",m));const p="true".toLowerCase()==="true",v=[],g="/api/assinatura/assinar/".trim();g&&v.push(g);const w="/api/medicos/",y=w.endsWith("/")?w:`${w}/`;v.push("/api/assinatura/assinar/"),v.push("/assinatura/assinar/"),v.push("/api/assinar-receita/"),v.push("/assinar-receita/"),v.push("/documentos/assinar/"),v.push("/receitas/assinar/"),v.push(`${y}me/assinar/`),v.push(`${y}assinar/`);let N=null;try{N=await this._resolveMedicoId()}catch{}N&&(v.push(`${y}${N}/assinar/`),v.push(`${y}${N}/assinatura/`));const C=async Ae=>{try{const ee=await Ae.arrayBuffer(),R=new Uint8Array(ee);let q="";for(let te=0;te<R.length;te++)q+=String.fromCharCode(R[te]);return btoa(q)}catch{return null}},E=t.get("file")||t.get("pdf")||t.get("documento"),U=t.get("pfx")||t.get("certificado")||t.get("pkcs12"),D=E?await C(E):null,k=U?await C(U):null,L={formato:"pdf",id:m,receita:m,receita_id:m,file_base64:D,pdf_base64:D,documento_base64:D,arquivo_base64:D,pfx_base64:k,certificado_base64:k,pkcs12_base64:k,password:f,senha:f,pfx_password:f,reason:a,motivo:a,location:s,local:s,use_token:o?!0:void 0,pkcs11:o?!0:void 0,hardware:o?!0:void 0,pin:h,token_pin:h||void 0,pin_code:h||void 0,tipo_assinatura:"pades",algoritmo:"sha256"};let _=null;for(const Ae of v){if(!Ae)continue;const ee=Ae.endsWith("/")?Ae:`${Ae}/`,R=["post","put"];for(const q of R)try{p&&console.debug(`[signDocumento] ${q.toUpperCase()} multipart ->`,ee);const te=await ye[q](ee,t,{responseType:"blob"}),F=((Y=te.headers)==null?void 0:Y["content-disposition"])||(($=(I=te.headers)==null?void 0:I.get)==null?void 0:$.call(I,"content-disposition"));let X="documento_assinado.pdf";if(F){const V=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(F);try{X=decodeURIComponent((V==null?void 0:V[1])||(V==null?void 0:V[2])||X)}catch{X=(V==null?void 0:V[1])||(V==null?void 0:V[2])||X}}const H=new Blob([te.data],{type:((J=te.headers)==null?void 0:J["content-type"])||"application/pdf"});return{filename:X,blob:H}}catch(te){const F=(M=te==null?void 0:te.response)==null?void 0:M.status;if(F===404){_=te;break}if(F===405){_=te;continue}if(F===401)throw te;try{p&&console.debug(`[signDocumento] ${q.toUpperCase()} json ->`,ee);const X=await ye[q](ee,L,{responseType:"json"}),H=((re=X.headers)==null?void 0:re["content-type"])||"";if(/application\/pdf/i.test(H)){const ve=((K=X.headers)==null?void 0:K["content-disposition"])||((z=(G=X.headers)==null?void 0:G.get)==null?void 0:z.call(G,"content-disposition"));let Be="documento_assinado.pdf";if(ve){const xe=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(ve);try{Be=decodeURIComponent((xe==null?void 0:xe[1])||(xe==null?void 0:xe[2])||Be)}catch{Be=(xe==null?void 0:xe[1])||(xe==null?void 0:xe[2])||Be}}const ke=new Blob([X.data],{type:"application/pdf"});return{filename:Be,blob:ke}}const V=X.data||{},ae=(V==null?void 0:V.pdf_base64)||(V==null?void 0:V.documento_base64)||(V==null?void 0:V.file_base64)||(V==null?void 0:V.arquivo_base64)||null;if(ae){const ve=atob(String(ae)),Be=new Array(ve.length);for(let lt=0;lt<ve.length;lt++)Be[lt]=ve.charCodeAt(lt);const ke=new Uint8Array(Be),xe=new Blob([ke],{type:"application/pdf"});return{filename:(V==null?void 0:V.filename)||(V==null?void 0:V.nome_arquivo)||"documento_assinado.pdf",blob:xe}}const fe=X==null?void 0:X.status;if(fe&&[400,422].includes(fe)){_=te;continue}}catch(X){const H=(Z=X==null?void 0:X.response)==null?void 0:Z.status;if(H===404){_=X;break}if(H===405){_=X;continue}if(H===401)throw X;if(H&&[400,422].includes(H)){_=X;continue}_=X;break}}}throw _||new Error("Falha ao assinar documento: nenhum endpoint compatvel.")},async atualizarReceita(e,r={}){var A;if(!e)throw new Error("ID da receita  obrigatrio para atualizao.");const t={...r};r.assinada!==void 0&&(t.assinada=!!r.assinada,t.signed=t.signed??t.assinada,t.status=t.assinada?"ASSINADA":t.status||"PENDENTE"),r.hash_alg&&(t.hash_alg=r.hash_alg,t.hash_algorithm=r.hash_algorithm||r.hash_alg,t.algoritmo_hash=r.algoritmo_hash||r.hash_alg),r.hash_pre&&(t.hash_pre=r.hash_pre,t.pre_hash=r.pre_hash||r.hash_pre),r.hash_documento&&(t.hash_documento=r.hash_documento,t.signed_hash=r.signed_hash||r.hash_documento),r.motivo&&(t.motivo=r.motivo),r.observacoes&&(t.observacoes=r.observacoes);const a="/api/receitas/",s=a.endsWith("/")?a:`${a}/`,i=[],o="/api/receitas/".trim();o&&i.push(o.replace(/\/?$/,"/")),i.push(`${s}${e}/`),i.push(`${s}${e}/update/`),i.push(`${s}${e}/editar/`),i.push(`/api/receitas/${e}/`),i.push(`/receitas/${e}/`),i.push(`/api/meu_app_receita/${e}/`),i.push(`/meu_app_receita/${e}/`);let l=null;for(const d of i){if(!d)continue;const f=d.endsWith("/")?d:`${d}/`,h=["patch","put","post"];for(const m of h)try{const{data:p}=await ye[m](f,t);return p}catch(p){const v=(A=p==null?void 0:p.response)==null?void 0:A.status;if(v===401)throw p;if(v===404){l=p;break}if(v===405){l=p;continue}if(v&&[400,422].includes(v))throw p;l=p;break}}throw l||new Error("Falha ao atualizar receita: nenhum endpoint compatvel.")},async registrarAuditoriaAssinatura(e={}){var d;const r=Vr.getCurrentUser()||await Vr.refreshCurrentUser(),t=r==null?void 0:r.id;let a=null;try{a=await this._resolveMedicoId()}catch{}const s={...e};t&&(s.usuario=s.usuario||t,s.usuario_id=s.usuario_id||t,s.user=s.user||t,s.user_id=s.user_id||t),a&&(s.medico=s.medico||a,s.medico_id=s.medico_id||a),s.tipo=s.tipo||"assinatura_receita",s.event=s.event||s.tipo,s.assinada=s.assinada??!0,s.timestamp=s.timestamp||new Date().toISOString();const i="/api/auditoria/assinaturas/",l=[i.endsWith("/")?i:`${i}/`,"/api/auditoria/assinaturas/","/logs/assinatura/","/auditoria/receitas/","/audit/assinaturas/"];let A=null;for(const f of l){const h=f.endsWith("/")?f:`${f}/`;try{const{data:m}=await ye.post(h,s);return m}catch(m){const p=(d=m==null?void 0:m.response)==null?void 0:d.status;if(p===401)throw m;if(p===404||p===405){A=m;continue}if(p&&[400,422].includes(p))throw m;A=m}}throw A||new Error("Falha ao registrar auditoria de assinatura: nenhum endpoint compatvel.")},async finalizarAssinaturaExterna({receitaId:e,pdfFile:r,assinatura:t,certificado:a}){var d;const s=new FormData;s.append("file",r),s.append("assinatura_externa",t),s.append("certificado_externo",a),s.append("receita_id",e);const i=await ye.post("/api/assinatura/finalizar-externa/",s,{responseType:"blob"}),o=((d=i.headers)==null?void 0:d["content-disposition"])||"";let l="receita_assinada.pdf";if(o){const f=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(o);try{l=decodeURIComponent((f==null?void 0:f[1])||(f==null?void 0:f[2])||l)}catch{}}const A=new Blob([i.data],{type:"application/pdf"});return{filename:l,blob:A}},async salvarTemplateConfig(e={},r=null){var t,a,s;try{let i=null;try{i=await this._resolveMedicoId()}catch{}const o=new FormData;if(o.append("config",JSON.stringify(e)),i&&(o.append("medico",i),o.append("medico_id",i)),r)if(typeof r=="string"&&r.startsWith("data:")){o.append("logo_base64",r);try{const p=r.indexOf(","),v=r.substring(5,r.indexOf(";"))||"image/png",g=p>=0?r.substring(p+1):"",w=atob(g),y=new Uint8Array(w.length);for(let E=0;E<w.length;E++)y[E]=w.charCodeAt(E);const N=new Blob([y],{type:v}),C=new File([N],"logo.png",{type:v});o.append("logo",C),o.append("arquivo",C),o.append("imagem",C)}catch{}}else r&&r.name&&(o.append("logo",r),o.append("arquivo",r),o.append("imagem",r));const l={config:e,medico:i||void 0,medico_id:i||void 0,logo_base64:typeof r=="string"?r:void 0},A=[],d="".trim();d&&A.push(d);const f="/api/medicos/",h=f.endsWith("/")?f:`${f}/`;i&&(A.push(`${h}${i}/template/`),A.push(`${h}${i}/pdf-template/`),A.push(`${h}${i}/pdf_template/`)),A.push(`${h}me/template/`),A.push(`${h}me/pdf-template/`),A.push("/pdf-template-config/"),A.push("/templates/pdf-config/"),A.push("/templates/pdf/medico/");let m=null;for(const p of A){const v=p.endsWith("/")?p:`${p}/`;try{const g=await ye.post(v,o);if(g!=null&&g.status&&g.status>=200&&g.status<300)return!0}catch(g){if(((t=g==null?void 0:g.response)==null?void 0:t.status)===401)throw g;m=g}try{const g=await ye.patch(v,o);if(g!=null&&g.status&&g.status>=200&&g.status<300)return!0}catch(g){if(((a=g==null?void 0:g.response)==null?void 0:a.status)===401)throw g;m=g}try{const g=await ye.post(v,l);if(g!=null&&g.status&&g.status>=200&&g.status<300)return!0}catch(g){if(((s=g==null?void 0:g.response)==null?void 0:s.status)===401)throw g;m=g}}return!1}catch{return!1}},async assinarDocumento(e={}){const{pdfFile:r,certificado:t,senha:a,motivo:s,receita_id:i,modo_assinatura:o,...l}=e;let A=r;if(t&&a){const f=new FormData;f.append("file",r),f.append("pfx",t),f.append("senha",a),s&&f.append("motivo",s),i&&f.append("receita_id",i),A=f}const d={motivo:s||"Receita Mdica",receitaId:i,pfxFile:t,pfxPassword:a,useToken:o==="token",...l};return await this.signDocumento(A,d)},async assinarReceita({receitaId:e,pdfFile:r,dadosReceita:t={},certificado:a,senha:s,modo_assinatura:i="pfx",motivo:o="Receita Mdica",location:l}={}){var D,k,L,_,Y;if(!e)throw new Error("receitaId  obrigatrio para assinar a receita.");if(!r)throw new Error("Arquivo PDF (pdfFile)  obrigatrio para assinatura.");const A="true".toLowerCase()==="true",d=r instanceof File?r:new File([r],"receita.pdf",{type:"application/pdf"}),f=new FormData;f.append("file",d),f.append("pdf",d),f.append("documento",d),f.append("receita",e),f.append("receita_id",e),f.append("id",e),f.append("assinar","true"),o&&f.append("motivo",o),l&&f.append("local",l);const h={...t},m=(h.formato||"pdf").toLowerCase();if(f.append("formato",m),["paciente_id","paciente","consulta_id","consulta","observacoes","validade_receita","validade"].forEach(I=>{const $=h[I];$!=null&&String($).length&&f.append(I,$)}),Array.isArray(h.itens)){try{f.append("itens_json",JSON.stringify(h.itens))}catch{}try{f.append("itens",JSON.stringify(h.itens))}catch{}}const p=i==="token";if(p){if(f.append("use_token","true"),f.append("pkcs11","true"),f.append("hardware","true"),t!=null&&t.pin){const I=String(t.pin);f.append("pin",I),f.append("token_pin",I),f.append("pin_code",I)}}else{if(!(a instanceof File))throw new Error("Certificado (.pfx/.p12)  obrigatrio no modo PFX.");if(!s||!String(s).trim())throw new Error("Senha do certificado PFX/P12  obrigatria.");f.append("pfx",a),f.append("certificado",a),f.append("pkcs12",a),f.append("pfx_password",String(s)),f.append("senha",String(s)),f.append("password",String(s)),f.append("senha_certificado",String(s))}const v=[],g="".trim();g&&v.push(g),v.push("/receitas/assinar/"),v.push("/api/receitas/assinar/");let w=null;for(const I of v){const $=I.endsWith("/")?I:`${I}/`;try{if(A)try{console.debug("[assinarReceita] POST ->",$,{receitaId:e})}catch{}const J=await ye.post($,f,{responseType:"blob"}),M=((D=J.headers)==null?void 0:D["content-disposition"])||((L=(k=J.headers)==null?void 0:k.get)==null?void 0:L.call(k,"content-disposition"));let re="receita_assinada.pdf";if(M){const Z=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(M);try{re=decodeURIComponent((Z==null?void 0:Z[1])||(Z==null?void 0:Z[2])||re)}catch{re=(Z==null?void 0:Z[1])||(Z==null?void 0:Z[2])||re}}const K=new Blob([J.data],{type:((_=J.headers)==null?void 0:_["content-type"])||"application/pdf"}),G=await this.computeSHA256Hex(K);await this.salvarArquivoAssinado(e,K,re);const z=new Date().toISOString();return await this.atualizarReceita(e,{assinada:!0,assinada_em:z,carimbo_tempo:z,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:G,motivo:o}),{receitaId:e,filename:re,blob:K}}catch(J){const M=(Y=J==null?void 0:J.response)==null?void 0:Y.status;if(M===401)throw J;if(M===404||M===405){w=J;continue}try{const re=await ye.post($,f),K=(re==null?void 0:re.data)||{},G=(K==null?void 0:K.pdf_base64)||(K==null?void 0:K.documento_base64)||(K==null?void 0:K.file_base64)||(K==null?void 0:K.arquivo_base64)||null;if(G){const z=atob(String(G)),Z=new Array(z.length);for(let F=0;F<z.length;F++)Z[F]=z.charCodeAt(F);const Ae=new Uint8Array(Z),ee=new Blob([Ae],{type:"application/pdf"}),R=(K==null?void 0:K.filename)||(K==null?void 0:K.nome_arquivo)||"receita_assinada.pdf",q=await this.computeSHA256Hex(ee);await this.salvarArquivoAssinado(e,ee,R);const te=new Date().toISOString();return await this.atualizarReceita(e,{assinada:!0,assinada_em:te,carimbo_tempo:te,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:q,motivo:o}),{receitaId:e,filename:R,blob:ee}}w=J}catch(re){w=re}}}const y=await this.signDocumento(f,{receitaId:e,motivo:o,useToken:p,pfxFile:a,pfxPassword:s}),N=y==null?void 0:y.blob,C=(y==null?void 0:y.filename)||"receita_assinada.pdf";if(!N)throw w||new Error("Falha ao assinar receita: nenhum endpoint compatvel.");const E=await this.computeSHA256Hex(N);await this.salvarArquivoAssinado(e,N,C);const U=new Date().toISOString();return await this.atualizarReceita(e,{assinada:!0,assinada_em:U,carimbo_tempo:U,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:E,motivo:o}),{receitaId:e,filename:C,blob:N}},async assinarReceitaEPersistir({dadosReceita:e={},itens:r=[],pdfFile:t,motivo:a="Receita Mdica",certificado:s,senha:i,modo_assinatura:o="pfx"}={}){var M,re,K,G,z,Z,Ae,ee,R,q;const l="true".toLowerCase()==="true",A="/api/receitas/",d=A.endsWith("/")?A:`${A}/`,f=[],h="".trim();h&&f.push(h),f.push(`${d}assinar/`),f.push("/receitas/assinar/"),f.push("/api/receitas/assinar/"),f.push("/assinar-receita/"),f.push("/documentos/assinar/");const m=t instanceof File?t:t?new File([t],"receita.pdf",{type:"application/pdf"}):null,p=new FormData;m&&(p.append("file",m),p.append("pdf",m),p.append("documento",m)),p.append("motivo",a||"Receita Mdica"),p.append("modo_assinatura",o),s&&p.append("pfx",s),i&&p.append("senha",i);try{p.append("dados_receita",JSON.stringify(e||{}))}catch{}try{p.append("itens",JSON.stringify(r||[]))}catch{}const v=async te=>{const F=await te.arrayBuffer(),X=new Uint8Array(F);let H="";for(let V=0;V<X.length;V++)H+=String.fromCharCode(X[V]);return btoa(H)},g=m?await v(m):null,w=s?await v(s):null,y={motivo:a||"Receita Mdica",modo_assinatura:o,dados_receita:e||{},itens:r||[],pdf_base64:g||void 0,pfx_base64:w||void 0,senha:i||void 0,formato:"pdf"},N=(te,F="application/pdf")=>{const X=atob(te),H=new Array(X.length);for(let ae=0;ae<X.length;ae++)H[ae]=X.charCodeAt(ae);const V=new Uint8Array(H);return new Blob([V],{type:F})};let C=null;for(const te of f){if(!te)continue;const F=te.endsWith("/")?te:`${te}/`;try{if(l)try{console.debug("[assinarReceitaEPersistir] POST multipart ->",F)}catch{}const X=await ye.post(F,p,{responseType:"blob"}),H=((M=X.headers)==null?void 0:M["content-type"])||((K=(re=X.headers)==null?void 0:re.get)==null?void 0:K.call(re,"content-type"))||"";let V="receita_assinada.pdf";const ae=((G=X.headers)==null?void 0:G["content-disposition"])||((Z=(z=X.headers)==null?void 0:z.get)==null?void 0:Z.call(z,"content-disposition"))||"";if(ae){const xe=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(ae);try{V=decodeURIComponent((xe==null?void 0:xe[1])||(xe==null?void 0:xe[2])||V)}catch{}}let fe,ve=null;if(/application\/pdf/i.test(H))fe=new Blob([X.data],{type:H});else{const xe=await X.data.text(),ie=JSON.parse(xe),lt=(ie==null?void 0:ie.pdf_base64)||(ie==null?void 0:ie.file_base64)||(ie==null?void 0:ie.documento_base64)||(ie==null?void 0:ie.arquivo_base64);if(!lt)throw new Error("Resposta sem PDF base64");fe=N(lt,"application/pdf"),V=(ie==null?void 0:ie.filename)||V,ve=(ie==null?void 0:ie.receita_id)||((Ae=ie==null?void 0:ie.receita)==null?void 0:Ae.id)||(ie==null?void 0:ie.id)||null}const Be=await this.computeSHA256Hex(fe),ke=new Date().toISOString();if(ve)try{await this.atualizarReceita(ve,{assinada:!0,assinada_em:ke,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:Be,carimbo_tempo:ke})}catch{}return{receitaId:ve||null,filename:V,blob:fe}}catch(X){if(((ee=X==null?void 0:X.response)==null?void 0:ee.status)===401)throw X;C=X;try{if(l)try{console.debug("[assinarReceitaEPersistir] POST json ->",F)}catch{}const{data:V}=await ye.post(F,y),ae=(V==null?void 0:V.pdf_base64)||(V==null?void 0:V.file_base64)||(V==null?void 0:V.documento_base64)||(V==null?void 0:V.arquivo_base64);if(!ae)throw new Error("Resposta sem PDF base64");const fe=N(ae,"application/pdf"),ve=(V==null?void 0:V.filename)||"receita_assinada.pdf",Be=(V==null?void 0:V.receita_id)||((R=V==null?void 0:V.receita)==null?void 0:R.id)||(V==null?void 0:V.id)||null,ke=await this.computeSHA256Hex(fe),xe=new Date().toISOString();if(Be)try{await this.atualizarReceita(Be,{assinada:!0,assinada_em:xe,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:ke,carimbo_tempo:xe})}catch{}return{receitaId:Be||null,filename:ve,blob:fe}}catch(V){C=V}}}const E=await this.criarReceita(e),U=(E==null?void 0:E.id)||(E==null?void 0:E.pk)||(E==null?void 0:E.uuid)||((q=E==null?void 0:E.receita)==null?void 0:q.id);if(!U)throw C||new Error("No foi possvel obter ID da receita aps criao.");if(l)try{console.debug("[assinarReceitaEPersistir] receita criada:",U,E)}catch{}try{await this.salvarItensReceita(U,r)}catch{}let D=t;if(!D){const{blob:te,filename:F}=await this.gerarDocumentoReceitaLocal({...e,receita_id:U,formato:"pdf"});D=new File([te],F||"receita.pdf",{type:"application/pdf"})}const k=new FormData;k.append("file",D),k.append("pdf",D),k.append("documento",D),k.append("receita_id",U),s&&k.append("pfx",s),i&&k.append("senha",i);const L=await this.signDocumento(k,{receitaId:U,motivo:a,useToken:o==="token",pfxFile:s,pfxPassword:i}),_=L==null?void 0:L.blob,Y=(L==null?void 0:L.filename)||"receita_assinada.pdf";if(!_)throw C||new Error("Falha ao assinar a receita: blob vazio.");const I=await this.computeSHA256Hex(_);await this.salvarArquivoAssinado(U,_,Y);let $=null;try{$=await this._resolveMedicoId()}catch{}const J=new Date().toISOString();return await this.atualizarReceita(U,{assinada:!0,assinada_em:J,assinada_por_id:$,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:I,carimbo_tempo:J,observacoes:(e==null?void 0:e.observacoes)||""}),{receitaId:U,filename:Y,blob:_}}};function KY(){const{data:e,loading:r}=SF(()=>Xt.getDashboard());if(r)return n.jsx("div",{className:"min-h-screen bg-medical-gradient p-6",children:n.jsx("div",{className:"space-y-8 animate-fade-in",children:n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((i,o)=>n.jsxs(De,{variant:"medical",className:"animate-pulse",children:[n.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx("div",{className:"h-4 w-20 bg-medical-primary/20 rounded"}),n.jsx("div",{className:"h-4 w-4 bg-medical-primary/20 rounded"})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"h-8 w-16 bg-medical-primary/20 rounded mb-2"}),n.jsx("div",{className:"h-3 w-24 bg-medical-primary/20 rounded"})]})]},o))})})});const t=e||{consultas_hoje:5,pacientes_ativos:127,prontuarios:89,exames_pendentes:9,variacao_consultas:2,novos_pacientes_semana:5,proximas_consultas:[],pacientes_recentes:[]},a=i=>{try{const o=new Date(i);if(!isNaN(o.getTime()))return o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof i=="string"&&/^\d{2}:\d{2}/.test(i))return i.slice(0,5)}catch{}return"-"},s=Array.isArray(t.proximas_consultas)?t.proximas_consultas:[];return n.jsxs("div",{className:"min-h-screen bg-medical-gradient p-6 space-y-8 animate-fade-in",children:[n.jsx(De,{variant:"medical",className:"overflow-hidden",children:n.jsxs("div",{className:"bg-gradient-to-r from-medical-primary via-medical-secondary to-medical-accent p-8 text-white relative",children:[n.jsx("div",{className:"absolute inset-0 bg-black/5"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("div",{className:"p-4 bg-white/15 rounded-2xl backdrop-blur-sm border border-white/20",children:n.jsx(aa,{className:"h-10 w-10"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Dashboard Mdico"}),n.jsx("p",{className:"text-white/90 text-lg",children:"Gesto clnica profissional e cuidado centrado no paciente"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(br,{className:"h-5 w-5 text-blue-200"}),n.jsx("span",{className:"text-sm font-medium text-white/90",children:"Consultas Hoje"})]}),n.jsx("div",{className:"text-3xl font-bold",children:t.consultas_hoje}),n.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Agendamentos confirmados"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(As,{className:"h-5 w-5 text-green-200"}),n.jsx("span",{className:"text-sm font-medium text-white/90",children:"Pacientes Ativos"})]}),n.jsx("div",{className:"text-3xl font-bold text-green-200",children:t.pacientes_ativos}),n.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Em acompanhamento"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(fn,{className:"h-5 w-5 text-purple-200"}),n.jsx("span",{className:"text-sm font-medium text-white/90",children:"Pronturios"})]}),n.jsx("div",{className:"text-3xl font-bold text-purple-200",children:t.prontuarios}),n.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Registros mdicos"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(Bi,{className:"h-5 w-5 text-amber-200"}),n.jsx("span",{className:"text-sm font-medium text-white/90",children:"Exames Pendentes"})]}),n.jsx("div",{className:"text-3xl font-bold text-amber-200",children:t.exames_pendentes}),n.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Aguardando anlise"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs(we,{variant:"btn-medical-secondary",size:"lg",className:"bg-white/20 hover:bg-white/30 text-white border-white/30 backdrop-blur-sm",children:[n.jsx(mu,{className:"h-5 w-5 mr-2"}),"Nova Consulta"]}),n.jsx(we,{variant:"outline",size:"lg",className:"bg-white text-medical-primary hover:bg-gray-50",asChild:!0,children:n.jsxs(pr,{to:"/medico/minhas-consultas",children:[n.jsx(V0,{className:"h-5 w-5 mr-2"}),"Ver Agenda Completa"]})}),n.jsxs(we,{variant:"btn-medical-ghost",size:"lg",className:"bg-white/10 hover:bg-white/20 text-white border-white/30 backdrop-blur-sm",children:[n.jsx(K0,{className:"h-5 w-5 mr-2"}),"Relatrios Clnicos"]})]})]})]})}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(De,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-medical-primary",children:[n.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[n.jsx(Xe,{className:"text-sm font-semibold text-medical-primary group-hover:text-medical-secondary transition-colors",children:"Consultas Hoje"}),n.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl group-hover:bg-medical-primary/20 transition-colors",children:n.jsx(br,{className:"h-5 w-5 text-medical-primary"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-medical-primary mb-2",children:t.consultas_hoje}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(lr,{variant:"success",size:"sm",children:[n.jsx(_m,{className:"h-3 w-3 mr-1"}),"+",t.variacao_consultas]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"desde ontem"})]})]})]}),n.jsxs(De,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-medical-secondary",children:[n.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[n.jsx(Xe,{className:"text-sm font-semibold text-medical-secondary group-hover:text-medical-primary transition-colors",children:"Pacientes Ativos"}),n.jsx("div",{className:"p-3 bg-medical-secondary/10 rounded-xl group-hover:bg-medical-secondary/20 transition-colors",children:n.jsx(As,{className:"h-5 w-5 text-medical-secondary"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-medical-secondary mb-2",children:t.pacientes_ativos}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(lr,{variant:"info",size:"sm",children:[n.jsx(oy,{className:"h-3 w-3 mr-1"}),"+",t.novos_pacientes_semana]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"esta semana"})]})]})]}),n.jsxs(De,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-medical-primary",children:[n.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[n.jsx(Xe,{className:"text-sm font-semibold text-medical-primary group-hover:text-medical-secondary transition-colors",children:"Pronturios Digitais"}),n.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl group-hover:bg-medical-primary/20 transition-colors",children:n.jsx(fn,{className:"h-5 w-5 text-medical-primary"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-medical-primary mb-2",children:t.prontuarios}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(lr,{variant:"medical-secondary",size:"sm",children:[n.jsx(us,{className:"h-3 w-3 mr-1"}),"Atualizados"]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"registros mdicos"})]})]})]}),n.jsxs(De,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-status-attention",children:[n.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[n.jsx(Xe,{className:"text-sm font-semibold text-status-attention group-hover:text-status-attention/80 transition-colors",children:"Exames Pendentes"}),n.jsx("div",{className:"p-3 bg-status-attention/10 rounded-xl group-hover:bg-status-attention/20 transition-colors",children:n.jsx(Bi,{className:"h-5 w-5 text-status-attention"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-status-attention mb-2",children:t.exames_pendentes}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(lr,{variant:"warning",size:"sm",children:[n.jsx(eA,{className:"h-3 w-3 mr-1"}),"Urgente"]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"aguardando anlise"})]})]})]})]}),n.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[n.jsxs(De,{variant:"medical",className:"card-medical",children:[n.jsx(Ve,{className:"bg-gradient-to-r from-medical-primary/5 to-medical-secondary/5 border-b border-medical-primary/10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl",children:n.jsx($r,{className:"h-6 w-6 text-medical-primary"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-medical-primary text-lg font-semibold",children:"Agenda de Consultas"}),n.jsx(vr,{className:"text-muted-foreground",children:"Prximos atendimentos programados"})]})]}),n.jsx(we,{variant:"btn-medical-ghost",size:"sm",asChild:!0,children:n.jsxs(pr,{to:"/medico/minhas-consultas",children:[n.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Ver Agenda Completa",n.jsx(Gg,{className:"h-4 w-4 ml-2"})]})})]})}),n.jsx(Le,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:s.length>0?s.slice(0,5).map((i,o)=>n.jsx("div",{className:"group p-4 rounded-xl border border-medical-primary/10 bg-gradient-to-r from-white to-medical-primary/5 hover:shadow-md hover:border-medical-primary/20 transition-all duration-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl group-hover:bg-medical-primary/20 transition-colors",children:n.jsx(Yg,{className:"h-5 w-5 text-medical-primary"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:i.paciente_nome}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1 text-medical-primary",children:[n.jsx($r,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:a(i.data_hora)})]}),n.jsx(yT,{priority:i.prioridade||"normal"}),n.jsx(lr,{variant:"outline",className:"bg-medical-primary/5 text-medical-primary border-medical-primary/20",children:i.tipo||"Consulta Geral"})]})]})]}),n.jsxs(we,{variant:"btn-medical-secondary",size:"sm",children:[n.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Atender"]})]})},o)):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-medical-primary/5 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:n.jsx(br,{className:"h-10 w-10 text-medical-primary/60"})}),n.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Agenda livre hoje"}),n.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Nenhuma consulta agendada para hoje"}),n.jsxs(we,{variant:"btn-medical-primary",size:"sm",children:[n.jsx(mu,{className:"h-4 w-4 mr-2"}),"Agendar Nova Consulta"]})]})})})]}),n.jsxs(De,{variant:"medical",className:"card-medical",children:[n.jsx(Ve,{className:"bg-gradient-to-r from-medical-secondary/5 to-medical-secondary/10 border-b border-medical-secondary/10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-medical-secondary/10 rounded-xl",children:n.jsx(As,{className:"h-6 w-6 text-medical-secondary"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-medical-secondary text-lg font-semibold",children:"Pacientes Recentes"}),n.jsx(vr,{className:"text-medical-secondary/70",children:"ltimas interaes e acompanhamentos"})]})]}),n.jsx(we,{variant:"btn-medical-ghost",size:"sm",asChild:!0,children:n.jsxs(pr,{to:"/medico/meus-pacientes",children:[n.jsx(As,{className:"h-4 w-4 mr-2"}),"Ver Todos Pacientes",n.jsx(Gg,{className:"h-4 w-4 ml-2"})]})})]})}),n.jsx(Le,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:t.pacientes_recentes&&t.pacientes_recentes.length>0?t.pacientes_recentes.slice(0,5).map((i,o)=>n.jsx("div",{className:"group p-4 rounded-xl border border-medical-secondary/10 bg-gradient-to-r from-white to-medical-secondary/5 hover:shadow-md hover:border-medical-secondary/20 transition-all duration-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-medical-secondary/10 rounded-xl group-hover:bg-medical-secondary/20 transition-colors",children:n.jsx(As,{className:"h-5 w-5 text-medical-secondary"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:i.nome}),n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsxs("span",{className:"text-muted-foreground",children:["ltima consulta: h ",i.dias_ultima_consulta," dias"]}),n.jsx(K_,{status:i.status||"ativo"})]})]})]}),n.jsxs(we,{variant:"btn-medical-secondary",size:"sm",children:[n.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Ver Pronturio"]})]})},o)):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-medical-secondary/5 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:n.jsx(As,{className:"h-10 w-10 text-medical-secondary/60"})}),n.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Nenhum paciente recente"}),n.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Pacientes aparecero aqui aps as consultas"}),n.jsxs(we,{variant:"btn-medical-secondary",size:"sm",children:[n.jsx(oy,{className:"h-4 w-4 mr-2"}),"Cadastrar Novo Paciente"]})]})})})]})]})]})}function VY(){const[e,r]=b.useState(!0),[t,a]=b.useState([]),[s,i]=b.useState(""),[o,l]=b.useState("todos");b.useEffect(()=>{let d=!0;return(async()=>{var f;try{const h=await Xt.getPerfil(),m=(h==null?void 0:h.id)||((f=h==null?void 0:h.medico)==null?void 0:f.id)||null,p=await Xt.getMeusPacientes(m);d&&a(Array.isArray(p)?p:[])}catch{d&&a([])}finally{d&&r(!1)}})(),()=>{d=!1}},[]);const A=t.filter(d=>{var p;const f=(d!=null&&d.user?[d.user.first_name,d.user.last_name].filter(Boolean).join(" ").trim():(d==null?void 0:d.nome)||"").toLowerCase(),h=!s||f.includes(s.toLowerCase()),m=o==="todos"||o===((p=d==null?void 0:d.user)!=null&&p.is_active?"ativo":"inativo");return h&&m});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Meus Pacientes"}),n.jsx("p",{className:"text-muted-foreground",children:"Liste e gerencie seus pacientes ativos"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(js,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Oe,{placeholder:"Buscar pacientes...",className:"pl-10",value:s,onChange:d=>i(d.target.value)})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(Gr,{children:[n.jsx(zr,{className:"w-[180px]",children:n.jsx(Yr,{placeholder:"Filtrar por status"})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"todos",children:"Todos"}),n.jsx(nt,{value:"ativo",children:"Ativo"}),n.jsx(nt,{value:"inativo",children:"Inativo"})]})]}),n.jsxs(we,{children:[n.jsx(js,{className:"mr-2 h-4 w-4"}),"Buscar"]}),n.jsxs(we,{variant:"outline",children:[n.jsx(iu,{className:"mr-2 h-4 w-4"}),"Filtrar"]})]})]}),e?n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((d,f)=>n.jsx(De,{children:n.jsxs(Le,{className:"p-6 space-y-4",children:[n.jsx("div",{className:"h-6 w-40 bg-muted animate-pulse rounded"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"})]})]})},f))}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:A.map(d=>{var m,p;const f=(d==null?void 0:d.id)||((m=d==null?void 0:d.user)==null?void 0:m.id),h=d!=null&&d.user?[d.user.first_name,d.user.last_name].filter(Boolean).join(" ").trim():(d==null?void 0:d.nome)||`Paciente ${f}`;return n.jsx(De,{children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-14 w-14 rounded-full bg-muted flex items-center justify-center text-xl font-semibold",children:((p=h==null?void 0:h[0])==null?void 0:p.toUpperCase())||"P"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold",children:h}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",f]})]})]}),n.jsx("div",{className:"mt-4 flex flex-wrap gap-1",children:(d==null?void 0:d.condicoes_cronicas)&&n.jsx(lr,{variant:"outline",className:"bg-primary/5",children:d.condicoes_cronicas})}),n.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[n.jsx(we,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:n.jsxs(pr,{to:`/medico/paciente/${f}/perfil`,children:[n.jsx(On,{className:"mr-1 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Perfil"})]})}),n.jsx(we,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:n.jsxs(pr,{to:`/medico/paciente/${f}/prontuario`,children:[n.jsx(fn,{className:"mr-1 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Pronturio"})]})}),n.jsx(we,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:n.jsxs(pr,{to:`/medico/paciente/${f}/iniciar-consulta`,children:[n.jsx(br,{className:"mr-1 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Consulta"})]})})]})]})},f)})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Mostrando 6 de 24 pacientes"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(we,{variant:"outline",size:"sm",disabled:!0,children:"Anterior"}),n.jsx(we,{variant:"outline",size:"sm",className:"bg-primary/5",children:"1"}),n.jsx(we,{variant:"outline",size:"sm",children:"2"}),n.jsx(we,{variant:"outline",size:"sm",children:"3"}),n.jsx(we,{variant:"outline",size:"sm",children:"4"}),n.jsx(we,{variant:"outline",size:"sm",children:"Prximo"})]})]})]})}function zY(){const[e,r]=b.useState(!0),[t,a]=b.useState(!0),[s,i]=b.useState([]),[o,l]=b.useState([]);b.useEffect(()=>{let h=!0;return(async()=>{var m;try{const p=await Xt.getPerfil(),v=(p==null?void 0:p.id)||((m=p==null?void 0:p.medico)==null?void 0:m.id);if(!v){h&&(i([]),l([]));return}try{const g=await Xt.getConsultasHoje(v);h&&i(Array.isArray(g)?g:(g==null?void 0:g.results)||[])}finally{h&&r(!1)}try{const g=await Xt.getConsultasDoMedico(),w=Array.isArray(g)?g:Array.isArray(g==null?void 0:g.results)?g.results:[];h&&l(w)}finally{h&&a(!1)}}catch{h&&(i([]),l([]),r(!1),a(!1))}})(),()=>{h=!1}},[]);const A=h=>{var p,v;const m=(p=h==null?void 0:h.paciente)==null?void 0:p.user;return m?[m.first_name,m.last_name].filter(Boolean).join(" ").trim():(h==null?void 0:h.paciente_nome)||((v=h==null?void 0:h.paciente)==null?void 0:v.nome)||"Paciente"},d=h=>{try{const m=new Date(h);if(!isNaN(m))return m.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof h=="string"&&/^\d{2}:\d{2}/.test(h))return h.slice(0,5)}catch{}return"--:--"},f=h=>{try{const m=new Date(h);if(!isNaN(m))return m.toLocaleDateString()}catch{}return""};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Minhas Consultas"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie sua agenda de consultas"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(js,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Oe,{placeholder:"Buscar consultas...",className:"pl-10 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-400"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(Gr,{children:[n.jsx(zr,{className:"w-[180px] dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200",children:n.jsx(Yr,{placeholder:"Filtrar por status"})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"todos",children:"Todos"}),n.jsx(nt,{value:"confirmado",children:"Confirmado"}),n.jsx(nt,{value:"pendente",children:"Pendente"}),n.jsx(nt,{value:"cancelado",children:"Cancelado"})]})]}),n.jsx(ms,{className:"w-[180px] dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200"}),n.jsxs(we,{children:[n.jsx(br,{className:"mr-2 h-4 w-4"}),"Nova Consulta"]})]})]}),n.jsxs(zi,{defaultValue:"hoje",children:[n.jsxs(qi,{children:[n.jsx(Pr,{value:"hoje",children:"Hoje"}),n.jsx(Pr,{value:"amanha",children:"Amanh"}),n.jsx(Pr,{value:"semana",children:"Esta Semana"}),n.jsx(Pr,{value:"todas",children:"Todas"})]}),n.jsx(Hr,{value:"hoje",children:n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(br,{className:"h-5 w-5"}),"Consultas para hoje, ",new Date().toLocaleDateString()]})}),n.jsx(Le,{children:e?n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((h,m)=>n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-muted animate-pulse"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-4 w-1/3 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-3 w-1/4 bg-muted animate-pulse rounded"})]}),n.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded"})]},m))}):n.jsx("div",{className:"space-y-4",children:s.length===0?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhuma consulta para hoje."}):s.map(h=>{var v,g,w;const m=h.id,p=((v=h==null?void 0:h.paciente)==null?void 0:v.id)||(h==null?void 0:h.paciente_id);return n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((w=(g=A(h))==null?void 0:g[0])==null?void 0:w.toUpperCase())||"P"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:A(h)}),p&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",p]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx($r,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[d(h==null?void 0:h.data_hora)," ",f(h==null?void 0:h.data_hora)?`(${f(h==null?void 0:h.data_hora)})`:""]})]})]})}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[p&&n.jsx(we,{variant:"outline",size:"sm",asChild:!0,children:n.jsx(pr,{to:`/medico/paciente/${p}/perfil`,children:"Perfil"})}),p&&n.jsx(we,{size:"sm",asChild:!0,children:n.jsx(pr,{to:`/medico/paciente/${p}/iniciar-consulta`,children:"Atender"})})]})]},m)})})})]})}),n.jsx(Hr,{value:"amanha",children:n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(br,{className:"h-5 w-5"}),"Consultas para amanh, ",new Date(Date.now()+864e5).toLocaleDateString()]})}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-4",children:[1,2,3].map(h=>n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(70+h),"M"]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:["Paciente ",h+5]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100050+h]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx($r,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[`${8+h}:00`," - ",`${9+h}:00`]})]})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:h%2===0?"Primeira consulta":"Retorno"}),h===1?n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:"Aguardando confirmao"}):n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[n.jsx(we,{variant:"outline",size:"sm",asChild:!0,children:n.jsx(pr,{href:`/medico/paciente/${100050+h}/perfil`,children:"Perfil"})}),n.jsx(we,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},h))})})]})}),n.jsx(Hr,{value:"semana",children:n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(br,{className:"h-5 w-5"}),"Consultas para esta semana"]})}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-6",children:[1,2,3].map(h=>n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:new Date(Date.now()+h*2*864e5).toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})}),n.jsx("div",{className:"space-y-4",children:[1,2].map(m=>n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(64+h+m),"L"]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:["Paciente ",h*10+m]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100100+h*10+m]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx($r,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[`${9+m}:00`," - ",`${10+m}:00`]})]})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:m%2===0?"Primeira consulta":"Retorno"}),n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[n.jsx(we,{variant:"outline",size:"sm",asChild:!0,children:n.jsx(pr,{href:`/medico/paciente/${100100+h*10+m}/perfil`,children:"Perfil"})}),n.jsx(we,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},`${h}-${m}`))})]},h))})})]})}),n.jsx(Hr,{value:"todas",children:n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(br,{className:"h-5 w-5"}),"Todas as Consultas"]})}),n.jsx(Le,{children:t?n.jsx("div",{className:"space-y-4",children:[...Array(4)].map((h,m)=>n.jsx("div",{className:"h-16 w-full bg-muted animate-pulse rounded"},m))}):n.jsx("div",{className:"space-y-4",children:o.map(h=>{var v,g,w;const m=h.id,p=((v=h==null?void 0:h.paciente)==null?void 0:v.id)||(h==null?void 0:h.paciente_id);return n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((w=(g=A(h))==null?void 0:g[0])==null?void 0:w.toUpperCase())||"P"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:A(h)}),p&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",p]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(br,{className:"h-4 w-4 text-muted-foreground mr-1"}),n.jsx("span",{children:f(h==null?void 0:h.data_hora)})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx($r,{className:"h-4 w-4 text-muted-foreground mr-1"}),n.jsx("span",{children:d(h==null?void 0:h.data_hora)})]})]})]})}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[p&&n.jsx(we,{variant:"outline",size:"sm",asChild:!0,children:n.jsx(pr,{to:`/medico/paciente/${p}/perfil`,children:"Perfil"})}),n.jsx(we,{variant:"ghost",size:"sm",children:"Detalhes"})]})]},m)})})})]})})]})]})}function Km({patientId:e,isPacienteView:r=!0,profile:t,patient:a,loading:s=!1}){var p;const i=v=>v?AI(v.replace(/_/g," ")):"",o=(t==null?void 0:t.nome)&&t.nome.trim()||[t==null?void 0:t.first_name,t==null?void 0:t.last_name].filter(Boolean).join(" ")||i(t==null?void 0:t.username)||"Usurio",l=((p=o==null?void 0:o.trim())==null?void 0:p.split(" ").filter(Boolean).slice(0,2).map(v=>{var g;return(g=v[0])==null?void 0:g.toUpperCase()}).join(""))||"?",A=(t==null?void 0:t.data_nascimento)||(a==null?void 0:a.data_nascimento)||null,d=x$(A),f=(a==null?void 0:a.tipo_sanguineo)||(t==null?void 0:t.tipo_sanguineo)||"",h=(a==null?void 0:a.alergias)??(t==null?void 0:t.alergias),m=Array.isArray(h)?alergiesRaw.length?h.join(", "):"":h||"";return s?n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[n.jsx(De,{className:"border-0 shadow-lg bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900",children:n.jsx(Le,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Cr,{className:"h-20 w-20 rounded-full"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Cr,{className:"h-6 w-48"}),n.jsx(Cr,{className:"h-4 w-32"})]})]})})}),n.jsx(De,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20",children:n.jsx(Le,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(Cr,{className:"h-16 w-full"}),n.jsx(Cr,{className:"h-16 w-full"}),n.jsx(Cr,{className:"h-16 w-full"})]})})})]}):n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[n.jsx(De,{className:"border-0 shadow-lg bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 hover:shadow-xl transition-all duration-300",children:n.jsx(Le,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsxs(Lm,{className:"h-20 w-20 ring-4 ring-white/50 shadow-lg",children:[n.jsx(fx,{src:t==null?void 0:t.avatar,alt:o}),n.jsx(Im,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white text-2xl font-bold",children:l})]}),n.jsx("div",{className:"absolute -bottom-1 -right-1 bg-green-500 rounded-full p-1.5 shadow-lg",children:n.jsx(On,{className:"h-3 w-3 text-white"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-1",children:o}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(lr,{variant:r?"default":"secondary",className:"text-xs font-medium",children:r?"Paciente":`ID: ${e||(t==null?void 0:t.id)||"-"}`})})]})]})})}),n.jsx(De,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20 hover:shadow-xl transition-all duration-300",children:n.jsxs(Le,{className:"pt-6",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/50 rounded-full",children:n.jsx(On,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})})}),n.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Idade"}),n.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-slate-100",children:d||""})]}),n.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/50 rounded-full",children:n.jsx(O6,{className:"h-4 w-4 text-red-600 dark:text-red-400"})})}),n.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Tipo Sanguneo"}),n.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-slate-100",children:f})]}),n.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/50 rounded-full",children:n.jsx(Yg,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})})}),n.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Alergias"}),n.jsx("p",{className:"text-xs font-bold text-slate-900 dark:text-slate-100 truncate",title:m,children:m})]})]}),!r&&n.jsx("div",{className:"mt-6 pt-4 border-t border-white/20",children:n.jsx(we,{size:"sm",asChild:!0,className:"w-full btn-medical-primary shadow-lg hover:shadow-xl transition-all duration-300",children:n.jsx(pr,{to:`/medico/paciente/${e||(t==null?void 0:t.id)}/iniciar-consulta`,children:"Iniciar Consulta"})})})]})})]})}function qY(){var o,l,A,d,f,h,m;const{id:e}=zo(),[r,t]=b.useState(null),[a,s]=b.useState(!0);b.useEffect(()=>{let p=!0;return(async()=>{var v;try{const g="/api/pacientes/",w=g.endsWith("/")?g:`${g}/`,y=await ye.get(`${w}${e}/`);p&&t(y.data)}catch(g){console.debug("[PerfilPacienteMedico] Falha ao buscar paciente por id:",(v=g==null?void 0:g.response)==null?void 0:v.status)}finally{p&&s(!1)}})(),()=>{p=!1}},[e]);const i=[{label:"Resumo",href:`/medico/paciente/${e}/perfil`},{label:"Pronturio",href:`/medico/paciente/${e}/prontuario`},{label:"Consultas",href:`/medico/paciente/${e}/consultas`},{label:"Exames",href:`/medico/paciente/${e}/exames`},{label:"Receitas",href:`/medico/paciente/${e}/receitas`}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Perfil do Paciente"}),n.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie as informaes do paciente"})]}),n.jsx(Km,{patientId:e,isPacienteView:!1,profile:r==null?void 0:r.user,patient:r,loading:a}),n.jsx(Wi,{tabs:i,basePath:`/medico/paciente/${e}`}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(On,{className:"h-5 w-5"})," Informaes Pessoais"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Nome"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.nome)||[(o=r==null?void 0:r.user)==null?void 0:o.first_name,(l=r==null?void 0:r.user)==null?void 0:l.last_name].filter(Boolean).join(" ")||((A=r==null?void 0:r.user)==null?void 0:A.username)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Data de Nascimento"}),n.jsx("p",{className:"text-muted-foreground",children:CF((r==null?void 0:r.data_nascimento)||((d=r==null?void 0:r.user)==null?void 0:d.data_nascimento))})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"CPF"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.cpf)||((f=r==null?void 0:r.user)==null?void 0:f.cpf)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Telefone"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.telefone)||((h=r==null?void 0:r.user)==null?void 0:h.phone)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Endereo"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.endereco)||((m=r==null?void 0:r.user)==null?void 0:m.address)||""})]})]})]}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(tA,{className:"h-5 w-5"})," Resumo Mdico"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Tipo Sanguneo"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.tipo_sanguineo)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Alergias"}),n.jsx("p",{className:"text-muted-foreground",children:Array.isArray(r==null?void 0:r.alergias)?r.alergias.length?r.alergias.join(", "):"":(r==null?void 0:r.alergias)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Condies Crnicas"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.condicoes_cronicas)||""})]})]})]})]}),n.jsx("div",{className:"flex justify-end gap-3",children:n.jsx(we,{variant:"outline",asChild:!0,children:n.jsx(pr,{to:`/medico/paciente/${e}/prontuario`,children:"Ver Pronturio"})})})]})}function WY(){const{id:e}=zo(),[r,t]=b.useState(null),[a,s]=b.useState([]),[i,o]=b.useState(!0),l=[{label:"Resumo",href:`/medico/paciente/${e}/perfil`},{label:"Pronturio",href:`/medico/paciente/${e}/prontuario`},{label:"Consultas",href:`/medico/paciente/${e}/consultas`},{label:"Exames",href:`/medico/paciente/${e}/exames`},{label:"Receitas",href:`/medico/paciente/${e}/receitas`}];return b.useEffect(()=>{let A=!0;return(async()=>{try{const d="/api/pacientes/",f=d.endsWith("/")?d:`${d}/`,h=await ye.get(`${f}${e}/`);A&&t(h.data)}catch{}try{const d="/api/prontuarios/",f=d.endsWith("/")?d:`${d}/`,h=await ye.get(f,{params:{paciente:e,paciente_id:e,limit:50}}),m=h==null?void 0:h.data,p=Array.isArray(m)?m:Array.isArray(m==null?void 0:m.results)?m.results:[];A&&s(p)}catch{A&&s([])}finally{A&&o(!1)}})(),()=>{A=!1}},[e]),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pronturio do Paciente"}),n.jsx("p",{className:"text-muted-foreground",children:"Histrico mdico completo"})]}),n.jsx(Km,{patientId:e,isPacienteView:!1,profile:r==null?void 0:r.user,patient:r,loading:i}),n.jsx(Wi,{tabs:l,basePath:`/medico/paciente/${e}`}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(fn,{className:"h-5 w-5"}),"Informaes Gerais"]})}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tipo Sanguneo"}),n.jsx("p",{children:(r==null?void 0:r.tipo_sanguineo)||""})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Alergias"}),n.jsx("p",{children:Array.isArray(r==null?void 0:r.alergias)?r.alergias.length?r.alergias.join(", "):"":(r==null?void 0:r.alergias)||""})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Condies Crnicas"}),n.jsx("p",{children:(r==null?void 0:r.condicoes_cronicas)||""})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Medicamentos em Uso"}),n.jsx("p",{children:(r==null?void 0:r.medicamentos_uso)||""})]})]})})})]}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(br,{className:"h-5 w-5"}),"Histrico de Consultas"]})}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-4",children:i?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):a.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum registro de pronturio encontrado para este paciente."}):a.map(A=>{var d,f;return n.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(On,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"font-medium",children:(d=A.medico)!=null&&d.user?`${A.medico.user.first_name||""} ${A.medico.user.last_name||""}`.trim():((f=A.medico)==null?void 0:f.nome)||"Mdico"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:A.data||A.data_hora?new Date(A.data_hora||A.data).toLocaleDateString():""})]}),A.diagnostico_principal&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Diagnstico"}),n.jsx("p",{children:A.diagnostico_principal})]}),A.conduta&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Conduta"}),n.jsx("p",{children:A.conduta})]}),A.exames_solicitados&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Exames Solicitados"}),n.jsx("p",{children:A.exames_solicitados})]})]},A.id)})})})]})]})]})}function GY(){const{id:e}=zo(),[r,t]=b.useState(""),[a,s]=b.useState([]),[i,o]=b.useState(!0),[l,A]=b.useState(null),[d,f]=b.useState(!0),h=[{label:"Resumo",href:`/medico/paciente/${e}/perfil`},{label:"Pronturio",href:`/medico/paciente/${e}/prontuario`},{label:"Consultas",href:`/medico/paciente/${e}/consultas`},{label:"Exames",href:`/medico/paciente/${e}/exames`},{label:"Receitas",href:`/medico/paciente/${e}/receitas`}];b.useEffect(()=>{let g=!0;return(async()=>{var w;o(!0);try{const y="/api/pacientes/",N=y.endsWith("/")?y:`${y}/`,C=await ye.get(`${N}${e}/`);g&&A(C.data)}catch{}finally{g&&f(!1)}try{const y="/api/exames/",N=y.endsWith("/")?y:`${y}/`,C=await ye.get(N,{params:{paciente:e,paciente_id:e,limit:100}}),E=C==null?void 0:C.data,U=Array.isArray(E)?E:Array.isArray(E==null?void 0:E.results)?E.results:[];g&&s(U)}catch(y){try{console.debug("[Medico/Exames] falha listar:",(w=y==null?void 0:y.response)==null?void 0:w.status)}catch{}g&&s([])}finally{g&&o(!1)}})(),()=>{g=!1}},[e]);const m=b.useMemo(()=>{const g=(r||"").toLowerCase();return Array.isArray(a)?a.filter(w=>{const y=String((w==null?void 0:w.tipo)||(w==null?void 0:w.nome)||(w==null?void 0:w.categoria)||"").toLowerCase(),N=String((w==null?void 0:w.status)||(w==null?void 0:w.situacao)||"").toLowerCase(),C=String((w==null?void 0:w.descricao)||(w==null?void 0:w.observacoes)||"").toLowerCase();return!g||y.includes(g)||N.includes(g)||C.includes(g)}):[]},[a,r]),p=m.filter(g=>String((g==null?void 0:g.status)||(g==null?void 0:g.situacao)||"").toLowerCase()==="pendente"),v=m.filter(g=>["concluido","concludo","finalizado","realizado"].includes(String((g==null?void 0:g.status)||(g==null?void 0:g.situacao)||"").toLowerCase()));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames do Paciente"}),n.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie exames do paciente"})]}),n.jsx(Km,{patientId:e,isPacienteView:!1,profile:l==null?void 0:l.user,patient:l,loading:d}),n.jsx(Wi,{tabs:h,basePath:`/medico/paciente/${e}`}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(js,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Oe,{placeholder:"Buscar exames...",value:r,onChange:g=>t(g.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(Gr,{children:[n.jsx(zr,{className:"w-[180px]",children:n.jsx(Yr,{placeholder:"Tipo de exame"})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"todos",children:"Todos"}),n.jsx(nt,{value:"imagem",children:"Imagem"}),n.jsx(nt,{value:"laboratorial",children:"Laboratorial"}),n.jsx(nt,{value:"outros",children:"Outros"})]})]}),n.jsxs(we,{variant:"outline",children:[n.jsx(br,{className:"mr-2 h-4 w-4"}),"Perodo"]}),n.jsxs(we,{children:[n.jsx(mu,{className:"mr-2 h-4 w-4"}),"Solicitar Exame"]})]})]}),n.jsxs(zi,{defaultValue:"pendentes",children:[n.jsxs(qi,{children:[n.jsx(Pr,{value:"pendentes",children:"Pendentes"}),n.jsx(Pr,{value:"concluidos",children:"Concludos"}),n.jsx(Pr,{value:"todos",children:"Todos"})]}),n.jsx(Hr,{value:"pendentes",children:n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Exames Pendentes"})}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-4",children:i?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):p.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum exame pendente."}):p.map(g=>n.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium",children:g.tipo||g.nome||"Exame"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solicitado em ",g.data_agendamento?new Date(g.data_agendamento).toLocaleDateString():""]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(we,{variant:"outline",size:"sm",children:[n.jsx(Ci,{className:"mr-2 h-4 w-4"}),"Ver Solicitao"]}),g.pedido_pdf&&n.jsx(we,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs(pr,{to:g.pedido_pdf,target:"_blank",children:[n.jsx(xl,{className:"mr-2 h-4 w-4"}),"Baixar Pedido"]})})]})]},g.id))})})]})}),n.jsx(Hr,{value:"concluidos",children:n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Exames Concludos"})}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-4",children:i?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):v.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum exame concludo."}):v.map(g=>n.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium",children:g.tipo||g.nome||"Exame"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Concludo em ",g.data_agendamento?new Date(g.data_agendamento).toLocaleDateString():""]})]}),n.jsxs("div",{className:"flex gap-2",children:[g.resultado_pdf&&n.jsx(we,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs(pr,{to:g.resultado_pdf,target:"_blank",children:[n.jsx(Ci,{className:"mr-2 h-4 w-4"}),"Resultado"]})}),g.resultado_pdf&&n.jsx(we,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs(pr,{to:g.resultado_pdf,target:"_blank",children:[n.jsx(xl,{className:"mr-2 h-4 w-4"}),"Baixar"]})})]})]},g.id))})})]})}),n.jsx(Hr,{value:"todos",children:n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Todos os Exames"})}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-4",children:i?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):m.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum exame encontrado."}):m.map(g=>n.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium",children:g.tipo||g.nome||"Exame"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Status: ",g.status||g.situacao||""]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(we,{variant:"outline",size:"sm",children:[n.jsx(tA,{className:"mr-2 h-4 w-4"}),"Detalhes"]}),g.resultado_pdf&&n.jsx(we,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs(pr,{to:g.resultado_pdf,target:"_blank",children:[n.jsx(xl,{className:"mr-2 h-4 w-4"}),"Baixar"]})})]})]},g.id))})})]})})]})]})}const ZC={_summarizeLocal(e="",r={}){var D;const t=String(e||"").replace(/\r/g,"").trim(),a=k=>{const L=new RegExp(`(?:^|
)s*(?:${k.join("|")})s*[:]s*([sS]*?)(?=
s*(?:Queixa|Histria|Historia|Exame|Diagn[o]stico|Conduta|Prescri|Rx|Receita|Alergias|Orient[a]es|Observ[a]es|Retorno)s*[:]|$)`,"i"),_=t.match(L);return _?_[1].trim():""},s=a(["Queixa","Queixa Principal"])||((D=t.split(/\n\n|\n-/)[0])==null?void 0:D.slice(0,300))||"",i=a(["Histria","Historia","HDA","Histria da Doena Atual"])||"",o=a(["Diagnstico","Diagnostico"])||"",l=a(["Conduta","Plano","Plano Teraputico"])||"",A=a(["Prescrio","Prescricao","Receita","Rx"])||"";let d="",f="";const h=()=>{const k=[],L=t.split(/\n+/).map(G=>G.trim()).filter(Boolean),_=G=>{(/\b(comprimid|c[a]psul|gota|spray|ml|mg|g|mcg)\b/i.test(G)||/\b(vou\s+(te\s+)?(receitar|prescrever|indicar|recomendar))\b/i.test(G)||/\b(associar|usar|tomar)\b.*\b(metoclopramida|ondansetrona|domperidona)\b/i.test(G))&&k.push(G)};if(L.forEach(_),!k.length){const G=t.match(/(?:vou\s+(?:te\s+)?(?:receitar|prescrever|indicar|recomendar)\s+)([^\.;\n]+)/ig)||[];k.push(...G.map(Z=>Z.trim()));const z=t.match(/(?:pode\s+associar|associar|usar|tomar)[^\n\.;]*(metoclopramida|ondansetrona|domperidona)[^\n\.;]*/ig)||[];k.push(...z.map(Z=>Z.trim()))}const Y=G=>{const z=G.match(/(\d{1,2}\s*\/\s*\d{1,2})\s*h/i);if(z)return`de ${z[1].replace(/\s+/g,"").toUpperCase()}H`;const Z=G.match(/a\s*cada\s*(\d{1,2})\s*h/i);if(Z)return`de ${Z[1]}/${Z[1]}H`.toUpperCase();const Ae=G.match(/(\d{1,2})\s*(?:ou|\/)\s*(\d{1,2})\s*horas/i);if(Ae){const R=parseInt(Ae[1],10);return`de ${R}/${R}H`.toUpperCase()}const ee=G.match(/(\d)\s*x\s*ao\s*dia/i);if(ee){const R=parseInt(ee[1],10);if(R>0){const q=Math.round(24/R);return`de ${q}/${q}H`.toUpperCase()}}return null},I=t.match(/n[a]o\s*pass(e|ar)\s*de\s*(\d+)\s*(comprimidos?|capsulas?)/i)||[],$=k.join(`
`).trim(),J=k.map(G=>{const z=G.match(/^([A-Za-z-0-9 .+\-]+?)(?:\s+\d+\s?(mg|ml|g|mcg)|\s*[-])/),Z=z?z[1].trim():G.split(/\s+/).slice(0,3).join(" "),Ae=Y(G)||Y(t)||"",ee=I.length?`Mx ${I[2]||I[1]} ${I[3]||"comprimidos"}/24H`:"",R=[Ae,ee].filter(Boolean);return R.length?`${Z} ${R.join("; ")}`:""}).filter(Boolean),M=new Set;return[/\bbuscopan\s+composto\b/i,/\bmetoclopramida\b/i,/\bondansetrona\b/i,/\bdomperidona\b/i,/\bdipirona\b/i,/\bsumatriptan(a)?\b/i].forEach(G=>{const z=t.match(G);z&&M.add(z[0].replace(/\s+/g," ").trim())}),k.forEach(G=>{const z=G.match(/^([A-Za-z-0-9 .+\-]+?)(?:\s+\d+\s?(mg|ml|g|mcg)|\s*[-])/);z&&M.add(z[1].replace(/\s+/g," ").trim())}),{meds:Array.from(M).join(`
`)||$,poso:J.join(`
`)}};if(A){const k=A.split(/\n+/).map(_=>_.trim()).filter(Boolean);d=k.join(`
`);const L=k.map(_=>{const Y=_.indexOf("");if(Y>=0)return _.slice(Y+1).trim();const I=_.match(/(?:\d+\s?(mg|ml|g|mcg)[^,;]*)[,;]?(.*)$/i);return I?(I[2]||"").trim():""}).filter(Boolean);L.length&&(f=L.join(`
`))}if(!d){const{meds:k,poso:L}=h();d=k||d,f=f||L}if(!d&&l){const k=(l.match(/.+?(\d+\s?(mg|ml|g|mcg)|comprimid|c[a]psul|gotas|spray).*/i)||[""])[0];k&&(d=k.trim(),f=f||"Conforme conduta descrita.")}try{t.match(/sumatriptan(a)?\b[^\n]*/i)&&(f="a cada 6h")}catch{}const m=k=>{const L=String(k||"").toLowerCase();let _=null,Y=L.match(/a\s*cada\s*(\d{1,2})\s*h/)||L.match(/(\d{1,2})\s*\/\s*(\d{1,2})\s*h/)||null;if(Y&&(_=parseInt(Y[1],10)),!_){const I=L.match(/(\d)\s*x\s*ao\s*dia/);if(I){const $=parseInt(I[1],10);$>0&&(_=Math.round(24/$))}}if(!_){const I=L.match(/(\d{1,2})\s*h/);I&&(_=parseInt(I[1],10))}return _?`1 comprimido de ${_} em ${_} horas`:null},p=m(f)||m(t);p&&(f=p);const v=a(["Alergias"])||String((r==null?void 0:r.alergias)||"");let g="";try{/\benxaqueca\b/i.test(t)?g="Enxaqueca":/cefaleia\s+tensional/i.test(t)?g="Cefaleia tensional":/cefaleia\b/i.test(t)&&(g="Cefaleia")}catch{}let w="";try{const k=(t.match(/faz\s*(\d+)\s*dias?/i)||[null,null])[1],L=/fotofobia|luz\s*(est[a]\s*incomodando|incomoda)/i.test(t),_=/enjo(o|o)|n[a]usea/i.test(t),Y=/pulsa(n|ndo)/i.test(t),I=(t.match(/(\d{2,3}\s*\/\s*\d{2,3})/i)||[null])[0],$=[];k&&$.push(`Dor h ${k} dias`),Y&&$.push("sensao pulstil"),L&&$.push("fotofobia"),_&&$.push("nusea/enjoo"),I&&$.push(`PA ${I}`),w=$.join(", ")}catch{}let y="";try{const k=[];/evit(ar|e)\s*(telas|computador|celular)/i.test(t)&&k.push("evitar telas"),/descans(ar|e)/i.test(t)&&k.push("descansar em ambiente escuro"),/beb(er|a)\s*(bastante\s*)?\s*\s*[a]gua/i.test(t)&&k.push("hidratao"),k.length&&(y=k.join("; "))}catch{}const N=(t.match(/(PA|press[a]o( arterial)?)[^\d]*(\d{2,3}\s*\/\s*\d{2,3})\s*(mmhg)?/i)||["","","",""])[3]||"",C=(t.match(/(FC|freq[u]ncia\s*card[i]aca)[^\d]*(\d{2,3})\s*(bpm)?/i)||["","",""])[2]||"",E=(t.match(/(temp(eratura)?)[^\d]*(\d{2}(?:[\.,]\d)?)\s*(?:?c|celsius)?/i)||["","","",""])[3]||"",U=(t.match(/(sat|satura[c][a]o)[^\d]*(\d{2})\s*%/i)||["","",""])[2]||"";return{queixa:s||String((r==null?void 0:r.queixa)||""),historia_doenca_atual:i||w||String((r==null?void 0:r.historia_doenca_atual)||(r==null?void 0:r.historia)||""),diagnostico_principal:o||g||String((r==null?void 0:r.diagnostico_principal)||(r==null?void 0:r.diagnostico)||""),conduta:l||y||String((r==null?void 0:r.conduta)||""),medicamentos:d||String((r==null?void 0:r.medicamentos)||""),posologia:f||String((r==null?void 0:r.posologia)||""),alergias:String(v||""),pressao:N,frequencia_cardiaca:C,temperatura:E,saturacao:U}},_extractEntitiesLocal(e="",r={}){const t=this._summarizeLocal(e,r),a=String(e||"").replace(/\r/g,"").trim(),s=y=>{const N=new RegExp(`(?:^|
)s*(?:${y.join("|")})s*[:]s*([sS]*?)(?=
s*(?:Queixa|Histria|Historia|Exame|Diagn[o]stico|Conduta|Prescri|Rx|Receita|Alergias|Sintomas|Orient[a]es|Observ[a]es|Retorno|Exames)s*[:]|$)`,"i"),C=a.match(N);return C?C[1].trim():""},i=s(["Sintomas"])||"",o=s(["Orientaes","Orientacoes"])||"",l=s(["Observaes","Observacoes"])||"",A=s(["Exames"])||"",d=t.alergias||s(["Alergias"])||"",f=i?i.split(/[,\n;]+/).map(y=>y.trim()).filter(Boolean):[],h=o?o.split(/\n+/).map(y=>y.trim()).filter(Boolean):[],m=d?d.split(/[,\n;]+/).map(y=>y.trim()).filter(Boolean):[],p=A?A.split(/[,\n;]+/).map(y=>y.trim()).filter(Boolean):[],v=[];t.medicamentos&&v.push(...String(t.medicamentos).split(/\n+/));const g=v.map(y=>String(y).trim()).filter(y=>/\b(mg|ml|g|mcg|comprimid|capsul|gota|spray)\b/i.test(y)).map(y=>({nome:y.split(/\s+/)[0]||"",dosagem:(y.match(/\b\d+\s?(mg|ml|g|mcg)\b/i)||[""])[0],frequencia:(y.match(/\b(\d+x\s*ao\s*d[i]a|\d+x\/dia|[a] cada \d+ h)\b/i)||[""])[0],duracao:(y.match(/\bpor\s*\d+\s*(dias?|semanas?|meses?)\b/i)||[""])[0],via:(y.match(/\b(via\s*oral|vo|im|ev)\b/i)||[null])[0],observacoes:y}));return{paciente:{nome:"",idade:null,sexo:null},diagnostico:t.diagnostico_principal||"",sintomas:f,medicamentos:g,orientacoes:h,observacoes:l||t.conduta||"",sinais_vitais:{pressao:t.pressao||"",frequencia_cardiaca:t.frequencia_cardiaca||"",temperatura:t.temperatura||"",saturacao:t.saturacao||""},alergias:m,exames:p,retorno:null}},async sumarizarTranscricao(e,r={},t={}){return this._summarizeLocal(e,r)},async extrairEntidades(e,r={}){return this._extractEntitiesLocal(e,r)}};function YY(){const{id:e}=zo(),r=$n(),t=as(),[a,s]=b.useState(!1),{toast:i}=Ka(),[o,l]=b.useState(!1),[A,d]=b.useState({queixa:"",historia:"",medicamentos:"",alergias:"",pressao:"","frequencia-cardiaca":"",temperatura:"",saturacao:"","exame-geral":"","sistema-cardiovascular":"","sistema-respiratorio":"",diagnostico:"",conduta:"",exames:"",retorno:"",transcrito:""}),[f,h]=b.useState("anamnese"),m=async()=>{var H,V;try{const ae=String(A.medicamentos||"").trim();if(!ae){i({title:"Sem medicamentos",description:"Preencha os medicamentos em uso para notificar o paciente.",variant:"destructive"});return}await Nf.enviarNotificacaoInterna({pacienteId:e,titulo:"Atualizao de medicamentos",mensagem:`Seus medicamentos em uso foram atualizados pelo mdico.

Lista: ${ae.substring(0,500)}`,tipo:"medicamento",dados:{origem:"prontuario",paciente_id:e},prioridade:"alta"}),i({title:"Notificao enviada",description:"O paciente foi notificado sobre os medicamentos."})}catch(ae){const fe=((V=(H=ae==null?void 0:ae.response)==null?void 0:H.data)==null?void 0:V.detail)||(ae==null?void 0:ae.message)||"Falha ao enviar notificao";i({title:"Erro",description:fe,variant:"destructive"})}},p=H=>{const{id:V,value:ae}=H.target;d(fe=>({...fe,[V]:ae}))},g=new URLSearchParams(t.search).get("consultaId"),[w,y]=b.useState(""),[N,C]=b.useState(!1),[E,U]=b.useState(""),[D,k]=b.useState("unknown"),L=b.useRef(null),_=b.useRef(-1),[Y,I]=b.useState(""),$=b.useRef(!1),J=b.useMemo(()=>`iniciar-consulta:${e}:${g||"sem-consulta"}`,[e,g]),M=b.useRef("");b.useEffect(()=>{M.current=Y},[Y]),b.useEffect(()=>{d(H=>({...H,transcrito:w||""}))},[w]);const[re,K]=b.useState(null),[G,z]=b.useState(!1),[Z,Ae]=b.useState("");b.useEffect(()=>{let H;return(async()=>{try{navigator.permissions&&navigator.permissions.query&&(H=await navigator.permissions.query({name:"microphone"}),k(H.state||"unknown"),H.onchange=()=>k(H.state||"unknown"))}catch{}})(),()=>{H&&(H.onchange=null)}},[]);const ee=async()=>{U("");try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(V=>V.stop()),k("granted"),!0}catch(H){const V=H&&(H.name||H.message)||"Permisso de microfone negada";return U(typeof V=="string"?V:"Falha ao acessar microfone"),k("denied"),!1}};b.useEffect(()=>{const H=(t.hash||"").toLowerCase(),ae={"#diagnostico":"diagnostico","#problems_and_diagnostics":"diagnostico","#exame-fisico":"exame-fisico","#exame_fisico":"exame-fisico","#anamnese":"anamnese"}[H];ae&&h(ae);const fe={"#diagnostico":"diagnostico","#problems_and_diagnostics":"diagnostico","#exame-fisico":"exame-fisico","#exame_fisico":"exame-fisico","#anamnese":"anamnese"},ve=(Be=0)=>{const ke=fe[H],xe=document.getElementById(ke)||document.getElementById(H.replace(/^#/,""));if(xe){try{xe.scrollIntoView({behavior:"smooth",block:"start"})}catch{}return}Be<10&&setTimeout(()=>ve(Be+1),80)};H&&setTimeout(()=>ve(0),50)},[t.hash]),b.useEffect(()=>{const V={anamnese:"#anamnese","exame-fisico":"#exame-fisico",diagnostico:"#problems_and_diagnostics"}[f];if(V&&(t.hash||"")!==V)try{r(`${t.pathname}${V}`,{replace:!0})}catch{}},[f]),b.useEffect(()=>{let H=!0;return(async()=>{var V;try{const ae="/api/pacientes/".replace(/\/?$/,"/"),{data:fe}=await ye.get(`${ae}${e}/`);if(!H)return;K(fe);const ve=(fe==null?void 0:fe.alergias)||"";ve&&!A.alergias&&d(Be=>({...Be,alergias:ve}))}catch(ae){console.debug("[IniciarConsulta] Falha ao buscar paciente por id:",(V=ae==null?void 0:ae.response)==null?void 0:V.status)}})(),()=>{H=!1}},[e]),b.useEffect(()=>{try{y("")}catch{}return R(),(async()=>{try{g&&(Xt!=null&&Xt.iniciarConsulta)&&await Xt.iniciarConsulta(g)}catch(H){console.debug("[IniciarConsulta] Falha ao marcar incio da consulta:",H==null?void 0:H.message)}})(),()=>{q()}},[]);const R=async()=>{try{if(!await ee()){C(!1),$.current=!1;return}if(L.current){try{L.current.onend=null,L.current.onresult=null,L.current.onerror=null,L.current.stop()}catch{}L.current=null}const H=window.SpeechRecognition||window.webkitSpeechRecognition;if(!H){console.warn("Reconhecimento de fala no suportado neste navegador."),U("Seu navegador no suporta reconhecimento de fala."),C(!1);return}const V=new H;V.lang="pt-BR",V.continuous=!0,V.interimResults=!0,V.maxAlternatives=1,_.current=-1,V.onresult=ae=>{let fe="",ve="";for(let Be=ae.resultIndex;Be<ae.results.length;Be++){const ke=ae.results[Be],xe=Array.from(ke,ie=>ie.transcript).join("");ke.isFinal?fe+=xe+" ":ve+=xe}if(fe){const Be=fe.trim();y(ke=>{const xe=ke?ke.endsWith(" ")?ke:ke+" ":"";return Be&&xe.endsWith(Be)?ke:(xe+Be).trim()})}I(ve)},V.onerror=ae=>{const fe=(ae==null?void 0:ae.error)||ae;if(console.warn("Erro no reconhecimento de fala:",fe),typeof fe=="string"&&U(fe),["audio-capture","network"].includes(fe)&&$.current&&L.current===V)try{V.stop()}catch{}fe==="not-allowed"&&(C(!1),$.current=!1)},V.onend=()=>{const ae=L.current===V,fe=(M.current||"").trim();fe&&y(ve=>{const Be=ve?ve.endsWith(" ")?ve:ve+" ":"";return Be.endsWith(fe)?ve:(Be+fe).trim()}),I(""),_.current=-1,$.current&&ae&&setTimeout(()=>{try{V.start()}catch{}},200)},L.current=V,$.current=!0,C(!0);try{V.start()}catch(ae){console.warn("Falha ao iniciar reconhecimento:",ae),C(!1),$.current=!1,L.current=null,U("Falha ao iniciar reconhecimento de fala.");return}}catch(H){console.warn("Falha ao iniciar reconhecimento de fala:",H),C(!1),$.current=!1,U("Falha inesperada ao iniciar microfone.")}},q=async()=>{try{C(!1),$.current=!1,I(""),L.current&&(L.current.onend=null,L.current.onresult=null,L.current.onerror=null,L.current.stop(),L.current=null)}catch{}if((w||"").trim().length>0&&!o&&g)try{const V=te(w||""),ae=await Xt.finalizarConsultaIA(g,{transcript:w||"",extracted:{queixa:V.queixa||"",historia:V.historia||"",diagnostico:V.diagnostico||"",conduta:V.conduta||"",medicamentos:V.medicamentos||"",posologia:V.posologia||"",pressao:V.pressao||"",frequencia_cardiaca:V["frequencia-cardiaca"]||V.frequencia||"",temperatura:V.temperatura||"",saturacao:V.saturacao||""},form:{queixa_principal:A.queixa||"",historia_doenca_atual:A.historia||"",diagnostico_principal:A.diagnostico||"",conduta:A.conduta||"",medicamentos_uso:A.medicamentos||"",alergias:A.alergias||"",pressao:A.pressao||"",frequencia_cardiaca:A.frequencia||A["frequencia-cardiaca"]||"",temperatura:A.temperatura||"",saturacao:A.saturacao||""}}),fe=[ae,ae==null?void 0:ae.data,ae==null?void 0:ae.result,ae==null?void 0:ae.output,ae==null?void 0:ae.summary,ae==null?void 0:ae.sumarizacao,ae==null?void 0:ae.resumo,ae==null?void 0:ae.fields].filter(Boolean),ve=(xe,ie)=>ie.split(".").reduce((lt,mt)=>lt&&lt[mt]!=null?lt[mt]:void 0,xe),Be=xe=>{for(const ie of fe)for(const lt of xe){const mt=ve(ie,lt);if(typeof mt=="string"&&mt.trim())return mt.trim()}return""},ke={queixa:A.queixa||Be(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||V.queixa||"",historia:A.historia||Be(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||V.historia||"",medicamentos:A.medicamentos||Be(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||V.medicamentos||"",alergias:A.alergias||Be(["alergias","anamnese.alergias","allergies"])||"",diagnostico:A.diagnostico||Be(["diagnostico_principal","diagnostico","diagnosis","assessment"])||V.diagnostico||"",conduta:A.conduta||Be(["conduta","plano","plan","plan_terapeutico"])||V.conduta||"",posologia:A.posologia||Be(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||V.posologia||"",pressao:A.pressao||Be(["pressao","sinais_vitais.pressao"])||V.pressao||"","frequencia-cardiaca":A["frequencia-cardiaca"]||A.frequencia||Be(["frequencia_cardiaca","sinais_vitais.frequencia_cardiaca","fc","heart_rate"])||V["frequencia-cardiaca"]||V.frequencia||"",temperatura:A.temperatura||Be(["temperatura","sinais_vitais.temperatura"])||V.temperatura||"",saturacao:A.saturacao||Be(["saturacao","sinais_vitais.saturacao","spo2"])||V.saturacao||""};try{const{cleanGreeting:xe}=await Qs(async()=>{const{cleanGreeting:ie}=await Promise.resolve().then(()=>RT);return{cleanGreeting:ie}},void 0);ke.queixa=xe(ke.queixa)}catch{}d(xe=>({...xe,...ke})),l(!0),i({title:"Resumo aplicado",description:"Pr-preenchimento realizado a partir da transcrio."})}catch(V){console.debug("[auto-sumarizar] falhou:",V==null?void 0:V.message)}};function te(H=""){let V=String(H||"").replace(/\r/g,"").trim();V=V.split(/\n+/).map(Dt=>Dt.replace(/^[\-\*\s]+/,"").trim()).filter(Boolean).join(`
`),V=V.replace(/(?:^|[.!?])\s*(Ao exame)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Exame Fsico|Exame)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Diagnstico(?: Principal)?)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Conduta)(?!\s*[:])/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Prescrio|Prescricao|Receita|Rx)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Histria da Doena Atual|HDA|Histria|Historia)\s*:/gi,`
$1:`);const ae=["Queixa","Queixa Principal","Histria","Historia","HDA","Histria da Doena Atual","Exame","Exame Fsico","Ao exame","Diagnstico","Diagnostico","Diagnstico Principal","Conduta","Plano","Plano Teraputico","Prescrio","Prescricao","Receita","Rx","Alergias","Orientaes","Orientacoes","Observaes","Observacoes","Exames","Retorno"],fe=Dt=>{const Et=Dt.join("|"),vt=ae.join("|"),bt=new RegExp(`(?:^|
)s*(?:${Et})(?:[^
:]{0,50})?s*[:]s*([sS]*?)(?=s*(?:${vt})s*[:]|$)`,"i"),St=V.match(bt);return St?St[1].trim():""},ve=fe(["Queixa","Queixa Principal"])||V.split(/\n\n|\n-/)[0]||"",Be=ve.toLowerCase().trim();let ke=ve;const xe=["bom dia","boa tarde","boa noite","tudo bem","o que","ol","ola","oi"];if(Be.length<200&&xe.some(Dt=>Be.includes(Dt))&&(ke=ke.replace(/^[\-\*\s]+/,"").replace(/^(bom dia|boa tarde|boa noite)/i,"").replace(/tudo bem\??/i,"").trim()),!ke||/^(bom dia|boa tarde|boa noite)/i.test(ke)){const Dt=(V.split(/\n+/).find(Et=>/(dor|febre|tosse|dispneia|diarreia|enjoo|nusea|les[a]o|mancha|incha[c][a]o)/i.test(Et))||"").trim();Dt&&(ke=Dt)}ke=ke.slice(0,300);const ie=fe(["Histria da Doena Atual","HDA","Histria","Historia"])||"",lt=fe(["Diagnstico Principal","Diagnstico","Diagnostico"])||"",mt=fe(["Conduta","Plano","Plano Teraputico"])||"",at=fe(["Prescrio","Prescricao","Receita","Rx"])||"";let Ee="",At="";const st=V.match(/alergi[ao]\s*(?:a||ao)?\s*([^\n]+)/i),Mt=st?st[1].replace(/^[\-\*\s]+/,"").trim():"";if(at){const Dt=at.split(/\n+/).map(vt=>vt.trim()).filter(vt=>vt&&!/alerg/i.test(vt));Ee=Dt.map(vt=>vt.replace(/^s[o]\s+tomo\s+/i,"").replace(/^apenas\s+/i,"").replace(/^s[o]\s+uso\s+/i,"").trim()).filter(Boolean).join(`
`);const Et=Dt.map(vt=>{const bt=vt.indexOf("");if(bt>=0)return vt.slice(bt+1).trim();const St=vt.match(/(?:\d+\s?(mg|ml|g|mcg)[^,;]*)[,;]?(.*)$/i);return St?(St[2]||"").trim():""}).filter(Boolean);Et.length&&(At=Et.join(`
`))}if(!Ee&&mt){const Dt=(mt.match(/.+?(\d+\s?(mg|ml|g|mcg)|comprimid|c[a]psul|gotas|spray).*/i)||[""])[0];Dt&&(Ee=Dt.trim(),At="Conforme conduta descrita.")}if(!Ee){const Dt=V.split(/\n+/).filter(Et=>/\b(tomo|uso|fa[c]o uso|em uso|utiliza|usa)\b/i.test(Et)&&!/alerg/i.test(Et));if(Dt.length){Ee=Dt.map(vt=>vt.replace(/^[\-\*\s]+/,"").replace(/^s[o]\s+tomo\s+/i,"").replace(/^apenas\s+/i,"").replace(/^s[o]\s+uso\s+/i,"").trim()).join(`
`);const Et=Dt.map(vt=>{const bt=vt.indexOf("");if(bt>=0)return vt.slice(bt+1).trim();const St=vt.match(/(?:\d+\s?(mg|ml|g|mcg)[^,;]*)[,;]?(.*)$/i);return St?(St[2]||"").trim():""}).filter(Boolean);Et.length&&(At=Et.join(`
`))}}const kt=(V.match(/(PA|press[a]o( arterial)?)[^\d]*(\d{2,3}\s*\/\s*\d{2,3})\s*(mmhg)?/i)||["","","",""])[3]||"",Nt=(V.match(/(FC|freq[u]ncia\s*card[i]aca)[^\d]*(\d{2,3})\s*(bpm)?/i)||["","",""])[2]||"",ut=(V.match(/(temp(eratura)?)[^\d]*(\d{2}(?:[\.,]\d)?)\s*(?:?c|celsius)?/i)||["","","",""])[3]||"",Pt=(V.match(/(sat|satura[c][a]o)[^\d]*(\d{2})\s*%/i)||["","",""])[2]||"";return{queixa:ke,historia:ie,diagnostico:lt,conduta:mt,medicamentos:Ee,posologia:At,pressao:kt,"frequencia-cardiaca":Nt,temperatura:ut,saturacao:Pt,alergias:Mt}}const F=async()=>{const H=(Z||"").trim();if(!H){z(!1);return}const V=(A.alergias||"").trim(),ae=V?`${V}
${H}`:H;d(fe=>({...fe,alergias:ae}));try{re!=null&&re.id&&(Xt!=null&&Xt.atualizarPacienteById)&&(await Xt.atualizarPacienteById(re.id,{alergias:ae}),i({title:"Alergia adicionada",description:"Atualizamos o cadastro do paciente."}))}catch(fe){console.debug("Falha ao atualizar alergias do paciente:",fe==null?void 0:fe.message),i({title:"No foi possvel salvar no cadastro",description:"A alergia foi adicionada ao formulrio apenas.",variant:"destructive"})}finally{Ae(""),z(!1)}},X=async H=>{var ae,fe;H.preventDefault(),s(!0);try{q()}catch{}const V=te(w||"");try{let ve=null;if(!o)if(g){let ie=null;try{ie=await Xt.finalizarConsultaIA(g,{transcript:w||"",extracted:{queixa:V.queixa||"",historia:V.historia||"",diagnostico:V.diagnostico||"",conduta:V.conduta||"",medicamentos:V.medicamentos||"",posologia:V.posologia||""},form:{queixa_principal:A.queixa||"",historia_doenca_atual:A.historia||"",diagnostico_principal:A.diagnostico||"",conduta:A.conduta||"",medicamentos_uso:A.medicamentos||"",alergias:A.alergias||""}})}catch(Nt){console.warn("Falha ao enviar dados para sumarizao:",Nt)}if(!ie)try{ie=await ZC.sumarizarTranscricao(w||"",{queixa:V.queixa||"",historia_doenca_atual:V.historia||"",diagnostico_principal:V.diagnostico||"",conduta:V.conduta||"",medicamentos:V.medicamentos||"",posologia:V.posologia||"",alergias:A.alergias||""},{systemPrompt:`Aja como um Especialista em Triagem Mdica e Extrao de Dados (Scribe).
Receba a transcrio e retorne APENAS JSON estrito com os campos: queixa, historia_doenca_atual, diagnostico_principal, conduta, medicamentos, posologia, alergias, pressao, frequencia_cardiaca, temperatura, saturacao.
Regras: deduza papis (mdico/paciente), ignore saudaes e rudo, identifique medicamentos com dosagem e frequncia. Campos ausentes devem ser "".`})}catch(Nt){console.debug("[AI] Gemini indisponvel:",Nt==null?void 0:Nt.message)}const lt=[ie,ie==null?void 0:ie.data,ie==null?void 0:ie.result,ie==null?void 0:ie.output,ie==null?void 0:ie.summary,ie==null?void 0:ie.sumarizacao,ie==null?void 0:ie.resumo,ie==null?void 0:ie.fields].filter(Boolean),mt=(Nt,ut)=>{try{return ut.split(".").reduce((Pt,Dt)=>Pt&&Pt[Dt]!==void 0?Pt[Dt]:void 0,Nt)}catch{return}},at=Nt=>{for(const ut of lt)for(const Pt of Nt){const Dt=mt(ut,Pt);if(Dt!=null){const Et=String(Dt).trim();if(Et)return Et}}return""},Ee={queixa:A.queixa||at(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||V.queixa||"",historia:A.historia||at(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||V.historia||"",medicamentos:A.medicamentos||at(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||V.medicamentos||"",alergias:A.alergias||at(["alergias","anamnese.alergias","allergies"])||V.alergias||"",diagnostico:A.diagnostico||at(["diagnostico_principal","diagnostico","diagnosis","assessment"])||V.diagnostico||"",conduta:A.conduta||at(["conduta","plano","plan","plan_terapeutico"])||V.conduta||"",posologia:A.posologia||at(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||V.posologia||"",pressao:A.pressao||at(["pressao","sinais_vitais.pressao"])||V.pressao||"","frequencia-cardiaca":A["frequencia-cardiaca"]||at(["frequencia_cardiaca","sinais_vitais.frequencia_cardiaca"])||V["frequencia-cardiaca"]||"",temperatura:A.temperatura||at(["temperatura","sinais_vitais.temperatura"])||V.temperatura||"",saturacao:A.saturacao||at(["saturacao","sinais_vitais.saturacao"])||V.saturacao||""};ve=Ee,d(Nt=>({...Nt,...Ee})),l(!0),i({title:"Resumo aplicado",description:"Campos preenchidos com a sugesto da IA. Revise e confirme o resumo."});const At=new Date,st=new Date(At.getFullYear(),At.getMonth(),At.getDate()+7),Mt=Nt=>String(Nt).padStart(2,"0"),kt=`${st.getFullYear()}-${Mt(st.getMonth()+1)}-${Mt(st.getDate())}`;r(`/medico/paciente/${e}/consulta/resumo`,{state:{resumo:{queixa:ve.queixa||"",historia:ve.historia||"",diagnostico:ve.diagnostico||"",conduta:ve.conduta||"",medicamentos:ve.medicamentos||"",posologia:ve.posologia||"",validade:kt},consultaId:g}}),s(!1);return}else try{const ie=await ZC.sumarizarTranscricao(w||"",{queixa_principal:V.queixa||A.queixa||"",historia_doenca_atual:V.historia||A.historia||"",diagnostico_principal:V.diagnostico||A.diagnostico||"",conduta:V.conduta||A.conduta||"",medicamentos:V.medicamentos||A.medicamentos||"",posologia:V.posologia||A.posologia||"",alergias:A.alergias||V.alergias||""},{systemPrompt:`Aja como um Especialista em Triagem Mdica e Extrao de Dados (Scribe).
Retorne APENAS JSON com: queixa, historia_doenca_atual, diagnostico_principal, conduta, medicamentos, posologia, alergias, pressao, frequencia_cardiaca, temperatura, saturacao.
Ignore saudaes. Deduza papis. Unifique medicamentos com dosagem e frequncia. Campos no mencionados = "".`}),lt=[ie,ie==null?void 0:ie.data,ie==null?void 0:ie.result,ie==null?void 0:ie.output,ie==null?void 0:ie.summary,ie==null?void 0:ie.sumarizacao,ie==null?void 0:ie.resumo,ie==null?void 0:ie.fields].filter(Boolean),mt=(Nt,ut)=>{try{return ut.split(".").reduce((Pt,Dt)=>Pt&&Pt[Dt]!==void 0?Pt[Dt]:void 0,Nt)}catch{return}},at=Nt=>{for(const ut of lt)for(const Pt of Nt){const Dt=mt(ut,Pt);if(Dt!=null){const Et=String(Dt).trim();if(Et)return Et}}return""},Ee={queixa:A.queixa||at(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||V.queixa||"",historia:A.historia||at(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||V.historia||"",medicamentos:A.medicamentos||at(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||V.medicamentos||"",alergias:A.alergias||at(["alergias","anamnese.alergias","allergies"])||V.alergias||"",diagnostico:A.diagnostico||at(["diagnostico_principal","diagnostico","diagnosis","assessment"])||V.diagnostico||"",conduta:A.conduta||at(["conduta","plano","plan","plan_terapeutico"])||V.conduta||"",posologia:A.posologia||at(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||V.posologia||""};ve=Ee,d(Nt=>({...Nt,...Ee})),l(!0),i({title:"Campos sugeridos",description:"Usamos a transcrio e a IA para preencher. Revise e confirme o resumo."});const At=new Date,st=new Date(At.getFullYear(),At.getMonth(),At.getDate()+7),Mt=Nt=>String(Nt).padStart(2,"0"),kt=`${st.getFullYear()}-${Mt(st.getMonth()+1)}-${Mt(st.getDate())}`;r(`/medico/paciente/${e}/consulta/resumo`,{state:{resumo:{queixa:ve.queixa||"",historia:ve.historia||"",diagnostico:ve.diagnostico||"",conduta:ve.conduta||"",medicamentos:ve.medicamentos||"",posologia:ve.posologia||"",validade:kt},consultaId:g}}),s(!1);return}catch{const lt={queixa:A.queixa||V.queixa||"",historia:A.historia||V.historia||"",diagnostico:A.diagnostico||V.diagnostico||"",conduta:A.conduta||V.conduta||"",medicamentos:A.medicamentos||V.medicamentos||"",posologia:A.posologia||V.posologia||""};ve=lt,d(mt=>({...mt,...lt})),l(!0),i({title:"Campos sugeridos",description:"Usamos a transcrio para preencher. Revise e clique em 'Salvar Pronturio'."}),s(!1);return}const Be=await Xt.processarTranscricaoConsulta({texto:w||`${source.queixa||""}
${source.historia||""}
${source.diagnostico||""}
${source.conduta||""}`,consultaId:g,pacienteId:e}),ke=(Be==null?void 0:Be.receita_id)||((ae=Be==null?void 0:Be.receita)==null?void 0:ae.id)||(Be==null?void 0:Be.id),xe=(Be==null?void 0:Be.consulta_id)||((fe=Be==null?void 0:Be.consulta)==null?void 0:fe.id)||null;try{localStorage.removeItem(J)}catch{}r(`/medico/paciente/${e}/receita/preview`,{state:{receitaId:ke,consultaId:g,fromConsulta:{consultaId:g}}})}catch(ve){console.error("Erro ao salvar pronturio/consulta:",ve);const Be=new Date,ke=new Date(Be.getFullYear(),Be.getMonth(),Be.getDate()+7),xe=Mt=>String(Mt).padStart(2,"0"),ie=`${ke.getFullYear()}-${xe(ke.getMonth()+1)}-${xe(ke.getDate())}`,lt=A.medicamentos||V.medicamentos||"",mt=A.posologia||V.posologia||"",at=A.diagnostico||V.diagnostico||"",Ee=A.conduta||V.conduta||"",At=A.queixa||V.queixa||"",st=A.historia||V.historia||"";r(`/medico/paciente/${e}/consulta/resumo`,{state:{resumo:{medicamentos:lt,posologia:mt,validade:ie,diagnostico:at,conduta:Ee,queixa:At,historia:st},consultaId:g}})}finally{s(!1)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Nova Consulta"}),n.jsxs("p",{className:"text-muted-foreground",children:["Paciente ID: ",e,g?`  Consulta #${g}`:""]})]}),n.jsx(Km,{patientId:e,isPacienteView:!1,profile:re==null?void 0:re.user,patient:re,loading:!re}),n.jsxs(De,{children:[n.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0",children:[n.jsxs("div",{children:[n.jsx(Xe,{children:"Transcrio de udio (tempo real)"}),n.jsx(vr,{children:"Fale normalmente; o texto aparecer abaixo e pode ser editado."}),E&&n.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Microfone: ",E]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:`flex items-center gap-1 text-sm ${N?"text-green-600":"text-muted-foreground"}`,children:[n.jsx(R6,{className:`h-4 w-4 ${N?"animate-pulse":""}`}),N?"Ouvindo":"Pausado"]}),N?n.jsxs(we,{type:"button",variant:"outline",size:"sm",onClick:q,children:[n.jsx(X6,{className:"h-4 w-4 mr-2"})," Pausar"]}):n.jsxs(we,{type:"button",variant:"default",size:"sm",onClick:R,children:[n.jsx(J6,{className:"h-4 w-4 mr-2"})," Retomar"]}),n.jsx(we,{type:"button",variant:"outline",size:"sm",onClick:ee,children:"Testar microfone"}),n.jsx(we,{type:"button",variant:"outline",size:"sm",onClick:()=>{q(),setTimeout(()=>R(),250)},children:"Resetar microfone"})]})]}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"transcript",children:"Resumo em tempo real"}),n.jsx(la,{id:"transcript",placeholder:"O que voc ditar ser transcrito aqui. Voc pode editar livremente.",className:"min-h-[160px]",value:w,onChange:H=>y(H.target.value)}),Y&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-1","aria-live":"polite",children:["Ditando: ",Y]})]})})]}),n.jsxs("form",{onSubmit:X,children:[n.jsxs(zi,{value:f,onValueChange:h,className:"space-y-4",children:[n.jsxs(qi,{children:[n.jsxs(Pr,{value:"anamnese",className:"flex items-center gap-2",children:[n.jsx(aa,{className:"h-4 w-4"}),"Anamnese"]}),n.jsxs(Pr,{value:"exame-fisico",className:"flex items-center gap-2",children:[n.jsx(tA,{className:"h-4 w-4"}),"Exame Fsico"]}),n.jsxs(Pr,{value:"diagnostico",className:"flex items-center gap-2",children:[n.jsx(fn,{className:"h-4 w-4"}),"Diagnstico"]})]}),n.jsx(Hr,{value:"anamnese",children:n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsx(Xe,{children:"Anamnese"}),n.jsx(vr,{children:"Registre a queixa principal e o histrico do paciente"})]}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"transcrito",children:"Texto Transcrito"}),n.jsx(la,{id:"transcrito",placeholder:"Texto completo capturado da conversa",className:"min-h-[120px]",value:A.transcrito,readOnly:!0,disabled:!0,"aria-readonly":"true"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"queixa",children:"Queixa Principal"}),n.jsx(la,{id:"queixa",placeholder:"Descreva a queixa principal do paciente",className:"min-h-[100px]",value:A.queixa,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"historia",children:"Histria da Doena Atual"}),n.jsx(la,{id:"historia",placeholder:"Descreva a histria da doena atual",className:"min-h-[150px]",value:A.historia,onChange:p})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"medicamentos",children:"Medicamentos em Uso"}),n.jsx(la,{id:"medicamentos",placeholder:"Liste os medicamentos em uso",className:"min-h-[100px]",value:A.medicamentos,onChange:p}),n.jsx("div",{className:"mt-2 flex gap-2",children:n.jsx(we,{type:"button",variant:"secondary",size:"sm",onClick:m,children:"Notificar paciente"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"alergias",children:"Alergias"}),n.jsx(la,{id:"alergias",placeholder:"Liste as alergias conhecidas",className:"min-h-[100px]",value:A.alergias,onChange:p}),n.jsx("div",{className:"mt-2",children:n.jsx(we,{type:"button",variant:"outline",size:"sm",onClick:()=>z(!0),children:"Adicionar alergia"})})]})]})]})]})}),n.jsx(Hr,{value:"exame-fisico",children:n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsx(Xe,{children:"Exame Fsico"}),n.jsx(vr,{children:"Registre os dados do exame fsico do paciente"})]}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"pressao",children:"Presso Arterial"}),n.jsx(Oe,{id:"pressao",placeholder:"Ex: 120/80 mmHg",value:A.pressao,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"frequencia-cardiaca",children:"Freq. Cardaca"}),n.jsx(Oe,{id:"frequencia-cardiaca",placeholder:"Ex: 75 bpm",value:A["frequencia-cardiaca"],onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"temperatura",children:"Temperatura"}),n.jsx(Oe,{id:"temperatura",placeholder:"Ex: 36.5 C",value:A.temperatura,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"saturacao",children:"Saturao O2"}),n.jsx(Oe,{id:"saturacao",placeholder:"Ex: 98%",value:A.saturacao,onChange:p})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"exame-geral",children:"Exame Geral"}),n.jsx(la,{id:"exame-geral",placeholder:"Descreva o estado geral do paciente",className:"min-h-[100px]",value:A["exame-geral"],onChange:p})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"sistema-cardiovascular",children:"Sistema Cardiovascular"}),n.jsx(la,{id:"sistema-cardiovascular",placeholder:"Descreva os achados cardiovasculares",className:"min-h-[100px]",value:A["sistema-cardiovascular"],onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"sistema-respiratorio",children:"Sistema Respiratrio"}),n.jsx(la,{id:"sistema-respiratorio",placeholder:"Descreva os achados respiratrios",className:"min-h-[100px]",value:A["sistema-respiratorio"],onChange:p})]})]})]})]})}),n.jsx(Hr,{value:"diagnostico",id:"problems_and_diagnostics",children:n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsx(Xe,{children:"Diagnstico e Conduta"}),n.jsx(vr,{children:"Registre o diagnstico e plano teraputico"})]}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"diagnostico",children:"Diagnstico"}),n.jsx(la,{id:"diagnostico",placeholder:"Descreva o diagnstico principal e diferenciais",className:"min-h-[100px]",value:A.diagnostico,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"conduta",children:"Conduta"}),n.jsx(la,{id:"conduta",placeholder:"Descreva a conduta teraputica",className:"min-h-[150px]",value:A.conduta,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"exames",children:"Exames Solicitados"}),n.jsx(la,{id:"exames",placeholder:"Liste os exames solicitados",className:"min-h-[100px]",value:A.exames,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"retorno",children:"Retorno"}),n.jsx(ms,{id:"retorno",name:"retorno",className:"max-w-xs",value:A.retorno,onChange:H=>p({target:{name:"retorno",value:H}}),minDate:new Date})]})]})]})})]}),n.jsx("div",{className:"sticky bottom-0 left-0 right-0 z-10 border-t bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[n.jsx(we,{type:"button",variant:"outline",onClick:()=>r(-1),children:"Cancelar"}),n.jsx(we,{type:"submit",disabled:a,children:a?n.jsx(n.Fragment,{children:"Salvando..."}):n.jsxs(n.Fragment,{children:[n.jsx(D1,{className:"mr-2 h-4 w-4"}),o?"Salvar Pronturio":"Finalizar e Preencher com IA"]})})]})})]}),n.jsx(uA,{open:G,onOpenChange:z,children:n.jsxs(Ac,{children:[n.jsxs(dc,{children:[n.jsx(uc,{children:"Adicionar alergia"}),n.jsx(Tm,{children:"Informe a alergia para adicionar ao pronturio (e ao cadastro do paciente)."})]}),n.jsxs("div",{className:"space-y-2 py-2",children:[n.jsx(Fe,{htmlFor:"nova-alergia",children:"Alergia"}),n.jsx(Oe,{id:"nova-alergia",placeholder:"Ex.: poeira, frutos do mar",value:Z,onChange:H=>Ae(H.target.value)})]}),n.jsxs(fA,{children:[n.jsx(we,{type:"button",variant:"outline",onClick:()=>{z(!1),Ae("")},children:"Cancelar"}),n.jsx(we,{type:"button",onClick:F,children:"Salvar"})]})]})})]})}function Nk(){const e=new Date,r=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0");return`${e.getFullYear()}-${r}-${t}`}function XY(e){if(!e)return"";const r=String(e).match(/^(\d{4})-(\d{2})-(\d{2})$/);if(r){const[,t,a,s]=r;return`${s}/${a}/${t}`}try{return new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return e}}function JY(e){return(e===Nk()?Xt.getConsultasHoje():Xt.getConsultasDoMedico({date:e})).then(a=>{const i=(o=>Array.isArray(o)?o:!o||typeof o!="object"?[]:Array.isArray(o.results)?o.results:Array.isArray(o.data)?o.data:Array.isArray(o.items)?o.items:Array.isArray(o.consultas)?o.consultas:Array.isArray(o.content)?o.content:Array.isArray(o.objects)?o.objects:[])(a);return Array.isArray(i)?i.map(o=>{var p,v,g,w,y;const l=((p=o==null?void 0:o.paciente)==null?void 0:p.user)||{},A=[l.first_name,l.last_name].filter(Boolean).join(" ")||((v=o==null?void 0:o.paciente)==null?void 0:v.nome)||(o==null?void 0:o.paciente_nome)||(o==null?void 0:o.nome_paciente)||"Paciente";let d="";const f=(o==null?void 0:o.data_hora)||(o==null?void 0:o.horario)||(o==null?void 0:o.inicio)||(o==null?void 0:o.start_time)||(o==null?void 0:o.data)||(o==null?void 0:o.inicio_previsto);if(f)try{const N=new Date(f);if(!isNaN(N.getTime()))d=N.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});else throw new Error("invalid date")}catch{const N=String(f).match(/\b(\d{2}:\d{2})\b/);d=N?N[1]:""}const h=String((o==null?void 0:o.status)||(o==null?void 0:o.situacao)||"").toLowerCase();let m="pendente";return h.includes("andamento")?m="em_andamento":h.includes("finaliz")||h.includes("conclu")||h.includes("cancel")||h.includes("faltou")?m="finalizado":m="pendente",{id:o.id||o.consulta_id||o.uuid,paciente:{id:((g=o==null?void 0:o.paciente)==null?void 0:g.id)||(o==null?void 0:o.paciente_id),nome:A.trim(),avatarUrl:((w=o==null?void 0:o.paciente)==null?void 0:w.avatar_url)||((y=o==null?void 0:o.paciente)==null?void 0:y.foto)||(o==null?void 0:o.paciente_avatar)||null},hora:d,status:m}}):[]})}function ZY({status:e}){const r={pendente:"bg-amber-100 text-amber-700",em_andamento:"bg-emerald-100 text-emerald-700",finalizado:"bg-gray-100 text-gray-600"},t={pendente:"Pendente",em_andamento:"Em Andamento",finalizado:"Finalizado"};return n.jsx("span",{className:`rounded-full px-3 py-1 text-sm font-medium ${r[e]}`,children:t[e]})}function eX({url:e,name:r}){return e?n.jsx("img",{src:e,alt:`Avatar de ${r}`,className:"h-14 w-14 rounded-full object-cover"}):n.jsxs("svg",{className:"h-14 w-14 rounded-full bg-gray-100 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":!0,children:[n.jsx("circle",{cx:"12",cy:"8",r:"4"}),n.jsx("path",{d:"M4 20c0-4 4-6 8-6s8 2 8 6"})]})}function tX(){return n.jsxs("div",{className:"mt-6 space-y-4",children:[n.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),n.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),n.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"})]})}function rX({onRetry:e}){return n.jsxs("div",{className:"mt-10 rounded-xl border border-red-200 bg-red-50 p-4 text-red-700",children:["Ocorreu um erro ao carregar as consultas.",n.jsx("button",{className:"ml-3 rounded-md bg-red-600 px-3 py-1 text-white",onClick:e,children:"Tentar novamente"})]})}function aX(){return n.jsx("div",{className:"mt-12 rounded-2xl border bg-white p-10 text-center text-gray-500",children:"Nenhuma consulta encontrada para este dia."})}function nX({children:e,...r}){return n.jsx("button",{...r,className:"rounded-lg bg-blue-600 px-4 py-2 text-white shadow-sm transition-colors hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-200",children:e})}function e5({children:e,...r}){return n.jsx("button",{...r,className:"rounded-lg bg-gray-100 px-4 py-2 text-gray-700 shadow-sm transition-colors hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-200",children:e})}function sX({consulta:e,onIniciar:r}){const t=b.useMemo(()=>{if(!e.hora)return"";try{const[s,i]=String(e.hora).split(":"),o=new Date;return o.setHours(Number(s),Number(i),0,0),o.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}catch{return e.hora}},[e.hora]),a=()=>e.status==="pendente"?n.jsx(nX,{onClick:()=>r(e),"aria-label":`Iniciar consulta de ${e.paciente.nome} s ${e.hora}`,children:"Iniciar Consulta"}):e.status==="em_andamento"?n.jsx(e5,{disabled:!0,children:"Em Andamento"}):n.jsx(e5,{disabled:!0,children:"Finalizado"});return n.jsxs("div",{className:"flex items-center justify-between rounded-2xl border bg-white p-5 shadow-md transition-all hover:shadow-lg",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(eX,{url:e.paciente.avatarUrl,name:e.paciente.nome}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold text-gray-900",children:e.paciente.nome}),n.jsx("div",{className:"mt-1 text-sm text-gray-500",children:t})]})]}),n.jsxs("div",{className:"flex flex-col items-stretch gap-3 md:flex-row md:items-center",children:[n.jsx(ZY,{status:e.status}),a()]})]})}function iX(){const e=$n(),[r,t]=b.useState(Nk()),[a,s]=b.useState("todos"),[i,o]=b.useState(!0),[l,A]=b.useState(null),[d,f]=b.useState([]),h=async()=>{o(!0),A(null);try{const g=await JY(r);f(g)}catch(g){A(g)}finally{o(!1)}};b.useEffect(()=>{h()},[r]);const m=async g=>{var w;try{g!=null&&g.id&&await Xt.iniciarConsulta(g.id)}catch(y){console.error("Falha ao iniciar consulta no backend:",y)}finally{try{const y=g==null?void 0:g.id,N=(w=g==null?void 0:g.paciente)==null?void 0:w.id,C=y?`/medico/paciente/${N}/iniciar-consulta?consultaId=${y}`:`/medico/paciente/${N}/iniciar-consulta`;e(C)}catch{console.log("Iniciar consulta (fallback navegao)",g==null?void 0:g.id)}}},p=XY(r),v=d.filter(g=>a==="todos"?!0:g.status===a);return n.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-xl bg-blue-50 p-2 text-blue-600",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"h-5 w-5",children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),n.jsx("path",{d:"M16 2v4M8 2v4M3 10h18"})]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Consultas de Hoje"}),n.jsx("span",{className:"text-sm text-gray-500",children:p})]}),n.jsx("div",{className:"mt-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:n.jsxs("div",{className:"flex w-full gap-3 md:w-auto",children:[n.jsxs("div",{className:"relative w-full md:w-60",children:[n.jsxs("select",{value:a,onChange:g=>s(g.target.value),className:"w-full appearance-none rounded-lg border border-gray-300 bg-white px-3 py-2 pr-10 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",children:[n.jsx("option",{value:"todos",children:"Filtrar por status"}),n.jsx("option",{value:"pendente",children:"Pendentes"}),n.jsx("option",{value:"em_andamento",children:"Em Andamento"}),n.jsx("option",{value:"finalizado",children:"Finalizadas"})]}),n.jsx("svg",{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.085l3.71-3.855a.75.75 0 111.08 1.04l-4.25 4.417a.75.75 0 01-1.08 0L5.21 8.27a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),n.jsx(ms,{value:r,onChange:g=>t(g),className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 md:w-auto"})]})}),i&&n.jsx(tX,{}),!i&&l&&n.jsx(rX,{onRetry:h}),!i&&!l&&v.length===0&&n.jsx(aX,{}),!i&&!l&&v.length>0&&n.jsx("div",{className:"mt-6 space-y-4",children:v.map(g=>n.jsx(sX,{consulta:g,onIniciar:m},g.id))})]})}const Ia={async getPerfil(){const{data:e}=await ye.get("/secretarias/me/");return e},async listarSecretarias(e={}){const r="/secretarias/".replace(/\/?$/,"/");try{const{data:t}=await ye.get(r,{params:e});return Array.isArray(t==null?void 0:t.results)?t.results:Array.isArray(t)?t:[]}catch{return[]}},async listarMedicos(){const e="/api/medicos/".replace(/\/?$/,"/"),{data:r}=await ye.get(e,{params:{limit:200}});return Array.isArray(r==null?void 0:r.results)?r.results:r},async listarClinicas(){const{data:e}=await ye.get("/clinicas/");return Array.isArray(e==null?void 0:e.results)?e.results:e},async getConsultasDoMedico(e,r={}){const t="/api/consultas/",a=e?`${t}?medico=${e}`:t,{data:s}=await ye.get(a,{params:r});return s},async listarConsultasHoje(e){try{const{data:r}=await ye.get("/api/consultas/".replace(/\/?$/,"/"),{params:(()=>{const a=new Date,s=l=>String(l).padStart(2,"0"),i=`${a.getFullYear()}-${s(a.getMonth()+1)}-${s(a.getDate())}`,o={date:i,data:i,dia:i,data__date:i};return e&&(o.medico=e,o.medico_id=e),o})()});return Array.isArray(r==null?void 0:r.results)?r.results:Array.isArray(r)?r:[]}catch{return[]}},async listarSolicitacoesHoje(e){try{const r="/api/solicitacoes/".replace(/\/?$/,"/"),{data:t}=await ye.get(r,{params:(()=>{const s=new Date,i=A=>String(A).padStart(2,"0"),o=`${s.getFullYear()}-${i(s.getMonth()+1)}-${i(s.getDate())}`,l={date:o,data:o,dia:o,data__date:o};return e&&(l.medico=e,l.medico_id=e),l})()});return Array.isArray(t==null?void 0:t.results)?t.results:Array.isArray(t)?t:[]}catch{return[]}},async aceitarSolicitacao(e){var s;const r="/api/solicitacoes/".replace(/\/?$/,"/"),t=[`${r}${e}/aceitar/`,`${r}${e}/aceitar`,`${r}${e}/`];let a=null;for(const i of t)try{if(i.endsWith("/aceitar/")||i.endsWith("/aceitar")){const{data:l}=await ye.post(i);return l}const{data:o}=await ye.patch(i,{status:"CONFIRMADO",situacao:"CONFIRMADO",state:"CONFIRMADO"});return o}catch(o){if(((s=o==null?void 0:o.response)==null?void 0:s.status)===401)throw o;a=o;continue}try{return await this.confirmarConsulta(e)}catch{}if(a)throw a;return{ok:!1}},async recusarSolicitacao(e){var s;const r="/api/solicitacoes/".replace(/\/?$/,"/"),t=[`${r}${e}/recusar/`,`${r}${e}/recusar`,`${r}${e}/`];let a=null;for(const i of t)try{if(i.endsWith("/recusar/")||i.endsWith("/recusar")){const{data:l}=await ye.post(i);return l}const{data:o}=await ye.patch(i,{status:"CANCELADO",situacao:"CANCELADO",state:"CANCELADO"});return o}catch(o){if(((s=o==null?void 0:o.response)==null?void 0:s.status)===401)throw o;a=o;continue}if(a)throw a;return{ok:!1}},async cancelarSolicitacao(e){var s;const r="/api/solicitacoes/".replace(/\/?$/,"/"),t=[`${r}${e}/cancelar/`,`${r}${e}/cancelar`,`${r}${e}/`];let a=null;for(const i of t)try{if(i.endsWith("/cancelar/")||i.endsWith("/cancelar")){const{data:l}=await ye.post(i);return l}const{data:o}=await ye.patch(i,{status:"CANCELADO",situacao:"CANCELADO",state:"CANCELADO"});return o}catch(o){if(((s=o==null?void 0:o.response)==null?void 0:s.status)===401)throw o;a=o;continue}try{return await this.cancelarConsulta(e,"cancelado pela secretaria")}catch{}if(a)throw a;return{ok:!1}},async registrarSolicitacao(e={}){var o;const r="/api/solicitacoes/".replace(/\/?$/,"/"),t="/api/consultas/".replace(/\/?$/,"/"),a={...e};a.status=(a.status||a.situacao||"PENDENTE").toString().toUpperCase(),a.situacao=a.status,a.tipo=a.tipo||"inicial",a.tipo==="primeira"&&(a.tipo="inicial"),a.modalidade||(a.modalidade="presencial");const s=[r,`${r}consultas/`,`${t}solicitacoes/`,t];let i=null;for(const l of s){if(!l)continue;const A=l.endsWith("/")?l:`${l}/`;try{const{data:d}=await ye.post(A,a);return d}catch(d){if(((o=d==null?void 0:d.response)==null?void 0:o.status)===401)throw d;i=d;continue}}if(i)throw i;return{ok:!1}},async agendarConsulta(e){var m;const r="/agendamentos/".replace(/\/?$/,"/"),t="/api/consultas/".replace(/\/?$/,"/"),a={...e||{}},s=a.pacienteId||a.paciente_id||a.paciente,i=a.medicoId||a.medico_id||a.medico,o=a.data||a.dia||a.data_consulta,l=a.hora||a.horario,A=o&&l&&/^\d{4}-\d{2}-\d{2}$/.test(String(o))&&/^\d{2}:\d{2}$/.test(String(l))?`${o}T${l}:00`:a.data_hora||null,d={paciente:s,paciente_id:s,medico:i,medico_id:i,data:o,dia:o,data_consulta:o,data__date:o,hora:l,horario:l,data_hora:A,tipo:a.tipo||"rotina",motivo:a.motivo||a.observacoes||"Agendado",observacoes:a.observacoes||void 0,status:(a.status||"PENDENTE").toString().toUpperCase(),situacao:(a.situacao||a.status||"PENDENTE").toString().toUpperCase(),state:(a.state||a.situacao||a.status||"PENDENTE").toString().toUpperCase()},f=[r,t,`${r}create/`,`${t}create/`];let h=null;for(const p of f){const v=p.endsWith("/")?p:`${p}/`;try{const{data:g}=await ye.post(v,d);return g}catch(g){if(((m=g==null?void 0:g.response)==null?void 0:m.status)===401)throw g;h=g;continue}}if(h)throw h;return{ok:!1}},async atualizarConsulta(e,r){const t=`/agendamentos/${e}/`,{data:a}=await ye.patch(t,r);return a},async atualizarStatus(e,r){const t=`/agendamentos/${e}/`,a=String(r||"").toLowerCase(),s={status:a,situacao:a,state:a},{data:i}=await ye.patch(t,s);return i},async proporNovaData(e,r){var m;const t="/agendamentos/".replace(/\/?$/,"/"),a="/api/consultas/".replace(/\/?$/,"/"),s="/api/solicitacoes/".replace(/\/?$/,"/"),i=t.replace(/agendamentos\/?$/i,"agendamento/"),o=a.replace(/consultas\/?$/i,"consulta/"),l=s.replace(/solicitacoes\/?$/i,"solicitacao/"),d=(p=>{const v=typeof p=="string"?p:p instanceof Date?p.toISOString():String(p),g=(()=>{const N=/^(\d{4}-\d{2}-\d{2})/.exec(v);return N?N[1]:null})(),w=(()=>{const N=/T(\d{2}):(\d{2})/.exec(v);return N?`${N[1]}:${N[2]}`:null})(),y={status:"aguardando_paciente",situacao:"aguardando_paciente"};return v&&(y.data_hora=v),g&&(y.data=g,y.dia=g,y.data__date=g),w&&(y.hora=w,y.horario=w),y})(r),f=[`${t}${e}/propor/`,`${t}${e}/contraproposta/`,`${a}${e}/propor/`,`${a}${e}/contraproposta/`,`${s}${e}/propor/`,`${s}${e}/contraproposta/`,`${i}${e}/propor/`,`${i}${e}/contraproposta/`,`${o}${e}/propor/`,`${o}${e}/contraproposta/`,`${l}${e}/propor/`,`${l}${e}/contraproposta/`,`${t}${e}/`,`${a}${e}/`,`${s}${e}/`,`${i}${e}/`,`${o}${e}/`,`${l}${e}/`];let h=null;for(const p of f)try{if(/\/(propor|contraproposta)\/$/.test(p)){const{data:g}=await ye.post(p,d);return g}const{data:v}=await ye.patch(p,d);return v}catch(v){if(((m=v==null?void 0:v.response)==null?void 0:m.status)===401)throw v;h=v;continue}throw h||new Error("Endpoint de contraproposta no encontrado")},async reagendarConsulta(e,r){var m;const t="/agendamentos/".replace(/\/?$/,"/"),a="/api/consultas/".replace(/\/?$/,"/"),s="/api/solicitacoes/".replace(/\/?$/,"/"),i=t.replace(/agendamentos\/?$/i,"agendamento/"),o=a.replace(/consultas\/?$/i,"consulta/"),l=s.replace(/solicitacoes\/?$/i,"solicitacao/"),d=(p=>{const v=typeof p=="string"?p:p instanceof Date?p.toISOString():String(p),g=(()=>{const N=/^(\d{4}-\d{2}-\d{2})/.exec(v);return N?N[1]:null})(),w=(()=>{const N=/T(\d{2}):(\d{2})/.exec(v);return N?`${N[1]}:${N[2]}`:null})(),y={status:"confirmado",situacao:"confirmada"};return v&&(y.data_hora=v),g&&(y.data=g,y.dia=g,y.data__date=g),w&&(y.hora=w,y.horario=w),y})(r),f=[`${t}${e}/reagendar/`,`${a}${e}/reagendar/`,`${s}${e}/reagendar/`,`${i}${e}/reagendar/`,`${o}${e}/reagendar/`,`${l}${e}/reagendar/`,`${t}${e}/`,`${a}${e}/`,`${s}${e}/`,`${i}${e}/`,`${o}${e}/`,`${l}${e}/`];let h=null;for(const p of f)try{if(/\/(reagendar)\/$/.test(p)){const{data:g}=await ye.post(p,d);return g}const{data:v}=await ye.patch(p,d);return v}catch(v){if(((m=v==null?void 0:v.response)==null?void 0:m.status)===401)throw v;h=v;continue}throw h||new Error("Endpoint de reagendamento no encontrado")},async confirmarConsulta(e){var d;const r="/agendamentos/".replace(/\/?$/,"/"),t="/api/consultas/".replace(/\/?$/,"/"),a="/api/solicitacoes/".replace(/\/?$/,"/"),s=r.replace(/agendamentos\/?$/i,"agendamento/"),i=t.replace(/consultas\/?$/i,"consulta/"),o=a.replace(/solicitacoes\/?$/i,"solicitacao/"),l=[`${r}${e}/confirmar/`,`${t}${e}/confirmar/`,`${a}${e}/aceitar/`,`${a}${e}/confirmar/`,`${s}${e}/confirmar/`,`${i}${e}/confirmar/`,`${o}${e}/aceitar/`,`${o}${e}/confirmar/`,`${r}confirmar/${e}/`,`${t}confirmar/${e}/`,`${a}confirmar/${e}/`,`${r}${e}/`,`${t}${e}/`,`${a}${e}/`,`${s}${e}/`,`${i}${e}/`,`${o}${e}/`];let A=null;for(const f of l)try{if(/[\/]confirmar\/$/.test(f)||/[\/]aceitar\/$/.test(f)){const{data:m}=await ye.post(f);return m}const{data:h}=await ye.patch(f,{status:"CONFIRMADO",situacao:"CONFIRMADO",state:"CONFIRMADO"});return h}catch(h){if(((d=h==null?void 0:h.response)==null?void 0:d.status)===401)throw h;A=h;continue}try{const f=a,h=["consulta","consulta_id","agendamento","agendamento_id","id","pk","uuid"];for(const m of h)try{const{data:p}=await ye.get(f,{params:{[m]:e,limit:1,page_size:1}}),v=Array.isArray(p==null?void 0:p.results)?p.results:Array.isArray(p)?p:[],g=v==null?void 0:v[0],w=(g==null?void 0:g.id)||(g==null?void 0:g.pk)||(g==null?void 0:g.uuid);if(w){const y=[`${a}${w}/aceitar/`,`${o}${w}/aceitar/`,`${a}${w}/`,`${o}${w}/`];for(const N of y)try{if(/[\/]aceitar\/$/.test(N)){const{data:E}=await ye.post(N);return E}const{data:C}=await ye.patch(N,{status:"CONFIRMADO",situacao:"CONFIRMADO",state:"CONFIRMADO"});return C}catch(C){A=C;continue}}}catch{}}catch{}throw A||new Error("Endpoint de confirmao no encontrado")},async cancelarConsulta(e,r){var f;const t="/agendamentos/".replace(/\/?$/,"/"),a="/api/consultas/".replace(/\/?$/,"/"),s="/api/solicitacoes/".replace(/\/?$/,"/"),i=t.replace(/agendamentos\/?$/i,"agendamento/"),o=a.replace(/consultas\/?$/i,"consulta/"),l=s.replace(/solicitacoes\/?$/i,"solicitacao/"),A=[`${t}${e}/cancelar/`,`${a}${e}/cancelar/`,`${s}${e}/cancelar/`,`${i}${e}/cancelar/`,`${o}${e}/cancelar/`,`${l}${e}/cancelar/`,`${t}${e}/`,`${a}${e}/`,`${s}${e}/`,`${i}${e}/`,`${o}${e}/`,`${l}${e}/`];let d=null;for(const h of A)try{if(h.endsWith("/cancelar/")){const{data:p}=await ye.post(h,{motivo:r});return p}const{data:m}=await ye.patch(h,{status:"CANCELADO",situacao:"CANCELADO",state:"CANCELADO",motivo_cancelamento:r});return m}catch(m){if(((f=m==null?void 0:m.response)==null?void 0:f.status)===401)throw m;d=m;continue}throw d||new Error("Endpoint de cancelamento no encontrado")},async registrarPresenca(e){var i;const r="/agendamentos/".replace(/\/?$/,"/"),t="/api/consultas/".replace(/\/?$/,"/"),a=[`${r}${e}/presenca/`,`${t}${e}/presenca/`,`${r}${e}/`,`${t}${e}/`];let s=null;for(const o of a)try{if(o.endsWith("/presenca/")){const{data:A}=await ye.post(o);return A}const{data:l}=await ye.patch(o,{status:"REALIZADA",situacao:"REALIZADA",state:"REALIZADA"});return l}catch(l){if(((i=l==null?void 0:l.response)==null?void 0:i.status)===401)throw l;s=l;continue}if(s)throw s;return{ok:!1}},async registrarPaciente(e){const r="/auth/register/",t=String((e==null?void 0:e.nome)||"").trim(),[a,...s]=t.split(/\s+/),i=s.join(" "),o=String((e==null?void 0:e.email)||"").trim(),l=String((e==null?void 0:e.senha)||(e==null?void 0:e.password)||""),f={username:`${(o.split("@")[0]||a||"paciente").toLowerCase().replace(/[^a-z0-9]/g,"")}${Math.floor(Math.random()*1e4)}`,email:o,password:l,first_name:a,last_name:i,role:"paciente",cpf:(e==null?void 0:e.cpf)||"",telefone:(e==null?void 0:e.telefone)||"",data_nascimento:(e==null?void 0:e.data_nascimento)||"",endereco:(e==null?void 0:e.endereco)||""},{data:h}=await ye.post(r,f,{});return h},async buscarPacientes(e){try{const r="/api/pacientes/".replace(/\/?$/,"/"),{data:t}=await ye.get(r,{params:{search:e,limit:20}});let a=Array.isArray(t==null?void 0:t.results)?t.results:Array.isArray(t)?t:[];if(a.length>0)return a}catch{}try{const r="/users/".replace(/\/?$/,"/"),{data:t}=await ye.get(r,{params:{search:e,limit:20,role:"paciente",tipo:"paciente"}});return(Array.isArray(t==null?void 0:t.results)?t.results:Array.isArray(t)?t:[]).map(i=>({id:(i==null?void 0:i.id)||(i==null?void 0:i.user_id)||(i==null?void 0:i.pk),user:{first_name:i==null?void 0:i.first_name,last_name:i==null?void 0:i.last_name,username:i==null?void 0:i.username},nome:(i==null?void 0:i.nome)||void 0,cpf:i==null?void 0:i.cpf}))}catch{}return[]},async getMedicosDaSecretaria(e){const r=[],t=a=>{(Array.isArray(a)?a:Array.isArray(a==null?void 0:a.results)?a.results:[]).forEach(i=>{i&&r.push(i)})};if(e)try{const a="/secretarias/".replace(/\/?$/,"/"),s=await ye.get(`${a}${e}/medicos/`).catch(()=>null);s!=null&&s.data&&t(s.data)}catch{}try{const a=await this.getPerfil().catch(()=>null),s=(a==null?void 0:a.medico)||(a==null?void 0:a.medico_id),i=(a==null?void 0:a.medicos)||(a==null?void 0:a.medicos_vinculados);s&&r.push(s),Array.isArray(i)&&t(i)}catch{}return r},async vincularMedico(e,r){if(!e||!r)throw new Error("IDs obrigatrios");const t="/secretarias/".replace(/\/?$/,"/"),a="/api/medicos/".replace(/\/?$/,"/"),s={medico:r,medico_id:r,secretaria:e,secretaria_id:e},i=[{m:"post",u:`${t}${e}/vincular_medico/`,b:s},{m:"post",u:`${a}${r}/vincular_secretaria/`,b:s},{m:"patch",u:`${a}${r}/`,b:{secretaria:e,secretaria_id:e}},{m:"patch",u:`${t}${e}/`,b:{medico:r,medico_id:r}}];let o=null;for(const l of i)try{const{data:A}=await ye[l.m](l.u,l.b);return A}catch(A){o=A}if(o)throw o;return{ok:!1}}},sm=Object.freeze(Object.defineProperty({__proto__:null,secretariaService:Ia},Symbol.toStringTag,{value:"Module"}));function oX(){const[e,r]=b.useState(!0),[t,a]=b.useState([]),[s,i]=b.useState("pendente"),{toast:o}=Ka(),[l,A]=b.useState(null),d=z=>String(z).padStart(2,"0"),f=(()=>{const z=new Date;return`${z.getFullYear()}-${d(z.getMonth()+1)}-${d(z.getDate())}`})(),[h,m]=b.useState(f),[p,v]=b.useState([]),[g,w]=b.useState(!1),[y,N]=b.useState(!1),[C,E]=b.useState(!1),[U,D]=b.useState("");b.useEffect(()=>{let z=!0;return(async()=>{r(!0);try{const Z=await Xt._resolveMedicoId().catch(()=>null),Ae=await Ia.listarSolicitacoesHoje(Z),R=(Array.isArray(Ae)?Ae:[]).map(q=>{var H,V,ae;const te=q.data_hora||q.inicio||q.horario||null,F=q.data||q.dia||(typeof te=="string"?te.slice(0,10):null),X=q.hora||q.horario||typeof te=="string"&&((H=te.match(/T(\d{2}:\d{2})/))==null?void 0:H[1])||null;return{id:q.id,paciente:((V=q.paciente)==null?void 0:V.nome)||((ae=q.paciente)!=null&&ae.user?`${q.paciente.user.first_name||""} ${q.paciente.user.last_name||""}`.trim():"Paciente"),dataStr:F,horaStr:X,dataHora:F&&X?`${F}T${X}:00`:te,tipo:q.tipo||q.modalidade||"consulta",status:String(q.status||q.situacao||"pendente").toLowerCase(),raw:q}});z&&a(R)}catch{}finally{z&&r(!1)}})(),()=>{z=!1}},[]),b.useEffect(()=>{const z=l!=null&&l.dataHora?new Date(l.dataHora):null;if(z&&!isNaN(z)){const Z=`${z.getFullYear()}-${d(z.getMonth()+1)}-${d(z.getDate())}`;m(Z)}},[l==null?void 0:l.dataHora]),b.useEffect(()=>{let z=!0;return(async()=>{if(h){w(!0);try{const Z=await Xt.getConsultasDoMedico({date:h}),Ae=Array.isArray(Z)?Z:Array.isArray(Z==null?void 0:Z.results)?Z.results:[];z&&v(Ae)}catch{z&&v([])}finally{z&&w(!1)}}})(),()=>{z=!1}},[h]);const k=b.useMemo(()=>[{label:"Dashboard",href:"/medico/dashboard"},{label:"Consultas de Hoje",href:"/medico/consultas/hoje"},{label:"Meus Pacientes",href:"/medico/meus-pacientes"},{label:"Solicitaes",href:"/medico/solicitacoes"}],[]),L=b.useMemo(()=>{const z=String(s||"").toLowerCase();return!z||z==="todas"?t:t.filter(Z=>String(Z.status||"").toLowerCase()===z)},[t,s]),_=async z=>{var R,q;const Z=t.find(te=>te.id===z),Ae=(Z==null?void 0:Z.raw)||{},ee=((R=Ae.consulta)==null?void 0:R.id)||Ae.consulta_id||((q=Ae.agendamento)==null?void 0:q.id)||Ae.agendamento_id||Ae.id;try{await Ia.aceitarSolicitacao(z),a(te=>te.map(F=>F.id===z?{...F,status:"confirmada"}:F)),o({title:"Solicitao confirmada"})}catch{try{if(ee&&ee!==z){await Ia.confirmarConsulta(ee),a(F=>F.map(X=>X.id===z?{...X,status:"confirmada"}:X)),o({title:"Solicitao confirmada"});return}throw new Error("Falha")}catch{o({title:"Erro",description:"Falha ao confirmar",variant:"destructive"})}}},Y=async z=>{var R,q;const Z=t.find(te=>te.id===z),Ae=(Z==null?void 0:Z.raw)||{},ee=((R=Ae.consulta)==null?void 0:R.id)||Ae.consulta_id||((q=Ae.agendamento)==null?void 0:q.id)||Ae.agendamento_id||Ae.id;try{await Ia.cancelarSolicitacao(z),a(te=>te.map(F=>F.id===z?{...F,status:"cancelada"}:F)),o({title:"Solicitao cancelada"})}catch{try{if(ee&&ee!==z){await Ia.cancelarConsulta(ee,"cancelado pelo mdico/secretaria"),a(F=>F.map(X=>X.id===z?{...X,status:"cancelada"}:X)),o({title:"Solicitao cancelada"});return}throw new Error("Falha")}catch{o({title:"Erro",description:"Falha ao cancelar",variant:"destructive"})}}},I=async()=>{if(!l)return;const z=h,Z=U&&/^\d{2}:\d{2}$/.test(U)?`${z}T${U}:00`:`${z}T00:00:00`;try{await Ia.proporNovaData(l.id,Z),a(Ae=>Ae.map(ee=>ee.id===l.id?{...ee,status:"aguardando_paciente",dataHora:Z,dataStr:z,horaStr:U}:ee)),N(!1),o({title:"Contraproposta enviada",description:"Aguardando resposta do paciente"})}catch{o({title:"Erro",description:"Falha ao propor nova data",variant:"destructive"})}},$=async()=>{if(!l)return;const z=h,Z=U&&/^\d{2}:\d{2}$/.test(U)?`${z}T${U}:00`:`${z}T00:00:00`;try{await Ia.reagendarConsulta(l.id,Z),a(Ae=>Ae.map(ee=>ee.id===l.id?{...ee,status:"confirmada",dataHora:Z,dataStr:z,horaStr:U}:ee)),E(!1),o({title:"Consulta reagendada"})}catch{o({title:"Erro",description:"Falha ao reagendar",variant:"destructive"})}},J=b.useMemo(()=>{const z=[];for(let Z=8;Z<18;Z++)z.push(`${String(Z).padStart(2,"0")}:00`);return z},[]),M=z=>(p||[]).some(Ae=>{var q;const ee=String((Ae==null?void 0:Ae.hora)||(Ae==null?void 0:Ae.horario)||(Ae==null?void 0:Ae.data_hora)||"");return((q=ee.match(/(\d{2}:\d{2})/)||ee.match(/T(\d{2}:\d{2})/))==null?void 0:q[1])===z}),re=z=>String(z||"").toLowerCase(),K=z=>{const Z=re(z);return Z.includes("aguardando_paciente")?"Aguardando paciente":Z.includes("confirm")?"Confirmada":Z.includes("cancel")?"Cancelada":Z.includes("agend")||Z.includes("pendente")?"Agendada":z},G=(z,Z,Ae)=>{const ee=z?new Date(z):null,R=!!Ae||ee&&!isNaN(ee.getTime()),q=ee&&!isNaN(ee.getTime())?ee.toLocaleDateString("pt-BR"):Z?new Date(`${Z}T00:00:00`).toLocaleDateString("pt-BR"):"",te=Ae||(ee&&!isNaN(ee.getTime())?ee.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"");return`${q}${R?` ${te}`:""}`};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Solicitaes de Consultas"}),n.jsx(Wi,{tabs:k,basePath:"/medico"}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Solicitaes de Hoje"})}),n.jsxs(Le,{children:[n.jsx("div",{className:"flex items-center gap-3 mb-3",children:n.jsxs(Gr,{value:s,onValueChange:i,children:[n.jsx(zr,{className:"w-48",children:n.jsx(Yr,{placeholder:"Status"})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"pendente",children:"Pendentes"}),n.jsx(nt,{value:"confirmada",children:"Confirmadas"}),n.jsx(nt,{value:"cancelada",children:"Canceladas"}),n.jsx(nt,{value:"aguardando_paciente",children:"Aguardando paciente"}),n.jsx(nt,{value:"todas",children:"Todas"})]})]})}),e?n.jsx(Cr,{className:"h-16 w-full"}):L.length===0?n.jsx("div",{className:"text-muted-foreground",children:"Nenhuma solicitao encontrada."}):n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ga,{children:[n.jsx(ur,{children:"Paciente"}),n.jsx(ur,{children:"Tipo"}),n.jsx(ur,{children:"Data/Hora"}),n.jsx(ur,{children:"Status"}),n.jsx(ur,{className:"text-right",children:"Aes"})]})}),n.jsx(wo,{children:L.map(z=>n.jsxs(Ga,{onClick:()=>A(z),className:(l==null?void 0:l.id)===z.id?"bg-muted/30 cursor-pointer":"cursor-pointer",children:[n.jsx(ir,{children:z.paciente}),n.jsx(ir,{children:z.tipo}),n.jsx(ir,{children:G(z.dataHora,z.dataStr,z.horaStr)}),n.jsx(ir,{children:n.jsx(lr,{variant:"outline",className:"capitalize",children:K(z.status)})}),n.jsx(ir,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[["pendente","agendada"].includes(z.status)&&n.jsx(a0,{children:n.jsxs(Yh,{children:[n.jsx(Xh,{asChild:!0,children:n.jsx(we,{"aria-label":"Confirmar",size:"icon-sm",variant:"success",onClick:()=>_(z.id),children:n.jsx(po,{className:"h-4 w-4"})})}),n.jsx(_f,{children:"Confirmar"})]})}),["pendente","agendada","confirmada","confirmado"].includes(z.status)&&n.jsxs(we,{size:"sm",variant:"destructive",onClick:()=>Y(z.id),children:[n.jsx(fs,{className:"h-4 w-4 mr-1"})," Cancelar"]}),n.jsxs(a0,{children:[["pendente","agendada"].includes(z.status)&&n.jsxs(Yh,{children:[n.jsx(Xh,{asChild:!0,children:n.jsx(we,{"aria-label":"Propor nova data",size:"icon-sm",variant:"info",onClick:()=>{A(z),N(!0)},children:n.jsx(br,{className:"h-4 w-4"})})}),n.jsx(_f,{children:"Propor nova data"})]}),["confirmada","confirmado"].includes(z.status)&&n.jsxs(Yh,{children:[n.jsx(Xh,{asChild:!0,children:n.jsx(we,{"aria-label":"Reagendar",size:"icon-sm",variant:"info",onClick:()=>{A(z),E(!0)},children:n.jsx(br,{className:"h-4 w-4"})})}),n.jsx(_f,{children:"Reagendar"})]})]})]})})]},z.id))})]}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Agenda do dia"})}),n.jsxs(Le,{children:[n.jsx("div",{className:"flex items-center gap-3 mb-3",children:n.jsx(ms,{value:h,onChange:m})}),g?n.jsx(Cr,{className:"h-16 w-full"}):n.jsx("div",{className:"divide-y border rounded",children:J.map(z=>n.jsxs("div",{className:`flex items-center justify-between px-3 py-2 ${M(z)?"bg-red-50 text-red-700 cursor-not-allowed":"cursor-pointer hover:bg-muted/30"}`,onClick:()=>{if(!l||M(z))return;D(z),re(l.status).includes("confirm")?E(!0):N(!0)},role:"button","aria-disabled":M(z),children:[n.jsx("span",{className:"text-sm",children:z}),n.jsx("span",{className:"text-xs text-muted-foreground",children:M(z)?"Ocupado":"Livre"})]},z))})]})]})]})]})]}),n.jsx(uA,{open:y,onOpenChange:N,children:n.jsxs(Ac,{children:[n.jsx(dc,{children:n.jsx(uc,{children:"Propor nova data"})}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ms,{value:h,onChange:m}),n.jsx(Oe,{placeholder:"HH:MM",value:U,onChange:z=>D(z.target.value)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Dica: clique em um horrio livre na agenda ao lado para preencher automaticamente."})]}),n.jsxs(fA,{children:[n.jsx(we,{variant:"outline",onClick:()=>N(!1),children:"Cancelar"}),n.jsx(we,{onClick:I,children:"Enviar contraproposta"})]})]})}),n.jsx(uA,{open:C,onOpenChange:E,children:n.jsxs(Ac,{children:[n.jsx(dc,{children:n.jsx(uc,{children:"Reagendar consulta"})}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ms,{value:h,onChange:m}),n.jsx(Oe,{placeholder:"HH:MM",value:U,onChange:z=>D(z.target.value)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Selecione um horrio livre na agenda ao lado."})]}),n.jsxs(fA,{children:[n.jsx(we,{variant:"outline",onClick:()=>E(!1),children:"Cancelar"}),n.jsx(we,{onClick:$,children:"Salvar"})]})]})})]})}const Vg=b.forwardRef(({className:e,checked:r,onCheckedChange:t,disabled:a,...s},i)=>{const o=l=>{t&&t(l.target.checked)};return n.jsxs("div",{className:"relative inline-flex items-center",children:[n.jsx("input",{type:"checkbox",ref:i,checked:r,onChange:o,disabled:a,className:"sr-only",...s}),n.jsx("div",{className:ct("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground","transition-all duration-200 cursor-pointer",r?"bg-primary border-primary text-primary-foreground":"border-input bg-background hover:border-primary/50",a&&"cursor-not-allowed opacity-50",e),onClick:()=>!a&&t&&t(!r),children:r&&n.jsx(S1,{className:"h-3 w-3 text-current flex items-center justify-center w-full h-full"})})]})});Vg.displayName="Checkbox";const xg="https://tcc-back-ktwy.onrender.com/api";class lX{async checkServiceStatus(){try{if(!(await fetch(`${xg}/receitas/`,{method:"GET",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok)throw new Error("Servio de assinatura digital indisponvel");return{status:"online",message:"Servio de assinatura digital disponvel via Django API",version:"2.0.0"}}catch(r){return console.warn("Servio de assinatura digital indisponvel:",r),{status:"online",message:"Servio de assinatura digital disponvel (mock)",version:"1.0.0"}}}generateDocumentHash(r){var a,s;const t=JSON.stringify({timestamp:Date.now(),prescription_id:r.id||r.receita_id,patient:((a=r.paciente)==null?void 0:a.nome)||r.nome_paciente,doctor:((s=r.medico)==null?void 0:s.nome)||r.medico,medications:r.medicamentos||r.medicamento});return btoa(t).replace(/[^a-zA-Z0-9]/g,"").substring(0,32)}async generatePDFHash(r){try{if(!r)return`pdf_hash_${Date.now()}`;const t=await r.arrayBuffer();if(window.crypto&&window.crypto.subtle){const a=await window.crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(a)).map(i=>i.toString(16).padStart(2,"0")).join("")}return`pdf_${r.size}_${r.lastModified}_${Date.now()}`}catch(t){return console.warn("Erro ao gerar hash do PDF:",t),`pdf_hash_${Date.now()}`}}async signPrescription(r){try{const t=r.id||r.receita_id;if(!t)throw new Error("ID da receita  obrigatrio para assinatura");const a=await fetch(`${xg}/receitas/${t}/assinar/`,{method:"POST",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({algoritmo_assinatura:r.algoritmo_assinatura||"SHA256",hash_documento:r.hash_documento||this.generateDocumentHash(r)})});if(!a.ok)return console.warn("Servio de assinatura no disponvel, usando mock"),{success:!0,message:"Receita assinada digitalmente (mock)",signature_id:`mock_${Date.now()}`,signed_at:new Date().toISOString(),prescription_id:t};const s=await a.json();return{success:!0,message:"Receita assinada digitalmente via Django API",signature_id:s.id,signed_at:s.assinada_em,prescription_id:s.id,hash_documento:s.hash_documento,algoritmo_assinatura:s.algoritmo_assinatura}}catch(t){return console.warn("Erro na assinatura digital, usando mock:",t),{success:!0,message:"Receita assinada digitalmente (mock)",signature_id:`mock_${Date.now()}`,signed_at:new Date().toISOString(),prescription_id:r.id||"mock_prescription"}}}async signPrescriptionWithPDF(r){try{const t=r.get("receita_id")||r.get("id");if(!t)throw new Error("ID da receita  obrigatrio para assinatura");const a=r.get("pdf"),s=await this.generatePDFHash(a),i=await fetch(`${xg}/receitas/${t}/assinar/`,{method:"POST",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({algoritmo_assinatura:"SHA256",hash_documento:s})});if(!i.ok)return console.warn("Servio de assinatura no disponvel, usando mock"),{success:!0,message:"Receita assinada digitalmente (mock)",signature_id:`mock_${Date.now()}`,signed_at:new Date().toISOString(),download_url:URL.createObjectURL(a),prescription_id:t};const o=await i.json();return{success:!0,message:"Receita assinada digitalmente via Django API",signature_id:o.id,signed_at:o.assinada_em,download_url:URL.createObjectURL(a),prescription_id:o.id,hash_documento:o.hash_documento,algoritmo_assinatura:o.algoritmo_assinatura}}catch(t){console.warn("Erro na assinatura digital, usando mock:",t);const a=r.get("pdf");return{success:!0,message:"Receita assinada digitalmente (mock)",signature_id:`mock_${Date.now()}`,signed_at:new Date().toISOString(),download_url:a?URL.createObjectURL(a):null,prescription_id:r.get("id")||"mock_prescription"}}}async verifySignature(r){try{const t="http://localhost:8172".replace(/\/$/,""),a=await fetch(`${t}/api/prescriptions/verify/${r}/`);return a.ok?await a.json():{status:"success",signature_id:r,verified:!0,signed_at:new Date().toISOString(),message:"Assinatura verificada (mock)"}}catch(t){return console.warn("Erro ao verificar assinatura, usando mock:",t),{status:"success",signature_id:r,verified:!0,signed_at:new Date().toISOString(),message:"Assinatura verificada (mock)"}}}async listSignedPrescriptions(){try{const r=await fetch(`${xg}/receitas/?assinada=true`,{method:"GET",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});return r.ok?(await r.json()).results||[]:[]}catch(r){return console.warn("Erro ao listar receitas assinadas, usando mock:",r),[]}}getDownloadUrl(r){return`${"http://localhost:8172".replace(/\/$/,"")}/api/prescriptions/download/${r}/`}formatPrescriptionData(r,t){return{paciente:{nome:r.nome_paciente,cpf:r.rg,data_nascimento:r.data_nascimento,endereco:r.endereco_paciente,telefone:r.telefone_paciente,idade:r.idade},medico:{nome:r.medico,crm:r.crm,especialidade:r.especialidade,endereco_consultorio:r.endereco_consultorio,telefone_consultorio:r.telefone_consultorio,email_medico:r.email_medico},medicamentos:r.medicamento?[{nome:r.medicamento,posologia:r.posologia,observacoes:r.observacoes}]:[],observacoes:r.observacoes,validade_receita:r.validade_receita,data_prescricao:new Date().toISOString(),receita_id:t,metadata:{sistema:"Medicine Front",versao:"1.0.0",timestamp:Date.now()}}}validatePrescriptionData(r){var a,s,i,o,l;const t=[];return(a=r.nome_paciente)!=null&&a.trim()||t.push("Nome do paciente  obrigatrio"),(s=r.cpf)!=null&&s.trim()||t.push("CPF do paciente  obrigatrio"),(i=r.medico)!=null&&i.trim()||t.push("Nome do mdico  obrigatrio"),(o=r.crm)!=null&&o.trim()||t.push("CRM do mdico  obrigatrio"),(l=r.medicamento)!=null&&l.trim()||t.push("Medicamento  obrigatrio"),{isValid:t.length===0,errors:t}}}const cX=new lX,Ww=async()=>(await Qs(async()=>{const{default:e}=await import("./localAgent-0oiN_vt-.js");return{default:e}},[])).default;function AX(){var Me,Fr,yt,rr,ca,er,Nn,gs,hn,ns,ft,Va,Ya,Ns,fi,Xa;const[e,r]=b.useState(!1),[t,a]=b.useState(null),[s,i]=b.useState(""),[o,l]=b.useState(null),[A,d]=b.useState(""),{id:f}=zo(),h=as(),m=$n(),{toast:p}=Ka(),[v,g]=b.useState(((Me=h.state)==null?void 0:Me.receitaId)||null),w=async $e=>{const et=await $e.arrayBuffer(),Ft=await crypto.subtle.digest("SHA-256",et);return Array.from(new Uint8Array(Ft)).map(it=>it.toString(16).padStart(2,"0")).join("")},y=((Fr=h.state)==null?void 0:Fr.fromConsulta)||{},N=((yt=h.state)==null?void 0:yt.consultaId)||y.consultaId,C=y.receitaItems||[],E=Array.isArray(C)&&C.length>0,U=$e=>{if(!$e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test($e))return $e;const et=new Date($e);if(!isNaN(et)){const it=et.getFullYear(),Ht=String(et.getMonth()+1).padStart(2,"0"),mr=String(et.getDate()).padStart(2,"0");return`${it}-${Ht}-${mr}`}const Ft=String($e).match(/^(\d{2})\/(\d{2})\/(\d{4})$/);return Ft?`${Ft[3]}-${Ft[2]}-${Ft[1]}`:""},D=$e=>{if(!$e)return"";const et=new Date($e);if(isNaN(et))return"";const Ft=new Date;let it=Ft.getFullYear()-et.getFullYear();const Ht=Ft.getMonth()-et.getMonth(),mr=Ft.getDate()-et.getDate();(Ht<0||Ht===0&&mr<0)&&it--;let $t=new Date(Ft.getFullYear(),et.getMonth(),et.getDate());$t>Ft&&($t=new Date(Ft.getFullYear()-1,et.getMonth(),et.getDate()));const Ur=1440*60*1e3,Kr=Math.floor((Ft-$t)/Ur);return`${it} anos e ${Kr} dias`},k=b.useMemo(()=>new Date().toLocaleDateString(),[]),L=$e=>{for(const et of $e){if(et==null)continue;const Ft=typeof et=="string"?et.trim():et;if(Ft)return typeof Ft=="string"?Ft:String(Ft)}return""},[_,Y]=b.useState({nome_paciente:"",idade:"",rg:"",data_nascimento:"",medicamento:y.medicamentos||"",posologia:y.posologia||"",validade_receita:y.validade||"",medico:"",crm:"",endereco_consultorio:"",telefone_consultorio:"",observacoes:"",formato:"pdf",acao:"imprimir",email_paciente:"",email_medico:""}),[I,$]=b.useState(!1),[J,M]=b.useState(!0),[re,K]=b.useState(!1),[G,z]=b.useState(!1),[Z,Ae]=b.useState("token"),[ee,R]=b.useState(""),[q,te]=b.useState(Ls),[F,X]=b.useState(null);b.useEffect(()=>{let $e=!0;const et=async()=>{let Ht=_.medico_id||null;try{Ht||(Ht=await Xt._resolveMedicoId().catch(()=>null))}catch{}Ht=Ht||(typeof window<"u"?localStorage.getItem("medico_id"):null)||"default";const mr=pm(Ht),$t=$f(Ht);$e&&(te(mr||Ls),X($t||null))};et();const Ft=Ht=>{const mr=(Ht==null?void 0:Ht.key)||"";(mr.startsWith("pdf_template_config_")||mr.startsWith("template_config_")||mr.startsWith("doctor_logo_"))&&et()},it=()=>{document.visibilityState==="visible"&&et()};return window.addEventListener("focus",et),window.addEventListener("storage",Ft),document.addEventListener("visibilitychange",it),()=>{$e=!1,window.removeEventListener("storage",Ft),window.removeEventListener("focus",et),document.removeEventListener("visibilitychange",it)}},[_.medico_id]);const H=b.useMemo(()=>{var Ft,it,Ht,mr,$t,Ur;const $e=(q==null?void 0:q.content)||{},et=(q==null?void 0:q.header)||{};return{accentBorderColor:((Ft=$e==null?void 0:$e.colors)==null?void 0:Ft.accent)||((it=q==null?void 0:q.branding)==null?void 0:it.primaryColor)||"#3b82f6",titleSize:`${((Ht=$e==null?void 0:$e.fontSize)==null?void 0:Ht.title)??16}pt`,smallSize:`${((mr=$e==null?void 0:$e.fontSize)==null?void 0:mr.small)??10}pt`,primaryColor:(($t=$e==null?void 0:$e.colors)==null?void 0:$t.primary)||"#1f2937",secondaryColor:((Ur=$e==null?void 0:$e.colors)==null?void 0:Ur.secondary)||"#6b7280",showLogo:(et==null?void 0:et.showLogo)!==!1,headerBgColor:(et==null?void 0:et.backgroundColor)||"#ffffff",headerBorderBottom:(et==null?void 0:et.borderBottom)!==!1,headerBorderColor:(et==null?void 0:et.borderColor)||"#e5e7eb",logoPosition:(et==null?void 0:et.logoPosition)||"left",doctorInfoPosition:(et==null?void 0:et.doctorInfoPosition)||"right"}},[q]),{user:V,ephemeralCertFile:ae,setEphemeralCertFile:fe,ephemeralCertPassword:ve,setEphemeralCertPassword:Be,clearEphemeralCert:ke}=lc(),[xe,ie]=b.useState(ae||null),[lt,mt]=b.useState(ve||"");b.useEffect(()=>{fe(xe)},[xe,fe]),b.useEffect(()=>{Be(lt)},[lt,Be]);const at=b.useMemo(()=>!xe||!lt?null:{arquivo:xe,senha:lt,modo:"pfx"},[xe,lt]),[Ee,At]=b.useState(null),[st,Mt]=b.useState(null),[kt,Nt]=b.useState({ok:!0,errors:[],expected:{medicoId:null,pacienteId:f,consultaId:N}});b.useEffect(()=>{let $e=!0;async function et(){var Ft,it,Ht,mr,$t,Ur,Kr,ar,Lr,zt,ma,fr,hr,qt,Qr,sn,ss,en,Wo,Ca,Go,on,vc,yo;M(!0);try{try{const xt=await Xt.getPerfil(),Ge=(xt==null?void 0:xt.user)||(xt==null?void 0:xt.usuario)||{},Jr=L([`${(Ge==null?void 0:Ge.first_name)||""} ${(Ge==null?void 0:Ge.last_name)||""}`.trim(),xt==null?void 0:xt.nome,xt==null?void 0:xt.nome_completo,xt==null?void 0:xt.full_name,xt==null?void 0:xt.name]),Bt=L([xt==null?void 0:xt.crm,xt==null?void 0:xt.matricula,xt==null?void 0:xt.registro,xt==null?void 0:xt.crm_numero,Ge==null?void 0:Ge.crm]),ia=L([xt==null?void 0:xt.endereco_consultorio,xt==null?void 0:xt.consultorio_endereco,xt==null?void 0:xt.endereco,Ge==null?void 0:Ge.endereco,(Ft=xt==null?void 0:xt.clinica)==null?void 0:Ft.endereco]),xa=L([xt==null?void 0:xt.telefone_consultorio,xt==null?void 0:xt.consultorio_telefone,xt==null?void 0:xt.telefone,Ge==null?void 0:Ge.telefone,Ge==null?void 0:Ge.phone,(it=xt==null?void 0:xt.clinica)==null?void 0:it.telefone,xt==null?void 0:xt.celular]),Bn=L([Ge==null?void 0:Ge.email_institucional,Ge==null?void 0:Ge.email,xt==null?void 0:xt.email_institucional,xt==null?void 0:xt.email,xt==null?void 0:xt.contato_email]),Zr=((Ht=xt==null?void 0:xt.medico)==null?void 0:Ht.id)||(xt==null?void 0:xt.id)||null;$e&&xt&&(Y(ln=>({...ln,medico:Jr||ln.medico,crm:Bt||ln.crm,endereco_consultorio:ia||ln.endereco_consultorio||"",telefone_consultorio:xa||ln.telefone_consultorio||"",email_medico:Bn||ln.email_medico||""})),Nt(ln=>({...ln,expected:{...ln.expected,medicoId:Zr}})))}catch{}try{const xt="/api/pacientes/".replace(/\/?$/,"/");let Ge=null,Jr=null;try{const{data:Bt}=await ye.get(`${xt}${f}/`);Ge=Bt}catch(Bt){console.error("Erro ao carregar dados do mdico:",Bt)}if(!Ge){const Bt=[{id:f},{paciente_id:f},{user:f},{usuario:f},{user__id:f},{usuario_id:f}];for(const ia of Bt)try{const{data:xa}=await ye.get(xt,{params:ia}),Bn=Array.isArray(xa==null?void 0:xa.results)?xa.results:Array.isArray(xa)?xa:[];if(Bn!=null&&Bn.length){Ge=Bn[0];break}if(xa!=null&&xa.id){Ge=xa;break}}catch(xa){console.error("Erro ao carregar dados do paciente:",xa)}}if(!Ge&&N)try{const{data:Bt}=await ye.get(`/consultas/${N}/`);Jr=Bt;const ia=(Bt==null?void 0:Bt.paciente)||(Bt!=null&&Bt.paciente_id?{id:Bt.paciente_id}:null);ia&&(Ge=ia)}catch(Bt){console.error("Erro ao carregar dados do usurio:",Bt)}if(!Ge&&(y!=null&&y.paciente)&&(Ge=y.paciente),$e&&Ge){const Bt=(Ge==null?void 0:Ge.user)||(Ge==null?void 0:Ge.usuario)||{},ia=L([Bt==null?void 0:Bt.display_name,`${(Bt==null?void 0:Bt.first_name)||""} ${(Bt==null?void 0:Bt.last_name)||""}`.trim(),Bt==null?void 0:Bt.nome,Bt==null?void 0:Bt.nome_completo,Ge==null?void 0:Ge.nome,Ge==null?void 0:Ge.nome_completo,Ge==null?void 0:Ge.name]),xa=U((Bt==null?void 0:Bt.data_nascimento)||(Bt==null?void 0:Bt.nascimento)||(Bt==null?void 0:Bt.dob)||(Ge==null?void 0:Ge.data_nascimento)||(Ge==null?void 0:Ge.nascimento)||(Ge==null?void 0:Ge.dob)||"");let Bn=L([Bt==null?void 0:Bt.cpf,(mr=Bt==null?void 0:Bt.profile)==null?void 0:mr.cpf,($t=Bt==null?void 0:Bt.meu_app_user)==null?void 0:$t.cpf,(Ur=Bt==null?void 0:Bt.dados)==null?void 0:Ur.cpf,Ge==null?void 0:Ge.cpf,(Kr=Ge==null?void 0:Ge.profile)==null?void 0:Kr.cpf,(ar=Ge==null?void 0:Ge.meu_app_user)==null?void 0:ar.cpf,(Lr=Ge==null?void 0:Ge.dados)==null?void 0:Lr.cpf,(zt=Ge==null?void 0:Ge.usuario)==null?void 0:zt.cpf,(fr=(ma=Ge==null?void 0:Ge.usuario)==null?void 0:ma.profile)==null?void 0:fr.cpf,(qt=(hr=Ge==null?void 0:Ge.usuario)==null?void 0:hr.meu_app_user)==null?void 0:qt.cpf,(Qr=y==null?void 0:y.paciente)==null?void 0:Qr.cpf,y==null?void 0:y.cpf,Ge==null?void 0:Ge.documento,Ge==null?void 0:Ge.doc,Ge==null?void 0:Ge.rg]);if(!Bn)try{let Sa=null;const Yi=Bt&&typeof Bt=="object"&&Object.keys(Bt).length>0;if(typeof Bt=="number"||typeof Bt=="string"?Sa=Bt:Yi&&(Sa=Bt.id||Bt.pk||Bt.user||Bt.usuario||null),Sa||(Sa=((sn=Ge==null?void 0:Ge.usuario)==null?void 0:sn.id)||((ss=Ge==null?void 0:Ge.user)==null?void 0:ss.id)||(Ge==null?void 0:Ge.usuario_id)||(Ge==null?void 0:Ge.user_id)||(typeof(Ge==null?void 0:Ge.usuario)=="number"||typeof(Ge==null?void 0:Ge.usuario)=="string"?Ge.usuario:null)||(typeof(Ge==null?void 0:Ge.user)=="number"||typeof(Ge==null?void 0:Ge.user)=="string"?Ge.user:null)),Sa){const Aa="/api/users/".replace(/\/?$/,"/"),{data:mn}=await ye.get(`${Aa}${Sa}/`);Bn=L([mn==null?void 0:mn.cpf,(en=mn==null?void 0:mn.profile)==null?void 0:en.cpf,(Wo=mn==null?void 0:mn.meu_app_user)==null?void 0:Wo.cpf,(Ca=mn==null?void 0:mn.dados)==null?void 0:Ca.cpf])||Bn}}catch(Sa){console.error("Erro ao carregar dados da consulta:",Sa)}const Zr=(Bt==null?void 0:Bt.email)||(Ge==null?void 0:Ge.email)||"",ln=xa?D(xa):"";Y(Sa=>({...Sa,nome_paciente:ia||Sa.nome_paciente,data_nascimento:xa||Sa.data_nascimento,rg:Sa.rg||Bn,idade:Sa.idade||ln,email_paciente:Sa.email_paciente||Zr}))}try{const Bt=Zr=>Zr==null?null:String(Zr),ia=[];let xa=null,Bn=null;if(Jr)xa=((Go=Jr==null?void 0:Jr.medico)==null?void 0:Go.id)||(Jr==null?void 0:Jr.medico)||(Jr==null?void 0:Jr.medico_id)||null,Bn=((on=Jr==null?void 0:Jr.paciente)==null?void 0:on.id)||(Jr==null?void 0:Jr.paciente)||(Jr==null?void 0:Jr.paciente_id)||null;else if(N)try{const{data:Zr}=await ye.get(`/consultas/${N}/`);xa=((vc=Zr==null?void 0:Zr.medico)==null?void 0:vc.id)||(Zr==null?void 0:Zr.medico)||(Zr==null?void 0:Zr.medico_id)||null,Bn=((yo=Zr==null?void 0:Zr.paciente)==null?void 0:yo.id)||(Zr==null?void 0:Zr.paciente)||(Zr==null?void 0:Zr.paciente_id)||null}catch(Zr){console.error("Erro ao carregar dados do mdico:",Zr)}Bn&&String(Bn)!==String(f)&&ia.push("Paciente da consulta no corresponde ao paciente exibido."),Nt(Zr=>{var Sa,Yi;const ln=(Sa=Zr.expected)==null?void 0:Sa.medicoId;return ln&&xa&&Bt(ln)!==Bt(xa)&&ia.push("Mdico da consulta no corresponde ao mdico logado."),{ok:ia.length===0,errors:ia,expected:{...Zr.expected,pacienteId:f,consultaId:N,medicoId:ln||((Yi=Zr.expected)==null?void 0:Yi.medicoId)||null}}})}catch(Bt){console.error("Erro ao carregar dados do paciente:",Bt)}}catch(xt){console.error("Erro ao carregar dados:",xt)}}finally{$e&&M(!1)}}return et(),()=>{$e=!1}},[f,N,y==null?void 0:y.cpf,y.paciente]),b.useEffect(()=>{let $e=!0;return(async()=>{var et,Ft;if(v)try{const it=await Xt.getReceitaById(v),Ht=await Xt.getReceitaItens(v).catch(()=>[]),mr=(it==null?void 0:it.paciente_nome)||((et=it==null?void 0:it.paciente)==null?void 0:et.nome)||_.nome_paciente,$t=_.idade,Ur=(it==null?void 0:it.cpf)||((Ft=it==null?void 0:it.paciente)==null?void 0:Ft.cpf)||_.rg,Kr=(it==null?void 0:it.data_nascimento)||_.data_nascimento,ar=(it==null?void 0:it.medicamentos)||(it==null?void 0:it.medicamento)||_.medicamento,Lr=(it==null?void 0:it.posologia)||_.posologia,zt=(it==null?void 0:it.validade)||(it==null?void 0:it.validade_receita)||_.validade_receita,ma=(it==null?void 0:it.observacoes)||_.observacoes;if($e&&Y(fr=>({...fr,nome_paciente:mr||fr.nome_paciente,idade:$t||fr.idade,rg:Ur||fr.rg,data_nascimento:Kr||fr.data_nascimento,medicamento:ar||fr.medicamento,posologia:Lr||fr.posologia,validade_receita:U(zt)||fr.validade_receita,observacoes:ma||fr.observacoes})),$e&&Array.isArray(Ht)&&Ht.length){const fr=Ht.map(hr=>({medicamento:{nome:hr.nome||hr.medicamento_nome||hr.descricao},dose:hr.dose,frequencia:hr.frequencia,duracao:hr.duracao,observacoes:hr.observacoes,descricao:hr.descricao}));C.splice(0,C.length,...fr)}}catch(it){console.warn("Falha ao carregar receita por id:",it==null?void 0:it.message)}})(),()=>{$e=!1}},[v]);const ut=$e=>{const{name:et,value:Ft}=$e.target;Y(it=>({...it,[et]:Ft})),e&&(r(!1),a(null),i(""),Mt(null),v&&Xt.atualizarReceita(v,{assinada:!1}).catch(()=>{}),p({title:"Assinatura invalidada",description:"A receita foi alterada. Assine novamente para validade jurdica."}))},Pt=()=>{$(!0),p({title:"Receita validada",description:"Os dados foram conferidos. Voc pode gerar o documento."})},Dt=($e,et="Receita_Medica")=>{const Ft=URL.createObjectURL($e),it=document.createElement("a");it.href=Ft;const Ht=/\.[a-z0-9]+$/i.test(et);it.download=Ht?et:`${et}.pdf`,document.body.appendChild(it),it.click(),it.remove(),setTimeout(()=>URL.revokeObjectURL(Ft),2e3)},Et=()=>{var $e;return kt!=null&&kt.ok||p({title:"Vnculo invlido",description:(($e=kt.errors)==null?void 0:$e.join(` 
`))||"Verifique dados da consulta, mdico e paciente.",variant:"destructive"}),!0},vt=async()=>{var $e,et,Ft;try{if(v)return v;const it=await Xt.getPerfil().catch(()=>null),Ht=(($e=it==null?void 0:it.medico)==null?void 0:$e.id)||(it==null?void 0:it.id)||null,mr=(_.medicamento||(E?C.map(Lr=>{var zt;return((zt=Lr.medicamento)==null?void 0:zt.nome)||Lr.descricao||""}).filter(Boolean).join("; "):"")).trim(),$t=(_.posologia||(E?C.map(Lr=>[Lr.dose,Lr.frequencia,Lr.duracao].filter(Boolean).join(" ")).filter(Boolean).join(" | "):"")).trim(),Ur={paciente_id:f,consulta_id:N||void 0,medico_id:Ht||void 0,nome_paciente:_.nome_paciente,cpf:_.rg,data_nascimento:U(_.data_nascimento),medicamento:mr,posologia:$t,validade:U(_.validade_receita),observacoes:_.observacoes,medico:_.medico,crm:_.crm,endereco_consultorio:_.endereco_consultorio,telefone_consultorio:_.telefone_consultorio,email_paciente:_.email_paciente||void 0},Kr=await Xt.criarReceita(Ur),ar=(Kr==null?void 0:Kr.id)||(Kr==null?void 0:Kr.receita_id)||(Kr==null?void 0:Kr.uuid);if(ar){g(ar);try{const Lr=[];if(E)C.forEach(zt=>{var ma,fr;Lr.push({medicamento_id:((ma=zt.medicamento)==null?void 0:ma.id)||void 0,dose:zt.dose||void 0,frequencia:zt.frequencia||void 0,duracao:zt.duracao||void 0,observacoes:zt.observacoes||void 0,descricao:((fr=zt.medicamento)==null?void 0:fr.nome)||zt.descricao||void 0,posologia:`${zt.dose||""} ${zt.frequencia||""} ${zt.duracao||""}`.trim()||void 0})});else{const{parsePrescriptionToItems:zt}=await Qs(async()=>{const{parsePrescriptionToItems:fr}=await import("./aiPrescriptionParser-DUXOF_BE.js");return{parsePrescriptionToItems:fr}},[]);zt(_.medicamento||"",_.posologia||"").forEach(fr=>Lr.push({descricao:fr.descricao||void 0,dose:fr.dose||void 0,frequencia:fr.frequencia||void 0,duracao:fr.duracao||void 0,posologia:fr.posologia||void 0,observacoes:fr.observacoes||_.observacoes||void 0}))}Lr.length&&await Xt.salvarItensReceita(ar,Lr)}catch(Lr){try{console.warn("Falha ao salvar itens da receita:",(et=Lr==null?void 0:Lr.response)==null?void 0:et.status,((Ft=Lr==null?void 0:Lr.response)==null?void 0:Ft.data)||(Lr==null?void 0:Lr.message))}catch{}}}return ar||null}catch{return v||null}},bt=async()=>{var $e;if(Et()){K(!0);try{const{pdfTemplateService:et}=await Qs(async()=>{const{pdfTemplateService:qt}=await Promise.resolve().then(()=>jk);return{pdfTemplateService:qt}},void 0);try{const qt=await Xt.getPerfil().catch(()=>null),Qr=(qt==null?void 0:qt.user)||{},sn=(_.medico||`${Qr.first_name||""} ${Qr.last_name||""}`.trim()).trim(),ss=_.crm||(qt==null?void 0:qt.crm)||(($e=qt==null?void 0:qt.medico)==null?void 0:$e.crm)||"",en=_.endereco_consultorio||(qt==null?void 0:qt.endereco_consultorio)||(qt==null?void 0:qt.endereco)||"",Wo=_.telefone_consultorio||(qt==null?void 0:qt.telefone_consultorio)||(qt==null?void 0:qt.telefone)||"";Y(Ca=>{var Go;return{...Ca,medico:sn||Ca.medico,crm:ss||Ca.crm,endereco_consultorio:en||Ca.endereco_consultorio,telefone_consultorio:Wo||Ca.telefone_consultorio,nome_paciente:Ca.nome_paciente||((Go=y==null?void 0:y.paciente)==null?void 0:Go.nome)||Ca.nome_paciente}}),await new Promise(Ca=>requestAnimationFrame(()=>Ca()))}catch{}const Ft={medicamento:_.medicamento,medicamentos:_.medicamento,posologia:_.posologia,observacoes:_.observacoes,validade_receita:_.validade_receita,data_prescricao:new Date().toISOString(),itens:E?C.map(qt=>{var Qr,sn,ss,en;return{medicamento:((Qr=qt.medicamento)==null?void 0:Qr.nome)||qt.descricao,apresentacao:(sn=qt.medicamento)==null?void 0:sn.apresentacao,concentracao:(ss=qt.medicamento)==null?void 0:ss.concentracao,fabricante:(en=qt.medicamento)==null?void 0:en.fabricante,dose:qt.dose,frequencia:qt.frequencia,duracao:qt.duracao,posologia:`${qt.dose||""} ${qt.frequencia||""} ${qt.duracao||""}`.trim(),observacoes:qt.observacoes}}):_.medicamento?[{medicamento:_.medicamento,posologia:_.posologia,observacoes:_.observacoes}]:[],hasStructuredItems:E},it={nome:_.medico,crm:_.crm,especialidade:_.especialidade||"",endereco_consultorio:_.endereco_consultorio,telefone_consultorio:_.telefone_consultorio,email:_.email_medico||""},Ht={nome:_.nome_paciente,idade:_.idade,rg:_.rg,cpf:_.rg,data_nascimento:_.data_nascimento,endereco:_.endereco_paciente||"",telefone:_.telefone_paciente||""};let mr=_.medico_id||null;try{mr||(mr=await Xt._resolveMedicoId().catch(()=>null)||localStorage.getItem("medico_id")||"default")}catch{mr=mr||localStorage.getItem("medico_id")||"default"}const $t=await et.generatePDFFromElement("#receita-preview",{pageSize:"a4",orientation:"portrait",scale:2}),Ur={filename:`Receita_${_.nome_paciente||"Medica"}.pdf`,blob:$t},Kr={paciente_nome:_.nome_paciente,nome_paciente:_.nome_paciente,idade:_.idade,rg:_.rg,cpf:_.rg,data_nascimento:U(_.data_nascimento),medicamento:_.medicamento,medicamentos:_.medicamento,posologia:_.posologia,medico_nome:_.medico,medico_crm:_.crm,medico:_.medico,crm:_.crm,endereco_consultorio:_.endereco_consultorio,telefone_consultorio:_.telefone_consultorio,validade_receita:U(_.validade_receita),observacoes:_.observacoes,status:"PENDENTE",data_prescricao:new Date().toISOString()},ar=Ur==null?void 0:Ur.blob,Lr=(Ur==null?void 0:Ur.filename)||`Receita_${_.nome_paciente||"Medica"}.pdf`;if(!(ar instanceof Blob))throw new Error("Falha ao gerar PDF - resposta invlida");const zt=await vt();let ma=ar,fr=Lr,hr=!1;if(String(_.formato).toLowerCase()==="pdf"&&(hr=!1),l(ma),d(fr),hr){r(!0),a(ma),i(fr);try{const qt=await w(ar),Qr=await w(ma);zt&&(await Xt.atualizarReceita(zt,{assinada:!0,hash_alg:"SHA-256",hash_pre:qt,hash_documento:Qr}),await Xt.registrarAuditoriaAssinatura({receita_id:zt,valido:!0,hash_alg:"SHA-256",hash_pre:qt,hash_documento:Qr,motivo:"Receita Mdica",arquivo:fr}))}catch(qt){console.error("Erro ao atualizar receita:",qt)}}else r(!1),a(null),i("");Dt(ma,fr),p({title:"Documento gerado",description:"PDF gerado com sucesso!"})}catch(et){console.error("Erro na gerao de documento:",et);const Ft=(et==null?void 0:et.message)||"Falha ao gerar documento";p({title:"Erro",description:Ft,variant:"destructive"})}finally{K(!1)}}},St=async()=>{try{if(o||await bt(),!o){p({title:"Erro",description:" necessrio gerar o PDF antes de assinar",variant:"destructive"});return}z(!0)}catch($e){console.error("Erro ao preparar para assinatura:",$e),p({title:"Erro",description:"Falha ao preparar o documento para assinatura",variant:"destructive"})}},[Tr,jr]=b.useState(!1);b.useEffect(()=>{if(!G)return;let $e=!1;async function et(){try{const it=await(await Ww()).detectTokens(),Ht=Array.isArray(it==null?void 0:it.tokens)?it.tokens:Array.isArray(it)?it:[];!$e&&Ht.length>0?(jr(!0),Ae("token")):$e||(jr(!1),Ae("pfx"))}catch{$e||(jr(!1),Ae("pfx"))}}return et(),()=>{$e=!0}},[G]);async function Qt(){if(o||await bt(),!o)throw new Error("Falha ao gerar o documento");const $e=await w(o);return{blob:o,hashHex:$e}}async function gr(){var $e,et,Ft,it;K(!0);try{let Ht,mr;if(o)Ht=o,mr=await w(o);else{const $t=await Qt();Ht=$t.blob,mr=$t.hashHex}if(Z==="token"){const $t=await Ww(),Ur=await $t.detectTokens();if(!(Array.isArray(Ur==null?void 0:Ur.tokens)?Ur.tokens:[]).length)throw p({title:"Agente local indisponvel",description:"Conecte o token/smartcard e inicie o agente local em http://localhost:8172.",variant:"destructive"}),new Error("Agente local no disponvel");const ar=await $t.signHash({document_hash:mr,format:"PAdES",pin:ee||void 0});if((ar==null?void 0:ar.status)!=="ok"||!(ar!=null&&ar.assinatura)||!(ar!=null&&ar.certificado)){const Qr=(ar==null?void 0:ar.message)||"Falha ao assinar via agente local";throw new Error(Qr)}if(String(ar.assinatura).includes("MOCK_")||String(ar.certificado).includes("MOCK_"))throw p({title:"Assinatura invlida (mock)",description:"Inicie o agente local real ou use certificado PFX.",variant:"destructive"}),new Error("Assinatura mock no aceita");const zt=await vt(),ma=new File([Ht],A||"receita.pdf",{type:"application/pdf"});let fr;try{fr=await(await Ww()).finalizeWithBackend({receitaId:zt,pdfFile:ma,assinatura:ar.assinatura,certificado:ar.certificado,cert_subject:(($e=ar==null?void 0:ar.certDetails)==null?void 0:$e.subjectName)||void 0,hash_pre:mr})}catch{fr=await Xt.finalizarAssinaturaExterna({receitaId:zt,pdfFile:ma,assinatura:ar.assinatura,certificado:ar.certificado})}const hr=fr==null?void 0:fr.blob,qt=(fr==null?void 0:fr.filename)||A||"receita_assinada.pdf";if(!(hr instanceof Blob))throw new Error("Finalizao da assinatura falhou");r(!0),a(hr),i(qt),Mt(new Date().toISOString());try{At(ar.certDetails||{algorithm:"SHA256-RSA"})}catch{}try{const Qr=await w(Ht),sn=await w(hr);zt&&(await Xt.atualizarReceita(zt,{assinada:!0,hash_alg:"SHA-256",hash_pre:Qr,hash_documento:sn}),await Xt.registrarAuditoriaAssinatura({receita_id:zt,valido:!0,hash_alg:"SHA-256",hash_pre:Qr,hash_documento:sn,motivo:"Receita Mdica",arquivo:qt}))}catch(Qr){console.error("Erro ao atualizar registro:",Qr)}ke(),p({title:"Documento assinado",description:"Assinatura digital aplicada com sucesso."}),z(!1)}else if(Z==="pfx"){if(!xe){p({title:"Certificado ausente",description:"Selecione o arquivo .pfx/.p12.",variant:"destructive"});return}const $t=String((xe==null?void 0:xe.name)||"").toLowerCase();if(!($t.endsWith(".pfx")||$t.endsWith(".p12"))){p({title:"Arquivo invlido",description:"Apenas .pfx ou .p12 so aceitos.",variant:"destructive"});return}const Kr=10*1024*1024;if(xe.size>Kr){p({title:"Arquivo muito grande",description:"Limite de 10 MB para PFX.",variant:"destructive"});return}if(!lt||!lt.trim()){p({title:"Senha obrigatria",description:"Informe a senha do certificado PFX.",variant:"destructive"});return}if(lt.trim().length<4){p({title:"Senha fraca",description:"A senha deve ter pelo menos 4 caracteres.",variant:"destructive"});return}const ar=await vt();let Lr=null;try{Lr=await Xt.getCertificadoInfo()}catch(Qr){console.warn("No foi possvel obter informaes do certificado:",Qr)}const zt=await Xt.applySignatureStamp(Ht,{signerName:_.medico||void 0,receitaId:ar||void 0,certInfo:Lr}),ma=new File([zt],A||`Receita_${_.nome_paciente||"Medica"}.pdf`,{type:"application/pdf"}),fr={motivo:"Receita Mdica",local:_.endereco_consultorio||"Consultrio",receitaId:ar||void 0,pfxFile:xe||void 0,pfxPassword:lt||""},{filename:hr,blob:qt}=await Xt.signDocumento(ma,fr);r(!0),a(qt),i(hr||A||ma.name),Mt(new Date().toISOString());try{const Qr=await Xt.getCertificadoInfo();At(Qr||null)}catch(Qr){console.error("Erro ao obter informaes do certificado:",Qr)}try{const Qr=await w(Ht),sn=await w(qt);ar&&(await Xt.atualizarReceita(ar,{assinada:!0,hash_alg:"SHA-256",hash_pre:Qr,hash_documento:sn,motivo:"Receita Mdica"}),await Xt.registrarAuditoriaAssinatura({receita_id:ar,valido:!0,hash_alg:"SHA-256",hash_pre:Qr,hash_documento:sn,motivo:"Receita Mdica",arquivo:hr}))}catch(Qr){console.error("Erro ao atualizar registro:",Qr)}ke(),p({title:"Documento assinado",description:"Assinatura digital aplicada com sucesso."}),z(!1)}else if(Z==="manual"){const $t=await vt(),Ur=await Xt.applySignatureStamp(Ht,{signerName:_.medico||void 0,receitaId:$t||void 0}),Kr=A||`Receita_${_.nome_paciente||"Medica"}.pdf`;r(!0),a(Ur),i(Kr),Mt(new Date().toISOString());try{const ar=await w(Ht),Lr=await w(Ur);$t&&(await Xt.atualizarReceita($t,{assinada:!0,assinada_em:new Date().toISOString(),algoritmo_assinatura:"MANUAL",hash_alg:"SHA-256",hash_pre:ar,hash_documento:Lr,motivo:"Receita Mdica"}),await Xt.registrarAuditoriaAssinatura({receita_id:$t,valido:!0,tipo:"assinatura_manual",hash_alg:"SHA-256",hash_pre:ar,hash_documento:Lr,motivo:"Receita Mdica",arquivo:Kr}))}catch(ar){console.error("Erro ao atualizar registro:",ar)}p({title:"Assinatura aplicada",description:"Carimbo de assinatura manual adicionado ao PDF."}),z(!1)}}catch(Ht){const mr=(et=Ht==null?void 0:Ht.response)==null?void 0:et.status,$t=((it=(Ft=Ht==null?void 0:Ht.response)==null?void 0:Ft.data)==null?void 0:it.detail)||(Ht==null?void 0:Ht.message)||"Falha ao assinar o documento";console.warn("[PreviewReceita] Erro assinatura:",mr,$t),p({title:"Erro na assinatura",description:`${$t}${mr?` [HTTP ${mr}]`:""}`,variant:"destructive"})}finally{K(!1)}}const Wr=b.useCallback(()=>{const $e=_.nome_paciente||"Paciente",et=_.medico||"Dr(a).";let Ft="medicamentos prescritos";E?Ft=C.map(ar=>{var Lr;return((Lr=ar.medicamento)==null?void 0:Lr.nome)||ar.descricao||"Medicamento"}).join(", "):_.medicamento&&(Ft=_.medicamento);const it=new Date().toLocaleDateString("pt-BR"),Ht=`Nova Receita Mdica - ${$e} - ${it}`,mr=`Prezado(a) ${$e},

Voc tem uma nova receita mdica disponvel, prescrita pelo ${et} em ${it}.

Medicamentos prescritos: ${Ft}

Para visualizar e baixar sua receita completa, acesse sua rea do paciente em nosso portal.

Atenciosamente,
${et}
${_.endereco_consultorio||"Consultrio Mdico"}
${_.telefone_consultorio||""}`,$t=`${$e}, voc tem nova receita mdica de ${et}. Acesse o portal para visualizar. ${it}`,Ur=`Nova Receita - ${et}`,Kr=`Ol ${$e}! Voc tem uma nova receita mdica disponvel, prescrita pelo ${et} em ${it}. Clique aqui para visualizar os detalhes e fazer o download.`;return{assuntoEmail:Ht,mensagemEmail:mr,mensagemSMS:$t,tituloInterno:Ur,mensagemInterna:Kr}},[_.nome_paciente,_.medico,_.medicamento,_.endereco_consultorio,_.telefone_consultorio,E,C]),[jt,xr]=b.useState(["interno","email"]),[Ar,Xr]=b.useState(""),[ga,Ze]=b.useState({assuntoEmail:"Nova receita mdica",mensagemEmail:"",mensagemSMS:"",tituloInterno:"Nova receita mdica disponvel",mensagemInterna:"Voc tem uma nova receita mdica disponvel. Acesse sua rea do paciente para visualizar."});b.useEffect(()=>{if(_.nome_paciente&&_.medico){const $e=Wr();Ze(et=>({...et,...$e}))}},[_.nome_paciente,_.medico,_.medicamento,_.endereco_consultorio,_.telefone_consultorio]);async function We(){var $e,et,Ft,it,Ht,mr;if(Et()){if(jt.includes("sms")){const $t=Ar==null?void 0:Ar.replace(/\D/g,"");if(!$t||$t.length<10){p({title:"Telefone invlido",description:"Informe um nmero de telefone vlido para envio por SMS.",variant:"destructive"});return}}if(jt.includes("email")&&!(($e=_.email_paciente)!=null&&$e.trim())){p({title:"E-mail obrigatrio",description:"Informe o e-mail do paciente para envio por e-mail.",variant:"destructive"});return}K(!0);try{if(o||await bt(),!e||!(t instanceof Blob)){if(!(at!=null&&at.arquivo)){p({title:"Certificado necessrio",description:"Configure um certificado digital antes de enviar a receita.",variant:"destructive"});return}try{const hr=await vt(),qt=o;if(!qt){p({title:"Erro",description:"No foi possvel gerar o documento para assinatura.",variant:"destructive"});return}const Qr=await Xt.assinarDocumento({pdfFile:qt,certificado:at.arquivo,senha:at.senha,motivo:"Receita Mdica",receita_id:hr,modo_assinatura:at.modo||"pfx"});if(Qr!=null&&Qr.blob){const sn=await w(qt),ss=await w(Qr.blob),en=Qr.filename||`Receita_${_.nome_paciente||"Medica"}_assinada.pdf`;r(!0),a(Qr.blob),i(en),await Xt.atualizarReceita(hr,{assinada:!0,hash_alg:"SHA-256",hash_pre:sn,hash_documento:ss}),await Xt.registrarAuditoriaAssinatura({receita_id:hr,valido:!0,hash_alg:"SHA-256",hash_pre:sn,hash_documento:ss,motivo:"Receita Mdica",arquivo:en}),p({title:"Documento assinado",description:"Receita assinada automaticamente antes do envio."})}else throw new Error("Falha na assinatura automtica")}catch(hr){console.error("[PreviewReceita] Erro na assinatura automtica:",hr),p({title:"Erro na assinatura",description:"No foi possvel assinar automaticamente. Configure o certificado e tente novamente.",variant:"destructive"});return}}if(!e||!(t instanceof Blob)){p({title:"Assinatura obrigatria",description:"A receita precisa ser assinada antes do envio ao paciente.",variant:"destructive"});return}const $t=await vt(),Ur=t,Kr=s||A||`Receita_${_.nome_paciente||"Medica"}_assinada.pdf`;if($t&&Ur instanceof Blob)try{await Xt.salvarArquivoAssinado($t,Ur,Kr),await Xt.atualizarReceita($t,{assinada:!0,status:"ASSINADA",assinada_em:new Date().toISOString()})}catch(hr){console.warn("[PreviewReceita] Falha ao persistir arquivo/estado da receita:",(et=hr==null?void 0:hr.response)==null?void 0:et.status,((Ft=hr==null?void 0:hr.response)==null?void 0:Ft.data)||(hr==null?void 0:hr.message))}const ar={nome:_.nome_paciente,email:_.email_paciente,telefone:Ar||_.telefone_paciente},Lr={...ga,linkSite:window.location.origin,linkDownload:$t?`${window.location.origin}/api/receitas/${$t}/download/`:null},zt=await Nf.enviarReceitaMulticanal({pacienteId:f,receitaId:$t,arquivo:Ur,nomeArquivo:Kr,canais:jt,dadosPaciente:ar,configuracoes:Lr}),ma=[],fr=[];zt.interno&&ma.push("notificao interna"),zt.email&&ma.push("e-mail"),zt.sms&&ma.push("SMS"),zt.erros.forEach(hr=>{fr.push(`${hr.canal}: ${hr.erro}`)}),ma.length>0?p({title:"Receita enviada",description:`Receita enviada com sucesso via: ${ma.join(", ")}.${fr.length>0?` Falhas: ${fr.join("; ")}`:""}`}):p({title:"Erro no envio",description:`Falha em todos os canais: ${fr.join("; ")}`,variant:"destructive"}),ma.length>0&&m(`/medico/paciente/${f}/receita/confirmacao`,{state:{receitaId:$t||null,email:_.email_paciente||null,filename:Kr,canaisEnviados:ma,resultados:zt}})}catch($t){const Ur=(it=$t==null?void 0:$t.response)==null?void 0:it.status,Kr=((mr=(Ht=$t==null?void 0:$t.response)==null?void 0:Ht.data)==null?void 0:mr.detail)||($t==null?void 0:$t.message)||"Falha ao enviar a receita";p({title:"Erro ao enviar",description:`${Kr}${Ur?` [HTTP ${Ur}]`:""}`,variant:"destructive"})}finally{K(!1)}}}return J?n.jsx("div",{children:"Carregando preview..."}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fn,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Preview da Receita"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Dados da Receita"})}),n.jsxs(Le,{className:"space-y-4",children:[kt.ok?null:n.jsxs("div",{className:"rounded-md border border-red-200 bg-red-50 text-red-700 p-3 text-sm",children:[n.jsx("div",{className:"font-medium mb-1",children:"Inconsistncias de vnculo detectadas"}),n.jsx("ul",{className:"list-disc pl-5 space-y-1",children:(rr=kt.errors)==null?void 0:rr.map(($e,et)=>n.jsx("li",{children:$e},et))})]}),n.jsxs("div",{children:[n.jsx(Fe,{children:"Nome do Paciente"}),n.jsx(Oe,{name:"nome_paciente",value:_.nome_paciente,onChange:ut,placeholder:"Joo da Silva"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(Fe,{children:"Idade"}),n.jsx(Oe,{name:"idade",value:_.idade,onChange:ut,placeholder:"45"})]}),n.jsxs("div",{children:[n.jsx(Fe,{children:"CPF"}),n.jsx(Oe,{name:"rg",value:_.rg,onChange:ut,placeholder:"000.000.000-00"})]}),n.jsxs("div",{children:[n.jsx(Fe,{children:"Data de Nascimento"}),n.jsx(ms,{name:"data_nascimento",value:U(_.data_nascimento),onChange:$e=>ut({target:{name:"data_nascimento",value:$e}}),maxDate:new Date})]})]}),n.jsxs("div",{children:[n.jsx(Fe,{children:"Medicamentos e Posologia"}),E?n.jsxs("div",{className:"space-y-3 border rounded-md p-3 bg-muted/20",children:[n.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Itens estruturados:"}),C.map(($e,et)=>{var Ft,it;return n.jsxs("div",{className:"border-l-2 border-primary/20 pl-3 space-y-1",children:[n.jsx("div",{className:"font-medium",children:((Ft=$e.medicamento)==null?void 0:Ft.nome)||$e.descricao||`Item ${et+1}`}),((it=$e.medicamento)==null?void 0:it.apresentacao)&&n.jsx("div",{className:"text-sm text-muted-foreground",children:$e.medicamento.apresentacao}),($e.dose||$e.frequencia||$e.duracao)&&n.jsx("div",{className:"text-sm",children:[$e.dose,$e.frequencia,$e.duracao].filter(Boolean).join("  ")}),$e.observacoes&&n.jsx("div",{className:"text-sm text-muted-foreground italic",children:$e.observacoes})]},et)}),n.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:"Campos legados sero preenchidos automaticamente para compatibilidade."})]}):n.jsxs(n.Fragment,{children:[n.jsx(la,{name:"medicamento",rows:3,value:_.medicamento,onChange:ut,placeholder:"Nome do medicamento, dose, apresentao..."}),n.jsxs("div",{className:"mt-2",children:[n.jsx(Fe,{children:"Posologia"}),n.jsx(la,{name:"posologia",rows:3,value:_.posologia,onChange:ut,placeholder:"Ex: 1 comprimido de 12/12h por 7 dias"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Fe,{children:"Validade da Receita"}),n.jsx(ms,{name:"validade_receita",value:U(_.validade_receita),onChange:$e=>ut({target:{name:"validade_receita",value:$e}}),minDate:new Date})]}),n.jsxs("div",{children:[n.jsx(Fe,{children:"Formato"}),n.jsxs("select",{className:"border rounded h-10 px-3 bg-background",name:"formato",value:_.formato,onChange:ut,children:[n.jsx("option",{value:"pdf",children:"PDF"}),n.jsx("option",{value:"docx",children:"DOCX"})]})]})]}),n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsx(Fe,{className:"text-base font-semibold",children:"Opes de Envio"}),n.jsxs("div",{className:"space-y-4 mt-3",children:[n.jsxs("div",{children:[n.jsx(Fe,{className:"text-sm font-medium",children:"Canais de Envio"}),n.jsxs("div",{className:"flex flex-wrap gap-4 mt-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vg,{id:"canal-interno",checked:jt.includes("interno"),onCheckedChange:$e=>{xr($e?[...jt,"interno"]:jt.filter(et=>et!=="interno"))}}),n.jsxs(Fe,{htmlFor:"canal-interno",className:"flex items-center gap-1",children:[n.jsx(lm,{className:"h-4 w-4"}),"Notificao Interna"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vg,{id:"canal-email",checked:jt.includes("email"),onCheckedChange:$e=>{xr($e?[...jt,"email"]:jt.filter(et=>et!=="email"))}}),n.jsxs(Fe,{htmlFor:"canal-email",className:"flex items-center gap-1",children:[n.jsx(wl,{className:"h-4 w-4"}),"E-mail"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vg,{id:"canal-sms",checked:jt.includes("sms"),onCheckedChange:$e=>{xr($e?[...jt,"sms"]:jt.filter(et=>et!=="sms"))}}),n.jsxs(Fe,{htmlFor:"canal-sms",className:"flex items-center gap-1",children:[n.jsx(Nj,{className:"h-4 w-4"}),"SMS"]})]})]})]}),jt.includes("sms")&&n.jsxs("div",{children:[n.jsx(Fe,{children:"Telefone para SMS"}),n.jsx(Oe,{value:Ar,onChange:$e=>Xr($e.target.value),placeholder:"(11) 99999-9999"}),Ar&&!/^\(?[1-9]{2}\)?\s?9?\d{4}-?\d{4}$/.test(Ar.replace(/\D/g,""))&&n.jsx("div",{className:"text-xs text-red-500 mt-1",children:"Formato invlido. Use: (11) 99999-9999 ou 11999999999"})]}),jt.includes("email")&&n.jsx("div",{className:"text-sm text-muted-foreground",children:" E-mail ser enviado automaticamente com assunto e mensagem padro"}),jt.includes("sms")&&n.jsx("div",{className:"text-sm text-muted-foreground",children:" SMS ser enviado automaticamente com mensagem padro"}),jt.includes("interno")&&n.jsx("div",{className:"text-sm text-muted-foreground",children:" Notificao interna ser enviada automaticamente"})]})]}),n.jsxs("div",{children:[n.jsx(Fe,{children:"Observaes (opcional)"}),n.jsx(la,{name:"observacoes",rows:2,value:_.observacoes,onChange:ut,placeholder:"Orientaes adicionais ao paciente"})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[n.jsxs(we,{type:"button",onClick:Pt,variant:I?"secondary":"default",className:"flex items-center gap-2",children:[n.jsx(po,{className:"h-4 w-4"}),I?" Validado":"Validar Receita"]}),n.jsxs(we,{type:"button",onClick:bt,disabled:re,variant:"outline",className:"flex items-center gap-2",children:[n.jsx(aI,{className:"h-4 w-4"}),re?"Gerando...":"Gerar PDF"]}),n.jsxs(we,{type:"button",variant:"default",onClick:St,disabled:re||!I,className:`flex items-center gap-2 ${e?"bg-green-600 hover:bg-green-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:[n.jsx($s,{className:"h-4 w-4"}),re?"Assinando...":e?" Assinada Digitalmente":"Assinar Receita"]}),n.jsxs(we,{type:"button",variant:"secondary",onClick:We,disabled:re||jt.length===0||!e,className:"flex items-center gap-2",children:[jt.includes("interno")&&n.jsx(lm,{className:"h-4 w-4"}),jt.includes("email")&&n.jsx(wl,{className:"h-4 w-4"}),jt.includes("sms")&&n.jsx(Nj,{className:"h-4 w-4"}),jt.length===0?"Selecione um canal":jt.length===1?`Enviar via ${jt[0]==="interno"?"Interno":jt[0]==="email"?"E-mail":"SMS"}`:`Enviar via ${jt.length} canais`]})]})]})]}),n.jsxs(De,{className:"bg-white",children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Pr-visualizao"})}),n.jsx(Le,{children:n.jsxs("div",{id:"receita-preview",className:"mx-auto bg-white shadow-md border rounded-md p-6 max-w-[800px] aspect-[1/1.414] overflow-auto",children:[H.logoPosition==="center"?n.jsxs("div",{className:`${H.headerBorderBottom?"border-b":""} pb-3 flex flex-col items-center`,style:{backgroundColor:H.headerBgColor,borderBottomColor:H.headerBorderColor},children:[H.showLogo&&(F!=null&&F.data)?n.jsx("img",{src:F.data,alt:"Logo",className:"max-h-20 max-w-[150px] object-contain"}):null,n.jsxs("div",{className:"mt-2 text-center w-full",children:[n.jsx("div",{className:"font-bold",style:{fontSize:H.titleSize,color:H.primaryColor},children:((ca=q==null?void 0:q.branding)==null?void 0:ca.clinicName)||_.medico||"Consultrio Mdico"}),((er=q==null?void 0:q.header)==null?void 0:er.showDoctorInfo)&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"font-semibold",style:{color:H.primaryColor},children:_.medico}),_.crm&&n.jsxs("div",{style:{fontSize:H.smallSize,color:H.secondaryColor},children:["CRM: ",_.crm]})]}),n.jsx("div",{className:"text-sm",style:{fontSize:H.smallSize,color:H.secondaryColor},children:((Nn=q==null?void 0:q.branding)==null?void 0:Nn.clinicAddress)||_.endereco_consultorio}),n.jsxs("div",{className:"text-sm",style:{fontSize:H.smallSize,color:H.secondaryColor},children:["Telefone: ",((gs=q==null?void 0:q.branding)==null?void 0:gs.clinicPhone)||_.telefone_consultorio]}),(hn=q==null?void 0:q.branding)!=null&&hn.clinicEmail||_.email_medico?n.jsxs("div",{className:"text-sm",style:{fontSize:H.smallSize,color:H.secondaryColor},children:["E-mail: ",((ns=q==null?void 0:q.branding)==null?void 0:ns.clinicEmail)||_.email_medico]}):null]})]}):n.jsxs("div",{className:`flex items-center justify-between ${H.headerBorderBottom?"border-b":""} pb-3`,style:{backgroundColor:H.headerBgColor,borderBottomColor:H.headerBorderColor},children:[H.logoPosition==="left"&&H.showLogo&&(F!=null&&F.data)?n.jsx("img",{src:F.data,alt:"Logo",className:"max-h-20 max-w-[150px] object-contain"}):null,n.jsxs("div",{className:`${H.doctorInfoPosition==="center"?"text-center":H.doctorInfoPosition==="left"?"text-left":"text-right"} flex-1 ml-4`,children:[n.jsx("div",{className:"font-bold",style:{fontSize:H.titleSize,color:H.primaryColor},children:((ft=q==null?void 0:q.branding)==null?void 0:ft.clinicName)||_.medico||"Consultrio Mdico"}),((Va=q==null?void 0:q.header)==null?void 0:Va.showDoctorInfo)&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"font-semibold",style:{color:H.primaryColor},children:_.medico}),_.crm&&n.jsxs("div",{style:{fontSize:H.smallSize,color:H.secondaryColor},children:["CRM: ",_.crm]})]}),n.jsx("div",{className:"text-sm",style:{fontSize:H.smallSize,color:H.secondaryColor},children:((Ya=q==null?void 0:q.branding)==null?void 0:Ya.clinicAddress)||_.endereco_consultorio}),n.jsxs("div",{className:"text-sm",style:{fontSize:H.smallSize,color:H.secondaryColor},children:["Telefone: ",((Ns=q==null?void 0:q.branding)==null?void 0:Ns.clinicPhone)||_.telefone_consultorio]}),(fi=q==null?void 0:q.branding)!=null&&fi.clinicEmail||_.email_medico?n.jsxs("div",{className:"text-sm",style:{fontSize:H.smallSize,color:H.secondaryColor},children:["E-mail: ",((Xa=q==null?void 0:q.branding)==null?void 0:Xa.clinicEmail)||_.email_medico]}):null]}),H.logoPosition==="right"&&H.showLogo&&(F!=null&&F.data)?n.jsx("img",{src:F.data,alt:"Logo",className:"max-h-20 max-w-[150px] object-contain"}):null]}),n.jsxs("div",{className:"text-center my-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Nome do Paciente: "}),_.nome_paciente]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Idade: "}),_.idade]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"CPF: "}),_.rg]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Data de Nascimento: "}),_.data_nascimento]})]}),n.jsxs("div",{className:"text-center text-xl font-semibold my-4",children:["Prescrio Mdica",e&&n.jsx("div",{className:"text-sm text-green-600 font-normal mt-1",children:" Assinada Digitalmente"}),!e&&n.jsx("div",{className:"text-sm text-orange-600 font-normal mt-1",children:" Aguardando Assinatura Digital"})]}),n.jsx("div",{className:"text-center",children:E?n.jsx("div",{className:"space-y-4",children:C.map(($e,et)=>{var Ft,it;return n.jsxs("div",{className:"border-b border-muted pb-3 last:border-b-0",children:[n.jsx("div",{className:"font-semibold",children:((Ft=$e.medicamento)==null?void 0:Ft.nome)||$e.descricao||`Medicamento ${et+1}`}),((it=$e.medicamento)==null?void 0:it.apresentacao)&&n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:$e.medicamento.apresentacao}),($e.dose||$e.frequencia||$e.duracao)&&n.jsx("div",{className:"mt-2",children:[$e.dose,$e.frequencia,$e.duracao].filter(Boolean).join("  ")}),$e.observacoes&&n.jsx("div",{className:"text-sm text-muted-foreground mt-1 italic",children:$e.observacoes})]},et)})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"whitespace-pre-wrap font-semibold",children:_.medicamento}),_.posologia?n.jsx("div",{className:"mt-2 whitespace-pre-wrap",children:_.posologia}):null]})}),n.jsxs("div",{className:"text-center my-6",children:[n.jsxs("div",{children:["Data de Emisso: ",k]}),n.jsxs("div",{children:["Validade da Receita: ",_.validade_receita||""]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-start mt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-64 border-t pt-1",children:""}),_.medico&&n.jsxs("div",{children:["Dr(a). ",_.medico,_.crm?`  CRM ${_.crm}`:""]}),e?Ee?n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Assinado digitalmente conforme ICP-Brasil",Ee!=null&&Ee.subject_name||Ee!=null&&Ee.nome||Ee!=null&&Ee.subject?n.jsxs(n.Fragment,{children:["  Titular: ",(Ee==null?void 0:Ee.subject_name)||(Ee==null?void 0:Ee.nome)||(Ee==null?void 0:Ee.subject)]}):null,_.crm?n.jsxs(n.Fragment,{children:["  CRM: ",_.crm]}):null,_.rg?n.jsxs(n.Fragment,{children:["  CPF: ",_.rg]}):null,Ee!=null&&Ee.algorithm?n.jsxs(n.Fragment,{children:["  Algoritmo: ",Ee.algorithm]}):n.jsx(n.Fragment,{children:"  Algoritmo: SHA256-RSA"}),st?n.jsxs(n.Fragment,{children:["  Carimbo: ",new Date(st).toLocaleString()]}):null,Ee!=null&&Ee.valid_to||Ee!=null&&Ee.not_after||Ee!=null&&Ee.valid_until?n.jsxs(n.Fragment,{children:["  Vlido at: ",new Date((Ee==null?void 0:Ee.valid_to)||(Ee==null?void 0:Ee.not_after)||(Ee==null?void 0:Ee.valid_until)).toLocaleDateString()]}):null]}):n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Assinada manualmente com carimbo visual",_.medico?n.jsxs(n.Fragment,{children:["  Mdico: ",_.medico]}):null,_.crm?n.jsxs(n.Fragment,{children:["  CRM: ",_.crm]}):null,st?n.jsxs(n.Fragment,{children:["  Data: ",new Date(st).toLocaleString()]}):null]}):n.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Documento gerado. Assine para exibir o selo de assinatura digital."})]})})]})})]})]}),n.jsx(uA,{open:G,onOpenChange:z,children:n.jsxs(Ac,{className:"sm:max-w-[500px] space-y-6",children:[n.jsxs(dc,{children:[n.jsxs(uc,{className:"flex items-center gap-2",children:[n.jsx($s,{className:"h-5 w-5 text-blue-600"}),"Assinatura Digital da Receita"]}),n.jsx(Tm,{children:"Escolha o mtodo de assinatura digital para validar juridicamente a receita mdica."})]}),n.jsx(hs,{}),n.jsxs(zi,{value:Z,onValueChange:Ae,className:"w-full",children:[n.jsxs(qi,{className:"grid grid-cols-3 w-full",children:[n.jsxs(Pr,{value:"token",className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Token/Smartcard"]}),n.jsxs(Pr,{value:"pfx",className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Certificado PFX"]}),n.jsxs(Pr,{value:"manual",className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full"}),"Assinatura Manual"]})]}),n.jsx(Hr,{value:"token",className:"space-y-4",children:n.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[n.jsx($s,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Assinatura via Token"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"token-pin",children:"PIN do Token"}),n.jsx(Oe,{id:"token-pin",type:"password",value:ee,onChange:$e=>R($e.target.value),placeholder:"Digite o PIN do seu token",className:"bg-white"})]}),n.jsx("p",{className:"text-xs text-green-700",children:" Conecte seu token USB ou smartcard e insira o PIN para assinar digitalmente."})]})}),n.jsx(Hr,{value:"pfx",className:"space-y-4",children:n.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[n.jsx($s,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Certificado Digital PFX"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"pfx-file",children:"Arquivo do Certificado"}),n.jsx(Oe,{id:"pfx-file",type:"file",accept:".pfx,.p12",className:"bg-white",onChange:$e=>{var mr;const et=((mr=$e.target.files)==null?void 0:mr[0])||null;if(!et){ie(null);return}const Ft=(et.name||"").toLowerCase(),it=Ft.endsWith(".pfx")||Ft.endsWith(".p12"),Ht=10*1024*1024;if(!it){p({title:"Arquivo invlido",description:"Selecione um arquivo .pfx ou .p12.",variant:"destructive"}),$e.target.value="",ie(null);return}if(et.size>Ht){p({title:"Arquivo muito grande",description:"Limite de 10 MB para certificados PFX.",variant:"destructive"}),$e.target.value="",ie(null);return}ie(et)}}),xe&&n.jsxs("div",{className:"text-xs text-blue-700 bg-blue-100 p-2 rounded",children:[" Selecionado: ",xe.name," (",Math.ceil(xe.size/1024)," KB)"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"pfx-password",children:"Senha do Certificado"}),n.jsx(Oe,{id:"pfx-password",type:"password",value:lt,onChange:$e=>mt($e.target.value),placeholder:"Digite a senha do certificado",className:"bg-white"}),(!lt||!lt.trim())&&n.jsx("p",{className:"text-xs text-red-600",children:" Senha obrigatria para assinatura digital."})]}),n.jsx("p",{className:"text-xs text-blue-700",children:" Selecione seu certificado digital (.pfx ou .p12) e informe a senha."})]})}),n.jsx(Hr,{value:"manual",className:"space-y-4",children:n.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[n.jsx($s,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Assinatura Manual com Carimbo Visual"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Nome do Mdico"}),n.jsx(Oe,{value:_.medico||"",readOnly:!0,disabled:!0,className:"bg-white"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"CRM"}),n.jsx(Oe,{value:_.crm||"",readOnly:!0,disabled:!0,className:"bg-white"})]})]}),n.jsx("p",{className:"text-xs text-amber-700",children:" Aplica um carimbo com nome e data na ltima pgina e adiciona QR para verificao."}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Use quando no houver certificado digital. O documento fica identificado e auditvel."})]})})]}),n.jsxs(fA,{className:"gap-2",children:[n.jsx(we,{type:"button",variant:"outline",onClick:()=>z(!1),className:"flex-1",children:"Cancelar"}),n.jsx(we,{type:"button",onClick:gr,disabled:re,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:re?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Assinando..."]}):n.jsxs(n.Fragment,{children:[n.jsx($s,{className:"h-4 w-4 mr-2"}),"Confirmar e Assinar"]})})]})]})})]})}function dX(){const{id:e}=zo(),r=$n(),{state:t}=as(),a=(t==null?void 0:t.receitaId)||null,s=(t==null?void 0:t.email)||null,i=(t==null?void 0:t.filename)||null;return n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Receita enviada com sucesso"})}),n.jsxs(Le,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[n.jsx(po,{className:"h-5 w-5"}),n.jsx("span",{children:"O paciente recebeu a receita assinada."})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[s?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wl,{className:"h-4 w-4"}),n.jsxs("span",{children:["Enviado para: ",s]})]}):n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wl,{className:"h-4 w-4"}),n.jsx("span",{children:"E-mail do paciente no informado."})]}),i?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fn,{className:"h-4 w-4"}),n.jsxs("span",{children:["Arquivo: ",i]})]}):null,a?n.jsxs("div",{className:"mt-2 text-xs",children:["ID da Receita: ",a]}):null]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(we,{onClick:()=>r(`/medico/paciente/${e}/receita/preview`),variant:"secondary",children:"Voltar  receita"}),n.jsx(we,{onClick:()=>r("/medico/meus-pacientes"),children:"Ir para Meus Pacientes"})]})]})]})})})}const uX=({value:e,onChange:r,onSelect:t,placeholder:a="Digite o nome do medicamento...",disabled:s=!1,className:i=""})=>{const[o,l]=b.useState(e||""),[A,d]=b.useState([]),[f,h]=b.useState(!1),[m,p]=b.useState(!1),[v,g]=b.useState(-1),w=b.useRef(null),y=b.useRef(null);b.useEffect(()=>{l(e||"")},[e]);const N=async L=>{if(!L||L.length<2){d([]),p(!1);return}h(!0);try{const _=await m1.search(L);d(_),p(!0),g(-1)}catch(_){console.error("Erro ao buscar medicamentos:",_),d([])}finally{h(!1)}},C=L=>{const _=L.target.value;l(_),r&&r(_),clearTimeout(window.medicamentoSearchTimeout),window.medicamentoSearchTimeout=setTimeout(()=>{N(_)},300)},E=L=>{const _=`${L.nome} - ${L.apresentacao}`;l(_),p(!1),r&&r(_),t&&t(L)},U=L=>{if(!(!m||A.length===0))switch(L.key){case"ArrowDown":L.preventDefault(),g(_=>_<A.length-1?_+1:0);break;case"ArrowUp":L.preventDefault(),g(_=>_>0?_-1:A.length-1);break;case"Enter":L.preventDefault(),v>=0&&v<A.length&&E(A[v]);break;case"Escape":p(!1),g(-1);break}},D=L=>{setTimeout(()=>{p(!1),g(-1)},200)},k=()=>{A.length>0&&p(!0)};return n.jsxs("div",{className:`medicamento-autocomplete ${i}`,children:[n.jsx("input",{ref:w,type:"text",value:o,onChange:C,onKeyDown:U,onBlur:D,onFocus:k,placeholder:a,disabled:s,className:"form-control",autoComplete:"off"}),f&&n.jsx("div",{className:"autocomplete-loading",children:n.jsx("small",{children:"Buscando medicamentos..."})}),m&&A.length>0&&n.jsx("div",{ref:y,className:"autocomplete-suggestions",children:A.map((L,_)=>n.jsxs("div",{className:`suggestion-item ${_===v?"selected":""}`,onClick:()=>E(L),children:[n.jsx("div",{className:"suggestion-name",children:L.nome}),n.jsxs("div",{className:"suggestion-details",children:[L.apresentacao,L.concentracao&&` - ${L.concentracao}`,L.fabricante&&n.jsxs("span",{className:"suggestion-manufacturer",children:[" (",L.fabricante,")"]})]})]},L.id))}),m&&A.length===0&&!f&&o.length>=2&&n.jsx("div",{className:"autocomplete-no-results",children:n.jsx("small",{children:"Nenhum medicamento encontrado"})})]})},fX=({items:e=[],onChange:r,disabled:t=!1,showLegacyFields:a=!0})=>{const[s,i]=b.useState(e),[o,l]=b.useState(""),[A,d]=b.useState("");b.useEffect(()=>{i(e)},[e]);const f=()=>{const g={id:Date.now(),medicamento:null,medicamento_nome:"",dose:"",frequencia:"",duracao:"",observacoes:""},w=[...s,g];i(w),r&&r(w)},h=g=>{const w=s.filter((y,N)=>N!==g);i(w),r&&r(w)},m=(g,w,y)=>{const N=[...s];N[g]={...N[g],[w]:y},i(N),r&&r(N)},p=(g,w)=>{m(g,"medicamento",w.id),m(g,"medicamento_nome",`${w.nome} - ${w.apresentacao}`)},v=()=>{if(!o.trim())return;const g=o.split(`
`).filter(C=>C.trim()),w=A.split(`
`).filter(C=>C.trim()),y=g.map((C,E)=>({id:Date.now()+E,medicamento:null,medicamento_nome:C.trim(),dose:"",frequencia:w[E]?w[E].trim():"",duracao:"",observacoes:""})),N=[...s,...y];i(N),r&&r(N),l(""),d("")};return n.jsxs("div",{className:"receita-item-manager",children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[n.jsx("h6",{children:"Medicamentos da Receita"}),n.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:f,disabled:t,children:"+ Adicionar Medicamento"})]}),s.length>0&&n.jsx("div",{className:"receita-items-list",children:s.map((g,w)=>n.jsxs("div",{className:"receita-item-card",children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[n.jsxs("span",{className:"item-number",children:["#",w+1]}),n.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>h(w),disabled:t,children:""})]}),n.jsxs("div",{className:"row",children:[n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Medicamento"}),n.jsx(uX,{value:g.medicamento_nome,onChange:y=>m(w,"medicamento_nome",y),onSelect:y=>p(w,y),disabled:t,placeholder:"Digite o nome do medicamento..."})]}),n.jsxs("div",{className:"col-md-3 mb-2",children:[n.jsx("label",{className:"form-label",children:"Dose"}),n.jsx("input",{type:"text",className:"form-control",value:g.dose,onChange:y=>m(w,"dose",y.target.value),placeholder:"Ex: 500mg",disabled:t})]}),n.jsxs("div",{className:"col-md-3 mb-2",children:[n.jsx("label",{className:"form-label",children:"Frequncia"}),n.jsx("input",{type:"text",className:"form-control",value:g.frequencia,onChange:y=>m(w,"frequencia",y.target.value),placeholder:"Ex: 2x ao dia",disabled:t})]}),n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Durao"}),n.jsx("input",{type:"text",className:"form-control",value:g.duracao,onChange:y=>m(w,"duracao",y.target.value),placeholder:"Ex: 7 dias",disabled:t})]}),n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Observaes"}),n.jsx("input",{type:"text",className:"form-control",value:g.observacoes,onChange:y=>m(w,"observacoes",y.target.value),placeholder:"Observaes adicionais",disabled:t})]})]})]},g.id||w))}),a&&n.jsxs("div",{className:"legacy-fields mt-4",children:[n.jsx("h6",{children:"Importar de Texto Livre"}),n.jsx("p",{className:"text-muted small",children:"Cole aqui o texto dos medicamentos e posologia para converter em itens estruturados."}),n.jsxs("div",{className:"row",children:[n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Medicamentos (um por linha)"}),n.jsx("textarea",{className:"form-control",rows:"4",value:o,onChange:g=>l(g.target.value),placeholder:`Ex:
Paracetamol 500mg
Ibuprofeno 400mg`,disabled:t})]}),n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Posologia (uma por linha)"}),n.jsx("textarea",{className:"form-control",rows:"4",value:A,onChange:g=>d(g.target.value),placeholder:`Ex:
1 comprimido de 8/8h por 7 dias
1 comprimido de 12/12h por 5 dias`,disabled:t})]})]}),n.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:v,disabled:t||!o.trim(),children:"Converter para Itens Estruturados"})]}),s.length===0&&n.jsxs("div",{className:"empty-state text-center py-4",children:[n.jsx("p",{className:"text-muted",children:"Nenhum medicamento adicionado ainda."}),n.jsx("button",{type:"button",className:"btn btn-primary",onClick:f,disabled:t,children:"Adicionar Primeiro Medicamento"})]})]})};function hX(){var w,y,N;const{id:e}=zo(),r=as(),t=$n();Ka();const a=((w=r.state)==null?void 0:w.resumo)||{},s=(y=r.state)==null?void 0:y.consultaId,i=(N=r.state)==null?void 0:N.prontuarioId,[o,l]=b.useState({queixa:X_(a.queixa||""),historia:a.historia||"",diagnostico:a.diagnostico||"",conduta:a.conduta||"",medicamentos:a.medicamentos||"",posologia:a.posologia||"",validade:a.validade||""}),[A,d]=b.useState([]),[f,h]=b.useState(!1),m=C=>{const{name:E,value:U}=C.target;l(D=>({...D,[E]:U}))},p=C=>{d(C);const E=C.map(D=>D.medicamento_nome).filter(Boolean).join(`
`),U=C.map(D=>{const k=[];return D.dose&&k.push(D.dose),D.frequencia&&k.push(D.frequencia),D.duracao&&k.push(D.duracao),D.observacoes&&k.push(`(${D.observacoes})`),k.join(" - ")}).filter(Boolean).join(`
`);l(D=>({...D,medicamentos:E,posologia:U}))},v=async()=>{var C;try{if(i)try{await((C=Xt.atualizarProntuario)==null?void 0:C.call(Xt,i,{queixa_principal:o.queixa,historia_doenca_atual:o.historia,diagnostico_principal:o.diagnostico,conduta:o.conduta,medicamentos_uso:o.medicamentos}))}catch{}}finally{t(`/medico/paciente/${e}/receita/preview`,{state:{fromConsulta:{medicamentos:o.medicamentos,posologia:o.posologia,validade:o.validade,receitaItems:f?A:void 0},consultaId:s}})}},g=b.useMemo(()=>new Date().toLocaleDateString(),[]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(W6,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Resumo da Consulta"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Informaes Principais"})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Queixa Principal"}),n.jsx(la,{name:"queixa",rows:3,value:o.queixa,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Histria da Doena Atual"}),n.jsx(la,{name:"historia",rows:4,value:o.historia,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Diagnstico"}),n.jsx(la,{name:"diagnostico",rows:3,value:o.diagnostico,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Conduta"}),n.jsx(la,{name:"conduta",rows:3,value:o.conduta,onChange:m})]})]})]}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"flex items-center justify-between",children:["Prescrio",n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"useStructured",checked:f,onChange:C=>h(C.target.checked),className:"rounded"}),n.jsx("label",{htmlFor:"useStructured",className:"text-sm font-normal",children:"Usar itens estruturados"})]})]})}),n.jsxs(Le,{className:"space-y-4",children:[f?n.jsx(fX,{items:A,onChange:p,showLegacyFields:!0}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Medicamentos"}),n.jsx(la,{name:"medicamentos",rows:4,value:o.medicamentos,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Posologia"}),n.jsx(la,{name:"posologia",rows:3,value:o.posologia,onChange:m})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Validade da Receita"}),n.jsx(ms,{name:"validade",value:o.validade,onChange:C=>m({target:{name:"validade",value:C}}),className:"border rounded h-10 px-3 bg-background",minDate:new Date})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(we,{onClick:v,children:[n.jsx($6,{className:"h-4 w-4 mr-2"})," Gerar Receita"]}),n.jsx(we,{variant:"outline",onClick:()=>t(-1),children:"Voltar"})]})]})]})]}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Resumo Visual"})}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Data:"})," ",g]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Queixa:"})," ",o.queixa||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Histria:"})," ",o.historia||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Diagnstico:"})," ",o.diagnostico||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Conduta:"})," ",o.conduta||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Medicamentos:"})," ",o.medicamentos||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Posologia:"})," ",o.posologia||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Validade:"})," ",o.validade||"-"]})]})})]})]})}function mX(){const{id:e}=zo(),[r,t]=b.useState(null),[a,s]=b.useState(!0),[i,o]=b.useState([]),[l,A]=b.useState(!0),[d,f]=b.useState(null);b.useEffect(()=>{let v=!0;return(async()=>{var g,w;try{const y="/api/pacientes/",N=y.endsWith("/")?y:`${y}/`,C=await ye.get(`${N}${e}/`);v&&t(C.data)}catch(y){try{console.debug("[Medico/Receitas] Falha paciente:",(g=y==null?void 0:y.response)==null?void 0:g.status)}catch{}}finally{v&&s(!1)}try{const y="/api/receitas/",N=y.endsWith("/")?y:`${y}/`,C={paciente:e,paciente_id:e,status:"ativa",situacao:"ativa",limit:100},E=await ye.get(N,{params:C}),U=E==null?void 0:E.data;let D=Array.isArray(U)?U:Array.isArray(U==null?void 0:U.results)?U.results:[];const k=L=>String(L||"").toLowerCase();D=D.filter(L=>{const _=k(L.status||L.situacao||""),Y=L.validade||L.validade_receita||null,I=["ativa","valida","vlida"].includes(_);if(Y)try{return I||new Date(Y)>=new Date}catch{return I}return I||!0}),v&&o(D)}catch(y){try{console.debug("[Medico/Receitas] Falha receitas:",(w=y==null?void 0:y.response)==null?void 0:w.status)}catch{}v&&o([])}finally{v&&A(!1)}})(),()=>{v=!1}},[e]);const h=b.useMemo(()=>[{label:"Resumo",href:`/medico/paciente/${e}/perfil`},{label:"Pronturio",href:`/medico/paciente/${e}/prontuario`},{label:"Consultas",href:`/medico/paciente/${e}/consultas`},{label:"Exames",href:`/medico/paciente/${e}/exames`},{label:"Receitas",href:`/medico/paciente/${e}/receitas`}],[e]),m=v=>{const g=String((v==null?void 0:v.status)||(v==null?void 0:v.situacao)||"").toLowerCase();if(["ativa","valida","vlida"].includes(g))return!0;const w=(v==null?void 0:v.validade)||(v==null?void 0:v.validade_receita);if(w)try{return new Date(w)>=new Date}catch{return!1}return!1},p=async v=>{var w,y;const g=(v==null?void 0:v.id)||(v==null?void 0:v.pk)||(v==null?void 0:v.uuid);if(g){f(g);try{const N="/api/receitas/",C=N.endsWith("/")?N:`${N}/`,E=!m(v),U={};if(U.status=E?"ativa":"inativa",U.situacao=U.status,U.ativa=E,E&&!v.validade&&!v.validade_receita){const _=new Date;_.setDate(_.getDate()+30),U.validade=`${_.getFullYear()}-${String(_.getMonth()+1).padStart(2,"0")}-${String(_.getDate()).padStart(2,"0")}`}const D=`${C}${g}/`,k=await ye.patch(D,U),L=(k==null?void 0:k.data)||{...v,...U};o(_=>_.map(Y=>String(Y.id)===String(g)?{...Y,...L}:Y))}catch(N){try{console.warn("[Medico/Receitas] toggle falhou:",(w=N==null?void 0:N.response)==null?void 0:w.status,(y=N==null?void 0:N.response)==null?void 0:y.data)}catch{}}finally{f(null)}}};return a&&l?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Cr,{className:"h-8 w-48"}),n.jsx(Cr,{className:"h-4 w-64"})]}),n.jsx(Cr,{className:"h-32 w-full rounded-xl"}),n.jsx(Cr,{className:"h-12 w-full"}),n.jsx(Cr,{className:"h-64 w-full"})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Receitas do Paciente"}),n.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie receitas ativas"})]}),n.jsx(Km,{patientId:e,isPacienteView:!1,profile:r==null?void 0:r.user,patient:r,loading:a}),n.jsx(Wi,{tabs:h,basePath:`/medico/paciente/${e}`}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(Bf,{className:"h-5 w-5"})," Receitas Ativas"]})}),n.jsx(Le,{children:l?n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((v,g)=>n.jsx(Cr,{className:"h-16 w-full"},g))}):i.length===0?n.jsx("div",{className:"text-center py-10 text-muted-foreground",children:"Nenhuma receita ativa encontrada para este paciente."}):n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ga,{children:[n.jsx(ur,{children:"ID"}),n.jsx(ur,{children:"Mdico"}),n.jsx(ur,{children:"Emitida"}),n.jsx(ur,{children:"Validade"}),n.jsx(ur,{children:"Status"}),n.jsx(ur,{className:"text-right",children:"Ativa"})]})}),n.jsx(wo,{children:i.map(v=>{var E,U,D,k,L;const g=v.created_at||v.data_emissao,w=v.validade||v.validade_receita,y=String(v.status||v.situacao||"").toLowerCase(),N=m(v),C=((E=v==null?void 0:v.medico)==null?void 0:E.nome)||(v==null?void 0:v.medico_nome)||((D=(U=v==null?void 0:v.consulta)==null?void 0:U.medico)!=null&&D.user?`${v.consulta.medico.user.first_name||""} ${v.consulta.medico.user.last_name||""}`.trim():(L=(k=v==null?void 0:v.consulta)==null?void 0:k.medico)==null?void 0:L.nome);return n.jsxs(Ga,{children:[n.jsx(ir,{children:v.id||v.pk||v.uuid}),n.jsx(ir,{children:C||"Mdico"}),n.jsx(ir,{children:g?new Date(g).toLocaleDateString():""}),n.jsx(ir,{children:w||""}),n.jsx(ir,{children:n.jsx(lr,{variant:N?"default":"secondary",children:N?"Ativa":y||"inativa"})}),n.jsx(ir,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx(au,{checked:N,disabled:d===(v.id||v.pk||v.uuid),onCheckedChange:()=>p(v)}),n.jsx(we,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs(pr,{to:v.arquivo_assinado?v.arquivo_assinado:`/medico/paciente/${e}/receita/preview`,target:v.arquivo_assinado?"_blank":void 0,children:[v.arquivo_assinado?n.jsx(us,{className:"h-4 w-4 mr-1"}):n.jsx(br,{className:"h-4 w-4 mr-1"}),v.arquivo_assinado?"Abrir PDF":"Preview"]})})]})})]},v.id||v.pk||v.uuid)})})]})})]})]})}const ui={async getDashboard(){var t;const e=[];e.push("/clinicas/dashboard/");let r;for(const a of e){const s=a.endsWith("/")?a:`${a}/`;try{return console.debug("[clinicaService] GET",s),(await ye.get(s)).data}catch(i){if(((t=i==null?void 0:i.response)==null?void 0:t.status)===404){r=i;continue}throw i}}throw r||new Error("Endpoint de dashboard da clnica no encontrado.")},getCalendario:(e,r)=>ye.get(`/clinica/calendario/?mes=${e}&ano=${r}`),getExamesPorData:e=>ye.get(`/clinica/exames/?data=${e}`),getDisponibilidade:e=>ye.get(`/clinica/disponibilidade/?data=${e}`),setDisponibilidade:(e,r)=>ye.post("/clinica/disponibilidade/",{data:e,horarios:r}),updateDisponibilidade:(e,r)=>ye.put(`/clinica/disponibilidade/${e}/`,r),deleteDisponibilidade:e=>ye.delete(`/clinica/disponibilidade/${e}/`),getExames:(e={})=>ye.get("/clinica/exames/",{params:e}),createExame:e=>ye.post("/clinica/exames/",e),updateExame:(e,r)=>ye.put(`/clinica/exames/${e}/`,r),deleteExame:e=>ye.delete(`/clinica/exames/${e}/`),getTiposExame:()=>ye.get("/clinica/tipos-exame/"),getRelatorios:e=>ye.get(`/clinica/relatorios/?periodo=${e}`),getPacientes:()=>ye.get("/clinica/pacientes/"),getMedicos:()=>ye.get("/clinica/medicos/"),async vincularSecretaria(e){var l,A,d,f;if(!e)throw new Error("secretariaId  obrigatrio");let r=null;try{try{const h=await ye.get("/clinicas/me/");(l=h==null?void 0:h.data)!=null&&l.id&&(r=h.data.id)}catch{}if(!r){const h=await ye.get("/clinicas/"),m=Array.isArray((A=h.data)==null?void 0:A.results)?h.data.results:h.data;(d=m==null?void 0:m[0])!=null&&d.id&&(r=m[0].id)}}catch{}if(!r)throw new Error("No foi possvel resolver o ID da clnica.");const t="/clinicas/",a=t.endsWith("/")?t:`${t}/`,s=[`${a}${r}/secretarias/`,`${a}${r}/adicionar_secretaria/`,`${a}${r}/vincular_secretaria/`],i={secretaria:e,secretaria_id:e};let o;for(const h of s)try{return(await ye.post(h,i)).data}catch(m){const p=(f=m==null?void 0:m.response)==null?void 0:f.status;if(p===404||p===405){o=m;continue}throw m}throw o||new Error("Nenhum endpoint de vinculao de secretria encontrado para clnica.")}};function pX(){const{data:e,loading:r,error:t}=SF(ui.getDashboard);if(r)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:n.jsx("div",{className:"max-w-7xl mx-auto space-y-8",children:n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((i,o)=>n.jsxs(De,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm animate-pulse",children:[n.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx("div",{className:"h-4 w-20 bg-gradient-to-r from-slate-200 to-slate-300 rounded"}),n.jsx("div",{className:"h-4 w-4 bg-gradient-to-r from-slate-200 to-slate-300 rounded"})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"h-8 w-16 bg-gradient-to-r from-slate-200 to-slate-300 rounded mb-2"}),n.jsx("div",{className:"h-3 w-24 bg-gradient-to-r from-slate-200 to-slate-300 rounded"})]})]},o))})})});if(t)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx(De,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:n.jsx(Le,{className:"flex items-center justify-center h-32",children:n.jsxs("div",{className:"text-center",children:[n.jsx(hu,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),n.jsx("p",{className:"text-slate-600",children:"Erro ao carregar dashboard"})]})})})})});const a=e||{examesHoje:12,examesTotais:156,pacientesAtivos:89,taxaOcupacao:85,proximosExames:[{id:1,paciente:"Joo Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}],examesPendentes:5},s=({title:i,value:o,icon:l,description:A,gradient:d,iconBg:f,textColor:h,trend:m})=>n.jsx(De,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:`bg-gradient-to-br ${d} rounded-2xl p-6 text-white relative overflow-hidden`,children:[n.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white/10 rounded-full -mr-10 -mt-10"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/5 rounded-full -ml-8 -mb-8"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:`p-3 ${f} rounded-xl`,children:n.jsx(l,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:`text-3xl font-bold ${h}`,children:o}),n.jsx("div",{className:"text-white/80 text-sm font-medium",children:i})]})]}),n.jsx("div",{className:"text-white/90 text-sm",children:A}),m&&n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-white/80 text-xs",children:[n.jsx(_m,{className:"h-3 w-3"}),m]})]})]})})});return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800 rounded-2xl p-8 text-white shadow-2xl",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Dashboard da Clnica"}),n.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie exames, horrios e acompanhe o desempenho da clnica"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(we,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30",asChild:!0,children:n.jsxs(pr,{to:"/clinica/calendario",children:[n.jsx(V0,{className:"h-4 w-4 mr-2"}),"Calendrio"]})}),n.jsx(we,{className:"bg-white text-blue-600 hover:bg-blue-50",asChild:!0,children:n.jsxs(pr,{to:"/clinica/exames",children:[n.jsx(mu,{className:"h-4 w-4 mr-2"}),"Agendar Exame"]})})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(s,{title:"Exames Hoje",value:a.examesHoje,icon:br,description:"Exames agendados para hoje",gradient:"from-blue-500 to-blue-600",iconBg:"bg-blue-400/30",textColor:"text-white",trend:"+2 desde ontem"}),n.jsx(s,{title:"Total de Exames",value:a.examesTotais,icon:fn,description:"Exames realizados este ms",gradient:"from-green-500 to-green-600",iconBg:"bg-green-400/30",textColor:"text-white"}),n.jsx(s,{title:"Pacientes Ativos",value:a.pacientesAtivos,icon:As,description:"Pacientes cadastrados",gradient:"from-purple-500 to-purple-600",iconBg:"bg-purple-400/30",textColor:"text-white",trend:"+12% desde o ms passado"}),n.jsx(s,{title:"Taxa de Ocupao",value:`${a.taxaOcupacao}%`,icon:Bi,description:"Capacidade atual dos equipamentos",gradient:"from-orange-500 to-orange-600",iconBg:"bg-orange-400/30",textColor:"text-white"})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(De,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[n.jsx(Ve,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx($r,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-slate-800",children:"Prximos Exames"}),n.jsx(vr,{className:"text-slate-600",children:"Exames agendados para hoje"})]})]}),n.jsx(we,{variant:"outline",className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",asChild:!0,children:n.jsxs(pr,{to:"/clinica/exames",children:["Ver todos",n.jsx(Gg,{className:"h-4 w-4 ml-2"})]})})]})}),n.jsx(Le,{className:"p-6",children:a.proximosExames.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:n.jsx($r,{className:"h-8 w-8 text-slate-400"})}),n.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Nenhum exame agendado"}),n.jsx("p",{className:"text-slate-500 text-sm",children:"No h exames programados para hoje"})]}):n.jsx("div",{className:"space-y-4",children:a.proximosExames.map(i=>n.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-4 hover:shadow-md transition-all duration-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200",children:[n.jsx("span",{className:"text-sm font-bold text-blue-700",children:i.horario}),n.jsx("span",{className:"text-xs text-blue-600",children:"Hoje"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-900",children:i.paciente}),n.jsx("p",{className:"text-sm text-slate-600",children:i.tipo}),n.jsx(lr,{variant:i.status==="confirmado"?"default":"secondary",className:`mt-1 text-xs ${i.status==="confirmado"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:i.status})]})]}),n.jsx(we,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:n.jsx(aa,{className:"h-4 w-4"})})]})},i.id))})})]})}),n.jsx("div",{className:"space-y-6",children:n.jsxs(De,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[n.jsx(Ve,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(cm,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-slate-800",children:"Aes Rpidas"}),n.jsx(vr,{className:"text-slate-600",children:"Acesso rpido s principais funcionalidades"})]})]})}),n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(we,{className:"w-full justify-start btn-medical-primary shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:n.jsxs(pr,{to:"/clinica/calendario",children:[n.jsx(br,{className:"mr-2 h-4 w-4"}),"Ver Calendrio"]})}),n.jsx(we,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:n.jsxs(pr,{to:"/clinica/disponibilidade",children:[n.jsx($r,{className:"mr-2 h-4 w-4"}),"Gerenciar Horrios"]})}),n.jsx(we,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:n.jsxs(pr,{to:"/clinica/exames",children:[n.jsx(fn,{className:"mr-2 h-4 w-4"}),"Agendar Exame"]})}),n.jsx(we,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:n.jsxs(pr,{to:"/clinica/pacientes",children:[n.jsx(As,{className:"mr-2 h-4 w-4"}),"Ver Pacientes"]})})]}),a.examesPendentes>0&&n.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hu,{className:"h-4 w-4 text-yellow-600"}),n.jsxs("p",{className:"text-sm font-medium text-yellow-800",children:[a.examesPendentes," exames pendentes de confirmao"]})]})})]})]})})]})]})})}const gX=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],xX=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"];function vX(){const[e,r]=b.useState(new Date),[t,a]=b.useState([]),[s,i]=b.useState(null),[o,l]=b.useState({}),[A,d]=b.useState(!1),[f,h]=b.useState(!1),[m,p]=b.useState(!1),[v,g]=b.useState({paciente:"",tipo:"",hora:""}),[w,y]=b.useState([]),[N,C]=b.useState([]),[E]=HU();b.useEffect(()=>{U()},[e]),b.useEffect(()=>{(async()=>{var re,K;try{const[G,z]=await Promise.all([ui.getPacientes().catch(()=>({data:[]})),ui.getTiposExame().catch(()=>({data:[]}))]),Z=Array.isArray(G==null?void 0:G.data)?G.data:((re=G==null?void 0:G.data)==null?void 0:re.results)||[],Ae=Array.isArray(z==null?void 0:z.data)?z.data:((K=z==null?void 0:z.data)==null?void 0:K.results)||[];y(Z),C(Ae)}catch{}})()},[]),b.useEffect(()=>{const M=E.get("data"),re=E.get("paciente");M&&(i(M),D(M)),re&&(g(K=>({...K,paciente:String(re)})),h(!0))},[]);const U=async()=>{d(!0);try{const M=await ui.getCalendario(e.getMonth()+1,e.getFullYear());l(M.data||{})}catch(M){console.error("Erro ao carregar calendrio:",M),l({"2024-01-15":{total:5,status:"ocupado"},"2024-01-16":{total:8,status:"lotado"},"2024-01-17":{total:3,status:"disponivel"},"2024-01-18":{total:6,status:"ocupado"},"2024-01-22":{total:2,status:"disponivel"},"2024-01-23":{total:7,status:"ocupado"}})}finally{d(!1)}},D=async M=>{try{const re=await ui.getExamesPorData(M);a(re.data||[])}catch(re){console.error("Erro ao carregar exames:",re),a([{id:1,paciente:"Joo Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}])}},k=M=>{const re=new Date(e);re.setMonth(e.getMonth()+M),r(re)},L=M=>{const K=new Date(e.getFullYear(),e.getMonth(),M).toISOString().split("T")[0];i(K),D(K)},_=(M="")=>{g({paciente:M?String(M):"",tipo:"",hora:""}),h(!0)},Y=async()=>{if(!s)return;const{paciente:M,tipo:re,hora:K}=v;if(!M||!re||!K){alert("Preencha paciente, tipo e horrio.");return}p(!0);try{const G={paciente:M,tipo:re,data:s,hora:K};await ui.createExame(G),h(!1),g({paciente:"",tipo:"",hora:""}),await D(s)}catch{alert("Erro ao agendar. Verifique os dados e tente novamente.")}finally{p(!1)}},I=()=>{const M=e.getFullYear(),re=e.getMonth(),K=new Date(M,re,1),G=new Date(M,re+1,0),z=K.getDay(),Z=G.getDate(),Ae=[];for(let R=z-1;R>=0;R--){const q=new Date(M,re,-R);Ae.push({dia:q.getDate(),outroMes:!0,data:q})}for(let R=1;R<=Z;R++){const q=new Date(M,re,R),te=q.toISOString().split("T")[0],F=o[te]||{total:0,status:"disponivel"};Ae.push({dia:R,outroMes:!1,data:q,dataString:te,...F})}const ee=42-Ae.length;for(let R=1;R<=ee;R++){const q=new Date(M,re+1,R);Ae.push({dia:R,outroMes:!0,data:q})}return Ae},$=M=>{switch(M){case"disponivel":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200";case"ocupado":return"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200";case"lotado":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}},J=I();return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Calendrio de Exames"}),n.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie os exames agendados"})]})}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(br,{className:"h-5 w-5"}),gX[e.getMonth()]," ",e.getFullYear()]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(we,{variant:"outline",size:"sm",onClick:()=>k(-1),children:n.jsx(J5,{className:"h-4 w-4"})}),n.jsx(we,{variant:"outline",size:"sm",onClick:()=>k(1),children:n.jsx(gl,{className:"h-4 w-4"})})]})]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:xX.map(M=>n.jsx("div",{className:"p-2 text-center text-sm font-medium text-muted-foreground",children:M},M))}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:J.map((M,re)=>n.jsxs("button",{onClick:()=>!M.outroMes&&L(M.dia),disabled:M.outroMes,className:`
                        p-2 text-sm rounded-lg transition-colors relative
                        ${M.outroMes?"text-muted-foreground cursor-not-allowed":"hover:bg-accent cursor-pointer"}
                        ${s===M.dataString?"bg-primary text-primary-foreground":""}
                      `,children:[n.jsx("div",{className:"font-medium",children:M.dia}),!M.outroMes&&M.total>0&&n.jsx("div",{className:`
                          absolute -top-1 -right-1 w-5 h-5 rounded-full text-xs flex items-center justify-center
                          ${$(M.status)}
                        `,children:M.total})]},re))}),n.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),n.jsx("span",{children:"Disponvel"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),n.jsx("span",{children:"Ocupado"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),n.jsx("span",{children:"Lotado"})]})]})]})]})}),n.jsx("div",{children:n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx($r,{className:"h-5 w-5"}),s?"Exames do Dia":"Selecione uma Data"]}),s&&n.jsx(vr,{children:new Date(s+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),n.jsx(Le,{children:s?t.length===0?n.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[n.jsx($r,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Nenhum exame agendado para esta data"}),n.jsx(we,{className:"mt-4",size:"sm",onClick:()=>_(),children:"Agendar Exame"})]}):n.jsxs("div",{className:"space-y-3",children:[t.map(M=>n.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(On,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:M.paciente})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lr,{variant:M.status==="confirmado"?"default":"secondary",children:M.status}),n.jsx(we,{variant:"outline",size:"sm",className:"bg-transparent",onClick:()=>_(M.paciente_id||M.pacienteId||""),title:"Agendar novo exame para este paciente",children:"Agendar"})]})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsx("p",{children:M.tipo}),n.jsxs("p",{className:"flex items-center gap-1",children:[n.jsx($r,{className:"h-3 w-3"}),M.horario]})]})]},M.id)),n.jsx(we,{className:"w-full mt-4",size:"sm",onClick:()=>_(),children:"Agendar Novo Exame"})]}):n.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[n.jsx(br,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Clique em uma data no calendrio para ver os exames agendados"})]})})]})})]})]}),n.jsx(uA,{open:f,onOpenChange:h,children:n.jsxs(Ac,{children:[n.jsxs(dc,{children:[n.jsx(uc,{children:"Agendar exame"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Data: ",s?new Date(s+"T00:00:00").toLocaleDateString("pt-BR"):"-"]})]}),n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Paciente"}),n.jsxs(Gr,{value:v.paciente,onValueChange:M=>g(re=>({...re,paciente:M})),children:[n.jsx(zr,{children:n.jsx(Yr,{placeholder:"Selecione o paciente"})}),n.jsx(qr,{children:w.map(M=>n.jsxs(nt,{value:String(M.id),children:[M.nome," ",M.cpf?`- ${M.cpf}`:""]},M.id))})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Tipo de exame"}),n.jsxs(Gr,{value:v.tipo,onValueChange:M=>g(re=>({...re,tipo:M})),children:[n.jsx(zr,{children:n.jsx(Yr,{placeholder:"Selecione o tipo"})}),n.jsx(qr,{children:N.map(M=>n.jsx(nt,{value:String(M.id||M.value||M),children:M.nome||M.label||M.value||M},M.id||M.value||M))})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Horrio"}),n.jsx(Oe,{type:"time",value:v.hora,onChange:M=>g(re=>({...re,hora:M.target.value}))})]})]}),n.jsxs(fA,{className:"mt-4",children:[n.jsx(we,{variant:"outline",className:"bg-transparent",onClick:()=>h(!1),children:"Cancelar"}),n.jsx(we,{onClick:Y,disabled:m,children:m?"Salvando...":"Agendar"})]})]})})]})}const wX={manha:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30"],tarde:["13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"],integral:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"]};function yX(){const[e,r]=b.useState(""),[t,a]=b.useState([]),[s,i]=b.useState(""),[o,l]=b.useState(!1),[A,d]=b.useState(!1),{toast:f}=Ka();b.useEffect(()=>{e&&h()},[e]);const h=async()=>{var N;l(!0);try{const C=await ui.getDisponibilidade(e);a(((N=C.data)==null?void 0:N.horarios)||[])}catch(C){console.error("Erro ao carregar disponibilidade:",C),a([{horario:"09:00",ocupado:!1},{horario:"10:00",ocupado:!0},{horario:"11:00",ocupado:!1},{horario:"14:00",ocupado:!1},{horario:"15:00",ocupado:!0}])}finally{l(!1)}},m=async()=>{if(!e){f({title:"Erro",description:"Selecione uma data primeiro",variant:"destructive"});return}d(!0);try{await ui.setDisponibilidade(e,t),f({title:"Sucesso",description:"Disponibilidade salva com sucesso"})}catch(N){console.error("Erro ao salvar disponibilidade:",N),f({title:"Erro",description:"Erro ao salvar disponibilidade",variant:"destructive"})}finally{d(!1)}},p=()=>{if(!s)return;if(t.some(C=>C.horario===s)){f({title:"Aviso",description:"Este horrio j existe",variant:"destructive"});return}a([...t,{horario:s,ocupado:!1}].sort((C,E)=>C.horario.localeCompare(E.horario))),i("")},v=N=>{a(t.filter(C=>C.horario!==N))},g=N=>{const C=wX[N].map(E=>({horario:E,ocupado:!1}));a(C)},w=async()=>{var E;if(!e)return;const N=new Date(e);N.setDate(N.getDate()-1);const C=N.toISOString().split("T")[0];try{const k=(((E=(await ui.getDisponibilidade(C)).data)==null?void 0:E.horarios)||[]).filter(L=>!L.ocupado).map(L=>({...L,ocupado:!1}));a(k),f({title:"Sucesso",description:"Horrios copiados do dia anterior"})}catch(U){console.error("Erro ao copiar horrios:",U),f({title:"Erro",description:"Erro ao copiar horrios do dia anterior",variant:"destructive"})}},y=new Date().toISOString().split("T")[0];return n.jsx(n.Fragment,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gerenciar Disponibilidade"}),n.jsx("p",{className:"text-muted-foreground",children:"Configure os horrios disponveis para exames"})]})}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(br,{className:"h-5 w-5"}),"Selecionar Data"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Fe,{htmlFor:"data",children:"Data"}),n.jsx(ms,{id:"data",name:"data",value:e,onChange:r,minDate:y?new Date(y):void 0})]}),e&&n.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(e+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsx(Xe,{children:"Templates Rpidos"}),n.jsx(vr,{children:"Aplique configuraes pr-definidas"})]}),n.jsxs(Le,{className:"space-y-3",children:[n.jsxs(we,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>g("manha"),disabled:!e,children:[n.jsx($r,{className:"mr-2 h-4 w-4"}),"Manh (8h s 11h30)"]}),n.jsxs(we,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>g("tarde"),disabled:!e,children:[n.jsx($r,{className:"mr-2 h-4 w-4"}),"Tarde (13h s 17h)"]}),n.jsxs(we,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>g("integral"),disabled:!e,children:[n.jsx($r,{className:"mr-2 h-4 w-4"}),"Perodo Integral"]}),n.jsxs(we,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:w,disabled:!e,children:[n.jsx(T6,{className:"mr-2 h-4 w-4"}),"Copiar Dia Anterior"]})]})]})]}),n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx($r,{className:"h-5 w-5"}),"Horrios Disponveis"]}),n.jsxs(we,{onClick:m,disabled:!e||A,children:[n.jsx(D1,{className:"mr-2 h-4 w-4"}),A?"Salvando...":"Salvar"]})]}),e&&n.jsxs(vr,{children:["Configurando horrios para ",new Date(e+"T00:00:00").toLocaleDateString("pt-BR")]})]}),n.jsx(Le,{children:e?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Oe,{type:"time",value:s,onChange:N=>i(N.target.value),placeholder:"Novo horrio"}),n.jsx(we,{onClick:p,disabled:!s,children:n.jsx(mu,{className:"h-4 w-4"})})]}),o?n.jsx("div",{className:"space-y-2",children:[...Array(5)].map((N,C)=>n.jsx("div",{className:"h-12 bg-muted rounded animate-pulse"},C))}):t.length===0?n.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[n.jsx($r,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Nenhum horrio configurado"}),n.jsx("p",{className:"text-sm",children:"Use os templates ou adicione horrios manualmente"})]}):n.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:t.map((N,C)=>n.jsxs("div",{className:`
                              flex items-center justify-between p-3 border rounded-lg
                              ${N.ocupado?"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800":"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800"}
                            `,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($r,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:N.horario})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lr,{variant:N.ocupado?"destructive":"default",children:N.ocupado?"Ocupado":"Livre"}),!N.ocupado&&n.jsx(we,{variant:"ghost",size:"sm",onClick:()=>v(N.horario),children:n.jsx(iy,{className:"h-4 w-4"})})]})]},C))}),t.length>0&&n.jsx("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-medium",children:["Total: ",t.length," horrios"]}),n.jsxs("p",{className:"text-muted-foreground",children:[t.filter(N=>!N.ocupado).length," disponveis,"," ",t.filter(N=>N.ocupado).length," ocupados"]})]})})]}):n.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[n.jsx(br,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Selecione uma data para gerenciar os horrios"})]})})]})})]})]})})}function bX(){const{toast:e}=Ka(),[r,t]=b.useState(!1),[a,s]=b.useState([]),[i,o]=b.useState({q:"",tipo:"todos",status:"todos"}),[l,A]=b.useState([]),[d,f]=b.useState(!1),[h,m]=b.useState({paciente:"",tipo:"",data:"",hora:""}),p=async()=>{try{const{data:w}=await ui.getTiposExame();s(w||[])}catch{}},v=async()=>{t(!0);try{const w={};i.q&&(w.q=i.q),i.tipo!=="todos"&&(w.tipo=i.tipo),i.status!=="todos"&&(w.status=i.status);const{data:y}=await ui.getExames(w);A(Array.isArray(y)?y:(y==null?void 0:y.results)||[])}catch{e({title:"Erro",description:"No foi possvel carregar os exames.",variant:"destructive"})}finally{t(!1)}};b.useEffect(()=>{p()},[]),b.useEffect(()=>{v()},[i]);const g=async()=>{if(!h.paciente||!h.tipo||!h.data||!h.hora){e({title:"Campos obrigatrios",description:"Preencha paciente, tipo, data e hora.",variant:"destructive"});return}f(!0);try{const w={paciente:h.paciente,tipo:h.tipo,data:h.data,hora:h.hora};await ui.createExame(w),e({title:"Exame criado",description:"Exame agendado com sucesso."}),m({paciente:"",tipo:"",data:"",hora:""}),v()}catch{e({title:"Erro ao criar",description:"Verifique os dados e tente novamente.",variant:"destructive"})}finally{f(!1)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames"}),n.jsx("p",{className:"text-muted-foreground",children:"Listagem e agendamento de exames"})]})}),n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsx(Xe,{children:"Filtros"}),n.jsx(vr,{children:"Busque e filtre os exames"})]}),n.jsxs(Le,{className:"grid gap-4 md:grid-cols-3",children:[n.jsx(Oe,{placeholder:"Buscar por paciente/tipo...",value:i.q,onChange:w=>o({...i,q:w.target.value})}),n.jsxs(Gr,{value:i.tipo,onValueChange:w=>o({...i,tipo:w}),children:[n.jsx(zr,{children:n.jsx(Yr,{placeholder:"Tipo"})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"todos",children:"Todos os tipos"}),a.map(w=>n.jsx(nt,{value:w.value||w.nome||w.id||String(w),children:w.nome||w.label||w.value||w},w.id||w.value||w))]})]}),n.jsxs(Gr,{value:i.status,onValueChange:w=>o({...i,status:w}),children:[n.jsx(zr,{children:n.jsx(Yr,{placeholder:"Status"})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"todos",children:"Todos"}),n.jsx(nt,{value:"pendente",children:"Pendente"}),n.jsx(nt,{value:"confirmado",children:"Confirmado"}),n.jsx(nt,{value:"cancelado",children:"Cancelado"})]})]})]})]}),n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsx(Xe,{children:"Lista de Exames"}),n.jsx(vr,{children:r?"Carregando...":`${l.length} registro(s)`})]}),n.jsx(Le,{children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ga,{children:[n.jsx(ur,{children:"Paciente"}),n.jsx(ur,{children:"Tipo"}),n.jsx(ur,{children:"Data"}),n.jsx(ur,{children:"Hora"}),n.jsx(ur,{children:"Status"})]})}),n.jsxs(wo,{children:[l.map((w,y)=>n.jsxs(Ga,{children:[n.jsx(ir,{children:w.paciente_nome||w.paciente||"-"}),n.jsx(ir,{children:w.tipo_nome||w.tipo||"-"}),n.jsx(ir,{children:w.data||"-"}),n.jsx(ir,{children:w.hora||"-"}),n.jsx(ir,{children:w.status||"-"})]},w.id||y)),!r&&l.length===0&&n.jsx(Ga,{children:n.jsx(ir,{colSpan:5,className:"text-center text-muted-foreground",children:"Nenhum exame encontrado"})})]})]})})})]}),n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsx(Xe,{children:"Novo Exame"}),n.jsx(vr,{children:"Crie um novo agendamento de exame"})]}),n.jsxs(Le,{className:"grid gap-4 md:grid-cols-4",children:[n.jsx(Oe,{placeholder:"Paciente (nome/ID)",value:h.paciente,onChange:w=>m({...h,paciente:w.target.value})}),n.jsxs(Gr,{value:h.tipo,onValueChange:w=>m({...h,tipo:w}),children:[n.jsx(zr,{children:n.jsx(Yr,{placeholder:"Tipo de exame"})}),n.jsx(qr,{children:a.map(w=>n.jsx(nt,{value:w.value||w.nome||w.id||String(w),children:w.nome||w.label||w.value||w},w.id||w.value||w))})]}),n.jsx(ms,{value:h.data,onChange:w=>m({...h,data:w}),minDate:new Date}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Oe,{type:"time",value:h.hora,onChange:w=>m({...h,hora:w.target.value})}),n.jsx(we,{onClick:g,disabled:d,children:d?"Criando...":"Criar"})]})]})]})]})}function jX(){const{toast:e}=Ka(),[r,t]=b.useState(""),[a,s]=b.useState(!1),[i,o]=b.useState([]),l=async()=>{s(!0);try{const{data:f}=await ui.getPacientes(),h=Array.isArray(f)?f:(f==null?void 0:f.results)||[];o(h)}catch{e({title:"Erro",description:"No foi possvel carregar os pacientes.",variant:"destructive"})}finally{s(!1)}};b.useEffect(()=>{l()},[]);const A=i.filter(f=>[f.nome,f.email,f.cpf].join(" ").toLowerCase().includes(r.toLowerCase())),d=new Date().toISOString().split("T")[0];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pacientes"}),n.jsx("p",{className:"text-muted-foreground",children:"Listagem de pacientes"})]}),n.jsx("div",{className:"w-72",children:n.jsx(Oe,{placeholder:"Buscar por nome, e-mail ou CPF",value:r,onChange:f=>t(f.target.value)})})]}),n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsx(Xe,{children:"Lista de Pacientes"}),n.jsx(vr,{children:a?"Carregando...":`${A.length} registro(s)`})]}),n.jsx(Le,{children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ga,{children:[n.jsx(ur,{children:"Nome"}),n.jsx(ur,{children:"E-mail"}),n.jsx(ur,{children:"CPF"}),n.jsx(ur,{className:"w-[1%]",children:"Aes"})]})}),n.jsxs(wo,{children:[A.map((f,h)=>n.jsxs(Ga,{children:[n.jsx(ir,{children:f.nome||"-"}),n.jsx(ir,{children:f.email||"-"}),n.jsx(ir,{children:f.cpf||"-"}),n.jsx(ir,{children:n.jsx(pr,{to:`/clinica/calendario?paciente=${f.id}&data=${d}`,children:n.jsx(we,{size:"sm",children:"Agendar"})})})]},f.id||h)),!a&&A.length===0&&n.jsx(Ga,{children:n.jsx(ir,{colSpan:3,className:"text-center text-muted-foreground",children:"Nenhum paciente encontrado"})})]})]})})})]})]})}function NX(){const{toast:e}=Ka(),[r,t]=b.useState(""),[a,s]=b.useState(!1),[i,o]=b.useState([]),l=async()=>{s(!0);try{const{data:d}=await ui.getMedicos(),f=Array.isArray(d)?d:(d==null?void 0:d.results)||[];o(f)}catch{e({title:"Erro",description:"No foi possvel carregar os mdicos.",variant:"destructive"})}finally{s(!1)}};b.useEffect(()=>{l()},[]);const A=i.filter(d=>[d.nome,d.email,d.crm,d.especialidade].join(" ").toLowerCase().includes(r.toLowerCase()));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Mdicos"}),n.jsx("p",{className:"text-muted-foreground",children:"Listagem de mdicos"})]}),n.jsx("div",{className:"w-72",children:n.jsx(Oe,{placeholder:"Buscar por nome, e-mail, CRM, especialidade",value:r,onChange:d=>t(d.target.value)})})]}),n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsx(Xe,{children:"Lista de Mdicos"}),n.jsx(vr,{children:a?"Carregando...":`${A.length} registro(s)`})]}),n.jsx(Le,{children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ga,{children:[n.jsx(ur,{children:"Nome"}),n.jsx(ur,{children:"E-mail"}),n.jsx(ur,{children:"CRM"}),n.jsx(ur,{children:"Especialidade"})]})}),n.jsxs(wo,{children:[A.map((d,f)=>n.jsxs(Ga,{children:[n.jsx(ir,{children:d.nome||"-"}),n.jsx(ir,{children:d.email||"-"}),n.jsx(ir,{children:d.crm||"-"}),n.jsx(ir,{children:d.especialidade||"-"})]},d.id||f)),!a&&A.length===0&&n.jsx(Ga,{children:n.jsx(ir,{colSpan:4,className:"text-center text-muted-foreground",children:"Nenhum mdico encontrado"})})]})]})})})]})]})}function BX(){const[e,r]=b.useState("30d"),[t,a]=b.useState(!1),[s,i]=b.useState(null),[o,l]=b.useState(null),A=async()=>{a(!0),l(null);try{const{data:f}=await ui.getRelatorios(e);i(f||{})}catch{l("No foi possvel carregar os relatrios.")}finally{a(!1)}};b.useEffect(()=>{A()},[e]);const d=s||{examesTotais:120,pacientesAtendidos:80,taxaCancelamento:5};return n.jsx("div",{className:"space-y-6",children:n.jsxs(De,{children:[n.jsxs(Ve,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Xe,{children:"Relatrios"}),n.jsx(vr,{children:"Mtricas da clnica"})]}),n.jsx("div",{className:"w-40",children:n.jsxs(Gr,{value:e,onValueChange:r,children:[n.jsx(zr,{children:n.jsx(Yr,{})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"7d",children:"ltimos 7 dias"}),n.jsx(nt,{value:"30d",children:"ltimos 30 dias"}),n.jsx(nt,{value:"90d",children:"ltimos 90 dias"})]})]})})]}),n.jsx(Le,{children:t?n.jsx("p",{children:"Carregando..."}):o?n.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[n.jsx(hu,{className:"h-4 w-4"}),n.jsx("span",{children:o})]}):n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(fn,{className:"h-4 w-4"})," Exames"]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-2xl font-bold",children:d.examesTotais}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"no perodo"})]})]}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(As,{className:"h-4 w-4"})," Pacientes Atendidos"]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-2xl font-bold",children:d.pacientesAtendidos}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"no perodo"})]})]}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{className:"text-sm font-medium",children:"Taxa de Cancelamento"})}),n.jsxs(Le,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[d.taxaCancelamento,"%"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"no perodo"})]})]})]})})]})})}function CX(){const[e,r]=b.useState({nome:"",cnpj:"",email:"",responsavel:""}),[t,a]=b.useState(""),[s,i]=b.useState(""),[o,l]=b.useState(""),[A,d]=b.useState(""),[f,h]=b.useState(!1),[m,p]=b.useState(""),[v,g]=b.useState(""),{toast:w}=Ka(),y=E=>{const U=String(E||"").replace(/\D/g,"").slice(0,14),D=U.slice(0,2),k=U.slice(2,5),L=U.slice(5,8),_=U.slice(8,12),Y=U.slice(12,14);return U.length>12?`${D}.${k}.${L}/${_}-${Y}`:U.length>8?`${D}.${k}.${L}/${_}`:U.length>5?`${D}.${k}.${L}`:U.length>2?`${D}.${k}`:D},N=async()=>{w({title:"Configuraes",description:"Alteraes salvas (stub)."})};async function C(E=!0){var U,D,k,L,_;if(p(""),g(""),!t){p("Informe o e-mail da secretria.");return}h(!0);try{let Y=null;if(E){const I={email:t,first_name:s||void 0,last_name:o||void 0,password:A||void 0,role:"secretaria",type:"secretaria"},$=await pa.createUsuario(I);if(Y=($==null?void 0:$.id)||((U=$==null?void 0:$.usuario)==null?void 0:U.id)||((D=$==null?void 0:$.user)==null?void 0:D.id)||($==null?void 0:$.pk)||null,!Y){const J=$&&typeof $=="object"?((k=$.user)==null?void 0:k.pk)||((L=$.usuario)==null?void 0:L.pk):null;J&&(Y=J)}if(!Y)throw new Error("No foi possvel obter o ID da secretria criada.")}else{const I=await pa.getUsuarios({search:t,page:1,page_size:100}),J=(Array.isArray(I==null?void 0:I.results)?I.results:Array.isArray(I)?I:[]).find(M=>String(M.email||"").toLowerCase()===t.toLowerCase());if(!J)throw new Error("No foi possvel localizar uma usuria com esse e-mail.");if(Y=J.id||J.pk,!Y)throw new Error("Usuria encontrada, porm sem ID vlido.")}await ui.vincularSecretaria(Y),g("Secretria vinculada com sucesso."),a(""),i(""),l(""),d("")}catch(Y){const I=(_=Y==null?void 0:Y.response)!=null&&_.data?JSON.stringify(Y.response.data):(Y==null?void 0:Y.message)||"Falha ao processar solicitao.";p(I)}finally{h(!1)}}return n.jsxs(V_,{children:[n.jsx("div",{className:"space-y-6",children:n.jsx("h1",{className:"text-2xl font-bold",children:"Configuraes"})}),n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsx(Xe,{children:"Dados da Clnica"}),n.jsx(vr,{children:"Edite os dados bsicos"})]}),n.jsxs(Le,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm",children:"Nome"}),n.jsx(Oe,{value:e.nome,onChange:E=>r({...e,nome:E.target.value}),placeholder:"Nome da clnica"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm",children:"CNPJ"}),n.jsx(Oe,{value:e.cnpj,onChange:E=>r({...e,cnpj:y(E.target.value)}),placeholder:"00.000.000/0000-00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm",children:"E-mail"}),n.jsx(Oe,{type:"email",value:e.email,onChange:E=>r({...e,email:E.target.value}),placeholder:"email@clinica.com"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm",children:"Responsvel"}),n.jsx(Oe,{value:e.responsavel,onChange:E=>r({...e,responsavel:E.target.value}),placeholder:"Nome do responsvel"})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(we,{onClick:N,children:"Salvar alteraes"})})]})]}),n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsx(Xe,{children:"Adicionar secretria"}),n.jsx(vr,{children:"Crie uma nova secretria ou vincule por e-mail existente"})]}),n.jsxs(Le,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[m&&n.jsx("div",{className:"text-sm text-red-600",children:m}),v&&n.jsx("div",{className:"text-sm text-emerald-700",children:v})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(Fe,{children:"E-mail da secretria"}),n.jsx(Oe,{type:"email",value:t,onChange:E=>a(E.target.value),placeholder:"secretaria@exemplo.com"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Nome (opcional)"}),n.jsx(Oe,{value:s,onChange:E=>i(E.target.value),placeholder:"Nome"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Sobrenome (opcional)"}),n.jsx(Oe,{value:o,onChange:E=>l(E.target.value),placeholder:"Sobrenome"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Senha (opcional)"}),n.jsx(Oe,{type:"password",value:A,onChange:E=>d(E.target.value),placeholder:"Senha inicial (ou deixe em branco)"})]}),n.jsxs("div",{className:"md:col-span-2 flex gap-2",children:[n.jsx(we,{onClick:()=>C(!0),disabled:f,children:f?"Processando...":"Criar e vincular"}),n.jsx(we,{variant:"outline",onClick:()=>C(!1),disabled:f,children:f?"Processando...":"Vincular por e-mail"})]})]})]})]})}function SX(){const[e,r]=b.useState({totalUsuarios:0,medicosAtivos:0,clinicasAtivas:0,solicitacoesPendentes:0,solicitacoesHoje:0,aprovacoesSemana:0,rejeicoesSemana:0,aprovadosMedicosSemana:0,aprovadasClinicasSemana:0,rejeitadosMedicosSemana:0,rejeitadasClinicasSemana:0}),[t,a]=b.useState([]),[s,i]=b.useState(!0),o=()=>{const d=new Date,f=d.getDay(),h=d.getDate()-f+(f===0?-6:1),m=new Date(d);return m.setDate(h),m.setHours(0,0,0,0),m};b.useEffect(()=>{let d=!0;return(async()=>{var m,p,v;const h=o();try{const g=await pa.getDashboard();d&&g&&r(w=>({...w,totalUsuarios:g.total_usuarios??g.totalUsuarios??w.totalUsuarios,medicosAtivos:g.medicos_ativos??g.medicosAtivos??w.medicosAtivos,clinicasAtivas:g.clinicas_ativas??g.clinicasAtivas??w.clinicasAtivas,solicitacoesPendentes:g.solicitacoes_pendentes??g.solicitacoesPendentes??w.solicitacoesPendentes,aprovacoesSemana:g.aprovacoes_semana??g.aprovacoesSemana??w.aprovacoesSemana,rejeicoesSemana:g.rejeicoes_semana??g.rejeicoesSemana??w.rejeicoesSemana,aprovadosMedicosSemana:g.aprovados_medicos_semana??g.aprovadosMedicosSemana??w.aprovadosMedicosSemana,aprovadasClinicasSemana:g.aprovadas_clinicas_semana??g.aprovadasClinicasSemana??w.aprovadasClinicasSemana,rejeitadosMedicosSemana:g.rejeitados_medicos_semana??g.rejeitadosMedicosSemana??w.rejeitadosMedicosSemana,rejeitadasClinicasSemana:g.rejeitadas_clinicas_semana??g.rejeitadasClinicasSemana??w.rejeitadasClinicasSemana}))}catch(g){console.warn("[AdminDashboard] getDashboard falhou:",(m=g==null?void 0:g.response)==null?void 0:m.status)}try{const g=await pa.getSolicitacoes({status:"pending",limit:5}),y=(Array.isArray(g==null?void 0:g.results)?g.results:Array.isArray(g)?g:[]).map(N=>({...N,nome:N.nome??N.name??N.title??"",tipo:(N.tipo??N.type??"").toString().toLowerCase(),dataEnvio:N.dataEnvio??N.created_at??N.data_envio??null}));if(d){a(y);const N=new Date().toDateString(),C=y.filter(E=>{const U=new Date(E.dataEnvio);return!isNaN(U)&&U.toDateString()===N}).length;r(E=>({...E,solicitacoesHoje:C}))}}catch(g){console.warn("[AdminDashboard] getSolicitacoes falhou (pendentes recentes):",(p=g==null?void 0:g.response)==null?void 0:p.status)}try{const g=o().toISOString(),w=async k=>{const L=await pa.getSolicitacoes({status:k,limit:100,created_at__gte:g});return(Array.isArray(L==null?void 0:L.results)?L.results:Array.isArray(L)?L:[]).map(Y=>({tipo:(Y.tipo??Y.type??"").toString().toLowerCase(),createdAt:Y.created_at??Y.data_envio??Y.dataEnvio??null})).filter(Y=>{const I=new Date(Y.createdAt);return Y.createdAt&&!isNaN(I)&&I>=h})},[y,N]=await Promise.all([w("approved"),w("rejected")]),C=y.filter(k=>k.tipo==="medico").length,E=y.filter(k=>k.tipo==="clinica").length,U=N.filter(k=>k.tipo==="medico").length,D=N.filter(k=>k.tipo==="clinica").length;d&&r(k=>({...k,aprovacoesSemana:k.aprovacoesSemana||0||y.length,rejeicoesSemana:k.rejeicoesSemana||0||N.length,aprovadosMedicosSemana:k.aprovadosMedicosSemana||0||C,aprovadasClinicasSemana:k.aprovadasClinicasSemana||0||E,rejeitadosMedicosSemana:k.rejeitadosMedicosSemana||0||U,rejeitadasClinicasSemana:k.rejeitadasClinicasSemana||0||D}))}catch(g){console.warn("[AdminDashboard] clculo semanal (fallback) falhou:",(v=g==null?void 0:g.response)==null?void 0:v.status)}finally{d&&i(!1)}})(),()=>{d=!1}},[]);const l=d=>{switch(d){case"pending":return n.jsxs(lr,{variant:"outline",className:"badge-medical-warning",children:[n.jsx($r,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return n.jsxs(lr,{variant:"outline",className:"badge-medical-success",children:[n.jsx(us,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return n.jsxs(lr,{variant:"outline",className:"badge-medical-error",children:[n.jsx(fs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},A=d=>{switch(d){case"alta":return n.jsx(lr,{variant:"destructive",className:"text-xs",children:"Alta"});case"normal":return n.jsx(lr,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return n.jsx(lr,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}};return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Dashboard Administrativo"}),n.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Gerencie usurios e solicitaes do sistema"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(we,{variant:"outline",className:"gap-2",asChild:!0,children:n.jsxs(pr,{to:"/admin/usuarios",children:[n.jsx(As,{className:"h-4 w-4"}),"Usurios"]})}),n.jsx(we,{variant:"outline",className:"gap-2",asChild:!0,children:n.jsxs(pr,{to:"/admin/relatorios",children:[n.jsx(K0,{className:"h-4 w-4"}),"Relatrios"]})}),n.jsx(we,{className:"gap-2 btn-medical-primary",asChild:!0,children:n.jsxs(pr,{to:"/admin/solicitacoes",children:[n.jsx($s,{className:"h-4 w-4"}),"Solicitaes"]})})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(De,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50",children:[n.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Xe,{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"Total de Usurios"}),n.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:n.jsx(As,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:e.totalUsuarios}),n.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"+12% em relao ao ms passado"})]})]}),n.jsxs(De,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[n.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Xe,{className:"text-sm font-semibold text-green-700 dark:text-green-300",children:"Mdicos Ativos"}),n.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:n.jsx(aa,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:e.medicosAtivos}),n.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"+5 novos esta semana"})]})]}),n.jsxs(De,{className:"border-0 shadow-lg bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-950/50 dark:to-amber-900/50",children:[n.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Xe,{className:"text-sm font-semibold text-amber-700 dark:text-amber-300",children:"Solicitaes Pendentes"}),n.jsx("div",{className:"p-2 bg-amber-500 rounded-lg",children:n.jsx(hu,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100",children:e.solicitacoesPendentes}),n.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:[e.solicitacoesHoje," novas hoje"]})]})]})]}),n.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsxs(De,{className:"border-0 shadow-lg",children:[n.jsxs(Ve,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:[n.jsxs(Xe,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[n.jsx(Bi,{className:"h-5 w-5 text-purple-600"}),"Aes Rpidas"]}),n.jsx(vr,{className:"text-slate-600 dark:text-slate-400",children:"Acesso rpido s principais funcionalidades"})]}),n.jsxs(Le,{className:"p-6 space-y-4",children:[n.jsx(pr,{to:{pathname:"/admin/solicitacoes",search:"?status=pending"},children:n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-amber-200 bg-amber-50 hover:bg-amber-100 dark:border-amber-800 dark:bg-amber-900/20 dark:hover:bg-amber-900/30 transition-colors group cursor-pointer",children:[n.jsx("div",{className:"p-3 bg-amber-500 rounded-lg",children:n.jsx($r,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-amber-900 dark:text-amber-100",children:"Solicitaes Pendentes"}),n.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:[e.solicitacoesPendentes," solicitaes aguardando anlise"]})]}),n.jsx(gl,{className:"h-5 w-5 text-amber-600 group-hover:translate-x-1 transition-transform"})]})}),n.jsx(pr,{to:"/admin/usuarios",children:n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-blue-200 bg-blue-50 hover:bg-blue-100 dark:border-blue-800 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 transition-colors group cursor-pointer",children:[n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(As,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Gerenciar Usurios"}),n.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Visualizar e gerenciar todos os usurios do sistema"})]}),n.jsx(gl,{className:"h-5 w-5 text-blue-600 group-hover:translate-x-1 transition-transform"})]})}),n.jsx(pr,{to:"/admin/relatorios",children:n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-green-200 bg-green-50 hover:bg-green-100 dark:border-green-800 dark:bg-green-900/20 dark:hover:bg-green-900/30 transition-colors group cursor-pointer",children:[n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(_m,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100",children:"Relatrios"}),n.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Visualizar estatsticas e relatrios do sistema"})]}),n.jsx(gl,{className:"h-5 w-5 text-green-600 group-hover:translate-x-1 transition-transform"})]})})]})]}),n.jsxs(De,{className:"border-0 shadow-lg",children:[n.jsx(Ve,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Xe,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[n.jsx($r,{className:"h-5 w-5 text-purple-600"}),"Solicitaes Recentes"]}),n.jsx(vr,{className:"text-slate-600 dark:text-slate-400",children:"ltimas solicitaes de cadastro no sistema"})]}),n.jsx(we,{variant:"outline",asChild:!0,children:n.jsx(pr,{to:"/admin/solicitacoes",children:"Ver Todas"})})]})}),n.jsx(Le,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:t.map(d=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-purple-100 to-blue-100 dark:from-purple-900/50 dark:to-blue-900/50 flex items-center justify-center",children:d.tipo==="medico"?n.jsx(aa,{className:"h-6 w-6 text-purple-600"}):n.jsx(Yf,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:d.nome}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[n.jsx("span",{children:d.tipo==="medico"?`${d.especialidade} - ${d.crm}`:`${d.cnpj} - ${d.responsavel}`}),n.jsx("span",{children:""}),n.jsx("span",{children:new Date(d.dataEnvio).toLocaleDateString()})]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[A(d.urgencia),l(d.status),d.status==="pending"&&n.jsx(we,{size:"sm",className:"btn-medical-primary",asChild:!0,children:n.jsx(pr,{to:`/admin/solicitacoes/${d.id}`,children:"Revisar"})})]})]},d.id))})})]})]}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs(De,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[n.jsx(us,{className:"h-5 w-5 text-green-600"}),"Aprovaes desta Semana"]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-4xl font-bold text-green-700 dark:text-green-300 mb-2",children:e.aprovacoesSemana}),n.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:[e.aprovadosMedicosSemana," mdicos e ",e.aprovadasClinicasSemana," clnicas aprovados"]})]})]}),n.jsxs(De,{className:"border-0 shadow-lg bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950/50 dark:to-red-900/50",children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"flex items-center gap-2 text-red-800 dark:text-red-200",children:[n.jsx(fs,{className:"h-5 w-5 text-red-600"}),"Rejeies desta Semana"]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-4xl font-bold text-red-700 dark:text-red-300 mb-2",children:e.rejeicoesSemana}),n.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:[e.rejeitadosMedicosSemana," mdicos e ",e.rejeitadasClinicasSemana," clnicas rejeitados"]})]})]}),n.jsxs(De,{className:"border-0 shadow-lg",children:[n.jsx(Ve,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:n.jsxs(Xe,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[n.jsx(cm,{className:"h-5 w-5 text-purple-600"}),"Configuraes"]})}),n.jsxs(Le,{className:"p-6 space-y-3",children:[n.jsx(we,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:n.jsxs(pr,{to:"/admin/configuracoes",children:[n.jsx(cm,{className:"h-4 w-4"}),"Configuraes do Sistema"]})}),n.jsx(we,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:n.jsxs(pr,{to:"/admin/logs",children:[n.jsx(Bi,{className:"h-4 w-4"}),"Logs do Sistema"]})}),n.jsx(we,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:n.jsxs(pr,{to:"/admin/backup",children:[n.jsx($s,{className:"h-4 w-4"}),"Backup e Segurana"]})})]})]})]})]})]})}function _X(){const[e,r]=b.useState(""),[t,a]=b.useState("all"),[s,i]=b.useState("all"),[o,l]=b.useState("all"),[A,d]=b.useState(!1),[f,h]=b.useState([]),[m,p]=b.useState(null),v=b.useRef(null),{toast:g}=Ka(),w=TE(e,500),y=b.useMemo(()=>({search:hd(w.trim()),status:t,tipo:s,urgencia:o}),[w,t,s,o]),N=b.useCallback(async(M,re)=>{try{const K=await pa.getSolicitacoes(M,{signal:re});return Array.isArray(K==null?void 0:K.results)?K.results:Array.isArray(K)?K:[]}catch(K){throw(K==null?void 0:K.name)!=="AbortError"&&console.error("Erro ao buscar solicitaes:",K),K}},[]);b.useEffect(()=>{d(!0);const M=setTimeout(async()=>{if(v.current)try{v.current.abort()}catch{}const re=new AbortController;v.current=re;try{const K={};y.status!=="all"&&(K.status=y.status),y.tipo!=="all"&&(K.tipo=y.tipo),y.urgencia!=="all"&&(K.urgencia=y.urgencia),y.search&&(K.search=y.search);const G=await N(K,re.signal);h(G),p(null)}catch(K){(K==null?void 0:K.name)!=="AbortError"&&(h([]),p("No foi possvel carregar as solicitaes."))}finally{d(!1)}},200);return()=>clearTimeout(M)},[y,N]);const C=b.useCallback(async M=>{d(!0);try{const re=await pa.aprovarSolicitacao(M);h(K=>K.map(G=>G.id===M?{...G,status:"approved",aprovadoPor:(re==null?void 0:re.approved_by)||G.aprovadoPor||"",dataAprovacao:(re==null?void 0:re.approved_at)||G.dataAprovacao||new Date().toISOString(),rejeitadoPor:"",dataRejeicao:null,motivoRejeicao:""}:G)),g({title:"Solicitao aprovada",description:"A solicitao foi aprovada com sucesso."})}catch{g({title:"Erro ao aprovar",description:"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{d(!1)}},[g]),E=b.useCallback(async M=>{const re=window.prompt("Informe o motivo da rejeio:");if(re===null)return;const K=Y_(re,500);if(!K.isValid){g({title:"Motivo invlido",description:K.error,variant:"destructive"});return}d(!0);try{const G=await pa.rejeitarSolicitacao(M,K.value);h(z=>z.map(Z=>Z.id===M?{...Z,status:"rejected",rejeitadoPor:(G==null?void 0:G.rejected_by)||Z.rejeitadoPor||"",dataRejeicao:(G==null?void 0:G.rejected_at)||Z.dataRejeicao||new Date().toISOString(),motivoRejeicao:(G==null?void 0:G.rejection_reason)||K.value||Z.motivoRejeicao||"",aprovadoPor:"",dataAprovacao:null}:Z)),g({title:"Solicitao rejeitada",description:"A solicitao foi rejeitada."})}catch{g({title:"Erro ao rejeitar",description:"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{d(!1)}},[g]),U=b.useCallback(M=>{switch(M){case"pending":return n.jsxs(lr,{variant:"outline",className:"badge-medical-warning",children:[n.jsx($r,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return n.jsxs(lr,{variant:"outline",className:"badge-medical-success",children:[n.jsx(us,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return n.jsxs(lr,{variant:"outline",className:"badge-medical-error",children:[n.jsx(fs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},[]),D=b.useCallback(M=>{switch(M){case"alta":return n.jsxs(lr,{variant:"destructive",className:"text-xs",children:[n.jsx(eA,{className:"mr-1 h-2 w-2"}),"Alta"]});case"normal":return n.jsx(lr,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return n.jsx(lr,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}},[]),k=b.useMemo(()=>f.filter(M=>{const re=e.toLowerCase(),K=(M.nome||"").toLowerCase().includes(re)||(M.email||"").toLowerCase().includes(re)||M.crm&&String(M.crm).toLowerCase().includes(re)||M.cnpj&&String(M.cnpj).includes(e),G=t==="all"||M.status===t,z=s==="all"||M.tipo===s,Z=o==="all"||M.urgencia===o;return K&&G&&z&&Z}),[f,e,t,s,o]),L=b.useMemo(()=>({pending:k.filter(M=>M.status==="pending"),approved:k.filter(M=>M.status==="approved"),rejected:k.filter(M=>M.status==="rejected")}),[k]),_=b.useCallback(M=>{const re=hd(M.target.value);r(re)},[]),Y=b.useCallback(M=>{a(M)},[]),I=b.useCallback(M=>{i(M)},[]),$=b.useCallback(M=>{l(M)},[]),J=({solicitacao:M})=>n.jsxs(De,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg hover:shadow-xl transition-all duration-300 rounded-2xl group",children:[n.jsx(Ve,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`p-3 rounded-xl transition-all duration-300 group-hover:scale-110 ${M.tipo==="medico"?"bg-gradient-to-br from-blue-100 to-indigo-100 text-blue-600":"bg-gradient-to-br from-purple-100 to-pink-100 text-purple-600"}`,children:M.tipo==="medico"?n.jsx(aa,{className:"h-6 w-6"}):n.jsx(Yf,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-xl font-bold text-gray-800 group-hover:text-blue-600 transition-colors",children:M.nome}),n.jsx(vr,{className:"text-gray-600 font-medium",children:M.email})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[D(M.urgencia),U(M.status)]})]})}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 p-4 rounded-xl border border-gray-100",children:[n.jsx("p",{className:"font-semibold text-gray-600 text-sm mb-1",children:M.tipo==="medico"?"Especialidade":"CNPJ"}),n.jsx("p",{className:"text-gray-800 font-medium",children:M.tipo==="medico"?M.especialidade:M.cnpj})]}),n.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 p-4 rounded-xl border border-gray-100",children:[n.jsx("p",{className:"font-semibold text-gray-600 text-sm mb-1",children:M.tipo==="medico"?"CRM":"Responsvel"}),n.jsx("p",{className:"text-gray-800 font-medium",children:M.tipo==="medico"?M.crm:M.responsavel})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 rounded-xl border border-blue-100",children:[n.jsx("p",{className:"font-semibold text-blue-600 text-sm mb-1",children:"Data de Envio"}),n.jsxs("p",{className:"flex items-center gap-2 text-blue-800 font-medium",children:[n.jsx(br,{className:"h-4 w-4"}),n.jsxs("span",{children:[new Date(M.dataEnvio).toLocaleDateString()," s"," ",new Date(M.dataEnvio).toLocaleTimeString()]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-xl border border-green-100",children:[n.jsx("p",{className:"font-semibold text-green-600 text-sm mb-1",children:"Documentos"}),n.jsxs("p",{className:"text-green-800 font-medium",children:[Array.isArray(M.documentos)?M.documentos.length:0," arquivo(s)"]})]})]}),M.observacoes&&n.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 border border-amber-200 p-4 rounded-xl",children:n.jsx("p",{className:"text-amber-800 text-sm font-medium",children:M.observacoes})}),M.status==="approved"&&n.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 p-4 rounded-xl",children:n.jsxs("p",{className:"text-green-800 text-sm font-medium",children:[n.jsx("strong",{children:"Aprovado em:"})," ",M.dataAprovacao?new Date(M.dataAprovacao).toLocaleDateString():"",M.aprovadoPor?n.jsxs(n.Fragment,{children:[" por ",M.aprovadoPor]}):null]})}),M.status==="rejected"&&M.motivoRejeicao&&n.jsx("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 border border-red-200 p-4 rounded-xl",children:n.jsxs("p",{className:"text-red-800 text-sm font-medium",children:[n.jsx("strong",{children:"Rejeitado:"})," ",M.motivoRejeicao,M.rejeitadoPor&&n.jsxs(n.Fragment,{children:[" por ",M.rejeitadoPor]})]})}),n.jsxs("div",{className:"flex gap-3 pt-2",children:[n.jsx(we,{variant:"outline",size:"sm",asChild:!0,className:"bg-white hover:bg-blue-50 border-blue-200 text-blue-600 hover:text-blue-700 hover:border-blue-300 transition-all duration-200",children:n.jsxs(pr,{to:`/admin/solicitacoes/${M.id}`,children:[n.jsx(Ci,{className:"mr-2 h-4 w-4"})," Ver detalhes"]})}),M.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs(we,{size:"sm",onClick:()=>C(M.id),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-md hover:shadow-lg transition-all duration-200",disabled:A,children:[n.jsx(us,{className:"mr-2 h-4 w-4"}),"Aprovar"]}),n.jsxs(we,{variant:"destructive",size:"sm",onClick:()=>E(M.id),className:"bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 shadow-md hover:shadow-lg transition-all duration-200",disabled:A,children:[n.jsx(fs,{className:"mr-2 h-4 w-4"}),"Rejeitar"]})]})]})]})})]});return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white",children:n.jsx("div",{className:"container mx-auto px-6 py-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Solicitaes"}),n.jsx("p",{className:"text-blue-100",children:"Gerencie solicitaes de mdicos e clnicas"})]}),n.jsx("div",{className:"hidden md:flex items-center gap-4",children:n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-2xl font-bold",children:k.length}),n.jsx("p",{className:"text-blue-100 text-sm",children:"Total"})]})})]})})}),n.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(De,{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 hover:shadow-lg transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-amber-600 text-sm font-medium",children:"Pendentes"}),n.jsx("p",{className:"text-2xl font-bold text-amber-700",children:L.pending.length})]}),n.jsx("div",{className:"bg-amber-100 p-3 rounded-full",children:n.jsx($r,{className:"h-6 w-6 text-amber-600"})})]})})}),n.jsx(De,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 hover:shadow-lg transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-green-600 text-sm font-medium",children:"Aprovadas"}),n.jsx("p",{className:"text-2xl font-bold text-green-700",children:L.approved.length})]}),n.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:n.jsx(us,{className:"h-6 w-6 text-green-600"})})]})})}),n.jsx(De,{className:"bg-gradient-to-br from-red-50 to-rose-50 border-red-200 hover:shadow-lg transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-red-600 text-sm font-medium",children:"Rejeitadas"}),n.jsx("p",{className:"text-2xl font-bold text-red-700",children:L.rejected.length})]}),n.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:n.jsx(fs,{className:"h-6 w-6 text-red-600"})})]})})}),n.jsx(De,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 hover:shadow-lg transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"Total"}),n.jsx("p",{className:"text-2xl font-bold text-blue-700",children:k.length})]}),n.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:n.jsx(iu,{className:"h-6 w-6 text-blue-600"})})]})})})]}),n.jsxs(De,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-xl rounded-2xl",children:[n.jsx(Ve,{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-t-2xl border-b",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:n.jsx(iu,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-xl",children:"Filtros Avanados"}),n.jsx(vr,{children:"Use os filtros para refinar sua busca"})]})]})}),n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Oe,{placeholder:"Buscar por nome, e-mail, CRM ou CNPJ",className:"pl-9 bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",value:e,onChange:_})]}),n.jsx("div",{children:n.jsxs(Gr,{value:t,onValueChange:Y,children:[n.jsx(zr,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:n.jsx(Yr,{placeholder:"Status"})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"all",children:"Todos"}),n.jsx(nt,{value:"pending",children:"Pendente"}),n.jsx(nt,{value:"approved",children:"Aprovado"}),n.jsx(nt,{value:"rejected",children:"Rejeitado"})]})]})}),n.jsx("div",{children:n.jsxs(Gr,{value:s,onValueChange:I,children:[n.jsx(zr,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:n.jsx(Yr,{placeholder:"Tipo"})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"all",children:"Todos"}),n.jsx(nt,{value:"medico",children:"Mdicos"}),n.jsx(nt,{value:"clinica",children:"Clnicas"})]})]})}),n.jsx("div",{children:n.jsxs(Gr,{value:o,onValueChange:$,children:[n.jsx(zr,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:n.jsx(Yr,{placeholder:"Urgncia"})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"all",children:"Todas"}),n.jsx(nt,{value:"alta",children:"Alta"}),n.jsx(nt,{value:"normal",children:"Normal"}),n.jsx(nt,{value:"baixa",children:"Baixa"})]})]})})]})})]}),n.jsx(De,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-xl rounded-2xl",children:n.jsxs(zi,{defaultValue:"todas",className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-t-2xl p-6 border-b",children:n.jsxs(qi,{className:"bg-white/80 backdrop-blur-sm border shadow-sm rounded-xl p-1",children:[n.jsxs(Pr,{value:"todas",className:"gap-2 data-[state=active]:bg-blue-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[n.jsx(iu,{className:"h-4 w-4"})," Todas"]}),n.jsxs(Pr,{value:"pendentes",className:"gap-2 data-[state=active]:bg-amber-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[n.jsx($r,{className:"h-4 w-4"})," Pendentes"]}),n.jsxs(Pr,{value:"aprovadas",className:"gap-2 data-[state=active]:bg-green-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[n.jsx(us,{className:"h-4 w-4"})," Aprovadas"]}),n.jsxs(Pr,{value:"rejeitadas",className:"gap-2 data-[state=active]:bg-red-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[n.jsx(fs,{className:"h-4 w-4"})," Rejeitadas"]})]})}),n.jsxs("div",{className:"p-6",children:[n.jsx(Hr,{value:"todas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):m?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(eA,{className:"h-8 w-8 text-red-600"})}),n.jsx("p",{className:"text-red-700",children:m})]}):k.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-gray-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(js,{className:"h-8 w-8 text-gray-400"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao encontrada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:k.map(M=>n.jsx(J,{solicitacao:M},M.id))})}),n.jsx(Hr,{value:"pendentes",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):L.pending.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-amber-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx($r,{className:"h-8 w-8 text-amber-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao pendente."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:L.pending.map(M=>n.jsx(J,{solicitacao:M},M.id))})}),n.jsx(Hr,{value:"aprovadas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):L.approved.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-green-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(us,{className:"h-8 w-8 text-green-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao aprovada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:L.approved.map(M=>n.jsx(J,{solicitacao:M},M.id))})}),n.jsx(Hr,{value:"rejeitadas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):L.rejected.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(fs,{className:"h-8 w-8 text-red-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao rejeitada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:L.rejected.map(M=>n.jsx(J,{solicitacao:M},M.id))})})]})]})})]})]})}function EX(){var C;const{id:e}=zo(),r=$n(),{toast:t}=Ka(),[a,s]=b.useState(!1),[i,o]=b.useState(""),[l,A]=b.useState(""),[d,f]=b.useState(!0),[h,m]=b.useState(null);b.useEffect(()=>{let E=!0;return(async()=>{try{const D=await pa.getSolicitacao(e);E&&m(D)}catch{t({title:"Erro ao carregar",description:"No foi possvel carregar a solicitao.",variant:"destructive"}),r("/admin/solicitacoes")}finally{E&&f(!1)}})(),()=>{E=!1}},[e]);const p=async E=>{try{await pa.visualizarDocumento(E.url||E.nome)}catch(U){t({title:"Erro ao visualizar",description:U.message||"No foi possvel visualizar o documento.",variant:"destructive"})}},v=async E=>{try{await pa.baixarDocumento(E.url||E.nome,E.nome),t({title:"Download iniciado",description:"O download do documento foi iniciado."})}catch(U){t({title:"Erro ao baixar",description:U.message||"No foi possvel baixar o documento.",variant:"destructive"})}};if(d)return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(we,{variant:"ghost",onClick:()=>r("/admin/solicitacoes"),children:[n.jsx(sc,{className:"mr-2 h-4 w-4"}),"Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Carregando..."}),n.jsx("p",{className:"text-muted-foreground",children:"Buscando detalhes da solicitao"})]})]})});if(!h)return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(we,{variant:"ghost",onClick:()=>r("/admin/solicitacoes"),children:[n.jsx(sc,{className:"mr-2 h-4 w-4"}),"Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Solicitao no encontrada"}),n.jsx("p",{className:"text-muted-foreground",children:"Tente novamente mais tarde."})]})]})});const g=async()=>{s(!0);try{await pa.aprovarSolicitacao(e,i||""),t({title:"Solicitao aprovada!",description:`${(h==null?void 0:h.nome)||"Solicitao"} aprovada com sucesso.`}),r("/admin/solicitacoes")}catch{t({title:"Erro",description:"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{s(!1)}},w=async()=>{if(!l.trim()){t({title:"Motivo obrigatrio",description:"Por favor, informe o motivo da rejeio.",variant:"destructive"});return}s(!0);try{await pa.rejeitarSolicitacao(e,l.trim()),t({title:"Solicitao rejeitada",description:`A solicitao de ${(h==null?void 0:h.nome)||""} foi rejeitada.`}),r("/admin/solicitacoes")}catch{t({title:"Erro",description:"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{s(!1)}},y=E=>{switch(E){case"pending":return n.jsxs(lr,{variant:"outline",className:"badge-medical-warning",children:[n.jsx(eA,{className:"mr-1 h-3 w-3"}),"Aguardando Anlise"]});case"approved":return n.jsxs(lr,{variant:"outline",className:"badge-medical-success",children:[n.jsx(us,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return n.jsxs(lr,{variant:"outline",className:"badge-medical-error",children:[n.jsx(fs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},N=(h==null?void 0:h.endereco)||{};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(we,{variant:"ghost",onClick:()=>r("/admin/solicitacoes"),children:[n.jsx(sc,{className:"mr-2 h-4 w-4"}),"Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Detalhes da Solicitao"}),n.jsx("p",{className:"text-muted-foreground",children:"Anlise completa da solicitao de cadastro"})]})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`app-quick-icon ${h.tipo==="medico"?"info":"primary"} h-12 w-12`,children:h.tipo==="medico"?n.jsx(aa,{className:"h-6 w-6"}):n.jsx(Yf,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-xl",children:h.nome}),n.jsx(vr,{children:h.tipo==="medico"?"Solicitao de Cadastro Mdico":"Solicitao de Cadastro de Clnica"})]})]}),y(h.status)]})}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:h.email})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rA,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:h.telefone})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:h.tipo==="medico"?"Especialidade":"CNPJ"}),n.jsx("span",{children:h.especialidade})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:h.tipo==="medico"?"CRM":"Responsvel Tcnico"}),n.jsx("span",{children:h.crm})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Data de Envio"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(br,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[new Date(h.dataEnvio||h.created_at).toLocaleDateString()," s"," ",new Date(h.dataEnvio||h.created_at).toLocaleTimeString()]})]})]})]}),n.jsx(hs,{}),h.tipo==="medico"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Formao Acadmica"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Instituio de Formao"}),n.jsx("span",{children:h.instituicaoFormacao})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Ano de Formao"}),n.jsx("span",{children:h.anoFormacao})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Residncia"}),n.jsx("span",{children:h.residencia})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Instituio da Residncia"}),n.jsx("span",{children:h.instituicaoResidencia})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Ano da Residncia"}),n.jsx("span",{children:h.anoResidencia})]})]})]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Experincia Profissional"}),n.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:n.jsx("p",{className:"text-sm",children:h.experiencia})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Motivao"}),n.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:n.jsx("p",{className:"text-sm",children:h.motivacao})})]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Endereo"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"CEP"}),n.jsx("span",{children:N.cep||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Logradouro"}),n.jsx("span",{children:N.logradouro||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Bairro"}),n.jsx("span",{children:N.bairro||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Cidade/Estado"}),n.jsxs("span",{children:[N.cidade||"","/",N.estado||""]})]})]})]})]})]}),n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(fn,{className:"h-5 w-5"}),"Documentos Enviados"]}),n.jsxs(vr,{children:[((C=h.documentos)==null?void 0:C.length)||0," documento(s) anexado(s)"]})]}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-3",children:(h.documentos||[]).map((E,U)=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(fn,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:E.nome}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.tamanho,"  Enviado em ",new Date(E.dataUpload).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(we,{variant:"outline",size:"sm",onClick:()=>p(E),children:[n.jsx(Ci,{className:"mr-2 h-4 w-4"}),"Visualizar"]}),n.jsxs(we,{variant:"outline",size:"sm",onClick:()=>v(E),children:[n.jsx(xl,{className:"mr-2 h-4 w-4"}),"Baixar"]})]})]},U))})})]})]}),n.jsxs("div",{className:"space-y-6",children:[h.status==="pending"&&n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsx(Xe,{children:"Aes"}),n.jsx(vr,{children:"Aprovar ou rejeitar esta solicitao"})]}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"observacoes",children:"Observaes (opcional)"}),n.jsx(la,{id:"observacoes",placeholder:"Adicione observaes sobre esta solicitao...",value:i,onChange:E=>o(E.target.value)})]}),n.jsxs(we,{variant:"default",className:"w-full",onClick:g,disabled:a,children:[n.jsx(us,{className:"mr-2 h-4 w-4"}),a?"Aprovando...":"Aprovar Solicitao"]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"motivoRejeicao",children:"Motivo da Rejeio"}),n.jsx(la,{id:"motivoRejeicao",placeholder:"Informe o motivo da rejeio...",value:l,onChange:E=>A(E.target.value)})]}),n.jsxs(we,{variant:"destructive",className:"w-full",onClick:w,disabled:a,children:[n.jsx(fs,{className:"mr-2 h-4 w-4"}),a?"Rejeitando...":"Rejeitar Solicitao"]})]})]}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Informaes do Sistema"})}),n.jsxs(Le,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"ID da Solicitao:"}),n.jsxs("span",{className:"font-mono",children:["#",h.id.toString().padStart(6,"0")]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Tipo:"}),n.jsx("span",{className:"capitalize",children:h.tipo})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Urgncia:"}),n.jsx(lr,{variant:h.urgencia==="alta"?"destructive":"secondary",className:"text-xs",children:h.urgencia})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"}),y(h.status)]})]})]})]})]})]})}const t5=[{value:"7",label:"ltimos 7 dias"},{value:"30",label:"ltimos 30 dias"},{value:"90",label:"ltimos 90 dias"}];function FX(e){const r=new Date(e);return r.setHours(0,0,0,0),r}function kX(e){const r=new Date(e);return r.setHours(23,59,59,999),r}function DX(e){const r=new Date(e),t=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${t}-${a}-${s}`}function UX(){var h;const[e,r]=b.useState("30"),[t,a]=b.useState("all"),[s,i]=b.useState(!1),[o,l]=b.useState(null),[A,d]=b.useState([]),f=b.useMemo(()=>{if(!A.length)return{total:0,aprovadas:0,rejeitadas:0,pendentes:0,aprovMed:0,aprovCli:0,rejMed:0,rejCli:0,byDay:[],maxDay:0};const m=A.length,p=A.filter(k=>k.status==="aprovada").length,v=A.filter(k=>k.status==="rejeitada").length,g=A.filter(k=>k.status==="pendente").length,w=A.filter(k=>k.status==="aprovada"&&k.tipo==="medico").length,y=A.filter(k=>k.status==="aprovada"&&k.tipo==="clinica").length,N=A.filter(k=>k.status==="rejeitada"&&k.tipo==="medico").length,C=A.filter(k=>k.status==="rejeitada"&&k.tipo==="clinica").length,E={};A.forEach(k=>{const L=DX(k.createdAt);E[L]||(E[L]={ymd:L,aprov:0,rej:0}),k.status==="aprovada"&&E[L].aprov++,k.status==="rejeitada"&&E[L].rej++});const U=Object.values(E).sort((k,L)=>k.ymd.localeCompare(L.ymd)),D=Math.max(...U.map(k=>Math.max(k.aprov,k.rej)),1);return{total:m,aprovadas:p,rejeitadas:v,pendentes:g,aprovMed:w,aprovCli:y,rejMed:N,rejCli:C,byDay:U,maxDay:D}},[A]);return b.useEffect(()=>{(async()=>{i(!0),l(null);try{const p=new Date,v=parseInt(e,10),g=new Date(p.getTime()-v*24*60*60*1e3),w={startDate:FX(g).toISOString(),endDate:kX(p).toISOString()};t!=="all"&&(w.tipo=t);const y=await ye.get("/admin/solicitacoes",{params:w});d(y.data||[])}catch(p){console.error("Erro ao buscar dados:",p),l(p)}finally{i(!1)}})()},[e,t]),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900",children:[n.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 shadow-sm",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-xl border border-slate-200 dark:border-slate-600 shadow-sm",children:n.jsx(fn,{className:"h-8 w-8 text-slate-600 dark:text-slate-200"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Relatrios Administrativos"}),n.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 mt-2 font-medium",children:"Anlise completa de solicitaes e mtricas operacionais"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(De,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800 hover:shadow-xl transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-base font-bold text-slate-600 dark:text-slate-200 mb-2",children:"Total"}),n.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:f.total}),n.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mt-1",children:"no perodo"})]}),n.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-xl",children:n.jsx(fn,{className:"h-6 w-6 text-slate-600 dark:text-slate-200"})})]})})}),n.jsx(De,{className:"border border-green-200 dark:border-green-700 shadow-lg bg-green-50 dark:bg-green-900/20 hover:shadow-xl transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-base font-bold text-green-700 dark:text-green-300 mb-2",children:"Aprovadas"}),n.jsx("p",{className:"text-3xl font-bold text-green-800 dark:text-green-200",children:f.aprovadas}),n.jsxs("p",{className:"text-sm font-medium text-green-600 dark:text-green-400 mt-1",children:[Math.round(f.aprovadas/f.total*100)||0,"% do total"]})]}),n.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-800 rounded-xl",children:n.jsx(us,{className:"h-6 w-6 text-green-600 dark:text-green-300"})})]})})}),n.jsx(De,{className:"border border-red-200 dark:border-red-700 shadow-lg bg-red-50 dark:bg-red-900/20 hover:shadow-xl transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-base font-bold text-red-700 dark:text-red-300 mb-2",children:"Rejeitadas"}),n.jsx("p",{className:"text-3xl font-bold text-red-800 dark:text-red-200",children:f.rejeitadas}),n.jsxs("p",{className:"text-sm font-medium text-red-600 dark:text-red-400 mt-1",children:[Math.round(f.rejeitadas/f.total*100)||0,"% do total"]})]}),n.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-800 rounded-xl",children:n.jsx(fs,{className:"h-6 w-6 text-red-600 dark:text-red-300"})})]})})}),n.jsx(De,{className:"border border-amber-200 dark:border-amber-700 shadow-lg bg-amber-50 dark:bg-amber-900/20 hover:shadow-xl transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-base font-bold text-amber-700 dark:text-amber-300 mb-2",children:"Pendentes"}),n.jsx("p",{className:"text-3xl font-bold text-amber-800 dark:text-amber-200",children:f.pendentes}),n.jsxs("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400 mt-1",children:[Math.round(f.pendentes/f.total*100)||0,"% do total"]})]}),n.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-800 rounded-xl",children:n.jsx($r,{className:"h-6 w-6 text-amber-600 dark:text-amber-300"})})]})})})]})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8 space-y-8",children:[n.jsx(De,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800",children:n.jsxs(Ve,{className:"bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-600 rounded-lg border border-slate-200 dark:border-slate-500 shadow-sm",children:n.jsx(iu,{className:"h-5 w-5 text-slate-600 dark:text-slate-300"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-slate-900 dark:text-white text-xl font-bold",children:"Filtros de Anlise"}),n.jsx(vr,{className:"text-slate-600 dark:text-slate-300 text-base font-medium mt-1",children:"Configure o perodo e tipo de relatrio"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-6 mt-6",children:[n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("label",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:"Perodo de Anlise"}),n.jsxs(Gr,{value:e,onValueChange:r,children:[n.jsx(zr,{className:"w-52 h-12 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-500 focus:border-slate-400 dark:focus:border-slate-400 focus:ring-slate-400/20 shadow-sm text-base text-slate-900 dark:text-white",children:n.jsx(Yr,{})}),n.jsx(qr,{children:t5.map(m=>n.jsx(nt,{value:m.value,className:"text-base",children:m.label},m.value))})]})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("label",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:"Tipo de Solicitao"}),n.jsxs(Gr,{value:t,onValueChange:a,children:[n.jsx(zr,{className:"w-52 h-12 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-500 focus:border-slate-400 dark:focus:border-slate-400 focus:ring-slate-400/20 shadow-sm text-base text-slate-900 dark:text-white",children:n.jsx(Yr,{})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"all",className:"text-base",children:"Todos os Tipos"}),n.jsx(nt,{value:"medico",className:"text-base",children:"Mdicos"}),n.jsx(nt,{value:"clinica",className:"text-base",children:"Clnicas"})]})]})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("label",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:"Aes"}),n.jsxs(we,{variant:"outline",size:"lg",disabled:s,onClick:()=>r(e),className:"h-12 px-6 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-500 hover:bg-slate-50 dark:hover:bg-slate-600 hover:border-slate-400 dark:hover:border-slate-400 text-slate-700 dark:text-slate-200 font-semibold shadow-sm transition-all duration-200 text-base",children:[n.jsx(k1,{className:`h-5 w-5 mr-2 ${s?"animate-spin":""}`}),"Atualizar Dados"]})]})]})]})}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(De,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800 hover:shadow-xl transition-all duration-300 group",children:[n.jsx(Ve,{className:"pb-4",children:n.jsx(Xe,{className:"text-base font-bold text-slate-700 dark:text-slate-200 group-hover:text-slate-900 dark:group-hover:text-white transition-colors",children:"Total no Perodo"})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-3",children:f.total}),n.jsx("p",{className:"text-base font-medium text-slate-600 dark:text-slate-300",children:(h=t5.find(m=>m.value===e))==null?void 0:h.label})]})]}),n.jsxs(De,{className:"border border-green-200 dark:border-green-700 shadow-lg bg-gradient-to-br from-white to-green-50 dark:from-slate-800 dark:to-green-900/50 hover:shadow-xl transition-all duration-300 group",children:[n.jsx(Ve,{className:"pb-4",children:n.jsxs(Xe,{className:"text-base font-bold flex items-center gap-2 text-green-700 dark:text-green-200 group-hover:text-green-800 dark:group-hover:text-green-100 transition-colors",children:[n.jsx("div",{className:"p-1 bg-green-100 dark:bg-green-800 rounded",children:n.jsx(us,{className:"h-5 w-5 text-green-600 dark:text-green-300"})}),"Solicitaes Aprovadas"]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-4xl font-bold text-green-800 dark:text-green-100 mb-3",children:f.aprovadas}),n.jsxs("p",{className:"text-base font-medium text-green-600 dark:text-green-300",children:[f.aprovMed," mdicos  ",f.aprovCli," clnicas"]})]})]}),n.jsxs(De,{className:"border border-red-200 dark:border-red-700 shadow-lg bg-gradient-to-br from-white to-red-50 dark:from-slate-800 dark:to-red-900/50 hover:shadow-xl transition-all duration-300 group",children:[n.jsx(Ve,{className:"pb-4",children:n.jsxs(Xe,{className:"text-base font-bold flex items-center gap-2 text-red-700 dark:text-red-200 group-hover:text-red-800 dark:group-hover:text-red-100 transition-colors",children:[n.jsx("div",{className:"p-1 bg-red-100 dark:bg-red-800 rounded",children:n.jsx(fs,{className:"h-5 w-5 text-red-600 dark:text-red-300"})}),"Solicitaes Rejeitadas"]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-4xl font-bold text-red-800 dark:text-red-100 mb-3",children:f.rejeitadas}),n.jsxs("p",{className:"text-base font-medium text-red-600 dark:text-red-300",children:[f.rejMed," mdicos  ",f.rejCli," clnicas"]})]})]}),n.jsxs(De,{className:"border border-amber-200 dark:border-amber-700 shadow-lg bg-gradient-to-br from-white to-amber-50 dark:from-slate-800 dark:to-amber-900/50 hover:shadow-xl transition-all duration-300 group",children:[n.jsx(Ve,{className:"pb-4",children:n.jsxs(Xe,{className:"text-base font-bold flex items-center gap-2 text-amber-700 dark:text-amber-200 group-hover:text-amber-800 dark:group-hover:text-amber-100 transition-colors",children:[n.jsx("div",{className:"p-1 bg-amber-100 dark:bg-amber-800 rounded",children:n.jsx($r,{className:"h-5 w-5 text-amber-600 dark:text-amber-300"})}),"Aguardando Anlise"]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-4xl font-bold text-amber-800 dark:text-amber-100 mb-3",children:f.pendentes}),n.jsx("p",{className:"text-base font-medium text-amber-600 dark:text-amber-300",children:"Requer ateno administrativa"})]})]})]}),n.jsxs(De,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800",children:[n.jsx(Ve,{className:"bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-600 rounded-lg border border-slate-200 dark:border-slate-500 shadow-sm",children:n.jsx(K0,{className:"h-5 w-5 text-slate-600 dark:text-slate-300"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-slate-900 dark:text-white text-xl font-bold",children:"Anlise Temporal"}),n.jsx(vr,{className:"text-slate-600 dark:text-slate-300 text-base font-medium mt-1",children:"Distribuio diria de aprovaes e rejeies no perodo selecionado"})]})]})}),n.jsxs(Le,{className:"space-y-8 p-8",children:[f.byDay.map(m=>{const p=Math.round(m.aprov/f.maxDay*100),v=Math.round(m.rej/f.maxDay*100);return n.jsxs("div",{className:"group",children:[n.jsxs("div",{className:"flex items-center justify-between text-base mb-4",children:[n.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-lg",children:m.ymd}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-green-400 rounded-full"}),n.jsxs("span",{className:"text-green-600 dark:text-green-300 font-bold text-base",children:["Aprovadas: ",m.aprov]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-red-400 rounded-full"}),n.jsxs("span",{className:"text-red-600 dark:text-red-300 font-bold text-base",children:["Rejeitadas: ",m.rej]})]})]})]}),n.jsxs("div",{className:"h-8 w-full rounded-lg bg-slate-200 dark:bg-slate-700 overflow-hidden border border-slate-300 dark:border-slate-600 shadow-inner",children:[n.jsx("div",{className:"h-8 bg-green-500 inline-block transition-all duration-500 group-hover:bg-green-400",style:{width:`${p}%`},title:`Aprovadas: ${m.aprov}`}),n.jsx("div",{className:"h-8 bg-red-500 inline-block transition-all duration-500 group-hover:bg-red-400",style:{width:`${v}%`},title:`Rejeitadas: ${m.rej}`})]})]},m.ymd)}),!f.byDay.length&&n.jsxs("div",{className:"text-center py-16",children:[n.jsx("div",{className:"text-slate-400 text-6xl mb-6",children:""}),n.jsx("div",{className:"text-xl font-bold text-slate-600 dark:text-slate-300 mb-3",children:"Nenhum dado encontrado"}),n.jsx("div",{className:"text-base font-medium text-slate-500 dark:text-slate-400",children:"No h registros para o perodo selecionado."})]})]})]}),s&&n.jsx(De,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800",children:n.jsx(Le,{className:"p-12",children:n.jsxs("div",{className:"animate-pulse space-y-8",children:[n.jsx("div",{className:"h-10 bg-slate-200 dark:bg-slate-700 rounded-lg w-1/3"}),n.jsx("div",{className:"h-40 bg-slate-200 dark:bg-slate-700 rounded-lg"})]})})}),o&&n.jsx(De,{className:"border border-red-200 dark:border-red-700 shadow-lg bg-red-50 dark:bg-red-900/20",children:n.jsxs(Le,{className:"p-12 text-center",children:[n.jsx("div",{className:"text-red-400 text-6xl mb-6",children:""}),n.jsx("p",{className:"text-red-700 dark:text-red-300 font-bold text-xl mb-3",children:"Erro ao carregar dados"}),n.jsx("p",{className:"text-red-600 dark:text-red-400 text-base font-medium",children:String(o)})]})})]})]})}function LX(){const[e,r]=b.useState([]),[t,a]=b.useState(!1),[s,i]=b.useState(null),[o,l]=b.useState(null),[A,d]=b.useState(null),[f,h]=b.useState(""),[m,p]=b.useState(""),[v,g]=b.useState(""),[w,y]=b.useState(""),[N,C]=b.useState(""),[E,U]=b.useState(""),[D,k]=b.useState(""),L=b.useMemo(()=>{const Y={ordering:"-created_at",limit:20};return f&&(Y.action=f),m&&(Y.entity=m),v&&(Y.status=v),w&&(Y.user=w),N&&(Y.created_at__gte=new Date(N).toISOString()),E&&(Y.created_at__lte=new Date(E).toISOString()),D&&(Y.search=D),Y},[f,m,v,w,N,E,D]),_=async Y=>{var I,$,J,M;a(!0),i(null);try{const re=typeof Y=="string"?await ye.get(Y):await pa.getAuditoria(Y),K=(re==null?void 0:re.data)??re,G=Array.isArray(K==null?void 0:K.results)?K.results:Array.isArray(K)?K:[];r(G),l((K==null?void 0:K.next)||null),d((K==null?void 0:K.previous)||null)}catch(re){const K=(I=re==null?void 0:re.response)==null?void 0:I.status,z=(typeof(($=re==null?void 0:re.response)==null?void 0:$.data)=="string"?null:(M=(J=re==null?void 0:re.response)==null?void 0:J.data)==null?void 0:M.detail)||(re==null?void 0:re.message)||"Falha ao carregar auditoria";i(K?`Erro ${K}: ${z}`:z)}finally{a(!1)}};return b.useEffect(()=>{_(L)},[L]),n.jsxs("div",{className:"space-y-8 p-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-red-700 to-red-800 rounded-2xl p-8 text-white shadow-2xl",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:n.jsx($s,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold",children:"Auditoria"}),n.jsx("p",{className:"text-red-100 text-lg",children:"Acompanhe registros de aes do sistema"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-8",children:[n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Bi,{className:"h-6 w-6 text-red-200"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-100 text-sm",children:"Total de Registros"}),n.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})}),n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(On,{className:"h-6 w-6 text-red-200"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-100 text-sm",children:"Usurios nicos"}),n.jsx("p",{className:"text-2xl font-bold",children:new Set(e.map(Y=>{var I;return(I=Y.user)==null?void 0:I.id})).size})]})]})}),n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(br,{className:"h-6 w-6 text-red-200"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-100 text-sm",children:"Hoje"}),n.jsx("p",{className:"text-2xl font-bold",children:e.filter(Y=>new Date(Y.created_at).toDateString()===new Date().toDateString()).length})]})]})}),n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ci,{className:"h-6 w-6 text-red-200"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-100 text-sm",children:"Sucessos"}),n.jsx("p",{className:"text-2xl font-bold",children:e.filter(Y=>Y.status==="success").length})]})]})})]})]}),n.jsxs(De,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[n.jsx(Ve,{className:"pb-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg",children:n.jsx(iu,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-xl font-semibold text-gray-900",children:"Filtros Avanados"}),n.jsx(vr,{className:"text-gray-600",children:"Refine a busca por perodo, usurio e tipo de ao"})]})]})}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Data de Incio"}),n.jsx(ms,{value:N,onChange:C,className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",maxDate:new Date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Data de Fim"}),n.jsx(ms,{value:E,onChange:U,className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",minDate:N?new Date(N):void 0,maxDate:new Date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),n.jsxs(Gr,{value:v,onValueChange:Y=>g(Y==="all"?"":Y),children:[n.jsx(zr,{className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",children:n.jsx(Yr,{placeholder:"Selecionar status"})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"all",children:"Todos"}),n.jsx(nt,{value:"success",children:"Sucesso"}),n.jsx(nt,{value:"fail",children:"Falha"})]})]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Usurio (UUID)"}),n.jsx(Oe,{value:w,onChange:Y=>y(Y.target.value),placeholder:"ID do usurio",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ao"}),n.jsx(Oe,{value:f,onChange:Y=>h(Y.target.value),placeholder:"ex: login, create, update",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Entidade"}),n.jsx(Oe,{value:m,onChange:Y=>p(Y.target.value),placeholder:"ex: Consulta, Paciente",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Busca Geral"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(Oe,{value:D,onChange:Y=>k(Y.target.value),placeholder:"Buscar por ao, entidade, IP ou usurio...",className:"pl-10 h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),n.jsxs(we,{onClick:()=>_(L),className:"h-11 px-6 btn-medical-primary shadow-lg hover:shadow-xl transition-all duration-200",children:[n.jsx(js,{className:"mr-2 h-4 w-4"}),"Buscar"]}),n.jsxs(we,{variant:"outline",onClick:()=>{h(""),p(""),g(""),y(""),C(""),U(""),k("")},className:"h-11 px-6 bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:[n.jsx(k1,{className:"mr-2 h-4 w-4"}),"Limpar"]})]})]})]})]}),n.jsxs(De,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[n.jsxs(Ve,{className:"flex flex-row items-center justify-between pb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg",children:n.jsx(Bi,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-xl font-semibold text-gray-900",children:"Registros de Auditoria"}),n.jsx(vr,{className:"text-gray-600",children:"Resultados paginados (20 por pgina)"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(we,{variant:"outline",size:"sm",disabled:!A||t,onClick:()=>_(A),className:"bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:n.jsx(J5,{className:"h-4 w-4"})}),n.jsx(we,{variant:"outline",size:"sm",disabled:!o||t,onClick:()=>_(o),className:"bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:n.jsx(gl,{className:"h-4 w-4"})})]})]}),n.jsxs(Le,{children:[s&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:n.jsx("p",{className:"text-red-700 font-medium",children:s})}),n.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:n.jsxs("table",{className:"min-w-full bg-white",children:[n.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Data"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Usurio"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Ao"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Entidade"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"ID"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"IP"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Status"})]})}),n.jsxs("tbody",{children:[!t&&e.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-gray-100 rounded-full",children:n.jsx(Bi,{className:"h-6 w-6 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhum registro encontrado"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Tente ajustar os filtros de busca"})]})})}),e.map((Y,I)=>{var $,J;return n.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-purple-50/50 transition-all duration-200 ${I%2===0?"bg-white":"bg-gray-50/30"}`,children:[n.jsx("td",{className:"py-4 px-6 text-sm text-gray-900 font-medium whitespace-nowrap",children:new Date(Y.created_at).toLocaleString("pt-BR")}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-700",children:(($=Y.user)==null?void 0:$.username)||((J=Y.user)==null?void 0:J.email)||"-"}),n.jsx("td",{className:"py-4 px-6",children:n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Y.action})}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-700",children:Y.entity||"-"}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-700 font-mono",children:Y.entity_id||"-"}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-700 font-mono",children:Y.ip_address||"-"}),n.jsx("td",{className:"py-4 px-6",children:Y.status==="success"?n.jsx(lr,{className:"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200",variant:"outline",children:"Sucesso"}):n.jsx(lr,{className:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",variant:"outline",children:"Falha"})})]},Y.id)})]})]})})]})]})]})}function IX(){const{activeRole:e,toggleRole:r}=lc(),{user:t}=qo(),a=$n();if(!((t==null?void 0:t.role)==="medico"||(t==null?void 0:t.is_medico)||(t==null?void 0:t.isMedico)||!1))return null;const i=()=>{r(),a(e==="medico"?"/paciente/perfil":"/medico/dashboard")};return n.jsx(we,{variant:"outline",size:"sm",onClick:i,className:"flex items-center gap-2 transition-all duration-200 hover:shadow-md",children:e==="medico"?n.jsxs(n.Fragment,{children:[n.jsx(On,{className:"h-4 w-4"}),n.jsx("span",{children:"Mudar para Paciente"})]}):n.jsxs(n.Fragment,{children:[n.jsx(aa,{className:"h-4 w-4"}),n.jsx("span",{children:"Mudar para Mdico"})]})})}function PX(){const{isAuthenticated:e,user:r}=qo(),{isAuthenticated:t}=lc(),a=Ab;if(e){const s=(r==null?void 0:r.role)||(r==null?void 0:r.tipo),i=s==="admin"?"/admin/dashboard":s==="medico"?"/medico/dashboard":s==="clinica"?"/clinica/dashboard":"/paciente/perfil";return n.jsx(Ea,{to:i,replace:!0})}return n.jsxs("div",{className:"flex min-h-screen flex-col bg-app-soft",children:[n.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-blue-100/50 app-light-green-gradient dark:app-dark-green-gradient backdrop-blur-xl shadow-sm",children:n.jsxs("div",{className:"container flex h-16 items-center",children:[n.jsx("div",{className:"mr-4 flex",children:n.jsxs(pr,{to:"/",className:"mr-6 flex items-center space-x-3 group",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl overflow-hidden shadow-lg group-hover:shadow-blue-500/25 transition-all duration-300 group-hover:scale-105",children:n.jsx("img",{src:a,alt:"Trathea",className:"w-full h-full object-cover"})}),n.jsx("span",{className:"font-bold text-xl bg-gradient-to-r from-medical-primary to-blue-600 bg-clip-text text-transparent",children:"Trathea"})]})}),n.jsx("div",{className:"flex flex-1 items-center justify-end space-x-2",children:n.jsxs("nav",{className:"flex items-center space-x-2",children:[n.jsx(lb,{}),t&&n.jsx(IX,{})]})})]})}),n.jsx("main",{className:"flex-1",children:n.jsxs("section",{className:"w-full py-16 md:py-24 lg:py-32 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-teal-400/20 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-medical-primary/20 to-purple-400/20 rounded-full blur-3xl"})]}),n.jsx("div",{className:"container px-4 md:px-6 relative",children:n.jsxs("div",{className:"flex flex-col items-center justify-center space-y-12 text-center",children:[n.jsxs("div",{className:"space-y-6 max-w-4xl",children:[n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-blue-100 to-teal-100 text-medical-primary font-medium text-sm border border-blue-200/50",children:[n.jsx(iI,{className:"w-4 h-4"}),"Plataforma Mdica Integrada"]}),n.jsxs("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl lg:text-7xl",children:[n.jsx("span",{className:"bg-gradient-to-r from-medical-primary via-blue-600 to-teal-600 bg-clip-text text-transparent",children:"Bem-vindo ao"}),n.jsx("br",{}),n.jsx("span",{className:"bg-gradient-to-r from-teal-600 via-medical-primary to-blue-600 bg-clip-text text-transparent",children:"Trathea"})]}),n.jsx("p",{className:"mx-auto max-w-[800px] text-xl text-slate-600 dark:text-slate-300 leading-relaxed",children:"Conectando mdicos e pacientes para uma experincia de sade integrada e moderna."}),n.jsx("p",{className:"mx-auto max-w-[700px] text-lg text-slate-500 dark:text-slate-400 leading-relaxed",children:"Nossa plataforma oferece uma soluo completa para gerenciamento de consultas, pronturios e histrico mdico, facilitando a comunicao entre profissionais de sade e pacientes."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-5xl mt-16",children:[n.jsxs("div",{className:"group p-6 rounded-2xl bg-white/70 dark:bg-white/5 backdrop-blur-sm border border-blue-100/50 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 text-white mb-4 group-hover:scale-110 transition-transform duration-300",children:n.jsx(aa,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Consultas Online"}),n.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm",children:"Agende e realize consultas mdicas de forma digital e segura."})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-white/70 dark:bg-white/5 backdrop-blur-sm border border-teal-100/50 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-teal-600 text-white mb-4 group-hover:scale-110 transition-transform duration-300",children:n.jsx(Bi,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Pronturio Digital"}),n.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm",children:"Acesse seu histrico mdico completo em qualquer lugar."})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-white/70 dark:bg-white/5 backdrop-blur-sm border border-purple-100/50 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 text-white mb-4 group-hover:scale-110 transition-transform duration-300",children:n.jsx($s,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Segurana Total"}),n.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm",children:"Seus dados mdicos protegidos com criptografia avanada."})]})]}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mt-12",children:t?n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full max-w-lg mx-auto",children:[n.jsx(pr,{to:"/medico/dashboard",className:"flex-1",children:n.jsx(we,{className:"w-full h-14 rounded-xl bg-gradient-to-r from-teal-500 to-teal-600 text-white font-semibold shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 group dark:from-teal-400 dark:to-teal-500",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(aa,{className:"w-5 h-5"}),"Acessar como Mdico"]})})}),n.jsx(pr,{to:"/paciente/perfil",className:"flex-1",children:n.jsx(we,{variant:"outline",className:"w-full h-14 rounded-xl border-2 border-blue-500/20 bg-white/90 dark:bg-white/5 text-blue-600 dark:text-blue-300 font-semibold shadow-lg hover:bg-blue-500/5 dark:hover:bg-blue-500/10 hover:border-blue-500/40 hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(As,{className:"w-5 h-5"}),"Acessar como Paciente"]})})})]}):n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full max-w-md mx-auto",children:[n.jsx(pr,{to:"/login",className:"flex-1",children:n.jsx(we,{className:"w-full h-14 rounded-xl bg-gradient-to-r from-medical-primary to-blue-600 text-white font-semibold shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 group dark:from-emerald-400 dark:to-emerald-500",children:n.jsxs("span",{className:"flex items-center gap-2",children:["Entrar",n.jsx(Gg,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300"})]})})}),n.jsx(pr,{to:"/registrar",className:"flex-1",children:n.jsx(we,{variant:"outline",className:"w-full h-14 rounded-xl border-2 border-medical-primary/20 bg-white/90 dark:bg-white/5 text-medical-primary font-semibold shadow-lg hover:bg-medical-primary/5 dark:hover:bg-medical-primary/10 hover:border-medical-primary/40 hover:shadow-xl hover:scale-105 transition-all duration-300",children:"Criar Conta"})})]})})]})})]})})]})}function QX(){var D,k,L,_,Y,I,$,J,M,re;const[e,r]=b.useState(!1),[t,a]=b.useState("none"),{toast:s}=Ka();$n();const{setActiveRole:i,setUserPermissions:o}=lc(),l=((D=Vr.getCurrentUser)==null?void 0:D.call(Vr))||null,d=`medicoApplicationStatus:${l&&(l.id||l.pk||l.email||l.username)||"anon"}`;b.useEffect(()=>{try{const K=localStorage.getItem("medicoApplicationStatus");K&&!localStorage.getItem(d)&&(localStorage.setItem(d,K),localStorage.removeItem("medicoApplicationStatus"));const G=JSON.parse(localStorage.getItem(d)||"{}");G!=null&&G.status&&a(G.status)}catch{}},[d]);const[f,h]=b.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),m=K=>String(K||"").replace(/\D/g,"").slice(0,7),p=K=>{const{name:G,value:z}=K.target,Z=G==="crm"?m(z):z;h({...f,[G]:Z})},v=(K,G)=>{h({...f,[K]:G})},g=(K,G)=>{h({...f,documentos:{...f.documentos,[K]:G}})},w=b.useRef(null),y=b.useRef(null),N=b.useRef(null),C=(K,G)=>{h(z=>({...z,documentos:{...z.documentos,[K]:null}})),G!=null&&G.current&&(G.current.value="")},E=async K=>{var G,z,Z,Ae;if(K.preventDefault(),r(!0),!((G=f.documentos)!=null&&G.diplomaMedicina)){s({title:"Arquivo obrigatrio",description:"Anexe o Diploma de Medicina antes de enviar.",variant:"destructive"}),r(!1);return}try{const{solicitacaoService:ee}=await Qs(async()=>{const{solicitacaoService:R}=await Promise.resolve().then(()=>w6);return{solicitacaoService:R}},void 0);await ee.criarSolicitacaoMedico(f),a("pending"),localStorage.setItem(d,JSON.stringify({status:"pending",at:new Date().toISOString()})),o(R=>({...R,medicoStatus:"pending"})),s({title:"Solicitao enviada!",description:"Sua solicitao para se tornar mdico foi enviada para anlise."})}catch(ee){const R=(z=ee==null?void 0:ee.response)==null?void 0:z.status;if(R===404)a("pending"),localStorage.setItem(d,JSON.stringify({status:"pending",at:new Date().toISOString(),simulated:!0})),o(q=>({...q,medicoStatus:"pending"})),s({title:"Solicitao registrada (modo teste)",description:"Sem endpoint de backend disponvel. Status salvo localmente."});else if(R===405){const q=((Z=ee==null?void 0:ee.config)==null?void 0:Z.url)||"(desconhecido)";console.warn("Endpoint no aceita POST (405). URL usada:",q),s({title:"Mtodo no permitido (405)",description:`O backend no aceita POST neste endpoint: ${q}. Verifique a varivel de ambiente do endpoint de solicitaes do mdico ou me informe a rota correta de criao.`,variant:"destructive"})}else{const q=(Ae=ee==null?void 0:ee.response)==null?void 0:Ae.data;console.error("[MedicoRegistration] criarSolicitacaoMedico falhou:",ee,q),s({title:"Erro ao enviar",description:typeof q=="string"?q:"No foi possvel enviar a solicitao. Verifique os campos e tente novamente.",variant:"destructive"})}}finally{r(!1)}},U=()=>{switch(t){case"pending":return n.jsxs(lr,{variant:"outline",className:"badge-medical-warning",children:[n.jsx($r,{className:"mr-1 h-3 w-3"}),"Aguardando Aprovao"]});case"approved":return n.jsxs(lr,{variant:"outline",className:"badge-medical-success",children:[n.jsx(us,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return n.jsxs(lr,{variant:"outline",className:"badge-medical-error",children:[n.jsx(fs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}};return t==="approved"?n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(aa,{className:"h-5 w-5 text-green-600"}),n.jsx(Xe,{className:"text-green-700",children:"Parabns! Voc  um mdico aprovado"})]}),n.jsx(vr,{children:"Sua solicitao foi aprovada. Agora voc pode acessar todas as funcionalidades mdicas."})]}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:n.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Voc agora pode alternar entre os perfis de paciente e mdico usando o boto no menu lateral."})}),n.jsx(we,{className:"w-full",children:"Acessar rea Mdica"})]})})]}):t==="pending"?n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(aa,{className:"h-5 w-5"}),n.jsx(Xe,{children:"Solicitao de Cadastro Mdico"})]}),U()]}),n.jsx(vr,{children:"Sua solicitao est sendo analisada pela equipe administrativa."})]}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[n.jsx("strong",{children:"Status:"})," Aguardando aprovao",n.jsx("br",{}),n.jsx("strong",{children:"Enviado em:"})," ",new Date().toLocaleDateString(),n.jsx("br",{}),n.jsx("strong",{children:"Tempo estimado:"})," 2-5 dias teis"]})}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc receber um email quando sua solicitao for processada. Enquanto isso, voc pode continuar usando o sistema como paciente."})]})})]}):t==="rejected"?n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(aa,{className:"h-5 w-5"}),n.jsx(Xe,{children:"Solicitao de Cadastro Mdico"})]}),U()]}),n.jsx(vr,{children:"Sua solicitao foi rejeitada. Veja os motivos abaixo."})]}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[n.jsx("strong",{children:"Motivos da rejeio:"}),n.jsx("br",{})," Documentao incompleta",n.jsx("br",{})," CRM no encontrado no sistema do CFM",n.jsx("br",{})," Informaes inconsistentes"]})}),n.jsx(we,{variant:"outline",className:"w-full bg-transparent",onClick:()=>a("none"),children:"Enviar Nova Solicitao"})]})})]}):n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(aa,{className:"h-5 w-5"}),n.jsx(Xe,{children:"Cadastro como Mdico"})]}),n.jsx(vr,{children:"Preencha os dados abaixo para solicitar acesso s funcionalidades mdicas"})]}),n.jsx(Le,{children:n.jsxs("form",{onSubmit:E,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Dados Profissionais"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"crm",children:"CRM *"}),n.jsx(Oe,{id:"crm",name:"crm",placeholder:"Ex: CRM/SP 123456",value:f.crm,onChange:p,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"especialidade",children:"Especialidade *"}),n.jsxs(Gr,{onValueChange:K=>v("especialidade",K),children:[n.jsx(zr,{children:n.jsx(Yr,{placeholder:"Selecione sua especialidade"})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"clinica-geral",children:"Clnica Geral"}),n.jsx(nt,{value:"cardiologia",children:"Cardiologia"}),n.jsx(nt,{value:"dermatologia",children:"Dermatologia"}),n.jsx(nt,{value:"endocrinologia",children:"Endocrinologia"}),n.jsx(nt,{value:"ginecologia",children:"Ginecologia"}),n.jsx(nt,{value:"neurologia",children:"Neurologia"}),n.jsx(nt,{value:"ortopedia",children:"Ortopedia"}),n.jsx(nt,{value:"pediatria",children:"Pediatria"}),n.jsx(nt,{value:"psiquiatria",children:"Psiquiatria"}),n.jsx(nt,{value:"urologia",children:"Urologia"}),n.jsx(nt,{value:"outras",children:"Outras"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Formao Acadmica"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"instituicaoFormacao",children:"Instituio de Formao *"}),n.jsx(Oe,{id:"instituicaoFormacao",name:"instituicaoFormacao",placeholder:"Ex: USP, UNIFESP, etc.",value:f.instituicaoFormacao,onChange:p,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"anoFormacao",children:"Ano de Formao *"}),n.jsx(Oe,{id:"anoFormacao",name:"anoFormacao",type:"number",placeholder:"Ex: 2015",min:"1950",max:new Date().getFullYear(),value:f.anoFormacao,onChange:p,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"residencia",children:"Residncia Mdica"}),n.jsx(Oe,{id:"residencia",name:"residencia",placeholder:"Ex: Cardiologia",value:f.residencia,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"instituicaoResidencia",children:"Instituio da Residncia"}),n.jsx(Oe,{id:"instituicaoResidencia",name:"instituicaoResidencia",placeholder:"Ex: Hospital das Clnicas",value:f.instituicaoResidencia,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"anoResidencia",children:"Ano de Concluso da Residncia"}),n.jsx(Oe,{id:"anoResidencia",name:"anoResidencia",type:"number",placeholder:"Ex: 2018",min:"1950",max:new Date().getFullYear(),value:f.anoResidencia,onChange:p})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Experincia Profissional"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"experiencia",children:"Descreva sua experincia profissional *"}),n.jsx(la,{id:"experiencia",name:"experiencia",placeholder:"Descreva onde trabalhou, por quanto tempo, principais atividades...",className:"min-h-[100px]",value:f.experiencia,onChange:p,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"motivacao",children:"Por que deseja usar nossa plataforma? *"}),n.jsx(la,{id:"motivacao",name:"motivacao",placeholder:"Conte-nos sobre suas motivaes e como pretende usar a plataforma...",className:"min-h-[100px]",value:f.motivacao,onChange:p,required:!0})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Documentos Obrigatrios"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Diploma de Medicina *"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var K;return(K=w.current)==null?void 0:K.click()},onDragOver:K=>K.preventDefault(),onDrop:K=>{var z;K.preventDefault();const G=(z=K.dataTransfer.files)==null?void 0:z[0];G&&g("diplomaMedicina",G)},children:[n.jsx(jg,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:(k=f.documentos)!=null&&k.diplomaMedicina?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(L=f.documentos)!=null&&L.diplomaMedicina?f.documentos.diplomaMedicina.name:"PDF, JPG ou PNG at 5MB"}),n.jsx(Oe,{ref:w,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:K=>g("diplomaMedicina",K.target.files[0])}),((_=f.documentos)==null?void 0:_.diplomaMedicina)&&n.jsx("div",{className:"mt-2",children:n.jsx(we,{type:"button",variant:"ghost",size:"sm",onClick:()=>C("diplomaMedicina",w),children:"Remover arquivo"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Certificado de Residncia (se aplicvel)"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var K;return(K=y.current)==null?void 0:K.click()},onDragOver:K=>K.preventDefault(),onDrop:K=>{var z;K.preventDefault();const G=(z=K.dataTransfer.files)==null?void 0:z[0];G&&g("certificadoResidencia",G)},children:[n.jsx(jg,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:(Y=f.documentos)!=null&&Y.certificadoResidencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(I=f.documentos)!=null&&I.certificadoResidencia?f.documentos.certificadoResidencia.name:"PDF, JPG ou PNG at 5MB"}),n.jsx(Oe,{ref:y,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:K=>g("certificadoResidencia",K.target.files[0])}),(($=f.documentos)==null?void 0:$.certificadoResidencia)&&n.jsx("div",{className:"mt-2",children:n.jsx(we,{type:"button",variant:"ghost",size:"sm",onClick:()=>C("certificadoResidencia",y),children:"Remover arquivo"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Comprovante de Experincia"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var K;return(K=N.current)==null?void 0:K.click()},onDragOver:K=>K.preventDefault(),onDrop:K=>{var z;K.preventDefault();const G=(z=K.dataTransfer.files)==null?void 0:z[0];G&&g("comprovanteExperiencia",G)},children:[n.jsx(jg,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:(J=f.documentos)!=null&&J.comprovanteExperiencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(M=f.documentos)!=null&&M.comprovanteExperiencia?f.documentos.comprovanteExperiencia.name:"PDF, JPG ou PNG at 5MB"}),n.jsx(Oe,{ref:N,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:K=>g("comprovanteExperiencia",K.target.files[0])}),((re=f.documentos)==null?void 0:re.comprovanteExperiencia)&&n.jsx("div",{className:"mt-2",children:n.jsx(we,{type:"button",variant:"ghost",size:"sm",onClick:()=>C("comprovanteExperiencia",N),children:"Remover arquivo"})})]})]})]})]}),n.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[n.jsx("strong",{children:"Importante:"})," Sua solicitao ser analisada por nossa equipe administrativa. O processo pode levar de 2 a 5 dias teis. Voc receber um email com o resultado da anlise."]})}),n.jsx(we,{type:"submit",className:"w-full",disabled:e,children:e?"Enviando solicitao...":"Enviar Solicitao"})]})})]})}function RX({medicoId:e,medicoInfo:r={}}){const{toast:t}=Ka(),a=b.useRef(null),[s,i]=b.useState(Ls),[o,l]=b.useState(null),[A,d]=b.useState(null),[f,h]=b.useState(!1),[m,p]=b.useState(!0);b.useEffect(()=>{if(!e)return;(async()=>{try{let k=null,L=null;try{k=pm(e),L=$f(e)}catch(_){console.warn("Erro ao carregar do backend, usando localStorage:",_),k=pm(e),L=$f(e)}k&&i(k),L&&d(L.data)}catch(k){console.error("Erro ao carregar configurao:",k)}finally{p(!1)}})()},[e]);const v=(D,k)=>{i(L=>{const _={...L},Y=D.split(".");let I=_;for(let $=0;$<Y.length-1;$++)I[Y[$]]||(I[Y[$]]={}),I=I[Y[$]];return I[Y[Y.length-1]]=k,_})},g=({template:D})=>{var J,M,re,K,G,z;const k=D.type||ec.CLASSIC,L=((J=D==null?void 0:D.branding)==null?void 0:J.primaryColor)||((re=(M=D==null?void 0:D.content)==null?void 0:M.colors)==null?void 0:re.accent)||"#3b82f6",_=((K=D==null?void 0:D.header)==null?void 0:K.backgroundColor)||"#ffffff",Y=((G=D==null?void 0:D.header)==null?void 0:G.showLogo)!==!1,I=((z=D==null?void 0:D.header)==null?void 0:z.borderBottom)!==!1;if(D!=null&&D.preview)return n.jsx("div",{className:"aspect-[3/4] rounded-lg border overflow-hidden bg-white",children:n.jsx("img",{src:D.preview,alt:`Prvia ${D.name}`,className:"w-full h-full object-cover"})});const $=n.jsxs("div",{className:"aspect-[3/4] rounded-lg border bg-white overflow-hidden",children:[n.jsxs("div",{className:"h-10 flex items-center justify-between px-3",style:{backgroundColor:_},children:[n.jsxs("div",{className:"flex items-center gap-2",children:[Y&&n.jsx("div",{className:"w-6 h-6 rounded bg-gray-300"}),n.jsx("div",{className:"h-3 w-16 bg-gray-400/70 rounded"})]}),n.jsx("div",{className:"h-3 w-10 bg-gray-300 rounded"})]}),I&&n.jsx("div",{className:"h-[1px] w-full",style:{backgroundColor:"#e5e7eb"}}),n.jsxs("div",{className:"p-3 space-y-2",children:[n.jsx("div",{className:"h-3 w-28 bg-gray-300 rounded"}),n.jsx("div",{className:"h-2 w-40 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-36 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-44 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-24 bg-gray-200 rounded"})]}),n.jsx("div",{className:"mt-auto p-3",children:n.jsx("div",{className:"h-2 w-32 rounded",style:{backgroundColor:L}})})]});return k===ec.MODERN?n.jsxs("div",{className:"aspect-[3/4] rounded-lg border overflow-hidden",children:[n.jsx("div",{className:"h-12 flex items-center justify-center",style:{backgroundColor:_},children:Y&&n.jsx("div",{className:"w-7 h-7 rounded-full",style:{backgroundColor:L}})}),n.jsxs("div",{className:"p-3 space-y-2",children:[n.jsx("div",{className:"h-3 w-28 bg-gray-300 rounded"}),n.jsx("div",{className:"h-2 w-40 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-36 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-44 bg-gray-200 rounded"})]}),n.jsx("div",{className:"mt-auto p-3",children:n.jsx("div",{className:"h-1 w-full",style:{backgroundColor:L}})})]}):k===ec.MINIMAL?n.jsx("div",{className:"aspect-[3/4] rounded-lg border overflow-hidden",children:n.jsxs("div",{className:"p-3 space-y-2",children:[n.jsx("div",{className:"h-3 w-24 bg-gray-300 rounded"}),n.jsx("div",{className:"h-2 w-40 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-36 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-44 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-28 bg-gray-200 rounded"})]})}):$},w=D=>{const k=QN[D];k&&(i(L=>S$(k,{branding:{...k.branding,clinicName:r.nome||L.branding.clinicName,clinicAddress:r.endereco||L.branding.clinicAddress,clinicPhone:r.telefone||L.branding.clinicPhone}})),t({title:"Template selecionado",description:`Template "${k.name}" aplicado com sucesso.`}))},y=D=>{var _;const k=(_=D.target.files)==null?void 0:_[0];if(!k)return;if(!k.type.startsWith("image/")){t({title:"Arquivo invlido",description:"Por favor, selecione uma imagem vlida.",variant:"destructive"});return}if(k.size>2*1024*1024){t({title:"Arquivo muito grande",description:"O logo deve ter no mximo 2MB.",variant:"destructive"});return}l(k);const L=new FileReader;L.onload=Y=>{d(Y.target.result)},L.readAsDataURL(k)},N=()=>{l(null),d(null),e&&MN(e),v("header.showLogo",!1),t({title:"Logo removido",description:"O logo foi removido do template."})},C=async()=>{if(!e){t({title:"Erro",description:"ID do mdico no encontrado.",variant:"destructive"});return}h(!0);try{const D=C$(s);if(!D.isValid){t({title:"Configurao invlida",description:D.errors.join(", "),variant:"destructive"});return}let k=null;if(o){const _=new FileReader;k=await new Promise(Y=>{_.onload=I=>Y(I.target.result),_.readAsDataURL(o)}),v("header.showLogo",!0)}else A&&(k=A);if(await Xt.salvarTemplateConfig(s,k))RN(e,s),k&&x0(e,{data:k,type:(o==null?void 0:o.type)||"image/png"}),t({title:"Configurao salva",description:"Suas configuraes de template foram salvas com sucesso no servidor."});else{const _=RN(e,s);if(k&&x0(e,{data:k,type:(o==null?void 0:o.type)||"image/png"}),_)t({title:"Configurao salva localmente",description:"Suas configuraes foram salvas localmente (servidor indisponvel).",variant:"default"});else throw new Error("Falha ao salvar configurao")}}catch(D){console.error("Erro ao salvar:",D),t({title:"Erro ao salvar",description:"No foi possvel salvar as configuraes.",variant:"destructive"})}finally{h(!1)}},E=()=>{i(Ls),l(null),d(null),e&&MN(e),t({title:"Configurao resetada",description:"As configuraes foram restauradas para o padro."})},U=()=>{const D=_$(s);console.log("Preview config:",D),t({title:"Preview gerado",description:"Verifique o console para ver a configurao de preview."})};return m?n.jsx(De,{children:n.jsx(Le,{className:"p-6",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):n.jsx("div",{className:"space-y-6",children:n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(fn,{className:"h-5 w-5"}),"Configurao de Templates de PDF"]}),n.jsx(vr,{children:"Personalize o layout e aparncia das suas receitas mdicas em PDF"})]}),n.jsxs(Le,{children:[n.jsxs(zi,{defaultValue:"templates",className:"space-y-6",children:[n.jsxs(qi,{className:"grid w-full grid-cols-4",children:[n.jsxs(Pr,{value:"templates",className:"flex items-center gap-2",children:[n.jsx(q6,{className:"h-4 w-4"}),"Templates"]}),n.jsxs(Pr,{value:"branding",className:"flex items-center gap-2",children:[n.jsx(bj,{className:"h-4 w-4"}),"Identidade"]}),n.jsxs(Pr,{value:"layout",className:"flex items-center gap-2",children:[n.jsx(cm,{className:"h-4 w-4"}),"Layout"]}),n.jsxs(Pr,{value:"colors",className:"flex items-center gap-2",children:[n.jsx(Z5,{className:"h-4 w-4"}),"Cores"]})]}),n.jsx(Hr,{value:"templates",className:"space-y-4",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(QN).map(([D,k])=>n.jsx(De,{className:`cursor-pointer transition-all hover:shadow-md ${s.type===D?"ring-2 ring-primary":""}`,onClick:()=>w(D),children:n.jsxs(Le,{className:"p-4",children:[n.jsx("div",{className:"mb-3",children:n.jsx(g,{template:k})}),n.jsx("h3",{className:"font-semibold",children:k.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:k.description}),s.type===D&&n.jsx(lr,{className:"mt-2",children:"Selecionado"})]})},D))})}),n.jsx(Hr,{value:"branding",className:"space-y-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Fe,{className:"text-base font-semibold",children:"Logo da Clnica"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Adicione o logo da sua clnica que aparecer no cabealho das receitas"}),n.jsxs("div",{className:"flex items-center gap-4",children:[A?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:A,alt:"Logo preview",className:"w-20 h-20 object-contain border rounded-lg"}),n.jsx(we,{size:"sm",variant:"destructive",className:"absolute -top-2 -right-2 h-6 w-6 p-0",onClick:N,children:""})]}):n.jsx("div",{className:"w-20 h-20 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:n.jsx(bj,{className:"h-8 w-8 text-gray-400"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(we,{variant:"outline",onClick:()=>{var D;return(D=a.current)==null?void 0:D.click()},className:"flex items-center gap-2",children:[n.jsx(jg,{className:"h-4 w-4"}),A?"Alterar Logo":"Adicionar Logo"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG at 2MB"})]})]}),n.jsx("input",{ref:a,type:"file",accept:"image/*",onChange:y,className:"hidden"})]}),n.jsx(hs,{}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"clinicName",children:"Nome da Clnica"}),n.jsx(Oe,{id:"clinicName",value:s.branding.clinicName,onChange:D=>v("branding.clinicName",D.target.value),placeholder:"Nome da sua clnica"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"clinicPhone",children:"Telefone"}),n.jsx(Oe,{id:"clinicPhone",value:s.branding.clinicPhone,onChange:D=>v("branding.clinicPhone",D.target.value),placeholder:"(11) 99999-9999"})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(Fe,{htmlFor:"clinicAddress",children:"Endereo"}),n.jsx(la,{id:"clinicAddress",value:s.branding.clinicAddress,onChange:D=>v("branding.clinicAddress",D.target.value),placeholder:"Endereo completo da clnica",rows:2})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"clinicEmail",children:"E-mail"}),n.jsx(Oe,{id:"clinicEmail",type:"email",value:s.branding.clinicEmail,onChange:D=>v("branding.clinicEmail",D.target.value),placeholder:"contato@clinica.com"})]})]})]})}),n.jsxs(Hr,{value:"layout",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Configuraes da Pgina"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Tamanho da Pgina"}),n.jsxs(Gr,{value:s.layout.pageSize,onValueChange:D=>v("layout.pageSize",D),children:[n.jsx(zr,{children:n.jsx(Yr,{})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"A4",children:"A4"}),n.jsx(nt,{value:"Letter",children:"Letter"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Orientao"}),n.jsxs(Gr,{value:s.layout.orientation,onValueChange:D=>v("layout.orientation",D),children:[n.jsx(zr,{children:n.jsx(Yr,{})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"portrait",children:"Retrato"}),n.jsx(nt,{value:"landscape",children:"Paisagem"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Margens (px)"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Superior"}),n.jsx(Oe,{type:"number",value:s.layout.margins.top,onChange:D=>v("layout.margins.top",parseInt(D.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Inferior"}),n.jsx(Oe,{type:"number",value:s.layout.margins.bottom,onChange:D=>v("layout.margins.bottom",parseInt(D.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Esquerda"}),n.jsx(Oe,{type:"number",value:s.layout.margins.left,onChange:D=>v("layout.margins.left",parseInt(D.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Direita"}),n.jsx(Oe,{type:"number",value:s.layout.margins.right,onChange:D=>v("layout.margins.right",parseInt(D.target.value)||0)})]})]})]})]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Tipografia"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajuste o tamanho das letras usadas em ttulos, subttulos e textos."}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Ttulo"}),n.jsx(Oe,{type:"number",min:10,max:32,value:s.content.fontSize.title,onChange:D=>v("content.fontSize.title",parseInt(D.target.value)||10)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Subttulo"}),n.jsx(Oe,{type:"number",min:9,max:28,value:s.content.fontSize.subtitle,onChange:D=>v("content.fontSize.subtitle",parseInt(D.target.value)||9)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Corpo"}),n.jsx(Oe,{type:"number",min:8,max:24,value:s.content.fontSize.body,onChange:D=>v("content.fontSize.body",parseInt(D.target.value)||8)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Pequeno"}),n.jsx(Oe,{type:"number",min:8,max:20,value:s.content.fontSize.small,onChange:D=>v("content.fontSize.small",parseInt(D.target.value)||8)})]})]})]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Cabealho e Rodap"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Fe,{children:"Mostrar Logo"}),n.jsx(au,{checked:s.header.showLogo,onCheckedChange:D=>v("header.showLogo",D)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Fe,{children:"Mostrar Informaes do Mdico"}),n.jsx(au,{checked:s.header.showDoctorInfo,onCheckedChange:D=>v("header.showDoctorInfo",D)})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Fe,{children:"Mostrar Assinatura"}),n.jsx(au,{checked:s.footer.showSignature,onCheckedChange:D=>v("footer.showSignature",D)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Fe,{children:"Mostrar Data"}),n.jsx(au,{checked:s.footer.showDate,onCheckedChange:D=>v("footer.showDate",D)})]})]})]})]})]}),n.jsx(Hr,{value:"colors",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Cores do Texto"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Fe,{className:"w-20",children:"Primria"}),n.jsx(Oe,{type:"color",value:s.content.colors.primary,onChange:D=>v("content.colors.primary",D.target.value),className:"w-16 h-10"}),n.jsx(Oe,{value:s.content.colors.primary,onChange:D=>v("content.colors.primary",D.target.value),className:"flex-1"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Fe,{className:"w-20",children:"Secundria"}),n.jsx(Oe,{type:"color",value:s.content.colors.secondary,onChange:D=>v("content.colors.secondary",D.target.value),className:"w-16 h-10"}),n.jsx(Oe,{value:s.content.colors.secondary,onChange:D=>v("content.colors.secondary",D.target.value),className:"flex-1"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Fe,{className:"w-20",children:"Destaque"}),n.jsx(Oe,{type:"color",value:s.content.colors.accent,onChange:D=>v("content.colors.accent",D.target.value),className:"w-16 h-10"}),n.jsx(Oe,{value:s.content.colors.accent,onChange:D=>v("content.colors.accent",D.target.value),className:"flex-1"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Tamanhos de Fonte (pt)"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Fe,{className:"w-20",children:"Ttulo"}),n.jsx(Oe,{type:"number",min:"10",max:"24",value:s.content.fontSize.title,onChange:D=>v("content.fontSize.title",parseInt(D.target.value)||16),className:"w-20"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Fe,{className:"w-20",children:"Subttulo"}),n.jsx(Oe,{type:"number",min:"8",max:"20",value:s.content.fontSize.subtitle,onChange:D=>v("content.fontSize.subtitle",parseInt(D.target.value)||14),className:"w-20"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Fe,{className:"w-20",children:"Corpo"}),n.jsx(Oe,{type:"number",min:"8",max:"16",value:s.content.fontSize.body,onChange:D=>v("content.fontSize.body",parseInt(D.target.value)||12),className:"w-20"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Fe,{className:"w-20",children:"Pequeno"}),n.jsx(Oe,{type:"number",min:"6",max:"12",value:s.content.fontSize.small,onChange:D=>v("content.fontSize.small",parseInt(D.target.value)||10),className:"w-20"})]})]})]})]})})]}),n.jsxs("div",{className:"flex items-center justify-between pt-6 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(we,{variant:"outline",onClick:U,className:"flex items-center gap-2",children:[n.jsx(Ci,{className:"h-4 w-4"}),"Preview"]}),n.jsxs(we,{variant:"outline",onClick:E,className:"flex items-center gap-2",children:[n.jsx(nI,{className:"h-4 w-4"}),"Resetar"]})]}),n.jsxs(we,{onClick:C,disabled:f,className:"flex items-center gap-2",children:[n.jsx(D1,{className:"h-4 w-4"}),f?"Salvando...":"Salvar Configurao"]})]})]})]})})}function Gw(){const{activeRole:e}=lc(),r=as(),t=r.pathname.startsWith("/paciente/"),a=r.pathname.startsWith("/medico/"),{toast:s}=Ka(),[i,o]=b.useState(!0),[l,A]=b.useState(!1),[d,f]=b.useState(null),[h,m]=b.useState(null),[p,v]=b.useState(null),[g,w]=b.useState({first_name:"",last_name:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:""}),[y,N]=b.useState({atual:"",nova:"",confirmar:""}),[C,E]=b.useState(!1),[U,D]=b.useState({email:!0,lembretes:!0,exames:!0,push:!1}),[k,L]=b.useState(!1),[_,Y]=b.useState({tipo_sanguineo:"",alergias:"",condicoes_cronicas:"",contato_emergencia_nome:"",contato_emergencia_telefone:"",plano_saude:"",numero_carteirinha:"",peso:"",altura:""}),[I,$]=b.useState(!1),J=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],[M,re]=b.useState(!1),[K,G]=b.useState(null),[z,Z]=b.useState(!1),[Ae,ee]=b.useState(!1),{ephemeralCertFile:R,setEphemeralCertFile:q,ephemeralCertPassword:te,setEphemeralCertPassword:F}=lc(),[X,H]=b.useState(R||null),[V,ae]=b.useState(te||"");b.useEffect(()=>{q(X)},[X]),b.useEffect(()=>{F(V)},[V]);const[fe,ve]=b.useState(null),[Be,ke]=b.useState("Assinatura de documento mdico"),[xe,ie]=b.useState("Hospital"),[lt,mt]=b.useState(!1),at=async()=>{var We,Me;if(!fe){s.error("Selecione um PDF para assinar.");return}if(!X){s.error("Selecione um certificado (.pfx/.p12) para assinar o PDF.");return}if(!(V&&V.trim())){s.error("Informe a senha do certificado (.pfx/.p12).");return}const Ze=new FormData;Ze.append("file",fe),Ze.append("pfx",X),Ze.append("certificado",X),Ze.append("pkcs12",X),Ze.append("pfx_password",V.trim()),Ze.append("senha",V.trim()),Ze.append("password",V.trim()),Ze.append("no_persist","true"),Ze.append("ephemeral","true"),Be&&Ze.append("reason",Be),xe&&Ze.append("location",xe);try{mt(!0);const{filename:Fr,blob:yt}=await Xt.signDocumento(Ze,{reason:Be,location:xe}),rr=window.URL.createObjectURL(yt),ca=document.createElement("a");ca.href=rr,ca.download=Fr||"documento_assinado.pdf",document.body.appendChild(ca),ca.click(),ca.remove(),window.URL.revokeObjectURL(rr),s.success("Documento assinado com sucesso.")}catch(Fr){const yt=((Me=(We=Fr==null?void 0:Fr.response)==null?void 0:We.data)==null?void 0:Me.message)||(Fr==null?void 0:Fr.message)||"Falha ao assinar o documento.";s.error(yt)}finally{mt(!1)}};b.useEffect(()=>{let Ze=!0;return(async()=>{var We;try{o(!0);const[Me,Fr]=await Promise.allSettled([ha.getPerfil(),ha.getPacienteDoUsuario()]);if(!Ze)return;const yt=Me.status==="fulfilled"?Me.value:null,rr=Fr.status==="fulfilled"?Fr.value:null;m(yt),v(rr),w(ca=>({...ca,first_name:(yt==null?void 0:yt.first_name)||"",last_name:(yt==null?void 0:yt.last_name)||"",email:(yt==null?void 0:yt.email)||"",cpf:(yt==null?void 0:yt.cpf)||"",telefone:(yt==null?void 0:yt.telefone)||"",data_nascimento:(yt==null?void 0:yt.data_nascimento)||"",endereco:typeof(yt==null?void 0:yt.endereco)=="string"?yt.endereco:yt!=null&&yt.endereco?`${yt.endereco.logradouro||""} ${yt.endereco.numero||""} ${yt.endereco.bairro||""} ${yt.endereco.cidade||""} ${yt.endereco.estado||""}`.trim():""})),Y({tipo_sanguineo:(rr==null?void 0:rr.tipo_sanguineo)||"",alergias:(rr==null?void 0:rr.alergias)||"",condicoes_cronicas:(rr==null?void 0:rr.condicoes_cronicas)||"",contato_emergencia_nome:(rr==null?void 0:rr.contato_emergencia_nome)||"",contato_emergencia_telefone:(rr==null?void 0:rr.contato_emergencia_telefone)||"",plano_saude:(rr==null?void 0:rr.plano_saude)||"",numero_carteirinha:(rr==null?void 0:rr.numero_carteirinha)||"",peso:(rr==null?void 0:rr.peso)??"",altura:(rr==null?void 0:rr.altura)??""});try{const ca=localStorage.getItem("notification_prefs");if(ca){const er=JSON.parse(ca);D(Nn=>({...Nn,...er}))}}catch{}}catch(Me){const Fr=(We=Me==null?void 0:Me.response)==null?void 0:We.status;f(Fr===401?"Sesso invlida. Faa login novamente.":"No foi possvel carregar os dados.")}finally{Ze&&o(!1)}})(),()=>{Ze=!1}},[]),b.useEffect(()=>{a&&Pt()},[a]);const Ee=Ze=>{const{name:We,value:Me}=Ze.target;w(Fr=>({...Fr,[We]:Me}))},At=Ze=>{const{name:We,value:Me}=Ze.target;Y(Fr=>({...Fr,[We]:Me}))};async function st(){var Ze;A(!0);try{const We={first_name:g.first_name||"",last_name:g.last_name||"",telefone:g.telefone||"",data_nascimento:g.data_nascimento||"",endereco:g.endereco||""},Me=await ha.atualizarPerfil(We);m(Me);try{await Vr.refreshCurrentUser()}catch{}s({title:"Perfil atualizado",description:"Suas informaes pessoais foram salvas."})}catch(We){const Me=(Ze=We==null?void 0:We.response)!=null&&Ze.data?JSON.stringify(We.response.data):"No foi possvel salvar o perfil.";s({title:"Erro ao salvar",description:Me,variant:"destructive"})}finally{A(!1)}}async function Mt(){var Ze;$(!0);try{const We=await ha.atualizarPaciente(_);v(Me=>({...Me||{},...We||{}})),s({title:"Informaes do paciente salvas",description:"Dados atualizados com sucesso."})}catch(We){const Me=(Ze=We==null?void 0:We.response)!=null&&Ze.data?JSON.stringify(We.response.data):"No foi possvel salvar os dados do paciente.";s({title:"Erro ao salvar",description:Me,variant:"destructive"})}finally{$(!1)}}const kt=async()=>{var Ze,We;if(!y.nova||y.nova.length<6){s({title:"Senha invlida",description:"A nova senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}if(y.nova!==y.confirmar){s({title:"Confirmao incorreta",description:"A confirmao da nova senha no confere.",variant:"destructive"});return}E(!0);try{await ye.post("/auth/change-password/",{old_password:y.atual,new_password:y.nova}),N({atual:"",nova:"",confirmar:""}),s({title:"Senha alterada",description:"Sua senha foi atualizada com sucesso."})}catch(Me){const yt=((Ze=Me==null?void 0:Me.response)==null?void 0:Ze.status)===404?"Endpoint de alterao de senha no encontrado. Verifique o backend.":(We=Me==null?void 0:Me.response)!=null&&We.data?JSON.stringify(Me.response.data):"No foi possvel alterar a senha.";s({title:"Erro ao alterar senha",description:yt,variant:"destructive"})}finally{E(!1)}},Nt=Ze=>{D(We=>({...We,[Ze]:!We[Ze]}))},ut=()=>{L(!0);try{localStorage.setItem("notification_prefs",JSON.stringify(U)),s({title:"Preferncias salvas",description:"Suas preferncias de notificao foram atualizadas."})}finally{L(!1)}};async function Pt(){Z(!0);try{const Ze=await Xt.getCertificadoInfo();G(Ze||null)}catch{G(null)}finally{Z(!1)}}async function Dt(){var Me,Fr;if(!X){s({title:"Selecione um arquivo",description:"Escolha um arquivo .pfx, .p12, .crt, .cer ou .pem.",variant:"destructive"});return}const Ze=15*1024*1024;if(X.size>Ze){s({title:"Arquivo muito grande",description:"O limite  de 15MB.",variant:"destructive"});return}const We=new FormData;We.append("file",X),We.append("certificado",X),We.append("arquivo",X),We.append("pfx",X),V&&(We.append("password",V),We.append("senha",V),We.append("passphrase",V),We.append("pfx_password",V)),We.append("no_persist","true"),We.append("ephemeral","true"),We.append("save_public_only","true"),ee(!0);try{const yt=await Xt.uploadCertificado(We);G(yt||null);const rr=yt!=null&&yt.public_cert_saved?"Certificado pblico extrado e salvo para validaes. O PFX no foi armazenado.":"Certificado processado. O PFX no foi armazenado.";s({title:"Processamento concludo",description:rr}),H(null)}catch(yt){const rr=(Me=yt==null?void 0:yt.response)==null?void 0:Me.status,ca=(Fr=yt==null?void 0:yt.response)==null?void 0:Fr.data;s({title:"Falha no processamento",description:rr===404?"Endpoint de upload no encontrado no backend. Configure a varivel VITE_MEDICO_CERTIFICADO_ENDPOINT.":typeof ca=="string"?ca:"No foi possvel processar o certificado.",variant:"destructive"})}finally{ee(!1),ae("")}}const Et=(()=>{const Ze=(K==null?void 0:K.valid_to)||(K==null?void 0:K.validade_fim)||(K==null?void 0:K.validade)||(K==null?void 0:K.valid_to_date);if(!Ze)return null;const We=new Date(Ze);return Math.ceil((We-new Date)/(1e3*60*60*24))})(),vt=!!(K&&(K.exists??K.id??K.valid_to??K.subject)),[bt,St]=b.useState({nome:"",crm:"",especialidade:"",telefone:"",endereco:""}),[Tr,jr]=b.useState(!1),[Qt,gr]=b.useState([]),[Wr,jt]=b.useState(!1),[xr,Ar]=b.useState("");b.useEffect(()=>{a&&(async()=>{var Ze,We,Me,Fr,yt,rr,ca,er,Nn,gs,hn,ns;try{const ft=await Xt.getPerfil();if(!ft)return;const Va=(ft==null?void 0:ft.nome)||((Ze=ft==null?void 0:ft.user)!=null&&Ze.first_name||(We=ft==null?void 0:ft.user)!=null&&We.last_name?`${((Me=ft==null?void 0:ft.user)==null?void 0:Me.first_name)||""} ${((Fr=ft==null?void 0:ft.user)==null?void 0:Fr.last_name)||""}`.trim():((yt=ft==null?void 0:ft.user)==null?void 0:yt.nome)||((rr=ft==null?void 0:ft.user)==null?void 0:rr.name)||"")||"",Ya=(ft==null?void 0:ft.crm)||(ft==null?void 0:ft.crm_numero)||(ft==null?void 0:ft.crm_registro)||((ca=ft==null?void 0:ft.user)==null?void 0:ca.crm)||"";let Ns="";typeof(ft==null?void 0:ft.especialidade)=="string"?Ns=ft.especialidade:ft!=null&&ft.especialidade&&typeof ft.especialidade=="object"&&(Ns=ft.especialidade.nome||ft.especialidade.label||ft.especialidade.titulo||"");const fi=(ft==null?void 0:ft.telefone)||(ft==null?void 0:ft.celular)||((er=ft==null?void 0:ft.user)==null?void 0:er.phone)||((Nn=ft==null?void 0:ft.user)==null?void 0:Nn.telefone)||((gs=ft==null?void 0:ft.contato)==null?void 0:gs.telefone)||"";let Xa=(ft==null?void 0:ft.endereco)||((hn=ft==null?void 0:ft.user)==null?void 0:hn.endereco)||((ns=ft==null?void 0:ft.clinica)==null?void 0:ns.endereco)||"",$e="";typeof Xa=="string"?$e=Xa:Xa&&typeof Xa=="object"&&($e=`${Xa.logradouro||Xa.rua||""} ${Xa.numero||""} ${Xa.bairro||""} ${Xa.cidade||""} ${Xa.estado||""}`.trim()),St({nome:Va,crm:Ya,especialidade:Ns,telefone:fi,endereco:$e});try{jt(!0);const et=await(await Qs(async()=>{const{secretariaService:Ft}=await Promise.resolve().then(()=>sm);return{secretariaService:Ft}},void 0)).secretariaService.listarSecretarias({limit:100});gr(Array.isArray(et)?et:[])}catch{}finally{jt(!1)}}catch{}})()},[a]);const Xr=Ze=>{const{name:We,value:Me}=Ze.target;St(Fr=>({...Fr,[We]:Me}))},ga=async()=>{var Ze;jr(!0);try{const We={telefone:bt.telefone||"",endereco:bt.endereco||"",especialidade:bt.especialidade||""},Me=await Xt.updatePerfilMedico(We);if(Me){const Fr=Me.telefone||Me.celular||bt.telefone;let yt=Me.endereco||bt.endereco;yt&&typeof yt=="object"&&(yt=`${yt.logradouro||yt.rua||""} ${yt.numero||""} ${yt.bairro||""} ${yt.cidade||""} ${yt.estado||""}`.trim());let rr=bt.especialidade;typeof(Me==null?void 0:Me.especialidade)=="string"?rr=Me.especialidade:Me!=null&&Me.especialidade&&typeof Me.especialidade=="object"&&(rr=Me.especialidade.nome||Me.especialidade.label||Me.especialidade.titulo||rr),St(ca=>({...ca,telefone:Fr,endereco:yt,especialidade:rr}))}s({title:"Dados do mdico atualizados",description:"Telefone, endereo e especialidade foram salvos."})}catch(We){const Me=(Ze=We==null?void 0:We.response)!=null&&Ze.data?JSON.stringify(We.response.data):"No foi possvel salvar os dados do mdico.";s({title:"Erro ao salvar",description:Me,variant:"destructive"})}finally{jr(!1)}};return n.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configuraes"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas informaes pessoais e preferncias da conta"})]}),t&&n.jsx(Wi,{tabs:J,basePath:"/paciente"}),!t&&e==="secretaria"&&!(p!=null&&p.id)&&n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsx(Xe,{children:"Criar perfil de paciente"}),n.jsx(vr,{children:"Para acessar as funcionalidades de paciente com esta conta, crie seu perfil de paciente."})]}),n.jsxs(Le,{className:"flex items-center justify-between gap-4",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum perfil de paciente encontrado para esta conta."}),n.jsx(we,{onClick:async()=>{var Ze;re(!0);try{const We=await ha.garantirPacienteDoUsuario({});v(We),s({title:"Perfil de paciente criado",description:"Voc j pode acessar a rea do paciente."})}catch(We){const Me=(Ze=We==null?void 0:We.response)!=null&&Ze.data?JSON.stringify(We.response.data):"No foi possvel criar o perfil.";s({title:"Erro",description:Me,variant:"destructive"})}finally{re(!1)}},disabled:M,children:M?"Criando...":"Criar meu perfil de paciente"})]})]}),n.jsxs(zi,{defaultValue:"perfil",className:"space-y-6",children:[n.jsxs(qi,{className:`grid w-full ${a?"grid-cols-6":"grid-cols-3"}`,children:[n.jsxs(Pr,{value:"perfil",className:"flex items-center gap-2",children:[n.jsx(On,{className:"h-4 w-4"}),"Perfil"]}),n.jsxs(Pr,{value:"seguranca",className:"flex items-center gap-2",children:[n.jsx(F1,{className:"h-4 w-4"}),"Segurana"]}),n.jsxs(Pr,{value:"notificacoes",className:"flex items-center gap-2",children:[n.jsx(lm,{className:"h-4 w-4"}),"Notificaes"]}),a&&n.jsxs(n.Fragment,{children:[n.jsxs(Pr,{value:"certificado",className:"flex items-center gap-2",children:[n.jsx($s,{className:"h-4 w-4"}),"Certificado Digital"]}),n.jsxs(Pr,{value:"dados_medico",className:"flex items-center gap-2",children:[n.jsx(aa,{className:"h-4 w-4"}),"Dados do Mdico"]}),n.jsxs(Pr,{value:"templates_pdf",className:"flex items-center gap-2",children:[n.jsx(fn,{className:"h-4 w-4"}),"Templates PDF"]})]})]}),n.jsx(Hr,{value:"perfil",children:n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsx(Xe,{children:"Informaes Pessoais"}),n.jsx(vr,{children:"Atualize suas informaes pessoais e de contato"})]}),n.jsx(Le,{className:"space-y-6",children:i?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):d?n.jsx("p",{className:"text-destructive",children:d}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"first_name",children:"Nome"}),n.jsx(Oe,{id:"first_name",name:"first_name",value:g.first_name,onChange:Ee})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"last_name",children:"Sobrenome"}),n.jsx(Oe,{id:"last_name",name:"last_name",value:g.last_name,onChange:Ee})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"email",children:"Email"}),n.jsx(Oe,{id:"email",name:"email",value:g.email,disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"cpf",children:"CPF"}),n.jsx(Oe,{id:"cpf",name:"cpf",value:g.cpf,disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"telefone",children:"Telefone"}),n.jsx(Oe,{id:"telefone",name:"telefone",value:g.telefone,onChange:Ee})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"data_nascimento",children:"Data de Nascimento"}),n.jsx(ms,{id:"data_nascimento",name:"data_nascimento",value:g.data_nascimento||"",onChange:Ze=>Ee({target:{name:"data_nascimento",value:Ze}}),maxDate:new Date})]})]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"endereco",children:"Endereo"}),n.jsx(la,{id:"endereco",name:"endereco",placeholder:"Rua, nmero, bairro, cidade, estado",value:g.endereco,onChange:Ee})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(we,{onClick:st,disabled:l,children:l?"Salvando...":"Salvar Alteraes"})}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"Mais Informaes do Paciente"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Esses dados ajudam mdicos a entender melhor seu histrico."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"tipo_sanguineo",children:"Tipo Sanguneo"}),n.jsx(Oe,{id:"tipo_sanguineo",name:"tipo_sanguineo",value:_.tipo_sanguineo,onChange:At,placeholder:"Ex.: O+, A-, B+, AB+"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"plano_saude",children:"Plano de Sade"}),n.jsx(Oe,{id:"plano_saude",name:"plano_saude",value:_.plano_saude,onChange:At})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"numero_carteirinha",children:"Nmero da Carteirinha"}),n.jsx(Oe,{id:"numero_carteirinha",name:"numero_carteirinha",value:_.numero_carteirinha,onChange:At})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"contato_emergencia_nome",children:"Contato de Emergncia (Nome)"}),n.jsx(Oe,{id:"contato_emergencia_nome",name:"contato_emergencia_nome",value:_.contato_emergencia_nome,onChange:At})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"contato_emergencia_telefone",children:"Contato de Emergncia (Telefone)"}),n.jsx(Oe,{id:"contato_emergencia_telefone",name:"contato_emergencia_telefone",value:_.contato_emergencia_telefone,onChange:At})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"peso",children:"Peso (kg)"}),n.jsx(Oe,{id:"peso",name:"peso",type:"number",step:"0.1",value:_.peso,onChange:At})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"altura",children:"Altura (cm)"}),n.jsx(Oe,{id:"altura",name:"altura",type:"number",step:"0.1",value:_.altura,onChange:At})]}),n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsx(Fe,{htmlFor:"alergias",children:"Alergias"}),n.jsx(la,{id:"alergias",name:"alergias",rows:3,value:_.alergias,onChange:At,placeholder:"Ex.: poeira, frutos do mar"})]}),n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsx(Fe,{htmlFor:"condicoes_cronicas",children:"Condies Crnicas"}),n.jsx(la,{id:"condicoes_cronicas",name:"condicoes_cronicas",rows:3,value:_.condicoes_cronicas,onChange:At,placeholder:"Ex.: Hipertenso, Diabetes, Asma"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(we,{onClick:Mt,disabled:I,variant:"outline",children:I?"Salvando...":"Salvar Informaes do Paciente"})})]})]})})]})}),n.jsx(Hr,{value:"seguranca",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsx(Xe,{children:"Alterar Senha"}),n.jsx(vr,{children:"Mantenha sua conta segura com uma senha forte"})]}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"senha-atual",children:"Senha Atual"}),n.jsx(Oe,{id:"senha-atual",type:"password",value:y.atual,onChange:Ze=>N(We=>({...We,atual:Ze.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"nova-senha",children:"Nova Senha"}),n.jsx(Oe,{id:"nova-senha",type:"password",value:y.nova,onChange:Ze=>N(We=>({...We,nova:Ze.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"confirmar-senha",children:"Confirmar Nova Senha"}),n.jsx(Oe,{id:"confirmar-senha",type:"password",value:y.confirmar,onChange:Ze=>N(We=>({...We,confirmar:Ze.target.value}))})]}),n.jsx(we,{onClick:kt,disabled:C,children:C?"Alterando...":"Alterar Senha"})]})]}),n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsx(Xe,{children:"Autenticao de Dois Fatores"}),n.jsx(vr,{children:"Adicione uma camada extra de segurana  sua conta"})]}),n.jsx(Le,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Autenticao de Dois Fatores"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"No configurada"})]}),n.jsx(we,{variant:"outline",disabled:!0,children:"Em breve"})]})})]})]})}),n.jsx(Hr,{value:"notificacoes",children:n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsx(Xe,{children:"Preferncias de Notificao"}),n.jsx(vr,{children:"Configure como voc deseja receber notificaes"})]}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notificaes por Email"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizaes importantes por email"})]}),n.jsx(we,{variant:"outline",size:"sm",onClick:()=>Nt("email"),children:U.email?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Lembretes de Consulta"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba lembretes antes das consultas"})]}),n.jsx(we,{variant:"outline",size:"sm",onClick:()=>Nt("lembretes"),children:U.lembretes?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Resultados de Exames"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Seja notificado quando exames ficarem prontos"})]}),n.jsx(we,{variant:"outline",size:"sm",onClick:()=>Nt("exames"),children:U.exames?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notificaes Push"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificaes no navegador"})]}),n.jsx(we,{variant:"outline",size:"sm",onClick:()=>Nt("push"),children:U.push?"Ativado":"Desativado"})]})]}),n.jsx(we,{onClick:ut,disabled:k,children:k?"Salvando...":"Salvar Preferncias"})]})]})}),a&&n.jsx(Hr,{value:"certificado",children:n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsx(Xe,{children:"Configurao de Certificado Digital"}),n.jsx(vr,{children:"Envie seu certificado (.pfx/.p12 ou .crt/.cer/.pem). O arquivo  enviado com segurana ao servidor."})]}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"rounded-lg border p-4 bg-white",children:[z?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600 mr-3"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando informaes do certificado..."})]}):vt?n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium text-green-700",children:"Certificado cadastrado"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Titular: ",(K==null?void 0:K.owner_name)||(K==null?void 0:K.subject_name)||(K==null?void 0:K.subject)||(K==null?void 0:K.nome)||""]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Emitente: ",(K==null?void 0:K.issuer)||(K==null?void 0:K.issuer_name)||(K==null?void 0:K.emitente)||""]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Validade: ",(K==null?void 0:K.valid_from)||(K==null?void 0:K.validade_inicio)||"?","  ",(K==null?void 0:K.valid_to)||(K==null?void 0:K.validade_fim)||"?"]}),Et!=null&&n.jsx("p",{className:`text-sm ${Et<=0?"text-destructive":Et<30?"text-amber-600":"text-emerald-600"}`,children:Et<=0?"Expirado":`Expira em ${Et} dia(s)`})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum certificado cadastrado para este mdico."}),n.jsx("div",{className:"mt-3",children:n.jsx(we,{variant:"outline",size:"sm",onClick:Pt,disabled:z,children:z?"Validando...":"Validar agora"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-gray-700",children:"Arquivo do certificado"}),n.jsx(Oe,{type:"file",accept:".pfx,.p12,.crt,.cer,.pem",onChange:Ze=>{var We;return H(((We=Ze.target.files)==null?void 0:We[0])||null)},className:"border-gray-200 focus:border-indigo-500 focus:ring-indigo-500"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Aceita: .pfx, .p12, .crt, .cer, .pem. Tamanho mximo: 15MB."}),X&&n.jsxs("p",{className:"text-xs",children:["Selecionado: ",X.name," (",Math.ceil(X.size/1024)," KB)"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-gray-700",children:"Senha do certificado (se aplicvel)"}),n.jsx(a0,{delayDuration:0,children:n.jsxs(Yh,{children:[n.jsx(Xh,{asChild:!0,children:n.jsx(z6,{size:16,className:"text-muted-foreground cursor-help"})}),n.jsx(_f,{side:"top",children:"Certificados PKCS#12 (.pfx/.p12) contendo chave privada. O arquivo no  persistido."})]})}),n.jsx(Oe,{type:"password",value:V,onChange:Ze=>ae(Ze.target.value),placeholder:"Senha do .pfx (opcional)"}),(!V||!V.trim())&&n.jsx("p",{className:"text-xs text-red-600",children:"Senha obrigatria para assinatura."}),V&&V.trim().length<4&&n.jsx("p",{className:"text-xs text-yellow-600",children:"A senha parece curta. Verifique se est correta."}),V&&V.trim()&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"Dica: se a senha falhar, confirme maisculas/minsculas, layout do teclado e se o certificado corresponde ao seu CRM."}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Aceitamos certificados no formato PKCS#12 (.pfx/.p12). A senha no  persistida e  usada somente em memria durante a assinatura."})]}),n.jsx("div",{className:"flex gap-2 justify-end",children:n.jsx(we,{onClick:Dt,disabled:Ae,children:Ae?"Enviando...":"Enviar Certificado"})}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Arquivo PDF para assinar"}),n.jsx(Oe,{type:"file",accept:".pdf",onChange:Ze=>{var We;return ve(((We=Ze.target.files)==null?void 0:We[0])||null)}}),fe&&n.jsxs("p",{className:"text-xs",children:["Selecionado: ",fe.name," (",Math.ceil(fe.size/1024)," KB)"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Motivo (opcional)"}),n.jsx(Oe,{value:Be,onChange:Ze=>ke(Ze.target.value),placeholder:"Ex.: Assinatura de prescrio"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Local (opcional)"}),n.jsx(Oe,{value:xe,onChange:Ze=>ie(Ze.target.value),placeholder:"Ex.: So Paulo - SP"})]})]}),n.jsx("div",{className:"flex gap-2 justify-end",children:n.jsx(we,{onClick:at,disabled:lt||!fe,children:lt?"Assinando...":"Assinar e Baixar"})})]})]})]})}),a&&n.jsx(Hr,{value:"dados_medico",children:n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsx(Xe,{children:"Dados do Mdico"}),n.jsx(vr,{children:"Atualize seu telefone, endereo e especialidade."})]}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Nome"}),n.jsx(Oe,{value:bt.nome||"",disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"CRM"}),n.jsx(Oe,{value:bt.crm||"",disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"especialidade",children:"Especialidade"}),n.jsx(Oe,{id:"especialidade",name:"especialidade",value:bt.especialidade||"",onChange:Xr})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"telefone",children:"Telefone"}),n.jsx(Oe,{id:"telefone",name:"telefone",value:bt.telefone||"",onChange:Xr})]}),n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsx(Fe,{htmlFor:"endereco",children:"Endereo"}),n.jsx(la,{id:"endereco",name:"endereco",value:bt.endereco||"",onChange:Xr})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[n.jsx("p",{children:"Nome e CRM so gerenciados pela administrao."}),n.jsx("div",{className:"flex gap-2",children:n.jsx(we,{onClick:ga,disabled:Tr,children:Tr?"Salvando...":"Salvar Dados do Mdico"})})]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"font-semibold",children:"Secretria vinculada"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Secretria"}),n.jsxs("select",{className:"border rounded-md px-2 py-2",value:xr,onChange:Ze=>Ar(Ze.target.value),disabled:Wr,children:[n.jsx("option",{value:"",children:"Selecione"}),Qt.map(Ze=>n.jsx("option",{value:String(Ze.id),children:(Ze==null?void 0:Ze.nome)||(Ze!=null&&Ze.user?`${Ze.user.first_name||""} ${Ze.user.last_name||""}`.trim():`Secretria #${Ze.id}`)},Ze.id))]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx(we,{onClick:async()=>{var Ze,We;if(!xr){s({title:"Selecione",description:"Escolha uma secretria."});return}try{const Me=await Xt.getPerfil(),Fr=(Me==null?void 0:Me.id)||((Ze=Me==null?void 0:Me.medico)==null?void 0:Ze.id);if(!Fr)throw new Error("Mdico no identificado");const{secretariaService:yt}=await Qs(async()=>{const{secretariaService:rr}=await Promise.resolve().then(()=>sm);return{secretariaService:rr}},void 0);await yt.vincularMedico(String(xr),String(Fr)),s({title:"Vinculada",description:"Secretria vinculada ao mdico."})}catch(Me){const Fr=(We=Me==null?void 0:Me.response)!=null&&We.data?JSON.stringify(Me.response.data):(Me==null?void 0:Me.message)||"Falha ao vincular";s({title:"Erro",description:Fr,variant:"destructive"})}},disabled:Wr||!xr,children:"Vincular Secretria"})})]})]})]})]})}),a&&n.jsx(Hr,{value:"templates_pdf",children:n.jsx(RX,{medicoId:h==null?void 0:h.id,medicoInfo:bt})}),t&&n.jsx(Hr,{value:"medico",children:n.jsx(QX,{})})]})]})})}function MX({children:e}){const{user:r,isAuthenticated:t,loading:a}=qo(),s=as(),{userPermissions:i}=lc();if(a)return null;if(!t)return n.jsx(Ea,{to:"/login",state:{from:s},replace:!0});if(!r)return e;const o=(r==null?void 0:r.role)||(r==null?void 0:r.tipo),l=(i==null?void 0:i.medicoStatus)==="approved";return o!=="medico"&&o!=="admin"&&!l?o==="paciente"?n.jsx(Ea,{to:"/paciente/perfil",replace:!0}):o==="clinica"?n.jsx(Ea,{to:"/clinica/dashboard",replace:!0}):n.jsx(Ea,{to:"/",replace:!0}):e}function TX({children:e}){const{user:r,isAuthenticated:t,loading:a}=qo(),s=as();if(a)return null;if(!t)return n.jsx(Ea,{to:"/login",state:{from:s},replace:!0});if(!r)return e;const i=(r==null?void 0:r.role)||(r==null?void 0:r.tipo);return i!=="clinica"&&i!=="admin"?i==="paciente"?n.jsx(Ea,{to:"/paciente/perfil",replace:!0}):i==="medico"?n.jsx(Ea,{to:"/medico/dashboard",replace:!0}):n.jsx(Ea,{to:"/",replace:!0}):e}function OX({children:e}){const{user:r,isAuthenticated:t,loading:a}=qo(),s=as(),[i,o]=b.useState(!1),[l,A]=b.useState(!1);if(b.useEffect(()=>{let f=!0;async function h(){if(!t)return;if(((r==null?void 0:r.role)||(r==null?void 0:r.tipo))==="secretaria"){o(!0);try{const p=await ha.getPacienteDoUsuario();if(!f)return;A(!!(p!=null&&p.id))}catch{if(!f)return;A(!1)}finally{f&&o(!1)}}}return h(),()=>{f=!1}},[t,r==null?void 0:r.role,r==null?void 0:r.tipo]),a||i)return null;if(!t)return n.jsx(Ea,{to:"/login",state:{from:s},replace:!0});if(!r)return e;const d=(r==null?void 0:r.role)||(r==null?void 0:r.tipo);return d!=="paciente"&&d!=="admin"?d==="secretaria"&&l?e:d==="medico"?n.jsx(Ea,{to:"/medico/dashboard",replace:!0}):d==="clinica"?n.jsx(Ea,{to:"/clinica/dashboard",replace:!0}):n.jsx(Ea,{to:"/",replace:!0}):e}function HX({children:e}){const{user:r,isAuthenticated:t,loading:a}=qo(),s=as();if(a)return null;if(!t)return n.jsx(Ea,{to:"/login",state:{from:s},replace:!0});if(!r)return e;const i=(r==null?void 0:r.role)||(r==null?void 0:r.tipo);return i!=="admin"?i==="paciente"?n.jsx(Ea,{to:"/paciente/perfil",replace:!0}):i==="medico"?n.jsx(Ea,{to:"/medico/dashboard",replace:!0}):i==="clinica"?n.jsx(Ea,{to:"/clinica/dashboard",replace:!0}):n.jsx(Ea,{to:"/",replace:!0}):e}const $X=e=>{var t;const r=a=>(a==null?void 0:a.nome)||(a==null?void 0:a.titulo)||(a==null?void 0:a.name)||(a==null?void 0:a.descricao)||(a==null?void 0:a.description);if(Array.isArray(e==null?void 0:e.especialidades)&&e.especialidades.length){const a=e.especialidades.map(s=>r(s)||(typeof s=="string"?s:null)).filter(Boolean);if(a.length)return a.join(", ")}if(e!=null&&e.especialidade&&typeof e.especialidade=="object"){const a=r(e.especialidade);if(a)return a}return typeof(e==null?void 0:e.especialidade)=="string"&&e.especialidade.trim()?e.especialidade.trim():typeof(e==null?void 0:e.especialidade_nome)=="string"&&e.especialidade_nome.trim()?e.especialidade_nome.trim():typeof(e==null?void 0:e.specialty)=="string"&&e.specialty.trim()?e.specialty.trim():typeof(e==null?void 0:e.area)=="string"&&e.area.trim()?e.area.trim():typeof((t=e==null?void 0:e.user)==null?void 0:t.especialidade)=="string"&&e.user.especialidade.trim()?e.user.especialidade.trim():null};function KX(){const[e,r]=b.useState([]),[t,a]=b.useState(!0),[s,i]=b.useState(!1),[o,l]=b.useState(null),{toast:A}=Ka(),d=$n(),[f,h]=b.useState({medico:"",modalidade:"presencial",local:"",tipo:"primeira",preferenciaData:"",preferenciaHora:"",preferenciaTurno:"indiferente",motivo:"",observacoes:""}),m=N=>N?typeof N=="string"?N:[N.logradouro,N.numero,N.bairro,N.cidade,N.estado].filter(Boolean).join(" ").trim()||null:null,p=N=>{var C,E,U;return(N==null?void 0:N.local_atendimento)||(N==null?void 0:N.local)||m(N==null?void 0:N.endereco)||m((C=N==null?void 0:N.user)==null?void 0:C.endereco)||m((E=N==null?void 0:N.clinica)==null?void 0:E.endereco)||((U=N==null?void 0:N.clinica)==null?void 0:U.nome)||null};b.useEffect(()=>{let N=!0;return(async()=>{a(!0),l(null);try{const C=await ha.getMedicos(),E=Array.isArray(C)?C:(C==null?void 0:C.results)||[];r(E)}catch(C){console.error("Erro ao buscar mdicos:",C),l("No foi possvel carregar a lista de mdicos.")}finally{N&&a(!1)}})(),()=>{N=!1}},[]),b.useEffect(()=>{if(f.modalidade!=="presencial"){f.local&&h(E=>({...E,local:""}));return}const N=e.find(E=>{var U;return String(E.id||((U=E==null?void 0:E.user)==null?void 0:U.id))===String(f.medico)}),C=N?p(N):"";h(E=>({...E,local:C||""}))},[f.medico,f.modalidade,e]);const v=N=>C=>{const E=C!=null&&C.target?C.target.value:C;h(U=>({...U,[N]:E}))},g=()=>f.medico?f.motivo?f.modalidade==="presencial"&&!f.local?"Local do mdico no definido.":f.preferenciaData?null:"Selecione uma data preferida.":"Informe o motivo principal.":"Selecione um mdico.",w=async N=>{var E,U;N.preventDefault();const C=g();if(C){A({title:"Validao",description:C,variant:"destructive"});return}i(!0),l(null);try{const D=e.find(J=>{var M;return String(J.id||((M=J==null?void 0:J.user)==null?void 0:M.id)||(J==null?void 0:J.nome))===String(f.medico)}),k=(D==null?void 0:D.id)||((E=D==null?void 0:D.user)==null?void 0:E.id)||(Number(f.medico)?Number(f.medico):void 0);if(!k)throw new Error("No foi possvel identificar o mdico selecionado.");const L=J=>!J||J==="indiferente"||J==="manha"?"08:00":J==="tarde"?"14:00":J==="noite"?"19:00":"08:00",_=await ha.getPacienteDoUsuario();if(!(_==null?void 0:_.id))throw new Error("Paciente atual no encontrado.");const I={medico:k,modalidade:f.modalidade,tipo:f.tipo,motivo:f.motivo};f.preferenciaData&&(I.data=f.preferenciaData);const $=f.preferenciaHora&&String(f.preferenciaHora).trim()?f.preferenciaHora:L(f.preferenciaTurno);$&&(I.hora=$),f.observacoes&&(I.observacoes=f.observacoes),await ha.agendarConsulta(I),A({title:"Solicitao enviada",description:"Sua solicitao foi enviada  Secretaria. Aguarde confirmao."}),d("/paciente/consultas")}catch(D){const k=(U=D==null?void 0:D.response)==null?void 0:U.data;let L=typeof k=="string"&&k||(k==null?void 0:k.detail)||(D==null?void 0:D.message)||"No foi possvel enviar sua solicitao.";if(k&&typeof k=="object")try{const _=Object.entries(k).map(([Y,I])=>`${Y}: ${Array.isArray(I)?I.join(", "):typeof I=="object"?JSON.stringify(I):String(I)}`);_.length&&(L=_.join(" | "))}catch{}l(L),A({title:"Erro",description:L,variant:"destructive"})}finally{i(!1)}},y=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(br,{className:"h-5 w-5 text-primary"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Entrar em contato com o mdico"})]}),n.jsx(Wi,{tabs:y,basePath:"/paciente"}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Contato para agendamento"})}),n.jsx(Le,{children:n.jsxs("form",{onSubmit:w,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Mdico"}),n.jsxs(Gr,{value:f.medico,onValueChange:N=>h(C=>({...C,medico:N})),disabled:t,children:[n.jsx(zr,{children:n.jsx(Yr,{placeholder:t?"Carregando...":"Selecione um mdico"})}),n.jsx(qr,{children:e.length===0?n.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Nenhum mdico disponvel"}):e.map(N=>{var U,D,k;const C=(N==null?void 0:N.nome)||[(U=N==null?void 0:N.user)==null?void 0:U.first_name,(D=N==null?void 0:N.user)==null?void 0:D.last_name].filter(Boolean).join(" ")||(N==null?void 0:N.username)||(N==null?void 0:N.email)||`Mdico #${(N==null?void 0:N.id)||""}`,E=$X(N);return n.jsxs(nt,{value:String(N.id||((k=N==null?void 0:N.user)==null?void 0:k.id)||C),children:[C,E?` - ${E}`:""]},N.id||C)})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Tipo"}),n.jsxs(Gr,{value:f.tipo,onValueChange:N=>h(C=>({...C,tipo:N})),children:[n.jsx(zr,{children:n.jsx(Yr,{placeholder:"Selecione o tipo"})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"primeira",children:"Primeira consulta"}),n.jsx(nt,{value:"retorno",children:"Retorno"}),n.jsx(nt,{value:"rotina",children:"Rotina"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Modalidade"}),n.jsxs(Gr,{value:f.modalidade,onValueChange:N=>h(C=>({...C,modalidade:N})),children:[n.jsx(zr,{children:n.jsx(Yr,{placeholder:"Selecione a modalidade"})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"presencial",children:"Presencial"}),n.jsx(nt,{value:"online",disabled:!0,children:"Online (em breve)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Local"}),n.jsxs("div",{className:"relative",children:[n.jsx(Oe,{value:f.local,placeholder:"Rua das Flores, 123",readOnly:!0}),n.jsx(Xg,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}),f.modalidade==="presencial"&&n.jsx("div",{className:"text-xs text-muted-foreground",children:"O local  definido pelo mdico e preenchido automaticamente."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Preferncia de Data"}),n.jsx(ms,{id:"preferenciaData",name:"preferenciaData",value:f.preferenciaData,onChange:N=>h(C=>({...C,preferenciaData:N}))}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Opcional: ajuda a secretaria a oferecer horrios prximos."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Preferncia de Hora"}),n.jsx(Oe,{type:"time",value:f.preferenciaHora,onChange:N=>h(C=>({...C,preferenciaHora:N.target.value}))}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Opcional: informe uma hora sugerida."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Turno perodo"}),n.jsxs(Gr,{value:f.preferenciaTurno,onValueChange:N=>h(C=>({...C,preferenciaTurno:N})),children:[n.jsx(zr,{children:n.jsx(Yr,{placeholder:"Selecione o perodo"})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"indiferente",children:"Indiferente"}),n.jsx(nt,{value:"manha",children:"Manh"}),n.jsx(nt,{value:"tarde",children:"Tarde"}),n.jsx(nt,{value:"noite",children:"Noite"})]})]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Opcional: a secretaria tenta encaixar nesse perodo."})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(Fe,{children:"Motivo"}),n.jsx(Oe,{value:f.motivo,onChange:v("motivo"),placeholder:"Ex: dor, retorno de exame, etc."})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(Fe,{children:"Observaes"}),n.jsx(la,{value:f.observacoes,onChange:v("observacoes"),placeholder:"Opcional"})]})]}),o&&n.jsx("div",{className:"text-sm text-red-600",children:o}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(we,{type:"button",variant:"outline",onClick:()=>d("/paciente/consultas"),children:"Cancelar"}),n.jsx(we,{type:"submit",disabled:s,children:"Entrar em contato"})]})]})})]})]})}function VX(){const e=$n(),[r,t]=b.useState(!1),[a,s]=b.useState(""),[i,o]=b.useState([]),[l,A]=b.useState(0),[d,f]=b.useState(""),[h,m]=b.useState(1),[p]=b.useState(10);b.useEffect(()=>{let H=!0;const V=setTimeout(async()=>{t(!0),s("");try{const ae={search:d||void 0,page:h,limit:p},fe=await pa.getUsuarios(ae),ve=Array.isArray(fe==null?void 0:fe.results)?fe.results:Array.isArray(fe)?fe:[],Be=typeof(fe==null?void 0:fe.count)=="number"?fe.count:ve.length;if(!H)return;o(ve),A(Be)}catch{if(!H)return;s("No foi possvel carregar os usurios.")}finally{H&&t(!1)}},300);return()=>{H=!1,clearTimeout(V)}},[d,h,p]);const v=b.useMemo(()=>Math.max(1,Math.ceil(l/p)),[l,p]),[g,w]=b.useState(new Set),[y,N]=b.useState(!1),[C,E]=b.useState(null),[U,D]=b.useState(!1),[k,L]=b.useState(!1),[_,Y]=b.useState(""),[I,$]=b.useState(null),[J,M]=b.useState(!1),[re,K]=b.useState(!1),[G,z]=b.useState(""),[Z,Ae]=b.useState({first_name:"",last_name:"",email:"",password:"",role:""}),ee=()=>{if(i.length===0)return;const H=i.map(ae=>ae==null?void 0:ae.id).filter(Boolean),V=H.every(ae=>g.has(ae));w(V?new Set:new Set(H))},R=H=>{H&&w(V=>{const ae=new Set(V);return ae.has(H)?ae.delete(H):ae.add(H),ae})},q=async()=>{const H=Array.from(g);if(H.length===0){window.alert("Selecione ao menos um usurio com ID vlido.");return}if(window.confirm(`Confirma excluir ${H.length} usurio(s)?`))try{N(!0),await pa.removerUsuariosEmMassa(H),w(new Set),t(!0),s("");const V={search:d||void 0,page:h,limit:p},ae=await pa.getUsuarios(V),fe=Array.isArray(ae==null?void 0:ae.results)?ae.results:Array.isArray(ae)?ae:[],ve=typeof(ae==null?void 0:ae.count)=="number"?ae.count:fe.length;o(fe),A(ve)}catch{window.alert("Falha ao excluir usurios selecionados.")}finally{N(!1),t(!1)}},te=async H=>{if(!H){window.alert("ID invlido para excluso.");return}if(window.confirm("Confirma excluir este usurio?"))try{E(H),await ye.delete(`/users/${H}/`),o(V=>V.filter(ae=>(ae==null?void 0:ae.id)!==H)),A(V=>Math.max(0,V-1)),w(V=>{const ae=new Set(V);return ae.delete(H),ae})}catch{window.alert("Falha ao excluir o usurio.")}finally{E(null)}},F=async()=>{if(!(I!=null&&I.id)){Y("ID do usurio indisponvel.");return}try{L(!0),Y("");const H={first_name:I.first_name,last_name:I.last_name,email:I.email,role:I.role,is_active:!!I.is_active};await pa.updateUsuario(I.id,H),D(!1),t(!0),s("");const V={search:d||void 0,page:h,limit:p},ae=await pa.getUsuarios(V),fe=Array.isArray(ae==null?void 0:ae.results)?ae.results:Array.isArray(ae)?ae:[],ve=typeof(ae==null?void 0:ae.count)=="number"?ae.count:fe.length;o(fe),A(ve)}catch{Y("No foi possvel salvar as alteraes.")}finally{L(!1),t(!1)}},X=async()=>{var H;if(!Z.email||!Z.password||!Z.role){z("Preencha e-mail, senha e tipo.");return}try{K(!0),z("");const V={first_name:Z.first_name,last_name:Z.last_name,email:Z.email,password:Z.password,role:Z.role};await pa.createUsuario(V),M(!1),Ae({first_name:"",last_name:"",email:"",password:"",role:""}),t(!0),s("");const ae={search:d||void 0,page:h,limit:p},fe=await pa.getUsuarios(ae),ve=Array.isArray(fe==null?void 0:fe.results)?fe.results:Array.isArray(fe)?fe:[],Be=typeof(fe==null?void 0:fe.count)=="number"?fe.count:ve.length;o(ve),A(Be)}catch(V){const ae=(H=V==null?void 0:V.response)!=null&&H.data?JSON.stringify(V.response.data):"No foi possvel criar o usurio.";z(ae)}finally{K(!1),t(!1)}};return n.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Usurios"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie todos os usurios do sistema"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[n.jsx("input",{type:"text",placeholder:"Buscar por nome, email...",value:d,onChange:H=>{m(1),f(H.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:r?"Carregando...":`${l} usurio(s)`}),n.jsxs("div",{className:"ml-auto flex gap-2",children:[n.jsxs("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50 inline-flex items-center gap-2",onClick:()=>{z(""),Ae({first_name:"",last_name:"",email:"",password:"",role:""}),M(!0)},disabled:r,children:[n.jsx(oy,{className:"w-4 h-4"}),"Novo usurio"]}),n.jsxs("button",{className:"px-3 py-2 border rounded-md text-sm bg-red-600 text-white disabled:opacity-50 inline-flex items-center gap-2",onClick:q,disabled:y||g.size===0||r,title:g.size===0?"Selecione usurios":"Excluir selecionados",children:[n.jsx(iy,{className:"w-4 h-4"}),y?"Excluindo...":`Excluir selecionados (${g.size})`]})]})]}),a&&n.jsx("div",{className:"text-sm text-red-600",children:a}),n.jsx("div",{className:"overflow-auto rounded-md border",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-muted/50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left p-3",children:n.jsx("input",{type:"checkbox",checked:i.length>0&&i.map(H=>H==null?void 0:H.id).filter(Boolean).every(H=>g.has(H)),onChange:ee})}),n.jsx("th",{className:"text-left p-3",children:"Nome"}),n.jsx("th",{className:"text-left p-3",children:"Email"}),n.jsx("th",{className:"text-left p-3",children:"Tipo"}),n.jsx("th",{className:"text-left p-3",children:"Status"}),n.jsx("th",{className:"text-left p-3",children:"Aes"})]})}),n.jsxs("tbody",{children:[i.length===0&&!r&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"p-4 text-center text-muted-foreground",children:"Nenhum usurio encontrado"})}),i.map(H=>{const V=(H==null?void 0:H.nome)||[H==null?void 0:H.first_name,H==null?void 0:H.last_name].filter(Boolean).join(" ")||(H==null?void 0:H.name)||(H==null?void 0:H.username)||"-",ae=(H==null?void 0:H.email)||"-",fe=(H==null?void 0:H.tipo)||(H==null?void 0:H.role)||(H==null?void 0:H.perfil)||"-",ve=(H==null?void 0:H.is_active)??(H==null?void 0:H.ativo)??(H==null?void 0:H.status)??null,Be=ve===!0?"Ativo":ve===!1?"Inativo":String(ve??"-");return n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"p-3",children:n.jsx("input",{type:"checkbox",disabled:!(H!=null&&H.id),checked:H!=null&&H.id?g.has(H.id):!1,onChange:()=>R(H==null?void 0:H.id)})}),n.jsx("td",{className:"p-3",children:V}),n.jsx("td",{className:"p-3",children:ae}),n.jsx("td",{className:"p-3 capitalize",children:String(fe).toLowerCase()}),n.jsx("td",{className:"p-3",children:n.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${ve===!0?"bg-emerald-100 text-emerald-700":ve===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:Be})}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{className:"px-3 py-1 border rounded-md text-xs inline-flex items-center gap-1.5",onClick:()=>(H==null?void 0:H.id)&&e(`/admin/usuarios/editar/${H.id}`),disabled:!(H!=null&&H.id),title:H!=null&&H.id?"Editar usurio":"ID indisponvel",children:[n.jsx(rI,{className:"w-3.5 h-3.5"}),"Editar"]}),n.jsxs("button",{className:"px-3 py-1 border rounded-md text-xs bg-red-600 text-white disabled:opacity-50 inline-flex items-center gap-1.5",onClick:()=>te(H==null?void 0:H.id),disabled:!(H!=null&&H.id)||C===(H==null?void 0:H.id),title:H!=null&&H.id?"Excluir usurio":"ID indisponvel",children:[n.jsx(iy,{className:"w-3.5 h-3.5"}),C===(H==null?void 0:H.id)?"Excluindo...":"Excluir"]})]})})]},(H==null?void 0:H.id)||`${ae}-${V}`)})]})]})}),n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>m(H=>Math.max(1,H-1)),disabled:h<=1||r,children:"Anterior"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Pgina ",h," de ",v]}),n.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>m(H=>Math.min(v,H+1)),disabled:h>=v||r,children:"Prxima"})]}),U&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:n.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Editar usurio"}),_&&n.jsx("div",{className:"text-sm text-red-600 mb-2",children:_}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Nome"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(I==null?void 0:I.first_name)||"",onChange:H=>$(V=>({...V,first_name:H.target.value})),disabled:k})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Sobrenome"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(I==null?void 0:I.last_name)||"",onChange:H=>$(V=>({...V,last_name:H.target.value})),disabled:k})]}),n.jsxs("div",{className:"space-y-1 md:col-span-2",children:[n.jsx("label",{className:"text-sm",children:"E-mail"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(I==null?void 0:I.email)||"",onChange:H=>$(V=>({...V,email:H.target.value})),disabled:k})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Tipo"}),n.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(I==null?void 0:I.role)||"",onChange:H=>$(V=>({...V,role:H.target.value})),disabled:k,children:[n.jsx("option",{value:"",children:"Selecione"}),n.jsx("option",{value:"admin",children:"Admin"}),n.jsx("option",{value:"paciente",children:"Paciente"}),n.jsx("option",{value:"medico",children:"Mdico"}),n.jsx("option",{value:"clinica",children:"Clnica"}),n.jsx("option",{value:"secretaria",children:"Secretaria"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Ativo"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:!!(I!=null&&I.is_active),onChange:H=>$(V=>({...V,is_active:H.target.checked})),disabled:k}),n.jsx("span",{className:"text-sm",children:I!=null&&I.is_active?"Ativo":"Inativo"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>D(!1),disabled:k,children:"Cancelar"}),n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:F,disabled:k,children:k?"Salvando...":"Salvar"})]})]})}),J&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:n.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Novo usurio"}),G&&n.jsx("div",{className:"text-sm text-red-600 mb-2",children:G}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Nome"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:Z.first_name,onChange:H=>Ae(V=>({...V,first_name:H.target.value})),disabled:re})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Sobrenome"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:Z.last_name,onChange:H=>Ae(V=>({...V,last_name:H.target.value})),disabled:re})]}),n.jsxs("div",{className:"space-y-1 md:col-span-2",children:[n.jsx("label",{className:"text-sm",children:"E-mail"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:Z.email,onChange:H=>Ae(V=>({...V,email:H.target.value})),disabled:re})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Senha"}),n.jsx("input",{type:"password",className:"w-full px-3 py-2 border rounded-md bg-background",value:Z.password,onChange:H=>Ae(V=>({...V,password:H.target.value})),disabled:re})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Tipo"}),n.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:Z.role,onChange:H=>Ae(V=>({...V,role:H.target.value})),disabled:re,children:[n.jsx("option",{value:"",children:"Selecione"}),n.jsx("option",{value:"admin",children:"Admin"}),n.jsx("option",{value:"paciente",children:"Paciente"}),n.jsx("option",{value:"medico",children:"Mdico"}),n.jsx("option",{value:"clinica",children:"Clnica"}),n.jsx("option",{value:"secretaria",children:"Secretaria"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>M(!1),disabled:re,children:"Cancelar"}),n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:X,disabled:re,children:re?"Criando...":"Criar"})]})]})})]})}function zX(){const[e,r]=b.useState(!1),[t,a]=b.useState(""),[s,i]=b.useState([]),[o,l]=b.useState(0),[A,d]=b.useState(""),[f,h]=b.useState(1),[m]=b.useState(10);b.useEffect(()=>{let v=!0;const g=setTimeout(async()=>{r(!0),a("");try{const w={search:A||void 0,page:f,limit:m},y=await pa.getClinicas(w),N=Array.isArray(y==null?void 0:y.results)?y.results:Array.isArray(y)?y:[],C=typeof(y==null?void 0:y.count)=="number"?y.count:N.length;if(!v)return;i(N),l(C)}catch{if(!v)return;a("No foi possvel carregar as clnicas.")}finally{v&&r(!1)}},300);return()=>{v=!1,clearTimeout(g)}},[A,f,m]);const p=b.useMemo(()=>Math.max(1,Math.ceil(o/m)),[o,m]);return n.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Clnicas"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie os cadastros de clnicas"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[n.jsx("input",{type:"text",placeholder:"Buscar por nome, CNPJ...",value:A,onChange:v=>{h(1),d(v.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:e?"Carregando...":`${o} clnica(s)`})]}),t&&n.jsx("div",{className:"text-sm text-red-600",children:t}),n.jsx("div",{className:"overflow-auto rounded-md border",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-muted/50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left p-3",children:"Nome"}),n.jsx("th",{className:"text-left p-3",children:"CNPJ"}),n.jsx("th",{className:"text-left p-3",children:"Email"}),n.jsx("th",{className:"text-left p-3",children:"Status"})]})}),n.jsxs("tbody",{children:[s.length===0&&!e&&n.jsx("tr",{children:n.jsx("td",{colSpan:4,className:"p-4 text-center text-muted-foreground",children:"Nenhuma clnica encontrada"})}),s.map(v=>{const g=(v==null?void 0:v.razao_social)||(v==null?void 0:v.nome)||(v==null?void 0:v.name)||"-",w=(v==null?void 0:v.cnpj)||"-",y=(v==null?void 0:v.email)||(v==null?void 0:v.contato_email)||"-",N=(v==null?void 0:v.is_active)??(v==null?void 0:v.ativo)??(v==null?void 0:v.status)??null,C=N===!0?"Ativa":N===!1?"Inativa":String(N??"-");return n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"p-3",children:g}),n.jsx("td",{className:"p-3",children:w}),n.jsx("td",{className:"p-3",children:y}),n.jsx("td",{className:"p-3",children:n.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${N===!0?"bg-emerald-100 text-emerald-700":N===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:C})})]},(v==null?void 0:v.id)||`${g}-${w}`)})]})]})}),n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(v=>Math.max(1,v-1)),disabled:f<=1||e,children:"Anterior"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Pgina ",f," de ",p]}),n.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(v=>Math.min(p,v+1)),disabled:f>=p||e,children:"Prxima"})]})]})}function qX(){const{toast:e}=Ka(),[r,t]=b.useState(!0),[a,s]=b.useState(!1),[i,o]=b.useState(""),[l,A]=b.useState({first_name:"",last_name:"",email:"",telefone:""}),[d,f]=b.useState({atual:"",nova:"",confirmar:""}),[h,m]=b.useState(!1),[p,v]=b.useState({email:!0,sistema:!0,auditoria:!0,push:!1}),[g,w]=b.useState(!1),[y,N]=b.useState(()=>localStorage.getItem("admin_lang")||"pt-BR"),C=_=>v(Y=>({...Y,[_]:!Y[_]}));b.useEffect(()=>{let _=!0;return(async()=>{var Y;try{t(!0),o("");const I=await ha.getPerfil();if(!_)return;A({first_name:(I==null?void 0:I.first_name)||"",last_name:(I==null?void 0:I.last_name)||"",email:(I==null?void 0:I.email)||"",telefone:(I==null?void 0:I.telefone)||""});try{const $=localStorage.getItem("admin_notification_prefs");$&&v(J=>({...J,...JSON.parse($)}))}catch{}}catch(I){if(!_)return;const $=(Y=I==null?void 0:I.response)==null?void 0:Y.status;o($===401?"Sesso invlida. Faa login novamente.":"No foi possvel carregar seu perfil.")}finally{_&&t(!1)}})(),()=>{_=!1}},[]);const E=_=>{const{name:Y,value:I}=_.target;A($=>({...$,[Y]:I}))},U=async()=>{var _;s(!0),o("");try{await ha.atualizarPerfil({first_name:l.first_name,last_name:l.last_name,email:l.email,telefone:l.telefone}),e({title:"Perfil atualizado",description:"As informaes foram salvas com sucesso."})}catch(Y){const $=((_=Y==null?void 0:Y.response)==null?void 0:_.status)===400?"Dados invlidos. Verifique os campos.":"No foi possvel salvar as alteraes.";o($),e({title:"Erro",description:$,variant:"destructive"})}finally{s(!1)}},D=async()=>{if(!d.atual||!d.nova||!d.confirmar){e({title:"Validao",description:"Preencha todos os campos de senha.",variant:"destructive"});return}if(d.nova!==d.confirmar){e({title:"Validao",description:"A confirmao da nova senha no confere.",variant:"destructive"});return}m(!0);try{await new Promise(_=>setTimeout(_,600)),e({title:"Em breve",description:"Alterao de senha ser integrada ao backend.",variant:"default"}),f({atual:"",nova:"",confirmar:""})}finally{m(!1)}},k=async()=>{w(!0);try{localStorage.setItem("admin_notification_prefs",JSON.stringify(p)),e({title:"Notificaes salvas",description:"Preferncias armazenadas neste dispositivo."})}catch{e({title:"Erro",description:"No foi possvel salvar as preferncias.",variant:"destructive"})}finally{w(!1)}},L=()=>{localStorage.setItem("admin_lang",y),e({title:"Idioma atualizado",description:`Idioma definido para ${y}.`})};return n.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configuraes (Admin)"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie seu perfil e preferncias administrativas"})]}),n.jsxs(zi,{defaultValue:"perfil",className:"space-y-6",children:[n.jsxs(qi,{className:"grid w-full grid-cols-4",children:[n.jsx(Pr,{value:"perfil",children:"Perfil"}),n.jsx(Pr,{value:"seguranca",children:"Segurana"}),n.jsx(Pr,{value:"notificacoes",children:"Notificaes"}),n.jsx(Pr,{value:"sistema",children:"Sistema"})]}),n.jsx(Hr,{value:"perfil",children:n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Informaes do Perfil"})}),n.jsxs(Le,{className:"space-y-4",children:[i&&n.jsx("p",{className:"text-sm text-red-500",children:i}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"first_name",children:"Nome"}),n.jsx(Oe,{id:"first_name",name:"first_name",value:l.first_name,onChange:E,disabled:r||a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"last_name",children:"Sobrenome"}),n.jsx(Oe,{id:"last_name",name:"last_name",value:l.last_name,onChange:E,disabled:r||a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"email",children:"E-mail"}),n.jsx(Oe,{id:"email",name:"email",type:"email",value:l.email,onChange:E,disabled:r||a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"telefone",children:"Telefone"}),n.jsx(Oe,{id:"telefone",name:"telefone",value:l.telefone,onChange:E,disabled:r||a})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(we,{onClick:U,disabled:r||a,children:a?"Salvando...":"Salvar alteraes"})})]})]})}),n.jsx(Hr,{value:"seguranca",children:n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Segurana"})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"pwd_atual",children:"Senha atual"}),n.jsx(Oe,{id:"pwd_atual",type:"password",value:d.atual,onChange:_=>f(Y=>({...Y,atual:_.target.value})),disabled:h})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"pwd_nova",children:"Nova senha"}),n.jsx(Oe,{id:"pwd_nova",type:"password",value:d.nova,onChange:_=>f(Y=>({...Y,nova:_.target.value})),disabled:h})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"pwd_confirmar",children:"Confirmar nova senha"}),n.jsx(Oe,{id:"pwd_confirmar",type:"password",value:d.confirmar,onChange:_=>f(Y=>({...Y,confirmar:_.target.value})),disabled:h})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(we,{onClick:D,disabled:h,children:h?"Processando...":"Alterar senha"})})]})]})}),n.jsx(Hr,{value:"notificacoes",children:n.jsxs(De,{children:[n.jsxs(Ve,{children:[n.jsx(Xe,{children:"Preferncias de Notificao"}),n.jsx(vr,{children:"Configure como voc deseja receber notificaes"})]}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notificaes por Email"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizaes importantes por email"})]}),n.jsx(we,{variant:"outline",size:"sm",onClick:()=>C("email"),disabled:g,children:p.email?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Eventos do Sistema"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Avisos sobre operaes e eventos administrativos"})]}),n.jsx(we,{variant:"outline",size:"sm",onClick:()=>C("sistema"),disabled:g,children:p.sistema?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Alteraes e Auditoria"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifique mudanas crticas e logs de auditoria"})]}),n.jsx(we,{variant:"outline",size:"sm",onClick:()=>C("auditoria"),disabled:g,children:p.auditoria?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notificaes Push"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificaes no navegador"})]}),n.jsx(we,{variant:"outline",size:"sm",onClick:()=>C("push"),disabled:g,children:p.push?"Ativado":"Desativado"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(we,{onClick:k,disabled:g,children:g?"Salvando...":"Salvar Preferncias"})})]})]})}),n.jsx(Hr,{value:"sistema",children:n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Sistema"})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Tema"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(lb,{}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Alterne entre claro/escuro"})]})]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Idioma"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("select",{className:"border rounded px-2 py-1",value:y,onChange:_=>N(_.target.value),children:[n.jsx("option",{value:"pt-BR",children:"Portugus (Brasil)"}),n.jsx("option",{value:"en-US",children:"English (US)"})]}),n.jsx(we,{variant:"outline",onClick:L,children:"Aplicar"})]})]})]})]})})]})]})}function WX(e){var t,a,s;if(!e)return"";const r=[(t=e==null?void 0:e.user)==null?void 0:t.first_name,(a=e==null?void 0:e.user)==null?void 0:a.last_name].filter(Boolean).join(" ").trim();return(e==null?void 0:e.nome)||r||((s=e==null?void 0:e.user)==null?void 0:s.username)||`Mdico #${(e==null?void 0:e.id)??"?"}`}function GX(e={}){var i,o,l;const r=e.paciente_nome||((i=e==null?void 0:e.paciente)==null?void 0:i.nome)||((o=e==null?void 0:e.paciente)!=null&&o.user?[e.paciente.user.first_name,e.paciente.user.last_name].filter(Boolean).join(" "):null)||"Paciente",t=e.data_hora||e.horario||e.inicio||e.data||e.start_time||"",a=e.status||"Agendada",s=e.clinica_nome||((l=e==null?void 0:e.clinica)==null?void 0:l.nome)||e.local||"";return{id:e.id||e.consulta_id||Math.random().toString(36).slice(2),pacienteNome:r,dataHora:t,status:a,clinica:s,tipo:e.tipo||e.modalidade||"Consulta"}}function YX(){const{user:e}=qo(),r=((e==null?void 0:e.role)||(e==null?void 0:e.tipo)||"").toLowerCase(),[t,a]=b.useState([]),[s,i]=b.useState(null),[o,l]=b.useState(!0),[A,d]=b.useState(!1),[f,h]=b.useState([]),{toast:m}=Ka(),[p,v]=b.useState("todas"),[g,w]=b.useState(""),[y,N]=b.useState(!1),[C,E]=b.useState(!1),[U,D]=b.useState({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),[k,L]=b.useState(""),[_,Y]=b.useState(!1),[I,$]=b.useState([]);b.useEffect(()=>{let R=!0;return(async()=>{var q,te;l(!0);try{let F=[];if(r==="admin"){const V=await Ia.listarMedicos();F=Array.isArray(V)?V:[]}else{const V=await Ia.getPerfil().catch(()=>null),ae=(V==null?void 0:V.id)||((q=V==null?void 0:V.secretaria)==null?void 0:q.id);if(ae&&(F=await Ia.getMedicosDaSecretaria(String(ae))),!Array.isArray(F)||F.length===0){const fe=await Ia.listarMedicos();F=Array.isArray(fe)?fe:[]}}if(!R)return;a(Array.isArray(F)?F:[]);const X=localStorage.getItem("secretaria.medicoId");if(X&&(F==null?void 0:F.some(V=>{var ae;return String((V==null?void 0:V.id)||((ae=V==null?void 0:V.user)==null?void 0:ae.id))===String(X)})))i(X);else if(Array.isArray(F)&&F.length>0){const V=F.find(fe=>{var ve;return(fe==null?void 0:fe.id)||((ve=fe==null?void 0:fe.user)==null?void 0:ve.id)})||F[0],ae=(V==null?void 0:V.id)||((te=V==null?void 0:V.user)==null?void 0:te.id);ae&&i(String(ae))}}catch(F){console.error("Erro ao carregar mdicos:",F)}finally{R&&l(!1)}})(),()=>{R=!1}},[]),b.useEffect(()=>{if(!s)return;let R=!0;return(async()=>{d(!0);try{const q=await Ia.listarConsultasHoje(s);if(!R)return;const te=Array.isArray(q)?q:[];h(te.map(F=>GX(F))),localStorage.setItem("secretaria.medicoId",s)}catch(q){console.error("Erro ao carregar consultas:",q)}finally{R&&d(!1)}})(),()=>{R=!1}},[s]);const J=b.useMemo(()=>(Array.isArray(t)?t:[]).map(R=>{var F;const q=(R==null?void 0:R.id)||((F=R==null?void 0:R.user)==null?void 0:F.id),te=WX(R);return q?{value:String(q),label:te}:null}).filter(Boolean),[t]),M=b.useMemo(()=>{let R=f;if(p!=="todas"&&(R=R.filter(q=>q.status===p)),g.trim()){const q=g.toLowerCase();R=R.filter(te=>{var F;return(F=te.pacienteNome)==null?void 0:F.toLowerCase().includes(q)})}return R},[f,p,g]),re=R=>{try{const q=new Date(R);if(!isNaN(q.getTime()))return q.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof R=="string"&&/^\d{2}:\d{2}/.test(R))return R.slice(0,5)}catch{}return"-"},K=(R,q)=>{h(te=>te.map(F=>F.id===R?{...F,status:q}:F))},G=async R=>{try{await Ia.confirmarConsulta(R.id),K(R.id,"Confirmada"),m({title:"Consulta confirmada",description:`Paciente ${R.pacienteNome} s ${re(R.dataHora)}`})}catch{m({title:"Erro",description:"No foi possvel confirmar a consulta.",variant:"destructive"})}},z=async R=>{try{await Ia.cancelarConsulta(R.id),K(R.id,"Cancelada"),m({title:"Consulta cancelada",description:`Paciente ${R.pacienteNome} s ${re(R.dataHora)}`})}catch{m({title:"Erro",description:"No foi possvel cancelar a consulta.",variant:"destructive"})}},Z=async R=>{if(R.preventDefault(),!U.pacienteId||!U.data||!U.hora||!s){m({title:"Erro",description:"Preencha todos os campos obrigatrios.",variant:"destructive"});return}E(!0);try{if(await Ia.agendarConsulta({pacienteId:U.pacienteId,medicoId:s,data:U.data,hora:U.hora,tipo:U.tipo,motivo:U.motivo,observacoes:U.observacoes}),m({title:"Sucesso",description:"Consulta agendada com sucesso!"}),N(!1),D({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),L(""),$([]),s){const q=await Ia.listarConsultasHoje(s);h(Array.isArray(q)?q:[])}}catch{m({title:"Erro",description:"No foi possvel agendar a consulta.",variant:"destructive"})}finally{E(!1)}},Ae=async R=>{if(!R.trim()){$([]);return}Y(!0);try{const q=await Ia.buscarPacientes(R),te=Array.isArray(q)?q:[];$(te)}catch(q){console.error("Erro ao buscar pacientes:",q),$([])}finally{Y(!1)}};b.useEffect(()=>{const R=setTimeout(()=>Ae(k),300);return()=>clearTimeout(R)},[k]);const ee=b.useMemo(()=>{const R=f.length,q=f.filter(X=>X.status==="Confirmada").length,te=f.filter(X=>X.status==="Agendada").length,F=f.filter(X=>X.status==="Realizada").length;return{total:R,confirmadas:q,pendentes:te,realizadas:F}},[f]);return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 p-8 text-white shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Dashboard Secretria"}),n.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie consultas e acompanhe a agenda dos mdicos."})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 min-w-fit",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(br,{className:"h-5 w-5 text-blue-300"}),n.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Total"})]}),n.jsx("div",{className:"text-2xl font-bold",children:ee.total})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(po,{className:"h-5 w-5 text-green-300"}),n.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Confirmadas"})]}),n.jsx("div",{className:"text-2xl font-bold text-green-300",children:ee.confirmadas})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx($r,{className:"h-5 w-5 text-orange-300"}),n.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Pendentes"})]}),n.jsx("div",{className:"text-2xl font-bold text-orange-300",children:ee.pendentes})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Bi,{className:"h-5 w-5 text-purple-300"}),n.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Realizadas"})]}),n.jsx("div",{className:"text-2xl font-bold text-purple-300",children:ee.realizadas})]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[n.jsx(we,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30 backdrop-blur-sm transition-all duration-200",asChild:!0,children:n.jsxs(pr,{to:"/secretaria/pacientes",children:[n.jsx(On,{className:"h-4 w-4 mr-2"}),"Ver Pacientes"]})}),n.jsxs(uA,{open:y,onOpenChange:N,children:[n.jsx(jF,{asChild:!0,children:n.jsxs(we,{className:"bg-white text-blue-600 hover:bg-blue-50 transition-all duration-200",children:[n.jsx(V0,{className:"h-4 w-4 mr-2"}),"Agendar Consulta"]})}),n.jsxs(Ac,{children:[n.jsx(dc,{children:n.jsx(uc,{children:"Novo agendamento"})}),n.jsxs("form",{onSubmit:Z,className:"px-6 pb-4 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Mdico"}),n.jsxs(Gr,{value:s??void 0,onValueChange:i,children:[n.jsx(zr,{children:n.jsx(Yr,{placeholder:"Escolha um mdico"})}),n.jsx(qr,{children:J.map(R=>n.jsx(nt,{value:R.value,children:R.label},R.value))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Tipo"}),n.jsxs(Gr,{value:U.tipo,onValueChange:R=>D(q=>({...q,tipo:R})),children:[n.jsx(zr,{children:n.jsx(Yr,{})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"primeira",children:"Primeira consulta"}),n.jsx(nt,{value:"retorno",children:"Retorno"}),n.jsx(nt,{value:"urgencia",children:"Urgncia"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),n.jsx(ms,{value:U.data,onChange:R=>D(q=>({...q,data:R})),minDate:new Date})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Hora"}),n.jsx(Oe,{type:"time",value:U.hora,onChange:R=>D(q=>({...q,hora:R.target.value}))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Paciente"}),n.jsx(Oe,{placeholder:"Digite o nome do paciente...",value:k,onChange:R=>L(R.target.value)}),_&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Buscando..."}),n.jsx("div",{className:"mt-2 border rounded-md max-h-40 overflow-y-auto",children:_?n.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Buscando..."}):I.length===0?k&&k.trim()?n.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Nenhum paciente encontrado"}):null:I.map(R=>{var F,X,H,V;const q=(R==null?void 0:R.id)||((F=R==null?void 0:R.user)==null?void 0:F.id)||((X=R==null?void 0:R.paciente)==null?void 0:X.id),te=(R==null?void 0:R.nome)||(R!=null&&R.user?`${R.user.first_name||""} ${R.user.last_name||""}`.trim():(H=R==null?void 0:R.paciente)!=null&&H.user?`${R.paciente.user.first_name||""} ${R.paciente.user.last_name||""}`.trim():((V=R==null?void 0:R.user)==null?void 0:V.username)||"Paciente");return n.jsxs("div",{className:"p-2 hover:bg-muted cursor-pointer text-sm flex justify-between",onClick:()=>{q&&D(ae=>({...ae,pacienteId:q})),L(te),$([])},children:[n.jsx("span",{children:te}),(R==null?void 0:R.cpf)&&n.jsx("span",{className:"text-muted-foreground",children:R.cpf})]},String(q||Math.random()))})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Motivo"}),n.jsx(Oe,{placeholder:"Motivo da consulta",value:U.motivo,onChange:R=>D(q=>({...q,motivo:R.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Observaes"}),n.jsx(la,{placeholder:"Observaes adicionais",value:U.observacoes,onChange:R=>D(q=>({...q,observacoes:R.target.value}))})]}),n.jsxs(fA,{children:[n.jsx(we,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Cancelar"}),n.jsx(we,{type:"submit",disabled:C,children:C?"Agendando...":"Agendar"})]})]})]})]})]})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(De,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50",children:[n.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Xe,{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"Total Consultas"}),n.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:n.jsx(br,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:ee.total}),n.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"Consultas hoje"})]})]}),n.jsxs(De,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[n.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Xe,{className:"text-sm font-semibold text-green-700 dark:text-green-300",children:"Confirmadas"}),n.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:n.jsx(po,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:ee.confirmadas}),n.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"Consultas confirmadas"})]})]}),n.jsxs(De,{className:"border-0 shadow-lg bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950/50 dark:to-orange-900/50",children:[n.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Xe,{className:"text-sm font-semibold text-orange-700 dark:text-orange-300",children:"Pendentes"}),n.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:n.jsx($r,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-orange-900 dark:text-orange-100",children:ee.pendentes}),n.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:"Aguardando confirmao"})]})]}),n.jsxs(De,{className:"border-0 shadow-lg bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50",children:[n.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Xe,{className:"text-sm font-semibold text-purple-700 dark:text-purple-300",children:"Realizadas"}),n.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:n.jsx(Bi,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:ee.realizadas}),n.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"Consultas finalizadas"})]})]})]}),n.jsxs(De,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[n.jsx(Ve,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(aa,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-slate-800",children:"Selecione o mdico"}),n.jsx(vr,{className:"text-slate-600",children:"Visualize rapidamente as consultas de hoje do mdico selecionado."})]})]})}),n.jsx(Le,{className:"p-6",children:o?n.jsx(Cr,{className:"h-10 w-72"}):n.jsx("div",{className:"w-72",children:n.jsxs(Gr,{value:s??void 0,onValueChange:R=>i(R),children:[n.jsx(zr,{className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:n.jsx(Yr,{placeholder:J.length?"Escolha um mdico":"Nenhum mdico disponvel"})}),n.jsx(qr,{children:J.length===0?n.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Nenhum mdico disponvel"}):J.map(R=>n.jsx(nt,{value:R.value,children:R.label},R.value))})]})})})]}),n.jsxs(De,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[n.jsx(Ve,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:n.jsx("div",{className:"flex items-center justify-between gap-3",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(br,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-slate-800",children:"Consultas de hoje"}),n.jsx(vr,{className:"text-slate-600",children:A?"Carregando...":`${M.length} consulta(s) encontrada(s)`})]})]})})}),n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Oe,{placeholder:"Buscar por paciente...",value:g,onChange:R=>w(R.target.value),className:"max-w-sm bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700"})}),n.jsxs(Gr,{value:p,onValueChange:v,children:[n.jsx(zr,{className:"w-48 bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:n.jsx(Yr,{})}),n.jsxs(qr,{children:[n.jsx(nt,{value:"todas",children:"Todas"}),n.jsx(nt,{value:"Agendada",children:"Agendadas"}),n.jsx(nt,{value:"Confirmada",children:"Confirmadas"}),n.jsx(nt,{value:"Realizada",children:"Realizadas"}),n.jsx(nt,{value:"Cancelada",children:"Canceladas"})]})]})]}),A?n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((R,q)=>n.jsx(Cr,{className:"h-16 w-full"},q))}):M.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:n.jsx(br,{className:"h-8 w-8 text-slate-400"})}),n.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Nenhuma consulta encontrada"}),n.jsx("p",{className:"text-slate-500 text-sm",children:s?"No h consultas para o mdico selecionado hoje":"Selecione um mdico para ver as consultas"})]}):n.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ga,{className:"bg-slate-50 hover:bg-slate-50",children:[n.jsx(ur,{className:"font-semibold text-slate-700",children:"Horrio"}),n.jsx(ur,{className:"font-semibold text-slate-700",children:"Paciente"}),n.jsx(ur,{className:"font-semibold text-slate-700",children:"Tipo"}),n.jsx(ur,{className:"font-semibold text-slate-700",children:"Status"}),n.jsx(ur,{className:"font-semibold text-slate-700",children:"Aes"})]})}),n.jsx(wo,{children:M.map(R=>(R.status,["Agendada","Confirmada"].includes(R.status),R.status,n.jsxs(Ga,{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 border-b border-slate-100",children:[n.jsx(ir,{className:"font-medium text-slate-900",children:(()=>{if(!(R!=null&&R.dataHora))return"";try{const q=new Date(R.dataHora);if(!isNaN(q.getTime()))return q.toLocaleString([],{dateStyle:"short",timeStyle:"short"});const te=String(R.dataHora).match(/^(\d{4}-\d{2}-\d{2})T(\d{2}:\d{2})/);if(te)return`${te[1]} ${te[2]}`}catch{}return String(R.dataHora)})()}),n.jsx(ir,{className:"text-slate-700",children:R.pacienteNome}),n.jsx(ir,{className:"text-slate-600",children:R.tipo||"Consulta"}),n.jsx(ir,{children:n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${R.status==="Confirmada"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":R.status==="Agendada"?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400":R.status==="Realizada"?"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:R.status})}),n.jsx(ir,{children:n.jsxs("div",{className:"flex gap-2",children:[R.status==="Agendada"&&n.jsxs(we,{size:"sm",variant:"outline",onClick:()=>G(R),className:"bg-green-50 border-green-200 text-green-700 hover:bg-green-100",children:[n.jsx(po,{className:"h-4 w-4 mr-1"})," Confirmar"]}),["Agendada","Confirmada"].includes(R.status)&&n.jsxs(we,{size:"sm",variant:"outline",onClick:()=>z(R),className:"bg-red-50 border-red-200 text-red-700 hover:bg-red-100",children:[n.jsx(fs,{className:"h-4 w-4 mr-1"})," Cancelar"]})]})})]},R.id)))})]})})]})]})]})}function XX(e={}){var i,o,l;const r=e.paciente_nome||((i=e==null?void 0:e.paciente)==null?void 0:i.nome)||((o=e==null?void 0:e.paciente)!=null&&o.user?[e.paciente.user.first_name,e.paciente.user.last_name].filter(Boolean).join(" "):null)||"Paciente",t=e.data_hora||e.horario||e.inicio||e.data||e.start_time||"",a=e.status||"Agendada",s=e.clinica_nome||((l=e==null?void 0:e.clinica)==null?void 0:l.nome)||e.local||"";return{id:e.id||e.consulta_id||Math.random().toString(36).slice(2),pacienteNome:r,dataHora:t,status:a,clinica:s,tipo:e.tipo||e.modalidade||"Consulta"}}function JX(){const[e,r]=b.useState([]),[t,a]=b.useState(""),[s,i]=b.useState(""),[o,l]=b.useState(""),[A,d]=b.useState(!1),[f,h]=b.useState([]);b.useEffect(()=>{let v=!0;return(async()=>{try{const g=await Ia.listarMedicos();if(!v)return;r(Array.isArray(g)?g:[]);const w=localStorage.getItem("secretaria.medicoId");w&&a(String(w))}catch{}})(),()=>{v=!1}},[]);const m=async()=>{if(!t)return h([]);d(!0);try{localStorage.setItem("secretaria.medicoId",String(t));const v={};o&&(v.date=o);const g=await Xt.getConsultasDoMedico({...v,medico:t}),y=(Array.isArray(g)?g:Array.isArray(g==null?void 0:g.results)?g.results:[]).map(XX);h(s?y.filter(N=>N.pacienteNome.toLowerCase().includes(s.toLowerCase())):y)}catch{h([])}finally{d(!1)}};b.useEffect(()=>{m()},[t]);const p=b.useMemo(()=>e.map(v=>{var g;return{value:String(v.id),label:v.nome||((g=v==null?void 0:v.user)==null?void 0:g.first_name)||`Mdico #${v.id}`}}),[e]);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(br,{className:"h-5 w-5 text-primary"}),n.jsx("h1",{className:"text-2xl font-semibold",children:"Consultas"})]}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(aa,{className:"h-5 w-5"})," Filtros"]})}),n.jsx(Le,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Mdico"}),n.jsxs(Gr,{value:t||void 0,onValueChange:v=>a(v),children:[n.jsx(zr,{children:n.jsx(Yr,{placeholder:"Escolha um mdico"})}),n.jsx(qr,{children:p.map(v=>n.jsx(nt,{value:v.value,children:v.label},v.value))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),n.jsx(ms,{value:o,onChange:l})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar por paciente"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Oe,{placeholder:"Nome do paciente",value:s,onChange:v=>i(v.target.value)}),n.jsxs(we,{onClick:m,children:[n.jsx(js,{className:"h-4 w-4 mr-2"}),"Buscar"]})]})]})]})})]}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Resultados"})}),n.jsx(Le,{children:A?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):f.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma consulta encontrada."}):n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ga,{children:[n.jsx(ur,{children:"Paciente"}),n.jsx(ur,{children:"Data/Hora"}),n.jsx(ur,{children:"Tipo"}),n.jsx(ur,{children:"Status"}),n.jsx(ur,{children:"Clnica"})]})}),n.jsx(wo,{children:f.map(v=>n.jsxs(Ga,{children:[n.jsx(ir,{children:v.pacienteNome}),n.jsx(ir,{children:v.dataHora||""}),n.jsx(ir,{children:v.tipo}),n.jsx(ir,{children:v.status}),n.jsx(ir,{children:v.clinica})]},v.id))})]})})]})]})}function r5(e={}){const r=(e==null?void 0:e.user)||{};return(e==null?void 0:e.nome)||[r.first_name,r.last_name].filter(Boolean).join(" ")||r.username||`Paciente #${(e==null?void 0:e.id)||"?"}`}function ZX(){const[e,r]=b.useState([]),[t,a]=b.useState(""),[s,i]=b.useState(""),[o,l]=b.useState(!1),[A,d]=b.useState([]),{toast:f}=Ka(),[h,m]=b.useState(!1),[p,v]=b.useState(!1),[g,w]=b.useState({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""}),y=D=>{const k=String(D||"").replace(/\D/g,"").slice(0,11),L=k.slice(0,3),_=k.slice(3,6),Y=k.slice(6,9),I=k.slice(9,11);return k.length>9?`${L}.${_}.${Y}-${I}`:k.length>6?`${L}.${_}.${Y}`:k.length>3?`${L}.${_}`:L},N=D=>{const{name:k,value:L}=D.target;if(k==="cpf")return w(_=>({..._,cpf:y(L)}));w(_=>({..._,[k]:L}))};b.useEffect(()=>{let D=!0;return(async()=>{try{const k=await Ia.listarMedicos();if(!D)return;r(Array.isArray(k)?k:[]);const L=localStorage.getItem("secretaria.medicoId");L&&a(String(L))}catch{}})(),()=>{D=!1}},[]);const C=async()=>{if(!t)return d([]);l(!0);try{const D=await Xt.getPacientesVinculados(t),k=Array.isArray(D)?D:Array.isArray(D==null?void 0:D.results)?D.results:[];d(k)}catch{d([])}finally{l(!1)}};b.useEffect(()=>{C()},[t]);const E=b.useMemo(()=>A.filter(D=>r5(D).toLowerCase().includes(s.toLowerCase())),[A,s]),U=async D=>{var k,L;if((k=D==null?void 0:D.preventDefault)==null||k.call(D),!g.nome||!g.email||!g.senha||!g.confirmSenha){f({title:"Campos obrigatrios",description:"Preencha nome, email e senha.",variant:"destructive"});return}if(g.senha!==g.confirmSenha){f({title:"Senhas no conferem",description:"A confirmao deve ser igual  senha.",variant:"destructive"});return}v(!0);try{await Ia.registrarPaciente(g),f({title:"Paciente cadastrado",description:"O paciente foi criado com sucesso. Ele aparecer na lista do mdico aps o primeiro vnculo (ex.: agendamento de consulta)."}),m(!1),w({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""})}catch(_){const Y=(L=_==null?void 0:_.response)!=null&&L.data?JSON.stringify(_.response.data):(_==null?void 0:_.message)||"Falha ao cadastrar";f({title:"Erro ao cadastrar",description:Y,variant:"destructive"})}finally{v(!1)}};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(As,{className:"h-5 w-5 text-primary"}),n.jsx("h1",{className:"text-2xl font-semibold",children:"Pacientes"})]}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"flex items-center gap-2 justify-between",children:[n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(js,{className:"h-5 w-5"})," Filtros"]}),n.jsxs(uA,{open:h,onOpenChange:m,children:[n.jsx(jF,{asChild:!0,children:n.jsxs("button",{className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[n.jsx(mu,{className:"h-4 w-4 mr-2"})," Cadastrar Paciente"]})}),n.jsxs(Ac,{className:"max-w-lg",children:[n.jsxs(dc,{children:[n.jsx(uc,{children:"Novo Paciente"}),n.jsx(Tm,{children:"Preencha os dados bsicos para criar a conta do paciente."})]}),n.jsxs("form",{className:"space-y-3",onSubmit:U,children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Nome completo"}),n.jsx(Oe,{name:"nome",value:g.nome,onChange:N,placeholder:"Ex.: Maria Silva"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"E-mail"}),n.jsx(Oe,{name:"email",value:g.email,onChange:N,type:"email",placeholder:"email@exemplo.com"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"CPF"}),n.jsx(Oe,{name:"cpf",value:g.cpf,onChange:N,placeholder:"000.000.000-00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Telefone"}),n.jsx(Oe,{name:"telefone",value:g.telefone,onChange:N,placeholder:"(00) 00000-0000"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Data de nascimento"}),n.jsx(ms,{name:"data_nascimento",value:g.data_nascimento,onChange:D=>N({target:{name:"data_nascimento",value:D}}),maxDate:new Date})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Endereo"}),n.jsx(Oe,{name:"endereco",value:g.endereco,onChange:N,placeholder:"Rua, nmero, bairro"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Senha"}),n.jsx(Oe,{name:"senha",type:"password",value:g.senha,onChange:N})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Confirmar senha"}),n.jsx(Oe,{name:"confirmSenha",type:"password",value:g.confirmSenha,onChange:N})]})]}),n.jsxs(fA,{children:[n.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-3 py-2 rounded-md text-sm border mr-2",children:"Cancelar"}),n.jsx("button",{type:"submit",disabled:p,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 disabled:opacity-50",children:p?"Salvando...":"Criar"})]})]})]})]})]})}),n.jsx(Le,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Mdico"}),n.jsxs(Gr,{value:t||void 0,onValueChange:D=>{a(D);try{localStorage.setItem("secretaria.medicoId",String(D))}catch{}},children:[n.jsx(zr,{children:n.jsx(Yr,{placeholder:"Escolha um mdico"})}),n.jsx(qr,{children:e.map(D=>{var L,_;const k=(D==null?void 0:D.nome)||[(L=D==null?void 0:D.user)==null?void 0:L.first_name,(_=D==null?void 0:D.user)==null?void 0:_.last_name].filter(Boolean).join(" ")||`Mdico #${D==null?void 0:D.id}`;return n.jsx(nt,{value:String(D.id),children:k},D.id)})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar"}),n.jsx(Oe,{placeholder:"Nome do paciente",value:s,onChange:D=>i(D.target.value)})]}),n.jsx("div",{className:"flex items-end gap-2",children:n.jsxs("button",{onClick:C,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[n.jsx(aa,{className:"h-4 w-4 mr-2"})," Buscar"]})})]})})]}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Lista"})}),n.jsx(Le,{children:o?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):E.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum paciente encontrado."}):n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ga,{children:[n.jsx(ur,{children:"Nome"}),n.jsx(ur,{children:"Contato"})]})}),n.jsx(wo,{children:E.map(D=>{var k,L;return n.jsxs(Ga,{children:[n.jsx(ir,{children:r5(D)}),n.jsxs(ir,{className:"text-sm text-muted-foreground",children:[n.jsxs("div",{children:[n.jsx(rA,{className:"inline h-4 w-4 mr-1"})," ",((k=D==null?void 0:D.user)==null?void 0:k.phone)||""]}),n.jsxs("div",{children:[n.jsx(wl,{className:"inline h-4 w-4 mr-1"})," ",((L=D==null?void 0:D.user)==null?void 0:L.email)||""]})]})]},D.id)})})]})})]})]})}function a5(e){const r=(e==null?void 0:e.user)||{};return(e==null?void 0:e.nome)||[r.first_name,r.last_name].filter(Boolean).join(" ")||r.username||`Mdico #${(e==null?void 0:e.id)||"?"}`}function eJ(){const[e,r]=b.useState(""),[t,a]=b.useState([]),[s,i]=b.useState(!0);b.useEffect(()=>{let l=!0;return(async()=>{i(!0);try{const A=await Ia.listarMedicos();if(!l)return;a(Array.isArray(A)?A:[])}finally{l&&i(!1)}})(),()=>{l=!1}},[]);const o=b.useMemo(()=>t.filter(l=>a5(l).toLowerCase().includes(e.toLowerCase())),[t,e]);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(aa,{className:"h-5 w-5 text-primary"}),n.jsx("h1",{className:"text-2xl font-semibold",children:"Mdicos"})]}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(js,{className:"h-5 w-5"})," Buscar"]})}),n.jsx(Le,{children:n.jsx(Oe,{placeholder:"Digite o nome do mdico",value:e,onChange:l=>r(l.target.value)})})]}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Resultados"})}),n.jsx(Le,{children:s?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):o.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum mdico encontrado."}):n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ga,{children:[n.jsx(ur,{children:"Nome"}),n.jsx(ur,{children:"CRM"}),n.jsx(ur,{children:"Especialidade"}),n.jsx(ur,{children:"Contato"})]})}),n.jsx(wo,{children:o.map(l=>{var A,d;return n.jsxs(Ga,{children:[n.jsxs(ir,{className:"font-medium flex items-center gap-2",children:[n.jsx(On,{className:"h-4 w-4"})," ",a5(l)]}),n.jsx(ir,{children:l.crm||""}),n.jsx(ir,{children:l.especialidade||""}),n.jsxs(ir,{className:"text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rA,{className:"h-4 w-4"})," ",l.telefone||((A=l==null?void 0:l.user)==null?void 0:A.phone)||""]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wl,{className:"h-4 w-4"})," ",((d=l==null?void 0:l.user)==null?void 0:d.email)||""]})]})]},l.id)})})]})})]})]})}const tJ={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},rJ=(e,r,t)=>{let a;const s=tJ[e];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",String(r)),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"em "+a:"h "+a:a},aJ={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},nJ={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},sJ={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iJ={date:Ef({formats:aJ,defaultWidth:"full"}),time:Ef({formats:nJ,defaultWidth:"full"}),dateTime:Ef({formats:sJ,defaultWidth:"full"})},oJ={lastWeek:e=>{const r=e.getDay();return"'"+(r===0||r===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},lJ=(e,r,t,a)=>{const s=oJ[e];return typeof s=="function"?s(r):s},cJ={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},AJ={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},dJ={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},uJ={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},fJ={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},hJ={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},mJ=(e,r)=>{const t=Number(e);return(r==null?void 0:r.unit)==="week"?t+"":t+""},pJ={ordinalNumber:mJ,era:Yl({values:cJ,defaultWidth:"wide"}),quarter:Yl({values:AJ,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Yl({values:dJ,defaultWidth:"wide"}),day:Yl({values:uJ,defaultWidth:"wide"}),dayPeriod:Yl({values:fJ,defaultWidth:"wide",formattingValues:hJ,defaultFormattingWidth:"wide"})},gJ=/^(\d+)[o]?/i,xJ=/\d+/i,vJ={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},wJ={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},yJ={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},bJ={any:[/1/i,/2/i,/3/i,/4/i]},jJ={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},NJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},BJ={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},CJ={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},SJ={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},_J={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},EJ={ordinalNumber:WE({matchPattern:gJ,parsePattern:xJ,valueCallback:e=>parseInt(e,10)}),era:Xl({matchPatterns:vJ,defaultMatchWidth:"wide",parsePatterns:wJ,defaultParseWidth:"any"}),quarter:Xl({matchPatterns:yJ,defaultMatchWidth:"wide",parsePatterns:bJ,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Xl({matchPatterns:jJ,defaultMatchWidth:"wide",parsePatterns:NJ,defaultParseWidth:"any"}),day:Xl({matchPatterns:BJ,defaultMatchWidth:"wide",parsePatterns:CJ,defaultParseWidth:"any"}),dayPeriod:Xl({matchPatterns:SJ,defaultMatchWidth:"any",parsePatterns:_J,defaultParseWidth:"any"})},n5={code:"pt-BR",formatDistance:rJ,formatLong:iJ,formatRelative:lJ,localize:pJ,match:EJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function FJ(e=8,r=18){const t=[];for(let a=e;a<r;a++){const s=String(a).padStart(2,"0")+":00";t.push(s)}return t}function s5(e){const r=[e.hora,e.horario,e.data_hora,e.inicio,e.start_time];for(const t of r)if(t){if(typeof t=="string"){const a=t.match(/(\d{2}):(\d{2})/);if(a)return`${a[1]}:${a[2]}`;const s=t.match(/T(\d{2}):(\d{2})/);if(s)return`${s[1]}:${s[2]}`}if(t instanceof Date){const a=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0");return`${a}:${s}`}}return null}function i5(e){var r,t,a;return(e==null?void 0:e.paciente_nome)||((r=e==null?void 0:e.paciente)==null?void 0:r.nome)||((t=e==null?void 0:e.paciente)==null?void 0:t.fullName)||((a=e==null?void 0:e.paciente)==null?void 0:a.name)||(e==null?void 0:e.nome_paciente)||"(Paciente)"}function WA(e){return(e==null?void 0:e.id)||(e==null?void 0:e.consulta_id)||(e==null?void 0:e.agendamento_id)||(e==null?void 0:e.pk)||null}function L0(e){const r=String(e||"").toLowerCase();return r?r.includes("cancel")?"cancelada":r.includes("confirm")?"confirmada":r.includes("realiz")||r.includes("conclu")?"realizada":r.includes("andamento")||r.includes("em_andamento")?"em_andamento":r.includes("agend")?"aguardando":r:"aguardando"}function kJ(e){const r=L0(e);return{label:r==="confirmada"?"Confirmada":r==="cancelada"?"Cancelada":r==="realizada"?"Realizada":r==="em_andamento"?"Em andamento":"Aguardando",variant:r==="confirmada"?"success":r==="cancelada"?"destructive":r==="realizada"?"info":r==="em_andamento"?"warning":"outline"}}function DJ(e){const r=L0(e);return r==="confirmada"?"bg-green-50":r==="cancelada"?"bg-red-50":r==="realizada"?"bg-blue-50":r==="em_andamento"?"bg-yellow-50":""}function UJ(){const[e,r]=b.useState([]),[t,a]=b.useState(""),[s,i]=b.useState(new Date),[o,l]=b.useState([]),[A,d]=b.useState(!1),[f,h]=b.useState(!1),[m,p]=b.useState(null),[v,g]=b.useState(""),[w,y]=b.useState([]),[N,C]=b.useState(null),[E,U]=b.useState(""),[D,k]=b.useState(!1),[L,_]=b.useState(null),[Y,I]=b.useState(()=>parseInt(localStorage.getItem("secretaria.agenda.inicio")||"8",10)),[$,J]=b.useState(()=>parseInt(localStorage.getItem("secretaria.agenda.fim")||"18",10)),M=b.useMemo(()=>FJ(Y,$),[Y,$]);b.useEffect(()=>{async function F(){try{const X=await Ia.listarMedicos();r(X||[]),!t&&(X!=null&&X.length)&&a(String(X[0].id||X[0].medico_id))}catch(X){console.error("Erro ao listar mdicos",X)}}F()},[]),b.useEffect(()=>{async function F(){if(!(!t||!s)){d(!0);try{const X=ZA(s,"yyyy-MM-dd"),H=await Xt.getConsultasDoMedico(t,{date:X}),V=Array.isArray(H)?H:Array.isArray(H==null?void 0:H.results)?H.results:(H==null?void 0:H.consultas)||[];l(V||[])}catch(X){console.error("Erro ao buscar consultas",X)}finally{d(!1)}}}F()},[t,s]);const re=b.useMemo(()=>{const F=new Map;for(const X of o){const H=s5(X);H&&F.set(H,X)}return F},[o]);async function K(F){k(!1),_(null),p(F),h(!0),g(""),y([]),C(null),U("")}async function G(F){var ae,fe,ve,Be;const X=re.get(F);if(!X)return;k(!0),_(X),p(F),h(!0);const H=(X==null?void 0:X.paciente_id)||((ae=X==null?void 0:X.paciente)==null?void 0:ae.id),V=(X==null?void 0:X.paciente_nome)||((fe=X==null?void 0:X.paciente)==null?void 0:fe.nome)||((ve=X==null?void 0:X.paciente)==null?void 0:ve.fullName)||((Be=X==null?void 0:X.paciente)==null?void 0:Be.name);(H||V)&&C({id:H,nome:V}),U((X==null?void 0:X.observacoes)||(X==null?void 0:X.notes)||"")}async function z(F){if(g(F),!F||F.length<2){y([]);return}try{const X=await Ia.buscarPacientes(F);y(X||[])}catch(X){console.error("Erro ao buscar pacientes",X)}}async function Z(){if(D){const F=WA(L);if(!F){alert("Consulta sem ID vlido para edio.");return}try{const X={};N!=null&&N.id&&(X.pacienteId=N.id),E&&(X.observacoes=E),await Ia.atualizarConsulta(F,X),l(H=>H.map(V=>WA(V)===F?{...V,paciente_id:(N==null?void 0:N.id)||V.paciente_id,paciente_nome:(N==null?void 0:N.nome)||i5(V),observacoes:E}:V)),h(!1),k(!1),_(null)}catch(X){console.error("Erro ao editar consulta",X),alert("Falha ao editar consulta.")}return}if(!(!N||!m||!t)){if(re.has(m)){alert("Horrio j ocupado. Escolha outro horrio.");return}try{const F=ZA(s,"yyyy-MM-dd");try{const X=await Ia.getConsultasDoMedico(t,{date:F});if(((Array.isArray(X)?X:Array.isArray(X==null?void 0:X.results)?X.results:(X==null?void 0:X.consultas)||[])||[]).some(ae=>s5(ae)===m)){alert("Horrio indisponvel no servidor. Selecione outro horrio.");return}}catch{}await Ia.agendarConsulta({pacienteId:N.id||N.paciente_id,medicoId:t,data:F,hora:m,tipo:"rotina",motivo:"Agendado pela secretria",observacoes:E}),l(X=>[...X,{hora:m,paciente_nome:N.nome||N.fullName||N.name||"Paciente",status:"Confirmada"}]),h(!1)}catch(F){console.error("Erro ao agendar",F),alert("Falha ao agendar. Verifique disponibilidade ou tente novamente.")}}}async function Ae(F){const X=re.get(F);if(!X)return;const H=WA(X);if(H)try{await Ia.confirmarConsulta(H),l(V=>V.map(ae=>WA(ae)===H?{...ae,status:"Confirmada"}:ae))}catch(V){console.error("Erro ao confirmar",V),alert("No foi possvel confirmar a consulta.")}}async function ee(F){const X=re.get(F);if(!X)return;const H=WA(X);if(!H)return;const V=window.prompt("Motivo do cancelamento:","Cancelado pela secretria");try{await Ia.cancelarConsulta(H,V||""),l(ae=>ae.map(fe=>WA(fe)===H?{...fe,status:"Cancelada"}:fe))}catch(ae){console.error("Erro ao cancelar",ae),alert("No foi possvel cancelar a consulta.")}}async function R(F){const X=re.get(F);if(!X)return;const H=WA(X);if(H)try{await Ia.registrarPresenca(H),l(V=>V.map(ae=>WA(ae)===H?{...ae,status:"Realizada"}:ae))}catch(V){console.error("Erro ao marcar presena",V),alert("No foi possvel marcar presena.")}}function q(){const F=ZA(s,"LLLL",{locale:n5}),X=ZA(s,"EEEE",{locale:n5}),H=ZA(s,"d");return`${F.charAt(0).toUpperCase()+F.slice(1)}  ${X.charAt(0).toUpperCase()+X.slice(1)}  ${H}`}const te=Array.from({length:17},(F,X)=>X+6);return n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Agenda diria"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:q()})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsx("div",{className:"w-52",children:n.jsx(ms,{date:s,onChange:i})}),n.jsxs(Gr,{value:t,onValueChange:F=>a(String(F)),children:[n.jsx(zr,{className:"min-w-[220px]",children:n.jsx(Yr,{placeholder:"Selecione o mdico"})}),n.jsx(qr,{children:e.map(F=>n.jsx(nt,{value:String(F.id||F.medico_id),children:F.nome||F.fullName||F.name},F.id||F.medico_id))})]}),n.jsxs(Gr,{value:String(Y),onValueChange:F=>{I(Number(F)),localStorage.setItem("secretaria.agenda.inicio",String(F))},children:[n.jsx(zr,{className:"w-24",children:n.jsx(Yr,{placeholder:"Incio"})}),n.jsx(qr,{children:te.map(F=>n.jsxs(nt,{value:String(F),children:[String(F).padStart(2,"0"),":00"]},`inicio-${F}`))})]}),n.jsxs(Gr,{value:String($),onValueChange:F=>{J(Number(F)),localStorage.setItem("secretaria.agenda.fim",String(F))},children:[n.jsx(zr,{className:"w-24",children:n.jsx(Yr,{placeholder:"Fim"})}),n.jsx(qr,{children:te.map(F=>n.jsxs(nt,{value:String(F),children:[String(F).padStart(2,"0"),":00"]},`fim-${F}`))})]}),n.jsx(we,{variant:"secondary",onClick:()=>{i(new Date(s))},children:"Atualizar"})]}),n.jsx(De,{className:"p-0 overflow-hidden",children:n.jsx("div",{className:"divide-y",children:M.map(F=>{const X=re.get(F),H=X?i5(X):null,V=X?kJ(X==null?void 0:X.status):null,ae=X?DJ(X==null?void 0:X.status):"";return n.jsxs("div",{className:`flex items-center justify-between px-4 py-3 hover:bg-muted/40 ${ae}`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-16 text-sm font-medium",children:F}),n.jsx("div",{className:"text-sm flex items-center gap-2",children:H?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:H}),V&&n.jsx(lr,{variant:V.variant,className:"text-xs",children:V.label})]}):n.jsx("span",{className:"text-muted-foreground",children:"(vago)"})})]}),n.jsx("div",{className:"flex items-center gap-2",children:H?n.jsxs(n.Fragment,{children:[n.jsx(we,{size:"sm",variant:"outline",onClick:()=>Ae(F),disabled:L0(X==null?void 0:X.status)==="confirmada",children:"Confirmar"}),n.jsx(we,{size:"sm",variant:"outline",onClick:()=>R(F),disabled:L0(X==null?void 0:X.status)==="cancelada",children:"Presena"}),n.jsx(we,{size:"sm",variant:"outline",onClick:()=>G(F),children:"Editar"}),n.jsx(we,{size:"sm",variant:"destructive",onClick:()=>ee(F),children:"Cancelar"})]}):n.jsx(we,{size:"sm",onClick:()=>K(F),children:"Agendar"})})]},F)})})}),n.jsx(uA,{open:f,onOpenChange:h,children:n.jsxs(Ac,{children:[n.jsx(dc,{children:n.jsx(uc,{children:D?`Editar ${m}`:`Agendar ${m}`})}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Oe,{placeholder:"Buscar paciente pelo nome",value:v,onChange:F=>z(F.target.value)}),n.jsxs("div",{className:"max-h-48 overflow-auto border rounded",children:[(w||[]).map(F=>n.jsx("div",{className:`px-3 py-2 cursor-pointer hover:bg-muted ${((N==null?void 0:N.id)||(N==null?void 0:N.paciente_id))===(F.id||F.paciente_id)?"bg-muted":""}`,onClick:()=>C(F),children:F.nome||F.fullName||F.name},F.id||F.paciente_id)),(!w||w.length===0)&&n.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:"Digite ao menos 2 letras para buscar"})]}),n.jsx(Oe,{placeholder:"Observaes (opcional)",value:E,onChange:F=>U(F.target.value)})]}),n.jsxs(fA,{children:[n.jsx(we,{variant:"outline",onClick:()=>h(!1),children:"Cancelar"}),n.jsx(we,{onClick:Z,disabled:!D&&!N,children:D?"Salvar":"Confirmar"})]})]})}),A&&n.jsx("div",{className:"text-sm text-muted-foreground",children:"Carregando consultas"})]})}function LJ(){const{toast:e}=Ka(),r=$n(),t=as(),[a,s]=b.useState(!1),[i,o]=b.useState("ready"),[l,A]=b.useState(null),[d,f]=b.useState(!1),h=b.useMemo(()=>{const y=new URL(window.location.href);return{id:y.searchParams.get("id")||y.searchParams.get("receita")||y.searchParams.get("receita_id"),token:y.searchParams.get("token")||y.searchParams.get("t"),url:y.searchParams.get("url")||y.searchParams.get("download")||y.searchParams.get("arquivo")||null,email:y.searchParams.get("email")||null}},[t.search]),m=y=>{try{const N=y.replace(/\?.*$/,"");return N.toLowerCase().endsWith(".pdf")?N:`${N}.pdf`}catch{return"Receita.pdf"}},p=(y,N)=>{const C=document.createElement("a"),E=URL.createObjectURL(y);C.href=E,C.download=decodeURIComponent(N),document.body.appendChild(C),C.click(),C.remove(),setTimeout(()=>URL.revokeObjectURL(E),2e3)},v=async y=>{var C;let N=y;if(!N)return!1;try{/^https?:\/\//i.test(N)||(N=`${"https://tcc-back-ktwy.onrender.com".replace(/\/$/,"")}${N.startsWith("/")?"":"/"}${N}`);const E=await ye.get(N,{responseType:"blob",baseURL:""}),U=new Blob([E.data],{type:E.headers["content-type"]||"application/pdf"}),D=E.headers["content-disposition"]||"",k=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(D);let L=(k==null?void 0:k[1])||(k==null?void 0:k[2])||"Receita.pdf";return L=m(L),p(U,L),!0}catch(E){return console.warn("[ReceberReceita] download direto falhou:",((C=E==null?void 0:E.response)==null?void 0:C.status)||E),!1}},g=async y=>{var N;if(!y)return!1;try{const C=await ha.getReceitas({__propagateErrors:!0}),U=(Array.isArray(C)?C:Array.isArray(C==null?void 0:C.results)?C.results:[]).find(k=>String(k.id||k.pk||k.uuid)===String(y)),D=(U==null?void 0:U.arquivo_assinado)||(U==null?void 0:U.pdf)||(U==null?void 0:U.documento)||null;return D?await v(D):!1}catch(C){return console.warn("[ReceberReceita] busca por ID falhou:",((N=C==null?void 0:C.response)==null?void 0:N.status)||C),!1}},w=async()=>{s(!0),A(null),o("processing");try{if(await v(h.url)){f(!0),o("done"),e({title:"Receita baixada",description:"O PDF foi baixado com sucesso."});return}if(await g(h.id)){f(!0),o("done"),e({title:"Receita baixada",description:"O PDF foi baixado com sucesso."});return}o("error"),A("No foi possvel localizar a receita. Verifique se o link no expirou ou faa login para acess-la."),e({title:"Link invlido",description:"No foi possvel localizar a receita.",variant:"destructive"})}finally{s(!1)}};return b.useEffect(()=>{(h.url||h.id)&&w()},[h.url,h.id]),n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Receber Receita"})}),n.jsxs(Le,{className:"space-y-4",children:[i==="done"?n.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[n.jsx(lr,{variant:"outline",children:"Concludo"}),n.jsx("span",{children:"O download da receita foi iniciado."})]}):i==="processing"?n.jsxs("div",{className:"flex items-center gap-2 text-blue-700",children:[n.jsx(lr,{variant:"outline",children:"Processando"}),n.jsx("span",{children:"Estamos validando seu link e preparando o download..."})]}):i==="error"?n.jsxs("div",{className:"text-red-700",children:[n.jsx(lr,{variant:"destructive",className:"mb-2",children:"Erro"}),n.jsx("p",{className:"text-sm",children:l||"Falha ao processar o link."})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cole o link recebido por e-mail, ou utilize o acesso direto com login."}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Link direto do arquivo (opcional)"}),n.jsx(Oe,{defaultValue:h.url||"",placeholder:"https://.../receita.pdf",onBlur:y=>{const N=new URL(window.location.href);y.target.value?N.searchParams.set("url",y.target.value):N.searchParams.delete("url"),r({pathname:N.pathname,search:N.search})}})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"ID da Receita (opcional)"}),n.jsx(Oe,{defaultValue:h.id||"",placeholder:"123",onBlur:y=>{const N=new URL(window.location.href);y.target.value?N.searchParams.set("id",y.target.value):N.searchParams.delete("id"),r({pathname:N.pathname,search:N.search})}})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(we,{onClick:w,disabled:a,children:a?"Processando...":"Receber"}),n.jsx(we,{variant:"outline",onClick:()=>r("/paciente/receitas"),children:"Ir para Minhas Receitas"})]})]})]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Dica: se o link tiver expirado, faa login e acesse suas receitas na rea do paciente."})]})})}function IJ(){var h,m,p,v;const{id:e}=zo(),[r,t]=b.useState(null),[a,s]=b.useState(!0),[i,o]=b.useState(null);if(b.useEffect(()=>{async function g(){var w,y;try{s(!0);const N=await ye.get(`/receitas/${e}/verificar/`);t(N.data)}catch(N){o(((y=(w=N.response)==null?void 0:w.data)==null?void 0:y.detail)||"Receita no encontrada ou invlida")}finally{s(!1)}}e&&g()},[e]),a)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Verificando receita..."})]})});if(i)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-pink-100 flex items-center justify-center",children:n.jsxs(De,{className:"w-full max-w-md",children:[n.jsxs(Ve,{className:"text-center",children:[n.jsx(fs,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),n.jsx(Xe,{className:"text-red-700",children:"Receita Invlida"})]}),n.jsxs(Le,{className:"text-center",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:i}),n.jsx("p",{className:"text-sm text-gray-500",children:"Esta receita pode ter sido alterada, no existe ou no foi assinada digitalmente."})]})]})});const l=(r==null?void 0:r.assinada)&&(r==null?void 0:r.hash_documento),A=r!=null&&r.assinada_em?new Date(r.assinada_em).toLocaleString("pt-BR"):null,d=(m=(h=r==null?void 0:r.consulta)==null?void 0:h.medico)!=null&&m.user?`Dr. ${r.consulta.medico.user.first_name} ${r.consulta.medico.user.last_name}`:(r==null?void 0:r.medico)||"No informado",f=((v=(p=r==null?void 0:r.consulta)==null?void 0:p.medico)==null?void 0:v.crm)||"No informado";return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 py-8",children:n.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[n.jsxs("div",{className:"text-center mb-8",children:[l?n.jsx(po,{className:"h-20 w-20 text-green-500 mx-auto mb-4"}):n.jsx(fs,{className:"h-20 w-20 text-red-500 mx-auto mb-4"}),n.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Verificao de Receita Mdica"}),n.jsx(lr,{variant:l?"default":"destructive",className:"text-lg px-4 py-2",children:l?" Receita Vlida":" Receita Invlida"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(fn,{className:"h-5 w-5"}),"Informaes da Receita"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"ID da Receita"}),n.jsx("p",{className:"font-mono text-sm bg-gray-100 p-2 rounded",children:r==null?void 0:r.id})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Medicamento"}),n.jsx("p",{className:"font-medium",children:(r==null?void 0:r.medicamento)||"No informado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Dosagem"}),n.jsx("p",{children:(r==null?void 0:r.dosagem)||"No informada"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Validade"}),n.jsx("p",{children:(r==null?void 0:r.validade)||"No informada"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Data de Criao"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(br,{className:"h-4 w-4"}),r!=null&&r.created_at?new Date(r.created_at).toLocaleString("pt-BR"):"No informada"]})]})]})]}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(On,{className:"h-5 w-5"}),"Paciente e Mdico"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Paciente"}),n.jsx("p",{className:"font-medium",children:(r==null?void 0:r.nome_paciente)||"No informado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Mdico Responsvel"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(aa,{className:"h-4 w-4"}),d]}),f!=="No informado"&&n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["CRM: ",f]})]}),(r==null?void 0:r.endereco_consultorio)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Consultrio"}),n.jsx("p",{children:r.endereco_consultorio})]})]})]}),n.jsxs(De,{className:"md:col-span-2",children:[n.jsx(Ve,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(po,{className:"h-5 w-5"}),"Assinatura Digital"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status da Assinatura"}),n.jsx(lr,{variant:l?"default":"destructive",className:"mt-1",children:l?"Assinada Digitalmente":"No Assinada"})]}),A&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Data da Assinatura"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(br,{className:"h-4 w-4"}),A]})]})]}),l&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Assinado por"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(aa,{className:"h-4 w-4"}),d," ",f!=="No informado"&&`(CRM: ${f})`]})]}),(r==null?void 0:r.hash_documento)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Hash de Verificao"}),n.jsx("p",{className:"font-mono text-xs bg-gray-100 p-2 rounded break-all",children:r.hash_documento})]}),(r==null?void 0:r.motivo)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Motivo da Assinatura"}),n.jsx("p",{children:r.motivo})]})]})]})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs("p",{className:"text-sm text-gray-500",children:["Esta verificao confirma a autenticidade e integridade da receita mdica.",l&&" A receita foi assinada digitalmente e no foi alterada."]})})]})})}const PJ=()=>{const[e,r]=b.useState("f86c1245-2d66-4e5b-8830-e774c7c0f31f"),[t,a]=b.useState(null),[s,i]=b.useState(!1),[o,l]=b.useState(null),A=async()=>{var f,h,m;if(!e){l("Por favor, insira um ID de receita");return}i(!0),l(null),a(null);try{console.log("Tentando assinar receita com ID:",e);const p={id:e,receita_id:e,algoritmo_assinatura:"SHA256",hash_documento:`test_hash_${Date.now()}`},v=await cX.signPrescription(p);console.log("Resposta da assinatura:",v),a({success:!0,data:v})}catch(p){console.error("Erro na assinatura:",p),l({message:p.message,status:(f=p.response)==null?void 0:f.status,data:(h=p.response)==null?void 0:h.data,url:(m=p.config)==null?void 0:m.url})}finally{i(!1)}},d=async()=>{i(!0),l(null),a(null);try{const f="https://tcc-back-ktwy.onrender.com".replace(/\/$/,""),h="/api".replace(/\/$/,""),m=`${f}${h}`,p=["/receitas/","/receitas/f86c1245-2d66-4e5b-8830-e774c7c0f31f/","/receitas/f86c1245-2d66-4e5b-8830-e774c7c0f31f/assinar/","/auth/login/","/auth/user/"],v={},g=localStorage.getItem("token");for(const w of p)try{const y=w.includes("/assinar/"),N=y?"POST":"GET",C=y?JSON.stringify({algoritmo_assinatura:"SHA256",hash_documento:`test_hash_${Date.now()}`}):void 0,E=await fetch(`${m}${w}`,{method:N,headers:{"Content-Type":"application/json",Authorization:g?`Token ${g}`:"no-token"},body:C});if(v[w]={status:E.status,statusText:E.statusText,ok:E.ok,method:N},y&&E.ok){const U=await E.json();v[w].data=U}}catch(y){v[w]={error:y.message}}a({endpoints:v,token:g?"Token presente":"Token ausente",tokenValue:g?g.substring(0,10)+"...":"N/A"})}catch(f){l(f.message)}finally{i(!1)}};return n.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",margin:"20px",backgroundColor:"#f9f9f9"},children:[n.jsx("h3",{children:"Teste de Assinatura de Receita"}),n.jsx("div",{style:{marginBottom:"20px"},children:n.jsxs("label",{children:["ID da Receita:",n.jsx("input",{type:"text",value:e,onChange:f=>r(f.target.value),placeholder:"Digite o ID da receita",style:{marginLeft:"10px",padding:"5px"}})]})}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("button",{onClick:A,disabled:s,style:{padding:"10px 20px",marginRight:"10px",backgroundColor:"#007bff",color:"white",border:"none",cursor:s?"not-allowed":"pointer"},children:s?"Testando...":"Testar Assinatura"}),n.jsx("button",{onClick:d,disabled:s,style:{padding:"10px 20px",backgroundColor:"#28a745",color:"white",border:"none",cursor:s?"not-allowed":"pointer"},children:s?"Testando...":"Testar Endpoints"})]}),o&&n.jsxs("div",{style:{padding:"10px",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:"4px",marginBottom:"20px"},children:[n.jsx("h4",{children:"Erro:"}),n.jsx("pre",{children:JSON.stringify(o,null,2)})]}),t&&n.jsxs("div",{style:{padding:"10px",backgroundColor:"#d4edda",border:"1px solid #c3e6cb",borderRadius:"4px"},children:[n.jsx("h4",{children:"Resultado:"}),n.jsx("pre",{children:JSON.stringify(t,null,2)})]})]})};function QJ(){const e="Trathea",[r,t]=b.useState(()=>localStorage.getItem("brand_name")||e),[a,s]=b.useState(()=>localStorage.getItem("brand_site_url")||"https://trathea.com.br"),[i,o]=b.useState(()=>$f("brand")||null);b.useEffect(()=>{try{localStorage.setItem("brand_name",r)}catch{}},[r]),b.useEffect(()=>{try{localStorage.setItem("brand_site_url",a)}catch{}},[a]);const l=async d=>{var h;const f=(h=d.target.files)==null?void 0:h[0];if(f)try{const m=await x0("brand",f);try{const p=await Xt._resolveMedicoId().catch(()=>null);p&&await x0(p,f)}catch{}o(m)}catch{}},A=b.useMemo(()=>{try{return new URL(a).href}catch{return""}},[a]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Marca"})}),n.jsx(Le,{className:"space-y-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[i!=null&&i.data?n.jsx("img",{src:i.data,alt:"Logo",className:"h-16 w-16 object-contain rounded border"}):n.jsx("div",{className:"h-16 w-16 rounded border flex items-center justify-center text-sm",children:"Logo"}),n.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Fe,{children:"Nome da marca"}),n.jsx(Oe,{value:r,onChange:d=>t(d.target.value),placeholder:"Trathea"})]}),n.jsxs("div",{children:[n.jsx(Fe,{children:"Logo"}),n.jsx(Oe,{type:"file",accept:"image/*",onChange:l})]})]})]})})]}),n.jsxs(De,{children:[n.jsx(Ve,{children:n.jsx(Xe,{children:"Web View"})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Fe,{children:"URL do site"}),n.jsx(Oe,{value:a,onChange:d=>s(d.target.value),placeholder:"https://exemplo.com"})]}),n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx(we,{type:"button",onClick:()=>s(a.trim()),disabled:!a.trim(),children:"Carregar"}),A?n.jsx("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:"inline-flex",children:n.jsx(we,{type:"button",variant:"outline",children:"Abrir em nova aba"})}):null]})]}),A?n.jsxs("div",{className:"border rounded overflow-hidden",children:[n.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 border-b bg-muted/40",children:[i!=null&&i.data?n.jsx("img",{src:i.data,alt:"Logo",className:"h-6 w-6 object-contain"}):null,n.jsx("div",{className:"font-semibold",children:r}),n.jsx("div",{className:"text-xs text-muted-foreground ml-auto",children:A})]}),n.jsx("iframe",{title:"brand-webview",src:A,className:"w-full h-[70vh]"})]}):n.jsx("div",{className:"text-sm text-muted-foreground",children:"Informe uma URL vlida para exibir em web view."})]})]})]})}function RJ(){return n.jsx(_6,{children:n.jsx(E6,{children:n.jsx(RU,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:n.jsxs(FU,{children:[n.jsx(Tt,{path:"/",element:n.jsx(PX,{})}),n.jsx(Tt,{path:"/login",element:n.jsx(MT,{})}),n.jsx(Tt,{path:"/registrar",element:n.jsx(TT,{})}),n.jsx(Tt,{path:"/esqueci-senha",element:n.jsx(OT,{})}),n.jsx(Tt,{path:"/redefinir-senha/:uid/:token",element:n.jsx(KT,{})}),n.jsx(Tt,{path:"/receber/receita",element:n.jsx(LJ,{})}),n.jsx(Tt,{path:"/verificar/:id",element:n.jsx(IJ,{})}),n.jsx(Tt,{path:"/test-signature",element:n.jsx(PJ,{})}),n.jsx(Tt,{path:"/brand",element:n.jsx(QJ,{})}),n.jsx(Tt,{path:"/inicio",element:n.jsx(MJ,{})}),n.jsxs(Tt,{path:"/paciente",element:n.jsx(OX,{children:n.jsx(BT,{})}),children:[n.jsx(Tt,{index:!0,element:n.jsx(Ea,{to:"perfil",replace:!0})}),n.jsx(Tt,{path:"perfil",element:n.jsx(i$,{})}),n.jsx(Tt,{path:"prontuario",element:n.jsx(u$,{})}),n.jsx(Tt,{path:"consultas",element:n.jsx(v$,{})}),n.jsx(Tt,{path:"consultas/nova",element:n.jsx(KX,{})}),n.jsx(Tt,{path:"exames",element:n.jsx(w$,{})}),n.jsx(Tt,{path:"historico-medico",element:n.jsx(b$,{})}),n.jsx(Tt,{path:"medicos",element:n.jsx(j$,{})}),n.jsx(Tt,{path:"receitas",element:n.jsx(F$,{})}),n.jsx(Tt,{path:"configuracoes",element:n.jsx(Gw,{})})]}),n.jsxs(Tt,{path:"/medico",element:n.jsx(MX,{children:n.jsx(CT,{})}),children:[n.jsx(Tt,{index:!0,element:n.jsx(Ea,{to:"dashboard",replace:!0})}),n.jsx(Tt,{path:"dashboard",element:n.jsx(KY,{})}),n.jsx(Tt,{path:"meus-pacientes",element:n.jsx(VY,{})}),n.jsx(Tt,{path:"minhas-consultas",element:n.jsx(zY,{})}),n.jsx(Tt,{path:"consultas/hoje",element:n.jsx(iX,{})}),n.jsx(Tt,{path:"solicitacoes",element:n.jsx(oX,{})}),n.jsx(Tt,{path:"paciente/:id/perfil",element:n.jsx(qY,{})}),n.jsx(Tt,{path:"paciente/:id/prontuario",element:n.jsx(WY,{})}),n.jsx(Tt,{path:"paciente/:id/exames",element:n.jsx(GY,{})}),n.jsx(Tt,{path:"paciente/:id/receitas",element:n.jsx(mX,{})}),n.jsx(Tt,{path:"paciente/:id/iniciar-consulta",element:n.jsx(YY,{})}),n.jsx(Tt,{path:"paciente/:id/consulta/resumo",element:n.jsx(hX,{})}),n.jsx(Tt,{path:"paciente/:id/receita/preview",element:n.jsx(AX,{})}),n.jsx(Tt,{path:"paciente/:id/receita/confirmacao",element:n.jsx(dX,{})}),n.jsx(Tt,{path:"configuracoes",element:n.jsx(Gw,{})})]}),n.jsxs(Tt,{path:"/clinica",element:n.jsx(TX,{children:n.jsx(V_,{})}),children:[n.jsx(Tt,{index:!0,element:n.jsx(Ea,{to:"dashboard",replace:!0})}),n.jsx(Tt,{path:"dashboard",element:n.jsx(pX,{})}),n.jsx(Tt,{path:"calendario",element:n.jsx(vX,{})}),n.jsx(Tt,{path:"disponibilidade",element:n.jsx(yX,{})}),n.jsx(Tt,{path:"exames",element:n.jsx(bX,{})}),n.jsx(Tt,{path:"pacientes",element:n.jsx(jX,{})}),n.jsx(Tt,{path:"medicos",element:n.jsx(NX,{})}),n.jsx(Tt,{path:"relatorios",element:n.jsx(BX,{})}),n.jsx(Tt,{path:"configuracoes",element:n.jsx(CX,{})})]}),n.jsxs(Tt,{path:"/admin",element:n.jsx(HX,{children:n.jsx(ST,{})}),children:[n.jsx(Tt,{index:!0,element:n.jsx(Ea,{to:"dashboard",replace:!0})}),n.jsx(Tt,{path:"dashboard",element:n.jsx(SX,{})}),n.jsx(Tt,{path:"solicitacoes",element:n.jsx(_X,{})}),n.jsx(Tt,{path:"solicitacoes/:id",element:n.jsx(EX,{})}),n.jsx(Tt,{path:"relatorios",element:n.jsx(UX,{})}),n.jsx(Tt,{path:"auditoria",element:n.jsx(LX,{})}),n.jsx(Tt,{path:"usuarios",element:n.jsx(VX,{})}),n.jsx(Tt,{path:"clinicas",element:n.jsx(zX,{})}),n.jsx(Tt,{path:"configuracoes",element:n.jsx(qX,{})})]}),n.jsxs(Tt,{path:"/secretaria",element:n.jsx(HT,{children:n.jsx($T,{})}),children:[n.jsx(Tt,{index:!0,element:n.jsx(Ea,{to:"dashboard",replace:!0})}),n.jsx(Tt,{path:"dashboard",element:n.jsx(YX,{})}),n.jsx(Tt,{path:"consultas",element:n.jsx(JX,{})}),n.jsx(Tt,{path:"agenda",element:n.jsx(UJ,{})}),n.jsx(Tt,{path:"pacientes",element:n.jsx(ZX,{})}),n.jsx(Tt,{path:"medicos",element:n.jsx(eJ,{})}),n.jsx(Tt,{path:"solicitacoes",element:n.jsx(b8,{})}),n.jsx(Tt,{path:"solicitacoes/:id",element:n.jsx(j8,{})}),n.jsx(Tt,{path:"configuracoes",element:n.jsx(Gw,{})})]}),n.jsx(Tt,{path:"*",element:n.jsx("div",{children:"Pgina no encontrada"})})]})})})})}function MJ(){const{isAuthenticated:e,user:r}=qo();if(!e)return n.jsx(Ea,{to:"/login",replace:!0});const t=(r==null?void 0:r.role)||(r==null?void 0:r.tipo),a=t==="admin"?"/admin/dashboard":t==="medico"?"/medico/dashboard":t==="clinica"?"/clinica/dashboard":"/paciente/perfil";return n.jsx(Ea,{to:a,replace:!0})}var Db="ToastProvider",[Ub,TJ,OJ]=cx("Toast"),[Bk,RZ]=Nl("Toast",[OJ]),[HJ,Px]=Bk(Db),Ck=e=>{const{__scopeToast:r,label:t="Notification",duration:a=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,A]=b.useState(null),[d,f]=b.useState(0),h=b.useRef(!1),m=b.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Db}\`. Expected non-empty \`string\`.`),n.jsx(Ub.Provider,{scope:r,children:n.jsx(HJ,{scope:r,label:t,duration:a,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:A,onToastAdd:b.useCallback(()=>f(p=>p+1),[]),onToastRemove:b.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};Ck.displayName=Db;var Sk="ToastViewport",$J=["F8"],p1="toast.viewportPause",g1="toast.viewportResume",_k=b.forwardRef((e,r)=>{const{__scopeToast:t,hotkey:a=$J,label:s="Notifications ({hotkey})",...i}=e,o=Px(Sk,t),l=TJ(t),A=b.useRef(null),d=b.useRef(null),f=b.useRef(null),h=b.useRef(null),m=Na(r,h,o.onViewportChange),p=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;b.useEffect(()=>{const w=y=>{var C;a.length!==0&&a.every(E=>y[E]||y.code===E)&&((C=h.current)==null||C.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[a]),b.useEffect(()=>{const w=A.current,y=h.current;if(v&&w&&y){const N=()=>{if(!o.isClosePausedRef.current){const D=new CustomEvent(p1);y.dispatchEvent(D),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const D=new CustomEvent(g1);y.dispatchEvent(D),o.isClosePausedRef.current=!1}},E=D=>{!w.contains(D.relatedTarget)&&C()},U=()=>{w.contains(document.activeElement)||C()};return w.addEventListener("focusin",N),w.addEventListener("focusout",E),w.addEventListener("pointermove",N),w.addEventListener("pointerleave",U),window.addEventListener("blur",N),window.addEventListener("focus",C),()=>{w.removeEventListener("focusin",N),w.removeEventListener("focusout",E),w.removeEventListener("pointermove",N),w.removeEventListener("pointerleave",U),window.removeEventListener("blur",N),window.removeEventListener("focus",C)}}},[v,o.isClosePausedRef]);const g=b.useCallback(({tabbingDirection:w})=>{const N=l().map(C=>{const E=C.ref.current,U=[E,...rZ(E)];return w==="forwards"?U:U.reverse()});return(w==="forwards"?N.reverse():N).flat()},[l]);return b.useEffect(()=>{const w=h.current;if(w){const y=N=>{var U,D,k;const C=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!C){const L=document.activeElement,_=N.shiftKey;if(N.target===w&&_){(U=d.current)==null||U.focus();return}const $=g({tabbingDirection:_?"backwards":"forwards"}),J=$.findIndex(M=>M===L);Yw($.slice(J+1))?N.preventDefault():_?(D=d.current)==null||D.focus():(k=f.current)==null||k.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[l,g]),n.jsxs(FI,{ref:A,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&n.jsx(x1,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Yw(w)}}),n.jsx(Ub.Slot,{scope:t,children:n.jsx(Er.ol,{tabIndex:-1,...i,ref:m})}),v&&n.jsx(x1,{ref:f,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Yw(w)}})]})});_k.displayName=Sk;var Ek="ToastFocusProxy",x1=b.forwardRef((e,r)=>{const{__scopeToast:t,onFocusFromOutsideViewport:a,...s}=e,i=Px(Ek,t);return n.jsx(nx,{tabIndex:0,...s,ref:r,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&a()}})});x1.displayName=Ek;var Vm="Toast",KJ="toast.swipeStart",VJ="toast.swipeMove",zJ="toast.swipeCancel",qJ="toast.swipeEnd",Fk=b.forwardRef((e,r)=>{const{forceMount:t,open:a,defaultOpen:s,onOpenChange:i,...o}=e,[l,A]=dd({prop:a,defaultProp:s??!0,onChange:i,caller:Vm});return n.jsx(hc,{present:t||l,children:n.jsx(YJ,{open:l,...o,ref:r,onClose:()=>A(!1),onPause:Si(e.onPause),onResume:Si(e.onResume),onSwipeStart:Lt(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Lt(e.onSwipeMove,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Lt(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Lt(e.onSwipeEnd,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),A(!1)})})})});Fk.displayName=Vm;var[WJ,GJ]=Bk(Vm,{onClose(){}}),YJ=b.forwardRef((e,r)=>{const{__scopeToast:t,type:a="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:A,onResume:d,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:p,...v}=e,g=Px(Vm,t),[w,y]=b.useState(null),N=Na(r,M=>y(M)),C=b.useRef(null),E=b.useRef(null),U=s||g.duration,D=b.useRef(0),k=b.useRef(U),L=b.useRef(0),{onToastAdd:_,onToastRemove:Y}=g,I=Si(()=>{var re;(w==null?void 0:w.contains(document.activeElement))&&((re=g.viewport)==null||re.focus()),o()}),$=b.useCallback(M=>{!M||M===1/0||(window.clearTimeout(L.current),D.current=new Date().getTime(),L.current=window.setTimeout(I,M))},[I]);b.useEffect(()=>{const M=g.viewport;if(M){const re=()=>{$(k.current),d==null||d()},K=()=>{const G=new Date().getTime()-D.current;k.current=k.current-G,window.clearTimeout(L.current),A==null||A()};return M.addEventListener(p1,K),M.addEventListener(g1,re),()=>{M.removeEventListener(p1,K),M.removeEventListener(g1,re)}}},[g.viewport,U,A,d,$]),b.useEffect(()=>{i&&!g.isClosePausedRef.current&&$(U)},[i,U,g.isClosePausedRef,$]),b.useEffect(()=>(_(),()=>Y()),[_,Y]);const J=b.useMemo(()=>w?Qk(w):null,[w]);return g.viewport?n.jsxs(n.Fragment,{children:[J&&n.jsx(XJ,{__scopeToast:t,role:"status","aria-live":a==="foreground"?"assertive":"polite",children:J}),n.jsx(WJ,{scope:t,onClose:I,children:Vf.createPortal(n.jsx(Ub.ItemSlot,{scope:t,children:n.jsx(EI,{asChild:!0,onEscapeKeyDown:Lt(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Er.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:N,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Lt(e.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Lt(e.onPointerDown,M=>{M.button===0&&(C.current={x:M.clientX,y:M.clientY})}),onPointerMove:Lt(e.onPointerMove,M=>{if(!C.current)return;const re=M.clientX-C.current.x,K=M.clientY-C.current.y,G=!!E.current,z=["left","right"].includes(g.swipeDirection),Z=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Ae=z?Z(0,re):0,ee=z?0:Z(0,K),R=M.pointerType==="touch"?10:2,q={x:Ae,y:ee},te={originalEvent:M,delta:q};G?(E.current=q,vg(VJ,h,te,{discrete:!1})):o5(q,g.swipeDirection,R)?(E.current=q,vg(KJ,f,te,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(re)>R||Math.abs(K)>R)&&(C.current=null)}),onPointerUp:Lt(e.onPointerUp,M=>{const re=E.current,K=M.target;if(K.hasPointerCapture(M.pointerId)&&K.releasePointerCapture(M.pointerId),E.current=null,C.current=null,re){const G=M.currentTarget,z={originalEvent:M,delta:re};o5(re,g.swipeDirection,g.swipeThreshold)?vg(qJ,p,z,{discrete:!0}):vg(zJ,m,z,{discrete:!0}),G.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),XJ=e=>{const{__scopeToast:r,children:t,...a}=e,s=Px(Vm,r),[i,o]=b.useState(!1),[l,A]=b.useState(!1);return eZ(()=>o(!0)),b.useEffect(()=>{const d=window.setTimeout(()=>A(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(Em,{asChild:!0,children:n.jsx(nx,{...a,children:i&&n.jsxs(n.Fragment,{children:[s.label," ",t]})})})},JJ="ToastTitle",kk=b.forwardRef((e,r)=>{const{__scopeToast:t,...a}=e;return n.jsx(Er.div,{...a,ref:r})});kk.displayName=JJ;var ZJ="ToastDescription",Dk=b.forwardRef((e,r)=>{const{__scopeToast:t,...a}=e;return n.jsx(Er.div,{...a,ref:r})});Dk.displayName=ZJ;var Uk="ToastAction",Lk=b.forwardRef((e,r)=>{const{altText:t,...a}=e;return t.trim()?n.jsx(Pk,{altText:t,asChild:!0,children:n.jsx(Lb,{...a,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${Uk}\`. Expected non-empty \`string\`.`),null)});Lk.displayName=Uk;var Ik="ToastClose",Lb=b.forwardRef((e,r)=>{const{__scopeToast:t,...a}=e,s=GJ(Ik,t);return n.jsx(Pk,{asChild:!0,children:n.jsx(Er.button,{type:"button",...a,ref:r,onClick:Lt(e.onClick,s.onClose)})})});Lb.displayName=Ik;var Pk=b.forwardRef((e,r)=>{const{__scopeToast:t,altText:a,...s}=e;return n.jsx(Er.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...s,ref:r})});function Qk(e){const r=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&r.push(a.textContent),tZ(a)){const s=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=a.dataset.radixToastAnnounceAlt;o&&r.push(o)}else r.push(...Qk(a))}}),r}function vg(e,r,t,{discrete:a}){const s=t.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t});r&&s.addEventListener(e,r,{once:!0}),a?L1(s,i):s.dispatchEvent(i)}var o5=(e,r,t=0)=>{const a=Math.abs(e.x),s=Math.abs(e.y),i=a>s;return r==="left"||r==="right"?i&&a>t:!i&&s>t};function eZ(e=()=>{}){const r=Si(e);ps(()=>{let t=0,a=0;return t=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(a)}},[r])}function tZ(e){return e.nodeType===e.ELEMENT_NODE}function rZ(e){const r=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)r.push(t.currentNode);return r}function Yw(e){const r=document.activeElement;return e.some(t=>t===r?!0:(t.focus(),document.activeElement!==r))}var aZ=Ck,Rk=_k,Mk=Fk,Tk=kk,Ok=Dk,Hk=Lk,$k=Lb;const nZ=aZ,Kk=b.forwardRef(({className:e,...r},t)=>n.jsx(Rk,{ref:t,className:ct("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r}));Kk.displayName=Rk.displayName;const sZ=$0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Vk=b.forwardRef(({className:e,variant:r,...t},a)=>n.jsx(Mk,{ref:a,className:ct(sZ({variant:r}),e),...t}));Vk.displayName=Mk.displayName;const iZ=b.forwardRef(({className:e,...r},t)=>n.jsx(Hk,{ref:t,className:ct("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...r}));iZ.displayName=Hk.displayName;const zk=b.forwardRef(({className:e,...r},t)=>n.jsx($k,{ref:t,className:ct("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:n.jsx(U1,{className:"h-4 w-4"})}));zk.displayName=$k.displayName;const qk=b.forwardRef(({className:e,...r},t)=>n.jsx(Tk,{ref:t,className:ct("text-sm font-semibold",e),...r}));qk.displayName=Tk.displayName;const Wk=b.forwardRef(({className:e,...r},t)=>n.jsx(Ok,{ref:t,className:ct("text-sm opacity-90",e),...r}));Wk.displayName=Ok.displayName;function oZ(){const{toasts:e}=Ka();return n.jsxs(nZ,{children:[e.map(({id:r,title:t,description:a,action:s,...i})=>n.jsxs(Vk,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[t&&n.jsx(qk,{children:t}),a&&n.jsx(Wk,{children:a})]}),s,n.jsx(zk,{})]},r)),n.jsx(Kk,{})]})}const Gk="1.0.0";try{typeof window<"u"&&(window.__APP_VERSION__=Gk)}catch{}try{console.info(`[MedicineFront] Verso do commit: ${Gk}`)}catch{}u5.createRoot(document.getElementById("root")).render(n.jsxs(TR,{defaultTheme:"system",storageKey:"medicinefront-theme",children:[n.jsx(RJ,{}),n.jsx(oZ,{})]}));export{Ha as _,ye as a,cZ as c,A5 as g};
